---
layout: post
title: "微信小程序开发-首页及详情页开发"
date: 2024-12-04 10:08:35 +0800
description: "一、常用组件在之前的封装请求数据的模块中请求轮播图的数据1.首页轮播图数据的请求以及渲染1.轮播图数"
keywords: "data.bannerurl.push"
categories: ['微信小程序']
tags: ['小程序']
artid: "109254327"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=109254327
    alt: "微信小程序开发-首页及详情页开发"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=109254327
featuredImagePreview: https://bing.ee123.net/img/rand?artid=109254327
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     微信小程序开发--首页及详情页开发
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="_0">
     </a>
     一、常用组件
    </h2>
    <p>
     在之前的
     <strong>
      封装请求数据的模块
     </strong>
     中请求轮播图的数据
    </p>
    <h3>
     <a id="1_4">
     </a>
     1.首页轮播图数据的请求以及渲染
    </h3>
    <h5>
     <a id="1pagesindexindexjs_6">
     </a>
     1.轮播图数据的请求
     <code>
      pages/index/index.js
     </code>
    </h5>
    <pre><code class="prism language-javascript">data<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    bannerlist<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token comment">//存放轮播图数据的列表</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
onLoad<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//请求首页轮播图的数据</span>
    <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        url <span class="token punctuation">:</span> <span class="token string">'/banner'</span> <span class="token comment">//注意接口不要写错</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
        <span class="token comment">// 在Vue中，this.bannerist = res.data.data</span>
        <span class="token comment">// 在React中，this.setState(bannerlist: res.data.data)</span>
        <span class="token comment">// 在小程序中修改状态的方式就是this.setData</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token comment">//将获取到的数据保存到本地变量中</span>
          bannerlist<span class="token punctuation">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     同理之前通过
     <code>
      /pro
     </code>
     接口获取到的商品列表的数据也可以通过
     <code>
      this.setData
     </code>
     来保存本地：
    </p>
    <pre><code class="prism language-javascript">data<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    bannerlist<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment">//存放轮播图数据的列表</span>
    prolist<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">//存放商品数据的列表</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token operator">...</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> 
    prolist<span class="token punctuation">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     为了代码更加直白美观，可以将获取商品列表数据和请求轮播图数据另外
     <strong>
      封装在自定义方法
     </strong>
     中，然后在
     <code>
      onLoad
     </code>
     中调用就可以了：
    </p>
    <pre><code class="prism language-javascript">onLoad<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 请求轮播图数据</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getBannerlistData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 请求商品列表数据</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getProlistData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token operator">...</span>
<span class="token comment">//请求轮播图数据</span>
<span class="token function">getBannerlistData</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    url <span class="token punctuation">:</span> <span class="token string">'/banner'</span> 
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token comment">// 在Vue中，this.bannerist = res.data.data</span>
    <span class="token comment">// 在React中，this.setState(bannerlist: res.data.data)</span>
    <span class="token comment">// 在小程序中修改状态的方式就是this.setData</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token comment">//将获取到的数据保存到本地变量中</span>
    bannerlist<span class="token punctuation">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment">//可以省略catch方法，。没有关系</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//请求商品列表数据</span>
  <span class="token function">getProlistData</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      url <span class="token punctuation">:</span> <span class="token string">'/pro'</span><span class="token punctuation">,</span>
      data <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//then是请求成功后的处理方法</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> 
      prolist<span class="token punctuation">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//catch是请求失败后的处理方法</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="3____swiper_81">
     </a>
     3.使用组件 - 视图容器 -
     <code>
      swiper
     </code>
    </h3>
    <p>
     滑块视图容器。其中
     <strong>
      只可放置
     </strong>
     <code>
      swiper-item
     </code>
     组件，否则会导致未定义的行为。 一些属性见官方文档：
     <a href="https://developers.weixin.qq.com/miniprogram/dev/component/swiper.html" rel="nofollow">
      小程序官方文档–swiper
     </a>
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>swiper</span>
  <span class="token attr-name">indicator-dots</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{<!-- -->{true}}<span class="token punctuation">"</span></span> <span class="token attr-name">autoplay</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{<!-- -->{true}}<span class="token punctuation">"</span></span> <span class="token attr-name">circular</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{<!-- -->{true}}<span class="token punctuation">"</span></span> 
  <span class="token attr-name">duration</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{<!-- -->{500}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- wx:key=""不知道写啥的话可以写*this，指的就是自己 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{<!-- -->{bannerlist}}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>swiper-item</span> <span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{<!-- -->{item.img}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>swiper-item</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>swiper</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prolist</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prolist</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <blockquote>
     <p>
      注意：上面的
      <code>
       item.img
      </code>
      是根据获取到的数据结构来判断的，不能直接写
      <code>
       item
      </code>
      ，因为
      <code>
       item
      </code>
      指的是每一行的数据，我们要的仅仅是图片数据，所以只需要选取其
      <strong>
       路径
      </strong>
      <code>
       item.img
      </code>
      就可以了。
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/ba88a19f7a4d346c78dd07b15067d0b5.png#pic_center"/>
     </p>
    </blockquote>
    <blockquote>
     <p>
      如果碰到图片
      <strong>
       显示不全
      </strong>
      或者
      <strong>
       没有铺满屏幕
      </strong>
      的情况，在
      <code>
       wxss
      </code>
      中设置一下即可，例如铺满屏幕：
     </p>
     <pre><code class="prism language-css"><span class="token selector">image</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
     <p>
      更多设置图片格式的方法：
      <a href="https://developers.weixin.qq.com/miniprogram/dev/component/image.html" rel="nofollow">
       关于图片的其它一些属性
      </a>
     </p>
    </blockquote>
    <p>
     轮播图的使用就到此为止。
    </p>
    <h2>
     <a id="___114">
     </a>
     二、自定义组件 - 产品列表
    </h2>
    <h3>
     <a id="1_116">
     </a>
     1.自定义组件的布局
    </h3>
    <p>
     <code>
      components/prolist/prolist.wxml
     </code>
     列表组件
     <code>
      prolist
     </code>
     的布局：
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>prolist<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>proitem<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>itemimg<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>img<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>iteminfo<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        产品名称
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>price<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        ￥199
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <h3>
     <a id="2_138">
     </a>
     2.自定义组件的样式
    </h3>
    <p>
     <code>
      components/prolist/prolist.wxss
     </code>
     列表组件
     <code>
      prolist
     </code>
     的样式：
    </p>
    <pre><code class="prism language-css"><span class="token selector">.prolist .proitem</span><span class="token punctuation">{<!-- --></span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
  <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.prolist .proitem .itemimg</span><span class="token punctuation">{<!-- --></span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.prolist .proitem .itemimg .img</span><span class="token punctuation">{<!-- --></span>
  <span class="token property">width</span><span class="token punctuation">:</span> 90px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 90px<span class="token punctuation">;</span>
  <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.prolist .proitem .iteminfo</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.prolist .proitem .iteminfo .title</span><span class="token punctuation">{<!-- --></span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.prolist .proitem .iteminfo .price</span><span class="token punctuation">{<!-- --></span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="3_178">
     </a>
     3.首页请求数据，并且传递给子组件
    </h3>
    <p>
     <code>
      pages/index/index.js
     </code>
     ：
    </p>
    <p>
     首页请求数据就是之前自定义的两个方法
     <code>
      getBannerlistData ()
     </code>
     和
     <code>
      getProlistData ()
     </code>
    </p>
    <p>
     <code>
      pages/index/index.wxml
     </code>
     ：
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prolist</span> <span class="token attr-name">prolist</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{<!-- -->{prolist}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prolist</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <p>
     <code>
      vue
     </code>
     父组件给子组件传值：
    </p>
    <blockquote>
     <p>
      父组件调用子组件的地方，添加一个自定义的属性，属性的值就是父组件要传递给子组件的值
     </p>
     <p>
      如果属性的值是
      <code>
       变量
      </code>
      ，
      <code>
       boolean
      </code>
      ，
      <code>
       numder
      </code>
      ，就需要绑定属性
     </p>
     <p>
      子组件定义的地方，添加一个
      <code>
       props
      </code>
      选项，
      <code>
       props
      </code>
      的值是一个数组或者对象
     </p>
     <ol>
      <li>
       <p>
        如果是数组，数组的元素就是添加的属性名，可以在组件中通过此属性名访问数据
       </p>
      </li>
      <li>
       <p>
        如果是对象，有两种形式：
       </p>
       <p>
        2.1.
        <code>
         key
        </code>
        值为自定义的属性名，
        <code>
         value
        </code>
        值为数据类型
       </p>
       <p>
        2.2.
        <code>
         key
        </code>
        值为自定义的属性名，
        <code>
         value
        </code>
        值为一个对象，该对象有两个选项，一个为
        <code>
         type
        </code>
        (数据类型)，另一个为
        <code>
         default
        </code>
        (默认值)，如果默认值是对象或者数组，需要把
        <code>
         default
        </code>
        写成一个函数，返回对象或数组
       </p>
      </li>
     </ol>
    </blockquote>
    <p>
     在小程序中：
    </p>
    <blockquote>
     <p>
      父组件调用子组件的地方，添加一个自定义的属性，属性的值就是父组件要传递给子组件的值
     </p>
     <p>
      如果属性的值是
      <code>
       变量
      </code>
      ，
      <code>
       boolean
      </code>
      ，
      <code>
       numder
      </code>
      ，就需要用
      <code>
       {
       <!-- -->
       {}}
      </code>
      包裹
     </p>
     <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prolist</span> <span class="token attr-name">prolist</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{<!-- -->{ prolist }}<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre>
     <p>
      子组件定义的地方，添加一个
      <code>
       properties
      </code>
      选项，
      <code>
       properties
      </code>
      的值是一个数组或者对象
     </p>
     <p>
      key为自定义的属性名，value值为数据类型：
     </p>
     <pre><code class="prism language-javascript">properties<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
	prolist<span class="token punctuation">:</span>Array 
<span class="token punctuation">}</span>
</code></pre>
     <p>
      可以在组件中通过此属性名访问数据
     </p>
    </blockquote>
    <h3>
     <a id="4_228">
     </a>
     4.子组件接收数据
    </h3>
    <p>
     <code>
      components/prolist/prolist.js
     </code>
     ：
    </p>
    <pre><code class="prism language-javascript"><span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">/**
   * 组件的属性列表
   */</span>
  properties<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    prolist<span class="token punctuation">:</span> Array
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="5_243">
     </a>
     5.子组件渲染数据
    </h3>
    <p>
     <code>
      components/prolist/prolist.wxml
     </code>
     ：
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>prolist<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>proitem<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{<!-- -->{prolist}}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item.proid<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>itemimg<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>img<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{<!-- -->{item.proimg}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>iteminfo<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        {<!-- -->{item.proname}}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>price<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        ￥{<!-- -->{item.price}}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <h2>
     <a id="_265">
     </a>
     三、实现下拉刷新上拉加载
    </h2>
    <h3>
     <a id="1_267">
     </a>
     1.开启首页的下拉刷新功能
    </h3>
    <p>
     <code>
      pages/index/index.json
     </code>
     ：
    </p>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
  <span class="token string">"usingComponents"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"prolist"</span><span class="token punctuation">:</span> <span class="token string">"/components/prolist/prolist"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"enablePullDownRefresh"</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//实现下拉刷新</span>
  <span class="token string">"backgroundColor"</span><span class="token punctuation">:</span> <span class="token string">"#efefef"</span><span class="token punctuation">,</span>
  <span class="token string">"backgroundTextStyle"</span><span class="token punctuation">:</span> <span class="token string">"dark"</span>
<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="2_282">
     </a>
     2.完善相关的下拉刷新函数
    </h3>
    <p>
     <code>
      pages/index/index.js
     </code>
     ：
    </p>
    <pre><code class="prism language-javascript"><span class="token comment">//页面相关事件处理函数---监听用户下拉刷新事件(重新请求了第一页的页面数据)</span>
  onPullDownRefresh<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"刷新了当前页面"</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRefreshData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//下拉刷新之后重新请求第一页的数据</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//上拉触底事件函数</span>
  <span class="token comment">/**
   * 上拉加载---分页效果，例如开始是第一页10条数据，下拉到底之后再向数据库中请求后10条数据显示出来，这个过程需要页码
   */</span>
  onReachBottom<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"对不起已经到底了"</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">requestMoreData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token operator">...</span>
<span class="token comment">// 下拉刷新后重新请求第一页的数据</span>
  <span class="token function">getRefreshData</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      url <span class="token punctuation">:</span> <span class="token string">'/pro'</span><span class="token punctuation">,</span>
      data <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
        pageCode<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 页码默认从0开始</span>
        limitNum<span class="token punctuation">:</span> <span class="token number">10</span> <span class="token comment">//每一页默认10条数据</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//then是请求成功后的处理方法</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> 
        prolist<span class="token punctuation">:</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data，
        pageCode<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token comment">//下拉刷新之后切记 要将页码重新置为0</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token comment">// 真机测试的时候，在下拉刷新结束后需要 停止 下拉刷新的操作</span>
      wx<span class="token punctuation">.</span><span class="token function">stopPullDownRefresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//catch是请求失败后的处理方法</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 上拉触底后再次请求更多的数据显示(翻页)</span>
  <span class="token function">requestMoreData</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      url <span class="token punctuation">:</span> <span class="token string">'/pro'</span><span class="token punctuation">,</span>
      data <span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
        pageCode<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>pageCode<span class="token punctuation">,</span> <span class="token comment">// 页码默认从0开始</span>
        limitNum<span class="token punctuation">:</span> <span class="token number">10</span> <span class="token comment">//每一页默认10条数据</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//then是请求成功后的处理方法</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
      <span class="token comment">// 请求之后需要判断</span>
      <span class="token comment">// 1.判断还有没有数据</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token string">'10000'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 没有更多数据了，要给用户提示信息</span>
        <span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>title<span class="token punctuation">:</span> <span class="token string">'没有更多数据了'</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 这里toast的参数必须是对象类型</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 2.如果有数据---请求到的数据追加到之前的数据上</span>
        <span class="token comment">// vue 中， thisprolist = [...this.prolist,res.data.data]</span>
        <span class="token comment">// 小程序中 修改数据的方式类似于 React</span>
        <span class="token comment">// React 获取数据  处理数据  修改数据(状态)</span>
        <span class="token comment">// 3.每一次请求完成页码要+1</span>
        <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>prolist <span class="token comment">//获取数据 </span>
        <span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>pageCode <span class="token comment">//获取页码</span>
        <span class="token keyword">let</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arr<span class="token punctuation">,</span><span class="token operator">...</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">]</span> <span class="token comment">//处理数据</span>
        num <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>  <span class="token comment">//修改数据</span>
          prolist<span class="token punctuation">:</span> list<span class="token punctuation">,</span>
          pageCode<span class="token punctuation">:</span> num
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_355">
     </a>
     四、返回顶部功能实现
    </h2>
    <pre><code class="prism language-html"><span class="token comment">&lt;!-- 返回顶部按钮 --&gt;</span>
<span class="token comment">&lt;!-- 绑定事件 --&gt;</span>
<span class="token comment">&lt;!-- 小程序中有两种绑定事件的方法---移动端尽量不使用click事件，建议使用tap事件，或者用touch代替click事件 
  bindtap：
  catchtap：组织冒泡
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>backtop<span class="token punctuation">"</span></span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>backtop<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>返回顶部<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <p>
     <code>
      CSS
     </code>
     样式文件：
    </p>
    <pre><code class="prism language-CSS">.backtop {
  position: fixed;
  bottom: 20px;
  right: 10px;
  border-radius: 5px;
  background-color: #f66;
}
</code></pre>
    <p>
     <code>
      pages/index/index.js
     </code>
     ：
    </p>
    <pre><code class="prism language-javascript">backtop<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 小程序api 的界面 - 滚动</span>
    wx<span class="token punctuation">.</span><span class="token function">pageScrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        scrollTop<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        duration<span class="token punctuation">:</span> <span class="token number">300</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_391">
     </a>
     五、实现点击商品列表进入产品的详情页面
    </h2>
    <h3>
     <a id="1_393">
     </a>
     1.构建详情页面
    </h3>
    <pre><code class="prism language-json"><span class="token string">"pages"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
  <span class="token string">"pages/detail/detail"</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre>
    <h3>
     <a id="2_401">
     </a>
     2.声明式导航跳转
    </h3>
    <blockquote>
     <pre><code class="prism language-html"><span class="token comment">&lt;!-- 首页商品列表点击进入详情页面vue和React
 1.声明式导航
   vue &lt;router-Link&gt;&lt;/router-Link&gt;
   React &lt;Link&gt;&lt;/Link&gt;  &lt;NavLink&gt;&lt;/NavLink&gt;
 2.编程式导航
   new Vue ({router ,store ,el:' ' })
   vue  this.$router.push()  replace()  go()  back()
   React this.props.history.push()
--&gt;</span>
<span class="token comment">&lt;!-- 小程序中的点击进入详情页面
   1.声明式导航---标签跳转---&lt;a&gt;&lt;/a&gt;
   https://developers.weixin.qq.com/miniprogram/dev/component/navigator.html
   格式为：&lt;navigator url=" " open-type=" " &gt;&lt;/navigator&gt;
   open-type:
     navigate：保留当前页面，新添加一个页面，不能添加tab页面--push
     redirect：替换当前页面，不能替换tab页面--replace
     switchTab：切换当前的tab页面--小程序特有
     navigateBack：返回--back，goBack
   2.编程式导航---JS跳转---window.location.href=""
   https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.switchTab.html
 --&gt;</span>
</code></pre>
    </blockquote>
    <p>
     <a href="https://developers.weixin.qq.com/miniprogram/dev/component/navigator.html" rel="nofollow">
      小程序 组件-导航-navigator
     </a>
    </p>
    <pre><code class="prism language-html"><span class="token comment">&lt;!-- 声明式导航 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>prolist<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 因为每一个商品列表都有跳转功能，循环遍历时要用在navigator上面 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>navigator</span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/pages/detail/detail<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{<!-- -->{prolist}}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item.proid<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>proitem<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>itemimg<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>img<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{<!-- -->{item.proimg}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>iteminfo<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{<!-- -->{item.proname}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>number<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>目前已售出{<!-- -->{item.sales}}件 / 剩余{<!-- -->{item.stock}}件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>price<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>￥{<!-- -->{item.price}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>navigator</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <h3>
     <a id="3_448">
     </a>
     3.详情页面接收数据并且渲染数据
    </h3>
    <p>
     在小程序中
     <strong>
      向目标页面传递参数
     </strong>
     使用的是：
     <code>
      /../..?+参数
     </code>
     ，例如：
    </p>
    <pre><code class="prism language-html">url="{<!-- -->{'/pages/detail/detail?proid='+item.proid}}"
</code></pre>
    <p>
     在目标页面的
     <code>
      onLoad
     </code>
     函数中的参数
     <code>
      options
     </code>
     就是传递过来的参数。
     <code>
      pages/detail/detail.js
     </code>
     ：
    </p>
    <pre><code class="prism language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> request <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./../../utils/index.js'</span>
<span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
<span class="token operator">...</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    proid<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 在商品加入购物车时必须要用到的proid</span>
    proname<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    proimg<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    desc<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    price<span class="token punctuation">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  onLoad<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
    <span class="token comment">// 获取传递过来的参数值proid</span>
    <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> proid <span class="token punctuation">}</span> <span class="token operator">=</span> options
    <span class="token comment">// 请求产品详情的数据</span>
    <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      url<span class="token punctuation">:</span><span class="token string">'/pro/detail?proid='</span> <span class="token operator">+</span> proid
      <span class="token comment">// url:'/pro/detail?proid=${proid}'</span>

    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
      <span class="token comment">// 解构赋值</span>
      <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> proid<span class="token punctuation">,</span> proname<span class="token punctuation">,</span> price<span class="token punctuation">,</span> proimg<span class="token punctuation">,</span> desc<span class="token punctuation">}</span> <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data
      <span class="token comment">// const { data:{proid, proname, price, proimg, desc}} = res.data</span>
      <span class="token comment">// 修改状态</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        proid<span class="token punctuation">,</span> proname<span class="token punctuation">,</span> price<span class="token punctuation">,</span> proimg<span class="token punctuation">,</span> desc
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     <code>
      pages/detail/detail.wxml
     </code>
     ：
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{<!-- -->{proimg}}<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{<!-- -->{proname}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>￥{<!-- -->{price}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{<!-- -->{desc}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <h3>
     <a id="4_502">
     </a>
     4.编程式导航渲染
    </h3>
    <p>
     使用小程序提供的api实现
     <a href="https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.switchTab.html" rel="nofollow">
      编程式路由的跳转
     </a>
     ：
    </p>
    <p>
     <code>
      wx.switchTab(Object object)
     </code>
    </p>
    <p>
     跳转到
     <code>
      tabBar
     </code>
     页面，并关闭其他所有非
     <code>
      tabBar
     </code>
     页面。
    </p>
    <p>
     <code>
      wx.reLaunch(Object object)
     </code>
    </p>
    <p>
     关闭所有页面，打开到应用内的某个页面。
    </p>
    <p>
     <code>
      wx.redirectTo(Object object)
     </code>
    </p>
    <p>
     关闭当前页面，跳转到应用内的某个页面。但是不允许跳转到
     <code>
      tabbar
     </code>
     页面。
    </p>
    <p>
     <code>
      wx.navigateTo(Object object)
     </code>
    </p>
    <p>
     <strong>
      保留当前页面(会保存在页面栈中)
     </strong>
     ，跳转到应用内的某个页面。但是不能跳到
     <code>
      tabbar
     </code>
     页面。使用
     <code>
      wx.navigateBack
     </code>
     可以返回到原页面。小程序中
     <strong>
      页面栈
     </strong>
     最多十层。
    </p>
    <p>
     <code>
      wx.navigateBack(Object object)
     </code>
    </p>
    <p>
     关闭当前页面，返回上一页面或多级页面。可通过
     <code>
      getCurrentPages
     </code>
     获取当前的页面栈，决定需要返回几层。
    </p>
    <blockquote>
     <p>
      小程序传递数据使用
      <code>
       data-params
      </code>
      形式，可以在事件中根据
      <code>
       event
      </code>
      获取该参数，用
      <code>
       bindtap
      </code>
      来绑定单击事件
     </p>
    </blockquote>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>prolist<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>proitem<span class="token punctuation">"</span></span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>toDetail<span class="token punctuation">"</span></span> <span class="token attr-name">data-proid</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{<!-- -->{item.proid}}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{<!-- -->{prolist}}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item.proid<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>itemimg<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>img<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{<!-- -->{item.proimg}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>iteminfo<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{<!-- -->{item.proname}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>number<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>目前已售出{<!-- -->{item.sales}}件 / 剩余{<!-- -->{item.stock}}件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>price<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>￥{<!-- -->{item.price}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <p>
     <code>
      components/prolist/prolist.js
     </code>
     ：
    </p>
    <pre><code class="prism language-javascript"><span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
<span class="token operator">...</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">toDetail</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'跳转到详情页面'</span><span class="token punctuation">,</span>event<span class="token punctuation">)</span>
      <span class="token comment">// 获取到产品id</span>
      <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> proid <span class="token punctuation">}</span> <span class="token operator">=</span> event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>dataset
      <span class="token comment">// 编程式导航</span>
      <span class="token comment">// 如果跳转的是tab页面，可以使用switchTab 或者 reLuanch</span>
      <span class="token comment">// 如果跳转的是非tab页面，可以使用 redirectTo 或者 navigateTo 或者 reLuanch</span>
      <span class="token comment">//1.navigateTo</span>
      wx<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        url<span class="token punctuation">:</span> <span class="token string">'/pages/detail/detail?proid='</span> <span class="token operator">+</span> proid
        <span class="token comment">// url: '/pages/detail/detail?proid=${proid}'   这种写法无法解析</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token comment">//2.redirectTo  页面的左上角没有了返回按钮</span>
      <span class="token comment">// wx.redirectTo({<!-- --></span>
      <span class="token comment">//   url: '/pages/detail/detail?proid=' + proid</span>
      <span class="token comment">// })</span>
      <span class="token comment">//3.reLuanch</span>
      <span class="token comment">// wx.reLaunch({<!-- --></span>
      <span class="token comment">//   url: '/pages/detail/detail?proid=' + proid</span>
      <span class="token comment">// })</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <blockquote>
     <p>
      关于
      <code>
       getCurrentPages
      </code>
      的用法：
     </p>
     <p>
      在
      <code>
       detail.js
      </code>
      中
     </p>
     <pre><code>onShow: function () {
console.log(getCurrentPages())
// console.log(getCurrentPages()[getCurrentPages().length-1])  输出当前页面(即当前自己页面)
// console.log(getCurrentPages()[getCurrentPages().length-2])  输出首页(即上一个页面)
// console.log(getCurrentPages()[getCurrentPages().length-3])  undefined，因为数组中只有两个元素
},
</code></pre>
     <p>
      <code>
       length-1
      </code>
      对应的就是当前页面，
      <code>
       length-2
      </code>
      就是(页面栈)上一个页面，以此类推。
     </p>
    </blockquote>
    <p>
     如果详情页面的
     <strong>
      数据量处理特别多
     </strong>
     ，可以将获取数据
     <strong>
      抽离出来，封装成方法
     </strong>
     ：
    </p>
    <pre><code class="prism language-javascript"><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    url<span class="token punctuation">:</span><span class="token string">'/pro/detail?proid='</span> <span class="token operator">+</span> proid
    <span class="token comment">// url:'/pro/detail?proid=${proid}'  这种写法无法解析</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDetailData</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span>proid<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">...</span>
<span class="token comment">// 将then之后获取数据成功后的方法进行封装</span>
<span class="token function">getDetailData</span> <span class="token punctuation">(</span>res<span class="token punctuation">,</span>proid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
    <span class="token comment">// 解构赋值</span>
    <span class="token comment">// 此处proid不需要从接口中获取自己内部已经有了</span>
    <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> proname<span class="token punctuation">,</span> price<span class="token punctuation">,</span> proimg<span class="token punctuation">,</span> desc<span class="token punctuation">}</span> <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data
    <span class="token comment">// const { data:{proid, proname, price, proimg, desc}} = res.data</span>
    <span class="token comment">// 修改状态</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        proid<span class="token punctuation">,</span> proname<span class="token punctuation">,</span> price<span class="token punctuation">,</span> proimg<span class="token punctuation">,</span> desc
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre>
    <h2>
     <a id="_611">
     </a>
     六.使用第三方组件库
    </h2>
    <h3>
     <a id="1WeUI_613">
     </a>
     1.WeUI
    </h3>
    <p>
     WeUI 是微信官方出品的组件库，它沿用了微信的视觉设计与交互设计，提供了各类原生组件的基础样式，风格简约大方。选用这一套组件库，可以让你的小程序与微信本身保持一致的界面风格。
    </p>
    <h3>
     <a id="2iViewUI_617">
     </a>
     2.iViewUI
    </h3>
    <p>
     iViewUI 是由TalkingData发布的组件库。
     <a href="https://weapp.iviewui.com/docs/guide/start" rel="nofollow">
      iViewUI开发文档
     </a>
    </p>
    <h3>
     <a id="3Vant_Weapp_621">
     </a>
     3.Vant Weapp
    </h3>
    <p>
     <a href="https://youzan.github.io/vant-weapp/#/" rel="nofollow">
      Vant Weapp官方地址
     </a>
    </p>
    <p>
     Vant 是由有赞发布的，轻量的小程序 UI 组件库。如果你想制作一款电商、餐饮、外卖平台、票务预订等购物类小程序，选用 Vant 是较为合适的。Vant Weapp里边的组件是
     <strong>
      基于小程序自定义组件
     </strong>
     开发的。
    </p>
    <p>
     <mark>
      <a href="https://vant-contrib.gitee.io/vant-weapp/#/quickstart" rel="nofollow">
       Vant Weapp快速上手步骤
      </a>
     </mark>
    </p>
    <h5>
     <a id="1_629">
     </a>
     1.安装
    </h5>
    <p>
     ，如果后面出现
     <strong>
      无法构建
     </strong>
     的情况，安装之前可以使用一下：
    </p>
    <pre><code>npm init
</code></pre>
    <pre><code>npm i @vant/weapp -S --production
</code></pre>
    <h5>
     <a id="2npm_641">
     </a>
     2.构建npm包
    </h5>
    <p>
     打开微信开发者工具，点击
     <strong>
      工具 -&gt; 构建 npm
     </strong>
     ，并勾选
     <strong>
      使用 npm 模块
     </strong>
     选项，构建完成后，即可引入组件。
    </p>
    <p>
     <img alt="img" src="https://i-blog.csdnimg.cn/blog_migrate/d31f850c7d1aab88b08f8376e4abad05.png"/>
    </p>
    <h5>
     <a id="3_647">
     </a>
     3.使用组件
    </h5>
    <p>
     在使用之前将
     <code>
      app.json
     </code>
     中的
     <code>
      "style": "v2"
     </code>
     去除，小程序的
     <a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#style" rel="nofollow">
      新版基础组件
     </a>
     强行加上了许多样式，难以去除，不关闭将造成部分组件样式混乱。
    </p>
    <p>
     首先在全局配置文件
     <code>
      app.json
     </code>
     或者页面配置文件
     <code>
      index.json
     </code>
     中引入：
    </p>
    <pre><code class="prism language-json"><span class="token string">"usingComponents"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token string">"van-goods-action"</span><span class="token punctuation">:</span> <span class="token string">"@vant/weapp/goods-action/index"</span><span class="token punctuation">,</span>
  <span class="token string">"van-goods-action-icon"</span><span class="token punctuation">:</span> <span class="token string">"@vant/weapp/goods-action-icon/index"</span><span class="token punctuation">,</span>
  <span class="token string">"van-goods-action-button"</span><span class="token punctuation">:</span> <span class="token string">"@vant/weapp/goods-action-button/index"</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     接着在
     <code>
      detail.wxml
     </code>
     中添加：
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-goods-action</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-goods-action-icon</span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>chat-o<span class="token punctuation">"</span></span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>客服<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-goods-action-icon</span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cart-o<span class="token punctuation">"</span></span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>购物车<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-goods-action-button</span>
    <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>加入购物车<span class="token punctuation">"</span></span>
    <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>warning<span class="token punctuation">"</span></span>
  <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-goods-action-button</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>立即购买<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-goods-action</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <blockquote>
     <p>
      如果出现
      <code>
       json: ["usingComponents"]["van-goods-action"]
      </code>
      未找到，再次点击
      <strong>
       工具 -&gt; 构建 npm
      </strong>
      即可。如果最终的实现效果和文档中的不一致，那么或许是
      <strong>
       详情–本地设置–调式基础库
      </strong>
      的原因。
     </p>
    </blockquote>
    <pre><code class="prism language-json"><span class="token string">"usingComponents"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token string">"van-goods-action"</span><span class="token punctuation">:</span> <span class="token string">"@vant/weapp/goods-action/index"</span><span class="token punctuation">,</span>
  <span class="token string">"van-goods-action-icon"</span><span class="token punctuation">:</span> <span class="token string">"@vant/weapp/goods-action-icon/index"</span><span class="token punctuation">,</span>
  <span class="token string">"van-goods-action-button"</span><span class="token punctuation">:</span> <span class="token string">"@vant/weapp/goods-action-button/index"</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     接着在
     <code>
      detail.wxml
     </code>
     中添加：
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-goods-action</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-goods-action-icon</span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>chat-o<span class="token punctuation">"</span></span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>客服<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-goods-action-icon</span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cart-o<span class="token punctuation">"</span></span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>购物车<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-goods-action-button</span>
    <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>加入购物车<span class="token punctuation">"</span></span>
    <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>warning<span class="token punctuation">"</span></span>
  <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-goods-action-button</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>立即购买<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-goods-action</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <blockquote>
     <p>
      如果出现
      <code>
       json: ["usingComponents"]["van-goods-action"]
      </code>
      未找到，再次点击
      <strong>
       工具 -&gt; 构建 npm
      </strong>
      即可。如果最终的实现效果和文档中的不一致，那么或许是
      <strong>
       详情–本地设置–调式基础库
      </strong>
      的原因。
     </p>
    </blockquote>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c:6f672e6373646e2e6e65742f4175726f72615f31393730732f:61727469636c652f64657461696c732f313039323534333237" class_="artid" style="display:none">
 </p>
</div>


