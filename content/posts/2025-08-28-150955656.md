---
layout: post
title: "配置windows下apachePHP环境"
date: 2025-08-28T16:46:05+0800
description: "配置apache+php环境"
keywords: "配置windows下apache+PHP环境"
categories: ['未分类']
tags: ['Windows', 'Php', 'Apache']
artid: "150955656"
arturl: "https://blog.csdn.net/wayhb/article/details/150955656"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=150955656
    alt: "配置windows下apachePHP环境"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=150955656
featuredImagePreview: https://bing.ee123.net/img/rand?artid=150955656
cover: https://bing.ee123.net/img/rand?artid=150955656
image: https://bing.ee123.net/img/rand?artid=150955656
img: https://bing.ee123.net/img/rand?artid=150955656
---



# 配置windows下apache+PHP环境

## 下载

1. Apache HTTP Server 2.4.43 Win64 VC15  
    稳定版本
2. mod_fcgid.so  
    对接Nts版本PHP扩展，必须和apache相同的VC

#### 下载原版

* **Apache Haus（VC15 构建）**  
   Apache Haus 是与 Apache 官方源代码兼容、广受好评的镜像站，提供 Visual Studio 2017 (VC15) 编译版本：

  + Win64 版本的下载链接：<https://www.apachehaus.com/cgi-bin/download.plx> ([apachehaus.com][1])
* **Npackd（非官方镜像）**  
   一个社区发布站点，提供一个链接，直接指向 GitHub 上的 2.4.43 Win64 VC15 zip 包（看起来可信）：

  + <https://github.com/tim-lebedkov/packages/releases/download/2020_04/apache-httpd64-2.4.43-httpd-2.4.43-o111f-x64-vc15.zip> ([npackd.org][2])

#### 下载已配置好的

通过网盘分享的文件：apache服务  
 链接: https://pan.baidu.com/s/1Ap6tsT-4Sg87ghds-JCJSQ 提取码: 5im5

## 配置要点

1. apache配置  
    httpd.conf配置

```js
#定义根目录
Define SRVROOT "C:/Users/19143/Desktop/apache/Apache24"
ServerRoot "${SRVROOT}"
#端口
Listen 8099
#服务名字（可选）
ServerName localhost
#添加：加载cgi模块
LoadModule fcgid_module modules/mod_fcgid.so
#可抱持不变
DocumentRoot "${SRVROOT}/htdocs"

#最末尾定义

# PHP 目录
FcgidInitialEnv PHPRC "${SRVROOT}/../php"

# 把 .php 交给 FastCGI 处理
AddHandler fcgid-script .php

# 指定 PHP 解释器
FcgidWrapper "${SRVROOT}/../php/php-cgi.exe" .php

# 网站目录
<VirtualHost *:8099>
    DocumentRoot "${SRVROOT}/htdocs"
    <Directory "${SRVROOT}/htdocs">
        Options FollowSymLinks ExecCGI
        AllowOverride All
        Require all granted
    </Directory>
    DirectoryIndex index.php index.html
</VirtualHost>


```

2. php配置  
    php.ini

```js
#无特别要求 无需配置

```

## 启动

```js
# cmd:apahce->bin
httped.exe

```

## 访问

* htdocs中创建index.php

```php
<?php
phpinfo();
?>

```

```js
http://localhots:8099

```

## 常见问题

1. apache版本和fcgi.so版本不一致，可拷贝phpstudy的
2. php下载了ts(线程安全)版本，导致无法加载，ts版本在windwos下不易配置，改成nts版本
3. apache会自动拉取php-cgi.exe，nginx只会转发信息给php-cgi.exe的监听端口，所以apache会感觉更加稳定，nginx版本需要使用额外工具管理php-cgi.exe



