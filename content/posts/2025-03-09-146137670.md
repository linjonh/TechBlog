---
layout: post
title: "前端数据模拟利器-Mock.js-深度解析"
date: 2025-03-09 20:01:42 +0800
description: "分层设计：按业务模块组织Mock数据文档同步：使用Swagger生成Mock规则类型安全：结合TypeScript定义接口异常覆盖：模拟各类HTTP状态码性能监控：记录Mock请求耗时。"
keywords: "前端数据模拟利器 Mock.js 深度解析"
categories: ['未分类']
tags: ['开发语言', '前端', 'Javascript']
artid: "146137670"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146137670
    alt: "前端数据模拟利器-Mock.js-深度解析"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146137670
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146137670
cover: https://bing.ee123.net/img/rand?artid=146137670
image: https://bing.ee123.net/img/rand?artid=146137670
img: https://bing.ee123.net/img/rand?artid=146137670
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     前端数据模拟利器 Mock.js 深度解析
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="_Mockjs__0">
     </a>
     前端数据模拟利器 Mock.js 深度解析
    </h2>
    <h3>
     <a id="Mockjs__2">
     </a>
     一、Mock.js 核心价值
    </h3>
    <h4>
     <a id="11__3">
     </a>
     1.1 为何需要数据模拟
    </h4>
    <ul>
     <li>
      前后端并行开发加速
     </li>
     <li>
      接口文档驱动开发
     </li>
     <li>
      异常场景模拟测试
     </li>
     <li>
      演示环境数据构造
     </li>
    </ul>
    <h4>
     <a id="12_Mockjs__9">
     </a>
     1.2 Mock.js 核心能力
    </h4>
    <pre><code class="prism language-javascript"><span class="token comment">// 典型数据生成示例</span>
Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">'/api/user'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
  <span class="token string-property property">"users|5-10"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"id|+1"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"@cname"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"age|18-60"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"email"</span><span class="token operator">:</span> <span class="token string">"@email"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"address"</span><span class="token operator">:</span> <span class="token string">"@county(true)"</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <hr/>
    <h3>
     <a id="_25">
     </a>
     二、快速入门指南
    </h3>
    <h4>
     <a id="21__26">
     </a>
     2.1 安装与引入
    </h4>
    <pre><code class="prism language-bash"><span class="token comment"># NPM 安装</span>
<span class="token function">npm</span> <span class="token function">install</span> mockjs --save-dev

<span class="token comment"># 浏览器直接引入</span>
<span class="token operator">&lt;</span>script <span class="token assign-left variable">src</span><span class="token operator">=</span><span class="token string">"https://cdn.bootcdn.net/ajax/libs/Mock.js/1.0.0/mock-min.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span>
</code></pre>
    <h4>
     <a id="22__35">
     </a>
     2.2 基础使用模式
    </h4>
    <pre><code class="prism language-javascript"><span class="token comment">// 1. 定义模拟规则</span>
<span class="token keyword">const</span> mockData <span class="token operator">=</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token string-property property">"list|10"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token string">"@guid"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"@ctitle(15,25)"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"content"</span><span class="token operator">:</span> <span class="token string">"@cparagraph(500)"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"createTime"</span><span class="token operator">:</span> <span class="token string">"@datetime"</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 2. 拦截Ajax请求</span>
Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/api\/articles</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">'get'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> mockData<span class="token punctuation">.</span>list
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 3. 发起真实请求</span>
<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'/api/articles'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
</code></pre>
    <hr/>
    <h3>
     <a id="_60">
     </a>
     三、数据模板语法详解
    </h3>
    <h4>
     <a id="31__61">
     </a>
     3.1 基础占位符
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        占位符
       </th>
       <th>
        说明
       </th>
       <th>
        示例输出
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        @boolean
       </td>
       <td>
        布尔值
       </td>
       <td>
        true
       </td>
      </tr>
      <tr>
       <td>
        @natural(1,100)
       </td>
       <td>
        自然数
       </td>
       <td>
        57
       </td>
      </tr>
      <tr>
       <td>
        @float(0,100,2,2)
       </td>
       <td>
        浮点数
       </td>
       <td>
        36.58
       </td>
      </tr>
      <tr>
       <td>
        @string(5)
       </td>
       <td>
        随机字符串
       </td>
       <td>
        “k8d9a”
       </td>
      </tr>
      <tr>
       <td>
        @cname
       </td>
       <td>
        中文姓名
       </td>
       <td>
        “王伟”
       </td>
      </tr>
      <tr>
       <td>
        @province
       </td>
       <td>
        省份
       </td>
       <td>
        “广东省”
       </td>
      </tr>
      <tr>
       <td>
        @image(‘200x100’)
       </td>
       <td>
        占位图URL
       </td>
       <td>
        “http://dummyimage.com/200x100”
       </td>
      </tr>
     </tbody>
    </table>
    <h4>
     <a id="32__72">
     </a>
     3.2 复杂数据结构
    </h4>
    <pre><code class="prism language-javascript">Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token string-property property">"order"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token string">"@guid"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"createTime"</span><span class="token operator">:</span> <span class="token string">"@datetime"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"price|100-500.2"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"products|2-5"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">"sku"</span><span class="token operator">:</span> <span class="token string">"@string(8).toUpperCase()"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"@ctitle(6)"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"spec"</span><span class="token operator">:</span> <span class="token string">"@natural(1,5)XL"</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"user"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"@cname"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"vip|1-3"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <hr/>
    <h3>
     <a id="_94">
     </a>
     四、高级应用技巧
    </h3>
    <h4>
     <a id="41_RESTful_API__95">
     </a>
     4.1 RESTful API 模拟
    </h4>
    <pre><code class="prism language-javascript"><span class="token comment">// 用户资源接口模拟</span>
Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/users\/\d+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">'get'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> id <span class="token operator">=</span> options<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    id<span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'@cname'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token string">'@natural(18,60)'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/users</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">'post'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> body <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
  <span class="token keyword">return</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'@guid'</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>body
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h4>
     <a id="42__116">
     </a>
     4.2 动态响应处理
    </h4>
    <pre><code class="prism language-javascript"><span class="token comment">// 分页查询模拟</span>
Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/api\/records</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'?'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'page'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">1</span>
  <span class="token keyword">const</span> size <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'size'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">10</span>
  
  <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">total</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">list|</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>size<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'@guid'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'@ctitle'</span><span class="token punctuation">,</span>
        <span class="token string-property property">'status|1'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'pending'</span><span class="token punctuation">,</span> <span class="token string">'done'</span><span class="token punctuation">,</span> <span class="token string">'failed'</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>list<span class="token punctuation">,</span>
    page<span class="token punctuation">,</span>
    size
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h4>
     <a id="43__139">
     </a>
     4.3 数据验证规则
    </h4>
    <pre><code class="prism language-javascript"><span class="token comment">// 注册接口参数校验</span>
Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">'/register'</span><span class="token punctuation">,</span> <span class="token string">'post'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> username<span class="token punctuation">,</span> password <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
  
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>username <span class="token operator">||</span> username<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span>
      <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'用户名至少6个字符'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span>
      <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'密码需包含字母和数字，至少8位'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">return</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">userId</span><span class="token operator">:</span> <span class="token string">'@guid'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">token</span><span class="token operator">:</span> <span class="token string">'@string(32)'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <hr/>
    <h3>
     <a id="_171">
     </a>
     五、工程化实践方案
    </h3>
    <h4>
     <a id="51__172">
     </a>
     5.1 目录结构组织
    </h4>
    <pre><code>src/
  mock/
    modules/
      user.js
      product.js
    index.js   # 统一导出
    utils.js   # 工具函数
</code></pre>
    <h4>
     <a id="52__183">
     </a>
     5.2 生产环境隔离
    </h4>
    <pre><code class="prism language-javascript"><span class="token comment">// webpack.config.js</span>
<span class="token keyword">const</span> isDev <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'development'</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>isDev<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./src/mock'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 或者使用环境变量</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">USE_MOCK</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./mock'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="53__198">
     </a>
     5.3 真实接口切换
    </h4>
    <pre><code class="prism language-javascript"><span class="token comment">// 配置示例</span>
<span class="token keyword">const</span> <span class="token constant">API_BASE</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">USE_MOCK</span> 
  <span class="token operator">?</span> <span class="token string">'/mock-api'</span> 
  <span class="token operator">:</span> <span class="token string">'https://real.api.com'</span>

<span class="token comment">// 请求封装示例</span>
<span class="token keyword">function</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token constant">API_BASE</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> options<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
    <hr/>
    <h3>
     <a id="_213">
     </a>
     六、常见问题解决方案
    </h3>
    <h4>
     <a id="Q1_214">
     </a>
     Q1：如何模拟网络延迟？
    </h4>
    <pre><code class="prism language-javascript">Mock<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token string">'200-600'</span> <span class="token comment">// 随机延迟200-600ms</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 指定接口单独设置</span>
Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">'/slow-api'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// ...数据模板</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">delay</span><span class="token operator">:</span> <span class="token number">1000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h4>
     <a id="Q2_226">
     </a>
     Q2：如何生成关联数据？
    </h4>
    <pre><code class="prism language-javascript"><span class="token comment">// 保持城市与区号关联</span>
<span class="token keyword">const</span> cityMap <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">北京</span><span class="token operator">:</span> <span class="token string">'010'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">上海</span><span class="token operator">:</span> <span class="token string">'021'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">广州</span><span class="token operator">:</span> <span class="token string">'020'</span>
<span class="token punctuation">}</span>

Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token string-property property">"city"</span><span class="token operator">:</span> <span class="token string">"@city"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"areaCode"</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> cityMap<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>city<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">'0755'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h4>
     <a id="Q3_243">
     </a>
     Q3：如何处理文件上传？
    </h4>
    <pre><code class="prism language-javascript">Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">'/upload'</span><span class="token punctuation">,</span> <span class="token string">'post'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"@image('300x250')"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">"@natural(1024, 5120)"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <hr/>
    <h3>
     <a id="_258">
     </a>
     七、最佳实践总结
    </h3>
    <ol>
     <li>
      <strong>
       分层设计
      </strong>
      ：按业务模块组织Mock数据
     </li>
     <li>
      <strong>
       文档同步
      </strong>
      ：使用Swagger生成Mock规则
     </li>
     <li>
      <strong>
       类型安全
      </strong>
      ：结合TypeScript定义接口
     </li>
     <li>
      <strong>
       异常覆盖
      </strong>
      ：模拟各类HTTP状态码
     </li>
     <li>
      <strong>
       性能监控
      </strong>
      ：记录Mock请求耗时
     </li>
    </ol>
    <hr/>
    <h3>
     <a id="_267">
     </a>
     八、扩展生态推荐
    </h3>
    <ul>
     <li>
      <strong>
       easy-mock
      </strong>
      ：可视化Mock平台
     </li>
     <li>
      <strong>
       json-server
      </strong>
      ：快速搭建REST API
     </li>
     <li>
      <strong>
       faker.js
      </strong>
      ：增强数据生成能力
     </li>
     <li>
      <strong>
       apifox
      </strong>
      ：接口管理工具整合
     </li>
    </ul>
    <p>
     通过合理运用Mock.js，开发团队可以实现：
    </p>
    <ul>
     <li>
      开发效率提升40%+
     </li>
     <li>
      接口异常测试覆盖率100%
     </li>
     <li>
      前后端联调成本降低60%
     </li>
    </ul>
    <p>
     建议结合具体业务场景灵活选择Mock策略，在保证开发效率的同时，建立可靠的前端数据模拟体系。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="6874747073:3a2f2f626c6f672e6373646e2e6e65742f415f4b616d656e2f:61727469636c652f64657461696c732f313436313337363730" class_="artid" style="display:none">
 </p>
</div>


