---
layout: post
title: "Javascript-原型和原型链"
date: 2025-03-09 11:17:07 +0800
description: "js笔记"
keywords: "Javascript 原型和原型链"
categories: ['Javascript']
tags: ['Javascript']
artid: "146129164"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146129164
    alt: "Javascript-原型和原型链"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146129164
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146129164
cover: https://bing.ee123.net/img/rand?artid=146129164
image: https://bing.ee123.net/img/rand?artid=146129164
img: https://bing.ee123.net/img/rand?artid=146129164
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Javascript 原型和原型链
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="81__1">
     </a>
     8.1 原型的基本概念
    </h3>
    <ul>
     <li>
      <p>
       原型（
       <code>
        prototype
       </code>
       ）
      </p>
      <p>
       原型是function对象的一个属性，它定义了构造函数制造出的对象的公共祖先，通过该构造函数产生的对象，可以继承该原型的属性和方法，原型也是对象。
      </p>
      <pre><code class="prism language-js"><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>lastName <span class="token operator">=</span> <span class="token string">'刘'</span>
<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

<span class="token keyword">var</span> person1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> person2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1<span class="token punctuation">.</span>lastName<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 刘</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person2<span class="token punctuation">.</span>lastName<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 刘</span>
</code></pre>
     </li>
    </ul>
    <br/>
    <h3>
     <a id="82__19">
     </a>
     8.2 原型有什么用
    </h3>
    <ul>
     <li>
      <p>
       原型的作用
      </p>
      <ul>
       <li>
        给我们构造函数实例化出的对象设置公共的属性或方法使用的
       </li>
      </ul>
     </li>
     <li>
      <p>
       方法写在哪
      </p>
      <ul>
       <li>
        方法写在原型上
        <ul>
         <li>
          写在构造函数里的方法和属性会重新克隆一次，会导致占用内存较高
         </li>
        </ul>
       </li>
       <li>
        需要配置的属性写在构造函数上
       </li>
      </ul>
      <pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span> <span class="token comment">// 每个实例的私有属性</span>
<span class="token punctuation">}</span>

<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 所有实例共享的方法</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> person1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"Alice"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> person2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"Bob"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：Alice</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person2<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：Bob</span>
</code></pre>
     </li>
    </ul>
    <br/>
    <h3>
     <a id="83__49">
     </a>
     8.3 原型链
    </h3>
    <ul>
     <li>
      <p>
       函数才有
       <code>
        prototype
       </code>
       属性,对象有
       <code>
        __proto__ 或 [[prototype]]
       </code>
       属性
      </p>
      <pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">Car</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token keyword">var</span> car <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Car</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>		<span class="token comment">// 函数有prototypr属性</span>
</code></pre>
      <p>
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/e010524921af4868b6d7c64491d78af5.png#pic_center"/>
      </p>
      <p>
       ​
      </p>
      <pre><code class="prism language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>car<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>	<span class="token comment">// undefined,对象没有prototype属性</span>
</code></pre>
      <pre><code class="prism language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>car<span class="token punctuation">)</span>
</code></pre>
      <p>
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/c12eaebfb1484b1e9de630eede8d5791.png#pic_center"/>
      </p>
     </li>
     <li>
      <p>
       原型链
      </p>
      <ul>
       <li>
        <p>
         js⾥万物皆对象，所以⼀直访问 _
         <em>
          proto
         </em>
         _ 属性就会产⽣⼀条链条
        </p>
       </li>
       <li>
        <p>
         链条的尽头是null
        </p>
        <p>
         <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/ea6fc315952b41ed9b22351f905a19a7.png#pic_center"/>
        </p>
       </li>
       <li>
        <p>
         当js引擎查找对象的属性时，会先判断对象本身是否存在该属性
        </p>
       </li>
       <li>
        <p>
         不存在的属性就会沿着原型链往上找
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/1abf92b2484946768b48057c77232073.png#pic_center"/>
    </p>
    <ul>
     <li>
      <p>
       什么是原型链？
      </p>
      <pre><code>原型链解决的主要是继承问题
每个对象拥有⼀个原型对象，通过 proto 指针指向其原型对象，并从中继承⽅法和属性，同时原型对象也可能拥有原型，这样⼀层⼀层，最终指向 null(Object.proptotype.__proto__指向的是null)。这种关系被称为原型链(prototype chain)，通过原型链⼀个对象可以拥有定义在其他对象中的属性和⽅法
</code></pre>
     </li>
    </ul>
    <br/>
    <h3>
     <a id="84__100">
     </a>
     8.4 类型检测
    </h3>
    <ul>
     <li>
      <p>
       typeof
      </p>
      <p>
       ⽤于判断基础数据的类型，⽆法区分对象与数组
      </p>
      <pre><code class="prism language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//number</span>

<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">"1"</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//string</span>

<span class="token keyword">var</span> xd<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> xd<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//undefined</span>

<span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> fun<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//function</span>

<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//object</span>

<span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"白糖"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//object</span>
</code></pre>
     </li>
     <li>
      <p>
       instanceof
      </p>
      <p>
       ⽤于判断复杂数据的类型，可以区分对象与数组
      </p>
      <p>
       instanceof 运算符⽤于检测构造函数的 prototype 属性是否出现在某个实例对象的原型链上，可以理解为是否为某个对象的实例
      </p>
      <pre><code class="prism language-js"><span class="token keyword">var</span> xd <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> xdclass <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xd <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xdclass <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>

<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"baitang"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>

<span class="token keyword">function</span> <span class="token function">Fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token keyword">var</span> xd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xd <span class="token keyword">instanceof</span> <span class="token class-name">Fun</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre>
     </li>
    </ul>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330315f38323035313734342f:61727469636c652f64657461696c732f313436313239313634" class_="artid" style="display:none">
 </p>
</div>


