---
layout: post
title: "MES机联网4文档资料"
date: 2025-03-08 10:18:36 +0800
description: "MES机联网4：文档资料"
keywords: "MES机联网4：文档资料"
categories: ['未分类']
tags: ['工厂数字化', '三色灯', 'Oee', 'Mes']
artid: "146111915"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146111915
    alt: "MES机联网4文档资料"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146111915
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146111915
cover: https://bing.ee123.net/img/rand?artid=146111915
image: https://bing.ee123.net/img/rand?artid=146111915
img: https://bing.ee123.net/img/rand?artid=146111915
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     MES机联网4：文档资料
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     <strong>
      目录信息
     </strong>
    </p>
    <ul>
     <li>
      <a href="https://www.cnblogs.com/chen1880/p/18758900" rel="nofollow" title="MES机联网1：技术方案">
       MES机联网1：技术方案
      </a>
     </li>
     <li>
      <a href="https://www.cnblogs.com/chen1880/p/18758901" rel="nofollow" title="MES机联网2：采集网关">
       MES机联网2：采集网关
      </a>
     </li>
     <li>
      <a href="https://www.cnblogs.com/chen1880/p/18758902" rel="nofollow" title="MES机联网3：管理后台">
       MES机联网3：管理后台
      </a>
     </li>
     <li>
      <a href="https://www.cnblogs.com/chen1880/p/18758904" rel="nofollow" title="MES机联网4：文档资料">
       MES机联网4：文档资料
      </a>
     </li>
    </ul>
    <p>
     <strong>
     </strong>
    </p>
    <p>
    </p>
    <p>
     MQ接入文档
    </p>
    <p>
    </p>
    <p>
     1、
     <strong>
      建立连接
     </strong>
    </p>
    <p>
     mqtt连接地址: 192.168.0.138
    </p>
    <p>
     mqtt端口: 1883
    </p>
    <p>
     mqtt用户名：admin
    </p>
    <p>
     mqtt密码：123456
    </p>
    <p>
    </p>
    <p>
     2、
     <strong>
      消息主题
     </strong>
    </p>
    <p>
     2.1 上行topic（设备-&gt;平台）
    </p>
    <p>
     A 服务端订阅的topic（监听所有上行数据），规则 M2M/up/#
    </p>
    <p>
     B 设备发布的topic，规则 M2M/up/{mac}
    </p>
    <p>
     2.2 下行topic（平台-&gt;设备）
    </p>
    <p>
     A 设备端订阅的topic，规则 M2M/down/{mac}
    </p>
    <p>
     B 服务端发布的topic，规则 M2M/down/{mac}
    </p>
    <p>
    </p>
    <p>
     M2M/up/84F3EBB452BB
    </p>
    <p>
     M2M/down/84F3EBB452BB
    </p>
    <p>
    </p>
    <p>
     3、
     <strong>
      消息模板定义
     </strong>
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td style="vertical-align:top">
        <p>
         名称
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         说明
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         类型
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         备注
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         c
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         【code】简写
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         int32
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         通讯指令
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         m
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         【message】简写
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         string
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         通信内容
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
    </p>
    <p>
     4、
     <strong>
      通讯指令说明
     </strong>
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td style="vertical-align:top">
        <p>
         值
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         说明
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         发起
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         1
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         设备发起OTA升级
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         C-&gt;S
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         2
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         服务端发起OTA升级
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         S-&gt;C
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         3
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         三色灯变化
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         C-&gt;S
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         4
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         计数（产量）
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         C-&gt;S
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         5
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         完工（节拍、合格数、不合格数）
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         C-&gt;S
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         6
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         重置计数
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         S-&gt;C
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
    </p>
    <p>
     5、
     <strong>
      消息内容定义
     </strong>
    </p>
    <p>
     <strong>
      5.1 设备主动升级
     </strong>
    </p>
    <p>
     设备每次开机或重启后向服务器发送版本消息并携带唯一身份标识，服务器根据该标识判断是否进行OTA升级并将结果告知设备
    </p>
    <p>
     <strong>
     </strong>
    </p>
    <p>
     <strong>
      5.1.1 设备上行报文
     </strong>
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td style="vertical-align:top">
        <p>
         名称
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         说明
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         类型
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         备注
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         deviceid
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         设备Id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         string
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         YD-ZP709
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         mcuver
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         设备版本
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         string
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         1.0.0
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         mcutype
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         设备类型
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         int
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
     </strong>
    </p>
    <p>
     报文示例：
    </p>
    <p>
     {
     <!-- -->
    </p>
    <p>
     "c": 1,
    </p>
    <p>
     "m": {
     <!-- -->
    </p>
    <p>
     "deviceid": "YD-ZP709",
    </p>
    <p>
     "mcuver": "1.0.0",
    </p>
    <p>
     "mcutype": 1000
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     <strong>
     </strong>
    </p>
    <p>
     <strong>
      5.1.2
     </strong>
     <strong>
      服务器下行报文
     </strong>
    </p>
    <p>
     <strong>
     </strong>
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td style="vertical-align:top">
        <p>
         名称
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         说明
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         类型
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         备注
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         errcode
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         错误码
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         int
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         0 : 无
        </p>
        <p>
         1:查无版本信息
        </p>
        <p>
         2:版本比对失败
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         url
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         升级包网址
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         string
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         <strong>
         </strong>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
     </strong>
    </p>
    <p>
     报文示例：
    </p>
    <p>
     {
     <!-- -->
    </p>
    <p>
     "c": 1,
    </p>
    <p>
     "m": {
     <!-- -->
    </p>
    <p>
     "errcode": 0,
    </p>
    <p>
     "url": "http://192.168.0.138:8601/test.bin"
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
    </p>
    <p>
     <strong>
      5.2 服务器远程升级
     </strong>
    </p>
    <p>
     需要更新固件时，服务器可远程发送指令告知设备升级。设备收到消息后，走设备主动升级流程
    </p>
    <p>
    </p>
    <p>
     <strong>
      5.2.1
     </strong>
     <strong>
      服务器下行报文
     </strong>
    </p>
    <p>
     {"c":2,"m":""}
    </p>
    <p>
    </p>
    <p>
     <strong>
      5.3 三色灯变化
     </strong>
    </p>
    <p>
     设备状态变化后主动上报
    </p>
    <p>
    </p>
    <p>
     <strong>
      5.3.1 设备上行报文
     </strong>
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td style="vertical-align:top">
        <p>
         名称
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         说明
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         类型
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         备注
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         workshopid
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         车间id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         string
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         lineid
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         产线id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         string
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         deviceid
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         设备id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         string
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         currentstate
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         当前三色灯颜色
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         string
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         000关灯，001绿灯，010黄灯，100红灯
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         oldstate
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         上一个三色灯颜色
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         string
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         periodsec
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         持续时长
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         int
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         单位秒
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
     </strong>
    </p>
    <p>
     报文示例：
    </p>
    <p>
     {
     <!-- -->
    </p>
    <p>
     "c": 3,
    </p>
    <p>
     "m": {
     <!-- -->
    </p>
    <p>
     "workshopid": "WS001",
    </p>
    <p>
     "lineid": "DZ01",
    </p>
    <p>
     "deviceid": "YD-ZP709",
    </p>
    <p>
     "currentstate": "001",
    </p>
    <p>
     "oldstate": "000",
    </p>
    <p>
     "starttime": "2025-02-21T00:00:00",
    </p>
    <p>
     "endtime": "2025-02-21T00:00:30",
    </p>
    <p>
     "periodsec": 30
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
    </p>
    <p>
     <strong>
      5.4 计数
     </strong>
    </p>
    <p>
     IO计数为高电平时主动上报
    </p>
    <p>
    </p>
    <p>
     <strong>
      5.4.1 设备上行报文
     </strong>
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td style="vertical-align:top">
        <p>
         名称
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         说明
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         类型
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         备注
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         workshopid
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         车间id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         string
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         lineid
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         产线id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         string
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         deviceid
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         设备id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         string
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         productqty
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         产量
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         int
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
     </strong>
    </p>
    <p>
     <strong>
     </strong>
    </p>
    <p>
     报文示例：
    </p>
    <p>
     {
     <!-- -->
    </p>
    <p>
     "c": 4,
    </p>
    <p>
     "m": {
     <!-- -->
    </p>
    <p>
     "workshopid": "WS001",
    </p>
    <p>
     "lineid": "DZ01",
    </p>
    <p>
     "deviceid": "YD-ZP709",
    </p>
    <p>
     "productqty": 1
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
    </p>
    <p>
     <strong>
      5.5 完工
     </strong>
    </p>
    <p>
     IO结束（合格/不合格）为高电平时主动上报
    </p>
    <p>
    </p>
    <p>
     <strong>
      5.5.1 设备上行报文
     </strong>
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td style="vertical-align:top">
        <p>
         名称
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         说明
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         类型
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         备注
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         workshopid
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         车间id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         string
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         lineid
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         产线id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         string
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         deviceid
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         设备id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         string
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         productqty
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         产量
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         int
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         pitchtime
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         节拍
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         int
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         passqty
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         合格数
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         int
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         ngqty
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         不合格数
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         int
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
     </strong>
    </p>
    <p>
     报文示例：
    </p>
    <p>
     {
     <!-- -->
    </p>
    <p>
     "c": 5,
    </p>
    <p>
     "m": {
     <!-- -->
    </p>
    <p>
     "workshopid": "WS001",
    </p>
    <p>
     "lineid": "DZ01",
    </p>
    <p>
     "deviceid": "YD-ZP709",
    </p>
    <p>
     "pitchtime": 30,
    </p>
    <p>
     "productqty": 1,
    </p>
    <p>
     "passqty": 1,
    </p>
    <p>
     "ngqty": 0
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
    </p>
    <p>
     <strong>
      5.6 服务器重置计数
     </strong>
    </p>
    <p>
     复位计数信息，包括，产量，合格数，不合格数，节拍
    </p>
    <p>
    </p>
    <p>
     <strong>
      5.6.1
     </strong>
     <strong>
      服务器下行报文
     </strong>
    </p>
    <p>
     {"c":6,"m":""}
    </p>
    <p>
    </p>
    <p>
     <strong>
      数据库设计
     </strong>
    </p>
    <p>
     数据库名称factory
    </p>
    <p>
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td colspan="3" style="vertical-align:top">
        <p>
         mst_ota_version OTA版本表
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         字段名
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         类型
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         说明
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         Id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         bigint
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         主键、自增Id
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         ota_name
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         ota名称
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         ota_version
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         ota版本号
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         ota_type
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         int
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         ota类型
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         ota_filename
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         ota升级文件名
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         remark
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         备注
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         create_id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         bigint
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         创建者ID
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td colspan="3" style="vertical-align:top">
        <p>
         mst_workshop_info车间表
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         字段名
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         类型
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         说明
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         Id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         bigint
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         主键、自增Id
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         workshop_id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         车间ID
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         workshop_name
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         车间名称
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         remark
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         备注
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         create_id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         bigint
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         创建者ID
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td colspan="3" style="vertical-align:top">
        <p>
         mst_line_info产线表
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         字段名
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         类型
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         说明
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         Id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         bigint
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         主键、自增Id
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         line_id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         产线ID
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         line_name
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         产线名称
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         workshop_id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         车间ID
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         remark
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         备注
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         create_id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         bigint
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         创建者ID
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td colspan="3" style="vertical-align:top">
        <p>
         mst_device_info 设备表
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         字段名
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         类型
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         说明
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         Id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         bigint
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         主键、自增Id
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         device_id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         设备ID
        </p>
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         device_name
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         设备名称
        </p>
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         workshop_id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         车间ID
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         line_id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         产线ID
        </p>
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         status
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         当前状态
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         product_qty
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         int
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         产量
        </p>
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         pitch_time
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         int
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         节拍
        </p>
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         pass_qty
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         int
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         合格数
        </p>
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         ng_qty
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         int
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         不合格数
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         mcu_mac
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         设备MAC地址
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         mcu_version
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         设备固件版本
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         mcu_online_time
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         datetime
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         设备上线时间
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         remark
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         备注
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         create_id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         bigint
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         创建者ID
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td colspan="3" style="vertical-align:top">
        <p>
         mst_device_status_history 设备状态历史表
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         字段名
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         类型
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         说明
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         Id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         bigint
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         主键、自增Id
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         workshop_id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         车间ID
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         line_id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         产线ID
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         device_id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         设备ID
        </p>
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         status
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         状态
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         start_datetime
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         datetime
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         开始时间
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         end_datetime
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         datetime
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         结束时间
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         period_sec
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         int
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         持续时间（秒数）
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td colspan="3" style="vertical-align:top">
        <p>
         mst_device_process_data 完工记录表
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         字段名
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         类型
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         说明
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         Id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         bigint
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         主键、自增Id
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         workshop_id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         车间ID
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         line_id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         产线ID
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         device_id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         设备ID
        </p>
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         device_name
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         varchar(40)
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         设备名称
        </p>
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         product_qty
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         int
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         产量
        </p>
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         pitch_time
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         int
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         节拍
        </p>
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         pass_qty
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         int
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         合格数
        </p>
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         ng_qty
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         int
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         不合格数
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         record_datetime
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         datetime
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         记录时间
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td colspan="3" style="vertical-align:top">
        <p>
         mst_device_2_user 设备用户关联表
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         字段名
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         类型
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         说明
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         Id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         bigint
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         主键、自增Id
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         device_id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         string
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         设备ID
        </p>
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top">
        <p>
         user_id
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         bigint
        </p>
       </td>
       <td style="vertical-align:top">
        <p>
         用户自增ID
        </p>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
  </div>
 </article>
 <p alt="68747470733a:2f2f626c6f672e6373646e2e6e65742f61726e6f313938382f:61727469636c652f64657461696c732f313436313131393135" class_="artid" style="display:none">
 </p>
</div>


