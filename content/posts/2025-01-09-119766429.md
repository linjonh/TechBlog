---
layout: post
title: "基础运维神器开源的裸金属服务器管理平台RackShift"
date: 2025-01-09 09:48:50 +0800
description: "需求最近前同事问我有没有免费或者开源的硬件运维管理平台，通过此平台可以实现包括自动抓取服务器配置、带"
keywords: "rackshift"
categories: ['百宝箱']
tags: ['运维自动化', '硬件管理', '基础设施', 'Rackshift']
artid: "119766429"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=119766429
    alt: "基础运维神器开源的裸金属服务器管理平台RackShift"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=119766429
featuredImagePreview: https://bing.ee123.net/img/rand?artid=119766429
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     基础运维神器：开源的裸金属服务器管理平台RackShift
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="_0">
     </a>
     需求
    </h2>
    <p>
     最近前同事问我有没有免费或者开源的硬件运维管理平台，通过此平台可以实现包括自动抓取服务器配置、带外管理、开关机、bios配置、固件升级等等功能。
    </p>
    <p>
     虽然我们可以通过
     <code>
      IPMI标准监视接口
     </code>
     跨不同的操作系统、固件和硬件平台，智能的监视、控制和自动回报大量服务器的运作状况，以降低服务器管理成本；但是服务器厂商都有自己的硬件管理平台，如华为的BMC、戴尔的iDRAC，没有一个统一的管理平台服务可以兼容各家厂商。
    </p>
    <h2>
     <a id="_6">
     </a>
     解决方案
    </h2>
    <p>
     <strong>
      现在我们有了一个靠谱的开源解决方案：RackShift。
     </strong>
    </p>
    <p>
     RackShift 是开源的裸金属服务器管理平台，功能覆盖裸金属服务器的发现、带外管理、RAID 配置、固件更新、操作系统安装等。
    </p>
    <p>
     RackShift 要解决的问题包括：
    </p>
    <ul>
     <li>
      <p>
       各种网络环境下裸金属服务器的自动、手动发现；
      </p>
     </li>
     <li>
      <p>
       裸金属服务器的带外控制管理，包括开关机、重启、配置 PXE 等；
      </p>
     </li>
     <li>
      <p>
       裸金属服务器批量 RAID 配置、固件更新、装机等。
      </p>
     </li>
    </ul>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/0080a94e2bba2a75e03a5379a14e77de.png#pic_center"/>
    </p>
    <p>
     <strong>
      RackShift目前已可以支持的机型：
     </strong>
    </p>
    <table>
     <thead>
      <tr>
       <th align="left">
        品牌
       </th>
       <th>
        型号
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="left">
        DELL EMC
       </td>
       <td>
        Power Edge R630 R640 R720 R730 R740 R910 R920 R930系列
       </td>
      </tr>
      <tr>
       <td align="left">
        HPE
       </td>
       <td>
        Proliant 380 580 Gen8 Gen 9 Gen 10 系列
       </td>
      </tr>
      <tr>
       <td align="left">
        Inspur
       </td>
       <td>
        5280 8480 M4 M5 系列
       </td>
      </tr>
      <tr>
       <td align="left">
        IBM
       </td>
       <td>
        X3550 X3650 M4 系列
       </td>
      </tr>
      <tr>
       <td align="left">
        H3C
       </td>
       <td>
        R4900 G3 系列
       </td>
      </tr>
      <tr>
       <td align="left">
        ZTE
       </td>
       <td>
        R5300 G4 系列
       </td>
      </tr>
     </tbody>
    </table>
    <h2>
     <a id="_32">
     </a>
     系统架构
    </h2>
    <p>
     RackShift 遵循 GPL v2 开源协议，使用 SpringBoot/Vue 进行开发，界面美观、用户体验好，集成并扩展 RackHD，支持的X86 服务器品牌包括浪潮、戴尔、华为、联想、惠普等。
    </p>
    <h3>
     <a id="1_35">
     </a>
     1.技术栈：
    </h3>
    <ul>
     <li>
      <p>
       前端: Vue.js
      </p>
     </li>
     <li>
      <p>
       后端: Spring Boot
      </p>
     </li>
     <li>
      <p>
       数据库: MySQL
      </p>
     </li>
    </ul>
    <p>
     另外，RackShift 使用、集成、借鉴的其他开源项目：
    </p>
    <ul>
     <li>
      <p>
       RackHD：RackShift 集成和参考了 RackHD 提供的裸金属服务器管理能力和思路；
      </p>
     </li>
     <li>
      <p>
       MAAS：RackShift 参考了 MAAS 提供的裸金属服务器生命周期纳管思路；
      </p>
     </li>
     <li>
      <p>
       Digital Rebar：RackShift 参考了 Digital Rebar 提供的操作方式和 UI 参考；
      </p>
     </li>
     <li>
      <p>
       Element：RackShift 使用 Element 提供的优秀前端组件库。
      </p>
     </li>
    </ul>
    <h3>
     <a id="2_55">
     </a>
     2.软件分层
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/eff6622b85f4420858211fd8a97967e5.jpeg#pic_center">
      组件说明：
     </img>
    </p>
    <ul>
     <li>
      <p>
       RackShift-WEB：基于 VUE2.6.11 开发的单页应用
      </p>
     </li>
     <li>
      <p>
       RackShift-Server：基于 SSM 的 SpringBoot 应用，对 RackHD 的操作进行更高的抽象并且控制与 RackHD API的交互，控制 RackShift-Proxy 节点，与 RackShift-WEB 一并打包成一个应用部署
      </p>
     </li>
     <li>
      <p>
       RackShift-Proxy：可单独与 RackHD 模块部署，主要用于主节点控制客户节点进行注入镜像下发，DHCP 配置，远程 KVM 等等
      </p>
     </li>
     <li>
      <p>
       RackHD：DELL EMC 开源的裸金属供应软件，现已停止维护
      </p>
     </li>
     <li>
      <p>
       Mysql：RackShift-Server 主要运行数据的存储区
      </p>
     </li>
     <li>
      <p>
       Mongo：RackHD 与RackShift-Server 的运行数据存储区
      </p>
     </li>
     <li>
      <p>
       RabbitMQ：各组件之间通信的中间件
      </p>
     </li>
     <li>
      <p>
       DockerEngine：各组件都是以 Docker 容器运行在节点计算机
      </p>
     </li>
    </ul>
    <h3>
     <a id="3_76">
     </a>
     3.组件调用关系
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/a145769cb69c9035ec072ad78d8ea6b9.jpeg#pic_center"/>
    </p>
    <h2>
     <a id="_78">
     </a>
     部署
    </h2>
    <h3>
     <a id="1_79">
     </a>
     1.网络结构
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/7646987ea2f9982c4de89f7ad81a4268.png#pic_center">
      RackShift 网卡说明：
     </img>
    </p>
    <ul>
     <li>
      <p>
       管理：与 BMC 管理网络三层通信，通过该网络 RackShift 能控制物理机的 PXE 启动等行为
      </p>
     </li>
     <li>
      <p>
       PXE ：与 物理机 PXE 网口直连，通过该网络 RackShift 能下发 PXE 过程中需要的文件
      </p>
     </li>
    </ul>
    <h3>
     <a id="2_86">
     </a>
     2.安装
    </h3>
    <pre><code class="prism language-bash"><span class="token comment"># 1.在线安装</span>
<span class="token function">sh</span> -c <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> -sSL https://github.com/rackshift/rackshift/releases/latest/download/quick_start.sh<span class="token variable">)</span></span>"</span>

<span class="token comment"># 2.离线安装</span>
<span class="token function">tar</span> -zxvf rackshiftV1.4.0-offline.tar.gz
<span class="token builtin class-name">cd</span> rackshiftV1.4.0-offline/installer
./install.sh
</code></pre>
    <p>
     **注意：**安装过程中需要您手动输入服务器上用作 PXE 的网卡 IP 地址作为 RackShift 服务器的 IP 地址。
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/9bfde034d4453cc277ea880f18633133.jpeg#pic_center"/>
    </p>
    <h3>
     <a id="3_101">
     </a>
     3.访问
    </h3>
    <pre><code class="prism language-bash">地址: http://ip:80
账号：admin
密码：123  
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/b71d6647637147adfebc049996ad3da2.png#pic_center"/>
    </p>
    <h2>
     <a id="_109">
     </a>
     服务器装机演示
    </h2>
    <h3>
     <a id="1_111">
     </a>
     1.选择需要装机的服务器
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/a7eb5157b09269254bd6d1d4a29c71d0.png#pic_center"/>
    </p>
    <h3>
     <a id="2Centos7_64_114">
     </a>
     2.工作流操作，安装Centos7 64位版
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/b0fc8f6a21884133ecc321e27bdf8f15.png#pic_center"/>
    </p>
    <h3>
     <a id="3_117">
     </a>
     3.设置工作流参数
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/3b291f6b3c077d9b0af25ded2be3552c.png#pic_center"/>
     <br/>
     在工作流中设置服务器密码及网卡信息，操作系统安装过程中会进行自动配置。
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/eed3fb577ed2644d183515d626eee37d.png#pic_center"/>
    </p>
    <h3>
     <a id="4_123">
     </a>
     4.执行工作流
    </h3>
    <p>
     执行工作流后，系统自动下发并执行安装
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/ca4850d357aa9c21c27ae71a9c02f12e.png#pic_center"/>
     此时可在远程控制台，查看执行情况
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/50b04d2eca02d2de512ecfe4bfe5c3da.png#pic_center"/>
    </p>
    <h2>
     <a id="_131">
     </a>
     总结
    </h2>
    <p>
     RackShift 在基础运维领域真正做到了我们想做但却做不到的事情，将其应用到生产环境可以节省我们很多的运维成本。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f79616e676764313938372f:61727469636c652f64657461696c732f313139373636343239" class_="artid" style="display:none">
 </p>
</div>


