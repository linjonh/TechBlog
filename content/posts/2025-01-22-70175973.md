---
layout: post
title: "SourceTree常见冲突解决"
date: 2025-01-22 16:09:12 +0800
description: "最近才用sourcetree进行移动开发的版本控制，涉及到了多人开发，遇到了写冲突的解决，发现了这篇"
keywords: "sourcetree远端有感叹号"
categories: ['Android']
tags: ['版本控制', 'Android']
artid: "70175973"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=70175973
    alt: "SourceTree常见冲突解决"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=70175973
featuredImagePreview: https://bing.ee123.net/img/rand?artid=70175973
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     SourceTree常见冲突解决
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     最近才用sourcetree进行移动开发的版本控制，涉及到了多人开发，遇到了写冲突的解决，发现了这篇文章，写的不错！！！
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
     <a class="replace_word" href="http://lib.csdn.net/base/git" rel="nofollow noopener noreferrer" style="color:rgb(223,52,52); font-weight:bold" target="_blank" title="Git知识库">
      Git
     </a>
     现在越来越火，很多人都从Svn迁移到Git上面,Git让我们更加与世界接轨，不再是“局域网”的程序猿，特别是掌握了Git之后，会发现它真的很好用，本文对Git中比较烦人的冲突进行了详细的说明，希望能帮助那些刚接触Git的程序猿。
    </p>
    <hr style="border-width:2px 0px 0px; margin:20px auto; height:0px; color:rgb(51,51,51); line-height:22.39px; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:14px; border-top-color:rgb(238,238,238); border-top-style:dotted"/>
    <h4 id="articleHeader0" style="margin:28px 0px 18px; color:rgb(51,51,51); line-height:1.2; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:1.14em">
     <a name="t0" target="_blank">
     </a>
     亮点：
    </h4>
    <blockquote style="border-color:rgb(0,142,89); margin:18px 0px; padding:10.5px 21px; color:rgb(85,85,85); line-height:22.39px; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:14px; border-left-width:5px; border-left-style:solid">
     <ul style="margin:0px; padding-left:30px">
      <li>
       采用可视化SourceTree插件beyondCompare更加接近svn冲突比较
      </li>
     </ul>
    </blockquote>
    <h4 id="articleHeader1" style="margin:28px 0px 18px; color:rgb(51,51,51); line-height:1.2; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:1.14em">
     <a name="t1" target="_blank">
     </a>
     构造冲突
    </h4>
    <ul style="margin:18px 0px; color:rgb(51,51,51); line-height:22.39px; padding-left:30px; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:14px">
     <li>
      A 修改了conflict.file 中第1行内容并且提交到git上
     </li>
     <li>
      B 这个时候也修改了confilct.file中第一行内容准备提交，这个时候git就会提示
     </li>
    </ul>
    <pre class="hljs coffeescript" name="code" style="background: rgb(246, 246, 246); padding: 10px; border: currentColor; color: rgb(101, 123, 131); line-height: 1.3; overflow: auto; font-family: Consolas,Menlo,Monaco,'Courier New',monospace; font-size: 0.92em; margin-top: 18px; margin-bottom: 18px; position: relative; word-break: break-all; word-wrap: break-word; max-height: 500px;"><code style="padding: 0px; color: inherit; font-family: Consolas,Menlo,Monaco,'Courier New',monospace; font-size: 1em; white-space: inherit; background-color: transparent;">To git@<span class="hljs-number" style="color:#2aa198;">192.168</span>.x.<span class="hljs-attribute" style="color:#b5890;">xxx</span>:xxx/server-aggregator.git
 ! [rejected]        develop -&gt; develop (fetch first)
<span class="hljs-attribute" style="color:#b5890;">error</span>: failed to push some refs to <span class="hljs-string" style="color:#2aa198;">'git@192.168.xx.xx:xxx/server-aggregator.git'</span>

<span class="hljs-attribute" style="color:#b5890;">hint</span>: Updates were rejected because the remote contains work that you <span class="hljs-keyword" style="color:#85990;">do</span>
<span class="hljs-attribute" style="color:#b5890;">hint</span>: <span class="hljs-keyword" style="color:#85990;">not</span> have locally. This <span class="hljs-keyword" style="color:#85990;">is</span> usually caused <span class="hljs-keyword" style="color:#85990;">by</span> another repository pushing
<span class="hljs-attribute" style="color:#b5890;">hint</span>: to the same ref. You may want to first integrate the remote changes
<span class="hljs-attribute" style="color:#b5890;">hint</span>: (e.g., <span class="hljs-string" style="color:#2aa198;">'git pull ...'</span>) before pushing again.
<span class="hljs-attribute" style="color:#b5890;">hint</span>: See the <span class="hljs-string" style="color:#2aa198;">'Note about fast-forwards'</span> <span class="hljs-keyword" style="color:#85990;">in</span> <span class="hljs-string" style="color:#2aa198;">'git push --help'</span> <span class="hljs-keyword" style="color:#85990;">for</span> details.
</code></pre>
    <p style="color:rgb(51,51,51); line-height:22.39px; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:14px; margin-top:18px; margin-bottom:18px">
     提示远程已经有更新了，本地版本太低，让我们先pull拉取最新的代码，
    </p>
    <ul style="margin:18px 0px; color:rgb(51,51,51); line-height:22.39px; padding-left:30px; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:14px">
     <li>
      我们继续拉取代码pull一下，这个时候由于本地有修改这个文件，就会在本地产生冲突文件
     </li>
    </ul>
    <p style="color:rgb(51,51,51); line-height:22.39px; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:14px; margin-top:18px; margin-bottom:18px">
     <img alt="" src="http://7xjl4u.com1.z0.glb.clouddn.com/15-7-1/74789568.jpg" style="border:0px currentColor; vertical-align:middle; position:static!important; max-width:100%"/>
    </p>
    <h4 id="articleHeader2" style="margin:28px 0px 18px; color:rgb(51,51,51); line-height:1.2; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:1.14em">
     <a name="t2" target="_blank">
     </a>
     配置外部比较工具
    </h4>
    <ul style="margin:18px 0px; color:rgb(51,51,51); line-height:22.39px; padding-left:30px; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:14px">
     <li>
      下载地址：
      <a href="http://www.scootersoftware.com/download.php" rel="nofollow noopener noreferrer" style="outline:0px; color:rgb(0,142,89); text-decoration:none" target="_blank">
       http://www.scootersoftware.com/download.php
      </a>
     </li>
     <li>
      打开sourcetree-&gt;工具-&gt;选项-&gt;比较-&gt;外部差异对比合并-&gt;选择BeyondCompare
     </li>
    </ul>
    <h4 id="articleHeader3" style="margin:28px 0px 18px; color:rgb(51,51,51); line-height:1.2; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:1.14em">
     <a name="t3" target="_blank">
     </a>
     解决冲突
    </h4>
    <ul style="margin:18px 0px; color:rgb(51,51,51); line-height:22.39px; padding-left:30px; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:14px">
     <li>
      <p style="margin-top:0px; margin-bottom:0px">
       在本地副本-&gt;右键-&gt;解决冲突-&gt;打开外部合并工具
       <br/>
       <img alt="" src="http://7xjl4u.com1.z0.glb.clouddn.com/15-7-1/63473198.jpg" style="border:0px currentColor; vertical-align:middle; position:static!important; max-width:100%"/>
      </p>
     </li>
     <li>
      <p style="margin-top:0px; margin-bottom:0px">
       和svn一样解决好冲突保存更改，退出即可
       <br/>
       <img alt="" src="http://7xjl4u.com1.z0.glb.clouddn.com/15-7-1/92149529.jpg" style="border:0px currentColor; vertical-align:middle; position:static!important; max-width:100%">
        <br/>
        <img alt="" src="http://7xjl4u.com1.z0.glb.clouddn.com/15-7-1/2384601.jpg" style="border:0px currentColor; vertical-align:middle; position:static!important; max-width:100%"/>
       </img>
      </p>
     </li>
    </ul>
    <h4 id="articleHeader4" style="margin:28px 0px 18px; color:rgb(51,51,51); line-height:1.2; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:1.14em">
     <a name="t4" target="_blank">
     </a>
     另外一种情况
    </h4>
    <ul style="margin:18px 0px; color:rgb(51,51,51); line-height:22.39px; padding-left:30px; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:14px">
     <li>
      拉取时出现如下提示：
     </li>
    </ul>
    <pre><code class="language-ruby"><code style="padding: 0px; color: inherit; font-family: Consolas,Menlo,Monaco,'Courier New',monospace; font-size: 1em; white-space: inherit; background-color: transparent;">it -c diff.mnemonicprefix=<span class="hljs-keyword" style="color:#85990;">false</span> -c core.quotepath=<span class="hljs-keyword" style="color:#85990;">false</span> pull local-server-aggregator develop
/opt/gitlab/embedded/service/gitlab-shell/bin/gitlab-<span class="hljs-symbol" style="color:#cb4b16;">shell:</span><span class="hljs-number" style="color:#2aa198;">3</span><span class="hljs-symbol" style="color:#cb4b16;">:</span> <span class="hljs-symbol" style="color:#cb4b16;">warning:</span> <span class="hljs-constant" style="color:#b5890;">Insecure</span> world writable dir /usr <span class="hljs-keyword" style="color:#85990;">in</span> <span class="hljs-constant" style="color:#b5890;">PATH</span>, mode <span class="hljs-number" style="color:#2aa198;">040777</span>
<span class="hljs-constant" style="color:#b5890;">From</span> <span class="hljs-number" style="color:#2aa198;">192.168</span>.<span class="hljs-number" style="color:#2aa198;">0</span>.<span class="hljs-number" style="color:#2aa198;">200</span><span class="hljs-symbol" style="color:#cb4b16;">:weitoo/server-aggregator</span>
 * branch            develop    -&gt; <span class="hljs-constant" style="color:#b5890;">FETCH_HEAD</span>
<span class="hljs-constant" style="color:#b5890;">Updating</span> b0c5c94..<span class="hljs-number" style="color:#2aa198;">40</span>cef3b
<span class="hljs-symbol" style="color:#cb4b16;">error:</span> <span class="hljs-constant" style="color:#b5890;">Your</span> local changes to the following files would be overwritten by <span class="hljs-symbol" style="color:#cb4b16;">merge:</span>
    server/conflict.file
<span class="hljs-constant" style="color:#b5890;">Please</span>, commit your changes <span class="hljs-keyword" style="color:#85990;">or</span> stash them before you can merge.
<span class="hljs-constant" style="color:#b5890;">Aborting</span>
</code></code></pre>
    <p style="color:rgb(51,51,51); line-height:22.39px; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:14px; margin-top:18px; margin-bottom:18px">
     提示需要暂存本地修改，才能拉取服务器上新的代码
    </p>
    <ul style="margin:18px 0px; color:rgb(51,51,51); line-height:22.39px; padding-left:30px; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:14px">
     <li>
      <p style="margin-top:0px; margin-bottom:0px">
       点击贮存(英文版:Stash),随便起一个名字，里面存的都是距离上次服务器版本到本地修改之间的差异，千万别删掉了,合并成功无误了再删掉。
      </p>
     </li>
     <li>
      <p style="margin-top:0px; margin-bottom:0px">
       pull拉取服务器代码，这个时候，本地的代码变成了服务器上的代码
      </p>
     </li>
     <li>
      点击贮藏-&gt;应用贮藏区 ，这个时候是把之前的修改合并到本地上，这个时候会提示冲突
     </li>
    </ul>
    <pre class="hljs coffeescript" name="code" style="background: rgb(246, 246, 246); padding: 10px; border: currentColor; color: rgb(101, 123, 131); line-height: 1.3; overflow: auto; font-family: Consolas,Menlo,Monaco,'Courier New',monospace; font-size: 0.92em; margin-top: 18px; margin-bottom: 18px; position: relative; word-break: break-all; word-wrap: break-word; max-height: 500px;"><code style="padding: 0px; color: inherit; font-family: Consolas,Menlo,Monaco,'Courier New',monospace; font-size: 1em; white-space: inherit; background-color: transparent;">git -c diff.mnemonicprefix=<span class="hljs-literal">false</span> -c core.quotepath=<span class="hljs-literal">false</span> stash apply stash@{<!-- --><span class="hljs-number" style="color:#2aa198;">0</span>}
Auto-merging server/conflict.file
CONFLICT (content): Merge conflict <span class="hljs-keyword" style="color:#85990;">in</span> server/conflict.file
</code></pre>
    <p style="color:rgb(51,51,51); line-height:22.39px; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:14px; margin-top:18px; margin-bottom:18px">
     可以在sourcetree里看到有感叹号，代表冲突文件，和上面解决冲突方法类似，但是稍微不同，最左边成了远程版本，中间为远程上一个版本，最后才是本地修改。
     <br/>
     这个是和我们操作方式有关：我们是先暂存本地修改，先拉取远程代码，这个时候local 就成了远程代码，最后我们用暂存的合并进去，remote就成了本地修改
    </p>
    <p style="color:rgb(51,51,51); line-height:22.39px; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:14px; margin-top:18px; margin-bottom:18px">
     <img alt="" src="http://7xjl4u.com1.z0.glb.clouddn.com/15-7-1/63052008.jpg" style="border:0px currentColor; vertical-align:middle; position:static!important; max-width:100%"/>
    </p>
    <p style="color:rgb(51,51,51); line-height:22.39px; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:14px; margin-top:18px; margin-bottom:18px">
     <img alt="" src="http://7xjl4u.com1.z0.glb.clouddn.com/15-7-1/51143764.jpg" style="border:0px currentColor; vertical-align:middle; position:static!important; max-width:100%"/>
    </p>
    <h4 id="articleHeader5" style="margin:28px 0px 18px; color:rgb(51,51,51); line-height:1.2; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:1.14em">
     <a name="t5" target="_blank">
     </a>
     生成了多余的.orig文件
    </h4>
    <p style="color:rgb(51,51,51); line-height:22.39px; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:14px; margin-top:18px; margin-bottom:18px">
     这个是由于git自身造成的 它会解决冲突后 生成一个原来冲突的备份，我们可以去掉
    </p>
    <p style="color:rgb(51,51,51); line-height:22.39px; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:14px; margin-top:18px; margin-bottom:18px">
     <code style="padding:2px 4px; color:rgb(199,37,78); font-family:Consolas,Menlo,Monaco,'Courier New',monospace; font-size:0.92em; background-color:rgb(246,246,246)">
      git config --global mergetool.keepBackup false
     </code>
    </p>
    <hr style="border-width:2px 0px 0px; margin:20px auto; height:0px; color:rgb(51,51,51); line-height:22.39px; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:14px; border-top-color:rgb(238,238,238); border-top-style:dotted"/>
    <p style="color:rgb(51,51,51); line-height:22.39px; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:14px; margin-top:18px; margin-bottom:18px">
     感谢您的耐心阅读，如果您发现文章中有一些没表述清楚的，或者是不对的地方，可以给我留言
     <br/>
     ，当然你有其他类的需求文章，也可以私信我。
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470:733a2f2f626c6f672e6373646e2e6e65742f7979616e6a756e:2f61727469636c652f64657461696c732f3730313735393733" class_="artid" style="display:none">
 </p>
</div>


