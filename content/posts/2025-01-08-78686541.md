---
layout: post
title: "微信小程序-五星评分功能"
date: 2025-01-08 16:12:17 +0800
description: "最近要做一个在微信小程序五星评分的功能代码如下：jsPage({  /**   * 页面的初始数据 "
keywords: "给多人打分小程序"
categories: ['微信小程序']
tags: ['微信', '小程序']
artid: "78686541"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=78686541
    alt: "微信小程序-五星评分功能"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=78686541
featuredImagePreview: https://bing.ee123.net/img/rand?artid=78686541
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     微信小程序-五星评分功能
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     最近要做一个在微信小程序五星评分的功能
    </p>
    <p>
     代码如下：
    </p>
    <pre class="prettyprint"><code class="hljs javascript">js

Page({
  <span class="hljs-comment">/**
   * 页面的初始数据
   */</span>
  data: {
     starFlag:<span class="hljs-number">5</span>
  },
  changeOne:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {<!-- --></span>
    <span class="hljs-keyword">var</span> that = <span class="hljs-keyword">this</span>;
    that.setData({
      starFlag: <span class="hljs-number">1</span>
    });
  },
  changeTwo:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {<!-- --></span>
    <span class="hljs-keyword">var</span> that = <span class="hljs-keyword">this</span>;
    that.setData({
      starFlag: <span class="hljs-number">2</span>
    });
  },
  changeThree:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {<!-- --></span>
    <span class="hljs-keyword">var</span> that = <span class="hljs-keyword">this</span>;
    that.setData({
      starFlag: <span class="hljs-number">3</span>
    });
  },
  changeFour:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {<!-- --></span>
    <span class="hljs-keyword">var</span> that = <span class="hljs-keyword">this</span>;
    that.setData({
      starFlag: <span class="hljs-number">4</span>
    });
  },
  changeFive:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {<!-- --></span>
    <span class="hljs-keyword">var</span> that = <span class="hljs-keyword">this</span>;
    that.setData({
      starFlag: <span class="hljs-number">5</span>
    });
  }
})</code></pre>
    <p>
     在data下增加一个字段starFlag,根据starFlag的值来确定显示分数；
     <br/>
     默认starFlag为5，相当于默认五星好评；
    </p>
    <pre class="prettyprint"><code class="hljs handlebars"><span class="xml">WXML
<span class="hljs-comment">&lt;!--走心评价--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">view</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"star"</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"display:flex;flex-direction:row;"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">view</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"star-description"</span>&gt;</span>走心指数<span class="hljs-tag">&lt;/<span class="hljs-title">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">view</span>  <span class="hljs-attribute">class</span>=<span class="hljs-value">"star-content"</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"display:flex;flex-direction:row;"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">view</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"starsHas  </span></span></span><span class="hljs-expression">{<!-- -->{<!-- --><span class="hljs-variable">starFlag</span>&gt;=1? '': '<span class="hljs-variable">starNo</span>'}}</span><span class="xml"><span class="hljs-tag"><span class="hljs-value">"</span>  <span class="hljs-attribute">bindtap</span>=<span class="hljs-value">"changeOne"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">view</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">view</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"starsHas  </span></span></span><span class="hljs-expression">{<!-- -->{<!-- --><span class="hljs-variable">starFlag</span>&gt;=2? '': '<span class="hljs-variable">starNo</span>'}}</span><span class="xml"><span class="hljs-tag"><span class="hljs-value">"</span>  <span class="hljs-attribute">bindtap</span>=<span class="hljs-value">"changeTwo"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">view</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">view</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"starsHas  </span></span></span><span class="hljs-expression">{<!-- -->{<!-- --><span class="hljs-variable">starFlag</span>&gt;=3? '': '<span class="hljs-variable">starNo</span>'}}</span><span class="xml"><span class="hljs-tag"><span class="hljs-value">"</span>  <span class="hljs-attribute">bindtap</span>=<span class="hljs-value">"changeThree"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">view</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">view</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"starsHas  </span></span></span><span class="hljs-expression">{<!-- -->{<!-- --><span class="hljs-variable">starFlag</span>&gt;=4? '': '<span class="hljs-variable">starNo</span>'}}</span><span class="xml"><span class="hljs-tag"><span class="hljs-value">"</span>  <span class="hljs-attribute">bindtap</span>=<span class="hljs-value">"changeFour"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">view</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">view</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"starsHas  </span></span></span><span class="hljs-expression">{<!-- -->{<!-- --><span class="hljs-variable">starFlag</span>&gt;=5? '': '<span class="hljs-variable">starNo</span>'}}</span><span class="xml"><span class="hljs-tag"><span class="hljs-value">"</span>  <span class="hljs-attribute">bindtap</span>=<span class="hljs-value">"changeFive"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">view</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">view</span>&gt;</span></span></code></pre>
    <p>
     在每个评分按钮上增加点击事件，修改对应的starFlag值。在每个按钮上class进行判断，判断星星的点亮状态。
    </p>
    <pre class="prettyprint"><code class="hljs css"><span class="hljs-tag">WXSS</span>

<span class="hljs-class">.star</span><span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">margin-top</span>:<span class="hljs-value"> <span class="hljs-number">30</span>rpx</span></span>;
<span class="hljs-rule">}</span></span>
<span class="hljs-class">.star-description</span><span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> <span class="hljs-number">28</span>rpx</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#333333</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">margin-left</span>:<span class="hljs-value"> <span class="hljs-number">30</span>rpx</span></span>;
<span class="hljs-rule">}</span></span>
<span class="hljs-class">.star-content</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">position</span>:<span class="hljs-value"> absolute</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">right</span>:<span class="hljs-value"> <span class="hljs-number">0</span>px</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">margin-right</span>:<span class="hljs-value"> <span class="hljs-number">40</span>rpx</span></span>;
<span class="hljs-rule">}</span></span>
<span class="hljs-class">.star</span> <span class="hljs-class">.star-content</span> <span class="hljs-class">.starNo</span><span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">z-index</span>:<span class="hljs-value"> <span class="hljs-number">2</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">background-image</span>:<span class="hljs-value"> <span class="hljs-function">url(<span class="hljs-string">"https://static.imsummer.cn/anonymous_user/alice-hat.png"</span>)</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">83</span>rpx</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> <span class="hljs-number">43</span>rpx</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">background-size</span>:<span class="hljs-value"> <span class="hljs-number">43</span>rpx <span class="hljs-number">43</span>rpx</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">background-position</span>:<span class="hljs-value"> center center</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">background-repeat</span>:<span class="hljs-value"> no-repeat</span></span>;
<span class="hljs-rule">}</span></span>

<span class="hljs-class">.starsHas</span><span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">z-index</span>:<span class="hljs-value"> <span class="hljs-number">1</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">83</span>rpx</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> <span class="hljs-number">43</span>rpx</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">background-image</span>:<span class="hljs-value"> <span class="hljs-function">url(<span class="hljs-string">"https://static.imsummer.cn/anonymous_user/alice-lizard.png"</span>)</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">background-size</span>:<span class="hljs-value"> <span class="hljs-number">43</span>rpx <span class="hljs-number">43</span>rpx</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">background-position</span>:<span class="hljs-value"> center center</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">background-repeat</span>:<span class="hljs-value"> no-repeat</span></span>;
<span class="hljs-rule">}</span></span></code></pre>
    <p>
     这个是样式
     <br/>
     注意background-image不要是本地的图片，我这里用的是测试的线上的图片,自行更换即可；
     <br/>
     background-image：可以使用网络图片，或者 base64，或者使用image标签
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f6d6359616e6730393239:2f61727469636c652f64657461696c732f3738363836353431" class_="artid" style="display:none">
 </p>
</div>


