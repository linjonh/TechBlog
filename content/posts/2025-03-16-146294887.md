---
layout: post
title: "网络简单的-Web-服务器架构解析,包含多个服务和反向代理的配置,及非反向代理配置"
date: 2025-03-16 15:07:24 +0800
description: "这张图片描述了一个简单的 Web 服务器架构，包含多个服务和反向代理的配置。"
keywords: "【网络】简单的 Web 服务器架构解析，包含多个服务和反向代理的配置，及非反向代理配置"
categories: ['网络工程安全']
tags: ['网络', '服务器', '前端']
artid: "146294887"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146294887
    alt: "网络简单的-Web-服务器架构解析,包含多个服务和反向代理的配置,及非反向代理配置"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146294887
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146294887
cover: https://bing.ee123.net/img/rand?artid=146294887
image: https://bing.ee123.net/img/rand?artid=146294887
img: https://bing.ee123.net/img/rand?artid=146294887
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【网络】简单的 Web 服务器架构解析，包含多个服务和反向代理的配置，及非反向代理配置
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/e3622d7afff249dfa91c3282171008eb.png">
      <br/>
      这张图片描述了一个简单的 Web 服务器架构，包含多个服务和反向代理的配置。以下是对每个部分的详细解释，帮助你理解其中的技术内容：
     </img>
    </p>
    <hr/>
    <h4>
     <a id="1_Web_Server_ifn666com_5">
     </a>
     1.
     <strong>
      Web Server: ifn666.com
     </strong>
    </h4>
    <ul>
     <li>
      这是你的主域名（
      <code>
       ifn666.com
      </code>
      ），所有服务都通过这个域名访问。
     </li>
     <li>
      域名下的不同路径（如
      <code>
       /locallib
      </code>
      、
      <code>
       /carhire
      </code>
      、
      <code>
       /cafe
      </code>
      ）会被反向代理转发到不同的本地服务。
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="2_Local_Services_11">
     </a>
     2.
     <strong>
      Local Services（本地服务）
     </strong>
    </h4>
    <p>
     本地运行了三个独立的服务，每个服务监听不同的端口：
    </p>
    <ul>
     <li>
      <p>
       <strong>
        Local lib service
       </strong>
      </p>
      <ul>
       <li>
        文件路径：
        <code>
         /apps/locallib/server.js
        </code>
       </li>
       <li>
        监听端口：
        <code>
         :3000
        </code>
       </li>
       <li>
        这是一个本地库服务，可能提供一些本地资源或功能。
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        Car hire service
       </strong>
      </p>
      <ul>
       <li>
        文件路径：
        <code>
         /apps/carhire/server.js
        </code>
       </li>
       <li>
        监听端口：
        <code>
         :3005
        </code>
       </li>
       <li>
        这是一个租车服务，可能提供与租车相关的 API 或功能。
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        Cafe service
       </strong>
      </p>
      <ul>
       <li>
        文件路径：
        <code>
         /apps/cafe/server.js
        </code>
       </li>
       <li>
        监听端口：
        <code>
         :3010
        </code>
       </li>
       <li>
        这是一个咖啡馆服务，可能提供与咖啡馆相关的 API 或功能。
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="3_Reverse_Proxy_31">
     </a>
     3.
     <strong>
      Reverse Proxy（反向代理）
     </strong>
    </h4>
    <p>
     反向代理的作用是将外部请求转发到内部服务。以下是反向代理的配置：
    </p>
    <ul>
     <li>
      <p>
       <strong>
        Internet
       </strong>
      </p>
      <ul>
       <li>
        <code>
         :443 HTTPS
        </code>
        ：外部用户通过 HTTPS（加密的 HTTP 协议）访问你的服务。
       </li>
       <li>
        <code>
         :80 HTTP
        </code>
        ：外部用户也可以通过 HTTP（未加密的 HTTP 协议）访问你的服务。
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        GET Requests（GET 请求）
       </strong>
      </p>
      <ul>
       <li>
        <code>
         GET //ifn666.com/locallib/api
        </code>
        ：外部用户可以通过
        <code>
         ifn666.com/locallib/api
        </code>
        访问本地库服务的 API。
       </li>
       <li>
        <code>
         GET //ifn666.com/carhire/api
        </code>
        ：外部用户可以通过
        <code>
         ifn666.com/carhire/api
        </code>
        访问租车服务的 API。
       </li>
       <li>
        <code>
         GET //ifn666.com/cafe/api
        </code>
        ：外部用户可以通过
        <code>
         ifn666.com/cafe/api
        </code>
        访问咖啡馆服务的 API。
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        Reverse Proxy Configuration（反向代理配置）
       </strong>
      </p>
      <ul>
       <li>
        反向代理根据请求的路径将请求转发到不同的本地服务：
        <ul>
         <li>
          <code>
           handle /locallib/*
          </code>
          ：匹配以
          <code>
           /locallib
          </code>
          开头的请求，去掉前缀
          <code>
           /locallib
          </code>
          ，然后转发到
          <code>
           localhost:3000
          </code>
          。
         </li>
         <li>
          <code>
           handle /carhire/*
          </code>
          ：匹配以
          <code>
           /carhire
          </code>
          开头的请求，去掉前缀
          <code>
           /carhire
          </code>
          ，然后转发到
          <code>
           localhost:3005
          </code>
          。
         </li>
         <li>
          <code>
           handle /cafe/*
          </code>
          ：匹配以
          <code>
           /cafe
          </code>
          开头的请求，去掉前缀
          <code>
           /cafe
          </code>
          ，然后转发到
          <code>
           localhost:3010
          </code>
          。
         </li>
        </ul>
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="4__51">
     </a>
     4.
     <strong>
      详细解释每个语句
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       Listening on :3000
      </strong>
      ：本地库服务在端口 3000 上监听请求。
     </li>
     <li>
      <strong>
       Listening on :3005
      </strong>
      ：租车服务在端口 3005 上监听请求。
     </li>
     <li>
      <strong>
       Listening on :3010
      </strong>
      ：咖啡馆服务在端口 3010 上监听请求。
     </li>
     <li>
      <strong>
       handle /locallib/
      </strong>
      *：反向代理会处理所有以
      <code>
       /locallib
      </code>
      开头的请求。
     </li>
     <li>
      <strong>
       url strip_prefix /locallib
      </strong>
      ：在转发请求之前，去掉路径中的
      <code>
       /locallib
      </code>
      前缀。
     </li>
     <li>
      <strong>
       reverse_proxy localhost:3000
      </strong>
      ：将请求转发到本地运行的端口 3000 的服务。
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="5__61">
     </a>
     5.
     <strong>
      初学者如何理解
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       域名和路径
      </strong>
      ：
      <code>
       ifn666.com
      </code>
      是你的网站域名，
      <code>
       /locallib
      </code>
      、
      <code>
       /carhire
      </code>
      、
      <code>
       /cafe
      </code>
      是网站的不同部分。
     </li>
     <li>
      <strong>
       端口
      </strong>
      ：每个服务运行在本地不同的端口上（如 3000、3005、3010），端口是计算机上用于区分不同服务的数字。
     </li>
     <li>
      <strong>
       反向代理
      </strong>
      ：反向代理就像一个“中间人”，它接收外部请求，然后根据请求的路径将请求转发到正确的本地服务。
     </li>
     <li>
      <strong>
       HTTPS 和 HTTP
      </strong>
      ：HTTPS 是加密的网络协议，HTTP 是未加密的网络协议。通常建议使用 HTTPS 以保护数据安全。
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="6__69">
     </a>
     6.
     <strong>
      总结
     </strong>
    </h4>
    <ul>
     <li>
      这张图片展示了一个简单的 Web 服务器架构，包含多个本地服务和一个反向代理。
     </li>
     <li>
      反向代理的作用是将外部请求根据路径转发到不同的本地服务。
     </li>
     <li>
      每个服务监听不同的端口，提供不同的功能（如本地库、租车、咖啡馆）。
     </li>
    </ul>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/c721a098243046f8aa232fcc4114b6c5.png">
      <br/>
      这张图片展示了一个基于
      <strong>
       域名解析（DNS）
      </strong>
      和
      <strong>
       独立服务器
      </strong>
      的架构，没有使用反向代理。以下是对图片内容的详细分析，以及作为初学者如何理解这些技术。
     </img>
    </p>
    <hr/>
    <h4>
     <a id="1_DNS_79">
     </a>
     <strong>
      1. 域名解析（DNS）
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       域名
      </strong>
      ：每个服务都有一个独立的域名，例如：
      <ul>
       <li>
        <code>
         locallib.n123.ifn666.com
        </code>
       </li>
       <li>
        <code>
         carhire.n123.ifn666.com
        </code>
       </li>
       <li>
        <code>
         cafe.n123.ifn666.com
        </code>
       </li>
      </ul>
     </li>
     <li>
      <strong>
       IP 地址
      </strong>
      ：每个域名对应一个独立的 IP 地址，例如：
      <ul>
       <li>
        <code>
         locallib.n123.ifn666.com
        </code>
        对应
        <code>
         186.94.58.23
        </code>
       </li>
       <li>
        <code>
         carhire.n123.ifn666.com
        </code>
        对应
        <code>
         186.94.58.24
        </code>
       </li>
       <li>
        <code>
         cafe.n123.ifn666.com
        </code>
        对应
        <code>
         186.94.58.25
        </code>
       </li>
      </ul>
     </li>
     <li>
      <strong>
       作用
      </strong>
      ：DNS 将域名转换为 IP 地址，客户端通过域名访问服务时，DNS 会将其解析为对应的 IP 地址。
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="2__92">
     </a>
     <strong>
      2. 独立服务器架构
     </strong>
    </h4>
    <ul>
     <li>
      每个服务运行在独立的服务器上，每个服务器有自己的 IP 地址和端口。
     </li>
     <li>
      例如：
      <ul>
       <li>
        <code>
         locallib.n123.ifn666.com
        </code>
        运行在
        <code>
         186.94.58.23
        </code>
        上，监听端口
        <code>
         :80
        </code>
        （HTTP）和
        <code>
         :443
        </code>
        （HTTPS）。
       </li>
       <li>
        <code>
         carhire.n123.ifn666.com
        </code>
        运行在
        <code>
         186.94.58.24
        </code>
        上，监听端口
        <code>
         :80
        </code>
        和
        <code>
         :443
        </code>
        。
       </li>
       <li>
        <code>
         cafe.n123.ifn666.com
        </code>
        运行在
        <code>
         186.94.58.25
        </code>
        上，监听端口
        <code>
         :80
        </code>
        和
        <code>
         :443
        </code>
        。
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="3__101">
     </a>
     <strong>
      3. 不使用反向代理
     </strong>
    </h4>
    <ul>
     <li>
      在这种架构中，
      <strong>
       没有使用反向代理
      </strong>
      ，每个服务直接通过自己的域名和 IP 地址对外提供服务。
     </li>
     <li>
      客户端直接访问每个服务的域名，DNS 将其解析为对应的 IP 地址，然后客户端直接与目标服务器通信。
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="4__107">
     </a>
     <strong>
      4. 初学者如何理解这种架构？
     </strong>
    </h4>
    <h5>
     <a id="1__IP__109">
     </a>
     <strong>
      1. 域名和 IP 地址
     </strong>
    </h5>
    <ul>
     <li>
      <strong>
       域名
      </strong>
      ：类似于“家庭地址”，方便人们记忆（如
      <code>
       locallib.n123.ifn666.com
      </code>
      ）。
     </li>
     <li>
      <strong>
       IP 地址
      </strong>
      ：类似于“经纬度坐标”，是服务器在网络中的唯一标识（如
      <code>
       186.94.58.23
      </code>
      ）。
     </li>
     <li>
      <strong>
       DNS
      </strong>
      ：类似于“地图导航”，将域名转换为 IP 地址。
     </li>
    </ul>
    <h5>
     <a id="2__114">
     </a>
     <strong>
      2. 独立服务器
     </strong>
    </h5>
    <ul>
     <li>
      每个服务（如本地库、租车、咖啡馆）运行在独立的服务器上。
     </li>
     <li>
      每个服务器有自己的 IP 地址和端口，客户端直接访问这些服务器。
     </li>
    </ul>
    <h5>
     <a id="3__118">
     </a>
     <strong>
      3. 不使用反向代理
     </strong>
    </h5>
    <ul>
     <li>
      在这种架构中，没有“中间人”（反向代理），客户端直接与目标服务器通信。
     </li>
     <li>
      这种架构适合小型系统，但随着服务数量增加，管理起来会变得复杂。
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="5__124">
     </a>
     <strong>
      5. 这种架构的优缺点
     </strong>
    </h4>
    <h5>
     <a id="_126">
     </a>
     <strong>
      优点
     </strong>
    </h5>
    <ul>
     <li>
      <strong>
       简单直接
      </strong>
      ：每个服务独立运行，易于理解和部署。
     </li>
     <li>
      <strong>
       独立性
      </strong>
      ：一个服务的故障不会影响其他服务。
     </li>
    </ul>
    <h5>
     <a id="_130">
     </a>
     <strong>
      缺点
     </strong>
    </h5>
    <ul>
     <li>
      <strong>
       管理复杂
      </strong>
      ：随着服务数量增加，需要管理多个域名和 IP 地址。
     </li>
     <li>
      <strong>
       缺乏统一入口
      </strong>
      ：没有反向代理，无法实现负载均衡、路径路由等功能。
     </li>
     <li>
      <strong>
       安全性较低
      </strong>
      ：每个服务直接暴露在公网，增加了被攻击的风险。
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="6__137">
     </a>
     <strong>
      6. 初学者如何实践这种架构？
     </strong>
    </h4>
    <h5>
     <a id="1__DNS_139">
     </a>
     <strong>
      1. 设置 DNS
     </strong>
    </h5>
    <ul>
     <li>
      在域名注册商（如 GoDaddy、Cloudflare）中，为每个服务添加 DNS 记录，将域名解析到对应的 IP 地址。
     </li>
    </ul>
    <h5>
     <a id="2__142">
     </a>
     <strong>
      2. 部署服务
     </strong>
    </h5>
    <ul>
     <li>
      在每个服务器上部署对应的服务（如本地库、租车、咖啡馆）。
     </li>
     <li>
      确保服务监听正确的端口（如
      <code>
       :80
      </code>
      和
      <code>
       :443
      </code>
      ）。
     </li>
    </ul>
    <h5>
     <a id="3__146">
     </a>
     <strong>
      3. 测试访问
     </strong>
    </h5>
    <ul>
     <li>
      使用浏览器或工具（如
      <code>
       curl
      </code>
      ）访问每个服务的域名，测试是否能正常访问。
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="7__151">
     </a>
     <strong>
      7. 与反向代理架构的对比
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       反向代理架构
      </strong>
      ：
      <ul>
       <li>
        使用一个统一的入口（如
        <code>
         ifn666.com
        </code>
        ）。
       </li>
       <li>
        反向代理根据路径将请求转发到不同的后端服务。
       </li>
       <li>
        适合中大型系统，易于扩展和管理。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       独立服务器架构
      </strong>
      ：
      <ul>
       <li>
        每个服务有自己的域名和 IP 地址。
       </li>
       <li>
        适合小型系统，简单直接。
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="8__162">
     </a>
     <strong>
      8. 总结
     </strong>
    </h4>
    <ul>
     <li>
      这张图片展示了一个基于 DNS 和独立服务器的架构，没有使用反向代理。
     </li>
     <li>
      每个服务通过独立的域名和 IP 地址对外提供服务。
     </li>
     <li>
      这种架构简单直接，但随着服务数量增加，管理起来会变得复杂。
     </li>
     <li>
      初学者可以通过设置 DNS 和部署服务，实践这种架构的基本原理。
     </li>
    </ul>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34343137343331322f:61727469636c652f64657461696c732f313436323934383837" class_="artid" style="display:none">
 </p>
</div>


