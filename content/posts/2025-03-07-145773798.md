---
layout: post
title: "Python已知后序遍历和中序遍历,求先序遍历"
date: 2025-03-07 17:59:17 +0800
description: "【代码】Python已知后序遍历和中序遍历，求先序遍历。"
keywords: "Python已知后序遍历和中序遍历，求先序遍历"
categories: ['数据结构']
tags: ['数据结构', 'Python']
artid: "145773798"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=145773798
    alt: "Python已知后序遍历和中序遍历,求先序遍历"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=145773798
featuredImagePreview: https://bing.ee123.net/img/rand?artid=145773798
cover: https://bing.ee123.net/img/rand?artid=145773798
image: https://bing.ee123.net/img/rand?artid=145773798
img: https://bing.ee123.net/img/rand?artid=145773798
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Python已知后序遍历和中序遍历，求先序遍历
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="_0">
     </a>
     步骤一：树的构建
    </h3>
    <h4>
     <a id="_1">
     </a>
     字典
    </h4>
    <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">createTree</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span>arr2<span class="token punctuation">,</span>tree<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">and</span> <span class="token builtin">len</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span> <span class="token punctuation">:</span><span class="token keyword">return</span>
    root <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
    <span class="token comment"># print(arr1[root],root)</span>
    flag <span class="token operator">=</span> arr2<span class="token punctuation">.</span>index<span class="token punctuation">(</span>arr1<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token comment"># print(flag)</span>
    len_right <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token operator">-</span>flag<span class="token operator">-</span><span class="token number">1</span>
    len_left <span class="token operator">=</span> flag
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>arr2<span class="token punctuation">[</span><span class="token punctuation">:</span>flag<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">&gt;=</span><span class="token number">1</span><span class="token punctuation">:</span>
        lchild <span class="token operator">=</span> arr1<span class="token punctuation">[</span>flag<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        lchild <span class="token operator">=</span> <span class="token boolean">None</span>

    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>arr2<span class="token punctuation">[</span>flag<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">&gt;=</span><span class="token number">1</span><span class="token punctuation">:</span>
        rchild <span class="token operator">=</span> arr1<span class="token punctuation">[</span>root<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        rchild <span class="token operator">=</span> <span class="token boolean">None</span>
    
    tree<span class="token punctuation">[</span>arr1<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'lchild'</span><span class="token punctuation">:</span><span class="token boolean">None</span><span class="token punctuation">,</span><span class="token string">'rchild'</span><span class="token punctuation">:</span><span class="token boolean">None</span><span class="token punctuation">}</span>
    tree<span class="token punctuation">[</span>arr1<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'lchild'</span><span class="token punctuation">]</span> <span class="token operator">=</span> lchild
    tree<span class="token punctuation">[</span>arr1<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'rchild'</span><span class="token punctuation">]</span> <span class="token operator">=</span> rchild
    
    <span class="token comment"># print(tree)</span>
    <span class="token comment"># print(arr1[:flag],arr1[len_left:len_left+len_right])</span>
    <span class="token comment"># print(arr2[:flag],arr2[flag+1:])</span>
    createTree<span class="token punctuation">(</span>arr1<span class="token punctuation">[</span><span class="token punctuation">:</span>flag<span class="token punctuation">]</span><span class="token punctuation">,</span>arr2<span class="token punctuation">[</span><span class="token punctuation">:</span>flag<span class="token punctuation">]</span><span class="token punctuation">,</span>tree<span class="token punctuation">)</span> <span class="token comment"># 左子树</span>
    createTree<span class="token punctuation">(</span>arr1<span class="token punctuation">[</span>len_left<span class="token punctuation">:</span>len_left<span class="token operator">+</span>len_right<span class="token punctuation">]</span><span class="token punctuation">,</span>arr2<span class="token punctuation">[</span>flag<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span>tree<span class="token punctuation">)</span> <span class="token comment">#右子树</span>

tree <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
back <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
mid <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
createTree<span class="token punctuation">(</span>back<span class="token punctuation">,</span>mid<span class="token punctuation">,</span>tree<span class="token punctuation">)</span>
</code></pre>
    <pre><code>{1: {'lchild': 2, 'rchild': 5},
 2: {'lchild': 3, 'rchild': 4},
 3: {'lchild': None, 'rchild': None},
 4: {'lchild': None, 'rchild': None},
 5: {'lchild': 6, 'rchild': None},
 6: {'lchild': None, 'rchild': None}}
</code></pre>
    <h4>
     <a id="_45">
     </a>
     多级嵌套字典
    </h4>
    <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">set_nested_dict_value</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span> keys<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    根据键列表设置嵌套字典的值
    :param d: 原始字典
    :param keys: 键列表
    :param value: 要设置的值
    """</span>
    <span class="token comment"># 从第一个键开始，逐层深入</span>
    <span class="token keyword">for</span> key <span class="token keyword">in</span> keys<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token comment"># 如果当前键不存在，则创建一个空字典</span>
        <span class="token keyword">if</span> key <span class="token keyword">not</span> <span class="token keyword">in</span> d<span class="token punctuation">:</span>
            d<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
        <span class="token comment"># 下一层字典</span>
        d <span class="token operator">=</span> d<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
    <span class="token comment"># 设置最后一个键的值</span>
    d<span class="token punctuation">[</span>keys<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> value

<span class="token keyword">def</span> <span class="token function">createTree</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span>arr2<span class="token punctuation">,</span>tree<span class="token punctuation">,</span>step<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'------------------------------------------'</span><span class="token punctuation">)</span>
    <span class="token comment"># if len(arr1)==0 and len(arr2)==0 :</span>
    <span class="token comment">#     print('结束')</span>
    <span class="token comment">#     return</span>

    root <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>arr1<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">,</span>root<span class="token punctuation">)</span>

    flag <span class="token operator">=</span> arr2<span class="token punctuation">.</span>index<span class="token punctuation">(</span>arr1<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span>

    len_right <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token operator">-</span>flag<span class="token operator">-</span><span class="token number">1</span>
    len_left <span class="token operator">=</span> flag
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>arr2<span class="token punctuation">[</span><span class="token punctuation">:</span>flag<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">&gt;=</span><span class="token number">1</span><span class="token punctuation">:</span>
        lchild <span class="token operator">=</span> arr1<span class="token punctuation">[</span>flag<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        lchild <span class="token operator">=</span> <span class="token boolean">None</span>

    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>arr2<span class="token punctuation">[</span>flag<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">&gt;=</span><span class="token number">1</span><span class="token punctuation">:</span>
        rchild <span class="token operator">=</span> arr1<span class="token punctuation">[</span>root<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        rchild <span class="token operator">=</span> <span class="token boolean">None</span>
        
    tmp <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    tmp<span class="token punctuation">[</span><span class="token string">'root'</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr1<span class="token punctuation">[</span>root<span class="token punctuation">]</span>
    <span class="token keyword">if</span> tmp<span class="token punctuation">[</span><span class="token string">'root'</span><span class="token punctuation">]</span><span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        tmp<span class="token punctuation">[</span><span class="token string">'lchild'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'root'</span><span class="token punctuation">:</span>lchild<span class="token punctuation">,</span><span class="token string">'lchild'</span><span class="token punctuation">:</span><span class="token boolean">None</span><span class="token punctuation">,</span><span class="token string">'rchild'</span><span class="token punctuation">:</span><span class="token boolean">None</span><span class="token punctuation">}</span> <span class="token keyword">if</span> lchild <span class="token operator">!=</span> <span class="token boolean">None</span> <span class="token keyword">else</span> <span class="token boolean">None</span>
        tmp<span class="token punctuation">[</span><span class="token string">'rchild'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'root'</span><span class="token punctuation">:</span>rchild<span class="token punctuation">,</span><span class="token string">'lchild'</span><span class="token punctuation">:</span><span class="token boolean">None</span><span class="token punctuation">,</span><span class="token string">'rchild'</span><span class="token punctuation">:</span><span class="token boolean">None</span><span class="token punctuation">}</span> <span class="token keyword">if</span> rchild <span class="token operator">!=</span> <span class="token boolean">None</span> <span class="token keyword">else</span> <span class="token boolean">None</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'tree'</span><span class="token punctuation">,</span>tree<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'step'</span><span class="token punctuation">,</span>step<span class="token punctuation">)</span>

    <span class="token keyword">if</span> tree<span class="token operator">==</span><span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        tree<span class="token punctuation">.</span>update<span class="token punctuation">(</span>tmp<span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        set_nested_dict_value<span class="token punctuation">(</span>tree<span class="token punctuation">,</span> step<span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>
    

    <span class="token comment"># print(tree)</span>
    <span class="token comment"># print(arr1[:flag],arr1[len_left:len_left+len_right])</span>
    <span class="token comment"># print(arr2[:flag],arr2[flag+1:])</span>
    <span class="token comment"># if len(arr1[:flag])&gt;0 and len(arr2[:flag])&gt;0:</span>
    <span class="token comment">#     createTree(arr1[:flag],arr2[:flag],tree,step+['lchild']) # 左子树</span>
    <span class="token comment"># if len(arr1[len_left:len_left+len_right])&gt;0 and len(arr2[flag+1:])&gt;0:</span>
    <span class="token comment">#     createTree(arr1[len_left:len_left+len_right],arr2[flag+1:],tree,step+['rchild']) #右子树</span>
    <span class="token comment"># if len(arr1[:flag])==0 and len(arr2[:flag])==0 and len(arr1[len_left:len_left+len_right])==0 and len(arr2[flag+1:])==0:</span>
    <span class="token comment">#     print('chu')</span>
    <span class="token comment">#     print(tree)</span>

    left_mid <span class="token operator">=</span> arr2<span class="token punctuation">[</span><span class="token punctuation">:</span>flag<span class="token punctuation">]</span>
    right_mid <span class="token operator">=</span> arr2<span class="token punctuation">[</span>flag<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span>

    left_back <span class="token operator">=</span> arr1<span class="token punctuation">[</span><span class="token punctuation">:</span>flag<span class="token punctuation">]</span>
    right_back <span class="token operator">=</span> arr1<span class="token punctuation">[</span>len_left<span class="token punctuation">:</span>len_left<span class="token operator">+</span>len_right<span class="token punctuation">]</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>left_back<span class="token punctuation">,</span>right_back<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>left_mid<span class="token punctuation">,</span>right_mid<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>left_back<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span> <span class="token keyword">and</span> <span class="token builtin">len</span><span class="token punctuation">(</span>left_mid<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">:</span>
        createTree<span class="token punctuation">(</span>left_back<span class="token punctuation">,</span>left_mid<span class="token punctuation">,</span>tree<span class="token punctuation">,</span>step<span class="token operator">+</span><span class="token punctuation">[</span><span class="token string">'lchild'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># 左子树</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>right_back<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span> <span class="token keyword">and</span> <span class="token builtin">len</span><span class="token punctuation">(</span>right_mid<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">:</span>
        createTree<span class="token punctuation">(</span>right_back<span class="token punctuation">,</span>right_mid<span class="token punctuation">,</span>tree<span class="token punctuation">,</span>step<span class="token operator">+</span><span class="token punctuation">[</span><span class="token string">'rchild'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#右子树</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>left_back<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">and</span> <span class="token builtin">len</span><span class="token punctuation">(</span>left_mid<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">and</span> <span class="token builtin">len</span><span class="token punctuation">(</span>right_back<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">and</span> <span class="token builtin">len</span><span class="token punctuation">(</span>right_mid<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'chu'</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span>


tree <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

back <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
mid <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>

createTree<span class="token punctuation">(</span>back<span class="token punctuation">,</span>mid<span class="token punctuation">,</span>tree<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
tree
</code></pre>
    <p>
     简化
    </p>
    <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">set_nested_dict_value</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span> keys<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    根据键列表设置嵌套字典的值
    :param d: 原始字典
    :param keys: 键列表
    :param value: 要设置的值
    """</span>
    <span class="token comment"># 从第一个键开始，逐层深入</span>
    <span class="token keyword">for</span> key <span class="token keyword">in</span> keys<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token comment"># 如果当前键不存在，则创建一个空字典</span>
        <span class="token keyword">if</span> key <span class="token keyword">not</span> <span class="token keyword">in</span> d<span class="token punctuation">:</span>
            d<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
        <span class="token comment"># 下一层字典</span>
        d <span class="token operator">=</span> d<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
    <span class="token comment"># 设置最后一个键的值</span>
    d<span class="token punctuation">[</span>keys<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> value

<span class="token keyword">def</span> <span class="token function">createTree</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span>arr2<span class="token punctuation">,</span>tree<span class="token punctuation">,</span>step<span class="token punctuation">)</span><span class="token punctuation">:</span>

    root <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>

    flag <span class="token operator">=</span> arr2<span class="token punctuation">.</span>index<span class="token punctuation">(</span>arr1<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">)</span>

    len_right <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token operator">-</span>flag<span class="token operator">-</span><span class="token number">1</span>
    len_left <span class="token operator">=</span> flag

    tmp <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'root'</span><span class="token punctuation">:</span>arr1<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">'lchild'</span><span class="token punctuation">:</span><span class="token boolean">None</span><span class="token punctuation">,</span><span class="token string">'rchild'</span><span class="token punctuation">:</span><span class="token boolean">None</span><span class="token punctuation">}</span> 

    <span class="token keyword">if</span> tree<span class="token operator">==</span><span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        tree<span class="token punctuation">.</span>update<span class="token punctuation">(</span>tmp<span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        set_nested_dict_value<span class="token punctuation">(</span>tree<span class="token punctuation">,</span> step<span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>
    

    left_mid <span class="token operator">=</span> arr2<span class="token punctuation">[</span><span class="token punctuation">:</span>flag<span class="token punctuation">]</span>
    right_mid <span class="token operator">=</span> arr2<span class="token punctuation">[</span>flag<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span>

    left_back <span class="token operator">=</span> arr1<span class="token punctuation">[</span><span class="token punctuation">:</span>flag<span class="token punctuation">]</span>
    right_back <span class="token operator">=</span> arr1<span class="token punctuation">[</span>len_left<span class="token punctuation">:</span>len_left<span class="token operator">+</span>len_right<span class="token punctuation">]</span>
    

    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>left_back<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span> <span class="token keyword">and</span> <span class="token builtin">len</span><span class="token punctuation">(</span>left_mid<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">:</span>
        createTree<span class="token punctuation">(</span>left_back<span class="token punctuation">,</span>left_mid<span class="token punctuation">,</span>tree<span class="token punctuation">,</span>step<span class="token operator">+</span><span class="token punctuation">[</span><span class="token string">'lchild'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># 左子树</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>right_back<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span> <span class="token keyword">and</span> <span class="token builtin">len</span><span class="token punctuation">(</span>right_mid<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">:</span>
        createTree<span class="token punctuation">(</span>right_back<span class="token punctuation">,</span>right_mid<span class="token punctuation">,</span>tree<span class="token punctuation">,</span>step<span class="token operator">+</span><span class="token punctuation">[</span><span class="token string">'rchild'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#右子树</span>


tree <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

back <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
mid <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>

createTree<span class="token punctuation">(</span>back<span class="token punctuation">,</span>mid<span class="token punctuation">,</span>tree<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
tree

</code></pre>
    <pre><code>{
	'root': 1,
	'lchild': {
		'root': 2,
		 'lchild': {'root': 3, 'lchild': None, 'rchild': None},
		 'rchild': {'root': 4, 'lchild': None, 'rchild': None}},
	'rchild': {
		'root': 5,
		'lchild': {'root': 6, 'lchild': None, 'rchild': None},
		'rchild': None}
  }
</code></pre>
    <h3>
     <a id="_215">
     </a>
     步骤二：先序遍历
    </h3>
    <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">preOrder</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">:</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span>tree<span class="token punctuation">[</span><span class="token string">'root'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> tree<span class="token punctuation">[</span><span class="token string">'lchild'</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        preOrder<span class="token punctuation">(</span>tree<span class="token punctuation">[</span><span class="token string">'lchild'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> tree<span class="token punctuation">[</span><span class="token string">'rchild'</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        preOrder<span class="token punctuation">(</span>tree<span class="token punctuation">[</span><span class="token string">'rchild'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
preOrder<span class="token punctuation">(</span>tree<span class="token punctuation">)</span>
</code></pre>
    <pre><code>1
2
3
4
5
6
</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f6665697368756f72656e2f:61727469636c652f64657461696c732f313435373733373938" class_="artid" style="display:none">
 </p>
</div>


