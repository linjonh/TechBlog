---
layout: post
title: "OpenSSL-的主要功能及其示例命令"
date: 2025-03-12 23:58:22 +0800
description: "OpenSSL 是一个功能强大的工具，涵盖了从密钥生成、证书管理到数据加密解密的各个方面。OpenSSL 是一个功能强大的开源工具包，用于处理各种与加密相关的任务，包括生成密钥、创建证书、加密解密数据、验证证书等。• 说明：使用私钥生成一个自签名的 X.509 证书，有效期为 365 天，保存到。• 说明：使用 CA 证书和私钥签署一个证书签名请求（CSR），生成签名后的证书。• 说明：生成一个 CA 私钥和自签名的 CA 证书，有效期为 3650 天。• 说明：生成一个证书签名请求（CSR），保存到。"
keywords: "OpenSSL 的主要功能及其示例命令"
categories: ['未分类']
tags: ['Java']
artid: "146218216"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146218216
    alt: "OpenSSL-的主要功能及其示例命令"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146218216
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146218216
cover: https://bing.ee123.net/img/rand?artid=146218216
image: https://bing.ee123.net/img/rand?artid=146218216
img: https://bing.ee123.net/img/rand?artid=146218216
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     OpenSSL 的主要功能及其示例命令
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     OpenSSL 是一个功能强大的开源工具包，用于处理各种与加密相关的任务，包括生成密钥、创建证书、加密解密数据、验证证书等。以下是 OpenSSL 的主要功能及其示例命令。
    </p>
    <hr/>
    <p>
     1.生成密钥
    </p>
    <p>
     1.1 生成 RSA 私钥
    </p>
    <pre><code class="prism language-bash">openssl genrsa <span class="token parameter variable">-out</span> private_key.pem <span class="token number">2048</span>
</code></pre>
    <p>
     • 说明：生成一个 2048 位的 RSA 私钥，并保存到
     <code>
      private_key.pem
     </code>
     文件中。
    </p>
    <p>
     1.2 从私钥提取公钥
    </p>
    <pre><code class="prism language-bash">openssl rsa <span class="token parameter variable">-in</span> private_key.pem <span class="token parameter variable">-pubout</span> <span class="token parameter variable">-out</span> public_key.pem
</code></pre>
    <p>
     • 说明：从私钥文件中提取公钥，并保存到
     <code>
      public_key.pem
     </code>
     文件中。
    </p>
    <hr/>
    <p>
     2.生成自签名证书
    </p>
    <p>
     2.1 生成自签名证书
    </p>
    <pre><code class="prism language-bash">openssl req <span class="token parameter variable">-x509</span> <span class="token parameter variable">-new</span> <span class="token parameter variable">-key</span> private_key.pem <span class="token parameter variable">-out</span> certificate.pem <span class="token parameter variable">-days</span> <span class="token number">365</span>
</code></pre>
    <p>
     • 说明：使用私钥生成一个自签名的 X.509 证书，有效期为 365 天，保存到
     <code>
      certificate.pem
     </code>
     文件中。
    </p>
    <p>
     2.2 生成证书签名请求（CSR）
    </p>
    <pre><code class="prism language-bash">openssl req <span class="token parameter variable">-new</span> <span class="token parameter variable">-key</span> private_key.pem <span class="token parameter variable">-out</span> csr.pem
</code></pre>
    <p>
     • 说明：生成一个证书签名请求（CSR），保存到
     <code>
      csr.pem
     </code>
     文件中。CSR 可以提交给证书颁发机构（CA）以获取签名证书。
    </p>
    <hr/>
    <p>
     3.验证证书
    </p>
    <p>
     3.1 验证证书
    </p>
    <pre><code class="prism language-bash">openssl x509 <span class="token parameter variable">-in</span> certificate.pem <span class="token parameter variable">-text</span> <span class="token parameter variable">-noout</span>
</code></pre>
    <p>
     • 说明：查看证书的详细信息，包括主题、有效期、颁发者等。
    </p>
    <p>
     3.2 验证证书链
    </p>
    <pre><code class="prism language-bash">openssl verify <span class="token parameter variable">-CAfile</span> ca_certificate.pem certificate.pem
</code></pre>
    <p>
     • 说明：验证
     <code>
      certificate.pem
     </code>
     是否由
     <code>
      ca_certificate.pem
     </code>
     颁发。
    </p>
    <hr/>
    <p>
     4.加密和解密
    </p>
    <p>
     4.1 使用公钥加密数据
    </p>
    <pre><code class="prism language-bash">openssl rsautl <span class="token parameter variable">-encrypt</span> <span class="token parameter variable">-pubin</span> <span class="token parameter variable">-inkey</span> public_key.pem <span class="token parameter variable">-in</span> plaintext.txt <span class="token parameter variable">-out</span> encrypted.bin
</code></pre>
    <p>
     • 说明：使用公钥对
     <code>
      plaintext.txt
     </code>
     文件进行加密，生成加密后的二进制文件
     <code>
      encrypted.bin
     </code>
     。
    </p>
    <p>
     4.2 使用私钥解密数据
    </p>
    <pre><code class="prism language-bash">openssl rsautl <span class="token parameter variable">-decrypt</span> <span class="token parameter variable">-inkey</span> private_key.pem <span class="token parameter variable">-in</span> encrypted.bin <span class="token parameter variable">-out</span> decrypted.txt
</code></pre>
    <p>
     • 说明：使用私钥对
     <code>
      encrypted.bin
     </code>
     文件进行解密，生成解密后的文件
     <code>
      decrypted.txt
     </code>
     。
    </p>
    <hr/>
    <p>
     5.生成和管理证书颁发机构（CA）
    </p>
    <p>
     5.1 创建 CA 证书
    </p>
    <pre><code class="prism language-bash">openssl genrsa <span class="token parameter variable">-out</span> ca_private_key.pem <span class="token number">2048</span>
openssl req <span class="token parameter variable">-x509</span> <span class="token parameter variable">-new</span> <span class="token parameter variable">-key</span> ca_private_key.pem <span class="token parameter variable">-out</span> ca_certificate.pem <span class="token parameter variable">-days</span> <span class="token number">3650</span>
</code></pre>
    <p>
     • 说明：生成一个 CA 私钥和自签名的 CA 证书，有效期为 3650 天。
    </p>
    <p>
     5.2 签署证书请求
    </p>
    <pre><code class="prism language-bash">openssl x509 <span class="token parameter variable">-req</span> <span class="token parameter variable">-in</span> csr.pem <span class="token parameter variable">-CA</span> ca_certificate.pem <span class="token parameter variable">-CAkey</span> ca_private_key.pem <span class="token parameter variable">-CAcreateserial</span> <span class="token parameter variable">-out</span> signed_certificate.pem <span class="token parameter variable">-days</span> <span class="token number">365</span>
</code></pre>
    <p>
     • 说明：使用 CA 证书和私钥签署一个证书签名请求（CSR），生成签名后的证书
     <code>
      signed_certificate.pem
     </code>
     。
    </p>
    <hr/>
    <p>
     6.创建和管理密钥库（PKCS#12）
    </p>
    <p>
     6.1 创建 PKCS#12 密钥库
    </p>
    <pre><code class="prism language-bash">openssl pkcs12 <span class="token parameter variable">-export</span> <span class="token parameter variable">-out</span> keystore.p12 <span class="token parameter variable">-inkey</span> private_key.pem <span class="token parameter variable">-in</span> certificate.pem
</code></pre>
    <p>
     • 说明：将私钥和证书打包到一个 PKCS#12 密钥库文件
     <code>
      keystore.p12
     </code>
     中。
    </p>
    <p>
     6.2 从 PKCS#12 密钥库提取私钥和证书
    </p>
    <pre><code class="prism language-bash">openssl pkcs12 <span class="token parameter variable">-in</span> keystore.p12 <span class="token parameter variable">-out</span> extracted_private_key.pem <span class="token parameter variable">-nocerts</span>
openssl pkcs12 <span class="token parameter variable">-in</span> keystore.p12 <span class="token parameter variable">-out</span> extracted_certificate.pem <span class="token parameter variable">-nokeys</span>
</code></pre>
    <p>
     • 说明：从 PKCS#12 密钥库中提取私钥和证书。
    </p>
    <hr/>
    <p>
     7.生成 Diffie-Hellman 参数
    </p>
    <p>
     7.1 生成 DH 参数
    </p>
    <pre><code class="prism language-bash">openssl dhparam <span class="token parameter variable">-out</span> dhparams.pem <span class="token number">2048</span>
</code></pre>
    <p>
     • 说明：生成 2048 位的 Diffie-Hellman 参数，保存到
     <code>
      dhparams.pem
     </code>
     文件中。
    </p>
    <hr/>
    <p>
     8.生成和管理椭圆曲线密钥
    </p>
    <p>
     8.1 生成椭圆曲线密钥
    </p>
    <pre><code class="prism language-bash">openssl ecparam <span class="token parameter variable">-genkey</span> <span class="token parameter variable">-name</span> prime256v1 <span class="token parameter variable">-out</span> ecdsa_private_key.pem
</code></pre>
    <p>
     • 说明：生成一个椭圆曲线密钥，使用
     <code>
      prime256v1
     </code>
     曲线，保存到
     <code>
      ecdsa_private_key.pem
     </code>
     文件中。
    </p>
    <p>
     8.2 提取椭圆曲线公钥
    </p>
    <pre><code class="prism language-bash">openssl ec <span class="token parameter variable">-in</span> ecdsa_private_key.pem <span class="token parameter variable">-pubout</span> <span class="token parameter variable">-out</span> ecdsa_public_key.pem
</code></pre>
    <p>
     • 说明：从椭圆曲线私钥文件中提取公钥，保存到
     <code>
      ecdsa_public_key.pem
     </code>
     文件中。
    </p>
    <hr/>
    <p>
     9.生成和管理证书吊销列表（CRL）
    </p>
    <p>
     9.1 创建 CRL
    </p>
    <pre><code class="prism language-bash">openssl ca <span class="token parameter variable">-gencrl</span> <span class="token parameter variable">-out</span> crl.pem <span class="token parameter variable">-config</span> openssl.cnf
</code></pre>
    <p>
     • 说明：生成一个证书吊销列表（CRL），保存到
     <code>
      crl.pem
     </code>
     文件中。需要一个
     <code>
      openssl.cnf
     </code>
     配置文件。
    </p>
    <hr/>
    <p>
     10.其他常用命令
    </p>
    <p>
     10.1 查看私钥信息
    </p>
    <pre><code class="prism language-bash">openssl rsa <span class="token parameter variable">-in</span> private_key.pem <span class="token parameter variable">-check</span>
</code></pre>
    <p>
     • 说明：检查私钥文件的完整性和详细信息。
    </p>
    <p>
     10.2 查看公钥信息
    </p>
    <pre><code class="prism language-bash">openssl rsa <span class="token parameter variable">-pubin</span> <span class="token parameter variable">-in</span> public_key.pem <span class="token parameter variable">-check</span>
</code></pre>
    <p>
     • 说明：检查公钥文件的完整性和详细信息。
    </p>
    <p>
     10.3 查看 CSR 信息
    </p>
    <pre><code class="prism language-bash">openssl req <span class="token parameter variable">-in</span> csr.pem <span class="token parameter variable">-text</span> <span class="token parameter variable">-noout</span>
</code></pre>
    <p>
     • 说明：查看证书签名请求（CSR）的详细信息。
    </p>
    <p>
     10.4 查看密钥库信息
    </p>
    <pre><code class="prism language-bash">openssl pkcs12 <span class="token parameter variable">-info</span> <span class="token parameter variable">-in</span> keystore.p12
</code></pre>
    <p>
     • 说明：查看 PKCS#12 密钥库文件的详细信息。
    </p>
    <hr/>
    <p>
     总结
     <br/>
     OpenSSL 是一个功能强大的工具，涵盖了从密钥生成、证书管理到数据加密解密的各个方面。通过上述命令，你可以完成大多数与加密相关的任务。如果你有特定的需求或遇到问题，可以参考 OpenSSL 的官方文档或社区支持。
    </p>
   </div>
   <link href="./../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="./../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f753031313134343838312f:61727469636c652f64657461696c732f313436323138323136" class_="artid" style="display:none">
 </p>
</div>


