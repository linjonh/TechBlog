---
layout: post
title: "oralce-sql-查询rownum1到1000的数据"
date: 2025-03-12 08:59:10 +0800
description: "在Oracle SQL中，ROWNUM 是一个伪列，用于为查询结果集中的每一行分配一个唯一的行号，行号从 1 开始。如果你想查询 ROWNUM 从 1 到 1000 的数据，可以使用不同的方法，下面为你详细介绍：示例表结构和数据假设我们有一个名为 employees 的表，包含 employee_id 和 employee..."
keywords: "oralce sql 查询rownum1到1000的数据"
categories: ['未分类']
tags: ['数据库', 'Sql']
artid: "146220960"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146220960
    alt: "oralce-sql-查询rownum1到1000的数据"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146220960
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146220960
cover: https://bing.ee123.net/img/rand?artid=146220960
image: https://bing.ee123.net/img/rand?artid=146220960
img: https://bing.ee123.net/img/rand?artid=146220960
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     oralce sql 查询rownum1到1000的数据
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <div class="article-content-wrap" style="font-size: 16px;">
     <div class="artical-content-bak main-content editor-side-new">
      <div class="con editor-preview-side" id="result">
       <div class="editor-container container am-engine" id="container">
        <p>
         在Oracle SQL中，
         <code>
          ROWNUM
         </code>
         是一个伪列，用于为查询结果集中的每一行分配一个唯一的行号，行号从 1 开始。如果你想查询
         <code>
          ROWNUM
         </code>
         从 1 到 1000 的数据，可以使用不同的方法，下面为你详细介绍：
        </p>
        <h5 id="h0">
         示例表结构和数据
        </h5>
        <p>
         假设我们有一个名为
         <code>
          employees
         </code>
         的表，包含
         <code>
          employee_id
         </code>
         和
         <code>
          employee_name
         </code>
         两列，以下是创建表和插入示例数据的 SQL 代码：
        </p>
        <div>
         <div class="code-toolbar">
          <div class="hljs-cto">
           <div class="operation_box">
            <button class="copy_btn disable">
             登录后复制
            </button>
            <a class="downloadCode" title="登录后一键下载全文代码">
             <i class="iconblog blogimport">
             </i>
            </a>
           </div>
           <pre class="has" tabindex="0"><code class="language-plain has-numbering" id="code_id_0">-- 创建 employees 表
CREATE TABLE employees (
    employee_id NUMBER,
    employee_name VARCHAR2(100)
);

-- 插入示例数据
INSERT INTO employees (employee_id, employee_name) VALUES (1, 'Alice');
INSERT INTO employees (employee_id, employee_name) VALUES (2, 'Bob');
-- 这里可以继续插入更多数据以满足查询 1000 条的需求

COMMIT;</code></pre>
           <ul class="pre-numbering">
            <li>
             1.
            </li>
            <li>
             2.
            </li>
            <li>
             3.
            </li>
            <li>
             4.
            </li>
            <li>
             5.
            </li>
            <li>
             6.
            </li>
            <li>
             7.
            </li>
            <li>
             8.
            </li>
            <li>
             9.
            </li>
            <li>
             10.
            </li>
            <li>
             11.
            </li>
            <li>
             12.
            </li>
           </ul>
          </div>
         </div>
        </div>
        <h5 id="h1">
         方法一：直接使用
         <code>
          ROWNUM
         </code>
         筛选(适用于简单场景)
        </h5>
        <div>
         <div class="code-toolbar">
          <div class="hljs-cto">
           <div class="operation_box">
            <button class="copy_btn disable">
             登录后复制
            </button>
            <a class="downloadCode" title="登录后一键下载全文代码">
             <i class="iconblog blogimport">
             </i>
            </a>
           </div>
           <pre class="has" tabindex="0"><code class="language-plain has-numbering" id="code_id_1">SELECT *
FROM employees
WHERE ROWNUM &lt;= 1000;</code></pre>
           <ul class="pre-numbering">
            <li>
             1.
            </li>
            <li>
             2.
            </li>
            <li>
             3.
            </li>
           </ul>
          </div>
         </div>
        </div>
        <p>
         在这个查询中，
         <code>
          WHERE ROWNUM &lt;= 1000
         </code>
         条件直接筛选出
         <code>
          ROWNUM
         </code>
         小于等于 1000 的行。不过需要注意的是，
         <code>
          ROWNUM
         </code>
         是在查询结果返回时就分配的，所以不能直接使用
         <code>
          ROWNUM BETWEEN 1 AND 1000
         </code>
         或者
         <code>
          ROWNUM &gt;= 1
         </code>
         这样的条件来筛选中间部分的行。
        </p>
        <h5 id="h2">
         方法二：使用子查询和
         <code>
          ROWNUM
         </code>
         筛选指定范围(适用于查询中间部分的行)
        </h5>
        <p>
         如果你想查询
         <code>
          ROWNUM
         </code>
         从
         <code>
          m
         </code>
         到
         <code>
          n
         </code>
         的数据(这里假设
         <code>
          m = 1
         </code>
         ，
         <code>
          n = 1000
         </code>
         )，可以使用以下方法：
        </p>
        <div>
         <div class="code-toolbar">
          <div class="hljs-cto">
           <div class="operation_box">
            <button class="copy_btn disable">
             登录后复制
            </button>
            <a class="downloadCode" title="登录后一键下载全文代码">
             <i class="iconblog blogimport">
             </i>
            </a>
           </div>
           <pre class="has" tabindex="0"><code class="language-plain has-numbering" id="code_id_2">SELECT *
FROM (
    SELECT e.*, ROWNUM AS rn
    FROM employees e
)
WHERE rn BETWEEN 1 AND 1000;</code></pre>
           <ul class="pre-numbering">
            <li>
             1.
            </li>
            <li>
             2.
            </li>
            <li>
             3.
            </li>
            <li>
             4.
            </li>
            <li>
             5.
            </li>
            <li>
             6.
            </li>
           </ul>
          </div>
         </div>
        </div>
        <p>
         在这个查询中，首先在子查询中为每一行分配一个行号
         <code>
          rn
         </code>
         ，然后在外部查询中使用
         <code>
          BETWEEN
         </code>
         条件筛选出
         <code>
          rn
         </code>
         从 1 到 1000 的行。
        </p>
        <h5 id="h3">
         注意事项
        </h5>
        <ul>
         <li>
          <strong>
           排序问题
          </strong>
          ：如果需要对结果进行排序，要确保在子查询中进行排序，因为
          <code>
           ROWNUM
          </code>
          是在排序之前分配的。例如，如果你想按照
          <code>
           employee_id
          </code>
          升序排序并查询前 1000 条记录，可以这样写：
         </li>
        </ul>
        <div>
         <div class="code-toolbar">
          <div class="hljs-cto">
           <div class="operation_box">
            <button class="copy_btn disable">
             登录后复制
            </button>
            <a class="downloadCode" title="登录后一键下载全文代码">
             <i class="iconblog blogimport">
             </i>
            </a>
           </div>
           <pre class="has" tabindex="0"><code class="language-plain has-numbering" id="code_id_3">SELECT *
FROM (
    SELECT e.*, ROWNUM AS rn
    FROM (
        SELECT *
        FROM employees
        ORDER BY employee_id
    ) e
)
WHERE rn BETWEEN 1 AND 1000;</code></pre>
           <ul class="pre-numbering">
            <li>
             1.
            </li>
            <li>
             2.
            </li>
            <li>
             3.
            </li>
            <li>
             4.
            </li>
            <li>
             5.
            </li>
            <li>
             6.
            </li>
            <li>
             7.
            </li>
            <li>
             8.
            </li>
            <li>
             9.
            </li>
            <li>
             10.
            </li>
           </ul>
          </div>
         </div>
        </div>
        <ul>
         <li>
          <strong>
           性能考虑
          </strong>
          ：当数据量非常大时，查询
          <code>
           ROWNUM
          </code>
          范围可能会影响性能。可以根据实际情况考虑使用索引等优化手段。
         </li>
        </ul>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34313732323932382f:61727469636c652f64657461696c732f313436323230393630" class_="artid" style="display:none">
 </p>
</div>


