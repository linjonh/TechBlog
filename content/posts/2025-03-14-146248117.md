---
layout: post
title: "内网穿透的应用-全流程解析如何通过VNC实现Windows与MacOS远程桌面的无缝连接"
date: 2025-03-14 08:31:23 +0800
description: "在这个网络办公风生水起的时代，远程工作已经成为了职场达人的新宠。无论是程序员、设计师还是企业高管，谁不想拥有这样的超能力，在千里之外也能轻松搞定一切？但当你满怀信心地想要用其他系统设备操控MacOS电脑时，却遭遇了内网这堵‘铜墙铁壁’的阻拦。别急，cpolar这位‘攻城狮’早已为你准备好了破局秘籍。"
keywords: "内网穿透的应用-全流程解析如何通过VNC实现Windows与MacOS远程桌面的无缝连接"
categories: ['未分类']
tags: ['Windows', 'Macos']
artid: "146248117"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146248117
    alt: "内网穿透的应用-全流程解析如何通过VNC实现Windows与MacOS远程桌面的无缝连接"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146248117
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146248117
cover: https://bing.ee123.net/img/rand?artid=146248117
image: https://bing.ee123.net/img/rand?artid=146248117
img: https://bing.ee123.net/img/rand?artid=146248117
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     内网穿透的应用-全流程解析如何通过VNC实现Windows与MacOS远程桌面的无缝连接
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <p>
    </p>
    <h3>
     <a id="_2">
     </a>
     前言
    </h3>
    <p>
     在这个网络办公风生水起的时代，远程工作已经成为了职场达人的新宠。无论是程序员、设计师还是企业高管，谁不想拥有这样的超能力，在千里之外也能轻松搞定一切？但当你满怀信心地想要用其他系统设备操控MacOS电脑时，却遭遇了内网这堵‘铜墙铁壁’的阻拦。别急，cpolar这位‘攻城狮’早已为你准备好了破局秘籍。
    </p>
    <h3>
     <a id="1__6">
     </a>
     1. 测试局域网内远程控制
    </h3>
    <h4>
     <a id="11_MacOS_8">
     </a>
     1.1 MacOS打开屏幕共享
    </h4>
    <p>
     打开系统偏好设置，打开
     <code>
      共享
     </code>
    </p>
    <p>
     <img alt="20221230115730" src="https://i-blog.csdnimg.cn/img_convert/758c3d5f2393fa6258215db2c7333858.png"/>
    </p>
    <p>
     勾选打开
     <code>
      屏幕共享
     </code>
     ，点击右侧的电脑设置
    </p>
    <p>
     <img alt="20221230130308" src="https://i-blog.csdnimg.cn/img_convert/00c7c7b66e9e57ff13c841b074b8de65.png"/>
    </p>
    <p>
     勾选
     <code>
      VNC显示程序可以使用密码控制屏幕
     </code>
     ，并且设置一个连接密码
    </p>
    <p>
     <img alt="外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传" src="https://img-home.csdnimg.cn/images/20230724024159.png?origin_url=https%3A%2F%2Fimages.cpolar.com%2Fimg%2F20221230120007.png&amp;pos_id=img-QHvJUviR-1741912222469"/>
    </p>
    <h4>
     <a id="12_VNC_22">
     </a>
     1.2 测试局域网内VNC远程控制
    </h4>
    <p>
     这里测试使用windows系统远程控制MacOS。当然，您也可以用MacOS系统或者手机端进行远程控制，只需要本地安装配置VNC即可。
    </p>
    <p>
     Windows控制端安装vnc viewer
    </p>
    <blockquote>
     <p>
      vnc viewer下载地址：
      <br/>
      <a href="https://www.realvnc.com/en/connect/download/viewer/" rel="nofollow">
       https://www.realvnc.com/en/connect/download/viewer/
      </a>
     </p>
    </blockquote>
    <p>
     <img alt="外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传" src="https://img-home.csdnimg.cn/images/20230724024159.png?origin_url=https%3A%2F%2Fimages.cpolar.com%2Fimg%2F20221230112443.png&amp;pos_id=img-3fIWsTWp-1741912222470"/>
    </p>
    <p>
     vnc viewer下载并安装完成后打开客户端，在上方地址栏输入MacOS的IP地址
    </p>
    <p>
     <img alt="20221230112526" src="https://i-blog.csdnimg.cn/img_convert/18f4c7c44897855d535a18f5073633cb.png"/>
    </p>
    <p>
     点击continue
    </p>
    <p>
     <img alt="20221230112624" src="https://i-blog.csdnimg.cn/img_convert/4fffb41bf88f8ba37663775b461fc148.png"/>
    </p>
    <p>
     输入MacOS用户名以及vnc登录密码
    </p>
    <p>
     <img alt="20221230112706" src="https://i-blog.csdnimg.cn/img_convert/6428c8dc4307e71d405590da04801d3c.png"/>
    </p>
    <p>
     远程登录成功
    </p>
    <p>
     <img alt="20221230112753" src="https://i-blog.csdnimg.cn/img_convert/cf43a18bd466f052b75741a46a8cc1fd.png"/>
    </p>
    <h3>
     <a id="2__49">
     </a>
     2. 测试公网远程控制
    </h3>
    <p>
     局域网内测试远程控制成功后，接下来，我们来实现在公网环境下的远程控制，使用cpolar内网穿透创建tcp隧道，映射5900（vnc默认端口号），即可通过所生成的公网地址来进行公网远程控制，无需公网IP，也无需设置路由器。
    </p>
    <h4>
     <a id="21_MacOScpolar_53">
     </a>
     2.1 MacOS安装配置cpolar内网穿透
    </h4>
    <p>
     在官网下载下载适用于MacOS平台的zip压缩包，解压后得到cpolar，然后通过命令行带参数运行即可。
    </p>
    <ul>
     <li>
      安装homebrew
     </li>
    </ul>
    <pre><code class="prism language-shell">/bin/bash <span class="token parameter variable">-c</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh<span class="token variable">)</span></span>"</span>
</code></pre>
    <p>
     需要注意的是，在安装homebrew时有可能会提示出错，无法链接服务器下载，可以将脚本地址更改为科大的镜像地址，然后再进行安装，具体可以百度教程。
    </p>
    <ul>
     <li>
      检测是否安装homebrew
     </li>
    </ul>
    <pre><code class="prism language-shell">brew <span class="token parameter variable">-v</span>
</code></pre>
    <ul>
     <li>
      安装cpolar内网穿透
     </li>
    </ul>
    <pre><code class="prism language-shell">brew tap probezy/core <span class="token operator">&amp;&amp;</span> brew <span class="token function">install</span> cpolar
</code></pre>
    <ul>
     <li>
      token认证
     </li>
    </ul>
    <p>
     登录
     <a href="https://dashboard.cpolar.com/auth" rel="nofollow">
      cpolar官网后台
     </a>
     ，点击左侧的验证，查看自己的认证token，之后将token贴在命令行里
    </p>
    <pre><code class="prism language-shell">cpolar authtoken xxxxxxx
</code></pre>
    <p>
     <img alt="外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传" src="https://img-home.csdnimg.cn/images/20230724024159.png?origin_url=https%3A%2F%2Fimages.cpolar.com%2Fimg%2F20221229152722.png&amp;pos_id=img-jK65ZTUi-1741912222471"/>
    </p>
    <ul>
     <li>
      安装服务
     </li>
    </ul>
    <pre><code class="prism language-shell"><span class="token function">sudo</span> cpolar <span class="token function">service</span> <span class="token function">install</span>
</code></pre>
    <ul>
     <li>
      启动服务
     </li>
    </ul>
    <pre><code class="prism language-shell"><span class="token function">sudo</span> cpolar <span class="token function">service</span> start
</code></pre>
    <ul>
     <li>
      登录cpolar web UI管理界面
     </li>
    </ul>
    <p>
     在浏览器上访问本地9200端口【
     <a href="http://127.0.0.1:9200/" rel="nofollow">
      http://127.0.0.1:9200/
     </a>
     】，使用cpolar账号登录。
    </p>
    <p>
     <img alt="20221229153018" src="https://i-blog.csdnimg.cn/img_convert/0b3fd9878552c42becd123fc68c662e0.png"/>
    </p>
    <p>
     登录成功后，点击左侧仪表盘的隧道管理——隧道列表，可以看到两条样例隧道（可自行编辑或者删减）
    </p>
    <ul>
     <li>
      ssh隧道：指向本地22端口，tcp协议
     </li>
     <li>
      website隧道：指向本地8080端口，tcp协议
     </li>
    </ul>
    <p>
     <img alt="20221229173953" src="https://i-blog.csdnimg.cn/img_convert/7f6f40511aabd87304a5de0f0046517c.png"/>
    </p>
    <h4>
     <a id="22_tcp5900_111">
     </a>
     2.2 创建tcp隧道，指向5900端口
    </h4>
    <p>
     点击左侧仪表盘的隧道管理——创建隧道：
    </p>
    <ul>
     <li>
      隧道名称：可自定义，注意不要与已有隧道名称重复
     </li>
     <li>
      协议：tcp协议
     </li>
     <li>
      本地地址：5900（vnc默认端口号）
     </li>
     <li>
      端口类型：免费选择随机临时tcp端口
     </li>
     <li>
      地区：选择China VIP
     </li>
    </ul>
    <p>
     点击
     <code>
      创建
     </code>
    </p>
    <p>
     <img alt="20221230110547" src="https://i-blog.csdnimg.cn/img_convert/389af6fa138969a920addb4b616eb535.png"/>
    </p>
    <p>
     提示隧道创建成功后，页面自动跳转至隧道列表，可以看到刚刚创建成功的vnc隧道，状态
     <code>
      active
     </code>
     ，表示为正常在线，注意无需再次点击启动。
    </p>
    <p>
     <img alt="20221230110629" src="https://i-blog.csdnimg.cn/img_convert/890d0c1bf6fdd9e01646f50e587d14d3.png"/>
    </p>
    <p>
     点击左侧仪表盘的状态——在线隧道列表，可以看到vnc隧道已经有生成了相应的公网地址，本例为
     <code>
      2.tcp.vip.cpolar.cn:10208
     </code>
     ，将其复制下来，注意无需复制
     <code>
      tcp://
     </code>
     。
    </p>
    <p>
     <img alt="20221230110709" src="https://i-blog.csdnimg.cn/img_convert/123752fc552fb0d664b364d68b3e3034.png"/>
    </p>
    <h3>
     <a id="3__133">
     </a>
     3. 测试公网远程控制
    </h3>
    <p>
     windows控制端打开vnc viewer，点击上方的地址栏，输入公网地址，并点击连接。
    </p>
    <p>
     <img alt="20221230112958" src="https://i-blog.csdnimg.cn/img_convert/42c039a50b40c0ffbe12a920a96912e0.png"/>
    </p>
    <p>
     测试公网地址远程登录成功！
    </p>
    <p>
     <img alt="20221230113011" src="https://i-blog.csdnimg.cn/img_convert/0a132ae2e635604925057d90dbe01a5e.png"/>
    </p>
    <h3>
     <a id="4_TCP_143">
     </a>
     4. 配置公网固定TCP地址
    </h3>
    <p>
     刚刚所创建的隧道选择的是随机临时端口地址，所生成的公网地址24小时内会发生变化，对于需要长期远程的用户来讲不是很方便。为此，我们可以为其配置一个固定的TCP端口地址，同时提高带宽。
    </p>
    <h4>
     <a id="41_TCP_147">
     </a>
     4.1 保留固定TCP地址
    </h4>
    <p>
     登录
     <a href="https://dashboard.cpolar.com/reserved" rel="nofollow">
      cpolar官网后台
     </a>
     ，点击左侧的预留，找到保留的TCP地址：
    </p>
    <ul>
     <li>
      地区：选择China VIP
     </li>
     <li>
      描述：即备注，可自定义填写
     </li>
    </ul>
    <p>
     点击
     <code>
      保留
     </code>
    </p>
    <p>
     <img alt="20221230111317" src="https://i-blog.csdnimg.cn/img_convert/9c1bf240e0adc77c943fe231d41322e3.png"/>
    </p>
    <p>
     固定TCP地址保留成功，系统生成相应的公网地址+固定端口号，将其复制下来，本例为
     <code>
      3.tcp.vip.cpolar.cn:11349
     </code>
    </p>
    <p>
     <img alt="20221230111434" src="https://i-blog.csdnimg.cn/img_convert/f231a13cdf12ea4b51af68cf188c05a5.png"/>
    </p>
    <h4>
     <a id="42_TCP_162">
     </a>
     4.2 配置固定TCP端口地址
    </h4>
    <p>
     浏览器访问
     <a href="http://127.0.0.1:9200/" rel="nofollow">
      http://127.0.0.1:9200/
     </a>
     登录cpolar web UI管理界面，点击左侧仪表盘的隧道管理——隧道列表，找到vnc隧道，点击右侧的
     <code>
      编辑
     </code>
    </p>
    <p>
     <img alt="20221230111514" src="https://i-blog.csdnimg.cn/img_convert/e76e891f6475078ef791e3fc5cfd246e.png"/>
    </p>
    <p>
     修改隧道信息，配置固定TCP端口地址：
    </p>
    <ul>
     <li>
      端口类型：改为选择
      <code>
       固定TCP端口
      </code>
     </li>
     <li>
      预留的TCP地址：填写刚刚保留成功的固定TCP端口地址
     </li>
    </ul>
    <p>
     点击
     <code>
      更新
     </code>
    </p>
    <p>
     <img alt="20221230111554" src="https://i-blog.csdnimg.cn/img_convert/158064c4db63955cebe2dd2816dfa7a8.png"/>
    </p>
    <p>
     提示更新隧道成功，点击左侧仪表盘的状态——在线隧道列表，可以看到vnc隧道的公网地址已经更新为固定TCP端口地址，将其复制下来。
    </p>
    <p>
     <img alt="20221230111630" src="https://i-blog.csdnimg.cn/img_convert/1d13ba117534efa45edd98ad6673a4e9.png"/>
    </p>
    <h3>
     <a id="5_TCP_181">
     </a>
     5. 使用固定公网TCP地址远程控制
    </h3>
    <p>
     点击上方的地址栏，输入公网固定TCP端口地址，并点击连接。
    </p>
    <p>
     <img alt="20221230113054" src="https://i-blog.csdnimg.cn/img_convert/f38589d5938f42a62cdd2f0a3f552d52.png"/>
    </p>
    <p>
     远程控制成功！
    </p>
    <p>
     <img alt="20221230113109" src="https://i-blog.csdnimg.cn/img_convert/47c0b3181a00f0457e107b80064f2cf9.png"/>
    </p>
    <p>
     掌握了MacOS自带VNC与cpolar的完美搭配，你不仅能在各种场合下轻松远程操控设备，还能让工作变得游刃有余。无论是家庭办公、团队合作还是技术支持，这套组合技都能让你在同事面前大放异彩。赶紧试试吧，说不定你的领导会因为这项新技能而给你发个大大的红包哦！
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34323837383131312f:61727469636c652f64657461696c732f313436323438313137" class_="artid" style="display:none">
 </p>
</div>


