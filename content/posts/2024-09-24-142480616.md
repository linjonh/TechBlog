---
arturl_encode: "6874747073:3a2f2f626c6f672e6373646e2e6e65742f73756d6d6f786a2f:61727469636c652f64657461696c732f313432343830363136"
layout: post
title: "云安全云原生安全攻防"
date: 2024-09-24 09:42:55 +0800
description: "本文主要介绍了云原生场景下的安全风险。_《云原生安全攻防》"
keywords: "《云原生安全攻防》"
categories: ['安全攻防']
tags: ['安全', '云原生']
artid: "142480616"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=142480616
    alt: "云安全云原生安全攻防"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=142480616
featuredImagePreview: https://bing.ee123.net/img/rand?artid=142480616
---

# 【云安全】云原生安全攻防

## 一、云原生安全

#### 1、云原生介绍

云原生指构建和运行应用以充分利用通过云交付模式交付的分布式计算。云原生应用旨在充分利用云平台特有的可扩展性、弹性和灵活性优势。根据云原生计算基金会 (CNCF)的定义，云原生技术可帮助企业在公有云、私有云和混合云上构建和运行可扩展的应用。云原生方法的典型特性包括容器、服务网络、微服务、不可变基础设施以及声明式API等等。借助这些特性，企业可以获得松散耦合的弹性、可管理、可观测的系统，工程师也能尽可能减轻工作负担，高频实施重大变更。

云原生服务可使用 Kubernetes、Docker、无服务器函数、API 网关，服务网格等技术助力现代应用开发。通过使用来自云提供商的云工具和云服务，开发人员可以减轻运营工作负担，更快地构建应用。简而言之，云原生服务可以提供一个全面、基于标准的平台，帮助开发人员更好地构建、部署和管理云原生应用。

#### 2、云原生安全

##### 1）定义

随着云原生技术的广泛应用，云原生安全已经成为一个越来越重要的话题。云原生安全的本质是保护云原生环境基础设施、编排系统和微服务的安全。我们认为，云原生安全具有两种含义：一种是指不一定具备云安全特性，但是能够保护云原生环境；另一种是指具有云原生弹性敏捷、轻量级、可编排特性的安全机制。

##### 2）云原生安全定义1

在第一层含义里，主机安全配置、仓库与镜像安全、行为检测和边界安全等都是很好的例子。这些安全机制并不一定是专门针对云环境设计的，但是它们能够提供保护云原生环境所需的安全措施。例如，在云原生环境中，容器通常是托管在虚拟机上的，因此主机安全配置非常重要，可以确保虚拟机及其上运行的容器免受攻击。同样地，仓库与镜像安全可以确保容器镜像不受到篡改或恶意注入代码的风险。行为检测和边界安全则可以帮助监视网络流量和识别异常行为。这些安全机制可以从多个维度进行保护云原生环境，并防止潜在的攻击和威胁。

##### 3）云原生安全定义2

在第二层含义里，云原生安全具有云原生特性，即弹性敏捷、轻量级和可编排。例如，在云原生环境中，基于安全容器的防御可以为容器提供隔离和保护，并且能够根据需要动态扩展或缩小容器数量。另外，云原生化的WAF、IDS等可以根据应用程序的需求进行自适应调整，从而实现更高效的安全防护。这些安全机制不仅具有传统安全机制的功能，还具有云原生环境所需的灵活性和可扩展性。它们可以通过自动化和编排来管理安全策略，并根据需要对云原生环境进行快速响应和调整。

##### 4）云原生基础设施安全风险

![](https://i-blog.csdnimg.cn/direct/e375250ba0aa4dfbaff2ef96b74d334d.png)

讨论云原生安全的过程中，我们梳理了图2的云原生基础设施安全风险图。通过这个图，我们可以更好地了解云原生环境所面临的各种安全风险和威胁，并针对性地制定相应的安全策略和措施。例如，我们可以采取容器安全扫描工具、镜像签名和加密、编排系统日志审计、微服务间的身份验证等安全措施来保护云原生环境的安全。同时，我们还需要重视多云环境下的安全问题，并采取跨云边界的安全措施和数据隔离措施来确保云原生环境的整体安全性。

## 二、容器及编排系统风险分析

#### 1、容器安全

1）容器镜像安全

首先，容器镜像的安全风险是一个非常重要的问题。容器镜像是指包含应用程序和依赖项的可移植的软件包，它们可以在不同的平台上运行。由于容器镜像通常会包含大量的依赖项和第三方组件，因此容器镜像的安全性可能受到影响。例如，某些容器镜像可能存在漏洞或恶意代码，这可能导致容器逃逸和其他安全问题。针对这个问题，我们需要采取一系列的安全措施来保护容器镜像的安全性。例如，使用安全扫描工具来扫描容器镜像中的漏洞和弱点，使用数字签名来验证容器镜像的来源和完整性，以及使用容器镜像签名和加密来保护容器镜像的安全。

2）容器逃逸

容器逃逸指的是攻击者利用容器环境中的弱点和漏洞，从而实现对整个宿主机系统的攻击和控制。例如，通过应用程序漏洞、高危挂载、内核漏洞和高危配置等方式，攻击者可以获取到宿主机系统的特权访问权限，破坏整个系统的安全。为了预防容器逃逸，我们需要采取一系列的安全措施，例如使用最小化的容器镜像来减少攻击面，使用隔离技术（如Cgroups和Namespaces）来限制容器的资源访问，以及使用容器安全检测工具来检测和识别容器逃逸行为。

3）容器内资源耗尽

容器内资源耗尽攻击也是一个常见的安全威胁。攻击者可以利用容器内的应用程序不断占用CPU、内存和磁盘等资源，从而造成拒绝服务攻击，并影响容器集群的稳定性。

#### 2、编排系统安全

编排平台是一种用于管理容器化应用程序的工具，其中最流行的编排平台之一是Kubernetes（通常简称为k8s”）。容器技术的出现带来了许多优势，例如轻量、快速、可移植等，但同时也带来了新的挑战，例如如何管理大规模的容器集群和提供稳定的服务。这就是编排平台的用武之地，通过提供强大的自动化功能，可以有效地解决这些挑战。编排平台和容器技术的结合，使得应用程序可以更加快速、轻量化的创建、部署和运行。然而，使用编排平台也会带来一些安全挑战和威胁。因此，对编排平台进行风险评估，并采取相应的安全措施，是确保容器平台稳定和安全的关键步骤之一。 以下是编排系统的典型安全风险：

##### 1）认证和授权漏洞

在编排系统中，认证和授权是关键的安全机制。一旦出现漏洞，攻击者可能能够绕过这些机制，并访问敏感的数据和资源。

##### 2）容器镜像漏洞

容器镜像是从外部获取的，其中可能包含有漏洞或恶意软件。如果不经过验证或审查就将其部署到编排系统中，攻击者可以利用这些漏洞或恶意软件进行攻击。

##### 3）网络隔离不足

容器需要共享主机资源，因此网络隔离是非常重要的。如果没有适当地隔离和限制，攻击者可以跨容器攻击其他容器或主机上的应用程序，并造成严重的安全问题。

##### 4）暴露的API接口

编排系统提供了API接口，通过它们可以对系统进行自动化部署、监控和管理。如果API接口没有适当的安全保护，攻击者可以通过这些接口执行恶意操作。

##### 5）容器运行时漏洞

容器运行时是容器的核心组件，如果存在漏洞，攻击者可以利用它们来执行拒绝服务攻击或远程代码执行等攻击。

##### 6）中间人攻击

攻击者可能会利用编排系统内部通信的缺陷，在通信链路上进行窃听、篡改或重放攻击，从而获取敏感数据或操纵容器集群。