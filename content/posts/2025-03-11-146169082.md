---
layout: post
title: "数字图像处理第二章-2.3-2.4-图像传感获取与数字化学习笔记-最近邻插值双线性插值双三次插值"
date: 2025-03-11 15:00:00 +0800
description: "插值算法是一种通过已知数据点预测未知数据的方法。在科学计算、图像处理和工程应用中，插值算法被广泛应用于数据拟合和信号处理。"
keywords: "《数字图像处理》第二章 2.3-2.4 图像传感获取与数字化学习笔记-最近邻插值、双线性插值、双三次插值"
categories: ['计算机视觉', '人工智能']
tags: ['最近邻插值', '数学建模', '数字图像处理', '奈奎斯特采样', '双线性插值', '双三次插值']
artid: "146169082"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146169082
    alt: "数字图像处理第二章-2.3-2.4-图像传感获取与数字化学习笔记-最近邻插值双线性插值双三次插值"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146169082
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146169082
cover: https://bing.ee123.net/img/rand?artid=146169082
image: https://bing.ee123.net/img/rand?artid=146169082
img: https://bing.ee123.net/img/rand?artid=146169082
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     《数字图像处理》第二章 2.3-2.4 图像传感获取与数字化学习笔记-最近邻插值、双线性插值、双三次插值
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     请注意:
     <strong>
      笔记内容片面粗浅，请读者批判着阅读
     </strong>
     ！
    </p>
    <h3>
     <a id="_1">
     </a>
     一、图像传感与获取的工程实现
    </h3>
    <h4>
     <a id="1__3">
     </a>
     1. 三大传感器类型对比
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        <strong>
         传感器类型
        </strong>
       </th>
       <th>
        <strong>
         工作原理
        </strong>
       </th>
       <th>
        <strong>
         典型应用场景
        </strong>
       </th>
       <th>
        <strong>
         数学建模
        </strong>
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        单传感器
       </td>
       <td>
        机械扫描逐点采集
       </td>
       <td>
        高精度文档扫描仪
       </td>
       <td>
        <span class="katex--display">
         <span class="katex-display">
          <span class="katex">
           <span class="katex-mathml">
            f 
            
           
             ( 
            
           
             x 
            
           
             , 
            
           
             y 
            
           
             ) 
            
           
             = 
            
           
             ∑ 
            
           
             s 
            
           
             ( 
            
           
             t 
            
           
             ) 
            
           
             δ 
            
           
             ( 
            
           
             x 
            
           
             − 
            
           
             x 
            
           
             ( 
            
           
             t 
            
           
             ) 
            
           
             ) 
            
           
          
            f(x,y) = \sum s(t)δ(x-x(t))
           </span>
           <span class="katex-html">
            <span class="base">
             <span class="strut" style="height: 1em; vertical-align: -0.25em;">
             </span>
             <span class="mord mathnormal" style="margin-right: 0.1076em;">
              f
             </span>
             <span class="mopen">
              (
             </span>
             <span class="mord mathnormal">
              x
             </span>
             <span class="mpunct">
              ,
             </span>
             <span class="mspace" style="margin-right: 0.1667em;">
             </span>
             <span class="mord mathnormal" style="margin-right: 0.0359em;">
              y
             </span>
             <span class="mclose">
              )
             </span>
             <span class="mspace" style="margin-right: 0.2778em;">
             </span>
             <span class="mrel">
              =
             </span>
             <span class="mspace" style="margin-right: 0.2778em;">
             </span>
            </span>
            <span class="base">
             <span class="strut" style="height: 1.6em; vertical-align: -0.55em;">
             </span>
             <span class="mop op-symbol large-op" style="position: relative; top: 0em;">
              ∑
             </span>
             <span class="mspace" style="margin-right: 0.1667em;">
             </span>
             <span class="mord mathnormal">
              s
             </span>
             <span class="mopen">
              (
             </span>
             <span class="mord mathnormal">
              t
             </span>
             <span class="mclose">
              )
             </span>
             <span class="mord mathnormal" style="margin-right: 0.0379em;">
              δ
             </span>
             <span class="mopen">
              (
             </span>
             <span class="mord mathnormal">
              x
             </span>
             <span class="mspace" style="margin-right: 0.2222em;">
             </span>
             <span class="mbin">
              −
             </span>
             <span class="mspace" style="margin-right: 0.2222em;">
             </span>
            </span>
            <span class="base">
             <span class="strut" style="height: 1em; vertical-align: -0.25em;">
             </span>
             <span class="mord mathnormal">
              x
             </span>
             <span class="mopen">
              (
             </span>
             <span class="mord mathnormal">
              t
             </span>
             <span class="mclose">
              ))
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
       </td>
      </tr>
      <tr>
       <td>
        条带传感器
       </td>
       <td>
        线阵传感器+运动合成
       </td>
       <td>
        卫星遥感、工业流水线
       </td>
       <td>
        <span class="katex--display">
         <span class="katex-display">
          <span class="katex">
           <span class="katex-mathml">
            g 
            
           
             ( 
            
           
             t 
            
           
             ) 
            
           
             = 
            
            
            
              ∫ 
             
             
             
               y 
              
             
               = 
              
             
               0 
              
             
            
              H 
             
            
           
             s 
            
           
             ( 
            
           
             x 
            
           
             , 
            
           
             y 
            
           
             ) 
            
           
             d 
            
           
             y 
            
           
          
            g(t) = \int_{y=0}^H s(x,y)dy
           </span>
           <span class="katex-html">
            <span class="base">
             <span class="strut" style="height: 1em; vertical-align: -0.25em;">
             </span>
             <span class="mord mathnormal" style="margin-right: 0.0359em;">
              g
             </span>
             <span class="mopen">
              (
             </span>
             <span class="mord mathnormal">
              t
             </span>
             <span class="mclose">
              )
             </span>
             <span class="mspace" style="margin-right: 0.2778em;">
             </span>
             <span class="mrel">
              =
             </span>
             <span class="mspace" style="margin-right: 0.2778em;">
             </span>
            </span>
            <span class="base">
             <span class="strut" style="height: 2.6393em; vertical-align: -1.0481em;">
             </span>
             <span class="mop">
              <span class="mop op-symbol large-op" style="margin-right: 0.4445em; position: relative; top: -0.0011em;">
               ∫
              </span>
              <span class="msupsub">
               <span class="vlist-t vlist-t2">
                <span class="vlist-r">
                 <span class="vlist" style="height: 1.5912em;">
                  <span class="" style="top: -1.7881em; margin-left: -0.4445em; margin-right: 0.05em;">
                   <span class="pstrut" style="height: 2.7em;">
                   </span>
                   <span class="sizing reset-size6 size3 mtight">
                    <span class="mord mtight">
                     <span class="mord mathnormal mtight" style="margin-right: 0.0359em;">
                      y
                     </span>
                     <span class="mrel mtight">
                      =
                     </span>
                     <span class="mord mtight">
                      0
                     </span>
                    </span>
                   </span>
                  </span>
                  <span class="" style="top: -3.8129em; margin-right: 0.05em;">
                   <span class="pstrut" style="height: 2.7em;">
                   </span>
                   <span class="sizing reset-size6 size3 mtight">
                    <span class="mord mathnormal mtight" style="margin-right: 0.0813em;">
                     H
                    </span>
                   </span>
                  </span>
                 </span>
                 <span class="vlist-s">
                  ​
                 </span>
                </span>
                <span class="vlist-r">
                 <span class="vlist" style="height: 1.0481em;">
                  <span class="">
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
             <span class="mspace" style="margin-right: 0.1667em;">
             </span>
             <span class="mord mathnormal">
              s
             </span>
             <span class="mopen">
              (
             </span>
             <span class="mord mathnormal">
              x
             </span>
             <span class="mpunct">
              ,
             </span>
             <span class="mspace" style="margin-right: 0.1667em;">
             </span>
             <span class="mord mathnormal" style="margin-right: 0.0359em;">
              y
             </span>
             <span class="mclose">
              )
             </span>
             <span class="mord mathnormal">
              d
             </span>
             <span class="mord mathnormal" style="margin-right: 0.0359em;">
              y
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
       </td>
      </tr>
      <tr>
       <td>
        阵列传感器
       </td>
       <td>
        CMOS/CCD平面光电转换
       </td>
       <td>
        手机摄影、监控摄像头
       </td>
       <td>
        <span class="katex--display">
         <span class="katex-display">
          <span class="katex">
           <span class="katex-mathml">
            I 
             
             
             
               i 
              
             
               j 
              
             
            
           
             = 
            
           
             Φ 
            
           
             ( 
            
            
            
              E 
             
             
             
               i 
              
             
               j 
              
             
            
           
             ⋅ 
            
           
             Δ 
            
           
             t 
            
           
             ) 
            
           
          
            I_{ij} = \Phi(E_{ij} \cdot Δt)
           </span>
           <span class="katex-html">
            <span class="base">
             <span class="strut" style="height: 0.9694em; vertical-align: -0.2861em;">
             </span>
             <span class="mord">
              <span class="mord mathnormal" style="margin-right: 0.0785em;">
               I
              </span>
              <span class="msupsub">
               <span class="vlist-t vlist-t2">
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.3117em;">
                  <span class="" style="top: -2.55em; margin-left: -0.0785em; margin-right: 0.05em;">
                   <span class="pstrut" style="height: 2.7em;">
                   </span>
                   <span class="sizing reset-size6 size3 mtight">
                    <span class="mord mtight">
                     <span class="mord mathnormal mtight" style="margin-right: 0.0572em;">
                      ij
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                 <span class="vlist-s">
                  ​
                 </span>
                </span>
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.2861em;">
                  <span class="">
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
             <span class="mspace" style="margin-right: 0.2778em;">
             </span>
             <span class="mrel">
              =
             </span>
             <span class="mspace" style="margin-right: 0.2778em;">
             </span>
            </span>
            <span class="base">
             <span class="strut" style="height: 1.0361em; vertical-align: -0.2861em;">
             </span>
             <span class="mord">
              Φ
             </span>
             <span class="mopen">
              (
             </span>
             <span class="mord">
              <span class="mord mathnormal" style="margin-right: 0.0576em;">
               E
              </span>
              <span class="msupsub">
               <span class="vlist-t vlist-t2">
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.3117em;">
                  <span class="" style="top: -2.55em; margin-left: -0.0576em; margin-right: 0.05em;">
                   <span class="pstrut" style="height: 2.7em;">
                   </span>
                   <span class="sizing reset-size6 size3 mtight">
                    <span class="mord mtight">
                     <span class="mord mathnormal mtight" style="margin-right: 0.0572em;">
                      ij
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                 <span class="vlist-s">
                  ​
                 </span>
                </span>
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.2861em;">
                  <span class="">
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
             <span class="mspace" style="margin-right: 0.2222em;">
             </span>
             <span class="mbin">
              ⋅
             </span>
             <span class="mspace" style="margin-right: 0.2222em;">
             </span>
            </span>
            <span class="base">
             <span class="strut" style="height: 1em; vertical-align: -0.25em;">
             </span>
             <span class="mord">
              Δ
             </span>
             <span class="mord mathnormal">
              t
             </span>
             <span class="mclose">
              )
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
      注
     </strong>
     ：CMOS传感器量子效率曲线（图2.20）显示其在550nm（绿光）处达到峰值65%
    </p>
    <h4>
     <a id="2__11">
     </a>
     2. 图像形成模型
    </h4>
    <ul>
     <li>
      <strong>
       光学系统简化模型
      </strong>
      ：
      <br/>
      <span class="katex--display">
       <span class="katex-display">
        <span class="katex">
         <span class="katex-mathml">
          g 
          
         
           ( 
          
         
           x 
          
         
           , 
          
         
           y 
          
         
           ) 
          
         
           = 
          
         
           h 
          
         
           ( 
          
         
           x 
          
         
           , 
          
         
           y 
          
         
           ) 
          
         
           ∗ 
          
         
           f 
          
         
           ( 
          
         
           x 
          
         
           , 
          
         
           y 
          
         
           ) 
          
         
           + 
          
         
           η 
          
         
           ( 
          
         
           x 
          
         
           , 
          
         
           y 
          
         
           ) 
          
         
        
          g(x,y) = h(x,y) * f(x,y) + \eta(x,y)
         </span>
         <span class="katex-html">
          <span class="base">
           <span class="strut" style="height: 1em; vertical-align: -0.25em;">
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0359em;">
            g
           </span>
           <span class="mopen">
            (
           </span>
           <span class="mord mathnormal">
            x
           </span>
           <span class="mpunct">
            ,
           </span>
           <span class="mspace" style="margin-right: 0.1667em;">
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0359em;">
            y
           </span>
           <span class="mclose">
            )
           </span>
           <span class="mspace" style="margin-right: 0.2778em;">
           </span>
           <span class="mrel">
            =
           </span>
           <span class="mspace" style="margin-right: 0.2778em;">
           </span>
          </span>
          <span class="base">
           <span class="strut" style="height: 1em; vertical-align: -0.25em;">
           </span>
           <span class="mord mathnormal">
            h
           </span>
           <span class="mopen">
            (
           </span>
           <span class="mord mathnormal">
            x
           </span>
           <span class="mpunct">
            ,
           </span>
           <span class="mspace" style="margin-right: 0.1667em;">
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0359em;">
            y
           </span>
           <span class="mclose">
            )
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
           <span class="mbin">
            ∗
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
          </span>
          <span class="base">
           <span class="strut" style="height: 1em; vertical-align: -0.25em;">
           </span>
           <span class="mord mathnormal" style="margin-right: 0.1076em;">
            f
           </span>
           <span class="mopen">
            (
           </span>
           <span class="mord mathnormal">
            x
           </span>
           <span class="mpunct">
            ,
           </span>
           <span class="mspace" style="margin-right: 0.1667em;">
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0359em;">
            y
           </span>
           <span class="mclose">
            )
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
           <span class="mbin">
            +
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
          </span>
          <span class="base">
           <span class="strut" style="height: 1em; vertical-align: -0.25em;">
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0359em;">
            η
           </span>
           <span class="mopen">
            (
           </span>
           <span class="mord mathnormal">
            x
           </span>
           <span class="mpunct">
            ,
           </span>
           <span class="mspace" style="margin-right: 0.1667em;">
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0359em;">
            y
           </span>
           <span class="mclose">
            )
           </span>
          </span>
         </span>
        </span>
       </span>
      </span>
      <br/>
      <span class="katex--display">
       <span class="katex-display">
        <span class="katex">
         <span class="katex-mathml">
          h 
          
         
           ( 
          
         
           x 
          
         
           , 
          
         
           y 
          
         
           ) 
          
         
        
          h(x,y)
         </span>
         <span class="katex-html">
          <span class="base">
           <span class="strut" style="height: 1em; vertical-align: -0.25em;">
           </span>
           <span class="mord mathnormal">
            h
           </span>
           <span class="mopen">
            (
           </span>
           <span class="mord mathnormal">
            x
           </span>
           <span class="mpunct">
            ,
           </span>
           <span class="mspace" style="margin-right: 0.1667em;">
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0359em;">
            y
           </span>
           <span class="mclose">
            )
           </span>
          </span>
         </span>
        </span>
       </span>
      </span>
      为点扩散函数，
      <span class="katex--display">
       <span class="katex-display">
        <span class="katex">
         <span class="katex-mathml">
          η 
          
         
        
          \eta
         </span>
         <span class="katex-html">
          <span class="base">
           <span class="strut" style="height: 0.625em; vertical-align: -0.1944em;">
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0359em;">
            η
           </span>
          </span>
         </span>
        </span>
       </span>
      </span>
      为传感器噪声（服从泊松分布）。
     </li>
    </ul>
    <hr/>
    <h3>
     <a id="_18">
     </a>
     二、图像数字化：采样与量化
    </h3>
    <h4>
     <a id="1__20">
     </a>
     1. 采样：从连续到离散
    </h4>
    <h5>
     <a id="_21">
     </a>
     奈奎斯特临界采样实验
    </h5>
    <pre><code class="prism language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

<span class="token comment"># 生成含高频正弦信号</span>
x <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">*</span>np<span class="token punctuation">.</span>pi<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
signal <span class="token operator">=</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span><span class="token number">20</span><span class="token operator">*</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">0.5</span><span class="token operator">*</span>np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span><span class="token number">50</span><span class="token operator">*</span>x<span class="token punctuation">)</span>  <span class="token comment"># 最高频率50Hz</span>

<span class="token comment"># 临界采样（100Hz）与欠采样（30Hz）</span>
t_critical <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">*</span>np<span class="token punctuation">.</span>pi<span class="token punctuation">,</span> <span class="token number">0.02</span><span class="token punctuation">)</span>  <span class="token comment"># 100Hz &gt; 2*50Hz</span>
t_under <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">*</span>np<span class="token punctuation">.</span>pi<span class="token punctuation">,</span> <span class="token number">0.033</span><span class="token punctuation">)</span>    <span class="token comment"># 30Hz &lt; 2*50Hz</span>

plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> signal<span class="token punctuation">,</span> <span class="token string">'b-'</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">'原始信号'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>stem<span class="token punctuation">(</span>t_critical<span class="token punctuation">,</span> np<span class="token punctuation">.</span>interp<span class="token punctuation">(</span>t_critical<span class="token punctuation">,</span> x<span class="token punctuation">,</span> signal<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'g'</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">'临界采样'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>stem<span class="token punctuation">(</span>t_under<span class="token punctuation">,</span> np<span class="token punctuation">.</span>interp<span class="token punctuation">(</span>t_under<span class="token punctuation">,</span> x<span class="token punctuation">,</span> signal<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">'欠采样'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"奈奎斯特采样定理验证"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     输出结论：欠采样信号出现低频混叠（红色），验证采样定理重要性
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/75d80b1d90a24a9e86e675337ac85271.png#pic_center"/>
    </p>
    <p>
     另外说一句，如何中文显示方框或乱码的，加入下面语句即可。
    </p>
    <pre><code class="prism language-python"><span class="token keyword">from</span> pylab <span class="token keyword">import</span> mpl
<span class="token comment"># 设置显示中文字体</span>
mpl<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">"font.sans-serif"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"SimHei"</span><span class="token punctuation">]</span>
<span class="token comment"># 设置正常显示符号</span>
mpl<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">"axes.unicode_minus"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>
</code></pre>
    <h4>
     <a id="2__53">
     </a>
     2. 量化：从连续到分级
    </h4>
    <h5>
     <a id="_54">
     </a>
     医疗影像高位深量化必要性（模拟）
    </h5>
    <pre><code class="prism language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">from</span> pylab <span class="token keyword">import</span> mpl
<span class="token comment"># 设置显示中文字体</span>
mpl<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">"font.sans-serif"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"SimHei"</span><span class="token punctuation">]</span>
<span class="token comment"># 设置正常显示符号</span>
mpl<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">"axes.unicode_minus"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>

<span class="token comment"># 生成16-bit合成医学影像（模拟肺部CT）</span>
<span class="token keyword">def</span> <span class="token function">generate_synthetic_ct</span><span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token number">512</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    x<span class="token punctuation">,</span> y <span class="token operator">=</span> np<span class="token punctuation">.</span>meshgrid<span class="token punctuation">(</span>np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># 基础组织模拟</span>
    img <span class="token operator">=</span> <span class="token number">30000</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>exp<span class="token punctuation">(</span><span class="token operator">-</span><span class="token punctuation">(</span>x <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> y <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 正态分布背景</span>
    <span class="token comment"># 添加血管结构（细微灰度变化）</span>
    vessels <span class="token operator">=</span> <span class="token number">5000</span> <span class="token operator">*</span> np<span class="token punctuation">.</span><span class="token builtin">abs</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">*</span> x<span class="token punctuation">)</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span><span class="token number">8</span> <span class="token operator">*</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># 模拟微小病变（直径10像素，Δ=200 HU）</span>
    lesion <span class="token operator">=</span> <span class="token number">200</span> <span class="token operator">*</span> <span class="token punctuation">(</span>np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token punctuation">(</span>y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0.1</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>img <span class="token operator">+</span> vessels <span class="token operator">+</span> lesion<span class="token punctuation">)</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>uint16<span class="token punctuation">)</span>


original <span class="token operator">=</span> generate_synthetic_ct<span class="token punctuation">(</span><span class="token punctuation">)</span>
quantized <span class="token operator">=</span> <span class="token punctuation">(</span>original <span class="token operator">//</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>  <span class="token comment"># 量化到8-bit</span>


<span class="token keyword">def</span> <span class="token function">apply_ct_window</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> window_level<span class="token operator">=</span><span class="token number">30000</span><span class="token punctuation">,</span> window_width<span class="token operator">=</span><span class="token number">40000</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""将16-bit DICOM映射到8-bit显示范围"""</span>
    min_val <span class="token operator">=</span> window_level <span class="token operator">-</span> window_width <span class="token operator">//</span> <span class="token number">2</span>
    max_val <span class="token operator">=</span> window_level <span class="token operator">+</span> window_width <span class="token operator">//</span> <span class="token number">2</span>
    img_clipped <span class="token operator">=</span> np<span class="token punctuation">.</span>clip<span class="token punctuation">(</span>img<span class="token punctuation">,</span> min_val<span class="token punctuation">,</span> max_val<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>img_clipped <span class="token operator">-</span> min_val<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>max_val <span class="token operator">-</span> min_val<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>


<span class="token comment"># 正确显示16-bit图像（使用肺窗：WL=30000, WW=40000）</span>
display_16bit <span class="token operator">=</span> apply_ct_window<span class="token punctuation">(</span>original<span class="token punctuation">)</span>
display_8bit <span class="token operator">=</span> quantized

plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">121</span><span class="token punctuation">)</span><span class="token punctuation">,</span> plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>display_16bit<span class="token punctuation">,</span> cmap<span class="token operator">=</span><span class="token string">'gray'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'16-bit（病变可见）'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">122</span><span class="token punctuation">)</span><span class="token punctuation">,</span> plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>display_8bit<span class="token punctuation">,</span> cmap<span class="token operator">=</span><span class="token string">'gray'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'8-bit（病变丢失）'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/b17ccb0c72234343890b549b62813c93.png#pic_center"/>
    </p>
    <h3>
     <a id="_99">
     </a>
     三、插值算法对比与代码实现
    </h3>
    <p>
     插值算法是一种通过已知数据点预测未知数据的方法。在科学计算、图像处理和工程应用中，插值算法被广泛应用于数据拟合和信号处理。
    </p>
    <h4>
     <a id="1__101">
     </a>
     1. 三种经典插值算法数学原理
    </h4>
    <h4>
     <a id="_102">
     </a>
     三种经典插值算法数学原理对比表
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        <strong>
         算法
        </strong>
       </th>
       <th>
        <strong>
         数学表达式
        </strong>
       </th>
       <th>
        <strong>
         计算复杂度
        </strong>
       </th>
       <th>
        <strong>
         适用场景
        </strong>
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        最近邻插值
       </td>
       <td>
        <span class="katex--display">
         <span class="katex-display">
          <span class="katex">
           <span class="katex-mathml">
            f 
            
           
             ( 
            
           
             x 
            
           
             , 
            
           
             y 
            
           
             ) 
            
           
             = 
            
           
             f 
            
           
             ( 
            
           
             round 
            
           
             ( 
            
           
             x 
            
           
             ) 
            
           
             , 
            
           
             round 
            
           
             ( 
            
           
             y 
            
           
             ) 
            
           
             ) 
            
           
          
            f(x,y) = f(\text{round}(x), \text{round}(y))
           </span>
           <span class="katex-html">
            <span class="base">
             <span class="strut" style="height: 1em; vertical-align: -0.25em;">
             </span>
             <span class="mord mathnormal" style="margin-right: 0.1076em;">
              f
             </span>
             <span class="mopen">
              (
             </span>
             <span class="mord mathnormal">
              x
             </span>
             <span class="mpunct">
              ,
             </span>
             <span class="mspace" style="margin-right: 0.1667em;">
             </span>
             <span class="mord mathnormal" style="margin-right: 0.0359em;">
              y
             </span>
             <span class="mclose">
              )
             </span>
             <span class="mspace" style="margin-right: 0.2778em;">
             </span>
             <span class="mrel">
              =
             </span>
             <span class="mspace" style="margin-right: 0.2778em;">
             </span>
            </span>
            <span class="base">
             <span class="strut" style="height: 1em; vertical-align: -0.25em;">
             </span>
             <span class="mord mathnormal" style="margin-right: 0.1076em;">
              f
             </span>
             <span class="mopen">
              (
             </span>
             <span class="mord text">
              <span class="mord">
               round
              </span>
             </span>
             <span class="mopen">
              (
             </span>
             <span class="mord mathnormal">
              x
             </span>
             <span class="mclose">
              )
             </span>
             <span class="mpunct">
              ,
             </span>
             <span class="mspace" style="margin-right: 0.1667em;">
             </span>
             <span class="mord text">
              <span class="mord">
               round
              </span>
             </span>
             <span class="mopen">
              (
             </span>
             <span class="mord mathnormal" style="margin-right: 0.0359em;">
              y
             </span>
             <span class="mclose">
              ))
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
       </td>
       <td>
        <span class="katex--display">
         <span class="katex-display">
          <span class="katex">
           <span class="katex-mathml">
            O 
            
           
             ( 
            
           
             1 
            
           
             ) 
            
           
          
            O(1)
           </span>
           <span class="katex-html">
            <span class="base">
             <span class="strut" style="height: 1em; vertical-align: -0.25em;">
             </span>
             <span class="mord mathnormal" style="margin-right: 0.0278em;">
              O
             </span>
             <span class="mopen">
              (
             </span>
             <span class="mord">
              1
             </span>
             <span class="mclose">
              )
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
       </td>
       <td>
        实时系统、像素艺术
       </td>
      </tr>
      <tr>
       <td>
        双线性插值
       </td>
       <td>
        <span class="katex--display">
         <span class="katex-display">
          <span class="katex">
           <span class="katex-mathml">
            f 
            
           
             ( 
            
           
             x 
            
           
             , 
            
           
             y 
            
           
             ) 
            
           
             = 
            
            
            
              a 
             
            
              0 
             
            
           
             + 
            
            
            
              a 
             
            
              1 
             
            
           
             x 
            
           
             + 
            
            
            
              a 
             
            
              2 
             
            
           
             y 
            
           
             + 
            
            
            
              a 
             
            
              3 
             
            
           
             x 
            
           
             y 
            
           
          
            f(x,y) = a_0 + a_1x + a_2y + a_3xy
           </span>
           <span class="katex-html">
            <span class="base">
             <span class="strut" style="height: 1em; vertical-align: -0.25em;">
             </span>
             <span class="mord mathnormal" style="margin-right: 0.1076em;">
              f
             </span>
             <span class="mopen">
              (
             </span>
             <span class="mord mathnormal">
              x
             </span>
             <span class="mpunct">
              ,
             </span>
             <span class="mspace" style="margin-right: 0.1667em;">
             </span>
             <span class="mord mathnormal" style="margin-right: 0.0359em;">
              y
             </span>
             <span class="mclose">
              )
             </span>
             <span class="mspace" style="margin-right: 0.2778em;">
             </span>
             <span class="mrel">
              =
             </span>
             <span class="mspace" style="margin-right: 0.2778em;">
             </span>
            </span>
            <span class="base">
             <span class="strut" style="height: 0.7333em; vertical-align: -0.15em;">
             </span>
             <span class="mord">
              <span class="mord mathnormal">
               a
              </span>
              <span class="msupsub">
               <span class="vlist-t vlist-t2">
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.3011em;">
                  <span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;">
                   <span class="pstrut" style="height: 2.7em;">
                   </span>
                   <span class="sizing reset-size6 size3 mtight">
                    <span class="mord mtight">
                     0
                    </span>
                   </span>
                  </span>
                 </span>
                 <span class="vlist-s">
                  ​
                 </span>
                </span>
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.15em;">
                  <span class="">
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
             <span class="mspace" style="margin-right: 0.2222em;">
             </span>
             <span class="mbin">
              +
             </span>
             <span class="mspace" style="margin-right: 0.2222em;">
             </span>
            </span>
            <span class="base">
             <span class="strut" style="height: 0.7333em; vertical-align: -0.15em;">
             </span>
             <span class="mord">
              <span class="mord mathnormal">
               a
              </span>
              <span class="msupsub">
               <span class="vlist-t vlist-t2">
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.3011em;">
                  <span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;">
                   <span class="pstrut" style="height: 2.7em;">
                   </span>
                   <span class="sizing reset-size6 size3 mtight">
                    <span class="mord mtight">
                     1
                    </span>
                   </span>
                  </span>
                 </span>
                 <span class="vlist-s">
                  ​
                 </span>
                </span>
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.15em;">
                  <span class="">
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
             <span class="mord mathnormal">
              x
             </span>
             <span class="mspace" style="margin-right: 0.2222em;">
             </span>
             <span class="mbin">
              +
             </span>
             <span class="mspace" style="margin-right: 0.2222em;">
             </span>
            </span>
            <span class="base">
             <span class="strut" style="height: 0.7778em; vertical-align: -0.1944em;">
             </span>
             <span class="mord">
              <span class="mord mathnormal">
               a
              </span>
              <span class="msupsub">
               <span class="vlist-t vlist-t2">
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.3011em;">
                  <span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;">
                   <span class="pstrut" style="height: 2.7em;">
                   </span>
                   <span class="sizing reset-size6 size3 mtight">
                    <span class="mord mtight">
                     2
                    </span>
                   </span>
                  </span>
                 </span>
                 <span class="vlist-s">
                  ​
                 </span>
                </span>
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.15em;">
                  <span class="">
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
             <span class="mord mathnormal" style="margin-right: 0.0359em;">
              y
             </span>
             <span class="mspace" style="margin-right: 0.2222em;">
             </span>
             <span class="mbin">
              +
             </span>
             <span class="mspace" style="margin-right: 0.2222em;">
             </span>
            </span>
            <span class="base">
             <span class="strut" style="height: 0.625em; vertical-align: -0.1944em;">
             </span>
             <span class="mord">
              <span class="mord mathnormal">
               a
              </span>
              <span class="msupsub">
               <span class="vlist-t vlist-t2">
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.3011em;">
                  <span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;">
                   <span class="pstrut" style="height: 2.7em;">
                   </span>
                   <span class="sizing reset-size6 size3 mtight">
                    <span class="mord mtight">
                     3
                    </span>
                   </span>
                  </span>
                 </span>
                 <span class="vlist-s">
                  ​
                 </span>
                </span>
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.15em;">
                  <span class="">
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
             <span class="mord mathnormal">
              x
             </span>
             <span class="mord mathnormal" style="margin-right: 0.0359em;">
              y
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
        <br/>
        （基于4个邻近点加权平均）
       </td>
       <td>
        <span class="katex--display">
         <span class="katex-display">
          <span class="katex">
           <span class="katex-mathml">
            O 
            
           
             ( 
            
           
             n 
            
           
             ) 
            
           
          
            O(n)
           </span>
           <span class="katex-html">
            <span class="base">
             <span class="strut" style="height: 1em; vertical-align: -0.25em;">
             </span>
             <span class="mord mathnormal" style="margin-right: 0.0278em;">
              O
             </span>
             <span class="mopen">
              (
             </span>
             <span class="mord mathnormal">
              n
             </span>
             <span class="mclose">
              )
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
       </td>
       <td>
        通用图像缩放（默认方案）
       </td>
      </tr>
      <tr>
       <td>
        双三次插值
       </td>
       <td>
        <span class="katex--display">
         <span class="katex-display">
          <span class="katex">
           <span class="katex-mathml">
            f 
            
           
             ( 
            
           
             x 
            
           
             , 
            
           
             y 
            
           
             ) 
            
           
             = 
            
            
            
              ∑ 
             
             
             
               i 
              
             
               = 
              
             
               0 
              
             
            
              3 
             
            
            
            
              ∑ 
             
             
             
               j 
              
             
               = 
              
             
               0 
              
             
            
              3 
             
            
            
            
              a 
             
             
             
               i 
              
             
               j 
              
             
            
            
            
              x 
             
            
              i 
             
            
            
            
              y 
             
            
              j 
             
            
           
          
            f(x,y) = \sum_{i=0}^3 \sum_{j=0}^3 a_{ij}x^i y^j
           </span>
           <span class="katex-html">
            <span class="base">
             <span class="strut" style="height: 1em; vertical-align: -0.25em;">
             </span>
             <span class="mord mathnormal" style="margin-right: 0.1076em;">
              f
             </span>
             <span class="mopen">
              (
             </span>
             <span class="mord mathnormal">
              x
             </span>
             <span class="mpunct">
              ,
             </span>
             <span class="mspace" style="margin-right: 0.1667em;">
             </span>
             <span class="mord mathnormal" style="margin-right: 0.0359em;">
              y
             </span>
             <span class="mclose">
              )
             </span>
             <span class="mspace" style="margin-right: 0.2778em;">
             </span>
             <span class="mrel">
              =
             </span>
             <span class="mspace" style="margin-right: 0.2778em;">
             </span>
            </span>
            <span class="base">
             <span class="strut" style="height: 3.2149em; vertical-align: -1.4138em;">
             </span>
             <span class="mop op-limits">
              <span class="vlist-t vlist-t2">
               <span class="vlist-r">
                <span class="vlist" style="height: 1.8011em;">
                 <span class="" style="top: -1.8723em; margin-left: 0em;">
                  <span class="pstrut" style="height: 3.05em;">
                  </span>
                  <span class="sizing reset-size6 size3 mtight">
                   <span class="mord mtight">
                    <span class="mord mathnormal mtight">
                     i
                    </span>
                    <span class="mrel mtight">
                     =
                    </span>
                    <span class="mord mtight">
                     0
                    </span>
                   </span>
                  </span>
                 </span>
                 <span class="" style="top: -3.05em;">
                  <span class="pstrut" style="height: 3.05em;">
                  </span>
                  <span class="">
                   <span class="mop op-symbol large-op">
                    ∑
                   </span>
                  </span>
                 </span>
                 <span class="" style="top: -4.3em; margin-left: 0em;">
                  <span class="pstrut" style="height: 3.05em;">
                  </span>
                  <span class="sizing reset-size6 size3 mtight">
                   <span class="mord mtight">
                    3
                   </span>
                  </span>
                 </span>
                </span>
                <span class="vlist-s">
                 ​
                </span>
               </span>
               <span class="vlist-r">
                <span class="vlist" style="height: 1.2777em;">
                 <span class="">
                 </span>
                </span>
               </span>
              </span>
             </span>
             <span class="mspace" style="margin-right: 0.1667em;">
             </span>
             <span class="mop op-limits">
              <span class="vlist-t vlist-t2">
               <span class="vlist-r">
                <span class="vlist" style="height: 1.8011em;">
                 <span class="" style="top: -1.8723em; margin-left: 0em;">
                  <span class="pstrut" style="height: 3.05em;">
                  </span>
                  <span class="sizing reset-size6 size3 mtight">
                   <span class="mord mtight">
                    <span class="mord mathnormal mtight" style="margin-right: 0.0572em;">
                     j
                    </span>
                    <span class="mrel mtight">
                     =
                    </span>
                    <span class="mord mtight">
                     0
                    </span>
                   </span>
                  </span>
                 </span>
                 <span class="" style="top: -3.05em;">
                  <span class="pstrut" style="height: 3.05em;">
                  </span>
                  <span class="">
                   <span class="mop op-symbol large-op">
                    ∑
                   </span>
                  </span>
                 </span>
                 <span class="" style="top: -4.3em; margin-left: 0em;">
                  <span class="pstrut" style="height: 3.05em;">
                  </span>
                  <span class="sizing reset-size6 size3 mtight">
                   <span class="mord mtight">
                    3
                   </span>
                  </span>
                 </span>
                </span>
                <span class="vlist-s">
                 ​
                </span>
               </span>
               <span class="vlist-r">
                <span class="vlist" style="height: 1.4138em;">
                 <span class="">
                 </span>
                </span>
               </span>
              </span>
             </span>
             <span class="mspace" style="margin-right: 0.1667em;">
             </span>
             <span class="mord">
              <span class="mord mathnormal">
               a
              </span>
              <span class="msupsub">
               <span class="vlist-t vlist-t2">
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.3117em;">
                  <span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;">
                   <span class="pstrut" style="height: 2.7em;">
                   </span>
                   <span class="sizing reset-size6 size3 mtight">
                    <span class="mord mtight">
                     <span class="mord mathnormal mtight" style="margin-right: 0.0572em;">
                      ij
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                 <span class="vlist-s">
                  ​
                 </span>
                </span>
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.2861em;">
                  <span class="">
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
             <span class="mord">
              <span class="mord mathnormal">
               x
              </span>
              <span class="msupsub">
               <span class="vlist-t">
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.8747em;">
                  <span class="" style="top: -3.113em; margin-right: 0.05em;">
                   <span class="pstrut" style="height: 2.7em;">
                   </span>
                   <span class="sizing reset-size6 size3 mtight">
                    <span class="mord mathnormal mtight">
                     i
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
             <span class="mord">
              <span class="mord mathnormal" style="margin-right: 0.0359em;">
               y
              </span>
              <span class="msupsub">
               <span class="vlist-t">
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.8747em;">
                  <span class="" style="top: -3.113em; margin-right: 0.05em;">
                   <span class="pstrut" style="height: 2.7em;">
                   </span>
                   <span class="sizing reset-size6 size3 mtight">
                    <span class="mord mathnormal mtight" style="margin-right: 0.0572em;">
                     j
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
        <br/>
        （基于16邻近点）
       </td>
       <td>
        <span class="katex--display">
         <span class="katex-display">
          <span class="katex">
           <span class="katex-mathml">
            O 
            
           
             ( 
            
            
            
              n 
             
            
              2 
             
            
           
             ) 
            
           
          
            O(n^2)
           </span>
           <span class="katex-html">
            <span class="base">
             <span class="strut" style="height: 1.1141em; vertical-align: -0.25em;">
             </span>
             <span class="mord mathnormal" style="margin-right: 0.0278em;">
              O
             </span>
             <span class="mopen">
              (
             </span>
             <span class="mord">
              <span class="mord mathnormal">
               n
              </span>
              <span class="msupsub">
               <span class="vlist-t">
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.8641em;">
                  <span class="" style="top: -3.113em; margin-right: 0.05em;">
                   <span class="pstrut" style="height: 2.7em;">
                   </span>
                   <span class="sizing reset-size6 size3 mtight">
                    <span class="mord mtight">
                     2
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
             <span class="mclose">
              )
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
       </td>
       <td>
        高质量放大/医学影像重建
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <h5>
     <a id="_112">
     </a>
     <strong>
      核心公式说明
     </strong>
    </h5>
    <ol>
     <li>
      <p>
       <strong>
        最近邻插值
       </strong>
      </p>
      <ul>
       <li>
        直接取最邻近像素值，数学上等价于二维脉冲函数采样
       </li>
       <li>
        计算极快，但会产生锯齿（数学不连续）
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        双线性插值
       </strong>
      </p>
      <ul>
       <li>
        在x/y方向分别线性插值，表达式展开为：
        <br/>
        <span class="katex--display">
         <span class="katex-display">
          <span class="katex">
           <span class="katex-mathml">
            f 
            
           
             ( 
            
           
             x 
            
           
             , 
            
           
             y 
            
           
             ) 
            
           
             = 
            
            
             
             
               ( 
              
              
              
                x 
               
              
                2 
               
              
             
               − 
              
             
               x 
              
             
               ) 
              
             
               ( 
              
              
              
                y 
               
              
                2 
               
              
             
               − 
              
             
               y 
              
             
               ) 
              
              
              
                f 
               
              
                11 
               
              
             
               + 
              
             
               ( 
              
             
               x 
              
             
               − 
              
              
              
                x 
               
              
                1 
               
              
             
               ) 
              
             
               ( 
              
              
              
                y 
               
              
                2 
               
              
             
               − 
              
             
               y 
              
             
               ) 
              
              
              
                f 
               
              
                21 
               
              
             
               + 
              
             
               ( 
              
              
              
                x 
               
              
                2 
               
              
             
               − 
              
             
               x 
              
             
               ) 
              
             
               ( 
              
             
               y 
              
             
               − 
              
              
              
                y 
               
              
                1 
               
              
             
               ) 
              
              
              
                f 
               
              
                12 
               
              
             
               + 
              
             
               ( 
              
             
               x 
              
             
               − 
              
              
              
                x 
               
              
                1 
               
              
             
               ) 
              
             
               ( 
              
             
               y 
              
             
               − 
              
              
              
                y 
               
              
                1 
               
              
             
               ) 
              
              
              
                f 
               
              
                22 
               
              
             
             
             
               ( 
              
              
              
                x 
               
              
                2 
               
              
             
               − 
              
              
              
                x 
               
              
                1 
               
              
             
               ) 
              
             
               ( 
              
              
              
                y 
               
              
                2 
               
              
             
               − 
              
              
              
                y 
               
              
                1 
               
              
             
               ) 
              
             
            
           
          
            f(x,y) = \frac{(x_2 - x)(y_2 - y)f_{11} + (x - x_1)(y_2 - y)f_{21} + (x_2 - x)(y - y_1)f_{12} + (x - x_1)(y - y_1)f_{22}}{(x_2 - x_1)(y_2 - y_1)}
           </span>
           <span class="katex-html">
            <span class="base">
             <span class="strut" style="height: 1em; vertical-align: -0.25em;">
             </span>
             <span class="mord mathnormal" style="margin-right: 0.1076em;">
              f
             </span>
             <span class="mopen">
              (
             </span>
             <span class="mord mathnormal">
              x
             </span>
             <span class="mpunct">
              ,
             </span>
             <span class="mspace" style="margin-right: 0.1667em;">
             </span>
             <span class="mord mathnormal" style="margin-right: 0.0359em;">
              y
             </span>
             <span class="mclose">
              )
             </span>
             <span class="mspace" style="margin-right: 0.2778em;">
             </span>
             <span class="mrel">
              =
             </span>
             <span class="mspace" style="margin-right: 0.2778em;">
             </span>
            </span>
            <span class="base">
             <span class="strut" style="height: 2.363em; vertical-align: -0.936em;">
             </span>
             <span class="mord">
              <span class="mopen nulldelimiter">
              </span>
              <span class="mfrac">
               <span class="vlist-t vlist-t2">
                <span class="vlist-r">
                 <span class="vlist" style="height: 1.427em;">
                  <span class="" style="top: -2.314em;">
                   <span class="pstrut" style="height: 3em;">
                   </span>
                   <span class="mord">
                    <span class="mopen">
                     (
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal">
                      x
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.3011em;">
                         <span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;">
                          <span class="pstrut" style="height: 2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            2
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.15em;">
                         <span class="">
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mbin">
                     −
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal">
                      x
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.3011em;">
                         <span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;">
                          <span class="pstrut" style="height: 2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            1
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.15em;">
                         <span class="">
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mclose">
                     )
                    </span>
                    <span class="mopen">
                     (
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal" style="margin-right: 0.0359em;">
                      y
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.3011em;">
                         <span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;">
                          <span class="pstrut" style="height: 2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            2
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.15em;">
                         <span class="">
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mbin">
                     −
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal" style="margin-right: 0.0359em;">
                      y
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.3011em;">
                         <span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;">
                          <span class="pstrut" style="height: 2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            1
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.15em;">
                         <span class="">
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mclose">
                     )
                    </span>
                   </span>
                  </span>
                  <span class="" style="top: -3.23em;">
                   <span class="pstrut" style="height: 3em;">
                   </span>
                   <span class="frac-line" style="border-bottom-width: 0.04em;">
                   </span>
                  </span>
                  <span class="" style="top: -3.677em;">
                   <span class="pstrut" style="height: 3em;">
                   </span>
                   <span class="mord">
                    <span class="mopen">
                     (
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal">
                      x
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.3011em;">
                         <span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;">
                          <span class="pstrut" style="height: 2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            2
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.15em;">
                         <span class="">
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mbin">
                     −
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mord mathnormal">
                     x
                    </span>
                    <span class="mclose">
                     )
                    </span>
                    <span class="mopen">
                     (
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal" style="margin-right: 0.0359em;">
                      y
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.3011em;">
                         <span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;">
                          <span class="pstrut" style="height: 2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            2
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.15em;">
                         <span class="">
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mbin">
                     −
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mord mathnormal" style="margin-right: 0.0359em;">
                     y
                    </span>
                    <span class="mclose">
                     )
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal" style="margin-right: 0.1076em;">
                      f
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.3011em;">
                         <span class="" style="top: -2.55em; margin-left: -0.1076em; margin-right: 0.05em;">
                          <span class="pstrut" style="height: 2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            <span class="mord mtight">
                             11
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.15em;">
                         <span class="">
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mbin">
                     +
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mopen">
                     (
                    </span>
                    <span class="mord mathnormal">
                     x
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mbin">
                     −
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal">
                      x
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.3011em;">
                         <span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;">
                          <span class="pstrut" style="height: 2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            1
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.15em;">
                         <span class="">
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mclose">
                     )
                    </span>
                    <span class="mopen">
                     (
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal" style="margin-right: 0.0359em;">
                      y
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.3011em;">
                         <span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;">
                          <span class="pstrut" style="height: 2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            2
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.15em;">
                         <span class="">
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mbin">
                     −
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mord mathnormal" style="margin-right: 0.0359em;">
                     y
                    </span>
                    <span class="mclose">
                     )
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal" style="margin-right: 0.1076em;">
                      f
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.3011em;">
                         <span class="" style="top: -2.55em; margin-left: -0.1076em; margin-right: 0.05em;">
                          <span class="pstrut" style="height: 2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            <span class="mord mtight">
                             21
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.15em;">
                         <span class="">
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mbin">
                     +
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mopen">
                     (
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal">
                      x
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.3011em;">
                         <span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;">
                          <span class="pstrut" style="height: 2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            2
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.15em;">
                         <span class="">
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mbin">
                     −
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mord mathnormal">
                     x
                    </span>
                    <span class="mclose">
                     )
                    </span>
                    <span class="mopen">
                     (
                    </span>
                    <span class="mord mathnormal" style="margin-right: 0.0359em;">
                     y
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mbin">
                     −
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal" style="margin-right: 0.0359em;">
                      y
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.3011em;">
                         <span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;">
                          <span class="pstrut" style="height: 2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            1
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.15em;">
                         <span class="">
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mclose">
                     )
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal" style="margin-right: 0.1076em;">
                      f
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.3011em;">
                         <span class="" style="top: -2.55em; margin-left: -0.1076em; margin-right: 0.05em;">
                          <span class="pstrut" style="height: 2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            <span class="mord mtight">
                             12
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.15em;">
                         <span class="">
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mbin">
                     +
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mopen">
                     (
                    </span>
                    <span class="mord mathnormal">
                     x
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mbin">
                     −
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal">
                      x
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.3011em;">
                         <span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;">
                          <span class="pstrut" style="height: 2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            1
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.15em;">
                         <span class="">
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mclose">
                     )
                    </span>
                    <span class="mopen">
                     (
                    </span>
                    <span class="mord mathnormal" style="margin-right: 0.0359em;">
                     y
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mbin">
                     −
                    </span>
                    <span class="mspace" style="margin-right: 0.2222em;">
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal" style="margin-right: 0.0359em;">
                      y
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.3011em;">
                         <span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;">
                          <span class="pstrut" style="height: 2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            1
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.15em;">
                         <span class="">
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                    <span class="mclose">
                     )
                    </span>
                    <span class="mord">
                     <span class="mord mathnormal" style="margin-right: 0.1076em;">
                      f
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.3011em;">
                         <span class="" style="top: -2.55em; margin-left: -0.1076em; margin-right: 0.05em;">
                          <span class="pstrut" style="height: 2.7em;">
                          </span>
                          <span class="sizing reset-size6 size3 mtight">
                           <span class="mord mtight">
                            <span class="mord mtight">
                             22
                            </span>
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.15em;">
                         <span class="">
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                 <span class="vlist-s">
                  ​
                 </span>
                </span>
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.936em;">
                  <span class="">
                  </span>
                 </span>
                </span>
               </span>
              </span>
              <span class="mclose nulldelimiter">
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        双三次插值
       </strong>
      </p>
      <ul>
       <li>
        基于三次多项式逼近，需满足边界导数连续条件
       </li>
       <li>
        常用核函数：
       </li>
      </ul>
     </li>
    </ol>
    <p>
     $$
     <br/>
     W(t) = \begin{cases}
     <br/>
     (a+2)|t|^3 - (a+3)|t|^2 + 1 &amp; \text{for } |t| \leq 1 \
     <br/>
     a|t|^3 - 5a|t|^2 + 8a|t| - 4a &amp; \text{for } 1 &lt; |t| &lt; 2 \
     <br/>
     0 &amp; \text{otherwise}
     <br/>
     \end{cases}
    </p>
    <p>
     <span class="katex--display">
      <span class="katex-display">
       <span class="katex">
        <span class="katex-mathml">
         （通常取 
         
        
       
         （通常取
        </span>
        <span class="katex-html">
         <span class="base">
          <span class="strut" style="height: 0.6833em;">
          </span>
          <span class="mord cjk_fallback">
           （通常取
          </span>
         </span>
        </span>
       </span>
      </span>
     </span>
     a = -0.5 $$）
    </p>
    <hr/>
    <h5>
     <a id="_137">
     </a>
     <strong>
      复杂度对比实验
     </strong>
    </h5>
    <pre><code class="prism language-python"><span class="token keyword">import</span> time
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">from</span> skimage <span class="token keyword">import</span> transform


<span class="token keyword">def</span> <span class="token function">benchmark_interpolation</span><span class="token punctuation">(</span>method<span class="token punctuation">,</span> scale<span class="token operator">=</span><span class="token number">8.0</span><span class="token punctuation">,</span> num_runs<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 预生成测试图像（避免重复生成影响计时）</span>
    img <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">)</span>

    <span class="token comment"># 根据方法调整抗锯齿</span>
    anti_aliasing <span class="token operator">=</span> <span class="token boolean">False</span> <span class="token keyword">if</span> method <span class="token operator">==</span> <span class="token string">'nearest'</span> <span class="token keyword">else</span> <span class="token boolean">True</span>

    <span class="token comment"># 预热（首次运行不计时）</span>
    transform<span class="token punctuation">.</span>rescale<span class="token punctuation">(</span>img<span class="token punctuation">,</span> scale<span class="token punctuation">,</span> order<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">'nearest'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'bilinear'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'bicubic'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">[</span>method<span class="token punctuation">]</span><span class="token punctuation">,</span>
                      anti_aliasing<span class="token operator">=</span>anti_aliasing<span class="token punctuation">,</span> anti_aliasing_sigma<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span>

    <span class="token comment"># 正式计时</span>
    total_time <span class="token operator">=</span> <span class="token number">0.0</span>
    <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>num_runs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        start <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
        transform<span class="token punctuation">.</span>rescale<span class="token punctuation">(</span>img<span class="token punctuation">,</span> scale<span class="token punctuation">,</span>
                          order<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">'nearest'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'bilinear'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'bicubic'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">[</span>method<span class="token punctuation">]</span><span class="token punctuation">,</span>
                          anti_aliasing<span class="token operator">=</span>anti_aliasing<span class="token punctuation">)</span>
        total_time <span class="token operator">+=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start
    <span class="token keyword">return</span> total_time <span class="token operator">/</span> num_runs


<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"最近邻耗时: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>benchmark_interpolation<span class="token punctuation">(</span><span class="token string">'nearest'</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token format-spec">.4f</span><span class="token punctuation">}</span></span><span class="token string">s"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"双线性耗时: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>benchmark_interpolation<span class="token punctuation">(</span><span class="token string">'bilinear'</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token format-spec">.4f</span><span class="token punctuation">}</span></span><span class="token string">s"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"双三次耗时: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>benchmark_interpolation<span class="token punctuation">(</span><span class="token string">'bicubic'</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token format-spec">.4f</span><span class="token punctuation">}</span></span><span class="token string">s"</span></span><span class="token punctuation">)</span>
</code></pre>
    <p>
     输出结果如下：
     <br/>
     最近邻耗时: 0.0929s
     <br/>
     双线性耗时: 0.2310s
     <br/>
     双三次耗时: 0.7054s
    </p>
    <h4>
     <a id="2_Python_175">
     </a>
     2. Python插值效果对比实验
    </h4>
    <pre><code class="prism language-python"><span class="token keyword">from</span> skimage <span class="token keyword">import</span> data<span class="token punctuation">,</span> transform

img <span class="token operator">=</span> data<span class="token punctuation">.</span>camera<span class="token punctuation">(</span><span class="token punctuation">)</span>
scale_factor <span class="token operator">=</span> <span class="token number">8.0</span>  <span class="token comment"># 放大8倍</span>

methods <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">(</span><span class="token string">'nearest'</span><span class="token punctuation">,</span> <span class="token string">'最近邻插值'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'bilinear'</span><span class="token punctuation">,</span> <span class="token string">'双线性插值'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
    <span class="token punctuation">(</span><span class="token string">'bicubic'</span><span class="token punctuation">,</span> <span class="token string">'双三次插值'</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>

plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> <span class="token punctuation">(</span>method<span class="token punctuation">,</span> name<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>methods<span class="token punctuation">)</span><span class="token punctuation">:</span>
    enlarged <span class="token operator">=</span> transform<span class="token punctuation">.</span>rescale<span class="token punctuation">(</span>img<span class="token punctuation">,</span> scale_factor<span class="token punctuation">,</span> order<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>
        <span class="token string">'nearest'</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'bilinear'</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'bicubic'</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">[</span>method<span class="token punctuation">]</span><span class="token punctuation">,</span> 
        anti_aliasing<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>enlarged<span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">:</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">:</span><span class="token number">300</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cmap<span class="token operator">=</span><span class="token string">'gray'</span><span class="token punctuation">)</span>  <span class="token comment"># 局部放大</span>
    plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>name<span class="token punctuation">}</span></span><span class="token string">（边缘效果）'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span> plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token string">'off'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>tight_layout<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     实验结果：
     <br/>
     最近邻：明显锯齿
     <br/>
     双线性：平滑但有模糊
     <br/>
     双三次：保留细节但计算耗时
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/3a83b8b174b84b9c8aeae612333bdbc5.png#pic_center"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a:2f2f626c6f672e6373646e2e6e65742f6c696e6379616e672f:61727469636c652f64657461696c732f313436313639303832" class_="artid" style="display:none">
 </p>
</div>


