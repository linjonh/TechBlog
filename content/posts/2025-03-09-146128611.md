---
layout: post
title: "计算机网络深入解析-HTTP-协议的概念工作原理和通过-Fiddler-抓包查看-HTTP-请求响应的协议格式"
date: 2025-03-09 11:18:02 +0800
description: "1.什么是HTTP?2.理解\"应用层协议\"3.理解HTTP协议的工作过程4.通过抓包工具fiddler查看HTTP协议格式4.1抓包工具的使用4.2 抓包工具的原理4.3 抓包结果4.4 协议格式总结"
keywords: "【计算机网络】深入解析 HTTP 协议的概念、工作原理和通过 Fiddler 抓包查看 HTTP 请求/响应的协议格式"
categories: ['计算机网络']
tags: ['计算机网络', '网络协议', '信息与通信', 'Tcp', 'Https', 'Http', 'Fiddler']
artid: "146128611"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146128611
    alt: "计算机网络深入解析-HTTP-协议的概念工作原理和通过-Fiddler-抓包查看-HTTP-请求响应的协议格式"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146128611
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146128611
cover: https://bing.ee123.net/img/rand?artid=146128611
image: https://bing.ee123.net/img/rand?artid=146128611
img: https://bing.ee123.net/img/rand?artid=146128611
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【计算机网络】深入解析 HTTP 协议的概念、工作原理和通过 Fiddler 抓包查看 HTTP 请求/响应的协议格式
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/a9d3553301c848ff9cad6aa4116248ea.gif#pic_center">
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/915702d08e944241ae264fe6c980438b.png"/>
     </img>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/cd5abfb0ba1c49128b69f4ebb5922bac.gif#pic_center"/>
    </p>
    <hr/>
    <h2>
     <a id="font_color__redfont_facefont_size6strongstrongfontfontfont_font_color__redfont_facefont_size6strong_HTTP_strongfontfontfont_22">
     </a>
     <font color="red">
      <font face="华文行楷">
       <font size="6">
        <strong>
         网络原理—
        </strong>
       </font>
      </font>
     </font>
     <font color="red">
      <font face="华文楷体">
       <font size="6">
        <strong>
         HTTP
        </strong>
       </font>
      </font>
     </font>
    </h2>
    <hr/>
    <h3>
     <a id="font_color__greefont_facefont_size6strong1_HTTPstrongfontfontfont_25">
     </a>
     <font color="gree">
      <font face="华文楷体">
       <font size="6">
        <strong>
         1. 什么是HTTP?
        </strong>
       </font>
      </font>
     </font>
    </h3>
    <hr/>
    <p>
     HTTP(全称为"超文本传输协议")是一种应用非常广泛的应用层协议：
    </p>
    <p>
     HTTP 往往是基于传输层的 TCP 协议实现的 (HTTP1.0,HTTP1.1,HTTP2.0 均为
     <code>
      TCP
     </code>
     ,HTTP3基于
     <code>
      UDP
     </code>
     实现)
    </p>
    <hr/>
    <p>
     我们平时打开一个网站，就是通过HTTP协议来传输数据的：
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/6e42986ec46e452090c2136f5e76b075.png"/>
    </p>
    <p>
     当我们在浏览器中输入一个搜狗搜索的
     <code>
      "网址"(URL)
     </code>
     时：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/35713defe9ed49f18b2bd0c1093b8558.png"/>
    </p>
    <blockquote>
     <ul>
      <li>
       浏览器就给搜狗的服务器
       <code>
        发送了一个HTTP请求
       </code>
       ；
      </li>
      <li>
       搜狗的服务器
       <code>
        返回了一个HTTP响应
       </code>
       ；
      </li>
     </ul>
    </blockquote>
    <hr/>
    <p>
     这个响应结果被浏览器解析之后，就展示成我们看到的页面内容.
    </p>
    <blockquote>
     <ul>
      <li>
       这个过程中浏览器可能会给服务器发送多个HTTP请求，服务器会对应返回多个响应；
      </li>
      <li>
       这些
       <code>
        响应
       </code>
       里就包含了
       <code>
        页面HTML
       </code>
       ,
       <code>
        CSS
       </code>
       ,
       <code>
        JavaScript
       </code>
       ,
       <code>
        图片
       </code>
       ，
       <code>
        字体
       </code>
       等信息；
      </li>
     </ul>
    </blockquote>
    <p>
     所谓"超文本"的含义，就是传输的内容不仅仅是文本(比如html,css这个就是文本)，还可以是一些其他的资源，比如图片，视频，音频等二进制的数据.
    </p>
    <hr/>
    <h3>
     <a id="font_color__greefont_facefont_size6strong2_strongfontfontfont_60">
     </a>
     <font color="gree">
      <font face="华文行楷">
       <font size="6">
        <strong>
         2. 理解"应用层协议"
        </strong>
       </font>
      </font>
     </font>
    </h3>
    <hr/>
    <p>
     我们已经学过TCP/IP，已经知道目前数据能从
     <code>
      客户端进程
     </code>
     ，经过
     <code>
      路径
     </code>
     ，选择
     <code>
      跨网络
     </code>
     传送到
     <code>
      服务器端进程 [IP+Port]
     </code>
     ；
    </p>
    <p>
     可是，仅仅把数据从A点传送到B点就完了吗?
    </p>
    <blockquote>
     <p>
      这就好比，在淘宝上买了一部手机：
     </p>
     <ul>
      <li>
       <p>
        <code>
         卖家[客户端]
        </code>
        把手机通过
        <code>
         顺丰[传送+路径选择]
        </code>
        送到
        <code>
         买家[服务器]
        </code>
        手里就完了吗?
       </p>
      </li>
      <li>
       <p>
        当然不是，买家还要使用这款产品；
       </p>
      </li>
      <li>
       <p>
        在买家使用之后，给卖家打分评论。
       </p>
      </li>
     </ul>
    </blockquote>
    <p>
     所以，我们把数据从 A端 传送到 B端 ，
     <code>
      TCP/IP
     </code>
     解决的是
     <code>
      顺丰
     </code>
     的功能，
     <code>
      两端
     </code>
     还要对数据进行加工处理或者使用；
    </p>
    <p>
     因此，我们还需要一层
     <code>
      协议
     </code>
     ，不关心通信细节，
     <code>
      关心应用细节
     </code>
     !这层协议叫做
     <code>
      应用层协议
     </code>
     。
    </p>
    <p>
     一般情况下，应用是有不同的场景的，所以
     <code>
      应用层协议是有不同种类的
     </code>
     ，其中经典协议之一的
     <code>
      HTTP
     </code>
     就是其中的佼佼者。
    </p>
    <blockquote>
     <p>
      再回到我们刚刚说的买手机的例子：
     </p>
     <ul>
      <li>
       <p>
        顺丰相当于
        <code>
         [TCP/IP]
        </code>
        的功能，
       </p>
      </li>
      <li>
       <p>
        那么买回来的手机都附带了
        <code>
         说明书
        </code>
        【产品介绍，使用介绍，注意事项等】;
       </p>
      </li>
      <li>
       <p>
        该说明书指导用户该如何使用手机，此时的
        <code>
         说明书可以理解为用户层协议
        </code>
       </p>
      </li>
     </ul>
    </blockquote>
    <hr/>
    <h3>
     <a id="font_color__greefont_facefont_size6strong3_HTTPstrongfontfontfont_91">
     </a>
     <font color="gree">
      <font face="华文楷体">
       <font size="6">
        <strong>
         3. 理解HTTP协议的工作过程
        </strong>
       </font>
      </font>
     </font>
    </h3>
    <hr/>
    <p>
     当我们在浏览器中输入一个"网址，此时
     <code>
      浏览器
     </code>
     就会给对应的
     <code>
      服务器
     </code>
     发送一个
     <code>
      HTTP请求
     </code>
     .
    </p>
    <p>
     对方
     <code>
      服务器
     </code>
     收到这个请求之后，经过计算处理，就会返回一个
     <code>
      HTTP响应
     </code>
     .
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/b32c2cab6d46433d8bb875e6dd0bc355.png"/>
    </p>
    <p>
     事实上，当我们访问一个网站的时候，可能
     <code>
      涉及不止一次
     </code>
     的
     <code>
      HTTP请求/响应
     </code>
     的
     <code>
      交互过程
     </code>
     ；
    </p>
    <p>
     可以通过 chrome 的
     <code>
      开发者工具
     </code>
     观察到这个详细的过程：
    </p>
    <blockquote>
     <ul>
      <li>
       <p>
        通过
        <code>
         F12
        </code>
        打开 chrome 的开发者工具，切换到
        <code>
         Network
        </code>
        标签页；
       </p>
      </li>
      <li>
       <p>
        然后刷新页面即可看到如下图效果，每一条记录都是一次HTTP请求/响应：
       </p>
      </li>
     </ul>
     <p>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/77847f13bfc5470a966948ede61825ca.png"/>
     </p>
     <p>
      注意：
     </p>
     <ul>
      <li>
       当前搜狗
       <code>
        主页
       </code>
       是通过
       <code>
        https
       </code>
       来进行通信的，
      </li>
      <li>
       https 是在 http 基础之上做了一个
       <code>
        加密解密
       </code>
       的工作，后面再介绍.
      </li>
     </ul>
    </blockquote>
    <hr/>
    <h3>
     <a id="font_color__greefont_facefont_size6strong4__fiddler__HTTPstrongfontfontfont_120">
     </a>
     <font color="gree">
      <font face="华文楷体">
       <font size="6">
        <strong>
         4. 通过抓包工具 fiddler 查看 HTTP协议格式
        </strong>
       </font>
      </font>
     </font>
    </h3>
    <hr/>
    <p>
     HTTP 是一个
     <code>
      文本格式
     </code>
     的协议；
    </p>
    <p>
     可以通过
     <code>
      Chrome开发者工具
     </code>
     或者
     <code>
      Fiddler
     </code>
     抓包，分析HTTP请求/响应的细节；
    </p>
    <hr/>
    <h4>
     <a id="font_color__bluefont_facefont_size6strong41_strongfontfontfont_130">
     </a>
     <font color="blue">
      <font face="华文行楷">
       <font size="6">
        <strong>
         4.1 抓包工具的使用
        </strong>
       </font>
      </font>
     </font>
    </h4>
    <hr/>
    <p>
     以Fiddler为例：
     <a href="https://www.telerik.com/fiddler/" rel="nofollow">
      Fiddler下载地址
     </a>
     ；
    </p>
    <p>
     可以使用搜狗浏览器下载，避免下载时发生其他应用捆绑下载；
    </p>
    <blockquote>
     <p>
      安装过程比较简单，一路next即可
     </p>
    </blockquote>
    <hr/>
    <p>
     接下来，设置 fiddler ，让它支持 HTTPS：
    </p>
    <blockquote>
     <p>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/9811b94de120446ebdcff2dfb52863ab.png"/>
     </p>
     <hr/>
     <p>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/860fa309d5da4922bd34b387dd795ece.png"/>
     </p>
     <p>
      值得一提，在首次安装 fiddler 并且勾选上面的选项时，会弹出是否信任 fiddler 的根安全证书，一定要点 yes ，否则只能卸载并且重新安装；
     </p>
    </blockquote>
    <hr/>
    <p>
     显示请求的原始数据：
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/341ad0ea29ba4596af099d178e20fb5d.png"/>
    </p>
    <hr/>
    <p>
     如果要放大请求中的字体，可以用记事本打开：
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/7da535d9f4ee455391be5a5c30396205.png"/>
    </p>
    <hr/>
    <p>
     上面是查看请求的原始数据，下面就是查看响应的原始数据：
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/ac31189e0683437ebb66bbbe9c753e01.png"/>
    </p>
    <hr/>
    <p>
     在响应的详细信息（右下角）的框中出现
     <code>
      乱码
     </code>
     ，是因为这些信息是经过压缩后的数据；
    </p>
    <p>
     如果要看完整的详细信息，就点击
     <code>
      Response body is encoded. Click to decode
     </code>
     这个黄色按钮：
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/9b1593924a574532a8a69c5f8f73c705.png"/>
    </p>
    <p>
     点开后，响应信息解压缩，可以通过文本打开进一步查看信息；
    </p>
    <hr/>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/4e3fe7d7207544938d0249e992817522.png"/>
    </p>
    <hr/>
    <h4>
     <a id="font_color__bluefont_facefont_size6strong42_strongfontfontfont_189">
     </a>
     <font color="blue">
      <font face="华文行楷">
       <font size="6">
        <strong>
         4.2 抓包工具的原理
        </strong>
       </font>
      </font>
     </font>
    </h4>
    <hr/>
    <p>
     Fiddler相当于一个"代理"：
    </p>
    <blockquote>
     <ul>
      <li>
       <code>
        浏览器
       </code>
       访问
       <a href="sogou.com" rel="nofollow">
        sogou.com
       </a>
       时，就会把
       <code>
        HTTP请求
       </code>
       先发给
       <code>
        Fiddler
       </code>
       ；
      </li>
      <li>
       <code>
        Fiddler
       </code>
       再把
       <code>
        请求
       </code>
       转发给 sogou 的
       <code>
        服务器
       </code>
       ；
      </li>
      <li>
       当 sogou
       <code>
        服务器
       </code>
       返回数据时，
       <code>
        Fiddler
       </code>
       拿到
       <code>
        返回数据
       </code>
       ，再把数据交给
       <code>
        浏览器
       </code>
       ；
      </li>
     </ul>
    </blockquote>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/e2cfa10d85b8407ab6b2fb4cf2ab53a8.png"/>
     <br/>
     因此
     <code>
      Fiddler
     </code>
     对于
     <code>
      浏览器
     </code>
     和sogou
     <code>
      服务器
     </code>
     之间
     <code>
      交互的数据细节
     </code>
     ，都是非常清楚的.
    </p>
    <hr/>
    <h4>
     <a id="font_color__bluefont_facefont_size6strong43_strongfontfontfont_211">
     </a>
     <font color="blue">
      <font face="华文行楷">
       <font size="6">
        <strong>
         4.3 抓包结果
        </strong>
       </font>
      </font>
     </font>
    </h4>
    <hr/>
    <p>
     以下是一个
     <code>
      HTTP请求/响应
     </code>
     的抓包结果
    </p>
    <hr/>
    <table>
     <tbody>
      <tr>
       <td bgcolor="pink">
        <font color="red">
         <font face="华文楷体">
          <font size="4">
           <strong>
            HTTP请求
           </strong>
          </font>
         </font>
        </font>
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/58aa2f300fb24fe987a5e6b05e0bbf8a.png"/>
    </p>
    <hr/>
    <p>
     <strong>
      首行：
     </strong>
    </p>
    <ul>
     <li>
      <code>
       [方法]
      </code>
      +
      <code>
       [url]
      </code>
      +
      <code>
       [版本]
      </code>
     </li>
    </ul>
    <hr/>
    <p>
     <strong>
      Header (请求头)：
     </strong>
    </p>
    <ul>
     <li>
      请求的属性，
      <code>
       冒号
      </code>
      分割的
      <code>
       键值对
      </code>
      ；
     </li>
     <li>
      每组属性之间使用
      <code>
       \n
      </code>
      分隔；
     </li>
     <li>
      遇到
      <code>
       空行
      </code>
      表示 Header 部分结束
     </li>
    </ul>
    <hr/>
    <p>
     <strong>
      Body:
     </strong>
    </p>
    <ul>
     <li>
      <code>
       空行后面
      </code>
      的内容都是Body；
     </li>
     <li>
      Body允许为
      <code>
       空字符串
      </code>
      .
     </li>
     <li>
      如果Body存在，则在Header中会有一个
      <code>
       Content-Length
      </code>
      属性来标识 Body 的长度；
     </li>
    </ul>
    <hr/>
    <table>
     <tbody>
      <tr>
       <td bgcolor="pink">
        <font color="red">
         <font face="华文楷体">
          <font size="4">
           <strong>
            HTTP响应
           </strong>
          </font>
         </font>
        </font>
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/3a04817581ca40da8be5490e6d89f454.png"/>
    </p>
    <p>
     <strong>
      首行：
     </strong>
    </p>
    <ul>
     <li>
      <code>
       [版本号]
      </code>
      +
      <code>
       [状态码]
      </code>
      +
      <code>
       [状态码解释]
      </code>
     </li>
    </ul>
    <hr/>
    <p>
     <strong>
      Header (响应头):
     </strong>
    </p>
    <ul>
     <li>
      请求的属性，
      <code>
       冒号
      </code>
      分割的键值对；
     </li>
     <li>
      每组属性之间使用
      <code>
       \n
      </code>
      分隔；
     </li>
     <li>
      遇到
      <code>
       空行
      </code>
      表示 Header 部分结束
     </li>
    </ul>
    <hr/>
    <p>
     <strong>
      Body:
     </strong>
    </p>
    <ul>
     <li>
      <code>
       空行后面
      </code>
      的内容都是Body；
     </li>
     <li>
      Body允许为
      <code>
       空字符串
      </code>
      .
     </li>
     <li>
      如果Body存在，则在Header中会有一个
      <code>
       Content-Length
      </code>
      属性来标识 Body 的长度；
     </li>
     <li>
      如果服务器返回了一个 html页面，那么
      <code>
       html页面内容就是在body中
      </code>
      .
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="font_color__bluefont_facefont_size6strong44_strongfontfontfont_282">
     </a>
     <font color="blue">
      <font face="华文行楷">
       <font size="6">
        <strong>
         4.4 协议格式总结
        </strong>
       </font>
      </font>
     </font>
    </h4>
    <hr/>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/b3b7b6957e614ffcab87c1c39c4ae66e.png"/>
    </p>
    <p>
     思考问题：为什么
     <code>
      HTTP报文
     </code>
     中要存在
     <code>
      "空行"
     </code>
     ?
    </p>
    <blockquote>
     <ul>
      <li>
       <p>
        因为HTTP协议并没有规定
        <code>
         报头部分的键值对
        </code>
        有多少个；
       </p>
      </li>
      <li>
       <p>
        <code>
         空行
        </code>
        就相当于是"报头的结束标记"，或者是"报头和正文之间的分隔符"；
       </p>
      </li>
      <li>
       <p>
        HTTP在传输层依赖TCP协议，
        <code>
         TCP是面向字节流的
        </code>
        ；
       </p>
      </li>
      <li>
       <p>
        如果
        <code>
         没有这个空行
        </code>
        ，就会出现
        <code>
         "粘包问题"
        </code>
        .
       </p>
      </li>
     </ul>
    </blockquote>
    <hr/>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/a9d3553301c848ff9cad6aa4116248ea.gif#pic_center"/>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/cd5abfb0ba1c49128b69f4ebb5922bac.gif#pic_center"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323430325f38343931363239362f:61727469636c652f64657461696c732f313436313238363131" class_="artid" style="display:none">
 </p>
</div>


