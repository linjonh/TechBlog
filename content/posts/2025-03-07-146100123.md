---
layout: post
title: "Maven-私服-Nexus-简单使用"
date: 2025-03-07 17:01:41 +0800
description: "Nexus 是一个仓库管理工具，主要用于存储和管理二进制构件（如 JAR 文件）。它支持多种类型的仓库格式，包括 Maven、npm、NuGet 等。"
keywords: "Maven 私服 Nexus 简单使用"
categories: ['系统', '后端', 'Linux']
tags: ['运维', '依赖管理', 'Ubuntu', 'Nexus', 'Maven', 'Java']
artid: "146100123"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146100123
    alt: "Maven-私服-Nexus-简单使用"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146100123
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146100123
cover: https://bing.ee123.net/img/rand?artid=146100123
image: https://bing.ee123.net/img/rand?artid=146100123
img: https://bing.ee123.net/img/rand?artid=146100123
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Maven 私服 Nexus 简单使用
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="Maven__Nexus__0">
     </a>
     Maven 私服 Nexus 简单使用
    </h2>
    <h3>
     <a id="_2">
     </a>
     简介
    </h3>
    <p>
     Nexus 是一个仓库管理工具，主要用于存储和管理二进制构件（如 JAR 文件）。它支持多种类型的仓库格式，包括 Maven、npm、NuGet 等。
    </p>
    <p>
     <strong>
      Nexus 主要用于以下几个方面：
     </strong>
    </p>
    <ul>
     <li>
      存储内部构件：存储公司内部开发的库和应用程序。
     </li>
     <li>
      缓存外部依赖：缓存从公共仓库（如 Maven Central）下载的依赖项，减少对外部网络的依赖，提高构建速度。
     </li>
     <li>
      集中化管理：提供一个集中的平台来管理所有依赖项，确保版本一致性和安全性。
     </li>
    </ul>
    <p>
     <strong>
      Nexus 的主要功能
     </strong>
    </p>
    <ol>
     <li>
      仓库类型: Nexus 支持多种类型的仓库：
     </li>
    </ol>
    <ul>
     <li>
      Hosted Repository（托管仓库）：用于存储内部开发的构件或第三方构件。可以是发布版本（releases）或快照版本（snapshots）。
     </li>
     <li>
      Proxy Repository（代理仓库）：作为公共仓库（如 Maven Central）的代理，缓存远程仓库中的构件，减少对外部网络的依赖。
     </li>
     <li>
      Group Repository（组仓库）：将多个仓库组合在一起，方便客户端通过一个 URL 访问多个仓库。
     </li>
    </ul>
    <ol start="2">
     <li>
      权限管理: Nexus 提供了细粒度的权限管理功能，允许管理员为不同的用户和角色分配不同的权限。例如，某些用户可能只能读取仓库中的构件，而其他用户则可以上传和删除构件。
     </li>
     <li>
      搜索和浏览:
      <br/>
      Nexus 提供了一个易于使用的 Web 界面，允许用户浏览和搜索仓库中的构件。这有助于快速找到所需的依赖项，并进行版本管理。
     </li>
     <li>
      安全和审计:
      <br/>
      Nexus 支持 SSL 加密、LDAP 集成、OAuth 和 SSO 等多种安全机制，确保仓库的安全性。此外，Nexus 还提供了详细的日志记录和审计功能，帮助管理员跟踪用户的操作。
     </li>
     <li>
      CI/CD 集成
      <br/>
      Nexus 可以与 Jenkins、GitLab CI、CircleCI 等持续集成/持续交付（CI/CD）工具无缝集成，支持自动化构建和部署流程。
     </li>
    </ol>
    <h3>
     <a id="_26">
     </a>
     安装
    </h3>
    <p>
     nexus 是 Java 开发,需要先安装 jdk 或 jre 才能运行.
    </p>
    <p>
     相关版本:
    </p>
    <ul>
     <li>
      系统: Ubuntu 24.04 server
     </li>
     <li>
      JDK: 11.0.26
     </li>
     <li>
      Nexus: 3.72.0-04
     </li>
    </ul>
    <p>
     <strong>
      安装JDK
     </strong>
    </p>
    <pre><code class="prism language-shell"><span class="token comment"># 下载jdk</span>
<span class="token function">wget</span> https://download.oracle.com/otn/java/jdk/11.0.26+7/720377fa814b4b4491dea5837af261de/jdk-11.0.26_linux-x64_bin.tar.gz
<span class="token comment"># 将 jdk-11.0.26_linux-x64_bin.tar.gz 解压到/opt/java11目录</span>
<span class="token function">sudo</span> <span class="token function">mkdir</span> /opt/java11
<span class="token function">sudo</span> <span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> jdk-11.0.26_linux-x64_bin.tar.gz <span class="token parameter variable">-C</span> /opt/java11 --strip-components<span class="token operator">=</span><span class="token number">1</span>
<span class="token comment"># 配置 JDK 的环境变量</span>
<span class="token function">sudo</span> <span class="token function">tee</span> /etc/profile.d/java.sh <span class="token operator">&lt;&lt;-</span><span class="token string">'EOF'
JAVA_HOME=/opt/java8
CLASSPATH=%JAVA_HOME%/lib:%JAVA_HOME%/jre/lib
PATH=$PATH:$JAVA_HOME/bin:$JAVA_HOME/jre/bin
export PATH CLASSPATH JAVA_HOME
EOF</span>
<span class="token comment"># 刷新环境变量</span>
<span class="token builtin class-name">source</span> /etc/profile.d/java.sh
</code></pre>
    <p>
     <strong>
      安装 Nexus
     </strong>
    </p>
    <pre><code class="prism language-shell"><span class="token comment"># 下载Nexus的最新版本</span>
<span class="token function">wget</span> https://download.sonatype.com/nexus/3/latest-unix.tar.gz
<span class="token comment"># 创建一个目录来存放Nexus</span>
<span class="token function">sudo</span> <span class="token function">mkdir</span> /opt/nexus
<span class="token comment"># 解压下载的tar.gz文件</span>
<span class="token function">sudo</span> <span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> latest-unix.tar.gz <span class="token parameter variable">-C</span> /opt/nexus --strip-components<span class="token operator">=</span><span class="token number">1</span>
<span class="token comment"># 创建一个nexus用户</span>
<span class="token function">sudo</span> <span class="token function">useradd</span> nexus
<span class="token comment"># 给nexus目录权限</span>
<span class="token function">sudo</span> <span class="token function">chown</span> <span class="token parameter variable">-R</span> nexus:nexus /opt/nexus
<span class="token comment"># 为nexus用户配置权限</span>
<span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token parameter variable">-R</span> <span class="token number">755</span> /opt/nexus
</code></pre>
    <p>
     <font color="tomato">
      注意: 要更改 nexus 的工作目录的位置
     </font>
    </p>
    <pre><code class="prism language-shell"><span class="token comment"># 调整工作目录</span>
<span class="token comment"># vim /opt/nexus/bin/nexus.vmoptions</span>
<span class="token parameter variable">-Xms2703m</span>
<span class="token parameter variable">-Xmx2703m</span>
<span class="token parameter variable">-XX:+UnlockDiagnosticVMOptions</span>
<span class="token parameter variable">-XX:+LogVMOutput</span>
<span class="token comment"># -XX:LogFile=../sonatype-work/nexus3/log/jvm.log</span>
<span class="token parameter variable">-XX:LogFile</span><span class="token operator">=</span>./sonatype-work/nexus3/log/jvm.log
<span class="token parameter variable">-XX:-OmitStackTraceInFastThrow</span>
<span class="token parameter variable">-Dkaraf.home</span><span class="token operator">=</span>.
<span class="token parameter variable">-Dkaraf.base</span><span class="token operator">=</span>.
<span class="token parameter variable">-Dkaraf.etc</span><span class="token operator">=</span>etc/karaf
<span class="token parameter variable">-Djava.util.logging.config.file</span><span class="token operator">=</span>etc/karaf/java.util.logging.properties
<span class="token comment"># -Dkaraf.data=../sonatype-work/nexus3</span>
<span class="token parameter variable">-Dkaraf.data</span><span class="token operator">=</span>./sonatype-work/nexus3
<span class="token comment"># -Dkaraf.log=../sonatype-work/nexus3/log</span>
<span class="token parameter variable">-Dkaraf.log</span><span class="token operator">=</span>./sonatype-work/nexus3/log
<span class="token comment"># -Djava.io.tmpdir=../sonatype-work/nexus3/tmp</span>
<span class="token parameter variable">-Djava.io.tmpdir</span><span class="token operator">=</span>./sonatype-work/nexus3/tmp
<span class="token parameter variable">-Dkaraf.startLocalConsole</span><span class="token operator">=</span>false
<span class="token parameter variable">-Djdk.tls.ephemeralDHKeySize</span><span class="token operator">=</span><span class="token number">2048</span>
<span class="token comment">#</span>
<span class="token comment"># additional vmoptions needed for Java9+</span>
<span class="token comment">#</span>
--add-reads<span class="token operator">=</span>java.xml<span class="token operator">=</span>java.logging
--add-exports<span class="token operator">=</span>java.base/org.apache.karaf.specs.locator<span class="token operator">=</span>java.xml,ALL-UNNAMED
--patch-module
<span class="token assign-left variable">java.base</span><span class="token operator">=</span>./lib/endorsed/org.apache.karaf.specs.locator-4.3.9.jar
--patch-module
<span class="token assign-left variable">java.xml</span><span class="token operator">=</span>./lib/endorsed/org.apache.karaf.specs.java.xml-4.3.9.jar
--add-opens
java.base/java.security<span class="token operator">=</span>ALL-UNNAMED
--add-opens
java.base/java.net<span class="token operator">=</span>ALL-UNNAMED
--add-opens
java.base/java.lang<span class="token operator">=</span>ALL-UNNAMED
--add-opens
java.base/java.util<span class="token operator">=</span>ALL-UNNAMED
--add-opens
java.naming/javax.naming.spi<span class="token operator">=</span>ALL-UNNAMED
--add-opens
java.rmi/sun.rmi.transport.tcp<span class="token operator">=</span>ALL-UNNAMED
--add-exports<span class="token operator">=</span>java.base/sun.net.www.protocol.http<span class="token operator">=</span>ALL-UNNAMED
--add-exports<span class="token operator">=</span>java.base/sun.net.www.protocol.https<span class="token operator">=</span>ALL-UNNAMED
--add-exports<span class="token operator">=</span>java.base/sun.net.www.protocol.jar<span class="token operator">=</span>ALL-UNNAMED
--add-exports<span class="token operator">=</span>jdk.xml.dom/org.w3c.dom.html<span class="token operator">=</span>ALL-UNNAMED
--add-exports<span class="token operator">=</span>jdk.naming.rmi/com.sun.jndi.url.rmi<span class="token operator">=</span>ALL-UNNAMED
--add-exports<span class="token operator">=</span>java.security.sasl/com.sun.security.sasl<span class="token operator">=</span>ALL-UNNAMED
</code></pre>
    <p>
     <font color="tomato">
      创建服务文件,以服务的形式运行
     </font>
    </p>
    <pre><code class="prism language-ini"># 创建nexus服务文件
# sudo vi /etc/systemd/system/nexus.service
[Unit]
Description=Nexus Repository Manager
After=network.target
 
[Service]
Type=forking
ExecStart=/opt/nexus/bin/nexus start
ExecStop=/opt/nexus/bin/nexus stop
User=nexus
LimitNOFILE=65536
TimeoutStartSec=30
 
[Install]
WantedBy=multi-user.target
</code></pre>
    <p>
     <font color="tomato">
      Nexus 服务的启动\状态\停止\重启
     </font>
    </p>
    <pre><code class="prism language-shell"><span class="token comment"># 重新加载systemd服务</span>
<span class="token function">sudo</span> systemctl daemon-reload
<span class="token comment"># 启动Nexus服务</span>
<span class="token function">sudo</span> systemctl start nexus
<span class="token comment"># 设置Nexus开机自启</span>
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> nexus
<span class="token comment"># 检查Nexus服务状态</span>
<span class="token function">sudo</span> systemctl status nexus
<span class="token comment"># 重启Nexus服务</span>
<span class="token function">sudo</span> systemctl restart nexus
</code></pre>
    <h3>
     <a id="_161">
     </a>
     开始访问
    </h3>
    <p>
     <strong>
      访问管理地址:
     </strong>
     <a href="http://%7BhostIp%7D:8081/" rel="nofollow">
      http://{hostIp}:8081
     </a>
    </p>
    <p>
     默认的用户密码：
    </p>
    <ul>
     <li>
      用户：admin
     </li>
     <li>
      密码：/opt/nexus/sonatype-work/nexus3/admin.password
     </li>
    </ul>
    <p>
     <img alt="mainPage" src="https://i-blog.csdnimg.cn/direct/1142453e9a814bbb8c8af92f91362c19.png#pic_center"/>
    </p>
    <h3>
     <a id="Maven__Nexus__173">
     </a>
     Maven 使用 Nexus 私服上传\下载
    </h3>
    <ol>
     <li>
      在 Nexus 中创建仓库:
      <font color="tomato">
       注意Version policy 和 Deployment policy 的配置
      </font>
     </li>
     <li>
      在 Maven 的 settings.xml 中配置 server 和 mirror
     </li>
     <li>
      在项目中使用私服上传和下载
     </li>
    </ol>
    <p>
     <strong>
      部分关键配置项:
     </strong>
    </p>
    <pre><code class="prism language-xml"><span class="token comment">&lt;!-- settings.xml 中的关键配置 --&gt;</span>
<span class="token comment">&lt;!-- server 部分 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>server</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>nexus-all<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>username</span><span class="token punctuation">&gt;</span></span>******<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>username</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>password</span><span class="token punctuation">&gt;</span></span>******<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>password</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>server</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>server</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>maven-releases-joe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>username</span><span class="token punctuation">&gt;</span></span>******<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>username</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>password</span><span class="token punctuation">&gt;</span></span>******<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>password</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>server</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>server</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>maven-snapshots-joe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>username</span><span class="token punctuation">&gt;</span></span>******<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>username</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>password</span><span class="token punctuation">&gt;</span></span>******<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>password</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>server</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- mirror 部分 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>nexus-all<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>http://10.18.18.168:8081/repository/maven-public/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>Nexus All Repositories Mirror<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>maven-releases-joe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>http://10.18.18.168:8081/repository/maven-releases-joe/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>maven-releases-joe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>maven-snapshots-joe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>http://10.18.18.168:8081/repository/maven-snapshots-joe/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>maven-snapshots-joe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <pre><code class="prism language-xml"><span class="token comment">&lt;!-- pom.xml 中的关键配置 --&gt;</span>
<span class="token comment">&lt;!-- 上传, mvn clean deploy --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>distributionManagement</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>maven-releases-joe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>http://10.18.18.168:8081/repository/maven-releases-joe/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>snapshotRepository</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>maven-snapshots-joe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>http://10.18.18.168:8081/repository/maven-snapshots-joe/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>snapshotRepository</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>distributionManagement</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 下载 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repositories</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>nexus-all<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>http://10.18.18.168:8081/repository/maven-public/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>maven-releases-joe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>http://10.18.18.168:8081/repository/maven-releases-joe/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>maven-snapshots-joe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>http://10.18.18.168:8081/repository/maven-snapshots-joe/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repositories</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <h3>
     <a id="_251">
     </a>
     附录
    </h3>
    <pre><code class="prism language-shell"><span class="token comment"># 启动脚本测试</span>
<span class="token function">mkdir</span> /home/nexus
<span class="token comment"># 给nexus目录权限</span>
<span class="token function">sudo</span> <span class="token function">chown</span> <span class="token parameter variable">-R</span> nexus:nexus /home/nexus
<span class="token comment"># 为nexus用户配置权限</span>
<span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token parameter variable">-R</span> <span class="token number">755</span> /home/nexus
<span class="token comment"># 有时问题可能出在启动脚本本身。您可以手动尝试启动 Nexus 以获取更详细的输出：</span>
<span class="token function">sudo</span> <span class="token function">su</span> - nexus <span class="token parameter variable">-c</span> <span class="token string">'/opt/nexus/bin/nexus start'</span>
<span class="token comment"># 或者直接运行 Nexus 以便实时查看输出</span>
<span class="token function">sudo</span> <span class="token function">su</span> - nexus <span class="token parameter variable">-c</span> <span class="token string">'/opt/nexus/bin/nexus run'</span>
</code></pre>
    <p>
     <strong>
      如果私服中不存在相关依赖可以手动上传:
     </strong>
    </p>
    <pre><code class="prism language-shell"><span class="token comment"># 手动上传的方式之一: 在项目的根目录执行, 指定依赖所在的位置\仓库的地址.</span>
<span class="token comment"># 注意: maven 本地仓库的依赖是不能直接上传的,需要移除本地仓库,再上传</span>
mvn deploy:deploy-file <span class="token parameter variable">-Durl</span><span class="token operator">=</span><span class="token string">"http://10.18.18.168:8081/repository/maven-releases-joe/"</span> <span class="token parameter variable">-DrepositoryId</span><span class="token operator">=</span><span class="token string">"maven-releases-joe"</span> <span class="token parameter variable">-Dfile</span><span class="token operator">=</span><span class="token string">"C:/Users/windows/Downloads/csp/casp-3.0.1.jar"</span> <span class="token parameter variable">-DpomFile</span><span class="token operator">=</span><span class="token string">"C:/Users/windows/Downloads/csp/casp-3.0.1.pom"</span> <span class="token parameter variable">-DgroupId</span><span class="token operator">=</span><span class="token string">"com.ultrapower"</span> <span class="token parameter variable">-DartifactId</span><span class="token operator">=</span><span class="token string">"casp"</span> <span class="token parameter variable">-Dversion</span><span class="token operator">=</span><span class="token string">"3.0.1"</span> <span class="token parameter variable">-Dpackaging</span><span class="token operator">=</span><span class="token string">"jar"</span>
</code></pre>
    <h3>
     <a id="_274">
     </a>
     参考文献
    </h3>
    <p>
     <a href="https://www.sonatype.com/products/sonatype-nexus-repository" rel="nofollow">
      nexus 官网
     </a>
    </p>
   </div>
   <link href="./../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="./../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a:2f2f626c6f672e6373646e2e6e65742f476a775f6a6176612f:61727469636c652f64657461696c732f313436313030313233" class_="artid" style="display:none">
 </p>
</div>


