---
layout: post
title: "idea-生成jpa的mvc三层"
date: 2025-03-11 14:50:23 +0800
description: "【代码】idea 生成jpa的mvc三层。"
keywords: "idea 生成jpa的mvc三层"
categories: ['未分类']
tags: ['Mvc', 'Java', 'Idea']
artid: "146179002"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146179002
    alt: "idea-生成jpa的mvc三层"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146179002
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146179002
cover: https://bing.ee123.net/img/rand?artid=146179002
image: https://bing.ee123.net/img/rand?artid=146179002
img: https://bing.ee123.net/img/rand?artid=146179002
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     idea 生成jpa的mvc三层
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     一、连上数据库
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/38d10e0280234c4880370857a1cd4290.png">
      <br/>
      二、选择
      <strong>
       Go to Scripts Directory
      </strong>
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/4903085cc51449a8b46eb57af6c625b5.png">
       <br/>
       三、修改内容为：
      </img>
     </img>
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">import</span> com<span class="token punctuation">.</span>intellij<span class="token punctuation">.</span><span class="token keyword">database</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span>DasTable
<span class="token keyword">import</span> com<span class="token punctuation">.</span>intellij<span class="token punctuation">.</span><span class="token keyword">database</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span>ObjectKind
<span class="token keyword">import</span> com<span class="token punctuation">.</span>intellij<span class="token punctuation">.</span><span class="token keyword">database</span><span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token keyword">Case</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>intellij<span class="token punctuation">.</span><span class="token keyword">database</span><span class="token punctuation">.</span>util<span class="token punctuation">.</span>DasUtil

<span class="token keyword">import</span> java<span class="token punctuation">.</span><span class="token keyword">text</span><span class="token punctuation">.</span>SimpleDateFormat

config <span class="token operator">=</span> <span class="token punctuation">[</span>
        impSerializable  : <span class="token boolean">true</span><span class="token punctuation">,</span>
        extendBaseEntity : <span class="token boolean">false</span><span class="token punctuation">,</span>
        extendBaseService: <span class="token boolean">false</span><span class="token punctuation">,</span>
        useLombok        : <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不使用会生成get、set方法</span>

        <span class="token comment">// 不生成哪个就注释哪个</span>
        generateItem     : <span class="token punctuation">[</span>
                <span class="token string">"Entity"</span><span class="token punctuation">,</span>
                <span class="token string">"Service"</span><span class="token punctuation">,</span>
                <span class="token string">"Controller"</span><span class="token punctuation">,</span><span class="token comment">//第一步</span>
                <span class="token string">"Repository"</span><span class="token punctuation">,</span>
<span class="token comment">//                "RepositoryCustom",</span>
<span class="token comment">//                "RepositoryImpl",</span>
<span class="token comment">//                "ServiceImpl",</span>
        <span class="token punctuation">]</span>
<span class="token punctuation">]</span>

baseEntityPackage <span class="token operator">=</span> <span class="token string">"com.dz.demo.framework.base.BaseEntity"</span>
baseServicePackage <span class="token operator">=</span> <span class="token string">"com.dz.demo.framework.base.BaseService"</span>
baseEntityProperties <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"id"</span><span class="token punctuation">,</span> <span class="token string">"createDate"</span><span class="token punctuation">,</span> <span class="token string">"lastModifiedDate"</span><span class="token punctuation">,</span> <span class="token string">"version"</span><span class="token punctuation">]</span>

typeMapping <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">(</span><span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">(</span>?i<span class="token punctuation">)</span><span class="token keyword">bool</span><span class="token operator">|</span><span class="token keyword">boolean</span><span class="token operator">|</span><span class="token keyword">tinyint</span><span class="token operator">/</span><span class="token punctuation">)</span>     : <span class="token string">"Boolean"</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">(</span>?i<span class="token punctuation">)</span><span class="token keyword">bigint</span><span class="token operator">/</span><span class="token punctuation">)</span>                   : <span class="token string">"Long"</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token operator">~</span><span class="token operator">/</span><span class="token keyword">int</span><span class="token operator">/</span><span class="token punctuation">)</span>                          : <span class="token string">"Integer"</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">(</span>?i<span class="token punctuation">)</span><span class="token keyword">float</span><span class="token operator">|</span><span class="token keyword">double</span><span class="token operator">|</span><span class="token keyword">decimal</span><span class="token operator">|</span><span class="token keyword">real</span><span class="token operator">/</span><span class="token punctuation">)</span>: <span class="token string">"Double"</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">(</span>?i<span class="token punctuation">)</span><span class="token keyword">datetime</span><span class="token operator">|</span><span class="token keyword">timestamp</span><span class="token operator">/</span><span class="token punctuation">)</span>       : <span class="token string">"java.util.Date"</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">(</span>?i<span class="token punctuation">)</span><span class="token keyword">date</span><span class="token operator">/</span><span class="token punctuation">)</span>                     : <span class="token string">"java.sql.Date"</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">(</span>?i<span class="token punctuation">)</span><span class="token keyword">time</span><span class="token operator">/</span><span class="token punctuation">)</span>                     : <span class="token string">"java.sql.Time"</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">(</span>?i<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">)</span>                         : <span class="token string">"String"</span>
<span class="token punctuation">]</span>

FILES<span class="token punctuation">.</span>chooseDirectoryAndSave<span class="token punctuation">(</span><span class="token string">"Choose directory"</span><span class="token punctuation">,</span> <span class="token string">"Choose where to store generated files"</span><span class="token punctuation">)</span> { dir <span class="token operator">-</span><span class="token operator">&gt;</span>
    SELECTION<span class="token punctuation">.</span>filter {
        it instanceof DasTable <span class="token operator">&amp;&amp;</span> it<span class="token punctuation">.</span>getKind<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">=</span> ObjectKind<span class="token punctuation">.</span><span class="token keyword">TABLE</span>
    }<span class="token punctuation">.</span>each {
        generate<span class="token punctuation">(</span>it<span class="token punctuation">,</span> dir<span class="token punctuation">)</span>
    }
}

<span class="token comment">// 生成对应的文件              开始起飞</span>
def generate<span class="token punctuation">(</span><span class="token keyword">table</span><span class="token punctuation">,</span> dir<span class="token punctuation">)</span> {

    def entityPath <span class="token operator">=</span> <span class="token string">"${dir.toString()}\\entity"</span><span class="token punctuation">,</span>
        servicePath <span class="token operator">=</span> <span class="token string">"${dir.toString()}\\service"</span><span class="token punctuation">,</span>
        repPath <span class="token operator">=</span> <span class="token string">"${dir.toString()}\\repository"</span><span class="token punctuation">,</span>
<span class="token comment">//      repImpPath = "${dir.toString()}\\repository\\impl",</span>
        serviceImplPath <span class="token operator">=</span> <span class="token string">"${dir.toString()}\\service\\impl"</span><span class="token punctuation">,</span>
        controllerPath <span class="token operator">=</span> <span class="token string">"${dir.toString()}\\controller"</span>

    mkdirs<span class="token punctuation">(</span><span class="token punctuation">[</span>entityPath<span class="token punctuation">,</span> servicePath<span class="token punctuation">,</span> repPath<span class="token punctuation">,</span> serviceImplPath<span class="token punctuation">,</span> controllerPath<span class="token punctuation">]</span><span class="token punctuation">)</span>

    System<span class="token punctuation">.</span><span class="token keyword">out</span><span class="token punctuation">.</span>println<span class="token punctuation">(</span><span class="token keyword">table</span><span class="token punctuation">.</span>getName<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    def entityName <span class="token operator">=</span> javaName<span class="token punctuation">(</span><span class="token keyword">table</span><span class="token punctuation">.</span>getName<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    def <span class="token keyword">fields</span> <span class="token operator">=</span> calcFields<span class="token punctuation">(</span><span class="token keyword">table</span><span class="token punctuation">)</span>
    def basePackage <span class="token operator">=</span> clacBasePackage<span class="token punctuation">(</span>dir<span class="token punctuation">)</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>isGenerate<span class="token punctuation">(</span><span class="token string">"Entity"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> {
        genUTF8File<span class="token punctuation">(</span>entityPath<span class="token punctuation">,</span> <span class="token string">"${entityName}.java"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>withPrintWriter { <span class="token keyword">out</span> <span class="token operator">-</span><span class="token operator">&gt;</span> genEntity<span class="token punctuation">(</span><span class="token keyword">out</span><span class="token punctuation">,</span> <span class="token keyword">table</span><span class="token punctuation">,</span> entityName<span class="token punctuation">,</span> <span class="token keyword">fields</span><span class="token punctuation">,</span> basePackage<span class="token punctuation">)</span> }
    }
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isGenerate<span class="token punctuation">(</span><span class="token string">"Service"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> {
        genUTF8File<span class="token punctuation">(</span>servicePath<span class="token punctuation">,</span> <span class="token string">"${entityName}Service.java"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>withPrintWriter { <span class="token keyword">out</span> <span class="token operator">-</span><span class="token operator">&gt;</span> genService<span class="token punctuation">(</span><span class="token keyword">out</span><span class="token punctuation">,</span> <span class="token keyword">table</span><span class="token punctuation">,</span> entityName<span class="token punctuation">,</span> <span class="token keyword">fields</span><span class="token punctuation">,</span> basePackage<span class="token punctuation">)</span> }
    }
    <span class="token comment">//第二步 记得改后面的方法</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isGenerate<span class="token punctuation">(</span><span class="token string">"Controller"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> {
        genUTF8File<span class="token punctuation">(</span>controllerPath<span class="token punctuation">,</span> <span class="token string">"${entityName}Controller.java"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>withPrintWriter { <span class="token keyword">out</span> <span class="token operator">-</span><span class="token operator">&gt;</span> genController<span class="token punctuation">(</span><span class="token keyword">out</span><span class="token punctuation">,</span> <span class="token keyword">table</span><span class="token punctuation">,</span> entityName<span class="token punctuation">,</span> <span class="token keyword">fields</span><span class="token punctuation">,</span> basePackage<span class="token punctuation">)</span> }
    }
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isGenerate<span class="token punctuation">(</span><span class="token string">"Repository"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> {
        genUTF8File<span class="token punctuation">(</span>repPath<span class="token punctuation">,</span> <span class="token string">"${entityName}Repository.java"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>withPrintWriter { <span class="token keyword">out</span> <span class="token operator">-</span><span class="token operator">&gt;</span> genRepository<span class="token punctuation">(</span><span class="token keyword">out</span><span class="token punctuation">,</span> <span class="token keyword">table</span><span class="token punctuation">,</span> entityName<span class="token punctuation">,</span> <span class="token keyword">fields</span><span class="token punctuation">,</span> basePackage<span class="token punctuation">)</span> }
    }
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isGenerate<span class="token punctuation">(</span><span class="token string">"RepositoryCustom"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> {
        genUTF8File<span class="token punctuation">(</span>repPath<span class="token punctuation">,</span> <span class="token string">"${entityName}RepositoryCustom.java"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>withPrintWriter { <span class="token keyword">out</span> <span class="token operator">-</span><span class="token operator">&gt;</span> genRepositoryCustom<span class="token punctuation">(</span><span class="token keyword">out</span><span class="token punctuation">,</span> entityName<span class="token punctuation">,</span> basePackage<span class="token punctuation">)</span> }
    }
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isGenerate<span class="token punctuation">(</span><span class="token string">"RepositoryImpl"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> {
        genUTF8File<span class="token punctuation">(</span>repImpPath<span class="token punctuation">,</span> <span class="token string">"${entityName}RepositoryImpl.java"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>withPrintWriter { <span class="token keyword">out</span> <span class="token operator">-</span><span class="token operator">&gt;</span> genRepositoryImpl<span class="token punctuation">(</span><span class="token keyword">out</span><span class="token punctuation">,</span> <span class="token keyword">table</span><span class="token punctuation">,</span> entityName<span class="token punctuation">,</span> <span class="token keyword">fields</span><span class="token punctuation">,</span> basePackage<span class="token punctuation">)</span> }
    }
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isGenerate<span class="token punctuation">(</span><span class="token string">"ServiceImpl"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> {
        genUTF8File<span class="token punctuation">(</span>serviceImplPath<span class="token punctuation">,</span> <span class="token string">"${entityName}ServiceImpl.java"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>withPrintWriter { <span class="token keyword">out</span> <span class="token operator">-</span><span class="token operator">&gt;</span> genServiceImpl<span class="token punctuation">(</span><span class="token keyword">out</span><span class="token punctuation">,</span> <span class="token keyword">table</span><span class="token punctuation">,</span> entityName<span class="token punctuation">,</span> <span class="token keyword">fields</span><span class="token punctuation">,</span> basePackage<span class="token punctuation">)</span> }
    }

}

<span class="token comment">// 判断是否需要被生成</span>
def isGenerate<span class="token punctuation">(</span>itemName<span class="token punctuation">)</span> {
    config<span class="token punctuation">.</span>generateItem<span class="token punctuation">.</span><span class="token keyword">contains</span><span class="token punctuation">(</span>itemName<span class="token punctuation">)</span>
}

<span class="token comment">// 首字母小写转换</span>
def theFirstToLowerCase<span class="token punctuation">(</span>str<span class="token punctuation">)</span> {
    StringBuilder sb <span class="token operator">=</span> new StringBuilder<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    sb<span class="token punctuation">.</span>append<span class="token punctuation">(</span>str<span class="token punctuation">.</span>substring<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>toLowerCase<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    sb<span class="token punctuation">.</span>append<span class="token punctuation">(</span>str<span class="token punctuation">.</span>substring<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> sb<span class="token punctuation">.</span>toString<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
}

<span class="token comment">// 指定文件编码方式，防止中文注释乱码</span>
def genUTF8File<span class="token punctuation">(</span>dir<span class="token punctuation">,</span> fileName<span class="token punctuation">)</span> {
    new PrintWriter<span class="token punctuation">(</span>new OutputStreamWriter<span class="token punctuation">(</span>new FileOutputStream<span class="token punctuation">(</span>new <span class="token keyword">File</span><span class="token punctuation">(</span>dir<span class="token punctuation">,</span> fileName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
}

<span class="token comment">// 生成每个字段</span>
def genProperty<span class="token punctuation">(</span><span class="token keyword">out</span><span class="token punctuation">,</span> field<span class="token punctuation">)</span> {

    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">""</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"\t/**"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"\t * ${field.comment.toString()}"</span>
<span class="token comment">//  out.println "\t * default value: ${field.default}"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"\t */"</span>
    <span class="token comment">// 默认表的第一个字段为主键</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>field<span class="token punctuation">.</span>position <span class="token operator">=</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> {
        <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"\t@Id"</span>
        <span class="token comment">//自增主键需要</span>
        <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"\t@GeneratedValue(strategy = GenerationType.IDENTITY)"</span>
    }
    <span class="token comment">// 枚举不需要长度</span>
<span class="token comment">//  out.println "\t@Column(name = \"${field.colum}\", nullable = ${!field.isNotNull}${field.dataType == "enum" ? "" : ", length = $field.len"})"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"\t@Column(name = \"${field.colum}\", nullable = ${!field.isNotNull}${field.dataType == "</span><span class="token keyword">enum</span><span class="token string">" ? "" : ""})"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"\tprivate ${field.type} ${field.name};"</span>
}

<span class="token comment">// 生成get、get方法</span>
def genGetSet<span class="token punctuation">(</span><span class="token keyword">out</span><span class="token punctuation">,</span> field<span class="token punctuation">)</span> {

    <span class="token comment">// get</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"\t"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"\tpublic ${field.type} get${field.name.substring(0, 1).toUpperCase()}${field.name.substring(1)}() {"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"\t\treturn this.${field.name};"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"\t}"</span>

    <span class="token comment">// set</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"\t"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"\tpublic void set${field.name.substring(0, 1).toUpperCase()}${field.name.substring(1)}(${field.type} ${field.name}) {"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"\t\tthis.${field.name} = ${field.name};"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"\t}"</span>
}

<span class="token comment">// 生成实体类</span>
def genEntity<span class="token punctuation">(</span><span class="token keyword">out</span><span class="token punctuation">,</span> <span class="token keyword">table</span><span class="token punctuation">,</span> entityName<span class="token punctuation">,</span> <span class="token keyword">fields</span><span class="token punctuation">,</span> basePackage<span class="token punctuation">)</span> {
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"package ${basePackage}.entity;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">""</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>extendBaseEntity<span class="token punctuation">)</span> {
<span class="token comment">//    out.println "import $baseEntityPackage;"</span>
    }
    <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>useLombok<span class="token punctuation">)</span> {
        <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import lombok.Data;"</span>
    }
    <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>impSerializable<span class="token punctuation">)</span> {
        <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import java.io.Serializable;"</span>
    }
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import javax.persistence.*;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">""</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"/**\n"</span> <span class="token operator">+</span>
            <span class="token string">" * @Description  \n"</span> <span class="token operator">+</span>
            <span class="token string">" * @Author  xwd\n"</span> <span class="token operator">+</span> <span class="token comment">//1. 修改idea为自己名字</span>
            <span class="token string">" * @Date "</span> <span class="token operator">+</span> new SimpleDateFormat<span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>new <span class="token keyword">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" \n"</span> <span class="token operator">+</span>
            <span class="token string">" */"</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>useLombok<span class="token punctuation">)</span> {
        <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"@Data"</span>
    }
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"@Entity"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"@Table(name = \"${table.getName()}\")"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"public class $entityName${config.extendBaseEntity ? "</span> extends BaseEntity<span class="token string">" : ""}${config.impSerializable ? "</span> implements <span class="token keyword">Serializable</span><span class="token string">" : ""} {"</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>extendBaseEntity<span class="token punctuation">)</span> {
        <span class="token keyword">fields</span> <span class="token operator">=</span> <span class="token keyword">fields</span><span class="token punctuation">.</span>findAll { it <span class="token operator">-</span><span class="token operator">&gt;</span>
            <span class="token operator">!</span>baseEntityProperties<span class="token punctuation">.</span><span class="token keyword">any</span> { it1 <span class="token operator">-</span><span class="token operator">&gt;</span> it1 <span class="token operator">=</span><span class="token operator">=</span> it<span class="token punctuation">.</span>name }
        }
    }

    <span class="token keyword">fields</span><span class="token punctuation">.</span>each<span class="token punctuation">(</span><span class="token punctuation">)</span> {
        genProperty<span class="token punctuation">(</span><span class="token keyword">out</span><span class="token punctuation">,</span> it<span class="token punctuation">)</span>
    }

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>config<span class="token punctuation">.</span>useLombok<span class="token punctuation">)</span> {
        <span class="token keyword">fields</span><span class="token punctuation">.</span>each<span class="token punctuation">(</span><span class="token punctuation">)</span> {
            genGetSet<span class="token punctuation">(</span><span class="token keyword">out</span><span class="token punctuation">,</span> it<span class="token punctuation">)</span>
        }
    }
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"}"</span>
}

<span class="token comment">// 生成Service</span>
def genService<span class="token punctuation">(</span><span class="token keyword">out</span><span class="token punctuation">,</span> <span class="token keyword">table</span><span class="token punctuation">,</span> entityName<span class="token punctuation">,</span> <span class="token keyword">fields</span><span class="token punctuation">,</span> basePackage<span class="token punctuation">)</span> {
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"package ${basePackage}.service;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">""</span>
  <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import ${basePackage}.repository.${entityName}Repository;"</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>extendBaseService<span class="token punctuation">)</span> {
<span class="token comment">//    out.println "import $baseServicePackage;"</span>
        <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import ${basePackage}.entity.$entityName;"</span>
    }
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import org.springframework.stereotype.Service;"</span>
  <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import javax.annotation.Resource;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">""</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"@Service"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"public class ${entityName}Service${config.extendBaseService ? "</span> extends BaseService<span class="token operator">&lt;</span>$entityName<span class="token punctuation">,</span> ${<!-- --><span class="token keyword">fields</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token keyword">type</span>}<span class="token operator">&gt;</span><span class="token string">" : ""}  {"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">""</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"\t@Resource"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"\tprivate ${entityName}Repository repository;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"}"</span>
}

<span class="token comment">// 生成Controller 第三步</span>
def genController<span class="token punctuation">(</span><span class="token keyword">out</span><span class="token punctuation">,</span> <span class="token keyword">table</span><span class="token punctuation">,</span> entityName<span class="token punctuation">,</span> <span class="token keyword">fields</span><span class="token punctuation">,</span> basePackage<span class="token punctuation">)</span> {
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"package ${basePackage}.controller;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">""</span>
<span class="token comment">//  out.println "import ${basePackage}.repository.${entityName}Repository;"</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>extendBaseService<span class="token punctuation">)</span> {
<span class="token comment">//    out.println "import $baseServicePackage;"</span>
        <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import ${basePackage}.entity.$entityName;"</span>
    }
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import lombok.extern.slf4j.Slf4j;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import org.springframework.web.bind.annotation.RequestMapping;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import org.springframework.web.bind.annotation.RestController;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import ${basePackage}.service.${entityName}Service;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import javax.annotation.Resource;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">""</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"@Slf4j"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"@RestController"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"@RequestMapping(\"/${entityName.substring(0,1).toLowerCase()}${entityName.substring(1)}\")"</span><span class="token comment">//首字母小写</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"public class ${entityName}Controller${config.extendBaseService ? "</span> extends BaseService<span class="token operator">&lt;</span>$entityName<span class="token punctuation">,</span> ${<!-- --><span class="token keyword">fields</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token keyword">type</span>}<span class="token operator">&gt;</span><span class="token string">" : ""}  {"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">""</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"\t@Resource"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"\tprivate ${entityName}Service "</span><span class="token operator">+</span>theFirstToLowerCase<span class="token punctuation">(</span><span class="token string">"${entityName}"</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"Service;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"}"</span>
}

<span class="token comment">// 生成Repository</span>
def genRepository<span class="token punctuation">(</span><span class="token keyword">out</span><span class="token punctuation">,</span> <span class="token keyword">table</span><span class="token punctuation">,</span> entityName<span class="token punctuation">,</span> <span class="token keyword">fields</span><span class="token punctuation">,</span> basePackage<span class="token punctuation">)</span> {
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"package ${basePackage}.repository;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">""</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import ${basePackage}.entity.$entityName;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import org.springframework.data.jpa.repository.JpaRepository;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import org.springframework.data.jpa.repository.JpaSpecificationExecutor;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">""</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"public interface ${entityName}Repository extends JpaRepository&lt;$entityName, ${fields[0].type}&gt;, JpaSpecificationExecutor&lt;$entityName&gt;{"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">""</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"}"</span>
}

<span class="token comment">// 生成RepositoryCustom</span>
def genRepositoryCustom<span class="token punctuation">(</span><span class="token keyword">out</span><span class="token punctuation">,</span> entityName<span class="token punctuation">,</span> basePackage<span class="token punctuation">)</span> {
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"package ${basePackage}.repository;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">""</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"public interface ${entityName}RepositoryCustom {"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">""</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"}"</span>
}

<span class="token comment">// 生成RepositoryImpl</span>
def genRepositoryImpl<span class="token punctuation">(</span><span class="token keyword">out</span><span class="token punctuation">,</span> <span class="token keyword">table</span><span class="token punctuation">,</span> entityName<span class="token punctuation">,</span> <span class="token keyword">fields</span><span class="token punctuation">,</span> basePackage<span class="token punctuation">)</span> {
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"package ${basePackage}.repository.impl;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">""</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import ${basePackage}.repository.${entityName}RepositoryCustom;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import org.springframework.stereotype.Repository;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">""</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import javax.persistence.EntityManager;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import javax.persistence.PersistenceContext;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">""</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"@Repository"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"public class ${entityName}RepositoryImpl implements ${entityName}RepositoryCustom {"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">""</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"\t@PersistenceContext"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"\tprivate EntityManager em;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"}"</span>
}
<span class="token comment">// 生成ServiceImpl</span>
def genServiceImpl<span class="token punctuation">(</span><span class="token keyword">out</span><span class="token punctuation">,</span> <span class="token keyword">table</span><span class="token punctuation">,</span> entityName<span class="token punctuation">,</span> <span class="token keyword">fields</span><span class="token punctuation">,</span> basePackage<span class="token punctuation">)</span> {
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"package ${basePackage}.service.impl;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">""</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import ${basePackage}.service.${entityName}Service;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import ${basePackage}.repository.${entityName}Repository;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import javax.annotation.Resource;"</span>
<span class="token comment">//  out.println "import ${basePackage}.repository.${entityName}RepositoryCustom;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"import org.springframework.stereotype.Service;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">""</span>
<span class="token comment">//  out.println "import javax.persistence.EntityManager;"</span>
<span class="token comment">//  out.println "import javax.persistence.PersistenceContext;"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">""</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"@Service"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"public class ${entityName}ServiceImpl implements ${entityName}Service {"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">""</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"\t@Resource"</span>
    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"\tprivate ${entityName}Repository repository;"</span>
<span class="token comment">//  out.println "\t@PersistenceContext"</span>
<span class="token comment">//  out.println "\tprivate EntityManager em;"</span>

    <span class="token keyword">out</span><span class="token punctuation">.</span>println <span class="token string">"}"</span>
}

<span class="token comment">// 生成文件夹</span>
def mkdirs<span class="token punctuation">(</span>dirs<span class="token punctuation">)</span> {
    dirs<span class="token punctuation">.</span>forEach {
        def f <span class="token operator">=</span> new <span class="token keyword">File</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>f<span class="token punctuation">.</span><span class="token keyword">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> {
            f<span class="token punctuation">.</span>mkdirs<span class="token punctuation">(</span><span class="token punctuation">)</span>
        }
    }
}

def clacBasePackage<span class="token punctuation">(</span>dir<span class="token punctuation">)</span> {
    dir<span class="token punctuation">.</span>toString<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span>replaceAll<span class="token punctuation">(</span><span class="token string">"^.+\\\\src\\\\main\\\\java\\\\"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span>replaceAll<span class="token punctuation">(</span><span class="token string">"\\\\"</span><span class="token punctuation">,</span> <span class="token string">"."</span><span class="token punctuation">)</span>
}

def isBaseEntityProperty<span class="token punctuation">(</span>property<span class="token punctuation">)</span> {
    baseEntityProperties<span class="token punctuation">.</span>find { it <span class="token operator">=</span><span class="token operator">=</span> property } <span class="token operator">!=</span> <span class="token boolean">null</span>
}

<span class="token comment">// 转换类型</span>
def calcFields<span class="token punctuation">(</span><span class="token keyword">table</span><span class="token punctuation">)</span> {
    DasUtil<span class="token punctuation">.</span>getColumns<span class="token punctuation">(</span><span class="token keyword">table</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reduce<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> { <span class="token keyword">fields</span><span class="token punctuation">,</span> col <span class="token operator">-</span><span class="token operator">&gt;</span>

        def spec <span class="token operator">=</span> <span class="token keyword">Case</span><span class="token punctuation">.</span>LOWER<span class="token punctuation">.</span><span class="token keyword">apply</span><span class="token punctuation">(</span>col<span class="token punctuation">.</span>getDataType<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>getSpecification<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        def typeStr <span class="token operator">=</span> typeMapping<span class="token punctuation">.</span>find { p<span class="token punctuation">,</span> t <span class="token operator">-</span><span class="token operator">&gt;</span> p<span class="token punctuation">.</span>matcher<span class="token punctuation">(</span>spec<span class="token punctuation">)</span><span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token punctuation">)</span> }<span class="token punctuation">.</span><span class="token keyword">value</span>
        <span class="token keyword">fields</span> <span class="token operator">+</span><span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>
                           name     : javaName<span class="token punctuation">(</span>col<span class="token punctuation">.</span>getName<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                           colum    : col<span class="token punctuation">.</span>getName<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                           <span class="token keyword">type</span>     : typeStr<span class="token punctuation">,</span>
                           dataType : col<span class="token punctuation">.</span>getDataType<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>toString<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>replaceAll<span class="token punctuation">(</span><span class="token operator">/</span>\<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token operator">*</span>\<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span>toLowerCase<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                           len      : col<span class="token punctuation">.</span>getDataType<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>toString<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>replaceAll<span class="token punctuation">(</span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token operator">^</span>\d<span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                           <span class="token keyword">default</span>  : col<span class="token punctuation">.</span>getDefault<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                           <span class="token keyword">comment</span>  : col<span class="token punctuation">.</span>getComment<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                           isNotNull: col<span class="token punctuation">.</span>isNotNull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                           position : col<span class="token punctuation">.</span>getPosition<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token comment">//                           getDefault            : col.getDefault(),</span>
<span class="token comment">//                           getParent             : col.getParent(),</span>
<span class="token comment">//                           getTable              : col.getTable(),</span>
<span class="token comment">//                           getDataType           : col.getDataType(),</span>
<span class="token comment">//                           isNotNull             : col.isNotNull(),</span>
<span class="token comment">//                           getWeight             : col.getWeight(),</span>
<span class="token comment">//                           getDocumentation      : col.getDocumentation(),</span>
<span class="token comment">//                           getTableName          : col.getTableName(),</span>
<span class="token comment">//                           getName               : col.getName(),</span>
<span class="token comment">//                           getLanguage           : col.getLanguage(),</span>
<span class="token comment">//                           getTypeName           : col.getTypeName(),</span>
<span class="token comment">//                           isDirectory           : col.isDirectory(),</span>
<span class="token comment">//                           isValid               : col.isValid(),</span>
<span class="token comment">//                           getComment            : col.getComment(),</span>
<span class="token comment">//                           getText               : col.getText(),</span>
<span class="token comment">//                           getDeclaration        : col.getDeclaration(),</span>
<span class="token comment">//                           getPosition           : col.getPosition(),</span>
<span class="token comment">//                           canNavigate           : col.canNavigate(),</span>
<span class="token comment">//                           isWritable            : col.isWritable(),</span>
<span class="token comment">//                           getIcon               : col.getIcon(),</span>
<span class="token comment">//                           getManager            : col.getManager(),</span>
<span class="token comment">//                           getDelegate           : col.getDelegate(),</span>
<span class="token comment">//                           getChildren           : col.getChildren(),</span>
<span class="token comment">//                           getKind               : col.getKind(),</span>
<span class="token comment">//                           isCaseSensitive       : col.isCaseSensitive(),</span>
<span class="token comment">//                           getProject            : col.getProject(),</span>
<span class="token comment">//                           getDataSource         : col.getDataSource(),</span>
<span class="token comment">//                           getVirtualFile        : col.getVirtualFile(),</span>
<span class="token comment">//                           getMetaData           : col.getMetaData(),</span>
<span class="token comment">//                           canNavigateToSource   : col.canNavigateToSource(),</span>
<span class="token comment">//                           getDisplayOrder       : col.getDisplayOrder(),</span>
<span class="token comment">//                           getDasParent          : col.getDasParent(),</span>
<span class="token comment">//                           getLocationString     : col.getLocationString(),</span>
<span class="token comment">//                           getDependences        : col.getDependences(),</span>
<span class="token comment">//                           getBaseIcon           : col.getBaseIcon(),</span>
<span class="token comment">//                           getNode               : col.getNode(),</span>
<span class="token comment">//                           getTextLength         : col.getTextLength(),</span>
<span class="token comment">//                           getFirstChild         : col.getFirstChild(),</span>
<span class="token comment">//                           getLastChild          : col.getLastChild(),</span>
<span class="token comment">//                           getNextSibling        : col.getNextSibling(),</span>
<span class="token comment">//                           getTextOffset         : col.getTextOffset(),</span>
<span class="token comment">//                           getPrevSibling        : col.getPrevSibling(),</span>
<span class="token comment">//                           getPresentation       : col.getPresentation(),</span>
<span class="token comment">//                           isPhysical            : col.isPhysical(),</span>
<span class="token comment">//                           getTextRange          : col.getTextRange(),</span>
<span class="token comment">//                           getPresentableText    : col.getPresentableText(),</span>
<span class="token comment">//                           textToCharArray       : col.textToCharArray(),</span>
<span class="token comment">//                           getStartOffsetInParent: col.getStartOffsetInParent(),</span>
<span class="token comment">//                           getContext            : col.getContext(),</span>
<span class="token comment">//                           getUseScope           : col.getUseScope(),</span>
<span class="token comment">//                           getResolveScope       : col.getResolveScope(),</span>
<span class="token comment">//                           getReferences         : col.getReferences(),</span>
<span class="token comment">//                           getReference          : col.getReference(),</span>
<span class="token comment">//                           getContainingFile     : col.getContainingFile(),</span>
<span class="token comment">//                           getOriginalElement    : col.getOriginalElement(),</span>
<span class="token comment">//                           getNavigationElement  : col.getNavigationElement(),</span>
<span class="token comment">//                           getUserDataString     : col.getUserDataString(),</span>
<span class="token comment">//                           isUserDataEmpty       : col.isUserDataEmpty(),</span>
<span class="token comment">//                           getDbParent           : col.getDbParent(),</span>
                   <span class="token punctuation">]</span><span class="token punctuation">]</span>

    }
}

def javaName<span class="token punctuation">(</span>str<span class="token punctuation">,</span> capitalize<span class="token punctuation">)</span> {
    def s <span class="token operator">=</span> str<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token operator">/</span><span class="token punctuation">(</span>?<span class="token operator">&lt;=</span><span class="token punctuation">[</span><span class="token operator">^</span>\p{IsLetter}<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">)</span><span class="token punctuation">.</span>collect { <span class="token keyword">Case</span><span class="token punctuation">.</span>LOWER<span class="token punctuation">.</span><span class="token keyword">apply</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">.</span>capitalize<span class="token punctuation">(</span><span class="token punctuation">)</span> }
            <span class="token punctuation">.</span><span class="token keyword">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span>replaceAll<span class="token punctuation">(</span><span class="token operator">/</span><span class="token punctuation">[</span><span class="token operator">^</span>\p{javaJavaIdentifierPart}<span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">,</span> <span class="token string">"_"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>replaceAll<span class="token punctuation">(</span><span class="token operator">/</span>_<span class="token operator">/</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span>
    capitalize <span class="token operator">||</span> s<span class="token punctuation">.</span>length<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">=</span> <span class="token number">1</span> ? s : <span class="token keyword">Case</span><span class="token punctuation">.</span>LOWER<span class="token punctuation">.</span><span class="token keyword">apply</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> s<span class="token punctuation">[</span><span class="token number">1.</span><span class="token punctuation">.</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
}





</code></pre>
    <p>
     四、进行生成操作
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/7cf20e4c95404cce88780a7ef1e4019d.png"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f33383331363732312f:61727469636c652f64657461696c732f313436313739303032" class_="artid" style="display:none">
 </p>
</div>


