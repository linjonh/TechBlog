---
layout: post
title: "操作系统安全任务2用户与用户组"
date: 2025-03-13 16:12:51 +0800
description: "在网络通信安全和操作系统环境中，用户是指能够访问系统资源的个体。每个用户都有唯一的标识符（UID），用于系统识别和区分不同的用户。用户可以通过用户名和密码进行身份验证，从而获得对系统资源的访问权限。例如，在一个企业网络中，每个员工都有自己的用户名和密码，用于登录公司的办公系统，访问自己的文件和应用程序。影子账户是一种隐藏的用户账户，通常用于系统管理或特殊用途。影子账户的信息存储在文件中，该文件只有 root 用户可以访问，从而提高了账户信息的安全性。"
keywords: "【操作系统安全】任务2：用户与用户组"
categories: ['操作系统安全']
tags: ['运维', '服务器', 'Linux']
artid: "146233583"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146233583
    alt: "操作系统安全任务2用户与用户组"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146233583
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146233583
cover: https://bing.ee123.net/img/rand?artid=146233583
image: https://bing.ee123.net/img/rand?artid=146233583
img: https://bing.ee123.net/img/rand?artid=146233583
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【操作系统安全】任务2：用户与用户组
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     <a class="link-info has-card" href="https://blog.csdn.net/2303_76492156?type=blog" title="CSDN 原创主页：不羁">
      <span class="link-card-box" contenteditable="false">
       <span class="link-title">
        CSDN 原创主页：不羁
       </span>
       <span class="link-link">
        <img class="link-link-icon" src="https://csdnimg.cn/release/blog_editor_html/release2.3.8/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=P1C7">
         https://blog.csdn.net/2303_76492156?type=blog
        </img>
       </span>
      </span>
     </a>
    </p>
    <hr/>
    <h2 id="%E4%B8%80%E3%80%81%E7%94%A8%E6%88%B7%E4%B8%8E%E7%94%A8%E6%88%B7%E7%BB%84%E4%BB%8B%E7%BB%8D" name="%E4%B8%80%E3%80%81%E7%94%A8%E6%88%B7%E4%B8%8E%E7%94%A8%E6%88%B7%E7%BB%84%E4%BB%8B%E7%BB%8D">
     一、用户与用户组介绍
    </h2>
    <h3 name="1.1%20%E7%94%A8%E6%88%B7" style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/0f00fd608c9047edbc1147015ad1d07e.png"/>
    </h3>
    <h3 id="1.1%20%E7%94%A8%E6%88%B7" name="1.1%20%E7%94%A8%E6%88%B7">
     1.1 用户
    </h3>
    <p>
     在网络通信安全和操作系统环境中，用户是指能够访问系统资源的个体。每个用户都有唯一的标识符（UID），用于系统识别和区分不同的用户。用户可以通过用户名和密码进行身份验证，从而获得对系统资源的访问权限。
    </p>
    <p>
     例如，在一个企业网络中，每个员工都有自己的用户名和密码，用于登录公司的办公系统，访问自己的文件和应用程序。
    </p>
    <h3 id="1.2%20%E7%94%A8%E6%88%B7%E7%BB%84" name="1.2%20%E7%94%A8%E6%88%B7%E7%BB%84">
     1.2 用户组
    </h3>
    <p>
     用户组是具有相同权限和属性的用户集合。将用户组织成组可以方便系统管理员进行权限管理和资源分配。每个用户组都有唯一的标识符（GID）。
    </p>
    <p>
     例如，在一个软件开发项目中，可以创建一个 “开发组”，将所有开发人员添加到该组中。然后为 “开发组” 分配特定的权限，如访问项目代码库、使用开发工具等。
    </p>
    <h3 id="1.3%20%E7%94%A8%E6%88%B7%E4%B8%8E%E7%94%A8%E6%88%B7%E7%BB%84%E7%9A%84%E5%85%B3%E7%B3%BB" name="1.3%20%E7%94%A8%E6%88%B7%E4%B8%8E%E7%94%A8%E6%88%B7%E7%BB%84%E7%9A%84%E5%85%B3%E7%B3%BB">
     1.3 用户与用户组的关系
    </h3>
    <p>
     一个用户可以属于一个或多个用户组。当用户属于多个用户组时，用户将拥有这些组的所有权限的并集。
    </p>
    <p>
     例如，一个用户既属于 “开发组” 又属于 “测试组”，那么该用户将拥有开发组和测试组的所有权限。
    </p>
    <h2 id="%E4%BA%8C%E3%80%81%E7%94%A8%E6%88%B7%E4%B8%8E%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86" name="%E4%BA%8C%E3%80%81%E7%94%A8%E6%88%B7%E4%B8%8E%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86">
     二、用户与用户组管理
    </h2>
    <h3 id="2.1%20%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86" name="2.1%20%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86">
     2.1 用户管理
    </h3>
    <h4 id="2.1.1%20%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7" name="2.1.1%20%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7">
     2.1.1 创建用户
    </h4>
    <p>
     在 Linux 系统中，可以使用
     <code>
      useradd
     </code>
     命令创建新用户。
    </p>
    <p>
     <span style="color:#ed7976">
      <strong>
       命令格式
      </strong>
      ：
     </span>
    </p>
    <pre><code>useradd [选项] 用户名
</code></pre>
    <p>
     <span style="color:#1a439c">
      <strong>
       实例
      </strong>
      ：
     </span>
     <span style="color:null">
      创建一个名为
      <code>
       testuser
      </code>
      的用户
     </span>
    </p>
    <pre><code>useradd testuser
</code></pre>
    <h3>
     <img alt="" height="841" src="https://i-blog.csdnimg.cn/direct/4713e435340b4baf8d9346761361b145.png" width="1313">
      2.1.2 设置用户密码
     </img>
    </h3>
    <p>
     使用
     <code>
      passwd
     </code>
     命令为用户设置密码。
    </p>
    <p>
    </p>
    <p>
     <span style="color:#ed7976">
      <strong>
       命令格式
      </strong>
      ：
     </span>
    </p>
    <pre><code>passwd 用户名
</code></pre>
    <p>
     <span style="color:#1a439c">
      <strong>
       实例
      </strong>
      ：
     </span>
     <span style="color:null">
      为
      <code>
       testuser
      </code>
      设置密码
     </span>
    </p>
    <pre><code>passwd testuser
</code></pre>
    <p>
     <img alt="" height="838" src="https://i-blog.csdnimg.cn/direct/79d169551a2940bc89740a16aa3a78f4.png" width="1323"/>
    </p>
    <p>
     执行该命令后，系统会提示输入新密码和确认密码。
    </p>
    <blockquote>
     <p id="linux更改密码报错密码未通过字典检查---过于简单化系统化">
      <u>
       <em>
        <strong>
         问题：Linux更改密码报错:密码未通过字典检查 - 过于简单化/系统化
        </strong>
       </em>
      </u>
     </p>
     <p>
     </p>
     <p>
      <strong>
       方案一:直接忽略
      </strong>
     </p>
     <p>
      很容易认为这儿是一个错误,其实可以直接忽略,重新输入密码
     </p>
     <p>
      （这里恶心了我老大一会，一直以为是操作问题，麻辣炒蛋🙃）
     </p>
     <pre id="pre-ja64Md">[root@localhost ~]# passwd
更改用户 root 的密码 。
新的 密码：
无效的密码： 密码少于 8 个字符
重新输入新的 密码：
passwd：所有的身份验证令牌已经成功更新。
[root@localhost ~]# </pre>
     <p id="方案二对密码规则进行设置">
      <strong>
       方案二:对密码规则进行设置
      </strong>
     </p>
     <p>
      这一部分参考"Linux中国"的文章:
      <a href="https://zhuanlan.zhihu.com/p/61790901" rel="nofollow" title="如何设置 Linux 系统的密码策略">
       如何设置 Linux 系统的密码策略
      </a>
     </p>
    </blockquote>
    <h4 id="2.1.3%20%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7" name="2.1.3%20%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7">
     2.1.3 删除用户
    </h4>
    <p>
     使用
     <code>
      userdel
     </code>
     命令删除用户。
    </p>
    <p>
     <span style="color:#ed7976">
      <strong>
       命令格式
      </strong>
      ：
     </span>
    </p>
    <pre><code>userdel [选项] 用户名
</code></pre>
    <p>
     <span style="color:#1a439c">
      <strong>
       实例
      </strong>
      ：
     </span>
     <span style="color:null">
      删除
      <code>
       testuser
      </code>
      用户
     </span>
    </p>
    <pre><code>userdel -r testuser
</code></pre>
    <p>
     <code>
      -r
     </code>
     选项表示在删除用户的同时，删除该用户的主目录和邮件池。
    </p>
    <blockquote>
     <p>
      <em>
       <u>
        <strong>
         问题：userdel:未找见 testuser主目录“/home/testuser”
        </strong>
       </u>
      </em>
     </p>
     <p>
     </p>
     <p>
      在 Linux 系统中，如果你尝试使用
      <code>
       userdel
      </code>
      命令删除一个用户账户，但是遇到了错误消息：“未找见 testuser 主目录“/home/testuser””，这通常意味着在删除用户之前，系统需要先删除或处理该用户的主目录。这里有几种方法可以解决这个问题：
     </p>
     <p>
      <strong>
       1. 手动删除用户主目录
      </strong>
     </p>
     <p>
      在尝试删除用户之前，你可以手动删除用户的主目录。这样做可以绕过
      <code>
       userdel
      </code>
      命令的默认行为，即在删除用户账户时尝试删除其主目录。
     </p>
     <pre><code>rm -rf /home/testuser</code></pre>
     <p>
      <strong>
       2. 使用
       <code>
        userdel
       </code>
       命令并强制删除主目录
      </strong>
     </p>
     <p>
      如果你想要在使用
      <code>
       userdel
      </code>
      命令时同时删除用户主目录，可以使用
      <code>
       -r
      </code>
      选项。这将递归地删除用户的主目录及其内容。
     </p>
     <pre><code>sudo userdel -r testuser</code></pre>
     <p>
      <strong>
       3. 使用
       <code>
        userdel
       </code>
       命令但不删除主目录
      </strong>
     </p>
     <p>
      如果你不希望删除用户的主目录，只想删除用户的账户配置文件（例如在
      <code>
       /etc/passwd
      </code>
      和
      <code>
       /etc/shadow
      </code>
      中的条目），可以这样做：
     </p>
     <pre><code>sudo userdel testuser</code></pre>
     <p>
      这将只删除用户的账户信息，而不会删除其主目录。
     </p>
     <p>
      <strong>
       4. 检查并确认用户主目录存在
      </strong>
     </p>
     <p>
      在尝试上述任何操作之前，确保用户的主目录确实存在。你可以使用
      <code>
       ls
      </code>
      命令来检查：
     </p>
     <pre><code><code>ls /home/testuser</code></code></pre>
     <p>
      如果目录不存在，那么你可能需要重新创建它或者确认你正在查看正确的路径。有时候用户的家目录可能位于其他位置，或者在
      <code>
       /etc/passwd
      </code>
      中有误配置的路径。你可以通过查看
      <code>
       /etc/passwd
      </code>
      文件来找到正确的家目录路径：
     </p>
     <pre><code><code>grep testuser /etc/passwd</code></code></pre>
     <p>
      <strong>
       5. 权限问题
      </strong>
     </p>
     <p>
      确保你有足够的权限来删除文件和目录。通常，你需要 root 权限来执行这些操作。使用
      <code>
       sudo
      </code>
      来获取必要的权限。
     </p>
     <pre><code><code>sudo rm -rf /home/testuser # 如果需要手动删除主目录</code></code><code><code>sudo userdel -r testuser # 如果需要使用 userdel 并删除主目录</code></code></pre>
     <p>
      以上步骤应该能帮助你解决在删除用户时遇到的问题。
     </p>
    </blockquote>
    <h3 id="2.2%20%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86" name="2.2%20%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86">
     2.2 用户组管理
    </h3>
    <h4 id="2.2.1%20%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E7%BB%84" name="2.2.1%20%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E7%BB%84">
     2.2.1 创建用户组
    </h4>
    <p>
     使用
     <code>
      groupadd
     </code>
     命令创建新的用户组。
    </p>
    <p>
     <span style="color:#ed7976">
      <strong>
       命令格式
      </strong>
      ：
     </span>
    </p>
    <pre><code>groupadd [选项] 组名
</code></pre>
    <p>
     <span style="color:#1a439c">
      <strong>
       实例
      </strong>
      ：
     </span>
     <span style="color:null">
      创建一个名为
      <code>
       developers
      </code>
      的用户组
     </span>
    </p>
    <pre><code>groupadd developers
</code></pre>
    <p>
     <img alt="" height="858" src="https://i-blog.csdnimg.cn/direct/0df78872cc6b4f00ae42a796f83e18ad.png" width="1354"/>
    </p>
    <h4 id="2.2.2%20%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7%E7%BB%84" name="2.2.2%20%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7%E7%BB%84">
     2.2.2 删除用户组
    </h4>
    <p>
     使用
     <code>
      groupdel
     </code>
     命令删除用户组。
    </p>
    <p>
     <span style="color:#ed7976">
      <strong>
       命令格式
      </strong>
      ：
     </span>
    </p>
    <pre><code>groupdel 组名
</code></pre>
    <p>
     <span style="color:#1a439c">
      <strong>
       实例
      </strong>
      ：
     </span>
     <span style="color:null">
      删除
      <code>
       developers
      </code>
      用户组
     </span>
    </p>
    <pre><code>groupdel developers
</code></pre>
    <p>
     <img alt="" height="873" src="https://i-blog.csdnimg.cn/direct/1220a7d75b374e349671575a2a5b8ccc.png" width="1339"/>
    </p>
    <h4 id="2.2.3%20%E5%B0%86%E7%94%A8%E6%88%B7%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%94%A8%E6%88%B7%E7%BB%84" name="2.2.3%20%E5%B0%86%E7%94%A8%E6%88%B7%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%94%A8%E6%88%B7%E7%BB%84">
     2.2.3 将用户添加到用户组
    </h4>
    <p>
     使用
     <code>
      usermod
     </code>
     命令将用户添加到指定的用户组。
    </p>
    <p>
     <span style="color:#ed7976">
      <strong>
       命令格式
      </strong>
      ：
     </span>
    </p>
    <pre><code>usermod -aG 组名 用户名
</code></pre>
    <p>
     <span style="color:#1a439c">
      <strong>
       实例
      </strong>
      ：
     </span>
     <span style="color:null">
      将
      <code>
       testuser
      </code>
      用户添加到
      <code>
       developers
      </code>
      用户组
     </span>
    </p>
    <pre><code>usermod -aG developers testuser
</code></pre>
    <p>
     <img alt="" height="828" src="https://i-blog.csdnimg.cn/direct/eeaac00cca96444f81d2bd2bb1af74eb.png" width="1316"/>
    </p>
    <p>
     <code>
      -a
     </code>
     选项表示追加，
     <code>
      -G
     </code>
     选项表示指定用户组。
    </p>
    <h2 id="%E4%B8%89%E3%80%81%E5%BD%B1%E5%AD%90%E8%B4%A6%E6%88%B7%E5%88%9B%E5%BB%BA" name="%E4%B8%89%E3%80%81%E5%BD%B1%E5%AD%90%E8%B4%A6%E6%88%B7%E5%88%9B%E5%BB%BA">
     三、影子账户创建
    </h2>
    <h3 id="3.1%20%E5%BD%B1%E5%AD%90%E8%B4%A6%E6%88%B7%E4%BB%8B%E7%BB%8D" name="3.1%20%E5%BD%B1%E5%AD%90%E8%B4%A6%E6%88%B7%E4%BB%8B%E7%BB%8D">
     3.1 影子账户介绍
    </h3>
    <p>
     影子账户是一种隐藏的用户账户，通常用于系统管理或特殊用途。影子账户的信息存储在
     <code>
      /etc/shadow
     </code>
     文件中，该文件只有 root 用户可以访问，从而提高了账户信息的安全性。
    </p>
    <h3 id="3.2%20%E5%88%9B%E5%BB%BA%E5%BD%B1%E5%AD%90%E8%B4%A6%E6%88%B7" name="3.2%20%E5%88%9B%E5%BB%BA%E5%BD%B1%E5%AD%90%E8%B4%A6%E6%88%B7">
     3.2 创建影子账户
    </h3>
    <p>
     在 Linux 系统中，使用
     <code>
      useradd
     </code>
     命令创建用户时，系统会自动在
     <code>
      /etc/shadow
     </code>
     文件中为该用户创建对应的影子记录。
    </p>
    <p>
     <span style="color:#1a439c">
      <strong>
       实例
      </strong>
      ：
     </span>
     <span style="color:null">
      创建一个名为
      <code>
       shadowuser
      </code>
      的影子账户
     </span>
    </p>
    <pre><code>useradd shadowuser
</code></pre>
    <p>
     <span style="color:null">
      创建完成后，可以使用
      <code>
       cat
      </code>
      命令查看
      <code>
       /etc/shadow
      </code>
      文件中
      <code>
       shadowuser
      </code>
      的影子记录：
     </span>
    </p>
    <pre><code>cat /etc/shadow | grep shadowuser
</code></pre>
    <p>
     <img alt="" height="838" src="https://i-blog.csdnimg.cn/direct/a015c961a8f74c0bb9db90d51896e4bf.png" width="1322"/>
    </p>
    <h2 id="%E5%9B%9B%E3%80%81%E7%94%A8%E6%88%B7%E4%B8%8E%E7%94%A8%E6%88%B7%E7%BB%84%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86" name="%E5%9B%9B%E3%80%81%E7%94%A8%E6%88%B7%E4%B8%8E%E7%94%A8%E6%88%B7%E7%BB%84%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86">
     四、用户与用户组权限管理
    </h2>
    <h3 id="4.1%20%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E6%A6%82%E8%BF%B0" name="4.1%20%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E6%A6%82%E8%BF%B0">
     4.1 文件权限概述
    </h3>
    <p>
     在 Linux 系统中，每个文件和目录都有三组权限：所有者权限、所属组权限和其他用户权限。每组权限又分为读（r）、写（w）和执行（x）三种权限。
    </p>
    <h3 id="4.2%20%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90" name="4.2%20%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90">
     4.2 修改文件权限
    </h3>
    <p>
     使用
     <code>
      chmod
     </code>
     命令修改文件或目录的权限。
    </p>
    <h4 id="4.2.1%20%E6%95%B0%E5%AD%97%E6%A8%A1%E5%BC%8F" name="4.2.1%20%E6%95%B0%E5%AD%97%E6%A8%A1%E5%BC%8F">
     4.2.1 数字模式
    </h4>
    <p>
     数字模式使用三位数字分别表示所有者、所属组和其他用户的权限。其中，读权限用 4 表示，写权限用 2 表示，执行权限用 1 表示。
    </p>
    <p>
     <span style="color:#1a439c">
      <strong>
       实例
      </strong>
      ：
     </span>
     将文件
     <code>
      testfile
     </code>
     的权限设置为所有者具有读写执行权限，所属组具有读执行权限，其他用户具有读权限
    </p>
    <pre><code>chmod 754 testfile
</code></pre>
    <h4 id="4.2.2%20%E7%AC%A6%E5%8F%B7%E6%A8%A1%E5%BC%8F" name="4.2.2%20%E7%AC%A6%E5%8F%B7%E6%A8%A1%E5%BC%8F">
     4.2.2 符号模式
    </h4>
    <p>
     符号模式使用
     <code>
      u
     </code>
     （所有者）、
     <code>
      g
     </code>
     （所属组）、
     <code>
      o
     </code>
     （其他用户）和
     <code>
      a
     </code>
     （所有用户）来指定权限的作用对象，使用
     <code>
      +
     </code>
     （添加权限）、
     <code>
      -
     </code>
     （移除权限）和
     <code>
      =
     </code>
     （设置权限）来修改权限。
    </p>
    <p>
     <span style="color:#1a439c">
      <strong>
       实例
      </strong>
      ：
     </span>
     为文件
     <code>
      testfile
     </code>
     的所属组添加写权限
    </p>
    <pre><code>chmod g+w testfile
</code></pre>
    <h3 id="4.3%20%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E6%89%80%E6%9C%89%E8%80%85%E5%92%8C%E6%89%80%E5%B1%9E%E7%BB%84" name="4.3%20%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E6%89%80%E6%9C%89%E8%80%85%E5%92%8C%E6%89%80%E5%B1%9E%E7%BB%84">
     4.3 修改文件所有者和所属组
    </h3>
    <p>
     使用
     <code>
      chown
     </code>
     命令修改文件或目录的所有者和所属组。
    </p>
    <p>
     <span style="color:#ed7976">
      <strong>
       命令格式
      </strong>
      ：
     </span>
    </p>
    <pre><code>chown [选项] 所有者:所属组 文件名
</code></pre>
    <p>
     <span style="color:#1a439c">
      <strong>
       实例
      </strong>
      ：
     </span>
     将文件
     <code>
      testfile
     </code>
     的所有者改为
     <code>
      testuser
     </code>
     ，所属组改为
     <code>
      developers
     </code>
    </p>
    <pre><code>chown testuser:developers testfile
</code></pre>
    <hr/>
    <p>
     通过以上的用户与用户组管理、影子账户创建和权限管理操作，可以有效地保障网络通信安全，确保系统资源的合理分配和访问控制。
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330335f37363439323135362f:61727469636c652f64657461696c732f313436323333353833" class_="artid" style="display:none">
 </p>
</div>


