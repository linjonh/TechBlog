---
layout: post
title: "åç«¯django-drfdjangoè‡ªåŠ¨å¯¼å‡ºä¼˜é›…çš„apiæ–‡æ¡£çš„å†™æ³•"
date: 2025-03-13 21:52:55 +0800
description: "ï¼ˆä¸€ï¼‰ç¤ºä¾‹OpenApiParameter(name=\"username\", description=\"æŒ‰ç…§ç”¨æˆ·åç­›é€‰\", required=False, type=str),OpenApiParameter(name=\"page\", description=\"åˆ†é¡µå‚æ•°ï¼Œé»˜è®¤ä¸º1\", required=False, type=int),],ğŸ“Œ è§„åˆ™ç”¨äº API æŸ¥è¯¢å‚æ•°è¯´æ˜ã€‚description=\"è¯´æ˜\"ç¡®ä¿å‰ç«¯æ˜“äºç†è§£ã€‚"
keywords: "ã€åç«¯ã€‘ã€django drfã€‘djangoè‡ªåŠ¨å¯¼å‡ºä¼˜é›…çš„apiæ–‡æ¡£çš„å†™æ³•"
categories: ['é¢è¯•è€ƒé¢˜ä¸“æ å‰åç«¯', 'åç«¯ç³»ç»ŸåŠŸèƒ½', 'Django']
tags: ['Sqlite', 'Python', 'Django']
artid: "146243285"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146243285
    alt: "åç«¯django-drfdjangoè‡ªåŠ¨å¯¼å‡ºä¼˜é›…çš„apiæ–‡æ¡£çš„å†™æ³•"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146243285
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146243285
cover: https://bing.ee123.net/img/rand?artid=146243285
image: https://bing.ee123.net/img/rand?artid=146243285
img: https://bing.ee123.net/img/rand?artid=146243285
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     ã€åç«¯ã€‘ã€django drfã€‘djangoè‡ªåŠ¨å¯¼å‡ºä¼˜é›…çš„apiæ–‡æ¡£çš„å†™æ³•
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="Django_DRF_API__OpenAPI__0">
     </a>
     Django DRF API ç¼–å†™è§„èŒƒï¼ˆåŒ…å« OpenAPI ç”Ÿæˆè§„åˆ™ï¼‰
    </h2>
    <p>
     ä¸ºäº†ç¡®ä¿ Django DRF API ä»£ç çš„
     <strong>
      å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§
     </strong>
     ï¼ŒåŒæ—¶
     <strong>
      ç”Ÿæˆæ¸…æ™°ã€è§„èŒƒã€ç»“æ„å±‚æ¬¡åˆ†æ˜
     </strong>
     çš„ OpenAPI æ–‡æ¡£ï¼Œå¿…é¡»éµå¾ªä»¥ä¸‹è§„åˆ™ã€‚
    </p>
    <hr/>
    <h3>
     <a id="_drfspectacular__OpenAPI__6">
     </a>
     ä¸€ã€ä½¿ç”¨
     <code>
      drf-spectacular
     </code>
     ç”Ÿæˆ OpenAPI æ–‡æ¡£
    </h3>
    <h4>
     <a id="_drfspectacular_8">
     </a>
     ï¼ˆä¸€ï¼‰å®‰è£…
     <code>
      drf-spectacular
     </code>
    </h4>
    <pre><code class="prism language-bash">pip <span class="token function">install</span> drf-spectacular
</code></pre>
    <h4>
     <a id="_settingspy_13">
     </a>
     ï¼ˆäºŒï¼‰é…ç½®
     <code>
      settings.py
     </code>
    </h4>
    <pre><code class="prism language-python">INSTALLED_APPS <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">'drf_spectacular'</span><span class="token punctuation">,</span>
    <span class="token string">'rest_framework'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

REST_FRAMEWORK <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">'DEFAULT_SCHEMA_CLASS'</span><span class="token punctuation">:</span> <span class="token string">'drf_spectacular.openapi.AutoSchema'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

SPECTACULAR_SETTINGS <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">'TITLE'</span><span class="token punctuation">:</span> <span class="token string">"My API"</span><span class="token punctuation">,</span>
    <span class="token string">'DESCRIPTION'</span><span class="token punctuation">:</span> <span class="token string">"é¡¹ç›® API æ–‡æ¡£"</span><span class="token punctuation">,</span>
    <span class="token string">'VERSION'</span><span class="token punctuation">:</span> <span class="token string">'1.0.0'</span><span class="token punctuation">,</span>
    <span class="token string">'SERVE_INCLUDE_SCHEMA'</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
    <span class="token string">'SWAGGER_UI_SETTINGS'</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string">'deepLinking'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
        <span class="token string">'defaultModelRendering'</span><span class="token punctuation">:</span> <span class="token string">'model'</span><span class="token punctuation">,</span>
        <span class="token string">'defaultModelsExpandDepth'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="_OpenAPI__37">
     </a>
     ï¼ˆä¸‰ï¼‰æ·»åŠ  OpenAPI è·¯ç”±
    </h4>
    <pre><code class="prism language-python"><span class="token keyword">from</span> drf_spectacular<span class="token punctuation">.</span>views <span class="token keyword">import</span> SpectacularAPIView<span class="token punctuation">,</span> SpectacularSwaggerView<span class="token punctuation">,</span> SpectacularRedocView

urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">'api/schema/'</span><span class="token punctuation">,</span> SpectacularAPIView<span class="token punctuation">.</span>as_view<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'schema'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    path<span class="token punctuation">(</span><span class="token string">'api/docs/'</span><span class="token punctuation">,</span> SpectacularSwaggerView<span class="token punctuation">.</span>as_view<span class="token punctuation">(</span>url_name<span class="token operator">=</span><span class="token string">'schema'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'swagger-ui'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    path<span class="token punctuation">(</span><span class="token string">'api/redoc/'</span><span class="token punctuation">,</span> SpectacularRedocView<span class="token punctuation">.</span>as_view<span class="token punctuation">(</span>url_name<span class="token operator">=</span><span class="token string">'schema'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'redoc'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre>
    <ul>
     <li>
      è®¿é—®
      <code>
       /api/docs/
      </code>
      ï¼šSwagger UI
     </li>
     <li>
      è®¿é—®
      <code>
       /api/redoc/
      </code>
      ï¼šReDoc
     </li>
    </ul>
    <hr/>
    <h3>
     <a id="_API__52">
     </a>
     äºŒã€ç¼–å†™æ¸…æ™°çš„ API è§†å›¾
    </h3>
    <h4>
     <a id="_extend_schema__API_54">
     </a>
     ï¼ˆä¸€ï¼‰ä½¿ç”¨
     <code>
      @extend_schema
     </code>
     è¯¦ç»†æè¿° API
    </h4>
    <pre><code class="prism language-python"><span class="token keyword">from</span> drf_spectacular<span class="token punctuation">.</span>utils <span class="token keyword">import</span> extend_schema
<span class="token keyword">from</span> rest_framework<span class="token punctuation">.</span>viewsets <span class="token keyword">import</span> ModelViewSet
<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> User
<span class="token keyword">from</span> <span class="token punctuation">.</span>serializers <span class="token keyword">import</span> UserSerializer

<span class="token keyword">class</span> <span class="token class-name">UserViewSet</span><span class="token punctuation">(</span>ModelViewSet<span class="token punctuation">)</span><span class="token punctuation">:</span>
    queryset <span class="token operator">=</span> User<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    serializer_class <span class="token operator">=</span> UserSerializer

    <span class="token decorator annotation punctuation">@extend_schema</span><span class="token punctuation">(</span>
        summary<span class="token operator">=</span><span class="token string">"è·å–ç”¨æˆ·åˆ—è¡¨"</span><span class="token punctuation">,</span>
        description<span class="token operator">=</span><span class="token string">"è¿”å›æ‰€æœ‰ç”¨æˆ·çš„åˆ—è¡¨ï¼Œæ”¯æŒåˆ†é¡µã€‚"</span><span class="token punctuation">,</span>
        responses<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">200</span><span class="token punctuation">:</span> UserSerializer<span class="token punctuation">(</span>many<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">list</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
</code></pre>
    <h5>
     <a id="__73">
     </a>
     <strong>
      ğŸ“Œ è§„åˆ™
     </strong>
    </h5>
    <ol>
     <li>
      <code>
       @extend_schema(summary="ç®€è¦è¯´æ˜", description="è¯¦ç»†æè¿°")
      </code>
      ç”¨äºä¸°å¯Œ API æ–‡æ¡£ã€‚
     </li>
     <li>
      <code>
       responses={200: UserSerializer(many=True)}
      </code>
      ç¡®ä¿æ–‡æ¡£æ˜¾ç¤ºæ­£ç¡®çš„è¿”å›æ ¼å¼ã€‚
     </li>
    </ol>
    <hr/>
    <h3>
     <a id="_serializerspy__79">
     </a>
     ä¸‰ã€åœ¨
     <code>
      serializers.py
     </code>
     é‡Œä¼˜åŒ–æ–‡æ¡£
    </h3>
    <h4>
     <a id="_help_text__verbose_name__81">
     </a>
     ï¼ˆä¸€ï¼‰ä½¿ç”¨
     <code>
      help_text
     </code>
     å’Œ
     <code>
      verbose_name
     </code>
     æä¾›å­—æ®µè¯´æ˜
    </h4>
    <pre><code class="prism language-python"><span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> serializers
<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> User

<span class="token keyword">class</span> <span class="token class-name">UserSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>ModelSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    username <span class="token operator">=</span> serializers<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>help_text<span class="token operator">=</span><span class="token string">"ç”¨æˆ·åï¼Œå”¯ä¸€æ ‡è¯†"</span><span class="token punctuation">)</span>
    email <span class="token operator">=</span> serializers<span class="token punctuation">.</span>EmailField<span class="token punctuation">(</span>help_text<span class="token operator">=</span><span class="token string">"ç”¨æˆ·çš„ç”µå­é‚®ç®±åœ°å€"</span><span class="token punctuation">)</span>

    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> User
        fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"id"</span><span class="token punctuation">,</span> <span class="token string">"username"</span><span class="token punctuation">,</span> <span class="token string">"email"</span><span class="token punctuation">]</span>
</code></pre>
    <h5>
     <a id="__94">
     </a>
     <strong>
      ğŸ“Œ è§„åˆ™
     </strong>
    </h5>
    <ol>
     <li>
      <strong>
       <code>
        help_text
       </code>
      </strong>
      ï¼šç”¨äº API æ–‡æ¡£ä¸­å±•ç¤ºå­—æ®µè¯´æ˜ã€‚
     </li>
     <li>
      <strong>
       <code>
        verbose_name
       </code>
      </strong>
      ï¼šå¦‚æœæ¨¡å‹é‡Œå®šä¹‰äº†ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸ºå­—æ®µçš„æè¿°ã€‚
     </li>
    </ol>
    <hr/>
    <h3>
     <a id="_extend_schema_view__ViewSet__100">
     </a>
     å››ã€ä½¿ç”¨
     <code>
      @extend_schema_view
     </code>
     è®©
     <code>
      ViewSet
     </code>
     æ›´æ¸…æ™°
    </h3>
    <p>
     å¦‚æœ
     <code>
      ViewSet
     </code>
     é‡Œçš„æ–¹æ³•è¾ƒå¤šï¼Œæ¯ä¸ªæ–¹æ³•éƒ½å†™
     <code>
      @extend_schema
     </code>
     ä¼šå¾ˆå†—ä½™ï¼Œå¯ä»¥ç›´æ¥ç»™æ•´ä¸ª
     <code>
      ViewSet
     </code>
     ç»Ÿä¸€å®šä¹‰ï¼š
    </p>
    <pre><code class="prism language-python"><span class="token keyword">from</span> drf_spectacular<span class="token punctuation">.</span>utils <span class="token keyword">import</span> extend_schema_view

<span class="token decorator annotation punctuation">@extend_schema_view</span><span class="token punctuation">(</span>
    <span class="token builtin">list</span><span class="token operator">=</span>extend_schema<span class="token punctuation">(</span>summary<span class="token operator">=</span><span class="token string">"è·å–ç”¨æˆ·åˆ—è¡¨"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    retrieve<span class="token operator">=</span>extend_schema<span class="token punctuation">(</span>summary<span class="token operator">=</span><span class="token string">"è·å–å•ä¸ªç”¨æˆ·è¯¦æƒ…"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    create<span class="token operator">=</span>extend_schema<span class="token punctuation">(</span>summary<span class="token operator">=</span><span class="token string">"åˆ›å»ºæ–°ç”¨æˆ·"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    update<span class="token operator">=</span>extend_schema<span class="token punctuation">(</span>summary<span class="token operator">=</span><span class="token string">"æ›´æ–°ç”¨æˆ·ä¿¡æ¯"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    partial_update<span class="token operator">=</span>extend_schema<span class="token punctuation">(</span>summary<span class="token operator">=</span><span class="token string">"éƒ¨åˆ†æ›´æ–°ç”¨æˆ·ä¿¡æ¯"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    destroy<span class="token operator">=</span>extend_schema<span class="token punctuation">(</span>summary<span class="token operator">=</span><span class="token string">"åˆ é™¤ç”¨æˆ·"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">UserViewSet</span><span class="token punctuation">(</span>ModelViewSet<span class="token punctuation">)</span><span class="token punctuation">:</span>
    queryset <span class="token operator">=</span> User<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    serializer_class <span class="token operator">=</span> UserSerializer
</code></pre>
    <h5>
     <a id="__118">
     </a>
     <strong>
      ğŸ“Œ è§„åˆ™
     </strong>
    </h5>
    <ol>
     <li>
      <code>
       @extend_schema_view
      </code>
      ç»Ÿä¸€ç®¡ç†
      <code>
       ViewSet
      </code>
      æ–¹æ³•çš„æ–‡æ¡£ä¿¡æ¯ï¼Œé¿å…é‡å¤å†™
      <code>
       @extend_schema
      </code>
      ã€‚
     </li>
     <li>
      é€‚ç”¨äº
      <code>
       ModelViewSet
      </code>
      ã€‚
     </li>
    </ol>
    <hr/>
    <h3>
     <a id="_124">
     </a>
     äº”ã€ç»™è¯·æ±‚å‚æ•°æä¾›æ˜ç¡®è¯´æ˜
    </h3>
    <h4>
     <a id="_serializerspy__API__126">
     </a>
     <strong>
      ï¼ˆä¸€ï¼‰åœ¨
      <code>
       serializers.py
      </code>
      é‡Œå®šä¹‰ API è¯·æ±‚ä½“
     </strong>
    </h4>
    <pre><code class="prism language-python"><span class="token keyword">from</span> drf_spectacular<span class="token punctuation">.</span>utils <span class="token keyword">import</span> OpenApiExample<span class="token punctuation">,</span> extend_schema
<span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> serializers

<span class="token keyword">class</span> <span class="token class-name">UserCreateSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>Serializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    username <span class="token operator">=</span> serializers<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>help_text<span class="token operator">=</span><span class="token string">"ç”¨æˆ·çš„å”¯ä¸€æ ‡è¯†"</span><span class="token punctuation">)</span>
    email <span class="token operator">=</span> serializers<span class="token punctuation">.</span>EmailField<span class="token punctuation">(</span>help_text<span class="token operator">=</span><span class="token string">"ç”¨æˆ·çš„ç”µå­é‚®ç®±"</span><span class="token punctuation">)</span>
    password <span class="token operator">=</span> serializers<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>write_only<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> help_text<span class="token operator">=</span><span class="token string">"å¯†ç ï¼Œè‡³å°‘8ä½"</span><span class="token punctuation">)</span>

    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"username"</span><span class="token punctuation">,</span> <span class="token string">"email"</span><span class="token punctuation">,</span> <span class="token string">"password"</span><span class="token punctuation">]</span>
</code></pre>
    <h4>
     <a id="_viewspy__140">
     </a>
     <strong>
      ï¼ˆäºŒï¼‰åœ¨
      <code>
       views.py
      </code>
      é‡Œä½¿ç”¨
     </strong>
    </h4>
    <pre><code class="prism language-python"><span class="token keyword">from</span> drf_spectacular<span class="token punctuation">.</span>utils <span class="token keyword">import</span> extend_schema

<span class="token decorator annotation punctuation">@extend_schema</span><span class="token punctuation">(</span>
    request<span class="token operator">=</span>UserCreateSerializer<span class="token punctuation">,</span>
    responses<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">201</span><span class="token punctuation">:</span> UserSerializer<span class="token punctuation">}</span><span class="token punctuation">,</span>
    examples<span class="token operator">=</span><span class="token punctuation">[</span>
        OpenApiExample<span class="token punctuation">(</span>
            name<span class="token operator">=</span><span class="token string">"ç¤ºä¾‹ç”¨æˆ·"</span><span class="token punctuation">,</span>
            value<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">"username"</span><span class="token punctuation">:</span> <span class="token string">"john_doe"</span><span class="token punctuation">,</span> <span class="token string">"email"</span><span class="token punctuation">:</span> <span class="token string">"john@example.com"</span><span class="token punctuation">,</span> <span class="token string">"password"</span><span class="token punctuation">:</span> <span class="token string">"securepassword"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            request_only<span class="token operator">=</span><span class="token boolean">True</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">create</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>create<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
</code></pre>
    <h5>
     <a id="__158">
     </a>
     <strong>
      ğŸ“Œ è§„åˆ™
     </strong>
    </h5>
    <ol>
     <li>
      <strong>
       <code>
        request=UserCreateSerializer
       </code>
      </strong>
      æŒ‡å®š API éœ€è¦çš„è¯·æ±‚å‚æ•°æ ¼å¼ã€‚
     </li>
     <li>
      <strong>
       <code>
        examples
       </code>
      </strong>
      æä¾›ç¤ºä¾‹æ•°æ®ï¼Œæ–¹ä¾¿å‰ç«¯æŸ¥çœ‹ã€‚
     </li>
    </ol>
    <hr/>
    <h3>
     <a id="_OpenApiParameter__164">
     </a>
     å…­ã€ä½¿ç”¨
     <code>
      OpenApiParameter
     </code>
     å®šä¹‰æŸ¥è¯¢å‚æ•°
    </h3>
    <h4>
     <a id="_166">
     </a>
     <strong>
      ï¼ˆä¸€ï¼‰ç¤ºä¾‹
     </strong>
    </h4>
    <pre><code class="prism language-python"><span class="token keyword">from</span> drf_spectacular<span class="token punctuation">.</span>utils <span class="token keyword">import</span> OpenApiParameter

<span class="token decorator annotation punctuation">@extend_schema</span><span class="token punctuation">(</span>
    parameters<span class="token operator">=</span><span class="token punctuation">[</span>
        OpenApiParameter<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"username"</span><span class="token punctuation">,</span> description<span class="token operator">=</span><span class="token string">"æŒ‰ç…§ç”¨æˆ·åç­›é€‰"</span><span class="token punctuation">,</span> required<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        OpenApiParameter<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"page"</span><span class="token punctuation">,</span> description<span class="token operator">=</span><span class="token string">"åˆ†é¡µå‚æ•°ï¼Œé»˜è®¤ä¸º1"</span><span class="token punctuation">,</span> required<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    responses<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">200</span><span class="token punctuation">:</span> UserSerializer<span class="token punctuation">(</span>many<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">list</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
</code></pre>
    <h5>
     <a id="__180">
     </a>
     <strong>
      ğŸ“Œ è§„åˆ™
     </strong>
    </h5>
    <ol>
     <li>
      <strong>
       <code>
        OpenApiParameter
       </code>
      </strong>
      ç”¨äº API æŸ¥è¯¢å‚æ•°è¯´æ˜ã€‚
     </li>
     <li>
      <strong>
       <code>
        description="è¯´æ˜"
       </code>
      </strong>
      ç¡®ä¿å‰ç«¯æ˜“äºç†è§£ã€‚
     </li>
    </ol>
    <hr/>
    <h3>
     <a id="_API__186">
     </a>
     ä¸ƒã€ç¤ºä¾‹ API ç«¯ç‚¹
    </h3>
    <h4>
     <a id="_apidocs_188">
     </a>
     <strong>
      æœ€ç»ˆæ•ˆæœï¼ˆè®¿é—®
      <code>
       /api/docs/
      </code>
      ï¼‰
     </strong>
    </h4>
    <pre><code class="prism language-yaml"><span class="token key atrule">paths</span><span class="token punctuation">:</span>
  <span class="token key atrule">/users/</span><span class="token punctuation">:</span>
    <span class="token key atrule">get</span><span class="token punctuation">:</span>
      <span class="token key atrule">summary</span><span class="token punctuation">:</span> <span class="token string">"è·å–ç”¨æˆ·åˆ—è¡¨"</span>
      <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">"è¿”å›æ‰€æœ‰ç”¨æˆ·çš„åˆ—è¡¨ï¼Œæ”¯æŒåˆ†é¡µ"</span>
      <span class="token key atrule">parameters</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> username
          <span class="token key atrule">in</span><span class="token punctuation">:</span> query
          <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">"æŒ‰ç…§ç”¨æˆ·åç­›é€‰"</span>
          <span class="token key atrule">required</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
          <span class="token key atrule">schema</span><span class="token punctuation">:</span>
            <span class="token key atrule">type</span><span class="token punctuation">:</span> string
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> page
          <span class="token key atrule">in</span><span class="token punctuation">:</span> query
          <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">"åˆ†é¡µå‚æ•°ï¼Œé»˜è®¤ä¸º1"</span>
          <span class="token key atrule">required</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
          <span class="token key atrule">schema</span><span class="token punctuation">:</span>
            <span class="token key atrule">type</span><span class="token punctuation">:</span> integer
      <span class="token key atrule">responses</span><span class="token punctuation">:</span>
        <span class="token key atrule">"200"</span><span class="token punctuation">:</span>
          <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">"æˆåŠŸè·å–ç”¨æˆ·åˆ—è¡¨"</span>
          <span class="token key atrule">content</span><span class="token punctuation">:</span>
            <span class="token key atrule">application/json</span><span class="token punctuation">:</span>
              <span class="token key atrule">schema</span><span class="token punctuation">:</span>
                <span class="token key atrule">type</span><span class="token punctuation">:</span> array
                <span class="token key atrule">items</span><span class="token punctuation">:</span>
                  <span class="token key atrule">$ref</span><span class="token punctuation">:</span> <span class="token string">"#/components/schemas/User"</span>
  /users/<span class="token punctuation">{<!-- --></span>id<span class="token punctuation">}</span>/<span class="token punctuation">:</span>
    <span class="token key atrule">get</span><span class="token punctuation">:</span>
      <span class="token key atrule">summary</span><span class="token punctuation">:</span> <span class="token string">"è·å–å•ä¸ªç”¨æˆ·è¯¦æƒ…"</span>
      <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">"è¿”å›æŒ‡å®š ID çš„ç”¨æˆ·ä¿¡æ¯"</span>
      <span class="token key atrule">responses</span><span class="token punctuation">:</span>
        <span class="token key atrule">"200"</span><span class="token punctuation">:</span>
          <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">"æˆåŠŸè·å–ç”¨æˆ·"</span>
          <span class="token key atrule">content</span><span class="token punctuation">:</span>
            <span class="token key atrule">application/json</span><span class="token punctuation">:</span>
              <span class="token key atrule">schema</span><span class="token punctuation">:</span>
                <span class="token key atrule">$ref</span><span class="token punctuation">:</span> <span class="token string">"#/components/schemas/User"</span>
</code></pre>
    <hr/>
    <h3>
     <a id="_232">
     </a>
     <strong>
      æ€»ç»“
     </strong>
    </h3>
    <ol>
     <li>
      <strong>
       <code>
        drf-spectacular
       </code>
       æ˜¯ Django DRF ç”Ÿæˆ OpenAPI æ–‡æ¡£çš„æœ€ä½³é€‰æ‹©
      </strong>
      ã€‚
     </li>
     <li>
      <strong>
       ä½¿ç”¨
       <code>
        @extend_schema
       </code>
       ä¸º API æ–¹æ³•æ·»åŠ è¯¦ç»†è¯´æ˜
      </strong>
      ï¼Œé¿å…è‡ªåŠ¨ç”Ÿæˆçš„æ–‡æ¡£ç¼ºå°‘æè¿°ã€‚
     </li>
     <li>
      <strong>
       åœ¨
       <code>
        serializers.py
       </code>
       é‡Œä½¿ç”¨
       <code>
        help_text
       </code>
       æä¾›å­—æ®µè¯´æ˜
      </strong>
      ï¼Œæå‡å¯è¯»æ€§ã€‚
     </li>
     <li>
      <strong>
       ä½¿ç”¨
       <code>
        @extend_schema_view
       </code>
       ç»Ÿä¸€ç®¡ç†
       <code>
        ViewSet
       </code>
       çš„æ–‡æ¡£ä¿¡æ¯
      </strong>
      ï¼Œå‡å°‘é‡å¤ä»£ç ã€‚
     </li>
     <li>
      <strong>
       ä½¿ç”¨
       <code>
        OpenApiParameter
       </code>
       æ˜ç¡®æŸ¥è¯¢å‚æ•°ï¼Œæå‡ API äº¤äº’æ€§
      </strong>
      ã€‚
     </li>
     <li>
      <strong>
       æä¾›
       <code>
        examples
       </code>
       ç¤ºä¾‹ï¼Œè®©å‰ç«¯æ›´å®¹æ˜“ç†è§£ API è¯·æ±‚ç»“æ„
      </strong>
      ã€‚
     </li>
    </ol>
    <p>
     è¿™æ ·å¯ä»¥ç¡®ä¿ API æ–‡æ¡£æ¸…æ™°ã€å¯ç»´æŠ¤ï¼Œæ–¹ä¾¿å‰åç«¯åä½œ ğŸš€ã€‚
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f35393334343132372f:61727469636c652f64657461696c732f313436323433323835" class_="artid" style="display:none">
 </p>
</div>


