---
layout: post
title: "后端django-drfdjango自动导出优雅的api文档的写法"
date: 2025-03-13 21:52:55 +0800
description: "（一）示例OpenApiParameter(name=\"username\", description=\"按照用户名筛选\", required=False, type=str),OpenApiParameter(name=\"page\", description=\"分页参数，默认为1\", required=False, type=int),],📌 规则用于 API 查询参数说明。description=\"说明\"确保前端易于理解。"
keywords: "【后端】【django drf】django自动导出优雅的api文档的写法"
categories: ['面试考题专栏前后端', '后端系统功能', 'Django']
tags: ['Sqlite', 'Python', 'Django']
artid: "146243285"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146243285
    alt: "后端django-drfdjango自动导出优雅的api文档的写法"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146243285
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146243285
cover: https://bing.ee123.net/img/rand?artid=146243285
image: https://bing.ee123.net/img/rand?artid=146243285
img: https://bing.ee123.net/img/rand?artid=146243285
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【后端】【django drf】django自动导出优雅的api文档的写法
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="Django_DRF_API__OpenAPI__0">
     </a>
     Django DRF API 编写规范（包含 OpenAPI 生成规则）
    </h2>
    <p>
     为了确保 Django DRF API 代码的
     <strong>
      可维护性、可扩展性
     </strong>
     ，同时
     <strong>
      生成清晰、规范、结构层次分明
     </strong>
     的 OpenAPI 文档，必须遵循以下规则。
    </p>
    <hr/>
    <h3>
     <a id="_drfspectacular__OpenAPI__6">
     </a>
     一、使用
     <code>
      drf-spectacular
     </code>
     生成 OpenAPI 文档
    </h3>
    <h4>
     <a id="_drfspectacular_8">
     </a>
     （一）安装
     <code>
      drf-spectacular
     </code>
    </h4>
    <pre><code class="prism language-bash">pip <span class="token function">install</span> drf-spectacular
</code></pre>
    <h4>
     <a id="_settingspy_13">
     </a>
     （二）配置
     <code>
      settings.py
     </code>
    </h4>
    <pre><code class="prism language-python">INSTALLED_APPS <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">'drf_spectacular'</span><span class="token punctuation">,</span>
    <span class="token string">'rest_framework'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

REST_FRAMEWORK <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">'DEFAULT_SCHEMA_CLASS'</span><span class="token punctuation">:</span> <span class="token string">'drf_spectacular.openapi.AutoSchema'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

SPECTACULAR_SETTINGS <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">'TITLE'</span><span class="token punctuation">:</span> <span class="token string">"My API"</span><span class="token punctuation">,</span>
    <span class="token string">'DESCRIPTION'</span><span class="token punctuation">:</span> <span class="token string">"项目 API 文档"</span><span class="token punctuation">,</span>
    <span class="token string">'VERSION'</span><span class="token punctuation">:</span> <span class="token string">'1.0.0'</span><span class="token punctuation">,</span>
    <span class="token string">'SERVE_INCLUDE_SCHEMA'</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
    <span class="token string">'SWAGGER_UI_SETTINGS'</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string">'deepLinking'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
        <span class="token string">'defaultModelRendering'</span><span class="token punctuation">:</span> <span class="token string">'model'</span><span class="token punctuation">,</span>
        <span class="token string">'defaultModelsExpandDepth'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="_OpenAPI__37">
     </a>
     （三）添加 OpenAPI 路由
    </h4>
    <pre><code class="prism language-python"><span class="token keyword">from</span> drf_spectacular<span class="token punctuation">.</span>views <span class="token keyword">import</span> SpectacularAPIView<span class="token punctuation">,</span> SpectacularSwaggerView<span class="token punctuation">,</span> SpectacularRedocView

urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">'api/schema/'</span><span class="token punctuation">,</span> SpectacularAPIView<span class="token punctuation">.</span>as_view<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'schema'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    path<span class="token punctuation">(</span><span class="token string">'api/docs/'</span><span class="token punctuation">,</span> SpectacularSwaggerView<span class="token punctuation">.</span>as_view<span class="token punctuation">(</span>url_name<span class="token operator">=</span><span class="token string">'schema'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'swagger-ui'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    path<span class="token punctuation">(</span><span class="token string">'api/redoc/'</span><span class="token punctuation">,</span> SpectacularRedocView<span class="token punctuation">.</span>as_view<span class="token punctuation">(</span>url_name<span class="token operator">=</span><span class="token string">'schema'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'redoc'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre>
    <ul>
     <li>
      访问
      <code>
       /api/docs/
      </code>
      ：Swagger UI
     </li>
     <li>
      访问
      <code>
       /api/redoc/
      </code>
      ：ReDoc
     </li>
    </ul>
    <hr/>
    <h3>
     <a id="_API__52">
     </a>
     二、编写清晰的 API 视图
    </h3>
    <h4>
     <a id="_extend_schema__API_54">
     </a>
     （一）使用
     <code>
      @extend_schema
     </code>
     详细描述 API
    </h4>
    <pre><code class="prism language-python"><span class="token keyword">from</span> drf_spectacular<span class="token punctuation">.</span>utils <span class="token keyword">import</span> extend_schema
<span class="token keyword">from</span> rest_framework<span class="token punctuation">.</span>viewsets <span class="token keyword">import</span> ModelViewSet
<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> User
<span class="token keyword">from</span> <span class="token punctuation">.</span>serializers <span class="token keyword">import</span> UserSerializer

<span class="token keyword">class</span> <span class="token class-name">UserViewSet</span><span class="token punctuation">(</span>ModelViewSet<span class="token punctuation">)</span><span class="token punctuation">:</span>
    queryset <span class="token operator">=</span> User<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    serializer_class <span class="token operator">=</span> UserSerializer

    <span class="token decorator annotation punctuation">@extend_schema</span><span class="token punctuation">(</span>
        summary<span class="token operator">=</span><span class="token string">"获取用户列表"</span><span class="token punctuation">,</span>
        description<span class="token operator">=</span><span class="token string">"返回所有用户的列表，支持分页。"</span><span class="token punctuation">,</span>
        responses<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">200</span><span class="token punctuation">:</span> UserSerializer<span class="token punctuation">(</span>many<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">list</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
</code></pre>
    <h5>
     <a id="__73">
     </a>
     <strong>
      📌 规则
     </strong>
    </h5>
    <ol>
     <li>
      <code>
       @extend_schema(summary="简要说明", description="详细描述")
      </code>
      用于丰富 API 文档。
     </li>
     <li>
      <code>
       responses={200: UserSerializer(many=True)}
      </code>
      确保文档显示正确的返回格式。
     </li>
    </ol>
    <hr/>
    <h3>
     <a id="_serializerspy__79">
     </a>
     三、在
     <code>
      serializers.py
     </code>
     里优化文档
    </h3>
    <h4>
     <a id="_help_text__verbose_name__81">
     </a>
     （一）使用
     <code>
      help_text
     </code>
     和
     <code>
      verbose_name
     </code>
     提供字段说明
    </h4>
    <pre><code class="prism language-python"><span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> serializers
<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> User

<span class="token keyword">class</span> <span class="token class-name">UserSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>ModelSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    username <span class="token operator">=</span> serializers<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>help_text<span class="token operator">=</span><span class="token string">"用户名，唯一标识"</span><span class="token punctuation">)</span>
    email <span class="token operator">=</span> serializers<span class="token punctuation">.</span>EmailField<span class="token punctuation">(</span>help_text<span class="token operator">=</span><span class="token string">"用户的电子邮箱地址"</span><span class="token punctuation">)</span>

    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> User
        fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"id"</span><span class="token punctuation">,</span> <span class="token string">"username"</span><span class="token punctuation">,</span> <span class="token string">"email"</span><span class="token punctuation">]</span>
</code></pre>
    <h5>
     <a id="__94">
     </a>
     <strong>
      📌 规则
     </strong>
    </h5>
    <ol>
     <li>
      <strong>
       <code>
        help_text
       </code>
      </strong>
      ：用于 API 文档中展示字段说明。
     </li>
     <li>
      <strong>
       <code>
        verbose_name
       </code>
      </strong>
      ：如果模型里定义了，会自动生成为字段的描述。
     </li>
    </ol>
    <hr/>
    <h3>
     <a id="_extend_schema_view__ViewSet__100">
     </a>
     四、使用
     <code>
      @extend_schema_view
     </code>
     让
     <code>
      ViewSet
     </code>
     更清晰
    </h3>
    <p>
     如果
     <code>
      ViewSet
     </code>
     里的方法较多，每个方法都写
     <code>
      @extend_schema
     </code>
     会很冗余，可以直接给整个
     <code>
      ViewSet
     </code>
     统一定义：
    </p>
    <pre><code class="prism language-python"><span class="token keyword">from</span> drf_spectacular<span class="token punctuation">.</span>utils <span class="token keyword">import</span> extend_schema_view

<span class="token decorator annotation punctuation">@extend_schema_view</span><span class="token punctuation">(</span>
    <span class="token builtin">list</span><span class="token operator">=</span>extend_schema<span class="token punctuation">(</span>summary<span class="token operator">=</span><span class="token string">"获取用户列表"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    retrieve<span class="token operator">=</span>extend_schema<span class="token punctuation">(</span>summary<span class="token operator">=</span><span class="token string">"获取单个用户详情"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    create<span class="token operator">=</span>extend_schema<span class="token punctuation">(</span>summary<span class="token operator">=</span><span class="token string">"创建新用户"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    update<span class="token operator">=</span>extend_schema<span class="token punctuation">(</span>summary<span class="token operator">=</span><span class="token string">"更新用户信息"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    partial_update<span class="token operator">=</span>extend_schema<span class="token punctuation">(</span>summary<span class="token operator">=</span><span class="token string">"部分更新用户信息"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    destroy<span class="token operator">=</span>extend_schema<span class="token punctuation">(</span>summary<span class="token operator">=</span><span class="token string">"删除用户"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">UserViewSet</span><span class="token punctuation">(</span>ModelViewSet<span class="token punctuation">)</span><span class="token punctuation">:</span>
    queryset <span class="token operator">=</span> User<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    serializer_class <span class="token operator">=</span> UserSerializer
</code></pre>
    <h5>
     <a id="__118">
     </a>
     <strong>
      📌 规则
     </strong>
    </h5>
    <ol>
     <li>
      <code>
       @extend_schema_view
      </code>
      统一管理
      <code>
       ViewSet
      </code>
      方法的文档信息，避免重复写
      <code>
       @extend_schema
      </code>
      。
     </li>
     <li>
      适用于
      <code>
       ModelViewSet
      </code>
      。
     </li>
    </ol>
    <hr/>
    <h3>
     <a id="_124">
     </a>
     五、给请求参数提供明确说明
    </h3>
    <h4>
     <a id="_serializerspy__API__126">
     </a>
     <strong>
      （一）在
      <code>
       serializers.py
      </code>
      里定义 API 请求体
     </strong>
    </h4>
    <pre><code class="prism language-python"><span class="token keyword">from</span> drf_spectacular<span class="token punctuation">.</span>utils <span class="token keyword">import</span> OpenApiExample<span class="token punctuation">,</span> extend_schema
<span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> serializers

<span class="token keyword">class</span> <span class="token class-name">UserCreateSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>Serializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    username <span class="token operator">=</span> serializers<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>help_text<span class="token operator">=</span><span class="token string">"用户的唯一标识"</span><span class="token punctuation">)</span>
    email <span class="token operator">=</span> serializers<span class="token punctuation">.</span>EmailField<span class="token punctuation">(</span>help_text<span class="token operator">=</span><span class="token string">"用户的电子邮箱"</span><span class="token punctuation">)</span>
    password <span class="token operator">=</span> serializers<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>write_only<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> help_text<span class="token operator">=</span><span class="token string">"密码，至少8位"</span><span class="token punctuation">)</span>

    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"username"</span><span class="token punctuation">,</span> <span class="token string">"email"</span><span class="token punctuation">,</span> <span class="token string">"password"</span><span class="token punctuation">]</span>
</code></pre>
    <h4>
     <a id="_viewspy__140">
     </a>
     <strong>
      （二）在
      <code>
       views.py
      </code>
      里使用
     </strong>
    </h4>
    <pre><code class="prism language-python"><span class="token keyword">from</span> drf_spectacular<span class="token punctuation">.</span>utils <span class="token keyword">import</span> extend_schema

<span class="token decorator annotation punctuation">@extend_schema</span><span class="token punctuation">(</span>
    request<span class="token operator">=</span>UserCreateSerializer<span class="token punctuation">,</span>
    responses<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">201</span><span class="token punctuation">:</span> UserSerializer<span class="token punctuation">}</span><span class="token punctuation">,</span>
    examples<span class="token operator">=</span><span class="token punctuation">[</span>
        OpenApiExample<span class="token punctuation">(</span>
            name<span class="token operator">=</span><span class="token string">"示例用户"</span><span class="token punctuation">,</span>
            value<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">"username"</span><span class="token punctuation">:</span> <span class="token string">"john_doe"</span><span class="token punctuation">,</span> <span class="token string">"email"</span><span class="token punctuation">:</span> <span class="token string">"john@example.com"</span><span class="token punctuation">,</span> <span class="token string">"password"</span><span class="token punctuation">:</span> <span class="token string">"securepassword"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            request_only<span class="token operator">=</span><span class="token boolean">True</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">create</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>create<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
</code></pre>
    <h5>
     <a id="__158">
     </a>
     <strong>
      📌 规则
     </strong>
    </h5>
    <ol>
     <li>
      <strong>
       <code>
        request=UserCreateSerializer
       </code>
      </strong>
      指定 API 需要的请求参数格式。
     </li>
     <li>
      <strong>
       <code>
        examples
       </code>
      </strong>
      提供示例数据，方便前端查看。
     </li>
    </ol>
    <hr/>
    <h3>
     <a id="_OpenApiParameter__164">
     </a>
     六、使用
     <code>
      OpenApiParameter
     </code>
     定义查询参数
    </h3>
    <h4>
     <a id="_166">
     </a>
     <strong>
      （一）示例
     </strong>
    </h4>
    <pre><code class="prism language-python"><span class="token keyword">from</span> drf_spectacular<span class="token punctuation">.</span>utils <span class="token keyword">import</span> OpenApiParameter

<span class="token decorator annotation punctuation">@extend_schema</span><span class="token punctuation">(</span>
    parameters<span class="token operator">=</span><span class="token punctuation">[</span>
        OpenApiParameter<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"username"</span><span class="token punctuation">,</span> description<span class="token operator">=</span><span class="token string">"按照用户名筛选"</span><span class="token punctuation">,</span> required<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        OpenApiParameter<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"page"</span><span class="token punctuation">,</span> description<span class="token operator">=</span><span class="token string">"分页参数，默认为1"</span><span class="token punctuation">,</span> required<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    responses<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">200</span><span class="token punctuation">:</span> UserSerializer<span class="token punctuation">(</span>many<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">list</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
</code></pre>
    <h5>
     <a id="__180">
     </a>
     <strong>
      📌 规则
     </strong>
    </h5>
    <ol>
     <li>
      <strong>
       <code>
        OpenApiParameter
       </code>
      </strong>
      用于 API 查询参数说明。
     </li>
     <li>
      <strong>
       <code>
        description="说明"
       </code>
      </strong>
      确保前端易于理解。
     </li>
    </ol>
    <hr/>
    <h3>
     <a id="_API__186">
     </a>
     七、示例 API 端点
    </h3>
    <h4>
     <a id="_apidocs_188">
     </a>
     <strong>
      最终效果（访问
      <code>
       /api/docs/
      </code>
      ）
     </strong>
    </h4>
    <pre><code class="prism language-yaml"><span class="token key atrule">paths</span><span class="token punctuation">:</span>
  <span class="token key atrule">/users/</span><span class="token punctuation">:</span>
    <span class="token key atrule">get</span><span class="token punctuation">:</span>
      <span class="token key atrule">summary</span><span class="token punctuation">:</span> <span class="token string">"获取用户列表"</span>
      <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">"返回所有用户的列表，支持分页"</span>
      <span class="token key atrule">parameters</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> username
          <span class="token key atrule">in</span><span class="token punctuation">:</span> query
          <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">"按照用户名筛选"</span>
          <span class="token key atrule">required</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
          <span class="token key atrule">schema</span><span class="token punctuation">:</span>
            <span class="token key atrule">type</span><span class="token punctuation">:</span> string
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> page
          <span class="token key atrule">in</span><span class="token punctuation">:</span> query
          <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">"分页参数，默认为1"</span>
          <span class="token key atrule">required</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
          <span class="token key atrule">schema</span><span class="token punctuation">:</span>
            <span class="token key atrule">type</span><span class="token punctuation">:</span> integer
      <span class="token key atrule">responses</span><span class="token punctuation">:</span>
        <span class="token key atrule">"200"</span><span class="token punctuation">:</span>
          <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">"成功获取用户列表"</span>
          <span class="token key atrule">content</span><span class="token punctuation">:</span>
            <span class="token key atrule">application/json</span><span class="token punctuation">:</span>
              <span class="token key atrule">schema</span><span class="token punctuation">:</span>
                <span class="token key atrule">type</span><span class="token punctuation">:</span> array
                <span class="token key atrule">items</span><span class="token punctuation">:</span>
                  <span class="token key atrule">$ref</span><span class="token punctuation">:</span> <span class="token string">"#/components/schemas/User"</span>
  /users/<span class="token punctuation">{<!-- --></span>id<span class="token punctuation">}</span>/<span class="token punctuation">:</span>
    <span class="token key atrule">get</span><span class="token punctuation">:</span>
      <span class="token key atrule">summary</span><span class="token punctuation">:</span> <span class="token string">"获取单个用户详情"</span>
      <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">"返回指定 ID 的用户信息"</span>
      <span class="token key atrule">responses</span><span class="token punctuation">:</span>
        <span class="token key atrule">"200"</span><span class="token punctuation">:</span>
          <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">"成功获取用户"</span>
          <span class="token key atrule">content</span><span class="token punctuation">:</span>
            <span class="token key atrule">application/json</span><span class="token punctuation">:</span>
              <span class="token key atrule">schema</span><span class="token punctuation">:</span>
                <span class="token key atrule">$ref</span><span class="token punctuation">:</span> <span class="token string">"#/components/schemas/User"</span>
</code></pre>
    <hr/>
    <h3>
     <a id="_232">
     </a>
     <strong>
      总结
     </strong>
    </h3>
    <ol>
     <li>
      <strong>
       <code>
        drf-spectacular
       </code>
       是 Django DRF 生成 OpenAPI 文档的最佳选择
      </strong>
      。
     </li>
     <li>
      <strong>
       使用
       <code>
        @extend_schema
       </code>
       为 API 方法添加详细说明
      </strong>
      ，避免自动生成的文档缺少描述。
     </li>
     <li>
      <strong>
       在
       <code>
        serializers.py
       </code>
       里使用
       <code>
        help_text
       </code>
       提供字段说明
      </strong>
      ，提升可读性。
     </li>
     <li>
      <strong>
       使用
       <code>
        @extend_schema_view
       </code>
       统一管理
       <code>
        ViewSet
       </code>
       的文档信息
      </strong>
      ，减少重复代码。
     </li>
     <li>
      <strong>
       使用
       <code>
        OpenApiParameter
       </code>
       明确查询参数，提升 API 交互性
      </strong>
      。
     </li>
     <li>
      <strong>
       提供
       <code>
        examples
       </code>
       示例，让前端更容易理解 API 请求结构
      </strong>
      。
     </li>
    </ol>
    <p>
     这样可以确保 API 文档清晰、可维护，方便前后端协作 🚀。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f35393334343132372f:61727469636c652f64657461696c732f313436323433323835" class_="artid" style="display:none">
 </p>
</div>


