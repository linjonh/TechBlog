---
layout: post
title: "Ubuntu切换lowlatency内核"
date: 2025-03-08 17:46:01 +0800
description: "低延迟内核（Lowlatency Kernel）旨在为需要低延迟响应的应用程序设计的内核版本。Linux-lowlatency特别适合音频处理、实时计算、游戏和其他需要及时响应的实时任务。其主要特点是优化了中断处理、调度优先级以及系统内存的分配，最大限度地减少了延迟。通用内核（Generic Kernel）旨在提供平衡的系统性能，适合大多数普通的使用场景。它会将CPU时间平均分配给不同的任务，适合普通的桌面使用，但不能满足对时间敏感的任务的需求。特性通用内核（Generic Kernel）"
keywords: "Ubuntu切换lowlatency内核"
categories: ['Linux']
tags: ['Ubuntu', 'Ubuntu', 'Linux', 'Kernel']
artid: "146117986"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146117986
    alt: "Ubuntu切换lowlatency内核"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146117986
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146117986
cover: https://bing.ee123.net/img/rand?artid=146117986
image: https://bing.ee123.net/img/rand?artid=146117986
img: https://bing.ee123.net/img/rand?artid=146117986
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Ubuntu切换lowlatency内核
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <img src="https://i-blog.csdnimg.cn/blog_migrate/2d2476ffa5b53f3369e1f325a0aedae3.gif#pic_center" width="100%">
     <p>
     </p>
     <p>
     </p>
     <h2>
      <a id="__4">
      </a>
      一. 前言
     </h2>
     <p>
      <font color="black" size="3">
       <strong>
        低延迟内核（Lowlatency Kernel）
       </strong>
       旨在为需要低延迟响应的应用程序设计的内核版本。Linux-lowlatency特别适合音频处理、实时计算、游戏和其他需要及时响应的实时任务。其主要特点是优化了中断处理、调度优先级以及系统内存的分配，最大限度地减少了延迟。
      </font>
     </p>
     <p>
      <font color="black" size="3">
       <strong>
        通用内核（Generic Kernel）
       </strong>
       旨在提供平衡的系统性能，适合大多数普通的使用场景。它会将CPU时间平均分配给不同的任务，适合普通的桌面使用，但不能满足对时间敏感的任务的需求。
      </font>
     </p>
     <table>
      <thead>
       <tr>
        <th>
         特性
        </th>
        <th>
         通用内核（Generic Kernel）
        </th>
        <th>
         低延迟内核（Lowlatency Kernel）
        </th>
       </tr>
      </thead>
      <tbody>
       <tr>
        <td>
         <strong>
          调度策略
         </strong>
        </td>
        <td>
         适合平衡多任务的处理，适用于大多数一般用途的计算任务。
        </td>
        <td>
         优化了调度策略，优先处理实时任务，减少任务间的延迟。
        </td>
       </tr>
       <tr>
        <td>
         <strong>
          中断优先级
         </strong>
        </td>
        <td>
         中断处理优先级较低，适合普通计算任务。
        </td>
        <td>
         针对实时任务优化了中断响应，能迅速响应硬件事件。
        </td>
       </tr>
       <tr>
        <td>
         <strong>
          性能优化
         </strong>
        </td>
        <td>
         提供平衡的系统性能，适用于多种计算任务。
        </td>
        <td>
         在某些通用任务下可能略有性能牺牲，但提供更好的实时响应。
        </td>
       </tr>
       <tr>
        <td>
         <strong>
          适用场景
         </strong>
        </td>
        <td>
         适合日常计算、服务器及普通桌面环境使用。
        </td>
        <td>
         适用于音频、视频处理、实时控制等需要精确时间控制的任务。
        </td>
       </tr>
      </tbody>
     </table>
     <h2>
      <a id="__19">
      </a>
      二. 开发环境
     </h2>
     <p>
      <font color="black" size="3">
       <strong>
        Ubuntu：
       </strong>
       <font color="#7B68EE" face="Times New Roman" size="3">
        Ubuntu 20.04.6 LTS
       </font>
      </font>
     </p>
     <p>
      <font color="black" size="3">
       <strong>
        虚拟机：
       </strong>
       <font color="#7B68EE" face="Times New Roman" size="3">
        VMware Workstation 17 Pro
       </font>
      </font>
     </p>
     <p>
      <font color="black" size="3">
       <strong>
        内核版本：
       </strong>
       <font color="#7B68EE" face="Times New Roman" size="3">
        Linux ubuntu 5.4.0-208-lowlatency
       </font>
      </font>
     </p>
     <h2>
      <a id="__28">
      </a>
      三. 具体操作
     </h2>
     <p>
      首先，我们使用
      <strong>
       <code>
        uname -a
       </code>
      </strong>
      来查看目前使用的内核版本，如下图，我目前使用的是
      <code>
       Linux ubuntu 5.15.0-134-generic
      </code>
      内核。下面我们将把这个内核更改为
      <code>
       Linux ubuntu 5.4.0-208-lowlatency
      </code>
      。
     </p>
     <img src="https://i-blog.csdnimg.cn/direct/5196a594e14747d4924d12711d123a74.png#pic_center" width="60%">
      <p>
       <strong>
        1. 更新系统
       </strong>
      </p>
      <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token function">sudo</span> <span class="token function">apt</span> upgrade
</code></pre>
      <p>
       <strong>
        2. 安装 linux-lowlatency 内核
       </strong>
      </p>
      <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> linux-lowlatency
</code></pre>
      <p>
       <strong>
        3. 查看安装的所有内核版本
       </strong>
      </p>
      <pre><code class="prism language-bash">dpkg <span class="token parameter variable">--list</span> <span class="token operator">|</span> <span class="token function">grep</span> linux-image
</code></pre>
      <p>
       使用该指令，查看当前系统所安装的所有内核版本，可以看到lowlatency，表示低延时内核已经安装完毕。
      </p>
      <img src="https://i-blog.csdnimg.cn/direct/9b173e6403f94c879010088858a86fac.png#pic_center" width="60%">
       <br/>
       <p>
        接下来，我们要使系统在开机时采用linux-lowlatency内核，以下有两种方法，可以根据需要自行选择。
       </p>
       <p>
        <font size="3">
         <strong>
          4. 方法一：进入BIOS设置
         </strong>
        </font>
       </p>
       <p>
        在虚拟机开机时，按下
        <strong>
         <code>
          Esc键
         </code>
        </strong>
        ，使得系统进入
        <strong>
         <code>
          BIOS界面
         </code>
        </strong>
        。
       </p>
       <img src="https://i-blog.csdnimg.cn/direct/23d041e6b9db42d88b7b805882d9430c.png#pic_center" width="50%">
        <br/>
        <p>
         在BIOS菜单中选择
         <strong>
          <code>
           Advanced options for Ubuntu ---&gt; Ubuntu, with Linux 5.4.0-208-lowlatency
          </code>
         </strong>
         。
        </p>
        <img src="https://i-blog.csdnimg.cn/direct/fe6248a17eb643788b787d4498aacc10.png#pic_center" width="50%">
         <br/>
         <p>
          这种方法每次开机都需要进入BIOS中选择内核，适合经常切换内核版本的用户。
         </p>
         <p>
          <font size="3">
           <strong>
            4. 方法二：修改grub设置
           </strong>
          </font>
         </p>
         <p>
          第二种方法本质和第一种是一样的，只是将过程直接写入系统的默认引导中，具体方法如下：
         </p>
         <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">nano</span> /etc/default/grub
</code></pre>
         <p>
          进入
          <code>
           grub
          </code>
          后，修改
          <code>
           GRUB DEFAULT
          </code>
          参数，这里将0改为
          <code>
           "Advanced options for ubuntu&gt;Ubuntu, with Linux 5.4.0-208-lowlatency"
          </code>
          ，具体的lowlatency版本需要根据自己下载的版本来修改，本质上就是把在BIOS中的选项写到grub文件中。
         </p>
         <img src="https://i-blog.csdnimg.cn/direct/e08f17ebec444da2887fb600786c2f3f.png#pic_center" width="70%">
          <br/>
          <p>
           修改完成后，还需要更新grub文件，并且重启系统：
          </p>
          <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">update-grub</span>
<span class="token function">sudo</span> <span class="token function">reboot</span>
</code></pre>
          <p>
           重启后系统会自动进入
           <code>
            Linux ubuntu 5.4.0-208-lowlatency
           </code>
           内核，可以使用
           <strong>
            <code>
             uname -a
            </code>
           </strong>
           来查看。
          </p>
          <img src="https://i-blog.csdnimg.cn/direct/9284f12d3a8f4315a6a04d190eab2a08.png#pic_center" width="60%">
          </img>
         </img>
        </img>
       </img>
      </img>
     </img>
    </img>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34343739333439312f:61727469636c652f64657461696c732f313436313137393836" class_="artid" style="display:none">
 </p>
</div>


