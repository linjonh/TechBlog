---
layout: post
title: "Springboot连接neo4j"
date: 2025-03-14 23:04:56 +0800
description: "【代码】Springboot连接neo4j。"
keywords: "Springboot连接neo4j"
categories: ['毕业设计']
tags: ['开发语言', 'Python']
artid: "146269102"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146269102
    alt: "Springboot连接neo4j"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146269102
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146269102
cover: https://bing.ee123.net/img/rand?artid=146269102
image: https://bing.ee123.net/img/rand?artid=146269102
img: https://bing.ee123.net/img/rand?artid=146269102
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Springboot连接neo4j
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h4>
     ​
     <strong>
      一、Spring Data Neo4j 核心知识体系
     </strong>
    </h4>
    <h5>
     ​
     <strong>
      1. 核心概念
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       ​
       <strong>
        图数据库特性
       </strong>
       ：
      </p>
      <ul>
       <li>
        数据以 ​
        <strong>
         节点（Node）​
        </strong>
        和 ​
        <strong>
         关系（Relationship）​
        </strong>
        形式存储，支持属性（Property）。
       </li>
       <li>
        查询语言：Cypher（类似 SQL 的声明式语言）。
       </li>
      </ul>
     </li>
     <li>
      <p>
       ​
       <strong>
        Spring Data Neo4j 定位
       </strong>
       ：
      </p>
      <ul>
       <li>
        基于 Spring Data 的抽象层，简化 Neo4j 操作（类似 JPA 对关系型数据库的封装）。
       </li>
       <li>
        提供注解驱动编程模型，将 Java 对象映射到图结构。
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h5>
     ​
     <strong>
      2. 实体映射基础
     </strong>
    </h5>
    <h6>
     ​**(1) 节点映射**
    </h6>
    <ul>
     <li>
      ​**
      <code>
       @Node
      </code>
      注解**：
      <ul>
       <li>
        功能：标记类为图数据库中的节点实体。
       </li>
       <li>
        参数：
        <ul>
         <li>
          <code>
           value
          </code>
          ：指定节点标签（Label），默认使用类名（如
          <code>
           @Node("User")
          </code>
          ）。
         </li>
        </ul>
       </li>
       <li>
        ​
        <strong>
         示例
        </strong>
        ：
        <pre><code class="language-java">@Node("owl__Class")  // 节点标签为 owl__Class
public class OwlClass { ... }</code></pre>
       </li>
      </ul>
     </li>
    </ul>
    <h6>
     ​**(2) 唯一标识符**
    </h6>
    <ul>
     <li>
      ​**
      <code>
       @Id
      </code>
      +
      <code>
       @GeneratedValue
      </code>
      **：
      <ul>
       <li>
        <code>
         @Id
        </code>
        ：标记主键字段（对应 Neo4j 节点的内部 ID）。
       </li>
       <li>
        <code>
         @GeneratedValue
        </code>
        ：声明 ID 由数据库自动生成（不可手动赋值）。
       </li>
       <li>
        ​
        <strong>
         注意
        </strong>
        ：
        <ul>
         <li>
          默认生成策略为
          <code>
           InternalIdGenerator
          </code>
          （Neo4j 内部长整型 ID，不建议暴露给业务系统）。
         </li>
         <li>
          若需业务主键（如 UUID），需结合
          <code>
           @Property
          </code>
          定义额外字段（如
          <code>
           elementId
          </code>
          ）。
         </li>
        </ul>
       </li>
      </ul>
     </li>
    </ul>
    <h6>
     ​**(3) 属性映射**
    </h6>
    <ul>
     <li>
      ​**
      <code>
       @Property
      </code>
      注解**：
      <ul>
       <li>
        功能：将 Java 字段映射到节点的属性。
       </li>
       <li>
        参数：
        <code>
         name
        </code>
        指定属性名（默认与字段名一致）。
       </li>
       <li>
        ​
        <strong>
         示例
        </strong>
        ：
        <pre><code class="language-java">@Property(name = "uri")  // 对应节点的 uri 属性
private String uri;</code></pre>
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h5>
     ​
     <strong>
      3. 关系映射（核心难点）​
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       ​**
       <code>
        @Relationship
       </code>
       注解**：
      </p>
      <ul>
       <li>
        功能：定义节点间的关联关系（对应 Neo4j 的边）。
       </li>
       <li>
        参数：
        <ul>
         <li>
          <code>
           type
          </code>
          ：关系类型（如
          <code>
           "SUBCLASS_OF"
          </code>
          ）。
         </li>
         <li>
          <code>
           direction
          </code>
          ：关系方向（默认
          <code>
           OUTGOING
          </code>
          ）。
         </li>
        </ul>
       </li>
       <li>
        ​
        <strong>
         示例
        </strong>
        ：
        <pre><code class="language-java">public class OwlClass {
    // 定义 "SUBCLASS_OF" 关系（指向父类）
    @Relationship(type = "SUBCLASS_OF", direction = OUTGOING)
    private OwlClass parentClass;
}</code></pre>
       </li>
      </ul>
     </li>
     <li>
      <p>
       ​
       <strong>
        关系的双向管理
       </strong>
       ：
      </p>
      <ul>
       <li>
        需在关联双方实体类中分别定义关系（需保持一致性）。
       </li>
       <li>
        示例：
        <code>
         Person
        </code>
        与
        <code>
         Company
        </code>
        的
        <code>
         WORK_AT
        </code>
        关系：
        <pre><code class="language-java">// Person 实体
public class Person {
    @Relationship(type = "WORK_AT", direction = OUTGOING)
    private Company company;
}

// Company 实体
public class Company {
    @Relationship(type = "WORK_AT", direction = INCOMING)
    private Set&lt;Person&gt; employees;
}</code></pre>
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h5>
     ​
     <strong>
      4. 查询与持久化
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       ​
       <strong>
        Repository 接口
       </strong>
       ：
      </p>
      <ul>
       <li>
        继承
        <code>
         Neo4jRepository&lt;T, ID&gt;
        </code>
        ，提供 CRUD 和自定义查询能力。
       </li>
       <li>
        ​
        <strong>
         示例
        </strong>
        ：
        <pre><code class="language-java">public interface OwlClassRepository extends Neo4jRepository&lt;OwlClass, Long&gt; {
    // 自定义 Cypher 查询
    @Query("MATCH (c:owl__Class) WHERE c.uri = $uri RETURN c")
    OwlClass findByUri(String uri);
}</code></pre>
       </li>
      </ul>
     </li>
     <li>
      <p>
       ​
       <strong>
        派生查询（Derived Queries）​
       </strong>
       ：
      </p>
      <ul>
       <li>
        根据方法名自动生成 Cypher 查询（如
        <code>
         findByUri(String uri)
        </code>
        ）。
       </li>
       <li>
        ​
        <strong>
         限制
        </strong>
        ：复杂查询仍需手动编写 Cypher。
       </li>
      </ul>
     </li>
    </ul>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f7975616e77753933323733303136392f:61727469636c652f64657461696c732f313436323639313032" class_="artid" style="display:none">
 </p>
</div>


