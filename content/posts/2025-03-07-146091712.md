---
layout: post
title: "uniapp微信小程序vue3自定义tabbar"
date: 2025-03-07 11:45:30 +0800
description: "二选一就好了。"
keywords: "uniapp微信小程序vue3自定义tabbar"
categories: ['未分类']
tags: ['微信小程序', '小程序', 'App']
artid: "146091712"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146091712
    alt: "uniapp微信小程序vue3自定义tabbar"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146091712
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146091712
cover: https://bing.ee123.net/img/rand?artid=146091712
image: https://bing.ee123.net/img/rand?artid=146091712
img: https://bing.ee123.net/img/rand?artid=146091712
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     uniapp微信小程序vue3自定义tabbar
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="Appvuetabbarpagesjson_0">
     </a>
     在App.vue隐藏原生tabbar，也可以在pages.json中配置
    </h2>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/2132185041f041818e0876661bef9539.png">
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/e52745f63f564533827d3047446aaa64.png">
       <br/>
       二选一就好了
      </img>
     </img>
    </p>
    <h2>
     <a id="_CustomTabBar__5">
     </a>
     创建 CustomTabBar 公共组件
    </h2>
    <pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"custom-tab-bar"</span> <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">"{paddingBottom: safeAreaHeight + 'px'}"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"tab-bar-item"</span> <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"{'active' : props.currentPage === index}"</span> v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"(item, index) in tabBarList"</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"index"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>image v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"props.currentPage === index"</span> <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">"'../' + item.selectedIconPath"</span> @click<span class="token punctuation">.</span>stop<span class="token operator">=</span><span class="token string">"switchTab(item)"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>image<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>image v<span class="token operator">-</span><span class="token keyword">else</span> <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">"'../' + item.iconPath"</span> @click<span class="token punctuation">.</span>stop<span class="token operator">=</span><span class="token string">"switchTab(item)"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>image<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>text<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> item<span class="token punctuation">.</span>text <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> ref<span class="token punctuation">,</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">currentPage</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> tabBarList <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">pagePath</span><span class="token operator">:</span> <span class="token string">"pages/tabbar/msg"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">iconPath</span><span class="token operator">:</span> <span class="token string">"static/tabbar/dynamic.png"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">selectedIconPath</span><span class="token operator">:</span> <span class="token string">"static/tabbar/dynamic1.png"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">"动态"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">pagePath</span><span class="token operator">:</span> <span class="token string">"pages/tabbar/static"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">iconPath</span><span class="token operator">:</span> <span class="token string">"static/tabbar/statistic.png"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">selectedIconPath</span><span class="token operator">:</span> <span class="token string">"static/tabbar/statistic1.png"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">"统计"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">pagePath</span><span class="token operator">:</span> <span class="token string">"pages/tabbar/work"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">iconPath</span><span class="token operator">:</span> <span class="token string">"static/tabbar/work.png"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">selectedIconPath</span><span class="token operator">:</span> <span class="token string">"static/tabbar/work1.png"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">"工作台"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">pagePath</span><span class="token operator">:</span> <span class="token string">"pages/tabbar/find"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">iconPath</span><span class="token operator">:</span> <span class="token string">"static/tabbar/find.png"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">selectedIconPath</span><span class="token operator">:</span> <span class="token string">"static/tabbar/find1.png"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">"发现"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">pagePath</span><span class="token operator">:</span> <span class="token string">"pages/tabbar/user"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">iconPath</span><span class="token operator">:</span> <span class="token string">"static/tabbar/my.png"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">selectedIconPath</span><span class="token operator">:</span> <span class="token string">"static/tabbar/my1.png"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">"我的"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// 切换 tab 的方法</span>
<span class="token keyword">const</span> <span class="token function-variable function">switchTab</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  uni<span class="token punctuation">.</span><span class="token function">switchTab</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/'</span> <span class="token operator">+</span> item<span class="token punctuation">.</span>pagePath<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> safeAreaHeight <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 获取底部安全区域高度</span>
  uni<span class="token punctuation">.</span><span class="token function">getSystemInfo</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">let</span> sHeight <span class="token operator">=</span> res<span class="token punctuation">.</span>screenHeight<span class="token punctuation">;</span> <span class="token comment">// 获取屏幕高度</span>
      <span class="token keyword">let</span> sTop <span class="token operator">=</span> res<span class="token punctuation">.</span>safeArea<span class="token punctuation">.</span>bottom<span class="token punctuation">;</span> <span class="token comment">// 获取安全区域底部高度</span>
      safeAreaHeight<span class="token punctuation">.</span>value <span class="token operator">=</span> sHeight <span class="token operator">-</span> sTop<span class="token punctuation">;</span> <span class="token comment">// 计算安全区域距离底部的高度</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'底部安全区域高度：'</span><span class="token punctuation">,</span> safeAreaHeight<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  uni<span class="token punctuation">.</span><span class="token function">hideTabBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">"scss"</span> scoped<span class="token operator">&gt;</span>
<span class="token punctuation">.</span>custom<span class="token operator">-</span>tab<span class="token operator">-</span>bar <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">position</span><span class="token operator">:</span> fixed<span class="token punctuation">;</span>
  z<span class="token operator">-</span>index<span class="token operator">:</span> <span class="token number">99</span><span class="token punctuation">;</span>
  <span class="token literal-property property">bottom</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token literal-property property">right</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
  background<span class="token operator">-</span>color<span class="token operator">:</span> #ffffff<span class="token punctuation">;</span>
  border<span class="token operator">-</span>top<span class="token operator">:</span> 1px solid #eeeeee<span class="token punctuation">;</span>
  <span class="token literal-property property">padding</span><span class="token operator">:</span> 5px <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">.</span>tab<span class="token operator">-</span>bar<span class="token operator">-</span>item <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">flex</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
  flex<span class="token operator">-</span>direction<span class="token operator">:</span> column<span class="token punctuation">;</span>
  align<span class="token operator">-</span>items<span class="token operator">:</span> center<span class="token punctuation">;</span>
  justify<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #93A2B7<span class="token punctuation">;</span>
  <span class="token operator">&amp;</span><span class="token punctuation">.</span>active <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> #24C597<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token operator">&amp;</span><span class="token operator">:</span>nth<span class="token operator">-</span><span class="token function">child</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> image <span class="token punctuation">{<!-- --></span>
    margin<span class="token operator">-</span>top<span class="token operator">:</span> <span class="token operator">-</span>18px<span class="token punctuation">;</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> 80rpx<span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> 80rpx<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token punctuation">.</span>tab<span class="token operator">-</span>bar<span class="token operator">-</span>item image <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> 24px<span class="token punctuation">;</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> 24px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">.</span>tab<span class="token operator">-</span>bar<span class="token operator">-</span>item text <span class="token punctuation">{<!-- --></span>
  font<span class="token operator">-</span>size<span class="token operator">:</span> 12px<span class="token punctuation">;</span>
  margin<span class="token operator">-</span>top<span class="token operator">:</span> 6rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre>
    <h2>
     <a id="tabbar_124">
     </a>
     在每个tabbar页面中引入组件
    </h2>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/5455b4ba7e2945c7acb66d8c370cc7bf.png"/>
    </p>
   </div>
   <link href="./../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="./../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f34353833323830372f:61727469636c652f64657461696c732f313436303931373132" class_="artid" style="display:none">
 </p>
</div>


