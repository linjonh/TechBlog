---
layout: post
title: "鸿蒙路由-HMrouter-配置及使用一"
date: 2025-03-14 16:35:44 +0800
description: "鸿蒙 路由 HMRouter 配置 使用 教程"
keywords: "鸿蒙路由 HMrouter 配置及使用一"
categories: ['鸿蒙Harmonyos']
tags: ['鸿蒙', 'Harmonyos']
artid: "146258483"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146258483
    alt: "鸿蒙路由-HMrouter-配置及使用一"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146258483
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146258483
cover: https://bing.ee123.net/img/rand?artid=146258483
image: https://bing.ee123.net/img/rand?artid=146258483
img: https://bing.ee123.net/img/rand?artid=146258483
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     鸿蒙路由 HMrouter 配置及使用一
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h4>
     1、学习链接
    </h4>
    <p>
     HMRouter地址
    </p>
    <p>
     <a class="link-info" href="https://gitee.com/hadss/hmrouter/blob/dev/HMRouterLibrary/README.md" rel="nofollow" title="https://gitee.com/hadss/hmrouter/blob/dev/HMRouterLibrary/README.md">
      https://gitee.com/hadss/hmrouter/blob/dev/HMRouterLibrary/README.md
     </a>
    </p>
    <h4>
     2、工程配置
    </h4>
    <p>
     下载安装
    </p>
    <pre><code>ohpm install @hadss/hmrouter</code></pre>
    <p>
     添加编译插件配置
    </p>
    <p>
     <img alt="" height="225" src="https://i-blog.csdnimg.cn/direct/dc1a3f3c09b34a2d9ff226270b9d8188.png" width="418"/>
    </p>
    <p>
     在工程目录下的
     <code>
      build-profile.json5
     </code>
     中，配置
     <code>
      useNormalizedOHMUrl
     </code>
     属性为true (我这项目创建后默认就是true)
    </p>
    <p>
     <img alt="" height="232" src="https://i-blog.csdnimg.cn/direct/9b541d80c1794d4c9bb538de9603b813.png" width="447"/>
    </p>
    <p>
     在使用到HMRouter的模块中引入路由编译插件，修改
     <code>
      hvigorfile.ts。
     </code>
     <span style="color:#fe2c24">
      如果模块是Har则使用
      <code>
       harPlugin()
      </code>
      , 模块是Hsp则使用
      <code>
       hspPlugin()
      </code>
      , 模块是Hap则使用
      <code>
       hapPlugin()
      </code>
     </span>
    </p>
    <p>
     <img alt="" height="242" src="https://i-blog.csdnimg.cn/direct/21bf6ca89d4d4a4899b8eb9aeb3bc8f8.png" width="394"/>
    </p>
    <h4>
     3、开始使用
    </h4>
    <p>
     在UIAbility或者启动框架AppStartup中初始化路由框架
    </p>
    <p>
     <img alt="" height="313" src="https://i-blog.csdnimg.cn/direct/f0b4d3ae2e4a4978a0222577d6a64da2.png" width="461"/>
    </p>
    <p>
     在模块入口配置一个
     <strong>
      <code>
       HMNavigationr容器并添加配置信息
      </code>
     </strong>
    </p>
    <pre><code>import { HMDefaultGlobalAnimator, HMNavigation } from "@hadss/hmrouter";
import { AttributeUpdater } from "@kit.ArkUI";

@Entry
@Component
export struct Index {
  modifier: MyNavModifier = new MyNavModifier();

  build() {
    // @Entry中需要再套一层容器组件,Column或者Stack
    Column(){
      // 使用HMNavigation容器
      HMNavigation({
        navigationId: 'mainNavigation', homePageUrl: 'MainPage',
        options: {
          standardAnimator: HMDefaultGlobalAnimator.STANDARD_ANIMATOR,
          dialogAnimator: HMDefaultGlobalAnimator.DIALOG_ANIMATOR,
          modifier: this.modifier
        }
      })
    }
    .height('100%')
    .width('100%')
  }
}

class MyNavModifier extends AttributeUpdater&lt;NavigationAttribute&gt; {
  initializeModifier(instance: NavigationAttribute): void {
    instance.hideNavBar(true);
  }
}</code></pre>
    <p>
     配置信息说明
    </p>
    <p>
     <img alt="" height="442" src="https://i-blog.csdnimg.cn/direct/98960a9383c045e0b11ebdae17d785e7.png" width="674"/>
    </p>
    <p>
     创建默认的加载页面，这里需要注意是创建ArkTS File文件而不是创建Page
    </p>
    <p>
     <img alt="" height="577" src="https://i-blog.csdnimg.cn/direct/7ba1f1975e5d4dbe830900617a7b9730.png" width="1052"/>
    </p>
    <pre><code>import { HMRouter } from "@hadss/hmrouter"


@HMRouter({
  pageUrl: "MainPage"
})
@Component
export struct MainPage {
  build() {
    Column(){
      Text("首页").fontSize(30).fontWeight(FontWeight.Bold)
    }
    .width('100%')
    .height('100%')
    .backgroundColor("#f4f5f9")
    .justifyContent(FlexAlign.Center)
  }
}


</code></pre>
    <p>
     效果图
    </p>
    <p>
     <img alt="" height="689" src="https://i-blog.csdnimg.cn/direct/2a8e45f6caba407cb5a8bcbcf7e725c4.png" width="319"/>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a:2f2f626c6f672e6373646e2e6e65742f6c697578363638372f:61727469636c652f64657461696c732f313436323538343833" class_="artid" style="display:none">
 </p>
</div>


