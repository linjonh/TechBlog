---
layout: post
title: "Linux红帽RHCSA认证知识讲解六创建管理和删除本地用戶和组"
date: 2025-03-14 14:16:26 +0800
description: "上篇博客我们详细了解了从红帽和 DNF 软件仓库下载、安装、更新和管理软件包，在这篇博客里，我们将讲解创建、管理和删除本地用戶和组在 Linux 系统的管理中，用户和组的管理是至关重要的一部分。合理地创建、管理和删除本地用户和组，不仅能确保系统的安全性，还能有效地管理系统资源的访问权限。我的个人主页，欢迎来阅读我的其他文章我的RHCSA认证知识文章专栏欢迎来阅读指出不足。"
keywords: "Linux红帽：RHCSA认证知识讲解（六）创建、管理和删除本地用戶和组"
categories: ['Rhcsa', 'Linux']
tags: ['运维', '网络', '服务器', '数据库', '后端', 'Oracle', 'Linux']
artid: "146164727"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146164727
    alt: "Linux红帽RHCSA认证知识讲解六创建管理和删除本地用戶和组"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146164727
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146164727
cover: https://bing.ee123.net/img/rand?artid=146164727
image: https://bing.ee123.net/img/rand?artid=146164727
img: https://bing.ee123.net/img/rand?artid=146164727
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Linux红帽：RHCSA认证知识讲解（六）创建、管理和删除本地用戶和组
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <p>
    </p>
    <hr/>
    <h2>
     <a id="_7">
     </a>
     前言
    </h2>
    <ul>
     <li>
      上篇博客我们详细了解了
      <mark>
       从红帽和 DNF 软件仓库下载、安装、更新和管理软件包
      </mark>
      ，在这篇博客里，我们将讲解创建、管理和删除本地用戶和组
     </li>
     <li>
      在 Linux 系统的管理中，
      <mark>
       用户和组的管理是至关重要的一部分
      </mark>
      。合理地创建、管理和删除本地用户和组，不仅能确保系统的安全性，还能有效地管理系统资源的访问权限。
     </li>
    </ul>
    <blockquote>
     <p>
      我的个人主页，欢迎来阅读我的其他文章
      <br/>
      <a href="https://blog.csdn.net/2402_83322742?spm=1011.2415.3001.5343">
       https://blog.csdn.net/2402_83322742?spm=1011.2415.3001.5343
      </a>
      <br/>
      我的RHCSA认证知识文章专栏
      <br/>
      <strong>
       欢迎来阅读指出不足
      </strong>
      <br/>
      <a href="https://blog.csdn.net/2402_83322742/category_12901802.html?spm=1001.2014.3001.5482">
       https://blog.csdn.net/2402_83322742/category_12901802.html?spm=1001.2014.3001.5482
      </a>
     </p>
    </blockquote>
    <h2>
     <a id="_17">
     </a>
     一、用户和组概念
    </h2>
    <p>
     在 Linux 系统中，用户和组有着各自独特的用途。
    </p>
    <ol>
     <li>
      <p>
       <strong>
        用户（USER）
       </strong>
       ：用户账户在不同人员和运行的程序之间提供了安全边界。用户通过 username 进行标识，
       <mark>
        操作系统会为其分配唯一的标识号
       </mark>
       （UID），并且用户可能含有密码。系统中的每个程序都以特定用户运行，每个文件也都有一个特定用户作为所有者。用户账户主要有三种类型：
       <br/>
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/40e8c2f2132647af820a8266a0b59841.png"/>
      </p>
      <ul>
       <li>
        <strong>
         超级用户（superuser）
        </strong>
        ：即 root 用户，
        <mark>
         其 UID = 0
        </mark>
        ，拥有系统的最高权限，可以对系统进行任何操作。
       </li>
       <li>
        <strong>
         系统用户（system users）
        </strong>
        ：
        <mark>
         UID 1-200
        </mark>
        ，用于系统管理，例如运行各种服务。这类用户通常不需要用于系统登录，主要是为了保证系统服务的正常运行。
       </li>
       <li>
        <strong>
         普通用户（regular users）
        </strong>
        ：
        <mark>
         UID 1000
        </mark>
        +供用户进行日常系统管理操作，通常具有一定的权限限制，以保证系统的安全。
       </li>
      </ul>
     </li>
    </ol>
    <ul>
     <li>
      我们可以使用
      <code>
       id
      </code>
      命令来查看当前登录的用户或某用户的详细信息。
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/00b3df23f9bb474e98427b7f41417d63.png"/>
     </li>
    </ul>
    <p>
     例如，
     <code>
      id username
     </code>
     就可以显示指定用户的 UID、GID 等信息。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/d5f9cd58870c473dad6a2aaf1a6fdbd9.png"/>
    </p>
    <p>
     同时，
     <code>
      ls -l
     </code>
     命令可以查看文件所属用户，
     <code>
      ls -ld
     </code>
     命令则用于查看目录所属用户。
    </p>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/direct/dd3f733581c142d8ad249ed2ad27bdcc.png"/>
    </p>
    <p>
     系统使用
     <code>
      /etc/passwd
     </code>
     文件来存储有关本地用户的信息，该文件的每一行都包含了用户的相关信息，
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/d30779ef5f014dd6beca87749259c4de.png"/>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/6aca9158f177487b99210fcb87948f69.png"/>
    </p>
    <p>
     格式为：用户名：用户的加密密码（占位符）：用户的 UID 编号：主要组的 GID : 该用户的简短注释、描述的信息 : 用户的家目录 ：可以使用交互式登陆。
    </p>
    <h3>
     <a id="_46">
     </a>
     用户类型对比表格
    </h3>
    <table>
     <thead>
      <tr>
       <th>
        用户类型
       </th>
       <th>
        UID 范围
       </th>
       <th>
        用途
       </th>
       <th>
        是否可登录系统
       </th>
       <th>
        权限特点
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        超级用户（superuser）
       </td>
       <td>
        UID = 0
       </td>
       <td>
        系统最高管理权限，可进行任何操作
       </td>
       <td>
        是
       </td>
       <td>
        拥有系统最高权限
       </td>
      </tr>
      <tr>
       <td>
        系统用户（system users）
       </td>
       <td>
        UID 1 - 200（红帽系统服务）、UID 201 - 999（供系统进程使用）
       </td>
       <td>
        系统管理，运行服务
       </td>
       <td>
        否
       </td>
       <td>
        权限有限，仅满足服务运行需求
       </td>
      </tr>
      <tr>
       <td>
        普通用户（regular users）
       </td>
       <td>
        UID 1000+
       </td>
       <td>
        日常系统管理操作
       </td>
       <td>
        是
       </td>
       <td>
        权限受限制，保障系统安全
       </td>
      </tr>
     </tbody>
    </table>
    <ol start="2">
     <li>
      <strong>
       组（GROUP）
      </strong>
      ：
      <mark>
       组是用户的集合
      </mark>
      ，
      <mark>
       组内的用户可以共享文件和其他系统资源的访问权限
      </mark>
      。组有 group name 和 GID，它们的匹配关系保存在
      <code>
       /etc/group
      </code>
      文件中。
      <br/>
      每个组条目被分为四个以冒号分隔的字段，
     </li>
    </ol>
    <ul>
     <li>
      例如：
      <code>
       wangpingan : x : 8896 : yang,wangdaye
      </code>
      ，
      <br/>
      分别表示组名、占位符、组 ID、属于此组成员的用户列表（作为补充组）。
     </li>
    </ul>
    <p>
     组又分为
     <mark>
      主要组（私有组或者基本组）和补充组
     </mark>
     （附加组）：
    </p>
    <ul>
     <li>
      每个用户只属于一个主要组（GID），对应 GID 在
      <code>
       /etc/passwd
      </code>
      中。
     </li>
     <li>
      创建普通用户时，会自动创建一个与用户同名的组，作为该用户的主要组，且该用户是这个主要组的唯一成员。
     </li>
     <li>
      用户还可以有补充组，补充组中的成员资格存放在
      <code>
       /etc/group
      </code>
      文件中。根据用户所在的组是否具有访问权限，将授予用户对文件的访问权限，无论是主要组还是补充组。
     </li>
    </ul>
    <h3>
     <a id="_65">
     </a>
     主要组和补充组对比表格：
    </h3>
    <table>
     <thead>
      <tr>
       <th>
        组类型
       </th>
       <th>
        与用户关系
       </th>
       <th>
        存储位置
       </th>
       <th>
        权限特点
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        主要组（私有组或基本组）
       </td>
       <td>
        每个用户仅有一个主要组，创建普通用户时自动生成同名组作为主要组，用户是唯一成员
       </td>
       <td>
        对应 GID 在
        <code>
         /etc/passwd
        </code>
        中
       </td>
       <td>
        用户默认具有该组的权限
       </td>
      </tr>
      <tr>
       <td>
        补充组（附加组）
       </td>
       <td>
        用户可以有多个补充组，是组内成员的集合
       </td>
       <td>
        成员资格存放在
        <code>
         /etc/group
        </code>
        文件中
       </td>
       <td>
        根据组的权限赋予用户对文件的访问权限
       </td>
      </tr>
     </tbody>
    </table>
    <h2>
     <a id="_71">
     </a>
     二、本地用户账户增删改查
    </h2>
    <ol>
     <li>
      <strong>
       用户的增删改查操作
      </strong>
      ：
      <ul>
       <li>
        <p>
         <strong>
          增加用户（增）
         </strong>
         ：从命令行中使用
         <code>
          useradd
         </code>
         命令来创建用户，例如
         <code>
          useradd 用户名
         </code>
         。
        </p>
       </li>
       <li>
        <p>
         如果需要指定新用户的 UID，可以使用
         <code>
          useradd -u
         </code>
        </p>
       </li>
       <li>
        <p>
         指定用户的家目录时，先创建目录，如
         <code>
          mkdir /opt/dongjiawen
         </code>
         ，
         <br/>
         然后使用
         <code>
          useradd -d /opt/dongjiawen/ dongjiawen02
         </code>
         ；
        </p>
       </li>
       <li>
        <p>
         若要使新增用户不能登录，可使用
         <code>
          useradd -s /sbin/nologin 用户名
         </code>
         ；指定用户的主要组用
         <code>
          useradd -g 必须是已经存在的组 用户名
         </code>
         ；
        </p>
       </li>
       <li>
        <p>
         指定附加组则用
         <code>
          useradd -G 必须是已经存在的组 用户名
         </code>
         。
        </p>
       </li>
       <li>
        <p>
         <strong>
          删除用户账户（删）
         </strong>
         ：使用
         <code>
          userdel 用户名
         </code>
         命令只是删除用户，不会删除用户的家目录。若要同时删除用户的家目录，可添加
         <code>
          -r
         </code>
         选项，即
         <code>
          userdel -r 用户名
         </code>
         。
        </p>
       </li>
       <li>
        <p>
         <strong>
          修改现有的用户（改）
         </strong>
         ：更改现有用户的 UID 可以使用
         <code>
          usermod -u 更改之后的 uid 现有的用户名
         </code>
         ；更改家目录用
         <code>
          usermod -d 修改之后的家目录 现有的用户名
         </code>
         ；更改登录的 shell 则用
         <code>
          usermod -s 登录的 shell 现有的用户名
         </code>
         。
        </p>
       </li>
       <li>
        <p>
         <strong>
          查询用户（查）
         </strong>
         ：使用
         <code>
          id 用户名
         </code>
         命令可以查看用户的详细信息。
        </p>
       </li>
      </ul>
     </li>
    </ol>
    <p>
     用户管理命令对比表格：
    </p>
    <table>
     <thead>
      <tr>
       <th>
        操作类型
       </th>
       <th>
        命令格式
       </th>
       <th>
        作用
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        增加用户
       </td>
       <td>
        <code>
         useradd 用户名
        </code>
       </td>
       <td>
        创建新用户
       </td>
      </tr>
      <tr>
       <td>
        增加用户并指定 UID
       </td>
       <td>
        <code>
         useradd -u [UID] 用户名
        </code>
       </td>
       <td>
        创建新用户并指定 UID
       </td>
      </tr>
      <tr>
       <td>
        增加用户并指定家目录
       </td>
       <td>
        <code>
         useradd -d [家目录路径] 用户名
        </code>
       </td>
       <td>
        创建新用户并指定家目录
       </td>
      </tr>
      <tr>
       <td>
        增加用户并设置不能登录
       </td>
       <td>
        <code>
         useradd -s /sbin/nologin 用户名
        </code>
       </td>
       <td>
        创建新用户并设置不能登录系统
       </td>
      </tr>
      <tr>
       <td>
        增加用户并指定主要组
       </td>
       <td>
        <code>
         useradd -g [已存在组名] 用户名
        </code>
       </td>
       <td>
        创建新用户并指定主要组
       </td>
      </tr>
      <tr>
       <td>
        增加用户并指定附加组
       </td>
       <td>
        <code>
         useradd -G [已存在组名] 用户名
        </code>
       </td>
       <td>
        创建新用户并指定附加组
       </td>
      </tr>
      <tr>
       <td>
        删除用户（保留家目录）
       </td>
       <td>
        <code>
         userdel 用户名
        </code>
       </td>
       <td>
        删除用户账户，保留家目录
       </td>
      </tr>
      <tr>
       <td>
        删除用户（删除家目录）
       </td>
       <td>
        <code>
         userdel -r 用户名
        </code>
       </td>
       <td>
        删除用户账户及家目录
       </td>
      </tr>
      <tr>
       <td>
        修改用户 UID
       </td>
       <td>
        <code>
         usermod -u [新 UID] 现有用户名
        </code>
       </td>
       <td>
        修改用户的 UID
       </td>
      </tr>
      <tr>
       <td>
        修改用户家目录
       </td>
       <td>
        <code>
         usermod -d [新家目录路径] 现有用户名
        </code>
       </td>
       <td>
        修改用户的家目录
       </td>
      </tr>
      <tr>
       <td>
        修改用户登录 shell
       </td>
       <td>
        <code>
         usermod -s [登录 shell] 现有用户名
        </code>
       </td>
       <td>
        修改用户登录时使用的 shell
       </td>
      </tr>
      <tr>
       <td>
        查询用户
       </td>
       <td>
        <code>
         id 用户名
        </code>
       </td>
       <td>
        查看用户详细信息
       </td>
      </tr>
     </tbody>
    </table>
    <ol start="3">
     <li>
      <strong>
       设置密码
      </strong>
      ：
      <ul>
       <li>
        <strong>
         交互式设置密码
        </strong>
        ：使用
        <code>
         passwd 用户名
        </code>
        命令，系统会提示输入新密码和确认密码。
       </li>
       <li>
        <strong>
         非交互式设置密码
        </strong>
        ：使用
        <code>
         echo 用户密码 | passwd --stdin 用户名
        </code>
        命令，可以在脚本等非交互式环境中设置密码。
       </li>
      </ul>
     </li>
    </ol>
    <p>
     密码设置方式对比表格：
    </p>
    <table>
     <thead>
      <tr>
       <th>
        设置方式
       </th>
       <th>
        命令格式
       </th>
       <th>
        适用场景
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        交互式设置密码
       </td>
       <td>
        <code>
         passwd 用户名
        </code>
       </td>
       <td>
        手动为用户设置密码，适用于交互式环境
       </td>
      </tr>
      <tr>
       <td>
        非交互式设置密码
       </td>
       <td>
        `echo [用户密码]
       </td>
       <td>
        passwd --stdin 用户名`
       </td>
      </tr>
     </tbody>
    </table>
    <h2>
     <a id="_111">
     </a>
     三、本地组账户
    </h2>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/64fe64a8ba9243af9ef47c539cdf7bbb.png"/>
    </p>
    <ol>
     <li>
      <strong>
       组的增删改查操作
      </strong>
      ：
      <ul>
       <li>
        <strong>
         创建组（增）
        </strong>
        ：从命令行中使用
        <code>
         groupadd 组的名称
        </code>
        命令来创建组。如果要指定组的 GID，则使用
        <code>
         groupadd -g 指定组的 GID 组名
        </code>
        。
       </li>
       <li>
        <strong>
         删除组（删）
        </strong>
        ：使用
        <code>
         groupdel 组名
        </code>
        命令删除组。需要注意的是，如果组是现有用户的主要组，则无法直接删除。若一定要删除主要组，需要先更改用户的主要组。
       </li>
       <li>
        <strong>
         修改现有的组（改）
        </strong>
        ：更改组的 GID 可以使用
        <code>
         groupmod -g 新的 GID 现有的组名
        </code>
        ；更改组的名字则用
        <code>
         groupmod -n 新的组名 现有组名
        </code>
        。
       </li>
       <li>
        <strong>
         更改用户的附加组
        </strong>
        ：第一种方式是使用
        <code>
         gpasswd -a 用户名 现有的组名
        </code>
        将用户添加到附加组；若要将某个用户从附加组中删除，可以使用相关命令（具体根据系统而定）。第二种方式是使用
        <code>
         usermod -a -G 组名 用户名
        </code>
        命令将用户添加到附加组。
       </li>
      </ul>
     </li>
    </ol>
    <p>
     组管理命令对比表格：
    </p>
    <table>
     <thead>
      <tr>
       <th>
        操作类型
       </th>
       <th>
        命令格式
       </th>
       <th>
        作用
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        创建组
       </td>
       <td>
        <code>
         groupadd 组名
        </code>
       </td>
       <td>
        创建新组
       </td>
      </tr>
      <tr>
       <td>
        创建组并指定 GID
       </td>
       <td>
        <code>
         groupadd -g [指定 GID] 组名
        </code>
       </td>
       <td>
        创建新组并指定 GID
       </td>
      </tr>
      <tr>
       <td>
        删除组
       </td>
       <td>
        <code>
         groupdel 组名
        </code>
       </td>
       <td>
        删除组（若不是现有用户主要组）
       </td>
      </tr>
      <tr>
       <td>
        修改组 GID
       </td>
       <td>
        <code>
         groupmod -g [新 GID] 现有组名
        </code>
       </td>
       <td>
        修改组的 GID
       </td>
      </tr>
      <tr>
       <td>
        修改组名
       </td>
       <td>
        <code>
         groupmod -n [新组名] 现有组名
        </code>
       </td>
       <td>
        修改组的名称
       </td>
      </tr>
      <tr>
       <td>
        添加用户到附加组（方式一）
       </td>
       <td>
        <code>
         gpasswd -a 用户名 现有组名
        </code>
       </td>
       <td>
        将用户添加到指定附加组
       </td>
      </tr>
      <tr>
       <td>
        添加用户到附加组（方式二）
       </td>
       <td>
        <code>
         usermod -a -G [组名] 用户名
        </code>
       </td>
       <td>
        将用户添加到指定附加组
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <p>
     以上就是这篇博客的全部内容，下一篇我们将继续探索 Redhat 的更多精彩内容。
    </p>
    <blockquote>
     <ul>
      <li>
       RHCSA 认证知识讲解专栏
       <a href="https://blog.csdn.net/2402_83322742/category_12901802.html?spm=1001.2014.3001.5482">
        https://blog.csdn.net/2402_83322742/category_12901802.html?spm=1001.2014.3001.5482
       </a>
       )
      </li>
     </ul>
    </blockquote>
    <table>
     <tbody>
      <tr>
       <td bgcolor="orange">
        非常感谢您的阅读，喜欢的话记得三连哦
       </td>
      </tr>
     </tbody>
    </table>
    <table>
    </table>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/f592ef81da18411f8d87335d19a9b647.gif#pic_center"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323430325f38333332323734322f:61727469636c652f64657461696c732f313436313634373237" class_="artid" style="display:none">
 </p>
</div>


