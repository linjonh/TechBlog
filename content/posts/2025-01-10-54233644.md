---
layout: post
title: "小程序制作回到顶部按钮"
date: 2025-01-10 21:26:45 +0800
description: "我们先看一下效果吧，直接上图。第一种情况,当页面在顶部的时候，回到顶部按钮是不会出现的。第二种情况,"
keywords: "小程序顶部返回按钮"
categories: ['小程序']
tags: ['微信小程序', '小程序回到顶部按钮制', '小程序回到顶部按钮', '小程序制作会到顶部', '回到顶部按钮制作']
artid: "54233644"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=54233644
    alt: "小程序制作回到顶部按钮"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=54233644
featuredImagePreview: https://bing.ee123.net/img/rand?artid=54233644
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     小程序制作回到顶部按钮
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     我们先看一下效果吧，直接上图。
    </p>
    <h5>
     <a id="_2">
     </a>
     第一种情况,当页面在顶部的时候，回到顶部按钮是不会出现的。
    </h5>
    <hr/>
    <p>
     <img alt="这里写图片描述" src="https://img-blog.csdn.net/20170108135655488?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjQxNDcwNTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast"/>
    </p>
    <h5>
     <a id="_7">
     </a>
     第二种情况,当页面在离开顶部一定距离的时候，回到顶部按钮出现
    </h5>
    <hr/>
    <p>
     <img alt="这里写图片描述" src="https://img-blog.csdn.net/20170108135714535?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjQxNDcwNTE=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast"/>
    </p>
    <p>
     接下就是对代码的分析了：
     <br/>
     在这里我们如果要使用滚动事件的话，小程序规定 最外层一定要使用scroll-view标签进行包裹，然后在设置scroll-y=“true” 意思是允许页面了纵向滚动，scroll-top是滚动到顶部做处理，一般绑定一个事件，bindscrolltolower同样的原理，滚动到底部做处理，bindscroll表示在滚动的时候出发这个事件。下面WXML内部的话，就是我们回到顶部的按钮设置，我们在点击它时绑定一个事件goTop，让他的滚动高度等于0，这样它就回到顶部了。
    </p>
    <h5>
     <a id="WXML_15">
     </a>
     <strong>
      WXML代码：
     </strong>
    </h5>
    <pre><code class="prism language-js">  <span class="token operator">&lt;</span>scroll<span class="token operator">-</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"bigWrap"</span> scroll<span class="token operator">-</span>y<span class="token operator">=</span><span class="token string">"true"</span> scroll<span class="token operator">-</span>top<span class="token operator">=</span><span class="token string">"{<!-- -->{scrollTop}}"</span>   bindscroll<span class="token operator">=</span><span class="token string">"scroll"</span> bindscrolltolower<span class="token operator">=</span> <span class="token string">"scrolltolower"</span> style<span class="token operator">=</span><span class="token string">"position: absolute; left: 0; top:0; bottom: 0; right: 0;"</span><span class="token operator">&gt;</span>
  
     <span class="token comment">//*********************</span>
	  <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com-widget-goTop"</span> bindtap<span class="token operator">=</span><span class="token string">"goTop"</span> wx<span class="token punctuation">:</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"{<!-- -->{floorstatus}}"</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"icon-gotop"</span><span class="token operator">&gt;</span>
	            顶部
	        <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
	  <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
	  <span class="token comment">//*********************</span>
	  
  <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
</code></pre>
    <hr/>
    <h5>
     <a id="JS_32">
     </a>
     <strong>
      JS代码：
     </strong>
    </h5>
    <pre><code class="prism language-js">    <span class="token comment">//回到顶部按钮</span>
    <span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    data<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
        scrollTop<span class="token punctuation">:</span> <span class="token number">0</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    goTop<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            scrollTop<span class="token punctuation">:</span><span class="token number">0</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    scroll<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
     <span class="token comment">// 容器滚动时将此时的滚动距离赋值给 this.data.scrollTop</span>
     <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>scrollTop <span class="token operator">&gt;</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
         <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            floorstatus<span class="token punctuation">:</span> <span class="token boolean">true</span>
         <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
         <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            floorstatus<span class="token punctuation">:</span> <span class="token boolean">false</span>
         <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <hr/>
    <h5>
     <a id="WXSS_59">
     </a>
     <strong>
      WXSS代码：
     </strong>
    </h5>
    <pre><code class="prism language-js"><span class="token punctuation">.</span>bigWrap<span class="token punctuation">{<!-- --></span>
  background<span class="token punctuation">:</span>#eee<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/*goTop回到顶部图标start*/</span>
<span class="token punctuation">.</span>com<span class="token operator">-</span>widget<span class="token operator">-</span>goTop <span class="token punctuation">{<!-- --></span>
    position<span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
    bottom<span class="token punctuation">:</span> <span class="token number">125</span>px<span class="token punctuation">;</span>
    right<span class="token punctuation">:</span> <span class="token number">5</span>px<span class="token punctuation">;</span>
    background<span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    border<span class="token operator">-</span>radius<span class="token punctuation">:</span> <span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">;</span>
    overflow<span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
    z<span class="token operator">-</span>index<span class="token punctuation">:</span> <span class="token number">500</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>com<span class="token operator">-</span>widget<span class="token operator">-</span>goTop <span class="token punctuation">.</span>icon<span class="token operator">-</span>gotop<span class="token punctuation">{<!-- --></span>
    background<span class="token operator">-</span>color<span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    display<span class="token punctuation">:</span> inline<span class="token operator">-</span>block<span class="token punctuation">;</span>
    width<span class="token punctuation">:</span> <span class="token number">50</span>px<span class="token punctuation">;</span>
    height<span class="token punctuation">:</span> <span class="token number">50</span>px<span class="token punctuation">;</span>
    line<span class="token operator">-</span>height<span class="token punctuation">:</span> <span class="token number">68</span>px<span class="token punctuation">;</span>
    font<span class="token operator">-</span>size<span class="token punctuation">:</span> <span class="token number">12</span>px<span class="token punctuation">;</span>
    color<span class="token punctuation">:</span> #ffffff<span class="token punctuation">;</span>
    text<span class="token operator">-</span>align<span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    border<span class="token operator">-</span>radius<span class="token punctuation">:</span> <span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">;</span>
    background<span class="token punctuation">:</span> <span class="token function">url</span><span class="token punctuation">(</span>http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>m<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>vd<span class="token punctuation">.</span>cn<span class="token operator">/</span><span class="token keyword">static</span><span class="token operator">/</span>xcx<span class="token operator">/</span>v1<span class="token operator">/</span>goo<span class="token operator">/</span>w_2<span class="token operator">-</span><span class="token number">3451</span>cc437e<span class="token punctuation">.</span>png<span class="token punctuation">)</span> no<span class="token operator">-</span>repeat center <span class="token operator">-</span><span class="token number">1110</span>px<span class="token punctuation">;</span>
    <span class="token operator">-</span>webkit<span class="token operator">-</span>background<span class="token operator">-</span>size<span class="token punctuation">:</span> <span class="token number">50</span>px auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f71715f3234313437303531:2f61727469636c652f64657461696c732f3534323333363434" class_="artid" style="display:none">
 </p>
</div>


