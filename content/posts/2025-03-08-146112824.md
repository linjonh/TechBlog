---
layout: post
title: "加餐-Spring-Boot-项目转-Solon-项目工具"
date: 2025-03-08 11:03:27 +0800
description: "公司里面原来的项目都是 Spring Boot 和 Spring Cloud 框架的，自己手动迁移完一个项目后，发现迁移的过程有些还是能代码化的东西，于是整理了 SpringConverter 这个工具。这个工具不是说你转换完就能无痛的启动，你还是需要手动处理一些错误。虽然工具内置了一部分的 Spring 与 Solon 的对照关系，但你仍然可能需要修改这个工具的代码，配置遗漏的对照关系，以便能将自己的项目进行迁移。在手动替换的过程中，会首先创建新项目，然后把旧代码复制到新项目中，之后对相关的包和类进行替换"
keywords: "spring boot solon"
categories: ['实用教程', 'Solon', 'Solon']
tags: ['Spring', 'Solon', 'Java', 'Boot']
artid: "146112824"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146112824
    alt: "加餐-Spring-Boot-项目转-Solon-项目工具"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146112824
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146112824
cover: https://bing.ee123.net/img/rand?artid=146112824
image: https://bing.ee123.net/img/rand?artid=146112824
img: https://bing.ee123.net/img/rand?artid=146112824
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     加餐 —— Spring Boot 项目转 Solon 项目工具
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="_0">
     </a>
     说明
    </h3>
    <p>
     公司里面原来的项目都是 Spring Boot 和 Spring Cloud 框架的，自己手动迁移完一个项目后，发现迁移的过程有些还是能代码化的东西，于是整理了 SpringConverter 这个工具。
    </p>
    <p>
     这个工具不是说你转换完就能无痛的启动，你还是需要手动处理一些错误。虽然工具内置了一部分的 Spring 与 Solon 的对照关系，但你仍然可能需要修改这个工具的代码，配置遗漏的对照关系，以便能将自己的项目进行迁移。
    </p>
    <h4>
     <a id="_6">
     </a>
     思路
    </h4>
    <p>
     在手动替换的过程中，会首先创建新项目，然后把旧代码复制到新项目中，之后对相关的包和类进行替换，然后逐步修复其中的错误。
    </p>
    <p>
     这个工具做的事情就是从实现了复制代码和替换包名、类名的过程。这个过程当中，我发现通常是一个包对另一个包，一个类对一个类，当然也会有多对一的情况，和无法对应的情况，于是注意的工作就是配置类名、包名的映射关系，然后就可以通过代码实现自动替换，从而实现减少工作量的目的。
    </p>
    <h3>
     <a id="_12">
     </a>
     技巧
    </h3>
    <ul>
     <li>
      自己手动转换 pom 或者 gradle 文件，调整好依赖，不要交给转换工具。
     </li>
     <li>
      替换原项目地址，原项目包名，新项目地址，新项目包名。
     </li>
     <li>
      转化工具放置在另一个项目（或者模块中），这样方便多次转换新项目（边调整映射配置边替换）。必要时也可以方便的整个删除新项目。
     </li>
     <li>
      如果类名从短变长（通常是后缀相同），需要先替换类名，再通过旧包名+新类名的方式，替换新包名。
     </li>
     <li>
      如果无法对应的包，可以直接替换为空串或者回车（\n）
     </li>
     <li>
      如果是类上无法使用注解，可以增加回车(\n)，替换从空串或者回车（\n）。
     </li>
     <li>
      注意字符串匹配是通过正则匹配的，替换的原字符串中包含中括弧（()），大括号（{}）,星号（*）等时需要进行转移。
     </li>
     <li>
      根据不同的类库进行替换，方便维护。必要时可以自己修改成配置文件从配置文件中读取对照关系。
     </li>
    </ul>
    <h3>
     <a id="_23">
     </a>
     项目地址
    </h3>
    <p>
     https://gitee.com/CrazyAirhead/porpoise-demo/tree/ray-admin/
    </p>
    <p>
     ray-tools/ray-spring-converter
    </p>
    <h3>
     <a id="_29">
     </a>
     代码
    </h3>
    <p>
     代码本身无特别之处，就是根据配置的信息不断地替换源代码。
    </p>
    <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>goldsyear<span class="token punctuation">.</span>ray<span class="token punctuation">.</span>converter</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span><span class="token punctuation">.</span><span class="token static">separator</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>jfinal<span class="token punctuation">.</span>kit<span class="token punctuation">.</span></span><span class="token class-name">Kv</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>charset<span class="token punctuation">.</span></span><span class="token class-name">StandardCharsets</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token class-name">Matcher</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token class-name">Collectors</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>dromara<span class="token punctuation">.</span>hutool<span class="token punctuation">.</span>core<span class="token punctuation">.</span>collection<span class="token punctuation">.</span>set<span class="token punctuation">.</span></span><span class="token class-name">SetUtil</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>dromara<span class="token punctuation">.</span>hutool<span class="token punctuation">.</span>core<span class="token punctuation">.</span>io<span class="token punctuation">.</span>file<span class="token punctuation">.</span></span><span class="token class-name">FileTypeUtil</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>dromara<span class="token punctuation">.</span>hutool<span class="token punctuation">.</span>core<span class="token punctuation">.</span>io<span class="token punctuation">.</span>file<span class="token punctuation">.</span></span><span class="token class-name">FileUtil</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * SpringBoot 项目迁移 Solon 项目工具，并不能迁移完就直接启动，只是减少迁移工作量
 *
 * @author Airhead
 */</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RayConverterApp</span> <span class="token punctuation">{<!-- --></span>

  <span class="token comment">/** 白名单文件，不进行重写，避免出问题 */</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token constant">WHITE_FILE_TYPES</span> <span class="token operator">=</span>
      <span class="token class-name">SetUtil</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">"gif"</span><span class="token punctuation">,</span> <span class="token string">"jpg"</span><span class="token punctuation">,</span> <span class="token string">"svg"</span><span class="token punctuation">,</span> <span class="token string">"png"</span><span class="token punctuation">,</span> <span class="token string">"eot"</span><span class="token punctuation">,</span> <span class="token string">"woff2"</span><span class="token punctuation">,</span> <span class="token string">"ttf"</span><span class="token punctuation">,</span> <span class="token string">"woff"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">long</span> start <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 修改路径</span>
    <span class="token class-name">String</span> oldProjectDir <span class="token operator">=</span> <span class="token string">"旧项目路"</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> oldPackageName <span class="token operator">=</span> <span class="token string">"旧包名"</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> newProjectDir <span class="token operator">=</span> <span class="token string">"新项目路"</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> newPackageName <span class="token operator">=</span> <span class="token string">"新包名"</span><span class="token punctuation">;</span>

    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"原项目目录：{}, 原基础包名：{}"</span><span class="token punctuation">,</span> oldProjectDir<span class="token punctuation">,</span> oldPackageName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"新项目目录：{}, 新基础包名：{}"</span><span class="token punctuation">,</span> newProjectDir<span class="token punctuation">,</span> newPackageName<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ========== 配置，需要你手动修改 ==========</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Kv</span><span class="token punctuation">&gt;</span></span> mappingList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> oldPackageName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> newPackageName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Spring 包调整</span>
    <span class="token function">mappingSpringBoot</span><span class="token punctuation">(</span>mappingList<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Hutool 包调整</span>
    <span class="token function">mappingHutool</span><span class="token punctuation">(</span>mappingList<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// FastJson</span>
    <span class="token function">mappingFastJson</span><span class="token punctuation">(</span>mappingList<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Mybatis 包调整</span>
    <span class="token function">mappingMybatis</span><span class="token punctuation">(</span>mappingList<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// TODO: 根据自己依赖的项目模块进行替换</span>

    <span class="token comment">// 业务包调整</span>
    <span class="token function">mappingBusiness</span><span class="token punctuation">(</span>mappingList<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 获得需要复制的文件</span>
    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"开始获得需要重写的文件，预计需要 10-20 秒"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">File</span><span class="token punctuation">&gt;</span></span> files <span class="token operator">=</span> <span class="token function">listFiles</span><span class="token punctuation">(</span>oldProjectDir<span class="token punctuation">)</span><span class="token punctuation">;</span>
    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"需要重写的文件数量：{}，预计需要 15-30 秒"</span><span class="token punctuation">,</span> files<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 写入文件</span>
    files<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>
        file <span class="token operator">-&gt;</span> <span class="token punctuation">{<!-- --></span>
          <span class="token comment">// 如果是白名单的文件类型，不进行重写，直接拷贝</span>
          <span class="token class-name">String</span> fileType <span class="token operator">=</span> <span class="token class-name">FileTypeUtil</span><span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">WHITE_FILE_TYPES</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>fileType<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">copyFile</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> oldProjectDir<span class="token punctuation">,</span> oldPackageName<span class="token punctuation">,</span> newProjectDir<span class="token punctuation">,</span> newPackageName<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token comment">// 如果非白名单的文件类型，重写内容，在生成文件</span>
          <span class="token class-name">String</span> content <span class="token operator">=</span> <span class="token function">replaceFileContent</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> mappingList<span class="token punctuation">)</span><span class="token punctuation">;</span>

          <span class="token function">writeFile</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> content<span class="token punctuation">,</span> oldProjectDir<span class="token punctuation">,</span> oldPackageName<span class="token punctuation">,</span> newProjectDir<span class="token punctuation">,</span> newPackageName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"重写完成，共耗时：{} 秒"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">mappingBusiness</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Kv</span><span class="token punctuation">&gt;</span></span> mappingList<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// TODO</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">mappingFastJson</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Kv</span><span class="token punctuation">&gt;</span></span> mappingList<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// TODO</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">mappingMybatis</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Kv</span><span class="token punctuation">&gt;</span></span> mappingList<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// Page</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"com.baomidou.mybatisplus.extension.plugins.pagination.Page"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"com.baomidou.mybatisplus.solon.plugins.pagination.Page"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Model</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"com.baomidou.mybatisplus.extension.activerecord.Model"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"com.baomidou.mybatisplus.solon.activerecord.Model"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// TenantLineHandler</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"com.baomidou.mybatisplus.extension.plugins.handler.TenantLineHandler"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"com.baomidou.mybatisplus.solon.plugins.handler.TenantLineHandler"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// MybatisPlusInterceptor</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"com.baomidou.mybatisplus.solon.plugins.MybatisPlusInterceptor"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// PaginationInnerInterceptor</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"com.baomidou.mybatisplus.extension.plugins.inner.PaginationInnerInterceptor"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"com.baomidou.mybatisplus.solon.plugins.inner.PaginationInnerInterceptor"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// TenantLineInnerInterceptor</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"com.baomidou.mybatisplus.extension.plugins.inner.TenantLineInnerInterceptor"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"com.baomidou.mybatisplus.solon.plugins.inner.TenantLineInnerInterceptor"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// FastjsonTypeHandler</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"com.baomidou.mybatisplus.extension.handlers.FastjsonTypeHandler"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"com.baomidou.mybatisplus.solon.handlers.FastjsonTypeHandler"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">mappingHutool</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Kv</span><span class="token punctuation">&gt;</span></span> mappingList<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// StrUtil;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"cn.hutool.core.util.StrUtil"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.dromara.hutool.core.text.StrUtil"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Convert;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"cn.hutool.core.convert.Convert"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.dromara.hutool.core.convert.ConvertUtil"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"Convert\\."</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"ConvertUtil."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// IdUtil;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"cn.hutool.core.util.IdUtil"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.dromara.hutool.core.data.id.IdUtil"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// DateUtil;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"cn.hutool.core.date.DateUtil"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.dromara.hutool.core.date.DateUtil"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ReUtil</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"cn.hutool.core.util.ReUtil"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.dromara.hutool.core.regex.ReUtil"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Spring CollectionUtils;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"org.springframework.util.CollectionUtils"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.dromara.hutool.core.collection.CollUtil"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"CollectionUtils"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"CollUtil"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// CollectionUtil;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"cn.hutool.core.collection.CollectionUtil"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.dromara.hutool.core.collection.CollUtil"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"CollectionUtil"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"CollUtil"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// LocalDateTimeUtil</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"cn.hutool.core.date.LocalDateTimeUtil"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.dromara.hutool.core.date.TimeUtil"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"LocalDateTimeUtil"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"TimeUtil"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// FileUtil</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"cn.hutool.core.io.FileUtil"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.dromara.hutool.core.io.file.FileUtil"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// IoUtil</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"cn.hutool.core.io.IoUtil"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.dromara.hutool.core.io.IoUtil"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">mappingSpringBoot</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Kv</span><span class="token punctuation">&gt;</span></span> mappingList<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// annotation</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"org.springframework.web.bind.annotation\\.\\*"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.noear.solon.annotation.*"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Component</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"org.springframework.stereotype.Component"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.noear.solon.annotation.Component"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Service</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"org.springframework.stereotype.Service"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.noear.solon.annotation.Component"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"@Service"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"@Component"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Autowired</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"org.springframework.beans.factory.annotation.Autowired"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.noear.solon.annotation.Inject"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"@Autowired"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"@Inject"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Controller</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"org.springframework.web.bind.annotation.RestController"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.noear.solon.annotation.Controller"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"@RestController"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"@Controller"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// RequestMapping</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"org.springframework.web.bind.annotation.RequestMapping"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.noear.solon.annotation.Mapping"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"@RequestMapping"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"@Mapping"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// MediaType;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"import org.springframework.http.MediaType;"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">", produces = MediaType.APPLICATION_JSON_UTF8_VALUE"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"import org.springframework.core.env.Environment;"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// PostMapping</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"org.springframework.web.bind.annotation.PostMapping"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.noear.solon.annotation.Post"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"@PostMapping"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"@Post\n@Mapping"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// GetMapping</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"org.springframework.web.bind.annotation.GetMapping"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.noear.solon.annotation.Get"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"@GetMapping"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"@Post\n@Mapping"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// PutMapping</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"org.springframework.web.bind.annotation.PutMapping"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.noear.solon.annotation.Put"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"@PutMapping"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"@Put\n@Mapping"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// DeleteMapping</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"org.springframework.web.bind.annotation.DeleteMapping"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.noear.solon.annotation.Delete"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"@DeleteMapping"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"@Delete\n@Mapping"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// @RequestBody</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"org.springframework.web.bind.annotation.RequestBody"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.noear.solon.annotation.Body"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"@RequestBody"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"@Body"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// @RequestParam</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"org.springframework.web.bind.annotation.RequestParam"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.noear.solon.annotation.Param"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"@RequestParam"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"@Param"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//    RequestPart</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"org.springframework.web.bind.annotation.RequestPart"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.noear.solon.annotation.Param"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"@RequestPart"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"@Param"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Repository;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"import org.springframework.stereotype.Repository;"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"@Repository"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Validated</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"org.springframework.validation.annotation.Validated"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.noear.solon.validation.annotation.Validated"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"@Validated\n"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Configuration;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"org.springframework.context.annotation.Configuration"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.noear.solon.annotation.Configuration"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// RefreshScope;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"import org.springframework.cloud.context.config.annotation.RefreshScope;"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"@RefreshScope\n"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// EnableAsync;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"import org.springframework.scheduling.annotation.EnableAsync;"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"@EnableAsync"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Bean;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"org.springframework.context.annotation.Bean"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.noear.solon.annotation.Bean"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//  ConfigurationProperties;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"org.springframework.boot.context.properties.ConfigurationProperties"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.noear.solon.annotation.Inject"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"@ConfigurationProperties"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"@Inject"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// CommandLineRunner</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"import org.springframework.boot.CommandLineRunner;"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>
                <span class="token string">"new"</span><span class="token punctuation">,</span>
                <span class="token string">"import org.noear.solon.core.event.AppLoadEndEvent;\nimport org.noear.solon.core.event.EventListener;"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"CommandLineRunner"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"EventListener&lt;AppLoadEndEvent&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Resource;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"javax.annotation.Resource"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.noear.solon.annotation.Inject"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"@Resource\\(name"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"@Inject\\(value"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Lazy;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"import org.springframework.context.annotation.Lazy;\n"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"@Lazy"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Valid</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"javax.validation.Valid"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.noear.solon.validation.annotation.Valid"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"javax.validation.constraints.NotEmpty"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.noear.solon.validation.annotation.NotEmpty"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"javax.validation.constraints.NotNull"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.noear.solon.validation.annotation.NotNull"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// TODO: 补充更多</span>

    <span class="token comment">// HttpServletResponse;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"javax.servlet.http.HttpServletResponse"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.noear.solon.core.handle.Context"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"HttpServletResponse"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"Context"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// MultipartFile;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"org.springframework.web.multipart.MultipartFile"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"org.noear.solon.core.handle.UploadedFile"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">"MultipartFile"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">"UploadedFile"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//    consumes = {MediaType.MULTIPART_FORM_DATA_VALUE}</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">",\n\\s+consumes = \\{MediaType.MULTIPART_FORM_DATA_VALUE\\}"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mappingList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token class-name">Kv</span><span class="token punctuation">.</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">,</span> <span class="token string">", consumes = \\{MediaType.MULTIPART_FORM_DATA_VALUE\\}"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">File</span><span class="token punctuation">&gt;</span></span> <span class="token function">listFiles</span><span class="token punctuation">(</span><span class="token class-name">String</span> projectBaseDir<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">File</span><span class="token punctuation">&gt;</span></span> files <span class="token operator">=</span> <span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">loopFiles</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>projectBaseDir<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 移除 IDEA、Git 自身的文件、Node 编译出来的文件</span>
    files <span class="token operator">=</span>
        files<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>
                file <span class="token operator">-&gt;</span>
                    <span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>separator <span class="token operator">+</span> <span class="token string">"target"</span> <span class="token operator">+</span> separator<span class="token punctuation">)</span>
                        <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>separator <span class="token operator">+</span> <span class="token string">"node_modules"</span> <span class="token operator">+</span> separator<span class="token punctuation">)</span>
                        <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>separator <span class="token operator">+</span> <span class="token string">".idea"</span> <span class="token operator">+</span> separator<span class="token punctuation">)</span>
                        <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>separator <span class="token operator">+</span> <span class="token string">".git"</span> <span class="token operator">+</span> separator<span class="token punctuation">)</span>
                        <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>separator <span class="token operator">+</span> <span class="token string">"dist"</span> <span class="token operator">+</span> separator<span class="token punctuation">)</span>
                        <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>separator <span class="token operator">+</span> <span class="token string">"build"</span> <span class="token operator">+</span> separator<span class="token punctuation">)</span>
                        <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>separator <span class="token operator">+</span> <span class="token string">"out"</span> <span class="token operator">+</span> separator<span class="token punctuation">)</span>
                        <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">".iml"</span><span class="token punctuation">)</span>
                        <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">".html.gz"</span><span class="token punctuation">)</span>
                        <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"build.gradle"</span><span class="token punctuation">)</span>
                        <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"pom.xml"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> files<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">replaceFileContent</span><span class="token punctuation">(</span><span class="token class-name">File</span> file<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Kv</span><span class="token punctuation">&gt;</span></span> mappingList<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">String</span> content <span class="token operator">=</span> <span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">readString</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> <span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">UTF_8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 如果是白名单的文件类型，不进行重写</span>
    <span class="token class-name">String</span> fileType <span class="token operator">=</span> <span class="token class-name">FileTypeUtil</span><span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">WHITE_FILE_TYPES</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>fileType<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> content<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Kv</span> kv <span class="token operator">:</span> mappingList<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      content <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span>kv<span class="token punctuation">.</span><span class="token function">getStr</span><span class="token punctuation">(</span><span class="token string">"old"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> kv<span class="token punctuation">.</span><span class="token function">getStr</span><span class="token punctuation">(</span><span class="token string">"new"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> content<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">writeFile</span><span class="token punctuation">(</span>
      <span class="token class-name">File</span> file<span class="token punctuation">,</span>
      <span class="token class-name">String</span> fileContent<span class="token punctuation">,</span>
      <span class="token class-name">String</span> oldProjectDir<span class="token punctuation">,</span>
      <span class="token class-name">String</span> oldPageName<span class="token punctuation">,</span>
      <span class="token class-name">String</span> newProjectDir<span class="token punctuation">,</span>
      <span class="token class-name">String</span> newPackageName<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">String</span> newPath <span class="token operator">=</span>
        <span class="token function">buildNewFilePath</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> oldProjectDir<span class="token punctuation">,</span> oldPageName<span class="token punctuation">,</span> newProjectDir<span class="token punctuation">,</span> newPackageName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">writeUtf8String</span><span class="token punctuation">(</span>fileContent<span class="token punctuation">,</span> newPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">copyFile</span><span class="token punctuation">(</span>
      <span class="token class-name">File</span> file<span class="token punctuation">,</span>
      <span class="token class-name">String</span> oldProjectDir<span class="token punctuation">,</span>
      <span class="token class-name">String</span> oldPackageName<span class="token punctuation">,</span>
      <span class="token class-name">String</span> newProjectDir<span class="token punctuation">,</span>
      <span class="token class-name">String</span> newPackageName<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">String</span> newPath <span class="token operator">=</span>
        <span class="token function">buildNewFilePath</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> oldProjectDir<span class="token punctuation">,</span> oldPackageName<span class="token punctuation">,</span> newProjectDir<span class="token punctuation">,</span> newPackageName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>newPath<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">buildNewFilePath</span><span class="token punctuation">(</span>
      <span class="token class-name">File</span> file<span class="token punctuation">,</span>
      <span class="token class-name">String</span> oldProjectDir<span class="token punctuation">,</span>
      <span class="token class-name">String</span> oldPackageName<span class="token punctuation">,</span>
      <span class="token class-name">String</span> newProjectDir<span class="token punctuation">,</span>
      <span class="token class-name">String</span> newPackageName<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> file<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>oldProjectDir<span class="token punctuation">,</span> newProjectDir<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>
            oldPackageName<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">"\\."</span><span class="token punctuation">,</span> <span class="token class-name">Matcher</span><span class="token punctuation">.</span><span class="token function">quoteReplacement</span><span class="token punctuation">(</span>separator<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            newPackageName<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">"\\."</span><span class="token punctuation">,</span> <span class="token class-name">Matcher</span><span class="token punctuation">.</span><span class="token function">quoteReplacement</span><span class="token punctuation">(</span>separator<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="_462">
     </a>
     注意
    </h3>
    <p>
     再次提醒这个工具不是无缝迁移的，也就是说不能说迁移完就可以直接启动的，这个工具只是减少工作量。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="6874747073:3a2f2f626c6f672e6373646e2e6e65742f656e646572676f2f:61727469636c652f64657461696c732f313436313132383234" class_="artid" style="display:none">
 </p>
</div>


