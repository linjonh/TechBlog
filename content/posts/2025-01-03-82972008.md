---
arturl_encode: "68747470733a2f2f:626c6f672e6373646e2e6e65742f6d616f5f6875695f666569:2f61727469636c652f64657461696c732f3832393732303038"
layout: post
title: "计算机网络网络硬件和网络设备及其工作原理"
date: 2025-01-03 16:23:57 +08:00
description: "计算机网络——网络硬件和网络设备及其工作原理常见的网络硬件有网卡、中继站、集线器、桥连接器、交换机、"
keywords: "计算机网络硬件工作原理"
categories: ['计算机网络技术']
tags: ['路由器', '交换机']
artid: "82972008"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=82972008
    alt: "计算机网络网络硬件和网络设备及其工作原理"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=82972008
featuredImagePreview: https://bing.ee123.net/img/rand?artid=82972008
---

# 计算机网络——网络硬件和网络设备及其工作原理

### 计算机网络——网络硬件和网络设备及其工作原理

常见的网络硬件有
**网卡、中继站、集线器、桥连接器、交换机、路由器。**

## 一. 网卡：

网卡是工作在
**链路层**
的网络组件，是局域网中连接计算机和传输介质的接口，不仅能实现与局域网传输介质之间的物理连接和电信号匹配，还涉及帧的发送与接收、帧的封装与拆封、介质访问控制、数据的编码与解码以及数据缓存的功能等。

### 简介

计算机与外界局域网的连接是通过主机箱内插入一块网络接口板（或者是在笔记本电脑中插入一块PCMCIA卡）。网络接口板又称为通信适配器或网络适配器（network adapter）或网络接口卡NIC（Network Interface Card），但是更多的人愿意使用更为简单的名称“网卡”。

### 功能详解

网卡上面装有处理器和存储器（包括RAM和ROM）。
**网卡和局域网之间的通信是通过电缆或双绞线以串行传输方式进行的**
。而
**网卡和计算机之间的通信则是通过计算机主板上的I/O总线以并行传输方式进行**
。因此，网卡的一个重要功能就是要进行串行/并行转换。由于网络上的数据率和计算机总线上的数据率并不相同，因此在网卡中必须装有对数据进行缓存的存储芯片。

在安装网卡时必须将管理网卡的设备驱动程序安装在计算机的操作系统中。这个驱动程序以后就会告诉网卡，应当从存储器的什么位置上将局域网传送过来的数据块存储下来。网卡还要能够实现以太网协议。

网卡并不是独立的自治单元，因为网卡本身不带电源而是必须使用所插入的计算机的电源，并受该计算机的控制。因此网卡可看成为一个半自治的单元。当网卡收到一个有差错的帧时，它就将这个帧丢弃而不必通知它所插入的计算机。当网卡收到一个正确的帧时，它就使用中断来通知该计算机并交付给协议栈中的网络层。当计算机要发送一个IP数据包时，它就由协议栈向下交给网卡组装成帧后发送到局域网。

随着集成度的不断提高，网卡上的芯片的个数不断的减少，虽然各个厂家生产的网卡种类繁多，但其功能大同小异。

### 主要功能:

**1. 数据的封装与解封:**
发送时将上一层交下来的数据加上首部和尾部，成为以太网的帧。接收时将以太网的帧剥去首部和尾部，然后送交上一层。
  
**2. 链路管理:**
主要是CSMA/CD（Carrier Sense Multiple Access with Collision Detection ，带冲突检测的载波监听多路访问）协议的实现。
  
**3. 编码与译码 :**
即曼彻斯特编码与译码。

## 二. 中继站：

中继器又叫“放大器”，起放大信号的左右，解决线路太长，而引起的信号衰减问题。缺点：放大通信信号的同时会放大噪声。它处于OSI七层模型的物理层设备，无法读懂和修改OSI的上层数据，无法完成更多的选路和优化转发的特性，只有放大信号和延长线路的作用，端口少，不是一种密集型端口的网络设备，现在已被淘汰
  
![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/abd7a6cbab6325f5d89caa4376f007e1.png)

## 三. 集线器：（hub）

集线器又叫Hub，是一种用于“星形”网络组织的中心设备。它具备中继器的特点，端口比中继器更密集，因此又把集线器叫做端口更多的中继器。
**集线器是一种半双工（同一时间只能接收或发送数据，不能同时既接受又发送数据）、冲突型设备**
， 共享带宽，放大信号的同时放大噪声，不隔离广播，不能成环，不安全，一般不建议使用。集线器工作原理如下所示。A端口给D端口发送数据时，从集线器1号端口进入的数据，会发给2,3,4三个端口，然后2,3端口发现不是发给自己的数据，所以丢弃，只有4端口的D计算机发现目标地址是自己的地址，所以就接受，发送数据以广播的形式，因此这样是一种不安全的通讯设备，容易被别人监听到数据报。同时，当A发数据的时候，B是不能发送数据的，就会发生冲突。
  
![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/a4e554c697df36276c7da5dc79d26149.png)

## 四. 桥连接器：

网桥（bridge）处于OSI模型的数据链路层（链路层设备不隔离广播），作用是减少集线器因共享和半双工特性引发的网络冲突问题。网桥的性能比集线器更好，因为网桥能够基于MAC地址进行数据链路层选路，能够基于学习构造MAC地址表，对MAC地址进行控制与过滤，所以网桥可以基于MAC地址进行选路，比集线器性能更好，将冲突域划分的更小，转发行能比集线器更高。但同样是不能隔离广播，所以不能让网桥形成闭合的环路。
  
网桥MAC地址自学习：在网桥的接口上记录数据报文的源MAC地址，来完成整个MAC地址表的构建。
  
![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/5ee7f5f0a6004eb8c7a7131a56377dac.png)

开始，网桥的MAC地址表是空的，第一次发生数据的时候不知道目的地址在哪，同样会发广播，但此时的广播不是发送数据的广播，而是一个ARP（地址解析协议）的请求广播，这个广播不带要发送的数据（即使被监听到也是不能得到主机间通信的数据），是一个轻量的广播，可以忽略不计，这次广播的目的在于建立MAC地址表，记录源MAC地址对应的网桥端口。例如这样一次广播过程：A要给D发送数据，A先ARP广播D，A作为源主机，网桥记录了A 的MAC地址，B和C收到后不做反应，然后D收到广播后单播方式回应ARP，D回应的时候对于网桥就是源主机，就会记录D主机的MAC地址，这样就完成了一次记录。请求当MAC表构建后，网桥不在进行广播，而是利用MAC表进行快速选路并转发，所以就算网桥上装有数据分析仪也不能监听到数据，监听到的广播也是不带主机间通信的数据，而集线器每次都以广播的形式发送数据（直接将数据广播出去），所以不安全。（网桥广播和集线器广播有很大区别）
  
网桥不能成环的原因：①网桥不隔离广播，所以广播不能在网桥环路中发散，从而形成广播风暴，将整个网络的正常通信资源占据。②由于网桥不能隔离广播，所以会导致MAC地址自学习错误。
  
![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/2ced9117a178b9748e476c1615d46cef.png)
  
对②进行解析：当主机B给主机A发送数据时，网桥B的2端口会记录主机B的MAC地址，而在网桥环路中，网桥不隔离广播，对于ARP的请求广播，网桥B又相当于一根线，所以广播会穿过网桥B到的网桥A，即主机B发送的数据会直接到网桥A的1端口，因此网桥A的1端口也会记录主机B的MAC地址，但是网桥A的1端口连接主机A，应该记录主机A的MAC地址，所以就产生了错误。但实际情况中，网桥是物理成环的，以提供冗余的路径，这又违背了网桥不能成环的原则，所以后面会讲到一种生成树协议STP来解决这个问题。

## 五. 交换机：

交换机（Switch）意为“开关”是一种用于电（光）信号转发的网络设备。它可以为接入交换机的任意两个网络节点提供独享的电信号通路。最常见的交换机是以太网交换机。其他常见的还有电话语音交换机、光纤交换机等。

### 定义

交换（switching）是按照通信两端传输信息的需要，用人工或设备自动完成的方法，把要传输的信息送到符合要求的相应路由上的技术的统称。交换机根据工作位置的不同，可以分为广域网交换机和局域网交换机。广域的交换机（switch）就是一种在通信系统中完成信息交换功能的设备，它应用在数据链路层。交换机有多个端口，每个端口都具有桥接功能，可以连接一个局域网或一台高性能服务器或工作站。实际上，交换机有时被称为多端口网桥。

在计算机网络系统中，交换概念的提出改进了共享工作模式。而HUB集线器就是一种物理层共享设备，HUB本身不能识别MAC 地址和IP地址，当同一局域网内的A主机给B主机传输数据时，数据包在以HUB为架构的网络上是以广播方式传输的，由每一台终端通过验证数据报头的MAC地址来确定是否接收。也就是说，在这种工作方式下，同一时刻网络上只能传输一组数据帧的通讯，如果发生碰撞还得重试。这种方式就是共享网络带宽。通俗的说，普通交换机是不带管理功能的，一根进线，其他接口接到电脑上就可以了。

在今天，交换机以更多的却是以应用需求为导向，在选择方案和产品时用户还非常关心如何有效保证投资收益。在用户提出需求后，由系统集成商或厂商来为其需求来提供相应的服务，然后再去选择相应的技术。这点是在网络方面表现尤其明显，广大用户，不论是重点行业用户还是一般的企业用户，在应用IT技术方面更加明智，也更加稳健。此外，宽带的广泛应用、大容量视频文件的不断涌现等等都对网络传输的中枢–交换机的性能提出了新的要求。

### 交换机原理

原理
  
思科模拟器中的交换机
  
思科模拟器中的交换机
  
交换机工作于OSI参考模型的第二层，即数据链路层。交换机内部的CPU会在每个端口成功连接时，通过将MAC地址和端口对应，形成一张MAC表。在今后的通讯中，发往该MAC地址的数据包将仅送往其对应的端口，而不是所有的端口。因此，交换机可用于划分数据链路层广播，即冲突域；但它不能划分网络层广播，即广播域。

交换机拥有一条很高带宽的背部总线和内部交换矩阵。交换机的所有的端口都挂接在这条背部总线上，控制电路收到数据包以后，处理端口会查找内存中的地址对照表以确定目的MAC（网卡的硬件地址）的NIC（网卡）挂接在哪个端口上，通过内部交换矩阵迅速将数据包传送到目的端口，目的MAC若不存在，广播到所有的端口，接收端口回应后交换机会“学习”新的MAC地址，并把它添加入内部MAC地址表中。使用交换机也可以把网络“分段”，通过对照IP地址表，交换机只允许必要的网络流量通过交换机。通过交换机的过滤和转发，可以有效的减少冲突域，但它不能划分网络层广播，即广播域。

#### 端口

交换机在同一时刻可进行多个端口对之间的数据传输。每一端口都可视为独立的物理网段（注：非IP网段），连接在其上的网络设备独自享有全部的带宽，无须同其他设备竞争使用。当节点A向节点D发送数据时，节点B可同时向节点C发送数据，而且这两个传输都享有网络的全部带宽，都有着自己的虚拟连接。假使这里使用的是10Mbps的以太网交换机，那么该交换机这时的总流通量就等于2×10Mbps=20Mbps，而使用10Mbps的共享式HUB时，一个HUB的总流通量也不会超出10Mbps。总之，交换机是一种基于MAC地址识别，能完成封装转发数据帧功能的网络设备。交换机可以“学习”MAC地址，并把其存放在内部地址表中，通过在数据帧的始发者和目标接收者之间建立临时的交换路径，使数据帧直接由源地址到达目的地址。

#### 传输

**交换机的传输模式有全双工，半双工，全双工/半双工自适应。**

**交换机的全双工是指交换机在发送数据的同时也能够接收数据，两者同步进行，这好像我们平时打电话一样，说话的同时也能够听到对方的声音。交换机都支持全双工**
。全双工的好处在于迟延小，速度快。

提到全双工，就不能不提与之密切对应的另一个概念，那就是“半双工”，所谓半双工就是指一个时间段内只有一个动作发生，举个简单例子，一条窄窄的马路，同时只能有一辆车通过，当有两辆车对开，这种情况下就只能一辆先过，等到头儿后另一辆再开，这个例子就形象的说明了半双工的原理。早期的对讲机、以及早期集线器等设备都是实行半双工的产品。随着技术的不断进步，半双工会逐渐退出历史舞台。

## 六. 路由器：

![在这里插入图片描述](https://gss2.bdstatic.com/-fo3dSag_xI4khGkpoWK1HF6hhy/baike/w=268;g=0/sign=88293a2d8a94a4c20a23e02d36cf7ce8/5ab5c9ea15ce36d38b98581237f33a87e950b170.jpg)

路由器（Router），是连接因特网中各局域网、广域网的设备，它会根据信道的情况自动选择和设定路由，以最佳路径，按前后顺序发送信号。 路由器是互联网络的枢纽，“交通警察”。目前路由器已经广泛应用于各行各业，各种不同档次的产品已成为实现各种骨干网内部连接、骨干网间互联和骨干网与互联网互联互通业务的主力军。路由和交换机之间的主要区别就是交换机发生在OSI参考模型第二层（数据链路层），而路由发生在第三层，即网络层。这一区别决定了路由和交换机在移动信息的过程中需使用不同的控制信息，所以说两者实现各自功能的方式是不同的。
  
路由器（Router）又称网关设备（Gateway）是用于连接多个逻辑上分开的网络，所谓逻辑网络是代表一个单独的网络或者一个子网。当数据从一个子网传输到另一个子网时，可通过路由器的路由功能来完成。因此，路由器具有判断网络地址和选择IP路径的功能，它能在多网络互联环境中，建立灵活的连接，可用完全不同的数据分组和介质访问方法连接各种子网，路由器只接受源站或其他路由器的信息，属网络层的一种互联设备。

### 路由器原理

#### 传输介质

路由器分本地路由器和远程路由器，本地路由器是用来连接网络传输介质的，如光纤、同轴电缆、双绞线；远程路由器是用来连接远程传输介质，并要求相应的设备，如电话线要配调制解调器，无线要通过无线接收机、发射机。

路由器是互联网的主要结点设备。路由器通过路由决定数据的转发。转发策略称为路由选择（routing），这也是路由器名称的由来（router，转发者）。作为不同网络之间互相连接的枢纽，路由器系统构成了基于TCP/IP 的国际互联网络Internet 的主体脉络，也可以说，路由器构成了Internet的骨架。它的处理速度是网络通信的主要瓶颈之一，它的可靠性则直接影响着网络互连的质量。因此，在园区网、地区网、乃至整个Internet研究领域中，路由器技术始终处于核心地位，其发展历程和方向，成为整个Internet研究的一个缩影。在当前我国网络基础建设和信息建设方兴未艾之际，探讨路由器在互连网络中的作用、地位及其发展方向，对于国内的网络技术研究、网络建设，以及明确网络市场上对于路由器和网络互连的各种似是而非的概念，都有重要的意义。
  
出现了交换路由器产品，从本质上来说它不是什么新技术，而是为了提高通信能力，把交换机的原理组合到路由器中，使数据传输能力更快、更好。

#### 结构

* 电源接口（POWER）：接口连接电源。 usb
* 复位键（RESET）：此按键可以还原路由器的出厂设置。
* 猫(MODEM)或者是交换机与路由器连接口（WAN）：此接口用一条网线与家用宽带调制解调器（或者与交换机）进行连接。
* 电脑与路由器连接口（LAN1~4）：此接口用一条网线把电脑与路由器进行连接。

需注意的是：WAN口与LAN口一定不能接反。

家用无线路由器和有线路由器的IP地址根据品牌不同，主要有192.168.1.1和192.168.0.1两种。

#### 启动过程

路由器里也有软件在运行，典型的例如H3C公司的Comware和思科公司的IOS，可以等同的认为它就是路由器的操作系统，像PC上使用的Windows系统一样。路由器的操作系统完成路由表的生成和维护。
  
同样的，作为路由器来讲，也有一个类似于我们PC系统中BIOS一样作用的部分，叫做MiniIOS。MiniIOS可以使我们在路由器的FLASH中不存在IOS时，先引导起来，进入恢复模式，来使用TFTP或X-MODEM等方式去给FLASH中导入IOS文件。所以，路由器的启动过程应该是这样的：
  
路由器在加电后首先会进行POST。Power On Self Test (上电自检，对硬件进行检测的过程)。
  
POST完成后，首先读取ROM里的BootStrap程序进行初步引导。
  
初步引导完成后，尝试定位并读取完整的IOS镜像文件。在这里，路由器将会首先在FLASH中查找IOS文件，如果找到了IOS文件的话，那么读取IOS文件，引导路由器。
  
如果在FLASH中没有找到IOS文件的话，那么路由器将会进入BOOT模式，在BOOT模式下可以使用TFTP上的IOS文件。或者使用TFTP/X-MODEM来给路由器的FLASH中传一个IOS文件(一般我们把这个过程叫做灌IOS)。传输完毕后重新启动路由器，路由器就可以正常启动到CLI模式。
  
当路由器初始化完成IOS文件后，就会开始在NVRAM中查找STARTUP-CONFIG文件，STARTUP-CONFIG叫做启动配置文件。该文件里保存了我们对路由器所做的所有的配置和修改。当路由器找到了这个文件后，路由器就会加载该文件里的所有配置，并且根据配置来学习、生成、维护路由表，并将所有的配置加载到RAM(路由器的内存)里后，进入用户模式，最终完成启动过程。
  
如果在NVRAM里没有STARTUP-CONFIG文件，则路由器会进入询问配置模式，也就是俗称的问答配置模式，在该模式下所有关于路由器的配置都可以以问答的形式进行配置。不过一般情况下我们基本上是不用这样的模式的。我们一般都会进入CLI [1] (Comman Line Interface)命令行模式后对路由器进行配置。

#### 工作原理示例

（1）工作站A将工作站B的地址12.0.0.5连同数据信息以数据包的形式发送给路由器1。
  
（2）路由器1收到工作站A的数据包后，先从包头中取出地址12.0.0.5，并根据路径表计算出发往工作站B的最佳路径：R1->R2->R5->B；并将数据包发往路由器2。
  
（3）路由器2重复路由器1的工作，并将数据包转发给路由器5。
  
（4）路由器5同样取出目的地址，发现12.0.0.5就在该路由器所连接的网段上，于是将该数据包直接交给工作站B。
  
（5）工作站B收到工作站A的数据包，一次通信过程宣告结束。

### 路由器的作用及功能

#### 1、连通不同的网络

从过滤网络流量的角度来看，路由器的作用与交换机和网桥非常相似。但是与工作在网络物理层，从物理上划分网段的交换机不同，路由器使用专门的软件协议从逻辑上对整个网络进行划分。例如，一台支持IP协议的路由器可以把网络划分成多个子网段，只有指向特殊IP地址的网络流量才可以通过路由器。对于每一个接收到的数据包，路由器都会重新计算其校验值，并写入新的物理地址。因此，使用路由器转发和过滤数据的速度往往要比只查看数据包物理地址的交换机慢。但是，对于那些结构复杂的网络，使用路由器可以提高网络的整体效率。路由器的另外一个明显优势就是可以自动过滤网络广播。总体上说，在网络中添加路由器的整个安装过程要比即插即用的交换机复杂很多。

#### 2、信息传输

有的路由器仅支持单一协议，但大部分路由器可以支持多种协议的传输，即多协议路由器。由于每一种协议都有自己的规则，要在一个路由器中完成多种协议的算法，势必会降低路由器的性能。路由器的主要工作就是为经过路由器的每个数据帧寻找一条最佳传输路径，并将该数据有效地传送到目的站点。由此可见，选择最佳路径的策略即路由算法是路由器的关键所在。为了完成这项工作，在路由器中保存着各种传输路径的相关数据－－路径表（Routing Table），供路由选择时使用。路径表中保存着子网的标志信息、网上路由器的个数和下一个路由器的名字等内容。路径表可以是由系统管理员固定设置好的。

* 静态路由表：由系统管理员事先设置好固定的路径表称之为静态（static）路径表。
* 动态路由表：动态（Dynamic）路径表是路由器根据网络系统的运行情况而自动调整的路径表。

路由器是一种多端口设备，它可以连接不同传输速率并运行于各种环境的局域网和广域网，也可以采用不同的协议。路由器属于O S I 模型的第三层–网络层。指导从一个网段到另一个网段的数据传输，也能指导从一种网络向另一种网络的数据传输。

* 第一，网络互连：路由器支持各种局域网和广域网接口，主要用于互连局域网和广域网，实现不同网络互相通信；
* 第二，数据处理：提供包括分组过滤、分组转发、优先级、复用、加密、压缩和防火墙等功能；
* 第三，网络管理：路由器提供包括路由器配置管理、性能管理、容错管理和流量控制等功能。

所谓“路由”，是指把数据从一个地方传送到另一个地方的行为和动作，而路由器，正是执行这种行为动作的机器，它的英文名称为Router,是一种连接多个网络或网段的网络设备，它能将不同网络或网段之间的数据信息进行“翻译”，以使它们能够相互“读懂”对方的数据，从而构成一个更大的网络。
  
  
为了完成“路由”的工作，在路由器中保存着各种传输路径的相关数据－－路由表（Routing Table），供路由选择时使用。路由表中保存着子网的标志信息、网上路由器的个数和下一个路由器的名字等内容。路由表可以是由系统管理员固定设置好的，也可以由系统动态修改，可以由路由器自动调整，也可以由主机控制。在路由器中涉及到两个有关地址的名字概念，那就是：静态路由表和动态路由表。由系统管理员事先设置好固定的路由表称之为静态（static）路由表，一般是在系统安装时就根据网络的配置情况预先设定的，它不会随未来网络结构的改变而改变。动态（Dynamic）路由表是路由器根据网络系统的运行情况而自动调整的路由表。路由器根据路由选择协议（Routing Protocol）提供的功能，自动学习和记忆网络运行情况，在需要时自动计算数据传输的最佳路径。

## 参考文章：

1、网络硬件设备工作原理：
<https://blog.csdn.net/u010757264/article/details/50748336>