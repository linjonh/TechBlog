---
layout: post
title: "C中类的核心定义"
date: 2025-03-13 22:02:53 +0800
description: "‌C#类‌是面向对象编程（OOP）中的核心概念之一，用于定义对象的模板或蓝图，包含数据成员（字段、属性）和函数成员（方法、事件等）。类提供了封装机制，将数据和操作数据的方法组合在一起，隐藏内部实现细节，只对外提供有限的接口，从而提高代码的可维护性和安全性"
keywords: "C#中类‌的核心定义"
categories: ['基础从入门到精通', 'C']
tags: ['开发语言', 'Winform', 'Vs', 'Java', 'C', '.Net']
artid: "146242888"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146242888
    alt: "C中类的核心定义"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146242888
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146242888
cover: https://bing.ee123.net/img/rand?artid=146242888
image: https://bing.ee123.net/img/rand?artid=146242888
img: https://bing.ee123.net/img/rand?artid=146242888
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     C#中类‌的核心定义
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     <strong>
      ‌C# 类‌是面向对象编程（OOP）中的核心概念之一，用于定义对象的模板或蓝图，包含数据成员（字段、属性）和函数成员（方法、事件等）。类提供了封装机制，将数据和操作数据的方法组合在一起，隐藏内部实现细节，只对外提供有限的接口，从而提高代码的可维护性和安全性。‌
     </strong>
    </p>
    <h2>
     <a id="1__2">
     </a>
     1. 类的本质‌
    </h2>
    <ul>
     <li>
      <strong>
       引用类型‌：对象存储在堆（Heap）中，变量持有对象引用。
      </strong>
     </li>
     <li>
      ‌面向对象三大特性‌：
      <br/>
      <strong>
       ‌封装‌：通过访问修饰符（public/private/protected）控制成员可见性。
       <br/>
       ‌继承‌：单继承（class Derived : Base），支持多层继承。
       <br/>
       ‌多态‌：通过虚方法（virtual）、抽象方法（abstract）和重写（override）实现。
      </strong>
     </li>
    </ul>
    <h2>
     <a id="2__9">
     </a>
     2. 类的基本结构‌
    </h2>
    <pre><code class="prism language-csharp"><span class="token punctuation">[</span>访问修饰符<span class="token punctuation">]</span> <span class="token keyword">class</span> 类名 <span class="token punctuation">[</span><span class="token punctuation">:</span> 基类<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> 接口<span class="token number">1</span><span class="token punctuation">,</span> 接口<span class="token number">2</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 成员定义</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">string</span></span> _field<span class="token punctuation">;</span>          <span class="token comment">// 字段</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Property <span class="token punctuation">{<!-- --></span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token comment">// 属性</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>        <span class="token comment">// 方法</span>
    <span class="token keyword">public</span> 类名<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>               <span class="token comment">// 构造函数</span>
    <span class="token operator">~</span>类名<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>                     <span class="token comment">// 析构函数（极少使用）</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="3__23">
     </a>
     ‌3. 核心成员类型‌
    </h2>
    <table>
     <thead>
      <tr>
       <th>
        成员类型
       </th>
       <th>
        说明
       </th>
       <th>
        示例
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        ‌字段‌
       </td>
       <td>
        存储数据的变量，通常设为
       </td>
       <td>
        private private int _id;
       </td>
      </tr>
      <tr>
       <td>
        ‌属性‌
       </td>
       <td>
        封装字段，控制读写逻辑
       </td>
       <td>
        public string Name { get; private set; }
       </td>
      </tr>
      <tr>
       <td>
        ‌方法‌
       </td>
       <td>
        定义对象行为
       </td>
       <td>
        public void Save() { … }
       </td>
      </tr>
      <tr>
       <td>
        ‌构造函数‌
       </td>
       <td>
        初始化对象，支持重载
       </td>
       <td>
        public Person(string name) { … }
       </td>
      </tr>
      <tr>
       <td>
        ‌事件‌
       </td>
       <td>
        用于发布-订阅模式
       </td>
       <td>
        public event EventHandler OnClick;
       </td>
      </tr>
      <tr>
       <td>
        ‌索引器‌
       </td>
       <td>
        使对象支持类似数组的访问
       </td>
       <td>
        public int this[int i] { get; set; }
       </td>
      </tr>
     </tbody>
    </table>
    <h2>
     <a id="4__32">
     </a>
     ‌4. 关键特性‌
    </h2>
    <ul>
     <li>
      <strong>
       ‌静态成员‌：类级别共享，通过 static 关键字定义。
      </strong>
     </li>
    </ul>
    <pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name"><span class="token keyword">int</span></span> Count<span class="token punctuation">;</span>  <span class="token comment">// 静态字段</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Log</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span> <span class="token comment">// 静态方法</span>
</code></pre>
    <ul>
     <li>
      ‌抽象类‌：用 abstract 修饰，不能实例化，用于定义通用逻辑。
     </li>
    </ul>
    <pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Shape</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">Area</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      ‌密封类‌：用 sealed 修饰，禁止继承。
     </li>
    </ul>
    <pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">sealed</span> <span class="token keyword">class</span> <span class="token class-name">StringUtils</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      ‌分部类‌：用 partial 拆分类到多个文件。
     </li>
    </ul>
    <pre><code class="prism language-csharp"><span class="token comment">// File1.cs</span>
<span class="token keyword">public</span> <span class="token keyword">partial</span> <span class="token keyword">class</span> <span class="token class-name">Data</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span> 
<span class="token comment">// File2.cs</span>
<span class="token keyword">public</span> <span class="token keyword">partial</span> <span class="token keyword">class</span> <span class="token class-name">Data</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="5__vs_Struct_61">
     </a>
     ‌5. 类 vs 结构体（Struct）‌
    </h2>
    <table>
     <thead>
      <tr>
       <th>
        ‌特性‌
       </th>
       <th>
        ‌类（Class）‌
       </th>
       <th>
        ‌结构体（Struct）‌
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        ‌内存分配‌
       </td>
       <td>
        堆内存
       </td>
       <td>
        栈内存（通常）
       </td>
      </tr>
      <tr>
       <td>
        ‌赋值行为‌
       </td>
       <td>
        复制引用（修改副本影响原对象）
       </td>
       <td>
        复制值（副本独立）
       </td>
      </tr>
      <tr>
       <td>
        ‌继承‌
       </td>
       <td>
        支持
       </td>
       <td>
        不支持
       </td>
      </tr>
      <tr>
       <td>
        ‌默认构造器‌
       </td>
       <td>
        有无参构造器
       </td>
       <td>
        C# 10 前不能显式定义无参构造器
       </td>
      </tr>
      <tr>
       <td>
        ‌适用场景‌
       </td>
       <td>
        复杂对象、需继承或引用语义
       </td>
       <td>
        小型数据（如坐标点、颜色值）
       </td>
      </tr>
     </tbody>
    </table>
    <h2>
     <a id="6__69">
     </a>
     ‌6. 最佳实践‌
    </h2>
    <ol>
     <li>
      封装数据‌：字段设为 private，通过属性暴露必要访问。
     </li>
     <li>
      避免过深继承‌：优先使用组合而非继承。
     </li>
     <li>
      不可变设计‌：对线程安全的数据使用 readonly 字段。
     </li>
    </ol>
    <pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ImmutablePoint</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">readonly</span> <span class="token class-name"><span class="token keyword">int</span></span> X<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">readonly</span> <span class="token class-name"><span class="token keyword">int</span></span> Y<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token function">ImmutablePoint</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> x<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> y<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>X<span class="token punctuation">,</span> Y<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <ol start="4">
     <li>
      资源释放‌：实现 IDisposable 接口管理非托管资源，而非依赖析构函数。
     </li>
    </ol>
    <pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FileReader</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IDisposable</span></span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">Stream</span> _stream<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> _stream<span class="token punctuation">?.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="7__93">
     </a>
     ‌7. 典型类示例‌
    </h2>
    <pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BankAccount</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 字段</span>
    <span class="token keyword">private</span> <span class="token class-name"><span class="token keyword">decimal</span></span> _balance<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name"><span class="token keyword">string</span></span> _owner<span class="token punctuation">;</span>

    <span class="token comment">// 属性</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">decimal</span></span> Balance <span class="token operator">=&gt;</span> _balance<span class="token punctuation">;</span> <span class="token comment">// 只读属性</span>

    <span class="token comment">// 构造函数</span>
    <span class="token keyword">public</span> <span class="token function">BankAccount</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> owner<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">decimal</span></span> initialBalance<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        _owner <span class="token operator">=</span> owner<span class="token punctuation">;</span>
        _balance <span class="token operator">=</span> initialBalance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 方法</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Deposit</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">decimal</span></span> amount<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>amount <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token string">"Deposit amount must be positive"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _balance <span class="token operator">+=</span> amount<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 重写 ToString</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp">_owner</span><span class="token punctuation">}</span></span><span class="token string">'s account: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp">_balance</span><span class="token format-string"><span class="token punctuation">:</span>C</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 使用</span>
<span class="token class-name"><span class="token keyword">var</span></span> account <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">BankAccount</span><span class="token punctuation">(</span><span class="token string">"Alice"</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
account<span class="token punctuation">.</span><span class="token function">Deposit</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出: Alice's account: $1,500.00</span>
</code></pre>
    <p>
     <strong>
      掌握类的核心设计原则，可以高效构建可维护的面向对象程序。根据场景选择类或结构体，合理使用封装、继承和多态，是提升代码质量的关键。
     </strong>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f70755f79755f68756e5f6a696e2f:61727469636c652f64657461696c732f313436323432383838" class_="artid" style="display:none">
 </p>
</div>


