---
layout: post
title: "AgentDify-Docker-å®‰è£…é—®é¢˜-INTERNAL-SERVER-ERROR"
date: 2025-03-21T21:35:19+0800
description: "è§£å†³ Dify å„ç§é—®é¢˜ï¼Œæ’ä»¶plusã€internal server errorå„ç§åŸå› "
keywords: "dify internal server error"
categories: ['æœªåˆ†ç±»']
tags: ['è¿ç»´', 'å®¹å™¨', 'Docker']
artid: "146429489"
arturl: "https://blog.csdn.net/hjh_cos/article/details/146429489"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146429489
    alt: "AgentDify-Docker-å®‰è£…é—®é¢˜-INTERNAL-SERVER-ERROR"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146429489
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146429489
cover: https://bing.ee123.net/img/rand?artid=146429489
image: https://bing.ee123.net/img/rand?artid=146429489
img: https://bing.ee123.net/img/rand?artid=146429489
---



# ã€Agentã€‘Dify Docker å®‰è£…é—®é¢˜ INTERNAL SERVER ERROR

![](https://i-operation.csdnimg.cn/images/cf31225e169b4512917b2e77694eb0a2.png)Dify Dockerå®‰è£…åŠæ’ä»¶ä½¿ç”¨é—®é¢˜



åŠ ğŸ§ç¾¤ï¼š1013889941  
 æ€»ç»“ï¼šå»ºè®®å¤§å®¶é€‰æ‹©ç¨³å®šç‰ˆæœ¬çš„åˆ†æ”¯ï¼Œç›´æ¥æ‹‰å– master åˆ†æ”¯ï¼Œå¯èƒ½å‡ºç°ä¸€ä¸‹åé¢æ›´æ–°ä»£ç å¯¼è‡´ç¼ºå¤±ä¸€äº›ç¯å¢ƒå†…å®¹ã€‚

### æ’ä»¶å¯åŠ¨ã€å®‰è£…ã€è¿è¡Œé—®é¢˜

ç¾¤å‹åé¦ˆï¼šcnnecticnRefusedErrcr:Errne 111 Cennecticn refused  
 ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/d1e2c50ec1344b55a59f587b7d5de15d.png)

è§£å†³æ–¹å¼ï¼šhttps://github.com/langgenius/dify/issues/20595

ä¿®æ”¹é»˜è®¤ API æœåŠ¡é“¾æ¥

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/49f5a546849547ddbc634093500a617c.png)

### å¯åŠ¨æŠ¥é”™ ä¸€ç›´åœç•™åœ¨ INSTALL ç•Œé¢

æˆ‘æ˜¯é€šè¿‡ Docker è¿›è¡Œå®‰è£…çš„ï¼Œç”±äºé¡¹ç›®å¼€å‘è€…ä¸ä¸¥è°¨å¯¼è‡´ï¼Œé‡åˆ°ä¸€ä¸ªå¥‡æ€ªçš„é—®é¢˜ï¼š `INTERNAL SERVER ERROR` ã€‚  
 ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/f0b34caee2304cf585f7e5222697870a.png)

è€Œè¿™ä¸ªåŸå› æ˜¯å› ä¸ºä»–è¿™ä¸ªç‰ˆæœ¬é‡Œé¢æ•°æ®åº“æ²¡æœ‰å¯¹åº”çš„ dify_setups è¡¨ï¼Œå‚è€ƒ [#ISSUES 15901](https://github.com/langgenius/dify/issues/15901)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/68cbb05e6f374626b21f87e314562df6.png)

```shell
psql -d dify_plugin

CREATE TABLE IF NOT EXISTS dify_setups (
    version VARCHAR(255) NOT NULL,
    setup_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP(0) NOT NULL,
    PRIMARY KEY (version)
);

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/8da8aed5346f4b0590f000464f9a3f90.png)

ç„¶åé‡å¯ `flask`

```shell
docker exec docker-api-1 poetry run python -m flask db upgrade

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/5b4edff0212f414c9d666439df827071.png)

### ollama æ·»åŠ æ¨¡å‹å¤±è´¥

å½“å®‰è£…å¥½ ollama æ’ä»¶ï¼Œå»æ·»åŠ  ollama æ¨¡å‹æ˜¯å‘ç°ä¿å­˜æŒ‰é’®ç‚¹å‡»æ²¡æœ‰ååº”ã€‚  
 ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/1c950be34bdf48a09fe86508b091aa61.png)  
 æ·»åŠ ä¿å­˜å¤±è´¥ï¼š[When I tried to add the Deepseek model after adding Olama, clicking the save button did not respond Â· Issue #15538 Â· langgenius/dify](https://github.com/langgenius/dify/issues/15538)  
 å®æµ‹ã€å›¾ä¸‰ã€‘çš„æ–¹æ³•å¯ä»¥è§£å†³ä¿å­˜å¤±è´¥çš„é—®é¢˜

```properties
PROVIDER_OLLAMA_API_BASE_URL=http://host.docker.internal:11434/
PLUGIN_WORKING_PATH=/app/cwd

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/20a7f664cd5841c698f962ddaeb0752f.png)

å›¾1

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/e09478981d294f6b8b89c5025553a24f.png#pic_center)

å›¾2

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/604357706dec442a8e9b00f7808c7eac.png#pic_center)

å›¾3

### åŠ ç¾¤äº’ç›¸é¿å‘ğŸ•³ï¸

åŠ ğŸ§ç¾¤ï¼š`1013889941`



