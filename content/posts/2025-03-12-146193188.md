---
arturl_encode: "68747470733a2f2f626c:6f672e6373646e2e6e65742f7961333238383432363735352f:61727469636c652f64657461696c732f313436313933313838"
layout: post
title: "ä»httpåˆ°Axioså’Œfetchå…¨è§£æ"
date: 2025-03-12 00:29:21 +08:00
description: "httpï¼Œå›è°ƒå‡½æ•°ï¼Œpromiseï¼Œaxiosï¼Œfetch"
keywords: "ä»httpåˆ°Axioså’Œfetchå…¨è§£æ"
categories: ['æœªåˆ†ç±»']
tags: ['ç½‘ç»œåè®®', 'ç½‘ç»œ', 'å‰ç«¯', 'Vue', 'Javascript', 'Http']
artid: "146193188"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146193188
    alt: "ä»httpåˆ°Axioså’Œfetchå…¨è§£æ"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146193188
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146193188
cover: https://bing.ee123.net/img/rand?artid=146193188
image: https://bing.ee123.net/img/rand?artid=146193188
img: https://bing.ee123.net/img/rand?artid=146193188
---

# ä»httpåˆ°Axioså’Œfetchå…¨è§£æ

## ä¹œå˜¢æ˜¯HTTP

HTTPï¼Œå…¨ç§°ä¸ºHyperText Transfer Protocolï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰ï¼Œæ˜¯äº’è”ç½‘ä¸Šåº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¸€ç§ç½‘ç»œåè®®ã€‚
**å®ƒå…è®¸å°†è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼ˆHTMLï¼‰æ–‡æ¡£ä»WebæœåŠ¡å™¨ä¼ é€åˆ°å®¢æˆ·ç«¯çš„æµè§ˆå™¨ï¼Œå¹¶ä¸”æ”¯æŒå¤šåª’ä½“å†…å®¹çš„ä¼ è¾“ï¼Œå¦‚å›¾ç‰‡ã€è§†é¢‘ç­‰ã€‚**

#### åŸºæœ¬æ¦‚å¿µ

* HTTPæ˜¯ä¸€ç§åŸºäºè¯·æ±‚ä¸å“åº”çš„åº”ç”¨å±‚åè®®ï¼Œ
  **å®ƒæ˜¯æ— çŠ¶æ€çš„ï¼Œæ„å‘³ç€æ¯ä¸ªè¯·æ±‚éƒ½æ˜¯ç‹¬ç«‹çš„ï¼ŒæœåŠ¡å™¨ä¸ä¼šä¿å­˜å®¢æˆ·ç«¯çš„çŠ¶æ€ä¿¡æ¯ã€‚**
* é€šå¸¸ï¼Œç”¨æˆ·é€šè¿‡å®¢æˆ·ç«¯ï¼ˆå¦‚æµè§ˆå™¨ï¼‰è¾“å…¥URLå‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚åè¿›è¡Œå¤„ç†ï¼Œå¹¶å°†å¤„ç†ç»“æœåŒ…è£…æˆHTTPå“åº”æ¶ˆæ¯è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å†æ ¹æ®å“åº”å†…å®¹æ¸²æŸ“é¡µé¢å±•ç¤ºç»™ç”¨æˆ·ã€‚

#### å·¥ä½œæµç¨‹

HTTPçš„å·¥ä½œæµç¨‹åŒ…æ‹¬å››ä¸ªä¸»è¦æ­¥éª¤ï¼š

* å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚
* æœåŠ¡å™¨å¤„ç†è¯·æ±‚
* æœåŠ¡å™¨è¿”å›å“åº”
* å®¢æˆ·ç«¯æ¸²æŸ“é¡µé¢

åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´äº¤æ¢çš„æ¶ˆæ¯è¢«ç§°ä¸ºè¯·æ±‚å’Œå“åº”ã€‚è¯·æ±‚æ˜¯ç”±æ¥å—æ–¹â€”â€”é€šå¸¸æ˜¯Webæµè§ˆå™¨â€”â€”å‘èµ·çš„ï¼Œè€Œå“åº”åˆ™æ˜¯ç”±æœåŠ¡å™¨å‘å‡ºçš„å›å¤ã€‚

#### HTTPçš„ç‰¹ç‚¹

* **åª’ä½“ç‹¬ç«‹**
  ï¼šåªè¦å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çŸ¥é“å¦‚ä½•å¤„ç†çš„æ•°æ®å†…å®¹ï¼Œä»»ä½•ç±»å‹çš„æ•°æ®éƒ½å¯ä»¥é€šè¿‡HTTPå‘é€ã€‚
* **æ— è¿æ¥**
  ï¼šé™åˆ¶æ¯æ¬¡è¿æ¥åªå¤„ç†ä¸€ä¸ªè¯·æ±‚ï¼ŒæœåŠ¡å™¨å¤„ç†å®Œå®¢æˆ·çš„è¯·æ±‚å¹¶æ”¶åˆ°åº”ç­”åå³æ–­å¼€è¿æ¥ï¼ŒèŠ‚çœä¼ è¾“æ—¶é—´ã€‚
* **æ— çŠ¶æ€**
  ï¼šå¯¹äºäº‹åŠ¡å¤„ç†æ²¡æœ‰è®°å¿†èƒ½åŠ›ï¼Œè¿™æ„å‘³ç€æ¯ä¸ªè¯·æ±‚éƒ½å¿…é¡»åŒ…å«è¶³å¤Ÿçš„ä¿¡æ¯è®©æœåŠ¡å™¨ç†è§£å¹¶å¤„ç†è¯¥è¯·æ±‚ã€‚

#### HTTPæ–¹æ³•

HTTPåè®®å®šä¹‰äº†å‡ ç§ä¸åŒçš„æ–¹æ³•ï¼ˆä¹Ÿç§°ä½œâ€œåŠ¨ä½œâ€ï¼‰ï¼Œç”¨äºä»¥ä¸åŒæ–¹å¼æ“ä½œæŒ‡å®šçš„èµ„æºã€‚æœ€å¸¸ç”¨çš„åŒ…æ‹¬ï¼š

* `GET`
  ï¼šç”¨äºè·å–èµ„æºã€‚
* `POST`
  ï¼šç”¨äºæäº¤æ•°æ®ï¼Œæ¯”å¦‚å¡«å†™è¡¨å•æˆ–ä¸Šä¼ æ–‡ä»¶ã€‚
* `PUT`
  ï¼šç”¨äºæ›´æ–°èµ„æºã€‚
* `DELETE`
  ï¼šç”¨äºåˆ é™¤èµ„æºã€‚
* `HEAD`
  ï¼šç±»ä¼¼äºGETï¼Œä½†åªè¯·æ±‚æ¶ˆæ¯å¤´ï¼Œä¸åŒ…æ‹¬æ¶ˆæ¯ä½“ã€‚
* `OPTIONS`
  ï¼šæŸ¥è¯¢æœåŠ¡å™¨æ”¯æŒçš„æ–¹æ³•ã€‚
* `TRACE`
  ï¼šå›æ˜¾æœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ï¼Œä¸»è¦ç”¨äºæµ‹è¯•æˆ–è¯Šæ–­ã€‚

#### HTTPè¯·æ±‚æŠ¥æ–‡

ä¸€ä¸ªHTTPè¯·æ±‚æŠ¥æ–‡é€šå¸¸ç”±å››éƒ¨åˆ†ç»„æˆï¼š
**è¯·æ±‚è¡Œã€è¯·æ±‚å¤´éƒ¨ã€ç©ºè¡Œä»¥åŠè¯·æ±‚æ•°æ®ï¼ˆå¯é€‰ï¼‰**
ã€‚

1. **è¯·æ±‚è¡Œ**
   ï¼ˆRequest Lineï¼‰ï¼šè¿™æ˜¯è¯·æ±‚æŠ¥æ–‡çš„ç¬¬ä¸€è¡Œï¼ŒåŒ…å«äº†ä¸‰ä¸ªå…ƒç´ ï¼š

   * è¯·æ±‚æ–¹æ³•ï¼ˆå¦‚GETã€POSTç­‰ï¼‰ï¼ŒæŒ‡ç¤ºè¦æ‰§è¡Œçš„æ“ä½œç±»å‹ã€‚
   * è¯·æ±‚çš„URLæˆ–è·¯å¾„ï¼ŒæŒ‡å‘ç›®æ ‡èµ„æºçš„ä½ç½®ã€‚
   * HTTPåè®®ç‰ˆæœ¬å·ï¼Œè¡¨ç¤ºä½¿ç”¨çš„HTTPåè®®ç‰ˆæœ¬ã€‚

   ä¾‹å¦‚ï¼Œ
   `GET /index.html HTTP/1.1`
   è¡¨ç¤ºä½¿ç”¨GETæ–¹æ³•è¯·æ±‚æ ¹ç›®å½•ä¸‹çš„index.htmlæ–‡ä»¶ï¼Œå¹¶ä¸”ä½¿ç”¨çš„æ˜¯HTTP/1.1ç‰ˆæœ¬ã€‚
2. **è¯·æ±‚å¤´éƒ¨**
   ï¼ˆHeadersï¼‰ï¼šç´§æ¥ç€è¯·æ±‚è¡Œä¹‹åæ˜¯ä¸€ç³»åˆ—çš„å¤´éƒ¨å­—æ®µï¼Œå®ƒä»¬æä¾›äº†å…³äºè¯·æ±‚çš„æ›´å¤šä¿¡æ¯ï¼Œæ¯”å¦‚å®¢æˆ·ç«¯æ”¯æŒçš„å†…å®¹ç±»å‹ã€è¯­è¨€åå¥½ã€ç¼–ç æ–¹å¼ç­‰ã€‚æ¯ä¸ªå¤´éƒ¨å­—æ®µéƒ½ç”±åç§°å’Œå€¼ç»„æˆï¼Œä»¥å†’å·åˆ†éš”ã€‚
3. **ç©ºè¡Œ**
   ï¼ˆBlank Lineï¼‰ï¼šåœ¨æ‰€æœ‰å¤´éƒ¨å­—æ®µä¹‹åæ˜¯ä¸€ä¸ªç©ºè¡Œï¼Œå®ƒæ ‡å¿—ç€å¤´éƒ¨éƒ¨åˆ†çš„ç»“æŸå’Œå¯èƒ½å­˜åœ¨çš„è¯·æ±‚ä½“éƒ¨åˆ†çš„å¼€å§‹ã€‚
4. **è¯·æ±‚æ•°æ®**
   ï¼ˆOptional Request Bodyï¼‰ï¼šå¯¹äºæŸäº›è¯·æ±‚æ–¹æ³•ï¼ˆå¦‚POSTï¼‰ï¼Œè¿™é‡Œä¼šåŒ…å«å‘é€ç»™æœåŠ¡å™¨çš„æ•°æ®ï¼Œæ¯”å¦‚è¡¨å•æ•°æ®æˆ–è€…æ–‡ä»¶ä¸Šä¼ å†…å®¹ã€‚

#### HTTPå“åº”æŠ¥æ–‡

å“åº”æŠ¥æ–‡ä¹Ÿæœ‰ç±»ä¼¼çš„ç»“æ„ï¼Œä½†å®ƒçš„èµ·å§‹è¡Œè¢«ç§°ä¸ºçŠ¶æ€è¡Œï¼Œè€Œä¸æ˜¯è¯·æ±‚è¡Œã€‚

1. **çŠ¶æ€è¡Œ**
   ï¼ˆStatus Lineï¼‰ï¼šåŒ…æ‹¬ä¸‰éƒ¨åˆ†ï¼š

   * HTTPåè®®ç‰ˆæœ¬å·ã€‚
   * çŠ¶æ€ç ï¼Œä¸‰ä½æ•°å­—ä»£ç ï¼Œç”¨äºæè¿°è¯·æ±‚çš„ç»“æœï¼ˆä¾‹å¦‚200ä»£è¡¨æˆåŠŸï¼Œ404ä»£è¡¨æœªæ‰¾åˆ°èµ„æºï¼‰ã€‚
   * åŸå› çŸ­è¯­ï¼Œæ˜¯å¯¹çŠ¶æ€ç çš„æ–‡å­—è§£é‡Šã€‚
2. **å“åº”å¤´éƒ¨**
   ï¼ˆResponse Headersï¼‰ï¼šç±»ä¼¼äºè¯·æ±‚å¤´éƒ¨ï¼Œè¿™äº›å­—æ®µæä¾›é¢å¤–çš„ä¿¡æ¯ï¼Œæ¯”å¦‚å“åº”çš„æ—¥æœŸã€å†…å®¹é•¿åº¦ã€å†…å®¹ç±»å‹ç­‰ã€‚
3. **ç©ºè¡Œ**
   ï¼šåŒæ ·ï¼Œåœ¨æ‰€æœ‰çš„å“åº”å¤´éƒ¨ä¹‹åæœ‰ä¸€ä¸ªç©ºè¡Œã€‚
4. **å“åº”ä½“**
   ï¼ˆResponse Bodyï¼‰ï¼šå¦‚æœæœ‰çš„è¯ï¼Œè¿™éƒ¨åˆ†åŒ…å«äº†å®é™…è¿”å›ç»™å®¢æˆ·ç«¯çš„æ•°æ®ï¼Œæ¯”å¦‚HTMLæ–‡æ¡£ã€å›¾ç‰‡æˆ–è€…å…¶ä»–ç±»å‹çš„æ–‡ä»¶ã€‚

#### HTTPå¸¸è§å“åº”çŠ¶æ€ç 

**HTTPå“åº”çŠ¶æ€ç æ˜¯æœåŠ¡å™¨åœ¨æ¥æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åè¿”å›çš„ä¸€ä¸ªä¸‰ä½æ•°å­—ä»£ç ï¼Œå®ƒç”¨æ¥è¡¨ç¤ºè¯·æ±‚çš„å¤„ç†æƒ…å†µã€‚**
è¿™äº›çŠ¶æ€ç åˆ†ä¸ºäº”ç±»ï¼Œæ¯ç±»éƒ½æœ‰å…¶ç‰¹å®šçš„æ„ä¹‰å’Œç”¨é€”ã€‚ä»¥ä¸‹æ˜¯å„ç±»å¸¸è§çš„HTTPçŠ¶æ€ç åŠå…¶å«ä¹‰ï¼š

##### 1xxï¼ˆä¿¡æ¯æ€§çŠ¶æ€ç ï¼‰

* **100 Continue**
  ï¼šå®¢æˆ·ç«¯åº”å½“ç»§ç»­å‘é€è¯·æ±‚ã€‚
* **101 Switching Protocols**
  ï¼šæœåŠ¡å™¨å·²ç»ç†è§£äº†å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå¹¶å°†é€šè¿‡Upgradeæ¶ˆæ¯å¤´é€šçŸ¥å®¢æˆ·ç«¯é‡‡ç”¨ä¸åŒçš„åè®®æ¥å®Œæˆè¿™ä¸ªè¯·æ±‚ã€‚

##### 2xxï¼ˆæˆåŠŸçŠ¶æ€ç ï¼‰

* **200 OK**
  ï¼šè¯·æ±‚å·²æˆåŠŸï¼Œä¸”è¯·æ±‚çš„ä¿¡æ¯åŒ…å«åœ¨å“åº”ä¸­ã€‚
* **201 Created**
  ï¼šè¯·æ±‚å·²ç»è¢«å®ç°ï¼Œè€Œä¸”æœ‰ä¸€ä¸ªæ–°çš„èµ„æºè¢«åˆ›å»ºã€‚
* **204 No Content**
  ï¼šæœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹ã€‚

##### 3xxï¼ˆé‡å®šå‘çŠ¶æ€ç ï¼‰

* **301 Moved Permanently**
  ï¼šè¯·æ±‚çš„èµ„æºå·²è¢«æ°¸ä¹…åœ°ç§»åŠ¨åˆ°æ–°URIï¼Œè¿”å›ä¿¡æ¯ä¼šåŒ…æ‹¬æ–°çš„URIã€‚
* **302 Found**
  ï¼šè¯·æ±‚çš„èµ„æºç°åœ¨ä¸´æ—¶ä»ä¸åŒçš„URIå“åº”è¯·æ±‚ã€‚
* **304 Not Modified**
  ï¼šå¦‚æœå®¢æˆ·ç«¯å‘é€äº†ä¸€ä¸ªæ¡ä»¶GETè¯·æ±‚ï¼Œè€Œè¯¥è¯·æ±‚çš„èµ„æºè‡ªä¸Šæ¬¡è®¿é—®ä»¥æ¥æœªè¢«ä¿®æ”¹ï¼Œåˆ™ä½¿ç”¨æ­¤çŠ¶æ€ç ã€‚

##### 4xxï¼ˆå®¢æˆ·ç«¯é”™è¯¯çŠ¶æ€ç ï¼‰

* **400 Bad Request**
  ï¼šç”±äºè¯­æ³•æ ¼å¼æœ‰è¯¯ï¼ŒæœåŠ¡å™¨æ— æ³•ç†è§£æ­¤è¯·æ±‚ã€‚
* **401 Unauthorized**
  ï¼šå½“å‰è¯·æ±‚éœ€è¦ç”¨æˆ·éªŒè¯ã€‚
* **403 Forbidden**
  ï¼šæœåŠ¡å™¨å·²ç»ç†è§£è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æ‰§è¡Œå®ƒã€‚
* **404 Not Found**
  ï¼šæœåŠ¡å™¨æ‰¾ä¸åˆ°ä¸è¯·æ±‚URIç›¸åŒ¹é…çš„ä»»ä½•èµ„æºã€‚

##### 5xxï¼ˆæœåŠ¡ç«¯é”™è¯¯çŠ¶æ€ç ï¼‰

* **500 Internal Server Error**
  ï¼šæœåŠ¡å™¨é‡åˆ°äº†ä¸€ä¸ªæœªæ›¾é¢„æ–™çš„æƒ…å†µï¼Œå¯¼è‡´äº†å…¶æ— æ³•å®Œæˆå¯¹è¯·æ±‚çš„å¤„ç†ã€‚
* **501 Not Implemented**
  ï¼šæœåŠ¡å™¨ä¸æ”¯æŒå½“å‰è¯·æ±‚æ‰€éœ€è¦çš„åŠŸèƒ½ã€‚
* **503 Service Unavailable**
  ï¼šç”±äºä¸´æ—¶çš„æœåŠ¡å™¨ç»´æŠ¤æˆ–è€…è¿‡è½½ï¼ŒæœåŠ¡å™¨å½“å‰æ— æ³•å¤„ç†è¯·æ±‚ã€‚

## `URL` ?

URLï¼Œå…¨ç§°ä¸ºUniform Resource Locatorï¼Œå³ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼Œ
**æ˜¯ç”¨äºæ ‡è¯†äº’è”ç½‘ä¸Šèµ„æºä½ç½®çš„å­—ç¬¦ä¸²**
ã€‚å®ƒå…è®¸ç”¨æˆ·é€šè¿‡ç½‘ç»œè®¿é—®ç½‘é¡µã€å›¾ç‰‡ã€è§†é¢‘ç­‰èµ„æºã€‚URLæ˜¯URIï¼ˆç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼‰çš„ä¸€ä¸ªç§ç±»ï¼Œä¸“é—¨ç”¨æ¥è¡¨ç¤ºèµ„æºçš„ä½ç½®ã€‚

ä¸€ä¸ªæ ‡å‡†çš„URLé€šå¸¸ç”±ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ç»„æˆï¼š

1. **åè®®ï¼ˆSchemeï¼‰**
   ï¼šæŒ‡å®šä½¿ç”¨çš„é€šä¿¡åè®®ï¼Œæ¯”å¦‚HTTPï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰ã€HTTPSï¼ˆå®‰å…¨çš„è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰ã€FTPï¼ˆæ–‡ä»¶ä¼ è¾“åè®®ï¼‰ç­‰ã€‚åè®®åé¢è·Ÿæœ‰ä¸€ä¸ªå†’å·å’Œä¸¤ä¸ªæ–œæ ï¼ˆğŸ˜•/ï¼‰ã€‚

   ç¤ºä¾‹ï¼š
   `https://`
2. **ä¸»æœºåï¼ˆHostï¼‰**
   ï¼šæŒ‡æ˜äº†èµ„æºæ‰€åœ¨çš„æœåŠ¡å™¨åœ°å€ï¼Œå¯ä»¥æ˜¯åŸŸåï¼ˆå¦‚www.example.comï¼‰æˆ–IPåœ°å€ã€‚

   ç¤ºä¾‹ï¼š
   `www.example.com`
3. **ç«¯å£å·ï¼ˆPortï¼‰**
   ï¼šæŒ‡å®šäº†ä¸æœåŠ¡å™¨è¿æ¥æ—¶æ‰€ä½¿ç”¨çš„ç«¯å£ã€‚å¤§å¤šæ•°æ—¶å€™ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯é»˜è®¤ç«¯å£ï¼ˆä¾‹å¦‚HTTPé»˜è®¤80ï¼ŒHTTPSé»˜è®¤443ï¼‰ï¼Œåˆ™ä¸éœ€è¦æ˜ç¡®å†™å‡ºç«¯å£å·ã€‚

   ç¤ºä¾‹ï¼š
   `:8080`
4. **è·¯å¾„ï¼ˆPathï¼‰**
   ï¼šæŒ‡å‡ºè¯·æ±‚çš„å…·ä½“èµ„æºåœ¨æœåŠ¡å™¨ä¸Šçš„ä½ç½®ã€‚å®ƒæ¨¡æ‹Ÿäº†ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿè·¯å¾„çš„æ¦‚å¿µã€‚

   ç¤ºä¾‹ï¼š
   `/path/to/resource`
5. **æŸ¥è¯¢å­—ç¬¦ä¸²ï¼ˆQuery Stringï¼‰**
   ï¼šä»¥é—®å·ï¼ˆ?ï¼‰å¼€å§‹ï¼Œåé¢è·Ÿç€ä¸€ç³»åˆ—é”®å€¼å¯¹ï¼Œç”¨æ¥å‘æœåŠ¡å™¨ä¼ é€’å‚æ•°ã€‚

   ç¤ºä¾‹ï¼š
   `?key=value&foo=bar`
6. **ç‰‡æ®µæ ‡è¯†ç¬¦ï¼ˆFragment Identifierï¼‰**
   ï¼šä»¥äº•å­—å·ï¼ˆ#ï¼‰å¼€å¤´ï¼ŒæŒ‡å‘æ–‡æ¡£ä¸­çš„æŸä¸€éƒ¨åˆ†ï¼Œä¸»è¦ç”¨äºHTMLé¡µé¢å†…éƒ¨å¯¼èˆªã€‚

   ç¤ºä¾‹ï¼š
   `#section1`

```
https://www.example.com:8080/path/to/resource?key=value#section1

```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ
`https`
æ˜¯åè®®ï¼Œ
`www.example.com`
æ˜¯ä¸»æœºåï¼Œ
`:8080`
æ˜¯ç«¯å£å·ï¼Œ
`/path/to/resource`
æ˜¯è·¯å¾„ï¼Œ
`?key=value`
æ˜¯æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œè€Œ
`#section1`
æ˜¯ç‰‡æ®µæ ‡è¯†ç¬¦ã€‚

## å…³äºå›è°ƒå‡½æ•°

#### ä»€ä¹ˆæ˜¯å›è°ƒå‡½æ•°ï¼Ÿ

å›è°ƒå‡½æ•°æ˜¯ä¸€ç§ç¼–ç¨‹æ¨¡å¼ï¼Œ
**å®ƒå…è®¸ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶åœ¨ç‰¹å®šæ¡ä»¶ä¸‹è¢«è°ƒç”¨ã€‚**

è¿™ç§æœºåˆ¶ä½¿å¾—ä»£ç å¯ä»¥æ›´åŠ çµæ´»å’ŒåŠ¨æ€ï¼Œå› ä¸ºå®ƒå…è®¸å¤–éƒ¨å®šä¹‰çš„è¡Œä¸ºåœ¨å†…éƒ¨é€»è¾‘çš„å…³é”®ç‚¹ä¸Šè¢«æ‰§è¡Œã€‚

##### å›è°ƒå‡½æ•°çš„ä¸»è¦ç”¨é€”åŒ…æ‹¬ï¼š

1. **å¤„ç†å¼‚æ­¥æ“ä½œ**
   ï¼šåœ¨ç½‘ç»œè¯·æ±‚ã€æ–‡ä»¶è¯»å–ç­‰åœºæ™¯ä¸­ï¼Œè¿™äº›æ“ä½œé€šå¸¸æ˜¯å¼‚æ­¥è¿›è¡Œçš„ï¼Œå³å®ƒä»¬ä¸ä¼šç«‹å³å®Œæˆã€‚ä¸ºäº†è·å–è¿™äº›æ“ä½œçš„ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™è´Ÿè´£æ‰§è¡Œè¯¥æ“ä½œçš„å‡½æ•°ã€‚
   å½“å¼‚æ­¥æ“ä½œå®Œæˆåï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°å°±ä¼šè¢«è°ƒç”¨ï¼Œå¹¶ä¼ å…¥æ“ä½œçš„ç»“æœä½œä¸ºå‚æ•°ã€‚
2. **ç¡®ä¿ä»£ç é¡ºåºæ‰§è¡Œ**
   ï¼šå³ä½¿åœ¨åŒæ­¥ä»£ç ä¸­ï¼Œå›è°ƒå‡½æ•°ä¹Ÿå¯ä»¥ç”¨æ¥
   ä¿è¯æŸäº›å‡½æ•°åªæœ‰åœ¨å¦ä¸€äº›å‡½æ•°æ‰§è¡Œå®Œæ¯•åæ‰ä¼šè¢«æ‰§è¡Œã€‚
3. **äº‹ä»¶ç›‘å¬å™¨**
   ï¼šåœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œå›è°ƒå‡½æ•°å¸¸ç”¨äºè®¾ç½®äº‹ä»¶ç›‘å¬å™¨ã€‚æ¯”å¦‚ï¼Œå½“ä½ æƒ³åœ¨ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æ—¶æ‰§è¡Œç‰¹å®šä»£ç ï¼Œä½ å¯ä»¥å°†è¿™æ®µä»£ç å°è£…åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œå¹¶å°†å…¶ä½œä¸ºå›è°ƒå‡½æ•°æ·»åŠ åˆ°æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ä¸Šã€‚è¿™æ ·ï¼Œæ¯å½“ç”¨æˆ·è§¦å‘ç‚¹å‡»äº‹ä»¶æ—¶ï¼Œç›¸åº”çš„å›è°ƒå‡½æ•°å°±ä¼šè‡ªåŠ¨æ‰§è¡Œã€‚
4. **æ•°æ®å¤„ç†**
   ï¼šå›è°ƒå‡½æ•°è¿˜å¯ä»¥ç”¨äºæ•°ç»„çš„æ•°æ®å¤„ç†æ–¹æ³•ä¸­ï¼Œå¦‚
   `map()`
   ã€
   `filter()`
   ã€
   `reduce()`
   ç­‰ã€‚è¿™äº›æ–¹æ³•æ¥å—ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å›è°ƒå‡½æ•°å®šä¹‰äº†å¦‚ä½•å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œè½¬æ¢æˆ–å…¶ä»–æ“ä½œã€‚

#### ä¸¾ä¸ªæ —å­

```javascript
function fetchData(callback) {
    // åˆ›å»º XMLHttpRequest å¯¹è±¡
    var xhr = new XMLHttpRequest();
    
    // åˆå§‹åŒ–è¯·æ±‚
    xhr.open('GET', 'https://api.example.com/data', true);
    
    // è®¾ç½®å“åº”ç±»å‹ä¸º JSON
    xhr.responseType = 'json';
    
    // è®¾ç½®å›è°ƒå‡½æ•°æ¥å¤„ç†æœåŠ¡å™¨å“åº”
    xhr.onreadystatechange = function() {
        if (xhr.readyState === 4 && xhr.status === 200) { // è¯·æ±‚æˆåŠŸå®Œæˆ
            callback(null, xhr.response); // è°ƒç”¨å›è°ƒå‡½æ•°å¹¶ä¼ é€’ç»“æœæ•°æ®
        } else if (xhr.readyState === 4) { // è¯·æ±‚å®Œæˆä½†æœ‰é”™è¯¯å‘ç”Ÿ
            callback(new Error("Request failed with status " + xhr.status), null);
        }
    };
    
    // å‘é€è¯·æ±‚
    xhr.send();
}

// å®šä¹‰å›è°ƒå‡½æ•°
function handleData(error, data) {
    if (error) {
        console.error("è·å–æ•°æ®æ—¶å‡ºé”™:", error.message);
        return;
    }
    console.log("è·å–çš„æ•°æ®æ˜¯: ", data);
}

// è°ƒç”¨fetchDataï¼Œå¹¶ä¼ é€’å›è°ƒå‡½æ•°handleDataä½œä¸ºå‚æ•°
fetchData(handleData);

```

æˆ‘çš„ç†è§£ï¼š
å…ˆåœ¨fetchDataé‡Œé¢åˆ¤æ–­æœåŠ¡å™¨å“åº”çŠ¶æ€ï¼Œå†å°†æƒ…å†µä½œä¸ºå‚æ•°ï¼ˆcallbackï¼‰å›è°ƒç»™handleDataï¼Œæ­¤æ—¶handleDataå†æ‰§è¡Œ

å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š

1. **è°ƒç”¨
   `fetchData(handleData)`**
   ï¼šé¦–å…ˆï¼Œæ‚¨è°ƒç”¨äº†
   `fetchData`
   å‡½æ•°ï¼Œå¹¶å°†
   `handleData`
   ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚æ­¤æ—¶ï¼Œ
   `handleData`
   å¹¶æœªæ‰§è¡Œï¼Œåªæ˜¯è¢«å½“ä½œä¸€ä¸ªå‡½æ•°æŒ‡é’ˆæˆ–å¼•ç”¨ä¼ ç»™äº†
   `fetchData`
   ã€‚
2. **åˆå§‹åŒ–å’Œå‘é€è¯·æ±‚**
   ï¼šåœ¨
   `fetchData`
   å†…éƒ¨ï¼Œåˆ›å»ºäº†ä¸€ä¸ª
   `XMLHttpRequest`
   å¯¹è±¡å¹¶é…ç½®äº†ç›¸åº”çš„è¯·æ±‚ç»†èŠ‚ï¼ˆå¦‚æ–¹æ³•ã€URLç­‰ï¼‰ï¼Œç„¶åå‘é€äº†è¯·æ±‚ã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼Œç¨‹åºä¸ä¼šç­‰å¾…æœåŠ¡å™¨å“åº”ï¼Œè€Œæ˜¯ç»§ç»­æ‰§è¡Œåç»­ä»£ç ï¼ˆå¦‚æœæœ‰ï¼‰ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œã€‚
3. **ç›‘å¬çŠ¶æ€å˜åŒ–**
   ï¼šé€šè¿‡è®¾ç½®
   `xhr.onreadystatechange`
   ï¼Œä¸ºå¯èƒ½å‘ç”Ÿçš„äº‹ä»¶ï¼ˆå³æœåŠ¡å™¨å“åº”åˆ°è¾¾æ—¶ï¼‰æ³¨å†Œäº†ä¸€ä¸ªç›‘å¬å™¨ã€‚è¿™ä¸ªç›‘å¬å™¨ä¼šåœ¨æ¯æ¬¡
   `xhr.readyState`
   å‘ç”Ÿå˜åŒ–æ—¶è¢«è§¦å‘ã€‚
4. **å¤„ç†æœåŠ¡å™¨å“åº”**
   ï¼š

   * å½“
     `xhr.readyState`
     å˜ä¸º4ä¸”
     `xhr.status`
     ä¸º200æ—¶ï¼Œè¡¨ç¤ºè¯·æ±‚æˆåŠŸå®Œæˆã€‚æ­¤æ—¶ï¼Œä½¿ç”¨
     `callback(null, xhr.response)`
     è°ƒç”¨ä¹‹å‰ä¼ å…¥çš„å›è°ƒå‡½æ•°ï¼ˆå³
     `handleData`
     ï¼‰ï¼Œå¹¶å°†è·å–çš„æ•°æ®ä½œä¸ºå‚æ•°ä¼ é€’ã€‚
   * å¦‚æœè¯·æ±‚å®Œæˆä½†å‡ºç°äº†é”™è¯¯ï¼ˆä¾‹å¦‚ï¼Œ
     `xhr.status`
     ä¸æ˜¯200ï¼‰ï¼Œåˆ™è°ƒç”¨
     `callback(new Error("..."), null)`
     ï¼Œä»¥é”™è¯¯ä¿¡æ¯ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ç»™å›è°ƒå‡½æ•°ã€‚
5. **æ‰§è¡Œå›è°ƒå‡½æ•°
   `handleData`**
   ï¼šåªæœ‰å½“æœåŠ¡å™¨å“åº”åˆ°è¾¾ï¼Œå¹¶ä¸”æ ¹æ®å“åº”çš„çŠ¶æ€å†³å®šå¦‚ä½•è°ƒç”¨å›è°ƒä¹‹åï¼Œæ‰ä¼šæ‰§è¡Œ
   `handleData`
   ã€‚å®ƒä¼šæ£€æŸ¥æ˜¯å¦æœ‰é”™è¯¯å‘ç”Ÿï¼Œå¹¶ç›¸åº”åœ°å¤„ç†æ•°æ®æˆ–é”™è¯¯ä¿¡æ¯ã€‚

#### å€¼å¾—æ³¨æ„çš„æ˜¯

æ­¤å¤–ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ
è™½ç„¶å›è°ƒå‡½æ•°æä¾›äº†çµæ´»æ€§ï¼Œä½†è¿‡åº¦ä½¿ç”¨ä¼šå¯¼è‡´â€œå›è°ƒåœ°ç‹±â€é—®é¢˜â€”â€”å³å¤šå±‚åµŒå¥—çš„å›è°ƒå‡½æ•°å¯¼è‡´ä»£ç éš¾ä»¥ç»´æŠ¤å’Œç†è§£ã€‚

## ä»€ä¹ˆæ˜¯AJAX

AJAXï¼ˆAsynchronous JavaScript and XMLï¼‰æ˜¯ä¸€ç§ç”¨äºåˆ›å»ºå¿«é€ŸåŠ¨æ€ç½‘é¡µçš„æŠ€æœ¯ã€‚

#### ä¸»è¦ç‰¹ç‚¹

* **å¼‚æ­¥é€šä¿¡**
  ï¼šè¿™æ˜¯AJAXçš„æ ¸å¿ƒç‰¹æ€§ä¹‹ä¸€ã€‚
  å®ƒå…è®¸ç½‘é¡µåœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢çš„æƒ…å†µä¸‹é€šè¿‡ä¸æœåŠ¡å™¨äº¤æ¢å°‘é‡æ•°æ®æ¥æ›´æ–°éƒ¨åˆ†é¡µé¢å†…å®¹ã€‚
  è¿™ä½¿å¾—ç”¨æˆ·ä½“éªŒæ›´åŠ æµç•…ï¼Œå› ä¸ºç”¨æˆ·ä¸éœ€è¦ç­‰å¾…æ•´ä¸ªé¡µé¢åˆ·æ–°å°±å¯ä»¥çœ‹åˆ°æ›´æ–°çš„ä¿¡æ¯ã€‚
* **æé«˜ç”¨æˆ·ä½“éªŒ**
  ï¼š
  ç”±äºå…¶èƒ½å¤Ÿå±€éƒ¨æ›´æ–°ç½‘é¡µå†…å®¹ï¼Œå› æ­¤å¯ä»¥æä¾›æ›´å¿«é€Ÿçš„åé¦ˆç»™ç”¨æˆ·ï¼Œå‡å°‘äº†ç”¨æˆ·ç­‰å¾…çš„æ—¶é—´ã€‚
* **å‡å°‘å¸¦å®½ä½¿ç”¨**
  ï¼šé€šè¿‡åªè¯·æ±‚å’Œä¼ è¾“å¿…è¦çš„æ•°æ®è€Œéæ•´ä¸ªé¡µé¢çš„å†…å®¹ï¼Œå¯ä»¥æœ‰æ•ˆå‡å°‘æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´çš„æ•°æ®ä¼ è¾“é‡ã€‚

#### å·¥ä½œæµç¨‹

1. **åˆ›å»ºXMLHttpRequestå¯¹è±¡**
   ï¼šè¿™æ˜¯è¿›è¡Œå¼‚æ­¥é€šä¿¡çš„æ ¸å¿ƒå¯¹è±¡ï¼Œè´Ÿè´£å‘é€è¯·æ±‚å¹¶æ¥æ”¶å“åº”ã€‚
2. **å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨**
   ï¼šå¯ä»¥é€šè¿‡GETæˆ–POSTæ–¹æ³•å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œä¼ é€’å¿…è¦çš„å‚æ•°ã€‚
3. **æœåŠ¡å™¨å¤„ç†è¯·æ±‚å¹¶è¿”å›å“åº”**
   ï¼šæœåŠ¡å™¨ç«¯è„šæœ¬å¤„ç†è¯·æ±‚ï¼Œå¹¶å°†ç»“æœä»¥HTMLã€XMLã€JSONç­‰å½¢å¼è¿”å›ç»™å®¢æˆ·ç«¯ã€‚
4. **æ›´æ–°ç½‘é¡µå†…å®¹**
   ï¼šæ ¹æ®ä»æœåŠ¡å™¨æ¥æ”¶åˆ°çš„æ•°æ®ï¼Œä½¿ç”¨JavaScriptå’ŒDOMæ›´æ–°ç½‘é¡µçš„éƒ¨åˆ†å†…å®¹ã€‚

#### åº”ç”¨åœºæ™¯

* **å®æ—¶éªŒè¯è¡¨å•è¾“å…¥**
  ï¼šä¾‹å¦‚æ£€æŸ¥ç”¨æˆ·åæ˜¯å¦å¯ç”¨ï¼Œè€Œæ— éœ€æäº¤æ•´ä¸ªè¡¨å•ã€‚
* **è‡ªåŠ¨å®Œæˆæœç´¢æ¡†**
  ï¼šå½“ç”¨æˆ·å¼€å§‹è¾“å…¥æ—¶ï¼Œæä¾›å¯èƒ½çš„åŒ¹é…é¡¹åˆ—è¡¨ã€‚
* **åŠ¨æ€åŠ è½½åˆ†é¡µå†…å®¹**
  ï¼šç‚¹å‡»ä¸‹ä¸€é¡µæŒ‰é’®æ—¶ï¼Œä»…åŠ è½½æ–°é¡µé¢çš„å†…å®¹è€Œä¸æ˜¯åˆ·æ–°æ•´ä¸ªé¡µé¢ã€‚
* **æ¶ˆæ¯é€šçŸ¥ç³»ç»Ÿ**
  ï¼šå¦‚ç¤¾äº¤åª’ä½“ä¸­çš„æ–°æ¶ˆæ¯æé†’ï¼Œæ— éœ€åˆ·æ–°é¡µé¢å³å¯æ˜¾ç¤ºæ–°æ¶ˆæ¯ã€‚

## å¯¹ï¼Œæ˜¯ `promise`

#### Promiseçš„æ¦‚å¿µ

Promiseæ˜¯
`å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆ`
,
**é€šä¿—è®²ï¼Œ
`Promiseæ˜¯ä¸€ä¸ªè®¸è¯ºã€æ‰¿è¯º`
,æ˜¯å¯¹æœªæ¥äº‹æƒ…çš„æ‰¿è¯ºï¼Œæ‰¿è¯ºä¸ä¸€å®šèƒ½å®Œæˆï¼Œä½†æ˜¯æ— è®ºæ˜¯å¦èƒ½å®Œæˆéƒ½ä¼šæœ‰ä¸€ä¸ªç»“æœã€‚**

åœ¨JavaScriptä¸­ï¼Œå®ƒä»£è¡¨äº†ä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„æœ€ç»ˆå®Œæˆï¼ˆæˆ–å¤±è´¥ï¼‰åŠå…¶ç»“æœå€¼ã€‚ä¸€ä¸ªPromiseå¯¹è±¡æœ‰ä¸‰ç§çŠ¶æ€ï¼š

1. **Pendingï¼ˆè¿›è¡Œä¸­ï¼‰**
   ï¼šåˆå§‹çŠ¶æ€ï¼Œæ—¢ä¸æ˜¯æˆåŠŸï¼Œä¹Ÿä¸æ˜¯å¤±è´¥ã€‚
2. **Fulfilledï¼ˆå·²æˆåŠŸï¼‰**
   ï¼šæ“ä½œæˆåŠŸå®Œæˆã€‚
3. **Rejectedï¼ˆå·²å¤±è´¥ï¼‰**
   ï¼šæ“ä½œå¤±è´¥ã€‚

**ä¸€æ—¦ä¸€ä¸ªPromiseè¢«resolvedï¼ˆæ— è®ºæ˜¯fulfilledè¿˜æ˜¯rejectedï¼‰ï¼Œå®ƒçš„çŠ¶æ€å°±ä¼šè¢«é”å®šï¼Œå¹¶ä¸”ç»“æœå€¼æˆ–é”™è¯¯ä¿¡æ¯å°†ä¸å¯æ”¹å˜ã€‚**

#### Promiseçš„ä¼˜ç‚¹

1. **æ›´å¥½çš„é”™è¯¯å¤„ç†**
   ï¼šä½¿ç”¨
   `try/catch`
   æœºåˆ¶å’Œé“¾å¼
   `.catch()`
   æ–¹æ³•ä½¿å¾—é”™è¯¯å¤„ç†æ›´åŠ ç›´è§‚å’Œæ˜“äºç®¡ç†ã€‚
2. **é¿å…å›è°ƒåœ°ç‹±**
   ï¼šç›¸æ¯”äºåµŒå¥—çš„å›è°ƒå‡½æ•°ï¼ŒPromiseå…è®¸ä½ ä»¥æ›´çº¿æ€§ã€æ›´æ¸…æ™°çš„æ–¹å¼ç¼–å†™å¼‚æ­¥ä»£ç ã€‚
3. **é“¾å¼è°ƒç”¨**
   ï¼šå¯ä»¥æ–¹ä¾¿åœ°é“¾æ¥å¤šä¸ªå¼‚æ­¥æ“ä½œï¼Œæ¯ä¸ªæ“ä½œéƒ½ç­‰å¾…å‰ä¸€ä¸ªæ“ä½œå®Œæˆåæ‰å¼€å§‹ï¼Œå¹¶èƒ½å¤Ÿä¼ é€’æ•°æ®ã€‚
4. **å†…ç½®æ”¯æŒ**
   ï¼šç°ä»£æµè§ˆå™¨å’ŒNode.jsç¯å¢ƒå¯¹Promiseæä¾›äº†åŸç”Ÿæ”¯æŒï¼Œæ— éœ€é¢å¤–åº“ã€‚

#### Promiseçš„ç¼ºç‚¹

1. **å¤æ‚åº¦**
   ï¼šè™½ç„¶Promiseç®€åŒ–äº†æŸäº›ç±»å‹çš„å¼‚æ­¥ç¼–ç¨‹é—®é¢˜ï¼Œä½†å¯¹äºåˆå­¦è€…æ¥è¯´ï¼Œç†è§£Promiseçš„çŠ¶æ€è½¬æ¢å’Œå¦‚ä½•æ­£ç¡®ä½¿ç”¨å®ƒä»¬å¯èƒ½å…·æœ‰ä¸€å®šçš„æŒ‘æˆ˜æ€§ã€‚
2. **æ— æ³•å–æ¶ˆ**
   ï¼šä¸€æ—¦åˆ›å»ºäº†ä¸€ä¸ªPromiseï¼Œå°±æ— æ³•å–æ¶ˆå®ƒã€‚è¿™æ„å‘³ç€å¦‚æœéœ€è¦åœæ­¢æŸä¸ªå¼‚æ­¥æ“ä½œï¼Œå¿…é¡»ä¾èµ–å¤–éƒ¨é€»è¾‘æ¥å®ç°ã€‚
3. **è°ƒè¯•å›°éš¾**
   ï¼šå°½ç®¡Promiseæ”¹å–„äº†é”™è¯¯å¤„ç†ï¼Œä½†å½“å‡ºç°é”™è¯¯æ—¶ï¼Œå®šä½åˆ°å…·ä½“çš„å‡ºé”™ç‚¹å¯èƒ½ä¸å¦‚åŒæ­¥ä»£ç é‚£æ ·ç›´è§‚ã€‚
4. **èµ„æºç®¡ç†**
   ï¼šåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç‰¹åˆ«æ˜¯åœ¨æ¶‰åŠå¤§é‡å¹¶å‘å¼‚æ­¥æ“ä½œæ—¶ï¼Œç¡®ä¿æ­£ç¡®çš„èµ„æºç®¡ç†å’Œé‡Šæ”¾å¯èƒ½ä¼šå˜å¾—å¤æ‚ã€‚

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/b7bb51d96ba6401085d5706fd42aa2b2.png#pic_center)

#### Promiseçš„åŸºæœ¬ä½¿ç”¨

##### åˆ›å»ºä¸€ä¸ªPromise

è¦åˆ›å»ºä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ï¼Œä½ éœ€è¦ä½¿ç”¨
`new Promise()`
æ„é€ å‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªæ‰§è¡Œå™¨å‡½æ•°ï¼ˆexecutor functionï¼‰ä½œä¸ºå‚æ•°ã€‚è¿™ä¸ªæ‰§è¡Œå™¨å‡½æ•°æœ¬èº«åˆæ¥å—ä¸¤ä¸ªå‚æ•°ï¼š
`resolve`
å’Œ
`reject`
ã€‚

* `resolve(value)`
  ï¼šå½“å¼‚æ­¥æ“ä½œæˆåŠŸå®Œæˆæ—¶è°ƒç”¨ï¼Œè¡¨ç¤ºè¯¥Promiseè¢«fulfilledï¼ˆå·²æˆåŠŸï¼‰ï¼Œå¹¶ä¸”å¯ä»¥ä¼ é€’ç»“æœå€¼ã€‚
* `reject(error)`
  ï¼šå½“å¼‚æ­¥æ“ä½œå¤±è´¥æ—¶è°ƒç”¨ï¼Œè¡¨ç¤ºè¯¥Promiseè¢«rejectedï¼ˆå·²å¤±è´¥ï¼‰ï¼Œå¹¶ä¼ é€’é”™è¯¯ä¿¡æ¯ã€‚

```javascript
const myPromise = new Promise((resolve, reject) => {
    // æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œ
    setTimeout(() => {
        const success = true; // å‡è®¾è¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„ç»“æœ
        if (success) {
            resolve("æ“ä½œæˆåŠŸ"); // æˆåŠŸæ—¶è°ƒç”¨resolve
        } else {
            reject("æ“ä½œå¤±è´¥"); // å¤±è´¥æ—¶è°ƒç”¨reject
        }
    }, 1000); // æ¨¡æ‹Ÿå»¶è¿Ÿ1ç§’
});

```

##### ä½¿ç”¨Promise

ä¸€æ—¦åˆ›å»ºäº†Promiseï¼Œä½ å¯ä»¥é€šè¿‡
`.then()`
æ–¹æ³•æ¥å¤„ç†æ“ä½œæˆåŠŸçš„æƒ…å†µï¼Œé€šè¿‡
`.catch()`
æ–¹æ³•æ¥å¤„ç†æ“ä½œå¤±è´¥çš„æƒ…å†µã€‚

* `.then(onFulfilled, onRejected)`
  ï¼šæ¥æ”¶ä¸¤ä¸ªå¯é€‰çš„å›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ã€‚ç¬¬ä¸€ä¸ªç”¨äºå¤„ç†Promise fulfilledçš„æƒ…å†µï¼Œç¬¬äºŒä¸ªç”¨äºå¤„ç†rejectedçš„æƒ…å†µã€‚
* `.catch(onRejected)`
  ï¼šä¸“é—¨ç”¨äºå¤„ç†Promise rejectedçš„æƒ…å†µã€‚

```javascript
myPromise
    .then(result => {
        console.log(result); // è¾“å‡º: "æ“ä½œæˆåŠŸ"
    })
    .catch(error => {
        console.error(error); // å¦‚æœæœ‰é”™è¯¯å‘ç”Ÿï¼Œåˆ™è¾“å‡ºé”™è¯¯ä¿¡æ¯
    });

```

##### é“¾å¼è°ƒç”¨

**Promiseæ”¯æŒé“¾å¼è°ƒç”¨ï¼Œè¿™ä½¿å¾—ä½ å¯ä»¥è½»æ¾åœ°å°†å¤šä¸ªå¼‚æ­¥æ“ä½œé“¾æ¥åœ¨ä¸€èµ·ã€‚æ¯ä¸ª
`.then()`
æ–¹æ³•éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„Promiseï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥åœ¨å‰ä¸€ä¸ªæ“ä½œå®Œæˆåå¼€å§‹ä¸‹ä¸€ä¸ªæ“ä½œï¼Œå¹¶ä¸”å¯ä»¥ä»å‰ä¸€ä¸ªæ“ä½œçš„ç»“æœä¸­è·å–æ•°æ®ä¼ é€’ç»™ä¸‹ä¸€ä¸ªæ“ä½œã€‚**

```javascript
myPromise
    .then(result => {
        console.log(result); // è¾“å‡º: "æ“ä½œæˆåŠŸ"
        return "æ–°çš„æ•°æ®"; // è¿”å›æ–°çš„æ•°æ®
    })
    .then(newResult => {
        console.log(newResult); // è¾“å‡º: "æ–°çš„æ•°æ®"
    })
    .catch(error => {
        console.error(error); // å¦‚æœæœ‰é”™è¯¯å‘ç”Ÿï¼Œåˆ™åœ¨è¿™é‡Œæ•è·
    });

```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œç¬¬äºŒä¸ª
`.then()`
ä¼šæ¥æ”¶åˆ°å‰ä¸€ä¸ª
`.then()`
è¿”å›çš„æ•°æ®ã€‚

##### é”™è¯¯å¤„ç†

ä¸ºäº†æ›´å¥½åœ°å¤„ç†é”™è¯¯ï¼Œé€šå¸¸å»ºè®®åœ¨Promiseé“¾çš„æœ«å°¾æ·»åŠ ä¸€ä¸ª
`.catch()`
ï¼Œè¿™æ ·ä»»ä½•æœªè¢«æ•è·çš„é”™è¯¯éƒ½å¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œå¤„ç†ã€‚

```javascript
myPromise
    .then(result => {
        console.log(result);
        throw new Error("æ•…æ„æŠ›å‡ºçš„é”™è¯¯"); // æ•…æ„æŠ›å‡ºä¸€ä¸ªé”™è¯¯
    })
    .then(newResult => {
        console.log(newResult);
    })
    .catch(error => {
        console.error("æ•è·åˆ°é”™è¯¯:", error.message); // è¾“å‡º: "æ•è·åˆ°é”™è¯¯: æ•…æ„æŠ›å‡ºçš„é”™è¯¯"
    });

```

è¿™é‡Œï¼Œå³ä½¿é”™è¯¯æ˜¯åœ¨ä¸­é—´çš„
`.then()`
ä¸­å‘ç”Ÿçš„ï¼Œä¹Ÿä¼šè¢«æœ€åçš„
`.catch()`
æ•æ‰åˆ°ã€‚

## `async` å’Œ `await`

åœ¨ç°ä»£JavaScriptä¸­ï¼Œ
`async`
å’Œ
`await`
æä¾›äº†ä¸€ç§æ›´åŠ ç®€æ´å’Œç›´è§‚çš„æ–¹å¼æ¥å¤„ç†å¼‚æ­¥æ“ä½œã€‚å®ƒä»¬ä½¿å¾—ä»£ç çœ‹èµ·æ¥æ›´åƒåŒæ­¥ä»£ç ï¼Œä»è€Œæé«˜äº†å¯è¯»æ€§å’Œç»´æŠ¤æ€§ã€‚

##### 1) Promise ==> å¼‚æ­¥æ“ä½œçš„åŸºç¡€

Promise æ˜¯ JavaScript ä¸­å¤„ç†å¼‚æ­¥æ“ä½œçš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œå®ƒä»£è¡¨äº†ä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„æœ€ç»ˆå®Œæˆï¼ˆæˆ–å¤±è´¥ï¼‰åŠå…¶ç»“æœå€¼ã€‚é€šè¿‡ Promiseï¼Œæˆ‘ä»¬å¯ä»¥æ›´æ¸…æ™°åœ°ç®¡ç†å¼‚æ­¥ä»£ç æµï¼Œè€Œä¸æ˜¯ä½¿ç”¨ä¼ ç»Ÿçš„å›è°ƒå‡½æ•°æ–¹å¼ã€‚

##### 2) await ==> å°†å¼‚æ­¥è½¬ä¸ºåŒæ­¥é£æ ¼

* `await`
  å¯ä»¥çœ‹ä½œæ˜¯
  `async wait`
  çš„ç¼©å†™ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯
  **ç­‰å¾…ä¸€ä¸ª Promise å¯¹è±¡è¢«è§£å†³ï¼ˆresolvedï¼‰ï¼Œä»è€Œä½¿å¼‚æ­¥ä»£ç çœ‹èµ·æ¥æ›´åŠ åŒæ­¥ã€‚**
* **`await`
  å¿…é¡»åœ¨
  `async`
  å‡½æ•°å†…éƒ¨ä½¿ç”¨ï¼Œä¸èƒ½å•ç‹¬å­˜åœ¨ã€‚**
  å®ƒå¯ä»¥è·Ÿä»»ä½•JavaScriptè¡¨è¾¾å¼ä¸€èµ·ä½¿ç”¨ï¼Œä½†æœ€å¸¸ç”¨äºç­‰å¾…ä¸€ä¸ª Promise å¯¹è±¡ã€‚
* å¦‚æœ
  `await`
  åé¢è·Ÿç€çš„æ˜¯ä¸€ä¸ªæ™®é€šçš„è¡¨è¾¾å¼è€Œé Promiseï¼Œåˆ™è¯¥è¡¨è¾¾å¼çš„å€¼ä¼šè¢«ç«‹å³è¿”å›ï¼Œä¸ä¼šé€ æˆç­‰å¾…ã€‚

##### 3) async ==> æ ‡è¯†å¼‚æ­¥å‡½æ•°

* å½“ä¸€ä¸ªå‡½æ•°ä½“å†…åŒ…å«ä½¿ç”¨
  `await`
  çš„è¡¨è¾¾å¼æ—¶ï¼Œè¿™ä¸ªå‡½æ•°å¿…é¡»ç”¨
  `async`
  å…³é”®å­—å£°æ˜ã€‚è¿™æ ·åšä¼šè‡ªåŠ¨å°†è¯¥å‡½æ•°è½¬æ¢ä¸ºå¼‚æ­¥å‡½æ•°ï¼Œæ„å‘³ç€å®ƒå¯ä»¥æ‰§è¡Œéé˜»å¡çš„æ“ä½œå¹¶è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ã€‚
* ä½¿ç”¨
  `async`
  å®šä¹‰çš„å‡½æ•°æ€»æ˜¯è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå³ä½¿å‡½æ•°å†…éƒ¨ç›´æ¥è¿”å›äº†ä¸€ä¸ªæ™®é€šå€¼ï¼Œè¯¥å€¼ä¹Ÿä¼šè¢«è‡ªåŠ¨åŒ…è£…æˆä¸€ä¸ªå·²è§£å†³ï¼ˆfulfilledï¼‰çš„ Promiseã€‚

#### è¯­æ³•æ¦‚è§ˆ

* **å®šä¹‰ä¸€ä¸ªå¼‚æ­¥å‡½æ•°**
  ï¼šä½¿ç”¨
  `async function`
  å…³é”®å­—æ¥å£°æ˜ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ã€‚

  ```javascript
  async function fetchData() {
    // å¼‚æ­¥æ“ä½œ...
  }

  ```
* **ç­‰å¾…ä¸€ä¸ªPromise**
  ï¼šåœ¨å¼‚æ­¥å‡½æ•°å†…éƒ¨ï¼Œä½¿ç”¨
  `await`
  æ¥æš‚åœæ‰§è¡Œç›´åˆ° Promise è¢«è§£å†³ï¼ˆresolvedï¼‰ã€‚æ³¨æ„ï¼Œ
  `await`
  åªèƒ½åœ¨å¼‚æ­¥å‡½æ•°å†…ä½¿ç”¨ã€‚

  ```javascript
  const data = await fetchData();

  ```

#### å®ä¾‹æ¼”ç¤º

å‡è®¾æˆ‘ä»¬éœ€è¦ä»APIè·å–ä¸€äº›æ•°æ®ï¼Œå¹¶æ ¹æ®è¿™äº›æ•°æ®åšè¿›ä¸€æ­¥å¤„ç†ï¼š

```javascript
async function fetchAndProcessData() {
  try {
    let response = await fetch('https://api.example.com/data');
    if (!response.ok) throw new Error('Network response was not ok');
    let data = await response.json(); // è§£æJSONæ•°æ®
    console.log(data);
  } catch (error) {
    console.error('Failed to fetch data:', error);
  }
}

fetchAndProcessData();

```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆè°ƒç”¨
`fetch`
å‡½æ•°å‘èµ·ç½‘ç»œè¯·æ±‚ã€‚ç”±äº
`fetch`
è¿”å›çš„æ˜¯ä¸€ä¸ª Promiseï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨
`await`
æ¥ç­‰å¾…è¿™ä¸ª Promise å®Œæˆã€‚å¦‚æœè¯·æ±‚æˆåŠŸï¼Œæˆ‘ä»¬ä¼šè¿›ä¸€æ­¥è§£æå“åº”ä½“ä¸­çš„ JSON æ•°æ®ï¼›å¦‚æœè¯·æ±‚å¤±è´¥æˆ–é‡åˆ°å¼‚å¸¸ï¼Œä¼šé€šè¿‡
`catch`
å—æ•è·å¹¶å¤„ç†é”™è¯¯ã€‚

### æ³¨æ„ç‚¹

1. **`await`
   åªèƒ½åœ¨
   `async`
   å‡½æ•°ä¸­ä½¿ç”¨ï¼šå°è¯•åœ¨éå¼‚æ­¥å‡½æ•°ä¸­ä½¿ç”¨
   `await`
   å°†ä¼šå¯¼è‡´è¯­æ³•é”™è¯¯ã€‚**
2. **é”™è¯¯å¤„ç†**
   ï¼šå½“ä½¿ç”¨
   `await`
   æ—¶ï¼Œ
   **æ¨èä½¿ç”¨
   `try...catch`
   ç»“æ„æ¥æ•è·å¯èƒ½çš„å¼‚å¸¸ã€‚**
   å› ä¸ºå¼‚æ­¥å‡½æ•°å†…çš„ä»»ä½•æœªæ•è·çš„é”™è¯¯éƒ½ä¼šå¯¼è‡´è¿”å›çš„ Promise è¢«æ‹’ç»ã€‚
3. **å¹¶å‘æ‰§è¡Œ**
   ï¼šå¦‚æœä½ æœ‰å¤šä¸ªç‹¬ç«‹çš„å¼‚æ­¥ä»»åŠ¡éœ€è¦åŒæ—¶æ‰§è¡Œï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨
   `Promise.all()`
   æ¥ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆã€‚è¿™æ ·å¯ä»¥æé«˜æ€§èƒ½ï¼Œå› ä¸ºå®ƒå…è®¸ä»»åŠ¡å¹¶è¡Œè¿è¡Œã€‚

   ```javascript
   async function getData() {
     let [data1, data2] = await Promise.all([fetchData1(), fetchData2()]);
     console.log(data1, data2);
   }

   ```
4. **ç†è§£è¿”å›å€¼**
   ï¼šè®°ä½ï¼Œ
   `async`
   å‡½æ•°æ€»æ˜¯è¿”å›ä¸€ä¸ª Promiseã€‚å³ä½¿ä½ åœ¨å‡½æ•°ä¸­ç›´æ¥è¿”å›äº†ä¸€ä¸ªæ™®é€šå€¼ï¼Œå®ƒä¹Ÿä¼šè¢«è‡ªåŠ¨åŒ…è£…è¿›ä¸€ä¸ªå·²è§£å†³çš„ Promise ä¸­ã€‚
5. **è°ƒè¯•**
   ï¼šç”±äº
   `await`
   æš‚åœäº†å‡½æ•°çš„æ‰§è¡Œï¼Œè¿™å¯èƒ½ä¼šç»™è°ƒè¯•å¸¦æ¥ä¸€å®šçš„å¤æ‚æ€§ã€‚ç¡®ä¿ä½ ç†è§£æ¯ä¸ª
   `await`
   çš„ä½ç½®ä»¥åŠå®ƒå¦‚ä½•å½±å“ä»£ç çš„æ‰§è¡Œæµç¨‹ã€‚

æ˜ç™½äº†ï¼Œæˆ‘ä¼šå°†æ‚¨æœ€åˆæä¾›çš„å†…å®¹ä¸è¯¦ç»†çš„è§£é‡Šã€ç¤ºä¾‹å’Œé¢å¤–çš„ä¿¡æ¯æ•´åˆåœ¨ä¸€èµ·ï¼Œä»¥ä¾¿ä¸ºæ‚¨æä¾›ä¸€ä¸ªå…¨é¢çš„å…³äº
`XMLHttpRequest`
çš„æŒ‡å—ã€‚

## `XMLHttpRequest`

`XMLHttpRequest`
ï¼ˆç®€ç§°XHRï¼‰æ˜¯ä¸€ä¸ªç”¨äºåœ¨æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼ è¾“æ•°æ®çš„JavaScriptå¯¹è±¡ã€‚å®ƒå…è®¸æ‚¨å‘é€è¯·æ±‚å¹¶å¤„ç†å“åº”ï¼Œè€Œæ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ï¼Œä»è€Œå®ç°åŠ¨æ€ç½‘é¡µå†…å®¹æ›´æ–°ã€‚

#### æ¦‚è¿°

`XMLHttpRequest`
æœ€æ—©ç”±å¾®è½¯å¼•å…¥ï¼Œä½œä¸ºActiveXå¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œåæ¥è¢«å…¶ä»–æµè§ˆå™¨å‚å•†é‡‡çº³å¹¶æ ‡å‡†åŒ–ï¼Œæˆä¸ºäº†ç°ä»£Webå¼€å‘ä¸­å¤„ç†å¼‚æ­¥æ•°æ®äº¤æ¢çš„æ ¸å¿ƒæŠ€æœ¯ä¹‹ä¸€ã€‚

#### ä¸»è¦å±æ€§ä¸æ–¹æ³•

* **åˆ›å»ºXHRå¯¹è±¡**
  ï¼š

  ```javascript
  var xhr = new XMLHttpRequest();

  ```
* **open(method, url, async, user, password)**
  ï¼šåˆå§‹åŒ–ä¸€ä¸ªè¯·æ±‚ã€‚

  + `method`
    ï¼šHTTPæ–¹æ³•ï¼ˆGETã€POSTç­‰ï¼‰ã€‚
  + `url`
    ï¼šè¯·æ±‚çš„ç›®æ ‡URLã€‚
  + `async`
    ï¼šæ˜¯å¦å¼‚æ­¥æ‰§è¡Œï¼ˆé€šå¸¸æ˜¯
    `true`
    ï¼‰ã€‚
  + `user`
    ,
    `password`
    ï¼šå¯é€‰å‚æ•°ï¼Œç”¨äºè®¤è¯ã€‚
* **send(body)**
  ï¼šå‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ã€‚

  + å¯¹äºGETè¯·æ±‚ï¼Œé€šå¸¸ä¼ é€’
    `null`
    æˆ–ä¸ä¼ é€’å‚æ•°ã€‚
  + å¯¹äºPOSTè¯·æ±‚ï¼Œä¼ é€’è¯·æ±‚ä½“æ•°æ®ã€‚
* **setRequestHeader(header, value)**
  ï¼šè®¾ç½®HTTPè¯·æ±‚å¤´çš„å€¼ã€‚

  + å¿…é¡»åœ¨
    `open()`
    ä¹‹åä½†åœ¨
    `send()`
    ä¹‹å‰è°ƒç”¨ã€‚
* **onreadystatechange**
  ï¼šå½“
  `readyState`
  å±æ€§æ”¹å˜æ—¶è§¦å‘çš„äº‹ä»¶å¤„ç†å™¨ã€‚

  + æ£€æŸ¥
    `xhr.readyState === 4 && xhr.status === 200`
    æ¥ç¡®è®¤è¯·æ±‚æˆåŠŸå®Œæˆã€‚
* **responseType**
  ï¼šè®¾ç½®å“åº”çš„æ•°æ®ç±»å‹ï¼ˆå¦‚
  `''`
  ,
  `'arraybuffer'`
  ,
  `'blob'`
  ,
  `'document'`
  ,
  `'json'`
  ,
  `'text'`
  ï¼‰ã€‚
* **response**
  ï¼šè¿”å›ä»æœåŠ¡å™¨æ¥æ”¶åˆ°çš„å“åº”æ•°æ®ï¼Œæ ¼å¼ç”±
  `responseType`
  å†³å®šã€‚

#### åŸºæœ¬æ¨¡æ¿æ­¥éª¤

1. **åˆ›å»º
   `XMLHttpRequest`
   å¯¹è±¡**
   ï¼šè¿™æ˜¯å‘èµ·è¯·æ±‚çš„ç¬¬ä¸€æ­¥ã€‚
2. **è°ƒç”¨
   `open`
   æ–¹æ³•**
   ï¼šåˆå§‹åŒ–ä¸€ä¸ªæ–°çš„è¯·æ±‚æˆ–é‡ç½®ä¸€ä¸ªç°æœ‰çš„è¯·æ±‚ã€‚
3. **ç»‘å®šäº‹ä»¶ç›‘å¬å™¨**
   ï¼šé€šå¸¸æ˜¯åœ¨
   `readystatechange`
   äº‹ä»¶ä¸Šè®¾ç½®å›è°ƒå‡½æ•°æ¥å¤„ç†æœåŠ¡å™¨å“åº”ã€‚
4. **è°ƒç”¨
   `send`
   æ–¹æ³•**
   ï¼šå‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ã€‚å¯¹äºGETè¯·æ±‚ï¼Œå‚æ•°é€šå¸¸æ˜¯
   `null`
   ï¼›å¯¹äºPOSTè¯·æ±‚ï¼Œåˆ™éœ€è¦ä¼ é€’æ•°æ®ã€‚

#### å®Œæ•´ç¤ºä¾‹

ä»¥ä¸‹æ˜¯ä¸€ä¸ªæŒ‰ç…§ä¸Šè¿°æ­¥éª¤ç¼–å†™çš„å®Œæ•´ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨
`XMLHttpRequest`
å‘é€ä¸€ä¸ªGETè¯·æ±‚å¹¶å¤„ç†å“åº”ï¼š

```javascript
// 1. åˆ›å»º XMLHttpRequest å¯¹è±¡
var xhr = new XMLHttpRequest();

// 2. ä½¿ç”¨ open æ–¹æ³•åˆå§‹åŒ–è¯·æ±‚
xhr.open('GET', 'https://api.example.com/data', true);

// è®¾ç½®å“åº”ç±»å‹ä¸º JSONï¼ˆå¯é€‰ï¼‰
xhr.responseType = 'json';

// 3. ç»‘å®šäº‹ä»¶ç›‘å¬å™¨
xhr.onreadystatechange = function() {
    // æ£€æŸ¥è¯·æ±‚æ˜¯å¦å®Œæˆå¹¶ä¸”æˆåŠŸ
    if (xhr.readyState === 4) { // readyState 4 è¡¨ç¤ºè¯·æ±‚å·²å®Œæˆ
        if (xhr.status >= 200 && xhr.status < 300) { // æˆåŠŸçŠ¶æ€ç èŒƒå›´
            console.log('Response:', xhr.response);
        } else {
            console.error('Error: ', xhr.status, xhr.statusText);
        }
    }
};

// å¯ä»¥åœ¨è¿™é‡Œè®¾ç½®è¯·æ±‚å¤´ï¼ˆé€‚ç”¨äº POST è¯·æ±‚ç­‰ï¼‰
// xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');

// 4. å‘é€è¯·æ±‚
xhr.send(null); // å¯¹äº GET è¯·æ±‚ï¼Œsend å‚æ•°é€šå¸¸æ˜¯ null

```

**ç‰¹åˆ«çš„ï¼š
`xhr.status`
å’Œ
`xhr.statusText`
ï¼Œå®ƒä»¬æ˜¯åœ¨å¤„ç†XMLHttpRequestå¯¹è±¡çš„å“åº”æ—¶è‡ªåŠ¨æä¾›çš„å±æ€§ï¼Œè€Œä¸æ˜¯éœ€è¦æ‚¨ä¸»åŠ¨æ¥å—çš„å‚æ•°**

#### å…³é”®ç‚¹æ€»ç»“

* **åˆ›å»ºå¯¹è±¡**
  ï¼šé€šè¿‡
  `new XMLHttpRequest()`
  åˆ›å»ºä¸€ä¸ªæ–°çš„è¯·æ±‚å¯¹è±¡ã€‚
* **åˆå§‹åŒ–è¯·æ±‚**
  ï¼šä½¿ç”¨
  `open`
  æ–¹æ³•è®¾ç½®HTTPæ–¹æ³•ã€URLå’Œå…¶ä»–é€‰é¡¹ã€‚
* **è®¾ç½®äº‹ä»¶ç›‘å¬å™¨**
  ï¼šåœ¨
  `onreadystatechange`
  ä¸­æ£€æŸ¥è¯·æ±‚çš„çŠ¶æ€ï¼Œå¹¶æ ¹æ®çŠ¶æ€ç åˆ¤æ–­è¯·æ±‚æ˜¯å¦æˆåŠŸã€‚
* **å‘é€è¯·æ±‚**
  ï¼šä½¿ç”¨
  `send`
  æ–¹æ³•å‘é€è¯·æ±‚ï¼Œå¯¹äºPOSTè¯·æ±‚ï¼Œå¯ä»¥é€šè¿‡è¯¥æ–¹æ³•ä¼ é€’è¯·æ±‚ä½“æ•°æ®ã€‚

## `Axios`

#### æ¦‚è¿°

Axios æ˜¯ä¸€ä¸ªåŸºäº Promise çš„ HTTP å®¢æˆ·ç«¯ï¼Œé€‚ç”¨äºæµè§ˆå™¨å’Œ Node.js ç¯å¢ƒã€‚
**å®ƒå…è®¸å¼€å‘è€…é€šè¿‡ç®€æ´çš„ API å‘èµ· HTTP è¯·æ±‚ï¼Œå¹¶ä¸”æ”¯æŒæ‹¦æˆªè¯·æ±‚å’Œå“åº”ã€å–æ¶ˆè¯·æ±‚ã€è‡ªåŠ¨è½¬æ¢ JSON æ•°æ®ç­‰ç‰¹æ€§ ã€‚**

#### å†å²èƒŒæ™¯

Axios è¯ç”Ÿäºéœ€è¦æ›´ç°ä»£åŒ–çš„æ–¹å¼æ¥å¤„ç†ç½‘ç»œè¯·æ±‚çš„éœ€æ±‚ä¹‹ä¸­ï¼Œç‰¹åˆ«æ˜¯åœ¨ JavaScript ä¸­ä½¿ç”¨ Promise æ¥ç®€åŒ–å¼‚æ­¥ç¼–ç¨‹çš„é—®é¢˜ã€‚åœ¨ Axios å‡ºç°ä¹‹å‰ï¼Œå¼€å‘è€…é€šå¸¸ä¾èµ–äº XMLHttpRequest å¯¹è±¡æˆ–è€… jQuery æä¾›çš„ AJAX æ–¹æ³•æ¥è¿›è¡Œç½‘ç»œé€šä¿¡ã€‚ç„¶è€Œï¼Œè¿™äº›æ–¹æ³•å¾€å¾€ä¼´éšç€å›è°ƒåœ°ç‹±çš„é—®é¢˜ï¼Œè€Œ Axios é€šè¿‡æä¾›åŸºäº Promise çš„æ¥å£è§£å†³äº†è¿™ä¸€é—®é¢˜ ã€‚

#### åˆ›å»ºä¸€ä¸ªå®ä¾‹

* æ‚¨å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰é…ç½®æ–°å»ºä¸€ä¸ªå®ä¾‹
* axios.create([config])

```js
const instance = axios.create({
  baseURL: 'https://some-domain.com/api/',
  timeout: 1000,
  headers: {'X-Custom-Header': 'foobar'}
});

```

#### è¯·æ±‚é…ç½®

è¿™äº›æ˜¯åˆ›å»ºè¯·æ±‚æ—¶å¯ä»¥ç”¨çš„é…ç½®é€‰é¡¹ã€‚
**åªæœ‰
`url`
æ˜¯å¿…éœ€çš„ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®š
`method`
ï¼Œè¯·æ±‚å°†é»˜è®¤ä½¿ç”¨
`GET`
æ–¹æ³•ã€‚**

ä¸‹é¢æ˜¯ä¸€ä¸ªç®€åŒ–çš„ä¾‹å­ï¼Œä»…ä¿ç•™äº†æœ€å¸¸ç”¨çš„éƒ¨åˆ†ï¼š

```javascript
{
  // `url` æ˜¯ç”¨äºè¯·æ±‚çš„æœåŠ¡å™¨ URL
  url: '/user',

  // `method` æ˜¯åˆ›å»ºè¯·æ±‚æ—¶ä½¿ç”¨çš„æ–¹æ³•ï¼Œé»˜è®¤ä¸º 'get'
  method: 'get', 

  // `baseURL` å°†è‡ªåŠ¨åŠ åœ¨ `url` å‰é¢ï¼Œé™¤é `url` æ˜¯ä¸€ä¸ªç»å¯¹ URLã€‚
  baseURL: 'https://some-domain.com/api/',

  // è‡ªå®šä¹‰è¯·æ±‚å¤´
  headers: {'X-Requested-With': 'XMLHttpRequest'},

  // `params` æ˜¯ä¸è¯·æ±‚ä¸€èµ·å‘é€çš„ URL å‚æ•°
  params: {
    ID: 12345
  },

  // `data` æ˜¯ä½œä¸ºè¯·æ±‚ä½“è¢«å‘é€çš„æ•°æ®ï¼Œé€‚ç”¨äº 'PUT', 'POST', 'DELETE', 'PATCH' è¯·æ±‚æ–¹æ³•
  data: {
    firstName: 'Fred'
  },

  // `timeout` æŒ‡å®šè¯·æ±‚è¶…æ—¶çš„æ¯«ç§’æ•°ã€‚
  timeout: 1000, 

  // `withCredentials` è¡¨ç¤ºè·¨åŸŸè¯·æ±‚æ—¶æ˜¯å¦éœ€è¦ä½¿ç”¨å‡­è¯
  withCredentials: false,

  // `responseType` è¡¨ç¤ºæµè§ˆå™¨å°†è¦å“åº”çš„æ•°æ®ç±»å‹ï¼Œé»˜è®¤ä¸º 'json'
  responseType: 'json',

  // `validateStatus` å®šä¹‰äº†å¯¹äºç»™å®šçš„ HTTPçŠ¶æ€ç æ˜¯ resolve è¿˜æ˜¯ reject promiseã€‚
  validateStatus: function (status) {
    return status >= 200 && status < 300; 
  }
}

```

\*\*
æ­¤å¤–ï¼Œå¦‚æœæ‚¨å‘ç°æŸäº›é…ç½®ï¼ˆå¦‚
`headers`
,
`baseURL`
,
`timeout`
ï¼‰åœ¨å¤šæ•°è¯·æ±‚ä¸­éƒ½æ˜¯ç›¸åŒçš„ï¼Œå¯ä»¥è€ƒè™‘åˆ›å»ºä¸€ä¸ª Axios å®ä¾‹å¹¶è®¾ç½®é»˜è®¤é…ç½®ï¼Œè¿™æ ·å°±ä¸éœ€è¦åœ¨æ¯æ¬¡è¯·æ±‚æ—¶éƒ½æŒ‡å®šå®ƒä»¬ã€‚
\*\*ä¾‹å¦‚ï¼š

```javascript
const instance = axios.create({
  baseURL: 'https://some-domain.com/api/',
  timeout: 1000,
  headers: {'X-Requested-With': 'XMLHttpRequest'}
});

// ä½¿ç”¨å®ä¾‹å‘èµ·è¯·æ±‚
instance.get('/user', {
  params: {
    ID: 12345
  }
})
.then(response => console.log(response))
.catch(error => console.error(error));

```

#### å“åº”ç»“æ„

ä¸€ä¸ªè¯·æ±‚çš„å“åº”åŒ…å«ä»¥ä¸‹ä¿¡æ¯ã€‚

```js
{
  // `data` ç”±æœåŠ¡å™¨æä¾›çš„å“åº”
  data: {},

  // `status` æ¥è‡ªæœåŠ¡å™¨å“åº”çš„ HTTP çŠ¶æ€ç 
  status: 200,

  // `statusText` æ¥è‡ªæœåŠ¡å™¨å“åº”çš„ HTTP çŠ¶æ€ä¿¡æ¯
  statusText: 'OK',

  // `headers` æ˜¯æœåŠ¡å™¨å“åº”å¤´
  // æ‰€æœ‰çš„ header åç§°éƒ½æ˜¯å°å†™ï¼Œè€Œä¸”å¯ä»¥ä½¿ç”¨æ–¹æ‹¬å·è¯­æ³•è®¿é—®
  // ä¾‹å¦‚: `response.headers['content-type']`
  headers: {},

  // `config` æ˜¯ `axios` è¯·æ±‚çš„é…ç½®ä¿¡æ¯
  config: {},

  // `request` æ˜¯ç”Ÿæˆæ­¤å“åº”çš„è¯·æ±‚
  // åœ¨node.jsä¸­å®ƒæ˜¯æœ€åä¸€ä¸ªClientRequestå®ä¾‹ (in redirects)ï¼Œ
  // åœ¨æµè§ˆå™¨ä¸­åˆ™æ˜¯ XMLHttpRequest å®ä¾‹
  request: {}
}

```

å½“ä½¿ç”¨
`then`
æ—¶ï¼Œæ‚¨å°†æ¥æ”¶å¦‚ä¸‹å“åº”:

```js
axios.get('/user/12345')
  .then(function (response) {
    console.log(response.data);
    console.log(response.status);
    console.log(response.statusText);
    console.log(response.headers);
    console.log(response.config);
  });

```

å½“ä½¿ç”¨
`catch`
ï¼Œæˆ–è€…ä¼ é€’ä¸€ä¸ª
`rejection callback`
ä½œä¸º
`then`
çš„ç¬¬äºŒä¸ªå‚æ•°æ—¶ï¼Œå“åº”å¯ä»¥é€šè¿‡
`error`
å¯¹è±¡è¢«ä½¿ç”¨ï¼Œæ­£å¦‚åœ¨é”™è¯¯å¤„ç†éƒ¨åˆ†è§£é‡Šçš„é‚£æ ·ã€‚

#### é»˜è®¤é…ç½®

**æ‚¨å¯ä»¥æŒ‡å®šé»˜è®¤é…ç½®ï¼Œå®ƒå°†ä½œç”¨äºæ¯ä¸ªè¯·æ±‚ã€‚**

##### å…¨å±€ axios é»˜è®¤å€¼

```js
axios.defaults.baseURL = 'https://api.example.com';
axios.defaults.headers.common['Authorization'] = AUTH_TOKEN;
axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';

```

##### è‡ªå®šä¹‰å®ä¾‹é»˜è®¤å€¼

```js
// åˆ›å»ºå®ä¾‹æ—¶é…ç½®é»˜è®¤å€¼
const instance = axios.create({
  baseURL: 'https://api.example.com'
});

// åˆ›å»ºå®ä¾‹åä¿®æ”¹é»˜è®¤å€¼
instance.defaults.headers.common['Authorization'] = AUTH_TOKEN;

```

##### é…ç½®çš„ä¼˜å…ˆçº§

é…ç½®å°†ä¼šæŒ‰ä¼˜å…ˆçº§è¿›è¡Œåˆå¹¶ã€‚å®ƒçš„é¡ºåºæ˜¯ï¼šåœ¨
[lib/defaults.js](https://github.com/axios/axios/blob/master/lib/defaults.js#L28)
ä¸­æ‰¾åˆ°çš„åº“é»˜è®¤å€¼ï¼Œç„¶åæ˜¯å®ä¾‹çš„
`defaults`
å±æ€§ï¼Œæœ€åæ˜¯è¯·æ±‚çš„
`config`
å‚æ•°ã€‚åé¢çš„ä¼˜å…ˆçº§è¦é«˜äºå‰é¢çš„ã€‚

```js
// ä½¿ç”¨åº“æä¾›çš„é»˜è®¤é…ç½®åˆ›å»ºå®ä¾‹
// æ­¤æ—¶è¶…æ—¶é…ç½®çš„é»˜è®¤å€¼æ˜¯ `0`
const instance = axios.create();

// é‡å†™åº“çš„è¶…æ—¶é»˜è®¤å€¼
// ç°åœ¨ï¼Œæ‰€æœ‰ä½¿ç”¨æ­¤å®ä¾‹çš„è¯·æ±‚éƒ½å°†ç­‰å¾…2.5ç§’ï¼Œç„¶åæ‰ä¼šè¶…æ—¶
instance.defaults.timeout = 2500;

// é‡å†™æ­¤è¯·æ±‚çš„è¶…æ—¶æ—¶é—´ï¼Œå› ä¸ºè¯¥è¯·æ±‚éœ€è¦å¾ˆé•¿æ—¶é—´
instance.get('/longRequest', {
  timeout: 5000
});

```

#### æ‹¦æˆªå™¨

**åœ¨è¯·æ±‚æˆ–å“åº”è¢« then æˆ– catch å¤„ç†å‰æ‹¦æˆªå®ƒä»¬ã€‚**

```js
// æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨
axios.interceptors.request.use(function (config) {
    // åœ¨å‘é€è¯·æ±‚ä¹‹å‰åšäº›ä»€ä¹ˆ
    return config;
  }, function (error) {
    // å¯¹è¯·æ±‚é”™è¯¯åšäº›ä»€ä¹ˆ
    return Promise.reject(error);
  });

// æ·»åŠ å“åº”æ‹¦æˆªå™¨
axios.interceptors.response.use(function (response) {
    // 2xx èŒƒå›´å†…çš„çŠ¶æ€ç éƒ½ä¼šè§¦å‘è¯¥å‡½æ•°ã€‚
    // å¯¹å“åº”æ•°æ®åšç‚¹ä»€ä¹ˆ
    return response;
  }, function (error) {
    // è¶…å‡º 2xx èŒƒå›´çš„çŠ¶æ€ç éƒ½ä¼šè§¦å‘è¯¥å‡½æ•°ã€‚
    // å¯¹å“åº”é”™è¯¯åšç‚¹ä»€ä¹ˆ
    return Promise.reject(error);
  });

```

å¦‚æœä½ ç¨åéœ€è¦ç§»é™¤æ‹¦æˆªå™¨ï¼Œå¯ä»¥è¿™æ ·ï¼š

```js
const myInterceptor = axios.interceptors.request.use(function () {/*...*/});
axios.interceptors.request.eject(myInterceptor);

```

å¯ä»¥ç»™è‡ªå®šä¹‰çš„ axios å®ä¾‹æ·»åŠ æ‹¦æˆªå™¨ã€‚

```js
const instance = axios.create();
instance.interceptors.request.use(function () {/*...*/});

```

#### é”™è¯¯å¤„ç†

```js
axios.get('/user/12345')
  .catch(function (error) {
    if (error.response) {
      // è¯·æ±‚æˆåŠŸå‘å‡ºä¸”æœåŠ¡å™¨ä¹Ÿå“åº”äº†çŠ¶æ€ç ï¼Œä½†çŠ¶æ€ä»£ç è¶…å‡ºäº† 2xx çš„èŒƒå›´
      console.log(error.response.data);
      console.log(error.response.status);
      console.log(error.response.headers);
    } else if (error.request) {
      // è¯·æ±‚å·²ç»æˆåŠŸå‘èµ·ï¼Œä½†æ²¡æœ‰æ”¶åˆ°å“åº”
      // `error.request` åœ¨æµè§ˆå™¨ä¸­æ˜¯ XMLHttpRequest çš„å®ä¾‹ï¼Œ
      // è€Œåœ¨node.jsä¸­æ˜¯ http.ClientRequest çš„å®ä¾‹
      console.log(error.request);
    } else {
      // å‘é€è¯·æ±‚æ—¶å‡ºäº†ç‚¹é—®é¢˜
      console.log('Error', error.message);
    }
    console.log(error.config);
  });

```

ä½¿ç”¨
`validateStatus`
é…ç½®é€‰é¡¹ï¼Œå¯ä»¥è‡ªå®šä¹‰æŠ›å‡ºé”™è¯¯çš„ HTTP codeã€‚

```js
axios.get('/user/12345', {
  validateStatus: function (status) {
    return status < 500; // å¤„ç†çŠ¶æ€ç å°äº500çš„æƒ…å†µ
  }
})

```

ä½¿ç”¨
`toJSON`
å¯ä»¥è·å–æ›´å¤šå…³äºHTTPé”™è¯¯çš„ä¿¡æ¯ã€‚

```js
axios.get('/user/12345')
  .catch(function (error) {
    console.log(error.toJSON());
  });

```

#### ç»„ä»¶å°è£…

ä¸ºäº†æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¤ç”¨æ€§ï¼Œå¸¸å¸¸éœ€è¦å¯¹ Axios è¿›è¡Œå°è£…ã€‚å°è£…å¯ä»¥åŒ…å«è®¾ç½®é»˜è®¤é…ç½®ï¼ˆå¦‚ baseURLï¼‰ã€æ·»åŠ è¯·æ±‚/å“åº”æ‹¦æˆªå™¨ç­‰åŠŸèƒ½ ã€‚

##### åˆ›å»º Axios å®ä¾‹

é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ª Axios å®ä¾‹å¹¶è®¾ç½®ä¸€äº›é»˜è®¤å€¼ï¼š

```javascript
const instance = axios.create({
  baseURL: 'https://api.example.com',
  timeout: 1000,
  headers: {'X-Custom-Header': 'foobar'}
});

```

##### è¯·æ±‚æ‹¦æˆªå™¨

å¯ä»¥åœ¨è¯·æ±‚å‘é€å‰å¯¹è¯·æ±‚è¿›è¡Œå¤„ç†ï¼Œæ¯”å¦‚æ·»åŠ  tokenï¼š

```javascript
instance.interceptors.request.use(config => {
  const token = localStorage.getItem('token');
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
}, error => Promise.reject(error));

```

##### å“åº”æ‹¦æˆªå™¨

å¯ä»¥å¯¹å“åº”æ•°æ®è¿›è¡Œç»Ÿä¸€å¤„ç†ï¼Œä¾‹å¦‚ç®€åŒ–é”™è¯¯å¤„ç†é€»è¾‘ï¼š

```javascript
instance.interceptors.response.use(response => response.data, error => {
  if (error.response && error.response.status === 401) {
    // å¤„ç†æœªæˆæƒé”™è¯¯
  }
  return Promise.reject(error);
});

```

#### Axios åœ¨ Vue.js ä¸­çš„åº”ç”¨

åœ¨ Vue.js é¡¹ç›®ä¸­ï¼Œå¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªä¸“é—¨çš„æ–‡ä»¶æ¥å°è£… Axios å®ä¾‹ï¼Œå¹¶å°†å…¶æŒ‚è½½åˆ° Vue å®ä¾‹ä¸Šä»¥ä¾¿å…¨å±€ä½¿ç”¨ ã€‚

```javascript
// src/utils/request.js
import axios from 'axios';

const request = axios.create({
  baseURL: process.env.VUE_APP_BASE_API,
  timeout: 5000
});

request.interceptors.request.use(config => {
  // åœ¨å‘é€è¯·æ±‚ä¹‹å‰åšäº›ä»€ä¹ˆ
  return config;
}, error => {
  // å¯¹è¯·æ±‚é”™è¯¯åšäº›ä»€ä¹ˆ
  return Promise.reject(error);
});

request.interceptors.response.use(response => {
  // å¯¹å“åº”æ•°æ®åšç‚¹ä»€ä¹ˆ
  return response.data;
}, error => {
  // å¯¹å“åº”é”™è¯¯åšç‚¹ä»€ä¹ˆ
  return Promise.reject(error);
});

export default request;

// main.js
import Vue from 'vue';
import App from './App.vue';
import request from './utils/request';

Vue.prototype.$http = request;

new Vue({
  render: h => h(App),
}).$mount('#app');

// åœ¨ç»„ä»¶å†…ä½¿ç”¨
this.$http.get('/user').then(response => {
  console.log(response);
});

```

## Fetch API

Fetch API æ˜¯ä¸€ä¸ªç°ä»£çš„ç½‘ç»œè¯·æ±‚å·¥å…·ï¼Œå®ƒå…è®¸ä½ é€šè¿‡ JavaScript å¼‚æ­¥åœ°è¯·æ±‚èµ„æºï¼Œè€Œä¸éœ€è¦ä½¿ç”¨ä¼ ç»Ÿçš„ XMLHttpRequest å¯¹è±¡ã€‚Fetch API æä¾›äº†æ›´å¼ºå¤§å’Œçµæ´»çš„åŠŸèƒ½é›†ï¼Œå¹¶ä¸”åŸºäº Promise å®ç°ã€‚

### åŸºæœ¬ç”¨æ³•

* `fetch(url)`
  å‘å‡º HTTP è¯·æ±‚ï¼Œè¿”å›ä¸€ä¸ª Promise å¯¹è±¡ã€‚
* ä½¿ç”¨
  `.then()`
  æˆ–
  `async/await`
  æ¥å¤„ç†è¯·æ±‚ç»“æœã€‚

**`fetch()`
çš„åŠŸèƒ½ä¸ XMLHttpRequest åŸºæœ¬ç›¸åŒï¼Œä½†æœ‰ä¸‰ä¸ªä¸»è¦çš„å·®å¼‚ã€‚**

ï¼ˆ1ï¼‰
`fetch()`
ä½¿ç”¨ Promiseï¼Œä¸ä½¿ç”¨å›è°ƒå‡½æ•°ï¼Œå› æ­¤å¤§å¤§ç®€åŒ–äº†å†™æ³•ï¼Œå†™èµ·æ¥æ›´ç®€æ´ã€‚

ï¼ˆ2ï¼‰
`fetch()`
é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼ŒAPI åˆ†æ•£åœ¨å¤šä¸ªå¯¹è±¡ä¸Šï¼ˆResponse å¯¹è±¡ã€Request å¯¹è±¡ã€Headers å¯¹è±¡ï¼‰ï¼Œæ›´åˆç†ä¸€äº›ï¼›ç›¸æ¯”ä¹‹ä¸‹ï¼ŒXMLHttpRequest çš„ API è®¾è®¡å¹¶ä¸æ˜¯å¾ˆå¥½ï¼Œè¾“å…¥ã€è¾“å‡ºã€çŠ¶æ€éƒ½åœ¨åŒä¸€ä¸ªæ¥å£ç®¡ç†ï¼Œå®¹æ˜“å†™å‡ºéå¸¸æ··ä¹±çš„ä»£ç ã€‚

ï¼ˆ3ï¼‰
`fetch()`
é€šè¿‡æ•°æ®æµï¼ˆStream å¯¹è±¡ï¼‰å¤„ç†æ•°æ®ï¼Œå¯ä»¥åˆ†å—è¯»å–ï¼Œæœ‰åˆ©äºæé«˜ç½‘ç«™æ€§èƒ½è¡¨ç°ï¼Œå‡å°‘å†…å­˜å ç”¨ï¼Œå¯¹äºè¯·æ±‚å¤§æ–‡ä»¶æˆ–è€…ç½‘é€Ÿæ…¢çš„åœºæ™¯ç›¸å½“æœ‰ç”¨ã€‚XMLHTTPRequest å¯¹è±¡ä¸æ”¯æŒæ•°æ®æµï¼Œæ‰€æœ‰çš„æ•°æ®å¿…é¡»æ”¾åœ¨ç¼“å­˜é‡Œï¼Œä¸æ”¯æŒåˆ†å—è¯»å–ï¼Œå¿…é¡»ç­‰å¾…å…¨éƒ¨æ‹¿åˆ°åï¼Œå†ä¸€æ¬¡æ€§åå‡ºæ¥ã€‚

### Response å¯¹è±¡ï¼šå¤„ç† HTTP å›åº”

#### Response å¯¹è±¡çš„åŒæ­¥å±æ€§

`fetch()`
è¯·æ±‚æˆåŠŸä»¥åï¼Œå¾—åˆ°çš„æ˜¯ä¸€ä¸ª
**Response å¯¹è±¡**
ã€‚å®ƒå¯¹åº”æœåŠ¡å™¨çš„ HTTP å›åº”ã€‚

> ```javascript
> const response = await fetch(url);
>
> ```

å‰é¢è¯´è¿‡ï¼ŒResponse åŒ…å«çš„æ•°æ®é€šè¿‡ Stream æ¥å£å¼‚æ­¥è¯»å–ï¼Œä½†æ˜¯å®ƒè¿˜åŒ…å«ä¸€äº›åŒæ­¥å±æ€§ï¼Œå¯¹åº” HTTP å›åº”çš„æ ‡å¤´ä¿¡æ¯ï¼ˆHeadersï¼‰ï¼Œå¯ä»¥ç«‹å³è¯»å–ã€‚

> ```javascript
> async function fetchText() {
> let response = await fetch('/readme.txt');
> console.log(response.status); 
> console.log(response.statusText);
> }
>
> ```

**æ ‡å¤´ä¿¡æ¯å±æ€§æœ‰ä¸‹é¢è¿™äº›:**

**Response.ok**

`Response.ok`
å±æ€§è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯·æ±‚æ˜¯å¦æˆåŠŸï¼Œ
`true`
å¯¹åº” HTTP è¯·æ±‚çš„çŠ¶æ€ç  200 åˆ° 299ï¼Œ
`false`
å¯¹åº”å…¶ä»–çš„çŠ¶æ€ç ã€‚

**Response.status**

`Response.status`
å±æ€§è¿”å›ä¸€ä¸ªæ•°å­—ï¼Œè¡¨ç¤º HTTP å›åº”çš„çŠ¶æ€ç ï¼ˆä¾‹å¦‚200ï¼Œè¡¨ç¤ºæˆåŠŸè¯·æ±‚ï¼‰ã€‚

**Response.statusText**

`Response.statusText`
å±æ€§è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤º HTTP å›åº”çš„çŠ¶æ€ä¿¡æ¯ï¼ˆä¾‹å¦‚è¯·æ±‚æˆåŠŸä»¥åï¼ŒæœåŠ¡å™¨è¿”å›"OK"ï¼‰ã€‚

**Response.url**

`Response.url`
å±æ€§è¿”å›è¯·æ±‚çš„ URLã€‚å¦‚æœ URL å­˜åœ¨è·³è½¬ï¼Œè¯¥å±æ€§è¿”å›çš„æ˜¯æœ€ç»ˆ URLã€‚

**Response.type**

`Response.type`
å±æ€§è¿”å›è¯·æ±‚çš„ç±»å‹ã€‚å¯èƒ½çš„å€¼å¦‚ä¸‹ï¼š

> * `basic`
>   ï¼šæ™®é€šè¯·æ±‚ï¼Œå³åŒæºè¯·æ±‚ã€‚
> * `cors`
>   ï¼šè·¨åŸŸè¯·æ±‚ã€‚
> * `error`
>   ï¼šç½‘ç»œé”™è¯¯ï¼Œä¸»è¦ç”¨äº Service Workerã€‚
> * `opaque`
>   ï¼šå¦‚æœ
>   `fetch()`
>   è¯·æ±‚çš„
>   `type`
>   å±æ€§è®¾ä¸º
>   `no-cors`
>   ï¼Œå°±ä¼šè¿”å›è¿™ä¸ªå€¼ï¼Œè¯¦è§è¯·æ±‚éƒ¨åˆ†ã€‚è¡¨ç¤ºå‘å‡ºçš„æ˜¯ç®€å•çš„è·¨åŸŸè¯·æ±‚ï¼Œç±»ä¼¼
>   `<form>`
>   è¡¨å•çš„é‚£ç§è·¨åŸŸè¯·æ±‚ã€‚
> * `opaqueredirect`
>   ï¼šå¦‚æœ
>   `fetch()`
>   è¯·æ±‚çš„
>   `redirect`
>   å±æ€§è®¾ä¸º
>   `manual`
>   ï¼Œå°±ä¼šè¿”å›è¿™ä¸ªå€¼ï¼Œè¯¦è§è¯·æ±‚éƒ¨åˆ†ã€‚

**Response.redirected**

`Response.redirected`
å±æ€§è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯·æ±‚æ˜¯å¦å‘ç”Ÿè¿‡è·³è½¬ã€‚

#### åˆ¤æ–­è¯·æ±‚æ˜¯å¦æˆåŠŸ

`fetch()`
å‘å‡ºè¯·æ±‚ä»¥åï¼Œæœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„æ³¨æ„ç‚¹ï¼š
**åªæœ‰ç½‘ç»œé”™è¯¯ï¼Œæˆ–è€…æ— æ³•è¿æ¥æ—¶ï¼Œ
`fetch()`
æ‰ä¼šæŠ¥é”™ï¼Œå…¶ä»–æƒ…å†µéƒ½ä¸ä¼šæŠ¥é”™ï¼Œè€Œæ˜¯è®¤ä¸ºè¯·æ±‚æˆåŠŸã€‚**

è¿™å°±æ˜¯è¯´ï¼Œå³ä½¿æœåŠ¡å™¨è¿”å›çš„çŠ¶æ€ç æ˜¯ 4xx æˆ– 5xxï¼Œ
`fetch()`
ä¹Ÿä¸ä¼šæŠ¥é”™

* åªæœ‰é€šè¿‡
  `Response.status`
  å±æ€§ï¼Œå¾—åˆ° HTTP å›åº”çš„çœŸå®çŠ¶æ€ç ï¼Œæ‰èƒ½åˆ¤æ–­è¯·æ±‚æ˜¯å¦æˆåŠŸã€‚

> ```javascript
> async function fetchText() {
> let response = await fetch('/readme.txt');
> if (response.status >= 200 && response.status < 300) {
> return await response.text();
> } else {
> throw new Error(response.statusText);
> }
> }
>
> ```

* å¦ä¸€ç§æ–¹æ³•æ˜¯åˆ¤æ–­
  `response.ok`
  æ˜¯å¦ä¸º
  `true`
  ã€‚

> ```javascript
> if (response.ok) {
> // è¯·æ±‚æˆåŠŸ
> } else {
> // è¯·æ±‚å¤±è´¥
> }
>
> ```

#### è¯»å–å†…å®¹çš„æ–¹æ³•

`Response`
å¯¹è±¡æ ¹æ®æœåŠ¡å™¨è¿”å›çš„ä¸åŒç±»å‹çš„æ•°æ®ï¼Œæä¾›äº†ä¸åŒçš„è¯»å–æ–¹æ³•ã€‚

> * `response.text()`
>   ï¼šå¾—åˆ°æ–‡æœ¬å­—ç¬¦ä¸²ã€‚
> * `response.json()`
>   ï¼šå¾—åˆ° JSON å¯¹è±¡ã€‚
> * `response.blob()`
>   ï¼šå¾—åˆ°äºŒè¿›åˆ¶ Blob å¯¹è±¡ã€‚
> * `response.formData()`
>   ï¼šå¾—åˆ° FormData è¡¨å•å¯¹è±¡ã€‚
> * `response.arrayBuffer()`
>   ï¼šå¾—åˆ°äºŒè¿›åˆ¶ ArrayBuffer å¯¹è±¡ã€‚

**ä¸Šé¢è¯»å–æ–¹æ³•éƒ½æ˜¯å¼‚æ­¥çš„ï¼Œè¿”å›çš„éƒ½æ˜¯ Promise å¯¹è±¡ã€‚å¿…é¡»ç­‰åˆ°å¼‚æ­¥æ“ä½œç»“æŸï¼Œæ‰èƒ½å¾—åˆ°æœåŠ¡å™¨è¿”å›çš„å®Œæ•´æ•°æ®ã€‚**

**response.text()**

* ç”¨é€”ï¼šç”¨äºè·å–æ–‡æœ¬æ•°æ®ï¼Œæ¯”å¦‚ HTML æ–‡ä»¶ã€‚

**response.json()**

* ç”¨é€”ï¼šä¸»è¦ç”¨äºè·å–æœåŠ¡å™¨è¿”å›çš„ JSON æ•°æ®ã€‚

**response.formData()**

* ç”¨é€”ï¼šä¸»è¦åº”ç”¨äº Service Worker ä¸­ï¼Œæ‹¦æˆªç”¨æˆ·æäº¤çš„è¡¨å•ï¼Œå…è®¸ä¿®æ”¹æŸäº›æ•°æ®åå†æäº¤ç»™æœåŠ¡å™¨ã€‚

**response.blob()**

* ç”¨é€”ï¼šç”¨äºè·å–äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¦‚å›¾ç‰‡ã€è§†é¢‘ç­‰ã€‚

**response.arrayBuffer()**

* ç”¨é€”ï¼šä¸»è¦ç”¨äºå¤„ç†æµåª’ä½“æ–‡ä»¶ï¼Œä¾‹å¦‚éŸ³é¢‘æˆ–è§†é¢‘æ–‡ä»¶çš„åœ¨çº¿æ’­æ”¾ã€‚

### `fetch()` çš„ç¬¬äºŒä¸ªå‚æ•°ï¼šå®šåˆ¶ HTTP è¯·æ±‚

**`fetch()`
çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ URLï¼Œè¿˜å¯ä»¥æ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œä½œä¸ºé…ç½®å¯¹è±¡ï¼Œå®šåˆ¶å‘å‡ºçš„ HTTP è¯·æ±‚ã€‚**

> ```javascript
> fetch(url, optionObj)
>
> ```

HTTP è¯·æ±‚çš„æ–¹æ³•ã€æ ‡å¤´ã€æ•°æ®ä½“éƒ½åœ¨è¿™ä¸ªå¯¹è±¡é‡Œé¢è®¾ç½®ã€‚

**ï¼ˆ1ï¼‰POST è¯·æ±‚**

> ```javascript
> const response = await fetch(url, {
> method: 'POST',
> headers: {
> "Content-type": "application/x-www-form-urlencoded; charset=UTF-8",
> },
> body: 'foo=bar&lorem=ipsum',
> });
>
> const json = await response.json();
>
> ```

ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œé…ç½®å¯¹è±¡ç”¨åˆ°äº†ä¸‰ä¸ªå±æ€§ã€‚

> * `method`
>   ï¼šHTTP è¯·æ±‚çš„æ–¹æ³•ï¼Œ
>   `POST`
>   ã€
>   `DELETE`
>   ã€
>   `PUT`
>   éƒ½åœ¨è¿™ä¸ªå±æ€§è®¾ç½®ã€‚
> * `headers`
>   ï¼šä¸€ä¸ªå¯¹è±¡ï¼Œç”¨æ¥å®šåˆ¶ HTTP è¯·æ±‚çš„æ ‡å¤´ã€‚
> * `body`
>   ï¼šPOST è¯·æ±‚çš„æ•°æ®ä½“ã€‚

**ï¼ˆ2ï¼‰æäº¤ JSON æ•°æ®**

> ```javascript
> const user =  { name:  'John', surname:  'Smith'  };
> const response = await fetch('/article/fetch/post/user', {
> method: 'POST',
> headers: {
> 'Content-Type': 'application/json;charset=utf-8'
> }, 
> body: JSON.stringify(user) 
> });
>
> ```

**ï¼ˆ3ï¼‰æäº¤è¡¨å•**

> ```javascript
> const form = document.querySelector('form');
>
> const response = await fetch('/users', {
> method: 'POST',
> body: new FormData(form)
> })
>
> ```

### `fetch()` é…ç½®å¯¹è±¡çš„å®Œæ•´ API

`fetch()`
ç¬¬äºŒä¸ªå‚æ•°çš„å®Œæ•´ API å¦‚ä¸‹ã€‚

> ```javascript
> const response = fetch(url, {
> method: "GET",
> headers: {
> "Content-Type": "text/plain;charset=UTF-8"
> },
> body: undefined,
> referrer: "about:client",
> referrerPolicy: "no-referrer-when-downgrade",
> mode: "cors", 
> credentials: "same-origin",
> cache: "default",
> redirect: "follow",
> integrity: "",
> keepalive: false,
> signal: undefined
> });
>
> ```

`fetch()`
è¯·æ±‚çš„åº•å±‚ç”¨çš„æ˜¯
[Request() å¯¹è±¡](https://developer.mozilla.org/en-US/docs/Web/API/Request/Request)
çš„æ¥å£ï¼Œå‚æ•°å®Œå…¨ä¸€æ ·ï¼Œå› æ­¤ä¸Šé¢çš„ API ä¹Ÿæ˜¯
`Request()`
çš„ APIã€‚

è¿™äº›å±æ€§é‡Œé¢ï¼Œ
`headers`
ã€
`body`
ã€
`method`
å‰é¢å·²ç»ç»™è¿‡ç¤ºä¾‹äº†ï¼Œä¸‹é¢æ˜¯å…¶ä»–å±æ€§çš„ä»‹ç»ã€‚

**cache**

`cache`
å±æ€§æŒ‡å®šå¦‚ä½•å¤„ç†ç¼“å­˜ã€‚å¯èƒ½çš„å–å€¼å¦‚ä¸‹ï¼š

> * `default`
>   ï¼šé»˜è®¤å€¼ï¼Œå…ˆåœ¨ç¼“å­˜é‡Œé¢å¯»æ‰¾åŒ¹é…çš„è¯·æ±‚ã€‚
> * `no-store`
>   ï¼šç›´æ¥è¯·æ±‚è¿œç¨‹æœåŠ¡å™¨ï¼Œå¹¶ä¸”ä¸æ›´æ–°ç¼“å­˜ã€‚
> * `reload`
>   ï¼šç›´æ¥è¯·æ±‚è¿œç¨‹æœåŠ¡å™¨ï¼Œå¹¶ä¸”æ›´æ–°ç¼“å­˜ã€‚
> * `no-cache`
>   ï¼šå°†æœåŠ¡å™¨èµ„æºè·Ÿæœ¬åœ°ç¼“å­˜è¿›è¡Œæ¯”è¾ƒï¼Œæœ‰æ–°çš„ç‰ˆæœ¬æ‰ä½¿ç”¨æœåŠ¡å™¨èµ„æºï¼Œå¦åˆ™ä½¿ç”¨ç¼“å­˜ã€‚
> * `force-cache`
>   ï¼šç¼“å­˜ä¼˜å…ˆï¼Œåªæœ‰ä¸å­˜åœ¨ç¼“å­˜çš„æƒ…å†µä¸‹ï¼Œæ‰è¯·æ±‚è¿œç¨‹æœåŠ¡å™¨ã€‚
> * `only-if-cached`
>   ï¼šåªæ£€æŸ¥ç¼“å­˜ï¼Œå¦‚æœç¼“å­˜é‡Œé¢ä¸å­˜åœ¨ï¼Œå°†è¿”å›504é”™è¯¯ã€‚

**mode**

`mode`
å±æ€§æŒ‡å®šè¯·æ±‚çš„æ¨¡å¼ã€‚å¯èƒ½çš„å–å€¼å¦‚ä¸‹ï¼š

> * `cors`
>   ï¼šé»˜è®¤å€¼ï¼Œå…è®¸è·¨åŸŸè¯·æ±‚ã€‚
> * `same-origin`
>   ï¼šåªå…è®¸åŒæºè¯·æ±‚ã€‚
> * `no-cors`
>   ï¼šè¯·æ±‚æ–¹æ³•åªé™äº GETã€POST å’Œ HEADï¼Œå¹¶ä¸”åªèƒ½ä½¿ç”¨æœ‰é™çš„å‡ ä¸ªç®€å•æ ‡å¤´ï¼Œä¸èƒ½æ·»åŠ è·¨åŸŸçš„å¤æ‚æ ‡å¤´ï¼Œç›¸å½“äºæäº¤è¡¨å•æ‰€èƒ½å‘å‡ºçš„è¯·æ±‚ã€‚

**credentials**

`credentials`
å±æ€§æŒ‡å®šæ˜¯å¦å‘é€ Cookieã€‚å¯èƒ½çš„å–å€¼å¦‚ä¸‹ï¼š

> * `same-origin`
>   ï¼šé»˜è®¤å€¼ï¼ŒåŒæºè¯·æ±‚æ—¶å‘é€ Cookieï¼Œè·¨åŸŸè¯·æ±‚æ—¶ä¸å‘é€ã€‚
> * `include`
>   ï¼šä¸ç®¡åŒæºè¯·æ±‚ï¼Œè¿˜æ˜¯è·¨åŸŸè¯·æ±‚ï¼Œä¸€å¾‹å‘é€ Cookieã€‚
> * `omit`
>   ï¼šä¸€å¾‹ä¸å‘é€ã€‚

è·¨åŸŸè¯·æ±‚å‘é€ Cookieï¼Œéœ€è¦å°†
`credentials`
å±æ€§è®¾ä¸º
`include`
ã€‚

> ```javascript
> fetch('http://another.com', {
> credentials: "include"
> });
>
> ```

**signal**

`signal`
å±æ€§æŒ‡å®šä¸€ä¸ª AbortSignal å®ä¾‹ï¼Œç”¨äºå–æ¶ˆ
`fetch()`
è¯·æ±‚ï¼Œè¯¦è§ä¸‹ä¸€èŠ‚ã€‚

**keepalive**

`keepalive`
å±æ€§ç”¨äºé¡µé¢å¸è½½æ—¶ï¼Œå‘Šè¯‰æµè§ˆå™¨åœ¨åå°ä¿æŒè¿æ¥ï¼Œç»§ç»­å‘é€æ•°æ®ã€‚

ä¸€ä¸ªå…¸å‹çš„åœºæ™¯å°±æ˜¯ï¼Œç”¨æˆ·ç¦»å¼€ç½‘é¡µæ—¶ï¼Œè„šæœ¬å‘æœåŠ¡å™¨æäº¤ä¸€äº›ç”¨æˆ·è¡Œä¸ºçš„ç»Ÿè®¡ä¿¡æ¯ã€‚è¿™æ—¶ï¼Œå¦‚æœä¸ç”¨
`keepalive`
å±æ€§ï¼Œæ•°æ®å¯èƒ½æ— æ³•å‘é€ï¼Œå› ä¸ºæµè§ˆå™¨å·²ç»æŠŠé¡µé¢å¸è½½äº†ã€‚

> ```javascript
> window.onunload = function() {
> fetch('/analytics', {
> method: 'POST',
> body: "statistics",
> keepalive: true
> });
> };
>
> ```

**redirect**

`redirect`
å±æ€§æŒ‡å®š HTTP è·³è½¬çš„å¤„ç†æ–¹æ³•ã€‚å¯èƒ½çš„å–å€¼å¦‚ä¸‹ï¼š

> * `follow`
>   ï¼šé»˜è®¤å€¼ï¼Œ
>   `fetch()`
>   è·Ÿéš HTTP è·³è½¬ã€‚
> * `error`
>   ï¼šå¦‚æœå‘ç”Ÿè·³è½¬ï¼Œ
>   `fetch()`
>   å°±æŠ¥é”™ã€‚
> * `manual`
>   ï¼š
>   `fetch()`
>   ä¸è·Ÿéš HTTP è·³è½¬ï¼Œä½†æ˜¯
>   `response.url`
>   å±æ€§ä¼šæŒ‡å‘æ–°çš„ URLï¼Œ
>   `response.redirected`
>   å±æ€§ä¼šå˜ä¸º
>   `true`
>   ï¼Œç”±å¼€å‘è€…è‡ªå·±å†³å®šåç»­å¦‚ä½•å¤„ç†è·³è½¬ã€‚

**integrity**

`integrity`
å±æ€§æŒ‡å®šä¸€ä¸ªå“ˆå¸Œå€¼ï¼Œç”¨äºæ£€æŸ¥ HTTP å›åº”ä¼ å›çš„æ•°æ®æ˜¯å¦ç­‰äºè¿™ä¸ªé¢„å…ˆè®¾å®šçš„å“ˆå¸Œå€¼ã€‚

æ¯”å¦‚ï¼Œä¸‹è½½æ–‡ä»¶æ—¶ï¼Œæ£€æŸ¥æ–‡ä»¶çš„ SHA-256 å“ˆå¸Œå€¼æ˜¯å¦ç›¸ç¬¦ï¼Œç¡®ä¿æ²¡æœ‰è¢«ç¯¡æ”¹ã€‚

> ```javascript
> fetch('http://site.com/file', {
> integrity: 'sha256-abcdef'
> });
>
> ```

**referrer**

`referrer`
å±æ€§ç”¨äºè®¾å®š
`fetch()`
è¯·æ±‚çš„
`referer`
æ ‡å¤´ã€‚

è¿™ä¸ªå±æ€§å¯ä»¥ä¸ºä»»æ„å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥è®¾ä¸ºç©ºå­—ç¬¦ä¸²ï¼ˆå³ä¸å‘é€
`referer`
æ ‡å¤´ï¼‰ã€‚

> ```javascript
> fetch('/page', {
> referrer: ''
> });
>
> ```

**referrerPolicy**

`referrerPolicy`
å±æ€§ç”¨äºè®¾å®š
`Referer`
æ ‡å¤´çš„è§„åˆ™ã€‚å¯èƒ½çš„å–å€¼å¦‚ä¸‹ï¼š

> * `no-referrer-when-downgrade`
>   ï¼šé»˜è®¤å€¼ï¼Œæ€»æ˜¯å‘é€
>   `Referer`
>   æ ‡å¤´ï¼Œé™¤éä» HTTPS é¡µé¢è¯·æ±‚ HTTP èµ„æºæ—¶ä¸å‘é€ã€‚
> * `no-referrer`
>   ï¼šä¸å‘é€
>   `Referer`
>   æ ‡å¤´ã€‚
> * `origin`
>   ï¼š
>   `Referer`
>   æ ‡å¤´åªåŒ…å«åŸŸåï¼Œä¸åŒ…å«å®Œæ•´çš„è·¯å¾„ã€‚
> * `origin-when-cross-origin`
>   ï¼šåŒæºè¯·æ±‚
>   `Referer`
>   æ ‡å¤´åŒ…å«å®Œæ•´çš„è·¯å¾„ï¼Œè·¨åŸŸè¯·æ±‚åªåŒ…å«åŸŸåã€‚
> * `same-origin`
>   ï¼šè·¨åŸŸè¯·æ±‚ä¸å‘é€
>   `Referer`
>   ï¼ŒåŒæºè¯·æ±‚å‘é€ã€‚
> * `strict-origin`
>   ï¼š
>   `Referer`
>   æ ‡å¤´åªåŒ…å«åŸŸåï¼ŒHTTPS é¡µé¢è¯·æ±‚ HTTP èµ„æºæ—¶ä¸å‘é€
>   `Referer`
>   æ ‡å¤´ã€‚
> * `strict-origin-when-cross-origin`
>   ï¼šåŒæºè¯·æ±‚æ—¶
>   `Referer`
>   æ ‡å¤´åŒ…å«å®Œæ•´è·¯å¾„ï¼Œè·¨åŸŸè¯·æ±‚æ—¶åªåŒ…å«åŸŸåï¼ŒHTTPS é¡µé¢è¯·æ±‚ HTTP èµ„æºæ—¶ä¸å‘é€è¯¥æ ‡å¤´ã€‚
> * `unsafe-url`
>   ï¼šä¸ç®¡ä»€ä¹ˆæƒ…å†µï¼Œæ€»æ˜¯å‘é€
>   `Referer`
>   æ ‡å¤´ã€‚

## `Fetch` å’Œ `Axios` é€‰å“ªä¸ªï¼Ÿ

é€‰æ‹©ä½¿ç”¨
`fetch`
è¿˜æ˜¯
`axios`
ä¸»è¦å–å†³äºä½ çš„å…·ä½“éœ€æ±‚ã€é¡¹ç›®ç¯å¢ƒä»¥åŠä¸ªäººåå¥½ã€‚

**ä¼˜ç‚¹ï¼š**

1. **å†…ç½®æ”¯æŒ**
   ï¼šFetch æ˜¯æµè§ˆå™¨å†…ç½®çš„ï¼Œä¸éœ€è¦é¢å¤–å¼•å…¥åº“ã€‚
2. **åŸºäº Promise**
   ï¼šæä¾›äº†åŸºäº Promise çš„ APIï¼Œä½¿å¾—å¼‚æ­¥æ“ä½œæ›´åŠ ç›´è§‚æ˜“æ‡‚ã€‚
3. **è½»é‡çº§**
   ï¼šæ²¡æœ‰é¢å¤–çš„ä¾èµ–ï¼Œé€‚åˆå¯¹åŒ…å¤§å°æ•æ„Ÿçš„é¡¹ç›®ã€‚

**ç¼ºç‚¹ï¼š**

1. **ä¸æ”¯æŒæ—§ç‰ˆæµè§ˆå™¨**
   ï¼šè™½ç„¶ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒ fetchï¼Œä½†å¦‚æœä½ éœ€è¦å…¼å®¹ä¸€äº›è€æ—§ç‰ˆæœ¬çš„æµè§ˆå™¨ï¼ˆå¦‚IEï¼‰ï¼Œå¯èƒ½éœ€è¦å¼•å…¥polyfillã€‚
2. **é»˜è®¤ä¸å¤„ç†é”™è¯¯**
   ï¼šå¯¹äº HTTP é”™è¯¯çŠ¶æ€ç ï¼ˆå¦‚ 404 æˆ– 500ï¼‰ï¼Œfetch ä¸ä¼šæ‹’ç» Promiseï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´é”™è¯¯å¤„ç†å˜å¾—å¤æ‚ã€‚
3. **åŠŸèƒ½ç›¸å¯¹ç®€å•**
   ï¼šä¸ axios ç›¸æ¯”ï¼Œfetch åœ¨å¤„ç†æŸäº›é«˜çº§ç‰¹æ€§æ—¶å¯èƒ½ä¸å¦‚ axios æ–¹ä¾¿ï¼Œä¾‹å¦‚è‡ªåŠ¨è½¬æ¢ JSON æ•°æ®ã€å–æ¶ˆè¯·æ±‚ç­‰ã€‚

#### Axios

**ä¼˜ç‚¹ï¼š**

1. **å¹¿æ³›çš„æµè§ˆå™¨å…¼å®¹æ€§**
   ï¼šAxios æ”¯æŒæ‰€æœ‰ä¸»æµæµè§ˆå™¨ï¼ŒåŒ…æ‹¬ IEã€‚
2. **æ›´ä¸°å¯Œçš„åŠŸèƒ½**
   ï¼šæä¾›äº†è¯¸å¦‚æ‹¦æˆªè¯·æ±‚å’Œå“åº”ã€è½¬æ¢è¯·æ±‚å’Œå“åº”æ•°æ®ã€å–æ¶ˆè¯·æ±‚ç­‰åŠŸèƒ½ã€‚
3. **æ›´å¥½çš„é”™è¯¯å¤„ç†**
   ï¼šAxios å¯¹äº HTTP é”™è¯¯çŠ¶æ€ç ä¼šè‡ªåŠ¨æ‹’ç» Promiseï¼Œç®€åŒ–äº†é”™è¯¯å¤„ç†é€»è¾‘ã€‚
4. **æ˜“äºä½¿ç”¨çš„API**
   ï¼šå…·æœ‰æ›´åŠ äººæ€§åŒ–å’Œç®€æ´çš„ API è®¾è®¡ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å¤æ‚çš„è¯·æ±‚é…ç½®æ—¶æ›´ä¸ºæ–¹ä¾¿ã€‚

**ç¼ºç‚¹ï¼š**

1. **å¢åŠ é¡¹ç›®ä½“ç§¯**
   ï¼šç›¸å¯¹äºåŸç”Ÿçš„ fetch æ¥è¯´ï¼Œå¼•å…¥ axios ä¼šå¢åŠ é¡¹ç›®çš„æ€»ä½“ç§¯ã€‚
2. **éœ€è¦é¢å¤–å®‰è£…**
   ï¼šéœ€è¦é€šè¿‡ npm æˆ–è€… yarn ç­‰åŒ…ç®¡ç†å·¥å…·è¿›è¡Œå®‰è£…ï¼Œæˆ–è€…ç›´æ¥åœ¨ HTML ä¸­é€šè¿‡
   `<script>`
   æ ‡ç­¾å¼•å…¥ã€‚