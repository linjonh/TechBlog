---
layout: post
title: "mysql进阶数据类型一篇详解"
date: 2025-03-10 08:00:00 +0800
description: "本文将详细介绍MySQL各类数据类型的特点，包括介绍数值、字符串、日期时间、JSON 等类型的特点及注意事项"
keywords: "mysql进阶——数据类型一篇详解"
categories: ['Mysql']
tags: ['数据库', 'Sql']
artid: "146113999"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146113999
    alt: "mysql进阶数据类型一篇详解"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146113999
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146113999
cover: https://bing.ee123.net/img/rand?artid=146113999
image: https://bing.ee123.net/img/rand?artid=146113999
img: https://bing.ee123.net/img/rand?artid=146113999
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     mysql进阶——数据类型一篇详解
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     本文将详细介绍MySQL各类数据类型的特点，包括介绍数值、字符串、日期时间、JSON 等类型的特点及注意事项
     <br/>
    </p>
    <p>
    </p>
    <h3>
     <a id="_2">
     </a>
     一、数值类型
    </h3>
    <h4>
     <a id="1__3">
     </a>
     1. 整数类型
    </h4>
    <p>
     整数类型有不同的字节长度和取值范围，如
     <code>
      TINYINT
     </code>
     （1 字节，-128~127）、
     <code>
      SMALLINT
     </code>
     （2 字节）、
     <code>
      INT
     </code>
     （4 字节）、
     <code>
      BIGINT
     </code>
     （8 字节）。使用
     <code>
      UNSIGNED
     </code>
     关键字可使范围翻倍，例如
     <code>
      TINYINT UNSIGNED
     </code>
     的范围是 0~255。显示宽度（如
     <code>
      INT(5)
     </code>
     ）仅影响显示格式，不影响存储。
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> products <span class="token punctuation">(</span>
    product_id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span> 
    product_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    stock <span class="token keyword">SMALLINT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">,</span>    
    price <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>         
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="2__15">
     </a>
     2. 浮点与定点数
    </h4>
    <p>
     <code>
      FLOAT
     </code>
     （4 字节）和
     <code>
      DOUBLE
     </code>
     （8 字节）是近似存储，可能丢失精度；
     <code>
      DECIMAL(M,D)
     </code>
     是精确类型，适合财务数据，
     <code>
      M
     </code>
     为总位数，
     <code>
      D
     </code>
     为小数位数。
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> orders <span class="token punctuation">(</span>
    order_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    total_amount <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> 
    user_id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <blockquote>
     <p>
      使用时要注意避免隐式类型转换导致索引失效
     </p>
    </blockquote>
    <p>
     <br/>
     <br/>
    </p>
    <h3>
     <a id="_30">
     </a>
     二、字符串类型
    </h3>
    <h4>
     <a id="1__31">
     </a>
     1. 定长与变长
    </h4>
    <p>
     <code>
      CHAR(N)
     </code>
     是定长字符串，最多 255 字符，适合短且固定长度的数据；
     <code>
      VARCHAR(N)
     </code>
     是变长字符串，最多 65535 字节，适合长度变化的数据。
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> product_details <span class="token punctuation">(</span>
    product_id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    title <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>       
    description <span class="token keyword">TEXT</span><span class="token punctuation">,</span>                  
    sku_code <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>                  
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="2__43">
     </a>
     2. 二进制类型
    </h4>
    <p>
     <code>
      BINARY/VARBINARY
     </code>
     用于存储二进制数据，区分大小写。
    </p>
    <h4>
     <a id="3_TEXT__BLOB_46">
     </a>
     3. TEXT 与 BLOB
    </h4>
    <p>
     <code>
      TEXT
     </code>
     用于存储大文本，
     <code>
      BLOB
     </code>
     用于存储二进制大对象。对它们创建索引时需指定前缀长度。
    </p>
    <h4>
     <a id="4_ENUM__SET_49">
     </a>
     4. ENUM 与 SET
    </h4>
    <p>
     <code>
      ENUM
     </code>
     是单选值，存储为整数索引，插入非法值会报错或存为
     <code>
      ''
     </code>
     ；
     <code>
      SET
     </code>
     是多选值，用位掩码存储，查询需用
     <code>
      FIND_IN_SET()
     </code>
     。
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> orders <span class="token punctuation">(</span>
    order_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    <span class="token keyword">status</span> <span class="token keyword">ENUM</span><span class="token punctuation">(</span><span class="token string">'pending'</span><span class="token punctuation">,</span> <span class="token string">'paid'</span><span class="token punctuation">,</span> <span class="token string">'shipped'</span><span class="token punctuation">,</span> <span class="token string">'completed'</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     <br/>
     <br/>
    </p>
    <h3>
     <a id="_59">
     </a>
     三、日期与时间类型
    </h3>
    <h4>
     <a id="1__60">
     </a>
     1. 类型对比
    </h4>
    <p>
     <code>
      DATE
     </code>
     存储日期（
     <code>
      YYYY-MM-DD
     </code>
     ），
     <code>
      TIME
     </code>
     存储时间（
     <code>
      HH:MM:SS
     </code>
     ），
     <code>
      DATETIME
     </code>
     存储日期 + 时间（
     <code>
      YYYY-MM-DD HH:MM:SS
     </code>
     ），范围大且无时区转换，
     <code>
      TIMESTAMP
     </code>
     存储时间戳（范围 1970 - 2038 年），自动转换为 UTC 存储，支持自动更新。
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> orders <span class="token punctuation">(</span>
    order_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    created_at <span class="token keyword">DATETIME</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
    paid_at <span class="token keyword">TIMESTAMP</span> <span class="token boolean">NULL</span> 
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="2__71">
     </a>
     2. 微秒支持
    </h4>
    <p>
     MySQL 5.6.4+ 支持微秒，如
     <code>
      DATETIME(6)
     </code>
     。
    </p>
    <p>
     <br/>
     <br/>
    </p>
    <h3>
     <a id="JSON__75">
     </a>
     四、JSON 类型
    </h3>
    <p>
     JSON 类型可存储有效 JSON 文档，支持路径查询和部分更新。
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> products <span class="token punctuation">(</span>
    product_id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    attributes JSON <span class="token operator">NOT</span> <span class="token boolean">NULL</span> 
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> products <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'{
    "color": ["red", "blue"],
    "size": {"S": 10, "M": 5},
    "specs": {"weight": "1.2kg", "material": "metal"}
}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询红色商品</span>
<span class="token keyword">SELECT</span> product_id 
<span class="token keyword">FROM</span> products 
<span class="token keyword">WHERE</span> JSON_CONTAINS<span class="token punctuation">(</span>attributes<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token string">'$.color'</span><span class="token punctuation">,</span> <span class="token string">'"red"'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     <br/>
     <br/>
    </p>
    <table border="1" cellpadding="10" cellspacing="0" width="100%">
     <tbody>
      <tr>
       <td width="25%">
        <a href="https://blog.csdn.net/weixin_45075226/article/details/146005246" rel="noopener noreferrer" target="_blank">
         <b>
          <font color="#FC5531">
           ← 上一篇 Java进阶——常用类及常用方法详解
          </font>
         </b>
        </a>
       </td>
       <td width="50%">
        <div align="center">
         <b>
          <font color="#FC5531">
           <em>
            记得点赞、关注、收藏哦！
           </em>
          </font>
         </b>
        </div>
       </td>
       <td width="25%">
        <a href="https://blog.csdn.net/weixin_45075226/article/details/146015089" rel="noopener noreferrer" target="_blank">
         <b>
          <font color="#FC5531">
           下一篇 Java进阶——数组超详细整理 →
          </font>
         </b>
        </a>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34353037353232362f:61727469636c652f64657461696c732f313436313133393939" class_="artid" style="display:none">
 </p>
</div>


