---
arturl_encode: "68747470733a2f2f62:6c6f672e6373646e2e6e65742f71796a31393932303730342f:61727469636c652f64657461696c732f313335343535373537"
layout: post
title: "å¼€æºå†…å®¹ç®¡ç†æ¡†æž¶Drupalåœ¨Dockeræœ¬åœ°éƒ¨ç½²å¹¶å®žçŽ°å…¬ç½‘è¿œç¨‹è®¿é—®"
date: 2024-01-08 14:05:34 +0800
description: "æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨Dockerå¿«é€Ÿéƒ¨ç½²DrupalCMSï¼ŒåŒ…æ‹¬å®‰è£…MySQLæ•°æ®åº“ï¼Œé…ç½®Drupal"
keywords: "å¼€æºå†…å®¹ç®¡ç†æ¡†æž¶Drupalåœ¨Dockeræœ¬åœ°éƒ¨ç½²å¹¶å®žçŽ°å…¬ç½‘è¿œç¨‹è®¿é—®"
categories: ['S', 'Cpolar']
tags: ['å¼€æº', 'å®¹å™¨', 'Docker']
artid: "135455757"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=135455757
    alt: "å¼€æºå†…å®¹ç®¡ç†æ¡†æž¶Drupalåœ¨Dockeræœ¬åœ°éƒ¨ç½²å¹¶å®žçŽ°å…¬ç½‘è¿œç¨‹è®¿é—®"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=135455757
featuredImagePreview: https://bing.ee123.net/img/rand?artid=135455757
---

# å¼€æºå†…å®¹ç®¡ç†æ¡†æž¶Drupalåœ¨Dockeræœ¬åœ°éƒ¨ç½²å¹¶å®žçŽ°å…¬ç½‘è¿œç¨‹è®¿é—®

> ðŸ’ðŸ’ðŸ’æ¬¢è¿Žæ¥åˆ°æˆ‘çš„åšå®¢ï¼Œå¾ˆé«˜å…´èƒ½å¤Ÿåœ¨è¿™é‡Œå’Œæ‚¨è§é¢ï¼å¸Œæœ›æ‚¨åœ¨è¿™é‡Œå¯ä»¥æ„Ÿå—åˆ°ä¸€ä»½è½»æ¾æ„‰å¿«çš„æ°›å›´ï¼Œä¸ä»…å¯ä»¥èŽ·å¾—æœ‰è¶£çš„å†…å®¹å’ŒçŸ¥è¯†ï¼Œä¹Ÿå¯ä»¥ç•…æ‰€æ¬²è¨€ã€åˆ†äº«æ‚¨çš„æƒ³æ³•å’Œè§è§£ã€‚
>   
> ![img](https://i-blog.csdnimg.cn/blog_migrate/5b7d56665d406fee3159289ac61fa974.jpeg#pic_center)
>
> * æŽ¨è:
>   [kwan çš„é¦–é¡µ](https://qinyingjie.blog.csdn.net/?type=blog)
>   ,æŒç»­å­¦ä¹ ,ä¸æ–­æ€»ç»“,å…±åŒè¿›æ­¥,æ´»åˆ°è€å­¦åˆ°è€
> * å¯¼èˆª
>   + [æª€è¶Šå‰‘æŒ‡å¤§åŽ‚ç³»åˆ—](https://blog.csdn.net/qyj19920704/category_11763029.html)
>     :å…¨é¢æ€»ç»“ java æ ¸å¿ƒæŠ€æœ¯ç‚¹,å¦‚é›†åˆ,jvm,å¹¶å‘ç¼–ç¨‹ redis,kafka,Spring,å¾®æœåŠ¡,Netty ç­‰
>   + [å¸¸ç”¨å¼€å‘å·¥å…·ç³»åˆ—](https://blog.csdn.net/qyj19920704/category_11474211.html)
>     :ç½—åˆ—å¸¸ç”¨çš„å¼€å‘å·¥å…·,å¦‚ IDEA,Mac,Alfred,electerm,Git,typora,apifox ç­‰
>   + [æ•°æ®åº“ç³»åˆ—](https://blog.csdn.net/qyj19920704/category_11474265.html)
>     :è¯¦ç»†æ€»ç»“äº†å¸¸ç”¨æ•°æ®åº“ mysql æŠ€æœ¯ç‚¹,ä»¥åŠå·¥ä½œä¸­é‡åˆ°çš„ mysql é—®é¢˜ç­‰
>   + [æ‡’äººè¿ç»´ç³»åˆ—](https://blog.csdn.net/qyj19920704/category_7540627.html)
>     :æ€»ç»“å¥½ç”¨çš„å‘½ä»¤,è§£æ”¾åŒæ‰‹ä¸é¦™å—?èƒ½ç”¨ä¸€ä¸ªå‘½ä»¤å®Œæˆç»ä¸ç”¨ä¸¤ä¸ªæ“ä½œ
>   + [æ•°æ®ç»“æž„ä¸Žç®—æ³•ç³»åˆ—](https://blog.csdn.net/qyj19920704/category_11480075.html)
>     :æ€»ç»“æ•°æ®ç»“æž„å’Œç®—æ³•,ä¸åŒç±»åž‹é’ˆå¯¹æ€§è®­ç»ƒ,æå‡ç¼–ç¨‹æ€ç»´,å‰‘æŒ‡å¤§åŽ‚
>
> éžå¸¸æœŸå¾…å’Œæ‚¨ä¸€èµ·åœ¨è¿™ä¸ªå°å°çš„ç½‘ç»œä¸–ç•Œé‡Œå…±åŒæŽ¢ç´¢ã€å­¦ä¹ å’Œæˆé•¿ã€‚ðŸ’ðŸ’ðŸ’ âœ¨âœ¨ æ¬¢è¿Žè®¢é˜…æœ¬ä¸“æ  âœ¨âœ¨

#### åšå®¢ç›®å½•

* [å‰è¨€](#_15)
* + [1. Docker å®‰è£… Drupal](#1_Docker__Drupal_21)
  + [2. æœ¬åœ°å±€åŸŸç½‘è®¿é—®](#2__43)
  + [3 . Linux å®‰è£… cpolar](#3__Linux__cpolar_49)
  + [4. é…ç½® Drupal å…¬ç½‘è®¿é—®åœ°å€](#4__Drupal__77)
  + [5. å…¬ç½‘è¿œç¨‹è®¿é—® Drupal](#5__Drupal_95)
  + [6. å›ºå®š Drupal å…¬ç½‘åœ°å€](#6__Drupal__117)

## å‰è¨€

Dupal æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ CMSï¼Œé€‚ç”¨äºŽå„ç§ä¸åŒçš„ç½‘ç«™é¡¹ç›®ï¼Œä»Žå°åž‹ä¸ªäººåšå®¢åˆ°å¤§åž‹ä¼ä¸šçº§é—¨æˆ·ç½‘ç«™ã€‚å®ƒçš„å­¦ä¹ æ›²çº¿å¯èƒ½ç›¸å¯¹è¾ƒé™¡ï¼Œä½†ä¸€æ—¦ç†Ÿæ‚‰äº†å®ƒçš„å·¥ä½œæ–¹å¼ï¼Œç”¨æˆ·å°±èƒ½å¤Ÿå……åˆ†åˆ©ç”¨å…¶åŠŸèƒ½å’Œçµæ´»æ€§ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ Docker å¿«é€Ÿéƒ¨ç½² Drupal,å¹¶ä¸”ç»“åˆ cpolar å†…ç½‘ç©¿é€å·¥å…·å®žçŽ°å…¬ç½‘è¿œç¨‹è®¿é—®

é¦–å…ˆï¼Œæ‚¨éœ€è¦åœ¨æ‚¨çš„æœºå™¨ä¸Šå®‰è£… Docker,å¹¶ä¸”å¯åŠ¨,å¯ä»¥æŒ‰ç…§ Docker å®˜æ–¹æ–‡æ¡£ä¸­çš„è¯´æ˜Žè¿›è¡Œå®‰è£…ã€‚

### 1. Docker å®‰è£… Drupal

docker éƒ¨ç½² Drupal ä¹‹å‰,éœ€è¦å…ˆå®‰è£…ä¸€ä¸ªæ•°æ®åº“,æ•°æ®åº“é€‰æ‹© mysql å³å¯,å¦‚æžœæœ¬åœ°å·²ç»å®‰è£… mysql,å¯ä»¥è·³è¿‡,ä¸‹é¢å‘½ä»¤ä½¿ç”¨ docker å¯åŠ¨ä¸€ä¸ª mysql æ•°æ®åº“,

```shell
docker run --network host -e MYSQL_ROOT_PASSWORD=è‡ªå·±è®¾ç½®å¯†ç  \
-v /etc/mysql/data:/var/lib/mysql \
-v /etc/mysql/conf.d:/etc/mysql/conf.d \
--name mysql \
-d mysql:latest

```

éƒ¨ç½²å¯åŠ¨å¥½æ•°æ®åº“åŽ,ä¸‹é¢éƒ¨ç½² Drupal,æ‰§è¡Œä¸‹é¢å‘½ä»¤,ç›´æŽ¥è¿è¡Œå®¹å™¨,ä¸ºäº†æ–¹ä¾¿æ•°æ®åº“è¿žæŽ¥,æŒ‡å®šä½¿ç”¨å®¿ä¸»æœºç½‘ç»œ:

```shell
docker run --network host  --name my-drupal  -d drupal:latest

```

æ‰§è¡Œç­‰å¾… docker å¯åŠ¨å®ŒåŽ,è¾“å…¥ docker ps å³å¯çœ‹åˆ°è¿è¡Œçš„ Drupal å®¹å™¨,åŒæ—¶ä¹Ÿçœ‹åˆ°äº† mysql å®¹å™¨è¿è¡Œ

![image-20231010103211359](https://i-blog.csdnimg.cn/blog_migrate/d971b8aff177f25cb993d242f18753af.png)

### 2. æœ¬åœ°å±€åŸŸç½‘è®¿é—®

å®‰è£…è¿è¡ŒåŽ,åœ¨æµè§ˆå™¨è®¿é—® 80 ç«¯å£,å³å¯çœ‹åˆ° Drupal çš„å®‰è£…ç•Œé¢,Drupal å°±éƒ¨ç½²å®‰è£…å¯åŠ¨æˆåŠŸäº†,ä¸‹é¢æˆ‘ä»¬ç»§ç»­å®‰è£… cpolar å·¥å…·,å®Œæˆè¿œç¨‹è®¿é—®,ç„¶åŽå†é…ç½® Drupal

![image-20231010095146640](https://i-blog.csdnimg.cn/blog_migrate/09588b4dfca7f8673c9864c2d18324a3.png)

### 3 . Linux å®‰è£… cpolar

ä¸Šé¢æˆ‘ä»¬åœ¨ docker ä¸­æˆåŠŸå®‰è£…äº† Drupal,å¹¶å±€åŸŸç½‘è®¿é—® ok,ä¸‹é¢æˆ‘ä»¬åœ¨ Linux å®‰è£… cpolar å†…ç½‘ç©¿é€å·¥å…·,é€šè¿‡ cpolar è½¬å‘æœ¬åœ°ç«¯å£æ˜ å°„çš„ http å…¬ç½‘åœ°å€,æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“å®žçŽ°è¿œç¨‹è®¿é—®,è€Œæ— éœ€è‡ªå·±æ³¨å†ŒåŸŸåè´­ä¹°äº‘æœåŠ¡å™¨.ä¸‹é¢æ˜¯å®‰è£… cpolar æ­¥éª¤

> cpolar å®˜ç½‘åœ°å€:
> <https://www.cpolar.com>

* ä½¿ç”¨ä¸€é”®è„šæœ¬å®‰è£…å‘½ä»¤

```shell
curl -L https://www.cpolar.com/static/downloads/install-release-cpolar.sh | sudo bash

```

* å‘ç³»ç»Ÿæ·»åŠ æœåŠ¡

```shell
sudo systemctl enable cpolar

```

* å¯åŠ¨ cpolar æœåŠ¡

```shell
sudo systemctl start cpolar

```

cpolar å®‰è£…æˆåŠŸåŽï¼Œåœ¨å¤–éƒ¨æµè§ˆå™¨ä¸Šè®¿é—® Linux çš„ 9200 ç«¯å£å³:ã€http://å±€åŸŸç½‘ ip:9200ã€‘ï¼Œä½¿ç”¨ cpolar è´¦å·ç™»å½•,ç™»å½•åŽå³å¯çœ‹åˆ° cpolar web é…ç½®ç•Œé¢,ç»“ä¸‹æ¥åœ¨ web ç®¡ç†ç•Œé¢é…ç½®å³å¯

![image-20230831171159175](https://i-blog.csdnimg.cn/blog_migrate/a4dc4895476688b7e312b69d75b43368.png)

### 4. é…ç½® Drupal å…¬ç½‘è®¿é—®åœ°å€

ç‚¹å‡»å·¦ä¾§ä»ªè¡¨ç›˜çš„éš§é“ç®¡ç†â€”â€”åˆ›å»ºéš§é“ï¼Œåˆ›å»ºä¸€ä¸ª Drupal çš„ cpolar å…¬ç½‘åœ°å€éš§é“!

* éš§é“åç§°ï¼šå¯è‡ªå®šä¹‰å‘½åï¼Œæ³¨æ„ä¸è¦ä¸Žå·²æœ‰çš„éš§é“åç§°é‡å¤
* åè®®ï¼šé€‰æ‹© http
* æœ¬åœ°åœ°å€ï¼š80 (å±€åŸŸç½‘è®¿é—®çš„ç«¯å£)
* åŸŸåç±»åž‹ï¼šå…è´¹é€‰æ‹©éšæœºåŸŸå
* åœ°åŒºï¼šé€‰æ‹© China

ç‚¹å‡»
`åˆ›å»º`

![image-20231010103555887](https://i-blog.csdnimg.cn/blog_migrate/95972702dc8b90c91b26af7f5a95d138.png)

éš§é“åˆ›å»ºæˆåŠŸåŽï¼Œç‚¹å‡»å·¦ä¾§çš„çŠ¶æ€â€”â€”åœ¨çº¿éš§é“åˆ—è¡¨,æŸ¥çœ‹æ‰€ç”Ÿæˆçš„å…¬ç½‘è®¿é—®åœ°å€ï¼Œæœ‰ä¸¤ç§è®¿é—®æ–¹å¼,ä¸€ç§æ˜¯ http å’Œ https

![image-20231010103648807](https://i-blog.csdnimg.cn/blog_migrate/94cccb3698f30f8e342258de3c7fb29b.png)

### 5. å…¬ç½‘è¿œç¨‹è®¿é—® Drupal

ä½¿ç”¨ä¸Šé¢çš„ cpolar https å…¬ç½‘åœ°å€åœ¨ä»»æ„è®¾å¤‡çš„æµè§ˆå™¨è®¿é—®,å³å¯æˆåŠŸçœ‹åˆ°æˆ‘ä»¬ Drupal ç•Œé¢,è¿™æ ·ä¸€ä¸ªå…¬ç½‘åœ°å€ä¸”å¯ä»¥è¿œç¨‹è®¿é—®å°±åˆ›å»ºå¥½äº†,ä¸‹é¢è¿›è¡Œ Drupal è®¾ç½®,è¯­è¨€é€‰æ‹©ç®€ä½“ä¸­æ–‡,é€‰æ‹©åŽç‚¹å‡»
`Save and continue`

![image-20231010103755055](https://i-blog.csdnimg.cn/blog_migrate/27f8619a891a2f3457db50a260708073.png)

ç„¶åŽé€‰æ‹©æ ‡å‡†å®‰è£…

![image-20231009160519704](https://i-blog.csdnimg.cn/blog_migrate/6d81f16ac752b63c32815f2c35aae14d.png)

æŽ¥ä¸‹æ¥æ•°æ®åº“è®¾ç½®,æ•°æ®åº“ç±»åž‹é€‰æ‹© mysql æ•°æ®åº“,æŽ¥ç€è¾“å…¥æ•°æ®åº“åç§°(å¯ä»¥è‡ªå®šä¹‰),ç„¶åŽå¡«å†™æ•°æ®åº“ç”¨æˆ·å,é»˜è®¤:root ,æŽ¥ç€å¡«å†™æ•°æ®åº“å¯†ç ,ç„¶åŽæ‰“å¼€é«˜çº§é€‰é¡¹,ä¸»æœºå‚æ•°å¡«å†™ Linux è®¾å¤‡å±€åŸŸç½‘ ip åœ°å€(è¡¨ç¤ºè¿žæŽ¥æœ¬åœ°æ•°æ®åº“),å¡«å†™å¥½åŽ,ç‚¹å‡»åº•éƒ¨æŒ‰é’®
`ä¿å­˜å¹¶ç»§ç»­`

![image-20231010104413275](https://i-blog.csdnimg.cn/blog_migrate/39dafe4e0d001e1e7df9c63d46ee98ee.png)

ç„¶åŽç­‰å¾…å®‰è£…å®Œæˆ

![image-20231009162221138](https://i-blog.csdnimg.cn/blog_migrate/8d706783e89a07d4f85ca6ca62645c9a.png)

å®‰è£…å®ŒæˆåŽ,æˆ‘ä»¬æˆåŠŸå¯ä»¥çœ‹åˆ°äº† Drupal ç•Œé¢,å¹¶ä¸”ä½¿ç”¨äº† cpolar çš„å…¬ç½‘åŸŸå,æ— éœ€è‡ªå·±è´­ä¹°äº‘æœåŠ¡å™¨,å³å¯å‘å¸ƒåˆ°å…¬ç½‘è®¿é—®,åŽç»­ Drupal çŽ©æ³•,å¯ä»¥åŽ»å‚è€ƒå®˜æ–¹æ–‡æ¡£è¿›è¡Œå­¦ä¹ !

![image-20231010104804477](https://i-blog.csdnimg.cn/blog_migrate/270dcecdb59a188c85071d3cfe52305f.png)

### 6. å›ºå®š Drupal å…¬ç½‘åœ°å€

ç”±äºŽä»¥ä¸Šä½¿ç”¨ cpolar æ‰€åˆ›å»ºçš„éš§é“ä½¿ç”¨çš„æ˜¯éšæœºå…¬ç½‘åœ°å€ï¼Œ24 å°æ—¶å†…ä¼šéšæœºå˜åŒ–ï¼Œä¸åˆ©äºŽé•¿æœŸè¿œç¨‹è®¿é—®ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ä¸ºå…¶é…ç½®äºŒçº§å­åŸŸåï¼Œè¯¥åœ°å€ä¸ºå›ºå®šåœ°å€ï¼Œä¸ä¼šéšæœºå˜åŒ–ã€psï¼šcpolar.cn å·²å¤‡æ¡ˆã€‘

> æ³¨æ„éœ€è¦å°† cpolar å¥—é¤å‡çº§è‡³åŸºç¡€å¥—é¤æˆ–ä»¥ä¸Šï¼Œä¸”æ¯ä¸ªå¥—é¤å¯¹åº”çš„å¸¦å®½ä¸ä¸€æ ·ã€‚ã€cpolar.cn å·²å¤‡æ¡ˆã€‘

[ç™»å½• cpolar å®˜ç½‘](https://dashboard.cpolar.com/)
ï¼Œç‚¹å‡»å·¦ä¾§çš„é¢„ç•™ï¼Œé€‰æ‹©ä¿ç•™äºŒçº§å­åŸŸåï¼Œè®¾ç½®ä¸€ä¸ªäºŒçº§å­åŸŸååç§°ï¼Œç‚¹å‡»ä¿ç•™,ä¿ç•™æˆåŠŸåŽå¤åˆ¶ä¿ç•™çš„äºŒçº§å­åŸŸååç§°

![image-20231010105350522](https://i-blog.csdnimg.cn/blog_migrate/e882205e56c8eb8f8d184adb300e1b10.png)

ä¿ç•™æˆåŠŸåŽå¤åˆ¶ä¿ç•™æˆåŠŸçš„äºŒçº§å­åŸŸåçš„åç§°

![image-20231010105414475](https://i-blog.csdnimg.cn/blog_migrate/c7fffe1a7244b4efdc073bc1bded66b2.png)

è¿”å›žç™»å½• cpolar web UI ç®¡ç†ç•Œé¢ï¼Œç‚¹å‡»å·¦ä¾§ä»ªè¡¨ç›˜çš„éš§é“ç®¡ç†â€”â€”éš§é“åˆ—è¡¨ï¼Œæ‰¾åˆ°æ‰€è¦é…ç½®çš„éš§é“ï¼Œç‚¹å‡»å³ä¾§çš„ç¼–è¾‘

![image-20231010105511687](https://i-blog.csdnimg.cn/blog_migrate/1125f005347ce50ce136d2462fc50346.png)

ä¿®æ”¹éš§é“ä¿¡æ¯ï¼Œå°†ä¿ç•™æˆåŠŸçš„äºŒçº§å­åŸŸåé…ç½®åˆ°éš§é“ä¸­

* åŸŸåç±»åž‹ï¼šé€‰æ‹©äºŒçº§å­åŸŸå
* Sub Domainï¼šå¡«å†™ä¿ç•™æˆåŠŸçš„äºŒçº§å­åŸŸå

ç‚¹å‡»
`æ›´æ–°`
(æ³¨æ„,ç‚¹å‡»ä¸€æ¬¡æ›´æ–°å³å¯,ä¸éœ€è¦é‡å¤æäº¤)

![image-20231010105622801](https://i-blog.csdnimg.cn/blog_migrate/7eec922759bbee6ffe1a4e1972ade647.png)

æ›´æ–°å®ŒæˆåŽ,æ‰“å¼€åœ¨çº¿éš§é“åˆ—è¡¨,æ­¤æ—¶å¯ä»¥çœ‹åˆ°å…¬ç½‘åœ°å€å·²ç»å‘ç”Ÿå˜åŒ–,åœ°å€åç§°ä¹Ÿå˜æˆäº†å›ºå®šçš„äºŒçº§å­åŸŸååç§°çš„åŸŸå

![image-20231010105652875](https://i-blog.csdnimg.cn/blog_migrate/cc322f4f6b6a892089e6b54c11f7a671.png)

æœ€åŽ,æˆ‘ä»¬ä½¿ç”¨å›ºå®šçš„å…¬ç½‘åœ°å€è®¿é—®,å¯ä»¥çœ‹åˆ°è®¿é—®æˆåŠŸ,è¿™æ ·ä¸€ä¸ªå›ºå®šä¸”æ°¸ä¹…ä¸å˜çš„å…¬ç½‘åœ°å€å°±è®¾ç½®å¥½äº†

![image-20231010105722014](https://i-blog.csdnimg.cn/blog_migrate/fcd9950a805cf262acf31653b4ba6108.png)

> è§‰å¾—æœ‰ç”¨çš„è¯ç‚¹ä¸ªèµž
> `ðŸ‘ðŸ»`
> å‘—ã€‚
>   
> â¤ï¸â¤ï¸â¤ï¸æœ¬äººæ°´å¹³æœ‰é™ï¼Œå¦‚æœ‰çº°æ¼ï¼Œæ¬¢è¿Žå„ä½å¤§ä½¬è¯„è®ºæ‰¹è¯„æŒ‡æ­£ï¼ðŸ˜„ðŸ˜„ðŸ˜„
>
> ðŸ’˜ðŸ’˜ðŸ’˜å¦‚æžœè§‰å¾—è¿™ç¯‡æ–‡å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œä¹Ÿè¯·ç»™ä¸ªç‚¹èµžã€æ”¶è—ä¸‹å§ï¼Œéžå¸¸æ„Ÿè°¢!ðŸ‘ ðŸ‘ ðŸ‘
>
> ðŸ”¥ðŸ”¥ðŸ”¥Stay Hungry Stay Foolish é“é˜»ä¸”é•¿,è¡Œåˆ™å°†è‡³,è®©æˆ‘ä»¬ä¸€èµ·åŠ æ²¹å§ï¼ðŸŒ™ðŸŒ™ðŸŒ™
>
> ![img](https://i-blog.csdnimg.cn/blog_migrate/101469850485989da7dda6f53e80e19d.gif#pic_center)