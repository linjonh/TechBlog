---
layout: post
title: "类和对象多态案例2制作饮品"
date: 2025-03-06 21:21:21 +0800
description: "制作饮品的大致流程为：煮水-冲泡-倒入杯中-加入辅料"
keywords: "类和对象—多态—案例2—制作饮品"
categories: ['未分类']
tags: ['开发语言', 'C']
artid: "146080496"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146080496
    alt: "类和对象多态案例2制作饮品"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146080496
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146080496
cover: https://bing.ee123.net/img/rand?artid=146080496
image: https://bing.ee123.net/img/rand?artid=146080496
img: https://bing.ee123.net/img/rand?artid=146080496
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     类和对象—多态—案例2—制作饮品
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h4>
     案例描述：
    </h4>
    <h5>
     制作饮品的大致流程为：煮水-冲泡-倒入杯中-加入辅料
    </h5>
    <h5>
     利用多态技术实现本案例，提供抽象制作产品基类，提供子类制作咖啡和茶叶
    </h5>
    <p>
     <img alt="" height="592" src="https://i-blog.csdnimg.cn/direct/25e1a5a4e720472ba8d1c15b5945d44b.png" width="1580"/>
    </p>
    <p>
    </p>
    <h4>
     思路解析：
    </h4>
    <h5>
     1. 定义抽象基类
    </h5>
    <p>
     - 创建 `AbstractDrinking` 抽象类，该类定义了制作饮品的通用接口。
    </p>
    <p>
     - 包含四个纯虚函数：`Boil()`（煮水）、`Brew()`（冲泡）、`PourInCup()`（倒入杯中）和 `PutSomething()`（加入辅料），这些函数需要在派生类中具体实现。
    </p>
    <p>
     - 提供一个 `makeDrink()` 成员函数，该函数按顺序调用上述四个纯虚函数，定义了制作饮品的通用流程。
    </p>
    <p>
    </p>
    <h5>
     2. 定义具体饮品类
    </h5>
    <p>
     - 定义 `Coffee` 类，继承自 `AbstractDrinking` 抽象类。
    </p>
    <p>
     - 实现 `Boil()`、`Brew()`、`PourInCup()` 和 `PutSomething()` 四个纯虚函数，具体描述制作咖啡的步骤，如煮开水、冲泡咖啡、倒入杯中、加入糖和牛奶。
    </p>
    <p>
     - 定义 `Tee` 类（可能拼写有误，应为 `Tea`），同样继承自 `AbstractDrinking` 抽象类。
    </p>
    <p>
     - 实现 `Boil()`、`Brew()`、`PourInCup()` 和 `PutSomething()` 四个纯虚函数，具体描述制作茶的步骤，如煮开水、冲泡茶叶、倒入杯中、加入柠檬。
    </p>
    <p>
    </p>
    <h5>
     3. 定义工作函数
    </h5>
    <p>
     - 定义 `doWork()` 函数，该函数接受一个指向 `AbstractDrinking` 类的指针作为参数。
    </p>
    <p>
     - 在函数内部调用 `makeDrink()` 函数制作饮品。
    </p>
    <p>
     - 使用 `delete` 释放动态分配的内存，避免内存泄漏。
    </p>
    <p>
    </p>
    <h5>
     4. 定义测试函数
    </h5>
    <p>
     - 定义 `test01()` 函数，用于测试制作咖啡和茶的功能。
    </p>
    <p>
     - 调用 `doWork()` 函数制作咖啡，并在制作完成后输出分隔线。
    </p>
    <p>
     - 再次调用 `doWork()` 函数制作茶。
    </p>
    <p>
    </p>
    <h5>
     5. 主函数
    </h5>
    <p>
     - 在 `main()` 函数中调用 `test01()` 函数，启动测试流程。
    </p>
    <p>
     - 返回 0 表示程序正常结束。 通过这种设计，代码实现了制作不同饮品的通用流程，同时利用多态性可以根据传入的具体饮品对象执行相应的制作步骤。
    </p>
    <p>
    </p>
    <h4>
     代码实现：
    </h4>
    <pre><code class="language-cpp">#include&lt;iostream&gt;
using namespace std; 

class AbstractDrinking{
	
public:
	
	//煮水 
	virtual void Boil() = 0;
	
	//冲泡 
	virtual void Brew() = 0;
	
	//倒入杯中
	virtual void PourInCup() = 0;
	
	//加入辅料
	virtual void PutSomething() = 0; 
	
	//制作饮品
	void makeDrink(){
		
		Boil();
		Brew();
		PourInCup();
		PutSomething(); 
	} 
};

class Coffee :public AbstractDrinking{
	
public:
	 
	 //煮水
	virtual void Boil(){
	 	
	 	cout &lt;&lt; "煮开水" &lt;&lt; endl;
	 } 
	 
	 //加入辅料
	virtual void Brew(){
	 	
	 	cout &lt;&lt; "冲泡咖啡" &lt;&lt; endl;
	 } 

	 //倒入杯中 
	virtual void PourInCup(){
	 	
	 	cout &lt;&lt; "倒入杯中" &lt;&lt; endl;
	 } 
	 
	 //加入辅料
	virtual void PutSomething(){
	 	
	 	cout &lt;&lt; "加入糖和牛奶" &lt;&lt; endl;
	 } 
};

class Tee :public AbstractDrinking{
	
public:
	 
	 //煮水
	virtual void Boil(){
	 	
	 	cout &lt;&lt; "煮开水" &lt;&lt; endl;
	 } 
	 
	 //加入辅料
	virtual void Brew(){
	 	
	 	cout &lt;&lt; "冲泡茶叶" &lt;&lt; endl;
	 } 

	 //倒入杯中 
	virtual void PourInCup(){
	 	
	 	cout &lt;&lt; "倒入杯中" &lt;&lt; endl;
	 } 
	 
	 //加入辅料
	virtual void PutSomething(){
	 	
	 	cout &lt;&lt; "加入柠檬" &lt;&lt; endl;
	 } 
};

void doWork(AbstractDrinking * abs){
	
	abs-&gt;makeDrink();
	delete abs;
}

void test01(){
	
	doWork(new Coffee);
	
	cout &lt;&lt; "-----------------" &lt;&lt; endl;
	
	doWork(new Tee);
}

int main(){
	
	test01();
	
	return 0;
} </code></pre>
    <p>
     <img alt="" height="721" src="https://i-blog.csdnimg.cn/direct/637342ed13bc431a9bbaa83fa44c5513.png" width="1330"/>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c:6f672e6373646e2e6e65742f66616e616e616e67303630342f:61727469636c652f64657461696c732f313436303830343936" class_="artid" style="display:none">
 </p>
</div>


