---
layout: post
title: "笔记分布式网络与分布式账本"
date: 2024-12-29 16:26:51 +0800
description: "一、分布式网络P2P的概念1.类型与概念  现实网络模式中，主要存在三种模式，分别是中心化、分布式与"
keywords: "分布式网络"
categories: ['区块链', '分布式系统']
tags: ['区块链分布式', '分布式账本', '分布式网络', 'P']
artid: "104470136"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=104470136
    alt: "笔记分布式网络与分布式账本"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=104470136
featuredImagePreview: https://bing.ee123.net/img/rand?artid=104470136
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【笔记】分布式网络与分布式账本
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="P2P_0">
     </a>
     一、分布式网络P2P的概念
    </h2>
    <h3>
     <a id="1_1">
     </a>
     1.类型与概念
    </h3>
    <p>
     现实网络模式中，主要存在三种模式，分别是
     <strong>
      中心化、分布式与去中心化
     </strong>
     。
    </p>
    <p>
     <strong>
      分布式网络，作为区块链的底层公有链，是种分布式对等网络（P2P），每个网络节点都是平等的，没有哪个节点处于中心地位或者对其他节点具有控制、管理权限，所以每个结点之间的关系都是对等的，故又称为“对等网络”。
     </strong>
     在此网络中的参与者既是资源、服务和内容的提供者，又是资源、服务和内容的获取者。
     <br/>
     分布式网络与中心化的客户端或服务器网络架构不同，它是一种去中心化的网络结构方式，其提高了数据传输的效率，对中心化的网络结构来说具有更高的安全性。
    </p>
    <h3>
     <a id="2_8">
     </a>
     2.分散化、负载均衡与隐私
    </h3>
    <p>
     分布式网络（P2P网络）主要有分散化（非中心化）、可扩展性、健壮性、高性能、保护隐私与负载均衡等特点，其中以分散化和局域均衡为主要内容。
    </p>
    <p>
     （1）
     <strong>
      分散化，即非中心化
     </strong>
     <br/>
     网络中的资源和服务分散在所有节点上，信息传输和服务的实现都直接在节点之间进行，无须中间环节和服务器的介入，避免了可能的“瓶颈”。这样就大大降低了对集中式服务器的资源和性能的要求。分散化是P2P的基本特点，由此带来了可扩展性、健壮性等方面的优势。
    </p>
    <p>
     （2）
     <strong>
      负载均衡
     </strong>
     <br/>
     因为每个节点既是服务器优势客户端，降低了对传统“客户/服务器模式”（C/S）服务器计算能力、存储能力的要求，同时因为资源分布在多个节点，更好地实现了整个网络的负载均衡。
    </p>
    <p>
     在P2P网络中，由于信息的传输分散在各节点之间进行而无须经过某个集中环节，用户的隐私信息被窃听和泄露的可能性大大缩小。
     <br/>
     目前解决Internet隐私问题主要次啊用中继转发的技术方法，从而将通信的参与者隐藏在众多的网络实体之中，但在传统的一些匿名通信系统中， 实现这一机制依赖于某些中继服务器节点。在P2P中，所有参与者都可以使用中继转发的功能，因而大大提高了匿名通信的灵活性和可靠性，能够为用户提供更好的隐私保护。
    </p>
    <h3>
     <a id="3_20">
     </a>
     3.高效、健壮与可扩展
    </h3>
    <ul>
     <li>
      <strong>
       可扩展性
      </strong>
     </li>
    </ul>
    <p>
     在P2P网络中，随着用户的加入，不仅服务的需求增加了，系统整体的资源和服务能力也在同步扩充始终能较容易地满足用户的需要。由于大部分处理直接在节点之间进行，大大减少了对服务器的以来，因而能够方便地扩展到数百万个用户。
     <br/>
     对于纯P2P来说，整个体系是全分布的，不存在“瓶颈”。理论上其可扩展性是无限的。P2P可扩展性这一优点已经在一些应用的实例中得到证明，如Napster、Gnutella、Freenet等。
    </p>
    <ul>
     <li>
      <strong>
       高性能
      </strong>
     </li>
    </ul>
    <p>
     采用P2P架构可以有效地利用互联网中散布的大量普通节点，将计算任务或存储资料分布到所有节点上。利用其中限制的计算能力或存储空间，达到高性能计算和海量存储的目的。
    </p>
    <ul>
     <li>
      <strong>
       健壮性
      </strong>
     </li>
    </ul>
    <p>
     P2P架构则天生具有耐攻击、高容错的优点，因为服务是分散在各个节点之间进行的，所以部分节点或网络遭到破坏对其它部分的影响也很小。分布式模型一般在部分节点失效时能够自动调整、整体拓扑，保持其他节点的连通性。
    </p>
    <h2>
     <a id="_35">
     </a>
     二、常见问题与分布式事物
    </h2>
    <h3>
     <a id="1_36">
     </a>
     1.常见问题
    </h3>
    <p>
     （1）
     <strong>
      通信异常
     </strong>
     <br/>
     分布式系统需要在各个节点之间进行通信，因此每次网络通信都会伴随着网络不可用的风险，例如光纤、路由、域名系统等硬件设备不可用。
    </p>
    <p>
     （2）
     <strong>
      网络分区
     </strong>
     <br/>
     当网络发生异常情况，导致分布式系统中部分节点之间的网络延迟不断增大，最终导致分布式系统中只有部分节点能够正常通信，这种情况称为网络分区，俗称“脑裂”。
    </p>
    <p>
     （3）
     <strong>
      三态
     </strong>
     <br/>
     因为网络的问题，所以分布式系统的每次请求与响应存在特有的“三态”概念，即成功、失败和超时。
    </p>
    <h3>
     <a id="2_46">
     </a>
     2.分布式事务
    </h3>
    <p>
     一个分布式事务可以看作由多个分布式操作序列组成，通常把这一系列分布式操作称为子事务。在分布式事务中，各个子系统的执行也是分布式的，因此要实现一种能够保证“ACID”特性的分布式事务处理系统就格外复杂。于是，出现了诸如**“CAP原则”
     <strong>
      和
     </strong>
     “BASE原则”**这样的分布式经典理论。
    </p>
    <h2>
     <a id="P2P_50">
     </a>
     三、P2P的两种架构
    </h2>
    <h3>
     <a id="1_51">
     </a>
     1.分类及性能
    </h3>
    <p>
     根据点链接方式以及资源定位方式，分布式网络分为两种架构：一种是非结构化的P2P网络，另一种是结构化的P2P网络。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/87d78ab730f070778494576871964041.png"/>
    </p>
    <p>
     分布式网络两种架构4中结构的性能比较：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/70efc64f27ee1b4b2b9a065edb08befb.png"/>
    </p>
    <h3>
     <a id="2P2P_58">
     </a>
     2.非结构化的P2P网络
    </h3>
    <p>
     <strong>
      非结构化的P2P网络，是指网络系统的各个节点随机地互相链接在一起，没有经过特定设计的层叠网络结构。
     </strong>
     <br/>
     <strong>
      特点就是搭建网络容易，最大缺陷是数据索引的效率低。
     </strong>
     <br/>
     当节点太多，就会形成巨大的信息潮流，消耗大量的中央处理器（CPU）和带宽资源以满足大量节点之间的数据查询和通信，因而使得数据索引的效率低。
    </p>
    <h3>
     <a id="3P2P_63">
     </a>
     3.结构化的P2P网络
    </h3>
    <p>
     <strong>
      结构化的P2P网络，是指网络即诶但通过特定的网络拓扑结构链接在一起，通过网路协议确保任意节点可以高效地找到所需数据，即使是很少见的数据
     </strong>
     。目前最常用的结构是
     <strong>
      分布式哈希表（DHT）
     </strong>
     。
     <br/>
     <strong>
      优点是能大大提高搜索效率。缺点在于，由于网络中的哈希表建立了资源与存储空间的对应关系，所以网络抗扰动的能力不足。
     </strong>
    </p>
    <h2>
     <a id="_67">
     </a>
     四、广播机制
    </h2>
    <p>
     广播与验证机制是区块链网络与以往中心化网络的重要区别之一，是产生信任、形成高安全性的基础。两种广播机制分别为
     <strong>
      交易广播
     </strong>
     和
     <strong>
      区块构造广播
     </strong>
     。
    </p>
    <p>
     <strong>
      交易广播机制：每一笔交易需要向全网进行广播，取得全网节点的验证后，才进入区块的构造过程。
     </strong>
     <br/>
     交易广播一方面是下一项交易的源头，也是产生信任机制的第一步；另一方面是区块封装的数学基础，因为”矿工“们要做的是将某一适度内的交易组装为区块并进行计算。
    </p>
    <p>
     <strong>
      区块构造广播：由网络服务机构完成的广播。
     </strong>
     <br/>
     由于区块的构造是由全网的服务机构（”矿工“们）竞争的结果，在接收交易广播的信息并完成本时段内全部交易的封装后，矿工们开始竞争计算哈希值。最快完成计算的”矿工“必须将结果广播出去，并且具备接收全网节点验证的基础条件，实现区块向主区块链的”入链“过程，才能使区块真正构建完成。
    </p>
    <h2>
     <a id="_76">
     </a>
     五、验证机制
    </h2>
    <h3>
     <a id="1_77">
     </a>
     1.概念与验证
    </h3>
    <p>
     在区块链的分布式网络中，验证机制是指
     <strong>
      节点对广播的交易信息和区块进行验证的过程
     </strong>
     。
    </p>
    <p>
     验证一般只对源交易的哈希值进行验证，确认源交易的哈希值是可信的，而且存在于之前的区块之中即可。
     <br/>
     当最先完成区块封装以及竞争计算的”矿工“吧构造结果广播出去以后，其他节点的”矿工“就会停止对本区块的构造，转而验证该区块的计算结果是否成立，每一个节点在将新区块转发到其节点之前，会进行一系列的测试来验证以确保区块的合格与有效。
    </p>
    <p>
     这种验证同时也是一种保证系统正常运行的激励机制。
    </p>
    <h3>
     <a id="2_85">
     </a>
     2.步骤与唯一性
    </h3>
    <p>
     <strong>
      区块构造验证的具体步骤：
     </strong>
     <br/>
     节点依据一个标准清单对区块进行验证，这些标准存在于比特币核心客户端的“
     <strong>
      Check Block
     </strong>
     ” 函数和“
     <strong>
      Check Block Head
     </strong>
     ”函数中。
    </p>
    <ul>
     <li>
      区块的数据结构在语法上有效；
     </li>
     <li>
      区块头的哈希值小于目标难度，确认包含足够的工作量证明；
     </li>
     <li>
      区块时间戳早于验证时刻未来两个小时，即允许时间错误；
     </li>
     <li>
      区块大小在长度限制之内；
     </li>
     <li>
      其他条件。
     </li>
    </ul>
    <p>
     <strong>
      区块链的唯一性
     </strong>
     <br/>
     如果同时有数个区块被计算出来，并且都可以通过全网的验证，其他”矿工“可以任选一个区块进行新区块的”挖矿“，并广播挖出的新区块，这时候就产生了”多链“现象。
     <br/>
     由于网络节点的随机性， 一般在不超过6个新区看的范围内，原来的”多链“就会出现长短不一的情况，此时”马太效应“显现，全网的节点都会选择最长的那条链进行后续的区块构造，其他的短链将会被抛弃，为保证主区块链的唯一性。
    </p>
    <h2>
     <a id="_98">
     </a>
     六、分布式账本
    </h2>
    <h3>
     <a id="1_99">
     </a>
     1.概念与特点
    </h3>
    <p>
     账本是个体、团体经济活动和利益的记录系统（SoR），来源于各类资产的交易（或交换）。
     <br/>
     资产的所有权和转移会在业务网络中创造价值，这个过程被称为交易。
    </p>
    <p>
     <strong>
      分布式账本记录网络参与者之间的资产交易或数据交换等活动，是一种在网络成员之间共享、复制和同步的数据库。
     </strong>
     <br/>
     网络中的参与者根据共识原则来制约和协商账本记录的更新。
     <br/>
     分布式账本中的每条记录都有一个时间戳和唯一的密码签名，这使得账本成为网络中所有交易的可审计历史记录。
    </p>
    <p>
     <strong>
      分布式账本系统的特点：
     </strong>
    </p>
    <ol>
     <li>
      存放在互联网的各个节点上，每个节点都有一份完整的备份；
     </li>
     <li>
      记录着自诞生以来的所有转账交易记录；
     </li>
     <li>
      账本是分区块存储的，每一块包含一部分交易记录，每一个区块都会记录着前一区块的ID，形成一个链状结构；
     </li>
     <li>
      当发起一笔交易时，只需把交易信息广播到P2P网络中，交易信息被记录成一个新的区块链接到区块链上，交易即完成。
     </li>
    </ol>
    <h3>
     <a id="2_113">
     </a>
     2.分布式账本和商业账本的比较
    </h3>
    <p>
     <strong>
      传统商业账本存在的问题：
     </strong>
     效率低下、成本高、不透明且容易发生欺诈和滥用等。这些集中化的、基于信任的账本系统会给交易阶段带来瓶颈和障碍，缺乏透明性则很容易发生腐败和欺诈。
    </p>
    <p>
     <strong>
      分布式账本的优势：
     </strong>
     区块链共识机制具备提供经过整合、一直的数据集的优势，减少了错误，拥有接近事实的引用数据，而且参与者能够灵活地更改其拥有资产的描述。
     <br/>
     区块链技术会提高参与成员之间的交易信息流中的可信度和完整性。其不变性机制降低了审计和合规的成本，增加了透明性；在使用区块链技术的业务网络上，合约通过智能、自动化执行得到最终确认，进而企业会获得更高的执行速度、更低的成本和更少的风险，最终使奇特构架耐心的收入流来与客户交互。
    </p>
    <p>
     分布式账本存在的问题和解决方案如下图所示。
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/c14146916f2b80feb489c0e1dd23a764.png"/>
    </p>
    <h3>
     <a id="3_124">
     </a>
     3.应用价值与操作
    </h3>
    <p>
     分布式中心体的产品应用价值主要有3点：
     <br/>
     （1）
     <strong>
      去中心化云端数据存储。
     </strong>
     整个网络没有集中设立的管理机构，节点间拥有相同的权利和义务，任一节点损坏或者失去都不会影响整个系统的运行。
     <br/>
     （2）
     <strong>
      让信息对称。
     </strong>
     分布式账本技术可建立一个公开透明的社会信用体系，信息不对称将不复存在。
     <br/>
     （3）
     <strong>
      去欺诈。
     </strong>
     系统基于公开透明规则，数据内容是公开的，节点之间无法互相欺诈，在系统节点数据交换中任何篡改行为将被系统识别出来。
    </p>
    <p>
     比特币采用分布式账本的方式：
     <br/>
     （1）所有交易参与方都是匿名的，每一笔交易信息必须公开；
     <br/>
     （2）所有人都可以进行记账，每10分钟进行一次账本更新；
     <br/>
     （3）每次更新账本时，记账参与者需根据最近10分钟的交易信息向系统提交自己计算出来的最新账本；
     <br/>
     （4）系统将把所有上传账本大多数相同版本的账本视为正确的账本；
     <br/>
     （5）所有提交正确账本的参与方都可以参与，唯一获胜者可以获得一笔数额的现金奖励。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="687474:70733a2f2f626c6f672e6373646e2e6e65742f636277656d2f:61727469636c652f64657461696c732f313034343730313336" class_="artid" style="display:none">
 </p>
</div>


