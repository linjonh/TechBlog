---
layout: post
title: "面试之react服务器组件-RSC"
date: 2025-03-11 08:25:57 +0800
description: "React 服务器组件（React Server Components）是 React 18 引入的一项重要特性，它允许开发者在服务器端渲染 React 组件，为构建高性能、可维护的 React 应用提供了新的方式。下面从多个方面详细介绍 React 服务器组件。"
keywords: "面试之《react服务器组件--RSC》"
categories: ['面试']
tags: ['服务器', '前端', 'React']
artid: "146169046"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146169046
    alt: "面试之react服务器组件-RSC"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146169046
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146169046
cover: https://bing.ee123.net/img/rand?artid=146169046
image: https://bing.ee123.net/img/rand?artid=146169046
img: https://bing.ee123.net/img/rand?artid=146169046
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     面试之《react服务器组件--RSC》
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     React 服务器组件（React Server Components）是 React 18 引入的一项重要特性，它允许开发者在服务器端渲染 React 组件，为构建高性能、可维护的 React 应用提供了新的方式。下面从多个方面详细介绍 React 服务器组件。
    </p>
    <h4>
     <a id="_2">
     </a>
     核心概念
    </h4>
    <ul>
     <li>
      <strong>
       服务器渲染
      </strong>
      ：传统的 React 应用通常是在客户端渲染（CSR）或使用 Next.js 等框架进行静态站点生成（SSG）和服务器端渲染（SSR）。而 React 服务器组件是一种全新的服务器渲染方式，它可以在服务器上直接渲染组件，生成 HTML 和 JavaScript 代码，然后将渲染好的结果发送到客户端。
     </li>
     <li>
      <strong>
       组件类型划分
      </strong>
      ：在引入服务器组件后，React 组件分为服务器组件和客户端组件。服务器组件只能在服务器端运行，无法访问浏览器的 API（如
      <code>
       window
      </code>
      、
      <code>
       document
      </code>
      等）；客户端组件则可以在客户端运行，并且可以访问浏览器的 API。
     </li>
    </ul>
    <h4>
     <a id="_6">
     </a>
     优势
    </h4>
    <ul>
     <li>
      <strong>
       性能提升
      </strong>
      ：
      <ul>
       <li>
        减少客户端的 JavaScript 代码量，因为服务器组件在服务器端渲染，不需要将组件的代码发送到客户端。
       </li>
       <li>
        更快的初始加载速度，用户可以更快地看到渲染好的页面内容。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       更好的安全性
      </strong>
      ：服务器组件可以直接访问服务器端的资源，如数据库、文件系统等，而不需要通过 API 进行通信，从而减少了潜在的安全风险。
     </li>
     <li>
      <strong>
       简化数据获取
      </strong>
      ：在服务器组件中，可以直接在组件内部获取数据，而不需要使用
      <code>
       useEffect
      </code>
      或其他异步数据获取方法，使代码更加简洁。
     </li>
    </ul>
    <h4>
     <a id="_13">
     </a>
     基本使用
    </h4>
    <p>
     以下是一个简单的示例，展示了如何在 Next.js 中使用 React 服务器组件：
    </p>
    <h5>
     <a id="1__16">
     </a>
     1. 创建服务器组件
    </h5>
    <p>
     在 Next.js 中，默认的
     <code>
      .js
     </code>
     或
     <code>
      .jsx
     </code>
     文件就是服务器组件。创建一个名为
     <code>
      ServerComponent.js
     </code>
     的文件：
    </p>
    <pre><code class="prism language-jsx">// ServerComponent.js
import React from 'react';

// 模拟从数据库获取数据
async function getData() {
    return ['Item 1', 'Item 2', 'Item 3'];
}

const ServerComponent = async () =&gt; {
    const data = await getData();
    return (
        &lt;ul&gt;
            {data.map((item, index) =&gt; (
                &lt;li key={index}&gt;{item}&lt;/li&gt;
            ))}
        &lt;/ul&gt;
    );
};

export default ServerComponent;
</code></pre>
    <h5>
     <a id="2__41">
     </a>
     2. 在页面中使用服务器组件
    </h5>
    <p>
     创建一个名为
     <code>
      page.js
     </code>
     的页面文件：
    </p>
    <pre><code class="prism language-jsx">// page.js
import React from 'react';
import ServerComponent from './ServerComponent';

const Page = () =&gt; {
    return (
        &lt;div&gt;
            &lt;h1&gt;React Server Components Example&lt;/h1&gt;
            &lt;ServerComponent /&gt;
        &lt;/div&gt;
    );
};

export default Page;
</code></pre>
    <h4>
     <a id="_60">
     </a>
     与客户端组件交互
    </h4>
    <p>
     服务器组件可以与客户端组件一起使用，通过 props 传递数据。以下是一个示例：
    </p>
    <h5>
     <a id="1__63">
     </a>
     1. 创建客户端组件
    </h5>
    <p>
     创建一个名为
     <code>
      ClientComponent.js
     </code>
     的文件，并在文件顶部添加
     <code>
      "use client"
     </code>
     指令，表明这是一个客户端组件：
    </p>
    <pre><code class="prism language-jsx">// ClientComponent.js
"use client";
import React from 'react';

const ClientComponent = ({ data }) =&gt; {
    return (
        &lt;div&gt;
            &lt;h2&gt;Client Component&lt;/h2&gt;
            &lt;p&gt;{data}&lt;/p&gt;
        &lt;/div&gt;
    );
};

export default ClientComponent;
</code></pre>
    <h5>
     <a id="2__82">
     </a>
     2. 在服务器组件中使用客户端组件
    </h5>
    <pre><code class="prism language-jsx">// ServerComponent.js
import React from 'react';
import ClientComponent from './ClientComponent';

const ServerComponent = () =&gt; {
    const data = 'Data from server component';
    return (
        &lt;div&gt;
            &lt;h1&gt;Server Component&lt;/h1&gt;
            &lt;ClientComponent data={data} /&gt;
        &lt;/div&gt;
    );
};

export default ServerComponent;
</code></pre>
    <h4>
     <a id="_101">
     </a>
     局限性
    </h4>
    <ul>
     <li>
      <strong>
       无法访问浏览器 API
      </strong>
      ：服务器组件在服务器端运行，无法直接访问浏览器的 API，如
      <code>
       window
      </code>
      、
      <code>
       document
      </code>
      等。如果需要使用这些 API，应该使用客户端组件。
     </li>
     <li>
      <strong>
       状态管理受限
      </strong>
      ：服务器组件是无状态的，不支持使用
      <code>
       useState
      </code>
      和
      <code>
       useReducer
      </code>
      等 React 钩子来管理状态。如果需要管理状态，应该使用客户端组件。
     </li>
    </ul>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f32383939323034372f:61727469636c652f64657461696c732f313436313639303436" class_="artid" style="display:none">
 </p>
</div>


