---
arturl_encode: "68747470733a2f2f626c:6f672e6373646e2e6e65742f496e746572766965775f54432f:61727469636c652f64657461696c732f313436333032343334"
layout: post
title: "åœ¨æ ‘è“æ´¾ä¸Šè¿è¡Œ-COCO-SSD-MobileNet-ç›®æ ‡æ£€æµ‹å®Œæ•´æŒ‡å—"
date: 2025-03-16 21:59:32 +0800
description: "æ— è®ºæ˜¯è¯†åˆ«é—¨å£çš„å¿«é€’åŒ…è£¹ã€ç›‘æ§èŠ±å›­é‡Œçš„å°åŠ¨ç‰©ï¼Œè¿˜æ˜¯æ‰“é€ ä¸€ä¸ªæ™ºèƒ½å®‰é˜²ç³»ç»Ÿï¼Œç›®æ ‡æ£€æµ‹æŠ€æœ¯éƒ½èƒ½è®©ä½ çš„æ ‘è“æ´¾é¡¹ç›®å¦‚è™æ·»ç¿¼ã€‚æ— éœ€æ˜‚è´µçš„ç¡¬ä»¶ï¼Œåªéœ€ä¸€ä¸ªæ™®é€šçš„æ ‘è“æ´¾å’Œæ‘„åƒå¤´ï¼Œå³å¯å¼€å¯è®¡ç®—æœºè§†è§‰çš„å¥‡å¦™ä¹‹æ—…ï¼æ ‡å‡†å·ç§¯ vs æ·±åº¦å¯åˆ†ç¦»å·ç§¯ï¼ˆæ¥æºï¼šGoogle Researchï¼‰ï¼Œæ— éœ€å¤æ‚çš„åŒºåŸŸå»ºè®®æ­¥éª¤ã€‚é€šè¿‡æœ¬æŒ‡å—ï¼Œä½ å·²ç»æˆåŠŸåœ¨æ ‘è“æ´¾ä¸Šéƒ¨ç½²äº†å®æ—¶ç›®æ ‡æ£€æµ‹ç³»ç»Ÿï¼æ˜¯è®¡ç®—æœºè§†è§‰é¢†åŸŸæœ€æƒå¨çš„æ•°æ®é›†ä¹‹ä¸€ï¼ŒåŒ…å«ã€‚COCOæ•°æ®é›†ç¤ºä¾‹å›¾åƒï¼ˆæ¥æºï¼šCOCOå®˜ç½‘ï¼‰ï¼šOpenCV ä¸æ”¯æŒæ‘„åƒå¤´çš„åƒç´ æ ¼å¼ã€‚ï¼šé¢„å¤„ç†ä¸åå¤„ç†çš„åæ ‡è½¬æ¢é”™è¯¯ã€‚"
keywords: "åœ¨æ ‘è“æ´¾ä¸Šè¿è¡Œ COCO-SSD MobileNet ç›®æ ‡æ£€æµ‹ï¼šå®Œæ•´æŒ‡å—"
categories: ['Ai']
tags: ['è®¡ç®—æœºè§†è§‰', 'ç›®æ ‡æ£€æµ‹', 'äººå·¥æ™ºèƒ½']
artid: "146302434"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146302434
    alt: "åœ¨æ ‘è“æ´¾ä¸Šè¿è¡Œ-COCO-SSD-MobileNet-ç›®æ ‡æ£€æµ‹å®Œæ•´æŒ‡å—"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146302434
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146302434
cover: https://bing.ee123.net/img/rand?artid=146302434
image: https://bing.ee123.net/img/rand?artid=146302434
img: https://bing.ee123.net/img/rand?artid=146302434
---

# åœ¨æ ‘è“æ´¾ä¸Šè¿è¡Œ COCO-SSD MobileNet ç›®æ ‡æ£€æµ‹ï¼šå®Œæ•´æŒ‡å—

---

## **åœ¨æ ‘è“æ´¾ä¸Šè¿è¡Œ COCO-SSD MobileNet ç›®æ ‡æ£€æµ‹ï¼šå®Œæ•´æŒ‡å—**

![å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ ](https://img-home.csdnimg.cn/images/20230724024159.png?origin_url=https%3A%2F%2Fmiro.medium.com%2Fmax%2F1400%2F1*QhCvUz6v3Q2jT4i4aQcZ5g.jpeg&pos_id=img-qBUuat1q-1742133504895)
  
*æ ‘è“æ´¾ + æ‘„åƒå¤´ + AI = æ— é™å¯èƒ½ï¼*

---

### **1. å¼•è¨€ï¼šè®©æ ‘è“æ´¾æ‹¥æœ‰ã€Œè§†è§‰æ™ºèƒ½ã€**

**ä½ æ˜¯å¦æƒ³è¿‡ï¼Œè®©ä¸€å°ä¿¡ç”¨å¡å¤§å°çš„ç”µè„‘å®æ—¶ã€Œçœ‹æ‡‚ã€å‘¨å›´çš„ä¸–ç•Œï¼Ÿ**
  
æ— è®ºæ˜¯è¯†åˆ«é—¨å£çš„å¿«é€’åŒ…è£¹ã€ç›‘æ§èŠ±å›­é‡Œçš„å°åŠ¨ç‰©ï¼Œè¿˜æ˜¯æ‰“é€ ä¸€ä¸ªæ™ºèƒ½å®‰é˜²ç³»ç»Ÿï¼Œç›®æ ‡æ£€æµ‹æŠ€æœ¯éƒ½èƒ½è®©ä½ çš„æ ‘è“æ´¾é¡¹ç›®å¦‚è™æ·»ç¿¼ã€‚

æœ¬æŒ‡å—å°†æ‰‹æŠŠæ‰‹æ•™ä½ ï¼š
**å¦‚ä½•åœ¨æ ‘è“æ´¾ä¸Šéƒ¨ç½² COCO-SSD MobileNet æ¨¡å‹ï¼Œé€šè¿‡æ‘„åƒå¤´å®ç°å®æ—¶ç›®æ ‡æ£€æµ‹**
ã€‚æ— éœ€æ˜‚è´µçš„ç¡¬ä»¶ï¼Œåªéœ€ä¸€ä¸ªæ™®é€šçš„æ ‘è“æ´¾å’Œæ‘„åƒå¤´ï¼Œå³å¯å¼€å¯è®¡ç®—æœºè§†è§‰çš„å¥‡å¦™ä¹‹æ—…ï¼

---

### **2. ä¸ºä»€ä¹ˆé€‰æ‹© COCO-SSD MobileNetï¼Ÿ**

#### **2.1 ç›®æ ‡æ£€æµ‹æŠ€æœ¯çš„æ¼”è¿›**

åœ¨æ·±å…¥æŠ€æœ¯ç»†èŠ‚å‰ï¼Œæˆ‘ä»¬å…ˆå¿«é€Ÿå›é¡¾ç›®æ ‡æ£€æµ‹çš„å‘å±•å²ï¼š

| ç®—æ³• | ç‰¹ç‚¹ | é€‚ç”¨åœºæ™¯ |
| --- | --- | --- |
| **R-CNN** | é«˜ç²¾åº¦ï¼Œä½†é€Ÿåº¦ææ…¢ | å­¦æœ¯ç ”ç©¶ |
| **Fast R-CNN** | é€Ÿåº¦æå‡ï¼Œä»ä¾èµ–GPU | æœåŠ¡å™¨ç«¯åº”ç”¨ |
| **Faster R-CNN** | å¼•å…¥åŒºåŸŸå»ºè®®ç½‘ç»œï¼ˆRPNï¼‰ | é«˜ç²¾åº¦éœ€æ±‚åœºæ™¯ |
| **YOLO** | å®æ—¶æ£€æµ‹ï¼Œç²¾åº¦é€‚ä¸­ | å®æ—¶ç›‘æ§ |
| **SSD** | é€Ÿåº¦ä¸ç²¾åº¦å¹³è¡¡ | ç§»åŠ¨ç«¯/åµŒå…¥å¼ |

**SSDï¼ˆSingle Shot MultiBox Detectorï¼‰**
çš„æœ€å¤§ä¼˜åŠ¿åœ¨äºï¼š
**å•æ¬¡å‰å‘ä¼ æ’­å³å¯å®Œæˆæ‰€æœ‰ç›®æ ‡çš„å®šä½å’Œåˆ†ç±»**
ï¼Œæ— éœ€å¤æ‚çš„åŒºåŸŸå»ºè®®æ­¥éª¤ã€‚è¿™ä½¿å¾—å®ƒåœ¨åµŒå…¥å¼è®¾å¤‡ä¸Šè¡¨ç°å°¤ä¸ºå‡ºè‰²ã€‚

#### **2.2 MobileNetï¼šä¸ºç§»åŠ¨ç«¯è€Œç”Ÿçš„è½»é‡çº§ç½‘ç»œ**

**MobileNet**
çš„æ ¸å¿ƒæ€æƒ³æ˜¯ä½¿ç”¨
**æ·±åº¦å¯åˆ†ç¦»å·ç§¯ï¼ˆDepthwise Separable Convolutionï¼‰**
æ›¿ä»£æ ‡å‡†å·ç§¯ã€‚è¿™ç§è®¾è®¡å°†è®¡ç®—é‡å‡å°‘äº†
**8-9å€**
ï¼Œè€Œç²¾åº¦ä»…ä¸‹é™çº¦
**1%**
ã€‚

![å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ ](https://img-home.csdnimg.cn/images/20230724024159.png?origin_url=https%3A%2F%2Fmiro.medium.com%2Fmax%2F1400%2F1*_SUv4lTk6lD5qilGKYsnow.png&pos_id=img-MaRqhbIp-1742133504898)
  
*æ ‡å‡†å·ç§¯ vs æ·±åº¦å¯åˆ†ç¦»å·ç§¯ï¼ˆæ¥æºï¼šGoogle Researchï¼‰*

#### **2.3 COCO æ•°æ®é›†ï¼šè¦†ç›–80ç±»å¸¸è§ç‰©ä½“**

**COCOï¼ˆCommon Objects in Contextï¼‰**
æ˜¯è®¡ç®—æœºè§†è§‰é¢†åŸŸæœ€æƒå¨çš„æ•°æ®é›†ä¹‹ä¸€ï¼ŒåŒ…å«
**80 ä¸ªæ—¥å¸¸ç‰©ä½“ç±»åˆ«**
ï¼Œä¾‹å¦‚ï¼š

* äººç‰©ï¼ˆpersonï¼‰
* äº¤é€šå·¥å…·ï¼ˆcar, bicycle, airplaneï¼‰
* åŠ¨ç‰©ï¼ˆdog, cat, horseï¼‰
* å®¶å…·ï¼ˆchair, sofa, bedï¼‰

![](https://i-blog.csdnimg.cn/img_convert/835cd9d243f1a1a9cce3f6852ab17dec.jpeg)
  
*COCOæ•°æ®é›†ç¤ºä¾‹å›¾åƒï¼ˆæ¥æºï¼šCOCOå®˜ç½‘ï¼‰*

#### **2.4 ä¸ºä½•é€‰æ‹©é‡åŒ–åçš„ TensorFlow Lite æ¨¡å‹ï¼Ÿ**

* **æ¨¡å‹ä½“ç§¯æ›´å°**
  ï¼šåŸå§‹æ¨¡å‹çº¦ 25MB â†’ é‡åŒ–åä»… 4.3MB
* **æ¨ç†é€Ÿåº¦æ›´å¿«**
  ï¼š8-bit æ•´æ•°è¿ç®—æ¯” 32-bit æµ®ç‚¹è¿ç®—å¿« 2-3 å€
* **å†…å­˜å ç”¨æ›´ä½**
  ï¼šé€‚åˆæ ‘è“æ´¾æœ‰é™çš„ RAMï¼ˆé€šå¸¸ 1GB/4GBï¼‰

---

### **3. ç¡¬ä»¶ä¸è½¯ä»¶å‡†å¤‡**

#### **3.1 æ‰€éœ€ç¡¬ä»¶æ¸…å•**

| ç»„ä»¶ | æ¨èå‹å· | å¤‡æ³¨ |
| --- | --- | --- |
| æ ‘è“æ´¾ | Raspberry Pi 4B (4GB) | 3B+ ä¹Ÿå¯è¿è¡Œï¼Œä½†å¸§ç‡è¾ƒä½ |
| æ‘„åƒå¤´ | Raspberry Pi Camera V2 | æˆ– USB æ‘„åƒå¤´ï¼ˆå¦‚ Logitech C920ï¼‰ |
| ç”µæºé€‚é…å™¨ | 5V/3A USB-C | ç¡®ä¿ç¨³å®šä¾›ç”µ |
| æ•£çƒ­è£…ç½® | æ•£çƒ­ç‰‡ + é£æ‰‡ | é¿å…é•¿æ—¶é—´é«˜è´Ÿè½½å¯¼è‡´è¿‡çƒ­ |
| å­˜å‚¨å¡ | 32GB Class 10 | å»ºè®®ä½¿ç”¨ Raspberry Pi OS Lite |

#### **3.2 è½¯ä»¶ç¯å¢ƒé…ç½®**

##### **æ­¥éª¤ 1ï¼šå®‰è£… Raspberry Pi OS**

æ¨èä½¿ç”¨
**Raspberry Pi OS (64-bit) Lite**
ç‰ˆæœ¬ï¼Œæœ€å°åŒ–ç³»ç»Ÿèµ„æºå ç”¨ï¼š

```bash
# ä½¿ç”¨ Raspberry Pi Imager å·¥å…·åˆ·å†™ç³»ç»Ÿ
# ä¸‹è½½åœ°å€ï¼šhttps://www.raspberrypi.com/software/

```

##### **æ­¥éª¤ 2ï¼šå¯ç”¨æ‘„åƒå¤´æ¥å£**

```bash
sudo raspi-config
# é€‰æ‹© Interfacing Options â†’ Camera â†’ Enable

```

##### **æ­¥éª¤ 3ï¼šå®‰è£…å¿…è¦ä¾èµ–**

```bash
sudo apt update && sudo apt upgrade -y
sudo apt install -y python3-opencv libatlas-base-dev

```

##### **æ­¥éª¤ 4ï¼šåˆ›å»º Python è™šæ‹Ÿç¯å¢ƒ**

```bash
python3 -m venv tflite-env
source tflite-env/bin/activate
pip install --upgrade pip
pip install tflite-runtime numpy pillow

```

**æ³¨æ„**
ï¼šå¦‚æœä½¿ç”¨ USB æ‘„åƒå¤´æ—¶é‡åˆ°é—®é¢˜ï¼Œå¯å°è¯•ï¼š

```bash
pip uninstall opencv-python
pip install opencv-python-headless

```

---

### **4. æ¨¡å‹ä¸‹è½½ä¸è§£æ**

#### **4.1 ä¸‹è½½é¢„è®­ç»ƒæ¨¡å‹**

```bash
mkdir -p ~/tflite_models && cd ~/tflite_models
wget https://storage.googleapis.com/download.tensorflow.org/models/tflite/coco_ssd_mobilenet_v1_1.0_quant_2018_06_29.zip
unzip coco_ssd_mobilenet_v1_1.0_quant_2018_06_29.zip

```

è§£å‹åçš„å…³é”®æ–‡ä»¶ï¼š

* `detect.tflite`
  ï¼šé‡åŒ–åçš„ TensorFlow Lite æ¨¡å‹
* `coco_labels.txt`
  ï¼šåŒ…å« 80 ä¸ªç±»åˆ«åç§°çš„æ ‡ç­¾æ–‡ä»¶

#### **4.2 æ¨¡å‹è¾“å…¥è¾“å‡ºåˆ†æ**

ä½¿ç”¨
`netron`
å·¥å…·å¯è§†åŒ–æ¨¡å‹ç»“æ„ï¼š

```bash
pip install netron
python -m netron detect.tflite

```

* **è¾“å…¥**
  ï¼š
  `300x300x3`
  çš„ RGB å›¾åƒï¼ˆuint8 ç±»å‹ï¼‰
* **è¾“å‡º**
  ï¼š
  + æ£€æµ‹æ¡†åæ ‡ï¼ˆ[ymin, xmin, ymax, xmax]ï¼‰
  + ç±»åˆ«ç´¢å¼•
  + ç½®ä¿¡åº¦åˆ†æ•°
  + æ£€æµ‹æ•°é‡

---

### **5. ç¼–å†™ç›®æ ‡æ£€æµ‹ç¨‹åº**

#### **5.1 å®Œæ•´ä»£ç è§£æ**

åˆ›å»º
`tflite_camera.py`
æ–‡ä»¶ï¼š

```python
import cv2
import numpy as np
import tflite_runtime.interpreter as tflite
from PIL import Image

# åˆå§‹åŒ–æ¨¡å‹
model_path = "/home/pi/tflite_models/detect.tflite"
interpreter = tflite.Interpreter(model_path=model_path)
interpreter.allocate_tensors()

# è·å–è¾“å…¥è¾“å‡ºå¼ é‡ä¿¡æ¯
input_details = interpreter.get_input_details()
output_details = interpreter.get_output_details()
height = input_details[0]['shape'][1]
width = input_details[0]['shape'][2]

# åŠ è½½ç±»åˆ«æ ‡ç­¾
with open("/home/pi/tflite_models/coco_labels.txt", "r") as f:
    labels = [line.strip() for line in f.readlines()]

# æ‰“å¼€æ‘„åƒå¤´
cap = cv2.VideoCapture(0)

def preprocess_image(frame):
    """å›¾åƒé¢„å¤„ç†ï¼šè°ƒæ•´å°ºå¯¸ã€è½¬æ¢é¢œè‰²ç©ºé—´ã€å½’ä¸€åŒ–"""
    image = cv2.resize(frame, (width, height))
    image_rgb = cv2.cvtColor(image, cv2.COLOR_BGR2RGB)
    input_data = np.expand_dims(image_rgb, axis=0)
    return input_data

def draw_detections(frame, boxes, classes, scores):
    """åœ¨å›¾åƒä¸Šç»˜åˆ¶æ£€æµ‹æ¡†å’Œæ ‡ç­¾"""
    frame_height, frame_width = frame.shape[:2]
    for i in range(len(scores)):
        if scores[i] > 0.5:  # ç½®ä¿¡åº¦é˜ˆå€¼è®¾ä¸º50%
            ymin, xmin, ymax, xmax = boxes[i]
            xmin = int(max(1, xmin * frame_width))
            xmax = int(min(frame_width, xmax * frame_width))
            ymin = int(max(1, ymin * frame_height))
            ymax = int(min(frame_height, ymax * frame_height))
            
            cv2.rectangle(frame, (xmin, ymin), (xmax, ymax), (10, 255, 0), 2)
            label = f"{labels[int(classes[i])]}: {int(scores[i]*100)}%"
            cv2.putText(frame, label, (xmin, ymin-10),
                        cv2.FONT_HERSHEY_SIMPLEX, 0.6, (10, 255, 0), 2)
    return frame

while cap.isOpened():
    ret, frame = cap.read()
    if not ret:
        break
    
    # é¢„å¤„ç†
    input_data = preprocess_image(frame)
    
    # æ¨ç†
    interpreter.set_tensor(input_details[0]['index'], input_data)
    interpreter.invoke()
    
    # è·å–ç»“æœ
    boxes = interpreter.get_tensor(output_details[0]['index'])[0]
    classes = interpreter.get_tensor(output_details[1]['index'])[0]
    scores = interpreter.get_tensor(output_details[2]['index'])[0]
    
    # ç»˜åˆ¶æ£€æµ‹ç»“æœ
    frame = draw_detections(frame, boxes, classes, scores)
    
    # æ˜¾ç¤º
    cv2.imshow('Real-Time Detection', frame)
    
    if cv2.waitKey(1) & 0xFF == ord('q'):
        break

cap.release()
cv2.destroyAllWindows()

```

#### **5.2 å…³é”®ä»£ç è¯¦è§£**

##### **å›¾åƒé¢„å¤„ç†**

* **å°ºå¯¸è°ƒæ•´**
  ï¼šæ¨¡å‹è¦æ±‚è¾“å…¥ä¸º 300x300 åƒç´ 
* **é¢œè‰²ç©ºé—´è½¬æ¢**
  ï¼šOpenCV é»˜è®¤ä½¿ç”¨ BGR æ ¼å¼ï¼Œéœ€è½¬æ¢ä¸º RGB
* **ç»´åº¦æ‰©å±•**
  ï¼šæ·»åŠ  batch ç»´åº¦ï¼ˆä» (300,300,3) â†’ (1,300,300,3)ï¼‰

##### **æ¨ç†ç»“æœè§£æ**

* **boxes**
  ï¼šæ£€æµ‹æ¡†åæ ‡ï¼ˆå½’ä¸€åŒ–åˆ° 0~1 ä¹‹é—´ï¼‰
* **classes**
  ï¼šç±»åˆ«ç´¢å¼•ï¼ˆå¯¹åº”
  `coco_labels.txt`
  çš„è¡Œå·ï¼‰
* **scores**
  ï¼šç½®ä¿¡åº¦ï¼ˆ0~1 ä¹‹é—´çš„æµ®ç‚¹æ•°ï¼‰

##### **åå¤„ç†æŠ€å·§**

* **ç½®ä¿¡åº¦è¿‡æ»¤**
  ï¼šä»…æ˜¾ç¤ºåˆ†æ•°é«˜äº 0.5 çš„æ£€æµ‹ç»“æœ
* **åæ ‡è½¬æ¢**
  ï¼šå°†å½’ä¸€åŒ–åæ ‡è½¬æ¢ä¸ºå®é™…åƒç´ åæ ‡
* **è¾¹ç•Œæ£€æŸ¥**
  ï¼šç¡®ä¿ç»˜åˆ¶æ—¶ä¸è¶…å‡ºå›¾åƒèŒƒå›´

---

### **6. æ€§èƒ½ä¼˜åŒ–æŠ€å·§**

#### **6.1 æå‡å¸§ç‡ï¼ˆFPSï¼‰çš„ 5 ç§æ–¹æ³•**

1. **é™ä½è¾“å…¥åˆ†è¾¨ç‡**
     
   ä¿®æ”¹æ¨¡å‹è¾“å…¥å°ºå¯¸ï¼ˆéœ€é‡æ–°è®­ç»ƒæ¨¡å‹ï¼‰ï¼š

   ```python
   # å°† 300x300 æ”¹ä¸º 192x192
   image = cv2.resize(frame, (192, 192))

   ```
2. **ä½¿ç”¨å¤šçº¿ç¨‹å¤„ç†**
     
   åˆ†ç¦»æ‘„åƒå¤´æ•è·å’Œæ¨¡å‹æ¨ç†çº¿ç¨‹ï¼š

   ```python
   from threading import Thread

   class VideoStream:
       def __init__(self):
           self.stream = cv2.VideoCapture(0)
           self.grabbed, self.frame = self.stream.read()
           self.stopped = False
       
       def start(self):
           Thread(target=self.update, args=()).start()
           return self
       
       def update(self):
           while not self.stopped:
               self.grabbed, self.frame = self.stream.read()
       
       def read(self):
           return self.frame
       
       def stop(self):
           self.stopped = True

   ```
3. **å¯ç”¨ TensorFlow Lite XNNPACK åŠ é€Ÿ**
     
   åœ¨åˆå§‹åŒ–æ¨¡å‹æ—¶æ·»åŠ å‚æ•°ï¼š

   ```python
   interpreter = tflite.Interpreter(
       model_path=model_path,
       experimental_delegates=[tflite.load_delegate('libXNNPACK.so')]
   )

   ```
4. **è¶…é¢‘æ ‘è“æ´¾ CPU**
     
   ç¼–è¾‘
   `/boot/config.txt`
   ï¼š

   ```bash
   over_voltage=2
   arm_freq=1750

   ```
5. **ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿçš„æ‘„åƒå¤´é©±åŠ¨**
     
   æ”¹ç”¨
   `libcamera`
   APIï¼š

   ```python
   cap = cv2.VideoCapture('libcamerasrc ! video/x-raw,width=640,height=480 ! videoconvert ! appsink')

   ```

#### **6.2 ä½¿ç”¨ Edge TPU åŠ é€Ÿ**

å¦‚æœä½ æœ‰
**Google Coral USB Accelerator**
ï¼Œæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

1. å®‰è£… Edge TPU è¿è¡Œæ—¶ï¼š

   ```bash
   echo "deb https://packages.cloud.google.com/apt coral-edgetpu-stable main" | sudo tee /etc/apt/sources.list.d/coral-edgetpu.list
   curl https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -
   sudo apt update
   sudo apt install libedgetpu1-std

   ```
2. ä¸‹è½½ Edge TPU å…¼å®¹æ¨¡å‹ï¼š

   ```bash
   wget https://github.com/google-coral/edgetpu/raw/master/test_data/ssd_mobilenet_v2_coco_quant_postprocess_edgetpu.tflite

   ```
3. ä¿®æ”¹ä»£ç åŠ è½½ Edge TPU æ¨¡å‹ï¼š

   ```python
   interpreter = tflite.Interpreter(
       model_path="ssd_mobilenet_v2_coco_quant_postprocess_edgetpu.tflite",
       experimental_delegates=[tflite.load_delegate('libedgetpu.so.1')]
   )

   ```

---

### **7. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ**

#### **Q1ï¼šæ‘„åƒå¤´æ— æ³•æ‰“å¼€ï¼Œæç¤º `VIDEOIO ERROR: V4L2: Pixel format of incoming image is unsupported`**

**åŸå› **
ï¼šOpenCV ä¸æ”¯æŒæ‘„åƒå¤´çš„åƒç´ æ ¼å¼
  
**è§£å†³**
ï¼š

```python
# åœ¨ cv2.VideoCapture() åæ·»åŠ ä»¥ä¸‹ä»£ç 
cap.set(cv2.CAP_PROP_FOURCC, cv2.VideoWriter_fourcc('M','J','P','G'))
cap.set(cv2.CAP_PROP_FRAME_WIDTH, 640)
cap.set(cv2.CAP_PROP_FRAME_HEIGHT, 480)

```

#### **Q2ï¼šæ¨ç†é€Ÿåº¦æ…¢ï¼ˆ<1 FPSï¼‰**

**ä¼˜åŒ–æ­¥éª¤**
ï¼š

1. ç¡®è®¤ä½¿ç”¨ TensorFlow Lite è€Œéå®Œæ•´ç‰ˆ TensorFlow
2. å…³é—­ä¸å¿…è¦çš„åå°è¿›ç¨‹ï¼š

   ```bash
   sudo systemctl disable bluetooth.service
   sudo systemctl disable avahi-daemon.service

   ```
3. ä½¿ç”¨è½»é‡çº§çª—å£ç®¡ç†å™¨ï¼ˆå¦‚ LXDEï¼‰

#### **Q3ï¼šæ£€æµ‹æ¡†ä½ç½®åç§»**

**åŸå› **
ï¼šé¢„å¤„ç†ä¸åå¤„ç†çš„åæ ‡è½¬æ¢é”™è¯¯
  
**æ£€æŸ¥ç‚¹**
ï¼š

* ç¡®ä¿è¾“å…¥å›¾åƒå°ºå¯¸ä¸æ¨¡å‹åŒ¹é…ï¼ˆ300x300ï¼‰
* åæ ‡åå½’ä¸€åŒ–æ—¶ä¹˜ä»¥çš„æ˜¯åŸå§‹å›¾åƒå°ºå¯¸è€Œéæ¨¡å‹è¾“å…¥å°ºå¯¸

---

### **8. æ‹“å±•åº”ç”¨ï¼šä»åŸå‹åˆ°äº§å“**

#### **æ¡ˆä¾‹ 1ï¼šæ™ºèƒ½é—¨é“ƒç³»ç»Ÿ**

* æ£€æµ‹åˆ°äººæ—¶æ‹ç…§ä¿å­˜
* é€šè¿‡ Telegram Bot å‘é€é€šçŸ¥
* ä½¿ç”¨ PIR ä¼ æ„Ÿå™¨é™ä½åŠŸè€—

#### **æ¡ˆä¾‹ 2ï¼šé‡ç”ŸåŠ¨ç‰©ç›‘æµ‹**

* å¤ªé˜³èƒ½ä¾›ç”µ + 4G æ¨¡å—
* æ£€æµ‹åˆ°ç‰¹å®šç‰©ç§æ—¶è§¦å‘å½•åƒ
* æ•°æ®ä¸Šä¼ è‡³äº‘ç«¯åˆ†æ

#### **æ¡ˆä¾‹ 3ï¼šå·¥ä¸šè´¨æ£€**

* å®šåˆ¶è®­ç»ƒæ¨¡å‹æ£€æµ‹äº§å“ç¼ºé™·
* é…åˆæœºæ¢°è‡‚è‡ªåŠ¨åˆ†æ‹£
* ç»Ÿè®¡ç”Ÿäº§æ•°æ®ç”ŸæˆæŠ¥è¡¨

---

### **9. æ€»ç»“ä¸å±•æœ›**

é€šè¿‡æœ¬æŒ‡å—ï¼Œä½ å·²ç»æˆåŠŸåœ¨æ ‘è“æ´¾ä¸Šéƒ¨ç½²äº†å®æ—¶ç›®æ ‡æ£€æµ‹ç³»ç»Ÿï¼
**å…³é”®æ”¶è·**
ï¼š

* âœ… ç†è§£ COCO-SSD MobileNet çš„è½»é‡çº§è®¾è®¡ç†å¿µ
* âœ… æŒæ¡ TensorFlow Lite åœ¨åµŒå…¥å¼è®¾å¤‡çš„éƒ¨ç½²æµç¨‹
* âœ… å­¦ä¼šä¼˜åŒ–æ¨ç†æ€§èƒ½çš„å®ç”¨æŠ€å·§

**æœªæ¥æ¢ç´¢æ–¹å‘**
ï¼š

* **æ¨¡å‹å¾®è°ƒï¼ˆFine-tuningï¼‰**
  ï¼šä½¿ç”¨è‡ªå®šä¹‰æ•°æ®é›†æå‡ç‰¹å®šåœºæ™¯çš„æ£€æµ‹ç²¾åº¦
* **å¤šæ¨¡å‹èåˆ**
  ï¼šç»“åˆå§¿æ€ä¼°è®¡ã€è¯­ä¹‰åˆ†å‰²ç­‰æŠ€æœ¯
* **è¾¹ç¼˜-äº‘ååŒ**
  ï¼šåœ¨æœ¬åœ°æ‰§è¡Œå®æ—¶æ£€æµ‹ï¼Œäº‘ç«¯è¿›è¡Œå¤§æ•°æ®åˆ†æ

---

**ğŸš€ ç°åœ¨ï¼Œæ‹¿èµ·ä½ çš„æ ‘è“æ´¾ï¼Œå¼€å¯è®¡ç®—æœºè§†è§‰çš„åˆ›é€ ä¹‹æ—…å§ï¼**
  
ä»»ä½•é—®é¢˜æˆ–åˆ›æ„ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµï¼ ğŸ˜ŠğŸ‘‹