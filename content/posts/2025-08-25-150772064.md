---
layout: post
title: "Bright-Data-ä»£ç†-MCP-è§£å†³-Google-æœç´¢åçˆ¬çš„å®Œæ•´æ–¹æ¡ˆ"
date: 2025-08-25T16:02:12+0800
description: "æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•åˆ©ç”¨Bright Data MCPæŠ€æœ¯è§£å†³AIåœ¨å®æ—¶ç½‘é¡µæ•°æ®è·å–æ–¹é¢çš„çŸ­æ¿ã€‚ä¼ ç»Ÿçˆ¬è™«å­˜åœ¨å®ç°å¤æ‚ã€ç»´æŠ¤æˆæœ¬é«˜ã€å®æ—¶æ€§ä¸è¶³ç­‰é—®é¢˜ï¼Œè€ŒMCPæä¾›äº†ç¨³å®šå¯é çš„ç½‘é¡µè®¿é—®APIï¼Œæ”¯æŒåŠ¨æ€é¡µé¢æŠ“å–ï¼Œå…·å¤‡åçˆ¬æœºåˆ¶ã€‚æ–‡ç« è¯¦ç»†å±•ç¤ºäº†æ³¨å†ŒBright Dataè´¦å·ã€è·å–APIå¯†é’¥å’ŒJSONé…ç½®çš„æ­¥éª¤ï¼Œå¹¶æä¾›äº†Pythonè°ƒç”¨MCPè¿›è¡ŒGoogleæœç´¢çš„å®Œæ•´é¡¹ç›®æ¶æ„å’Œæ ¸å¿ƒä»£ç ç¤ºä¾‹ã€‚è¯¥æ–¹æ¡ˆèƒ½å¤Ÿå®ç°AIä¸å®æ—¶ç½‘é¡µæ•°æ®çš„æ— ç¼å¯¹æ¥ï¼Œä¸ºå¼€å‘è€…æä¾›äº†ä¸€å¥—é«˜æ•ˆã€æ™ºèƒ½çš„ç½‘é¡µæ•°æ®è·å–è§£å†³æ–¹æ¡ˆã€‚"
keywords: "mcp google-search"
categories: ['æµ‹è¯„']
tags: ['äººå·¥æ™ºèƒ½', 'Python']
artid: "150772064"
arturl: "https://blog.csdn.net/Cayyyy/article/details/150772064"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=150772064
    alt: "Bright-Data-ä»£ç†-MCP-è§£å†³-Google-æœç´¢åçˆ¬çš„å®Œæ•´æ–¹æ¡ˆ"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=150772064
featuredImagePreview: https://bing.ee123.net/img/rand?artid=150772064
cover: https://bing.ee123.net/img/rand?artid=150772064
image: https://bing.ee123.net/img/rand?artid=150772064
img: https://bing.ee123.net/img/rand?artid=150772064
---



# Bright Data ä»£ç† + MCP ï¼šè§£å†³ Google æœç´¢åçˆ¬çš„å®Œæ•´æ–¹æ¡ˆ



### [ä¸ªäººä¸»é¡µï¼šchian-ocean](https://blog.csdn.net/Cayyyy?type=blog)

### [ä¸“æ ](https://blog.csdn.net/cayyyy/category_12996576.html)

## å¼•è¨€

> äººå·¥æ™ºèƒ½æŠ€æœ¯å’Œå¤§æ•°æ®çš„å‘å±•ï¼Œå®æ—¶è®¿é—®ç½‘é¡µæ•°æ®æˆä¸ºè®¸å¤šåº”ç”¨çš„æ ¸å¿ƒéœ€æ±‚ã€‚ç›¸æ¯”ä¼ ç»Ÿæ–¹æ¡ˆä¾èµ–é™æ€æˆ–å®šæœŸæ›´æ–°çš„æ•°æ®ï¼ŒAIå¯ä»¥å®æ—¶æŠ“å–å’Œåˆ†æç½‘é¡µä¸Šçš„åŠæ—¶æ›´æ–°çš„ä¿¡æ¯ï¼Œè¿…é€Ÿé€‚åº”å˜åŒ–çš„ç¯å¢ƒï¼Œæå–é‡è¦çš„ä¿¡æ¯ã€‚ä¼ ç»Ÿæ–¹æ¡ˆçš„å±€é™æ€§åœ¨äºæ•°æ®çš„æ—¶æ•ˆæ€§å’Œçµæ´»æ€§æ¯”è¾ƒå·® ï¼Œæ— æ³•åŠæ—¶åæ˜ ä¿¡æ¯çš„å˜åŒ–ï¼Œè€ŒAIè·å–å®æ—¶æ•°æ®è·å–èƒ½åŠ›ä½¿å…¶åœ¨åŠ¨æ€åœºæ™¯ä¸­å…·æœ‰å¾ˆå¥½çš„ä¼˜ç‚¹äº†ã€‚

ä¼ ç»Ÿçš„ç½‘é¡µçˆ¬è™«è™½ç„¶èƒ½å¤ŸæŠ“å–æ•°æ®ï¼Œä½†åœ¨å®é™…è½åœ°æ—¶å­˜åœ¨ä»¥ä¸‹ç—›ç‚¹ï¼š

* **å®ç°å¤æ‚**ï¼šåŠ¨æ€ç½‘é¡µéœ€è¦æ¨¡æ‹Ÿæµè§ˆå™¨ç¯å¢ƒï¼Œæ¶‰åŠå¤§é‡å·¥ç¨‹å·¥ä½œï¼›
* **ç»´æŠ¤æˆæœ¬é«˜**ï¼šç½‘é¡µç»“æ„é¢‘ç¹å˜åŒ–ï¼Œçˆ¬è™«è„šæœ¬æ˜“å¤±æ•ˆï¼›
* **å®æ—¶æ€§ä¸è¶³**ï¼šæ•°æ®æ›´æ–°ä¸å“åº”é€Ÿåº¦éš¾ä»¥æ»¡è¶³ AI åœºæ™¯éœ€æ±‚ã€‚

## ä¸ºä»€ä¹ˆè¯´AIå’ŒMCPæ˜¯å®Œç¾ä¼´ä¾£

è¿™ä¸ªé—®é¢˜æˆ‘ä»¬æ‹†å¼€åˆ†æï¼Œä»AIå’ŒMCPä¸¤ä¸ªè§’åº¦ã€‚

#### 1. AI çš„çŸ­æ¿

* **ç¼ºä¹å®æ—¶æ€§**ï¼šLLM çš„çŸ¥è¯†åœç•™åœ¨è®­ç»ƒæ•°æ®æ—¶é—´ç‚¹ï¼Œæ— æ³•ç›´æ¥è®¿é—®æœ€æ–°ç½‘é¡µå†…å®¹ã€‚
* **æ— æ³•ç›´æ¥æŠ“å–ç½‘é¡µ**ï¼šæ¨¡å‹ä¸ä¼šè§£æ HTMLã€æ‰§è¡Œ JavaScriptï¼Œæ›´æ— æ³•åº”å¯¹åçˆ¬ã€‚
* **ä¸Šä¸‹æ–‡æœ‰é™**ï¼šéœ€è¦é¢å¤–æ•°æ®æºï¼Œæ‰èƒ½ç”Ÿæˆæ›´ç²¾å‡†ç­”æ¡ˆã€‚

#### 2. MCP çš„é•¿æ¿

* **å®æ—¶ç½‘é¡µè®¿é—®èƒ½åŠ›**ï¼šå¯è·å–é™æ€é¡µé¢ä¸åŠ¨æ€é¡µé¢ï¼ˆJS æ¸²æŸ“å†…å®¹ï¼‰ã€‚
* **å¯¹å¼€å‘è€…å‹å¥½**ï¼šç»Ÿä¸€ APIï¼Œå…å»ç»´æŠ¤å¤æ‚çˆ¬è™«çš„è´Ÿæ‹…ã€‚
* **ç¨³å®šå¯é **ï¼šå†…ç½®åçˆ¬ã€å¹¶å‘å’Œå¤§è§„æ¨¡è¯·æ±‚å¤„ç†æœºåˆ¶

é’ˆå¯¹è¿™äº›é—®é¢˜ï¼Œ**Bright Data MCP** æä¾›äº†ä¸€å¥—é¢å‘å¼€å‘è€…çš„ **Web æ•°æ®è®¿é—® API**ã€‚å®ƒä¸ä»…æ”¯æŒé™æ€ä¸åŠ¨æ€ç½‘é¡µæŠ“å–ï¼Œè¿˜å…·å¤‡ä»¥ä¸‹ç‰¹æ€§ï¼š

* å³æ’å³ç”¨ï¼Œé™ä½å¼€å‘ä¸ç»´æŠ¤é—¨æ§›ï¼›
* æ¯æœˆ 5,000 æ¬¡è¯·æ±‚å…è´¹é¢åº¦ï¼ˆå‰ä¸‰ä¸ªæœˆå…è´¹ï¼‰ï¼Œé€‚åˆå¿«é€ŸéªŒè¯ï¼›
* æ”¯æŒ **SSEï¼ˆServer-Sent Eventsï¼‰** ä¸æ ‡å‡† **HTTP è¯·æ±‚**ï¼Œæ–¹ä¾¿ä¸ç°æœ‰ç³»ç»Ÿé›†æˆï¼›
* æä¾›è¿œç¨‹æ‰˜ç®¡ä¸æœ¬åœ°éƒ¨ç½²ä¸¤ç§æ–¹å¼ï¼Œåˆ†åˆ«æ»¡è¶³å…¥é—¨å¼€å‘è€…ä¸é«˜çº§ç”¨æˆ·éœ€æ±‚ã€‚

æ€»çš„æ¥è¯´ï¼š **AI + MCP = å®æ—¶ã€æ™ºèƒ½ã€ç¨³å®šçš„åº”ç”¨**

![image.png](https://i-blog.csdnimg.cn/img_convert/16a4ead56a4303320d5af20b667d78e6.png)

## è·å– Bright Data çš„ Json ä»¥åŠ API-token

[ï¼ˆç‚¹å‡»ï¼‰Bright Data](https://get.brightdata.com/aa-mcpserversl)éšåè¿›è¡Œæ³¨å†Œï¼ŒæŒ‰ç…§æŒ‡å¼•ç™»å½•ä¸Šå°±å¥½äº†ã€‚

### è·å–API-KEY

* æ‰¾åˆ°ç™»å½•ç•Œé¢ï¼Œç‚¹å‡»è´¦æˆ·è®¾ç½®å°±å¯ä»¥çœ‹åˆ°è‡ªå·±çš„**API-KEY**äº†

![image.png](https://i-blog.csdnimg.cn/img_convert/7d2c20fc9beffdcf09d78bd02e6c4f2a.png)

### è·å–JSONä¸²

ä¸­é—´é»‘è‰²æ¡†æ¡†å°±æ˜¯jsonä¸²

```json
{
    "mcpServers": {
        "Bright Data": {
            "command": "npx",
            "args": ["@brightdata/mcp"],
            "env": {
                "API_TOKEN": "xxxxxxxxxxxxxxxxxxx"  //è¿™é‡Œæ˜¯ä¸Šé¢çš„API-KEY
            }
        }
    }
}

```

![image.png](https://i-blog.csdnimg.cn/img_convert/9ed241860042e10e6488bfd7c7602dd0.png)

### é«˜çº§é€‰é¡¹è®¾ç½®

1. è§£é”åŒºï¼šæ§åˆ¶ä»£ç† IP çš„åœ°åŒºï¼Œè®©ä½ çš„è¯·æ±‚çœ‹èµ·æ¥åƒæ¥è‡ªç›®æ ‡åœ°åŒºï¼ˆæ¯”å¦‚ç¾å›½ã€å¾·å›½ï¼‰ï¼Œçªç ´ç½‘ç«™çš„åœ°åŒºé™åˆ¶ã€‚
2. æµè§ˆå™¨åŒºåŸŸï¼šæ¨¡æ‹Ÿç›®æ ‡åœ°åŒºçš„æµè§ˆå™¨ç¯å¢ƒï¼ˆæ¯”å¦‚æ—¶åŒºã€è¯­è¨€ï¼‰ï¼Œè®©è¯·æ±‚æ›´åƒçœŸå®ç”¨æˆ·ï¼Œå‡å°‘è¢«ç½‘ç«™è¯†åˆ«ä¸ºçˆ¬è™«çš„æ¦‚ç‡ã€‚  
    ![image.png](https://i-blog.csdnimg.cn/img_convert/10782739d04c672ba2cbb2dc04af3d9b.png)

* é…åˆç¾å›½ IPï¼Œå°†æµè§ˆå™¨åŒºåŸŸè®¾ä¸º `US/en`ï¼ˆç¾å›½æ—¶åŒº + è‹±è¯­ï¼‰ï¼Œè®©è¯·æ±‚æ›´åƒ â€œçœŸå®ç¾å›½ç”¨æˆ·â€ï¼›
* çˆ¬å–å¾·å›½ç½‘ç«™æ—¶ï¼Œè®¾ä¸º `DE/de`ï¼ˆå¾·å›½æ—¶åŒº + å¾·è¯­ï¼‰ï¼Œé¿å…å› ç¯å¢ƒçŸ›ç›¾è¢«æ‹¦æˆªã€‚

## è°ƒç”¨APIæ¥å£

è¿™é‡Œé¢ç”¨Traeæ‰“å¼€ï¼Œè¿›å…¥ä¸»ç•Œé¢ï¼Œçœ‹å³ä¸Šè§’çš„é”¯é½¿çš„ç¬¦å·ï¼Œé…ç½®æ·»åŠ MCPï¼Œå·¦è¾¹`mcp.json`ç›´æ¥æ·»åŠ å°±å¥½äº†ï¼Œå½“Bright Data æ˜¾ç¤ºå¯¹å‹¾å°±æ˜¾ç¤ºè¿æ¥ä¸Šäº†ã€‚

![image.png](https://i-blog.csdnimg.cn/img_convert/e72bb702982f3516d40732a1f52141e9.png)

```json
{
  "url": "https://www.12306.cn/index/"  //è¿™ä¸ªæ˜¯12306 ç½‘ç«™
}

```

ä¸‹é¢è¿›è¡Œè·å–å’Œç›¸åº”ï¼Œæ•ˆæœè¿˜æ˜¯éå¸¸æ˜æ˜¾çš„ã€‚  
 ![image.png](https://i-blog.csdnimg.cn/img_convert/38e9ad13ffb807fb3ede61de57218140.png)

## ä½¿ç”¨ Python è°ƒç”¨ MCP å®æ—¶æŠ“å– Google æœç´¢ç»“æœ([æºç ](https://gitee.com/chian-ocean/ccc/tree/master/python%E6%8A%93mcp))

### æ–‡ä»¶ç›®å½•ç»“æ„

```cpp
â”œâ”€â”€ ğŸ“„ config.py                    # é…ç½®ç®¡ç†æ¨¡å—

â”œâ”€â”€ ğŸ“„ example.py                   # ä½¿ç”¨ç¤ºä¾‹è„šæœ¬

â”œâ”€â”€ ğŸ“„ install_mcp.py              # MCP æœåŠ¡å™¨å®‰è£…åŠ©æ‰‹

â”œâ”€â”€ ğŸ“„ mcp_client.py               # MCP å®¢æˆ·ç«¯æ ¸å¿ƒæ¨¡å—

â”œâ”€â”€ ğŸ“„ mcp_google_search.py        # Google æœç´¢å®¢æˆ·ç«¯

â”œâ”€â”€ ğŸ“„ MCP_INSTALL_GUIDE.md        # MCP å®‰è£…æŒ‡å—æ–‡æ¡£

â”œâ”€â”€ ğŸ“„ README.md                   # é¡¹ç›®è¯´æ˜æ–‡æ¡£

â”œâ”€â”€ ğŸ“„ requirements.txt            # Python ä¾èµ–åŒ…åˆ—è¡¨

â”œâ”€â”€ ğŸ“„ search_cli.py               # å‘½ä»¤è¡Œæœç´¢å·¥å…·

â””â”€â”€ ğŸ“„ test_mcp_client.py          # æµ‹è¯•è„šæœ¬

```

**ç®€å•æ€»ç»“å°±æ˜¯ï¼š**

* **æ ¸å¿ƒæ¨¡å—**ï¼ˆmcp_clientã€config ç­‰ï¼‰
* **æœç´¢åŠŸèƒ½æ‰©å±•**ï¼ˆmcp_google_searchã€search_cliï¼‰
* **å®‰è£…ä¸ç¤ºä¾‹**ï¼ˆinstall_mcpã€exampleï¼‰
* **æ–‡æ¡£è¯´æ˜**ï¼ˆREADMEã€MCP_INSTALL_GUIDEï¼‰
* **ä¾èµ–ä¸æµ‹è¯•**ï¼ˆrequirementsã€test_mcp_clientï¼‰

### é¡¹ç›®æ¶æ„

```cpp

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â”‚   search_cli.py â”‚    â”‚   example.py    â”‚    â”‚test_mcp_client.pyâ”‚

â”‚  (å‘½ä»¤è¡Œå·¥å…·)    â”‚    â”‚   (ä½¿ç”¨ç¤ºä¾‹)     â”‚    â”‚   (æµ‹è¯•è„šæœ¬)     â”‚

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜

          â”‚                      â”‚                      â”‚

          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                 â”‚

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

                    â”‚      mcp_client.py          â”‚

                    â”‚    (MCP å®¢æˆ·ç«¯æ ¸å¿ƒ)          â”‚

                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                 â”‚

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

                    â”‚  mcp_google_search.py       â”‚

                    â”‚   (Google æœç´¢åŠŸèƒ½)          â”‚

                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                 â”‚

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

                    â”‚       config.py             â”‚

                    â”‚      (é…ç½®ç®¡ç†)              â”‚

                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


```

### å®¢æˆ·ç«¯ä¸»ç¨‹åº

```python
"""

çœŸæ­£çš„ MCP å®¢æˆ·ç«¯ï¼Œç”¨äºä¸ Bright Data MCP æœåŠ¡å™¨é€šä¿¡

"""

  

import os

import json

import asyncio

import logging

from typing import List, Dict, Any, Optional

from dataclasses import dataclass

  

logger = logging.getLogger(__name__)

  

@dataclass

class SearchResult:

    """æœç´¢ç»“æœæ•°æ®ç±»"""

    title: str

    url: str

    snippet: str

    position: int

    source: str = "brightdata_mcp"

  

class BrightDataMCPClient:

    """çœŸæ­£çš„ Bright Data MCP å®¢æˆ·ç«¯"""

    def __init__(self, api_token: Optional[str] = None):

        """

        åˆå§‹åŒ– MCP å®¢æˆ·ç«¯

        Args:

            api_token: Bright Data API Token

        """

        self.api_token = api_token or "57d1a452149d90e8e10399969cedd1c55871600e0c12ed12ef870b448f9a8c06" //è¿™é‡Œæ˜¯æˆ‘çš„APIKEY

        self.process = None

    async def __aenter__(self):

        """å¼‚æ­¥ä¸Šä¸‹æ–‡ç®¡ç†å™¨å…¥å£"""

        await self.connect()

        return self

    async def __aexit__(self, exc_type, exc_val, exc_tb):

        """å¼‚æ­¥ä¸Šä¸‹æ–‡ç®¡ç†å™¨å‡ºå£"""

        await self.disconnect()

    async def connect(self):

        """è¿æ¥åˆ° MCP æœåŠ¡å™¨"""

        try:

            env = dict(os.environ)

            env["API_TOKEN"] = self.api_token

            self.process = await asyncio.create_subprocess_exec(

                "npx", "@brightdata/mcp",

                stdin=asyncio.subprocess.PIPE,

                stdout=asyncio.subprocess.PIPE,

                stderr=asyncio.subprocess.PIPE,

                env=env

            )

            logger.info("å·²è¿æ¥åˆ° Bright Data MCP æœåŠ¡å™¨")

        except Exception as e:

            logger.error(f"è¿æ¥ MCP æœåŠ¡å™¨å¤±è´¥: {e}")

            raise

    async def disconnect(self):

        """æ–­å¼€ MCP æœåŠ¡å™¨è¿æ¥"""

        if self.process:

            self.process.terminate()

            await self.process.wait()

            logger.info("å·²æ–­å¼€ MCP æœåŠ¡å™¨è¿æ¥")

    async def send_request(self, method: str, params: Dict[str, Any]) -> Dict[str, Any]:

        """å‘é€ MCP è¯·æ±‚"""

        if not self.process:

            raise RuntimeError("MCP æœåŠ¡å™¨æœªè¿æ¥")

        request = {

            "jsonrpc": "2.0",

            "id": 1,

            "method": method,

            "params": params

        }

        request_json = json.dumps(request) + "\n"

        try:

            if self.process.stdin is None:

                raise RuntimeError("è¿›ç¨‹çš„ stdin ä¸å¯ç”¨")

            if self.process.stdout is None:

                raise RuntimeError("è¿›ç¨‹çš„ stdout ä¸å¯ç”¨")

            self.process.stdin.write(request_json.encode())

            await self.process.stdin.drain()

            response_line = await self.process.stdout.readline()

            response = json.loads(response_line.decode().strip())

            if "error" in response:

                raise RuntimeError(f"MCP é”™è¯¯: {response['error']}")

            return response.get("result", {})

        except Exception as e:

            logger.error(f"MCP è¯·æ±‚å¤±è´¥: {e}")

            raise

    async def search(self, query: str, num_results: int = 10, lang: str = "zh-CN") -> List[SearchResult]:

        """

        æ‰§è¡Œæœç´¢

        Args:

            query: æœç´¢æŸ¥è¯¢

            num_results: ç»“æœæ•°é‡

            lang: æœç´¢è¯­è¨€

        Returns:

            æœç´¢ç»“æœåˆ—è¡¨

        """

        try:

            params = {

                "query": query,

                "num_results": min(num_results, 20),

                "language": lang,

                "country": "CN" if lang == "zh-CN" else "US"

            }

            result = await self.send_request("search", params)

            return self._parse_search_results(result)

        except Exception as e:

            logger.error(f"æœç´¢å¤±è´¥: {e}")

            # è¿”å›æ¨¡æ‹Ÿç»“æœä½œä¸ºåå¤‡

            return self._get_mock_results(query, num_results)

    def _parse_search_results(self, data: Dict[str, Any]) -> List[SearchResult]:

        """è§£ææœç´¢ç»“æœ"""

        results = []

        if "organic_results" in data:

            for i, item in enumerate(data["organic_results"]):

                result = SearchResult(

                    title=item.get("title", ""),

                    url=item.get("url", ""),

                    snippet=item.get("snippet", ""),

                    position=i + 1,

                    source="brightdata_mcp"

                )

                results.append(result)

        return results

    def _get_mock_results(self, query: str, num_results: int) -> List[SearchResult]:

        """è·å–æ¨¡æ‹Ÿæœç´¢ç»“æœï¼ˆå½“ MCP ä¸å¯ç”¨æ—¶ï¼‰"""

        mock_data = [

            {

                "title": f"å…³äº '{query}' çš„æœç´¢ç»“æœ - ç™¾åº¦ç™¾ç§‘",

                "url": f"https://baike.baidu.com/search?word={query}",

                "snippet": f"è¿™æ˜¯å…³äº {query} çš„è¯¦ç»†ä»‹ç»å’Œç›¸å…³ä¿¡æ¯ã€‚åŒ…å«å®šä¹‰ã€ç‰¹ç‚¹ã€åº”ç”¨ç­‰å†…å®¹ã€‚"

            },

            {

                "title": f"{query} - ç»´åŸºç™¾ç§‘",

                "url": f"https://zh.wikipedia.org/wiki/{query}",

                "snippet": f"{query} æ˜¯ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µï¼Œåœ¨å¤šä¸ªé¢†åŸŸéƒ½æœ‰åº”ç”¨ã€‚æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†å…¶å†å²ã€å‘å±•å’Œç°çŠ¶ã€‚"

            },

            {

                "title": f"{query} å®˜æ–¹ç½‘ç«™",

                "url": f"https://www.{query.lower().replace(' ', '')}.com",

                "snippet": f"æ¬¢è¿è®¿é—® {query} å®˜æ–¹ç½‘ç«™ï¼Œäº†è§£æœ€æ–°ä¿¡æ¯ã€äº§å“å’ŒæœåŠ¡ã€‚"

            }

        ]

        results = []

        for i, item in enumerate(mock_data[:num_results]):

            result = SearchResult(

                title=item['title'],

                url=item['url'],

                snippet=item['snippet'],

                position=i + 1,

                source="mock_data"

            )

            results.append(result)

        return results

  

# ä¸ºäº†å‘åå…¼å®¹ï¼Œä¿ç•™æ—§çš„ç±»å

MCPGoogleSearchClient = BrightDataMCPClient

  

class MockMCPSearchClient(BrightDataMCPClient):

    """æ¨¡æ‹Ÿ MCP å®¢æˆ·ç«¯ï¼Œç”¨äºæ¼”ç¤º"""

    def __init__(self):

        super().__init__("mock-token")

    async def connect(self):

        """æ¨¡æ‹Ÿè¿æ¥"""

        logger.info("ä½¿ç”¨æ¨¡æ‹Ÿ MCP å®¢æˆ·ç«¯")

    async def disconnect(self):

        """æ¨¡æ‹Ÿæ–­å¼€è¿æ¥"""

        pass

    async def search(self, query: str, num_results: int = 10, lang: str = "zh-CN") -> List[SearchResult]:

        """æ¨¡æ‹Ÿæœç´¢"""

        return self._get_mock_results(query, num_results)
        


```

#### æ ¸å¿ƒç»„ä»¶

1. **SearchResult æ•°æ®ç±»**

   * ç”¨äºå­˜å‚¨æœç´¢ç»“æœï¼ˆæ ‡é¢˜ã€URLã€æ‘˜è¦ç­‰ï¼‰
   * ä½¿ç”¨ `@dataclass` è£…é¥°å™¨å®ç°
2. **BrightDataMCPClient ç±»**

   * çœŸæ­£çš„ MCP å®¢æˆ·ç«¯å®ç°
   * é€šè¿‡å­è¿›ç¨‹ä¸ MCP æœåŠ¡å™¨é€šä¿¡
   * ä½¿ç”¨ JSON-RPC 2.0 åè®®å‘é€è¯·æ±‚
   * æ”¯æŒå¼‚æ­¥æ“ä½œï¼ˆasync/awaitï¼‰
3. **MockMCPSearchClient ç±»**

   * æ¨¡æ‹Ÿå®¢æˆ·ç«¯ï¼Œç”¨äºæ¼”ç¤ºå’Œæµ‹è¯•
   * ç»§æ‰¿è‡ª BrightDataMCPClient
   * ä¸éœ€è¦çœŸå® MCP æœåŠ¡å™¨å³å¯å·¥ä½œ

### READMEæŠ€æœ¯æ–‡æ¡£

```rea
# MCP Google æœç´¢å·¥å…·

è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ Python è°ƒç”¨ MCP API å®æ—¶æŠ“å– Google æœç´¢ç»“æœçš„å·¥å…·ã€‚

## åŠŸèƒ½ç‰¹æ€§

- âœ… å¼‚æ­¥ Google æœç´¢

- âœ… å®æ—¶æœç´¢ç›‘æ§

- âœ… æ¨¡æ‹Ÿæœç´¢æ¼”ç¤º

- âœ… å‘½ä»¤è¡Œå·¥å…·

- âœ… é…ç½®ç®¡ç†

- âœ… é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶

  

## å®‰è£…ä¾èµ–

  

```bash

pip install -r requirements.txt

```

  

## é…ç½® Google API

  

### 1. è·å– Google Custom Search API å¯†é’¥

  

1. è®¿é—® [Google Cloud Console](https://console.developers.google.com/)

2. åˆ›å»ºæ–°é¡¹ç›®æˆ–é€‰æ‹©ç°æœ‰é¡¹ç›®

3. å¯ç”¨ Custom Search API

4. åˆ›å»º API å¯†é’¥

  

### 2. åˆ›å»ºè‡ªå®šä¹‰æœç´¢å¼•æ“

  

1. è®¿é—® [Google Custom Search Engine](https://cse.google.com/)

2. ç‚¹å‡»"æ·»åŠ "åˆ›å»ºæ–°çš„æœç´¢å¼•æ“

3. è®¾ç½®è¦æœç´¢çš„ç½‘ç«™ï¼ˆå¯ä»¥è®¾ç½®ä¸ºæ•´ä¸ªç½‘ç»œï¼‰

4. è·å–æœç´¢å¼•æ“ ID

  

### 3. è®¾ç½®ç¯å¢ƒå˜é‡

  

```bash

# Windows

set GOOGLE_API_KEY=ä½ çš„APIå¯†é’¥

set GOOGLE_SEARCH_ENGINE_ID=ä½ çš„æœç´¢å¼•æ“ID

  

# Linux/Mac

export GOOGLE_API_KEY=ä½ çš„APIå¯†é’¥

export GOOGLE_SEARCH_ENGINE_ID=ä½ çš„æœç´¢å¼•æ“ID

```

  

## ä½¿ç”¨æ–¹æ³•

  

### 1. å‘½ä»¤è¡Œå·¥å…·

  

```bash

# åŸºæœ¬æœç´¢ï¼ˆæ¼”ç¤ºæ¨¡å¼ï¼‰

python search_cli.py "Python æ•™ç¨‹" --demo

  

# çœŸå® Google æœç´¢

python search_cli.py "Python æ•™ç¨‹" -n 5

  

# å®æ—¶æœç´¢ç›‘æ§

python search_cli.py "Python æ–°é—»" --realtime --interval 60

  

# æŸ¥çœ‹é…ç½®çŠ¶æ€

python search_cli.py --config "test"

```

  

### 2. ç¼–ç¨‹æ¥å£

  

```python

import asyncio

from mcp_google_search import MCPGoogleSearchClient

  

async def main():

    # ä½¿ç”¨çœŸå® API

    async with MCPGoogleSearchClient(api_key="your_key", search_engine_id="your_id") as client:

        results = await client.search("Python æ•™ç¨‹", num_results=5)

        for result in results:

            print(f"{result.title}: {result.url}")

  

asyncio.run(main())

```

  

### 3. æ¨¡æ‹Ÿæœç´¢æ¼”ç¤º

  

```python

import asyncio

from mcp_google_search import MockMCPSearchClient

  

async def demo():

    async with MockMCPSearchClient() as client:

        results = await client.search("Python", num_results=3)

        for result in results:

            print(f"{result.title}: {result.url}")

  

asyncio.run(demo())

```

  

## å‘½ä»¤è¡Œå‚æ•°

  

```

positional arguments:

  query                 æœç´¢æŸ¥è¯¢å…³é”®è¯

  

optional arguments:

  -h, --help            æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯

  -n NUM, --num NUM     è¿”å›ç»“æœæ•°é‡ (é»˜è®¤: 5, æœ€å¤§: 10)

  -l LANG, --lang LANG  æœç´¢è¯­è¨€ (é»˜è®¤: zh-CN)

  -d, --demo            ä½¿ç”¨æ¼”ç¤ºæ¨¡å¼ (æ¨¡æ‹Ÿæœç´¢)

  -r, --realtime        å¯ç”¨å®æ—¶æœç´¢ç›‘æ§

  -i INTERVAL, --interval INTERVAL

                        å®æ—¶æœç´¢é—´éš”ç§’æ•° (é»˜è®¤: 30)

  --iterations ITERATIONS

                        å®æ—¶æœç´¢æœ€å¤§è¿­ä»£æ¬¡æ•° (é»˜è®¤: 5)

  --config              æ˜¾ç¤ºé…ç½®ä¿¡æ¯

```

  

## ä½¿ç”¨ç¤ºä¾‹

  

### åŸºæœ¬æœç´¢

```bash

python search_cli.py "æœºå™¨å­¦ä¹ " --demo -n 3

```

  

### å®æ—¶ç›‘æ§

```bash

python search_cli.py "Python æ–°é—»" --realtime -i 30 --iterations 10

```

  

### ä¸­æ–‡æœç´¢

```bash

python search_cli.py "äººå·¥æ™ºèƒ½" -l zh-CN -n 5

```

  

## æ–‡ä»¶ç»“æ„

  

```

â”œâ”€â”€ mcp_google_search.py    # ä¸»è¦æœç´¢å®¢æˆ·ç«¯

â”œâ”€â”€ config.py              # é…ç½®ç®¡ç†

â”œâ”€â”€ search_cli.py          # å‘½ä»¤è¡Œå·¥å…·

â”œâ”€â”€ requirements.txt       # ä¾èµ–åŒ…

â””â”€â”€ README.md             # è¯´æ˜æ–‡æ¡£

```

  

## API é™åˆ¶

  

- Google Custom Search API æ¯å¤©å…è´¹ 100 æ¬¡æŸ¥è¯¢

- æ¯æ¬¡è¯·æ±‚æœ€å¤šè¿”å› 10 ä¸ªç»“æœ

- éœ€è¦æœ‰æ•ˆçš„ API å¯†é’¥å’Œæœç´¢å¼•æ“ ID

  

## é”™è¯¯å¤„ç†

  

ç¨‹åºåŒ…å«å®Œæ•´çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼š

- ç½‘ç»œè¯·æ±‚è¶…æ—¶å¤„ç†

- API é™åˆ¶å’Œé”™è¯¯å“åº”å¤„ç†

- é…ç½®éªŒè¯

- ä¼˜é›…çš„ä¸­æ–­å¤„ç†

  

## æ³¨æ„äº‹é¡¹

  

1. è¯·éµå®ˆ Google API ä½¿ç”¨æ¡æ¬¾

2. æ³¨æ„ API è°ƒç”¨é¢‘ç‡é™åˆ¶

3. ä¿æŠ¤å¥½ä½ çš„ API å¯†é’¥

4. å®æ—¶æœç´¢ä¼šæ¶ˆè€—æ›´å¤š API é…é¢

  

## è®¸å¯è¯

  

MIT License

```

### æ•ˆæœå±•ç¤º

æŒ‰ç…§æŠ€æœ¯æ–‡æ¡£çš„æ•ˆæœå±•ç¤ºä¸€éï¼š  
 ![image.png](https://i-blog.csdnimg.cn/img_convert/ceaf3e4770b7be4a3de09a626499ff47.png)

#### æœç´¢å†…å®¹ â€œpythonæ•™ç¨‹â€

![image.png](https://i-blog.csdnimg.cn/img_convert/7cdf7f4dbdf4b7fc5776153a335e68a4.png)

### å¨±ä¹æ–°é—»æœç´¢

![image.png](https://i-blog.csdnimg.cn/img_convert/7bd97989c1ab2497a4bc559cf701f870.png)  
 çœ‹æ ·å­ï¼Œæ•ˆæœè¿˜æ˜¯ä¸é”™çš„ã€‚

### ç”ŸæˆHTTP JSONä¸²

![image.png](https://i-blog.csdnimg.cn/img_convert/6af78ab6cb3d5f1eb8177928d8436efa.png)

#### ç®€å•è¿›è¡Œæ•°æ®å¤„ç†

* è¿™ä¸ªç•Œé¢ç®€æ´ï¼Œå¤„ç†è¿…é€Ÿï¼Œç›´æ¥ä¸¢ç»™AIï¼Œå°±å¯ä»¥ç›´æ¥ç”Ÿæˆç»“æœã€‚çˆ†èµï¼ï¼  
   ![image.png](https://i-blog.csdnimg.cn/img_convert/dfc9edf68d174ceaf36bd9d48ea40719.png)  
   ä½¿ç”¨ Python è°ƒç”¨ MCP æŠ“å– Google æœç´¢ç­‰ç­‰æœç´¢ç»“æœï¼Œæ˜¯ä¸€ç§ â€œä½æˆæœ¬ã€é«˜å¼€å‘æ•ˆç‡â€ çš„æ–¹æ¡ˆï¼Œé€‚åˆå¿«é€Ÿå®ç°éœ€æ±‚ã€‚ä¸ä»…ä»…å¯ä»¥åº”ç”¨åœ¨æœç´¢ï¼Œè¿˜å¯ä»¥åº”ç”¨åœ¨å¸‚åœºè°ƒç ”ï¼Œäº§å“åˆ†æç­‰ç­‰ï¼Œéƒ½æœ‰å¾ˆå¤§çš„ä¾¿åˆ©ã€‚

## æ€»ç»“

#### å·®å¼‚åŒ–ç»“å°¾ç¤ºä¾‹ï¼ˆèšç„¦ã€Œæˆæœ¬-èƒ½åŠ›-æœªæ¥ã€ä¸‰è§’ï¼‰ï¼š

âœ… **è¯•é”™é›¶é—¨æ§›**ï¼šå‰ 3 ä¸ªæœˆæ¯æœˆ 5000 æ¬¡å…è´¹è°ƒç”¨ï¼Œè¶³å¤ŸéªŒè¯ã€ŒAI + å®æ—¶æ•°æ®ã€çš„å•†ä¸šé€»è¾‘ï¼›  
 âœ… **èƒ½åŠ›æ— ä¸Šé™**ï¼šçªç ´åçˆ¬å°é”ã€è·¨åœ°åŸŸé‡‡é›†ã€æµè§ˆå™¨çº§äº¤äº’ï¼ŒæŠŠã€Œç½‘ç»œå™ªéŸ³ã€å˜æˆ AI èƒ½è¯»æ‡‚çš„ç»“æ„åŒ–æ´å¯Ÿï¼›  
 âœ… **æœªæ¥å…ˆå‘è½¦**ï¼šå½“åŒè¡Œè¿˜åœ¨ä¸ºæ•°æ®è¿‡æ—¶ã€çˆ¬å–å°å·ç„¦å¤´çƒ‚é¢æ—¶ï¼Œä½ æ—©å·²ç”¨ MCP æ­å»ºèµ·AI å®æ—¶å†³ç­–ç³»ç»Ÿâ€”â€” ä»ç«å“å¹¿å‘Šè¿½è¸ªåˆ°è¡Œä¸šèˆ†æƒ…ç›‘æµ‹ï¼Œè®©æ¨¡å‹æ°¸è¿œæ‹¿ç€æœ€æ–°é²œçš„ä¸–ç•Œåœ°å›¾ä½œæˆ˜ã€‚

æœ¬è´¨ä¸Šï¼ŒMCP æ­£åœ¨é‡æ–°å®šä¹‰ **AI çš„æ•°æ®ä¾›ç»™æ–¹å¼**ï¼šå®ƒä¸å†æ˜¯é™æ€è®­ç»ƒçš„ã€Œå†å²åº“ã€ï¼Œè€Œæ˜¯è¿æ¥ç°å®ä¸–ç•Œçš„å®æ—¶ç¥ç»æœ«æ¢¢ã€‚å¯¹æƒ³è®© AI çœŸæ­£æ´»åœ¨å½“ä¸‹çš„å›¢é˜Ÿæ¥è¯´ï¼Œè¿™æˆ–è®¸æ˜¯æœ€å€¼å¾—æŠ“ä½çš„æ—¶ä»£çº¢åˆ©ã€‚

---

å¦‚æœæ‚¨å¯¹è¯¥æ„Ÿå…´è¶£è¯â¤ï¼Œä¸å¦¨ç‚¹å‡»è¯¥é“¾æ¥ä½“éªŒ:[äº®æ•°æ®](https://get.brightdata.com/aa-mcpservers)



