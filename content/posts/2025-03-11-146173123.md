---
layout: post
title: "如何精准打点解决卡牌SLG开放大世界放置类游戏卡顿难题"
date: 2025-03-11 11:07:40 +0800
description: "论一个优秀“打点”的重要性"
keywords: "如何精准打点解决卡牌、SLG、开放大世界、放置类游戏卡顿难题"
categories: ['万象更新', 'Uwa']
tags: ['游戏开发', '性能优化', 'Uwa']
artid: "146173123"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146173123
    alt: "如何精准打点解决卡牌SLG开放大世界放置类游戏卡顿难题"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146173123
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146173123
cover: https://bing.ee123.net/img/rand?artid=146173123
image: https://bing.ee123.net/img/rand?artid=146173123
img: https://bing.ee123.net/img/rand?artid=146173123
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     如何精准打点解决卡牌、SLG、开放大世界、放置类游戏卡顿难题
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p style="margin-left:0; margin-right:0; text-align:start">
     <span style="background-color:#ffffff">
      <span style="color:#626773">
       在游戏开发领域，性能优化始终是提升玩家体验的关键环节。
       <a href="https://blog.uwa4d.com/archives/UWA_GPM2_14.html" rel="nofollow" title="UWA GPM 2.0作为一款强大的玩家端性能监测工具">
        UWA GPM 2.0作为一款强大的玩家端性能监测工具
       </a>
       ，其卡顿帧堆栈功能在不同类型的游戏中发挥着不可或缺的作用，帮助开发者精准定位并快速解决卡顿问题，大幅提升游戏流畅度和用户体验。
      </span>
     </span>
    </p>
    <h4 style="margin-left:0px; margin-right:0px; text-align:start">
     <span style="background-color:#ffffff">
      <span style="color:#626773">
       <span style="color:Chocolate">
        <strong>
         二次元卡牌：优化精致渲染，告别伴生卡顿
        </strong>
       </span>
      </span>
     </span>
    </h4>
    <p style="margin-left:0; margin-right:0; text-align:start">
     <span style="background-color:#ffffff">
      <span style="color:#626773">
       在当今的游戏市场中，二次元卡牌游戏堪称竞争最为激烈的 “卷王” 赛道。为了呈现高品质的游戏体验，开发者们可谓煞费苦心，向游戏中添加高精度的立绘与模型、绚丽夺目的技能特效、华丽非凡过场演出，并通过各种后处理效果打造独特风格。
      </span>
     </span>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:start">
     <span style="background-color:#ffffff">
      <span style="color:#626773">
       然而，大量采用精致的美术资源和激进的渲染策略，在带给玩家极致视觉效果的同时却也容易伴生诸多性能问题，卡顿便是其中之一。复杂的逻辑计算和大量高精度模型的加载都常常引发卡顿。而在
       <strong>
        二次元卡牌游戏中，还有一种容易被忽视的卡顿现象，就是来自渲染模块中的Shader.CreateGPUProgram
       </strong>
       。这是着色器变体在首次参与渲染时生成信息所产生的开销。例如一个真实案例中，在极端情况下甚至会在玩家在战斗或观看过场演出过程中遭遇长达秒级的卡顿，这无疑极大地破坏了游戏体验。
      </span>
     </span>
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="343" src="https://i-blog.csdnimg.cn/img_convert/2f4c26c017723da2fdcd406dcdde94a9.png" width="1269"/>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:start">
    </p>
    <p style="margin-left:0; margin-right:0; text-align:start">
     <span style="background-color:#ffffff">
      <span style="color:#626773">
       根据UWA的经验发现，哪怕是许多已经上线的项目，在变体收集方面仍存在着严重不足。有些项目根本没有进行变体收集工作，有些虽然收集了，但并不完全，还有些项目即便收集了变体，却没有建立集中预热机制。这些问题导致卡顿现象在游戏中屡见不鲜。
      </span>
     </span>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:start">
     <span style="background-color:#ffffff">
      <span style="color:#626773">
       不过，借助UWA GPM 2.0的卡顿帧堆栈功能，即使在研发-测试阶段我们遗漏了此类问题，也能够在线上阶段快速地发现这些卡顿。
       <strong>
        当我们看到的卡顿来源指向RenderPipelineManager.DoRenderLoop_Internal这一渲染模块主函数时，极有可能就是上述着色器变体问题所致
       </strong>
       。如此一来，开发团队便能有针对性地组织复现并优化这一问题，从而提升游戏的性能表现和玩家用户体验。
      </span>
     </span>
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="347" src="https://i-blog.csdnimg.cn/img_convert/d7834a379cead9a58e4b81ef5f8541c6.png" width="827"/>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:start">
    </p>
    <h4 style="margin-left:0px; margin-right:0px; text-align:start">
     <span style="background-color:#ffffff">
      <span style="color:#626773">
       <span style="color:Chocolate">
        <strong>
         开放大世界：优化资源管理，跑图不卡顿
        </strong>
       </span>
      </span>
     </span>
    </h4>
    <p style="margin-left:0; margin-right:0; text-align:start">
     <span style="background-color:#ffffff">
      <span style="color:#626773">
       在MMORPG等大地图大世界游戏中，资源管理逻辑是卡顿帧堆栈功能的重要打点对象。在广阔的游戏地图上，玩家跑图或传送时需加载和实例化海量的地形数据、怪物和NPC资源等。而若是相关策略处理不够合理，便会在这些位置造成大量的卡顿。
      </span>
     </span>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:start">
     <span style="background-color:#ffffff">
      <span style="color:#626773">
       通过对相关代码的监测，开发者可以优化资源管理的流程，从而减少卡顿。比如，在代码中进行NPC的预加载，可在此函数的开头与结尾处进行打点，如NPCPlayer.Preload，这样在后续监控数据中就可以看到卡顿帧中该函数的具体耗时。如果该函数耗时是引起卡顿的主要原因，就需要对这个NPC资源进行改进。
      </span>
     </span>
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="343" src="https://i-blog.csdnimg.cn/img_convert/ffaf813655709f9e2a399a4940990359.png" width="787"/>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:start">
    </p>
    <h4 style="margin-left:0px; margin-right:0px; text-align:start">
     <span style="background-color:#ffffff">
      <span style="color:#626773">
       <span style="color:Chocolate">
        <strong>
         SLG：提升UI响应速度，优化交互体验
        </strong>
       </span>
      </span>
     </span>
    </h4>
    <p style="margin-left:0; margin-right:0; text-align:start">
     <span style="background-color:#ffffff">
      <span style="color:#626773">
       SLG游戏的UI界面种类和设计往往更加复杂，日常过程中频繁使用的背包、个人信息界面，到角色培养、建筑升级这类关乎游戏核心成长的页面，还有公会、副本等社交与玩法板块，种类繁多且每种UI都会被频繁使用。因此，UI界面的打开过程中若有明显卡顿，便会使得玩家焦虑烦恼，消耗玩家耐心，严重破坏游戏体验；而类似排行榜、战令、商城、卡池这类UI界面若卡顿显著，则更是会直接影响玩家留存和充值的积极性。
      </span>
     </span>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:start">
     <span style="background-color:#ffffff">
      <span style="color:#626773">
       而导致UI卡顿的原因多种多样，可能是加载伴生的图片资源占用很高、实例化的预制体过于复杂、触发的UI事件逻辑开销大、本身极为复杂的UI元素发生了大幅的更新等等，此时就需要通过打点并排查相关堆栈的方式定位具体问题。
      </span>
     </span>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:start">
     <span style="background-color:#ffffff">
      <span style="color:#626773">
       因此，针对此类项目我们通常建议大家在接入UWA GPM 2.0的时候便提前对UI模块进行打点，这样就能在GPM异常报告中直接看到其详细组成。最终看到的效果如图，
       <strong>
        捕捉到的UI卡顿帧主要是UI事件函数EventSystem.Update的耗时，并且允许我们展开详情进行进一步的拆解
       </strong>
       。
      </span>
     </span>
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="347" src="https://i-blog.csdnimg.cn/img_convert/3135736551dff748a300d8c036d72018.png" width="827"/>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:start">
    </p>
    <h4 style="margin-left:0px; margin-right:0px; text-align:start">
     <span style="background-color:#ffffff">
      <span style="color:#626773">
       <span style="color:Chocolate">
        <strong>
         放置类：优化AI逻辑，保障丝滑战斗
        </strong>
       </span>
      </span>
     </span>
    </h4>
    <p style="margin-left:0; margin-right:0; text-align:start">
     <span style="background-color:#ffffff">
      <span style="color:#626773">
       在放置类游戏中，玩家角色和大量小怪的AI逻辑频繁出现，尤其当它们同时、密集地触发同一行为时，相关逻辑可能会在瞬时产生数十上百次的调用，从而导致开销过高造成卡顿。玩家收集并养成更多角色、挑战怪物更密集的困难副本，目的是为了追求更爽快的游戏体验。但如果随着这个过程，游戏卡顿发生的越来越频繁，就失去了放置类游戏应有的轻松爽快。针对这些高频或复杂的逻辑进行打点，是诊断此类隐疾的重要方法。而在UWA GPM 2.0中，卡顿帧堆栈功能更是为这些打点提供了有力的验证工具。
      </span>
     </span>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:start">
     <span style="background-color:#ffffff">
      <span style="color:#626773">
       例如，针对如图的敌人进行自动巡逻移动的Lua逻辑代码，在前后进行打点后，若在卡顿帧堆栈功能中发现该打点部位确实造成了卡顿，则应评估相应硬件设备的CPU算力是否能承受当前规模的逻辑调用次数和调用频率，从而进行更科学的分级和优化。
      </span>
     </span>
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="537" src="https://i-blog.csdnimg.cn/img_convert/097a128040ff833dd7573cf0643b6635.png" width="618"/>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:start">
    </p>
    <hr/>
    <p style="margin-left:0; margin-right:0; text-align:start">
     <span style="background-color:#ffffff">
      <span style="color:#626773">
       UWA GPM 2.0的
       <strong>
        卡顿帧堆栈功能
       </strong>
       ，如同一位
       <strong>
        精准的性能诊断医生
       </strong>
       ，深入不同游戏类型的代码深处，帮助开发者
       <strong>
        迅速找出卡顿根源
       </strong>
       。无论是：
      </span>
     </span>
    </p>
    <ul style="margin-left:0; margin-right:0">
     <li>
      <strong>
       追求极致视觉表现的二次元卡牌游戏
      </strong>
     </li>
     <li>
      <strong>
       强调无缝开放世界体验的大地图游戏
      </strong>
     </li>
     <li>
      <strong>
       依赖流畅UI交互的SLG策略游戏
      </strong>
     </li>
     <li>
      <strong>
       主打轻松爽快体验的放置类游戏
      </strong>
     </li>
    </ul>
    <p style="margin-left:0; margin-right:0; text-align:start">
     <span style="background-color:#ffffff">
      <span style="color:#626773">
       GPM 2.0都能提供高效支持，助力开发团队优化性能，打造更加流畅、优质的游戏体验！
      </span>
     </span>
    </p>
    <blockquote>
     <p style="margin-left:0; margin-right:0">
      <span style="color:Chocolate">
       <strong>
        关于GPM 2.0
       </strong>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0">
      GPM 2.0 是一款专为上线或测试阶段的游戏项目打造的高效性能监测工具。它不仅深入捕捉宏观性能数据，还通过其独特的性能无损截图功能，让开发者在不影响玩家体验的前提下，全面掌握玩家运行时的关键细节，从多个维度优化游戏的性能表现，提升整体用户体验。
     </p>
    </blockquote>
    <p style="margin-left:0; margin-right:0; text-align:start">
     <span style="background-color:#ffffff">
      <span style="color:#626773">
       <strong>
        如果您的项目也希望体验GPM 2.0的强大功能，欢迎随时与UWA取得联系。我们将为您提供免费试用机会，并在试用期间全程支持服务搭建、数据分析与反馈，确保您能够充分体验GPM 2.0带来的价值。
       </strong>
      </span>
     </span>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:start">
    </p>
    <p style="margin-left:0; margin-right:0; text-align:start">
     <span style="background-color:#ffffff">
      <span style="color:#626773">
       <span style="color:Chocolate">
        <strong>
         GPM 2.0新功能 集锦
        </strong>
       </span>
       <br/>
       <a href="https://blog.uwa4d.com/archives/UWA_GPM2_14.html" rel="nofollow" title="《GPM 2.0 全新发布「卡顿帧堆栈」功能｜精准高效定位游戏玩家端性能》">
        《GPM 2.0 全新发布「卡顿帧堆栈」功能｜精准高效定位游戏玩家端性能》
       </a>
       <br/>
       <a href="https://blog.uwa4d.com/archives/UWA_GPM2_15.html" rel="nofollow" title="《深入解析「卡顿帧堆栈」》">
        《深入解析「卡顿帧堆栈」》
       </a>
       <br/>
       <a href="https://blog.uwa4d.com/archives/UWA_GPM2_16.html" rel="nofollow" title="《解锁GPM 2.0「卡顿帧堆栈」｜代码示例与实战分析》">
        《解锁GPM 2.0「卡顿帧堆栈」｜代码示例与实战分析》
       </a>
       <br/>
       <a href="https://blog.uwa4d.com/archives/UWA_GPM2_1.html" rel="nofollow" title="《GPM 2.0 重新定义性能监测与优化｜从未知到已知，从被动到主动》">
        《GPM 2.0 重新定义性能监测与优化｜从未知到已知，从被动到主动》
       </a>
       <br/>
       <a href="https://blog.uwa4d.com/archives/UWA_GPM2.html" rel="nofollow" title="《UWA GPM 2.0 重新定义性能监测与优化｜如何高效预警和定位玩家端的性能问题》">
        《UWA GPM 2.0 重新定义性能监测与优化｜如何高效预警和定位玩家端的性能问题》
       </a>
      </span>
     </span>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:start">
     <span style="background-color:#ffffff">
      <span style="color:#626773">
       <span style="color:Chocolate">
        <strong>
         GPM 2.0案例精讲 集锦
        </strong>
       </span>
       <br/>
       <a href="https://blog.uwa4d.com/archives/UWA_GPM2_13.html" rel="nofollow" title="《我们的目标是不耗电、不发烫、不闪退》">
        《我们的目标是不耗电、不发烫、不闪退》
       </a>
       <br/>
       <a href="https://blog.uwa4d.com/archives/UWA_GPM2_12.html" rel="nofollow" title="《冒险闯关类玩家关注的四大体验》">
        《冒险闯关类玩家关注的四大体验》
       </a>
       <br/>
       <a href="https://blog.uwa4d.com/archives/UWA_GPM2_11.html" rel="nofollow" title="《玩家端性能数据 一手掌握》">
        《玩家端性能数据 一手掌握》
       </a>
       <br/>
       <a href="https://blog.uwa4d.com/archives/UWA_GPM2_10.html" rel="nofollow" title="《造成设备功耗高的罪魁祸首》">
        《造成设备功耗高的罪魁祸首》
       </a>
       <br/>
       <a href="https://blog.uwa4d.com/archives/UWA_GPM2_9.html" rel="nofollow" title="《海外市场设备适配性优化实战》">
        《海外市场设备适配性优化实战》
       </a>
       <br/>
       <a href="https://blog.uwa4d.com/archives/UWA_GPM2_8.html" rel="nofollow" title="《5000人测试背后的秘密》">
        《5000人测试背后的秘密》
       </a>
      </span>
     </span>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:start">
     <span style="background-color:#ffffff">
      <span style="color:#626773">
       <span style="color:Chocolate">
        <strong>
         GPM 2.0实操篇 集锦
        </strong>
       </span>
       <br/>
       <a href="https://blog.uwa4d.com/archives/UWA_GPM2_7.html" rel="nofollow" title="《GPM 2.0 实操之Session篇之如果闪退是因为内存崩了》">
        《GPM 2.0 实操之Session篇之如果闪退是因为内存崩了》
       </a>
       <br/>
       <a href="https://blog.uwa4d.com/archives/UWA_GPM2_6.html" rel="nofollow" title="《GPM 2.0 应用场景实例之解决让人头疼的问题》">
        《GPM 2.0 应用场景实例之解决让人头疼的问题》
       </a>
       <br/>
       <a href="https://blog.uwa4d.com/archives/UWA_GPM2_5.html" rel="nofollow" title="《GPM 2.0 助力设备监测、行为分析与性能优化｜玩家共测新体验》">
        《GPM 2.0 助力设备监测、行为分析与性能优化｜玩家共测新体验》
       </a>
       <br/>
       <a href="https://blog.uwa4d.com/archives/UWA_GPM2_4.html" rel="nofollow" title="《GPM 2.0 API 功能助力定制你的性能优化》">
        《GPM 2.0 API 功能助力定制你的性能优化》
       </a>
       <br/>
       <a href="https://blog.uwa4d.com/archives/UWA_GPM2_3.html" rel="nofollow" title="《GPM 2.0 驱动优化与投放决策｜硬件性能一目了然》">
        《GPM 2.0 驱动优化与投放决策｜硬件性能一目了然》
       </a>
       <br/>
       <a href="https://blog.uwa4d.com/archives/UWA_GPM2_2.html" rel="nofollow" title="《GPM 2.0 多维数据与实时截帧完美结合》">
        《GPM 2.0 多维数据与实时截帧完美结合》
       </a>
      </span>
     </span>
    </p>
   </div>
  </div>
 </article>
 <p alt="687474:70733a2f2f626c6f672e6373646e2e6e65742f55574134442f:61727469636c652f64657461696c732f313436313733313233" class_="artid" style="display:none">
 </p>
</div>


