---
layout: post
title: "websocket-服务器往客户端发送的数据要加掩码覆盖吗"
date: 2025-09-10T19:09:30+0800
description: "不需要。根据WebSocket协议规定，‌‌。客户端若收到服务器发送的带掩码的数据帧，必须立即关闭连接并返回协议错误状态码（1002）。‌。"
keywords: "websocket 服务器往客户端发送的数据要加掩码覆盖吗？"
categories: ['未分类']
tags: ['网络', '服务器', 'Websocket']
artid: "151411060"
arturl: "https://blog.csdn.net/haoyj2222/article/details/151411060"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=151411060
    alt: "websocket-服务器往客户端发送的数据要加掩码覆盖吗"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=151411060
featuredImagePreview: https://bing.ee123.net/img/rand?artid=151411060
cover: https://bing.ee123.net/img/rand?artid=151411060
image: https://bing.ee123.net/img/rand?artid=151411060
img: https://bing.ee123.net/img/rand?artid=151411060
---



# websocket 服务器往客户端发送的数据要加掩码覆盖吗？

不需要。根据WebSocket协议规定，‌**服务器发送给客户端的数据帧不需要添加掩码**‌。客户端若收到服务器发送的带掩码的数据帧，必须立即关闭连接并返回协议错误状态码（1002）。 ‌

#### 客户端发送数据帧的掩码要求

客户端发送的所有数据帧（包括Ping帧）都必须添加掩码。掩码采用4字节循环异或运算，应用于有效负载数据（Extension data和Application data）。若服务器收到未加掩码的客户端帧，应关闭连接并发送状态码1002。 ‌

#### 服务器发送数据帧的规则

服务器发送的数据帧无需掩码处理。若客户端收到服务器带掩码的帧，同样需关闭连接并返回状态码1002。 ‌



