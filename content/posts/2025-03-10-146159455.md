---
layout: post
title: "golang算法滑动窗口"
date: 2025-03-10 21:01:27 +0800
description: "常用于子数组和子串中。"
keywords: "golang算法滑动窗口"
categories: ['未分类']
tags: ['算法', 'Golang']
artid: "146159455"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146159455
    alt: "golang算法滑动窗口"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146159455
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146159455
cover: https://bing.ee123.net/img/rand?artid=146159455
image: https://bing.ee123.net/img/rand?artid=146159455
img: https://bing.ee123.net/img/rand?artid=146159455
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     golang算法滑动窗口
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     常用于子数组和子串中
    </p>
    <h2>
     <a id="209__1">
     </a>
     209. 长度最小的子数组
    </h2>
    <p>
     给定一个含有 n 个正整数的数组和一个正整数 target 。
    </p>
    <p>
     找出该数组中满足其总和大于等于 target 的长度最小的 子数组 [numsl, numsl+1, …, numsr-1, numsr] ，并返回其长度。如果不存在符合条件的子数组，返回 0 。
    </p>
    <p>
     示例 1：
    </p>
    <p>
     输入：target = 7, nums = [2,3,1,2,4,3]
     <br/>
     输出：2
     <br/>
     解释：子数组 [4,3] 是该条件下的长度最小的子数组。
     <br/>
     示例 2：
    </p>
    <p>
     输入：target = 4, nums = [1,4,4]
     <br/>
     输出：1
     <br/>
     示例 3：
    </p>
    <p>
     输入：target = 11, nums = [1,1,1,1,1,1,1,1]
     <br/>
     输出：0
    </p>
    <p>
     提示：
    </p>
    <p>
     1 &lt;= target &lt;= 109
     <br/>
     1 &lt;= nums.length &lt;= 105
     <br/>
     1 &lt;= nums[i] &lt;= 104
    </p>
    <p>
     进阶：
    </p>
    <p>
     如果你已经实现 O(n) 时间复杂度的解法, 请尝试设计一个 O(n log(n)) 时间复杂度的解法。
    </p>
    <pre><code class="prism language-c">func <span class="token function">minSubArrayLen</span><span class="token punctuation">(</span>target <span class="token keyword">int</span><span class="token punctuation">,</span> nums <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token keyword">int</span> <span class="token punctuation">{<!-- --></span>
    n<span class="token operator">:</span><span class="token operator">=</span><span class="token function">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>
    ans<span class="token operator">:</span><span class="token operator">=</span>n<span class="token operator">+</span><span class="token number">1</span>
    s<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span>
    left<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span>
    <span class="token keyword">for</span> right<span class="token punctuation">,</span>value<span class="token operator">:</span><span class="token operator">=</span>range nums<span class="token punctuation">{<!-- --></span>
        s<span class="token operator">+=</span>value
        <span class="token keyword">for</span> s<span class="token operator">-</span>nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">&gt;=</span>target<span class="token punctuation">{<!-- --></span>
            s<span class="token operator">-=</span>nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span>
            left<span class="token operator">+=</span><span class="token number">1</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> s<span class="token operator">&gt;=</span>target<span class="token punctuation">{<!-- --></span>
            ans<span class="token operator">=</span><span class="token function">min</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span>right<span class="token operator">-</span>left<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> ans <span class="token operator">&lt;=</span>n<span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> ans
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="713__K__57">
     </a>
     713. 乘积小于 K 的子数组
    </h2>
    <p>
     给你一个整数数组 nums 和一个整数 k ，请你返回子数组内所有元素的乘积严格小于 k 的连续子数组的数目。
    </p>
    <p>
     示例 1：
    </p>
    <p>
     输入：nums = [10,5,2,6], k = 100
     <br/>
     输出：8
     <br/>
     解释：8 个乘积小于 100 的子数组分别为：[10]、[5]、[2]、[6]、[10,5]、[5,2]、[2,6]、[5,2,6]。
     <br/>
     需要注意的是 [10,5,2] 并不是乘积小于 100 的子数组。
     <br/>
     示例 2：
    </p>
    <p>
     输入：nums = [1,2,3], k = 0
     <br/>
     输出：0
    </p>
    <p>
     提示:
    </p>
    <p>
     1 &lt;= nums.length &lt;= 3 * 104
     <br/>
     1 &lt;= nums[i] &lt;= 1000
     <br/>
     0 &lt;= k &lt;= 106
    </p>
    <pre><code class="prism language-cpp">func <span class="token function">numSubarrayProductLessThanK</span><span class="token punctuation">(</span>nums <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">int</span><span class="token punctuation">,</span> k <span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token keyword">int</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> k<span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
    ans<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span>
    s<span class="token operator">:</span><span class="token operator">=</span><span class="token number">1</span>
    left<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span>
    <span class="token keyword">for</span> right<span class="token punctuation">,</span>value<span class="token operator">:</span><span class="token operator">=</span>range nums<span class="token punctuation">{<!-- --></span>
        s<span class="token operator">*=</span>value
        <span class="token keyword">for</span> s<span class="token operator">&gt;=</span>k<span class="token punctuation">{<!-- --></span>
            s<span class="token operator">/=</span>nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span>
            left<span class="token operator">+=</span><span class="token number">1</span>
        <span class="token punctuation">}</span>
        ans<span class="token operator">+=</span>right<span class="token operator">-</span>left<span class="token operator">+</span><span class="token number">1</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> ans
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="3__98">
     </a>
     3. 无重复字符的最长子串
    </h2>
    <p>
     给定一个字符串 s ，请你找出其中不含有重复字符的 最长 子串 的长度。
    </p>
    <p>
     示例 1:
    </p>
    <p>
     输入: s = “abcabcbb”
     <br/>
     输出: 3
     <br/>
     解释: 因为无重复字符的最长子串是 “abc”，所以其长度为 3。
     <br/>
     示例 2:
    </p>
    <p>
     输入: s = “bbbbb”
     <br/>
     输出: 1
     <br/>
     解释: 因为无重复字符的最长子串是 “b”，所以其长度为 1。
     <br/>
     示例 3:
    </p>
    <p>
     输入: s = “pwwkew”
     <br/>
     输出: 3
     <br/>
     解释: 因为无重复字符的最长子串是 “wke”，所以其长度为 3。
     <br/>
     请注意，你的答案必须是 子串 的长度，“pwke” 是一个子序列，不是子串。
    </p>
    <p>
     提示：
    </p>
    <p>
     0 &lt;= s.length &lt;= 5 * 104
     <br/>
     s 由英文字母、数字、符号和空格组成
    </p>
    <pre><code class="prism language-cpp">func <span class="token function">lengthOfLongestSubstring</span><span class="token punctuation">(</span>s string<span class="token punctuation">)</span> <span class="token keyword">int</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    ans<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span>
    mp<span class="token operator">:</span><span class="token operator">=</span>map<span class="token punctuation">[</span>byte<span class="token punctuation">]</span><span class="token keyword">int</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    left<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span>
    <span class="token keyword">for</span> i<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">{<!-- --></span>
        mp<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">+=</span><span class="token number">1</span>
        <span class="token keyword">for</span> mp<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">{<!-- --></span>
            mp<span class="token punctuation">[</span>s<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">-=</span><span class="token number">1</span>
            left<span class="token operator">+=</span><span class="token number">1</span>
        <span class="token punctuation">}</span>
        ans<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span>i<span class="token operator">-</span>left<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> ans
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="2958__K__145">
     </a>
     2958. 最多 K 个重复元素的最长子数组
    </h2>
    <p>
     给你一个整数数组 nums 和一个整数 k 。
    </p>
    <p>
     一个元素 x 在数组中的 频率 指的是它在数组中的出现次数。
    </p>
    <p>
     如果一个数组中所有元素的频率都 小于等于 k ，那么我们称这个数组是 好 数组。
    </p>
    <p>
     请你返回 nums 中 最长好 子数组的长度。
    </p>
    <p>
     子数组 指的是一个数组中一段连续非空的元素序列。
    </p>
    <p>
     示例 1：
    </p>
    <p>
     输入：nums = [1,2,3,1,2,3,1,2], k = 2
     <br/>
     输出：6
     <br/>
     解释：最长好子数组是 [1,2,3,1,2,3] ，值 1 ，2 和 3 在子数组中的频率都没有超过 k = 2 。[2,3,1,2,3,1] 和 [3,1,2,3,1,2] 也是好子数组。
     <br/>
     最长好子数组的长度为 6 。
     <br/>
     示例 2：
    </p>
    <p>
     输入：nums = [1,2,1,2,1,2,1,2], k = 1
     <br/>
     输出：2
     <br/>
     解释：最长好子数组是 [1,2] ，值 1 和 2 在子数组中的频率都没有超过 k = 1 。[2,1] 也是好子数组。
     <br/>
     最长好子数组的长度为 2 。
     <br/>
     示例 3：
    </p>
    <p>
     输入：nums = [5,5,5,5,5,5,5], k = 4
     <br/>
     输出：4
     <br/>
     解释：最长好子数组是 [5,5,5,5] ，值 5 在子数组中的频率没有超过 k = 4 。
     <br/>
     最长好子数组的长度为 4 。
    </p>
    <p>
     提示：
    </p>
    <p>
     1 &lt;= nums.length &lt;= 105
     <br/>
     1 &lt;= nums[i] &lt;= 109
     <br/>
     1 &lt;= k &lt;= nums.length
    </p>
    <pre><code class="prism language-cpp">func <span class="token function">maxSubarrayLength</span><span class="token punctuation">(</span>nums <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">int</span><span class="token punctuation">,</span> k <span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token keyword">int</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> k<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
    ans<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span>
    mp<span class="token operator">:</span><span class="token operator">=</span>map<span class="token punctuation">[</span><span class="token keyword">int</span><span class="token punctuation">]</span><span class="token keyword">int</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    left<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span>
    <span class="token keyword">for</span> right<span class="token punctuation">,</span>value <span class="token operator">:</span><span class="token operator">=</span>range nums<span class="token punctuation">{<!-- --></span>
        mp<span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token operator">+=</span><span class="token number">1</span>
        <span class="token keyword">for</span> mp<span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token operator">&gt;</span>k<span class="token punctuation">{<!-- --></span>
            mp<span class="token punctuation">[</span>nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">--</span>
            left<span class="token operator">++</span>
        <span class="token punctuation">}</span>
        ans<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span>right<span class="token operator">-</span>left<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> ans
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="2730__203">
     </a>
     2730. 找到最长的半重复子字符串
    </h2>
    <p>
     给你一个下标从 0 开始的字符串 s ，这个字符串只包含 0 到 9 的数字字符。
    </p>
    <p>
     如果一个字符串 t 中至多有一对相邻字符是相等的，那么称这个字符串 t 是 半重复的 。例如，“0010” 、“002020” 、“0123” 、“2002” 和 “54944” 是半重复字符串，而 “00101022” （相邻的相同数字对是 00 和 22）和 “1101234883” （相邻的相同数字对是 11 和 88）不是半重复字符串。
    </p>
    <p>
     请你返回 s 中最长 半重复 子字符串 的长度。
    </p>
    <p>
     示例 1：
    </p>
    <p>
     输入：s = “52233”
    </p>
    <p>
     输出：4
    </p>
    <p>
     解释：
    </p>
    <p>
     最长的半重复子字符串是 “5223”。整个字符串 “52233” 有两个相邻的相同数字对 22 和 33，但最多只能选取一个。
    </p>
    <p>
     示例 2：
    </p>
    <p>
     输入：s = “5494”
    </p>
    <p>
     输出：4
    </p>
    <p>
     解释：
    </p>
    <p>
     s 是一个半重复字符串。
    </p>
    <p>
     示例 3：
    </p>
    <p>
     输入：s = “1111111”
    </p>
    <p>
     输出：2
    </p>
    <p>
     解释：
    </p>
    <p>
     最长的半重复子字符串是 “11”。子字符串 “111” 有两个相邻的相同数字对，但最多允许选取一个。
    </p>
    <p>
     提示：
    </p>
    <p>
     1 &lt;= s.length &lt;= 50
     <br/>
     ‘0’ &lt;= s[i] &lt;= ‘9’
    </p>
    <pre><code class="prism language-cpp">func <span class="token function">longestSemiRepetitiveSubstring</span><span class="token punctuation">(</span>s string<span class="token punctuation">)</span> <span class="token keyword">int</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    ans<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span>
    tmp<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span>
    left<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span>
    <span class="token keyword">for</span> right<span class="token operator">:</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>right<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>right<span class="token operator">++</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> s<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">==</span>s<span class="token punctuation">[</span>right<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">{<!-- --></span>
            tmp<span class="token operator">++</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> tmp<span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">{<!-- --></span>
            left<span class="token operator">++</span>
            <span class="token keyword">for</span> s<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">!=</span>s<span class="token punctuation">[</span>left<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">{<!-- --></span>
                left<span class="token operator">++</span>
            <span class="token punctuation">}</span>
            tmp<span class="token operator">--</span>
        <span class="token punctuation">}</span>
        ans<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span>right<span class="token operator">-</span>left<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> ans
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="1004_1_III_273">
     </a>
     1004. 最大连续1的个数 III
    </h2>
    <p>
     给定一个二进制数组 nums 和一个整数 k，假设最多可以翻转 k 个 0 ，则返回执行操作后 数组中连续 1 的最大个数 。
    </p>
    <p>
     示例 1：
    </p>
    <p>
     输入：nums = [1,1,1,0,0,0,1,1,1,1,0], K = 2
     <br/>
     输出：6
     <br/>
     解释：[1,1,1,0,0,1,1,1,1,1,1]
     <br/>
     粗体数字从 0 翻转到 1，最长的子数组长度为 6。
     <br/>
     示例 2：
    </p>
    <p>
     输入：nums = [0,0,1,1,0,0,1,1,1,0,1,1,0,0,0,1,1,1,1], K = 3
     <br/>
     输出：10
     <br/>
     解释：[0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1]
     <br/>
     粗体数字从 0 翻转到 1，最长的子数组长度为 10。
    </p>
    <p>
     提示：
    </p>
    <p>
     1 &lt;= nums.length &lt;= 105
     <br/>
     nums[i] 不是 0 就是 1
     <br/>
     0 &lt;= k &lt;= nums.length
    </p>
    <pre><code class="prism language-cpp">func <span class="token function">longestOnes</span><span class="token punctuation">(</span>nums <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">int</span><span class="token punctuation">,</span> k <span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token keyword">int</span> <span class="token punctuation">{<!-- --></span>
    tmp<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span>
    left<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span>
    ans<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span>
    <span class="token keyword">for</span> right<span class="token punctuation">,</span>value<span class="token operator">:</span><span class="token operator">=</span>range nums<span class="token punctuation">{<!-- --></span>
        tmp<span class="token operator">+=</span><span class="token number">1</span><span class="token operator">-</span>value
        <span class="token keyword">if</span> tmp<span class="token operator">&gt;</span>k<span class="token punctuation">{<!-- --></span>
            tmp<span class="token operator">-=</span><span class="token number">1</span><span class="token operator">-</span>nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span>
            left<span class="token operator">++</span>
        <span class="token punctuation">}</span>
        ans<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span>right<span class="token operator">-</span>left<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> ans
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="2962__K__314">
     </a>
     2962. 统计最大元素出现至少 K 次的子数组
    </h2>
    <p>
     给你一个整数数组 nums 和一个 正整数 k 。
    </p>
    <p>
     请你统计有多少满足 「 nums 中的 最大 元素」至少出现 k 次的子数组，并返回满足这一条件的子数组的数目。
    </p>
    <p>
     子数组是数组中的一个连续元素序列。
    </p>
    <p>
     示例 1：
    </p>
    <p>
     输入：nums = [1,3,2,3,3], k = 2
     <br/>
     输出：6
     <br/>
     解释：包含元素 3 至少 2 次的子数组为：[1,3,2,3]、[1,3,2,3,3]、[3,2,3]、[3,2,3,3]、[2,3,3] 和 [3,3] 。
     <br/>
     示例 2：
    </p>
    <p>
     输入：nums = [1,4,2,1], k = 3
     <br/>
     输出：0
     <br/>
     解释：没有子数组包含元素 4 至少 3 次。
    </p>
    <p>
     提示：
    </p>
    <p>
     1 &lt;= nums.length &lt;= 105
     <br/>
     1 &lt;= nums[i] &lt;= 106
     <br/>
     1 &lt;= k &lt;= 105
    </p>
    <pre><code class="prism language-cpp">func <span class="token function">countSubarrays</span><span class="token punctuation">(</span>nums <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">int</span><span class="token punctuation">,</span> k <span class="token keyword">int</span><span class="token punctuation">)</span> int64 <span class="token punctuation">{<!-- --></span>
    num_max<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span>
    <span class="token keyword">for</span> i<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&gt;</span>num_max<span class="token punctuation">{<!-- --></span>
            num_max<span class="token operator">=</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    var ans int64<span class="token operator">=</span><span class="token number">0</span>
    num_max_num<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span>
    left<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span>
    <span class="token keyword">for</span> _<span class="token punctuation">,</span>value<span class="token operator">:</span><span class="token operator">=</span>range nums<span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> value<span class="token operator">==</span>num_max<span class="token punctuation">{<!-- --></span>
            num_max_num<span class="token operator">++</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span> num_max_num<span class="token operator">&gt;=</span>k<span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">==</span>num_max<span class="token punctuation">{<!-- --></span>
                num_max_num<span class="token operator">--</span>
            <span class="token punctuation">}</span>
            left<span class="token operator">++</span>
        <span class="token punctuation">}</span>
        ans<span class="token operator">+=</span><span class="token function">int64</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> ans
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="2302__K__367">
     </a>
     2302. 统计得分小于 K 的子数组数目
    </h2>
    <p>
     一个数组的 分数 定义为数组之和 乘以 数组的长度。
    </p>
    <p>
     比方说，[1, 2, 3, 4, 5] 的分数为 (1 + 2 + 3 + 4 + 5) * 5 = 75 。
     <br/>
     给你一个正整数数组 nums 和一个整数 k ，请你返回 nums 中分数 严格小于 k 的 非空整数子数组数目。
    </p>
    <p>
     子数组 是数组中的一个连续元素序列。
    </p>
    <p>
     示例 1：
    </p>
    <p>
     输入：nums = [2,1,4,3,5], k = 10
     <br/>
     输出：6
     <br/>
     解释：
     <br/>
     有 6 个子数组的分数小于 10 ：
    </p>
    <ul>
     <li>
      [2] 分数为 2 * 1 = 2 。
     </li>
     <li>
      [1] 分数为 1 * 1 = 1 。
     </li>
     <li>
      [4] 分数为 4 * 1 = 4 。
     </li>
     <li>
      [3] 分数为 3 * 1 = 3 。
     </li>
     <li>
      [5] 分数为 5 * 1 = 5 。
     </li>
     <li>
      [2,1] 分数为 (2 + 1) * 2 = 6 。
      <br/>
      注意，子数组 [1,4] 和 [4,3,5] 不符合要求，因为它们的分数分别为 10 和 36，但我们要求子数组的分数严格小于 10 。
      <br/>
      示例 2：
     </li>
    </ul>
    <p>
     输入：nums = [1,1,1], k = 5
     <br/>
     输出：5
     <br/>
     解释：
     <br/>
     除了 [1,1,1] 以外每个子数组分数都小于 5 。
     <br/>
     [1,1,1] 分数为 (1 + 1 + 1) * 3 = 9 ，大于 5 。
     <br/>
     所以总共有 5 个子数组得分小于 5 。
    </p>
    <p>
     提示：
    </p>
    <p>
     1 &lt;= nums.length &lt;= 105
     <br/>
     1 &lt;= nums[i] &lt;= 105
     <br/>
     1 &lt;= k &lt;= 1015
    </p>
    <pre><code class="prism language-cpp">func <span class="token function">countSubarrays</span><span class="token punctuation">(</span>nums <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">int</span><span class="token punctuation">,</span> k int64<span class="token punctuation">)</span> int64 <span class="token punctuation">{<!-- --></span>
    left<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span>
    var sum int64<span class="token operator">=</span><span class="token number">0</span>
    var ans int64<span class="token operator">=</span><span class="token number">0</span>
    <span class="token keyword">for</span> right<span class="token punctuation">,</span>value<span class="token operator">:</span><span class="token operator">=</span>range nums<span class="token punctuation">{<!-- --></span>
        sum<span class="token operator">+=</span><span class="token function">int64</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
        <span class="token keyword">for</span> sum<span class="token operator">*</span><span class="token function">int64</span><span class="token punctuation">(</span>right<span class="token operator">-</span>left<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&gt;=</span>k<span class="token punctuation">{<!-- --></span>
            sum<span class="token operator">-=</span><span class="token function">int64</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">)</span>
            left<span class="token operator">++</span>
        <span class="token punctuation">}</span>
        ans<span class="token operator">+=</span><span class="token function">int64</span><span class="token punctuation">(</span>right<span class="token operator">-</span>left<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> ans
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="1658__x__0__422">
     </a>
     1658. 将 x 减到 0 的最小操作数
    </h2>
    <p>
     给你一个整数数组 nums 和一个整数 x 。每一次操作时，你应当移除数组 nums 最左边或最右边的元素，然后从 x 中减去该元素的值。请注意，需要 修改 数组以供接下来的操作使用。
    </p>
    <p>
     如果可以将 x 恰好 减到 0 ，返回 最小操作数 ；否则，返回 -1 。
    </p>
    <p>
     示例 1：
    </p>
    <p>
     输入：nums = [1,1,4,2,3], x = 5
     <br/>
     输出：2
     <br/>
     解释：最佳解决方案是移除后两个元素，将 x 减到 0 。
     <br/>
     示例 2：
    </p>
    <p>
     输入：nums = [5,6,7,8,9], x = 4
     <br/>
     输出：-1
     <br/>
     示例 3：
    </p>
    <p>
     输入：nums = [3,2,20,1,1,3], x = 10
     <br/>
     输出：5
     <br/>
     解释：最佳解决方案是移除后三个元素和前两个元素（总共 5 次操作），将 x 减到 0 。
    </p>
    <p>
     提示：
    </p>
    <p>
     1 &lt;= nums.length &lt;= 105
     <br/>
     1 &lt;= nums[i] &lt;= 104
     <br/>
     1 &lt;= x &lt;= 109
    </p>
    <pre><code class="prism language-cpp">func <span class="token function">minOperations</span><span class="token punctuation">(</span>nums <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">int</span><span class="token punctuation">,</span> x <span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token keyword">int</span> <span class="token punctuation">{<!-- --></span>
    ans<span class="token operator">:</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span>
    left<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span>
    sum<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span>
    target<span class="token operator">:</span><span class="token operator">=</span><span class="token operator">-</span>x
    <span class="token keyword">for</span> i<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">{<!-- --></span>
        target<span class="token operator">+=</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> target<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> right<span class="token punctuation">,</span>value<span class="token operator">:</span><span class="token operator">=</span>range nums<span class="token punctuation">{<!-- --></span>
        sum<span class="token operator">+=</span>value
        <span class="token keyword">for</span> sum<span class="token operator">&gt;</span>target<span class="token punctuation">{<!-- --></span>
            sum<span class="token operator">-=</span>nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span>
            left<span class="token operator">++</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> sum<span class="token operator">==</span>target<span class="token punctuation">{<!-- --></span>
            ans<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span>right<span class="token operator">-</span>left<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> ans<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span>ans
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="76__480">
     </a>
     76. 最小覆盖子串
    </h2>
    <p>
     给你一个字符串 s 、一个字符串 t 。返回 s 中涵盖 t 所有字符的最小子串。如果 s 中不存在涵盖 t 所有字符的子串，则返回空字符串 “” 。
    </p>
    <p>
     注意：
    </p>
    <p>
     对于 t 中重复字符，我们寻找的子字符串中该字符数量必须不少于 t 中该字符数量。
     <br/>
     如果 s 中存在这样的子串，我们保证它是唯一的答案。
    </p>
    <p>
     示例 1：
    </p>
    <p>
     输入：s = “ADOBECODEBANC”, t = “ABC”
     <br/>
     输出：“BANC”
     <br/>
     解释：最小覆盖子串 “BANC” 包含来自字符串 t 的 ‘A’、‘B’ 和 ‘C’。
     <br/>
     示例 2：
    </p>
    <p>
     输入：s = “a”, t = “a”
     <br/>
     输出：“a”
     <br/>
     解释：整个字符串 s 是最小覆盖子串。
     <br/>
     示例 3:
    </p>
    <p>
     输入: s = “a”, t = “aa”
     <br/>
     输出: “”
     <br/>
     解释: t 中两个字符 ‘a’ 均应包含在 s 的子串中，
     <br/>
     因此没有符合条件的子字符串，返回空字符串。
    </p>
    <p>
     提示：
    </p>
    <p>
     m == s.length
     <br/>
     n == t.length
     <br/>
     1 &lt;= m, n &lt;= 105
     <br/>
     s 和 t 由英文字母组成
    </p>
    <p>
     进阶：你能设计一个在 o(m+n) 时间内解决此问题的算法吗？
    </p>
    <pre><code class="prism language-cpp">func <span class="token function">contain_map</span><span class="token punctuation">(</span>s_mp<span class="token punctuation">,</span>t_mp map<span class="token punctuation">[</span>byte<span class="token punctuation">]</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token keyword">bool</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">for</span> k<span class="token punctuation">,</span>v<span class="token operator">:</span><span class="token operator">=</span>range t_mp<span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> v<span class="token operator">&gt;</span>s_mp<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
func <span class="token function">minWindow</span><span class="token punctuation">(</span>s string<span class="token punctuation">,</span> t string<span class="token punctuation">)</span> string <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">""</span>
    <span class="token punctuation">}</span>
    ans<span class="token operator">:</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">32</span>
    <span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token operator">||</span><span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">""</span>
    <span class="token punctuation">}</span>
    result<span class="token operator">:</span><span class="token operator">=</span><span class="token string">""</span>
    t_mp<span class="token operator">:</span><span class="token operator">=</span>map<span class="token punctuation">[</span>byte<span class="token punctuation">]</span><span class="token keyword">int</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    s_mp<span class="token operator">:</span><span class="token operator">=</span>map<span class="token punctuation">[</span>byte<span class="token punctuation">]</span><span class="token keyword">int</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> i<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">{<!-- --></span>
        t_mp<span class="token punctuation">[</span>t<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">++</span>
    <span class="token punctuation">}</span>
    left<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span>
    <span class="token keyword">for</span> i<span class="token operator">:</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">{<!-- --></span>
        s_mp<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">++</span>
        <span class="token keyword">for</span> <span class="token function">contain_map</span><span class="token punctuation">(</span>s_mp<span class="token punctuation">,</span>t_mp<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> i<span class="token operator">-</span>left<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span>ans<span class="token punctuation">{<!-- --></span>
                ans<span class="token operator">=</span>i<span class="token operator">-</span>left<span class="token operator">+</span><span class="token number">1</span>
                result<span class="token operator">=</span>s<span class="token punctuation">[</span>left<span class="token operator">:</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
            s_mp<span class="token punctuation">[</span>s<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">--</span>
            left<span class="token operator">++</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result
<span class="token punctuation">}</span>
</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34343537353636302f:61727469636c652f64657461696c732f313436313539343535" class_="artid" style="display:none">
 </p>
</div>


