---
layout: post
title: "综合使用pandasnumpymatplotlibseaborn库做数据分析挖掘可视化项目"
date: 2025-03-06 10:35:01 +0800
description: "使用 pandas 拷贝一份数据集，命名为 df，取 'price (USD)' 为标签 y, 其他为特征集合 X，删除 X 中无关特征，只保留：'inches', 'battery', 'ram (GB)', 'weight (g)', 'storage (GB) 等特征，统计 name 特征中包含 'pro' 或 'max' 的样本，新建布尔特征 'has_pro_or_max'。并且在该函数中，调用接口进行划分 80% 数据为训练集，20% 数据为测试集，函数的返回值为训练集和测试集的特征和标签。"
keywords: "综合使用pandas、numpy、matplotlib、seaborn库做数据分析、挖掘、可视化项目"
categories: ['人工智能学习进阶']
tags: ['机器学习', '开发语言', 'Seaborn', 'Python', 'Pandas', 'Numpy', 'Matplotlib']
artid: "146061515"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146061515
    alt: "综合使用pandasnumpymatplotlibseaborn库做数据分析挖掘可视化项目"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146061515
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146061515
cover: https://bing.ee123.net/img/rand?artid=146061515
image: https://bing.ee123.net/img/rand?artid=146061515
img: https://bing.ee123.net/img/rand?artid=146061515
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     综合使用pandas、numpy、matplotlib、seaborn库做数据分析、挖掘、可视化项目
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <div>
     <hr id="hr-toc" name="tableOfContents"/>
     <p>
     </p>
    </div>
    <div>
     <h5 id="1.%E7%BB%93%E6%9E%84%E5%8C%96%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98" name="1.%E7%BB%93%E6%9E%84%E5%8C%96%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98" style="margin-left:0pt; margin-right:0pt; text-align:justify">
      <strong>
       <span style="color:#333333">
        1
       </span>
      </strong>
      <strong>
       <span style="color:#333333">
        .
       </span>
      </strong>
      <strong>
       <span style="color:#333333">
        结构化数据挖掘
       </span>
      </strong>
     </h5>
     <h6 id="1.1%E4%BE%9D%E8%B5%96%E5%BA%93%E5%AF%BC%E5%85%A5%E5%92%8C%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%8F%96" name="1.1%E4%BE%9D%E8%B5%96%E5%BA%93%E5%AF%BC%E5%85%A5%E5%92%8C%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%8F%96" style="margin-left:0pt; margin-right:0pt; text-align:justify">
      <strong>
       <span style="color:#333333">
        1
       </span>
      </strong>
      <strong>
       <span style="color:#333333">
        .
       </span>
      </strong>
      <strong>
       <span style="color:#333333">
        1
       </span>
      </strong>
      <strong>
       <span style="color:#333333">
        依赖库导入和数据读取
       </span>
      </strong>
     </h6>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       导入必要的依赖库，读取 csv 格式数据集转化为 Dataframe 格式，命名为 data，使用 pandas 必要接口，并打印数据集的前五个样本。
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#708090">#</span> <span style="color:#708090">数据</span><span style="color:#708090">导入</span><span style="color:#708090">和</span><span style="color:#708090">观察</span>
<span style="color:#0077aa">import</span><span style="color:#000000"> pandas </span><span style="color:#0077aa">as</span><span style="color:#000000"> pd</span>
<span style="color:#000000">data </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> pd</span><span style="color:#999999">.</span><span style="color:#000000">read_csv</span><span style="color:#999999">(</span><span style="color:#669900">'cleaned_all_phones.csv'</span><span style="color:#999999">)</span>
<span style="color:#000000">data</span><span style="color:#999999">.</span><span style="color:#000000">head</span><span style="color:#999999">()</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       说明：
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <strong>
       <span style="color:#333333">
        import pandas as pd
       </span>
      </strong>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        导入Pandas库，并将其简称为
       </span>
      </span>
      <span style="color:#333333">
       pd
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        。Pandas是一个强大的数据分析和处理库，广泛用于数据清洗、转换、分析和可视化。
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <strong>
       <span style="color:#333333">
        data = pd.read_csv('cleaned_all_phones.csv')
       </span>
      </strong>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        使用Pandas的
       </span>
      </span>
      <span style="color:#333333">
       read_csv()
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        函数加载一个名为
       </span>
      </span>
      <span style="color:#333333">
       cleaned_all_phones.csv
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        的CSV文件。这个文件可能包含手机相关的数据，例如品牌、价格、性能指标等。
       </span>
      </span>
      <span style="color:#333333">
       read_csv()
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        函数会将CSV文件读取为一个
       </span>
      </span>
      <span style="color:#333333">
       DataFrame
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        对象，这是Pandas中用于存储表格数据的主要数据结构。
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <strong>
       <span style="color:#333333">
        data.head()
       </span>
      </strong>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        调用
       </span>
      </span>
      <span style="color:#333333">
       head()
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        方法显示
       </span>
      </span>
      <span style="color:#333333">
       DataFrame
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        的前五行数据。这是数据探索的常用操作，用于快速查看数据的结构和内容。
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <img alt="" height="435" src="https://i-blog.csdnimg.cn/direct/b2159bdfdb5744c18e4e4b423d147cce.png" width="1514"/>
     </p>
     <h6 id="1.2%E5%90%84%E5%93%81%E7%89%8C%E6%9C%BA%E5%9E%8B%E5%8F%8A%E5%94%AE%E4%BB%B7%E7%BB%9F%E8%AE%A1" name="1.2%E5%90%84%E5%93%81%E7%89%8C%E6%9C%BA%E5%9E%8B%E5%8F%8A%E5%94%AE%E4%BB%B7%E7%BB%9F%E8%AE%A1" style="margin-left:0pt; margin-right:0pt; text-align:justify">
      <strong>
       <span style="color:#333333">
        1.2
       </span>
      </strong>
      <strong>
       <span style="color:#333333">
        各品牌机型及售价统计
       </span>
      </strong>
     </h6>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       统计各品牌发布的机型数量，并绘制机型数量关于品牌的柱形图，统计个品牌发布的机型的价格均值，并绘制机型价格均值关于品牌的柱形图。
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#708090">#</span> <span style="color:#708090">可视化</span><span style="color:#708090">数据</span><span style="color:#708090">分布</span>
<span style="color:#0077aa">import</span><span style="color:#000000"> matplotlib</span><span style="color:#999999">.</span><span style="color:#000000">pyplot </span><span style="color:#0077aa">as</span><span style="color:#000000"> plt</span>
<span style="color:#0077aa">import</span><span style="color:#000000"> seaborn </span><span style="color:#0077aa">as</span><span style="color:#000000"> sns</span>

<span style="color:#000000">fig</span><span style="color:#999999">,</span><span style="color:#000000"> ax </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> plt</span><span style="color:#999999">.</span><span style="color:#000000">subplots</span><span style="color:#999999">(</span><span style="color:#990055">1</span><span style="color:#999999">,</span><span style="color:#990055">2</span><span style="color:#999999">,</span><span style="color:#000000">figsize</span><span style="color:#9a6e3a">=</span><span style="color:#999999">(</span><span style="color:#990055">20</span><span style="color:#999999">,</span><span style="color:#990055">6</span><span style="color:#999999">))</span>


<span style="color:#000000">brand_counts </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> data</span><span style="color:#999999">[</span><span style="color:#669900">'brand'</span><span style="color:#999999">].</span><span style="color:#000000">value_counts</span><span style="color:#999999">()</span>

<span style="color:#000000">sns</span><span style="color:#999999">.</span><span style="color:#000000">barplot</span><span style="color:#999999">(</span><span style="color:#000000">x</span><span style="color:#9a6e3a">=</span><span style="color:#000000">brand_counts</span><span style="color:#999999">.</span><span style="color:#000000">index</span><span style="color:#999999">,</span><span style="color:#000000"> y</span><span style="color:#9a6e3a">=</span><span style="color:#000000">brand_counts</span><span style="color:#999999">.</span><span style="color:#000000">values</span><span style="color:#999999">,</span><span style="color:#000000"> ax</span><span style="color:#9a6e3a">=</span><span style="color:#000000">ax</span><span style="color:#999999">[</span><span style="color:#990055">0</span><span style="color:#999999">],</span><span style="color:#000000">color</span><span style="color:#9a6e3a">=</span><span style="color:#669900">'red'</span><span style="color:#999999">)</span>
<span style="color:#000000">ax</span><span style="color:#999999">[</span><span style="color:#990055">0</span><span style="color:#999999">].</span><span style="color:#000000">set_xlabel</span><span style="color:#999999">(</span><span style="color:#669900">'Brand'</span><span style="color:#999999">)</span>
<span style="color:#000000">ax</span><span style="color:#999999">[</span><span style="color:#990055">0</span><span style="color:#999999">].</span><span style="color:#000000">set_ylabel</span><span style="color:#999999">(</span><span style="color:#669900">'Count'</span><span style="color:#999999">)</span>
<span style="color:#000000">ax</span><span style="color:#999999">[</span><span style="color:#990055">0</span><span style="color:#999999">].</span><span style="color:#000000">set_title</span><span style="color:#999999">(</span><span style="color:#669900">'Brand Distribution'</span><span style="color:#999999">)</span>
<span style="color:#000000">ax</span><span style="color:#999999">[</span><span style="color:#990055">0</span><span style="color:#999999">].</span><span style="color:#000000">tick_params</span><span style="color:#999999">(</span><span style="color:#000000">axis</span><span style="color:#9a6e3a">=</span><span style="color:#669900">'x'</span><span style="color:#999999">,</span><span style="color:#000000">rotation</span><span style="color:#9a6e3a">=</span><span style="color:#990055">90</span><span style="color:#999999">)</span>

<span style="color:#000000">brand_price_mean </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> data</span><span style="color:#999999">.</span><span style="color:#000000">groupby</span><span style="color:#999999">(</span><span style="color:#669900">'brand'</span><span style="color:#999999">)[</span><span style="color:#669900">'price(USD)'</span><span style="color:#999999">].</span><span style="color:#000000">mean</span><span style="color:#999999">()</span>

<span style="color:#000000">sns</span><span style="color:#999999">.</span><span style="color:#000000">barplot</span><span style="color:#999999">(</span><span style="color:#000000">x</span><span style="color:#9a6e3a">=</span><span style="color:#000000">brand_price_mean</span><span style="color:#999999">.</span><span style="color:#000000">index</span><span style="color:#999999">,</span><span style="color:#000000"> y</span><span style="color:#9a6e3a">=</span><span style="color:#000000">brand_price_mean</span><span style="color:#999999">.</span><span style="color:#000000">values</span><span style="color:#999999">,</span><span style="color:#000000"> ax</span><span style="color:#9a6e3a">=</span><span style="color:#000000">ax</span><span style="color:#999999">[</span><span style="color:#990055">1</span><span style="color:#999999">],</span><span style="color:#000000">color</span><span style="color:#9a6e3a">=</span><span style="color:#669900">'red'</span><span style="color:#999999">)</span>
<span style="color:#000000">ax</span><span style="color:#999999">[</span><span style="color:#990055">1</span><span style="color:#999999">].</span><span style="color:#000000">set_xlabel</span><span style="color:#999999">(</span><span style="color:#669900">'Brand'</span><span style="color:#999999">)</span>
<span style="color:#000000">ax</span><span style="color:#999999">[</span><span style="color:#990055">1</span><span style="color:#999999">].</span><span style="color:#000000">set_ylabel</span><span style="color:#999999">(</span><span style="color:#669900">'Averge Price'</span><span style="color:#999999">)</span>
<span style="color:#000000">ax</span><span style="color:#999999">[</span><span style="color:#990055">1</span><span style="color:#999999">].</span><span style="color:#000000">set_title</span><span style="color:#999999">(</span><span style="color:#669900">'Brand X Price Distribution'</span><span style="color:#999999">)</span>
<span style="color:#000000">ax</span><span style="color:#999999">[</span><span style="color:#990055">1</span><span style="color:#999999">].</span><span style="color:#000000">tick_params</span><span style="color:#999999">(</span><span style="color:#000000">axis</span><span style="color:#9a6e3a">=</span><span style="color:#669900">'x'</span><span style="color:#999999">,</span><span style="color:#000000">rotation</span><span style="color:#9a6e3a">=</span><span style="color:#990055">90</span><span style="color:#999999">)</span>

<span style="color:#000000">plt</span><span style="color:#999999">.</span><span style="color:#000000">tight_layout</span><span style="color:#999999">()</span>
<span style="color:#000000">plt</span><span style="color:#999999">.</span><span style="color:#000000">show</span><span style="color:#999999">()</span>

</code></span></pre>
     <p>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       说明：
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <strong>
       <span style="color:#333333">
        seaborn
       </span>
      </strong>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        ：基于
       </span>
      </span>
      <span style="color:#333333">
       matplotlib
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        的高级绘图库，提供了更简洁的API和更美观的默认样式，特别适合用于统计图表的绘制。
       </span>
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">fig</span><span style="color:#999999">,</span><span style="color:#000000">a</span><span style="color:#000000">x</span> <span style="color:#9a6e3a">=</span> <span style="color:#000000">p</span><span style="color:#000000">l</span><span style="color:#000000">t</span><span style="color:#999999">.</span><span style="color:#000000">s</span><span style="color:#000000">u</span><span style="color:#000000">b</span><span style="color:#000000">p</span><span style="color:#000000">l</span><span style="color:#000000">o</span><span style="color:#000000">t</span><span style="color:#000000">s</span><span style="color:#999999">(</span><span style="color:#990055">1</span><span style="color:#999999">,</span><span style="color:#990055">2</span><span style="color:#999999">,</span><span style="color:#000000">f</span><span style="color:#000000">i</span><span style="color:#000000">g</span><span style="color:#000000">s</span><span style="color:#000000">i</span><span style="color:#000000">z</span><span style="color:#000000">e</span><span style="color:#9a6e3a">=</span><span style="color:#999999">(</span><span style="color:#990055">2</span><span style="color:#990055">0</span><span style="color:#999999">,</span><span style="color:#990055">6</span><span style="color:#999999">))</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        使用
       </span>
      </span>
      <span style="color:#333333">
       plt.subplots()
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        创建一个包含1行2列的图形布局，总尺寸为20×6英寸。
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       fig
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        表示整个图形对象，
       </span>
      </span>
      <span style="color:#333333">
       ax
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        是一个包含两个子图的数组，分别用于绘制不同的图表。
       </span>
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">b</span><span style="color:#000000">r</span><span style="color:#000000">a</span><span style="color:#000000">n</span><span style="color:#000000">d</span><span style="color:#000000">_</span><span style="color:#000000">c</span><span style="color:#000000">o</span><span style="color:#000000">u</span><span style="color:#000000">n</span><span style="color:#000000">t</span><span style="color:#000000">s</span> <span style="color:#9a6e3a">=</span> <span style="color:#000000">d</span><span style="color:#000000">a</span><span style="color:#000000">ta</span><span style="color:#999999">[</span><span style="color:#669900">'brand'</span><span style="color:#999999">].</span><span style="color:#000000">v</span><span style="color:#000000">a</span><span style="color:#000000">l</span><span style="color:#000000">u</span><span style="color:#000000">e</span><span style="color:#000000">s</span><span style="color:#000000">_</span><span style="color:#000000">c</span><span style="color:#000000">o</span><span style="color:#000000">u</span><span style="color:#000000">n</span><span style="color:#000000">t</span><span style="color:#000000">s</span><span style="color:#999999">()</span>
<span style="color:#000000">b</span><span style="color:#000000">r</span><span style="color:#000000">a</span><span style="color:#000000">n</span><span style="color:#000000">d</span><span style="color:#000000">_</span><span style="color:#000000">c</span><span style="color:#000000">o</span><span style="color:#000000">u</span><span style="color:#000000">n</span><span style="color:#000000">t</span><span style="color:#000000">s</span><span style="color:#000000">_</span><span style="color:#000000">m</span><span style="color:#000000">e</span><span style="color:#000000">a</span><span style="color:#000000">n</span> <span style="color:#9a6e3a">=</span> <span style="color:#000000">d</span><span style="color:#000000">a</span><span style="color:#000000">ta</span><span style="color:#999999">.</span><span style="color:#000000">g</span><span style="color:#000000">r</span><span style="color:#000000">o</span><span style="color:#000000">u</span><span style="color:#000000">p</span><span style="color:#000000">b</span><span style="color:#000000">y</span><span style="color:#999999">(</span><span style="color:#669900">'brand'</span><span style="color:#999999">)[</span><span style="color:#669900">'price(USD)'</span><span style="color:#999999">].</span><span style="color:#000000">m</span><span style="color:#000000">e</span><span style="color:#000000">a</span><span style="color:#000000">n</span><span style="color:#999999">()</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <strong>
       <span style="color:#333333">
        brand_counts
       </span>
      </strong>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        ：使用
       </span>
      </span>
      <span style="color:#333333">
       value_counts()
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        方法统计
       </span>
      </span>
      <span style="color:#333333">
       brand
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        列中每个品牌出现的次数。
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <strong>
       <span style="color:#333333">
        brand_price_mean
       </span>
      </strong>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        ：使用
       </span>
      </span>
      <span style="color:#333333">
       groupby()
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        方法按品牌分组，并计算每个品牌的平均价格。
       </span>
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">s</span><span style="color:#000000">n</span><span style="color:#000000">s</span><span style="color:#999999">.</span><span style="color:#000000">b</span><span style="color:#000000">a</span><span style="color:#000000">r</span><span style="color:#000000">p</span><span style="color:#000000">l</span><span style="color:#000000">o</span><span style="color:#000000">t</span><span style="color:#999999">(</span><span style="color:#000000">x</span><span style="color:#9a6e3a">=</span><span style="color:#000000">brand_counts</span><span style="color:#999999">.</span><span style="color:#000000">ind</span><span style="color:#000000">e</span><span style="color:#000000">x</span><span style="color:#999999">,</span><span style="color:#000000">y</span><span style="color:#9a6e3a">=</span><span style="color:#000000">brand_counts</span><span style="color:#999999">.</span><span style="color:#000000">v</span><span style="color:#000000">a</span><span style="color:#000000">l</span><span style="color:#000000">u</span><span style="color:#000000">e</span><span style="color:#000000">s</span><span style="color:#999999">,</span><span style="color:#000000">a</span><span style="color:#000000">x</span><span style="color:#9a6e3a">=</span><span style="color:#000000">a</span><span style="color:#000000">x</span><span style="color:#999999">[</span><span style="color:#990055">0</span><span style="color:#999999">],</span><span style="color:#000000">c</span><span style="color:#000000">o</span><span style="color:#000000">l</span><span style="color:#000000">o</span><span style="color:#000000">r</span><span style="color:#9a6e3a">=</span><span style="color:#669900">'red'</span><span style="color:#999999">)</span>
<span style="color:#000000">a</span><span style="color:#000000">x</span><span style="color:#999999">[</span><span style="color:#990055">0</span><span style="color:#999999">].</span><span style="color:#000000">set_</span><span style="color:#000000">x</span><span style="color:#000000">l</span><span style="color:#000000">a</span><span style="color:#000000">b</span><span style="color:#000000">e</span><span style="color:#000000">l</span><span style="color:#999999">(</span><span style="color:#669900">'Brand'</span><span style="color:#999999">)</span>
<span style="color:#000000">ax</span><span style="color:#999999">[</span><span style="color:#990055">0</span><span style="color:#999999">].</span><span style="color:#000000">set_ylabel</span><span style="color:#999999">(</span><span style="color:#669900">'Count'</span><span style="color:#999999">)</span>
<span style="color:#000000">ax</span><span style="color:#999999">[</span><span style="color:#990055">0</span><span style="color:#999999">].</span><span style="color:#000000">set_</span><span style="color:#000000">t</span><span style="color:#000000">i</span><span style="color:#000000">t</span><span style="color:#000000">l</span><span style="color:#000000">e</span><span style="color:#999999">(</span><span style="color:#669900">'Brand Distribution'</span><span style="color:#999999">)</span>
<span style="color:#000000">a</span><span style="color:#000000">x</span><span style="color:#999999">[</span><span style="color:#990055">0</span><span style="color:#999999">].</span><span style="color:#000000">t</span><span style="color:#000000">i</span><span style="color:#000000">c</span><span style="color:#000000">k</span><span style="color:#000000">_</span><span style="color:#000000">p</span><span style="color:#000000">a</span><span style="color:#000000">r</span><span style="color:#000000">a</span><span style="color:#000000">m</span><span style="color:#000000">s</span><span style="color:#999999">(</span><span style="color:#000000">a</span><span style="color:#000000">x</span><span style="color:#000000">i</span><span style="color:#000000">s</span><span style="color:#9a6e3a">=</span><span style="color:#669900">'x'</span><span style="color:#999999">,</span><span style="color:#000000">r</span><span style="color:#000000">o</span><span style="color:#000000">t</span><span style="color:#000000">a</span><span style="color:#000000">t</span><span style="color:#000000">i</span><span style="color:#000000">o</span><span style="color:#000000">n</span><span style="color:#9a6e3a">=</span><span style="color:#990055">9</span><span style="color:#990055">0</span><span style="color:#999999">)</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        使用
       </span>
      </span>
      <span style="background-color:#ffff00">
       <span style="color:#333333">
        seaborn
       </span>
      </span>
      <span style="background-color:#ffff00">
       <span style="color:#060607">
        的
       </span>
      </span>
      <span style="background-color:#ffff00">
       <span style="color:#333333">
        barplot()
       </span>
      </span>
      <span style="background-color:#ffff00">
       <span style="color:#060607">
        方法绘制柱状图
       </span>
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        ：
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       x=brand_counts.index
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        ：品牌名称作为横轴
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       y=brand_counts.values
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        ：品牌出现的次数作为纵轴
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       ax=ax[0]
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        ：指定将图表绘制在第一个子图上
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       color='red'
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        ：将柱子的颜色设置为红色
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        使用
       </span>
      </span>
      <span style="color:#333333">
       ax[0].set_xlabel()
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        、
       </span>
      </span>
      <span style="color:#333333">
       ax[0].set_ylabel()
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        和
       </span>
      </span>
      <span style="color:#333333">
       ax[0].set_title()
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        设置横轴标签、纵轴标签和标题。
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        使用
       </span>
      </span>
      <span style="color:#333333">
       ax[0].tick_params(axis='x', rotation=90)
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        将横轴标签旋转90度，避免标签重叠。
       </span>
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">s</span><span style="color:#000000">n</span><span style="color:#000000">s</span><span style="color:#999999">.</span><span style="color:#000000">b</span><span style="color:#000000">arp</span><span style="color:#000000">l</span><span style="color:#000000">o</span><span style="color:#000000">t</span><span style="color:#999999">(</span><span style="color:#000000">x</span><span style="color:#9a6e3a">=</span><span style="color:#000000">b</span><span style="color:#000000">r</span><span style="color:#000000">a</span><span style="color:#000000">n</span><span style="color:#000000">d</span><span style="color:#000000">_</span><span style="color:#000000">p</span><span style="color:#000000">r</span><span style="color:#000000">i</span><span style="color:#000000">c</span><span style="color:#000000">e</span><span style="color:#000000">_</span><span style="color:#000000">m</span><span style="color:#000000">e</span><span style="color:#000000">an</span><span style="color:#999999">.</span><span style="color:#000000">ind</span><span style="color:#000000">e</span><span style="color:#000000">x</span><span style="color:#999999">,</span><span style="color:#000000">y</span><span style="color:#9a6e3a">=</span><span style="color:#000000">b</span><span style="color:#000000">r</span><span style="color:#000000">a</span><span style="color:#000000">n</span><span style="color:#000000">d</span><span style="color:#000000">_</span><span style="color:#000000">p</span><span style="color:#000000">r</span><span style="color:#000000">i</span><span style="color:#000000">c</span><span style="color:#000000">e</span><span style="color:#000000">_</span><span style="color:#000000">m</span><span style="color:#000000">e</span><span style="color:#000000">an</span><span style="color:#999999">.</span><span style="color:#000000">v</span><span style="color:#000000">a</span><span style="color:#000000">l</span><span style="color:#000000">u</span><span style="color:#000000">e</span><span style="color:#000000">s</span><span style="color:#999999">,</span><span style="color:#000000">a</span><span style="color:#000000">x</span><span style="color:#999999">[</span><span style="color:#990055">1</span><span style="color:#999999">],</span><span style="color:#000000">c</span><span style="color:#000000">o</span><span style="color:#000000">l</span><span style="color:#000000">o</span><span style="color:#000000">r</span><span style="color:#9a6e3a">=</span><span style="color:#669900">'red'</span><span style="color:#999999">)</span>
<span style="color:#000000">a</span><span style="color:#000000">x</span><span style="color:#999999">[</span><span style="color:#990055">1</span><span style="color:#999999">].</span><span style="color:#000000">set_</span><span style="color:#000000">x</span><span style="color:#000000">l</span><span style="color:#000000">a</span><span style="color:#000000">be</span><span style="color:#000000">l</span><span style="color:#999999">(</span><span style="color:#669900">'Brand'</span><span style="color:#999999">)</span>
<span style="color:#000000">a</span><span style="color:#000000">x</span><span style="color:#999999">[</span><span style="color:#990055">1</span><span style="color:#999999">].</span><span style="color:#000000">set_</span><span style="color:#000000">y</span><span style="color:#000000">l</span><span style="color:#000000">a</span><span style="color:#000000">b</span><span style="color:#000000">e</span><span style="color:#000000">l</span><span style="color:#999999">(</span><span style="color:#669900">'</span><span style="color:#669900">Average Price</span><span style="color:#669900">'</span><span style="color:#999999">)</span>
<span style="color:#000000">a</span><span style="color:#000000">x</span><span style="color:#999999">[</span><span style="color:#990055">1</span><span style="color:#999999">].</span><span style="color:#000000">set_</span><span style="color:#000000">t</span><span style="color:#000000">i</span><span style="color:#000000">t</span><span style="color:#000000">l</span><span style="color:#000000">e</span><span style="color:#999999">(</span><span style="color:#669900">'</span><span style="color:#669900">Brand X Price Distribution</span><span style="color:#669900">'</span><span style="color:#999999">)</span>
<span style="color:#000000">a</span><span style="color:#000000">x</span><span style="color:#999999">[</span><span style="color:#990055">1</span><span style="color:#999999">].</span><span style="color:#000000">t</span><span style="color:#000000">i</span><span style="color:#000000">c</span><span style="color:#000000">k</span><span style="color:#000000">_</span><span style="color:#000000">p</span><span style="color:#000000">a</span><span style="color:#000000">r</span><span style="color:#000000">a</span><span style="color:#000000">m</span><span style="color:#000000">s</span><span style="color:#999999">(</span><span style="color:#000000">a</span><span style="color:#000000">x</span><span style="color:#000000">i</span><span style="color:#000000">s</span><span style="color:#9a6e3a">=</span><span style="color:#669900">'x'</span><span style="color:#999999">,</span><span style="color:#000000">r</span><span style="color:#000000">o</span><span style="color:#000000">t</span><span style="color:#000000">a</span><span style="color:#000000">t</span><span style="color:#000000">i</span><span style="color:#000000">o</span><span style="color:#000000">n</span><span style="color:#9a6e3a">=</span><span style="color:#990055">9</span><span style="color:#990055">0</span><span style="color:#999999">)</span>
</code></span></pre>
     <p>
      <span style="color:#333333">
       绘制第二个
      </span>
      <span style="color:#333333">
       子图
      </span>
      <span style="color:#333333">
       ，
      </span>
      <span style="color:#333333">
       参数
      </span>
      <span style="color:#333333">
       同上
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <img alt="" height="449" src="https://i-blog.csdnimg.cn/direct/8a603a919a794cee877532cb4c12b2f6.png" width="1520"/>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       库的应用拓展
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       Matplotlib的更多功能
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       自定义图表样式：
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">plt</span><span style="color:#999999">.</span><span style="color:#000000">style</span><span style="color:#999999">.</span><span style="color:#000000">use</span><span style="color:#999999">(</span><span style="color:#669900">'ggplot'</span><span style="color:#999999">)</span>  <span style="color:#708090"># 使用ggplot风格</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       添加网格线：
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">ax</span><span style="color:#999999">[</span><span style="color:#990055">0</span><span style="color:#999999">].</span><span style="color:#000000">grid</span><span style="color:#999999">(</span><span style="color:#000000">axis</span><span style="color:#9a6e3a">=</span><span style="color:#669900">'y'</span><span style="color:#999999">,</span><span style="color:#000000"> linestyle</span><span style="color:#9a6e3a">=</span><span style="color:#669900">'--'</span><span style="color:#999999">,</span><span style="color:#000000"> alpha</span><span style="color:#9a6e3a">=</span><span style="color:#990055">0.7</span><span style="color:#999999">)</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       添加注释：
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">ax</span><span style="color:#999999">[</span><span style="color:#990055">0</span><span style="color:#999999">].</span><span style="color:#000000">annotate</span><span style="color:#999999">(</span><span style="color:#669900">'Highest Count'</span><span style="color:#999999">,</span><span style="color:#000000"> xy</span><span style="color:#9a6e3a">=</span><span style="color:#999999">(</span><span style="color:#669900">'Brand A'</span><span style="color:#999999">,</span> <span style="color:#990055">100</span><span style="color:#999999">),</span><span style="color:#000000"> xytext</span><span style="color:#9a6e3a">=</span><span style="color:#999999">(</span><span style="color:#990055">10</span><span style="color:#999999">,</span> <span style="color:#990055">10</span><span style="color:#999999">),</span>
<span style="color:#000000">               arrowprops</span><span style="color:#9a6e3a">=</span><span style="color:#669900">dict</span><span style="color:#999999">(</span><span style="color:#000000">facecolor</span><span style="color:#9a6e3a">=</span><span style="color:#669900">'black'</span><span style="color:#999999">,</span><span style="color:#000000"> shrink</span><span style="color:#9a6e3a">=</span><span style="color:#990055">0.05</span><span style="color:#999999">))</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       Seaborn的更多功能
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       绘制箱线图：
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">sns</span><span style="color:#999999">.</span><span style="color:#000000">boxplot</span><span style="color:#999999">(</span><span style="color:#000000">x</span><span style="color:#9a6e3a">=</span><span style="color:#669900">'brand'</span><span style="color:#999999">,</span><span style="color:#000000"> y</span><span style="color:#9a6e3a">=</span><span style="color:#669900">'price(USD)'</span><span style="color:#999999">,</span><span style="color:#000000"> data</span><span style="color:#9a6e3a">=</span><span style="color:#000000">data</span><span style="color:#999999">)</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       绘制热力图：
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">sns</span><span style="color:#999999">.</span><span style="color:#000000">heatmap</span><span style="color:#999999">(</span><span style="color:#000000">data</span><span style="color:#999999">.</span><span style="color:#000000">corr</span><span style="color:#999999">(),</span><span style="color:#000000"> annot</span><span style="color:#9a6e3a">=</span><span style="color:#990055">True</span><span style="color:#999999">,</span><span style="color:#000000"> cmap</span><span style="color:#9a6e3a">=</span><span style="color:#669900">'coolwarm'</span><span style="color:#999999">)</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       绘制散点图矩阵：
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">sns</span><span style="color:#999999">.</span><span style="color:#000000">pairplot</span><span style="color:#999999">(</span><span style="color:#000000">data</span><span style="color:#999999">,</span><span style="color:#000000"> hue</span><span style="color:#9a6e3a">=</span><span style="color:#669900">'brand'</span><span style="color:#999999">)</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffff00">
       <span style="color:#333333">
        结合Pandas进行更复杂的数据分析
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       分组统计：
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">brand_stats </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> data</span><span style="color:#999999">.</span><span style="color:#000000">groupby</span><span style="color:#999999">(</span><span style="color:#669900">'brand'</span><span style="color:#999999">).</span><span style="color:#000000">agg</span><span style="color:#999999">({<!-- --></span><span style="color:#669900">'price(USD)'</span><span style="color:#999999">:</span> <span style="color:#999999">[</span><span style="color:#669900">'mean'</span><span style="color:#999999">,</span> <span style="color:#669900">'median'</span><span style="color:#999999">,</span> <span style="color:#669900">'std'</span><span style="color:#999999">]})</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       条件筛选与可视化：
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">high_price_brands </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> data</span><span style="color:#999999">[</span><span style="color:#000000">data</span><span style="color:#999999">[</span><span style="color:#669900">'price(USD)'</span><span style="color:#999999">]</span> <span style="color:#9a6e3a">&gt;</span> <span style="color:#990055">1000</span><span style="color:#999999">]</span>
<span style="color:#000000">sns</span><span style="color:#999999">.</span><span style="color:#000000">scatterplot</span><span style="color:#999999">(</span><span style="color:#000000">x</span><span style="color:#9a6e3a">=</span><span style="color:#669900">'brand'</span><span style="color:#999999">,</span><span style="color:#000000"> y</span><span style="color:#9a6e3a">=</span><span style="color:#669900">'price(USD)'</span><span style="color:#999999">,</span><span style="color:#000000"> data</span><span style="color:#9a6e3a">=</span><span style="color:#000000">high_price_brands</span><span style="color:#999999">)</span>
</code></span></pre>
     <p>
     </p>
     <h6 id="1.3%E8%A7%86%E9%A2%91%E5%BD%95%E5%88%B6%E8%A7%84%E6%A0%BC%E4%B8%8E%E4%BB%B7%E6%A0%BC%E5%85%B3%E8%81%94%E6%80%A7%E5%88%86%E6%9E%90" name="1.3%E8%A7%86%E9%A2%91%E5%BD%95%E5%88%B6%E8%A7%84%E6%A0%BC%E4%B8%8E%E4%BB%B7%E6%A0%BC%E5%85%B3%E8%81%94%E6%80%A7%E5%88%86%E6%9E%90" style="margin-left:0pt; margin-right:0pt; text-align:justify">
      <strong>
       <span style="color:#333333">
        1.3
       </span>
      </strong>
      <strong>
       <span style="color:#333333">
        视频录制规格与价格关联性分析
       </span>
      </strong>
     </h6>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       以 10 种不同的视频录制规格作为特征，分别绘制价格有关这 10 种特征的 10 张箱线图，将 10 张箱线图打印在一个同画布上。
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#708090">#</span> <span style="color:#708090">分析某</span><span style="color:#708090">个</span><span style="color:#708090">(某些)特征</span><span style="color:#708090">与</span><span style="color:#708090">标签</span><span style="color:#708090">(</span><span style="color:#708090">1：1)</span><span style="color:#708090">的</span><span style="color:#708090">关系</span><span style="color:#708090">可以</span><span style="color:#708090">用</span><span style="color:#708090">到</span><span style="color:#708090">箱线图sns.boxplot</span><span style="color:#708090">(</span><span style="color:#708090">)</span>
<span style="color:#000000">video_feature </span><span style="color:#9a6e3a">=</span> <span style="color:#999999">[</span><span style="color:#000000">col </span><span style="color:#0077aa">for</span><span style="color:#000000"> col </span><span style="color:#0077aa">in</span><span style="color:#000000"> data</span><span style="color:#999999">.</span><span style="color:#000000">columns </span><span style="color:#0077aa">if</span><span style="color:#000000"> col</span><span style="color:#999999">.</span><span style="color:#000000">startswith</span><span style="color:#999999">(</span><span style="color:#669900">'video'</span><span style="color:#999999">)]</span>

<span style="color:#000000">plt</span><span style="color:#999999">.</span><span style="color:#000000">subplots</span><span style="color:#999999">(</span><span style="color:#990055">4</span><span style="color:#999999">,</span><span style="color:#990055">3</span><span style="color:#999999">,</span><span style="color:#000000">figsize</span><span style="color:#9a6e3a">=</span><span style="color:#999999">(</span><span style="color:#990055">30</span><span style="color:#999999">,</span><span style="color:#990055">30</span><span style="color:#999999">))</span>
<span style="color:#0077aa">for</span><span style="color:#000000"> idx</span><span style="color:#999999">,</span><span style="color:#000000">feature </span><span style="color:#0077aa">in</span> <span style="color:#669900">enumerate</span><span style="color:#999999">(</span><span style="color:#000000">video_feature</span><span style="color:#999999">,</span><span style="color:#000000">start</span><span style="color:#9a6e3a">=</span><span style="color:#990055">1</span><span style="color:#999999">):</span>
<span style="color:#000000">    plt</span><span style="color:#999999">.</span><span style="color:#000000">subplot</span><span style="color:#999999">(</span><span style="color:#990055">4</span><span style="color:#999999">,</span><span style="color:#990055">3</span><span style="color:#999999">,</span><span style="color:#000000">idx</span><span style="color:#999999">)</span>

<span style="color:#000000">    sns</span><span style="color:#999999">.</span><span style="color:#000000">boxplot</span><span style="color:#999999">(</span><span style="color:#000000">x</span><span style="color:#9a6e3a">=</span><span style="color:#000000">feature</span><span style="color:#999999">,</span><span style="color:#000000"> y</span><span style="color:#9a6e3a">=</span><span style="color:#669900">'price(USD)'</span><span style="color:#999999">,</span><span style="color:#000000"> data</span><span style="color:#9a6e3a">=</span><span style="color:#000000">data</span><span style="color:#999999">,</span><span style="color:#000000"> hue</span><span style="color:#9a6e3a">=</span><span style="color:#000000">feature</span><span style="color:#999999">,</span><span style="color:#000000"> palette</span><span style="color:#9a6e3a">=</span><span style="color:#999999">{<!-- --></span><span style="color:#990055">False</span><span style="color:#999999">:</span><span style="color:#669900">'red'</span><span style="color:#999999">,</span><span style="color:#990055">True</span><span style="color:#999999">:</span><span style="color:#669900">'blue'</span><span style="color:#999999">})</span> <span style="color:#708090"># </span>
    
<span style="color:#000000">    plt</span><span style="color:#999999">.</span><span style="color:#000000">xlabel</span><span style="color:#999999">(</span><span style="color:#669900">'feature'</span><span style="color:#999999">)</span>
<span style="color:#000000">    plt</span><span style="color:#999999">.</span><span style="color:#000000">ylabel</span><span style="color:#999999">(</span><span style="color:#669900">'price(USD)'</span><span style="color:#999999">)</span>
<span style="color:#000000">    plt</span><span style="color:#999999">.</span><span style="color:#000000">title</span><span style="color:#999999">(</span><span style="color:#669900">'price box plot'</span><span style="color:#999999">)</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       说明
      </span>
      <span style="color:#333333">
       ：
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">video</span><span style="color:#000000">_</span><span style="color:#000000">f</span><span style="color:#000000">e</span><span style="color:#000000">a</span><span style="color:#000000">t</span><span style="color:#000000">u</span><span style="color:#000000">r</span><span style="color:#000000">e</span> <span style="color:#9a6e3a">=</span> <span style="color:#999999">[</span><span style="color:#000000">c</span><span style="color:#000000">o</span><span style="color:#000000">l</span> <span style="color:#0077aa">for</span> <span style="color:#000000">c</span><span style="color:#000000">o</span><span style="color:#000000">l</span> <span style="color:#0077aa">in</span> <span style="color:#000000">d</span><span style="color:#000000">a</span><span style="color:#000000">t</span><span style="color:#000000">a</span><span style="color:#999999">.</span><span style="color:#000000">c</span><span style="color:#000000">o</span><span style="color:#000000">l</span><span style="color:#000000">u</span><span style="color:#000000">m</span><span style="color:#000000">n</span><span style="color:#000000">s</span> <span style="color:#0077aa">if</span> <span style="color:#000000">c</span><span style="color:#000000">o</span><span style="color:#000000">l</span><span style="color:#999999">.</span><span style="color:#000000">s</span><span style="color:#000000">t</span><span style="color:#000000">a</span><span style="color:#000000">r</span><span style="color:#000000">t</span><span style="color:#000000">s</span><span style="color:#000000">w</span><span style="color:#000000">i</span><span style="color:#000000">t</span><span style="color:#000000">h</span><span style="color:#999999">(</span><span style="color:#669900">'vedio_'</span><span style="color:#999999">)]</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        使用列表推导式从
       </span>
      </span>
      <span style="color:#333333">
       data
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        的列名中筛选出以“video”开头的特征列
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        这些特征可能与视频功能相关，例如
       </span>
      </span>
      <span style="color:#333333">
       video_resolution
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        （视频分辨率）、
       </span>
      </span>
      <span style="color:#333333">
       video_fps
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        （视频帧率）等
       </span>
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#0077aa">f</span><span style="color:#0077aa">or</span><span style="color:#000000"> idx</span><span style="color:#999999">,</span><span style="color:#000000">f</span><span style="color:#000000">e</span><span style="color:#000000">a</span><span style="color:#000000">t</span><span style="color:#000000">u</span><span style="color:#000000">r</span><span style="color:#000000">e</span> <span style="color:#0077aa">in</span> <span style="color:#669900">enumerate</span><span style="color:#999999">(</span><span style="color:#000000">v</span><span style="color:#000000">e</span><span style="color:#000000">d</span><span style="color:#000000">i</span><span style="color:#000000">o</span><span style="color:#000000">_</span><span style="color:#000000">f</span><span style="color:#000000">e</span><span style="color:#000000">a</span><span style="color:#000000">t</span><span style="color:#000000">u</span><span style="color:#000000">r</span><span style="color:#000000">e</span><span style="color:#999999">,</span><span style="color:#000000">s</span><span style="color:#000000">ta</span><span style="color:#000000">r</span><span style="color:#000000">t</span><span style="color:#9a6e3a">=</span><span style="color:#990055">1</span><span style="color:#999999">):</span>
    <span style="color:#000000">p</span><span style="color:#000000">l</span><span style="color:#000000">t</span><span style="color:#999999">.</span><span style="color:#000000">s</span><span style="color:#000000">u</span><span style="color:#000000">b</span><span style="color:#000000">p</span><span style="color:#000000">l</span><span style="color:#000000">o</span><span style="color:#000000">t</span><span style="color:#999999">(</span><span style="color:#990055">4</span><span style="color:#999999">,</span><span style="color:#990055">3</span><span style="color:#999999">,</span><span style="color:#000000">idx</span><span style="color:#999999">)</span>
    <span style="color:#000000">s</span><span style="color:#000000">n</span><span style="color:#000000">s</span><span style="color:#999999">.</span><span style="color:#000000">b</span><span style="color:#000000">o</span><span style="color:#000000">x</span><span style="color:#000000">p</span><span style="color:#000000">l</span><span style="color:#000000">o</span><span style="color:#000000">t</span><span style="color:#999999">(</span><span style="color:#000000">x</span><span style="color:#9a6e3a">=</span><span style="color:#000000">f</span><span style="color:#000000">e</span><span style="color:#000000">a</span><span style="color:#000000">t</span><span style="color:#000000">u</span><span style="color:#000000">r</span><span style="color:#000000">e</span><span style="color:#999999">,</span><span style="color:#000000">y</span><span style="color:#9a6e3a">=</span><span style="color:#669900">'price(USD)'</span><span style="color:#999999">,</span><span style="color:#000000">d</span><span style="color:#000000">a</span><span style="color:#000000">t</span><span style="color:#000000">a</span><span style="color:#9a6e3a">=</span><span style="color:#000000">dat</span><span style="color:#000000">a</span><span style="color:#999999">,</span><span style="color:#000000">h</span><span style="color:#000000">ue</span><span style="color:#9a6e3a">=</span><span style="color:#000000">f</span><span style="color:#000000">e</span><span style="color:#000000">a</span><span style="color:#000000">t</span><span style="color:#000000">u</span><span style="color:#000000">r</span><span style="color:#000000">e</span><span style="color:#999999">,</span><span style="color:#000000">pa</span><span style="color:#000000">l</span><span style="color:#000000">e</span><span style="color:#000000">t</span><span style="color:#000000">t</span><span style="color:#000000">e</span><span style="color:#9a6e3a">=</span><span style="color:#999999">{<!-- --></span><span style="color:#990055">False</span><span style="color:#999999">:</span><span style="color:#669900">'red'</span><span style="color:#999999">,</span><span style="color:#990055">True</span><span style="color:#999999">:</span><span style="color:#669900">'blue'</span><span style="color:#999999">})</span>
<span style="color:#000000">    plt</span><span style="color:#999999">.</span><span style="color:#000000">xlabel</span><span style="color:#999999">(</span><span style="color:#669900">'feature'</span><span style="color:#999999">)</span>
<span style="color:#000000">    plt</span><span style="color:#999999">.</span><span style="color:#000000">ylabel</span><span style="color:#999999">(</span><span style="color:#669900">'price(USD)'</span><span style="color:#999999">)</span>
<span style="color:#000000">    plt</span><span style="color:#999999">.</span><span style="color:#000000">title</span><span style="color:#999999">(</span><span style="color:#669900">'price box plot'</span><span style="color:#999999">)</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffff00">
       <strong>
        <span style="color:#333333">
         enumerate(video_feature, start=1)
        </span>
       </strong>
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        ：遍历
       </span>
      </span>
      <span style="color:#333333">
       video_feature
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        列表，并为每个特征分配一个索引（从1开始）。
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <strong>
       <span style="color:#333333">
        plt.subplot(4, 3, idx)
       </span>
      </strong>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        ：根据索引将每个箱线图绘制在对应的子图位置。
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffff00">
       <strong>
        <span style="color:#333333">
         sns.boxplot()
        </span>
       </strong>
      </span>
      <span style="background-color:#ffff00">
       <span style="color:#060607">
        ：使用Seaborn的
       </span>
      </span>
      <span style="background-color:#ffff00">
       <span style="color:#333333">
        boxplot()
       </span>
      </span>
      <span style="background-color:#ffff00">
       <span style="color:#060607">
        方法绘制箱线图
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       x=feature
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        ：将特征列作为横轴。
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       y='price(USD)'
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        ：将价格作为纵轴。
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       data=data
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        ：指定数据源。
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#ff0000">
       hue=feature
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        ：根据特征的值
       </span>
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#ff0000">
        对箱线图进行分组
       </span>
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        （假设特征是布尔类型，如
       </span>
      </span>
      <span style="color:#333333">
       True
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        或
       </span>
      </span>
      <span style="color:#333333">
       False
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        ）。
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#ff0000">
       palette={False: 'red', True: 'blue'}
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        ：
       </span>
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#ff0000">
        为分组设置颜色
       </span>
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        ，
       </span>
      </span>
      <span style="color:#333333">
       False
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        为红色，
       </span>
      </span>
      <span style="color:#333333">
       True
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        为蓝色。
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <strong>
       <span style="color:#333333">
        plt.xlabel('feature')
       </span>
      </strong>
      <span style="background-color:#ffffff">
       <strong>
        <span style="color:#060607">
         、
        </span>
       </strong>
      </span>
      <strong>
       <span style="color:#333333">
        plt.ylabel('price(USD)')
       </span>
      </strong>
      <span style="background-color:#ffffff">
       <strong>
        <span style="color:#060607">
         、
        </span>
       </strong>
      </span>
      <strong>
       <span style="color:#333333">
        plt.title('price box plot')
       </span>
      </strong>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        ：设置横轴标签、纵轴标签和标题
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffff00">
       <span style="color:#333333">
        补充：
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffff00">
       <span style="color:#333333">
        箱线图的作用
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffff00">
       <span style="color:#333333">
        为什么可以用箱线图分析特征与标签的关系？
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       箱线图是一种用于展示一组数据的五数概括（最小值、第一四分位数、中位数、第三四分位数和最大值）的图表。
      </span>
      <span style="color:#ff0000">
       通过箱体和须线直观地展示
      </span>
      <span style="color:#333333">
       了数据的分布情况，包括中位数、分布范围、异常值等。
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffff00">
       <span style="color:#333333">
        分析特征与标签的关系
       </span>
      </span>
      <span style="color:#333333">
       ：
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       在机器学习和数据分析中，箱线图可以用来分析特征与标签之间的关系，尤其是当特征是分类变量（如布尔值、类别标签）时：
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       分布差异：通过比较不同特征值对应的标签分布，可以直观地看出特征值对标签的影响。例如，某些特征值可能导致标签值的分布更集中或更分散。
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       异常值检测：箱线图可以清晰地展示异常值，帮助分析特征与异常标签值之间的关系。
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       适用场景：
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#ff0000">
       特征是分类变量：当特征是布尔值（如True/False）或类别标签
      </span>
      <span style="color:#333333">
       时，箱线图可以很好地展示不同类别对应的标签分布差异。例如，video_feature可能是布尔值（如是否支持高清视频录制），箱线图可以直观地展示支持与不支持高清视频的手机价格分布差异。
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#ff0000">
       标签是连续变量
      </span>
      <span style="color:#333333">
       ：箱线图适用于分析连续标签（如价格）的分布情况。通过箱线图，可以快速判断特征对标签分布的影响。
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffff00">
       <span style="color:#333333">
        限制
       </span>
      </span>
      <span style="color:#333333">
       ：
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#ff0000">
       特征是连续变量时的局限性
      </span>
      <span style="color:#333333">
       ：如果特征是连续变量，箱线图可能不太适用。因为箱线图主要用于分类变量的分布比较。对于连续特征，需要先将其离散化（如分桶），或者使用其他图表（如散点图、回归线图）来分析与标签的关系。
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       复杂关系的局限性：
      </span>
      <span style="color:#ff0000">
       箱线图主要用于展示分布差异
      </span>
      <span style="color:#333333">
       ，但对于复杂的因果关系或非线性关系，可能需要结合其他分析方法（如相关性分析、回归分析）来进一步验证。
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       精简总结：
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       箱线图通过展示数据的五数概括和分布情况，可以帮助分析分类特征与连续标签之间的关系。它特别适合用于比较不同特征值对应的标签分布差异和检测异常值。对于连续特征，可能需要先进行离散化处理，或者使用其他图表进行分析。
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <img alt="" height="1060" src="https://i-blog.csdnimg.cn/direct/932161d909be4108bf6a8c0093f62f29.png" width="1518"/>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffff00">
       <span style="color:#333333">
        从箱线图可以看出vedio_特征为True的手机价格分布在大体上是比False的要高的，即vedio特征的有无会影响price
       </span>
      </span>
     </p>
     <h5 id="2.%E7%BB%93%E6%9E%84%E5%8C%96%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86" name="2.%E7%BB%93%E6%9E%84%E5%8C%96%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86" style="margin-left:0pt; margin-right:0pt; text-align:justify">
      <strong>
       <span style="color:#333333">
        2.
       </span>
      </strong>
      <strong>
       <span style="color:#333333">
        结构化数据预处理
       </span>
      </strong>
     </h5>
     <h6 id="2.1%E7%AD%9B%E9%80%89%E7%89%B9%E5%BE%81" name="2.1%E7%AD%9B%E9%80%89%E7%89%B9%E5%BE%81" style="margin-left:0pt; margin-right:0pt; text-align:justify">
      <strong>
       <span style="color:#333333">
        2.1
       </span>
      </strong>
      <strong>
       <span style="color:#333333">
        筛选特征
       </span>
      </strong>
     </h6>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       使用 pandas 拷贝一份数据集，命名为 df，取 'price (USD)' 为标签 y, 其他为特征集合 X，删除 X 中无关特征，只保留：'inches', 'battery', 'ram (GB)', 'weight (g)', 'storage (GB) 等特征，统计 name 特征中包含 'pro' 或 'max' 的样本，新建布尔特征 'has_pro_or_max'。
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#708090">#</span> <span style="color:#708090">拷贝一份数据</span><span style="color:#708090">来</span><span style="color:#708090">做</span><span style="color:#708090">为</span><span style="color:#708090">模型</span><span style="color:#708090">训练</span><span style="color:#708090">前</span><span style="color:#708090">的</span><span style="color:#708090">预处理</span><span style="color:#708090">，</span><span style="color:#708090">不</span><span style="color:#708090">破坏原数据</span>
<span style="color:#000000">df </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> data</span><span style="color:#999999">.</span><span style="color:#000000">copy</span><span style="color:#999999">()</span>

<span style="color:#000000">X </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> df</span><span style="color:#999999">[[</span><span style="color:#669900">'inches'</span><span style="color:#999999">,</span> <span style="color:#669900">'battery'</span><span style="color:#999999">,</span> <span style="color:#669900">'ram(GB)'</span><span style="color:#999999">,</span> <span style="color:#669900">'weight(g)'</span><span style="color:#999999">,</span> <span style="color:#669900">'storage(GB)'</span><span style="color:#999999">]]</span> <span style="color:#708090">#, *video_feature]</span>
<span style="color:#000000">y </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> df</span><span style="color:#999999">[</span><span style="color:#669900">'price(USD)'</span><span style="color:#999999">]</span>

<span style="color:#000000">X</span><span style="color:#999999">[</span><span style="color:#669900">'has_pro_or_max'</span><span style="color:#999999">]</span> <span style="color:#9a6e3a">=</span><span style="color:#000000"> data</span><span style="color:#999999">[</span><span style="color:#669900">'phone_name'</span><span style="color:#999999">].</span><span style="color:#669900">map</span><span style="color:#999999">(</span><span style="color:#0077aa">lambda</span><span style="color:#000000"> x</span><span style="color:#999999">:</span><span style="color:#990055">1</span> <span style="color:#0077aa">if</span> <span style="color:#669900">'Pro'</span> <span style="color:#0077aa">in</span><span style="color:#000000"> x </span><span style="color:#0077aa">or</span> <span style="color:#669900">'Max'</span> <span style="color:#0077aa">in</span><span style="color:#000000"> x </span><span style="color:#0077aa">else</span> <span style="color:#990055">0</span><span style="color:#999999">)</span>
<span style="color:#708090"># X['has_pro_or_max'] = df['phone_name'].str.contains('pro|max',case=False,regex=True).astype(int)</span>
       
<span style="color:#000000">X  </span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       说明：
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">X</span><span style="color:#999999">[</span><span style="color:#669900">'has_pro_or_max'</span><span style="color:#999999">]</span> <span style="color:#9a6e3a">=</span> <span style="color:#000000">d</span><span style="color:#000000">a</span><span style="color:#000000">t</span><span style="color:#000000">a</span><span style="color:#999999">[</span><span style="color:#669900">'phone_name'</span><span style="color:#999999">].</span><span style="color:#669900">map</span><span style="color:#999999">(</span><span style="color:#0077aa">lambda</span> <span style="color:#000000">x</span><span style="color:#999999">:</span><span style="color:#990055">1</span> <span style="color:#0077aa">if</span> <span style="color:#669900">'Pro'</span> <span style="color:#0077aa">in</span> <span style="color:#000000">x </span><span style="color:#0077aa">or</span> <span style="color:#669900">'Max'</span> <span style="color:#0077aa">in</span> <span style="color:#000000">x</span> <span style="color:#0077aa">else</span> <span style="color:#990055">0</span><span style="color:#999999">)</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        通过
       </span>
      </span>
      <span style="color:#333333">
       map()
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        方法和
       </span>
      </span>
      <span style="color:#333333">
       lambda
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        函数，为每个手机名称检查是否包含“Pro”或“Max”字样
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        如果包含，则返回
       </span>
      </span>
      <span style="color:#333333">
       1
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        ，表示该手机名称中包含“Pro”或“Max”;如果不包含，则返回
       </span>
      </span>
      <span style="color:#333333">
       0
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        这个新特征
       </span>
      </span>
      <span style="color:#333333">
       has_pro_or_max
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        被添加到特征集
       </span>
      </span>
      <span style="color:#333333">
       X
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        中，用于捕捉品牌型号中可能影响价格的关键词
       </span>
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#708090"># X['has_pro_or_max'] = df['phone_name'].str.contains('pro|max', case=False, regex=True).astype(int)</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       使用str.contains()方法检查phone_name列中是否包含“pro”或“max”（不区分大小写）
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       case=False：忽略大小写
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       regex=True：允许使用正则表达式
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       astype(int)：将布尔值（True/False）转换为整数（1/0）
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       这种方法与map()和lambda函数的效果相同，但更简洁
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <img alt="" height="553" src="https://i-blog.csdnimg.cn/direct/880d594443114e3daf59364764c77fb0.png" width="688"/>
     </p>
     <h6 id="2.2%E7%89%B9%E5%BE%81%E6%A0%87%E7%AD%BE%E5%BD%92%E4%B8%80%E5%8C%96%E5%8F%8A%E7%BC%96%E7%A0%81" name="2.2%E7%89%B9%E5%BE%81%E6%A0%87%E7%AD%BE%E5%BD%92%E4%B8%80%E5%8C%96%E5%8F%8A%E7%BC%96%E7%A0%81" style="margin-left:0pt; margin-right:0pt; text-align:justify">
      <strong>
       <span style="color:#333333">
        2.2
       </span>
      </strong>
      <strong>
       <span style="color:#333333">
        特征标签归一化及编码
       </span>
      </strong>
     </h6>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       编写数据预处理函数 preprocessing，对标签和特征用 sklearn 中的 StandardScaler 进行归一化。
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       并且在该函数中，调用接口进行划分 80% 数据为训练集，20% 数据为测试集，函数的返回值为训练集和测试集的特征和标签。
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       调用该函数进行数据预处理和数据集划分，并打印出训练集和测试集的数组形状。
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#708090">#</span> <span style="color:#708090">对</span><span style="color:#708090">标签</span><span style="color:#708090">和</span><span style="color:#708090">特征</span><span style="color:#708090">归一化</span><span style="color:#708090">，</span><span style="color:#708090">切分</span><span style="color:#708090">数据集</span>
<span style="color:#0077aa">from</span><span style="color:#000000"> sklearn</span><span style="color:#999999">.</span><span style="color:#000000">model_selection </span><span style="color:#0077aa">import</span><span style="color:#000000"> train_test_split</span>
<span style="color:#0077aa">from</span><span style="color:#000000"> sklearn</span><span style="color:#999999">.</span><span style="color:#000000">preprocessing </span><span style="color:#0077aa">import</span><span style="color:#000000"> StandardScaler</span>
<span style="color:#0077aa">import</span><span style="color:#000000"> numpy </span><span style="color:#0077aa">as</span><span style="color:#000000"> np</span>

<span style="color:#0077aa">def</span> <span style="color:#dd4a68">df_preprocessing</span><span style="color:#999999">(</span><span style="color:#000000">X</span><span style="color:#999999">,</span><span style="color:#000000">y</span><span style="color:#999999">):</span>
<span style="color:#000000">    std </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> StandardScaler</span><span style="color:#999999">()</span>
<span style="color:#000000">    X </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> std</span><span style="color:#999999">.</span><span style="color:#000000">fit_transform</span><span style="color:#999999">(</span><span style="color:#000000">X</span><span style="color:#999999">)</span>
<span style="color:#000000">    y </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> std</span><span style="color:#999999">.</span><span style="color:#000000">fit_transform</span><span style="color:#999999">(</span><span style="color:#000000">y</span><span style="color:#999999">.</span><span style="color:#000000">values</span><span style="color:#999999">.</span><span style="color:#000000">reshape</span><span style="color:#999999">(</span><span style="color:#9a6e3a">-</span><span style="color:#990055">1</span><span style="color:#999999">,</span><span style="color:#990055">1</span><span style="color:#999999">))</span>
    
<span style="color:#000000">    X_train</span><span style="color:#999999">,</span><span style="color:#000000">X_test</span><span style="color:#999999">,</span><span style="color:#000000">y_train</span><span style="color:#999999">,</span><span style="color:#000000">y_test </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> train_test_split</span><span style="color:#999999">(</span><span style="color:#000000">X</span><span style="color:#999999">,</span><span style="color:#000000">y</span><span style="color:#999999">,</span><span style="color:#000000">test_size</span><span style="color:#9a6e3a">=</span><span style="color:#990055">0.2</span><span style="color:#999999">,</span><span style="color:#000000">random_state</span><span style="color:#9a6e3a">=</span><span style="color:#990055">42</span><span style="color:#999999">)</span>
    
    <span style="color:#0077aa">return</span><span style="color:#000000"> X_train</span><span style="color:#999999">,</span><span style="color:#000000">X_test</span><span style="color:#999999">,</span><span style="color:#000000">y_train</span><span style="color:#999999">,</span><span style="color:#000000">y_test</span>
  
<span style="color:#000000">X_train</span><span style="color:#999999">,</span><span style="color:#000000">X_test</span><span style="color:#999999">,</span><span style="color:#000000">y_train</span><span style="color:#999999">,</span><span style="color:#000000">y_test </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> df_preprocessing</span><span style="color:#999999">(</span><span style="color:#000000">X</span><span style="color:#999999">,</span><span style="color:#000000">y</span><span style="color:#999999">)</span>

<span style="color:#708090">#</span><span style="color:#708090">X_train.shape,X_test.shape,y_train.shape,y_test.shape</span>

<span style="color:#0077aa">print</span><span style="color:#999999">(</span><span style="color:#669900">'Number transactions X_train dataset:'</span><span style="color:#999999">,</span><span style="color:#000000">X_train</span><span style="color:#999999">.</span><span style="color:#000000">shape</span><span style="color:#999999">)</span>
<span style="color:#0077aa">print</span><span style="color:#999999">(</span><span style="color:#669900">'Number transactions y_train dataset:'</span><span style="color:#999999">,</span><span style="color:#000000">y_train</span><span style="color:#999999">.</span><span style="color:#000000">shape</span><span style="color:#999999">)</span>
<span style="color:#0077aa">print</span><span style="color:#999999">(</span><span style="color:#669900">'Number transactions X_test dataset:'</span><span style="color:#999999">,</span><span style="color:#000000">X_test</span><span style="color:#999999">.</span><span style="color:#000000">shape</span><span style="color:#999999">)</span>
<span style="color:#0077aa">print</span><span style="color:#999999">(</span><span style="color:#669900">'Number transactions y_test dataset:'</span><span style="color:#999999">,</span><span style="color:#000000">y_test</span><span style="color:#999999">.</span><span style="color:#000000">shape</span><span style="color:#999999">)</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <img alt="" height="111" src="https://i-blog.csdnimg.cn/direct/7159abcc2f6d48b19de4f4a0bb25b8fe.png" width="514"/>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       说明
      </span>
      <span style="color:#333333">
       ：
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#0077aa">def</span> <span style="color:#dd4a68">df_preprocessing</span><span style="color:#999999">(</span><span style="color:#000000">X</span><span style="color:#999999">,</span><span style="color:#000000"> y</span><span style="color:#999999">):</span>
    <span style="color:#000000">s</span><span style="color:#000000">t</span><span style="color:#000000">d</span> <span style="color:#9a6e3a">=</span> <span style="color:#000000">StandardScaler</span><span style="color:#999999">(</span><span style="color:#999999">)</span>
    <span style="color:#000000">X</span> <span style="color:#9a6e3a">=</span> <span style="color:#000000">s</span><span style="color:#000000">t</span><span style="color:#000000">d</span><span style="color:#999999">.</span><span style="color:#000000">f</span><span style="color:#000000">i</span><span style="color:#000000">t</span><span style="color:#000000">_</span><span style="color:#000000">t</span><span style="color:#000000">r</span><span style="color:#000000">a</span><span style="color:#000000">n</span><span style="color:#000000">s</span><span style="color:#000000">f</span><span style="color:#000000">o</span><span style="color:#000000">r</span><span style="color:#000000">m</span><span style="color:#999999">(</span><span style="color:#000000">X</span><span style="color:#999999">)</span>
    <span style="color:#000000">y</span> <span style="color:#9a6e3a">=</span> <span style="color:#000000">s</span><span style="color:#000000">t</span><span style="color:#000000">d</span><span style="color:#999999">.</span><span style="color:#000000">fit_transform</span><span style="color:#999999">(</span><span style="color:#000000">y</span><span style="color:#999999">.</span><span style="color:#000000">v</span><span style="color:#000000">a</span><span style="color:#000000">l</span><span style="color:#000000">u</span><span style="color:#000000">e</span><span style="color:#000000">s</span><span style="color:#999999">.</span><span style="color:#000000">r</span><span style="color:#000000">e</span><span style="color:#000000">s</span><span style="color:#000000">ha</span><span style="color:#000000">p</span><span style="color:#000000">e</span><span style="color:#999999">(</span><span style="color:#9a6e3a">-</span><span style="color:#990055">1</span><span style="color:#999999">,</span><span style="color:#990055">1</span><span style="color:#999999">)</span><span style="color:#999999">)</span>
    
    
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <strong>
       <span style="color:#333333">
        StandardScaler
       </span>
      </strong>
      <span style="background-color:#ffffff">
       <strong>
        <span style="color:#060607">
         的使用
        </span>
       </strong>
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        ：
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        对特征
       </span>
      </span>
      <span style="color:#333333">
       X
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        进行标准化：
       </span>
      </span>
      <span style="color:#333333">
       X = std.fit_transform(X)
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        。
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        对标签
       </span>
      </span>
      <span style="color:#333333">
       y
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        进行标准化：
       </span>
      </span>
      <span style="color:#333333">
       y = std.fit_transform(y.values.reshape(-1, 1))
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        。
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       y.values.reshape(-1, 1)
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        ：将
       </span>
      </span>
      <span style="color:#333333">
       y
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        从一维数组转换为二维数组，因为
       </span>
      </span>
      <span style="background-color:#ffff00">
       <span style="color:#333333">
        StandardScaler
       </span>
      </span>
      <span style="background-color:#ffff00">
       <span style="color:#060607">
        需要二维输入
       </span>
      </span>
      <span style="background-color:#ffffff">
       <span style="color:#060607">
        。
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="background-color:#ffff00">
       <span style="color:#333333">
        改进建议
       </span>
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       标签是否需要标准化？
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       在许多回归任务中，标签不需要标准化，因为模型的输出可以直接与原始标签进行比较;如果对标签进行标准化，后续需要将预测结果反向转换为原始尺度
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       如果确实需要标准化标签，建议在预测后进行反标准化：
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">y_pred </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> std</span><span style="color:#999999">.</span><span style="color:#000000">inverse_transform</span><span style="color:#999999">(</span><span style="color:#000000">y_pred</span><span style="color:#999999">)</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       保存标准化器的状态
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       在实际应用中，标准化器（StandardScaler）的状态（均值和标准差）需要保存，以便在模型部署时对新数据进行相同的标准化处理
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       可以通过 joblib 或 pickle 保存标准化器：
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#0077aa">from</span><span style="color:#000000"> joblib </span><span style="color:#0077aa">import</span><span style="color:#000000"> dump</span>
<span style="color:#000000">dump</span><span style="color:#999999">(</span><span style="color:#000000">std</span><span style="color:#999999">,</span> <span style="color:#669900">'scaler.joblib'</span><span style="color:#999999">)</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       处理异常值
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       在标准化之前，建议检查数据中是否存在异常值，因为异常值会对标准化产生较大影响
      </span>
     </p>
    </div>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f7975616e6765313636362f:61727469636c652f64657461696c732f313436303631353135" class_="artid" style="display:none">
 </p>
</div>


