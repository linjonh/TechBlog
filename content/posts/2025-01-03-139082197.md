---
layout: post
title: "Python-探索Python中获取当前文件目录的完整路径"
date: 2025-01-03 12:46:22 +0800
description: "理解这些方法的工作原理和它们之间的差异，记住，根据你的具体需求选择"
keywords: "python获取当前目录路径"
categories: ['未分类']
tags: ['前端', 'Python', 'Java']
artid: "139082197"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=139082197
  alt: "Python-探索Python中获取当前文件目录的完整路径"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=139082197
featuredImagePreview: https://bing.ee123.net/img/rand?artid=139082197
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【Python】 探索Python中获取当前文件目录的完整路径
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h4>
     <a id="_1">
     </a>
     基本原理
    </h4>
    <p>
     在Python中，获取当前文件目录的完整路径是一个常见的需求，尤其是在处理文件和目录时。Python提供了几种方法来获取当前文件的目录路径，这些方法依赖于标准库中的模块，如
     <code>
      os
     </code>
     和
     <code>
      sys
     </code>
     。
    </p>
    <h5>
     <a id="ospath_5">
     </a>
     <code>
      os.path
     </code>
     模块
    </h5>
    <p>
     <code>
      os.path
     </code>
     模块是Python中用于文件路径操作的模块。它提供了许多函数来处理文件路径，包括获取当前文件的目录路径。
    </p>
    <h5>
     <a id="__file___9">
     </a>
     <code>
      __file__
     </code>
     属性
    </h5>
    <p>
     每个Python文件都有一个内置的
     <code>
      __file__
     </code>
     属性，它包含了当前文件的路径。结合
     <code>
      os.path
     </code>
     模块，我们可以轻松地获取到当前文件的目录路径。
    </p>
    <h4>
     <a id="_13">
     </a>
     代码示例
    </h4>
    <p>
     以下是几个示例代码，展示如何使用Python获取当前文件的目录路径。
    </p>
    <h5>
     <a id="1ospath_17">
     </a>
     示例1：使用
     <code>
      os.path
     </code>
     模块
    </h5>
    <pre><code class="prism language-python"><span class="token keyword">import</span> os

<span class="token comment"># 获取当前文件的完整路径</span>
current_file_path <span class="token operator">=</span> **file**

<span class="token comment"># 获取当前文件的目录路径</span>
current_dir_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>dirname<span class="token punctuation">(</span>current_file_path<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"当前文件的目录路径是:"</span><span class="token punctuation">,</span> current_dir_path<span class="token punctuation">)</span>
</code></pre>
<h5>
<a id="2ospathabspath_31">
</a>
示例 2：使用
<code>
os.path.abspath
</code>
函数
</h5>
<p>
<code>
os.path.abspath
</code>
函数可以将相对路径转换为绝对路径。
</p>
<pre><code class="prism language-python"><span class="token keyword">import</span> os

<span class="token comment"># 获取当前文件的绝对路径</span>
current_file_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>abspath<span class="token punctuation">(</span>**file**<span class="token punctuation">)</span>

<span class="token comment"># 获取当前文件的目录路径</span>
current_dir_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>dirname<span class="token punctuation">(</span>current_file_path<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"当前文件的绝对目录路径是:"</span><span class="token punctuation">,</span> current_dir_path<span class="token punctuation">)</span>
</code></pre>
<h5>
<a id="3__file___47">
</a>
示例 3：使用
<code>
**file**
</code>
属性和字符串操作
</h5>
<p>
如果你不想使用
<code>
os.path
</code>
模块，也可以通过字符串操作来获取目录路径。
</p>
<pre><code class="prism language-python"><span class="token keyword">import</span> os

<span class="token comment"># 获取当前文件的完整路径</span>
current_file_path <span class="token operator">=</span> **file**

<span class="token comment"># 通过字符串操作获取目录路径</span>
current_dir_path <span class="token operator">=</span> current_file_path<span class="token punctuation">.</span>rsplit<span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"当前文件的目录路径是:"</span><span class="token punctuation">,</span> current_dir_path<span class="token punctuation">)</span>
</code></pre>
<h4>
<a id="_63">
</a>
注意事项
</h4>
<ul>
<li>
当使用
<code>
**file**
</code>
属性时，它可能包含文件名，因此需要使用
<code>
os.path.dirname
</code>
或其他方法来剥离文件名，只保留目录路径。
</li>
<li>
在使用
<code>
os.path.abspath
</code>
时，它会返回一个绝对路径，这在处理文件时非常有用，尤其是当你需要确保路径是正确的。
</li>
<li>
如果你的代码在打包成可执行文件或者在某些特殊的环境（如 Web 服务器）中运行，
<code>
**file**
</code>
属性可能不可用或不正确，这时需要考虑其他方法来获取路径。
</li>
</ul>
<h4>
<a id="_69">
</a>
结论
</h4>
<p>
在 Python 中，获取当前文件的目录路径是一个基础但非常重要的技能。通过使用
<code>
os.path
</code>
模块和
<code>
**file**
</code>
属性，我们可以轻松地实现这一功能。理解这些方法的工作原理和它们之间的差异，可以帮助我们更好地处理文件和目录相关的任务。记住，根据你的具体需求选择合适的方法，并注意在不同环境下可能遇到的特殊情况。
<br/>
<img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/fac246f9b0b6ab268f91485c448d2475.png">
<br/>
&gt;
<br/>
&gt; 【痕迹】QQ+微信朋友圈和聊天记录分析工具 1.0.4 （1）纯 Python 语言实现，使用 Flask 后端，本地分析，不上传个人数据。
<br/>
&gt;
<br/>
&gt; （2）内含 QQ、微信聊天记录保存到本地的方法，真正实现自己数据自己管理。
<br/>
&gt;
<br/>
&gt; （3）数据可视化分析 QQ、微信聊天记录，提取某一天的聊天记录与大模型对话。
<br/>
&gt;
<br/>
&gt;
<strong>
下载地址：https://www.alipan.com/s/x6fqXe1jVg1
</strong>
<br/>
&gt;
</img>
</p>

   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f67:2e6373646e2e6e65742f62616964755f32323731333334312f:61727469636c652f64657461696c732f313339303832313937" class_="artid" style="display:none">
 </p>
</div>
