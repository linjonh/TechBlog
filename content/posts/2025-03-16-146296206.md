---
layout: post
title: "java学习总结八Spring-boot"
date: 2025-03-16 21:00:00 +0800
description: "传统Spring开发缺点：1、导入依赖繁琐2、项目配置繁琐Spring Boot是全新框架(更像是一个工具，脚手架)，是Spring提供的一个子项目，用于快速构建Spring应用程序。随着Spring 3.0的发布，Spring 团队逐渐开始摆脱XML配置文件，并且在开发过程中大量使用“约定优先配置”（convention over configuration）的思想来摆脱Spring框架中各类繁复纷杂的配置。"
keywords: "java学习总结（八）：Spring boot"
categories: ['Ssm']
tags: ['学习', 'Spring', 'Java', 'Boot']
artid: "146296206"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146296206
    alt: "java学习总结八Spring-boot"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146296206
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146296206
cover: https://bing.ee123.net/img/rand?artid=146296206
image: https://bing.ee123.net/img/rand?artid=146296206
img: https://bing.ee123.net/img/rand?artid=146296206
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     java学习总结（八）：Spring boot
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2 id="AdHy-1742110678855" style="text-align:left">
     <strong>
      一、SpringBoot简介
     </strong>
    </h2>
    <div style="text-align:left">
     传统Spring开发缺点：
    </div>
    <div style="text-align:left">
     1、导入依赖繁琐
    </div>
    <div style="text-align:left">
     2、项目配置繁琐
    </div>
    <div style="text-align:left">
    </div>
    <div style="text-align:left">
     Spring Boot是全新框架(更像是一个工具，
     <span style="color:#f33232">
      脚手架
     </span>
     )，是Spring提供的一个子项目，
     <span style="color:#f33232">
      用于快速构建Spring应用程序。
     </span>
    </div>
    <div style="text-align:left">
     随着Spring 3.0的发布，Spring 团队逐渐开始摆脱XML配置文件，并且在开发过程中大量使用“约定优先配置”（convention over configuration）的思想来摆脱Spring框架中各类繁复纷杂的配置。
    </div>
    <div style="text-align:left">
    </div>
    <div style="text-align:left">
     SpringBoot的特性：
    </div>
    <div>
     <ol style="margin-left:0; margin-right:0">
      <li style="text-align:left">
       起步依赖 jar包的管理 starter
      </li>
      <li style="text-align:left">
       自动配置 SpringBoot做了很多默认的配置
      </li>
      <li style="text-align:left">
       内置tomcat
      </li>
     </ol>
    </div>
    <div style="text-align:left">
    </div>
    <h2 id="cvcG-1742110678881" style="text-align:left">
     <strong>
      二、创建SpringBoot项目
     </strong>
    </h2>
    <div style="text-align:left">
     <img alt="" height="863" src="https://i-blog.csdnimg.cn/direct/e63208e8598a4c878179efdc70fa4353.png" width="782">
     </img>
    </div>
    <div style="text-align:left">
    </div>
    <div style="text-align:left">
     <img alt="" height="817" src="https://i-blog.csdnimg.cn/direct/c5f16036d6644315acc864bd6c333197.png" width="363">
     </img>
    </div>
    <h4 id="MgBm-1742110678887" style="text-align:left">
     <strong>
      1、pom.xml
     </strong>
    </h4>
    <pre><code class="hljs">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;parent&gt;
       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
       &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
       &lt;version&gt;3.2.5&lt;/version&gt;
       &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
    &lt;/parent&gt;
    &lt;groupId&gt;com.situ&lt;/groupId&gt;
    &lt;artifactId&gt;springboot&lt;/artifactId&gt;
    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
    &lt;name&gt;springboot&lt;/name&gt;
    &lt;description&gt;springboot&lt;/description&gt;
    &lt;properties&gt;
       &lt;java.version&gt;17&lt;/java.version&gt;
    &lt;/properties&gt;
    &lt;dependencies&gt;
       &lt;!--Spring相关依赖--&gt;
       &lt;dependency&gt;
          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
          &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;
       &lt;/dependency&gt;
       &lt;!--SpringMVC相关依赖--&gt;
       &lt;dependency&gt;
          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
       &lt;/dependency&gt;
       &lt;!-- mysql驱动 --&gt;
       &lt;dependency&gt;
          &lt;groupId&gt;mysql&lt;/groupId&gt;
          &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
          &lt;version&gt;8.0.31&lt;/version&gt;
       &lt;/dependency&gt;
       &lt;!-- mybatis --&gt;
       &lt;dependency&gt;
          &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;
          &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;f
          &lt;version&gt;3.0.3&lt;/version&gt;
       &lt;/dependency&gt;
       &lt;!--thymeleaf相关依赖--&gt;
       &lt;dependency&gt;
          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
          &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
       &lt;/dependency&gt;
       &lt;!--lombok帮助我们生成实体类的构造方法、get、set、toString--&gt;
       &lt;dependency&gt;
          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
          &lt;artifactId&gt;lombok&lt;/artifactId&gt;
          &lt;version&gt;1.18.14&lt;/version&gt;
          &lt;scope&gt;provided&lt;/scope&gt;
       &lt;/dependency&gt;
       &lt;!-- 分页插件 --&gt;
       &lt;dependency&gt;
          &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;
          &lt;artifactId&gt;pagehelper-spring-boot-starter&lt;/artifactId&gt;
          &lt;version&gt;1.4.1&lt;/version&gt;
       &lt;/dependency&gt;

       &lt;dependency&gt;
          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
          &lt;scope&gt;test&lt;/scope&gt;
       &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;build&gt;
       &lt;plugins&gt;
          &lt;plugin&gt;
             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
             &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
          &lt;/plugin&gt;
       &lt;/plugins&gt;
    &lt;/build&gt;

&lt;/project&gt;
</code></pre>
    <h4 id="sKJz-1742110731246">
     2、SpringbootApplication启动类
    </h4>
    <pre><code class="hljs">//SpringBoot项目启动类
@SpringBootApplication
@MapperScan("com.situ.springboot.mapper")
public class SpringbootApplication {

    public static void main(String[] args) {
        SpringApplication.run(SpringbootApplication.class, args);
    }
}</code></pre>
    <pre><code class="hljs">@Controller
@RequestMapping("/admin")
public class AdminController {


    @RequestMapping("/selectAll")
    @ResponseBody
    public List&lt;Admin&gt; selectAll() {
        System.out.println("AdminController.selectAll");
        List&lt;Admin&gt; list = new ArrayList&lt;&gt;();
        Admin admin1 = new Admin();
        admin1.setId(1);
        admin1.setName("zhangsan");
        Admin admin2 = new Admin();
        admin2.setId(2);
        admin2.setName("list");
        Admin admin3 = new Admin();
        admin3.setId(3);
        admin3.setName("wangwu");
        list.add(admin1);
        list.add(admin2);
        list.add(admin3);
        return list;
    }
}</code></pre>
    <h4 id="kTUk-1742110773279">
     3、application.properties
    </h4>
    <pre><code class="hljs">server.port=8080

#DB Configuration
spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver
spring.datasource.url=jdbc:mysql://localhost:3306/blog?useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf8&amp;serverTimezone=GMT%2b8&amp;zeroDateTimeBehavior=CONVERT_TO_NULL
spring.datasource.username=root
spring.datasource.password=1234

spring.mvc.static-path-pattern=/static/**

#Spring MyBatis
mybatis.type-aliases-package=com.situ.springboot.pojo
mybatis.mapper-locations=classpath:mapper/*Mapper.xml
mybatis.configuration.map-underscore-to-camel-case=true
#log
mybatis.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl</code></pre>
    <h4 id="9hyO-1742110798450">
     4、AdminMapper.xml
    </h4>
    <pre><code class="hljs">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;

&lt;mapper namespace="com.situ.springboot.mapper.AdminMapper"&gt;
    &lt;select id="selectAll" resultType="Admin"&gt;
        SELECT id,name,password,nick_name,role,image FROM admin
    &lt;/select&gt;
&lt;/mapper&gt;</code></pre>
    <h2 id="fh6F-1742110821499">
     三、Thymeleaf
    </h2>
    <pre><code class="hljs">&lt;!--thymeleaf相关依赖--&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
    <p>
     application.properties:
    </p>
    <pre><code class="hljs">spring.mvc.static-path-pattern=/static/**</code></pre>
    <pre><code class="hljs">&lt;!DOCTYPE html&gt;
&lt;html lang="en" xmlns:th="http://www.thymeleaf.org/"&gt;
&lt;head&gt;
    &lt;title&gt;主页 &lt;/title&gt;
    &lt;link rel="stylesheet" type="text/css" th:href="@{/static/layui/css/layui.css}"/&gt;
    &lt;script th:src="@{/static/layui/layui.js}" type="text/javascript" charset="utf-8"&gt;&lt;/script&gt;
&lt;/head&gt;</code></pre>
    <pre><code class="hljs">@Controller
@RequestMapping("/page")
public class PageController {

    /**
     * /page/user/add     /page/login
     *
     * @return
     */
    @RequestMapping("/**")
    public String path(HttpServletRequest request) {
        String requestURI = request.getRequestURI();
        System.out.println("requestURI: " + requestURI);
        String[] paths = requestURI.split("/");
        //["","page","user","list"]
        //["","page","login"]
        if (paths.length == 4) {
            return paths[2] + "_" + paths[3];
        } else if (paths.length == 3) {
            return paths[2];
        } else {
            return "index";
        }
    }
}</code></pre>
    <h2 id="DUwa-1742110903774">
     四、登录拦截器
    </h2>
    <pre><code class="hljs">//拦截器的作用：浏览器访问服务器的请求，都要首先经过拦截器
public class LoginInterceptor implements HandlerInterceptor {

    @Override
    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {
        //
        
        //1.判断用户有没有登录
        //2.如果登录了，就放行，可以访问后台的资源
        //3.如果没有登录，跳转到登录界面
        HttpSession session = request.getSession();
        Admin admin = (Admin) session.getAttribute("admin");
        if (admin == null) {
            //没有登录，跳转到登录界面
            response.sendRedirect("/page/login");
            return false;
        }

        //已经登录，放行
        return true;
    }
}</code></pre>
    <p>
     拦截器配置
    </p>
    <p>
     WebMvcConfigurer提供了配置SpringMVC底层的所有组件入口
    </p>
    <pre><code class="hljs">// @Component    &lt;bean&gt;
// @Controller  @Service @Repository
// 这四个注解的作用是一样的，下面三个不一样主要是为了区分不同层

// @Configuration用于定义配置类，可以替换xml配置文件，
// 加了这个注解的类的内部包含一个或多个被@Bean注解的方法
@Configuration
public class WebConfig implements WebMvcConfigurer {

    /* &lt;bean name="admin" class="com.situ.springboot.pojo.Admin"/&gt;*/
    @Bean
    public Admin createAdmin() {
        return new Admin();
    }


    //配置虚拟路径
    @Override
    public void addResourceHandlers(ResourceHandlerRegistry registry) {
        registry.addResourceHandler("/pic/**")
                .addResourceLocations("file:/D:/mypic/");
        WebMvcConfigurer.super.addResourceHandlers(registry);
    }

    /*&lt;!-- 配置拦截器 --&gt;
   &lt;mvc:interceptors&gt;
      &lt;mvc:interceptor&gt;
         &lt;mvc:mapping path="/**"/&gt;
         &lt;mvc:exclude-mapping path=""/&gt;
         &lt;bean class="com.situ.mvc.interceptor.MyInterceptor1"&gt;&lt;/bean&gt;
      &lt;/mvc:interceptor&gt;
   &lt;/mvc:interceptors&gt;*/
    // 这个方法用来注册拦截器，我们写的拦截器需要在这里配置才能生效
    @Override
    public void addInterceptors(InterceptorRegistry registry) {
        //把登录的拦截器配置上才能起作用
        // addPathPatterns("/**") 拦截器拦截所有的请求，静态资源也拦截了，需要放行
        // excludePathPatterns 代表哪些请求不需要拦截
        registry.addInterceptor(new LoginInterceptor())
                .addPathPatterns("/**")
                .excludePathPatterns("/page/login", "/admin/login", "/admin/logout", "/static/**");
    }
}</code></pre>
    <p>
     <img alt="" height="559" src="https://i-blog.csdnimg.cn/direct/90435d798d2b4087a626619a4f9e94eb.png" width="1232"/>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f36333631383334342f:61727469636c652f64657461696c732f313436323936323036" class_="artid" style="display:none">
 </p>
</div>


