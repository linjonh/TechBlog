---
layout: post
title: "JavaWeb学习HTTP协议"
date: 2025-03-08 19:53:32 +0800
description: "介绍了http协议的工作原理、特点、发展历程、请求和响应报文、响应状态码"
keywords: "JavaWeb学习——HTTP协议"
categories: ['Javaweb']
tags: ['网络协议', '学习', 'Javaweb', 'Java', 'Http']
artid: "146121367"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146121367
    alt: "JavaWeb学习HTTP协议"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146121367
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146121367
cover: https://bing.ee123.net/img/rand?artid=146121367
image: https://bing.ee123.net/img/rand?artid=146121367
img: https://bing.ee123.net/img/rand?artid=146121367
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     JavaWeb学习——HTTP协议
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="HTTP__0">
     </a>
     HTTP 协议
    </h2>
    <h3>
     <a id="_HTTP__2">
     </a>
     什么是 HTTP 协议
    </h3>
    <p>
     HTTP（
     <strong>
      超文本传输协议
     </strong>
     ，HyperText Transfer Protocol）是用于在
     <strong>
      客户端
     </strong>
     （如浏览器）和
     <strong>
      服务器
     </strong>
     之间传输超文本（如网页、图片、视频等）的
     <strong>
      应用层协议
     </strong>
     。它是现代互联网数据通信的基础，支持从 Web 服务器传输超文本到本地浏览器的传送协议，几乎所有网页和应用都依赖 HTTP 进行交互。
    </p>
    <h3>
     <a id="HTTP__8">
     </a>
     HTTP 工作原理
    </h3>
    <p>
     HTTP 遵循请求-响应模型，客户端（通常是 Web 浏览器）发送一个 HTTP 请求到服务器，服务器处理该请求后返回一个 HTTP 响应给客户端。这个过程可以概括为以下几个步骤：
    </p>
    <ol>
     <li>
      <strong>
       建立连接
      </strong>
      ：客户端与服务器之间通过 TCP/IP 建立连接。在 HTTP/1.1之前，每个请求都需要重新建立连接；而 HTTP/1.1引入了持久连接，允许在一个 TCP 连接上传输多个请求和响应。
     </li>
     <li>
      <strong>
       发送请求消息
      </strong>
      ：客户端向服务器发送请求消息，这通常包括请求行（指定请求方法如 GET、POST 等，请求的 URL 以及 HTTP 版本）、请求头部（提供关于请求的元数据，例如浏览器类型、接受的内容类型等）以及可选的请求体（对于 POST 请求，它包含要发送的数据）。
     </li>
     <li>
      <strong>
       处理请求并发送响应消息
      </strong>
      ：服务器接收到请求后进行处理，并返回一个 HTTP 响应消息给客户端。响应消息包含状态行（显示 HTTP 版本、状态码及描述短语）、响应头部（提供关于响应的元数据，如内容类型、长度等）和响应体（所请求的内容，如HTML文档、图片等）。
     </li>
     <li>
      <strong>
       关闭或保持连接
      </strong>
      ：根据使用的 HTTP 版本和配置，连接可能会被立即关闭或保持打开以供后续请求使用。
     </li>
    </ol>
    <h3>
     <a id="HTTP__19">
     </a>
     HTTP 特点
    </h3>
    <ul>
     <li>
      <strong>
       无状态性
      </strong>
      ：HTTP 本身是无状态协议，即每个请求都是独立的，服务器不会保存客户端的状态信息。然而，通过使用 Cookies、Session 等技术可以在一定程度上实现有状态的交互。
     </li>
     <li>
      <strong>
       简单快速
      </strong>
      ：客户端向服务器请求服务时，只需提供请求方法和路径即可，因此 HTTP 协议简单且高效。
     </li>
     <li>
      <strong>
       灵活
      </strong>
      ：HTTP 允许传输任意类型的数据对象，通过 Content-Type 标记来指示数据的类型。
     </li>
     <li>
      <strong>
       安全性
      </strong>
      ：尽管 HTTP 本身并不安全，但可以通过 SSL/TLS 加密升级为 HTTPS，从而确保数据的安全传输。
     </li>
    </ul>
    <h3>
     <a id="HTTP__28">
     </a>
     HTTP 的发展历程
    </h3>
    <h4>
     <a id="HTTP09_30">
     </a>
     HTTP/0.9
    </h4>
    <p>
     蒂姆伯纳斯李是一位英国计算机科学家，也是万维网的发明者。他在1989年创建了单行 HTTP 协议，它只是返回一个网页，这个协议在1991年被命名为 HTTP/0.9。
    </p>
    <h4>
     <a id="HTTP10_36">
     </a>
     HTTP/1.0
    </h4>
    <p>
     1996年，HTTP/1.0 发布。该规范是显著扩大，并且支持三种请求方法：get，head 和 post。
    </p>
    <p>
     HTTP/1.0 相对于 HTTP/0.9 的改进如下：
    </p>
    <ul>
     <li>
      每个请求都附加了 HTTP 版本。
     </li>
     <li>
      在响应开始时发送状态代码。
     </li>
     <li>
      请求和响应都包含 HTTP 报文头。
     </li>
     <li>
      内容类型能够传输 HTTP 文件以外的文档。
     </li>
    </ul>
    <p>
     但是，HTTP/1.0 不是官方标准。
    </p>
    <h4>
     <a id="HTTP11_51">
     </a>
     HTTP/1.1
    </h4>
    <p>
     HTTP 的第一个标准化版本 HTTP/1.1 （RFC 2068）于1997年初发布，支持七种请求方法：options，get，head，post，put，delete 和 trace。
    </p>
    <p>
     HTTP/1.1 是 HTTP/1.0 的增强：
    </p>
    <ul>
     <li>
      虚拟主机允许从单个 IP 地址提供多个域。
     </li>
     <li>
      持久连接和流水线连接允许 Web 浏览器通过单个持久连接发送多个请求。
     </li>
     <li>
      缓存支持节省了宽带并使响应速度更快。
     </li>
    </ul>
    <p>
     HTTP/1.1 在接下来的15年左右非常稳定。
    </p>
    <p>
     在此期间，出现了 HTTPS（安全超文本传输协议）。它是使用 SSL/TLS 进行安全加密通信的 HTTP 的安全版本。
    </p>
    <h4>
     <a id="HTTP2_67">
     </a>
     HTTP/2
    </h4>
    <p>
     由 IETF 在2015年发布，HTTP/2 旨在提高 web 性能，减少延迟，增加安全性，使 web 应用更加快速、高效和可靠。
    </p>
    <ul>
     <li>
      多路复用：HTTP/2 允许同时发送多个请求和响应，而不是像 HTTP/1.1 一样只能一个一个地处理，这样可以减少延迟，提高效率，提高网络吞吐量。
     </li>
     <li>
      二进制传输：HTTP/2 使用二进制协议，与 HTTP/1.1 使用的文本协议不同，二进制协议可以更快地解析，更有效地传输数据，减少了传输过程中的开销和延迟。
     </li>
     <li>
      头部压缩：HTTP/2 使用 HPACK 算法对 HTTP 头部进行压缩，减少了头部传输的数据量，从而减少了网络延迟。
     </li>
     <li>
      服务器推送：HTTP/2 支持服务器推送，允许服务器在客户端请求之前推送资源，以提高性能。
     </li>
     <li>
      改进的安全性：HTTP/2 默认使用 TLS（Transport Layer Security）加密传输数据，提高了安全性。
     </li>
     <li>
      兼容 HTTP/1.1：HTTP/2 可以与 HTTP/1.1 共存，服务器可以同时支持 HTTP/1.1 和 HTTP/2，如果客户端不支持 HTTP/2，服务器可以回退到 HTTP/1.1。
     </li>
    </ul>
    <h4>
     <a id="HTTP3_80">
     </a>
     HTTP/3
    </h4>
    <p>
     于2021年5月27日发布，HTTP/3 是一种新的、快速、可靠以及安全的协议，适用于所有形式的设备。HTTP/3 没有使用 TCP，而是使用谷歌在2012年开发的新协议 QUIC。
    </p>
    <p>
     HTTP/3 是继 HTTP/1.1 和 HTTP/2 之后的第三次重大修订。
    </p>
    <p>
     HTTP/3 带来了革命性的变化，以提高 web 性能和安全性，设置 HTTP/3 网站需要服务器和浏览器支持。
    </p>
    <p>
     目前，谷歌云、Cloudflare 和 Fastly 支持 HTTP/3。Chrome、Firefox、Edge、Opera 和一些移动浏览器支持 HTTP/3。
    </p>
    <h3>
     <a id="_92">
     </a>
     请求和响应报文
    </h3>
    <h4>
     <a id="_94">
     </a>
     报文的格式
    </h4>
    <p>
     主体上分为报文首部和报文主体，中间空行隔开。
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/cec52f4ee7c94631bcc9e262681abb5e.png#pic_center"/>
    </p>
    <p>
     报文首部可以继续细分为“行”和“头”。
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/e983492aa02147c488143e994c6c949b.png#pic_center"/>
    </p>
    <h4>
     <a id="_108">
     </a>
     请求报文
    </h4>
    <p>
     客户端发送给服务端的报文。
    </p>
    <h5>
     <a id="_112">
     </a>
     请求报文格式
    </h5>
    <ul>
     <li>
      请求首行（
      <strong>
       请求行
      </strong>
      ）；GET/POST 资源路径?参数 HTTP/1.1
     </li>
     <li>
      请求头信息（
      <strong>
       请求头
      </strong>
      ）。
     </li>
     <li>
      空行。
     </li>
     <li>
      请求体；
      <strong>
       POST请求才有请求体
      </strong>
      。
     </li>
    </ul>
    <blockquote>
     <p>
      浏览器按住F12可以打开浏览器的开发者工具，点击网络就可以查看请求数据包
     </p>
    </blockquote>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/d5d059180b1140438d9c0b8148ada6ff.png#pic_center"/>
    </p>
    <h5>
     <a id="form__get__128">
     </a>
     form 表单发送 get 请求特点
    </h5>
    <ul>
     <li>
      由于请求参数在请求首行中已经携带了，所以没有请求体，也没有请求空行。
     </li>
     <li>
      请求参数拼接在 url 地址中，地址栏可见
      <code>
       url?key1=value1&amp;key2=value2
      </code>
      ，不安全。
     </li>
     <li>
      参数在地址栏中携带，有大小限制（一般限制为4k），只能携带纯文本。
     </li>
     <li>
      get 请求参数只能上传文本数据。
     </li>
     <li>
      没有请求体，所以封装和解析快，效率高，浏览器默认提交的请求都是 get 请求，例如：地址栏输入回车，超链接，表单默认的提交方式等。
     </li>
    </ul>
    <h5>
     <a id="_get__138">
     </a>
     查看 get 请求行、请求头、请求体
    </h5>
    <ul>
     <li>
      请求行组成部分：
      <ul>
       <li>
        请求方式 get
       </li>
       <li>
        访问服务器的资源路径?参数1=值1&amp;参数2=值2……
       </li>
       <li>
        协议/版本，例如：HTTP/1.1
       </li>
      </ul>
     </li>
    </ul>
    <pre><code>GET /05_web_tomcat/login_success.html?username=admin&amp;password=123456 HTTP/1.1
</code></pre>
    <ul>
     <li>
      <p>
       请求头：
      </p>
      <ul>
       <li>
        <code>
         Host
        </code>
        ：主机虚拟地址。
       </li>
       <li>
        <code>
         Connection
        </code>
        ：控制网络连接，值为
        <code>
         keep-alive
        </code>
        时为长连接。
       </li>
       <li>
        <code>
         Upgrade-Insecure-Requests
        </code>
        ：请求协议的自动升级（HTTP 的请求，如果服务器是 HTTPS 的，浏览器会自动将请求协议升级为 HTTPS）。
       </li>
       <li>
        <code>
         User-Agent
        </code>
        ：用户系统信息。
       </li>
       <li>
        <code>
         Accept
        </code>
        ：浏览器支持的文件类型。
       </li>
       <li>
        <code>
         Referer
        </code>
        ：当前页面的上一个页面的路径。
       </li>
       <li>
        <code>
         Accept-Encoding
        </code>
        ：浏览器支持的压缩格式。
       </li>
       <li>
        <code>
         Accept-Language
        </code>
        ：浏览器支持的语言。
       </li>
      </ul>
     </li>
     <li>
      <p>
       请求空行
      </p>
     </li>
     <li>
      <p>
       请求体
      </p>
      <ul>
       <li>
        get 请求数据不放在请求体里。
       </li>
      </ul>
     </li>
    </ul>
    <h5>
     <a id="form__post__165">
     </a>
     form 表单发送 post 请求特点
    </h5>
    <ul>
     <li>
      post 请求有请求体，而 get 请求没有请求体。
     </li>
     <li>
      post 请求数据在请求体中携带，请求体数据大小没有限制，可以用来上传所有内容（文件、文本等）。
     </li>
     <li>
      只能使用 post 请求上传文件。
     </li>
     <li>
      post 请求报文多路和请求体相关的配置（请求头）。
     </li>
     <li>
      地址栏参数不可见，相对安全。
     </li>
     <li>
      post 效率比 get 低。
     </li>
     <li>
      post 请求要求将 form 标签的 method 属性设置为 post。
     </li>
    </ul>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/7bcd27a43395437195b4597f034d649e.png#pic_center"/>
    </p>
    <h5>
     <a id="_post__180">
     </a>
     查看 post 请求行、请求头、请求体
    </h5>
    <ul>
     <li>
      <p>
       请求行组成部分：
      </p>
      <ul>
       <li>
        <p>
         请求方式 post
        </p>
       </li>
       <li>
        <p>
         访问服务器的资源路径
        </p>
       </li>
       <li>
        <p>
         协议/版本，例如：HTTP/1.1
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <pre><code>POST /05_web_tomcat/login_success.html HTTP/1.1
</code></pre>
    <ul>
     <li>
      请求头
     </li>
     <li>
      请求空行
     </li>
     <li>
      请求体
     </li>
    </ul>
    <pre><code>username=admin&amp;password=123456
</code></pre>
    <h4>
     <a id="_204">
     </a>
     响应报文
    </h4>
    <p>
     服务端返回给客户端的报文。
    </p>
    <h5>
     <a id="_210">
     </a>
     响应报文格式
    </h5>
    <ul>
     <li>
      响应首行（
      <strong>
       响应行
      </strong>
      ）：协议/版本 状态码 状态码描述。
     </li>
     <li>
      响应头信息（
      <strong>
       响应头
      </strong>
      ）。
     </li>
     <li>
      空行。
     </li>
     <li>
      响应体。
     </li>
    </ul>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/544d1e5f430e4e44a470d3212395e20d.png#pic_center"/>
    </p>
    <ul>
     <li>
      响应行组成部分
      <ul>
       <li>
        协议/版本 HTTP/1.1
       </li>
       <li>
        响应状态码
       </li>
       <li>
        状态描述 OK （缺省）
       </li>
      </ul>
     </li>
    </ul>
    <pre><code>HTTP/1.1 200 OK
</code></pre>
    <ul>
     <li>
      响应头
      <ul>
       <li>
        <code>
         Server
        </code>
        ：服务器的版本信息。
       </li>
       <li>
        <code>
         Accept-Ranges
        </code>
        ：客户端服务器是否允许范围请求，即客户端可以请求资源的某个部分而不是整个资源，值为
        <code>
         bytes
        </code>
        时，表示服务器支持按字节范围请求资源。
       </li>
       <li>
        <code>
         Content-Type
        </code>
        ：响应体数据的类型。
       </li>
       <li>
        <code>
         Content-Length
        </code>
        ：响应体内容的字节数。
       </li>
       <li>
        <code>
         Date
        </code>
        ：响应的时间。
       </li>
       <li>
        <code>
         Last-Mondified
        </code>
        ：提供文档最后修改的时间，可用于验证缓存的有效性。
       </li>
      </ul>
     </li>
     <li>
      响应体
     </li>
    </ul>
    <blockquote>
     <p>
      常见的响应状态码
     </p>
    </blockquote>
    <ul>
     <li>
      200：请求成功，浏览器会把响应体内容（通常为 html）显示在浏览器中。
     </li>
     <li>
      302：重定向，表示服务器要求浏览器重新再发一个请求，服务器会发送一个响应头 Location 指定新请求的 url 地址。
     </li>
     <li>
      304：使用了本地缓存。
     </li>
     <li>
      404：请求的资源没有找到，说明客户端错误的请求了不存在的资源。
     </li>
     <li>
      405：请求的方法不允许。
     </li>
     <li>
      500：请求资源找到了，但服务器内部出现了错误。
     </li>
    </ul>
    <h3>
     <a id="_251">
     </a>
     响应的状态码
    </h3>
    <p>
     HTTP 响应状态码是服务器对客户端请求的响应结果的一种标准化表示，它由三位数字组成，分为五类，每类都有一个共同的起始数字，具体如下：
    </p>
    <ol>
     <li>
      <strong>
       1xx（信息性状态码）
      </strong>
      ：指示请求已接收，继续处理。
      <ul>
       <li>
        <code>
         100 Continue
        </code>
        ：表明请求的初始部分已经被接收，客户端应继续发送剩余部分。
       </li>
       <li>
        <code>
         101 Switching Protocols
        </code>
        ：服务器根据客户端的请求切换协议。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       2xx（成功状态码）
      </strong>
      ：表示请求已被成功接收、理解和接受。
      <ul>
       <li>
        <code>
         200 OK
        </code>
        ：标准的成功响应，表明请求成功并且信息包含在响应中。
       </li>
       <li>
        <code>
         201 Created
        </code>
        ：请求成功且服务器创建了新的资源。
       </li>
       <li>
        <code>
         204 No Content
        </code>
        ：请求成功但响应报文中不包含实体的主体部分。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       3xx（重定向状态码）
      </strong>
      ：需要采取进一步操作以完成请求。
      <ul>
       <li>
        <code>
         301 Moved Permanently
        </code>
        ：请求的资源已被永久移动到新位置，并且未来对该资源的任何引用都应该使用本响应返回的URI。
       </li>
       <li>
        <code>
         302 Found
        </code>
        ：与301类似，但是它是临时性的重定向。
       </li>
       <li>
        <code>
         304 Not Modified
        </code>
        ：如果客户端执行了条件 GET 请求且该页面自上次访问以来未被修改，则服务器会返回此状态码。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       4xx（客户端错误状态码）
      </strong>
      ：请求包含语法错误或无法完成请求。
      <ul>
       <li>
        <code>
         400 Bad Request
        </code>
        ：服务器无法理解请求的格式，客户端应当修改请求后再试。
       </li>
       <li>
        <code>
         401 Unauthorized
        </code>
        ：当前请求需要用户验证。
       </li>
       <li>
        <code>
         403 Forbidden
        </code>
        ：服务器理解请求但拒绝执行。
       </li>
       <li>
        <code>
         404 Not Found
        </code>
        ：请求的资源在服务器上不存在。
       </li>
       <li>
        <code>
         405 Method Not Allowed
        </code>
        ：请求方法对指定资源不适用。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       5xx（服务器错误状态码）
      </strong>
      ：服务器遇到错误，无法完成有效请求。
      <ul>
       <li>
        <code>
         500 Internal Server Error
        </code>
        ：服务器遇到了未知情况，阻止了它完成请求。
       </li>
       <li>
        <code>
         501 Not Implemented
        </code>
        ：服务器不具备完成请求的功能。例如，服务器既不识别请求方法也不支持其对应的资源类型。
       </li>
       <li>
        <code>
         502 Bad Gateway
        </code>
        ：作为网关或代理工作的服务器尝试执行请求时，从上游服务器接收到无效响应。
       </li>
       <li>
        <code>
         503 Service Unavailable
        </code>
        ：由于临时维护或者过载，服务器当前无法处理请求。
       </li>
       <li>
        <code>
         504 Gateway Timeout
        </code>
        ：作为网关或代理工作的服务器未能及时从上游服务器获得响应。
       </li>
      </ul>
     </li>
    </ol>
    <p>
     每个状态码都提供了关于请求过程中的特定信息，帮助开发人员和系统管理员诊断问题并优化应用性能。理解这些状态码对于有效的 Web 开发至关重要。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34333938303534372f:61727469636c652f64657461696c732f313436313231333637" class_="artid" style="display:none">
 </p>
</div>


