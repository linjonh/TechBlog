---
layout: post
title: "Python游戏编程Pygame"
date: 2025-01-24 05:00:00 +0800
description: "+次，点赞382次，收藏1.6k次。安装Pygamepip install pygameC:\\Use"
keywords: "pygame"
categories: ['Python']
tags: ['Python']
artid: "82940350"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=82940350
    alt: "Python游戏编程Pygame"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=82940350
featuredImagePreview: https://bing.ee123.net/img/rand?artid=82940350
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Python游戏编程(Pygame)
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atelier-sulphurpool-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="Pygame_2">
     </a>
     安装Pygame
    </h3>
    <pre><code>pip install pygame
</code></pre>
    <pre><code>C:\Users&gt; pip install pygame                
Collecting pygame                   
  Downloading https://files.pythonhosted.org/packages/3e/f5/feabd88a2856ec86166a897b62bfad828bfe7a94a27cbd7ebf07fd
70399/pygame-1.9.4-cp37-cp37m-win_amd64.whl (4.2MB)
    100% |██████████████████████████| 4.2MB 6.6MB/s
Installing collected packages: pygam
Successfully installed pygame-1.9.4 
</code></pre>
    <h3>
     <a id="Pygame_18">
     </a>
     Pygame常用模块
    </h3>
    <table>
     <thead>
      <tr>
       <th align="left">
        模块名
       </th>
       <th align="left">
        功能
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="left">
        pygame.cdrom
       </td>
       <td align="left">
        访问光驱
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.cursors
       </td>
       <td align="left">
        加载光标
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.display
       </td>
       <td align="left">
        访问显示设备
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.draw
       </td>
       <td align="left">
        绘制形状、线和点
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.event
       </td>
       <td align="left">
        管理事件
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.font
       </td>
       <td align="left">
        使用字体
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.image
       </td>
       <td align="left">
        加载和存储图片
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.joystick
       </td>
       <td align="left">
        使用游戏手柄或者类似的东西
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.key
       </td>
       <td align="left">
        读取键盘按键
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.mixer
       </td>
       <td align="left">
        声音
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.mouse
       </td>
       <td align="left">
        鼠标
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.movie
       </td>
       <td align="left">
        播放视频
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.music
       </td>
       <td align="left">
        播放音频
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.overlay
       </td>
       <td align="left">
        访问高级视频叠加
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.rect
       </td>
       <td align="left">
        管理矩形区域
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.scrap
       </td>
       <td align="left">
        本地剪贴板访问
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.sndarray
       </td>
       <td align="left">
        操作声音数据
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.sprite
       </td>
       <td align="left">
        操作移动图像
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.surface
       </td>
       <td align="left">
        管理图像和屏幕
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.surfarray
       </td>
       <td align="left">
        管理点阵图像数据
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.time
       </td>
       <td align="left">
        管理时间和帧信息
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.transform
       </td>
       <td align="left">
        缩放和移动图像
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     简单示例：
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> pygame
<span class="token keyword">import</span> sys

pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 初始化pygame</span>
size <span class="token operator">=</span> width<span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">320</span><span class="token punctuation">,</span> <span class="token number">240</span>  <span class="token comment"># 设置窗口大小</span>
screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>size<span class="token punctuation">)</span>  <span class="token comment"># 显示窗口</span>

<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>  <span class="token comment"># 死循环确保窗口一直显示</span>
    <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 遍历所有事件</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>  <span class="token comment"># 如果单击关闭窗口，则退出</span>
            sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>

pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 退出pygame</span>
</code></pre>
    <p>
     执行结果：
     <br/>
     <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/2163d22d86c0eb19179b9d8dcd6e49cc.png"/>
    </p>
    <h3>
     <a id="_66">
     </a>
     制作一个跳跃的小球游戏
    </h3>
    <p>
     创建一个游戏窗口，然后在窗口内创建一个小球。以一定的速度移动小球，当小球碰到游戏窗口的边缘时，小球弹回，继续运动按照如下步骤实现该功能：
    </p>
    <h4>
     <a id="_70">
     </a>
     创建游戏窗口
    </h4>
    <p>
     <strong>
      1.
     </strong>
     创建一个游戏窗口，宽和高设置为640*480。代码如下：
    </p>
    <pre><code>import sys
import pygame
pygame.init()                       # 初始化pygame
size = width, height = 640, 480     # 设置窗口大小
screen = pygame.display.set_mode()  # 显示窗口
</code></pre>
    <p>
     上述代码中，首先导入pygame模块，然后调用init()方法初始化pygame模块，接下来，设置窗口的宽和高，最后使用
     <code>
      display
     </code>
     模块显示窗体。
    </p>
    <p>
     <strong>
      display模块的常用方法
     </strong>
    </p>
    <table>
     <thead>
      <tr>
       <th align="left">
        方法名
       </th>
       <th align="left">
        功能
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="left">
        pygame.display.init()
       </td>
       <td align="left">
        初始化display模块
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.display.quit()
       </td>
       <td align="left">
        结束display模块
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.display.get_init()
       </td>
       <td align="left">
        如果display模块已经被初始化，则返回True
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.display.set_mode()
       </td>
       <td align="left">
        初始化一个准备显示的界面
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.display.get_surface()
       </td>
       <td align="left">
        获取当前的Surface对象
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.display.flip()
       </td>
       <td align="left">
        更新整个待显示的Surface对象到屏幕上
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.display.update()
       </td>
       <td align="left">
        更新部分内容显示到屏幕上，如果没有参数，则与flip功能相同(上一条)
       </td>
      </tr>
     </tbody>
    </table>
    <h4>
     <a id="_95">
     </a>
     保持窗口显示
    </h4>
    <p>
     <strong>
      2.
     </strong>
     运行第一步的代码后会出现一个一闪而过的黑色窗口，这是因为程序执行完成后，会自动关闭。如果想要让窗口一直显示，需要使用
     <code>
      while True
     </code>
     让程序一直执行，此外，还需要设置关闭按钮。具体代码如下：
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> pygame
<span class="token keyword">import</span> sys

pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 初始化pygame</span>
size <span class="token operator">=</span> width<span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">320</span><span class="token punctuation">,</span> <span class="token number">240</span>  <span class="token comment"># 设置窗口大小</span>
screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>size<span class="token punctuation">)</span>  <span class="token comment"># 显示窗口</span>

<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>  <span class="token comment"># 死循环确保窗口一直显示</span>
    <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 遍历所有事件</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>  <span class="token comment"># 如果单击关闭窗口，则退出</span>
            sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>

pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 退出pygame</span>
</code></pre>
    <p>
     上述代码中添加了轮询事件检测。
     <code>
      pygame.event.get()
     </code>
     能够获取事件队列，使用
     <code>
      for...in
     </code>
     遍历事件，然后根据
     <code>
      type
     </code>
     属性判断事件类型。这里的事件处理方式与GUI类似，如
     <code>
      event.type
     </code>
     等于
     <code>
      pygame.QUIT
     </code>
     表示检测到关闭pygame窗口事件，
     <code>
      pygame.KEYDOWN
     </code>
     表示键盘按下事件，
     <code>
      pygame.MOUSEBUTTONDOWN
     </code>
     表示鼠标按下事件等。
    </p>
    <h4>
     <a id="_117">
     </a>
     加载游戏图片
    </h4>
    <p>
     <strong>
      <a href="https://pan.baidu.com/s/1nsj3oaR1MFNmQKxyEWqYmQ" rel="nofollow">
       开发过程中使用的图片
      </a>
     </strong>
    </p>
    <p>
     <strong>
      3.
     </strong>
     在窗口添加小球。我们先准备好一张
     <code>
      ball.png
     </code>
     <br/>
     图片，然后加载该图片，最后将图片显示在窗口中，具体代码如下：
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> pygame
<span class="token keyword">import</span> sys

pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 初始化pygame</span>
size <span class="token operator">=</span> width<span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">480</span>  <span class="token comment"># 设置窗口大小</span>
screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>size<span class="token punctuation">)</span>  <span class="token comment"># 显示窗口</span>
color <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment"># 设置颜色</span>
ball <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'ball.png'</span><span class="token punctuation">)</span>  <span class="token comment"># 加载图片</span>
ballrect <span class="token operator">=</span> ball<span class="token punctuation">.</span>get_rect<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 获取矩形区域</span>

<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>  <span class="token comment"># 死循环确保窗口一直显示</span>
    <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 遍历所有事件</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>  <span class="token comment"># 如果单击关闭窗口，则退出</span>
            sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
    screen<span class="token punctuation">.</span>fill<span class="token punctuation">(</span>color<span class="token punctuation">)</span>  <span class="token comment"># 填充颜色(设置为0，执不执行这行代码都一样)</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>ball<span class="token punctuation">,</span> ballrect<span class="token punctuation">)</span>  <span class="token comment"># 将图片画到窗口上</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 更新全部显示</span>

pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 退出pygame</span>
</code></pre>
    <p>
     上述代码中使用
     <code>
      iamge
     </code>
     模块的
     <code>
      load()
     </code>
     方法加载图片，返回值ball是一个
     <code>
      Surface
     </code>
     对象。
     <code>
      Surface
     </code>
     是用来代表图片的pygame对象，可以对一个
     <code>
      Surface
     </code>
     对象进行涂画、变形、复制等各种操作。事实上，屏幕也只是一个
     <code>
      Surface
     </code>
     ，
     <code>
      pygame.display.set_mode()
     </code>
     就返回了一个屏幕
     <code>
      Surface
     </code>
     对象。如果将ball这个
     <code>
      Surface
     </code>
     对象画到screen Surface 对象，需要使用
     <code>
      blit()
     </code>
     方法，最后使用display模块的flip()方法更新整个待显示的
     <code>
      Surface
     </code>
     对象到屏幕上。
    </p>
    <p>
     <strong>
      Surface对象的常用方法
     </strong>
    </p>
    <table>
     <thead>
      <tr>
       <th align="left">
        方法名
       </th>
       <th align="left">
        功能
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="left">
        pygame.Surface.blit()
       </td>
       <td align="left">
        将一个图像画到另一个图像上
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.Surface.convert()
       </td>
       <td align="left">
        转换图像的像素格式
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.Surface.convert_alpha()
       </td>
       <td align="left">
        转化图像的像素格式，包含alpha通道的转换
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.Surface.fill()
       </td>
       <td align="left">
        使用颜色填充Surface
       </td>
      </tr>
      <tr>
       <td align="left">
        pygame.Surface.get_rect()
       </td>
       <td align="left">
        获取Surface的矩形区域
       </td>
      </tr>
     </tbody>
    </table>
    <h4>
     <a id="_158">
     </a>
     移动图片
    </h4>
    <p>
     <strong>
      4.
     </strong>
     下面让小球动起来，
     <code>
      ball.get_rect()
     </code>
     方法返回值
     <code>
      ballrect
     </code>
     是一个
     <code>
      Rect
     </code>
     对象，该对象有一个
     <code>
      move()
     </code>
     方法可以用于移动矩形。
     <code>
      move(x, y)
     </code>
     函数有两个参数，第一个参数是 X 轴移动的距离，第二个参数是 Y 轴移动的距离。窗口的左上角是(0, 0)，如果是move(100, 50)就是左移100下移50。
    </p>
    <p>
     为实现小球不停移动，将move()函数添加到while循环内，具体代码如下：
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> pygame
<span class="token keyword">import</span> sys

pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 初始化pygame</span>
size <span class="token operator">=</span> width<span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">480</span>  <span class="token comment"># 设置窗口大小</span>
screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>size<span class="token punctuation">)</span>  <span class="token comment"># 显示窗口</span>
color <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment"># 设置颜色</span>
ball <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'ball.png'</span><span class="token punctuation">)</span>  <span class="token comment"># 加载图片</span>
ballrect <span class="token operator">=</span> ball<span class="token punctuation">.</span>get_rect<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 获取矩形区域</span>

speed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>  <span class="token comment"># 设置移动的X轴、Y轴</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>  <span class="token comment"># 死循环确保窗口一直显示</span>
    <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 遍历所有事件</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>  <span class="token comment"># 如果单击关闭窗口，则退出</span>
            sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
    ballrect <span class="token operator">=</span> ballrect<span class="token punctuation">.</span>move<span class="token punctuation">(</span>speed<span class="token punctuation">)</span>  <span class="token comment"># 移动小球</span>
    screen<span class="token punctuation">.</span>fill<span class="token punctuation">(</span>color<span class="token punctuation">)</span>  <span class="token comment"># 填充颜色(设置为0，执不执行这行代码都一样)</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>ball<span class="token punctuation">,</span> ballrect<span class="token punctuation">)</span>  <span class="token comment"># 将图片画到窗口上</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 更新全部显示</span>

pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 退出pygame</span>
</code></pre>
    <h4>
     <a id="_188">
     </a>
     碰撞检测
    </h4>
    <p>
     <strong>
      5.
     </strong>
     运行上述代码，发现小球在屏幕中一闪而过，此时，小球并没有真正消失，而是移动到窗体之外，此时需要添加碰撞检测的功能。当小球与窗体任一边缘发生碰撞，则更改小球的移动方向，具体代码如下：
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> pygame
<span class="token keyword">import</span> sys

pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 初始化pygame</span>
size <span class="token operator">=</span> width<span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">480</span>  <span class="token comment"># 设置窗口大小</span>
screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>size<span class="token punctuation">)</span>  <span class="token comment"># 显示窗口</span>
color <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment"># 设置颜色</span>
ball <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'ball.png'</span><span class="token punctuation">)</span>  <span class="token comment"># 加载图片</span>
ballrect <span class="token operator">=</span> ball<span class="token punctuation">.</span>get_rect<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 获取矩形区域</span>
speed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>  <span class="token comment"># 设置移动的X轴、Y轴</span>

<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>  <span class="token comment"># 死循环确保窗口一直显示</span>
    <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 遍历所有事件</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>  <span class="token comment"># 如果单击关闭窗口，则退出</span>
            sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
            
    ballrect <span class="token operator">=</span> ballrect<span class="token punctuation">.</span>move<span class="token punctuation">(</span>speed<span class="token punctuation">)</span>  <span class="token comment"># 移动小球</span>
    <span class="token comment"># 碰到左右边缘</span>
    <span class="token keyword">if</span> ballrect<span class="token punctuation">.</span>left <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">or</span> ballrect<span class="token punctuation">.</span>right <span class="token operator">&gt;</span> width<span class="token punctuation">:</span>
        speed<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>speed<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token comment"># 碰到上下边缘</span>
    <span class="token keyword">if</span> ballrect<span class="token punctuation">.</span>top <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">or</span> ballrect<span class="token punctuation">.</span>bottom <span class="token operator">&gt;</span> height<span class="token punctuation">:</span>
        speed<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>speed<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>

    screen<span class="token punctuation">.</span>fill<span class="token punctuation">(</span>color<span class="token punctuation">)</span>  <span class="token comment"># 填充颜色(设置为0，执不执行这行代码都一样)</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>ball<span class="token punctuation">,</span> ballrect<span class="token punctuation">)</span>  <span class="token comment"># 将图片画到窗口上</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 更新全部显示</span>

pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 退出pygame</span>
</code></pre>
    <p>
     上述代码中，添加了碰撞检测功能。如果碰到左右边缘，更改X轴数据为负数，如果碰到上下边缘，更改Y轴数据为负数。
    </p>
    <h4>
     <a id="_225">
     </a>
     限制移动速度
    </h4>
    <p>
     <strong>
      6.
     </strong>
     运行上述代码看似有很多球，这是因为运行上述代码的时间非常短，运行快的错觉，使用pygame的time模块，使用pygame时钟之前，必须先创建Clock对象的一个实例，然后在while循环中设置多长时间运行一次。
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> pygame
<span class="token keyword">import</span> sys

pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 初始化pygame</span>
size <span class="token operator">=</span> width<span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">480</span>  <span class="token comment"># 设置窗口大小</span>
screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>size<span class="token punctuation">)</span>  <span class="token comment"># 显示窗口</span>
color <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment"># 设置颜色</span>
ball <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'ball.png'</span><span class="token punctuation">)</span>  <span class="token comment"># 加载图片</span>
ballrect <span class="token operator">=</span> ball<span class="token punctuation">.</span>get_rect<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 获取矩形区域</span>
speed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>  <span class="token comment"># 设置移动的X轴、Y轴</span>
clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 设置时钟</span>

<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>  <span class="token comment"># 死循环确保窗口一直显示</span>
    clock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>  <span class="token comment"># 每秒执行60次</span>
    <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 遍历所有事件</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>  <span class="token comment"># 如果单击关闭窗口，则退出</span>
            sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>

    ballrect <span class="token operator">=</span> ballrect<span class="token punctuation">.</span>move<span class="token punctuation">(</span>speed<span class="token punctuation">)</span>  <span class="token comment"># 移动小球</span>
    <span class="token comment"># 碰到左右边缘</span>
    <span class="token keyword">if</span> ballrect<span class="token punctuation">.</span>left <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">or</span> ballrect<span class="token punctuation">.</span>right <span class="token operator">&gt;</span> width<span class="token punctuation">:</span>
        speed<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>speed<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token comment"># 碰到上下边缘</span>
    <span class="token keyword">if</span> ballrect<span class="token punctuation">.</span>top <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">or</span> ballrect<span class="token punctuation">.</span>bottom <span class="token operator">&gt;</span> height<span class="token punctuation">:</span>
        speed<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>speed<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>

    screen<span class="token punctuation">.</span>fill<span class="token punctuation">(</span>color<span class="token punctuation">)</span>  <span class="token comment"># 填充颜色(设置为0，执不执行这行代码都一样)</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>ball<span class="token punctuation">,</span> ballrect<span class="token punctuation">)</span>  <span class="token comment"># 将图片画到窗口上</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 更新全部显示</span>

pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 退出pygame</span>
</code></pre>
    <h3>
     <a id="Flappy_Bird_263">
     </a>
     开发Flappy Bird游戏
    </h3>
    <p>
     Flappy Bird是一款鸟类飞行游戏，一根手指操控按下小鸟上飞。
    </p>
    <p>
     <strong>
      分析
     </strong>
     <br/>
     在Flappy Bird游戏中，主要有两个对象：小鸟、管道。可以创建Brid类和Pineline类来分别表示这两个对象。小鸟可以通过上下移动来躲避管道，所以在Brid类中创建一个bridUpdate()方法，实现小鸟的上下移动，为了体现小鸟向前飞行的特征，可以让管道一直向左侧移动，这样在窗口中就好像小鸟在向前飞行。所以在Pineline类中也创建一个updatePipeline()方法，实现管道的向左侧移动。此外还创建了3个函数：createMap()函数用于绘制地图；checkDead()函数用于判断小鸟的生命状态；getResult()函数用于获取最终分数。最后在主逻辑中实例化并调用相关方法，实现相应的功能。
    </p>
    <h4>
     <a id="_269">
     </a>
     搭建主框架
    </h4>
    <pre><code class="prism language-python"><span class="token comment"># -*- coding:utf-8 -*-</span>
<span class="token keyword">import</span> sys  <span class="token comment"># 导入sys模块</span>
<span class="token keyword">import</span> pygame  <span class="token comment"># 导入pygame模块</span>
<span class="token keyword">import</span> random


<span class="token keyword">class</span> <span class="token class-name">Bird</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""定义一个鸟类"""</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""定义初始化方法"""</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">birdUpdate</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>


<span class="token keyword">class</span> <span class="token class-name">Pipeline</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""定义一个管道类"""</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""定义初始化方法"""</span>

    <span class="token keyword">def</span> <span class="token function">updatePipeline</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""水平移动"""</span>


<span class="token keyword">def</span> <span class="token function">createMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""定义创建地图的方法"""</span>
    screen<span class="token punctuation">.</span>fill<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 填充颜色(screen还没定义不要着急)</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>background<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 填入到背景</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 更新显示</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>                           <span class="token comment"># 初始化pygame</span>
    size <span class="token operator">=</span> width<span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">650</span>         <span class="token comment"># 设置窗口大小</span>
    screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>size<span class="token punctuation">)</span>  <span class="token comment"># 显示窗口</span>
    clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>             <span class="token comment"># 设置时钟</span>
    Pipeline <span class="token operator">=</span> Pipeline<span class="token punctuation">(</span><span class="token punctuation">)</span>                   <span class="token comment"># 实例化管道类</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        clock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>                      <span class="token comment"># 每秒执行60次</span>
        <span class="token comment"># 轮询事件</span>
        <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>   <span class="token comment"># 如果检测到事件是关闭窗口</span>
                sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>

        background <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"assets/background.png"</span><span class="token punctuation">)</span>  <span class="token comment"># 加载背景图片</span>
        createMap<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 退出</span>
</code></pre>
    <p>
     执行结果：
     <br/>
     <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/2f32e6230647be2e95199af74b9814f4.png"/>
    </p>
    <p>
     <strong>
      <a href="https://pan.baidu.com/s/1nsj3oaR1MFNmQKxyEWqYmQ" rel="nofollow">
       开发过程中使用的图片
      </a>
     </strong>
    </p>
    <p>
     <strong>
      创建小鸟类、创建管道类、计算得分、碰撞检测
     </strong>
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> pygame
<span class="token keyword">import</span> sys
<span class="token keyword">import</span> random


<span class="token keyword">class</span> <span class="token class-name">Bird</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""定义一个鸟类"""</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""定义初始化方法"""</span>
        self<span class="token punctuation">.</span>birdRect <span class="token operator">=</span> pygame<span class="token punctuation">.</span>Rect<span class="token punctuation">(</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>  <span class="token comment"># 鸟的矩形</span>
        <span class="token comment"># 定义鸟的3种状态列表</span>
        self<span class="token punctuation">.</span>birdStatus <span class="token operator">=</span> <span class="token punctuation">[</span>pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"assets/1.png"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                           pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"assets/2.png"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                           pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"assets/dead.png"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">0</span>      <span class="token comment"># 默认飞行状态</span>
        self<span class="token punctuation">.</span>birdX <span class="token operator">=</span> <span class="token number">120</span>     <span class="token comment"># 鸟所在X轴坐标,即是向右飞行的速度</span>
        self<span class="token punctuation">.</span>birdY <span class="token operator">=</span> <span class="token number">350</span>     <span class="token comment"># 鸟所在Y轴坐标,即上下飞行高度</span>
        self<span class="token punctuation">.</span>jump <span class="token operator">=</span> <span class="token boolean">False</span>    <span class="token comment"># 默认情况小鸟自动降落</span>
        self<span class="token punctuation">.</span>jumpSpeed <span class="token operator">=</span> <span class="token number">10</span>  <span class="token comment"># 跳跃高度</span>
        self<span class="token punctuation">.</span>gravity <span class="token operator">=</span> <span class="token number">5</span>     <span class="token comment"># 重力</span>
        self<span class="token punctuation">.</span>dead <span class="token operator">=</span> <span class="token boolean">False</span>    <span class="token comment"># 默认小鸟生命状态为活着</span>

    <span class="token keyword">def</span> <span class="token function">birdUpdate</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>jump<span class="token punctuation">:</span>
            <span class="token comment"># 小鸟跳跃</span>
            self<span class="token punctuation">.</span>jumpSpeed <span class="token operator">-=</span> <span class="token number">1</span>           <span class="token comment"># 速度递减，上升越来越慢</span>
            self<span class="token punctuation">.</span>birdY <span class="token operator">-=</span> self<span class="token punctuation">.</span>jumpSpeed  <span class="token comment"># 鸟Y轴坐标减小，小鸟上升</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token comment"># 小鸟坠落</span>
            self<span class="token punctuation">.</span>gravity <span class="token operator">+=</span> <span class="token number">0.2</span>           <span class="token comment"># 重力递增，下降越来越快</span>
            self<span class="token punctuation">.</span>birdY <span class="token operator">+=</span> self<span class="token punctuation">.</span>gravity    <span class="token comment"># 鸟Y轴坐标增加，小鸟下降</span>
        self<span class="token punctuation">.</span>birdRect<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>birdY     <span class="token comment"># 更改Y轴位置</span>


<span class="token keyword">class</span> <span class="token class-name">Pipeline</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""定义一个管道类"""</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""定义初始化方法"""</span>
        self<span class="token punctuation">.</span>wallx <span class="token operator">=</span> <span class="token number">400</span>  <span class="token comment"># 管道所在X轴坐标</span>
        self<span class="token punctuation">.</span>pineUp <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"assets/top.png"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>pineDown <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"assets/bottom.png"</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">updatePipeline</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">""""管道移动方法"""</span>
        self<span class="token punctuation">.</span>wallx <span class="token operator">-=</span> <span class="token number">5</span>  <span class="token comment"># 管道X轴坐标递减，即管道向左移动</span>
        <span class="token comment"># 当管道运行到一定位置，即小鸟飞越管道，分数加1，并且重置管道</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>wallx <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">80</span><span class="token punctuation">:</span>
            <span class="token keyword">global</span> score
            score <span class="token operator">+=</span> <span class="token number">1</span>
            self<span class="token punctuation">.</span>wallx <span class="token operator">=</span> <span class="token number">400</span>


<span class="token keyword">def</span> <span class="token function">createMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""定义创建地图的方法"""</span>
    screen<span class="token punctuation">.</span>fill<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment"># 填充颜色</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>background<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 填入到背景</span>

    <span class="token comment"># 显示管道</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>Pipeline<span class="token punctuation">.</span>pineUp<span class="token punctuation">,</span> <span class="token punctuation">(</span>Pipeline<span class="token punctuation">.</span>wallx<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment"># 上管道坐标位置</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>Pipeline<span class="token punctuation">.</span>pineDown<span class="token punctuation">,</span> <span class="token punctuation">(</span>Pipeline<span class="token punctuation">.</span>wallx<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 下管道坐标位置</span>
    Pipeline<span class="token punctuation">.</span>updatePipeline<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 管道移动</span>

    <span class="token comment"># 显示小鸟</span>
    <span class="token keyword">if</span> Bird<span class="token punctuation">.</span>dead<span class="token punctuation">:</span>              <span class="token comment"># 撞管道状态</span>
        Bird<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">2</span>
    <span class="token keyword">elif</span> Bird<span class="token punctuation">.</span>jump<span class="token punctuation">:</span>            <span class="token comment"># 起飞状态</span>
        Bird<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">1</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>Bird<span class="token punctuation">.</span>birdStatus<span class="token punctuation">[</span>Bird<span class="token punctuation">.</span>status<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>Bird<span class="token punctuation">.</span>birdX<span class="token punctuation">,</span> Bird<span class="token punctuation">.</span>birdY<span class="token punctuation">)</span><span class="token punctuation">)</span>              <span class="token comment"># 设置小鸟的坐标</span>
    Bird<span class="token punctuation">.</span>birdUpdate<span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token comment"># 鸟移动</span>

    <span class="token comment"># 显示分数</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>font<span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token string">'Score:'</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 设置颜色及坐标位置</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># 更新显示</span>


<span class="token keyword">def</span> <span class="token function">checkDead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 上方管子的矩形位置</span>
    upRect <span class="token operator">=</span> pygame<span class="token punctuation">.</span>Rect<span class="token punctuation">(</span>Pipeline<span class="token punctuation">.</span>wallx<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">300</span><span class="token punctuation">,</span>
                         Pipeline<span class="token punctuation">.</span>pineUp<span class="token punctuation">.</span>get_width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">10</span><span class="token punctuation">,</span>
                         Pipeline<span class="token punctuation">.</span>pineUp<span class="token punctuation">.</span>get_height<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># 下方管子的矩形位置</span>
    downRect <span class="token operator">=</span> pygame<span class="token punctuation">.</span>Rect<span class="token punctuation">(</span>Pipeline<span class="token punctuation">.</span>wallx<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span>
                           Pipeline<span class="token punctuation">.</span>pineDown<span class="token punctuation">.</span>get_width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">10</span><span class="token punctuation">,</span>
                           Pipeline<span class="token punctuation">.</span>pineDown<span class="token punctuation">.</span>get_height<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># 检测小鸟与上下方管子是否碰撞</span>
    <span class="token keyword">if</span> upRect<span class="token punctuation">.</span>colliderect<span class="token punctuation">(</span>Bird<span class="token punctuation">.</span>birdRect<span class="token punctuation">)</span> <span class="token operator">or</span> downRect<span class="token punctuation">.</span>colliderect<span class="token punctuation">(</span>Bird<span class="token punctuation">.</span>birdRect<span class="token punctuation">)</span><span class="token punctuation">:</span>
        Bird<span class="token punctuation">.</span>dead <span class="token operator">=</span> <span class="token boolean">True</span>
    <span class="token comment"># 检测小鸟是否飞出上下边界</span>
    <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token number">0</span> <span class="token operator">&lt;</span> Bird<span class="token punctuation">.</span>birdRect<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> height<span class="token punctuation">:</span>
        Bird<span class="token punctuation">.</span>dead <span class="token operator">=</span> <span class="token boolean">True</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>


<span class="token keyword">def</span> <span class="token function">getResutl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    final_text1 <span class="token operator">=</span> <span class="token string">"Game Over"</span>
    final_text2 <span class="token operator">=</span> <span class="token string">"Your final score is:  "</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span>
    ft1_font <span class="token operator">=</span> pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span>SysFont<span class="token punctuation">(</span><span class="token string">"Arial"</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span>                                      <span class="token comment"># 设置第一行文字字体</span>
    ft1_surf <span class="token operator">=</span> font<span class="token punctuation">.</span>render<span class="token punctuation">(</span>final_text1<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">242</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                             <span class="token comment"># 设置第一行文字颜色</span>
    ft2_font <span class="token operator">=</span> pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span>SysFont<span class="token punctuation">(</span><span class="token string">"Arial"</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>                                      <span class="token comment"># 设置第二行文字字体</span>
    ft2_surf <span class="token operator">=</span> font<span class="token punctuation">.</span>render<span class="token punctuation">(</span>final_text2<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">253</span><span class="token punctuation">,</span> <span class="token number">177</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                            <span class="token comment"># 设置第二行文字颜色</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>ft1_surf<span class="token punctuation">,</span> <span class="token punctuation">[</span>screen<span class="token punctuation">.</span>get_width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> ft1_surf<span class="token punctuation">.</span>get_width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 设置第一行文字显示位置</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>ft2_surf<span class="token punctuation">,</span> <span class="token punctuation">[</span>screen<span class="token punctuation">.</span>get_width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> ft2_surf<span class="token punctuation">.</span>get_width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 设置第二行文字显示位置</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>                                                            <span class="token comment"># 更新整个待显示的Surface对象到屏幕上</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""主程序"""</span>
    pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>                            <span class="token comment"># 初始化pygame</span>
    pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>                       <span class="token comment"># 初始化字体</span>
    font <span class="token operator">=</span> pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span>SysFont<span class="token punctuation">(</span><span class="token string">"Arial"</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>  <span class="token comment"># 设置字体和大小</span>
    size <span class="token operator">=</span> width<span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">650</span>          <span class="token comment"># 设置窗口</span>
    screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>size<span class="token punctuation">)</span>   <span class="token comment"># 显示窗口</span>
    clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>              <span class="token comment"># 设置时钟</span>
    Pipeline <span class="token operator">=</span> Pipeline<span class="token punctuation">(</span><span class="token punctuation">)</span>                    <span class="token comment"># 实例化管道类</span>
    Bird <span class="token operator">=</span> Bird<span class="token punctuation">(</span><span class="token punctuation">)</span>                            <span class="token comment"># 实例化鸟类</span>
    score <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        clock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>                       <span class="token comment"># 每秒执行60次</span>
        <span class="token comment"># 轮询事件</span>
        <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
                sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>KEYDOWN <span class="token operator">or</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>MOUSEBUTTONDOWN<span class="token punctuation">)</span> <span class="token operator">and</span> <span class="token operator">not</span> Bird<span class="token punctuation">.</span>dead<span class="token punctuation">:</span>
                Bird<span class="token punctuation">.</span>jump <span class="token operator">=</span> <span class="token boolean">True</span>             <span class="token comment"># 跳跃</span>
                Bird<span class="token punctuation">.</span>gravity <span class="token operator">=</span> <span class="token number">5</span>             <span class="token comment"># 重力</span>
                Bird<span class="token punctuation">.</span>jumpSpeed <span class="token operator">=</span> <span class="token number">10</span>          <span class="token comment"># 跳跃速度</span>

        background <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"assets/background.png"</span><span class="token punctuation">)</span>  <span class="token comment"># 加载背景图片</span>
        <span class="token keyword">if</span> checkDead<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                      <span class="token comment"># 检测小鸟生命状态</span>
            getResutl<span class="token punctuation">(</span><span class="token punctuation">)</span>                      <span class="token comment"># 如果小鸟死亡，显示游戏总分数</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            createMap<span class="token punctuation">(</span><span class="token punctuation">)</span>                      <span class="token comment"># 创建地图</span>
    pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre>
    <p>
     执行结果：
    </p>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/820b551dcffae02788d4c1467003332e.png"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f7a686136343736303033:2f61727469636c652f64657461696c732f3832393430333530" class_="artid" style="display:none">
 </p>
</div>


