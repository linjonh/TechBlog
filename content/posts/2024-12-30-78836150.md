---
layout: post
title: "JSON解析-python实现"
date: 2024-12-30 17:15:41 +0800
description: "本文从以下几个方面进行讨论： 1. JSON的基本概念 2. python解析JSON 3. 参考_"
keywords: "python json 二维数组大小"
categories: ['Java']
tags: ['Python', 'Json']
artid: "78836150"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=78836150
    alt: "JSON解析-python实现"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=78836150
featuredImagePreview: https://bing.ee123.net/img/rand?artid=78836150
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     JSON解析-python实现
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     本文从以下几个方面进行讨论：
     <br/>
     1. JSON的基本概念
     <br/>
     2. python解析JSON
     <br/>
     3. 参考
    </p>
    <h3 id="1-json基本概念">
     1. JSON基本概念
    </h3>
    <h4 id="11-json概念及特点">
     1.1 JSON概念及特点
    </h4>
    <ul>
     <li>
      JSON 指的是 JavaScript 对象表示法（JavaScript Object Notation）
     </li>
     <li>
      JSON 是轻量级的文本数据交换格式
     </li>
     <li>
      JSON 独立于语言，JSON 使用 JavaScript 语法来描述数据对象，但是 JSON 仍然独立于语言和平台。JSON 解析器和 JSON 库支持许多不同的编程语言。
     </li>
     <li>
      JSON 具有自我描述性，更易理解
     </li>
    </ul>
    <p>
     JSON 比 XML 更小、更快，更易解析。具体的JSON和XML的比较，可以参考博客：
     <br/>
     <a href="https://www.cnblogs.com/SanMaoSpace/p/3139186.html" rel="nofollow noopener noreferrer" target="_blank">
      JSON与XML的区别比较
     </a>
    </p>
    <h4 id="12-json语法规则">
     1.2 JSON语法规则
    </h4>
    <p>
     JSON 语法是 JavaScript 对象表示法语法的子集。
    </p>
    <ul>
     <li>
      数据在名称/值对中
     </li>
     <li>
      数据由逗号分隔
     </li>
     <li>
      花括号保存对象
     </li>
     <li>
      方括号保存数组
     </li>
    </ul>
    <p>
     JSON的数据保存在 名称/值 对中。
     <br/>
     名称/值对包括字段名称（在双引号中），后面写一个冒号，然后是值，例如：
    </p>
    <blockquote>
     <p>
      “Name” : “SunPro”
     </p>
    </blockquote>
    <p>
     JSON的值的类型有：
    </p>
    <ul>
     <li>
      数字（整数或浮点数）
     </li>
     <li>
      字符串（在双引号中）
     </li>
     <li>
      逻辑值（true 或 false）
     </li>
     <li>
      数组（在方括号中）
     </li>
     <li>
      对象（在花括号中）
     </li>
     <li>
      null
     </li>
    </ul>
    <p>
     看一个JSON和XML的示例：
     <br/>
     表示中国部分省市数据如下
    </p>
    <pre class="prettyprint"><code class="language-JSON hljs json">{
    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"中国"</span></span>,
    "<span class="hljs-attribute">province</span>": <span class="hljs-value">[{
        "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"黑龙江"</span></span>,
        "<span class="hljs-attribute">cities</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">city</span>": <span class="hljs-value">[<span class="hljs-string">"哈尔滨"</span>, <span class="hljs-string">"大庆"</span>]
        </span>}
    </span>}, {
        "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"广东"</span></span>,
        "<span class="hljs-attribute">cities</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">city</span>": <span class="hljs-value">[<span class="hljs-string">"广州"</span>, <span class="hljs-string">"深圳"</span>, <span class="hljs-string">"珠海"</span>]
        </span>}
    </span>}, {
        "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"台湾"</span></span>,
        "<span class="hljs-attribute">cities</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">city</span>": <span class="hljs-value">[<span class="hljs-string">"台北"</span>, <span class="hljs-string">"高雄"</span>]
        </span>}
    </span>}, {
        "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"新疆"</span></span>,
        "<span class="hljs-attribute">cities</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">city</span>": <span class="hljs-value">[<span class="hljs-string">"乌鲁木齐"</span>]
        </span>}
    </span>}]
</span>}</code></pre>
    <p>
     对应的XML文件
    </p>
    <pre class="prettyprint"><code class="hljs xml"><span class="hljs-pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">country</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>中国<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">province</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>黑龙江<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">cities</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">city</span>&gt;</span>哈尔滨<span class="hljs-tag">&lt;/<span class="hljs-title">city</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">city</span>&gt;</span>大庆<span class="hljs-tag">&lt;/<span class="hljs-title">city</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">cities</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">province</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">province</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>广东<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">cities</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">city</span>&gt;</span>广州<span class="hljs-tag">&lt;/<span class="hljs-title">city</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">city</span>&gt;</span>深圳<span class="hljs-tag">&lt;/<span class="hljs-title">city</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">city</span>&gt;</span>珠海<span class="hljs-tag">&lt;/<span class="hljs-title">city</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">cities</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">province</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">province</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>台湾<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">cities</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">city</span>&gt;</span>台北<span class="hljs-tag">&lt;/<span class="hljs-title">city</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">city</span>&gt;</span>高雄<span class="hljs-tag">&lt;/<span class="hljs-title">city</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">cities</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">province</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">province</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>新疆<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">cities</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">city</span>&gt;</span>乌鲁木齐<span class="hljs-tag">&lt;/<span class="hljs-title">city</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">cities</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">province</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">country</span>&gt;</span></code></pre>
    <p>
     可以看到，JSON 简单的语法格式和清晰的层次结构明显要比 XML 容易阅读，并且在数据交换方面，由于 JSON 所使用的字符要比 XML 少得多，可以大大得节约传输数据所占用得带宽。
    </p>
    <h3 id="2-python-解析json">
     2. python 解析JSON
    </h3>
    <p>
     python通过json库来解析JSON
     <br/>
     使用 JSON 函数需要导入 json 库：import json。
    </p>
    <h4 id="21-json函数">
     2.1 json函数
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        函数
       </th>
       <th>
        描述
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        json.dumps()
       </td>
       <td>
        将 Python 对象编码成 JSON 字符串
       </td>
      </tr>
      <tr>
       <td>
        json.loads()
       </td>
       <td>
        将已编码的 JSON 字符串解码为 Python 对象
       </td>
      </tr>
     </tbody>
    </table>
    <h4 id="22-python和json解析过程中的对应关系">
     2.2 python和JSON解析过程中的对应关系
    </h4>
    <p>
     Decoding:
    </p>
    <table>
     <thead>
      <tr>
       <th>
        JSON
       </th>
       <th>
        Python
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        object
       </td>
       <td>
        dict
       </td>
      </tr>
      <tr>
       <td>
        array
       </td>
       <td>
        list
       </td>
      </tr>
      <tr>
       <td>
        string
       </td>
       <td>
        str
       </td>
      </tr>
      <tr>
       <td>
        number (int)
       </td>
       <td>
        int
       </td>
      </tr>
      <tr>
       <td>
        number (real)
       </td>
       <td>
        float
       </td>
      </tr>
      <tr>
       <td>
        true
       </td>
       <td>
        True
       </td>
      </tr>
      <tr>
       <td>
        false
       </td>
       <td>
        False
       </td>
      </tr>
      <tr>
       <td>
        null
       </td>
       <td>
        None
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     Encoding:
    </p>
    <table>
     <thead>
      <tr>
       <th>
        Python
       </th>
       <th>
        JSON
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        dict
       </td>
       <td>
        object
       </td>
      </tr>
      <tr>
       <td>
        list, tuple
       </td>
       <td>
        array
       </td>
      </tr>
      <tr>
       <td>
        str
       </td>
       <td>
        string
       </td>
      </tr>
      <tr>
       <td>
        int, float, int- &amp; float-derived Enums
       </td>
       <td>
        number
       </td>
      </tr>
      <tr>
       <td>
        True
       </td>
       <td>
        true
       </td>
      </tr>
      <tr>
       <td>
        False
       </td>
       <td>
        false
       </td>
      </tr>
      <tr>
       <td>
        None
       </td>
       <td>
        null
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     看一下实例：
    </p>
    <pre class="prettyprint"><code class="language-python hljs"><span class="hljs-keyword">import</span> json
data = [ { <span class="hljs-string">'a'</span> : <span class="hljs-number">1</span>, <span class="hljs-string">'b'</span> : <span class="hljs-number">2</span>, <span class="hljs-string">'c'</span> : <span class="hljs-number">3</span>, <span class="hljs-string">'d'</span> : <span class="hljs-number">4</span>, <span class="hljs-string">'e'</span> : <span class="hljs-number">5</span> } ]
jsonstr = json.dumps(data, sort_keys=<span class="hljs-keyword">True</span>, indent=<span class="hljs-number">4</span>, separators=(<span class="hljs-string">','</span>, <span class="hljs-string">': '</span>)) <span class="hljs-comment">#格式化输出</span>
print(jsonstr)
print(type(jsonstr))
jsonDe = json.loads(jsonstr)
print(jsonDe)
print(type(jsonDe))</code></pre>
    <p>
     json解析也可以使用python json模块封装的json.JSONDecoder 和 json.JSONEncoder 类
     <br/>
     详见
     <a href="https://docs.python.org/3.5/library/json.html" rel="nofollow noopener noreferrer" target="_blank">
      https://docs.python.org/3.5/library/json.html
     </a>
     <br/>
     也可以使用第三方库：Demjson
     <br/>
     Demjson 是 python 的第三方模块库，可用于编码和解码 JSON 数据，包含了 JSONLint 的格式化及校验功能。
     <br/>
     Github 地址：
     <a href="https://github.com/dmeranda/demjson" rel="noopener noreferrer" target="_blank">
      https://github.com/dmeranda/demjson
     </a>
     <br/>
     官方地址：
     <a href="http://deron.meranda.us/python/demjson/" rel="nofollow noopener noreferrer" target="_blank">
      http://deron.meranda.us/python/demjson/
     </a>
    </p>
    <h3 id="reference">
     Reference
    </h3>
    <ol>
     <li>
      <a href="https://baike.baidu.com/item/JSON/2462549?fr=aladdin" rel="nofollow noopener noreferrer" target="_blank">
       百度百科-JSON
      </a>
     </li>
     <li>
      <a href="http://www.w3school.com.cn/json/index.asp" rel="nofollow noopener noreferrer" target="_blank">
       W3Schol-JSON 教程
      </a>
     </li>
     <li>
      3.
     </li>
    </ol>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c:6f672e6373646e2e6e65742f73756e6a696e7368656e676c69:2f61727469636c652f64657461696c732f3738383336313530" class_="artid" style="display:none">
 </p>
</div>


