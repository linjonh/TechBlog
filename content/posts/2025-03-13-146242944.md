---
layout: post
title: "后端django导出-API-文档的几种方法"
date: 2025-03-13 21:34:16 +0800
description: "在 Django 项目里，导出 API 文档是很常见的需求，一般可以借助第三方库来实现。"
keywords: "【后端】【django】导出 API 文档的几种方法"
categories: ['面试考题专栏前后端', '后端系统功能', 'Django']
tags: ['Sqlite', 'Python', 'Django']
artid: "146242944"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146242944
    alt: "后端django导出-API-文档的几种方法"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146242944
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146242944
cover: https://bing.ee123.net/img/rand?artid=146242944
image: https://bing.ee123.net/img/rand?artid=146242944
img: https://bing.ee123.net/img/rand?artid=146242944
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【后端】【django】导出 API 文档的几种方法
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     在 Django 项目里，导出 API 文档是很常见的需求，一般可以借助第三方库来实现。
    </p>
    <h4>
     <a id="_drfyasg__SwaggerOpenAPI__2">
     </a>
     使用 drf-yasg 导出 Swagger/OpenAPI 格式文档
    </h4>
    <p>
     <code>
      drf-yasg
     </code>
     是一个用于 Django REST framework 的工具，能够自动生成 Swagger 和 OpenAPI 格式的 API 文档。
    </p>
    <h5>
     <a id="_1_drfyasg_6">
     </a>
     步骤 1：安装
     <code>
      drf-yasg
     </code>
    </h5>
    <p>
     在项目的虚拟环境中，使用以下命令安装
     <code>
      drf-yasg
     </code>
     ：
    </p>
    <pre><code class="prism language-bash">pip <span class="token function">install</span> drf-yasg
</code></pre>
    <h5>
     <a id="_2_drfyasg_14">
     </a>
     步骤 2：配置
     <code>
      drf-yasg
     </code>
    </h5>
    <p>
     在
     <code>
      settings.py
     </code>
     文件里，把
     <code>
      drf_yasg
     </code>
     添加到
     <code>
      INSTALLED_APPS
     </code>
     列表中：
    </p>
    <pre><code class="prism language-python">INSTALLED_APPS <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment"># ...</span>
    <span class="token string">'drf_yasg'</span><span class="token punctuation">,</span>
    <span class="token comment"># ...</span>
<span class="token punctuation">]</span>
</code></pre>
    <h5>
     <a id="_3_URL_26">
     </a>
     步骤 3：配置 URL
    </h5>
    <p>
     在项目的
     <code>
      urls.py
     </code>
     文件中添加以下代码：
    </p>
    <pre><code class="prism language-python"><span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> permissions
<span class="token keyword">from</span> drf_yasg<span class="token punctuation">.</span>views <span class="token keyword">import</span> get_schema_view
<span class="token keyword">from</span> drf_yasg <span class="token keyword">import</span> openapi

schema_view <span class="token operator">=</span> get_schema_view<span class="token punctuation">(</span>
    openapi<span class="token punctuation">.</span>Info<span class="token punctuation">(</span>
        title<span class="token operator">=</span><span class="token string">"Your API"</span><span class="token punctuation">,</span>
        default_version<span class="token operator">=</span><span class="token string">'v1'</span><span class="token punctuation">,</span>
        description<span class="token operator">=</span><span class="token string">"API description"</span><span class="token punctuation">,</span>
        terms_of_service<span class="token operator">=</span><span class="token string">"https://www.example.com/terms/"</span><span class="token punctuation">,</span>
        contact<span class="token operator">=</span>openapi<span class="token punctuation">.</span>Contact<span class="token punctuation">(</span>email<span class="token operator">=</span><span class="token string">"contact@example.com"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        license<span class="token operator">=</span>openapi<span class="token punctuation">.</span>License<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"BSD License"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    public<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
    permission_classes<span class="token operator">=</span><span class="token punctuation">(</span>permissions<span class="token punctuation">.</span>AllowAny<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment"># ...</span>
    path<span class="token punctuation">(</span><span class="token string">'swagger&lt;format&gt;/'</span><span class="token punctuation">,</span> schema_view<span class="token punctuation">.</span>without_ui<span class="token punctuation">(</span>cache_timeout<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'schema-json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    path<span class="token punctuation">(</span><span class="token string">'swagger/'</span><span class="token punctuation">,</span> schema_view<span class="token punctuation">.</span>with_ui<span class="token punctuation">(</span><span class="token string">'swagger'</span><span class="token punctuation">,</span> cache_timeout<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'schema-swagger-ui'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    path<span class="token punctuation">(</span><span class="token string">'redoc/'</span><span class="token punctuation">,</span> schema_view<span class="token punctuation">.</span>with_ui<span class="token punctuation">(</span><span class="token string">'redoc'</span><span class="token punctuation">,</span> cache_timeout<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'schema-redoc'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment"># ...</span>
<span class="token punctuation">]</span>
</code></pre>
    <h5>
     <a id="_4_57">
     </a>
     步骤 4：访问和导出文档
    </h5>
    <ul>
     <li>
      <strong>
       访问文档界面
      </strong>
      ：启动 Django 开发服务器后，访问
      <code>
       http://127.0.0.1:8000/swagger/
      </code>
      可查看 Swagger UI 界面，访问
      <code>
       http://127.0.0.1:8000/redoc/
      </code>
      可查看 ReDoc 界面。
     </li>
     <li>
      <strong>
       导出文档
      </strong>
      ：访问
      <code>
       http://127.0.0.1:8000/swagger.json
      </code>
      或者
      <code>
       http://127.0.0.1:8000/swagger.yaml
      </code>
      就能获取 JSON 或者 YAML 格式的 OpenAPI 规范文件，可将其保存下来。
     </li>
    </ul>
    <h4>
     <a id="_djangorestswagger__Swagger__62">
     </a>
     使用 django-rest-swagger 导出 Swagger 格式文档
    </h4>
    <p>
     <code>
      django-rest-swagger
     </code>
     是较早用于 Django REST framework 的 Swagger 文档生成工具，不过该项目目前已不再维护。
    </p>
    <h5>
     <a id="_1_djangorestswagger_66">
     </a>
     步骤 1：安装
     <code>
      django-rest-swagger
     </code>
    </h5>
    <pre><code class="prism language-bash">pip <span class="token function">install</span> django-rest-swagger
</code></pre>
    <h5>
     <a id="_2_djangorestswagger_72">
     </a>
     步骤 2：配置
     <code>
      django-rest-swagger
     </code>
    </h5>
    <p>
     在
     <code>
      settings.py
     </code>
     文件中，把
     <code>
      rest_framework_swagger
     </code>
     添加到
     <code>
      INSTALLED_APPS
     </code>
     列表中：
    </p>
    <pre><code class="prism language-python">INSTALLED_APPS <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment"># ...</span>
    <span class="token string">'rest_framework_swagger'</span><span class="token punctuation">,</span>
    <span class="token comment"># ...</span>
<span class="token punctuation">]</span>
</code></pre>
    <h5>
     <a id="_3_URL_84">
     </a>
     步骤 3：配置 URL
    </h5>
    <p>
     在项目的
     <code>
      urls.py
     </code>
     文件中添加以下代码：
    </p>
    <pre><code class="prism language-python"><span class="token keyword">from</span> rest_framework_swagger<span class="token punctuation">.</span>views <span class="token keyword">import</span> get_swagger_view

schema_view <span class="token operator">=</span> get_swagger_view<span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">'Your API'</span><span class="token punctuation">)</span>

urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment"># ...</span>
    path<span class="token punctuation">(</span><span class="token string">'swagger/'</span><span class="token punctuation">,</span> schema_view<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment"># ...</span>
<span class="token punctuation">]</span>
</code></pre>
    <h5>
     <a id="_4_100">
     </a>
     步骤 4：访问和导出文档
    </h5>
    <ul>
     <li>
      <strong>
       访问文档界面
      </strong>
      ：启动 Django 开发服务器后，访问
      <code>
       http://127.0.0.1:8000/swagger/
      </code>
      可查看 Swagger UI 界面。
     </li>
     <li>
      <strong>
       导出文档
      </strong>
      ：在 Swagger UI 界面里，点击右上角的“Export”按钮，即可导出 JSON 格式的 Swagger 文档。
     </li>
    </ul>
    <h4>
     <a id="_Spectacular__OpenAPI__105">
     </a>
     使用 Spectacular 导出 OpenAPI 格式文档
    </h4>
    <p>
     <code>
      drf-spectacular
     </code>
     是一个现代的 Django REST framework 库，可用于生成 OpenAPI 3.0 规范的 API 文档。
    </p>
    <h5>
     <a id="_1_drfspectacular_109">
     </a>
     步骤 1：安装
     <code>
      drf-spectacular
     </code>
    </h5>
    <pre><code class="prism language-bash">pip <span class="token function">install</span> drf-spectacular
</code></pre>
    <h5>
     <a id="_2_drfspectacular_115">
     </a>
     步骤 2：配置
     <code>
      drf-spectacular
     </code>
    </h5>
    <p>
     在
     <code>
      settings.py
     </code>
     文件中，把
     <code>
      drf_spectacular
     </code>
     添加到
     <code>
      INSTALLED_APPS
     </code>
     列表中，并配置 REST framework：
    </p>
    <pre><code class="prism language-python">INSTALLED_APPS <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment"># ...</span>
    <span class="token string">'drf_spectacular'</span><span class="token punctuation">,</span>
    <span class="token comment"># ...</span>
<span class="token punctuation">]</span>

REST_FRAMEWORK <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment"># ...</span>
    <span class="token string">'DEFAULT_SCHEMA_CLASS'</span><span class="token punctuation">:</span> <span class="token string">'drf_spectacular.openapi.AutoSchema'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
    <h5>
     <a id="_3_URL_132">
     </a>
     步骤 3：配置 URL
    </h5>
    <p>
     在项目的
     <code>
      urls.py
     </code>
     文件中添加以下代码：
    </p>
    <pre><code class="prism language-python"><span class="token keyword">from</span> drf_spectacular<span class="token punctuation">.</span>views <span class="token keyword">import</span> SpectacularAPIView<span class="token punctuation">,</span> SpectacularSwaggerView

urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment"># ...</span>
    path<span class="token punctuation">(</span><span class="token string">'schema/'</span><span class="token punctuation">,</span> SpectacularAPIView<span class="token punctuation">.</span>as_view<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'schema'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    path<span class="token punctuation">(</span><span class="token string">'schema/swagger-ui/'</span><span class="token punctuation">,</span> SpectacularSwaggerView<span class="token punctuation">.</span>as_view<span class="token punctuation">(</span>url_name<span class="token operator">=</span><span class="token string">'schema'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'swagger-ui'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment"># ...</span>
<span class="token punctuation">]</span>
</code></pre>
    <h5>
     <a id="_4_147">
     </a>
     步骤 4：访问和导出文档
    </h5>
    <ul>
     <li>
      <strong>
       访问文档界面
      </strong>
      ：启动 Django 开发服务器后，访问
      <code>
       http://127.0.0.1:8000/schema/swagger-ui/
      </code>
      可查看 Swagger UI 界面。
     </li>
     <li>
      <strong>
       导出文档
      </strong>
      ：访问
      <code>
       http://127.0.0.1:8000/schema/
      </code>
      可获取 JSON 格式的 OpenAPI 规范文件，将其保存即可。
     </li>
    </ul>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f35393334343132372f:61727469636c652f64657461696c732f313436323432393434" class_="artid" style="display:none">
 </p>
</div>


