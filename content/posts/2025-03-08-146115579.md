---
arturl_encode: "68747470733a2f2f626c6f:672e6373646e2e6e65742f323330315f38313034343832392f:61727469636c652f64657461696c732f313436313135353739"
layout: post
title: "Cè¯­è¨€-å®ç°æ‰«é›·æ¸¸æˆ"
date: 2025-03-08 17:28:22 +0800
description: "æ‰«é›·æ¸¸æˆï¼Œç›¸ä¿¡å¤§å®¶å¯¹æ­¤å¹¶ä¸é™Œç”Ÿã€‚è¿™æ¬¡æˆ‘ä»¬ä½¿ç”¨Cè¯­è¨€å®ç°æ‰«é›·æ¸¸æˆçš„ç›®çš„å°±æ˜¯ä¸ºäº†å·©å›ºæˆ‘ä»¬ä¹‹å‰æ‰€å­¦ä¹ çš„çŸ¥è¯†ï¼Œå°†æˆ‘ä»¬çš„æ‰€å­¦çš„çŸ¥è¯†ä¸²è”èµ·æ¥ï¼ŒåŠ æ·±æˆ‘ä»¬å¯¹çŸ¥è¯†çš„ç†è§£ã€‚"
keywords: "ã€Cè¯­è¨€ã€‘------ å®ç°æ‰«é›·æ¸¸æˆ"
categories: ['æœªåˆ†ç±»']
tags: ['æ¸¸æˆ', 'C', 'Android']
artid: "146115579"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146115579
    alt: "Cè¯­è¨€-å®ç°æ‰«é›·æ¸¸æˆ"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146115579
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146115579
cover: https://bing.ee123.net/img/rand?artid=146115579
image: https://bing.ee123.net/img/rand?artid=146115579
img: https://bing.ee123.net/img/rand?artid=146115579
---

# ã€Cè¯­è¨€ã€‘------ å®ç°æ‰«é›·æ¸¸æˆ

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/direct/1b7335aca73b41609b7f05d1d366f476.gif#pic_center#pic_center)
  
[ä¸ªäººä¸»é¡µ](https://blog.csdn.net/2301_81044829?type=blog)
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/img_convert/2a1602b03b7af2fba368fa79c05a0558.jpeg#pic_center)

å¥½ä¹…ä¸è§å‘€æˆ‘çš„ç²‰ä¸æœ‹å‹ä»¬ï¼Œç”±äºè¿‘æ®µæ—¶é—´å¤ªå¿™ç¢Œï¼Œå¯¼è‡´æ›´æ–°åšæ–‡çš„æ›´æ–°é€Ÿåº¦å¤§å¹…é™ä½äº†ï¼Œåœ¨è¿™é‡Œå…ˆå¯¹å¤§å®¶è¯´å£°ä¸å¥½æ„æ€ï¼æ°å¥½ä»Šå¤©æ˜¯2025å¹´3æœˆ8æ—¥ï¼Œç¥å„ä½å¥³æ€§æœ‹å‹ä»¬å¥³ç¥èŠ‚å¿«ä¹ï¼

æˆ‘ä»Šè¿™æ¬¡è¦è·Ÿå¤§å®¶åˆ†äº«çš„æ˜¯å¦‚ä½•
**ä½¿ç”¨Cè¯­è¨€å®ç°ä¸€ä¸ªæ¸¸æˆ-----æ‰«é›·æ¸¸æˆï¼**
å¸Œæœ›çœ‹å®Œè¿™ç¯‡åšæ–‡èƒ½ç»™ä½ å¸¦æ¥å¸®åŠ©ï¼Œéå¸¸æ„Ÿè°¢å¤§å®¶å¯¹åšä¸»çš„æ”¯æŒï¼

## ğŸ¡ä¸€ã€å‰è¨€

æ‰«é›·æ¸¸æˆï¼Œç›¸ä¿¡å¤§å®¶å¯¹æ­¤å¹¶ä¸é™Œç”Ÿã€‚è¿™æ¬¡æˆ‘ä»¬ä½¿ç”¨Cè¯­è¨€å®ç°æ‰«é›·æ¸¸æˆçš„ç›®çš„å°±æ˜¯ä¸ºäº†å·©å›ºæˆ‘ä»¬ä¹‹å‰æ‰€å­¦ä¹ çš„çŸ¥è¯†ï¼Œå°†æˆ‘ä»¬çš„æ‰€å­¦çš„çŸ¥è¯†ä¸²è”èµ·æ¥ï¼ŒåŠ æ·±æˆ‘ä»¬å¯¹çŸ¥è¯†çš„ç†è§£ã€‚

## ğŸ„äºŒã€åŠŸèƒ½è¯´æ˜

1. ä½¿ç”¨æ§åˆ¶å°å®ç°ç»å…¸çš„æ‰«é›·æ¸¸æˆ
2. æ¸¸æˆå¯ä»¥é€šè¿‡èœå•å®ç°æ˜¯å¦ç»§ç»­æˆ–è€…é€€å‡ºæ¸¸æˆ
3. æ£‹ç›˜å¤§å°ä¸º9 \* 9çš„è§„æ ¼
4. éšæœºå¸ƒç½®10ä¸ªé›·
5. æ’æŸ¥é›·
     
   ï¼ˆ1ï¼‰å¦‚æœè¯¥ä½ç½®ä¸æ˜¯é›·ï¼Œå°±æ˜¾ç¤ºå‘¨å›´æœ‰å‡ ä¸ªé›·
     
   ï¼ˆ2ï¼‰è‹¥è¯¥ä½ç½®æ˜¯é›·ï¼Œåˆ™è¢«ç‚¸æ­»ï¼Œæ¸¸æˆç»“æŸ
     
   ï¼ˆ3ï¼‰å¦‚æœ10ä¸ªé›·éƒ½è¢«æ’æŸ¥å‡ºæ¥ï¼Œè¯´æ˜æ’é›·æˆåŠŸï¼Œæ¸¸æˆç»“æŸ

## ğŸ ä¸‰ã€åˆ†æå’Œè®¾è®¡

1. æ•°æ®ç»“æ„åˆ†æ
     
   åœ¨æ‰«é›·çš„è¿‡ç¨‹ä¸­ï¼Œå¸ƒç½®é›·çš„ä¿¡æ¯å’Œæ’æŸ¥å‡ºé›·çš„ä¿¡æ¯éƒ½éœ€è¦è¢«å­˜å‚¨èµ·æ¥ï¼Œå› æ­¤æˆ‘ä»¬ä¼šæƒ³åˆ°åˆ›å»ºä¸€ä¸ªæ•°ç»„ä¸º9 \* 9å¤§å°ç”¨æ¥å­˜å‚¨ç›¸å…³ä¿¡æ¯ã€‚
2. å¦‚æœè¿™ä¸ªä½ç½®æ˜¯é›·ï¼Œæˆ‘ä»¬å°±å­˜æ”¾â€˜1â€™ï¼Œå¦åˆ™å­˜æ”¾â€˜0â€™
3. åœ¨æ’é›·çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚å›¾ä¸€ï¼Œå½“æˆ‘ä»¬æ’æŸ¥ï¼ˆ8,6ï¼‰è¿™ä¸ªåæ ‡æ—¶ï¼Œæˆ‘ä»¬å‘ç°ä¼šäº§ç”Ÿè¶Šç•Œè®¿é—®ï¼Œå› æ­¤åœ¨è®¾è®¡æ•°ç»„æ—¶ï¼Œç»™æ•°ç»„æ‰©å¤§ä¸€åœˆï¼Œå¦‚å›¾äºŒï¼Œå¸ƒç½®é›·çš„æ—¶å€™è¿˜æ˜¯å¸ƒç½®åœ¨ä¸­é—´9\*9çš„åæ ‡ä¸Šï¼Œè¿™æ ·è®¾è®¡å°±å¯ä»¥é¿å…æ•°ç»„äº§ç”Ÿè¶Šç•Œè®¿é—®äº†ã€‚
     
   ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/0ef48ec18809491c925231d7bf23feaf.png)
     
   4.æˆ‘ä»¬åœ¨æ£‹ç›˜ä¸Šå¸ƒç½®æ˜¯é›·ä¸ºâ€˜1â€™ï¼Œä¸æ˜¯é›·ä¸ºâ€˜0â€™çš„ä¿¡æ¯ï¼Œå‡è®¾æˆ‘ä»¬æ’æŸ¥å‡ºæŸä¸€ä½ç½®ä¸æ˜¯é›·å¹¶ç»Ÿè®¡å‘¨å›´æœ‰å¤šå°‘é›·çš„ä¸ªæ•°æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å°†å‘¨å›´é›·çš„ä¸ªæ•°ç»™æ‰“å°å‡ºæ¥ï¼Œä½œä¸ºæˆ‘ä»¬æ’æŸ¥é›·çš„ä¾æ®ï¼Œé‚£ä¹ˆè¿™ä¸ªå‘¨å›´é›·çš„ä¸ªæ•°ä¿¡æ¯è¯¥å­˜æ”¾åœ¨å“ªå‘¢ï¼Ÿå¦‚æœå­˜æ”¾åœ¨å¸ƒç½®é›·çš„æ•°ç»„ä¸­ï¼Œå°±ä¼šå’Œæˆ‘ä»¬å¸ƒç½®é›·çš„ä¿¡æ¯äº§ç”Ÿæ··æ·†ã€‚å› æ­¤æˆ‘ä»¬æƒ³åˆ°ä¸“é—¨ç»™ä¸€ä¸ªæ£‹ç›˜mineä¸ºå¸ƒç½®å¥½é›·çš„ä¿¡æ¯ï¼Œç»™å¦å¤–ä¸€ä¸ªæ£‹ç›˜showä¸ºæ’æŸ¥å‡ºé›·çš„ä¿¡æ¯ï¼Œè¿™æ ·å°±ä¸ä¼šäº’ç›¸å¹²æ‰°äº†ã€‚ä¸ºäº†ä¿æŒç¥ç§˜ï¼Œæˆ‘ä»¬å°†showæ•°ç»„å…¨éƒ¨åˆå§‹åŒ–ä¸º â€˜ \* â€™ ,mineæ•°ç»„å…¨éƒ¨åˆå§‹åŒ–ä¸º â€˜ 0 â€™ï¼Œå¸ƒç½®å¥½é›·çš„ä½ç½®ä¸º â€˜ 1 â€™ã€‚ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
   ![](https://i-blog.csdnimg.cn/direct/663627e77ba648458478c056c214e343.png)

## â­å››ã€å¤šæ–‡ä»¶å¤„ç†

æˆ‘ä»¬ä¸ºäº†ä»£ç é€»è¾‘æ¸…æ™°ï¼Œæˆ‘ä»¬ä¸€å…±åˆ†ä¸ºä¸‰ä¸ªæ–‡ä»¶æ¥å®ç°ï¼š

1. game.cï¼ˆå®Œæˆæ¸¸æˆä¸»è¦åŠŸèƒ½ä»£ç å®ç°ï¼‰
2. game.hï¼ˆå®Œæˆæ¸¸æˆä¸­éœ€è¦çš„å¤´æ–‡ä»¶ä»¥åŠå‡½æ•°å£°æ˜ï¼‰
3. test.c ï¼ˆæµ‹è¯•æ¸¸æˆè¿è¡Œçš„é€»è¾‘ï¼‰

## ğŸš€äº”ã€æ¸¸æˆå„åŠŸèƒ½çš„å®ç°

### 1. åˆ›å»ºèœå•

æˆ‘ä»¬è®¾è®¡å½“ç”¨æˆ·è¾“å…¥1çš„æ—¶å€™åˆ™è¿›å…¥æ¸¸æˆï¼Œè¾“å…¥0çš„æ—¶å€™åˆ™é€€å‡ºã€‚å½“ç”¨æˆ·è¾“å…¥å…¶ä»–æ•°å­—æ—¶æˆ‘ä»¬ä¼šæç¤ºè¾“å…¥æ•°å­—éæ³•ç­‰ç›¸å…³ä¿¡æ¯ï¼Œå¹¶é‡æ–°è¾“å…¥ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨å¾ªç¯æ¥å®ç°ç›¸å…³åŠŸèƒ½ã€‚

```c
void Menu()
{
	printf("***********************\n");
	printf("*******  1.PLAY  ******\n");
	printf("*******  0.EXIT  ******\n");
	printf("***********************\n");
}

int main()
{
	int input = 0;
	do
	{
		Menu();
		printf("è¯·è¾“å…¥:>\n");
		scanf("%d", &input);
		switch (input)
		{
		case 1:
			printf("æ‰«é›·æ¸¸æˆå¼€å§‹\n");
			game();
			break;
		case 0:
			printf("é€€å‡ºæ¸¸æˆ\n");
			break;
		default:
			printf("è¾“å…¥æ•°å­—éæ³•ï¼Œè¯·é‡æ–°è¾“å…¥\n");
		}
	} while (input);
	return 0;
}

```

### 2. åˆå§‹åŒ–æ£‹ç›˜

```c
//åˆå§‹åŒ–æ£‹ç›˜
void InitBoard(char arr[ROWS][COLS], int rows, int cols, char set)
{
	int i = 0;
	for (i = 0; i < rows; i++)
	{
		int j = 0;
		for (j = 0; j < cols; j++)
		{
			arr[i][j] = set;
		}
	}
}

```

### 3. æ‰“å°æ£‹ç›˜

```c
//æ‰“å°æ£‹ç›˜
void PrintBoard(char arr[ROWS][COLS], int row, int col)
{
	int i = 0;
	printf("-----æ‰«é›·æ¸¸æˆ--------\n");
	for (i = 0; i <= col; i++)
	{
		printf("%d ", i);
	}
	printf("\n");
	for (int i = 1; i <= row; i++)
	{
		printf("%d ", i);
		int j = 0;
		for (j = 1; j <= col; j++)
		{
			printf("%c ", arr[row][col]);
		}
		printf("\n");
	}
}

```

æ•ˆæœå±•ç¤ºï¼š

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/e5ef8547177346dd87f54cc92c9e8e18.png)

### 4. å¸ƒç½®é›·

ä¸€ã€éšæœºäº§ç”Ÿé›·
  
è¦æƒ³éšæœºäº§ç”Ÿé›·ï¼Œæˆ‘ä»¬å°±éœ€è¦éšæœºæ•°çš„äº§ç”Ÿï¼Œé‚£è¦æ€ä¹ˆæ ·å®ç°éšæœºæ•°çš„äº§ç”Ÿå‘¢ï¼ŸCè¯­è¨€æä¾›äº†ä¸€ä¸ªå‡½æ•°å«randæ¥ç”Ÿæˆéšæœºæ•°ï¼Œå®ƒç”Ÿæˆéšæœºæ•°çš„å¤§å°èŒƒå›´ä¸ºï¼š0-RAND\_MAXï¼Œè€Œè¿™ä¸ªæœ€å¤§å€¼é€šå¸¸ä¸º32767ã€‚ä½¿ç”¨è¿™ä¸€å‡½æ•°æ—¶éœ€è¦åŒ…å«å¤´æ–‡ä»¶ <stdlib.h> ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œrandå‡½æ•°ç”Ÿæˆçš„æ˜¯ä¼ªéšæœºæ•°ï¼Œè€Œä¸æ˜¯çœŸæ­£çš„éšæœºæ•°ï¼Œæ¯ä¸€æ¬¡ç¨‹åºè¿è¡Œæ—¶åŒä¸€ä¸ªrandå‡½æ•°ç”Ÿæˆçš„éšæœºæ•°æ˜¯ç›¸åŒçš„ï¼Œæ˜¯å› ä¸ºrandçš„å‡½æ•°æ˜¯å¯¹ä¸€ä¸ªâ€œç§å­â€çš„åŸºå‡†å€¼è¿›è¡Œè¿ç®—è€Œç”Ÿæˆçš„éšæœºæ•°ï¼Œè€Œrandçš„ç§å­é»˜è®¤ä¸º1ã€‚å› æ­¤è¦ç”ŸæˆçœŸæ­£çš„éšæœºæ•°ï¼Œå°±è¦è®©ç§å­ä¸æ–­å‘ç”Ÿæ”¹å˜ã€‚å¯¹æ­¤ï¼ŒCè¯­è¨€åˆæä¾›ä¸€ä¸ªå‡½æ•°å«srandå‡½æ•°ã€‚ç¨‹åºæ¯æ¬¡ä½¿ç”¨randå‡½æ•°æ—¶å…ˆè°ƒç”¨srandå‡½æ•°ï¼Œé€šè¿‡srandç§å­çš„æ”¹å˜æ¥æ”¹å˜randç§å­æ‰€ç”Ÿæˆçš„éšæœºæ•°ã€‚é‚£ä¹ˆè¯¥æ€ä¹ˆè®©srandå‡½æ•°çš„ç§å­æ˜¯éšæœºçš„å‘¢ï¼Ÿç»è¿‡æˆ‘ä»¬çš„è€ƒè™‘ï¼Œæˆ‘ä»¬å‘ç°æ—¶é—´æ˜¯ä¸€ç›´åœ¨æ”¹å˜çš„ï¼Œå¦‚æœæˆ‘ä»¬å°†æ—¶é—´ä½œä¸ºç§å­ï¼Œé‚£ä¹ˆrandå°±å¯ä»¥ç”Ÿæˆæ¯æ¬¡ä¸ä¸€æ ·çš„éšæœºæ•°äº†ã€‚Cè¯­è¨€ä¹Ÿæä¾›äº†timeå‡½æ•°ï¼Œä¹Ÿéœ€è¦åŒ…å«å¤´æ–‡ä»¶ <time.h> ,è¯¥å‡½æ•°çš„è¿”å›ç±»å‹ä¸ºtime\_tã€‚
  
äºŒã€å¸ƒç½®é›·çš„èŒƒå›´
  
ç”±äºæˆ‘ä»¬æƒ³å¸ƒç½®é›·çš„èŒƒå›´ä¸ºæ¨ªçºµåæ ‡è½´1 - 9ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦ç¡®å®šrandçš„èŒƒå›´

```c
rand() % 9 //æ‰€å¾—åˆ°çš„ä¸º 0-8çš„ä½™æ•°
rand() % 9 + 1 // æ‰€å¾—åˆ°çš„ä¸º 1-9çš„ä½™æ•°

```

äº†è§£ä¸Šè¿°çŸ¥è¯†åï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œä»£ç å®ç°äº†

```c
//å¸ƒç½®é›·
void SetMine(char arr[ROWS][COLS], int row, int col)
{
	int count = EasyCount;
	while (count)
	{
		int x = rand() % row + 1;
		int y = rand() % col + 1;
		if (arr[x][y] == '0')
		{
			arr[x][y] = '1';
			count--;
		}
	}
}

```

### 5. æ’æŸ¥é›·

```c
//æ’æŸ¥é›·
void FindMine(char mine[ROWS][COLS], char show[ROWS][COLS], int row, int col)
{
	int x = 0;
	int y = 0;
	int win = 0;
	while (win < row * col - EasyCount)
	{
		printf("è¯·è¾“å…¥ä½ è¦æ’æŸ¥çš„åæ ‡:>\n");
		scanf("%d %d", &x, &y);
		if (x >= 1 && x <= row && y >= 1 && y <= col)
		{
			if (show[x][y] == '*')
			{
				if (mine[x][y] == '1')
				{
					printf("å¾ˆé—æ†¾ï¼Œä½ è¢«ç‚¸æ­»äº†ï¼\n");
					PrintBoard(mine, ROW, COL);
					break;
				}
				else
				{
					//ç»Ÿè®¡å‘¨å›´é›·çš„ä¸ªæ•°
					int count = GetCountMine(mine, x, y);
					show[x][y] = count + '0';
					PrintBoard(show, ROW, COL);
					win++;
				}
			}
			else
			{
				printf("è¾“å…¥åæ ‡å·²ç»è¢«æ’æŸ¥ï¼Œè¯·é‡æ–°è¾“å…¥ï¼\n");
			}
			
		}
		else
		{
			printf("è¾“å…¥åæ ‡éæ³•ï¼Œè¯·é‡æ–°è¾“å…¥\n");
		}
	}
	if (win == row * col - EasyCount)
	{
		printf("æ­å–œä½ ï¼Œæ’é›·æˆåŠŸï¼æ¸¸æˆç»“æŸ\n");
		PrintBoard(show, ROW, COL);
	}
}


```

### 6. è®¡ç®—ä¹å®«æ ¼å†…é›·çš„ä¸ªæ•°

å­—ç¬¦â€˜0â€™çš„ASCIIå€¼ä¸º49ï¼Œå­—ç¬¦â€˜1â€™çš„ASCIIå€¼ä¸º48ï¼Œæˆ‘ä»¬åªéœ€è¦å°†å­—ç¬¦â€˜1â€™å‡å»å­—ç¬¦â€˜0â€™ï¼Œå¾—åˆ°çš„å°±æ˜¯æ•°å­—1ï¼ŒæŒ‰ç…§è¿™ä¸€é€»è¾‘æˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°å‘¨å›´é›·çš„ä¸ªæ•°ã€‚

```c
int GetCountMine(char mine[ROW][COL],int x,int y)
{
	return mine[x - 1][y - 1] +
		mine[x - 1][y] +
		mine[x - 1][y + 1] +
		mine[x][y - 1] +
		mine[x][y + 1] +
		mine[x + 1][y - 1] +
		mine[x + 1][y] +
		mine[x + 1][y + 1] - 8 * '0';
}

```

## ğŸ‰å…­ã€æ•´ä½“ä»£ç 

### 1. game.h

```c
#pragma once

#include<stdio.h>
#include<stdlib.h>
#include<time.h>

#define ROW 9
#define COL 9
#define ROWS ROW + 2
#define COLS COL + 2
//é›·çš„ä¸ªæ•°
#define EasyCount 10

//åˆå§‹åŒ–æ£‹ç›˜
void InitBoard(char arr[ROWS][COLS], int rows, int cols, char set);

//æ‰“å°æ£‹ç›˜
void PrintBoard(char arr[ROWS][COLS], int row, int col);

//å¸ƒç½®é›·
void SetMine(char arr[ROWS][COLS], int row, int col);

//æ’æŸ¥é›·
void FindMine(char mine[ROWS][COLS], char show[ROWS][COLS], int row, int col);

```

### 2. game.c

```c
#define _CRT_SECURE_NO_WARNINGS 1

#include "game.h"

//åˆå§‹åŒ–æ£‹ç›˜
void InitBoard(char arr[ROWS][COLS], int rows, int cols, char set)
{
	int i = 0;
	for (i = 0; i < rows; i++)
	{
		int j = 0;
		for (j = 0; j < cols; j++)
		{
			arr[i][j] = set;
		}
	}
}

//æ‰“å°æ£‹ç›˜
void PrintBoard(char arr[ROWS][COLS], int row, int col)
{
	int i = 0;
	printf("-----æ‰«é›·æ¸¸æˆ--------\n");
	for (i = 0; i <= col; i++)
	{
		printf("%d ", i);
	}
	printf("\n");
	for (int i = 1; i <= row; i++)
	{
		printf("%d ", i);
		int j = 0;
		for (j = 1; j <= col; j++)
		{
			printf("%c ", arr[i][j]);
		}
		printf("\n");
	}
}

//å¸ƒç½®é›·
void SetMine(char arr[ROWS][COLS], int row, int col)
{
	int count = EasyCount;
	while (count)
	{
		int x = rand() % row + 1;
		int y = rand() % col + 1;
		if (arr[x][y] == '0')
		{
			arr[x][y] = '1';
			count--;
		}
	}
}

//ç»Ÿè®¡å‘¨å›´é›·çš„ä¸ªæ•°
int GetCountMine(char mine[ROW][COL],int x,int y)
{
	return mine[x - 1][y - 1] +
		mine[x - 1][y] +
		mine[x - 1][y + 1] +
		mine[x][y - 1] +
		mine[x][y + 1] +
		mine[x + 1][y - 1] +
		mine[x + 1][y] +
		mine[x + 1][y + 1] - 8 * '0';
}

//æ’æŸ¥é›·
void FindMine(char mine[ROWS][COLS], char show[ROWS][COLS], int row, int col)
{
	int x = 0;
	int y = 0;
	int win = 0;
	while (win < row * col - EasyCount)
	{
		printf("è¯·è¾“å…¥ä½ è¦æ’æŸ¥çš„åæ ‡:>\n");
		scanf("%d %d", &x, &y);
		if (x >= 1 && x <= row && y >= 1 && y <= col)
		{
			if (show[x][y] == '*')
			{
				if (mine[x][y] == '1')
				{
					printf("å¾ˆé—æ†¾ï¼Œä½ è¢«ç‚¸æ­»äº†ï¼\n");
					PrintBoard(mine, ROW, COL);
					break;
				}
				else
				{
					//ç»Ÿè®¡å‘¨å›´é›·çš„ä¸ªæ•°
					int count = GetCountMine(mine, x, y);
					show[x][y] = count + '0';
					PrintBoard(show, ROW, COL);
					win++;
				}
			}
			else
			{
				printf("è¾“å…¥åæ ‡å·²ç»è¢«æ’æŸ¥ï¼Œè¯·é‡æ–°è¾“å…¥ï¼\n");
			}
			
		}
		else
		{
			printf("è¾“å…¥åæ ‡éæ³•ï¼Œè¯·é‡æ–°è¾“å…¥\n");
		}
	}
	if (win == row * col - EasyCount)
	{
		printf("æ­å–œä½ ï¼Œæ’é›·æˆåŠŸï¼æ¸¸æˆç»“æŸ\n");
		PrintBoard(show, ROW, COL);
	}
}

```

### 3. test.c

```c

#include"game.h"

void Menu()
{
	printf("***********************\n");
	printf("*******  1.PLAY  ******\n");
	printf("*******  0.EXIT  ******\n");
	printf("***********************\n");
}

void game()
{
	//mineæ•°ç»„
	char mine[ROWS][COLS] = { 0 };
	//showæ•°ç»„
	char show[ROWS][COLS] = { 0 };

	//åˆå§‹åŒ–æ£‹ç›˜
	InitBoard(mine, ROWS, COLS, '0');
	InitBoard(show, ROWS, COLS, '*');

	//æ‰“å°æ£‹ç›˜
	PrintBoard(mine, ROW, COL);
	//PrintBoard(show, ROW, COL);
	
	//å¸ƒç½®é›·
	SetMine(mine, ROW, COL);
	PrintBoard(mine, ROW, COL);

	//æ’æŸ¥é›·
	FindMine(mine, show, ROW, COL);
}

int main()
{
	int input = 0;
	srand((unsigned int)time(NULL));
	do
	{
		Menu();
		printf("è¯·è¾“å…¥:>\n");
		scanf("%d", &input);
		switch (input)
		{
		case 1:
			printf("æ‰«é›·æ¸¸æˆå¼€å§‹\n");
			game();
			break;
		case 0:
			printf("é€€å‡ºæ¸¸æˆ\n");
			break;
		default:
			printf("è¾“å…¥æ•°å­—éæ³•ï¼Œè¯·é‡æ–°è¾“å…¥\n");
		}
	} while (input);
	return 0;
}

```

æ„Ÿè°¢è¯»è€…ä»¬è€å¿ƒçš„è§‚çœ‹ï¼Œå¸Œæœ›çœ‹å®Œè¿™ç¯‡æ–‡ç« èƒ½ç»™ä½ å¸¦æ¥æœ‰æ‰€å¸®åŠ©ï¼Œä»Šå¤©çš„åˆ†äº«åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼æœŸå¾…æˆ‘ä»¬ä¸‹æ¬¡çš„ç›¸é‡(â—â€™â—¡â€™â—)