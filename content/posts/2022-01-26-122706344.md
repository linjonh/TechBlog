---
layout: post
title: "java-bootclasspath"
date: 2022-01-26 18:30:43 +0800
description: "目录前言查看 bootclasspath修改bootclasspath-Xbootclasspath"
keywords: "xbootclasspath"
categories: ['Java']
tags: ['Java']
artid: "122706344"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=122706344
    alt: "java-bootclasspath"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=122706344
featuredImagePreview: https://bing.ee123.net/img/rand?artid=122706344
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     java bootclasspath
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <div class="toc">
     <h4>
      目录
     </h4>
     <ul>
      <li>
       <a href="#_1" rel="nofollow">
        前言
       </a>
      </li>
      <li>
       <a href="#_bootclasspath_4" rel="nofollow">
        查看 bootclasspath
       </a>
      </li>
      <li>
       <a href="#bootclasspath_36" rel="nofollow">
        修改bootclasspath
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#Xbootclasspatha__42" rel="nofollow">
          -Xbootclasspath/a 示例
         </a>
        </li>
        <li>
         <a href="#Xbootclasspathp__59" rel="nofollow">
          -Xbootclasspath/p 示例
         </a>
        </li>
        <li>
         <a href="#class_77" rel="nofollow">
          （可以）添加`.class`文件目录
         </a>
        </li>
        <li>
         <a href="#ymlxmlproperties_91" rel="nofollow">
          （可以）添加`.yml`、`.xml`、`.properties`（或其它配置文件）文件目录
         </a>
        </li>
        <li>
         <a href="#jar_105" rel="nofollow">
          （可以）添加`.jar`文件
         </a>
        </li>
        <li>
         <a href="#jar_119" rel="nofollow">
          （不可以）添加`.jar`文件所在目录
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#_125" rel="nofollow">
        扩展知识
       </a>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <h2>
     <a id="_1">
     </a>
     前言
    </h2>
    <ul>
     <li>
      jdk1.8
     </li>
    </ul>
    <h2>
     <a id="_bootclasspath_4">
     </a>
     查看 bootclasspath
    </h2>
    <p>
     创建项目BootstrapClassPath，代码如下：
    </p>
    <pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token function">printPath</span><span class="token punctuation">(</span><span class="token string">"sun.boot.class.path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">printPath</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">":"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> paths <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token class-name">File</span><span class="token punctuation">.</span>pathSeparator<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> path <span class="token operator">:</span> paths<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"- "</span> <span class="token operator">+</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     执行结果：
    </p>
    <pre><code>sun.boot.class.path:
- C:\Program Files\Java\jdk1.8.0_144\jre\lib\resources.jar
- C:\Program Files\Java\jdk1.8.0_144\jre\lib\rt.jar
- C:\Program Files\Java\jdk1.8.0_144\jre\lib\sunrsasign.jar
- C:\Program Files\Java\jdk1.8.0_144\jre\lib\jsse.jar
- C:\Program Files\Java\jdk1.8.0_144\jre\lib\jce.jar
- C:\Program Files\Java\jdk1.8.0_144\jre\lib\charsets.jar
- C:\Program Files\Java\jdk1.8.0_144\jre\lib\jfr.jar
- C:\Program Files\Java\jdk1.8.0_144\jre\classes
</code></pre>
    <h2>
     <a id="bootclasspath_36">
     </a>
     修改bootclasspath
    </h2>
    <ul>
     <li>
      -Xbootclasspath: 完全取代基本核心的Java class 搜索路径.不常用（慎用）,否则要重新写所有Java 核心class
     </li>
     <li>
      -Xbootclasspath/a: 后缀。在bootclasspath后面添加。常用!!
     </li>
     <li>
      -Xbootclasspath/p: 前缀。在bootclasspath前面添加。不常用,避免引起不必要的冲突。
     </li>
    </ul>
    <h3>
     <a id="Xbootclasspatha__42">
     </a>
     -Xbootclasspath/a 示例
    </h3>
    <pre><code>cmd&gt; java -Xbootclasspath/a:.\lib\xxx.jar;BootstrapClassPath.jar test.Test
sun.boot.class.path:
- C:\Program Files\Java\jre1.8.0_144\lib\resources.jar
- C:\Program Files\Java\jre1.8.0_144\lib\rt.jar
- C:\Program Files\Java\jre1.8.0_144\lib\sunrsasign.jar
- C:\Program Files\Java\jre1.8.0_144\lib\jsse.jar
- C:\Program Files\Java\jre1.8.0_144\lib\jce.jar
- C:\Program Files\Java\jre1.8.0_144\lib\charsets.jar
- C:\Program Files\Java\jre1.8.0_144\lib\jfr.jar
- C:\Program Files\Java\jre1.8.0_144\classes
- ./lib/xxx.jar
- BootstrapClassPath.jar
</code></pre>
    <ul>
     <li>
      .
      <code>
       /lib/xxx.jar;BootstrapClassPath.jar
      </code>
      被添加到了
      <code>
       sun.boot.class.path
      </code>
      后面
     </li>
     <li>
      前面的源码打包到了
      <code>
       BootstrapClassPath.jar
      </code>
      中
     </li>
    </ul>
    <h3>
     <a id="Xbootclasspathp__59">
     </a>
     -Xbootclasspath/p 示例
    </h3>
    <pre><code class="prism language-java">cmd<span class="token operator">&gt;</span> java <span class="token operator">-</span><span class="token class-name">Xbootclasspath</span><span class="token operator">/</span>p<span class="token operator">:</span><span class="token punctuation">.</span>\lib\xxx<span class="token punctuation">.</span>jar<span class="token punctuation">;</span><span class="token class-name">BootstrapClassPath</span><span class="token punctuation">.</span>jar <span class="token class-name"><span class="token namespace">test<span class="token punctuation">.</span></span>Test</span>
sun<span class="token punctuation">.</span>boot<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span>path<span class="token operator">:</span>
<span class="token operator">-</span> <span class="token punctuation">.</span>/lib<span class="token operator">/</span>xxx<span class="token punctuation">.</span>jar
<span class="token operator">-</span> <span class="token class-name">BootstrapClassPath</span><span class="token punctuation">.</span>jar
<span class="token operator">-</span> <span class="token class-name">C</span><span class="token operator">:</span>\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\<span class="token class-name">Java</span>\jre1<span class="token punctuation">.</span><span class="token number">8.0_144</span>\lib\resources<span class="token punctuation">.</span>jar
<span class="token operator">-</span> <span class="token class-name">C</span><span class="token operator">:</span>\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\<span class="token class-name">Java</span>\jre1<span class="token punctuation">.</span><span class="token number">8.0_144</span>\lib\rt<span class="token punctuation">.</span>jar
<span class="token operator">-</span> <span class="token class-name">C</span><span class="token operator">:</span>\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\<span class="token class-name">Java</span>\jre1<span class="token punctuation">.</span><span class="token number">8.0_144</span>\lib\sunrsasign<span class="token punctuation">.</span>jar
<span class="token operator">-</span> <span class="token class-name">C</span><span class="token operator">:</span>\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\<span class="token class-name">Java</span>\jre1<span class="token punctuation">.</span><span class="token number">8.0_144</span>\lib\jsse<span class="token punctuation">.</span>jar
<span class="token operator">-</span> <span class="token class-name">C</span><span class="token operator">:</span>\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\<span class="token class-name">Java</span>\jre1<span class="token punctuation">.</span><span class="token number">8.0_144</span>\lib\jce<span class="token punctuation">.</span>jar
<span class="token operator">-</span> <span class="token class-name">C</span><span class="token operator">:</span>\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\<span class="token class-name">Java</span>\jre1<span class="token punctuation">.</span><span class="token number">8.0_144</span>\lib\charsets<span class="token punctuation">.</span>jar
<span class="token operator">-</span> <span class="token class-name">C</span><span class="token operator">:</span>\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\<span class="token class-name">Java</span>\jre1<span class="token punctuation">.</span><span class="token number">8.0_144</span>\lib\jfr<span class="token punctuation">.</span>jar
<span class="token operator">-</span> <span class="token class-name">C</span><span class="token operator">:</span>\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\<span class="token class-name">Java</span>\jre1<span class="token punctuation">.</span><span class="token number">8.0_144</span>\classes
</code></pre>
    <ul>
     <li>
      .
      <code>
       /lib/xxx.jar;BootstrapClassPath.jar
      </code>
      被添加到了
      <code>
       sun.boot.class.path
      </code>
      前面
     </li>
     <li>
      前面的源码打包到了
      <code>
       BootstrapClassPath.jar
      </code>
      中
     </li>
    </ul>
    <h3>
     <a id="class_77">
     </a>
     （可以）添加
     <code>
      .class
     </code>
     文件目录
    </h3>
    <pre><code>cmd&gt; java -Xbootclasspath/a:.\target\classes test.Test
sun.boot.class.path:
- C:\Program Files\Java\jre1.8.0_144\lib\resources.jar
- C:\Program Files\Java\jre1.8.0_144\lib\rt.jar
- C:\Program Files\Java\jre1.8.0_144\lib\sunrsasign.jar
- C:\Program Files\Java\jre1.8.0_144\lib\jsse.jar
- C:\Program Files\Java\jre1.8.0_144\lib\jce.jar
- C:\Program Files\Java\jre1.8.0_144\lib\charsets.jar
- C:\Program Files\Java\jre1.8.0_144\lib\jfr.jar
- C:\Program Files\Java\jre1.8.0_144\classes
- .\target\classes
</code></pre>
    <h3>
     <a id="ymlxmlproperties_91">
     </a>
     （可以）添加
     <code>
      .yml
     </code>
     、
     <code>
      .xml
     </code>
     、
     <code>
      .properties
     </code>
     （或其它配置文件）文件目录
    </h3>
    <pre><code>cmd&gt; java -Xbootclasspath/a:.\target\conf test.Test
sun.boot.class.path:
- C:\Program Files\Java\jre1.8.0_144\lib\resources.jar
- C:\Program Files\Java\jre1.8.0_144\lib\rt.jar
- C:\Program Files\Java\jre1.8.0_144\lib\sunrsasign.jar
- C:\Program Files\Java\jre1.8.0_144\lib\jsse.jar
- C:\Program Files\Java\jre1.8.0_144\lib\jce.jar
- C:\Program Files\Java\jre1.8.0_144\lib\charsets.jar
- C:\Program Files\Java\jre1.8.0_144\lib\jfr.jar
- C:\Program Files\Java\jre1.8.0_144\classes
- .\target\conf
</code></pre>
    <h3>
     <a id="jar_105">
     </a>
     （可以）添加
     <code>
      .jar
     </code>
     文件
    </h3>
    <pre><code>cmd&gt; java -Xbootclasspath/a:.\target\BootstrapClassPath.jar test.Test
sun.boot.class.path:
- C:\Program Files\Java\jre1.8.0_144\lib\resources.jar
- C:\Program Files\Java\jre1.8.0_144\lib\rt.jar
- C:\Program Files\Java\jre1.8.0_144\lib\sunrsasign.jar
- C:\Program Files\Java\jre1.8.0_144\lib\jsse.jar
- C:\Program Files\Java\jre1.8.0_144\lib\jce.jar
- C:\Program Files\Java\jre1.8.0_144\lib\charsets.jar
- C:\Program Files\Java\jre1.8.0_144\lib\jfr.jar
- C:\Program Files\Java\jre1.8.0_144\classes
- .\target\BootstrapClassPath.jar
</code></pre>
    <h3>
     <a id="jar_119">
     </a>
     （不可以）添加
     <code>
      .jar
     </code>
     文件所在目录
    </h3>
    <pre><code>cmd&gt; java -Xbootclasspath/a:.\target test.Test
错误: 找不到或无法加载主类 test.Test
</code></pre>
    <h2>
     <a id="_125">
     </a>
     扩展知识
    </h2>
    <p>
     自JDK 1.2以后,JVM采用了委托(delegate)模式来载入class．
     <br/>
     采用这种设计的原因可以参考： http://java.sun.com/docs/books/tutorial/ext/basics/load.html
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="687474:70733a2f2f626c6f672e6373646e2e6e65742f73617979792f:61727469636c652f64657461696c732f313232373036333434" class_="artid" style="display:none">
 </p>
</div>


