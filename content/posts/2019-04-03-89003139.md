---
layout: post
title: "详解Java的main函数"
date: 2019-04-03 19:32:40 +0800
description: "自接触java第一天起，老师就在教：第一行写public static void main(Stri"
keywords: "javamain函数"
categories: ['面试', 'Java']
tags: ['静态方法', 'Static', 'Main', 'Java']
artid: "89003139"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=89003139
    alt: "详解Java的main函数"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=89003139
featuredImagePreview: https://bing.ee123.net/img/rand?artid=89003139
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     详解Java的main函数
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-tomorrow-night-eighties" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     自接触java第一天起，老师就在教：第一行写
    </p>
    <blockquote>
     <p>
      public static void main(String[] args)
     </p>
    </blockquote>
    <p>
     “为什么要这么写等你们以后就知道了”
     <br/>
     曾经好奇问过别人，得到的答复基本都是“
     <strong>
      规定
     </strong>
     ”。最近手头闲下来了，翻看了一下单例与多例的内容，发现我对
     <strong>
      static
     </strong>
     这个关键字认知仅仅停留在常量两个字上，继续翻看jvm中关于类加载机制的相关内容才终于理解为什么java程序的第一行一定要这么写。
    </p>
    <h4>
     <a id="public_static_void_mainString_args_5">
     </a>
     public static void main(String[] args)
    </h4>
    <p>
     这并不是什么规定，也不是创始人们拍脑袋凭空想象出来的，这行语句中每一个关键字都有其存在的价值，不可或缺。
    </p>
    <ol>
     <li>
      public
      <br/>
      这个其实没什么可解释的，public可访问权限最高，如果要是private那就没得玩了。
     </li>
     <li>
      static
      <br/>
      static关键字是其中的重点。
      <br/>
      首先来看static关键字本身。static关键字用来修饰成员变量或者方法。简单来说，static表示其修饰的成员变量或方法不需要实例化类就可以使用。也就是说，static变量不依赖于类的任何实例，只要类被加载(加载不等于实例化)，jvm就可以直接找到他们而不需要创建关于类的任何对象。
      <br/>
      static关键字前可以有修饰符进行修饰，当使用public static时，其实相当于创建了一个全局变量(方法)。
      <br/>
      再来看static修饰的代码块(即为static {…}形式的)，也叫做静态代码块。概念不必多讲，静态代码块有一个
      <strong>
       非常非常非常重要的特点
      </strong>
      ：
      <mark>
       随着类的加载而执行且只执行一次
      </mark>
      。
      <br/>
      静态代码块可以有多个，位置可以随便放，它不在任何的方法体内，jvm加载类时会
      <mark>
       优先执行
      </mark>
      这些静态的代码块，如果static代码块有多个，jvm将按照它们在类中出现的先后顺序依次执行它们，每个代码块只会被执行一次。
      <br/>
      这样，public static两组关键字的意义就显而易见了。
     </li>
     <li>
      void
      <br/>
      与C系语言不同的是，java语言默认都是正常状态结束。也就是System.exit(0)，异常结束是1。所以，java的主方法自然没有必要存在返回值，也就是void。
     </li>
     <li>
      main
      <br/>
      作为编程语言界的晚辈，自然不能另立门户，沿袭C系列main命名的主函数也是情理之中的事。
     </li>
     <li>
      String[]
      <br/>
      为什么主函数还有形参？从来没见过啊？
      <br/>
      其实都是IDE用多了，使用java命令运行class文件的时候是可以附加参数的，比如 java HelloWorld test 100 这种写法。test及100都会作为参数传入mian方法。但因为参数并不仅限一个，所以定义成数组格式好了。
      <br/>
      为什么是String数组？
      <br/>
      String作为java中最万能的包装类具有普遍性。天地万物都可以解释成String，String也可以解析成天地万物，所以用String来存放参数自然是最优选择。
      <br/>
      ps.在java 1.5以后，String[]完全可以写成String…(不定项参数)，不妨试一下。
     </li>
     <li>
      args
      <br/>
      计算机领域用来表示参数的变量名其实就那么几个，params，args算是约定俗成的了。其实完全可以叫abc，开心就好。
     </li>
    </ol>
    <p>
     这样所有的参数都梳理完成了，每一个关键字都有其存在的价值，并不是凭空而来。
     <br/>
     猜一下下面的代码运行结果会是什么？
    </p>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DemoApplication</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">static</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"works"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"main works"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f75303132373630343335:2f61727469636c652f64657461696c732f3839303033313339" class_="artid" style="display:none">
 </p>
</div>


