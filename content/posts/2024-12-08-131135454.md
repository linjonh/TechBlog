---
layout: post
title: "ESP8266连接阿里云"
date: 2024-12-08 04:02:28 +0800
description: "STM32(标准库函数)+ESP8266+阿里云物联网平台_esp8266连接阿里云"
keywords: "esp8266连接阿里云"
categories: ['笔记', '单片机']
tags: ['阿里云', '物联网', '嵌入式硬件', 'Stm', 'Esp']
artid: "131135454"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=131135454
    alt: "ESP8266连接阿里云"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=131135454
featuredImagePreview: https://bing.ee123.net/img/rand?artid=131135454
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     ESP8266连接阿里云
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="_0">
     </a>
     一、注册、登录阿里云
    </h2>
    <h3>
     <a id="1_2">
     </a>
     1.注册账号、登录阿里云
    </h3>
    <p>
     具体过程略…
    </p>
    <h3>
     <a id="2_6">
     </a>
     2.打开控制台
    </h3>
    <img alt="image-20230307185032886" src="https://i-blog.csdnimg.cn/blog_migrate/9c0d1708b22ea6fd428bf42b6d4cf5f0.png">
     <h3>
      <a id="3_10">
      </a>
      3.搜索物联网平台
     </h3>
     <p>
      <img alt="image-20230307185137833" src="https://i-blog.csdnimg.cn/blog_migrate/ddd82c8480439ae6a64cc014ac11f8be.png"/>
     </p>
     <h3>
      <a id="4_14">
      </a>
      4.进入物联网平台，开通公共实例
     </h3>
     <img alt="image-20230307185320814" src="https://s2.loli.net/2023/04/09/Z4nWeQvtjIwYk3c.png">
      <h2>
       <a id="_18">
       </a>
       二、创建产品、添加设备
      </h2>
      <h3>
       <a id="1_20">
       </a>
       1.创建产品
      </h3>
      <p>
       （1）开通后，进入公共实例，在设备管理菜单下找到产品，然后点击创建产品
      </p>
      <p>
       <img alt="image-20230307185657292" src="https://i-blog.csdnimg.cn/blog_migrate/244c978604ebc12709958592b35a8f35.png"/>
      </p>
      <p>
       （2）在新建产品页面，输入【产品名称】、所属品类选择【自定义品类】、WiFi方式连接，其他选项默认
      </p>
      <img alt="image-20230307185903632" src="https://s2.loli.net/2023/04/09/yD4JwAouXUNY6Rn.png">
       <p>
        （3）点击确定-&gt;查看产品详情
       </p>
       <img alt="image-20230307191927072" src="https://s2.loli.net/2023/04/09/sdOPpRCbiNhFjvU.png">
        <h3>
         <a id="2_34">
         </a>
         2.添加功能模块
        </h3>
        <p>
         （1）点击【查看产品详情】后进入新页面，找到并点击【功能定义】
        </p>
        <img alt="image-20230307192351475" src="https://s2.loli.net/2023/04/09/N8lvgBZSGejwPr4.png">
         <p>
          （2）点击编辑草稿
         </p>
         <img alt="image-20230307192425929" src="https://s2.loli.net/2023/04/09/ZsqbUiIMlYCXaH8.png">
          <p>
           （3）点击【添加自定义功能】
          </p>
          <img alt="image-20230307192509801" src="https://s2.loli.net/2023/04/09/PwYZumlaDjAN15T.png">
           <p>
            （4）这里以“开关”为例进行操作
           </p>
           <img alt="image-20230307192802758" src="https://s2.loli.net/2023/04/09/K2dakWxHCyjU3Gh.png">
            <img alt="image-20230307193026959" src="https://s2.loli.net/2023/04/09/8RbXzuna76k5pY9.png"/>
            <p>
             <img alt="image-20230307193123189" src="https://i-blog.csdnimg.cn/blog_migrate/68ed6135e50e3ee7e5c05b0bf9837574.png"/>
            </p>
            <p>
             （5）添加成功后如果需要其他功能，继续点击【添加自定义功能】添加其他功能
            </p>
            <p>
             <img alt="image-20230307193229212" src="https://i-blog.csdnimg.cn/blog_migrate/55e3aa602caa5a669feeefca9560f060.png"/>
            </p>
            <p>
             （6）确定需要功能添加完后，点击【发布上线】
            </p>
            <img alt="image-20230307195523577" src="https://s2.loli.net/2023/04/09/SA4QgrpiLHRsnBe.png"/>
            <p>
             <img alt="image-20230307195557383" src="https://i-blog.csdnimg.cn/blog_migrate/3be4f8c537ff4e5bd84ab8eb9d47d99b.png"/>
            </p>
            <h3>
             <a id="3_66">
             </a>
             3.添加设备
            </h3>
            <p>
             （1）在左侧导航栏找到【设备】，点击进入
            </p>
            <p>
             <img alt="image-20230307195637816" src="https://i-blog.csdnimg.cn/blog_migrate/18001b8837b2d4cedd30aae3731db765.png"/>
            </p>
            <p>
             （2）点击【添加设备】，输入信息
            </p>
            <img alt="image-20230307195814858" src="https://s2.loli.net/2023/04/09/1EqwtXveSilLg7W.png"/>
            <p>
             （3）点击【确定】后，在下个窗口继续点击【完成】
            </p>
            <img alt="image-20230307195921928" src="https://s2.loli.net/2023/04/09/6Yux1aPNkm7ZBDR.png"/>
            <p>
             （4）添加成功后如下图所示
            </p>
            <p>
             <img alt="image-20230307200142453" src="https://i-blog.csdnimg.cn/blog_migrate/6b698a444e773cae11755b50a6dc1528.png"/>
            </p>
            <h2>
             <a id="ESP8266_84">
             </a>
             三、ESP8266固件烧录
            </h2>
            <blockquote>
             <p>
              烧录所需资源
             </p>
             <p>
              链接：https://pan.baidu.com/s/1TsdqrG8J2jgWOyJGn-KJrw?pwd=u3il
              <br/>
              提取码：u3il
             </p>
            </blockquote>
            <p>
             <img alt="image-20230307200620751" src="https://i-blog.csdnimg.cn/blog_migrate/0374039c53b9a02a1a542f25f8cc1171.png"/>
            </p>
            <h3>
             <a id="1_93">
             </a>
             1.打开烧录工具进行烧录
            </h3>
            <img alt="image-20230307201314854" src="https://i-blog.csdnimg.cn/blog_migrate/c6096748b4aaa21cf601b78e46db504c.png"/>
            <p>
             <img alt="image-20230307201307109" src="https://i-blog.csdnimg.cn/blog_migrate/638bc7aa101ec3a13347f022d76a5685.png"/>
            </p>
            <p>
             先点击【ERASE】,等完成后，再点击【START】进行烧录
            </p>
            <p>
             烧录实际可能比较慢，耐心等待进度条跑完
            </p>
            <blockquote>
             <p>
              出现提示弹出显示
              <code>
               3-run stub fail
              </code>
              ，可能事端口选择错误或波特率错误（115200与1152000注意）
             </p>
            </blockquote>
            <h3>
             <a id="2_105">
             </a>
             2.打开串口助手测试
            </h3>
            <p>
             通过安信可的调试工具，发送单独的AT指令，查看回显数据，判断是否正常
            </p>
            <p>
             <img alt="image-20230609212125573" src="https://i-blog.csdnimg.cn/blog_migrate/6f9089862084b7936759422a627a260a.png"/>
            </p>
            <h2>
             <a id="_111">
             </a>
             四、实现代码
            </h2>
            <h3>
             <a id="_113">
             </a>
             参数获取
            </h3>
            <p>
             程序里面需要获取的参数如下图所示
            </p>
            <p>
             <img alt="image-20230609213334729" src="https://i-blog.csdnimg.cn/blog_migrate/e0063ac270e02b15d3181a6ee9cd1d90.png"/>
            </p>
            <p>
             MQTT参数：获取方式如下图所示，找到对应的设备，复制参数
            </p>
            <p>
             <img alt="image-20230609213455599" src="https://i-blog.csdnimg.cn/blog_migrate/dea7470b5e8c354e3d6a89337e1e052a.png"/>
            </p>
            <p>
             topic：获取方式如下图所示，其中
             <code>
              ${deviceName}
             </code>
             需要替换为设备名称（记住是设备名称而不是产品名称）
            </p>
            <p>
             <img alt="image-20230609213619158" src="https://i-blog.csdnimg.cn/blog_migrate/298dd9051404fba51556e960e8d2de95.png"/>
            </p>
            <p>
             标识符：在创建产品时，添加功能时写的标识符
            </p>
            <p>
             <img alt="image-20230609213814028" src="https://i-blog.csdnimg.cn/blog_migrate/b0735f69905d86ee391ed75242379f52.png"/>
            </p>
            <h3>
             <a id="_133">
             </a>
             示例代码
            </h3>
            <p>
             <a href="https://github.com/lucasZyh/CSDN_Share/tree/master/ESP8266%E8%BF%9E%E6%8E%A5%E9%98%BF%E9%87%8C%E4%BA%91">
              ESP8266连接阿里云
             </a>
            </p>
           </img>
          </img>
         </img>
        </img>
       </img>
      </img>
     </img>
    </img>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f36313232383439332f:61727469636c652f64657461696c732f313331313335343534" class_="artid" style="display:none">
 </p>
</div>


