---
layout: post
title: "docker基本应用和相关指令"
date: 2025-03-13 11:16:20 +0800
description: "分成大类进行区分：每个大类下有不同的子命令，比如docker run属于容器操作，docker pull属于镜像管理。例子：实际应用的例子，比如如何运行一个容器，如何构建镜像，如何查看日志等。-it\t以交互模式进入容器（-i 保持输入流，-t 分配伪终端）-p：端口映射，打通容器内外网络。-d：后台运行，适合长期服务。"
keywords: "docker基本应用和相关指令"
categories: ['未分类']
tags: ['Docker']
artid: "146224658"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146224658
    alt: "docker基本应用和相关指令"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146224658
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146224658
cover: https://bing.ee123.net/img/rand?artid=146224658
image: https://bing.ee123.net/img/rand?artid=146224658
img: https://bing.ee123.net/img/rand?artid=146224658
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     docker基本应用和相关指令
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <p>
    </p>
    <h3>
     <a id="_1">
     </a>
     概要
    </h3>
    <p>
     <code>
      Docker的命令通常分为几个大类，比如镜像管理（images）、容器管理（containers）、网络（network）、数据卷（volume）等等
     </code>
    </p>
    <p>
     分成大类进行区分：每个大类下有不同的子命令，比如docker run属于容器操作，docker pull属于镜像管理。
     <br/>
     例子：实际应用的例子，比如如何运行一个容器，如何构建镜像，如何查看日志等。
     <br/>
     总结步骤：
    </p>
    <ol>
     <li>
      将Docker基本指令按功能分类。
     </li>
     <li>
      每个类别下列出常用命令，包括语法、说明和示例。
     </li>
     <li>
      确保命令的正确性和常用性。
     </li>
     <li>
      添加一些常见使用场景的示例，帮助理解如何组合使用这些命令。
     </li>
    </ol>
    <h3>
     <a id="_13">
     </a>
     镜像管理
    </h3>
    <p>
     <code>
      提示：这里可以添加技术名词解释
     </code>
    </p>
    <table>
     <thead>
      <tr>
       <th>
        指令 说明 示例
       </th>
       <th>
        Value
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        docker pull &lt;镜像名&gt;:&lt;标签&gt; 从仓库拉取镜像（默认标签为 latest） docker pull nginx:1.23
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        docker build -t &lt;镜像名&gt; . 根据当前目录的 Dockerfile 构建镜像 docker build -t myapp:v1 .
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        docker images 查看本地所有镜像 docker images
       </td>
       <td>
        grep nginx
       </td>
      </tr>
      <tr>
       <td>
        docker rmi &lt;镜像ID或名称&gt; 删除本地镜像（需无容器依赖） docker rmi myapp:v1
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        docker save &lt;镜像名&gt; &gt; 文件名.tar 将镜像导出为 .tar 文件（备份/迁移） docker save nginx &gt; nginx.tar
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        docker load &lt; 文件名.tar 从 .tar 文件加载镜像 docker load &lt; nginx.tar
       </td>
       <td>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     |:--------😐 -------------😐
    </p>
    <h3>
     <a id="_30">
     </a>
     容器操作
    </h3>
    <table>
     <thead>
      <tr>
       <th>
        指令 说明 示例
       </th>
       <th>
        Value
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        docker run [选项] &lt;镜像名&gt; 创建并启动容器 docker run -d -p 8080:80 --name my_nginx nginx
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        docker start/stop/restart &lt;容器&gt; 启动/停止/重启容器 docker stop my_nginx
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        docker ps 查看运行中的容器（-a 查看所有容器） docker ps -a
       </td>
       <td>
        grep Exited
       </td>
      </tr>
      <tr>
       <td>
        docker rm &lt;容器ID或名称&gt; 删除已停止的容器 docker rm my_nginx
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        docker exec -it &lt;容器&gt; &lt;命令&gt; 在运行的容器中执行命令（交互式终端） docker exec -it my_nginx /bin/bash
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        docker logs &lt;容器&gt; 查看容器日志（-f 实时跟踪） docker logs -f my_nginx
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        docker cp &lt;容器&gt;:&lt;路径&gt; &lt;本地路径&gt; 从容器复制文件到本地 docker cp my_nginx:/app/logs ./
       </td>
       <td>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     |:--------😐 -------------😐
    </p>
    <h3>
     <a id="_49">
     </a>
     网络管理
    </h3>
    <table>
     <thead>
      <tr>
       <th>
        指令 说明 示例
       </th>
       <th>
        Value
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        docker network ls 查看所有网络 docker network ls
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        docker network create &lt;网络名&gt; 创建自定义网络 docker network create my_net
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        docker network connect &lt;网络&gt; &lt;容器&gt; 将容器连接到指定网络 docker network connect my_net my_nginx
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        docker network inspect &lt;网络&gt; 查看网络详细信息 docker network inspect bridge
       </td>
       <td>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     |:--------😐 -------------😐
    </p>
    <h3>
     <a id="_64">
     </a>
     数据卷管理
    </h3>
    <table>
     <thead>
      <tr>
       <th>
        指令 说明 示例
       </th>
       <th>
        Value
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        docker volume ls 查看所有数据卷 docker volume ls
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        docker volume create &lt;卷名&gt; 创建数据卷 docker volume create my_vol
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        docker run -v &lt;卷名&gt;:&lt;容器路径&gt; 挂载数据卷到容器 docker run -v my_vol:/data nginx
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        docker run -v &lt;本地路径&gt;:&lt;容器路径&gt; 挂载本地目录到容器（绑定挂载） docker run -v ./app:/app nginx
       </td>
       <td>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     |:--------😐 -------------😐
    </p>
    <h3>
     <a id="_76">
     </a>
     其他常用指令
    </h3>
    <table>
     <thead>
      <tr>
       <th>
        指令 说明 示例
       </th>
       <th>
        Value
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        docker-compose up -d 根据 docker-compose.yml 启动服务栈 docker-compose -f dev.yml up -d
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        docker system prune 清理无用资源（镜像、容器、网络等） docker system prune -a --volumes
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        docker stats 实时监控容器资源使用（CPU/内存/网络） docker stats my_nginx
       </td>
       <td>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     |:--------😐 -------------😐
    </p>
    <h3>
     <a id="_88">
     </a>
     典型场景示例
    </h3>
    <ol>
     <li>
      运行一个 Nginx 容器
     </li>
    </ol>
    <pre><code class="prism language-java"># 后台运行并映射端口
docker run <span class="token operator">-</span>d <span class="token operator">-</span>p <span class="token number">80</span><span class="token operator">:</span><span class="token number">80</span> <span class="token operator">--</span>name my_nginx nginx

# 进入容器修改配置
docker exec <span class="token operator">-</span>it my_nginx <span class="token operator">/</span>bin<span class="token operator">/</span>bash
</code></pre>
    <ol start="2">
     <li>
      构建并运行自定义镜像
     </li>
    </ol>
    <pre><code class="prism language-java"># 构建镜像
docker build <span class="token operator">-</span>t myapp<span class="token operator">:</span>v1 <span class="token punctuation">.</span>

# 运行容器并挂载目录
docker run <span class="token operator">-</span>d <span class="token operator">-</span>p <span class="token number">8080</span><span class="token operator">:</span><span class="token number">80</span> <span class="token operator">-</span>v <span class="token punctuation">.</span>/config<span class="token operator">:</span><span class="token operator">/</span>app<span class="token operator">/</span>config myapp<span class="token operator">:</span>v1
</code></pre>
    <ol start="3">
     <li>
      备份与恢复容器数据
     </li>
    </ol>
    <pre><code class="prism language-java"># 备份数据卷
docker run <span class="token operator">--</span>rm <span class="token operator">-</span>v my_vol<span class="token operator">:</span><span class="token operator">/</span>data <span class="token operator">-</span>v $<span class="token punctuation">(</span>pwd<span class="token punctuation">)</span><span class="token operator">:</span><span class="token operator">/</span>backup busybox tar cvf <span class="token operator">/</span>backup<span class="token operator">/</span>data<span class="token punctuation">.</span>tar <span class="token operator">/</span>data

# 恢复数据卷
docker run <span class="token operator">--</span>rm <span class="token operator">-</span>v my_vol<span class="token operator">:</span><span class="token operator">/</span>data <span class="token operator">-</span>v $<span class="token punctuation">(</span>pwd<span class="token punctuation">)</span><span class="token operator">:</span><span class="token operator">/</span>backup busybox tar xvf <span class="token operator">/</span>backup<span class="token operator">/</span>data<span class="token punctuation">.</span>tar <span class="token operator">-</span><span class="token class-name">C</span> <span class="token operator">/</span>
</code></pre>
    <h3>
     <a id="_123">
     </a>
     小结
    </h3>
    <p>
     <code>
      提示：这里可以添加总结
     </code>
    </p>
    <p>
     -d：后台运行，适合长期服务。
     <br/>
     -p：端口映射，打通容器内外网络。
     <br/>
     -it 以交互模式进入容器（-i 保持输入流，-t 分配伪终端）
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f66757475726e5f6865726f2f:61727469636c652f64657461696c732f313436323234363538" class_="artid" style="display:none">
 </p>
</div>


