---
layout: post
title: "Qt界面优化"
date: 2025-03-10 19:08:37 +0800
description: "本篇博客详细讲述了Qt：界面优化，也就是QSS的使用"
keywords: "qt自定义窗口栏不能靠边,总有条缝,如何解决"
categories: ['Qt']
tags: ['开发语言', 'Qt']
artid: "146147500"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146147500
    alt: "Qt界面优化"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146147500
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146147500
cover: https://bing.ee123.net/img/rand?artid=146147500
image: https://bing.ee123.net/img/rand?artid=146147500
img: https://bing.ee123.net/img/rand?artid=146147500
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Qt：界面优化
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <hr/>
    <p>
     Qt 中对于界面优化，采用的是 QSS，QSS 其实是参考的网页前端的 CSS，从名称就能看出来
    </p>
    <p>
     QSS 能够针对界面的"样式"来进行设置
     <br/>
     包括不限于: 大小, 位置, 颜色, 背景, 间距, 字体.….
    </p>
    <p>
     CSS 的功能是非常强大，非常丰富的
     <br/>
     QSS 要逊色一些，但也能完成很多的工作
    </p>
    <p>
     有时候, 可以通过 QSS 设置样式 (设置字体属性)
     <br/>
     也可以通过 C++ 代码设置样式
     <br/>
     如果两者冲突，QSS 优先级更高
    </p>
    <hr/>
    <h2 id="QSS%E7%9A%84%E4%BD%BF%E7%94%A8" name="QSS%E7%9A%84%E4%BD%BF%E7%94%A8" style="background-color:transparent">
     QSS的使用
    </h2>
    <p>
     <span style="color:#fe2c24">
      <strong>
       语法结构：
      </strong>
     </span>
    </p>
    <pre><code class="language-bash">选择器{
    属性名: 属性值;
    ......
}</code></pre>
    <ul>
     <li>
      选择器: 先选择某个/某一类控件, 接下来进行的各种属性设置,都是针对选中的控件生效的
     </li>
     <li>
      键值对: 针对某些样式具体的设置了
     </li>
    </ul>
    <p>
     例如：
    </p>
    <pre><code class="language-cpp">QPushButton { 
    color: red; 
}</code></pre>
    <p>
     上述代码的含义表示，针对界面上所有的 OPushButton，都把文本颜色设置为 红色
    </p>
    <hr/>
    <p>
     下面图形化界面的方式创建一个按钮：
    </p>
    <p>
     <img alt="" height="115" src="https://i-blog.csdnimg.cn/direct/06c3d30dcff44d64b6b9f7a0e381a161.png" width="226"/>
    </p>
    <p>
     构造函数中修改颜色：
    </p>
    <p>
     <img alt="" height="152" src="https://i-blog.csdnimg.cn/direct/61eaba7179804637aa9fc24b44654329.png" width="555"/>
    </p>
    <p>
     运行程序，按钮就变为红色了：
    </p>
    <p>
     <img alt="" height="99" src="https://i-blog.csdnimg.cn/direct/3cf83b2425c64fa3a7b083d78624f223.png" width="201"/>
    </p>
    <p>
     如果有两个按钮，此时也只会对第一个按钮生效， 因为程序中针对的是 ui-&gt;pushButton，而没有针对 pushButton_2
    </p>
    <p>
     设置样式的时候，是可以指定某个控件来设置的
     <br/>
     指定控件之后，此时的样式就会针对这个指定的控件，也会针对子控件生效
    </p>
    <p>
     如果我们代码改为 this，也就是整个 Widget：
    </p>
    <p>
     <img alt="" height="156" src="https://i-blog.csdnimg.cn/direct/3b49ad96043e4666a180f77f396f126f.png" width="566"/>
    </p>
    <p>
     此时也会对 Widget 下面的子控件生效，也就是所有  QPushButton 都会生效：
    </p>
    <p>
     <img alt="" height="205" src="https://i-blog.csdnimg.cn/direct/d4097bcb1aee40fe8824c93a4b3c294d.png" width="230"/>
    </p>
    <hr/>
    <h3 id="%E8%AE%BE%E7%BD%AE%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F" name="%E8%AE%BE%E7%BD%AE%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F" style="background-color:transparent">
     设置全局样式
    </h3>
    <p>
     也就是将界面上所有的样式都集中到一起来组织
    </p>
    <p>
     全局样式的设置是需要在 main.cpp 中编写的，核心是通过 QApplication 的对象来进行设置
    </p>
    <p>
     <img alt="" height="196" src="https://i-blog.csdnimg.cn/direct/3e29688959dc482e8a511edc90cc07b7.png" width="457"/>
    </p>
    <p>
     此时我们创建的三个按钮就全部是红色了：
    </p>
    <p>
     <img alt="" height="143" src="https://i-blog.csdnimg.cn/direct/5b99f60235f7403ab78194321700bb4f.png" width="103"/>
    </p>
    <blockquote>
     <p>
      1.如果设置了全局样式,然后在某个控件里又设置了其他的样式,会咋样?
     </p>
    </blockquote>
    <p>
     上面已经给全局样式设置了颜色为红色，全局样式并没有设置字体大小相关属性，这里我们给第一个按钮设置字体大小：
    </p>
    <p>
     <img alt="" height="142" src="https://i-blog.csdnimg.cn/direct/e7eb80401edb4d12b3c08b05c4324319.png" width="566"/>
    </p>
    <p>
     效果如下：
    </p>
    <p>
     <img alt="" height="171" src="https://i-blog.csdnimg.cn/direct/16036bc978f343f0a8f44654f6f7a679.png" width="102"/>
    </p>
    <p>
     从上面的样例可以看出，此时这两方面的样式，会"叠加"起来，叫做 层叠性
    </p>
    <blockquote>
     <p>
      2.如果设置了全局样式,在某个控件里设置的样式和全局样式冲突了,又会咋样?
     </p>
    </blockquote>
    <p>
     下面局部设置按钮2的颜色为绿色：
    </p>
    <p>
     <img alt="" height="175" src="https://i-blog.csdnimg.cn/direct/2f5bc80901c443f585c68071e1ce8786.png" width="561"/>
    </p>
    <p>
     效果为：
    </p>
    <p>
     <img alt="" height="165" src="https://i-blog.csdnimg.cn/direct/5bfba67581934eccaaa4cdbd68e2bc04.png" width="112"/>
    </p>
    <p>
     所以得到结论：
     <br/>
     当全局样式和局部样式冲突的时候，局部样式的优先级是更高的，覆盖了对应的全局样式
    </p>
    <ul>
     <li>
      实际开发中，就可以在全局样式中设置比较通用的样式，统一整个程序的界面风格
     </li>
     <li>
      如果需要针对某个控件进行微调，可以使用局部样式来做出调整
     </li>
    </ul>
    <hr/>
    <h3 id="%E6%A0%B7%E5%BC%8F%E5%92%8C%E4%BB%A3%E7%A0%81%E5%88%86%E7%A6%BB" name="%E6%A0%B7%E5%BC%8F%E5%92%8C%E4%BB%A3%E7%A0%81%E5%88%86%E7%A6%BB">
     样式和代码分离
    </h3>
    <p>
     QSS 上述代码中，样式代码和 C++ 代码都是混在一起的
    </p>
    <ul>
     <li>
      如果 QSS 样式代码比较简单，那是没什么问题的
     </li>
     <li>
      如果 QSS 代码非常复杂，继续这样搞，代码的维护成本就很高了
     </li>
    </ul>
    <p>
     所以我们就可以把样式代码拎出来，放到单独的文件中，后续可以直接让 C++ 代码来读取并加载文件内容
    </p>
    <p>
     首先创建一个按钮：
    </p>
    <p>
     <img alt="" height="79" src="https://i-blog.csdnimg.cn/direct/66d6f6b22081463793d1f317f8467be2.png" width="145"/>
    </p>
    <p>
     下面进行三个步骤：
    </p>
    <blockquote>
     <p>
      1.创建 qrc 文件, 通过 qrc 管理样式文件
      <br/>
      2.创建单独的 qss 文件,把这样的文件放到 qrc 中
      <br/>
      3.编写 C++ 代码, 读取 qss 文件中的内容,并设置样式
     </p>
    </blockquote>
    <p>
     在对应文件夹中右键创建 style.qss
    </p>
    <p>
     <img alt="" height="75" src="https://i-blog.csdnimg.cn/direct/1d0b56264ce44f4f93aca6303daf326e.png" width="238"/>
    </p>
    <p>
     选择 style.qss，此时就通过 qrc 管理样式文件了：
    </p>
    <p>
     <img alt="" height="95" src="https://i-blog.csdnimg.cn/direct/81df82b6c59942b4b78e40c5ad4e9114.png" width="137"/>
    </p>
    <p>
     接着点击文件-打开，打开刚刚创建的 .qss 文件，添加下面内容：
    </p>
    <p>
     <img alt="" height="82" src="https://i-blog.csdnimg.cn/direct/221ab4a6a0f64c06b31da22f681e535d.png" width="195"/>
    </p>
    <p>
     接着在 main.cpp 中，新创建一个函数去读取 qss 文件中的内容：
    </p>
    <p>
     <img alt="" height="344" src="https://i-blog.csdnimg.cn/direct/ecb38e40749a4d61aa07f461c9d4c44b.png" width="305"/>
    </p>
    <p>
     此时按钮就按照 qss 文件内容改变样式了：
    </p>
    <p>
     <img alt="" height="93" src="https://i-blog.csdnimg.cn/direct/05e63c5925e44a88b089f9ce92db2752.png" width="162"/>
    </p>
    <p>
     这个方案仅供大家参考，实际开发中还有更方便的方案
    </p>
    <hr/>
    <p>
     Qt Designer 中直接集成这样的功能，允许我们把样式直接写到 .ui 文件里
    </p>
    <p>
     同样先创建一个按钮：
    </p>
    <p>
     <img alt="" height="80" src="https://i-blog.csdnimg.cn/direct/66d6f6b22081463793d1f317f8467be2.png" width="147"/>
    </p>
    <p>
     选中整个页面，右键，点击 改变样式表：
    </p>
    <p>
     <img alt="" height="115" src="https://i-blog.csdnimg.cn/direct/3d916ff1b522480989d3768381fd73d5.png" width="178"/>
    </p>
    <p>
     通过这里就可以编写界面的样式了，这里进行的修改都会记录到 ui 文件中，并且在程序运行时自动生效，而且这里还能进行预览
    </p>
    <p>
     <img alt="" height="97" src="https://i-blog.csdnimg.cn/direct/274daa64401e434387f20074af3a2a6b.png" width="300"/>
    </p>
    <p>
     此时点击确定，就直接能预览修改后的效果：
    </p>
    <p>
     <img alt="" height="92" src="https://i-blog.csdnimg.cn/direct/2dfe16262e5f4c5f8da2ed49f845027f.png" width="154"/>
    </p>
    <p>
     由于设置样式太灵活，有很多地方都能设置，就导致当某个控件样式不符合预期的时候，排查起来就比较麻烦了
    </p>
    <p>
     所以排查时需要注意的地方很多：
    </p>
    <ul>
     <li>
      全局样式(QApplication 设置的)
     </li>
     <li>
      指定控件的样式 (这个控件是否设置了样式)
     </li>
     <li>
      指定控件的父控件的样式(可能是从父控件继承过来的)
     </li>
     <li>
      qss 文件中的样式
     </li>
     <li>
      ui 文件中的样式
     </li>
    </ul>
    <p>
     所以实际开发中，如果需要设置样式，建议最好统一使用某一种方式来设置
    </p>
    <hr/>
    <h3 id="%E9%80%89%E6%8B%A9%E5%99%A8%E7%9A%84%E7%94%A8%E6%B3%95" name="%E9%80%89%E6%8B%A9%E5%99%A8%E7%9A%84%E7%94%A8%E6%B3%95" style="background-color:transparent">
     选择器的用法
    </h3>
    <p>
     QSS 的选择器支持下面几种，其中加粗的是用的比较多的：
    </p>
    <p>
     <img alt="" height="783" src="https://i-blog.csdnimg.cn/direct/d958a6b3fa2a455e945ae2eebbf03386.png" width="1300"/>
    </p>
    <hr/>
    <blockquote>
     <p>
      类型选择器
     </p>
    </blockquote>
    <p>
     先创建一个按钮：
    </p>
    <p>
     <img alt="" height="80" src="https://i-blog.csdnimg.cn/direct/66d6f6b22081463793d1f317f8467be2.png" width="147"/>
    </p>
    <p>
     在 main.cpp 中编写下面的代码：
    </p>
    <p>
     <img alt="" height="187" src="https://i-blog.csdnimg.cn/direct/dfbd6a828cbd419c929a136e883db01f.png" width="432"/>
    </p>
    <p>
     此时按钮就会变为红色
    </p>
    <p>
     上述的代码，前面的 QPushButton 其实就是
     <span style="color:#956fe7">
      <strong>
       类型选择器
      </strong>
     </span>
     了(QWidget 也会变红，因为对子控件也会产生影响)
    </p>
    <hr/>
    <blockquote>
     <p>
      类选择器
     </p>
    </blockquote>
    <p>
     但是如果使用
     <span style="color:#956fe7">
      <strong>
       类选择器
      </strong>
     </span>
     ，也就是前面加上点，此时就不会对子类生效了：
    </p>
    <p>
     <img alt="" height="65" src="https://i-blog.csdnimg.cn/direct/844add12f7264bb7a27c147d6a7a1790.png" width="538"/>
    </p>
    <p>
     效果为：
    </p>
    <p>
     <img alt="" height="80" src="https://i-blog.csdnimg.cn/direct/66d6f6b22081463793d1f317f8467be2.png" width="147"/>
    </p>
    <hr/>
    <blockquote>
     <p>
      id选择器
     </p>
    </blockquote>
    <p>
     在开发中，期望不同的按钮控件样式不同，此时就需要使用
     <span style="color:#956fe7">
      <strong>
       id选择器
      </strong>
     </span>
     了
    </p>
    <p>
     在 main.cpp 中添加下面的代码，前面加 # 表示 id选择器：
    </p>
    <p>
     <img alt="" height="238" src="https://i-blog.csdnimg.cn/direct/26a42f5372594ad7a5c50d5526cf2e13.png" width="397"/>
    </p>
    <p>
     此时运行程序，效果为：
    </p>
    <p>
     <img alt="" height="224" src="https://i-blog.csdnimg.cn/direct/b06d7372ca804ddc906ce9a346ef0f2f.png" width="158"/>
    </p>
    <p>
     上述代码中，通过类型选择器其实也把第二、三个按钮选中了，但是后面又通过 id选择器 选中了，所以我们认为：
     <br/>
     此时当类型选择器和 id 选择器选中同一个控件的时候，并且设置的样式是冲突的，此时 id 选择器的优先级更高
     <br/>
     如果不冲突，那就会同时生效
    </p>
    <hr/>
    <blockquote>
     <p>
      并集选择器
     </p>
    </blockquote>
    <p>
     <span style="color:#956fe7">
      <strong>
       并集选择器
      </strong>
     </span>
     可以同时选中多个控件
    </p>
    <p>
     下面在添加一个 Label 和一个 line edit：
    </p>
    <p>
     <img alt="" height="233" src="https://i-blog.csdnimg.cn/direct/3fa9a90716af4f56b460b82559a37eef.png" width="284"/>
    </p>
    <p>
     再在 main.cpp 中添加样式表：
    </p>
    <p>
     <img alt="" height="245" src="https://i-blog.csdnimg.cn/direct/bbda1002f054486caf3262843e208b56.png" width="497"/>
    </p>
    <p>
     此时运行程序：
    </p>
    <p>
     <img alt="" height="241" src="https://i-blog.csdnimg.cn/direct/c564d5700ef84f41ade85ee5cf5e4961.png" width="288"/>
    </p>
    <p>
     注意：上述使用并集选择器时，不光可以选择类型，也可以写成id：
    </p>
    <p>
     <img alt="" height="57" src="https://i-blog.csdnimg.cn/direct/be404bd571fd4504a7f74e325f4a9537.png" width="640"/>
    </p>
    <hr/>
    <blockquote>
     <p>
      子控件选择器
     </p>
    </blockquote>
    <p>
     有些控件是比较复杂的，所以控件里面也会包含其他的控件
    </p>
    <p>
     例如：
     <br/>
     前面学习的 QSpinBox，后面还会有两个微调按钮，点击就会发送改变，像这种控件，我们就认为整个 QSpinBox 是一个总的控件，里面的两个按钮就是子控件
    </p>
    <p>
     还有 QComboBox，整个 QComboBox 就是一个总控件，下拉框和下拉按钮就是子控件
    </p>
    <p>
     如果想要了解 Qt 中哪些控件是有子控件的，就需要去查阅文档了：
    </p>
    <p>
     直接搜索 Qt Style Sheets Reference
    </p>
    <p>
     点击最下面的 List of Sub-Controls：
    </p>
    <p>
     <img alt="" height="202" src="https://i-blog.csdnimg.cn/direct/f583713b90cb41ddae17dfa3d22cc393.png" width="278"/>
    </p>
    <p>
     点击后，就能看出来每一个子控件是从属于哪些控件的：
    </p>
    <p>
     <img alt="" height="337" src="https://i-blog.csdnimg.cn/direct/b2d36c0120db4f67b2bc84fb675b1881.png" width="597"/>
    </p>
    <hr/>
    <p>
     下面我们给 QComboBox 的下拉按钮添加一个图标，这时就需要采用子控件选择器了
    </p>
    <p>
     初始下拉框样式如下：
    </p>
    <p>
     <img alt="" height="80" src="https://i-blog.csdnimg.cn/direct/edf0e3ecf7f345a5993dba543746f42f.png" width="226"/>
    </p>
    <p>
     同样是通过 qrc机制 管理图片：
    </p>
    <p>
     <img alt="" height="307" src="https://i-blog.csdnimg.cn/direct/3d05379aa1f04a758cbe61a2148869a2.png" width="239"/>
    </p>
    <p>
     在 main.cpp 中新增代码：
    </p>
    <p>
     <img alt="" height="182" src="https://i-blog.csdnimg.cn/direct/1c379dab69a74c7fb04b0146c2ab2a2c.png" width="548"/>
    </p>
    <p>
     效果为：
    </p>
    <p>
     <img alt="" height="80" src="https://i-blog.csdnimg.cn/direct/c0cd15ccd4194f89904e04c575ff673b.png" width="246"/>
    </p>
    <hr/>
    <blockquote>
     <p>
      伪类选择器
     </p>
    </blockquote>
    <p>
     <span style="color:#956fe7">
      <strong>
       伪类选择器
      </strong>
     </span>
     ，是根据控件所处的某个状态被选择的，例如按钮被按下，输入框获取到焦点，鼠标移动到某个控件上等
    </p>
    <ul>
     <li>
      当状态具备时，控件被选中，样式生效.
     </li>
     <li>
      当状态不具备时，控件不被选中，样式失效
     </li>
    </ul>
    <p>
     使用 : 的方式定义伪类选择器
    </p>
    <p>
     常用的伪类选择器：
    </p>
    <p>
     <img alt="" height="397" src="https://i-blog.csdnimg.cn/direct/8d774cd3aa65429abf257d511f55a1de.png" width="421"/>
    </p>
    <p>
     这些状态可以使用 !来取反，比如 :!hover 就是鼠标离开控件时，:!pressed 就是鼠标松开时
    </p>
    <p>
     同样也可以在文档中查看，最后一个是子选择器，倒数第二个就是伪类选择器
    </p>
    <p>
     <img alt="" height="201" src="https://i-blog.csdnimg.cn/direct/ff134db0205b4687b11aa7425b827a49.png" width="293"/>
    </p>
    <p>
     下面在 main.cpp 中演示 伪类选择器 的用法：
    </p>
    <p>
     <img alt="" height="242" src="https://i-blog.csdnimg.cn/direct/e7ed4390b89d412cb40a7d1cd111d989.png" width="457"/>
    </p>
    <p>
     此时就能够做到，按钮为红色，鼠标放在按钮上变为绿色，鼠标按下按钮，变为蓝色
    </p>
    <p>
     当然了，上述的功能，也可以通过事件的方式来实现，自己创建一个类继承自 QPushButton，再重写几个事件即可
    </p>
    <hr/>
    <h3 id="%E7%9B%92%E5%AD%90%E6%A8%A1%E5%9E%8B" name="%E7%9B%92%E5%AD%90%E6%A8%A1%E5%9E%8B">
     盒子模型
    </h3>
    <p>
     box model：叫做盒子模型，也是来自于 CSS
    </p>
    <p>
     <img alt="" height="276" src="https://i-blog.csdnimg.cn/direct/c50cbe0ada174f77a05e89e01e3f3e6a.png" width="333"/>
    </p>
    <ul>
     <li>
      margin：外边距
     </li>
     <li>
      border：边框
     </li>
     <li>
      padding：内边距
     </li>
     <li>
      content：内容
     </li>
    </ul>
    <p>
     可以通过一些 QSS 属性来设置上述的边距和边框的样式：
    </p>
    <p>
     <img alt="" height="525" src="https://i-blog.csdnimg.cn/direct/c02fe80c7bff433e996e9fb7f7c8ccb2.png" width="1290"/>
    </p>
    <p>
     复合属性，指的是可以拆成4个属性，以 margin 为例，可以拆分为：
     <br/>
     margin-left、margin-right、margin-top、​​​​​​​margin-bottom
    </p>
    <p>
     在使用时(CSS也是这样设定的)：
     <br/>
     margin:10px；四个方向都是 10px 的外边距
     <br/>
     margin: 10px 20px；上下是 10px，左右是 20px.
     <br/>
     margin: 10px 20px 30px 40px；上右下左分别设定(顺时针)
    </p>
    <hr/>
    <p>
     下面演示具体的使用
    </p>
    <p>
     首先创建一个 Label：
    </p>
    <p>
     <img alt="" height="123" src="https://i-blog.csdnimg.cn/direct/90ddc8da2d104d4081a0920c368fe430.png" width="275"/>
    </p>
    <p>
     在 main.cpp 中设置全局样式：
    </p>
    <p>
     <img alt="" height="194" src="https://i-blog.csdnimg.cn/direct/160d4808bb2242a589041effb2849022.png" width="602"/>
    </p>
    <p>
     效果为(padding改变的是文字和边框的距离)：
    </p>
    <p>
     <img alt="" height="110" src="https://i-blog.csdnimg.cn/direct/ea0ed199c2d84a03b38a0dfe0e6835e7.png" width="247"/>
    </p>
    <hr/>
    <p>
     下面演示改变外边框：
    </p>
    <p>
     先不设置外边距：
    </p>
    <p>
     <img alt="" height="165" src="https://i-blog.csdnimg.cn/direct/9c5b7ff04445488a96aa3d87b04e3132.png" width="583"/>
    </p>
    <p>
     效果为：
    </p>
    <p>
     <img alt="" height="139" src="https://i-blog.csdnimg.cn/direct/87cad5bc0a334690af62b9bf9d0b0d7f.png" width="135"/>
    </p>
    <p>
     设置外边距：
    </p>
    <p>
     <img alt="" height="175" src="https://i-blog.csdnimg.cn/direct/dc85981c47c04183b20621701d691580.png" width="609"/>
    </p>
    <p>
     此时效果为(margin改变的是边框距离整个窗口左上角的距离)：
    </p>
    <p>
     <img alt="" height="125" src="https://i-blog.csdnimg.cn/direct/269d24cc036f4ab9b3d1c00cafc2cf4c.png" width="200"/>
    </p>
    <p>
     可以看到，再给按钮设置完外边距后，按钮大小缩小了，如果打印此时按钮的大小：
    </p>
    <p>
     <img alt="" height="189" src="https://i-blog.csdnimg.cn/direct/c4a7c0e2b3b84898a77fa6940363a72a.png" width="547"/>
    </p>
    <p>
     发现尺寸还是 100*100：
    </p>
    <p>
     <img alt="" height="57" src="https://i-blog.csdnimg.cn/direct/7e62794f02d14949a94d21abc6c47c2a.png" width="250"/>
    </p>
    <p>
     所以在指定外边距后，会让我们看起来的效果变小了，但是实际上占据的空间还是这么大
    </p>
    <hr/>
    <h3 id="%E7%BB%99%E6%8C%89%E9%92%AE%E8%AE%BE%E7%BD%AE%E6%A0%B7%E5%BC%8F" name="%E7%BB%99%E6%8C%89%E9%92%AE%E8%AE%BE%E7%BD%AE%E6%A0%B7%E5%BC%8F" style="background-color:transparent">
     给按钮设置样式
    </h3>
    <p>
     首先创建一个按钮：
    </p>
    <p>
     <img alt="" height="80" src="https://i-blog.csdnimg.cn/direct/66d6f6b22081463793d1f317f8467be2.png" width="147"/>
    </p>
    <p>
     右键按钮，编辑样式表：
    </p>
    <p>
     <img alt="" height="151" src="https://i-blog.csdnimg.cn/direct/9013ed107421466c9ebd566e894c67f8.png" width="271"/>
    </p>
    <p>
     效果为：
    </p>
    <p>
     <img alt="" height="127" src="https://i-blog.csdnimg.cn/direct/efcbc8b818e847619b5bb5a960423777.png" width="233"/>
    </p>
    <ul>
     <li>
      font-size 设置字体大小
     </li>
     <li>
      border-radius 设置圆角矩形
     </li>
     <li>
      background-color 设置背景色
     </li>
     <li>
      color 设置文字颜色
     </li>
    </ul>
    <hr/>
    <h3 id="%E7%BB%99%E5%A4%8D%E9%80%89%E6%A1%86%E8%AE%BE%E7%BD%AE%E6%A0%B7%E5%BC%8F" name="%E7%BB%99%E5%A4%8D%E9%80%89%E6%A1%86%E8%AE%BE%E7%BD%AE%E6%A0%B7%E5%BC%8F" style="background-color:transparent">
     给复选框设置样式
    </h3>
    <p>
     接下来给复选框设置样式，我们提前下载好三种方框，以及三种方框勾选后的图片，如下所示：
    </p>
    <p>
     <img alt="" height="113" src="https://i-blog.csdnimg.cn/direct/82cfdf97fd3b46c7a67dede826915c2f.png" width="561"/>
    </p>
    <ul>
     <li>
      使用黑色作为默认形态
     </li>
     <li>
      使用蓝色作为 hover 形态
     </li>
     <li>
      使用红色作为 pressed 形态
     </li>
    </ul>
    <p>
     首先创建 checkBox 复选框：
    </p>
    <p>
     <img alt="" height="83" src="https://i-blog.csdnimg.cn/direct/2b562ce83dbc49c894632abdab991755.png" width="160"/>
    </p>
    <p>
     接着使用 qrc机制 导入这几张图片：
    </p>
    <p>
     <img alt="" height="145" src="https://i-blog.csdnimg.cn/direct/0737cd6ddd4c44fe8cb138014744b5d6.png" width="231"/>
    </p>
    <p>
     下面右键复选框，改变样式表，先将文字和框的大小变大些：
    </p>
    <p>
     <img alt="" height="180" src="https://i-blog.csdnimg.cn/direct/f708fc376c3547d0923815a7f53bf5a7.png" width="171"/>
    </p>
    <p>
     效果为：
    </p>
    <p>
     <img alt="" height="68" src="https://i-blog.csdnimg.cn/direct/29ea7914255a4f359462f750d9f6464b.png" width="175"/>
    </p>
    <p>
     下面需要使用子控件选择器，选择 checkBox 前面的 小框：
    </p>
    <p>
     <img alt="" height="56" src="https://i-blog.csdnimg.cn/direct/03afb094ff744aad8df4cd61e95cdaa6.png" width="206"/>
    </p>
    <p>
     填写在 url 后面的括号时，可以点击上面的添加资源，比较方便：
    </p>
    <p>
     <img alt="" height="200" src="https://i-blog.csdnimg.cn/direct/50ef30f004754b308a6ca5a8331c66d0.png" width="343"/>
    </p>
    <p>
     下面改变为：
    </p>
    <p>
     <img alt="" height="452" src="https://i-blog.csdnimg.cn/direct/fd2e6c9afc274a009cfeaf17d7c658f6.png" width="300"/>
    </p>
    <p>
     默认是黑框，鼠标放上去是蓝框，点下去是红框
    </p>
    <p>
     总结一下：
    </p>
    <p>
     <img alt="" height="657" src="https://i-blog.csdnimg.cn/direct/eee02a74540f4f40a9647a144444a25a.png" width="1297"/>
    </p>
    <hr/>
    <h3 id="%E7%BB%99%E8%BE%93%E5%85%A5%E6%A1%86%E8%AE%BE%E7%BD%AE%E6%A0%B7%E5%BC%8F" name="%E7%BB%99%E8%BE%93%E5%85%A5%E6%A1%86%E8%AE%BE%E7%BD%AE%E6%A0%B7%E5%BC%8F">
     给输入框设置样式
    </h3>
    <p>
     首先创建一个 line edit：
    </p>
    <p>
     <img alt="" height="96" src="https://i-blog.csdnimg.cn/direct/5d742267895b430b84518df0ac879a5b.png" width="276"/>
    </p>
    <p>
     右键输入框，点击改变样式表：
    </p>
    <p>
     <img alt="" height="220" src="https://i-blog.csdnimg.cn/direct/ffd12f5cf3b94da28afa1ee67f3cefd1.png" width="330"/>
    </p>
    <p>
     此时效果为：
    </p>
    <p>
     <img alt="" height="81" src="https://i-blog.csdnimg.cn/direct/4be075cf4769422795a240e5bcee4e96.png" width="272"/>
    </p>
    <p>
     下面是一些属性说明：
    </p>
    <p>
     <img alt="" height="741" src="https://i-blog.csdnimg.cn/direct/19b6e97ffc904ba0bb100bbbf3519c4e.png" width="1301"/>
    </p>
    <hr/>
    <h3 id="%E7%BB%99%E5%88%97%E8%A1%A8%E6%A1%86%E8%AE%BE%E7%BD%AE%E6%A0%B7%E5%BC%8F" name="%E7%BB%99%E5%88%97%E8%A1%A8%E6%A1%86%E8%AE%BE%E7%BD%AE%E6%A0%B7%E5%BC%8F">
     给列表框设置样式
    </h3>
    <p>
     先创建一个 List Widget，并添加几个选项：
    </p>
    <p>
     <img alt="" height="165" src="https://i-blog.csdnimg.cn/direct/d3809a71e482487e834e67066ba5ae4e.png" width="229"/>
    </p>
    <p>
     右键改变样式表：
    </p>
    <p>
     <img alt="" height="158" src="https://i-blog.csdnimg.cn/direct/30663a79ac1d4812aea28acae3ddb0a5.png" width="300"/>
    </p>
    <p>
     效果为：
    </p>
    <p>
     <img alt="" height="106" src="https://i-blog.csdnimg.cn/direct/4bf8b27b6f5343c08e6a8f02be4ea2cc.png" width="353"/>
    </p>
    <p>
     上述设置的是纯色的， 还可以设置渐变色，使用属性 qlineargradient 设置渐变色(线性渐变)，此处需要填写六个参数：
     <br/>
     坐标是非0即1的，也就是最小是0，最大是1
    </p>
    <ul>
     <li>
      x1: 起点的横坐标
     </li>
     <li>
      y1: 起点的纵坐标
     </li>
     <li>
      x2: 终点的横坐标
     </li>
     <li>
      y2: 终点的纵坐标
     </li>
     <li>
      stop: 0 起始颜色
     </li>
     <li>
      stop: 1 结束颜色
     </li>
    </ul>
    <p>
     例如：
     <br/>
     x1:0，y1: 0，x2: 1，y2: 0，就是从左到右的渐变
     <br/>
     x1:0，y1: 0，x2: 0，y2: 1，就是从上到下的渐变
     <br/>
     x1:0，y1: 0，x2: 1，y2: 1，就是从左上到右下的渐变，对角线方向
    </p>
    <p>
     下面就改变样式表，改为渐变色：
    </p>
    <p>
     <img alt="" height="165" src="https://i-blog.csdnimg.cn/direct/f4377b3d7f2847b6897a8982d3a3aedc.png" width="631"/>
    </p>
    <p>
     效果为：
    </p>
    <p>
     <img alt="" height="113" src="https://i-blog.csdnimg.cn/direct/19a884c58283499eb7af285da998fa4d.png" width="175"/>
    </p>
    <hr/>
    <h3 id="%E7%BB%99%E8%8F%9C%E5%8D%95%E6%A0%8F%E8%AE%BE%E7%BD%AE%E6%A0%B7%E5%BC%8F" name="%E7%BB%99%E8%8F%9C%E5%8D%95%E6%A0%8F%E8%AE%BE%E7%BD%AE%E6%A0%B7%E5%BC%8F" style="background-color:transparent">
     给菜单栏设置样式
    </h3>
    <p>
     首先创建一个菜单，下面有几个菜单项：
    </p>
    <p>
     <img alt="" height="178" src="https://i-blog.csdnimg.cn/direct/35048d32b7994358878823d0455dc916.png" width="111"/>
    </p>
    <p>
     针对整个窗口右键，改变样式表：
    </p>
    <p>
     <img alt="" height="349" src="https://i-blog.csdnimg.cn/direct/43dab5ea68804d09b4609162450edcd5.png" width="254"/>
    </p>
    <ul>
     <li>
      spacing：菜单之间的间隔
     </li>
     <li>
      QMenu::item 是为了选中某个菜单项时，字体不会变动(因为选择某个菜单项时会加上边框，与不加边框的字显示不桶了)
     </li>
    </ul>
    <p>
     效果为：
    </p>
    <p>
     <img alt="" height="162" src="https://i-blog.csdnimg.cn/direct/e0ab62ea0d86476cbe645566a5676ef8.png" width="155"/>
    </p>
    <p>
     一些要点：
    </p>
    <p>
     <img alt="" height="532" src="https://i-blog.csdnimg.cn/direct/32c2250bf22a478ba2b42aa3a0ef838f.png" width="1299"/>
    </p>
    <hr/>
    <h3 id="%E5%AE%9E%E7%8E%B0%E7%99%BB%E5%BD%95%E7%95%8C%E9%9D%A2" name="%E5%AE%9E%E7%8E%B0%E7%99%BB%E5%BD%95%E7%95%8C%E9%9D%A2">
     实现登录界面
    </h3>
    <p>
     在我们的日常生活中，登录界面可以说是随处可见了，下面就使用 Qt 实现一个登录界面，并使用 QSS 对它进行样式的设置
    </p>
    <p>
     图形化界面的方式创建：
    </p>
    <p>
     <img alt="" height="226" src="https://i-blog.csdnimg.cn/direct/45d692a718dc410394ab709d2badb8ce.png" width="261"/>
    </p>
    <p>
     因为将这几个控件放入布局管理器中了，所以不能设置大小了，但是我们可以通过设置最小高度、最大高度，来达到我们想要的高度
    </p>
    <p>
     <img alt="" height="112" src="https://i-blog.csdnimg.cn/direct/f466b57733d94c418e2152fc9e7a6b59.png" width="343"/>
    </p>
    <p>
     接着我们想将这个登录界面设置的好看些，所以可以设置一下登录界面的背景图片，使用 qrc 导入图片
    </p>
    <p>
     <img alt="" height="70" src="https://i-blog.csdnimg.cn/direct/5163a011a6864dd6aca021133ca3da61.png" width="142"/>
    </p>
    <p>
     直观想法，是直接给 QWidget 顶层窗口设置背景图
     <br/>
     但是 Qt 中存在限制，直接给顶层窗口设置背景会失效
    </p>
    <p>
     所以解决方式就是：
     <br/>
     可以给上述控件外头套上一个和窗口一样大小的 QFrame 控件
    </p>
    <p>
     <img alt="" height="189" src="https://i-blog.csdnimg.cn/direct/04b8af5b9da946949a836f3123907803.png" width="290"/>
    </p>
    <p>
     此时的关系如下所示，先是 QWidget，QWidget 里面有一个 QFrame，QFrame 里面才是这几个控件
    </p>
    <p>
     <img alt="" height="136" src="https://i-blog.csdnimg.cn/direct/45e48224c24b4cab91cea4349075256a.png" width="237"/>
    </p>
    <p>
     下面鼠标点击上图的 QWidget，右键点击改变样式表：
    </p>
    <p>
     <img alt="" height="122" src="https://i-blog.csdnimg.cn/direct/cf9699d176da45748c35294d6cead7da.png" width="245"/>
    </p>
    <p>
     Qt 中设置背景图，除了 background-image 之外，还有 border-image 属性
    </p>
    <ul>
     <li>
      background-image：背景图片固定大小
     </li>
     <li>
      border-image：通过这种方式设置的背景，会自动跟随控件的大小变化(推荐)
     </li>
    </ul>
    <p>
     效果为：
    </p>
    <p>
     <img alt="" height="251" src="https://i-blog.csdnimg.cn/direct/08bb467e9a9547eb993da71c0569a7db.png" width="315"/>
    </p>
    <p>
     接着继续设置其他样式：
    </p>
    <p>
     <img alt="" height="441" src="https://i-blog.csdnimg.cn/direct/fd149440ef0c4a1abd19818e1062ccc2.png" width="317"/>
    </p>
    <p>
     此时效果如下：
    </p>
    <p>
     <img alt="" height="309" src="https://i-blog.csdnimg.cn/direct/eb3a5d9a22554914b379e400dce73092.png" width="297"/>
    </p>
    <hr/>
    <p>
     Qt：界面优化到此结束
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f36343431313533302f:61727469636c652f64657461696c732f313436313437353030" class_="artid" style="display:none">
 </p>
</div>


