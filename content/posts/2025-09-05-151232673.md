---
layout: post
title: "Leetcode721.-账户合并中等"
date: 2025-09-05T23:07:33+0800
description: "本文介绍了LeetCode 721题「账户合并」的解法，使用并查集数据结构高效合并相同用户的邮箱账户。通过构建邮件到索引的映射和按索引分组邮件的映射，实现账户合并。最终将合并结果按用户名排序输出。代码采用带路径压缩和按秩合并的优化并查集，时间复杂度接近线性。运行结果验证了算法的正确性。文章结尾鼓励读者点赞关注支持作者持续更新内容。"
keywords: "Leetcode—721. 账户合并【中等】"
categories: ['Leetcode']
tags: ['经验分享', '算法', '并查集', 'Leetcode', 'C']
artid: "151232673"
arturl: "https://blog.csdn.net/qq_44631615/article/details/151232673"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=151232673
    alt: "Leetcode721.-账户合并中等"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=151232673
featuredImagePreview: https://bing.ee123.net/img/rand?artid=151232673
cover: https://bing.ee123.net/img/rand?artid=151232673
image: https://bing.ee123.net/img/rand?artid=151232673
img: https://bing.ee123.net/img/rand?artid=151232673
---



# Leetcode—721. 账户合并【中等】



## 2025每日刷题（231）

### Leetcode—721. 账户合并

![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/4184fddca71f40d7b913a668d1b8aeb1.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_96,text_5rqQ5Luj56CB4oCi5a64,size_16,color_FFFFFF,t_70)

### 实现代码

```cpp
class unionFind {
public:
    unionFind(int n): id(n), sz(n, 1) {
        iota(id.begin(), id.end(), 0);
    }

    void unionSize(const int& u, const int& v) {
        const int x = find(u);
        const int y = find(v);

        if(x == y) {
            return;
        }

        if(sz[x] < sz[y]) {
            sz[y] += sz[x];
            id[x] = y;
        } else {
            sz[x] += sz[y];
            id[y] = x;
        }
    }

    int find(const int &u) {
        return id[u] == u? u: id[u] = find(id[u]);
    }

private:
    vector<int> id;
    vector<int> sz;
};

class Solution {
public:
    vector<vector<string>> accountsMerge(vector<vector<string>>& accounts) {
        int n = accounts.size();
        vector<vector<string>> ans;
        
        // {email: index}
        unordered_map<string, int> mailtoIndex;
        // {index: {emails}}
        unordered_map<int, set<string>> indextoMails;

        unionFind uf(n);

        for(int i = 0; i < n; ++i) {
            const string& name = accounts[i][0];
            for(int j = 1; j < accounts[i].size(); ++j) {
                const string& email = accounts[i][j];
                const auto& it = mailtoIndex.find(email);
                if(it == mailtoIndex.end()) {
                    mailtoIndex[email] = i;
                } else {
                    uf.unionSize(i, it->second);
                }
            }
        }

        for(const auto& [email, index]: mailtoIndex) {
            indextoMails[uf.find(index)].insert(email);
        }

        for(const auto& [index, email]: indextoMails) {
            const string& name = accounts[index][0];
            vector<string> row{name};
            row.insert(row.end(), email.begin(), email.end());
            ans.push_back(row);
        }

        return ans;
    }
};

```

### 运行结果

![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/3a50ebc9bd4e498ea1d1283e6ab06c6e.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_96,text_5rqQ5Luj56CB4oCi5a64,size_16,color_FFFFFF,t_70)

之后我会持续更新，如果喜欢我的文章，请记得一键三连哦，点赞关注收藏，你的每一个赞每一份关注每一次收藏都将是我前进路上的无限动力 ！！！↖(▔▽▔)↗感谢支持！



