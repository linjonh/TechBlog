---
layout: post
title: "详解SQL数据更新功能"
date: 2025-03-12 16:56:23 +0800
description: "插入操作将表中的记录以加工后的形式（工资增加 1000）插入到employees表；插入后，employees表新增两条记录。更新操作将employees表中Finance部门的工资增加 15%；更新后，id = 103的工资从 7000 增加到了 8050。删除操作删除了表中的记录对应的id在employees表的记录；删除操作后，employees表保持了现有的符合条件的记录。"
keywords: "详解SQL数据更新功能"
categories: ['数据库']
tags: ['数据库', 'Sql', 'Oracle']
artid: "144969883"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=144969883
    alt: "详解SQL数据更新功能"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=144969883
featuredImagePreview: https://bing.ee123.net/img/rand?artid=144969883
cover: https://bing.ee123.net/img/rand?artid=144969883
image: https://bing.ee123.net/img/rand?artid=144969883
img: https://bing.ee123.net/img/rand?artid=144969883
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     详解SQL数据更新功能
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <p>
    </p>
    <h2>
     <a id="INSERT_1">
     </a>
     一、插入数据（INSERT）
    </h2>
    <p>
     插入数据是向表中新增记录的操作。主要分为：
    </p>
    <ol>
     <li>
      插入单个元组；
     </li>
     <li>
      插入多个元组；
     </li>
     <li>
      插入子查询的结果。
     </li>
    </ol>
    <h3>
     <a id="1__7">
     </a>
     1. 插入单个元组
    </h3>
    <h4>
     <a id="_8">
     </a>
     语法：
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> table_name <span class="token punctuation">(</span>column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="_13">
     </a>
     示例：
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> employees <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> department<span class="token punctuation">,</span> salary<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">101</span><span class="token punctuation">,</span> <span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token string">'HR'</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <ul>
     <li>
      <strong>
       作用
      </strong>
      : 将一条数据插入到
      <code>
       employees
      </code>
      表中。
     </li>
     <li>
      <strong>
       注意
      </strong>
      :
      <ol>
       <li>
        列名和值的顺序必须一一对应；
       </li>
       <li>
        列值必须与列的
        <strong>
         数据类型
        </strong>
        匹配。
       </li>
      </ol>
     </li>
    </ul>
    <h3>
     <a id="2__23">
     </a>
     2. 插入多个元组
    </h3>
    <h4>
     <a id="_24">
     </a>
     语法：
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> table_name <span class="token punctuation">(</span>column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> 
<span class="token punctuation">(</span>value1_1<span class="token punctuation">,</span> value1_2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span>value2_1<span class="token punctuation">,</span> value2_2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="_32">
     </a>
     示例：
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> employees <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> department<span class="token punctuation">,</span> salary<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token number">102</span><span class="token punctuation">,</span> <span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token string">'IT'</span><span class="token punctuation">,</span> <span class="token number">6000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">103</span><span class="token punctuation">,</span> <span class="token string">'Charlie'</span><span class="token punctuation">,</span> <span class="token string">'Finance'</span><span class="token punctuation">,</span> <span class="token number">7000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">104</span><span class="token punctuation">,</span> <span class="token string">'Diana'</span><span class="token punctuation">,</span> <span class="token string">'Marketing'</span><span class="token punctuation">,</span> <span class="token number">6500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <ul>
     <li>
      <strong>
       作用
      </strong>
      : 一次插入多条记录，减少单独执行的开销。
     </li>
     <li>
      <strong>
       注意
      </strong>
      : 数据库对一次插入的记录数可能有大小限制。
     </li>
    </ul>
    <h3>
     <a id="3__44">
     </a>
     3. 插入子查询的结果
    </h3>
    <h4>
     <a id="_45">
     </a>
     语法：
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> table_name <span class="token punctuation">(</span>column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> another_table
<span class="token keyword">WHERE</span> condition<span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="_52">
     </a>
     示例：
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> employees <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> department<span class="token punctuation">,</span> salary<span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token string">'Sales'</span><span class="token punctuation">,</span> salary <span class="token operator">*</span> <span class="token number">1.1</span>
<span class="token keyword">FROM</span> temp_employees
<span class="token keyword">WHERE</span> department <span class="token operator">=</span> <span class="token string">'Marketing'</span><span class="token punctuation">;</span>
</code></pre>
    <ul>
     <li>
      <strong>
       作用
      </strong>
      : 将
      <code>
       temp_employees
      </code>
      表中
      <code>
       Marketing
      </code>
      部门的员工信息插入到
      <code>
       employees
      </code>
      表中，同时增加工资的 10%，并将部门改为
      <code>
       Sales
      </code>
      。
     </li>
     <li>
      <strong>
       注意
      </strong>
      :
      <ol>
       <li>
        子查询的列数和数据类型必须与目标表一致；
       </li>
       <li>
        子查询可以对数据进行加工（如
        <code>
         salary * 1.1
        </code>
        ）。
       </li>
      </ol>
     </li>
    </ul>
    <hr/>
    <h2>
     <a id="UPDATE_66">
     </a>
     二、修改数据（UPDATE）
    </h2>
    <p>
     修改数据是对表中的记录进行更新操作。主要分为：
    </p>
    <ol>
     <li>
      修改单个元组；
     </li>
     <li>
      修改多个元组；
     </li>
     <li>
      带子查询的修改。
     </li>
    </ol>
    <h3>
     <a id="1__74">
     </a>
     1. 修改单个元组
    </h3>
    <h4>
     <a id="_75">
     </a>
     语法：
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> table_name
<span class="token keyword">SET</span> column1 <span class="token operator">=</span> value1<span class="token punctuation">,</span> column2 <span class="token operator">=</span> value2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">WHERE</span> condition<span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="_81">
     </a>
     示例：
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> employees
<span class="token keyword">SET</span> salary <span class="token operator">=</span> <span class="token number">5500</span>
<span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">101</span><span class="token punctuation">;</span>
</code></pre>
    <ul>
     <li>
      <strong>
       作用
      </strong>
      : 更新
      <code>
       id = 101
      </code>
      的员工工资为 5500。
     </li>
     <li>
      <strong>
       注意
      </strong>
      :
      <ol>
       <li>
        必须加上
        <code>
         WHERE
        </code>
        条件，否则会更新整张表；
       </li>
       <li>
        如果没有符合
        <code>
         WHERE
        </code>
        条件的记录，更新语句不会产生任何影响。
       </li>
      </ol>
     </li>
    </ul>
    <h3>
     <a id="2__93">
     </a>
     2. 修改多个元组
    </h3>
    <h4>
     <a id="_94">
     </a>
     语法：
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> table_name
<span class="token keyword">SET</span> column1 <span class="token operator">=</span> value1<span class="token punctuation">,</span> column2 <span class="token operator">=</span> value2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">WHERE</span> condition<span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="_100">
     </a>
     示例：
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> employees
<span class="token keyword">SET</span> salary <span class="token operator">=</span> salary <span class="token operator">*</span> <span class="token number">1.1</span>
<span class="token keyword">WHERE</span> department <span class="token operator">=</span> <span class="token string">'Sales'</span><span class="token punctuation">;</span>
</code></pre>
    <ul>
     <li>
      <strong>
       作用
      </strong>
      : 将
      <code>
       Sales
      </code>
      部门所有员工的工资增加 10%。
     </li>
     <li>
      <strong>
       注意
      </strong>
      :
      <ol>
       <li>
        支持对多条记录同时更新；
       </li>
       <li>
        <code>
         WHERE
        </code>
        条件控制了更新的范围。
       </li>
      </ol>
     </li>
    </ul>
    <h3>
     <a id="3__112">
     </a>
     3. 带子查询的修改
    </h3>
    <h4>
     <a id="_113">
     </a>
     语法：
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> table_name
<span class="token keyword">SET</span> column1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token keyword">value</span> <span class="token keyword">FROM</span> another_table <span class="token keyword">WHERE</span> condition<span class="token punctuation">)</span>
<span class="token keyword">WHERE</span> condition<span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="_119">
     </a>
     示例：
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> employees
<span class="token keyword">SET</span> salary <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees <span class="token keyword">WHERE</span> department <span class="token operator">=</span> <span class="token string">'HR'</span><span class="token punctuation">)</span>
<span class="token keyword">WHERE</span> department <span class="token operator">=</span> <span class="token string">'Sales'</span><span class="token punctuation">;</span>
</code></pre>
    <ul>
     <li>
      <strong>
       作用
      </strong>
      : 将
      <code>
       Sales
      </code>
      部门所有员工的工资更新为
      <code>
       HR
      </code>
      部门的最高工资。
     </li>
     <li>
      <strong>
       注意
      </strong>
      :
      <ol>
       <li>
        子查询返回的结果必须是单值；
       </li>
       <li>
        如果子查询无结果，会将列值设置为
        <code>
         NULL
        </code>
        。
       </li>
      </ol>
     </li>
    </ul>
    <hr/>
    <h2>
     <a id="DELETE_132">
     </a>
     三、删除数据（DELETE）
    </h2>
    <p>
     删除数据是从表中移除记录的操作。主要分为：
    </p>
    <ol>
     <li>
      删除单个元组；
     </li>
     <li>
      删除多个元组；
     </li>
     <li>
      带子查询的删除。
     </li>
    </ol>
    <h3>
     <a id="1__140">
     </a>
     1. 删除单个元组
    </h3>
    <h4>
     <a id="_141">
     </a>
     语法：
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> table_name
<span class="token keyword">WHERE</span> condition<span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="_146">
     </a>
     示例：
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">101</span><span class="token punctuation">;</span>
</code></pre>
    <ul>
     <li>
      <strong>
       作用
      </strong>
      : 删除
      <code>
       id = 101
      </code>
      的员工记录。
     </li>
     <li>
      <strong>
       注意
      </strong>
      :
      <ol>
       <li>
        必须加上
        <code>
         WHERE
        </code>
        条件，否则会删除整张表；
       </li>
       <li>
        数据一旦删除无法恢复，除非有备份。
       </li>
      </ol>
     </li>
    </ul>
    <h3>
     <a id="2__157">
     </a>
     2. 删除多个元组
    </h3>
    <h4>
     <a id="_158">
     </a>
     语法：
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> table_name
<span class="token keyword">WHERE</span> condition<span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="_163">
     </a>
     示例：
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> department <span class="token operator">=</span> <span class="token string">'Sales'</span><span class="token punctuation">;</span>
</code></pre>
    <ul>
     <li>
      <strong>
       作用
      </strong>
      : 删除
      <code>
       Sales
      </code>
      部门的所有员工记录。
     </li>
     <li>
      <strong>
       注意
      </strong>
      :
      <ol>
       <li>
        <code>
         WHERE
        </code>
        条件控制删除范围；
       </li>
       <li>
        如果没有满足条件的记录，则不会删除任何数据。
       </li>
      </ol>
     </li>
    </ul>
    <h3>
     <a id="3__174">
     </a>
     3. 带子查询的删除
    </h3>
    <h4>
     <a id="_175">
     </a>
     语法：
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> table_name
<span class="token keyword">WHERE</span> column1 <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> column1 <span class="token keyword">FROM</span> another_table <span class="token keyword">WHERE</span> condition<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="_180">
     </a>
     示例：
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> id <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> id <span class="token keyword">FROM</span> temp_employees <span class="token keyword">WHERE</span> <span class="token keyword">status</span> <span class="token operator">=</span> <span class="token string">'Inactive'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <ul>
     <li>
      <strong>
       作用
      </strong>
      : 删除
      <code>
       employees
      </code>
      表中，所有
      <code>
       id
      </code>
      在
      <code>
       temp_employees
      </code>
      表且状态为
      <code>
       Inactive
      </code>
      的记录。
     </li>
     <li>
      <strong>
       注意
      </strong>
      :
      <ol>
       <li>
        子查询用于动态确定要删除的记录；
       </li>
       <li>
        如果子查询返回空集，不会删除任何数据。
       </li>
      </ol>
     </li>
    </ul>
    <hr/>
    <h2>
     <a id="_192">
     </a>
     四、注意事项
    </h2>
    <ol>
     <li>
      <strong>
       操作前备份数据
      </strong>
      : 特别是
      <code>
       UPDATE
      </code>
      和
      <code>
       DELETE
      </code>
      ，防止误操作；
     </li>
     <li>
      <strong>
       WHERE 条件
      </strong>
      :
      <ul>
       <li>
        插入时不要重复插入相同的记录；
       </li>
       <li>
        修改或删除时，确保
        <code>
         WHERE
        </code>
        条件准确；
       </li>
      </ul>
     </li>
     <li>
      <strong>
       事务（Transaction）管理
      </strong>
      :
      <ul>
       <li>
        在批量执行更新或删除时，建议使用事务管理，确保数据一致性；
       </li>
       <li>
        示例：
        <pre><code class="prism language-sql"><span class="token keyword">BEGIN</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> employees <span class="token keyword">WHERE</span> department <span class="token operator">=</span> <span class="token string">'Sales'</span><span class="token punctuation">;</span>
<span class="token keyword">ROLLBACK</span><span class="token punctuation">;</span> <span class="token comment">-- 如果操作有误</span>
<span class="token keyword">COMMIT</span><span class="token punctuation">;</span>   <span class="token comment">-- 确认操作</span>
</code></pre>
       </li>
      </ul>
     </li>
     <li>
      <strong>
       子查询
      </strong>
      :
      <ul>
       <li>
        子查询是动态生成数据的关键，可以灵活地插入、更新或删除；
       </li>
       <li>
        子查询结果必须符合数据的类型和数量要求。
       </li>
      </ul>
     </li>
    </ol>
    <hr/>
    <h2>
     <a id="_212">
     </a>
     五、综合示例
    </h2>
    <p>
     我们假设有一个表
     <code>
      employees
     </code>
     和一个临时表
     <code>
      temp_employees
     </code>
     。
    </p>
    <h3>
     <a id="_216">
     </a>
     初始数据视图
    </h3>
    <h4>
     <a id="employees__218">
     </a>
     <code>
      employees
     </code>
     表：
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        id
       </th>
       <th>
        name
       </th>
       <th>
        department
       </th>
       <th>
        salary
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        101
       </td>
       <td>
        Alice
       </td>
       <td>
        HR
       </td>
       <td>
        5000
       </td>
      </tr>
      <tr>
       <td>
        102
       </td>
       <td>
        Bob
       </td>
       <td>
        IT
       </td>
       <td>
        6000
       </td>
      </tr>
      <tr>
       <td>
        103
       </td>
       <td>
        Charlie
       </td>
       <td>
        Finance
       </td>
       <td>
        7000
       </td>
      </tr>
      <tr>
       <td>
        104
       </td>
       <td>
        Diana
       </td>
       <td>
        Marketing
       </td>
       <td>
        6500
       </td>
      </tr>
     </tbody>
    </table>
    <h4>
     <a id="temp_employees__226">
     </a>
     <code>
      temp_employees
     </code>
     表：
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        id
       </th>
       <th>
        name
       </th>
       <th>
        department
       </th>
       <th>
        salary
       </th>
       <th>
        status
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        201
       </td>
       <td>
        Eva
       </td>
       <td>
        IT
       </td>
       <td>
        7000
       </td>
       <td>
        Active
       </td>
      </tr>
      <tr>
       <td>
        202
       </td>
       <td>
        Frank
       </td>
       <td>
        IT
       </td>
       <td>
        8000
       </td>
       <td>
        Active
       </td>
      </tr>
      <tr>
       <td>
        203
       </td>
       <td>
        Grace
       </td>
       <td>
        Finance
       </td>
       <td>
        7500
       </td>
       <td>
        Inactive
       </td>
      </tr>
      <tr>
       <td>
        204
       </td>
       <td>
        Helen
       </td>
       <td>
        Sales
       </td>
       <td>
        5000
       </td>
       <td>
        Inactive
       </td>
      </tr>
     </tbody>
    </table>
    <h3>
     <a id="_1_236">
     </a>
     操作 1：插入数据
    </h3>
    <h4>
     <a id="SQL_238">
     </a>
     SQL：
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> employees <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> department<span class="token punctuation">,</span> salary<span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> department<span class="token punctuation">,</span> salary <span class="token operator">+</span> <span class="token number">1000</span>
<span class="token keyword">FROM</span> temp_employees
<span class="token keyword">WHERE</span> department <span class="token operator">=</span> <span class="token string">'IT'</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="_246">
     </a>
     过程分析：
    </h4>
    <ol>
     <li>
      从
      <code>
       temp_employees
      </code>
      表中筛选
      <code>
       department = 'IT'
      </code>
      的记录；
     </li>
     <li>
      将
      <code>
       salary
      </code>
      增加 1000 后插入到
      <code>
       employees
      </code>
      表。
     </li>
    </ol>
    <h4>
     <a id="_250">
     </a>
     数据视图：
    </h4>
    <p>
     <strong>
      <code>
       employees
      </code>
      表
     </strong>
     （插入后）：
    </p>
    <table>
     <thead>
      <tr>
       <th>
        id
       </th>
       <th>
        name
       </th>
       <th>
        department
       </th>
       <th>
        salary
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        101
       </td>
       <td>
        Alice
       </td>
       <td>
        HR
       </td>
       <td>
        5000
       </td>
      </tr>
      <tr>
       <td>
        102
       </td>
       <td>
        Bob
       </td>
       <td>
        IT
       </td>
       <td>
        6000
       </td>
      </tr>
      <tr>
       <td>
        103
       </td>
       <td>
        Charlie
       </td>
       <td>
        Finance
       </td>
       <td>
        7000
       </td>
      </tr>
      <tr>
       <td>
        104
       </td>
       <td>
        Diana
       </td>
       <td>
        Marketing
       </td>
       <td>
        6500
       </td>
      </tr>
      <tr>
       <td>
        201
       </td>
       <td>
        Eva
       </td>
       <td>
        IT
       </td>
       <td>
        8000
       </td>
      </tr>
      <tr>
       <td>
        202
       </td>
       <td>
        Frank
       </td>
       <td>
        IT
       </td>
       <td>
        9000
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
      <code>
       temp_employees
      </code>
      表
     </strong>
     （无变化）：
    </p>
    <table>
     <thead>
      <tr>
       <th>
        id
       </th>
       <th>
        name
       </th>
       <th>
        department
       </th>
       <th>
        salary
       </th>
       <th>
        status
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        201
       </td>
       <td>
        Eva
       </td>
       <td>
        IT
       </td>
       <td>
        7000
       </td>
       <td>
        Active
       </td>
      </tr>
      <tr>
       <td>
        202
       </td>
       <td>
        Frank
       </td>
       <td>
        IT
       </td>
       <td>
        8000
       </td>
       <td>
        Active
       </td>
      </tr>
      <tr>
       <td>
        203
       </td>
       <td>
        Grace
       </td>
       <td>
        Finance
       </td>
       <td>
        7500
       </td>
       <td>
        Inactive
       </td>
      </tr>
      <tr>
       <td>
        204
       </td>
       <td>
        Helen
       </td>
       <td>
        Sales
       </td>
       <td>
        5000
       </td>
       <td>
        Inactive
       </td>
      </tr>
     </tbody>
    </table>
    <h3>
     <a id="_2_272">
     </a>
     操作 2：更新数据
    </h3>
    <h4>
     <a id="SQL_274">
     </a>
     SQL：
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> employees
<span class="token keyword">SET</span> salary <span class="token operator">=</span> salary <span class="token operator">*</span> <span class="token number">1.15</span>
<span class="token keyword">WHERE</span> department <span class="token operator">=</span> <span class="token string">'Finance'</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="_281">
     </a>
     过程分析：
    </h4>
    <ol>
     <li>
      筛选出
      <code>
       department = 'Finance'
      </code>
      的记录；
     </li>
     <li>
      将这些记录的
      <code>
       salary
      </code>
      增加 15%。
     </li>
    </ol>
    <h4>
     <a id="_285">
     </a>
     数据视图：
    </h4>
    <p>
     <strong>
      <code>
       employees
      </code>
      表
     </strong>
     （更新后）：
    </p>
    <table>
     <thead>
      <tr>
       <th>
        id
       </th>
       <th>
        name
       </th>
       <th>
        department
       </th>
       <th>
        salary
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        101
       </td>
       <td>
        Alice
       </td>
       <td>
        HR
       </td>
       <td>
        5000
       </td>
      </tr>
      <tr>
       <td>
        102
       </td>
       <td>
        Bob
       </td>
       <td>
        IT
       </td>
       <td>
        6000
       </td>
      </tr>
      <tr>
       <td>
        103
       </td>
       <td>
        Charlie
       </td>
       <td>
        Finance
       </td>
       <td>
        8050
       </td>
      </tr>
      <tr>
       <td>
        104
       </td>
       <td>
        Diana
       </td>
       <td>
        Marketing
       </td>
       <td>
        6500
       </td>
      </tr>
      <tr>
       <td>
        201
       </td>
       <td>
        Eva
       </td>
       <td>
        IT
       </td>
       <td>
        8000
       </td>
      </tr>
      <tr>
       <td>
        202
       </td>
       <td>
        Frank
       </td>
       <td>
        IT
       </td>
       <td>
        9000
       </td>
      </tr>
     </tbody>
    </table>
    <h3>
     <a id="_3_299">
     </a>
     操作 3：删除数据
    </h3>
    <h4>
     <a id="SQL_301">
     </a>
     SQL：
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> id <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> id <span class="token keyword">FROM</span> temp_employees <span class="token keyword">WHERE</span> <span class="token keyword">status</span> <span class="token operator">=</span> <span class="token string">'Inactive'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="_307">
     </a>
     过程分析：
    </h4>
    <ol>
     <li>
      使用子查询从
      <code>
       temp_employees
      </code>
      表中筛选
      <code>
       status = 'Inactive'
      </code>
      的
      <code>
       id
      </code>
      （203 和 204）；
     </li>
     <li>
      删除
      <code>
       employees
      </code>
      表中对应的
      <code>
       id
      </code>
      记录。
     </li>
    </ol>
    <h4>
     <a id="_311">
     </a>
     数据视图：
    </h4>
    <p>
     <strong>
      <code>
       employees
      </code>
      表
     </strong>
     （删除后）：
    </p>
    <table>
     <thead>
      <tr>
       <th>
        id
       </th>
       <th>
        name
       </th>
       <th>
        department
       </th>
       <th>
        salary
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        101
       </td>
       <td>
        Alice
       </td>
       <td>
        HR
       </td>
       <td>
        5000
       </td>
      </tr>
      <tr>
       <td>
        102
       </td>
       <td>
        Bob
       </td>
       <td>
        IT
       </td>
       <td>
        6000
       </td>
      </tr>
      <tr>
       <td>
        103
       </td>
       <td>
        Charlie
       </td>
       <td>
        Finance
       </td>
       <td>
        8050
       </td>
      </tr>
      <tr>
       <td>
        104
       </td>
       <td>
        Diana
       </td>
       <td>
        Marketing
       </td>
       <td>
        6500
       </td>
      </tr>
      <tr>
       <td>
        201
       </td>
       <td>
        Eva
       </td>
       <td>
        IT
       </td>
       <td>
        8000
       </td>
      </tr>
      <tr>
       <td>
        202
       </td>
       <td>
        Frank
       </td>
       <td>
        IT
       </td>
       <td>
        9000
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
      <code>
       temp_employees
      </code>
      表
     </strong>
     （无变化）：
    </p>
    <table>
     <thead>
      <tr>
       <th>
        id
       </th>
       <th>
        name
       </th>
       <th>
        department
       </th>
       <th>
        salary
       </th>
       <th>
        status
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        201
       </td>
       <td>
        Eva
       </td>
       <td>
        IT
       </td>
       <td>
        7000
       </td>
       <td>
        Active
       </td>
      </tr>
      <tr>
       <td>
        202
       </td>
       <td>
        Frank
       </td>
       <td>
        IT
       </td>
       <td>
        8000
       </td>
       <td>
        Active
       </td>
      </tr>
      <tr>
       <td>
        203
       </td>
       <td>
        Grace
       </td>
       <td>
        Finance
       </td>
       <td>
        7500
       </td>
       <td>
        Inactive
       </td>
      </tr>
      <tr>
       <td>
        204
       </td>
       <td>
        Helen
       </td>
       <td>
        Sales
       </td>
       <td>
        5000
       </td>
       <td>
        Inactive
       </td>
      </tr>
     </tbody>
    </table>
    <h3>
     <a id="_333">
     </a>
     总结
    </h3>
    <ol>
     <li>
      <p>
       <strong>
        插入操作
       </strong>
       :
      </p>
      <ul>
       <li>
        将
        <code>
         temp_employees
        </code>
        表中
        <code>
         department = 'IT'
        </code>
        的记录以加工后的形式（工资增加 1000）插入到
        <code>
         employees
        </code>
        表；
       </li>
       <li>
        插入后，
        <code>
         employees
        </code>
        表新增两条记录。
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        更新操作
       </strong>
       :
      </p>
      <ul>
       <li>
        将
        <code>
         employees
        </code>
        表中
        <code>
         Finance
        </code>
        部门的工资增加 15%；
       </li>
       <li>
        更新后，
        <code>
         id = 103
        </code>
        的工资从 7000 增加到了 8050。
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        删除操作
       </strong>
       :
      </p>
      <ul>
       <li>
        删除了
        <code>
         temp_employees
        </code>
        表中
        <code>
         status = 'Inactive'
        </code>
        的记录对应的
        <code>
         id
        </code>
        在
        <code>
         employees
        </code>
        表的记录；
       </li>
       <li>
        删除操作后，
        <code>
         employees
        </code>
        表保持了现有的符合条件的记录。
       </li>
      </ul>
     </li>
    </ol>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330325f37393733303239332f:61727469636c652f64657461696c732f313434393639383833" class_="artid" style="display:none">
 </p>
</div>


