---
layout: post
title: "豆包大模型-语音实时通话-青青-服务器ECS踩坑过程"
date: 2025-03-14 15:49:48 +0800
description: "这款实时语音通话应用，依托豆包语音系列大模型打造。在这里，用户能与虚拟好友乔青青展开模拟通话，畅享真实的交流体验。乔青青（Doreen），一位 20 岁的射手座新闻传播专业学生，性格率真爽朗、成绩优异，对追星、旅游、唱歌、摄影充满热情。无论是分享日常琐事，还是深入探讨趣味话题，她都能成为你的理想伙伴。而且，用户还能根据喜好，自由选择青青的音色，从清脆甜美的少女音，到活力满满的灵动嗓音，为这场交流增添更多个性化色彩。想认识这位多才多艺、热情开朗的青青吗？"
keywords: "豆包大模型-语音实时通话-青青-服务器ECS踩坑过程"
categories: ['未分类']
tags: ['语音识别', '人工智能']
artid: "146258869"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146258869
    alt: "豆包大模型-语音实时通话-青青-服务器ECS踩坑过程"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146258869
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146258869
cover: https://bing.ee123.net/img/rand?artid=146258869
image: https://bing.ee123.net/img/rand?artid=146258869
img: https://bing.ee123.net/img/rand?artid=146258869
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     豆包大模型-语音实时通话-青青-服务器ECS踩坑过程
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     语音实时通话-青青
    </p>
    <p>
     依托豆包语音系列大模型，实现与虚拟好友乔青青开启实时语音通话，畅享真实的交流体验。
    </p>
    <p>
     <img alt="" height="570" src="https://i-blog.csdnimg.cn/direct/27110532479e4c1085d69e6de6c48329.png" width="728"/>
    </p>
    <h3>
     场景介绍
    </h3>
    <p>
     这款实时语音通话应用，依托豆包语音系列大模型打造。在这里，用户能与虚拟好友乔青青展开模拟通话，畅享真实的交流体验。
     <br/>
     乔青青（Doreen），一位 20 岁的射手座新闻传播专业学生，性格率真爽朗、成绩优异，对追星、旅游、唱歌、摄影充满热情。无论是分享日常琐事，还是深入探讨趣味话题，她都能成为你的理想伙伴。而且，用户还能根据喜好，自由选择青青的音色，从清脆甜美的少女音，到活力满满的灵动嗓音，为这场交流增添更多个性化色彩 。
     <br/>
     想认识这位多才多艺、热情开朗的青青吗？快来加入她的世界，与她一同探索生活的精彩，追逐梦想的光芒。
    </p>
    <h4 id="%E4%BC%98%E5%8A%BF">
     优势
    </h4>
    <ul>
     <li>
      沉浸式真人对话体验：生活化的沟通方式，让使用者在与乔青青交流时，仿佛她就在身边，能真切感受到她的爽朗性格，全方位模拟真人互动，深度沉浸。
     </li>
     <li>
      低延时：实现近乎实时的对话响应，彻底告别长时间等待，高度模拟面对面的真实通话体验。
     </li>
     <li>
      WebSocket 方案：易于实现和部署，通用性强跨平台兼容性好，高效利用资源，开发灵活性高，成本低。
     </li>
    </ul>
    <h4 id="%E7%9B%B8%E5%85%B3%E6%A8%A1%E5%9E%8B">
     相关模型
    </h4>
    <ul>
     <li>
      Doubao-pro-32k：深入还原角色的性格、背景和知识体系，以高度拟人化的方式回应用户提问，提供沉浸式的对话体验。
     </li>
     <li>
      Doubao-语音合成：根据用户偏好的音色定制生成拟人化、逼真的角色语音输出。
     </li>
     <li>
      Doubao-流式语音识别：将用户的语音提问转写为文本，以便于大模型对用户问题的理解与回复。
     </li>
    </ul>
    <h3>
     模型申请
    </h3>
    <h3>
     Doubao-pro-32k申请入口
    </h3>
    <p>
     <a class="has-card" href="https://console.volcengine.com/ark" rel="nofollow" title="账号登录-火山引擎">
      <span class="link-card-box" contenteditable="false">
       <span class="link-title">
        账号登录-火山引擎
       </span>
       <span class="link-desc">
        欢迎登录火山引擎，火山引擎是字节跳动旗下的云服务平台。
       </span>
       <span class="link-link">
        <img class="link-link-icon" src="https://csdnimg.cn/release/blog_editor_html/release2.3.8/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=P1C7">
         https://console.volcengine.com/ark
        </img>
       </span>
      </span>
     </a>
     Doubao语音合成申请入口
    </p>
    <p>
     <a class="has-card" href="https://console.volcengine.com/speech/app" rel="nofollow" title="账号登录-火山引擎">
      <span class="link-card-box" contenteditable="false">
       <span class="link-title">
        null
       </span>
       <span class="link-desc">
        欢迎登录火山引擎，火山引擎是字节跳动旗下的云服务平台。
       </span>
       <span class="link-link">
        <img class="link-link-icon" src="https://csdnimg.cn/release/blog_editor_html/release2.3.8/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=P1C7">
         https://console.volcengine.com/speech/app
        </img>
       </span>
      </span>
     </a>
    </p>
    <h3>
     下载源码
    </h3>
    <p>
     前往GITHUB下载官方提供的DEMO
    </p>
    <pre><code class="hljs">https://github.com/volcengine/ai-app-lab/tree/main/demohouse/live_voice_call</code></pre>
    <h3 id="%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87">
     环境准备
    </h3>
    <ul>
     <li>
      Poetry 1.6.1 版本
     </li>
     <li>
      Python 版本要求大于等于 3.8，小于 3.12
     </li>
     <li>
      Node 18.0 或以上版本
     </li>
     <li>
      PNPM 8.10 或以上版本
     </li>
     <li>
      获取语音技术产品的 APP ID 和 Access Token，获取方式参见【附录】
     </li>
     <li>
      火山方舟 API KEY
     </li>
     <li>
      火山引擎 AK SK
     </li>
     <li>
      创建 Doubao-Pro 32K 的endpoint
     </li>
    </ul>
    <h3>
     火山方舟 API KEY
    </h3>
    <p>
     1. 选择API Key
    </p>
    <p>
     请按如下方式设置 API Key 作为环境变量，其中"YOUR_API_KEY"需要替换为您在平台创建的 API Key
    </p>
    <p>
     选择 API Key 并复制
    </p>
    <p>
     <code>
      export ARK_API_KEY="YOUR_API_KEY"
     </code>
    </p>
    <p>
    </p>
    <p>
     2. 选择示例代码
    </p>
    <p>
     火山方舟 v3 API 与 OpenAI API 协议兼容，您可以使用火山引擎官方 SDK，也可以使用 OpenAI SDK 或其他兼容 OpenAI API 协议的多语言社区 SDK 调用火山方舟推理服务。第三方 SDK 不由火山引擎团队维护，仅供参考
    </p>
    <p>
     <img alt="" height="867" src="https://i-blog.csdnimg.cn/direct/8df0cc31321c4b968191bad3d11293d2.png" width="1489"/>
    </p>
    <p>
     <img alt="" height="836" src="https://i-blog.csdnimg.cn/direct/7a62c7c5f12e48bfab7eb8d9924b4b89.png" width="1505"/>
    </p>
    <h3>
     语音合成
    </h3>
    <p>
     <img alt="" height="838" src="https://i-blog.csdnimg.cn/direct/ded378dca9e74dd89a1ed72ffc147ac2.png" width="1716"/>
    </p>
    <h3>
     PYTHON环境安装
    </h3>
    <p>
     <span style="color:#fe2c24">
      注意注意如果你的PYTHON如果不是3.8以上的安装时可能会出现错误 ，建议先升级版本
     </span>
    </p>
    <h3 id="%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B">
     快速开始
    </h3>
    <p>
     本文为您介绍如何在本地快速部署 live voice call 项目。
    </p>
    <ol>
     <li>
      <p>
       下载代码库
      </p>
      <pre><code>git clone https://github.com/volcengine/ai-app-lab.git
cd demohouse/live_voice_call
</code></pre>
     </li>
     <li>
      <p>
       修改配置
      </p>
     </li>
    </ol>
    <ul>
     <li>
      <p>
       修改
       <code>
        backend/handler.py
       </code>
      </p>
      <pre><code>ASR_ACCESS_TOKEN = "{YOUR_ASR_ACCESS_TOKEN}"
ASR_APP_ID = "{YOUR_ASR_APP_ID}"
TTS_ACCESS_TOKEN = "{YOUR_TTS_ACCESS_TOKEN}"
TTS_APP_ID = "{YOUR_TTS_APP_ID}"
LLM_ENDPOINT_ID = "{YOUR_ARK_LLM_ENDPOINT_ID}"
</code></pre>
     </li>
     <li>
      <p>
       修改本地环境变量注入方舟APIKEY
      </p>
      <pre><code>export ARK_API_KEY={YOUR_API_KEY}
</code></pre>
     </li>
    </ul>
    <ol>
     <li>
      <p>
       启动服务端
      </p>
      <pre><code>cd demohouse/live_voice_call/backend

python -m venv .venv
source .venv/bin/activate
pip install poetry==1.6.1

poetry install
poetry run python -m handler
</code></pre>
     </li>
     <li>
      <p>
       启动web端
      </p>
      <pre><code>cd demohouse/live_voice_call/frontend
pnpm install
pnpm run dev
</code></pre>
     </li>
     <li>
      <p>
       访问
       <code>
        http://localhost:8080
       </code>
       即可
      </p>
     </li>
    </ol>
    <h3>
     服务器上的踩坑点
    </h3>
    <p>
     <span style="color:#fe2c24">
      最主要的是服务器上的踩坑点特别要注意的哟，如果不改，会一直出现连不上的问题。
     </span>
    </p>
    <p>
     <span style="color:#fe2c24">
      <strong>
       最主要的是服务器上的踩坑点特别要注意的哟，如果不改，会一直出现连不上的问题。
      </strong>
     </span>
    </p>
    <p>
     <span style="color:#38d8f0">
      最主要的是服务器上的踩坑点特别要注意的哟，如果不改，会一直出现连不上的问题。
     </span>
    </p>
    <p>
     <img alt="" height="833" src="https://i-blog.csdnimg.cn/direct/81d48659d429409ba6b4df34c7629a50.png" width="1243"/>
    </p>
    <p>
     大家记得一定要改否则用不了哟
    </p>
    <p>
    </p>
    <h4>
     前端发布
    </h4>
    <p>
     pnpm run build.网站要求用HTTPS，用你的域名打包指定到dist目录里，要不然不支持哟。
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="6874747073:3a2f2f626c6f672e6373646e2e6e65742f6c75636b3333322f:61727469636c652f64657461696c732f313436323538383639" class_="artid" style="display:none">
 </p>
</div>


