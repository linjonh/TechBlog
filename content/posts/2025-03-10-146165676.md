---
layout: post
title: "图的代码实现以邻接矩阵表示"
date: 2025-03-10 22:35:33 +0800
description: "【代码】图的代码实现（以邻接矩阵表示）"
keywords: "图的代码实现（以邻接矩阵表示）"
categories: ['未分类']
tags: ['算法', '数据结构', '图论', 'Java']
artid: "146165676"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146165676
    alt: "图的代码实现以邻接矩阵表示"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146165676
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146165676
cover: https://bing.ee123.net/img/rand?artid=146165676
image: https://bing.ee123.net/img/rand?artid=146165676
img: https://bing.ee123.net/img/rand?artid=146165676
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     图的代码实现（以邻接矩阵表示）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <pre><code class="language-java">package algorithm;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import java.util.Locale;

public class GraphByAdjacencyMatrix {
    private final List&lt;Integer&gt; mVertex = new ArrayList&lt;&gt;();
    private final List&lt;List&lt;Integer&gt;&gt; mAdjMatrix = new ArrayList&lt;&gt;();

    /**
     * 初始化图
     *
     * @param vertex 顶点列表
     * @param edges 相邻顶点关系（边）
     */
    public void init(List&lt;Integer&gt; vertex, List&lt;int[]&gt; edges) {
        mVertex.addAll(vertex);
        int size = size();
        for (int i = 0; i &lt; size; i++) {
            List&lt;Integer&gt; col = new ArrayList&lt;&gt;();
            for (int j = 0; j &lt; size; j++) {
                col.add(0);
            }
            mAdjMatrix.add(col);
        }
        for (int i = 0; i &lt; edges.size(); i++) {
            int[] edge = edges.get(i);
            checkEdgeValid(edge, i);
            mAdjMatrix.get(edge[0]).set(edge[1], 1);
            mAdjMatrix.get(edge[1]).set(edge[0], 1);
        }
    }

    /**
     * 添加顶点
     *
     * @param val 顶点值
     */
    public void addVertex(int val) {
        List&lt;Integer&gt; row = new ArrayList&lt;&gt;();
        for (int j = 0; j &lt; size(); j++) {
            row.add(0);
        }
        mVertex.add(val);
        mAdjMatrix.add(row);
        for (List&lt;Integer&gt; col : mAdjMatrix) {
            col.add(0);
        }
    }

    /**
     * 删除顶点
     *
     * @param val 顶点值
     */
    public void deleteVertex(int val) {
        int index = mVertex.indexOf(val);
        if (index == -1) {
            System.out.println("can't delete a Non-existent vertices");
            return;
        }
        mVertex.remove(index);
        mAdjMatrix.remove(index);
        for (List&lt;Integer&gt; row : mAdjMatrix) {
            row.remove(index);
        }
    }

    /**
     * 添加相邻顶点关系（边）
     *
     * @param edge 边
     */
    public void addEdge(int[] edge) {
        checkEdgeValid(edge, -1);
        mAdjMatrix.get(edge[0]).set(edge[1], 1);
        mAdjMatrix.get(edge[1]).set(edge[0], 1);
    }

    /**
     * 删除相邻顶点关系（边）
     *
     * @param edge 边
     */
    public void deleteEdge(int[] edge) {
        checkEdgeValid(edge, -1);
        mAdjMatrix.get(edge[0]).set(edge[1], 0);
        mAdjMatrix.get(edge[1]).set(edge[0], 0);
    }

    public void print() {
        System.out.println("\n------------------print graph-------------------");
        System.out.printf(Locale.ENGLISH, "\n\t%s%s%n",
                " ".repeat(4), getArrayPrintString(mVertex, " ", "  ", " "));
        System.out.printf(Locale.ENGLISH, "\n");
        for (int i = 0; i &lt; mAdjMatrix.size(); i++) {
            List&lt;Integer&gt; row = mAdjMatrix.get(i);
            Integer vertex = mVertex.get(i);
            System.out.printf(Locale.ENGLISH, "\t%s%s%n", String.format("%3d:", vertex),
                    getArrayPrintString(row, "[", ", ", "]"));
        }
    }

    private String getArrayPrintString(List&lt;Integer&gt; array, String symbolLeft, String symbolMid, String symbolRight) {
        StringBuilder sb = new StringBuilder(symbolLeft);
        for (int i = 0; i &lt; array.size(); i++) {
            sb.append(String.format("%3d", array.get(i)));
            if (i &lt; array.size() - 1)
                sb.append(symbolMid);
        }
        sb.append(symbolRight);
        return sb.toString();
    }

    private void checkEdgeValid(int[] edge, int indexAtEdges) {
        if (edge.length != 2) {
            String errMessage = indexAtEdges != -1 ? String.format(Locale.ENGLISH,
                    "invalid edge at edges[%s]!", indexAtEdges) : "invalid edge!";
            throw new IllegalArgumentException(errMessage);
        }
        int indexOfVertex1 = edge[0];
        int indexOfVertex2 = edge[1];
        if (indexOfVertex1 &gt;= size() || indexOfVertex2 &gt;= size() || indexOfVertex1 == indexOfVertex2) {
            throw new IllegalArgumentException(String.format(Locale.ENGLISH,
                    "invalid edge:[%s,%s]", indexOfVertex1, indexOfVertex2));
        }
    }

    private int size() {
        return mVertex.size();
    }

    public static void main(String[] args) {
        GraphByAdjacencyMatrix graph = new GraphByAdjacencyMatrix();
        List&lt;Integer&gt; vertex = new ArrayList&lt;&gt;();
        vertex.add(23);
        vertex.add(11);
        vertex.add(54);
        vertex.add(6);
        vertex.add(16);
        vertex.add(32);
        vertex.add(41);
        List&lt;int[]&gt; edges = new ArrayList&lt;&gt;();
        edges.add(new int[]{0, 1});
        edges.add(new int[]{0, 4});
        edges.add(new int[]{0, 3});
        edges.add(new int[]{1, 4});
        edges.add(new int[]{1, 2});
        edges.add(new int[]{1, 6});
        edges.add(new int[]{2, 6});
        edges.add(new int[]{3, 5});
        edges.add(new int[]{4, 5});
        edges.add(new int[]{5, 6});
        graph.init(vertex, edges);
        System.out.println("\n\ninitiate graph");
        graph.print();

        graph.addVertex(89);
        System.out.println("\n\nafter add vertex 89");
        graph.print();

        graph.addEdge(new int[]{5,7});
        graph.addEdge(new int[]{6,7});
        System.out.println("\n\nafter add edge [5,7],[6,7]");
        graph.print();

        graph.deleteVertex(16);
        System.out.println("\n\nafter delete vertex 16");
        graph.print();

        graph.addEdge(new int[]{1,5});
        graph.addEdge(new int[]{4,5});
        System.out.println("\n\nafter delete edge [1,5],[4,5]");
        graph.print();
    }
}
</code></pre>
    <p>
     <img alt="" height="448" src="https://i-blog.csdnimg.cn/direct/125de5b4120b4de98d4b65682a5056df.png" width="1180"/>
    </p>
    <p>
     <img alt="" height="471" src="https://i-blog.csdnimg.cn/direct/428f5d8241c34ac0b3816710845631e7.png" width="1182"/>
    </p>
    <p>
     <img alt="" height="461" src="https://i-blog.csdnimg.cn/direct/29b36f2457b54acfb5120d3f557620a5.png" width="1202">
      <img alt="" height="455" src="https://i-blog.csdnimg.cn/direct/1064c122c7dc44d0b88fcc56308a2d9e.png" width="1196"/>
     </img>
    </p>
    <p>
     <img alt="" height="442" src="https://i-blog.csdnimg.cn/direct/e39355fa61724dfea6cc941b9c702748.png" width="1194"/>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f4866656e677869616e672f:61727469636c652f64657461696c732f313436313635363736" class_="artid" style="display:none">
 </p>
</div>


