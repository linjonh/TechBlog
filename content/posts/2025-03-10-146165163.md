---
layout: post
title: "Swagger笔记"
date: 2025-03-10 22:23:51 +0800
description: "Swagger3规范升级• 支持更丰富的 API 描述能力（如回调、链接、多服务器配置）。• 改进的请求/响应模型定义。工具更新• 使用替代已停止维护的 Springfox（Swagger2 的 Spring 集成方案）。• 兼容 Spring Boot 2.x/3.x 和 WebFlux。注解简化• 注解包从升级为。• 更清晰的注解命名（如@Tag替代@Api修改# 自定义 Swagger UI 路径# 自定义 OpenAPI JSON 路径。"
keywords: "Swagger笔记"
categories: ['未分类']
tags: ['笔记']
artid: "146165163"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146165163
    alt: "Swagger笔记"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146165163
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146165163
cover: https://bing.ee123.net/img/rand?artid=146165163
image: https://bing.ee123.net/img/rand?artid=146165163
img: https://bing.ee123.net/img/rand?artid=146165163
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Swagger笔记
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="01_Swaggerspring_boot_0">
     </a>
     01 Swagger介绍及spring boot集成
    </h2>
    <h4>
     <a id="Swagger__1">
     </a>
     Swagger 介绍
    </h4>
    <p>
     <a href="https://swagger.org.cn/docs/" rel="nofollow">
      <strong>
       Swagger
      </strong>
     </a>
     是一套用于设计、构建、文档化和使用 RESTful API 的开源工具集。它通过自动生成交互式 API 文档，简化了前后端开发者的协作，并支持在线测试 API 接口。Swagger 的核心组件包括：
    </p>
    <ol>
     <li>
      <p>
       <strong>
        OpenAPI 规范
       </strong>
       （原 Swagger 规范）：
       <br/>
       一种与语言无关的 API 描述标准，用于定义 API 的结构、请求/响应格式、参数等。
      </p>
     </li>
     <li>
      <p>
       <strong>
        Swagger UI
       </strong>
       ：
       <br/>
       可视化工具，将 OpenAPI 规范转换为交互式网页，支持直接调用 API 接口。
      </p>
     </li>
     <li>
      <p>
       <strong>
        Swagger Editor
       </strong>
       ：
       <br/>
       在线编辑器，用于编写和验证 OpenAPI 规范文件（YAML/JSON）。
      </p>
     </li>
     <li>
      <p>
       <strong>
        Swagger Codegen
       </strong>
       ：
       <br/>
       根据 OpenAPI 规范生成客户端 SDK 或服务器端存根代码。
      </p>
     </li>
    </ol>
    <p>
     <strong>
      优势
     </strong>
     ：
     <br/>
     •
     <strong>
      自动生成文档
     </strong>
     ：减少手动编写文档的工作量。
     <br/>
     •
     <strong>
      实时测试
     </strong>
     ：直接在浏览器中调用 API。
     <br/>
     •
     <strong>
      规范化设计
     </strong>
     ：推动 API 设计的标准化。
    </p>
    <hr/>
    <h4>
     <a id="Swagger3__25">
     </a>
     Swagger3 介绍
    </h4>
    <p>
     <strong>
      Swagger3
     </strong>
     是 OpenAPI 3.0 规范的实现，相较于 Swagger2（OpenAPI 2.0），它具备以下优势：
    </p>
    <ol>
     <li>
      <p>
       <strong>
        规范升级
       </strong>
       ：
       <br/>
       • 支持更丰富的 API 描述能力（如回调、链接、多服务器配置）。
       <br/>
       • 改进的请求/响应模型定义。
      </p>
     </li>
     <li>
      <p>
       <strong>
        工具更新
       </strong>
       ：
       <br/>
       • 使用
       <strong>
        Springdoc-OpenAPI
       </strong>
       替代已停止维护的 Springfox（Swagger2 的 Spring 集成方案）。
       <br/>
       • 兼容 Spring Boot 2.x/3.x 和 WebFlux。
      </p>
     </li>
     <li>
      <p>
       <strong>
        注解简化
       </strong>
       ：
       <br/>
       • 注解包从
       <code>
        io.swagger.annotations
       </code>
       升级为
       <code>
        io.swagger.v3.oas.annotations
       </code>
       。
       <br/>
       • 更清晰的注解命名（如
       <code>
        @Tag
       </code>
       替代
       <code>
        @Api
       </code>
       ）。
      </p>
     </li>
    </ol>
    <hr/>
    <h4>
     <a id="Spring_Boot__Swagger3SpringdocOpenAPI_43">
     </a>
     Spring Boot 集成 Swagger3（Springdoc-OpenAPI）
    </h4>
    <h5>
     <a id="_45">
     </a>
     环境要求
    </h5>
    <p>
     • Spring Boot 2.x/3.x（推荐 Springdoc 2.x+）
     <br/>
     • JDK 8+
    </p>
    <h5>
     <a id="_1_49">
     </a>
     步骤 1：添加依赖
    </h5>
    <p>
     在
     <code>
      pom.xml
     </code>
     中引入依赖：
    </p>
    <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springdoc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>springdoc-openapi-starter-webmvc-ui<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.3.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- Spring Boot 3.x 使用 2.x+，Spring Boot 2.x 可用 1.7.x --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <h5>
     <a id="_2_59">
     </a>
     步骤 2：基础配置
    </h5>
    <p>
     创建配置类
     <code>
      SwaggerConfig.java
     </code>
     ：
    </p>
    <pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>v3<span class="token punctuation">.</span>oas<span class="token punctuation">.</span>models<span class="token punctuation">.</span></span><span class="token class-name">OpenAPI</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>v3<span class="token punctuation">.</span>oas<span class="token punctuation">.</span>models<span class="token punctuation">.</span>info<span class="token punctuation">.</span></span><span class="token class-name">Info</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SwaggerConfig</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">OpenAPI</span> <span class="token function">customOpenAPI</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">OpenAPI</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Info</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token string">"API 文档"</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token string">"1.0"</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token string">"Spring Boot 集成 Swagger3 示例"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h5>
     <a id="_3_API_81">
     </a>
     步骤 3：使用注解描述 API
    </h5>
    <p>
     在 Controller 和 Model 上添加 OpenAPI 3.0 注解：
    </p>
    <p>
     <strong>
      Controller 示例
     </strong>
     ：
    </p>
    <pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>v3<span class="token punctuation">.</span>oas<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Operation</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>v3<span class="token punctuation">.</span>oas<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span>responses<span class="token punctuation">.</span></span><span class="token class-name">ApiResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>v3<span class="token punctuation">.</span>oas<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span>tags<span class="token punctuation">.</span></span><span class="token class-name">Tag</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/api/users"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Tag</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"用户管理"</span><span class="token punctuation">,</span> description <span class="token operator">=</span> <span class="token string">"用户相关操作"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Operation</span><span class="token punctuation">(</span>
        summary <span class="token operator">=</span> <span class="token string">"获取用户列表"</span><span class="token punctuation">,</span>
        description <span class="token operator">=</span> <span class="token string">"返回所有用户信息"</span><span class="token punctuation">,</span>
        responses <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
            <span class="token annotation punctuation">@ApiResponse</span><span class="token punctuation">(</span>responseCode <span class="token operator">=</span> <span class="token string">"200"</span><span class="token punctuation">,</span> description <span class="token operator">=</span> <span class="token string">"成功获取列表"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token annotation punctuation">@ApiResponse</span><span class="token punctuation">(</span>responseCode <span class="token operator">=</span> <span class="token string">"404"</span><span class="token punctuation">,</span> description <span class="token operator">=</span> <span class="token string">"资源未找到"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
    <span class="token annotation punctuation">@GetMapping</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">getUsers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 业务逻辑</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      Model 示例
     </strong>
     ：
    </p>
    <pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>v3<span class="token punctuation">.</span>oas<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span>media<span class="token punctuation">.</span></span><span class="token class-name">Schema</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@Schema</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"User"</span><span class="token punctuation">,</span> description <span class="token operator">=</span> <span class="token string">"用户实体"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Schema</span><span class="token punctuation">(</span>description <span class="token operator">=</span> <span class="token string">"用户ID"</span><span class="token punctuation">,</span> example <span class="token operator">=</span> <span class="token string">"1"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Schema</span><span class="token punctuation">(</span>description <span class="token operator">=</span> <span class="token string">"用户名"</span><span class="token punctuation">,</span> example <span class="token operator">=</span> <span class="token string">"john_doe"</span><span class="token punctuation">,</span> requiredMode <span class="token operator">=</span> <span class="token class-name">Schema<span class="token punctuation">.</span>RequiredMode</span><span class="token punctuation">.</span><span class="token constant">REQUIRED</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <h5>
     <a id="_4_Swagger_UI_127">
     </a>
     步骤 4：访问 Swagger UI
    </h5>
    <p>
     启动应用后，访问以下 URL：
     <br/>
     •
     <strong>
      OpenAPI 规范（JSON）
     </strong>
     ：
     <code>
      http://localhost:8080/v3/api-docs
     </code>
     <br/>
     •
     <strong>
      Swagger UI 界面
     </strong>
     ：
     <code>
      http://localhost:8080/swagger-ui.html
     </code>
    </p>
    <hr/>
    <h4>
     <a id="_134">
     </a>
     高级配置
    </h4>
    <h5>
     <a id="1__API_136">
     </a>
     1. 分组显示 API
    </h5>
    <p>
     为不同模块创建分组：
    </p>
    <pre><code class="prism language-java"><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">GroupedOpenApi</span> <span class="token function">publicApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token class-name">GroupedOpenApi</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token string">"用户接口"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">pathsToMatch</span><span class="token punctuation">(</span><span class="token string">"/api/users/**"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">GroupedOpenApi</span> <span class="token function">adminApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token class-name">GroupedOpenApi</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token string">"管理接口"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">pathsToMatch</span><span class="token punctuation">(</span><span class="token string">"/api/admin/**"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <h5>
     <a id="2__JWT__156">
     </a>
     2. 集成 JWT 认证
    </h5>
    <p>
     配置全局安全方案：
    </p>
    <pre><code class="prism language-java"><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">OpenAPI</span> <span class="token function">customOpenAPI</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">OpenAPI</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token string">"API 文档"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token string">"1.0"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">components</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Components</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">addSecuritySchemes</span><span class="token punctuation">(</span><span class="token string">"BearerAuth"</span><span class="token punctuation">,</span> 
                        <span class="token keyword">new</span> <span class="token class-name">SecurityScheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token class-name">SecurityScheme<span class="token punctuation">.</span>Type</span><span class="token punctuation">.</span><span class="token constant">HTTP</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">scheme</span><span class="token punctuation">(</span><span class="token string">"bearer"</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">bearerFormat</span><span class="token punctuation">(</span><span class="token string">"JWT"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">addSecurityItem</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SecurityRequirement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addList</span><span class="token punctuation">(</span><span class="token string">"BearerAuth"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     在接口上添加安全要求：
    </p>
    <pre><code class="prism language-java"><span class="token annotation punctuation">@Operation</span><span class="token punctuation">(</span>summary <span class="token operator">=</span> <span class="token string">"创建用户"</span><span class="token punctuation">,</span> security <span class="token operator">=</span> <span class="token annotation punctuation">@SecurityRequirement</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"BearerAuth"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@PostMapping</span>
<span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">createUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 业务逻辑</span>
<span class="token punctuation">}</span>
</code></pre>
    <h5>
     <a id="3__182">
     </a>
     3. 自定义文档路径
    </h5>
    <p>
     修改
     <code>
      application.properties
     </code>
     ：
    </p>
    <pre><code class="prism language-properties"># 自定义 Swagger UI 路径
springdoc.swagger-ui.path=/docs
# 自定义 OpenAPI JSON 路径
springdoc.api-docs.path=/api-docs
</code></pre>
    <hr/>
    <h4>
     <a id="_193">
     </a>
     生产环境优化
    </h4>
    <h5>
     <a id="1__195">
     </a>
     1. 按环境启用
    </h5>
    <p>
     通过 Profile 控制 Swagger 的启用：
    </p>
    <pre><code class="prism language-java"><span class="token annotation punctuation">@Profile</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"dev"</span><span class="token punctuation">,</span> <span class="token string">"test"</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 仅在开发/测试环境生效</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SwaggerConfig</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre>
    <h5>
     <a id="2__203">
     </a>
     2. 权限控制
    </h5>
    <p>
     结合 Spring Security 限制访问：
    </p>
    <pre><code class="prism language-java"><span class="token annotation punctuation">@Bean</span>
<span class="token class-name">SecurityFilterChain</span> <span class="token function">securityFilterChain</span><span class="token punctuation">(</span><span class="token class-name">HttpSecurity</span> http<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{<!-- --></span>
    http
        <span class="token punctuation">.</span><span class="token function">authorizeHttpRequests</span><span class="token punctuation">(</span>auth <span class="token operator">-&gt;</span> auth
            <span class="token punctuation">.</span><span class="token function">requestMatchers</span><span class="token punctuation">(</span><span class="token string">"/swagger-ui/**"</span><span class="token punctuation">,</span> <span class="token string">"/v3/api-docs/**"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasRole</span><span class="token punctuation">(</span><span class="token string">"ADMIN"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">anyRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">permitAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> http<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <hr/>
    <h4>
     <a id="Swagger3__Swagger2__219">
     </a>
     Swagger3 与 Swagger2 对比
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        <strong>
         特性
        </strong>
       </th>
       <th>
        <strong>
         Swagger3（Springdoc）
        </strong>
       </th>
       <th>
        <strong>
         Swagger2（Springfox）
        </strong>
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        规范支持
       </td>
       <td>
        OpenAPI 3.0
       </td>
       <td>
        OpenAPI 2.0
       </td>
      </tr>
      <tr>
       <td>
        Spring Boot 兼容性
       </td>
       <td>
        支持 2.x 和 3.x
       </td>
       <td>
        仅支持 2.x（不兼容 3.x）
       </td>
      </tr>
      <tr>
       <td>
        维护状态
       </td>
       <td>
        活跃维护
       </td>
       <td>
        已停止维护
       </td>
      </tr>
      <tr>
       <td>
        注解包
       </td>
       <td>
        <code>
         io.swagger.v3.oas.annotations
        </code>
       </td>
       <td>
        <code>
         io.swagger.annotations
        </code>
       </td>
      </tr>
      <tr>
       <td>
        安全性配置
       </td>
       <td>
        集成更简洁（支持 OAuth2、JWT）
       </td>
       <td>
        配置复杂
       </td>
      </tr>
      <tr>
       <td>
        WebFlux 支持
       </td>
       <td>
        是
       </td>
       <td>
        否
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <h4>
     <a id="_232">
     </a>
     常见问题
    </h4>
    <h5>
     <a id="1_Swagger_UI__234">
     </a>
     1. Swagger UI 页面空白
    </h5>
    <p>
     • 检查依赖是否引入
     <code>
      springdoc-openapi-starter-webmvc-ui
     </code>
     。
     <br/>
     • 确认没有 Spring Security 拦截
     <code>
      /swagger-ui/**
     </code>
     路径。
    </p>
    <h5>
     <a id="2__238">
     </a>
     2. 注解不生效
    </h5>
    <p>
     • 确保 Controller 类在 Spring Boot 组件扫描路径下。
     <br/>
     • 使用
     <code>
      @Schema
     </code>
     替代 Swagger2 的
     <code>
      @ApiModelProperty
     </code>
     。
    </p>
    <hr/>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f37343134303230342f:61727469636c652f64657461696c732f313436313635313633" class_="artid" style="display:none">
 </p>
</div>


