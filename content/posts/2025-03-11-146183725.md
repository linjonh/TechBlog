---
layout: post
title: "leetcode-二分"
date: 2025-03-11 16:59:55 +0800
description: "默认情况下，bisect_right比较元素x的值，而这里表示比较元素x的下标等于1的元素的值（说明元素x是一个列表或元组等等），即x[1]。具体而言，在[0, hi)这个左闭右开区间中，寻找满足rides[x][1] > start且x最小的case，返回x。nums[mid] > target ,大了，要小点，在左边，右指针往左。bisect.bisect和bisect.bisect_right返回。加个if直接是第一个大于3的，>=3就是返回>=3的。start：这是我们要在rides中查找的元素。"
keywords: "leetcode-二分"
categories: ['未分类']
tags: ['职场和发展', '算法', 'Leetcode']
artid: "146183725"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146183725
    alt: "leetcode-二分"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146183725
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146183725
cover: https://bing.ee123.net/img/rand?artid=146183725
image: https://bing.ee123.net/img/rand?artid=146183725
img: https://bing.ee123.net/img/rand?artid=146183725
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     leetcode-二分
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="704_2">
     </a>
     二分查找704
    </h3>
    <p>
     leetcode 75
    </p>
    <p>
     leetcode 374
    </p>
    <h4>
     <a id="__10">
     </a>
     二分适用于整数 且直到待查找范围
    </h4>
    <p>
     from bisect import bisect_right #导入二分库
    </p>
    <blockquote>
     <pre><code>输入: nums = [-1,0,3,5,9,12], target = 9
输出: 4
解释: 9 出现在 nums 中并且下标为 4
</code></pre>
     <p>
      left和right 求mid
     </p>
     <p>
      nums[mid] &lt; target ,小了，要大点，在右边，左指针往右
     </p>
     <p>
      nums[mid] &gt; target ,大了，要小点，在左边，右指针往左
     </p>
    </blockquote>
    <pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">search</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        :type nums: List[int]
        :type target: int
        :rtype: int
        """</span>
        <span class="token comment"># 先生成左指针和和右指针</span>
        left<span class="token punctuation">,</span>right<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>left <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#结束条件为left&gt;right</span>
            mid<span class="token operator">=</span><span class="token punctuation">(</span>right<span class="token operator">-</span>left<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span> <span class="token operator">+</span>left <span class="token comment">#求出mid为中间值</span>
            num<span class="token operator">=</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>num <span class="token operator">==</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> mid
            <span class="token keyword">elif</span> num<span class="token operator">&lt;</span>target<span class="token punctuation">:</span> <span class="token comment">#小于target了，num要大一点 ，在右边</span>
                left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span> <span class="token comment">#在右边，左指针要往右</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                right<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span> <span class="token comment">#在左边，右指针要往左</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token comment">#找不到</span>
            
</code></pre>
    <blockquote>
     <pre><code>输入: nums = [1,3,5,6], target = 5
输出: 2
</code></pre>
     <p>
      没找到的话返回应该插入的位置,找不到返回left
     </p>
    </blockquote>
    <pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">search</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        :type nums: List[int]
        :type target: int
        :rtype: int
        """</span>
        <span class="token comment"># 先生成左指针和和右指针</span>
        left<span class="token punctuation">,</span>right<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>left <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#结束条件为left&gt;right</span>
            mid<span class="token operator">=</span><span class="token punctuation">(</span>right<span class="token operator">-</span>left<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span> <span class="token operator">+</span>left <span class="token comment">#求出mid为中间值</span>
            num<span class="token operator">=</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>num <span class="token operator">==</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> mid
            <span class="token keyword">elif</span> num<span class="token operator">&lt;</span>target<span class="token punctuation">:</span> <span class="token comment">#小于target了，num要大一点 ，在右边</span>
                left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span> <span class="token comment">#在右边，左指针要往右</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                right<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span> <span class="token comment">#在左边，右指针要往左</span>
        <span class="token keyword">return</span> left <span class="token comment">#找不到</span>
            
</code></pre>
    <blockquote>
     <pre><code>输入: letters = ["c", "f", "j"]，target = "a"
输出: "c"
解释：letters 中字典上比 'a' 大的最小字符是 'c'。
</code></pre>
     <p>
      from bisect import bisect_right #导入二分库
     </p>
     <p>
      找不到返回待插入位置
     </p>
     <p>
      bisect.bisect和bisect.bisect_right返回
      <strong>
       大于x的第一个下标
      </strong>
      (相当于C++中的upper_bound)
     </p>
     <p>
      bisect.bisect_left返回
      <strong>
       大于等于x的第一个下标
      </strong>
      (相当于C++中的lower_bound)。
     </p>
     <p>
      <img alt="外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传" src="https://img-home.csdnimg.cn/images/20230724024159.png?origin_url=E%3A%5Cvscode%5Cc%5Cacm%5Cpic%5Cassets%5Cimage-20240320110857590.png&amp;pos_id=img-KKYb6wzS-1741683577195"/>
     </p>
     <p>
      j = bisect.bisect_right(rides, start, hi = i - 1, key = lambda x : x[1])
      <br/>
      1
      <br/>
      rides：这是一个列表，已经按顺序排列。
     </p>
     <p>
      start：这是我们要在rides中查找的元素。
     </p>
     <p>
      hi = i - 1：这是查找的上界。具体而言，在[0, hi)这个左闭右开区间中，寻找满足rides[x][1] &gt; start且x最小的case，返回x。如果没有找到，则返回hi。
     </p>
     <p>
      key = lambda x : x[1]：这是用于比较的元素。默认情况下，bisect_right比较元素x的值，而这里表示比较元素x的下标等于1的元素的值（说明元素x是一个列表或元组等等），即x[1]。
     </p>
    </blockquote>
    <pre><code class="prism language-python"><span class="token keyword">from</span> bisect <span class="token keyword">import</span> bisect_right
<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">nextGreatestLetter</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> letters<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        :type letters: List[str]
        :type target: str
        :rtype: str
        """</span>
        <span class="token keyword">return</span> letters<span class="token punctuation">[</span>bisect_right<span class="token punctuation">(</span>letters<span class="token punctuation">,</span>target<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">if</span> target<span class="token operator">&lt;</span>letters<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">else</span> letters<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre>
    <blockquote>
     <p>
      或者使用next函数
     </p>
     <p>
      next(iterator,default)
     </p>
     <p>
      iterator表示迭代器
     </p>
     <p>
      default表示迭代器耗尽的默认值
     </p>
     <p>
      <img alt="外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传" src="https://img-home.csdnimg.cn/images/20230724024159.png?origin_url=E%3A%5Cvscode%5Cc%5Cacm%5Cpic%5Cassets%5Cimage-20240320112606726.png&amp;pos_id=img-RRcPjQsd-1741683577197">
       <img alt="外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传" src="https://img-home.csdnimg.cn/images/20230724024159.png?origin_url=E%3A%5Cvscode%5Cc%5Cacm%5Cpic%5Cassets%5Cimage-20240320112725664.png&amp;pos_id=img-Rv3Oj1QR-1741683577197"/>
      </img>
     </p>
     <p>
      加个if直接是第一个大于3的，&gt;=3就是返回&gt;=3的
     </p>
     <p>
      <img alt="外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传" src="https://img-home.csdnimg.cn/images/20230724024159.png?origin_url=E%3A%5Cvscode%5Cc%5Cacm%5Cpic%5Cassets%5Cimage-20240320112900107.png&amp;pos_id=img-zChsiWnZ-1741683577198"/>
     </p>
     <p>
      加个找不到next的默认值，就返回第一个
     </p>
     <p>
      <img alt="外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传" src="https://img-home.csdnimg.cn/images/20230724024159.png?origin_url=E%3A%5Cvscode%5Cc%5Cacm%5Cpic%5Cassets%5Cimage-20240320113218777.png&amp;pos_id=img-f0bDtEuW-1741683577198"/>
     </p>
    </blockquote>
    <pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">nextGreatestLetter</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> letters<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        :type letters: List[str]
        :type target: str
        :rtype: str
        """</span>
        <span class="token comment"># return letters[bisect(letters,target)] if target&lt;letters[-1] else letters[0]</span>
        <span class="token keyword">return</span> <span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">(</span>letter <span class="token keyword">for</span> letter <span class="token keyword">in</span> letters <span class="token keyword">if</span> letter<span class="token operator">&gt;</span>target<span class="token punctuation">)</span><span class="token punctuation">,</span>letters<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        
</code></pre>
    <blockquote>
     <pre><code>输入：grid = [[4,3,2,-1],[3,2,1,-1],[1,1,-1,-2],[-1,-1,-2,-3]]
输出：8
解释：矩阵中共有 8 个负数。
</code></pre>
     <p>
      找负数个数
     </p>
    </blockquote>
    <pre><code class="prism language-python"><span class="token comment">#!/usr/bin/python3</span>
<span class="token comment"># _*_ coding: utf-8 _*_</span>
<span class="token comment">#</span>
<span class="token comment"># Copyright (C) 2024 - 2024 Cry, Inc. All Rights Reserved </span>
<span class="token comment">#</span>
<span class="token comment"># @Time    : 2024/3/20 11:35</span>
<span class="token comment"># @Author  : Cry</span>
<span class="token comment"># @File    : 统计负数.py</span>
<span class="token comment"># @IDE     : PyCharm</span>
<span class="token comment"># 输入为递减的m*n数列</span>
<span class="token keyword">import</span> bisect


<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 二分</span>
    <span class="token keyword">def</span> <span class="token function">countNegatives</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> grid<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        :type grid: List[List[int]]
        :rtype: int
        """</span>
        res<span class="token operator">=</span><span class="token number">0</span>
        <span class="token keyword">for</span> <span class="token builtin">list</span> <span class="token keyword">in</span> grid<span class="token punctuation">:</span>
            left<span class="token punctuation">,</span>right<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
            pos<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>left<span class="token operator">&lt;=</span>right<span class="token punctuation">)</span><span class="token punctuation">:</span>
                mid<span class="token operator">=</span><span class="token punctuation">(</span>right<span class="token operator">-</span>left<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span><span class="token operator">+</span>left
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#如果当前小于0，那么就要还往左边找</span>
                    pos<span class="token operator">=</span>mid
                    right<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span> <span class="token comment">#否则往右边</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>pos<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                res<span class="token operator">+=</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>pos<span class="token operator">+</span><span class="token number">1</span>
        <span class="token keyword">return</span> res
    <span class="token comment">#暴力破解</span>
    <span class="token keyword">def</span> <span class="token function">two</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>grid<span class="token punctuation">)</span><span class="token punctuation">:</span>
        res <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> <span class="token builtin">list</span> <span class="token keyword">in</span> grid<span class="token punctuation">:</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> <span class="token builtin">list</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
                    res <span class="token operator">+=</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> i <span class="token operator">+</span> <span class="token number">1</span>
                    <span class="token keyword">break</span>
        <span class="token keyword">return</span> res
<span class="token keyword">print</span><span class="token punctuation">(</span>Solution<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>countNegatives<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Solution<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>two<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre>
    <blockquote>
     <p>
      分治和动态规划：
     </p>
     <p>
      分治：小问题没有关联
     </p>
     <p>
      动态规划：小问题-中问题-大问题，套环
     </p>
    </blockquote>
    <blockquote>
     <pre><code>输入：nums = [5,7,7,8,8,10], target = 8
输出：[3,4]
</code></pre>
     <p>
      找target在数组的第一个和最后一个位置
     </p>
    </blockquote>
    <pre><code class="prism language-python"><span class="token comment">#!/usr/bin/python3</span>
<span class="token comment"># _*_ coding: utf-8 _*_</span>
<span class="token comment">#</span>
<span class="token comment"># Copyright (C) 2024 - 2024 Cry, Inc. All Rights Reserved </span>
<span class="token comment">#</span>
<span class="token comment"># @Time    : 2024/3/20 21:50</span>
<span class="token comment"># @Author  : Cry</span>
<span class="token comment"># @File    : 元素的第一个和最后一个位置.py</span>
<span class="token comment"># @IDE     : PyCharm</span>
<span class="token comment"># 找第一次和最后一次出现的位置，没有的话返回-1</span>
<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 二分</span>
    <span class="token keyword">def</span> <span class="token function">searchRange</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        :type nums: List[int]
        :type target: int
        :rtype: List[int]
        """</span>
        lens<span class="token operator">=</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>lens<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
        firstPosition<span class="token operator">=</span>self<span class="token punctuation">.</span>findFirstPosition<span class="token punctuation">(</span>nums<span class="token punctuation">,</span>target<span class="token punctuation">)</span>
        <span class="token keyword">if</span> firstPosition<span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
        lastPosition<span class="token operator">=</span>self<span class="token punctuation">.</span>findLastPosition<span class="token punctuation">(</span>nums<span class="token punctuation">,</span>target<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>firstPosition<span class="token punctuation">,</span>lastPosition<span class="token punctuation">]</span>
    <span class="token keyword">def</span> <span class="token function">findFirstPosition</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>nums<span class="token punctuation">,</span>target<span class="token punctuation">)</span><span class="token punctuation">:</span>
        left<span class="token operator">=</span><span class="token number">0</span>
        right<span class="token operator">=</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>left<span class="token operator">&lt;</span>right<span class="token punctuation">)</span><span class="token punctuation">:</span>
            mid<span class="token operator">=</span><span class="token punctuation">(</span>left<span class="token operator">+</span>right<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&lt;</span>target<span class="token punctuation">)</span><span class="token punctuation">:</span>
                left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span>
            <span class="token keyword">elif</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">==</span>target<span class="token punctuation">:</span>
                <span class="token comment">#[left,mid]</span>
                right<span class="token operator">=</span>mid
            <span class="token keyword">else</span><span class="token punctuation">:</span><span class="token comment">#[left,mid-1]</span>
                right<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">if</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">==</span>target<span class="token punctuation">:</span>
            <span class="token keyword">return</span> left
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>

    <span class="token keyword">def</span> <span class="token function">findLastPosition</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>nums<span class="token punctuation">,</span>target<span class="token punctuation">)</span><span class="token punctuation">:</span>
        left<span class="token operator">=</span><span class="token number">0</span>
        right<span class="token operator">=</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>left<span class="token operator">&lt;</span>right<span class="token punctuation">)</span><span class="token punctuation">:</span>
            mid<span class="token operator">=</span><span class="token punctuation">(</span>right<span class="token operator">+</span>left<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&gt;&gt;</span><span class="token number">1</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&lt;</span>target<span class="token punctuation">)</span><span class="token punctuation">:</span>
                left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span>
            <span class="token keyword">elif</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">==</span>target<span class="token punctuation">:</span>
                <span class="token comment"># [mid,right]</span>
                left<span class="token operator">=</span>mid
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                right<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">return</span> left
    <span class="token comment">#暴力</span>
    <span class="token keyword">def</span> <span class="token function">searchRange_baoli</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>nums<span class="token punctuation">,</span>target<span class="token punctuation">)</span><span class="token punctuation">:</span>
        res<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>target<span class="token punctuation">:</span>
                res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>

        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span>res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>res<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment"># 优化二分</span>
    <span class="token keyword">def</span> <span class="token function">searchRange2</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>nums<span class="token punctuation">,</span>target<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
        left<span class="token punctuation">,</span>right<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>left<span class="token operator">&lt;=</span>right<span class="token punctuation">)</span><span class="token punctuation">:</span>
            mid<span class="token operator">=</span><span class="token punctuation">(</span>left<span class="token operator">+</span>right<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">1</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&lt;</span>target<span class="token punctuation">:</span>
                left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span>
            <span class="token keyword">elif</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&gt;</span>target<span class="token punctuation">:</span>
                right<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                left<span class="token punctuation">,</span>right<span class="token operator">=</span>mid<span class="token punctuation">,</span>mid
                <span class="token keyword">while</span> left <span class="token operator">&gt;</span><span class="token number">0</span> <span class="token keyword">and</span> nums<span class="token punctuation">[</span>left<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">==</span>target<span class="token punctuation">:</span>
                    left<span class="token operator">-=</span><span class="token number">1</span>
                <span class="token keyword">while</span> right<span class="token operator">&lt;</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">and</span> nums<span class="token punctuation">[</span>right<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">==</span>target<span class="token punctuation">:</span>
                    right<span class="token operator">+=</span><span class="token number">1</span>
                <span class="token keyword">return</span> <span class="token punctuation">[</span>left<span class="token punctuation">,</span>right<span class="token punctuation">]</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token comment">#暴力 用index</span>
    <span class="token keyword">def</span> <span class="token function">search_index</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>nums<span class="token punctuation">,</span>target<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span>nums<span class="token punctuation">.</span>index<span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">,</span> nums<span class="token punctuation">.</span>index<span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token operator">+</span>nums<span class="token punctuation">.</span>count<span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token keyword">except</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Solution<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>searchRange_baoli<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Solution<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>searchRange<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Solution<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>searchRange2<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Solution<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>searchRange2<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Solution<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>search_index<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


</code></pre>
    <blockquote>
     <p>
      寻找右区间
     </p>
     <pre><code>输入：intervals = [[1,2]]
输出：[-1]
解释：集合中只有一个区间，所以输出-1。
</code></pre>
     <pre><code>输入：intervals = [[3,4],[2,3],[1,2]]
输出：[-1,0,1]
解释：对于 [3,4] ，没有满足条件的“右侧”区间。
对于 [2,3] ，区间[3,4]具有最小的“右”起点;
对于 [1,2] ，区间[2,3]具有最小的“右”起点。
</code></pre>
    </blockquote>
    <pre><code class="prism language-python"><span class="token comment">#!/usr/bin/python3</span>
<span class="token comment"># _*_ coding: utf-8 _*_</span>
<span class="token comment">#</span>
<span class="token comment"># Copyright (C) 2024 - 2024 Cry, Inc. All Rights Reserved</span>
<span class="token comment">#</span>
<span class="token comment"># @Time    : 2024/3/21 11:59</span>
<span class="token comment"># @Author  : Cry</span>
<span class="token comment"># @File    : 寻找有区间.py</span>
<span class="token comment"># @IDE     : PyCharm</span>
<span class="token comment">#</span>
<span class="token keyword">import</span> bisect


<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">findRightInterval</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>intervals<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> i<span class="token punctuation">,</span>interval <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>intervals<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#[[2,4],[1,3]]</span>

            interval<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token comment"># 1 [2,4,0] [1,3,1]</span>
        intervals<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#[[1,3,1],[2,4,2]]</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>intervals<span class="token punctuation">)</span>

        n<span class="token operator">=</span><span class="token builtin">len</span><span class="token punctuation">(</span>intervals<span class="token punctuation">)</span>
        ans<span class="token operator">=</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>n
        <span class="token keyword">for</span> _<span class="token punctuation">,</span>end<span class="token punctuation">,</span><span class="token builtin">id</span> <span class="token keyword">in</span> intervals<span class="token punctuation">:</span> <span class="token comment">#start end index</span>
            i<span class="token operator">=</span>bisect<span class="token punctuation">.</span>bisect_left<span class="token punctuation">(</span>intervals<span class="token punctuation">,</span><span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#二分找end</span>
            <span class="token comment"># 找[[1, 2, 2], [2, 3, 1], [3, 4, 0]],end为2 3 4</span>
            <span class="token comment"># 结果为找2，找每个list第一个数：[2,3,1] :1</span>
            <span class="token comment"># 结果为找3，找每个list第一个数：[3,4,0] :2</span>
            <span class="token comment"># 结果为找4，找每个list第一个数：找不到，插入到最后</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
            <span class="token keyword">if</span> i<span class="token operator">&lt;</span>n<span class="token punctuation">:</span>
                ans<span class="token punctuation">[</span><span class="token builtin">id</span><span class="token punctuation">]</span><span class="token operator">=</span>intervals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
        <span class="token keyword">return</span> ans
    <span class="token comment">#指针</span>
    <span class="token keyword">def</span> <span class="token function">findRightInterval2</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> intervals<span class="token punctuation">)</span><span class="token punctuation">:</span>
        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>intervals<span class="token punctuation">)</span>
        starts<span class="token punctuation">,</span> ends <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">zip</span><span class="token punctuation">(</span><span class="token operator">*</span>intervals<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#*intervals用来元素解压缩并作为参数传递给zip函数</span>
        starts <span class="token operator">=</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span><span class="token builtin">zip</span><span class="token punctuation">(</span>starts<span class="token punctuation">,</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        ends <span class="token operator">=</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span><span class="token builtin">zip</span><span class="token punctuation">(</span>ends<span class="token punctuation">,</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        ans<span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> n<span class="token punctuation">,</span> <span class="token number">0</span>
        <span class="token keyword">for</span> end<span class="token punctuation">,</span> <span class="token builtin">id</span> <span class="token keyword">in</span> ends<span class="token punctuation">:</span>
            <span class="token keyword">while</span> j <span class="token operator">&lt;</span> n <span class="token keyword">and</span> starts<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> end<span class="token punctuation">:</span>
                j <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">if</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>
                ans<span class="token punctuation">[</span><span class="token builtin">id</span><span class="token punctuation">]</span> <span class="token operator">=</span> starts<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token keyword">return</span> ans
<span class="token keyword">print</span><span class="token punctuation">(</span>Solution<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>findRightInterval<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
    <blockquote>
     <p>
      基于时间的键值存储
     </p>
     <pre><code>输入：
["TimeMap", "set", "get", "get", "set", "get", "get"]
[[], ["foo", "bar", 1], ["foo", 1], ["foo", 3], ["foo", "bar2", 4], ["foo", 4], ["foo", 5]]
输出：
[null, null, "bar", "bar", null, "bar2", "bar2"]
</code></pre>
    </blockquote>
    <pre><code class="prism language-python"><span class="token comment">#!/usr/bin/python3</span>
<span class="token comment"># _*_ coding: utf-8 _*_</span>
<span class="token comment">#</span>
<span class="token comment"># Copyright (C) 2024 - 2024 Cry, Inc. All Rights Reserved </span>
<span class="token comment">#</span>
<span class="token comment"># @Time    : 2024/3/21 12:52</span>
<span class="token comment"># @Author  : Cry</span>
<span class="token comment"># @File    : 基于时间的键值存储.py</span>
<span class="token comment"># @IDE     : PyCharm</span>
<span class="token keyword">import</span> bisect


<span class="token keyword">class</span> <span class="token class-name">TimeMap</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>data<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    <span class="token keyword">def</span> <span class="token function">set</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> timestamp<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        :type key: str
        :type value: str
        :type timestamp: int
        :rtype: None
        """</span>
        <span class="token keyword">if</span> key <span class="token keyword">not</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>data<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>timestamp<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>


    <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">,</span> timestamp<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        :type key: str
        :type timestamp: int
        :rtype: str
        """</span>
        <span class="token keyword">if</span> key <span class="token keyword">in</span> self<span class="token punctuation">.</span>data<span class="token punctuation">:</span>
            arr<span class="token operator">=</span>self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
            idx <span class="token operator">=</span> bisect<span class="token punctuation">.</span>bisect_right<span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token punctuation">(</span>timestamp<span class="token punctuation">,</span> <span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token string">""</span> <span class="token keyword">if</span> idx <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">else</span> arr<span class="token punctuation">[</span>idx <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token keyword">return</span> <span class="token string">""</span>

commands <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"TimeMap"</span><span class="token punctuation">,</span><span class="token string">"set"</span><span class="token punctuation">,</span><span class="token string">"get"</span><span class="token punctuation">,</span><span class="token string">"get"</span><span class="token punctuation">,</span><span class="token string">"get"</span><span class="token punctuation">,</span><span class="token string">"get"</span><span class="token punctuation">,</span><span class="token string">"set"</span><span class="token punctuation">,</span><span class="token string">"get"</span><span class="token punctuation">,</span><span class="token string">"get"</span><span class="token punctuation">]</span>
inputs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"ljfvbut"</span><span class="token punctuation">,</span><span class="token string">"tatthnvvid"</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"ljfvbut"</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"ljfvbut"</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"ljfvbut"</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"ljfvbut"</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"eimdon"</span><span class="token punctuation">,</span><span class="token string">"pdjbnnvje"</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"eimdon"</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"eimdon"</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

output <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
obj <span class="token operator">=</span> <span class="token boolean">None</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>commands<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> commands<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"TimeMap"</span><span class="token punctuation">:</span>
        obj <span class="token operator">=</span> TimeMap<span class="token punctuation">(</span><span class="token punctuation">)</span>
        output<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">)</span>
    <span class="token keyword">elif</span> commands<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"set"</span><span class="token punctuation">:</span>
        obj<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span><span class="token operator">*</span>inputs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
        output<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">)</span>
    <span class="token keyword">elif</span> commands<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"get"</span><span class="token punctuation">:</span>
        output<span class="token punctuation">.</span>append<span class="token punctuation">(</span>obj<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token operator">*</span>inputs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>output<span class="token punctuation">)</span>


<span class="token comment"># Your TimeMap object will be instantiated and called as such:</span>

</code></pre>
    <blockquote>
     <p>
      快照数组
     </p>
     <pre><code>输入：["SnapshotArray","set","snap","set","get"]
     [[3],[0,5],[],[0,6],[0,0]]
输出：[null,null,0,null,5]
</code></pre>
    </blockquote>
    <pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">SnapshotArray</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        :type length: int
        """</span>
        self<span class="token punctuation">.</span>data<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>snap_id<span class="token operator">=</span><span class="token number">0</span>


    <span class="token keyword">def</span> <span class="token function">set</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> index<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        :type index: int
        :type val: int
        :rtype: None
        """</span>
        self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>snap_id<span class="token punctuation">,</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span>


    <span class="token keyword">def</span> <span class="token function">snap</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        :rtype: int
        """</span>
        self<span class="token punctuation">.</span>snap_id<span class="token operator">+=</span><span class="token number">1</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>snap_id<span class="token operator">-</span><span class="token number">1</span>


    <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> index<span class="token punctuation">,</span> snap_id<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        :type index: int
        :type snap_id: int
        :rtype: int
        """</span>
        i<span class="token operator">=</span>bisect<span class="token punctuation">.</span>bisect_left<span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">(</span>snap_id<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>



<span class="token comment"># Your SnapshotArray object will be instantiated and called as such:</span>
<span class="token comment"># obj = SnapshotArray(length)</span>
<span class="token comment"># obj.set(index,val)</span>
<span class="token comment"># param_2 = obj.snap()</span>
<span class="token comment"># param_3 = obj.get(index,snap_id)</span>
</code></pre>
    <blockquote>
     <p>
      搜索旋转数组
     </p>
     <pre><code>输入：nums = [4,5,6,7,0,1,2], target = 0
输出：4
</code></pre>
    </blockquote>
    <pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 二分</span>
    <span class="token keyword">def</span> <span class="token function">search</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        :type nums: List[int]
        :type target: int
        :rtype: int
        """</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> nums<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
        left<span class="token punctuation">,</span>right<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">while</span> left<span class="token operator">&lt;=</span>right<span class="token punctuation">:</span>
            mid<span class="token operator">=</span><span class="token punctuation">(</span>left<span class="token operator">+</span>right<span class="token punctuation">)</span><span class="token operator">&gt;&gt;</span><span class="token number">1</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">==</span>target<span class="token punctuation">:</span>
                <span class="token keyword">return</span> mid
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span>target<span class="token operator">&lt;</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    right<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&lt;</span>target<span class="token operator">&lt;=</span>nums<span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                    left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span>

                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    right<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
    <span class="token comment"># 暴力</span>
    <span class="token keyword">def</span> <span class="token function">search2</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> target <span class="token keyword">in</span> nums<span class="token punctuation">:</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> nums<span class="token punctuation">:</span>
                <span class="token keyword">if</span> i <span class="token operator">==</span> target<span class="token punctuation">:</span>
                    <span class="token keyword">return</span> nums<span class="token punctuation">.</span>index<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
</code></pre>
    <blockquote>
     <p>
      寻找旋转排序数组中的最小值
     </p>
     <pre><code>输入：nums = [3,4,5,1,2]
输出：1
解释：原数组为 [1,2,3,4,5] ，旋转 3 次得到输入数组。
</code></pre>
     <p>
      找到最小值：min(nums)
     </p>
     <p>
      为了提升速度：
     </p>
     <p>
      用二分：
     </p>
    </blockquote>
    <pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">findMin</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>  <span class="token comment"># 开区间 (-1, n-1)</span>
        <span class="token keyword">while</span> left <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> right<span class="token punctuation">:</span>  <span class="token comment"># 开区间不为空</span>
            mid <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>  <span class="token comment"># 蓝色</span>
                right <span class="token operator">=</span> mid
            <span class="token keyword">else</span><span class="token punctuation">:</span>  <span class="token comment"># 红色</span>
                left <span class="token operator">=</span> mid
        <span class="token keyword">return</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span>

<span class="token comment"># 作者：灵茶山艾府</span>
<span class="token comment"># 链接：https://leetcode.cn/problems/find-minimum-in-rotated-sorted-array/solutions/1987499/by-endlesscheng-owgd/</span>
<span class="token comment"># 来源：力扣（LeetCode）</span>
<span class="token comment"># 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</span>
</code></pre>
    <blockquote>
     <p>
      有重复值的找最小值:
     </p>
    </blockquote>
    <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">findMin2</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>
    n<span class="token operator">=</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>
    l<span class="token punctuation">,</span>r<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>n<span class="token operator">-</span><span class="token number">1</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>l<span class="token operator">+</span>r<span class="token operator">&lt;</span>r<span class="token punctuation">)</span><span class="token punctuation">:</span>
        m<span class="token operator">=</span><span class="token punctuation">(</span>l<span class="token operator">+</span>r<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token operator">&gt;</span>nums<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            l<span class="token operator">=</span>m
        <span class="token keyword">elif</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token operator">&lt;</span>nums<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            r<span class="token operator">=</span>m
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            r<span class="token operator">-=</span><span class="token number">1</span> <span class="token comment">#相等的话右边减一</span>
    <span class="token keyword">return</span> nums<span class="token punctuation">[</span>r<span class="token punctuation">]</span>
    
</code></pre>
    <blockquote>
     <p>
      猜数字大小
     </p>
    </blockquote>
    <pre><code class="prism language-python">a<span class="token operator">=</span><span class="token number">4</span>
<span class="token keyword">def</span> <span class="token function">guess</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> n<span class="token operator">&gt;</span>a<span class="token punctuation">:</span>
   		<span class="token keyword">return</span> <span class="token number">1</span>
    <span class="token keyword">elif</span> n<span class="token operator">&lt;</span>a<span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">0</span>
<span class="token keyword">def</span> <span class="token function">guessNumber</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    left<span class="token punctuation">,</span>right<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>n
    <span class="token keyword">while</span><span class="token punctuation">(</span>left<span class="token operator">&lt;</span>right<span class="token punctuation">)</span><span class="token punctuation">:</span>
        mid<span class="token operator">=</span><span class="token punctuation">(</span>right<span class="token operator">-</span>mid<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span>
        g<span class="token operator">=</span>guess<span class="token punctuation">(</span>mid<span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>g<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#大了，左指针往mid来</span>
            left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span>
        <span class="token keyword">elif</span> g<span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>
            right<span class="token operator">=</span>mid
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> mid
    <span class="token keyword">return</span> left
            
</code></pre>
    <blockquote>
     <p>
      第一个错误的版本
     </p>
     <p>
      找到第一个出错的版本：
     </p>
     <p>
      isBadVersion?() 1 2 3 4
     </p>
     <p>
      ​ f f t t
     </p>
     <p>
      所以第一个错误版本为3
     </p>
    </blockquote>
    <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">firstBadVersion</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    left<span class="token punctuation">,</span>right<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>n
    <span class="token keyword">while</span><span class="token punctuation">(</span>left<span class="token operator">&lt;=</span>right<span class="token punctuation">)</span><span class="token punctuation">:</span>
        mid<span class="token operator">=</span><span class="token punctuation">(</span>right<span class="token operator">-</span>left<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span><span class="token operator">+</span>left
        <span class="token keyword">if</span><span class="token punctuation">(</span>isBadVersion<span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            right<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span>
    <span class="token keyword">return</span> left
</code></pre>
    <p>
     lse:
     <br/>
     return 0
     <br/>
     def guessNumber(n):
     <br/>
     left,right=1,n
     <br/>
     while(left&lt;right):
     <br/>
     mid=(right-mid)//2
     <br/>
     g=guess(mid)
     <br/>
     if(g
     <mark>
      1): #大了，左指针往mid来
      <br/>
      left=mid+1
      <br/>
      elif g
     </mark>
     -1:
     <br/>
     right=mid
     <br/>
     else:
     <br/>
     return mid
     <br/>
     return left
    </p>
    <pre><code>
&gt; 第一个错误的版本
&gt;
&gt; 找到第一个出错的版本：
&gt;
&gt; isBadVersion?()   1 2 3 4
&gt;
&gt; ​			       f f  t  t
&gt;
&gt; 所以第一个错误版本为3
&gt;
&gt; 

```python
def firstBadVersion(n):
    left,right=0,n
    while(left&lt;=right):
        mid=(right-left)//2+left
        if(isBadVersion(mid)):
            right=mid-1
        else:
            left=mid+1
    return left
</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470:733a2f2f626c6f672e6373646e2e6e65742f63616f6372792f:61727469636c652f64657461696c732f313436313833373235" class_="artid" style="display:none">
 </p>
</div>


