---
title: 2025-01-14-å¾®ä¿¡å°ç¨‹åºä¸ªäººç®€å†ç•Œé¢ç¼–è¾‘ç‰ˆ
date: 2025-01-14 14:03:14 +08:00
categories: ['å¾®ä¿¡å°ç¨‹åº']
tags: ['å‰ç«¯', 'å¾®ä¿¡å°ç¨‹åº', 'Javascript', 'å°ç¨‹åº']
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=131024741
  alt: å¾®ä¿¡å°ç¨‹åºä¸ªäººç®€å†ç•Œé¢ç¼–è¾‘ç‰ˆ
artid: 131024741
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=131024741
featuredImagePreview: https://bing.ee123.net/img/rand?artid=131024741
---

# å¾®ä¿¡å°ç¨‹åºä¸ªäººç®€å†ç•Œé¢ï¼ˆç¼–è¾‘ç‰ˆï¼‰

### å¾®ä¿¡å°ç¨‹åºä¸ªäººç®€å†ç•Œé¢ã€å¯ç¼–è¾‘ä¿®æ”¹ï¼ˆåŒ…å«å…¨éƒ¨æºç ï¼‰

1ã€å¾®ä¿¡å°ç¨‹åºå®ç°ç®€å•çš„ä¸ªäººç®€å†ç•Œé¢ï¼ŒåŒ…å«åŸºæœ¬ä¿¡æ¯ã€æ•™è‚²èƒŒæ™¯ã€è·å¥–è¯ä¹¦ã€å…´è¶£çˆ±å¥½ç­‰ï¼Œç®€å†ä¿¡æ¯æ”¯æŒä¿®æ”¹ç¼–è¾‘å†…å®¹ã€‚
  
2ã€é€šè¿‡æ­¤æ–‡ç« ï¼Œå¸Œæœ›èƒ½å¸¦ç»™æ›´å¤šå­¦ä¹ å¾®ä¿¡å°ç¨‹åºçš„ä¼™ä¼´ä»¬ä¸€ç‚¹ç‚¹ç»éªŒï¼Œç¤ºä¾‹ç®€æ´ï¼Œå¸ƒå±€ç®€å•ï¼Œå–œæ¬¢çš„å°ä¼™ä¼´ï¼Œå¯ä»¥è¿›æˆ‘ä¸»é¡µï¼Œåˆ†äº«æ›´å¤šå­¦ä¹ ç»éªŒå’Œç¤ºä¾‹ç•Œé¢å‘¦ã€‚
  
3ã€æœ¬ç•Œé¢ä¸»è¦æ˜¯ä»¥å¸ƒå±€å’Œå¯ç¼–è¾‘ä¸ªäººç®€å†ä¸ºä¸»ï¼Œå…·ä½“å®Œæ•´çš„ç®€å†ä¿¡æ¯ç•Œé¢è¿˜éœ€è‡ªå·±æ·»åŠ ï¼Œå…³æ³¨åšä¸»ï¼ŒåæœŸå°†åˆ†äº«ä¿å­˜æäº¤åï¼Œç”Ÿæˆä¸€ä¸ªå®Œæ•´ä¸å¯ç¼–è¾‘çš„ç®€å†ç•Œé¢å“¦ã€‚
  
4ã€ä»£ç ä¸­è‹¥å­˜åœ¨ä¸æ°å½“çš„åœ°æ–¹ï¼Œè¿˜è¯·æ‰¹è¯„æŒ‡æ­£ï¼Œéå¸¸æ„Ÿè°¢ï¼
  
![ä¸ªäººç®€å†ç•Œé¢](https://i-blog.csdnimg.cn/blog_migrate/dd01790b67d9d2d65b73cf63b7628501.jpeg#pic_center)
  
1ã€jsä»£ç 

```javascript
// index.js
Page({
  data: {
    show: false,
    hobby: false,
    avatar: 'https://img0.baidu.com/it/u=345359896,661384602&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500',
    nickName: 'å¸ƒå‰å²›',
    phone: '18866668888',
    // ç¼–è¾‘æ—¶ä¸´æ—¶æ•°æ®
    tempList: {
      avatarTemp: 'https://img0.baidu.com/it/u=345359896,661384602&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500',
      nameTemp: 'å¸ƒå‰å²›',
      phoneTemp: '18866668888',
    },
    arraySex: ['å¥³', 'ç”·'],
    indexSex: 0,
    arrayMarry: ['æœªå©š', 'å·²å©š'],
    indexMarry: 0,
    arrayEducation: ['å°å­¦', 'åˆä¸­', 'é«˜ä¸­', 'å¤§ä¸“', 'æœ¬ç§‘', 'ç ”ç©¶ç”Ÿ'],
    indexEducation: 4,
    attrImg: [],
    hobbyVal: '',
    labelList: []
  },
  editClick() {
    this.setData({
      show: true,
      hobby: false
    })
  },
  // æ·»åŠ å…´è¶£çˆ±å¥½ã€æ³¨æ„ï¼šitemListæœ€é•¿6ã€‘
  addHobbyClick() {
    var that = this;
    var list = ['è‡ªå®šä¹‰', 'æ‰“ç¯®çƒ', 'æ‰“ç¾½æ¯›çƒ', 'æ¸¸æ³³', 'çˆ¬å±±', 'è¸¢è¶³çƒ'];
    var attr = this.data.labelList;
    wx.showActionSheet({
      itemList: list,
      success(res) {
        if (res.tapIndex == 0) {
          that.setData({
            show: true,
            hobby: true
          })
        } else {
          that.setData({
            labelList: attr.concat(list[res.tapIndex])
          })
        }
      }
    })
  },
  // æ·»åŠ è¯ä»¶ç…§å¤´åƒã€è¯ä¹¦ã€typeä¸º0åˆ™ä¸ºä¸Šä¼ è¯ä»¶ç…§å¤´åƒï¼Œåä¹‹ä¸ºè¯ä¹¦å›¾ç‰‡ã€‘
  selectImage(e) {
    var that = this;
    var type = e.currentTarget.dataset.tag;
    var attr = this.data.attrImg;
    wx.chooseMedia({
      count: type == '0' ? 1 : 6,
      mediaType: ['image'],
      sourceType: ['album', 'camera'],
      maxDuration: 30,
      camera: 'back',
      success(res) {
        if (type == '0') {
          that.setData({
            'tempList.avatarTemp': res.tempFiles[0].tempFilePath
          })
        } else {
          var str = [];
          var list = res.tempFiles;
          for (var i = 0; i < list.length; i++) {
            str.push(list[i].tempFilePath);
          }
          that.setData({
            attrImg: attr.concat(str)
          })
        }
      }
    })
  },
  // é•¿å®‰åˆ é™¤å›¾ç‰‡
  longtapDeleteImg(e) {
    let that = this;
    let tag = e.currentTarget.dataset.index;
    wx.showModal({
      title: 'æç¤º',
      content: 'ç¡®å®šåˆ é™¤è¯¥å›¾ç‰‡å—ï¼Ÿ',
      complete: (res) => {
        if (res.confirm) {
          var list = that.data.attrImg;
          list.splice(tag, 1);
          that.setData({
            attrImg: list
          })
        }
      }
    })
  },
  // å›¾ç‰‡æŸ¥çœ‹
  previewClick(e) {
    let path = e.currentTarget.dataset.url;
    wx.previewImage({
      current: path, // å½“å‰æ˜¾ç¤ºå›¾ç‰‡çš„httpé“¾æ¥
      urls: this.data.attrImg // éœ€è¦é¢„è§ˆçš„å›¾ç‰‡httpé“¾æ¥åˆ—è¡¨
    })
  },
  // å…´è¶£çˆ±å¥½è¾“å…¥ç›‘å¬
  inputHobbyClick(e) {
    this.setData({
      hobbyVal: e.detail.value
    })
  },
  // æ˜µç§°å§“åè¾“å…¥ç›‘å¬
  inputNick(e) {
    this.setData({
      'tempList.nameTemp': e.detail.value
    })
  },
  // è”ç³»ç”µè¯è¾“å…¥ç›‘å¬
  inputPhone(e) {
    this.setData({
      'tempList.phoneTemp': e.detail.value
    })
  },
  // é•¿å®‰åˆ é™¤å…´è¶£çˆ±å¥½æ ‡ç­¾
  longtapDeleteLabel(e) {
    let that = this;
    let tag = e.currentTarget.dataset.index;
    wx.showModal({
      title: 'æç¤º',
      content: 'ç¡®å®šåˆ é™¤è¯¥çˆ±å¥½æ ‡ç­¾å—ï¼Ÿ',
      complete: (res) => {
        if (res.confirm) {
          var list = that.data.labelList;
          list.splice(tag, 1);
          that.setData({
            labelList: list
          })
        }
      }
    })
  },
  // å–æ¶ˆç›‘å¬
  cancelMask() {
    this.setData({
      show: false,
      hobbyVal: '',
      'tempList.avatarTemp': this.data.avatar,
      'tempList.nameTemp': this.data.nickName,
      'tempList.phoneTemp': this.data.phone
    })
  },
  // ç¡®å®šç›‘å¬
  defineMask() {
    if (this.data.hobby) {
      if (this.data.hobbyVal == '') {
        wx.showToast({
          title: 'å…´è¶£çˆ±å¥½ä¸èƒ½ä¸ºç©ºå“¦',
          icon: 'none'
        })
      } else {
        var attr = this.data.labelList;
        this.setData({
          show: false,
          hobbyVal: '',
          labelList: attr.concat(this.data.hobbyVal)
        })
      }
    } else {
      this.setData({
        show: false,
        avatar: this.data.tempList.avatarTemp,
        nickName: this.data.tempList.nameTemp,
        phone: this.data.tempList.phoneTemp
      })
    }
  },
  // æäº¤
  formSubmit(e) {
    let params = e.detail.value;
    params.avatar = this.data.avatar;
    params.nickName = this.data.nickName;
    params.phone = this.data.phone;
    // è‹¥ä»…ä»…æ˜¯è·å–ä¸‹æ ‡
    // params.sex=this.data.indexSex;
    // params.marry=this.data.indexMarry;
    // params.education=this.data.indexEducation;
    // è‹¥ä»…ä»…æ˜¯è·å–ä¸‹æ ‡å¯¹åº”çš„æ–‡æœ¬
    params.sex = this.data.arraySex[this.data.indexSex];
    params.marry = this.data.arrayMarry[this.data.indexMarry];
    params.education = this.data.arrayEducation[this.data.indexEducation];
    params.certificateImg = this.data.attrImg;
    params.hobbyList = this.data.labelList;
    console.log('è·å–æäº¤çš„å‚æ•°ä¿¡æ¯', params)
    wx.showToast({
      title: 'æäº¤ç›‘å¬',
    })
  },
})

```

2ã€wxmlä»£ç 

```xml
<view class="level top-box">
  <view class="avatar">
    <image src="{{avatar}}" mode="widthFix"></image>
  </view>
  <view class="level info">
    <view>
      <view class="name">{{nickName}}</view>
      <view class="tel">{{phone}}</view>
    </view>
    <view bindtap="editClick">ğŸ–Š</view>
  </view>
</view>
<!-- æ•°æ®å†…å®¹ -->
<form catchsubmit="formSubmit" catchreset="formReset">
  <view class="box">
    <view class="level nav">
      <view class="dot"></view>
      <view class="title">åŸºæœ¬ä¿¡æ¯</view>
    </view>
    <view class="row">
      <view>æ€§åˆ«</view>
      <picker class="right" bindchange="bindPickerChange" value="{{indexSex}}" range="{{arraySex}}">
        <text>{{arraySex[indexSex]}}</text>
        <text class="triangle">â–¼</text>
      </picker>
    </view>
    <view class="row">
      <view>å¹´é¾„</view>
      <view class="right">
        <input name="age" placeholder="è¯·è¾“å…¥å¹´é¾„" type="number" maxlength="3" />
      </view>
    </view>
    <view class="row">
      <view>é‚®ç®±</view>
      <view class="right">
        <input name="mail" placeholder="è¯·è¾“å…¥é‚®ç®±ä¿¡æ¯" maxlength="20" />
      </view>
    </view>
    <view class="row end">
      <view>å©šå§»çŠ¶å†µ</view>
      <picker class="right" bindchange="bindPickerChange" value="{{indexMarry}}" range="{{arrayMarry}}">
        <text>{{arrayMarry[indexMarry]}}</text>
        <text class="triangle">â–¼</text>
      </picker>
    </view>
  </view>

  <view class="box">
    <view class="level nav">
      <view class="dot"></view>
      <view class="title">æ•™è‚²èƒŒæ™¯</view>
    </view>
    <view class="row">
      <view>å­¦æ ¡</view>
      <view class="right">
        <input name="school" placeholder="è¯·è¾“å…¥å°±è¯»å­¦æ ¡" maxlength="30" />
      </view>
    </view>
    <view class="row">
      <view>ä¸“ä¸š</view>
      <view class="right">
        <input name="major" placeholder="è¯·è¾“å…¥æ‰€å­¦ä¸“ä¸š" type="number" maxlength="50" />
      </view>
    </view>
    <view class="row">
      <view>ç­çº§</view>
      <view class="right">
        <input name="grade" placeholder="è¯·è¾“å…¥æ‰€åœ¨ç­çº§" maxlength="20" />
      </view>
    </view>
    <view class="row end">
      <view>å­¦å†</view>
      <picker class="right" bindchange="bindPickerChange" value="{{indexEducation}}" range="{{arrayEducation}}">
        <text>{{arrayEducation[indexEducation]}}</text>
        <text class="triangle">â–¼</text>
      </picker>
    </view>
  </view>

  <view class="box">
    <view class="level nav-flex">
      <view class="level">
        <view class="dot"></view>
        <view class="title">è·å¥–è¯ä¹¦</view>
      </view>
      <view class="add-img" bindtap="selectImage" data-tag="1">+</view>
    </view>
    <view class="row">
      <textarea name="certificate" auto-height="true" class="text-area" maxlength="300" placeholder="ç‚¹å‡»å³ä¸Šè§’åŠ å·å¯æ·»åŠ è¯ä¹¦å›¾ç‰‡å“¦~"></textarea>
    </view>
    <view class="attr-img">
      <block wx:for="{{attrImg}}" wx:for-index="index" wx:for-item="item" wx:key="item">
        <image bindlongtap="longtapDeleteImg" data-index="{{index}}" bindtap="previewClick" data-url="{{item}}" class="img" src="{{item}}" mode="widthFix"></image>
      </block>
    </view>
  </view>

  <view class="box">
    <view class="level nav">
      <view class="dot"></view>
      <view class="title">èŒä¸šæŠ€èƒ½</view>
    </view>
    <view class="row">
      <textarea name="skill" auto-height="true" class="text-area" maxlength="300" placeholder="å¡«å†™èŒä¸šæŠ€èƒ½ä¿¡æ¯ï¼ˆ300å­—ä»¥å†…å“¦~ï¼‰"></textarea>
    </view>
  </view>

  <view class="box">
    <view class="level nav">
      <view class="dot"></view>
      <view class="title">å…´è¶£çˆ±å¥½</view>
    </view>
    <view class="row wrap-box">
      <block wx:for="{{labelList}}" wx:for-index="index" wx:for-item="item" wx:key="item">
        <view bindlongtap="longtapDeleteLabel" data-index="{{index}}"  class="add-btn data-btn">{{item}}</view>
      </block>
      <view class="add-btn" bindtap="addHobbyClick">+æ·»åŠ </view>
    </view>
  </view>

  <view class="level btn-area">
    <button formType="reset">é‡ç½®</button>
    <button type="primary" formType="submit">æäº¤</button>
  </view>
</form>
<!-- å¼¹å‡ºå±‚ -->
<view class="mask-all" wx:if="{{show}}" bindtap="cancelMask"></view>
<view class="mask-box" wx:if="{{show}}">
  <block wx:if="{{hobby}}">
    <view class="center">
      <input bindinput="inputHobbyClick" value="{{hobbyVal}}" placeholder="è¯·è¾“å…¥å…´è¶£çˆ±å¥½ï¼ˆ5å­—ä»¥å†…å“¦~ï¼‰" maxlength="5" />
    </view>
  </block>
  <block wx:else>
    <view class="row level">
      <view>é“ç…§</view>
      <view class="right" bindtap="selectImage" data-tag="0">
        <image class="head-img" src="{{tempList.avatarTemp}}"></image>
      </view>
    </view>
    <view class="row">
      <view>å§“å</view>
      <view class="right">
        <input placeholder="è¯·è¾“å…¥å§“å" bindinput="inputNick" value="{{tempList.nameTemp}}" maxlength="20" />
      </view>
    </view>
    <view class="row">
      <view>ç”µè¯</view>
      <view class="right">
        <input placeholder="è¯·è¾“å…¥è”ç³»ç”µè¯" bindinput="inputPhone" value="{{tempList.phoneTemp}}" type="number" maxlength="11" />
      </view>
    </view>
  </block>
  <view class="level mask-btn">
    <view bindtap="cancelMask">å–æ¶ˆ</view>
    <view bindtap="defineMask">ç¡®å®š</view>
  </view>
</view>

```

3ã€wcssä»£ç 

```css
page {
  background-color: #f1f1f1;
}

.level {
  display: flex;
  flex-direction: row;
  align-items: center;
}

.top-box {
  background-color: white;
  padding: 25rpx 20rpx;
}

.avatar {
  width: 20%;
  text-align: center;
}

.avatar image {
  width: 80%;
  border-radius: 15rpx;
}

.info {
  width: 80%;
  margin-left: 10rpx;
  justify-content: space-between;
}

.name {
  font-size: 32rpx;
  font-weight: bold;
}

.tel {
  font-size: 28rpx;
  color: gray;
  padding-top: 10rpx;
}

.box {
  background-color: white;
  margin-top: 20rpx;
  padding: 25rpx 20rpx
}

.nav {
  margin-bottom: 15rpx;
}

.nav-flex {
  margin-bottom: 15rpx;
  justify-content: space-between;
}

.add-img {
  border: 1rpx solid #b3b3b4;
  padding: 0 14rpx 6rpx 14rpx;
  color: #b3b3b4;
  border-radius: 10rpx;
}

.attr-img {
  display: flex;
  flex-wrap: wrap;
  margin: 15rpx 15rpx 0 0;
}

.img {
  width: 20%;
  margin-right: 15rpx;
}

.dot {
  background-color: #2979ff;
  margin-right: 12rpx;
  border-radius: 50rpx;
  padding: 10rpx;
  box-shadow: 0 0 5rpx 5rpx #a0cfff;
}

.title {
  font-size: 30rpx;
  font-weight: bold;
}

.row {
  display: flex;
  flex-direction: row;
  padding: 25rpx 0;
  margin: 0 20rpx;
  font-size: 30rpx;
  border-bottom: 1rpx solid #f1f1f1;
  justify-content: space-between;
}

.end {
  border: none;
  padding-bottom: 10rpx;
}

.wrap-box {
  border: none;
  justify-content: flex-start;
  padding-bottom: 0;
  flex-wrap: wrap;
}

.right {
  color: rgb(110, 110, 110);
}

.right input {
  text-align: right;
  width: 100%;
}

.triangle {
  padding-left: 10rpx;
}

.text-area {
  color: rgb(88, 88, 88);
  width: 100%;
}

.add-btn {
  font-size: 26rpx;
  color: #2979ff;
  border: 1rpx solid #2979ff;
  padding: 5rpx 15rpx;
  border-radius: 50rpx;
  margin-left: 10rpx;
  margin-bottom: 15rpx;
}

.data-btn {
  background-color: #2979ff;
  color: white;
}

.btn-area button {
  margin: 20rpx;
}

/* å¼¹å‡ºå±‚ */
.mask-all {
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 888;
  background-color: rgba(0, 0, 0, 0.2);
}

.mask-box {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 999;
  background-color: white;
  border-top-left-radius: 15rpx;
  border-top-right-radius: 15rpx;
}

.center {
  font-size: 30rpx;
  padding: 30rpx 10rpx;
  text-align: center;
  width: 100%;
  border-bottom: 1rpx solid #f1f1f1;
}

.head-img {
  width: 100rpx;
  height: 100rpx;
  border-radius: 15rpx;
}

.mask-btn {
  justify-content: space-around;
  margin: 25rpx 0;
}

.mask-btn view {
  padding: 15rpx 10%;
  font-size: 30rpx;
  border-radius: 5rpx;
}

.mask-btn view:nth-child(1) {
  color: #2979ff;
  background-color: #f1f1f1;
}

.mask-btn view:nth-child(2) {
  color: white;
  background-color: #2979ff;
}

```

4ã€jsonä»£ç 

```javascript
{
  "usingComponents": {},
  "navigationBarBackgroundColor": "#2979ff",
  "navigationBarTitleText": "ä¸ªäººç®€å†"
}

```

å¦‚æœæœ‰å¸®åŠ©ï¼Œå°±è¯·æˆ‘åƒæ ¹æ£’æ£’ç³–å“¦ã€‚ã€‚ã€‚

68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34353436353838312f:61727469636c652f64657461696c732f313331303234373431