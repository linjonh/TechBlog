---
layout: post
title: "uni-app实现的搜索功能-可以应用到vue和小程序"
date: 2024-12-11 18:17:18 +0800
description: "search.vue<template> <view class=\"search\" :style=\""
keywords: "uniapp小程序 input type=serch 监听搜索"
categories: ['Vue']
tags: ['Vue']
artid: "108812591"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=108812591
    alt: "uni-app实现的搜索功能-可以应用到vue和小程序"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=108812591
featuredImagePreview: https://bing.ee123.net/img/rand?artid=108812591
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     uni-app实现的搜索功能 可以应用到vue和小程序
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     search.vue
    </p>
    <p>
     &lt;template&gt;
     <br/>
     &lt;view class="search" :style="{ backgroundColor: backgroundColor }"&gt;
     <br/>
     &lt;view class="content" :style="{ 'border-radius': radius + 'px', border: border }"&gt;
     <br/>
     &lt;view class="content-box" :class="{ center: mode === 2 }"&gt;
     <br/>
     &lt;text class="icon icon-search"&gt;&amp;#xe61c;&lt;/text&gt;
     <br/>
     &lt;input class="input" :class="{ center: !active &amp;&amp; mode === 2 }" :focus="isFocus" :placeholder="placeholder" v-model="inputVal" @focus="focus" @blur="blur" /&gt;
     <br/>
     &lt;!-- &lt;view v-if="!active &amp;&amp; mode === 2" class="input sub" @click="getFocus"&gt;请输入搜索内容&lt;/view&gt; --&gt;
     <br/>
     &lt;text v-if="isDelShow" class="icon icon-del" @click="clear"&gt;&amp;#xe644;&lt;/text&gt;
     <br/>
     &lt;/view&gt;
     <br/>
     &lt;view v-show="(active &amp;&amp; show &amp;&amp; button === 'inside') || (isDelShow &amp;&amp; button === 'inside')" class="searchBtn" @click="search"&gt;搜索&lt;/view&gt;
     <br/>
     &lt;/view&gt;
     <br/>
     &lt;view v-if="button === 'outside'" class="button" :class="{ active: show || active }" @click="search"&gt;
     <br/>
     &lt;view class="button-item"&gt;{
     <!-- -->
     { !show ? searchName : '搜索' }}&lt;/view&gt;
     <br/>
     &lt;/view&gt;
     <br/>
     &lt;/view&gt;
     <br/>
     &lt;/template&gt;
     <br/>
     <br/>
     &lt;script&gt;
     <br/>
     export default {
     <!-- -->
     <br/>
     props: {
     <!-- -->
     <br/>
     mode: {
     <!-- -->
     <br/>
     type: Number,
     <br/>
     default: 1
     <br/>
     },
     <br/>
     button: {
     <!-- -->
     <br/>
     type: String,
     <br/>
     default: 'outside'
     <br/>
     },
     <br/>
     show: {
     <!-- -->
     <br/>
     type: Boolean,
     <br/>
     default: true
     <br/>
     },
     <br/>
     radius: {
     <!-- -->
     <br/>
     type: String,
     <br/>
     default: '60'
     <br/>
     },
     <br/>
     placeholder: {
     <!-- -->
     <br/>
     type: String,
     <br/>
     default: '请输入搜索内容'
     <br/>
     },
     <br/>
     backgroundColor: {
     <!-- -->
     <br/>
     type: String,
     <br/>
     default: '#fff'
     <br/>
     },
     <br/>
     border: { type: String, default: '1px #f5f5f5 solid' }
     <br/>
     <br/>
     },
     <br/>
     data() {
     <!-- -->
     <br/>
     return {
     <!-- -->
     <br/>
     active: false,
     <br/>
     inputVal: '',
     <br/>
     searchName: '取消',
     <br/>
     isDelShow: false,
     <br/>
     isFocus: false
     <br/>
     };
     <br/>
     },
     <br/>
     methods: {
     <!-- -->
     <br/>
     focus() {
     <!-- -->
     <br/>
     this.active = true;
     <br/>
     },
     <br/>
     blur() {
     <!-- -->
     <br/>
     this.isFocus = false;
     <br/>
     if (!this.inputVal) {
     <!-- -->
     <br/>
     this.active = false;
     <br/>
     }
     <br/>
     },
     <br/>
     clear() {
     <!-- -->
     <br/>
     this.inputVal = '';
     <br/>
     this.active = false;
     <br/>
     this.$emit('search', '');
     <br/>
     },
     <br/>
     getFocus() {
     <!-- -->
     <br/>
     this.isFocus = true;
     <br/>
     },
     <br/>
     search() {
     <!-- -->
     <br/>
     if (!this.inputVal) return;
     <br/>
     console.log(this.inputVal);
     <br/>
     this.$emit('search', this.inputVal);
     <br/>
     }
     <br/>
     },
     <br/>
     watch: {
     <!-- -->
     <br/>
     inputVal(newVal) {
     <!-- -->
     <br/>
     if (newVal) {
     <!-- -->
     <br/>
     this.searchName = '搜索';
     <br/>
     this.isDelShow = true;
     <br/>
     } else {
     <!-- -->
     <br/>
     this.searchName = '取消';
     <br/>
     this.isDelShow = false;
     <br/>
     }
     <br/>
     }
     <br/>
     }
     <br/>
     };
     <br/>
     &lt;/script&gt;
     <br/>
     <br/>
     &lt;style lang="scss" scoped&gt;
     <br/>
     .search {
     <!-- -->
     <br/>
     display: flex;
     <br/>
     width: 100%;
     <br/>
     border-bottom: 1px #f5f5f5 solid;
     <br/>
     box-sizing: border-box;
     <br/>
     padding: 15upx;
     <br/>
     font-size: $uni-font-size-base;
     <br/>
     background: #fff;
     <br/>
     .content {
     <!-- -->
     <br/>
     display: flex;
     <br/>
     align-items: center;
     <br/>
     width: 100%;
     <br/>
     height: 60upx;
     <br/>
     border: 1px #ccc solid;
     <br/>
     background: #fff;
     <br/>
     overflow: hidden;
     <br/>
     transition: all 0.2s linear;
     <br/>
     border-radius: 30px;
     <br/>
     <br/>
     .content-box {
     <!-- -->
     <br/>
     width: 100%;
     <br/>
     display: flex;
     <br/>
     align-items: center;
     <br/>
     background-color:#F4F4F4;
     <br/>
     &amp;.center {
     <!-- -->
     <br/>
     justify-content: center;
     <br/>
     }
     <br/>
     .icon {
     <!-- -->
     <br/>
     padding: 0 15upx;
     <br/>
     <br/>
     &amp;.icon-del {
     <!-- -->
     <br/>
     font-size: 38upx;
     <br/>
     <br/>
     }
     <br/>
     }
     <br/>
     .input {
     <!-- -->
     <br/>
     width: 100%;
     <br/>
     max-width: 100%;
     <br/>
     line-height: 60upx;
     <br/>
     height: 60upx;
     <br/>
     color:#333;
     <br/>
     font-size:28upx;
     <br/>
     // transition: all 0.2s linear;
     <br/>
     &amp;.center {
     <!-- -->
     <br/>
     width: 200upx;
     <br/>
     }
     <br/>
     &amp;.sub {
     <!-- -->
     <br/>
     // position: absolute;
     <br/>
     width: auto;
     <br/>
     color: grey;
     <br/>
     }
     <br/>
     }
     <br/>
     }
     <br/>
     .searchBtn {
     <!-- -->
     <br/>
     height: 100%;
     <br/>
     flex-shrink: 0;
     <br/>
     padding: 0 30upx;
     <br/>
     background: $uni-color-success;
     <br/>
     line-height: 60upx;
     <br/>
     color: #fff;
     <br/>
     border-left: 1px #ccc solid;
     <br/>
     transition: all 0.3s;
     <br/>
     }
     <br/>
     }
     <br/>
     <br/>
     .button {
     <!-- -->
     <br/>
     display: flex;
     <br/>
     align-items: center;
     <br/>
     justify-content: center;
     <br/>
     position: relative;
     <br/>
     flex-shrink: 0;
     <br/>
     width: 0;
     <br/>
     transition: all 0.2s linear;
     <br/>
     white-space: nowrap;
     <br/>
     overflow: hidden;
     <br/>
     &amp;.active {
     <!-- -->
     <br/>
     padding-left: 15upx;
     <br/>
     width: 100upx;
     <br/>
     color: #8BC34A;
     <br/>
     }
     <br/>
     }
     <br/>
     }
     <br/>
     @font-face {
     <!-- -->
     <br/>
     font-family: 'iconfont';
     <br/>
     src: url('https://at.alicdn.com/t/font_989023_efq0mtli526.ttf') format('truetype');
     <br/>
     }
     <br/>
     .icon {
     <!-- -->
     <br/>
     font-family: iconfont;
     <br/>
     font-size: 32upx;
     <br/>
     font-style: normal;
     <br/>
     color: #999;
     <br/>
     }
     <br/>
     &lt;/style&gt;
     <br/>
    </p>
    <p>
     引用 搜索框
    </p>
    <p>
     Quotesearch.vue
    </p>
    <p>
     &lt;template&gt;
     <br/>
     &lt;view&gt;
     <br/>
     =============================
     <br/>
     使用
     <br/>
     &lt;mSearch :show="false" @search="search($event, 1)"&gt;&lt;/mSearch&gt;
     <br/>
     ==================================
     <br/>
     下面是写的一些别的 可以不用看
     <br/>
     <br/>
     &lt;view class="hot-search-wrap" v-if="isShowHotKey"&gt;
     <br/>
     &lt;view class="hot-search"&gt;&lt;text class="shugang"&gt;&lt;/text&gt; &lt;text class="textinfo"&gt;热门搜索&lt;/text&gt; &lt;/view&gt;
     <br/>
     &lt;view class="hot-key-wrap"&gt;
     <br/>
     &lt;view class="hot-key" v-for="(item, index) in mhotKey" :key="index" @tap="search(item, '')"&gt;{
     <!-- -->
     { item }}&lt;/view&gt;
     <br/>
     &lt;/view&gt;
     <br/>
     &lt;/view&gt;
     <br/>
     &lt;view class="wrapper" v-if="jobList"&gt;
     <br/>
     &lt;view class="job-list-wrap"&gt;
     <br/>
     &lt;view class="job-list" v-for="(item, index) in jobList" :key="item.id" @tap="goDetailPage(item.id)"&gt;
     <br/>
     &lt;view class="icon"&gt;&lt;image :src="item.thumbimg" mode=""&gt;&lt;/image&gt;&lt;/view&gt;
     <br/>
     &lt;view class="job-con-wrap"&gt;
     <br/>
     &lt;view class="job-title"&gt;
     <br/>
     {
     <!-- -->
     { item.product_name }}
     <br/>
     &lt;image class="hot" :src="item.tag_logo" mode=""&gt;&lt;/image&gt;
     <br/>
     &lt;/view&gt;
     <br/>
     &lt;view class="job-tip"&gt;{
     <!-- -->
     { item.settlement }} | {
     <!-- -->
     { item.recruitment }} | {
     <!-- -->
     { item.sex }}&lt;/view&gt;
     <br/>
     &lt;/view&gt;
     <br/>
     &lt;view class="job-rich"&gt;
     <br/>
     &lt;text class="job-salary"&gt;{
     <!-- -->
     { item.remuneration }}&lt;/text&gt;
     <br/>
     &lt;text class="job-cen"&gt;{
     <!-- -->
     { item.remuneration_type }}&lt;/text&gt;
     <br/>
     &lt;/view&gt;
     <br/>
     &lt;/view&gt;
     <br/>
     &lt;/view&gt;
     <br/>
     &lt;/view&gt;
     <br/>
     &lt;/view&gt;
     <br/>
     &lt;/template&gt;
     <br/>
     <br/>
     &lt;script&gt;
     <br/>
     //引入进来
     <br/>
     <br/>
     import mSearch from '@/components/mehaotian-search/search.vue';
     <br/>
     api 是封装了请求数据 不用看
     <br/>
     import { api } from '@/common/api.js';
     <br/>
     export default {
     <!-- -->
     <br/>
     <br/>
     // 注册子组件
     <br/>
     components: {
     <!-- -->
     <br/>
     mSearch
     <br/>
     },
     <br/>
     <br/>
     data() {
     <!-- -->
     <br/>
     return {
     <!-- -->
     <br/>
     keyword: '',
     <br/>
     jobList: '',
     <br/>
     mhotKey: ['服务员', '客服', '销售', '在线直播','提成','校园代理','家教','餐饮','促销','派单','日结','分拣打包'],
     <br/>
     isShowHotKey: true
     <br/>
     };
     <br/>
     },
     <br/>
     methods: {
     <!-- -->
     <br/>
     search(e, val) {
     <!-- -->
     <br/>
     // console.log(e, val);
     <br/>
     // this['val'+val] = e;
     <br/>
     if (e == '') {
     <!-- -->
     <br/>
     uni.showToast({
     <!-- -->
     <br/>
     title: '请输入关键词',
     <br/>
     icon: 'none',
     <br/>
     duration: 2000
     <br/>
     });
     <br/>
     return;
     <br/>
     }
     <br/>
     this.getJoblist(1, 20, e).then(rs =&gt; {
     <!-- -->
     <br/>
     let [err, res] = rs;
     <br/>
     let { code, data } = res.data;
     <br/>
     if (code == 1001) {
     <!-- -->
     <br/>
     this.jobList = data;
     <br/>
     this.isShowHotKey = false;
     <br/>
     } else {
     <!-- -->
     <br/>
     uni.showToast({
     <!-- -->
     <br/>
     title: '换一个关键词试试吧',
     <br/>
     icon: 'none',
     <br/>
     duration: 2000
     <br/>
     });
     <br/>
     }
     <br/>
     });
     <br/>
     },
     <br/>
     goDetailPage(key) {
     <!-- -->
     <br/>
     uni.navigateTo({
     <!-- -->
     <br/>
     url: '/pages/select/detail?id=' + key
     <br/>
     });
     <br/>
     },
     <br/>
     getJoblist(_page = 1, _limit = 10, _keyword) {
     <!-- -->
     <br/>
     接口换成自己的
     <br/>
     return api.post('https://job.liaotaba.com/api/product/dataList', {
     <!-- -->
     <br/>
     page: _page,
     <br/>
     limit: _limit,
     <br/>
     product_type: this.pid,
     <br/>
     keyword: _keyword,
     <br/>
     token: uni.getStorageSync('token') ? uni.getStorageSync('token') : '',
     <br/>
     uid: uni.getStorageSync('uid') ? uni.getStorageSync('uid') : '',
     <br/>
     type: '',
     <br/>
     is_selected: '',
     <br/>
     is_hot: '',
     <br/>
     is_tuijian: ''
     <br/>
     });
     <br/>
     }
     <br/>
     }
     <br/>
     };
     <br/>
     &lt;/script&gt;
     <br/>
     &lt;style lang="scss"&gt;
     <br/>
     .hot-search-wrap {
     <!-- -->
     <br/>
     padding: 20upx;
     <br/>
     .hot-search {
     <!-- -->
     <br/>
     font-size: 32upx;
     <br/>
     font-weight: 500;
     <br/>
     color: #333;
     <br/>
     padding:10upx;
     <br/>
     overflow: hidden;
     <br/>
     position:relative;
     <br/>
     .shugang{
     <!-- -->
     <br/>
     display: inline-block;
     <br/>
     width: 6upx;
     <br/>
     height: 30upx;
     <br/>
     background-color: #89C756;
     <br/>
     position: absolute;
     <br/>
     top: 18upx;
     <br/>
     left: 30upx;
     <br/>
     }
     <br/>
     .textinfo{
     <!-- -->
     <br/>
     display: inline-block;
     <br/>
     width: 200upx;
     <br/>
     height: 34upx;
     <br/>
     margin-left: 40upx;
     <br/>
     color: #333333;
     <br/>
     font-weight: 600;
     <br/>
     <br/>
     <br/>
     }
     <br/>
     }
     <br/>
     .hot-key-wrap {
     <!-- -->
     <br/>
     overflow: hidden;
     <br/>
     margin-top: 20upx;
     <br/>
     .hot-key {
     <!-- -->
     <br/>
     float: left;
     <br/>
     margin-right: 20upx;
     <br/>
     padding: 14upx 40upx;
     <br/>
     margin-bottom: 30upx;
     <br/>
     background: #f4f4f4;
     <br/>
     font-size: 28upx;
     <br/>
     border-radius: 10upx;
     <br/>
     color: #898989;
     <br/>
     font-weight: 600;
     <br/>
     }
     <br/>
     }
     <br/>
     }
     <br/>
     .wrapper {
     <!-- -->
     <br/>
     padding: 10upx 30upx 0;
     <br/>
     }
     <br/>
     .job-list-wrap {
     <!-- -->
     <br/>
     overflow: hidden;
     <br/>
     .job-list {
     <!-- -->
     <br/>
     overflow: hidden;
     <br/>
     border-bottom: 2upx solid #d7d7d7;
     <br/>
     padding: 30upx 0 32upx;
     <br/>
     .icon {
     <!-- -->
     <br/>
     float: left;
     <br/>
     width: 56upx;
     <br/>
     height: 56upx;
     <br/>
     image {
     <!-- -->
     <br/>
     width: 56upx;
     <br/>
     height: 56upx;
     <br/>
     }
     <br/>
     }
     <br/>
     .job-con-wrap {
     <!-- -->
     <br/>
     float: left;
     <br/>
     margin-left: 19upx;
     <br/>
     width: 424upx;
     <br/>
     font-size: 30upx;
     <br/>
     .job-title {
     <!-- -->
     <br/>
     overflow: hidden;
     <br/>
     white-space: nowrap;
     <br/>
     text-overflow: ellipsis;
     <br/>
     color: #333333;
     <br/>
     font-size: 35upx;
     <br/>
     font-weight: 600;
     <br/>
     .hot {
     <!-- -->
     <br/>
     width: 60upx;
     <br/>
     height: 30upx;
     <br/>
     margin-left: 20upx;
     <br/>
     }
     <br/>
     }
     <br/>
     .job-tip {
     <!-- -->
     <br/>
     margin-top: 22upx;
     <br/>
     font-size: 24upx;
     <br/>
     color: #868686;
     <br/>
     clear: both;
     <br/>
     }
     <br/>
     }
     <br/>
     .job-rich {
     <!-- -->
     <br/>
     float: left;
     <br/>
     width: 190upx;
     <br/>
     text-align: right;
     <br/>
     font-size: 36upx;
     <br/>
     font-weight:600;
     <br/>
     color:rgba(229,28,35,1);
     <br/>
     overflow: hidden;
     <br/>
     white-space: nowrap;
     <br/>
     text-overflow: ellipsis;
     <br/>
     margin-top: 30upx;
     <br/>
     .job-salary {
     <!-- -->
     <br/>
     font-size:36upx;
     <br/>
     font-family:PingFangSC;
     <br/>
     font-weight:600;
     <br/>
     color:rgba(229,28,35,1);
     <br/>
     text-align: right;
     <br/>
     }
     <br/>
     .job-cen{
     <!-- -->
     <br/>
     font-size:28upx;
     <br/>
     font-family:PingFangSC;
     <br/>
     font-weight:400;
     <br/>
     color:rgba(229,28,35,1);
     <br/>
     text-align: right;
     <br/>
     }
     <br/>
     }
     <br/>
     }
     <br/>
     }
     <br/>
     &lt;/style&gt;
     <br/>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f33323432313438392f:61727469636c652f64657461696c732f313038383132353931" class_="artid" style="display:none">
 </p>
</div>


