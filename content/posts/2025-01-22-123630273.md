---
layout: post
title: "微信小程序开发一小程序代码构成"
date: 2025-01-22 09:06:32 +0800
description: "本文详细介绍了小程序的开发配置，包括全局配置app.json、开发工具配置project.confi"
keywords: "开发一个在线工具小程序需要哪些代码"
categories: ['微信开发']
tags: ['微信小程序']
artid: "123630273"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=123630273
    alt: "微信小程序开发一小程序代码构成"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=123630273
featuredImagePreview: https://bing.ee123.net/img/rand?artid=123630273
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     微信小程序开发（一）：小程序代码构成
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     通过开发工具创建一个项目后，在项目目录中自动生成里四种不同类型的文件
    </p>
    <h3>
     <a id="JSON_1">
     </a>
     JSON配置
    </h3>
    <p>
     1、JSON是一种数据格式，在小程序中的作用主要是保存一些静态配置
     <br/>
     2、JSON文件中不能使用注释
    </p>
    <h4>
     <a id="appjson_4">
     </a>
     小程序配置app.json
    </h4>
    <p>
     当前小程序的全局配置，包括小程序的所有页面路径、界面表现、网络超时事件，底部tab等：
     <br/>
     1、
     <code>
      pages
     </code>
     字段用于描述当前小程序所有页面路径
     <br/>
     2、
     <code>
      window
     </code>
     字段用于定义小程序
     <mark>
      所有页面
     </mark>
     的顶部背景颜色、字体颜色等
     <br/>
     3、
     <code>
      tabBar
     </code>
     字段用于定义底部tab
    </p>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
  <span class="token string">"pages"</span><span class="token punctuation">:</span><span class="token punctuation">[</span>
    <span class="token string">"pages/index/index"</span><span class="token punctuation">,</span>
    <span class="token string">"pages/logs/logs"</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">"window"</span><span class="token punctuation">:</span><span class="token punctuation">{<!-- --></span>
    <span class="token string">"backgroundTextStyle"</span><span class="token punctuation">:</span><span class="token string">"light"</span><span class="token punctuation">,</span>
    <span class="token string">"navigationBarBackgroundColor"</span><span class="token punctuation">:</span> <span class="token string">"#fff"</span><span class="token punctuation">,</span>
    <span class="token string">"navigationBarTitleText"</span><span class="token punctuation">:</span> <span class="token string">"Weixin"</span><span class="token punctuation">,</span>
    <span class="token string">"navigationBarTextStyle"</span><span class="token punctuation">:</span><span class="token string">"black"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">"tabBar"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"list"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
      <span class="token string">"pagePath"</span><span class="token punctuation">:</span> <span class="token string">"pages/index/index"</span><span class="token punctuation">,</span>
      <span class="token string">"text"</span><span class="token punctuation">:</span> <span class="token string">"首页"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
      <span class="token string">"pagePath"</span><span class="token punctuation">:</span> <span class="token string">"pages/logs/index"</span><span class="token punctuation">,</span>
      <span class="token string">"text"</span><span class="token punctuation">:</span> <span class="token string">"日志"</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"networkTimeout"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"request"</span><span class="token punctuation">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
    <span class="token string">"downloadFile"</span><span class="token punctuation">:</span> <span class="token number">10000</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"debug"</span><span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="projectconfigjson_37">
     </a>
     开发工具配置project.config.json
    </h4>
    <p>
     创建项目时会在根目录生成一个project.config.json文件，用来保存coder在开发工具上做的配置，比如界面颜色、编译配置等，coder需要重新安装开发工具或者更换电脑时，只需要导入同一个项目的代码包，开发工具就会自动回复项目开发时的个性化配置
    </p>
    <h4>
     <a id="pagejson_40">
     </a>
     页面配置page.json
    </h4>
    <p>
     1、小程序的每一个页面都有一个对应的JSON文件
     <br/>
     2、用来表示同目录下的小程序页面的相关配置，独立定义每一个页面的一些属性
     <br/>
     3、
     <code>
      page.json
     </code>
     文件中个性化设置优先级高于app.json中的设置
    </p>
    <h3>
     <a id="WXML_44">
     </a>
     WXML文件
    </h3>
    <p>
     1、
     <code>
      WXML
     </code>
     充当网页开发中
     <code>
      HMTL
     </code>
     的角色，用来描述当前页面的结构
     <br/>
     2、
     <code>
      WXML
     </code>
     中有一些特有的标签，如
     <code>
      view
     </code>
     、
     <code>
      text
     </code>
     等
     <br/>
     3、小程序提倡
     <mark>
      渲染和逻辑分离
     </mark>
     ，提供了
     <code>
      MVVM
     </code>
     的开发模式，不需要让js直接操作DOM，只需要管理状态，通过一种模板语法描述状态和界面结构的关系
     <br/>
     4、通过{
     <!-- -->
     {}}数据绑定语法把变量绑定到界面上，并且通过
     <code>
      wx:if / wx:else, wx:for
     </code>
     等来控制属性的表达
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userinfo<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{<!-- -->{!hasUserInfo &amp;&amp; canIUse}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 获取头像昵称 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name"><span class="token namespace">wx:</span>else</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{<!-- -->{userInfo.avatarUrl}}<span class="token punctuation">"</span></span> <span class="token attr-name">background-size</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cover<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userinfo-nickname<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{<!-- -->{userInfo.nickName}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>usermotto<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user-motto<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{<!-- -->{motto}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <h3>
     <a id="WXSS_63">
     </a>
     WXSS样式
    </h3>
    <p>
     1、
     <code>
      WXSS
     </code>
     具有
     <code>
      CSS
     </code>
     大部分的特性
     <br/>
     2、
     <code>
      WXSS
     </code>
     和
     <code>
      CSS
     </code>
     相比，增加了新的尺寸单位
     <code>
      rpx
     </code>
     (
     <mark>
      可以根据屏幕宽度进行自适应。规定屏幕宽为750rpx
     </mark>
     )
     <br/>
     3、
     <code>
      WXSS
     </code>
     只支持部分选择器（
     <code>
      .class
     </code>
     、
     <code>
      #id
     </code>
     、
     <code>
      element
     </code>
     、
     <code>
      ::after
     </code>
     、
     <code>
      ::before
     </code>
     ）
    </p>
    <h3>
     <a id="JS_67">
     </a>
     JS逻辑脚本
    </h3>
    <p>
     js脚本用来处理用户的操作，如：响应用户的点击、获取用户的位置等.
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ msg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 使用bindtap绑定鼠标点击事件 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>clickMe<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>点击我<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <pre><code class="prism language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  clickMe<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> msg<span class="token punctuation">:</span> <span class="token string">"Hello World"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f446f6d696e69635f572f:61727469636c652f64657461696c732f313233363330323733" class_="artid" style="display:none">
 </p>
</div>


