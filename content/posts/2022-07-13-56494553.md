---
layout: post
title: "秒杀-设计流程"
date: 2022-07-13 14:00:14 +0800
description: "秒杀是最考验程序员的一个功能，如果不能很好的做好秒杀。那个结果只能呵呵 了！ 秒杀剖析：      "
keywords: "秒杀 设计流程"
categories: ['Php']
tags: ['无标签']
artid: "56494553"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=56494553
    alt: "秒杀-设计流程"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=56494553
featuredImagePreview: https://bing.ee123.net/img/rand?artid=56494553
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     秒杀 设计流程
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     秒杀是最考验程序员的一个功能，如果不能很好的做好秒杀。那个结果只能呵呵 了！
    </p>
    <p>
    </p>
    <p>
     秒杀剖析：
     <br/>
    </p>
    <p>
     技术角度：高可用、高并发
     <br/>
    </p>
    <p>
     市场角度：用户体验、曝光度、促销
    </p>
    <p>
     注意点：脱离原服务器进行部署
    </p>
    <p>
     监控、监控 （监控软件）
    </p>
    <p>
     关键点：高可用：双活
    </p>
    <p>
     高并发：负载均衡、安全过滤
    </p>
    <p>
     <br/>
    </p>
    <p>
     <br/>
    </p>
    <p>
     设计模型
    </p>
    <p>
     <img alt="" src="https://img-blog.csdn.net/20170222184252270">
      <br/>
     </img>
    </p>
    <p>
     <br/>
    </p>
    <p>
     <br/>
    </p>
    <p>
     解析：
    </p>
    <p>
     模块1、秒杀前
     <br/>
    </p>
    <p>
     使用cdn加速 不仅能够分流用户，还能减少地域造成的响应差异
    </p>
    <p>
     <br/>
    </p>
    <p>
     以上图为例： cdn缓存秒杀未开始页面 （此时控制开秒的按钮js 名为js名+时间戳    为了cdn回源 *就是不让cdn缓存     ）
     <br/>
    </p>
    <p>
     定时任务器使用crontab 任务执行 远程copy 命令将  带有URL参数的路径js 覆盖到客户端（刷新秒杀页面点亮秒杀）  覆盖之前那个js 是空的为了防止有人篡改样式发起提交
     <br/>
    </p>
    <p>
     模块 2、秒杀中
    </p>
    <p>
     用户 点击秒杀  放入队列的两种方式：
    </p>
    <p>
     1、将请求放在队列里
     <br/>
    </p>
    <p>
     2、将要卖的商品放在队列里
    </p>
    <p>
     <br/>
    </p>
    <p>
     模块3 、秒杀结束
     <br/>
    </p>
    <p>
     检测商品的最大数量 -- 提示活动已经结束
     <br/>
    </p>
    <p>
     数据持久化
     <br/>
    </p>
    <p>
     mysql 入库
    </p>
    <p>
     <br/>
    </p>
    <p>
     <br/>
    </p>
    <p>
     每层之间要注意安全   过滤/反馈
    </p>
    <p>
     <br/>
    </p>
    <p>
     秒杀结束
    </p>
    <p>
     <br/>
    </p>
    <p>
     <br/>
    </p>
    <p>
     <br/>
    </p>
    <p>
     <br/>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f67:2e6373646e2e6e65742f776f736869686169796f6e67313638:2f61727469636c652f64657461696c732f3536343934353533" class_="artid" style="display:none">
 </p>
</div>


