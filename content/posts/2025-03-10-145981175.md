---
layout: post
title: "C学习笔记十六函数重载"
date: 2025-03-10 21:39:14 +0800
description: "函数重载（Function Overloading）是 C++ 允许多个同名函数 但参数不同的一种特性。  通过参数的类型、个数或顺序区分不同的函数。编译器会根据调用时提供的参数自动选择合适的函数。"
keywords: "C++学习笔记（十六）——函数重载"
categories: ['C']
tags: ['笔记', '学习', 'C']
artid: "145981175"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=145981175
    alt: "C学习笔记十六函数重载"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=145981175
featuredImagePreview: https://bing.ee123.net/img/rand?artid=145981175
cover: https://bing.ee123.net/img/rand?artid=145981175
image: https://bing.ee123.net/img/rand?artid=145981175
img: https://bing.ee123.net/img/rand?artid=145981175
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     C++学习笔记（十六）——函数重载
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="__0">
     </a>
     一、 函数重载
    </h2>
    <p>
     <strong>
      作用：
     </strong>
     <br/>
     <strong>
      函数重载（Function Overloading）
     </strong>
     是 C++ 允许
     <mark>
      多个同名函数 但参数不同
     </mark>
     的一种特性。
    </p>
    <ul>
     <li>
      通过
      <mark>
       参数的类型、个数或顺序
      </mark>
      区分不同的函数。
     </li>
     <li>
      <strong>
       编译器会根据调用时提供的参数自动选择合适的函数
      </strong>
      。
     </li>
    </ul>
    <p>
     <strong>
      特点
     </strong>
     ：
    </p>
    <ul>
     <li>
      <strong>
       函数名相同
      </strong>
      ，但
      <strong>
       参数列表不同
      </strong>
      （
      <strong>
       参数类型、个数、顺序
      </strong>
      至少有一个不同）。
     </li>
     <li>
      <strong>
       返回值类型不能作为区分重载的标准
      </strong>
      。
     </li>
     <li>
      <strong>
       提高代码可读性
      </strong>
      ，简化接口设计。
     </li>
    </ul>
    <h2>
     <a id="__11">
     </a>
     二、 函数重载的基本语法
    </h2>
    <p>
     <strong>
      语法：
     </strong>
    </p>
    <pre><code class="prism language-cpp">返回类型 函数名<span class="token punctuation">(</span>参数<span class="token number">1</span><span class="token punctuation">,</span> 参数<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
返回类型 函数名<span class="token punctuation">(</span>不同参数<span class="token number">1</span><span class="token punctuation">,</span> 不同参数<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     <strong>
      示例：
     </strong>
    </p>
    <pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token comment">// 计算整数的平方</span>
<span class="token keyword">int</span> <span class="token function">square</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 计算双精度浮点数的平方</span>
<span class="token keyword">double</span> <span class="token function">square</span><span class="token punctuation">(</span><span class="token keyword">double</span> x<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"square(5) = "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">square</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>      <span class="token comment">// 调用 int 版本</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"square(2.5) = "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">square</span><span class="token punctuation">(</span><span class="token number">2.5</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  <span class="token comment">// 调用 double 版本</span>

    <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      注意
     </strong>
     ：
    </p>
    <ul>
     <li>
      <code>
       square(int x)
      </code>
      和
      <code>
       square(double x)
      </code>
      <strong>
       函数名相同，参数类型不同
      </strong>
      ，属于
      <strong>
       重载函数
      </strong>
      。
     </li>
     <li>
      <strong>
       编译器自动匹配合适的重载版本
      </strong>
      。
     </li>
    </ul>
    <h2>
     <a id="_48">
     </a>
     三、函数重载的规则
    </h2>
    <h3>
     <a id="1_49">
     </a>
     （1）允许的重载情况
    </h3>
    <ul>
     <li>
      <strong>
       参数类型不同
      </strong>
      ：
      <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">double</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
     </li>
     <li>
      <strong>
       参数个数不同
      </strong>
      ：
      <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
     </li>
     <li>
      <strong>
       参数顺序不同
      </strong>
      ：
      <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">double</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">double</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
     </li>
    </ul>
    <h3>
     <a id="2_65">
     </a>
     （2）不允许的重载情况
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        仅返回值不同，参数列表相同
       </strong>
       ：
      </p>
      <pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token keyword">double</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//  错误，无法区分按返回值类型区分的函数</span>
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        仅参数名称不同（参数类型相同）
       </strong>
       ：
      </p>
      <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  错误，参数类型相同，函数重复定义</span>
</code></pre>
     </li>
    </ul>
    <h2>
     <a id="__77">
     </a>
     四、 应用案例
    </h2>
    <h3>
     <a id="1__78">
     </a>
     (1) 函数重载——自动调用匹配的重载版本
    </h3>
    <p>
     <strong>
      示例——计算不同数据类型的绝对值：
     </strong>
    </p>
    <pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token comment">// 绝对值计算（int 版本）</span>
<span class="token keyword">int</span> <span class="token function">absVal</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token operator">:</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 绝对值计算（double 版本）</span>
<span class="token keyword">double</span> <span class="token function">absVal</span><span class="token punctuation">(</span><span class="token keyword">double</span> x<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token operator">:</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"absVal(-10) = "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">absVal</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"absVal(-5.5) = "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">absVal</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5.5</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    
    <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      注意：
     </strong>
     <br/>
     <strong>
      根据参数类型，编译器自动调用匹配的重载版本
     </strong>
     。
    </p>
    <h3>
     <a id="2____108">
     </a>
     (2) 函数重载 + 默认参数
    </h3>
    <p>
     <strong>
      示例——计算面积：
     </strong>
    </p>
    <pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token comment">// 计算矩形面积（默认参数）</span>
<span class="token keyword">int</span> <span class="token function">area</span><span class="token punctuation">(</span><span class="token keyword">int</span> length<span class="token punctuation">,</span> <span class="token keyword">int</span> width <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> length <span class="token operator">*</span> width<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 计算圆面积</span>
<span class="token keyword">double</span> <span class="token function">area</span><span class="token punctuation">(</span><span class="token keyword">double</span> radius<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token number">3.14159</span> <span class="token operator">*</span> radius <span class="token operator">*</span> radius<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"矩形面积: "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">area</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>       <span class="token comment">// 使用默认参数</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"矩形面积: "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">area</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token comment">// 传入两个参数</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"圆的面积: "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">area</span><span class="token punctuation">(</span><span class="token number">3.0</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>     <span class="token comment">// 调用 double 版本</span>
    
    <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      注意：
     </strong>
    </p>
    <ul>
     <li>
      <code>
       area(int, int)
      </code>
      <strong>
       有默认参数
      </strong>
      ，
      <strong>
       调用时如果省略参数，则使用默认值
      </strong>
      。
     </li>
     <li>
      <code>
       area(double)
      </code>
      计算圆的面积，
      <strong>
       自动匹配合适的重载版本
      </strong>
      。
     </li>
    </ul>
    <h3>
     <a id="3____140">
     </a>
     (3) 函数重载 + 类型转换
    </h3>
    <p>
     <strong>
      可能出现的问题：
     </strong>
     <br/>
     如果一个
     <strong>
      重载函数
     </strong>
     和
     <strong>
      隐式类型转换
     </strong>
     冲突，可能导致
     <strong>
      歧义（Ambiguous）
     </strong>
     。
    </p>
    <p>
     <strong>
      示例：
     </strong>
    </p>
    <pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token comment">// int 版本</span>
<span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span> 
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"int 版本"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

<span class="token comment">// char 版本</span>
<span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">char</span> x<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span> 
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"char 版本"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">func</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 调用 int 版本</span>
    <span class="token function">func</span><span class="token punctuation">(</span><span class="token char">'A'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 调用 char 版本</span>
    <span class="token comment">// func(2.5);  // 错误, 可能调用 int 或 char，导致歧义</span>

    <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      注意：
     </strong>
    </p>
    <ul>
     <li>
      <mark>
       使用
       <code>
        explicit
       </code>
       类型转换
      </mark>
      ：
      <pre><code class="prism language-cpp"><span class="token function">func</span><span class="token punctuation">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">2.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 强制使用 int 版本</span>
</code></pre>
     </li>
     <li>
      <strong>
       避免过多的自动类型转换
      </strong>
      。
     </li>
    </ul>
    <h3>
     <a id="4_const__177">
     </a>
     (4)
     <code>
      const
     </code>
     引用重载
    </h3>
    <p>
     <strong>
      示例——const引用重载：
     </strong>
    </p>
    <pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">&amp;</span> x<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span> 
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"普通引用"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> x<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span> 
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"const 引用"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>

    <span class="token function">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 调用非 const 版本</span>
    <span class="token function">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 调用 const 版本</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 传递临时变量，调用 const 版本</span>

    <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      注意：
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       <code>
        print(int &amp;x)
       </code>
       只能绑定
      </strong>
      非
      <code>
       const
      </code>
      变量。
     </li>
     <li>
      <strong>
       <code>
        print(const int &amp;x)
       </code>
       可以绑定
      </strong>
      <code>
       const
      </code>
      变量或临时值。
     </li>
    </ul>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34353835373337382f:61727469636c652f64657461696c732f313435393831313735" class_="artid" style="display:none">
 </p>
</div>


