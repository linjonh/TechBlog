---
layout: post
title: "Python安装PaddleOCR"
date: 2022-10-10 18:58:41 +0800
description: "Python安装PaddleOCR_paddleocr pip"
keywords: "paddleocr pip"
categories: ['机器学习', 'Python']
tags: ['开发语言', 'Python', 'Linux']
artid: "127250283"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=127250283
    alt: "Python安装PaddleOCR"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=127250283
featuredImagePreview: https://bing.ee123.net/img/rand?artid=127250283
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Python安装PaddleOCR
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     注意：我的系统是Ubuntu18.4
    </p>
    <h3>
     <a id="1__3">
     </a>
     1 介绍
    </h3>
    <p>
     光学字符识别（Optical Character Recognition，OCR ）主要用于图片中文本识别。目前开源的OCR识别工具比较多，比较出名的有PaddleOCR、EasyOCR、Tesseract-OCR和Surya等。
    </p>
    <p>
     PaddleOCR由百度基于PaddlePaddle使用Python编写和训练的开源OCR项目，提供了多种尺寸和语种的模型，效果很不错，提供了Python包可直接使用，不仅提供了布局识别、文档识别，还提供了表格识别。
    </p>
    <pre><code># GitHub地址
https://github.com/PaddlePaddle/PaddleOCR
</code></pre>
    <p>
     EasyOCR由Jaided AI使用Python编写的OCR项目，支持80多种语言，提供了Python包，可直接使用，效果也很不错。
    </p>
    <pre><code># Github地址
https://github.com/JaidedAI/EasyOCR

# 官网地址
https://www.jaided.ai/
</code></pre>
    <p>
     Tesseract-OCR由Google主要使用C++编写的开源OCR项目，它提供了超过130种语言和35种脚本的软件包，可以在Linux、Windows和Mac等平台上运行。
    </p>
    <p>
     缺点：需要在相应平台上自己手动安装和编译，没有直接提供Python和Java的使用方式，没有提供表格识别等，有一个基于tesseract-ocr的开源项目pytesseract可以使用Python调用。
    </p>
    <pre><code># Github项目地址
https://github.com/tesseract-ocr

# 开源源代码
https://github.com/tesseract-ocr/tesseract

# 开发文档地址
https://tesseract-ocr.github.io/tessdoc/
</code></pre>
    <p>
     Surya由个人开源的使用Python编写和训练的开源OCR项目，提供了90多种语言的识别，主要用于文档OCR识别、提供了布局识别和文本识别等。
    </p>
    <pre><code># Github地址
https://github.com/VikParuchuri/surya
</code></pre>
    <h3>
     <a id="2_PaddleOCR_55">
     </a>
     2 安装PaddleOCR
    </h3>
    <pre><code># 安装paddlepaddle（我用的是cpu版本）
python3 -m pip install paddlepaddle -i https://mirror.baidu.com/pypi/simple

# 安装gpu版本paddlepaddle
python3 -m pip install paddlepaddle-gpu -i https://mirror.baidu.com/pypi/simple
</code></pre>
    <pre><code># 安装paddleocr
pip install paddleocr
</code></pre>
    <p>
     安装时出现的问题
    </p>
    <p>
     主要是安装python-Levenshtein引起的问题，直接安装XX.tar.gz文件是不行的，可以安装XX.linux.whl文件应该可以（但是我没找到linux版本）。
    </p>
    <pre><code>fatal error: Python.h: No such file or directory
#include &lt;Python.h&gt;
error: command 'x86_64-linux-gnu-gcc' failed with exit status 1
</code></pre>
    <p>
     解决办法
    </p>
    <pre><code># 一般情况下，直接安装下面的即可，建议用指定python版本的方法
sudo apt-get install python-dev

# 如果还不行，安装时指定python版本，不指定python版本可能还出现问题
sudo apt-get install python3.8-dev
</code></pre>
    <h3>
     <a id="3_PaddleOCR_92">
     </a>
     3 PaddleOCR使用
    </h3>
    <pre><code class="prism language-python"><span class="token keyword">from</span> paddleocr <span class="token keyword">import</span> PaddleOCR<span class="token punctuation">,</span> draw_ocr

<span class="token comment"># 'use_gpu=False'不用gpu，默认使用GPU</span>
<span class="token comment"># 'use_angle_cls=True'自动下载相关的包</span>
<span class="token comment"># 'lang="ch"'设置语言，支持中英文、英文、法语、德语、韩语、日语，参数依次为`ch`, `en`, `french`, `german`, `korean`, `japan`。</span>
<span class="token comment"># 离线使用时，设置模型的目录det_model_dir、rec_model_dir、cls_model_dir第一次联网模型会自动下载到model目录下</span>
ocr <span class="token operator">=</span> PaddleOCR<span class="token punctuation">(</span>use_gpu<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> use_angle_cls<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> lang<span class="token operator">=</span><span class="token string">"ch"</span><span class="token punctuation">,</span> det_model_dir<span class="token operator">=</span><span class="token string">"./model/det"</span><span class="token punctuation">,</span> rec_model_dir<span class="token operator">=</span><span class="token string">"./model/rec/"</span><span class="token punctuation">,</span> cls_model_dir<span class="token operator">=</span><span class="token string">"./model/cls/"</span><span class="token punctuation">)</span>
img_path <span class="token operator">=</span> <span class="token string">'./picture/my_001.png'</span>
result <span class="token operator">=</span> ocr<span class="token punctuation">.</span>ocr<span class="token punctuation">(</span>img_path<span class="token punctuation">,</span> cls<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token comment"># line是一个列表' [[文本框的位置],(文字,置信度)] '</span>
<span class="token keyword">for</span> line <span class="token keyword">in</span> result<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span>
</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f6d616b655f70726f67726573732f:61727469636c652f64657461696c732f313237323530323833" class_="artid" style="display:none">
 </p>
</div>


