---
layout: post
title: "计算机网络1-网络通信基础,协议介绍,通信框架"
date: 2025-03-05 16:01:50 +0800
description: "应用层：应用层是 TCP/IP 协议的第一层，是直接为应用进程提供服务的对不同种类的应用程序它们会根据自己的需要来使用应用层的不同协议，邮件传输应用使用了 SMTP 协议、万维网应用使用了 HTTP 协议、远程登录服务应用使用了有 TELNET 协议应用层还能加密、解密、格式化数据应用层可以建立或解除与其他节点的联系，这样可以充分节省网络资源传输层：作为 TCP/IP 协议的第二层，传输层在整个 TCP/IP 协议中起到了中流砥柱的作用。"
keywords: "计算机网络（1） 网络通信基础，协议介绍，通信框架"
categories: ['八股']
tags: ['计算机网络']
artid: "146043187"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146043187
    alt: "计算机网络1-网络通信基础,协议介绍,通信框架"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146043187
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146043187
cover: https://bing.ee123.net/img/rand?artid=146043187
image: https://bing.ee123.net/img/rand?artid=146043187
img: https://bing.ee123.net/img/rand?artid=146043187
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     计算机网络（1） 网络通信基础，协议介绍，通信框架
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="_0">
     </a>
     网络结构模式
    </h2>
    <p>
     C/S-----客户端和服务器
     <br/>
     B/S -----浏览器服务器
    </p>
    <h2>
     <a id="MAC_4">
     </a>
     MAC地址
    </h2>
    <p>
     每一个网卡都拥有独一无二的
     <strong>
      48位
     </strong>
     串行号，也即MAC地址，也叫做
     <strong>
      物理地址
     </strong>
     、硬件地址或者是局域网地址
     <br/>
     MAC地址表示为12个16进制数 如00-16-EA-AE-3C-40 （每一个数可以用四个2进制数表示）
    </p>
    <h2>
     <a id="IP_8">
     </a>
     IP地址
    </h2>
    <p>
     IP 地址是一个 32 位的二进制数，通常被分割为 4 个“ 8 位二进制数”（也就是 4 个字节）。
     <br/>
     通常用“点分十进制”表示成（a.b.c.d）的形式每一个字母范围是0-255
     <br/>
     其中一般最后一个255是广播
     <br/>
     <strong>
      A类IP地址:
     </strong>
     在 IP 地址的四段号码中，第一段号码为网络号码，剩下的三段号码为本地计算机的号码。
    </p>
    <p>
     <strong>
      B类IP地址:
     </strong>
     在 IP 地址的四段号码中，前两段号码为网络号码。
     <br/>
     <strong>
      C类IP地址:
     </strong>
     在 IP 地址的四段号码中，前三段号码为网络号码，剩下的一段号码为本地计算机的号码。
     <br/>
     <strong>
      D类IP地址:
     </strong>
     多播地址，组播地址
    </p>
    <h3>
     <a id="_17">
     </a>
     特殊网址
    </h3>
    <ul>
     <li>
      <p>
       每一个字节都为 0 的地址（
       <code>
        0.0.0.0
       </code>
       ）对应于
       <strong>
        当前主机
       </strong>
      </p>
     </li>
     <li>
      <p>
       IP 地址中的每一个字节都为 1 的 IP 地址（
       <code>
        255.255.255.255
       </code>
       ）是
       <strong>
        当前子网的广播地址
       </strong>
      </p>
     </li>
     <li>
      <p>
       IP 地址中凡是以
       <code>
        11110
       </code>
       开头的 E 类 IP 地址都保留用于将来和实验使用
      </p>
     </li>
     <li>
      <p>
       IP地址中
       <strong>
        不能以十进制
        <code>
         127
        </code>
        作为开头
       </strong>
       ，该类地址中数字
       <code>
        127.0.0.1 ~ 127.255.255.255
       </code>
       用于回路测试，如：
       <code>
        127.0.0.1
       </code>
       可以代表
       <strong>
        本机IP地址
       </strong>
      </p>
     </li>
    </ul>
    <h2>
     <a id="_25">
     </a>
     子网掩码
    </h2>
    <p>
     子网掩码只有一个作用，就是将某个 IP 地址划分成
     <code>
      网络地址
     </code>
     和
     <code>
      主机地址
     </code>
     两部分。通过按位与的方式。
    </p>
    <h2>
     <a id="_28">
     </a>
     网络模型
    </h2>
    <h3>
     <a id="OSI_29">
     </a>
     OSI七层模型
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/98de675617144d6785b37907e6da9e63.png">
      <br/>
      物数网传会表应
      <br/>
      MAC地址在数据链路层寻址
      <br/>
      IP在网络层
     </img>
    </p>
    <h3>
     <a id="TCPIP_35">
     </a>
     <mark>
      TCP/IP四层模型
     </mark>
    </h3>
    <p>
     目前的主流协议族
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/bb194116e4df4d059a159803ad8b034c.png">
      中间这些都是各种各样的协议
     </img>
    </p>
    <h4>
     <a id="_39">
     </a>
     四层介绍
    </h4>
    <ul>
     <li>
      <code>
       应用层
      </code>
      ：应用层是 TCP/IP 协议的第一层，是直接为应用进程提供服务的
      <ul>
       <li>
        对不同种类的应用程序它们会根据自己的需要来使用应用层的不同协议，邮件传输应用使用了 SMTP 协议、万维网应用使用了 HTTP 协议、远程登录服务应用使用了有 TELNET 协议
       </li>
       <li>
        应用层还能加密、解密、格式化数据
       </li>
       <li>
        应用层可以建立或解除与其他节点的联系，这样可以充分节省网络资源
       </li>
      </ul>
     </li>
     <li>
      <code>
       传输层
      </code>
      ：作为 TCP/IP 协议的第二层，传输层在整个 TCP/IP 协议中起到了中流砥柱的作用。且在运输层中， TCP 和 UDP 也同样起到了中流砥柱的作用
     </li>
     <li>
      <code>
       网络层
      </code>
      ：网络层在 TCP/IP 协议中的位于第三层。在 TCP/IP 协议中网络层可以进行网络连接的建立和终止以及 IP 地址的寻找等功能
     </li>
     <li>
      <code>
       网络接口层
      </code>
      ：在 TCP/IP 协议中，网络接口层位于第四层。由于网络接口层兼并了物理层和数据链路层所以，网络接口层既是传输数据的物理媒介，也可以为网络层提供一条准确无误的线路
     </li>
    </ul>
    <h2>
     <a id="_47">
     </a>
     协议
    </h2>
    <ul>
     <li>
      应用层协议
      <ul>
       <li>
        FTP协议（File Transfer Protocol 文件传输协议）
       </li>
       <li>
        HTTP协议（Hyper Text Transfer Protocol 超文本传输协议）
       </li>
       <li>
        NFS（Network File System 网络文件系统）
       </li>
      </ul>
     </li>
     <li>
      传输层协议
      <ul>
       <li>
        TCP协议（Transmission Control Protocol 传输控制协议）
       </li>
       <li>
        UDP协议（User Datagram Protocol 用户数据报协议）
       </li>
      </ul>
     </li>
     <li>
      网络层协议
      <ul>
       <li>
        IP 协议（Internet Protocol 因特网互联协议）
       </li>
       <li>
        ICMP 协议（Internet Control Message Protocol 因特网控制报文协议）
       </li>
       <li>
        IGMP 协议（Internet Group Management Protocol 因特网组管理协议）。
       </li>
      </ul>
     </li>
     <li>
      网络接口层协议
      <ul>
       <li>
        ARP协议（Address Resolution Protocol 地址解析协议）
       </li>
       <li>
        RARP协议（Reverse Address Resolution Protocol 反向地址解析协议）
       </li>
      </ul>
     </li>
    </ul>
    <h3>
     <a id="UDP_64">
     </a>
     UDP协议
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/fb69aa4f3f384a55965fb77ee193d251.png"/>
    </p>
    <ul>
     <li>
      源端口号：发送方端口号
     </li>
     <li>
      目的端口号：接收方端口号
     </li>
     <li>
      长度：UDP用户数据报的长度，最小值是8（仅有首部）
     </li>
     <li>
      校验和：检测UDP用户数据报在传输中是否有错，有错就丢弃
     </li>
    </ul>
    <h3>
     <a id="TCP_72">
     </a>
     TCP协议
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/78ca38fd30b54666be6757bdf6e4c88e.png"/>
    </p>
    <ul>
     <li>
      源端口号：发送方端口号
     </li>
     <li>
      目的端口号：接收方端口号
     </li>
     <li>
      序号：本报文段的数据的第一个字节的序号
     </li>
     <li>
      确认号：期望收到对方下一个报文段的第一个数据字节的序号
     </li>
     <li>
      头部长度（数据偏移）：TCP 报文段的数据起始处距离 TCP 报文段的起始处有多远，即首部长度。
      <mark>
       单位：32位，即以 4 字节为计算单位
      </mark>
      ？？？
     </li>
     <li>
      保留：占 6 位，保留为今后使用，目前应置为 0
     </li>
     <li>
      紧急
      <code>
       URG
      </code>
      ：此位置 1 ，表明紧急指针字段有效，它告诉系统此报文段中有紧急数据，应尽快传送
     </li>
     <li>
      确认
      <code>
       ACK
      </code>
      ：仅当 ACK=1 时确认号字段才有效，TCP 规定，在连接建立后所有传达的报文段都必须把 ACK 置1
     </li>
     <li>
      推送
      <code>
       PSH
      </code>
      ：当两个应用进程进行交互式的通信时，有时在一端的应用进程希望在键入一个命令后立即就能够收到对方的响应。在这种情况下，TCP 就可以使用推送（push）操作，这时，发送方TCP 把 PSH 置 1，并立即创建一个报文段发送出去，接收方收到 PSH = 1 的报文段，就尽快地（即“推送”向前）交付给接收应用进程，而不再等到整个缓存都填满后再向上交付
     </li>
     <li>
      复位
      <code>
       RST
      </code>
      ：用于复位相应的 TCP 连接
     </li>
     <li>
      同步
      <code>
       SYN
      </code>
      ：仅在三次握手建立 TCP 连接时有效。当 SYN = 1 而 ACK = 0 时，表明这是一个连接请求报文段，对方若同意建立连接，则应在相应的报文段中使用 SYN = 1 和 ACK = 1。因此，SYN 置1 就表示这是一个连接请求或连接接受报文
     </li>
     <li>
      终止
      <code>
       FIN
      </code>
      ：用来释放一个连接。当 FIN = 1 时，表明此报文段的发送方的数据已经发送完毕，并要求释放运输连接
     </li>
     <li>
      窗口：指发送本报文段的一方的接收窗口（而不是自己的发送窗口）
     </li>
     <li>
      校验和：校验和字段检验的范围包括首部和数据两部分，在计算校验和时需要加上 12 字节的伪头部
     </li>
     <li>
      紧急指针：仅在 URG = 1 时才有意义，它指出本报文段中的紧急数据的字节数（紧急数据结束后就是普通数据），即指出了紧急数据的末尾在报文中的位置，注意：即使窗口为零时也可发送紧急数据
     </li>
     <li>
      选项：长度可变，最长可达 40 字节，当没有使用选项时，TCP 首部长度是 20 字节
     </li>
    </ul>
    <h3>
     <a id="IP_90">
     </a>
     IP协议
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/1fa19ce3f9254692ada11cd81bc0baa8.png"/>
    </p>
    <ul>
     <li>
      版本号：IP 协议的版本。通信双方使用过的 IP 协议的版本必须一致，目前最广泛使用的 IP 协议版本号为 4（即IPv4)
     </li>
     <li>
      头部长度：单位是 32 位（4 字节）
     </li>
     <li>
      服务类型：一般不适用，取值为 0
     </li>
     <li>
      总长度：指首部加上数据的总长度，单位为字节
     </li>
     <li>
      标识（identification）：IP 软件在存储器中维持一个计数器，每产生一个数据报，计数器就加 1，并将此值赋给标识字段
     </li>
     <li>
      标志（flag）：目前只有两位有意义
      <ul>
       <li>
        标志字段中的最低位记为 MF。MF = 1 即表示后面“还有分片”的数据报。MF = 0 表示这已是若干数据报片中的最后一个
       </li>
       <li>
        标志字段中间的一位记为 DF，意思是“不能分片”，只有当 DF = 0 时才允许分片
       </li>
      </ul>
     </li>
     <li>
      片偏移：指出较长的分组在分片后，某片在源分组中的相对位置，也就是说，相对于用户数据段的起点，该片从何处开始。片偏移以 8 字节为偏移单位
     </li>
     <li>
      生存时间：TTL，表明是数据报在网络中的寿命，即为
      <code>
       跳数限制
      </code>
      ，由发出数据报的源点设置这个字段。路由器在转发数据之前就把 TTL 值减一，当 TTL 值减为零时，就丢弃这个数据报，常见为
      <strong>
       64和128
      </strong>
     </li>
     <li>
      协议：指出此数据报携带的数据时使用何种协议，以便使目的主机的 IP 层知道应将数据部分上交给哪个处理过程，常用的 ICMP(1)，IGMP(2)，TCP(6)，UDP(17)，IPv6（41）
     </li>
     <li>
      首部校验和：只校验数据报的首部，不包括数据部分
     </li>
     <li>
      源地址：发送方 IP 地址
     </li>
     <li>
      目的地址：接收方 IP 地址
     </li>
    </ul>
    <h3>
     <a id="_106">
     </a>
     以太网帧协议
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/52c30e4d1b994fd581f1bb48fe33eb18.png">
      <br/>
      类型：
     </img>
    </p>
    <ul>
     <li>
      0x800表示 IP
     </li>
     <li>
      0x806表示 ARP
     </li>
     <li>
      0x835表示 RARP
     </li>
    </ul>
    <h3>
     <a id="ARP_112">
     </a>
     ARP协议
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/1f152cbda8a644a2a0db019694220168.png"/>
    </p>
    <ul>
     <li>
      硬件类型：1 表示 MAC 地址
     </li>
     <li>
      协议类型：0x800 表示 IP 地址
     </li>
     <li>
      硬件地址长度：6
     </li>
     <li>
      协议地址长度：4
     </li>
     <li>
      操作
      <ul>
       <li>
        1 表示 ARP 请求
       </li>
       <li>
        2 表示 ARP 应答
       </li>
       <li>
        3 表示 RARP 请求
       </li>
       <li>
        4 表示 RARP 应答
       </li>
      </ul>
     </li>
    </ul>
    <h2>
     <a id="_126">
     </a>
     封装
    </h2>
    <p>
     应用程序数据在发送到物理网络上之前，
     <strong>
      将沿着协议栈从上往下依次传递
     </strong>
     。每层协议都
     <strong>
      将在上层数据的基础上加上自己的头部信息
     </strong>
     （有时还包括尾部信息），以实现该层的功能，这个过程就称为
     <strong>
      封装
     </strong>
     。
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/113f293d97c54d748a281ba3ea4c002a.png"/>
    </p>
    <h2>
     <a id="_130">
     </a>
     分用
    </h2>
    <p>
     当帧到达目的主机时，将沿着协议栈自底向上依次传递。各层协议依次处理帧中本层负责的头部数据，以获取所需的信息，并最终将处理后的帧交给目标应用程序。这个过程称为分用。
     <br/>
     分用时靠头部信息中的类型字段实现的
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/d44cc8ced6b949c28de666f32d613a5c.png"/>
    </p>
    <h2>
     <a id="_134">
     </a>
     封装分用示意图：
    </h2>
    <p>
     <img alt="请添加图片描述" src="https://i-blog.csdnimg.cn/direct/36f534419f1b41638f286611145f4c56.png"/>
     <br/>
     图中以QQ发消息为例，发送nihao
     <br/>
     传输层以UDP协议的源端口和目的端口
     <br/>
     然后网络层加IP协议头，
     <br/>
     最后就是以太网帧协议头和尾
    </p>
    <p>
     需要注意的是，我们是通过IP地址寻找MAC地址的，如果本机存储过IP地址对应的MAC地址，那么就直接可以在以太网帧头这里写上目的端的物理地址。但如果不知道的话，就通过ARP协议获取MAC
     <br/>
     通过IP获取MAC，时ARP，通过MAC获取IP，是RARP
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/84ba02280a494467aa703c50f7fbad3b.png"/>
    </p>
    <p>
     一开始源机器会给所有局域网的及其发一个arp请求，其他机器会根据自己的IP去对应，对上了就ARP应答，从而获取。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f6879645f617368656c792f:61727469636c652f64657461696c732f313436303433313837" class_="artid" style="display:none">
 </p>
</div>


