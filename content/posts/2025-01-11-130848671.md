---
layout: post
title: "mysql-数据库导入导出方法总结"
date: 2025-01-11 18:38:24 +0800
description: "文章详细介绍了如何使用mysqldump在CMD环境下进行数据库的导出和导入操作，包括备份全部数据、"
keywords: "mysql 数据泵 导入导出"
categories: ['未分类']
tags: ['数据库', 'Postgresql', 'Mysql']
artid: "130848671"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=130848671
  alt: "mysql-数据库导入导出方法总结"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=130848671
featuredImagePreview: https://bing.ee123.net/img/rand?artid=130848671
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     mysql 数据库导入导出方法总结
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     注意：mysqldump是在操作系统命令行下运行的。不是在 mysql 命令行下运行的，进入MySQL目录下的bin文件夹，如：C:\Program Files\MySQL\MySQL Server 5.5\bin&gt;
    </p>
    <p>
     一般形式：mysqldump -h IP -u 用户名 -p 数据库名 &gt; 导出的文件名
    </p>
    <p>
     1）-p 后面不能加password，只能单独输入如1中那样
    </p>
    <p>
     2）mysqldump是在cmd下的命令，不能再mysql下面，即不能进入mysql的（即use dpname下，得exit退出mysql下才可以的。）
    </p>
    <h2>
     一、数据库的导出（备份）
    </h2>
    <p>
     0、(备份数据库即
     <u>
      导出所有表以及数据 不加-d
     </u>
     )
    </p>
    <blockquote>
     <p>
      mysqldump -h localhost -u root -p test &gt; G:\arcgisworkspace\zypdoc\test.sql
     </p>
    </blockquote>
    <p>
     1、(备份数据库即
     <u>
      导出所有表结构
     </u>
     )      ##test为数据库名称，-d表示只导出表结构
     <span style="background-color:#ffd900;">
      （去掉data）
     </span>
     ，不导出数据
    </p>
    <blockquote>
     <p>
      C:\Program Files\MySQL\MySQL Server 5.5\bin&gt;mysqldump -h localhost -u root -p -d test &gt; G:\arcgisworkspace\zypdoc\test.sql
      <br/>
      ENTER PASSWORD:******
     </p>
    </blockquote>
    <p>
     2、(导出某张表的表结构不含数据)   ##test是数据库名，pollution是表名
    </p>
    <blockquote>
     <p>
      mysqldump -h localhost -u root -p -d test pollution &gt; G:\arcgisworkspace\zypdoc\test.sql
     </p>
    </blockquote>
    <p>
     3、(导出某张表的表结构和数据，不加-d)
    </p>
    <blockquote>
     <p>
      mysqldump -h 127.0.0.1 -u root -p test pollution &gt; G:\arcgisworkspace\zypdoc\test.sql
     </p>
    </blockquote>
    <p>
     5、备份多个数据库的语法C:\Program Files\MySQL\MySQL Server 5.5\bin&gt;
    </p>
    <p>
     mysqldump -h 127.0.0.1 -u root -p --databases test bank &gt; G:\arcgisworkspace\zypdoc\test.sql
    </p>
    <p>
     或 mysqldump -h 127.0.0.1 -u root -p --databases test bank &gt; G:\arcgisworkspace\zypdoc\test.txt 是没有用的，因为仍然是sql的格式。
    </p>
    <p>
     6、备份所有的数据库的语法C:\Program Files\MySQL\MySQL Server 5.5\bin&gt;
     <br/>
     mysqldump -h 127.0.0.1 -u root -p --all-databases &gt; G:\arcgisworkspace\zypdoc\test.sql
    </p>
    <p>
     <img alt="" height="640" src="https://i-blog.csdnimg.cn/blog_migrate/bcab846a281bd47447deb740b0dde3a5.png" width="1073"/>
    </p>
    <h2>
     二、数据库的导入(还原)
    </h2>
    <p>
     0、导入数据库（首先得创建数据，再导入）C:\Program Files\MySQL\MySQL Server 5.5\bin&gt;
    </p>
    <p>
     mysql -h localhost -u root -p（进入mysql下面）
    </p>
    <p>
     <img alt="" height="242" src="https://i-blog.csdnimg.cn/blog_migrate/2a58f8fa63c1ec9f2e07a67fb7d6b104.png" width="688"/>
    </p>
    <p>
     create database abc;(创建数据库)
    </p>
    <p>
     show databases;(就可看到所有已经存在的数据库，以及刚刚创建的数据库abc)
    </p>
    <p>
     <u>
      use abc;(进入abc数据库下面)
     </u>
    </p>
    <p>
     show tables;(产看abc数据库下面的所有表,空的)
    </p>
    <p>
     <u>
      source G:\arcgisworkspace\zypdoc\test.sql（导入数据库表）
     </u>
    </p>
    <p>
     show tables;(查看abc数据库下面的所有表，就可以看到表了)
    </p>
    <p>
     desc pollution;(查看表结构设计)
    </p>
    <p>
     select * from pollution;
    </p>
    <p>
     exit(或者ctrl + c)退出mysql
    </p>
    <h2>
     三：MYSQL如何导出文本文件  （备份为csv,txt,等，更加有用）
    </h2>
    <p>
     0、mysql 下导出为指定格式的数据的外部任意文件类型  mysql&gt;
    </p>
    <p>
     use dbname
    </p>
    <p>
     Database Changed
    </p>
    <p>
     select * from pollution into outfile 'G:\\arcgisworkspace\\zypdoc\\text.txt'; (只导出数据的，注意转义字符哦)
    </p>
    <p>
     select * from pollution into outfile 'G:\\arcgisworkspace\\zypdoc\\text.csv' FIELDS TERMINATED BY '\,'; (输出格式控制)
    </p>
    <p>
     结果为：
    </p>
    <p>
     1,汽车尾气,200
     <br/>
     2,建筑扬沙,180
     <br/>
     3,汽车喷漆,160
     <br/>
     4,燃煤,240
     <br/>
     5,其它,80
    </p>
    <p>
     <img alt="" height="586" src="https://i-blog.csdnimg.cn/blog_migrate/be6897025cd1d5dce0ecf5354cfd2e3e.png" width="997"/>
    </p>
    <p>
     <img alt="" height="536" src="https://i-blog.csdnimg.cn/blog_migrate/bae3586088f026758f1ba4c1ec91285f.png" width="748"/>
    </p>
    <p>
     知识补充：
    </p>
    <p>
     一般形式：select [列名称] from tablename [where]
    </p>
    <p>
     into outfile '目标文件路径' [option]
    </p>
    <p>
     其中option参数常用的5个选项
    </p>
    <p>
     FIELDS TERMINATED BY ‘字符串’：设置字符串为字段的分割符，默认值为 \t；
    </p>
    <p>
     FIELDS ENCLOSED BY ‘字符’：设置字符串括上char varchar text等字符型字段，默认值为 无任何符号；
    </p>
    <p>
     FIELDS OPTIONALLY ENCLOSED BY ‘字符’：设置字符串括上字段的值，默认值为 无任何符号；
    </p>
    <p>
     LINES STARTING BY ‘字符串’：设置每一行开头的字符，默认值为 无任何字符；
    </p>
    <p>
     FIELDS ESCAPED BY ‘字符’：设置转义字符，默认值为 \；
    </p>
    <p>
     LINES TERMINATED BY ‘字符串’：设置每行结束符，默认值为 \n；
    </p>
    <p>
     如：
    </p>
    <p>
     select * from pollution into outfile 'G:\\arcgisworkspace\\zypdoc\\text2.csv'
    </p>
    <p>
     FIELDS TERMINATED BY '\,' OPTIONALLY ENCLOSED BY '\"'
     <br/>
     LINES STARTING BY '\&gt;' TERMINATED BY '\r\n';
    </p>
    <p>
     结果为：
    </p>
    <p>
     &gt;1,"汽车尾气","200"
     <br/>
     &gt;2,"建筑扬沙","180"
     <br/>
     &gt;3,"汽车喷漆","160"
     <br/>
     &gt;4,"燃煤","240"
     <br/>
     &gt;5,"其它","80"
    </p>
    <p>
     1、mysqldump 下导出为指定格式的数据的外部任意文件类型  C:\Program Files\MySQL\MySQL Server 5.5\bin&gt;
    </p>
    <p>
     mysqldump -u root -p -T G:\arcgisworkspace\zypdoc\ abc pollution "--fields-terminated-by=," (记住不要任何多余的空格，也不用转移字符;-p后面也不用写password；注意目
    </p>
    <p>
     标目录是文件夹，文件名是表名，后缀是txt文件)
    </p>
    <p>
     知识补充：
    </p>
    <p>
     mysqldump -u root -p -T 目标目录 dbname tablename [option]
    </p>
    <p>
     option 和 上面的mysql的一样，只是更改为
    </p>
    <p>
     "--fields-terminated-by=字符"(不要任何多余的空格,就是指fields-terminated-by紧密相连的)
    </p>
    <h2>
     四：MYSQL如何导入文本文件  （更加有用）
    </h2>
    <p>
     （1）mysql 下导出为指定格式的数据的外部任意文件类型  mysql&gt;
    </p>
    <p>
     第一步：创建对应字段的数据表
    </p>
    <ol>
     <li>
      create table csv_test2(
     </li>
     <li>
      id int(8) primary key,
     </li>
     <li>
      name varchar(64),
     </li>
     <li>
      value int(32)
     </li>
     <li>
      );
     </li>
    </ol>
    <p>
     （2）插入：加入value的类型开始时设计错了，如何更改：ALTER table csrv_test2 MODIFY column value varchar(32);
    </p>
    <p>
     （3）第二步：导入外部数据
    </p>
    <ol>
     <li>
      LOAD DATA INFILE 'D:\\tjdata_metro\\test\\mysql_infile3.csv'
     </li>
     <li>
      INTO TABLE csv_test2
     </li>
     <li>
      FIELDS TERMINATED BY '\,'
     </li>
     <li>
      OPTIONALLY ENCLOSED BY '\"'
     </li>
     <li>
      LINES TERMINATED by'\r\n'
     </li>
     <li>
      ignore 1 lines
     </li>
     <li>
      (id,name,value);
     </li>
    </ol>
    <p>
     上面的 lines terminated by '\r\n' 是 要求换行符号,为 windows的换行
     <br/>
     上面的 ignore 1 lines是 忽略第一行的标题行。
    </p>
    <p>
     转自：
     <a href="https://blog.csdn.net/weixin_47680367/article/details/122887032" title="https://blog.csdn.net/weixin_47680367/article/details/122887032">
      https://blog.csdn.net/weixin_47680367/article/details/122887032
     </a>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f667568616e6768616e672f:61727469636c652f64657461696c732f313330383438363731" class_="artid" style="display:none">
 </p>
</div>
