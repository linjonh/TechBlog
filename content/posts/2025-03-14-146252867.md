---
layout: post
title: "用Deep-seek解析ChatGPT打造数字虚拟人"
date: 2025-03-14 11:23:56 +0800
description: "GPT带来的智能化变革正在推动虚拟数字人产业迅猛发展。在AI技术的赋能下，增强数字虚拟人已经具备了多模态交互能力"
keywords: "用Deep seek解析ChatGPT打造数字虚拟人"
categories: ['未分类']
tags: ['Chatgpt']
artid: "146252867"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146252867
    alt: "用Deep-seek解析ChatGPT打造数字虚拟人"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146252867
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146252867
cover: https://bing.ee123.net/img/rand?artid=146252867
image: https://bing.ee123.net/img/rand?artid=146252867
img: https://bing.ee123.net/img/rand?artid=146252867
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     用Deep seek解析ChatGPT打造数字虚拟人
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     项目发起：
     <a href="https://www.ydcode.cn/" rel="nofollow">
      云端源想
     </a>
    </p>
    <p>
     项目描述
    </p>
    <p>
     GPT带来的智能化变革正在推动虚拟数字人产业迅猛发展。在AI技术的赋能下，增强数字虚拟人已经具备了多模态交互能力。数字人创作已经迈入AIGC时代，数字人产业也进入了蓬勃发展期。本课程以项目实战的方式，基于ChatGPT完成AI数字虚拟人，打造专属对话虚拟人。通过语音唤醒、识别及合成、前后端快速搭建等技术，使用户具备将AI技术真实落地工作中，高效快速提高自身核心竞争力。
    </p>
    <p>
     应用场景
    </p>
    <p>
     直播带货：AI数字人通过模拟人类的面部表情和语言，能够在直播平台上进行商品展示和推广，为消费者提供更加个性化和互动的购物体验
     <br/>
     客户服务：在客户服务领域，AI数字人可以利用自然语言处理和智能推荐技术，为用户提供在线咨询解答和服务支持，提高服务效率和用户 满意度。
     <br/>
     教育培训：AI数字人可以作为在线教育的一部分，通过直播和互动方式，为学生提供个性化的教学和辅导，帮助学生更有效地学习和掌握知 识。
     <br/>
     游戏和动画：在游戏和动画产业中，AI数字人可以扮演角色或非玩家角色（NPC），与玩家进行互动，增强游戏的趣味性和沉浸感。
     <br/>
     虚拟现实：AI数字人可以在虚拟现实（VR）环境中与用户互动，提供沉浸式的虚拟体验，如虚拟旅游、虚拟培训等。
     <br/>
     智慧展厅：AI数字人可以作为虚拟讲解员，在智慧展厅中为访客提供信息和导览服务，提升参观体验。
     <br/>
     电商虚拟直播：在电子商务领域，AI数字人可以进行虚拟直播，为线上购物提供创新的展示方式。
     <br/>
     元宇宙主角：随着元宇宙概念的兴起，AI数字人有望成为用户在虚拟世界中的代表或伙伴，拓展数字人的应用范围。
     <br/>
     健康管理：结合生理数据监测，AI数字人可能在未来扮演个人健康顾问的角色，提供健康建议和生活方式指导。
     <br/>
     娱乐伴侣：AI数字人还可以作为虚拟伴侣，参与影视剧制作或提供陪伴服务，满足用户的情感交流需求。
    </p>
    <p>
     技术选型参考
    </p>
    <p>
     前端：Vue3
     <br/>
     后端：SpringBoot
     <br/>
     AI数字人：UE5+ChatGPT
    </p>
    <p>
     功能点
    </p>
    <p>
     3D 人物形象合成：确保虚拟数字人能够在多种平台上运行，例如网页、移动设备等
     <br/>
     语音服务接入：实现语音识别和合成，允许用户与虚拟数字人进行语音交互。
     <br/>
     UI界面联动：设计用户界面，使得虚拟数字人可以通过图形界面与用户进行互动对话。
     <br/>
     智能回复：通过ChatGPT，使虚拟数字人具备从交互中学习的能力，提高其智能水平和服务质量
     <br/>
     实时响应：确保虚拟数字人能够实时响应用户的输入，提供即时的反馈和互动
     <br/>
     个性化定制: 根据不同的应用场景和用户需求，定制个性化的虚拟数字人形象和行为特征
    </p>
    <p>
     项目实现参考
    </p>
    <ol>
     <li>
      前端实现：
     </li>
    </ol>
    <p>
     使用Vue3框架构建数字人互动页面。
     <br/>
     2. 后端开发：
    </p>
    <p>
     基于SpringBoot搭建RESTful API服务，整合AI 相关API，最终实现AI虚拟数字人的实时交互功能。
    </p>
    <h4>
     <a id="ChatGPTAI_42">
     </a>
     <strong>
      基于ChatGPT的AI数字虚拟人开发教程
     </strong>
    </h4>
    <hr/>
    <h4>
     <a id="_46">
     </a>
     <strong>
      一、项目架构设计
     </strong>
    </h4>
    <h5>
     <a id="1__47">
     </a>
     <strong>
      1. 技术架构图
     </strong>
    </h5>
    <pre><code>┌───────────────┐       ┌───────────────┐       ┌───────────────┐
│   前端        │       │   后端        │       │   AI服务      │
│  (Vue3)      │◄─────►│  (SpringBoot) │◄─────►│  (ChatGPT/UE5)│
└───────────────┘ HTTP  └───────────────┘ REST  └───────────────┘
       ▲ WebSocket                ▲
       │                          │
┌──────┴───────┐          ┌───────┴───────┐
│ 用户交互层    │          │ 业务逻辑层     │
│ 语音/UI/3D   │          │ API路由/数据处理│
└──────────────┘          └───────────────┘
</code></pre>
    <h5>
     <a id="2__61">
     </a>
     <strong>
      2. 模块划分
     </strong>
    </h5>
    <ul>
     <li>
      <strong>
       前端
      </strong>
      ：3D数字人展示、语音交互、UI界面
     </li>
     <li>
      <strong>
       后端
      </strong>
      ：API服务、AI接口代理、数据存储
     </li>
     <li>
      <strong>
       AI服务
      </strong>
      ：ChatGPT对话生成、UE5数字人动画驱动
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="_68">
     </a>
     <strong>
      二、环境准备
     </strong>
    </h4>
    <h5>
     <a id="1__69">
     </a>
     <strong>
      1. 开发工具
     </strong>
    </h5>
    <ul>
     <li>
      <strong>
       前端
      </strong>
      ：VSCode + Vue CLI + Three.js/Babylon.js
     </li>
     <li>
      <strong>
       后端
      </strong>
      ：IntelliJ IDEA + JDK 17 + Maven
     </li>
     <li>
      <strong>
       AI数字人
      </strong>
      ：Unreal Engine 5 + ChatGPT API
     </li>
     <li>
      <strong>
       语音服务
      </strong>
      ：阿里云智能语音交互（免费试用）
     </li>
    </ul>
    <h5>
     <a id="2__75">
     </a>
     <strong>
      2. 依赖安装
     </strong>
    </h5>
    <p>
     <strong>
      前端
     </strong>
     ：
    </p>
    <pre><code class="prism language-bash"><span class="token function">npm</span> <span class="token function">install</span> vue@next vue-router@4 axios three babylonjs
<span class="token function">npm</span> <span class="token function">install</span> @vueuse/core <span class="token comment"># 工具库</span>
</code></pre>
    <p>
     <strong>
      后端
     </strong>
     （
     <code>
      pom.xml
     </code>
     ）：
    </p>
    <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.squareup.okhttp3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>okhttp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.10.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <hr/>
    <h4>
     <a id="_97">
     </a>
     <strong>
      三、核心功能实现
     </strong>
    </h4>
    <h5>
     <a id="1_3DUE5__Web_98">
     </a>
     <strong>
      1. 3D数字人集成（UE5 → Web）
     </strong>
    </h5>
    <p>
     <strong>
      步骤
     </strong>
     ：
    </p>
    <ol>
     <li>
      <p>
       <strong>
        UE5模型导出
       </strong>
       ：
      </p>
      <ul>
       <li>
        在UE5中完成数字人建模与动画（骨骼绑定、表情控制）。
       </li>
       <li>
        导出为
        <code>
         .glb
        </code>
        格式（支持Web端渲染）。
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        前端加载模型
       </strong>
       ：
      </p>
      <pre><code class="prism language-javascript"><span class="token comment">// 使用Three.js加载模型</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> <span class="token constant">THREE</span> <span class="token keyword">from</span> <span class="token string">'three'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> GLTFLoader <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'three/addons/loaders/GLTFLoader.js'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> loader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GLTFLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
loader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">'digital-human.glb'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">gltf</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> model <span class="token operator">=</span> gltf<span class="token punctuation">.</span>scene<span class="token punctuation">;</span>
    scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 绑定动画控制器</span>
    <span class="token keyword">const</span> mixer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>AnimationMixer</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> action <span class="token operator">=</span> mixer<span class="token punctuation">.</span><span class="token function">clipAction</span><span class="token punctuation">(</span>gltf<span class="token punctuation">.</span>animations<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    action<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
     </li>
    </ol>
    <h5>
     <a id="2__121">
     </a>
     <strong>
      2. 语音交互实现
     </strong>
    </h5>
    <p>
     <strong>
      语音识别与合成（阿里云API）
     </strong>
     ：
    </p>
    <pre><code class="prism language-javascript"><span class="token comment">// 前端录音与识别</span>
navigator<span class="token punctuation">.</span>mediaDevices<span class="token punctuation">.</span><span class="token function">getUserMedia</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">audio</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">stream</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> recorder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MediaRecorder</span><span class="token punctuation">(</span>stream<span class="token punctuation">)</span><span class="token punctuation">;</span>
    recorder<span class="token punctuation">.</span><span class="token function-variable function">ondataavailable</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> audioBlob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">[</span>e<span class="token punctuation">.</span>data<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'audio/wav'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> text <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">transcribeAudio</span><span class="token punctuation">(</span>audioBlob<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用阿里云ASR</span>
        <span class="token keyword">const</span> reply <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getChatGPTResponse</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用后端API</span>
        <span class="token function">playReplyAudio</span><span class="token punctuation">(</span>reply<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 语音合成（TTS）</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    recorder<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 后端代理ChatGPT请求（SpringBoot）</span>
@<span class="token function">PostMapping</span><span class="token punctuation">(</span><span class="token string">"/chat"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> String <span class="token function">chat</span><span class="token punctuation">(</span><span class="token parameter">@RequestBody String userInput</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    OkHttpClient client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    RequestBody body <span class="token operator">=</span> RequestBody<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>
        <span class="token string">"{\"model\": \"gpt-4\", \"messages\": [{\"role\": \"user\", \"content\": \""</span> <span class="token operator">+</span> userInput <span class="token operator">+</span> <span class="token string">"\"}]}"</span><span class="token punctuation">,</span>
        MediaType<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">"application/json"</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    Request request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">"https://api.openai.com/v1/chat/completions"</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">"Authorization"</span><span class="token punctuation">,</span> <span class="token string">"Bearer YOUR_API_KEY"</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">(</span>Response response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h5>
     <a id="3_UI_155">
     </a>
     <strong>
      3. 数字人动画与UI联动
     </strong>
    </h5>
    <p>
     <strong>
      Vue组件示例
     </strong>
     ：
    </p>
    <pre><code class="prism language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;canvas ref="canvas"&gt;&lt;/canvas&gt;
    &lt;div class="chat-box"&gt;
      &lt;input v-model="userInput" @keyup.enter="sendMessage" /&gt;
      &lt;div v-for="msg in messages" :key="msg.id"&gt;{<!-- -->{ msg.text }}&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      userInput: '',
      messages: [],
    };
  },
  methods: {
    async sendMessage() {
      const response = await axios.post('/api/chat', { text: this.userInput });
      this.messages.push({ text: response.data });
      // 触发数字人表情动画
      this.triggerEmotionAnimation(response.data);
    },
    triggerEmotionAnimation(text) {
      // 根据情感分析结果播放对应动画
      const emotion = analyzeEmotion(text); // 调用情感分析API
      this.digitalHuman.playAnimation(emotion);
    }
  }
};
&lt;/script&gt;
</code></pre>
    <hr/>
    <h4>
     <a id="_195">
     </a>
     <strong>
      四、进阶功能实现
     </strong>
    </h4>
    <h5>
     <a id="1_WebSocket_196">
     </a>
     <strong>
      1. 实时响应优化（WebSocket）
     </strong>
    </h5>
    <p>
     <strong>
      后端配置
     </strong>
     ：
    </p>
    <pre><code class="prism language-java"><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@EnableWebSocket</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebSocketConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebSocketConfigurer</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">registerWebSocketHandlers</span><span class="token punctuation">(</span><span class="token class-name">WebSocketHandlerRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        registry<span class="token punctuation">.</span><span class="token function">addHandler</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ChatHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"/ws/chat"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAllowedOrigins</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChatHandler</span> <span class="token keyword">extends</span> <span class="token class-name">TextWebSocketHandler</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">handleTextMessage</span><span class="token punctuation">(</span><span class="token class-name">WebSocketSession</span> session<span class="token punctuation">,</span> <span class="token class-name">TextMessage</span> message<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">String</span> reply <span class="token operator">=</span> <span class="token function">getChatGPTResponse</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">getPayload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        session<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TextMessage</span><span class="token punctuation">(</span>reply<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      前端连接
     </strong>
     ：
    </p>
    <pre><code class="prism language-javascript"><span class="token keyword">const</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span><span class="token string">'ws://localhost:8080/ws/chat'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
socket<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>messages<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">text</span><span class="token operator">:</span> event<span class="token punctuation">.</span>data <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
    <h5>
     <a id="2__225">
     </a>
     <strong>
      2. 个性化数字人定制
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       <strong>
        外观配置
       </strong>
       ：
      </p>
      <pre><code class="prism language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;input type="color" v-model="skinColor" @change="updateModelColor" /&gt;
    &lt;input type="range" v-model="height" @input="updateModelHeight" /&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        行为规则引擎
       </strong>
       ：
      </p>
      <pre><code class="prism language-javascript"><span class="token comment">// 根据用户输入动态切换动画</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>userInput<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"跳舞"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  model<span class="token punctuation">.</span><span class="token function">playAnimation</span><span class="token punctuation">(</span><span class="token string">'dance'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>userInput<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"挥手"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  model<span class="token punctuation">.</span><span class="token function">playAnimation</span><span class="token punctuation">(</span><span class="token string">'wave'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="_248">
     </a>
     <strong>
      五、部署与优化
     </strong>
    </h4>
    <h5>
     <a id="1__249">
     </a>
     <strong>
      1. 生产环境部署
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       <strong>
        前端
       </strong>
       ：
      </p>
      <pre><code class="prism language-bash"><span class="token function">npm</span> run build
<span class="token comment"># 部署到Nginx</span>
location / <span class="token punctuation">{<!-- --></span>
  root /var/www/digital-human<span class="token punctuation">;</span>
  try_files <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /index.html<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        后端
       </strong>
       ：
      </p>
      <pre><code class="prism language-bash">mvn clean package
<span class="token function">java</span> <span class="token parameter variable">-jar</span> target/digital-human.jar <span class="token parameter variable">--server.port</span><span class="token operator">=</span><span class="token number">8080</span>
</code></pre>
     </li>
    </ul>
    <h5>
     <a id="2__266">
     </a>
     <strong>
      2. 性能优化
     </strong>
    </h5>
    <ul>
     <li>
      <strong>
       CDN加速
      </strong>
      ：静态资源托管到阿里云OSS + CDN
     </li>
     <li>
      <strong>
       缓存策略
      </strong>
      ：
      <pre><code class="prism language-java"><span class="token annotation punctuation">@Cacheable</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"chatResponses"</span><span class="token punctuation">,</span> key <span class="token operator">=</span> <span class="token string">"#userInput"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCachedResponse</span><span class="token punctuation">(</span><span class="token class-name">String</span> userInput<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 缓存高频对话</span>
<span class="token punctuation">}</span>
</code></pre>
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="_278">
     </a>
     <strong>
      六、扩展场景示例
     </strong>
    </h4>
    <h5>
     <a id="_279">
     </a>
     <strong>
      直播带货集成
     </strong>
    </h5>
    <pre><code class="prism language-javascript"><span class="token comment">// 弹幕互动驱动数字人</span>
socket<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'danmaku'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>msg<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"价格"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        digitalHuman<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token string">"这款商品限时折扣中，点击下方链接购买！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h5>
     <a id="_289">
     </a>
     <strong>
      教育场景（代码交互）
     </strong>
    </h5>
    <pre><code class="prism language-javascript"><span class="token comment">// 学生输入代码，数字人实时反馈</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>userCode<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"for loop"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    digitalHuman<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token string">"你的循环逻辑可能需要优化时间复杂度！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <hr/>
    <h4>
     <a id="_299">
     </a>
     <strong>
      七、完整代码仓库
     </strong>
    </h4>
    <hr/>
    <h4>
     <a id="_306">
     </a>
     <strong>
      一、项目完整代码结构
     </strong>
    </h4>
    <h5>
     <a id="1_Vue3_307">
     </a>
     <strong>
      1. 前端项目（Vue3）
     </strong>
    </h5>
    <pre><code>digital-human-vue/
├─ public/
│  ├─ digital-human.glb          # UE5导出的3D模型文件
├─ src/
│  ├─ assets/                   # 静态资源
│  ├─ components/
│  │  ├─ DigitalHuman.vue       # 3D数字人组件
│  │  ├─ ChatBox.vue            # 聊天交互组件
│  ├─ utils/
│  │  ├─ voice.js               # 语音识别与合成封装
│  │  ├─ websocket.js           # WebSocket通信封装
│  ├─ App.vue
│  ├─ main.js
</code></pre>
    <p>
     <strong>
      关键代码：
      <code>
       DigitalHuman.vue
      </code>
     </strong>
    </p>
    <pre><code class="prism language-vue">&lt;template&gt;
  &lt;div ref="canvasContainer" class="canvas-container"&gt;&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import * as THREE from 'three';
import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';

export default {
  mounted() {
    this.initScene();
    this.loadModel();
  },
  methods: {
    initScene() {
      // 初始化Three.js场景
      this.scene = new THREE.Scene();
      this.camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
      this.renderer = new THREE.WebGLRenderer({ antialias: true });
      this.renderer.setSize(window.innerWidth, window.innerHeight);
      this.$refs.canvasContainer.appendChild(this.renderer.domElement);
    },
    async loadModel() {
      const loader = new GLTFLoader();
      const gltf = await loader.loadAsync('/digital-human.glb');
      this.model = gltf.scene;
      this.scene.add(this.model);
      // 绑定动画
      this.mixer = new THREE.AnimationMixer(this.model);
      this.clips = gltf.animations;
    },
    playAnimation(name) {
      // 根据名称播放动画（如idle, wave, dance）
      const clip = this.clips.find(clip =&gt; clip.name === name);
      if (clip) this.mixer.clipAction(clip).play();
    }
  }
};
&lt;/script&gt;
</code></pre>
    <hr/>
    <h5>
     <a id="2_SpringBoot_369">
     </a>
     <strong>
      2. 后端项目（SpringBoot）
     </strong>
    </h5>
    <pre><code>digital-human-springboot/
├─ src/main/java/com/example/
│  ├─ config/
│  │  ├─ WebSocketConfig.java    # WebSocket配置
│  ├─ controller/
│  │  ├─ ChatController.java     # ChatGPT API代理
│  ├─ service/
│  │  ├─ ChatGPTService.java     # OpenAI请求封装
│  ├─ Application.java
</code></pre>
    <p>
     <strong>
      关键代码：
      <code>
       ChatGPTService.java
      </code>
     </strong>
    </p>
    <pre><code class="prism language-java"><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChatGPTService</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">OPENAI_URL</span> <span class="token operator">=</span> <span class="token string">"https://api.openai.com/v1/chat/completions"</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${openai.api-key}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> apiKey<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getChatResponse</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">OkHttpClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 构建请求体</span>
        <span class="token class-name">String</span> jsonBody <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"{\"model\": \"gpt-4\", \"messages\": [{\"role\": \"user\", \"content\": \"%s\"}]}"</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">RequestBody</span> body <span class="token operator">=</span> <span class="token class-name">RequestBody</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>jsonBody<span class="token punctuation">,</span> <span class="token class-name">MediaType</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">"application/json"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token constant">OPENAI_URL</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">"Authorization"</span><span class="token punctuation">,</span> <span class="token string">"Bearer "</span> <span class="token operator">+</span> apiKey<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">Response</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>response<span class="token punctuation">.</span><span class="token function">isSuccessful</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IOException</span><span class="token punctuation">(</span><span class="token string">"Unexpected code "</span> <span class="token operator">+</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 解析响应</span>
            <span class="token class-name">JsonNode</span> rootNode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">readTree</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> rootNode<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"choices"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"content"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <hr/>
    <h4>
     <a id="_415">
     </a>
     <strong>
      二、关键配置说明
     </strong>
    </h4>
    <h5>
     <a id="1_env_416">
     </a>
     <strong>
      1. 前端环境变量（
      <code>
       .env
      </code>
      ）
     </strong>
    </h5>
    <pre><code>VUE_APP_WS_URL=ws://localhost:8080/ws/chat
VUE_APP_VOICE_KEY=your-aliyun-voice-key
</code></pre>
    <h5>
     <a id="2_applicationproperties_422">
     </a>
     <strong>
      2. 后端配置（
      <code>
       application.properties
      </code>
      ）
     </strong>
    </h5>
    <pre><code># OpenAI
openai.api-key=your-openai-api-key

# SpringBoot
server.port=8080
spring.servlet.multipart.max-file-size=10MB
</code></pre>
    <hr/>
    <h4>
     <a id="_434">
     </a>
     <strong>
      三、本地运行步骤
     </strong>
    </h4>
    <h5>
     <a id="1__435">
     </a>
     <strong>
      1. 启动后端
     </strong>
    </h5>
    <pre><code class="prism language-bash"><span class="token builtin class-name">cd</span> digital-human-springboot
mvn spring-boot:run
</code></pre>
    <h5>
     <a id="2__441">
     </a>
     <strong>
      2. 启动前端
     </strong>
    </h5>
    <pre><code class="prism language-bash"><span class="token builtin class-name">cd</span> digital-human-vue
<span class="token function">npm</span> <span class="token function">install</span>
<span class="token function">npm</span> run serve
</code></pre>
    <h5>
     <a id="3__448">
     </a>
     <strong>
      3. 测试交互
     </strong>
    </h5>
    <ul>
     <li>
      访问
      <code>
       http://localhost:8081
      </code>
     </li>
     <li>
      点击麦克风按钮说话 → 数字人将通过语音回复
     </li>
     <li>
      在输入框输入文字 → 数字人口型与表情同步变化
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="_455">
     </a>
     <strong>
      四、常见问题解决
     </strong>
    </h4>
    <h5>
     <a id="1_3D_456">
     </a>
     <strong>
      1. 3D模型无法加载
     </strong>
    </h5>
    <ul>
     <li>
      检查模型路径：确保
      <code>
       .glb
      </code>
      文件在
      <code>
       public
      </code>
      目录
     </li>
     <li>
      跨域问题：开发模式下配置代理（
      <code>
       vue.config.js
      </code>
      ）：
      <pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">'/api'</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'http://localhost:8080'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
     </li>
    </ul>
    <h5>
     <a id="2_WebSocket_472">
     </a>
     <strong>
      2. WebSocket连接失败
     </strong>
    </h5>
    <ul>
     <li>
      检查后端是否启用WebSocket支持
     </li>
     <li>
      前端代码中确认
      <code>
       VUE_APP_WS_URL
      </code>
      配置正确
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="_478">
     </a>
     <strong>
      五、扩展功能实现
     </strong>
    </h4>
    <h5>
     <a id="1__479">
     </a>
     <strong>
      1. 情感分析驱动表情
     </strong>
    </h5>
    <pre><code class="prism language-javascript"><span class="token comment">// 在ChatBox.vue中扩展</span>
<span class="token keyword">async</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/api/chat'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>userInput <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 调用情感分析API（示例使用NLP.js）</span>
  <span class="token keyword">const</span> emotion <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/api/emotion'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">text</span><span class="token operator">:</span> response<span class="token punctuation">.</span>data <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>digitalHuman<span class="token punctuation">.</span><span class="token function">playEmotion</span><span class="token punctuation">(</span>emotion<span class="token punctuation">.</span>data<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 如happy, angry</span>
<span class="token punctuation">}</span>
</code></pre>
    <h5>
     <a id="2__490">
     </a>
     <strong>
      2. 数字人换装系统
     </strong>
    </h5>
    <pre><code class="prism language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;button @click="changeClothes('casual')"&gt;休闲装&lt;/button&gt;
    &lt;button @click="changeClothes('formal')"&gt;正装&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  methods: {
    async changeClothes(style) {
      // 动态加载不同服装模型
      const gltf = await this.loader.loadAsync(`/models/${style}.glb`);
      this.model.children[0].geometry = gltf.scene.children[0].geometry;
    }
  }
};
&lt;/script&gt;
</code></pre>
    <hr/>
    <p>
     通过本教程，您将掌握从
     <strong>
      3D建模
     </strong>
     到
     <strong>
      AI对话引擎集成
     </strong>
     的全流程开发能力，快速构建可落地的智能数字人应用。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c:6f672e6373646e2e6e65742f6f666665725f7363686f6f6c2f:61727469636c652f64657461696c732f313436323532383637" class_="artid" style="display:none">
 </p>
</div>


