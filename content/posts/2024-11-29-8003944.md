---
layout: post
title: "为什么要在性能测试中设置考虑时间Thinking-Time"
date: 2024-11-29 14:49:54 +0800
description: "原文地址考虑时间Thinking Time指的是在性能测试脚本中，事务与事务之间，会有一些短暂的停顿"
keywords: "thinking time和processing time思想"
categories: ['性能测试']
tags: ['脚本', '测试', '服务器']
artid: "8003944"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=8003944
    alt: "为什么要在性能测试中设置考虑时间Thinking-Time"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=8003944
featuredImagePreview: https://bing.ee123.net/img/rand?artid=8003944
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     为什么要在性能测试中设置考虑时间（Thinking Time）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     <span style="color:#000000">
      <a href="http://blog.csai.cn/user1/37581/archives/2007/20289.html" rel="nofollow">
       原文地址
      </a>
     </span>
    </p>
    <p>
     <span style="font-family:Simsun; font-size:13px; line-height:20px">
     </span>
    </p>
    <div>
     <span style="font-size:12pt">
      考虑时间Thinking Time指的是在性能测试脚本中，事务与事务之间，会有一些短暂的停顿，就好像真实用户在操作时，两次操作之间需要考虑一下。比如用户注册的时候，在打开注册页面到提交注册页面之间，是有一段考虑时间的（用户在填写个人信息）。
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
      下面就讨论一下在性能测试实战中，为什么要设置考虑时间。
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
      先说一个概念：吞吐量，这指的是服务器系统（包括软件和硬件）单位时间内处理业务的数量。我们现在做一个小试验，写一个小程序，执行一个简单的业务，并且在程序中进行计时，计算每分钟能执行多少次。然后当我们运行1路这个程序的时候，每分钟能完成约6万次。好，现在问一个问题，如果我们起2路，是不是每一路都能达到 6万/分钟 的吞吐量？
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
      试验发现，当运行2路的时候，两个程序的数值都降了下来，但是它们的总和仍然是6万次。而且不管我们起多少路，这些程序的性能总和都接近于6万。
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
      这就好像一个人1分钟最快能吃1个馒头，你让他一个一个吃，他两分钟能吃2个，如果你让他一手拿一个，同时吃，他两分钟吃不了4个，还是只能吃两个。
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
      我们不是在说“考虑时间”么，哈哈，别急，因为上面的问题必须要先说清楚。
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
      如果我们需要进行性能测试的业务是一个单纯的业务，就好像上面举的那个例子一样，那么测试脚本中就不需要设置“考虑时间”，因为不管你用什么方法测试，一个服务系统处理单一业务的吞吐量总是一个定值。
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
      但是在实际环境里面，往往一个系统都是要处理多种业务，并且这些业务之间是有逻辑关系的。举例说明，比如一个论坛系统，每天最常处理的业务有两个：A打开帖子、B回复帖子。那么每天系统处理AB业务的总数是不是一样的呢，答案很明显，看帖子多，回复的少一些。假设A:B=2:1。
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
      好，如果我们不设置考虑时间，起2路A的脚本，1路B的脚本进行性能测试，我们会得到什么结果呢？我们会得到这两个业务的吞吐量，并且能算出每个小时系统完成A、B业务的总数，
     </span>
     <span style="font-size:12pt">
      吞吐量 × 时间 ＝ 总数。
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
      这时我们发现，同样时间，AB业务的处理总数却不是2:1的关系，这是为什么呢？原因是这样的，我们在跑AB脚本的时候，这两组脚本都在尽全力争夺服务器的资源，他们的并发路数虽然是2:1，但是给服务器的压力却不一定是2:1，可能会出现偏差，测试结果就是最好的证据。A查看帖子由于响应时间短，因此跑的次数更多，最后的比例可能是4:1。
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
      那么这样的结果有什么问题呢。总结为一句话：测试环境的业务和真实环境不符，这样测出的数据没有价值。即使测试通过，也不能证明真实环境是ok的；或者即使测试不通过，也不能说明真实环境不ok，呵呵。
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
      比如上面的例子，如果我们测出的结果是B回复帖子的吞吐量不够，响应时间太长，那可能是因为A业务抢走了过多的，本不属于A的资源，而引起了B的性能降低。
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
      说到这里，大家应该明白了，我们设置考虑时间，是为了保证测试复合业务的时候，各个业务之间的比例关系符合我们的真实生产环境。
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
     </span>
    </div>
    <div>
     <span style="font-size:12pt">
      那么考虑时间是如何在性能测试中发挥作用，我们又该如何计算考虑时间呢？我们将再下一篇《
      <a href="http://blog.csdn.net/jelly441/article/details/8004137">
       考虑时间的计算方法
      </a>
      》中详细说明。
     </span>
    </div>
    <br/>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470:733a2f2f626c6f672e6373646e2e6e65742f6a656c6c793434:312f61727469636c652f64657461696c732f38303033393434" class_="artid" style="display:none">
 </p>
</div>


