---
layout: post
title: "音视频ffplay常用命令"
date: 2025-03-06 17:42:30 +0800
description: "强制以 640*360的宽高显示。演示一下禁用视频的播放。这里从2min开始播放。"
keywords: "【音视频】ffplay常用命令"
categories: ['音视频']
tags: ['音视频']
artid: "146074546"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146074546
    alt: "音视频ffplay常用命令"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146074546
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146074546
cover: https://bing.ee123.net/img/rand?artid=146074546
image: https://bing.ee123.net/img/rand?artid=146074546
img: https://bing.ee123.net/img/rand?artid=146074546
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【音视频】ffplay常用命令
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="_ffplay_0">
     </a>
     一、 ffplay常用命令
    </h2>
    <ul>
     <li>
      -x width：强制显示宽度
     </li>
     <li>
      -y height：强制显示高度
     </li>
    </ul>
    <p>
     强制以 640*360的宽高显示
    </p>
    <pre><code class="prism language-shell">ffplay <span class="token number">2</span>.mp4 <span class="token parameter variable">-x</span> <span class="token number">640</span> <span class="token parameter variable">-y</span> <span class="token number">360</span>  
</code></pre>
    <p>
     效果如下
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/dbde6d4f26074802a530c6d96f6be7c7.png"/>
    </p>
    <ul>
     <li>
      -fs 全屏显示
     </li>
    </ul>
    <pre><code class="prism language-shell">ffplay <span class="token parameter variable">-fs</span> <span class="token number">2</span>.mp4
</code></pre>
    <p>
     效果如下：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/f6e05f6beefe4ff38de54e6d481edd88.png"/>
    </p>
    <ul>
     <li>
      -an 禁用音频（不播放声音）
     </li>
     <li>
      -vn 禁用视频（不播放视频）
     </li>
     <li>
      -sn 禁用字幕（不播放字幕）
     </li>
    </ul>
    <p>
     如果同时禁用的音频和视频那么无法播放：
    </p>
    <pre><code class="prism language-shell">ffplay <span class="token parameter variable">-an</span> <span class="token parameter variable">-vn</span> <span class="token number">2</span>.mp4
</code></pre>
    <p>
     如下
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/22efa9f2022146a09888dfdb045aad94.png"/>
    </p>
    <p>
     演示一下禁用视频的播放
    </p>
    <pre><code class="prism language-shell">ffplay <span class="token parameter variable">-vn</span> <span class="token number">2</span>.mp4
</code></pre>
    <p>
     效果如下
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/81278f0983a446e783ef9313532d41a8.png"/>
    </p>
    <ul>
     <li>
      -ss pos 根据设置的秒进行定位拖动，注意时间单位。比如’55’表示55秒，'12’02’43’表示12小时，02分钟，43秒，'23.189’表示23.189秒，'02:30’表示02分钟，30秒
     </li>
    </ul>
    <p>
     这里从2min开始播放
    </p>
    <pre><code class="prism language-shell">ffplay <span class="token number">1</span>.mp4 <span class="token parameter variable">-ss</span> <span class="token string">'02:00'</span>
</code></pre>
    <p>
     效果如下
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/7ac63a43dab145e985544d48dade85b7.gif"/>
    </p>
    <ul>
     <li>
      -t duration 设置播放视频/音频长度，时间单位如 -ss选项
     </li>
    </ul>
    <p>
     这里设置视频从第1min开始然后播放5s后停止:
    </p>
    <pre><code class="prism language-shell">ffplay <span class="token number">1</span>.mp4 <span class="token parameter variable">-ss</span> <span class="token string">"00:01:00"</span> <span class="token parameter variable">-t</span> <span class="token string">"00:00:05"</span>
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/2f0ccf8abb5d4f279fcb9ed5833d3cfc.gif"/>
    </p>
    <ul>
     <li>
      -stats ：打印多个回放统计信息，包括显示流持续时间，编解码参数，流中的当前位置，以及音频视频同步差值。默认情况是打开的：
     </li>
    </ul>
    <p>
     随便播放一个视频：
    </p>
    <p>
     可以看到视频的信息，如持续时长DURATION，同步差A-V等等
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/a63b33e2fdfd461eb1d3d51434ea4f13.png"/>
    </p>
    <ul>
     <li>
      -notats：关闭这个参数选项
     </li>
    </ul>
    <pre><code class="prism language-shell">ffplay <span class="token parameter variable">-nostats</span> <span class="token number">3</span>.mkv
</code></pre>
    <p>
     此时就没有信息了：
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/84e397c5c19e44e9bd995ef315300576.png"/>
    </p>
    <ul>
     <li>
      -sync type 设置音视频主时钟，默认是音频(audio)为主时钟，可以设置为视频(video)，也可以设置为外部(ext)
     </li>
    </ul>
    <p>
     比如设置视频文主时钟：
    </p>
    <pre><code class="prism language-shell">ffplay <span class="token number">1</span>.mp4 <span class="token parameter variable">-sync</span> <span class="token string">"video"</span>
</code></pre>
    <ul>
     <li>
      -ast number：这是播放第number个音频流
     </li>
     <li>
      -vst number：这是播放第number个视频流
     </li>
    </ul>
    <p>
     比如我这里有两路视频流：
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/65e8e893ccec49c3970de380282230dc.png"/>
    </p>
    <p>
     我可以指定-vst 0和-vst 1播放不同视频
    </p>
    <pre><code class="prism language-shell">ffplay <span class="token number">12</span>.mp4 <span class="token parameter variable">-vst</span> <span class="token number">0</span> 
ffplay <span class="token number">12</span>.mp4 <span class="token parameter variable">-vst</span> <span class="token number">1</span>
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/1b3f662dc2c74af2a38afda7db05f1fa.gif"/>
    </p>
    <ul>
     <li>
      -autoexit：这个参数是在播放完成后自动退出的
     </li>
    </ul>
    <p>
     比如这里播放3s后退出：
    </p>
    <pre><code class="prism language-shell">ffplay <span class="token number">2</span>.mp4 <span class="token parameter variable">-t</span> <span class="token string">"3"</span> <span class="token parameter variable">-autoexit</span>
</code></pre>
    <p>
     效果如下
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/c592a6e39c86484ea830b23b183e3255.gif"/>
    </p>
    <ul>
     <li>
      pixel_format：这个参数用于播放裸的视频数据，通常需要指定播放的视频的像素格式、分辨率、帧率信息
     </li>
    </ul>
    <p>
     如：指定播放的yuv数据格式为yuv420p，分辨率1280*720，帧率为30帧：
    </p>
    <pre><code class="prism language-shell">ffplay <span class="token number">1</span>.yuv <span class="token parameter variable">-pixel_format</span> yuv420p <span class="token parameter variable">-video_size</span> 1290x720 <span class="token parameter variable">-framerate</span> <span class="token number">30</span> 
</code></pre>
    <p>
     但是需要保证视频的格式是合法的，比如原来的yuv格式是yuv420p，但是你指定yuv422p，就会出现花屏，如下：
    </p>
    <p>
     设置的分辨率和图像格式不对，所以会导致花屏
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/239816f6f83042348d084a898ff42da2.gif"/>
    </p>
    <p>
     播放rgb数据也是同理
    </p>
    <pre><code class="prism language-shell"> ffplay mv2.rgb <span class="token parameter variable">-pixel_format</span> rgb24  <span class="token parameter variable">-video_size</span> 1920x1080 <span class="token parameter variable">-framerate</span> <span class="token number">30</span> 
</code></pre>
    <ul>
     <li>
      也可以播放裸的pcm数据，需要手动设置通道数和采样率，音频格式等等，同样格式要对上，否则播放出来噪音很多
     </li>
    </ul>
    <pre><code class="prism language-shell">ffplay mv.pcm <span class="token parameter variable">-ar</span> <span class="token number">44100</span> <span class="token parameter variable">-ch_layout</span> stereo <span class="token parameter variable">-f</span> s16le
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/4b844f37f749487789d5c3abc60d6efc.png"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f416e746f6e696f3931352f:61727469636c652f64657461696c732f313436303734353436" class_="artid" style="display:none">
 </p>
</div>


