---
layout: post
title: "Milvus-中常见相似度度量方法"
date: 2025-03-12 18:16:57 +0800
description: "在 Milvus 中，相似度度量方法用于衡量向量之间的相似程度，不同的度量方法有不同的特点、优缺点和适用场景。以下是对 Milvus 中常见相似度度量方法的详细介绍以及对应的search参数示例。"
keywords: "Milvus 中常见相似度度量方法"
categories: ['未分类']
tags: ['算法', '机器学习', 'Milvus']
artid: "146211655"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146211655
    alt: "Milvus-中常见相似度度量方法"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146211655
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146211655
cover: https://bing.ee123.net/img/rand?artid=146211655
image: https://bing.ee123.net/img/rand?artid=146211655
img: https://bing.ee123.net/img/rand?artid=146211655
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Milvus 中常见相似度度量方法
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     在 Milvus 中，相似度度量方法用于衡量向量之间的相似程度，不同的度量方法有不同的特点、优缺点和适用场景。以下是对 Milvus 中常见相似度度量方法的详细介绍以及对应的
     <code>
      search
     </code>
     参数示例。
    </p>
    <h4>
     <a id="1_L2_DistanceL2_2">
     </a>
     1. 欧氏距离（L2 Distance，
     <code>
      L2
     </code>
     ）
    </h4>
    <h5>
     <a id="_4">
     </a>
     特点
    </h5>
    <p>
     欧氏距离是最常用的距离度量方法之一，它计算的是两个向量在欧几里得空间中的直线距离。对于两个
     <span class="katex--inline">
      <span class="katex">
       <span class="katex-mathml">
        n 
        
       
      
        n
       </span>
       <span class="katex-html">
        <span class="base">
         <span class="strut" style="height: 0.4306em;">
         </span>
         <span class="mord mathnormal">
          n
         </span>
        </span>
       </span>
      </span>
     </span>
     维向量
     <span class="katex--inline">
      <span class="katex">
       <span class="katex-mathml">
        x 
         
        
          ⃗ 
         
        
       
         = 
        
       
         ( 
        
        
        
          x 
         
        
          1 
         
        
       
         , 
        
        
        
          x 
         
        
          2 
         
        
       
         , 
        
       
         ⋯ 
         
       
         , 
        
        
        
          x 
         
        
          n 
         
        
       
         ) 
        
       
      
        \vec{x}=(x_1,x_2,\cdots,x_n)
       </span>
       <span class="katex-html">
        <span class="base">
         <span class="strut" style="height: 0.714em;">
         </span>
         <span class="mord accent">
          <span class="vlist-t">
           <span class="vlist-r">
            <span class="vlist" style="height: 0.714em;">
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="mord mathnormal">
               x
              </span>
             </span>
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="accent-body" style="left: -0.2077em;">
               <span class="overlay" style="height: 0.714em; width: 0.471em;">
                <svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em">
                 <path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z">
                 </path>
                </svg>
               </span>
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
         <span class="mspace" style="margin-right: 0.2778em;">
         </span>
         <span class="mrel">
          =
         </span>
         <span class="mspace" style="margin-right: 0.2778em;">
         </span>
        </span>
        <span class="base">
         <span class="strut" style="height: 1em; vertical-align: -0.25em;">
         </span>
         <span class="mopen">
          (
         </span>
         <span class="mord">
          <span class="mord mathnormal">
           x
          </span>
          <span class="msupsub">
           <span class="vlist-t vlist-t2">
            <span class="vlist-r">
             <span class="vlist" style="height: 0.3011em;">
              <span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;">
               <span class="pstrut" style="height: 2.7em;">
               </span>
               <span class="sizing reset-size6 size3 mtight">
                <span class="mord mtight">
                 1
                </span>
               </span>
              </span>
             </span>
             <span class="vlist-s">
              ​
             </span>
            </span>
            <span class="vlist-r">
             <span class="vlist" style="height: 0.15em;">
              <span class="">
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
         <span class="mpunct">
          ,
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="mord">
          <span class="mord mathnormal">
           x
          </span>
          <span class="msupsub">
           <span class="vlist-t vlist-t2">
            <span class="vlist-r">
             <span class="vlist" style="height: 0.3011em;">
              <span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;">
               <span class="pstrut" style="height: 2.7em;">
               </span>
               <span class="sizing reset-size6 size3 mtight">
                <span class="mord mtight">
                 2
                </span>
               </span>
              </span>
             </span>
             <span class="vlist-s">
              ​
             </span>
            </span>
            <span class="vlist-r">
             <span class="vlist" style="height: 0.15em;">
              <span class="">
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
         <span class="mpunct">
          ,
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="minner">
          ⋯
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="mpunct">
          ,
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="mord">
          <span class="mord mathnormal">
           x
          </span>
          <span class="msupsub">
           <span class="vlist-t vlist-t2">
            <span class="vlist-r">
             <span class="vlist" style="height: 0.1514em;">
              <span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;">
               <span class="pstrut" style="height: 2.7em;">
               </span>
               <span class="sizing reset-size6 size3 mtight">
                <span class="mord mathnormal mtight">
                 n
                </span>
               </span>
              </span>
             </span>
             <span class="vlist-s">
              ​
             </span>
            </span>
            <span class="vlist-r">
             <span class="vlist" style="height: 0.15em;">
              <span class="">
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
         <span class="mclose">
          )
         </span>
        </span>
       </span>
      </span>
     </span>
     和
     <span class="katex--inline">
      <span class="katex">
       <span class="katex-mathml">
        y 
         
        
          ⃗ 
         
        
       
         = 
        
       
         ( 
        
        
        
          y 
         
        
          1 
         
        
       
         , 
        
        
        
          y 
         
        
          2 
         
        
       
         , 
        
       
         ⋯ 
         
       
         , 
        
        
        
          y 
         
        
          n 
         
        
       
         ) 
        
       
      
        \vec{y}=(y_1,y_2,\cdots,y_n)
       </span>
       <span class="katex-html">
        <span class="base">
         <span class="strut" style="height: 0.9084em; vertical-align: -0.1944em;">
         </span>
         <span class="mord accent">
          <span class="vlist-t vlist-t2">
           <span class="vlist-r">
            <span class="vlist" style="height: 0.714em;">
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="mord mathnormal" style="margin-right: 0.0359em;">
               y
              </span>
             </span>
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="accent-body" style="left: -0.1799em;">
               <span class="overlay" style="height: 0.714em; width: 0.471em;">
                <svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em">
                 <path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z">
                 </path>
                </svg>
               </span>
              </span>
             </span>
            </span>
            <span class="vlist-s">
             ​
            </span>
           </span>
           <span class="vlist-r">
            <span class="vlist" style="height: 0.1944em;">
             <span class="">
             </span>
            </span>
           </span>
          </span>
         </span>
         <span class="mspace" style="margin-right: 0.2778em;">
         </span>
         <span class="mrel">
          =
         </span>
         <span class="mspace" style="margin-right: 0.2778em;">
         </span>
        </span>
        <span class="base">
         <span class="strut" style="height: 1em; vertical-align: -0.25em;">
         </span>
         <span class="mopen">
          (
         </span>
         <span class="mord">
          <span class="mord mathnormal" style="margin-right: 0.0359em;">
           y
          </span>
          <span class="msupsub">
           <span class="vlist-t vlist-t2">
            <span class="vlist-r">
             <span class="vlist" style="height: 0.3011em;">
              <span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;">
               <span class="pstrut" style="height: 2.7em;">
               </span>
               <span class="sizing reset-size6 size3 mtight">
                <span class="mord mtight">
                 1
                </span>
               </span>
              </span>
             </span>
             <span class="vlist-s">
              ​
             </span>
            </span>
            <span class="vlist-r">
             <span class="vlist" style="height: 0.15em;">
              <span class="">
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
         <span class="mpunct">
          ,
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="mord">
          <span class="mord mathnormal" style="margin-right: 0.0359em;">
           y
          </span>
          <span class="msupsub">
           <span class="vlist-t vlist-t2">
            <span class="vlist-r">
             <span class="vlist" style="height: 0.3011em;">
              <span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;">
               <span class="pstrut" style="height: 2.7em;">
               </span>
               <span class="sizing reset-size6 size3 mtight">
                <span class="mord mtight">
                 2
                </span>
               </span>
              </span>
             </span>
             <span class="vlist-s">
              ​
             </span>
            </span>
            <span class="vlist-r">
             <span class="vlist" style="height: 0.15em;">
              <span class="">
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
         <span class="mpunct">
          ,
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="minner">
          ⋯
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="mpunct">
          ,
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="mord">
          <span class="mord mathnormal" style="margin-right: 0.0359em;">
           y
          </span>
          <span class="msupsub">
           <span class="vlist-t vlist-t2">
            <span class="vlist-r">
             <span class="vlist" style="height: 0.1514em;">
              <span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;">
               <span class="pstrut" style="height: 2.7em;">
               </span>
               <span class="sizing reset-size6 size3 mtight">
                <span class="mord mathnormal mtight">
                 n
                </span>
               </span>
              </span>
             </span>
             <span class="vlist-s">
              ​
             </span>
            </span>
            <span class="vlist-r">
             <span class="vlist" style="height: 0.15em;">
              <span class="">
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
         <span class="mclose">
          )
         </span>
        </span>
       </span>
      </span>
     </span>
     ，欧氏距离的计算公式为：
     <br/>
     [d(\vec{x},\vec{y})=\sqrt{\sum_{i = 1}^{n}(x_i - y_i)^2}]
    </p>
    <h5>
     <a id="_8">
     </a>
     优点
    </h5>
    <ul>
     <li>
      <strong>
       直观易懂
      </strong>
      ：欧氏距离的几何意义明确，容易理解和解释。
     </li>
     <li>
      <strong>
       广泛应用
      </strong>
      ：在许多领域都有广泛的应用，例如图像处理、计算机视觉等。
     </li>
    </ul>
    <h5>
     <a id="_12">
     </a>
     缺点
    </h5>
    <ul>
     <li>
      <strong>
       对向量的尺度敏感
      </strong>
      ：如果向量的各个维度的尺度差异较大，可能会导致距离计算结果受到较大影响。
     </li>
     <li>
      <strong>
       计算复杂度较高
      </strong>
      ：在高维空间中，欧氏距离的计算量相对较大。
     </li>
    </ul>
    <h5>
     <a id="_16">
     </a>
     适用场景
    </h5>
    <ul>
     <li>
      <strong>
       向量空间分布较为均匀的场景
      </strong>
      ：当向量在空间中的分布比较均匀时，欧氏距离能够较好地反映向量之间的相似性。
     </li>
     <li>
      <strong>
       对向量的绝对值差异比较敏感的场景
      </strong>
      ：例如在一些需要考虑向量具体数值差异的应用中，欧氏距离比较适用。
     </li>
    </ul>
    <h5>
     <a id="search__20">
     </a>
     <code>
      search
     </code>
     参数示例
    </h5>
    <pre><code class="prism language-python">search_params <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"metric_type"</span><span class="token punctuation">:</span> <span class="token string">"L2"</span><span class="token punctuation">,</span>
    <span class="token string">"params"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment"># 对于 IVF 索引，nprobe 表示搜索时要访问的聚类中心数量</span>
        <span class="token string">"nprobe"</span><span class="token punctuation">:</span> <span class="token number">10</span>  
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="2_Inner_ProductIP_31">
     </a>
     2. 内积（Inner Product，
     <code>
      IP
     </code>
     ）
    </h4>
    <h5>
     <a id="_33">
     </a>
     特点
    </h5>
    <p>
     内积是两个向量对应元素乘积之和。对于两个
     <span class="katex--inline">
      <span class="katex">
       <span class="katex-mathml">
        n 
        
       
      
        n
       </span>
       <span class="katex-html">
        <span class="base">
         <span class="strut" style="height: 0.4306em;">
         </span>
         <span class="mord mathnormal">
          n
         </span>
        </span>
       </span>
      </span>
     </span>
     维向量
     <span class="katex--inline">
      <span class="katex">
       <span class="katex-mathml">
        x 
         
        
          ⃗ 
         
        
       
         = 
        
       
         ( 
        
        
        
          x 
         
        
          1 
         
        
       
         , 
        
        
        
          x 
         
        
          2 
         
        
       
         , 
        
       
         ⋯ 
         
       
         , 
        
        
        
          x 
         
        
          n 
         
        
       
         ) 
        
       
      
        \vec{x}=(x_1,x_2,\cdots,x_n)
       </span>
       <span class="katex-html">
        <span class="base">
         <span class="strut" style="height: 0.714em;">
         </span>
         <span class="mord accent">
          <span class="vlist-t">
           <span class="vlist-r">
            <span class="vlist" style="height: 0.714em;">
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="mord mathnormal">
               x
              </span>
             </span>
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="accent-body" style="left: -0.2077em;">
               <span class="overlay" style="height: 0.714em; width: 0.471em;">
                <svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em">
                 <path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z">
                 </path>
                </svg>
               </span>
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
         <span class="mspace" style="margin-right: 0.2778em;">
         </span>
         <span class="mrel">
          =
         </span>
         <span class="mspace" style="margin-right: 0.2778em;">
         </span>
        </span>
        <span class="base">
         <span class="strut" style="height: 1em; vertical-align: -0.25em;">
         </span>
         <span class="mopen">
          (
         </span>
         <span class="mord">
          <span class="mord mathnormal">
           x
          </span>
          <span class="msupsub">
           <span class="vlist-t vlist-t2">
            <span class="vlist-r">
             <span class="vlist" style="height: 0.3011em;">
              <span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;">
               <span class="pstrut" style="height: 2.7em;">
               </span>
               <span class="sizing reset-size6 size3 mtight">
                <span class="mord mtight">
                 1
                </span>
               </span>
              </span>
             </span>
             <span class="vlist-s">
              ​
             </span>
            </span>
            <span class="vlist-r">
             <span class="vlist" style="height: 0.15em;">
              <span class="">
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
         <span class="mpunct">
          ,
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="mord">
          <span class="mord mathnormal">
           x
          </span>
          <span class="msupsub">
           <span class="vlist-t vlist-t2">
            <span class="vlist-r">
             <span class="vlist" style="height: 0.3011em;">
              <span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;">
               <span class="pstrut" style="height: 2.7em;">
               </span>
               <span class="sizing reset-size6 size3 mtight">
                <span class="mord mtight">
                 2
                </span>
               </span>
              </span>
             </span>
             <span class="vlist-s">
              ​
             </span>
            </span>
            <span class="vlist-r">
             <span class="vlist" style="height: 0.15em;">
              <span class="">
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
         <span class="mpunct">
          ,
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="minner">
          ⋯
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="mpunct">
          ,
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="mord">
          <span class="mord mathnormal">
           x
          </span>
          <span class="msupsub">
           <span class="vlist-t vlist-t2">
            <span class="vlist-r">
             <span class="vlist" style="height: 0.1514em;">
              <span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;">
               <span class="pstrut" style="height: 2.7em;">
               </span>
               <span class="sizing reset-size6 size3 mtight">
                <span class="mord mathnormal mtight">
                 n
                </span>
               </span>
              </span>
             </span>
             <span class="vlist-s">
              ​
             </span>
            </span>
            <span class="vlist-r">
             <span class="vlist" style="height: 0.15em;">
              <span class="">
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
         <span class="mclose">
          )
         </span>
        </span>
       </span>
      </span>
     </span>
     和
     <span class="katex--inline">
      <span class="katex">
       <span class="katex-mathml">
        y 
         
        
          ⃗ 
         
        
       
         = 
        
       
         ( 
        
        
        
          y 
         
        
          1 
         
        
       
         , 
        
        
        
          y 
         
        
          2 
         
        
       
         , 
        
       
         ⋯ 
         
       
         , 
        
        
        
          y 
         
        
          n 
         
        
       
         ) 
        
       
      
        \vec{y}=(y_1,y_2,\cdots,y_n)
       </span>
       <span class="katex-html">
        <span class="base">
         <span class="strut" style="height: 0.9084em; vertical-align: -0.1944em;">
         </span>
         <span class="mord accent">
          <span class="vlist-t vlist-t2">
           <span class="vlist-r">
            <span class="vlist" style="height: 0.714em;">
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="mord mathnormal" style="margin-right: 0.0359em;">
               y
              </span>
             </span>
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="accent-body" style="left: -0.1799em;">
               <span class="overlay" style="height: 0.714em; width: 0.471em;">
                <svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em">
                 <path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z">
                 </path>
                </svg>
               </span>
              </span>
             </span>
            </span>
            <span class="vlist-s">
             ​
            </span>
           </span>
           <span class="vlist-r">
            <span class="vlist" style="height: 0.1944em;">
             <span class="">
             </span>
            </span>
           </span>
          </span>
         </span>
         <span class="mspace" style="margin-right: 0.2778em;">
         </span>
         <span class="mrel">
          =
         </span>
         <span class="mspace" style="margin-right: 0.2778em;">
         </span>
        </span>
        <span class="base">
         <span class="strut" style="height: 1em; vertical-align: -0.25em;">
         </span>
         <span class="mopen">
          (
         </span>
         <span class="mord">
          <span class="mord mathnormal" style="margin-right: 0.0359em;">
           y
          </span>
          <span class="msupsub">
           <span class="vlist-t vlist-t2">
            <span class="vlist-r">
             <span class="vlist" style="height: 0.3011em;">
              <span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;">
               <span class="pstrut" style="height: 2.7em;">
               </span>
               <span class="sizing reset-size6 size3 mtight">
                <span class="mord mtight">
                 1
                </span>
               </span>
              </span>
             </span>
             <span class="vlist-s">
              ​
             </span>
            </span>
            <span class="vlist-r">
             <span class="vlist" style="height: 0.15em;">
              <span class="">
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
         <span class="mpunct">
          ,
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="mord">
          <span class="mord mathnormal" style="margin-right: 0.0359em;">
           y
          </span>
          <span class="msupsub">
           <span class="vlist-t vlist-t2">
            <span class="vlist-r">
             <span class="vlist" style="height: 0.3011em;">
              <span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;">
               <span class="pstrut" style="height: 2.7em;">
               </span>
               <span class="sizing reset-size6 size3 mtight">
                <span class="mord mtight">
                 2
                </span>
               </span>
              </span>
             </span>
             <span class="vlist-s">
              ​
             </span>
            </span>
            <span class="vlist-r">
             <span class="vlist" style="height: 0.15em;">
              <span class="">
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
         <span class="mpunct">
          ,
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="minner">
          ⋯
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="mpunct">
          ,
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="mord">
          <span class="mord mathnormal" style="margin-right: 0.0359em;">
           y
          </span>
          <span class="msupsub">
           <span class="vlist-t vlist-t2">
            <span class="vlist-r">
             <span class="vlist" style="height: 0.1514em;">
              <span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;">
               <span class="pstrut" style="height: 2.7em;">
               </span>
               <span class="sizing reset-size6 size3 mtight">
                <span class="mord mathnormal mtight">
                 n
                </span>
               </span>
              </span>
             </span>
             <span class="vlist-s">
              ​
             </span>
            </span>
            <span class="vlist-r">
             <span class="vlist" style="height: 0.15em;">
              <span class="">
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
         <span class="mclose">
          )
         </span>
        </span>
       </span>
      </span>
     </span>
     ，内积的计算公式为：
     <br/>
     [\vec{x}\cdot\vec{y}=\sum_{i = 1}^{n}x_iy_i]
    </p>
    <h5>
     <a id="_37">
     </a>
     优点
    </h5>
    <ul>
     <li>
      <strong>
       计算效率高
      </strong>
      ：内积的计算相对简单，在大规模向量搜索中可以提高计算效率。
     </li>
     <li>
      <strong>
       适用于向量的方向比较重要的场景
      </strong>
      ：内积可以反映向量之间的方向相似性。
     </li>
    </ul>
    <h5>
     <a id="_41">
     </a>
     缺点
    </h5>
    <ul>
     <li>
      <strong>
       对向量的长度敏感
      </strong>
      ：如果向量的长度差异较大，内积的结果可能会受到较大影响。
     </li>
    </ul>
    <h5>
     <a id="_44">
     </a>
     适用场景
    </h5>
    <ul>
     <li>
      <strong>
       文本挖掘和信息检索领域
      </strong>
      ：在这些领域中，向量通常表示文本的特征，内积可以用来衡量文本之间的相关性。
     </li>
     <li>
      <strong>
       基于向量方向的相似性比较场景
      </strong>
      ：例如在推荐系统中，通过比较用户向量和物品向量的内积来推荐相关物品。
     </li>
    </ul>
    <h5>
     <a id="search__48">
     </a>
     <code>
      search
     </code>
     参数示例
    </h5>
    <pre><code class="prism language-python">search_params <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"metric_type"</span><span class="token punctuation">:</span> <span class="token string">"IP"</span><span class="token punctuation">,</span>
    <span class="token string">"params"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment"># 对于 HNSW 索引，ef 表示搜索时的动态访问列表大小</span>
        <span class="token string">"ef"</span><span class="token punctuation">:</span> <span class="token number">20</span>  
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="3_Cosine_SimilarityCOSINE_59">
     </a>
     3. 余弦相似度（Cosine Similarity，
     <code>
      COSINE
     </code>
     ）
    </h4>
    <h5>
     <a id="_61">
     </a>
     特点
    </h5>
    <p>
     余弦相似度通过计算两个向量的夹角余弦值来衡量它们的相似性。它将向量的长度归一化，只考虑向量的方向。对于两个非零向量
     <span class="katex--inline">
      <span class="katex">
       <span class="katex-mathml">
        x 
         
        
          ⃗ 
         
        
       
      
        \vec{x}
       </span>
       <span class="katex-html">
        <span class="base">
         <span class="strut" style="height: 0.714em;">
         </span>
         <span class="mord accent">
          <span class="vlist-t">
           <span class="vlist-r">
            <span class="vlist" style="height: 0.714em;">
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="mord mathnormal">
               x
              </span>
             </span>
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="accent-body" style="left: -0.2077em;">
               <span class="overlay" style="height: 0.714em; width: 0.471em;">
                <svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em">
                 <path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z">
                 </path>
                </svg>
               </span>
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
       </span>
      </span>
     </span>
     和
     <span class="katex--inline">
      <span class="katex">
       <span class="katex-mathml">
        y 
         
        
          ⃗ 
         
        
       
      
        \vec{y}
       </span>
       <span class="katex-html">
        <span class="base">
         <span class="strut" style="height: 0.9084em; vertical-align: -0.1944em;">
         </span>
         <span class="mord accent">
          <span class="vlist-t vlist-t2">
           <span class="vlist-r">
            <span class="vlist" style="height: 0.714em;">
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="mord mathnormal" style="margin-right: 0.0359em;">
               y
              </span>
             </span>
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="accent-body" style="left: -0.1799em;">
               <span class="overlay" style="height: 0.714em; width: 0.471em;">
                <svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em">
                 <path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z">
                 </path>
                </svg>
               </span>
              </span>
             </span>
            </span>
            <span class="vlist-s">
             ​
            </span>
           </span>
           <span class="vlist-r">
            <span class="vlist" style="height: 0.1944em;">
             <span class="">
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
       </span>
      </span>
     </span>
     ，余弦相似度的计算公式为：
     <br/>
     [cos(\theta)=\frac{\vec{x}\cdot\vec{y}}{|\vec{x}||\vec{y}|}]
     <br/>
     其中，
     <span class="katex--inline">
      <span class="katex">
       <span class="katex-mathml">
        ∥ 
        
        
        
          x 
         
        
          ⃗ 
         
        
       
         ∥ 
        
       
      
        \|\vec{x}\|
       </span>
       <span class="katex-html">
        <span class="base">
         <span class="strut" style="height: 1em; vertical-align: -0.25em;">
         </span>
         <span class="mord">
          ∥
         </span>
         <span class="mord accent">
          <span class="vlist-t">
           <span class="vlist-r">
            <span class="vlist" style="height: 0.714em;">
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="mord mathnormal">
               x
              </span>
             </span>
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="accent-body" style="left: -0.2077em;">
               <span class="overlay" style="height: 0.714em; width: 0.471em;">
                <svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em">
                 <path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z">
                 </path>
                </svg>
               </span>
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
         <span class="mord">
          ∥
         </span>
        </span>
       </span>
      </span>
     </span>
     和
     <span class="katex--inline">
      <span class="katex">
       <span class="katex-mathml">
        ∥ 
        
        
        
          y 
         
        
          ⃗ 
         
        
       
         ∥ 
        
       
      
        \|\vec{y}\|
       </span>
       <span class="katex-html">
        <span class="base">
         <span class="strut" style="height: 1em; vertical-align: -0.25em;">
         </span>
         <span class="mord">
          ∥
         </span>
         <span class="mord accent">
          <span class="vlist-t vlist-t2">
           <span class="vlist-r">
            <span class="vlist" style="height: 0.714em;">
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="mord mathnormal" style="margin-right: 0.0359em;">
               y
              </span>
             </span>
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="accent-body" style="left: -0.1799em;">
               <span class="overlay" style="height: 0.714em; width: 0.471em;">
                <svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em">
                 <path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z">
                 </path>
                </svg>
               </span>
              </span>
             </span>
            </span>
            <span class="vlist-s">
             ​
            </span>
           </span>
           <span class="vlist-r">
            <span class="vlist" style="height: 0.1944em;">
             <span class="">
             </span>
            </span>
           </span>
          </span>
         </span>
         <span class="mord">
          ∥
         </span>
        </span>
       </span>
      </span>
     </span>
     分别是向量
     <span class="katex--inline">
      <span class="katex">
       <span class="katex-mathml">
        x 
         
        
          ⃗ 
         
        
       
      
        \vec{x}
       </span>
       <span class="katex-html">
        <span class="base">
         <span class="strut" style="height: 0.714em;">
         </span>
         <span class="mord accent">
          <span class="vlist-t">
           <span class="vlist-r">
            <span class="vlist" style="height: 0.714em;">
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="mord mathnormal">
               x
              </span>
             </span>
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="accent-body" style="left: -0.2077em;">
               <span class="overlay" style="height: 0.714em; width: 0.471em;">
                <svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em">
                 <path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z">
                 </path>
                </svg>
               </span>
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
       </span>
      </span>
     </span>
     和
     <span class="katex--inline">
      <span class="katex">
       <span class="katex-mathml">
        y 
         
        
          ⃗ 
         
        
       
      
        \vec{y}
       </span>
       <span class="katex-html">
        <span class="base">
         <span class="strut" style="height: 0.9084em; vertical-align: -0.1944em;">
         </span>
         <span class="mord accent">
          <span class="vlist-t vlist-t2">
           <span class="vlist-r">
            <span class="vlist" style="height: 0.714em;">
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="mord mathnormal" style="margin-right: 0.0359em;">
               y
              </span>
             </span>
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="accent-body" style="left: -0.1799em;">
               <span class="overlay" style="height: 0.714em; width: 0.471em;">
                <svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em">
                 <path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z">
                 </path>
                </svg>
               </span>
              </span>
             </span>
            </span>
            <span class="vlist-s">
             ​
            </span>
           </span>
           <span class="vlist-r">
            <span class="vlist" style="height: 0.1944em;">
             <span class="">
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
       </span>
      </span>
     </span>
     的模。
    </p>
    <h5>
     <a id="_66">
     </a>
     优点
    </h5>
    <ul>
     <li>
      <strong>
       不受向量长度影响
      </strong>
      ：余弦相似度只关注向量的方向，不考虑向量的长度，因此在比较不同长度的向量时具有优势。
     </li>
     <li>
      <strong>
       适用于高维空间
      </strong>
      ：在高维空间中，余弦相似度能够较好地反映向量之间的相似性。
     </li>
    </ul>
    <h5>
     <a id="_70">
     </a>
     缺点
    </h5>
    <ul>
     <li>
      <strong>
       不考虑向量的具体数值差异
      </strong>
      ：余弦相似度只关注向量的方向，对于向量的具体数值差异不敏感。
     </li>
    </ul>
    <h5>
     <a id="_73">
     </a>
     适用场景
    </h5>
    <ul>
     <li>
      <strong>
       文本相似度计算
      </strong>
      ：在自然语言处理中，常用于计算文档之间的相似度。
     </li>
     <li>
      <strong>
       图像特征匹配
      </strong>
      ：在计算机视觉中，用于比较图像的特征向量。
     </li>
    </ul>
    <h5>
     <a id="search__77">
     </a>
     <code>
      search
     </code>
     参数示例
    </h5>
    <pre><code class="prism language-python">search_params <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"metric_type"</span><span class="token punctuation">:</span> <span class="token string">"COSINE"</span><span class="token punctuation">,</span>
    <span class="token string">"params"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment"># 对于 ANNOY 索引，search_k 表示搜索时访问的节点数量</span>
        <span class="token string">"search_k"</span><span class="token punctuation">:</span> <span class="token number">100</span>  
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="4_Hamming_Hamming_DistanceHAMMING_88">
     </a>
     4. Hamming 距离（Hamming Distance，
     <code>
      HAMMING
     </code>
     ）
    </h4>
    <h5>
     <a id="_90">
     </a>
     特点
    </h5>
    <p>
     Hamming 距离主要用于二进制向量，它计算的是两个二进制向量中对应位不同的位数。例如，对于二进制向量
     <span class="katex--inline">
      <span class="katex">
       <span class="katex-mathml">
        x 
         
        
          ⃗ 
         
        
       
         = 
        
       
         ( 
        
       
         0 
        
       
         , 
        
       
         1 
        
       
         , 
        
       
         0 
        
       
         , 
        
       
         1 
        
       
         ) 
        
       
      
        \vec{x}=(0,1,0,1)
       </span>
       <span class="katex-html">
        <span class="base">
         <span class="strut" style="height: 0.714em;">
         </span>
         <span class="mord accent">
          <span class="vlist-t">
           <span class="vlist-r">
            <span class="vlist" style="height: 0.714em;">
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="mord mathnormal">
               x
              </span>
             </span>
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="accent-body" style="left: -0.2077em;">
               <span class="overlay" style="height: 0.714em; width: 0.471em;">
                <svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em">
                 <path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z">
                 </path>
                </svg>
               </span>
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
         <span class="mspace" style="margin-right: 0.2778em;">
         </span>
         <span class="mrel">
          =
         </span>
         <span class="mspace" style="margin-right: 0.2778em;">
         </span>
        </span>
        <span class="base">
         <span class="strut" style="height: 1em; vertical-align: -0.25em;">
         </span>
         <span class="mopen">
          (
         </span>
         <span class="mord">
          0
         </span>
         <span class="mpunct">
          ,
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="mord">
          1
         </span>
         <span class="mpunct">
          ,
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="mord">
          0
         </span>
         <span class="mpunct">
          ,
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="mord">
          1
         </span>
         <span class="mclose">
          )
         </span>
        </span>
       </span>
      </span>
     </span>
     和
     <span class="katex--inline">
      <span class="katex">
       <span class="katex-mathml">
        y 
         
        
          ⃗ 
         
        
       
         = 
        
       
         ( 
        
       
         1 
        
       
         , 
        
       
         1 
        
       
         , 
        
       
         0 
        
       
         , 
        
       
         0 
        
       
         ) 
        
       
      
        \vec{y}=(1,1,0,0)
       </span>
       <span class="katex-html">
        <span class="base">
         <span class="strut" style="height: 0.9084em; vertical-align: -0.1944em;">
         </span>
         <span class="mord accent">
          <span class="vlist-t vlist-t2">
           <span class="vlist-r">
            <span class="vlist" style="height: 0.714em;">
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="mord mathnormal" style="margin-right: 0.0359em;">
               y
              </span>
             </span>
             <span class="" style="top: -3em;">
              <span class="pstrut" style="height: 3em;">
              </span>
              <span class="accent-body" style="left: -0.1799em;">
               <span class="overlay" style="height: 0.714em; width: 0.471em;">
                <svg height="0.714em" preserveaspectratio="xMinYMin" style="width:0.471em" viewbox="0 0 471 714" width="0.471em">
                 <path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z">
                 </path>
                </svg>
               </span>
              </span>
             </span>
            </span>
            <span class="vlist-s">
             ​
            </span>
           </span>
           <span class="vlist-r">
            <span class="vlist" style="height: 0.1944em;">
             <span class="">
             </span>
            </span>
           </span>
          </span>
         </span>
         <span class="mspace" style="margin-right: 0.2778em;">
         </span>
         <span class="mrel">
          =
         </span>
         <span class="mspace" style="margin-right: 0.2778em;">
         </span>
        </span>
        <span class="base">
         <span class="strut" style="height: 1em; vertical-align: -0.25em;">
         </span>
         <span class="mopen">
          (
         </span>
         <span class="mord">
          1
         </span>
         <span class="mpunct">
          ,
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="mord">
          1
         </span>
         <span class="mpunct">
          ,
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="mord">
          0
         </span>
         <span class="mpunct">
          ,
         </span>
         <span class="mspace" style="margin-right: 0.1667em;">
         </span>
         <span class="mord">
          0
         </span>
         <span class="mclose">
          )
         </span>
        </span>
       </span>
      </span>
     </span>
     ，它们的 Hamming 距离为 2。
    </p>
    <h5>
     <a id="_93">
     </a>
     优点
    </h5>
    <ul>
     <li>
      <strong>
       计算简单
      </strong>
      ：Hamming 距离的计算只需要比较二进制位，计算复杂度较低。
     </li>
     <li>
      <strong>
       适用于二进制数据
      </strong>
      ：在处理二进制编码的向量时，Hamming 距离是一种非常合适的度量方法。
     </li>
    </ul>
    <h5>
     <a id="_97">
     </a>
     缺点
    </h5>
    <ul>
     <li>
      <strong>
       只适用于二进制向量
      </strong>
      ：对于非二进制向量，Hamming 距离无法使用。
     </li>
    </ul>
    <h5>
     <a id="_100">
     </a>
     适用场景
    </h5>
    <ul>
     <li>
      <strong>
       哈希算法和二进制编码数据
      </strong>
      ：例如在图像检索中，使用哈希算法将图像特征编码为二进制向量，然后使用 Hamming 距离进行快速匹配。
     </li>
    </ul>
    <h5>
     <a id="search__103">
     </a>
     <code>
      search
     </code>
     参数示例
    </h5>
    <pre><code class="prism language-python">search_params <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"metric_type"</span><span class="token punctuation">:</span> <span class="token string">"HAMMING"</span><span class="token punctuation">,</span>
    <span class="token string">"params"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="5_Jaccard_Jaccard_DistanceJACCARD_111">
     </a>
     5. Jaccard 距离（Jaccard Distance，
     <code>
      JACCARD
     </code>
     ）
    </h4>
    <h5>
     <a id="_113">
     </a>
     特点
    </h5>
    <p>
     Jaccard 距离用于衡量两个集合之间的不相似性，它是 Jaccard 相似度的补集。对于两个集合
     <span class="katex--inline">
      <span class="katex">
       <span class="katex-mathml">
        A 
        
       
      
        A
       </span>
       <span class="katex-html">
        <span class="base">
         <span class="strut" style="height: 0.6833em;">
         </span>
         <span class="mord mathnormal">
          A
         </span>
        </span>
       </span>
      </span>
     </span>
     和
     <span class="katex--inline">
      <span class="katex">
       <span class="katex-mathml">
        B 
        
       
      
        B
       </span>
       <span class="katex-html">
        <span class="base">
         <span class="strut" style="height: 0.6833em;">
         </span>
         <span class="mord mathnormal" style="margin-right: 0.0502em;">
          B
         </span>
        </span>
       </span>
      </span>
     </span>
     ，Jaccard 相似度的计算公式为：
     <br/>
     [J(A,B)=\frac{|A\cap B|}{|A\cup B|}]
     <br/>
     Jaccard 距离的计算公式为：
     <br/>
     [d_J(A,B)=1 - J(A,B)]
    </p>
    <h5>
     <a id="_119">
     </a>
     优点
    </h5>
    <ul>
     <li>
      <strong>
       适用于集合数据
      </strong>
      ：Jaccard 距离能够很好地处理集合数据，反映集合之间的重叠程度。
     </li>
    </ul>
    <h5>
     <a id="_122">
     </a>
     缺点
    </h5>
    <ul>
     <li>
      <strong>
       对集合的大小和元素分布敏感
      </strong>
      ：Jaccard 距离的结果可能会受到集合大小和元素分布的影响。
     </li>
    </ul>
    <h5>
     <a id="_125">
     </a>
     适用场景
    </h5>
    <ul>
     <li>
      <strong>
       文本分类和聚类
      </strong>
      ：在文本处理中，可以将文本表示为词的集合，然后使用 Jaccard 距离进行文本的分类和聚类。
     </li>
     <li>
      <strong>
       社交网络分析
      </strong>
      ：用于分析用户之间的兴趣相似度，例如比较用户关注的话题集合。
     </li>
    </ul>
    <h5>
     <a id="search__129">
     </a>
     <code>
      search
     </code>
     参数示例
    </h5>
    <pre><code class="prism language-python">search_params <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"metric_type"</span><span class="token punctuation">:</span> <span class="token string">"JACCARD"</span><span class="token punctuation">,</span>
    <span class="token string">"params"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     综上所述，在选择相似度度量方法时，需要根据数据的特点和具体的应用场景来进行综合考虑。不同的度量方法在不同的场景下可能会有不同的表现，合理选择度量方法可以提高向量搜索的准确性和效率。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f5261696e7369726975732f:61727469636c652f64657461696c732f313436323131363535" class_="artid" style="display:none">
 </p>
</div>


