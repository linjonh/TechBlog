---
layout: post
title: "区块链投票系统概述"
date: 2022-10-13 15:28:04 +0800
description: "最近接到项目要做区块链投票系统，集中调研了下相关的知识，做这里做下简要的记录。区块链电子投票系统什么"
keywords: "区块链投票系统"
categories: ['区块链']
tags: ['区块链']
artid: "127225315"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=127225315
    alt: "区块链投票系统概述"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=127225315
featuredImagePreview: https://bing.ee123.net/img/rand?artid=127225315
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     区块链投票系统概述
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <div class="toc">
     <h4>
      文章目录
     </h4>
     <ul>
      <li>
       <a href="#_1" rel="nofollow">
        前言
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#_7" rel="nofollow">
          什么是电子投票系统？
         </a>
        </li>
        <li>
         <ul>
          <li>
           <a href="#_17" rel="nofollow">
            传统投票流程
           </a>
          </li>
          <li>
           <a href="#_27" rel="nofollow">
            传统投票的安全性
           </a>
          </li>
          <li>
           <a href="#_47" rel="nofollow">
            电子投票的安全性
           </a>
          </li>
          <li>
           <a href="#_55" rel="nofollow">
            电子投票做了些啥？
           </a>
          </li>
         </ul>
        </li>
        <li>
         <a href="#_77" rel="nofollow">
          区块链能给电子投票带来什么？
         </a>
        </li>
        <li>
         <a href="#_94" rel="nofollow">
          我们的选择
         </a>
        </li>
        <li>
         <ul>
          <li>
           <a href="#_115" rel="nofollow">
            验证示例
           </a>
          </li>
         </ul>
        </li>
        <li>
         <a href="#_125" rel="nofollow">
          遗留问题
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <h2>
     <a id="_1">
     </a>
     前言
    </h2>
    <p>
     最近接到项目要做区块链投票系统，集中调研了下相关的知识，做这里做下简要的记录。
     <strong>
      区块链电子投票系统
     </strong>
     拆开看是两个问题：
    </p>
    <ol>
     <li>
      什么是电子投票系统？
     </li>
     <li>
      区块链能给电子投票系统带来什么？
     </li>
    </ol>
    <h3>
     <a id="_7">
     </a>
     什么是电子投票系统？
    </h3>
    <p>
     先来看第一个问题，什么是电子投票系统？根据
     <a href="https://zh.m.wikipedia.org/zh-hans/%E9%9B%BB%E5%AD%90%E6%8A%95%E7%A5%A8" rel="nofollow">
      维基百科-电子投票
     </a>
     的定义：
    </p>
    <blockquote>
     <p>
      <strong>
       电子投票
      </strong>
      ，是一种投票设备，使用者直接按钮，就可以投票给自己所支持的候选人。
      <br/>
      <br/>
      电子投票技术可以包括穿孔卡，光学扫描投票系统和专用投票亭（包括独立的直接记录电子投票系统或DRE）。它还可以涉及通过电话，私人计算机网络或互联网传送选票和投票。
     </p>
    </blockquote>
    <p>
     以上可以看出，从投票地点的限制可以将电子投票分为两种：
    </p>
    <ol>
     <li>
      在指定地点（比如投票站）通过指定设备进行投票
     </li>
     <li>
      在任意地点通过互联网传送选票和投票
     </li>
    </ol>
    <h4>
     <a id="_17">
     </a>
     传统投票流程
    </h4>
    <p>
     可能有同学会问，为什么投票地点的限制要单独拿出来讲，这个很重要吗？先来看传统投票的过程。
     <br/>
     <img alt="投票过程" src="https://i-blog.csdnimg.cn/blog_migrate/899d93197d05f547eeef9711bb9c1eac.png">
      <br/>
      传统投票都是在票站进行，主要分以下几个步骤
     </img>
    </p>
    <ol>
     <li>
      选民来到票站，首先进行身份验证并登记
     </li>
     <li>
      领取选票，进入一个不受监控的隔间，打开信封，填写选票，并装回信封
     </li>
     <li>
      将封好的选票投入一个透明的票箱
     </li>
     <li>
      投票结束后，将票箱中选票进行充分混合，开始计票
     </li>
    </ol>
    <h4>
     <a id="_27">
     </a>
     传统投票的安全性
    </h4>
    <p>
     通常认为，投票过程有四个重要的安全要求，只有这些要求都被满足时，才能保证投票的安全：合法性、抗审查、秘密性、抗胁迫。可以总结为以下主要特征：
    </p>
    <ul>
     <li>
      秘密性（Confidentiality）：除投票者自身外，其他人都不能知道他选票的内容。
     </li>
     <li>
      合法性（Eligibility）：只有合法的投票者才能进行投票。
     </li>
     <li>
      唯一性（Uniqueness）：每个合法的投票者只能投一票。
     </li>
     <li>
      公平性（Fairness）：投票完成之前，任何人不能获知投票的结果，包括中间结果。
     </li>
     <li>
      无收据性（Receipt-Freeness）：投票者不能向第三方证明自己选票的内容。
     </li>
     <li>
      匿名性（Anonymity）：除投票者自身外，任何人都不能将某张选票与某个投票者
     </li>
     <li>
      可验证性（Verifiability）：可以验证投票结果的正确性。
      <br/>
      联系起来。
     </li>
    </ul>
    <p>
     对照上一节传统的投票流程：
    </p>
    <ul>
     <li>
      票站入口处的身份验证和验票时的有效性验证，保证了选票的合法性、唯一性
     </li>
     <li>
      选票的纸质存档保障了可验证性
     </li>
     <li>
      领取选票、填写、封口都在独立的、无监控不可拍照的隔间中进行，保障了匿名性
     </li>
     <li>
      开票前的票箱会被有意混淆，打乱其中选票顺序，保障了不能根据身份验证的顺序推导出投票的内容
     </li>
     <li>
      投票后无收据，无拍照，保障了抗胁迫性（无法向他人证明自己的投票内容）
     </li>
    </ul>
    <h4>
     <a id="_47">
     </a>
     电子投票的安全性
    </h4>
    <p>
     前面提到电子投票分两种，在指定地点（票站）投票和通过互联网投票。
    </p>
    <ul>
     <li>
      在指定地点投票与传统投票的区别只是取消了纸质投票，票站依然保留，选民只要在一个投票机上填写选票即可。但因为无纸质存档，安全性会变得更有挑战。美国和俄罗斯前几年都发生过大选投票系统被攻击的案例。同时如何向广大并无技术背景的选民证明系统的可靠性也是一大难题。
     </li>
     <li>
      互联网投票会让事情变得更加复杂。
      <strong>
       脱离了票站这个安全的物理环境，通过无收据性来保障无贿选和抗胁迫变得没有意义
      </strong>
      ，选民可以通过设备录屏等方式变相取得投票的收据，胁迫投票也就变得可以实现。
     </li>
    </ul>
    <p>
     所以为什么投票地点的限制要单独拿出来讲，因为这个真的有点无解。
    </p>
    <h4>
     <a id="_55">
     </a>
     电子投票做了些啥？
    </h4>
    <p>
     虽然有个目前无解的bug，但还是看下目前电子投票系统都做出来了些啥。需要了解以下知识：
    </p>
    <ul>
     <li>
      公钥密码
     </li>
     <li>
      同态加密（支持加法同态的 Paillier 算法）
     </li>
     <li>
      门限同态加密
     </li>
     <li>
      相同指数证明
     </li>
     <li>
      盲签名
     </li>
     <li>
      混合网络
     </li>
     <li>
      零知识证明
     </li>
     <li>
      单向散列函数
     </li>
     <li>
      数字证书
     </li>
    </ul>
    <p>
     同时在传统投票系统的基础上，还对电子投票系统提出了新的要求：
    </p>
    <ul>
     <li>
      广义可验证性（Universal Verifiability）：任何人都可以验证投票结果的正确性，
      <br/>
      包括非参与者。
     </li>
    </ul>
    <p>
     概念不逐个展开写了，后面有空再补，大家感兴趣可以查一下。电子投票雏形源于Chaum于1981年提出的公钥密码体制，通过密码技术和计算机网络完成投票。1985年Cohen等提出了同态加密技术方案，构造电子投票，主要解决了匿名性和广义可验证性问题。同态加密技术成了构造电子投票的主要工具之一。Fujioka在1992年提出了著名的FOO92方案，引入了盲签名技术，解决电子投票的匿名性问题。无收据性概念是1995年Benaloh等人提出，用来解决买卖选票或者强迫投票等对投票活动有较大威胁的问题。Cramer使用门限同态加密、相同指数证明等技术试图构造一个同时满足广义可验证性和无收据性的方案，但是这个方案最终被证明并不满足无收据性。Lee在 Cramer 的方案基础上引入一个可信第三方作为验证者，使得改进后的方案满足无收据性，但是这个方案中的无收据性完全依赖于对可信第三方的高度信任。为了降低对可信第三方的信任依赖，研究者们设计了一些新的改进方案，利用多个实体共同参与相互监督的办法来分割权力。
    </p>
    <p>
     总结一下就是大家想了许许多多密码学相关的算法来解决电子投票系统中需要的匿名性、广义可验证性、无收据性等问题。但是最终绕不过一个可信的第三方，为了解决这个问题，大家甚至想到了将第三方拆成了第三方们，提高了作弊的门槛。
    </p>
    <h3>
     <a id="_77">
     </a>
     区块链能给电子投票带来什么？
    </h3>
    <p>
     我理解区块链有三个主要技术：
    </p>
    <ul>
     <li>
      p2p（peer to peer）
     </li>
     <li>
      链式结构
     </li>
     <li>
      共识算法
     </li>
    </ul>
    <p>
     对应三个主要特点
    </p>
    <ul>
     <li>
      去中心化
     </li>
     <li>
      数据不可篡改
     </li>
     <li>
      数据公开可查
     </li>
    </ul>
    <p>
     前面提到了电子投票系统的广义可验证性，可信的第三方，大家想到了啥？解决这个问题，妥妥的是区块链的强项呀！好，那接下来我们看区块链能给电子投票带来什么。
    </p>
    <p>
     区块链天然适合用来做电子投票的公告板，所有数据上链为其带来广义可验证性以及不可篡改性。如果配合同态加密以及零知识证明算法等密码学技术，可以实现匿名的投票系统。下图展示了一种基于区块链匿名投票的详细流程，主要用到了RSA盲签名、Paillier算法，图中所有上传，指的是上传数据到区块链（摘自《基于区块链的匿名投票系统研究》，详细算法可参考原文3.3节，作者陈萍，2020）
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/89109652ac6bddd7499b408526e87506.png"/>
    </p>
    <h3>
     <a id="_94">
     </a>
     我们的选择
    </h3>
    <p>
     看过以上的区块链投票方案后，结合国内的监管要求以及实际情况，我们决定不做完整意义上的区块链投票应用。从以下两个方面说明：
    </p>
    <ul>
     <li>
      <p>
       强监管
       <br/>
       国家在大力发展区块链的同时，要求区块链应用可管可控（
       <a href="https://www.ndrc.gov.cn/xxgk/jd/wsdwhfz/202008/t20200825_1236734.html?code=&amp;state=123" rel="nofollow">
        区块链技术可提高数据可信性和安全性
       </a>
       ），无论是腾讯的至信链，还是阿里的蚂蚁链，都不存在严格意义上的公链，都无法让用户通过个人钱包直接对链发起操作，都要通过企业或者开发者作为第三方中转进行上链操作，所以是伪去中心化，但是因为腾讯或阿里作为区块链技术提供方，分隔了第三方对链的直接操作，且用阿里或腾讯的信用作为背书，保障了可管可控模式下的不可篡改。
      </p>
     </li>
     <li>
      <p>
       无必要
       <br/>
       我们的投票应用主要用于小区业主进行表决，事项没必要做到无回执和完全匿名，可验证和可追溯是更重要的。无回执反而让用户觉得很奇怪，为什么我投了却看不到结果，教育成本会比较高。而且脱离了无保护的物理空间，无回执性变得没什么意义，录屏投票就可以变成新的取得回执手段。
      </p>
     </li>
     <li>
      <p>
       追溯门槛高
       <br/>
       向一个完全没有计算机和密码学基础的人解释如何在区块链上追溯和验证投票的正确性，基本上不可能。反而不如一个蚂蚁链发的可信存证证书来的实在，用户只要知道我的信息存证了，有证书、可验证。系统能做到能向监管机构证明，支持审计就可以了。
      </p>
     </li>
    </ul>
    <p>
     所以结合国内的区块链监管环境，我们选择用蚂蚁的可信存证链服务，虽然不是严格意义上的区块链投票，但是信息国内司法认可，用户对证书感知强烈，信息链上加密、不可篡改。
    </p>
    <p>
     下图是我们的投票存证流程示例：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/57bf79e9069fbf73ad575df8a02d9c0b.png"/>
    </p>
    <blockquote>
     <p>
      通过以上流程，做到了决议内容、投票人员、投票内容、投票结果全部上链存证。上链文件内容可通过文件原文和存证Hash到支付宝平台做验证，示例如下：
     </p>
    </blockquote>
    <h4>
     <a id="_115">
     </a>
     验证示例
    </h4>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/989091a7d321c05a387fecf7a0de1e02.png"/>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/45fc581dd12766d15b16c28dbd07610c.png"/>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/2ea4b10a4a9298d173828fc880f77df6.png"/>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/41253b00bda2aa5a137725adc3ef5233.png"/>
    </p>
    <h3>
     <a id="_125">
     </a>
     遗留问题
    </h3>
    <ol>
     <li>
      国内在以太坊链上建应用合法吗？
     </li>
    </ol>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f753031303032323937352f:61727469636c652f64657461696c732f313237323235333135" class_="artid" style="display:none">
 </p>
</div>


