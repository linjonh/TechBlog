---
layout: post
title: "数据分析读取文件"
date: 2025-03-13 16:40:50 +0800
description: "data = pd.read_csv(\"/Users/yequ/电商数据清洗.csv\", usecols=[\"payment\",\"items_count\"])# 读取路径为 \"/Users/yequ/电商数据清洗.csv\" 的CSV文件里的\"payment\"和\"items_count\"这两列中的数据。# 读取路径为 \"/Users/yequ/电商数据清洗.csv\" 的CSV文件里的\"payment\"和\"items_count\"这两列中的数据。# 导入pandas模块，并以\"pd\"为该模块的简写。"
keywords: "【数据分析】读取文件"
categories: ['未分类']
tags: ['数据挖掘', '数据分析', 'Python', 'Pandas', 'Numpy']
artid: "146235344"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146235344
    alt: "数据分析读取文件"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146235344
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146235344
cover: https://bing.ee123.net/img/rand?artid=146235344
image: https://bing.ee123.net/img/rand?artid=146235344
img: https://bing.ee123.net/img/rand?artid=146235344
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【数据分析】读取文件
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p style="margin-left:0; margin-right:0; text-align:justify">
    </p>
    <p style="margin-left:0; margin-right:0; text-align:justify">
     <img alt="" height="53" src="https://i-blog.csdnimg.cn/direct/10dfa642733d4a6ba02725b929d6a59a.png" width="215"/>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:justify">
     <span style="background-color:white">
      <span style="color:#2f5df2">
       3.
      </span>
     </span>
     <span style="background-color:white">
      <span style="color:#2f5df2">
       读取指定列
      </span>
     </span>
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td style="border-color:black; vertical-align:top; width:414.8pt">
        <p style="margin-left:0; margin-right:0; text-align:justify">
         <span style="background-color:yellow">
          <span style="color:#707070">
           针对只需要读取数据中的某一列或多列的情况，
          </span>
         </span>
         <code>
          <span style="background-color:yellow">
           <span style="color:#ff502c">
            pd.read_csv()
           </span>
          </span>
         </code>
         <span style="background-color:yellow">
          <span style="color:#707070">
           函数提供了一个参数：
          </span>
         </span>
         <code>
          <span style="background-color:yellow">
           <span style="color:#ff502c">
            usecols
           </span>
          </span>
         </code>
         <span style="background-color:yellow">
          <span style="color:#707070">
           ，将
          </span>
         </span>
         <span style="background-color:yellow">
          包含对应的columns的列表
         </span>
         <span style="background-color:yellow">
          <span style="color:#707070">
           传入该参数即可。
          </span>
         </span>
        </p>
       </td>
      </tr>
      <tr>
       <td style="border-color:black; vertical-align:top; width:414.8pt">
        <p style="margin-left:0; margin-right:0; text-align:justify">
         <img alt="" height="207" src="https://i-blog.csdnimg.cn/direct/66e96275f9b148a9ade02c5aa4675317.png" width="683"/>
        </p>
       </td>
      </tr>
      <tr>
       <td style="border-color:black; vertical-align:top; width:414.8pt">
        <p style="margin-left:0; margin-right:0; text-align:justify">
         <img alt="" height="109" src="https://i-blog.csdnimg.cn/direct/93be821a9ecd475e8969e25149c6ef78.png" width="295"/>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="margin-left:0; margin-right:0; text-align:justify">
     <span style="background-color:white">
      <span style="color:#707070">
       上面，我们学习了读取
      </span>
     </span>
     "payment"
     <span style="background-color:white">
      <span style="color:#707070">
       和
      </span>
     </span>
     "items_count"
     <span style="background-color:white">
      <span style="color:#707070">
       这两列的数据。
      </span>
     </span>
     <br/>
     <span style="background-color:white">
      <span style="color:#707070">
       当然，Pandas也提供了
      </span>
     </span>
     <code>
      <span style="background-color:#fff5f5">
       <span style="color:#ff502c">
        to_csv()
       </span>
      </span>
     </code>
     <span style="background-color:white">
      <span style="color:#707070">
       函数，用于将DataFrame转换为CSV数据。
      </span>
     </span>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:justify">
     # 导入pandas模块，并以"pd"为该模块的简写
    </p>
    <p style="margin-left:0; margin-right:0; text-align:justify">
     import pandas as pd
    </p>
    <p style="margin-left:0; margin-right:0; text-align:justify">
     # 使用pd.read_csv()函数和usecols参数
    </p>
    <p style="margin-left:0; margin-right:0; text-align:justify">
     # 读取路径为 "/Users/yequ/电商数据清洗.csv" 的CSV文件里的"payment"和"items_count"这两列中的数据
    </p>
    <p style="margin-left:0; margin-right:0; text-align:justify">
     # 并将结果赋值给变量data
    </p>
    <p style="margin-left:0; margin-right:0; text-align:justify">
     data = pd.read_csv("/Users/yequ/电商数据清洗.csv", usecols=["payment","items_count"])
    </p>
    <p style="margin-left:0; margin-right:0; text-align:justify">
     # 将data保存到指定路径
    </p>
    <p style="margin-left:0; margin-right:0; text-align:justify">
     data.to_csv("/Users/yequ/电商数据清洗2.csv")
    </p>
    <p style="margin-left:0; margin-right:0; text-align:justify">
     <span style="background-color:yellow">
      <span style="color:#707070">
       ps
      </span>
     </span>
     <span style="background-color:yellow">
      <span style="color:#707070">
       ：对DataFrame对象使用
      </span>
     </span>
     <span style="background-color:yellow">
      to_csv()
     </span>
     <span style="background-color:yellow">
      <span style="color:#707070">
       函数，将文件保存路径作为参数，即可将DataFrame保存到指定的文件路径，并存储为后缀名是
      </span>
     </span>
     <span style="background-color:yellow">
      .csv
     </span>
     <span style="background-color:yellow">
      <span style="color:#707070">
       的文件。
      </span>
     </span>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:justify">
    </p>
    <p style="margin-left:0; margin-right:0; text-align:justify">
     <span style="background-color:white">
      <span style="color:#707070">
       如图，我们在调用
      </span>
     </span>
     <code>
      <span style="background-color:#fff5f5">
       <span style="color:#ff502c">
        to_csv()
       </span>
      </span>
     </code>
     <span style="background-color:white">
      <span style="color:#707070">
       若只设置路径参数，会将
      </span>
     </span>
     行索引信息写入
     <span style="background-color:white">
      <span style="color:#707070">
       CSV
      </span>
     </span>
     <span style="background-color:white">
      <span style="color:#707070">
       文件的第1列。
      </span>
     </span>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:justify">
     <img alt="" height="1076" src="https://i-blog.csdnimg.cn/direct/dccc1d25e3ae4717b1500d8c9db86b2c.png" width="1820"/>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:justify">
    </p>
    <p style="margin-left:0; margin-right:0">
     <span style="background-color:white">
      <code>
       <span style="background-color:#fff5f5">
        <span style="color:#ff502c">
         to_csv()
        </span>
       </span>
      </code>
      <span style="color:#707070">
       函数和
      </span>
      <code>
       <span style="background-color:#fff5f5">
        <span style="color:#ff502c">
         read_csv()
        </span>
       </span>
      </code>
      <span style="color:#707070">
       函数类似，除了路径这个参数外，还有大量
      </span>
      <span style="color:black">
       <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.to_csv.html?highlight=to_csv" rel="nofollow" title="可选参数">
        可选参数
       </a>
      </span>
      <span style="color:#707070">
       可以选用。
      </span>
     </span>
    </p>
    <p style="margin-left:0; margin-right:0">
     <span style="background-color:white">
      <span style="color:#707070">
       对于
      </span>
      <code>
       <span style="background-color:#fff5f5">
        <span style="color:#ff502c">
         to_csv()
        </span>
       </span>
      </code>
      <span style="color:#707070">
       函数，我们再简单了解2个可选参数。
      </span>
     </span>
    </p>
    <p style="margin-left:0; margin-right:0">
     <span style="background-color:white">
      <span style="color:#707070">
       对于前面的情况，我们通过设置参数
      </span>
      <code>
       <span style="background-color:#fff5f5">
        <span style="color:#ff502c">
         index=False
        </span>
       </span>
      </code>
      <span style="color:#707070">
       ，这样就不会将行索引信息写入第一列。
      </span>
     </span>
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td style="border-color:black; vertical-align:top; width:414.8pt">
        <p style="margin-left:0; margin-right:0; text-align:justify">
         # 导入pandas模块，并以"pd"为该模块的简写
        </p>
        <p style="margin-left:0; margin-right:0; text-align:justify">
         import pandas as pd
        </p>
        <p style="margin-left:0; margin-right:0; text-align:justify">
         # 使用pd.read_csv()函数和usecols参数
        </p>
        <p style="margin-left:0; margin-right:0; text-align:justify">
         # 读取路径为 "/Users/yequ/电商数据清洗.csv" 的CSV文件里的"payment"和"items_count"这两列中的数据
        </p>
        <p style="margin-left:0; margin-right:0; text-align:justify">
         # 并将结果赋值给变量data
        </p>
        <p style="margin-left:0; margin-right:0; text-align:justify">
         data = pd.read_csv("/Users/yequ/电商数据清洗.csv", usecols=["payment","items_count"])
        </p>
        <p style="margin-left:0; margin-right:0; text-align:justify">
         # 将data保存到指定路径，并不将行索引信息写入第一列
        </p>
        <p style="margin-left:0; margin-right:0; text-align:justify">
         data.to_csv("/Users/yequ/电商数据清洗2.csv",index=False)
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="margin-left:0; margin-right:0; text-align:justify">
    </p>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="background-color:white">
      <span style="color:#707070">
       同样的道理，使用to_csv()函数，也有可能因为中文字符的编码问题，造成生成的csv文件乱码。
      </span>
     </span>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="background-color:white">
      <span style="color:#707070">
       此时，我们可以将参数encoding设置为"utf-8-sig"。
      </span>
     </span>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="background-color:white">
      <span style="color:#707070">
       格式：
      </span>
      <span style="background-color:#f0f0f0">
       <span style="color:#ff502c">
        encoding="utf-8-sig"
       </span>
      </span>
     </span>
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td style="border-color:black; vertical-align:top; width:414.8pt">
        <p style="margin-left:0; margin-right:0; text-align:justify">
         示例代码：
        </p>
        <p style="margin-left:0; margin-right:0; text-align:justify">
         import pandas as pd
        </p>
        <p style="margin-left:0; margin-right:0; text-align:justify">
         data = pd.read_csv("/Users/yequ/电商数据清洗.csv", usecols=["payment","items_count"])
        </p>
        <p style="margin-left:0; margin-right:0; text-align:justify">
         # 将data保存到指定路径
        </p>
        <p style="margin-left:0; margin-right:0; text-align:justify">
         data.to_csv("/Users/yequ/电商数据清洗2.csv",encoding="utf-8-sig")
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="background-color:white">
      <span style="background-color:#f1a20c">
       <span style="color:white">
        保存CSV文件
       </span>
      </span>
     </span>
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td style="border-color:black; vertical-align:top; width:414.8pt">
        <p style="margin-left:0; margin-right:0; text-align:left">
         <span style="background-color:white">
          <span style="color:#707070">
           Pandas
          </span>
         </span>
         <span style="background-color:white">
          <span style="color:#707070">
           也提供了to_csv()函数，用于将DataFrame转换为CSV数据。
          </span>
         </span>
         <br/>
         <span style="background-color:white">
          <span style="color:#707070">
           必选参数：要保存的CSV文件的
          </span>
         </span>
         文件路径
         <br/>
         <span style="background-color:white">
          <span style="color:#707070">
           可选参数：
          </span>
         </span>
         <br/>
         <span style="color:#707070">
          <span style="background-color:white">
           1.
          </span>
         </span>
         设置保存编码格式
         <span style="background-color:white">
          <span style="color:#707070">
           ：
          </span>
         </span>
         <code>
          <span style="background-color:#fff5f5">
           <span style="color:#ff502c">
            encoding="utf-8-sig"
           </span>
          </span>
         </code>
         <br/>
         <span style="color:#707070">
          <span style="background-color:white">
           2.
          </span>
         </span>
         不将行索引写入第一列
         <span style="background-color:white">
          <span style="color:#707070">
           ：
          </span>
         </span>
         <code>
          <span style="background-color:#fff5f5">
           <span style="color:#ff502c">
            index = False
           </span>
          </span>
         </code>
        </p>
       </td>
      </tr>
      <tr>
       <td style="border-color:black; vertical-align:top; width:414.8pt">
        <p style="margin-left:0; margin-right:0; text-align:left">
         <img alt="" height="175" src="https://i-blog.csdnimg.cn/direct/d809496b7433459fb30ba23ef49e2fab.png" width="820"/>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="background-color:white">
      <span style="color:#707070">
       与读取CSV文件相似， Excel文件的读取也差不多。
      </span>
     </span>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f666d633132313130342f:61727469636c652f64657461696c732f313436323335333434" class_="artid" style="display:none">
 </p>
</div>


