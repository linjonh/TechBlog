---
layout: post
title: "CC环形链表进阶leetcode-T142"
date: 2025-03-12 17:49:57 +0800
description: "我们之前学过环形链表的初级知识，学会了使用快慢指针，学会了判断是否为环形链表，现在题目进行进阶，我们来寻找成环的节点，又要有怎么样的知识呢？（还不会的读者可以先看。"
keywords: "【C/C++】环形链表Ⅱ（进阶）（leetcode T142）"
categories: ['未分类']
tags: ['链表', '蓝桥杯', '算法', 'Leetcode', 'C', 'C']
artid: "146210628"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146210628
    alt: "CC环形链表进阶leetcode-T142"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146210628
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146210628
cover: https://bing.ee123.net/img/rand?artid=146210628
image: https://bing.ee123.net/img/rand?artid=146210628
img: https://bing.ee123.net/img/rand?artid=146210628
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【C/C++】环形链表Ⅱ（进阶）（leetcode T142）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     我们之前学过环形链表的初级知识，学会了使用快慢指针，学会了判断是否为环形链表，现在题目进行进阶，我们来寻找成环的节点，又要有怎么样的知识呢？
    </p>
    <p>
     （还不会的读者可以先看
     <a href="https://blog.csdn.net/2301_76324845/article/details/145890069?spm=1001.2014.3001.5501" title="【C/C++】环形链表（初级）（leetcode T141）-CSDN博客">
      【C/C++】环形链表（初级）（leetcode T141）-CSDN博客
     </a>
     ）
    </p>
    <h2>
     核心考点：链表、快慢指针法
    </h2>
    <h2>
     题目描述
    </h2>
    <p>
     给定一个链表的头节点
     <code>
      head
     </code>
     ，返回链表开始入环的第一个节点。
     <em>
      如果链表无环，则返回
      <code>
       null
      </code>
      。
     </em>
    </p>
    <p>
     如果链表中有某个节点，可以通过连续跟踪
     <code>
      next
     </code>
     指针再次到达，则链表中存在环。 为了表示给定链表中的环，评测系统内部使用整数
     <code>
      pos
     </code>
     来表示链表尾连接到链表中的位置（
     <strong>
      索引从 0 开始
     </strong>
     ）。如果
     <code>
      pos
     </code>
     是
     <code>
      -1
     </code>
     ，则在该链表中没有环。
     <strong>
      注意：
      <code>
       pos
      </code>
      不作为参数进行传递
     </strong>
     ，仅仅是为了标识链表的实际情况。
    </p>
    <p>
     <strong>
      不允许修改
     </strong>
     链表。
    </p>
    <p>
     <strong>
      示例 1：
     </strong>
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="85" src="https://i-blog.csdnimg.cn/img_convert/fe65b7cc04b8df7134d9d01c6cc8c3eb.png" width="264"/>
    </p>
    <p>
     <strong>
      输入：
     </strong>
     head = [3,2,0,-4], pos = 1
     <br/>
     <strong>
      输出：
     </strong>
     返回索引为 1 的链表节点
     <br/>
     <strong>
      解释：
     </strong>
     链表中有一个环，其尾部连接到第二个节点。
    </p>
    <p>
     <strong>
      示例 2：
     </strong>
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="62" src="https://i-blog.csdnimg.cn/img_convert/be8f1ae0179c55a8d8b74aa8af019ade.png" width="119"/>
    </p>
    <p>
     <strong>
      输入：
     </strong>
     head = [1,2], pos = 0
     <br/>
     <strong>
      输出：
     </strong>
     返回索引为 0 的链表节点
     <br/>
     <strong>
      解释：
     </strong>
     链表中有一个环，其尾部连接到第一个节点。
    </p>
    <p>
     <strong>
      示例 3：
     </strong>
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="44" src="https://i-blog.csdnimg.cn/img_convert/6d46bf9a8256f4545291a6580e810f9b.png" width="44"/>
    </p>
    <p>
     <strong>
      输入：
     </strong>
     head = [1], pos = -1
     <br/>
     <strong>
      输出：
     </strong>
     返回 null
     <br/>
     <strong>
      解释：
     </strong>
     链表中没有环。
     <br/>
     <strong>
      提示：
     </strong>
    </p>
    <ul>
     <li>
      <p>
       链表中节点的数目范围在范围
       <code>
        [0, 104]
       </code>
       内
      </p>
     </li>
     <li>
      <p>
       <code>
        -105 &lt;= Node.val &lt;= 105
       </code>
      </p>
     </li>
     <li>
      <p>
       <code>
        pos
       </code>
       的值为
       <code>
        -1
       </code>
       或者链表中的一个有效索引
      </p>
     </li>
    </ul>
    <h2>
     黄金重点：快慢指针分析：
    </h2>
    <p class="img-center">
     <img alt="" height="262" src="https://i-blog.csdnimg.cn/direct/c720fd556e1740bab0cac991b169d042.jpeg" width="348"/>
    </p>
    <p>
     <span style="color:#511b78">
      慢指针一步走一个，快指针一步走两个，所以无论何时都有 慢指针走了k，快指针走了2k，快指针之所以能追上慢指针是因为它多走了一圈，所以一圈的长度就是2k-k=k；
     </span>
    </p>
    <p>
     <span style="color:#511b78">
      现在两个指针相遇了，再让随便一个指针回到起点，两个指针齐步走，按照一步一个的走，可以看到两个指针在 再次相遇时都走了k-m，也就都走到了成环的节点。
     </span>
    </p>
    <h2>
     代码实现：
    </h2>
    <pre><code class="language-cpp">struct ListNode* detectCycle(struct ListNode* head)
{
    struct ListNode *slow, *fast;
    slow = head;
    fast = head;
    
    // 🚶‍♂️快慢指针，寻找相遇点
    while (fast != NULL &amp;&amp; fast-&gt;next != NULL) {
        slow = slow-&gt;next;             // 慢指针每次走一步
        fast = fast-&gt;next-&gt;next;       // 快指针每次走两步
        if (slow == fast) {
            break;                     // 相遇，说明有环
        }
    }
    
    // ❌ 如果没有环，直接返回 NULL
    if (fast == NULL || fast-&gt;next == NULL) {
        return NULL;
    }
    
    // 🔁 将慢指针放回链表头，快指针保持在相遇点
    slow = head;
    while (slow != fast) {
        slow = slow-&gt;next;
        fast = fast-&gt;next;
    }
    
    // ✅ 返回入环的第一个节点
    return slow;
}
</code></pre>
    <h5>
     <strong>
      思路分析
     </strong>
    </h5>
    <p>
     本题是典型的“链表找环问题”，可以通过
     <strong>
      快慢指针法
     </strong>
     来解决。
    </p>
    <ul>
     <li>
      <strong>
       快指针
      </strong>
      ：每次移动两步
     </li>
     <li>
      <strong>
       慢指针
      </strong>
      ：每次移动一步
     </li>
    </ul>
    <ol>
     <li>
      <p>
       <strong>
        阶段1：检测是否有环
       </strong>
      </p>
      <ul>
       <li>
        如果快慢指针在遍历过程中相遇，说明链表存在环。
       </li>
       <li>
        如果快指针或快指针的下一个节点为空，说明链表无环。
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        阶段2：寻找环的起点
       </strong>
      </p>
      <ul>
       <li>
        让慢指针回到链表头，快指针保持在相遇的位置。
       </li>
       <li>
        慢指针和快指针同时以每次一步的速度前进。
       </li>
       <li>
        两个指针相遇的节点即为环的入口。
       </li>
      </ul>
     </li>
    </ol>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330315f37363332343834352f:61727469636c652f64657461696c732f313436323130363238" class_="artid" style="display:none">
 </p>
</div>


