---
layout: post
title: "Mermaid-子图-拖拽缩放让流程图支持无限细节展示"
date: 2025-03-13 17:18:52 +0800
description: "在技术文档、项目管理和可视化分析中，流程图是传递复杂逻辑的核心工具。传统流程图往往静态且难以适应细节展示，而 Mermaid 与 svg-pan-zoom 的结合，则为这一痛点提供了完美解决方案。本文将深入解析如何通过 Mermaid 的子图（subgraph）实现模块化分类，结合 svg-pan-zoom 的缩放拖拽能力，构建可交互的流程图系统。Mermaid 是一款基于文本的图表生成工具，通过简单的语法即可创建流程图、时序图、类图等。其最大亮点在于功能，允许开发者将节点按逻辑分组，形成层次化结构。"
keywords: "Mermaid 子图 + 拖拽缩放：让流程图支持无限细节展示"
categories: ['知识图谱']
tags: ['流程图', '开发语言', 'Swift']
artid: "146236934"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146236934
    alt: "Mermaid-子图-拖拽缩放让流程图支持无限细节展示"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146236934
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146236934
cover: https://bing.ee123.net/img/rand?artid=146236934
image: https://bing.ee123.net/img/rand?artid=146236934
img: https://bing.ee123.net/img/rand?artid=146236934
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Mermaid 子图 + 拖拽缩放：让流程图支持无限细节展示
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     在技术文档、项目管理和可视化分析中，流程图是传递复杂逻辑的核心工具。传统流程图往往静态且难以适应细节展示，而 Mermaid 与 svg-pan-zoom 的结合，则为这一痛点提供了完美解决方案。本文将深入解析如何通过 Mermaid 的子图（subgraph）实现模块化分类，结合 svg-pan-zoom 的缩放拖拽能力，构建可交互的流程图系统。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/73d99ab11043441991b950d23e3a4c39.png#pic_center"/>
    </p>
    <h4>
     <a id="_Mermaid__svgpanzoom_3">
     </a>
     <strong>
      一、为什么选择 Mermaid + svg-pan-zoom？
     </strong>
    </h4>
    <p>
     <strong>
      1. Mermaid 的核心优势
     </strong>
     <br/>
     Mermaid 是一款基于文本的图表生成工具，通过简单的语法即可创建流程图、时序图、类图等。其最大亮点在于
     <strong>
      子图（subgraph）
     </strong>
     功能，允许开发者将节点按逻辑分组，形成层次化结构。例如：
    </p>
    <div class="mermaid">
     <svg class="mermaid-svg" height="289.0098571777344" id="mermaid-svg-Q3eIQl1CatDtrvno" viewbox="0 0 133.00658416748047 289.0098571777344" width="133.00658416748047" xmlns="http://www.w3.org/2000/svg">
      <style>
       #mermaid-svg-Q3eIQl1CatDtrvno {font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-svg-Q3eIQl1CatDtrvno .error-icon{fill:#552222;}#mermaid-svg-Q3eIQl1CatDtrvno .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-Q3eIQl1CatDtrvno .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-Q3eIQl1CatDtrvno .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-Q3eIQl1CatDtrvno .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-Q3eIQl1CatDtrvno .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-Q3eIQl1CatDtrvno .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-Q3eIQl1CatDtrvno .marker{fill:#333333;stroke:#333333;}#mermaid-svg-Q3eIQl1CatDtrvno .marker.cross{stroke:#333333;}#mermaid-svg-Q3eIQl1CatDtrvno svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-Q3eIQl1CatDtrvno .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg-Q3eIQl1CatDtrvno .cluster-label text{fill:#333;}#mermaid-svg-Q3eIQl1CatDtrvno .cluster-label span{color:#333;}#mermaid-svg-Q3eIQl1CatDtrvno .label text,#mermaid-svg-Q3eIQl1CatDtrvno span{fill:#333;color:#333;}#mermaid-svg-Q3eIQl1CatDtrvno .node rect,#mermaid-svg-Q3eIQl1CatDtrvno .node circle,#mermaid-svg-Q3eIQl1CatDtrvno .node ellipse,#mermaid-svg-Q3eIQl1CatDtrvno .node polygon,#mermaid-svg-Q3eIQl1CatDtrvno .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg-Q3eIQl1CatDtrvno .node .label{text-align:center;}#mermaid-svg-Q3eIQl1CatDtrvno .node.clickable{cursor:pointer;}#mermaid-svg-Q3eIQl1CatDtrvno .arrowheadPath{fill:#333333;}#mermaid-svg-Q3eIQl1CatDtrvno .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg-Q3eIQl1CatDtrvno .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg-Q3eIQl1CatDtrvno .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-svg-Q3eIQl1CatDtrvno .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-svg-Q3eIQl1CatDtrvno .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg-Q3eIQl1CatDtrvno .cluster text{fill:#333;}#mermaid-svg-Q3eIQl1CatDtrvno .cluster span{color:#333;}#mermaid-svg-Q3eIQl1CatDtrvno div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-Q3eIQl1CatDtrvno :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}
      </style>
      <g transform="translate(0, 0)">
       <marker class="marker flowchart" id="flowchart-pointEnd" markerheight="12" markerunits="userSpaceOnUse" markerwidth="12" orient="auto" refx="9" refy="5" viewbox="0 0 10 10">
        <path class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z" style="stroke-width: 1; stroke-dasharray: 1, 0;">
        </path>
       </marker>
       <marker class="marker flowchart" id="flowchart-pointStart" markerheight="12" markerunits="userSpaceOnUse" markerwidth="12" orient="auto" refx="0" refy="5" viewbox="0 0 10 10">
        <path class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z" style="stroke-width: 1; stroke-dasharray: 1, 0;">
        </path>
       </marker>
       <marker class="marker flowchart" id="flowchart-circleEnd" markerheight="11" markerunits="userSpaceOnUse" markerwidth="11" orient="auto" refx="11" refy="5" viewbox="0 0 10 10">
        <circle class="arrowMarkerPath" cx="5" cy="5" r="5" style="stroke-width: 1; stroke-dasharray: 1, 0;">
        </circle>
       </marker>
       <marker class="marker flowchart" id="flowchart-circleStart" markerheight="11" markerunits="userSpaceOnUse" markerwidth="11" orient="auto" refx="-1" refy="5" viewbox="0 0 10 10">
        <circle class="arrowMarkerPath" cx="5" cy="5" r="5" style="stroke-width: 1; stroke-dasharray: 1, 0;">
        </circle>
       </marker>
       <marker class="marker cross flowchart" id="flowchart-crossEnd" markerheight="11" markerunits="userSpaceOnUse" markerwidth="11" orient="auto" refx="12" refy="5.2" viewbox="0 0 11 11">
        <path class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9" style="stroke-width: 2; stroke-dasharray: 1, 0;">
        </path>
       </marker>
       <marker class="marker cross flowchart" id="flowchart-crossStart" markerheight="11" markerunits="userSpaceOnUse" markerwidth="11" orient="auto" refx="-1" refy="5.2" viewbox="0 0 11 11">
        <path class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9" style="stroke-width: 2; stroke-dasharray: 1, 0;">
        </path>
       </marker>
       <g class="root">
        <g class="clusters">
        </g>
        <g class="edgePaths">
        </g>
        <g class="edgeLabels">
        </g>
        <g class="nodes">
         <g class="root" transform="translate(0.5, 0)">
          <g class="clusters">
           <g class="cluster default" id="开发阶段">
            <rect height="273.0098648071289" rx="0" ry="0" style="" width="117.0065803527832" x="8" y="8">
            </rect>
            <g class="cluster-label" transform="translate(34.4967098236084, 13)">
             <foreignobject height="26.0032901763916" width="64.0131607055664">
              <div style="display: inline-block; white-space: nowrap;">
               <span class="nodeLabel">
                开发阶段
               </span>
              </div>
             </foreignobject>
            </g>
           </g>
          </g>
          <g class="edgePaths">
           <path class="edge-thickness-normal edge-pattern-solid flowchart-link LS-A LE-B" d="M66.5032901763916,74.00328826904297L66.5032901763916,78.16995493570964C66.5032901763916,82.3366216023763,66.5032901763916,90.66995493570964,66.5032901763916,99.00328826904297C66.5032901763916,107.3366216023763,66.5032901763916,115.66995493570964,66.5032901763916,119.8366216023763L66.5032901763916,124.00328826904297" id="L-A-B-0" marker-end="url(#flowchart-pointEnd)" style="fill:none;">
           </path>
           <path class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-C" d="M66.5032901763916,165.00657653808594L66.5032901763916,169.1732432047526C66.5032901763916,173.33990987141928,66.5032901763916,181.6732432047526,66.5032901763916,190.00657653808594C66.5032901763916,198.33990987141928,66.5032901763916,206.6732432047526,66.5032901763916,210.83990987141928L66.5032901763916,215.00657653808594" id="L-B-C-0" marker-end="url(#flowchart-pointEnd)" style="fill:none;">
           </path>
          </g>
          <g class="edgeLabels">
           <g class="edgeLabel">
            <g class="label" transform="translate(0, 0)">
             <foreignobject height="0" width="0">
              <div style="display: inline-block; white-space: nowrap;">
               <span class="edgeLabel">
               </span>
              </div>
             </foreignobject>
            </g>
           </g>
           <g class="edgeLabel">
            <g class="label" transform="translate(0, 0)">
             <foreignobject height="0" width="0">
              <div style="display: inline-block; white-space: nowrap;">
               <span class="edgeLabel">
               </span>
              </div>
             </foreignobject>
            </g>
           </g>
          </g>
          <g class="nodes">
           <g class="node default default" id="flowchart-B-145" transform="translate(66.5032901763916, 144.50493240356445)">
            <rect class="basic label-container" height="41.0032901763916" rx="0" ry="0" style="" width="47.0065803527832" x="-23.5032901763916" y="-20.5016450881958">
            </rect>
            <g class="label" style="" transform="translate(-16.0032901763916, -13.0016450881958)">
             <foreignobject height="26.0032901763916" width="32.0065803527832">
              <div style="display: inline-block; white-space: nowrap;">
               <span class="nodeLabel">
                后端
               </span>
              </div>
             </foreignobject>
            </g>
           </g>
           <g class="node default default" id="flowchart-A-144" transform="translate(66.5032901763916, 53.501644134521484)">
            <rect class="basic label-container" height="41.0032901763916" rx="0" ry="0" style="" width="47.0065803527832" x="-23.5032901763916" y="-20.5016450881958">
            </rect>
            <g class="label" style="" transform="translate(-16.0032901763916, -13.0016450881958)">
             <foreignobject height="26.0032901763916" width="32.0065803527832">
              <div style="display: inline-block; white-space: nowrap;">
               <span class="nodeLabel">
                前端
               </span>
              </div>
             </foreignobject>
            </g>
           </g>
           <g class="node default default" id="flowchart-C-147" transform="translate(66.5032901763916, 235.50822067260742)">
            <rect class="basic label-container" height="41.0032901763916" rx="0" ry="0" style="" width="47.0065803527832" x="-23.5032901763916" y="-20.5016450881958">
            </rect>
            <g class="label" style="" transform="translate(-16.0032901763916, -13.0016450881958)">
             <foreignobject height="26.0032901763916" width="32.0065803527832">
              <div style="display: inline-block; white-space: nowrap;">
               <span class="nodeLabel">
                测试
               </span>
              </div>
             </foreignobject>
            </g>
           </g>
          </g>
         </g>
        </g>
       </g>
      </g>
     </svg>
    </div>
    <p>
     通过
     <code>
      subgraph
     </code>
     ，开发者可将复杂流程拆分为独立模块，提升图表的可读性和维护性。
    </p>
    <p>
     <strong>
      2. svg-pan-zoom 的交互增强
     </strong>
     <br/>
     svg-pan-zoom 是一款轻量级库，专门为 SVG 元素提供缩放和拖拽功能。它支持：
    </p>
    <ul>
     <li>
      <strong>
       无限缩放
      </strong>
      ：通过滚轮或按钮自由调整视图比例。
     </li>
     <li>
      <strong>
       平滑拖拽
      </strong>
      ：按住鼠标即可平移整个图表。
     </li>
     <li>
      <strong>
       中心点缩放
      </strong>
      ：缩放时保持当前焦点区域不变。
     </li>
     <li>
      <strong>
       移动端适配
      </strong>
      ：支持多指触控手势。
     </li>
    </ul>
    <p>
     两者结合后，流程图不仅能清晰分类，还能通过交互探索细节，完美应对复杂场景。
    </p>
    <h4>
     <a id="_25">
     </a>
     <strong>
      二、核心功能详解
     </strong>
    </h4>
    <h5>
     <a id="1_subgraph_26">
     </a>
     <strong>
      1. 子图（subgraph）的模块化设计
     </strong>
    </h5>
    <ul>
     <li>
      <strong>
       分类展示
      </strong>
      ：将流程图划分为多个子图（如“需求分析”“开发”“测试”），每个子图独立成块，逻辑更清晰。
     </li>
     <li>
      <strong>
       嵌套支持
      </strong>
      ：子图可嵌套多层，实现深度层次化展示。例如：
      <div class="mermaid">
       <svg class="mermaid-svg" height="177.0032958984375" id="mermaid-svg-wuohWAxI77geYeFn" viewbox="0 0 524.0263671875 177.0032958984375" width="524.0263671875" xmlns="http://www.w3.org/2000/svg">
        <style>
         #mermaid-svg-wuohWAxI77geYeFn {font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-svg-wuohWAxI77geYeFn .error-icon{fill:#552222;}#mermaid-svg-wuohWAxI77geYeFn .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-wuohWAxI77geYeFn .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-wuohWAxI77geYeFn .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-wuohWAxI77geYeFn .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-wuohWAxI77geYeFn .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-wuohWAxI77geYeFn .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-wuohWAxI77geYeFn .marker{fill:#333333;stroke:#333333;}#mermaid-svg-wuohWAxI77geYeFn .marker.cross{stroke:#333333;}#mermaid-svg-wuohWAxI77geYeFn svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-wuohWAxI77geYeFn .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg-wuohWAxI77geYeFn .cluster-label text{fill:#333;}#mermaid-svg-wuohWAxI77geYeFn .cluster-label span{color:#333;}#mermaid-svg-wuohWAxI77geYeFn .label text,#mermaid-svg-wuohWAxI77geYeFn span{fill:#333;color:#333;}#mermaid-svg-wuohWAxI77geYeFn .node rect,#mermaid-svg-wuohWAxI77geYeFn .node circle,#mermaid-svg-wuohWAxI77geYeFn .node ellipse,#mermaid-svg-wuohWAxI77geYeFn .node polygon,#mermaid-svg-wuohWAxI77geYeFn .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg-wuohWAxI77geYeFn .node .label{text-align:center;}#mermaid-svg-wuohWAxI77geYeFn .node.clickable{cursor:pointer;}#mermaid-svg-wuohWAxI77geYeFn .arrowheadPath{fill:#333333;}#mermaid-svg-wuohWAxI77geYeFn .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg-wuohWAxI77geYeFn .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg-wuohWAxI77geYeFn .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-svg-wuohWAxI77geYeFn .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-svg-wuohWAxI77geYeFn .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg-wuohWAxI77geYeFn .cluster text{fill:#333;}#mermaid-svg-wuohWAxI77geYeFn .cluster span{color:#333;}#mermaid-svg-wuohWAxI77geYeFn div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-wuohWAxI77geYeFn :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}
        </style>
        <g transform="translate(0, 0)">
         <marker class="marker flowchart" id="flowchart-pointEnd" markerheight="12" markerunits="userSpaceOnUse" markerwidth="12" orient="auto" refx="9" refy="5" viewbox="0 0 10 10">
          <path class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z" style="stroke-width: 1; stroke-dasharray: 1, 0;">
          </path>
         </marker>
         <marker class="marker flowchart" id="flowchart-pointStart" markerheight="12" markerunits="userSpaceOnUse" markerwidth="12" orient="auto" refx="0" refy="5" viewbox="0 0 10 10">
          <path class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z" style="stroke-width: 1; stroke-dasharray: 1, 0;">
          </path>
         </marker>
         <marker class="marker flowchart" id="flowchart-circleEnd" markerheight="11" markerunits="userSpaceOnUse" markerwidth="11" orient="auto" refx="11" refy="5" viewbox="0 0 10 10">
          <circle class="arrowMarkerPath" cx="5" cy="5" r="5" style="stroke-width: 1; stroke-dasharray: 1, 0;">
          </circle>
         </marker>
         <marker class="marker flowchart" id="flowchart-circleStart" markerheight="11" markerunits="userSpaceOnUse" markerwidth="11" orient="auto" refx="-1" refy="5" viewbox="0 0 10 10">
          <circle class="arrowMarkerPath" cx="5" cy="5" r="5" style="stroke-width: 1; stroke-dasharray: 1, 0;">
          </circle>
         </marker>
         <marker class="marker cross flowchart" id="flowchart-crossEnd" markerheight="11" markerunits="userSpaceOnUse" markerwidth="11" orient="auto" refx="12" refy="5.2" viewbox="0 0 11 11">
          <path class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9" style="stroke-width: 2; stroke-dasharray: 1, 0;">
          </path>
         </marker>
         <marker class="marker cross flowchart" id="flowchart-crossStart" markerheight="11" markerunits="userSpaceOnUse" markerwidth="11" orient="auto" refx="-1" refy="5.2" viewbox="0 0 11 11">
          <path class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9" style="stroke-width: 2; stroke-dasharray: 1, 0;">
          </path>
         </marker>
         <g class="root">
          <g class="clusters">
          </g>
          <g class="edgePaths">
          </g>
          <g class="edgeLabels">
          </g>
          <g class="nodes">
           <g class="root" transform="translate(0.5, 0)">
            <g class="clusters">
             <g class="cluster default" id="项目管理">
              <rect height="161.00328826904297" rx="0" ry="0" style="" width="508.02630615234375" x="8" y="8">
              </rect>
              <g class="cluster-label" transform="translate(230.00657272338867, 13)">
               <foreignobject height="26.0032901763916" width="64.0131607055664">
                <div style="display: inline-block; white-space: nowrap;">
                 <span class="nodeLabel">
                  项目管理
                 </span>
                </div>
               </foreignobject>
              </g>
             </g>
            </g>
            <g class="edgePaths">
            </g>
            <g class="edgeLabels">
            </g>
            <g class="nodes">
             <g class="root" transform="translate(35.5, 25)">
              <g class="clusters">
               <g class="cluster default" id="阶段1">
                <rect height="111.00328826904297" rx="0" ry="0" style="" width="194.0131607055664" x="8" y="8">
                </rect>
                <g class="cluster-label" transform="translate(84.80921173095703, 13)">
                 <foreignobject height="26.0032901763916" width="40.394737243652344">
                  <div style="display: inline-block; white-space: nowrap;">
                   <span class="nodeLabel">
                    阶段1
                   </span>
                  </div>
                 </foreignobject>
                </g>
               </g>
              </g>
              <g class="edgePaths">
               <path class="edge-thickness-normal edge-pattern-solid flowchart-link LS-A LE-B" d="M80.0065803527832,63.501644134521484L84.17324701944987,63.501644134521484C88.33991368611653,63.501644134521484,96.67324701944987,63.501644134521484,105.0065803527832,63.501644134521484C113.33991368611653,63.501644134521484,121.67324701944987,63.501644134521484,125.83991368611653,63.501644134521484L130.0065803527832,63.501644134521484" id="L-A-B-0" marker-end="url(#flowchart-pointEnd)" style="fill:none;">
               </path>
              </g>
              <g class="edgeLabels">
               <g class="edgeLabel">
                <g class="label" transform="translate(0, 0)">
                 <foreignobject height="0" width="0">
                  <div style="display: inline-block; white-space: nowrap;">
                   <span class="edgeLabel">
                   </span>
                  </div>
                 </foreignobject>
                </g>
               </g>
              </g>
              <g class="nodes">
               <g class="node default default" id="flowchart-B-154" transform="translate(153.5098705291748, 63.501644134521484)">
                <rect class="basic label-container" height="41.0032901763916" rx="0" ry="0" style="" width="47.0065803527832" x="-23.5032901763916" y="-20.5016450881958">
                </rect>
                <g class="label" style="" transform="translate(-16.0032901763916, -13.0016450881958)">
                 <foreignobject height="26.0032901763916" width="32.0065803527832">
                  <div style="display: inline-block; white-space: nowrap;">
                   <span class="nodeLabel">
                    设计
                   </span>
                  </div>
                 </foreignobject>
                </g>
               </g>
               <g class="node default default" id="flowchart-A-153" transform="translate(56.5032901763916, 63.501644134521484)">
                <rect class="basic label-container" height="41.0032901763916" rx="0" ry="0" style="" width="47.0065803527832" x="-23.5032901763916" y="-20.5016450881958">
                </rect>
                <g class="label" style="" transform="translate(-16.0032901763916, -13.0016450881958)">
                 <foreignobject height="26.0032901763916" width="32.0065803527832">
                  <div style="display: inline-block; white-space: nowrap;">
                   <span class="nodeLabel">
                    需求
                   </span>
                  </div>
                 </foreignobject>
                </g>
               </g>
              </g>
             </g>
             <g class="root" transform="translate(279.5131530761719, 25)">
              <g class="clusters">
               <g class="cluster default" id="阶段2">
                <rect height="111.00328826904297" rx="0" ry="0" style="" width="194.0131607055664" x="8" y="8">
                </rect>
                <g class="cluster-label" transform="translate(84.80921173095703, 13)">
                 <foreignobject height="26.0032901763916" width="40.394737243652344">
                  <div style="display: inline-block; white-space: nowrap;">
                   <span class="nodeLabel">
                    阶段2
                   </span>
                  </div>
                 </foreignobject>
                </g>
               </g>
              </g>
              <g class="edgePaths">
               <path class="edge-thickness-normal edge-pattern-solid flowchart-link LS-C LE-D" d="M80.0065803527832,63.501644134521484L84.17324701944987,63.501644134521484C88.33991368611653,63.501644134521484,96.67324701944987,63.501644134521484,105.0065803527832,63.501644134521484C113.33991368611653,63.501644134521484,121.67324701944987,63.501644134521484,125.83991368611653,63.501644134521484L130.0065803527832,63.501644134521484" id="L-C-D-0" marker-end="url(#flowchart-pointEnd)" style="fill:none;">
               </path>
              </g>
              <g class="edgeLabels">
               <g class="edgeLabel">
                <g class="label" transform="translate(0, 0)">
                 <foreignobject height="0" width="0">
                  <div style="display: inline-block; white-space: nowrap;">
                   <span class="edgeLabel">
                   </span>
                  </div>
                 </foreignobject>
                </g>
               </g>
              </g>
              <g class="nodes">
               <g class="node default default" id="flowchart-D-156" transform="translate(153.5098705291748, 63.501644134521484)">
                <rect class="basic label-container" height="41.0032901763916" rx="0" ry="0" style="" width="47.0065803527832" x="-23.5032901763916" y="-20.5016450881958">
                </rect>
                <g class="label" style="" transform="translate(-16.0032901763916, -13.0016450881958)">
                 <foreignobject height="26.0032901763916" width="32.0065803527832">
                  <div style="display: inline-block; white-space: nowrap;">
                   <span class="nodeLabel">
                    测试
                   </span>
                  </div>
                 </foreignobject>
                </g>
               </g>
               <g class="node default default" id="flowchart-C-155" transform="translate(56.5032901763916, 63.501644134521484)">
                <rect class="basic label-container" height="41.0032901763916" rx="0" ry="0" style="" width="47.0065803527832" x="-23.5032901763916" y="-20.5016450881958">
                </rect>
                <g class="label" style="" transform="translate(-16.0032901763916, -13.0016450881958)">
                 <foreignobject height="26.0032901763916" width="32.0065803527832">
                  <div style="display: inline-block; white-space: nowrap;">
                   <span class="nodeLabel">
                    开发
                   </span>
                  </div>
                 </foreignobject>
                </g>
               </g>
              </g>
             </g>
            </g>
           </g>
          </g>
         </g>
        </g>
       </svg>
      </div>
     </li>
     <li>
      <strong>
       样式定制
      </strong>
      ：通过
      <code>
       classDef
      </code>
      为不同子图设置专属样式（颜色、边框等），强化视觉区分。
     </li>
    </ul>
    <h5>
     <a id="2__42">
     </a>
     <strong>
      2. 动态缩放与拖拽
     </strong>
    </h5>
    <ul>
     <li>
      <strong>
       无限细节探索
      </strong>
      ：通过缩放功能，用户可聚焦子图内的微小节点，查看完整文本或复杂连线。
     </li>
     <li>
      <strong>
       全局与局部切换
      </strong>
      ：拖拽功能支持快速移动视图，在全局概览与局部细节间无缝切换。
     </li>
     <li>
      <strong>
       平滑交互体验
      </strong>
      ：svg-pan-zoom 采用硬件加速渲染，确保缩放拖拽过程流畅无卡顿。
     </li>
    </ul>
    <h5>
     <a id="3__47">
     </a>
     <strong>
      3. 响应式布局
     </strong>
    </h5>
    <ul>
     <li>
      <strong>
       容器适配
      </strong>
      ：流程图会自动适应容器大小，避免横向滚动条。
     </li>
     <li>
      <strong>
       移动端优化
      </strong>
      ：通过手势缩放拖拽，支持手机和平板设备的交互需求。
     </li>
    </ul>
    <h4>
     <a id="_52">
     </a>
     <strong>
      三、应用场景
     </strong>
    </h4>
    <h5>
     <a id="1__53">
     </a>
     <strong>
      1. 技术文档与架构设计
     </strong>
    </h5>
    <ul>
     <li>
      <strong>
       微服务架构图
      </strong>
      ：用子图划分服务模块，缩放查看接口细节。
     </li>
     <li>
      <strong>
       部署流程图
      </strong>
      ：展示多阶段部署步骤，拖拽探索每个节点的配置参数。
     </li>
    </ul>
    <h5>
     <a id="2__57">
     </a>
     <strong>
      2. 项目管理与进度跟踪
     </strong>
    </h5>
    <ul>
     <li>
      <strong>
       甘特图扩展
      </strong>
      ：结合子图分类任务，缩放查看关键路径和依赖关系。
     </li>
     <li>
      <strong>
       风险分析图
      </strong>
      ：用子图隔离风险模块，交互探索影响范围。
     </li>
    </ul>
    <h5>
     <a id="3__61">
     </a>
     <strong>
      3. 教育与培训
     </strong>
    </h5>
    <ul>
     <li>
      <strong>
       教学流程图
      </strong>
      ：通过子图分步展示算法逻辑，拖拽缩放辅助理解。
     </li>
     <li>
      <strong>
       实验流程图
      </strong>
      ：动态查看实验步骤中的参数变化。
     </li>
    </ul>
    <h4>
     <a id="_66">
     </a>
     <strong>
      四、最佳实践
     </strong>
    </h4>
    <h5>
     <a id="1__67">
     </a>
     <strong>
      1. 代码规范
     </strong>
    </h5>
    <ul>
     <li>
      <strong>
       子图命名
      </strong>
      ：为每个子图添加描述性标题，如
      <code>
       subgraph 数据库设计
      </code>
      。
     </li>
     <li>
      <strong>
       节点命名
      </strong>
      ：使用清晰的 ID（如
      <code>
       DB_Connection
      </code>
      ），便于后续脚本操作。
     </li>
    </ul>
    <h5>
     <a id="2__71">
     </a>
     <strong>
      2. 样式统一
     </strong>
    </h5>
    <ul>
     <li>
      <strong>
       颜色方案
      </strong>
      ：为不同子图分配固定颜色（如开发阶段用蓝色，测试用绿色）。
     </li>
     <li>
      <strong>
       字体与图标
      </strong>
      ：统一节点字体大小，使用 Font Awesome 图标增强可读性。
     </li>
    </ul>
    <h5>
     <a id="3__75">
     </a>
     <strong>
      3. 性能优化
     </strong>
    </h5>
    <ul>
     <li>
      <strong>
       简化图表复杂度
      </strong>
      ：避免过度嵌套子图，保持每个子图的轻量性。
     </li>
     <li>
      <strong>
       懒加载策略
      </strong>
      ：对复杂图表分块加载，提升初始渲染速度。
     </li>
    </ul>
    <h5>
     <a id="4__79">
     </a>
     <strong>
      4. 移动端适配
     </strong>
    </h5>
    <ul>
     <li>
      <strong>
       手势支持
      </strong>
      ：通过
      <code>
       svg-pan-zoom
      </code>
      的
      <code>
       mouseWheelZoomEnabled
      </code>
      选项禁用滚轮缩放，强制使用手势。
     </li>
     <li>
      <strong>
       触摸区域优化
      </strong>
      ：适当放大节点点击区域，避免移动端误操作。
     </li>
    </ul>
    <h4>
     <a id="_85">
     </a>
     五、项目代码
    </h4>
    <p>
     可以自由缩放，拖拉等功能
     <br/>
     <img alt="" src="https://i-blog.csdnimg.cn/direct/fc8b3469bfaf43ee9c26990bf87d49c5.png"/>
    </p>
    <pre><code class="prism language-vue">&lt;template&gt;
  &lt;div class="mermaid-wrapper"&gt;
    &lt;header class="mermaid-header"&gt;
      &lt;button @click="zoomIn"&gt;放大&lt;/button&gt;
      &lt;button @click="zoomOut"&gt;缩小&lt;/button&gt;
    &lt;/header&gt;
    &lt;div class="mermaid-container" ref="containerRef"&gt;
      &lt;pre class="mermaid" ref="mermaidRef"&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, onMounted, nextTick } from 'vue';
import mermaid from 'mermaid';
import svgPanZoom from 'svg-pan-zoom';

const mermaidRef = ref(null);
const containerRef = ref(null);
let panZoomInstance = null;

const mermaidCode = `
flowchart LR
    classDef process fill:#E5F6FF,stroke:#73A6FF,stroke-width:2px;

    subgraph 前期准备
    A(需求分析):::process --&gt; B(设计方案):::process
    end

    subgraph 开发阶段
    B --&gt; C(前端开发):::process
    B --&gt; D(后端开发):::process
    C --&gt; E(集成测试):::process
    D --&gt; E
    end

    subgraph 上线阶段
    E --&gt; F(上线部署):::process
    F --&gt; G(用户反馈):::process
    end
`;

const zoomIn = () =&gt; {
  if (panZoomInstance) {
    panZoomInstance.zoomIn();
  }
};

const zoomOut = () =&gt; {
  if (panZoomInstance) {
    panZoomInstance.zoomOut();
  }
};

onMounted(async () =&gt; {
  mermaid.initialize({
    startOnLoad: false,
    securityLevel: 'loose',
    flowchart: {
      htmlLabels: true,
      useMaxWidth: false
    }
  });

  await nextTick();

  if (mermaidRef.value) {
    mermaidRef.value.textContent = mermaidCode;
  }

  await mermaid.run({
    querySelector: '.mermaid',
  });

  await new Promise(resolve =&gt; setTimeout(resolve, 200));

  const svgElement = mermaidRef.value.querySelector('svg');
  if (svgElement) {
    panZoomInstance = svgPanZoom(svgElement, {
      zoomEnabled: true,
      controlIconsEnabled: false,
      fit: true,
      center: true
    });

    // 设置默认缩放比例为 50%
    panZoomInstance.zoom(0.7);
  }
});
&lt;/script&gt;

&lt;style scoped&gt;
.mermaid-wrapper {
  display: flex;
  flex-direction: column;
  height: 100vh;
}

.mermaid-header {
  background-color: #e0e0e0; /* 设置 header 的背景颜色 */
  padding: 10px;
  display: flex;
  gap: 10px;
}

.mermaid-container {
  flex: 1;
  position: relative;
  background-color: #f9f9f9; /* 设置内容区域的背景颜色 */
  overflow: auto; /* 当内容超出容器时显示滚动条 */
}

pre.mermaid {
  margin: 0;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
&lt;/style&gt;
</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="6874747073:3a2f2f626c6f672e6373646e2e6e65742f796c6f6e6735322f:61727469636c652f64657461696c732f313436323336393334" class_="artid" style="display:none">
 </p>
</div>


