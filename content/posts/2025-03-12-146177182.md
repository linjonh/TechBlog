---
layout: post
title: "çˆ¬è™«çš„ç²¾å‡†è¯†åˆ«åŸºäº-User-Agent-çš„æ­£åˆ™å®ç°"
date: 2025-03-12 00:15:00 +0800
description: "æƒ³è±¡ä¸€ä¸ªå…¸å‹çš„åœ¨çº¿å®¢æœåœºæ™¯ï¼šç”¨æˆ·è®¿é—®ç½‘ç«™åï¼Œé€šè¿‡ WebSocket ä¸å®¢æœå®æ—¶æ²Ÿé€šã€‚ç„¶è€Œï¼Œå¤§é‡çˆ¬è™«ï¼ˆå¦‚æœç´¢å¼•æ“ç´¢å¼•ã€SEO å·¥å…·ã€æ¶æ„æ‰«æç¨‹åºï¼‰çš„è¯·æ±‚ä¹Ÿä¼šè§¦å‘ WebSocket è¿æ¥ã€‚è¿™äº›çˆ¬è™«ä¸ä¼šä¸»åŠ¨å‘é€æ¶ˆæ¯ï¼Œå´ä¼šé•¿æœŸå ç”¨è¿æ¥èµ„æºã€‚å®¢æœäººå‘˜çœ‹åˆ°â€œåœ¨çº¿ç”¨æˆ·â€åˆ—è¡¨ä¸­çš„çˆ¬è™«ä¼šè¯ï¼Œå°è¯•å¯¹è¯å´å¾—ä¸åˆ°ä»»ä½•å›åº”ï¼Œæœ€ç»ˆå¯¼è‡´ï¼š    èµ„æºæµªè´¹ï¼šæœåŠ¡å™¨å¸¦å®½ã€è¿æ¥æ•°è¢«æ— æ•ˆå ç”¨ã€‚    æ•ˆç‡ä¸‹é™ï¼šå®¢æœéœ€è¦æ‰‹åŠ¨æ’æŸ¥â€œæ²‰é»˜ç”¨æˆ·â€ï¼Œå¢åŠ å·¥ä½œè´Ÿæ‹…ã€‚    æ•°æ®æ±¡æŸ“ï¼šç»Ÿè®¡æŠ¥è¡¨ä¸­çš„â€œç”¨æˆ·æ´»è·ƒæ•°â€è¢«è™šå‡æµé‡æ±¡æŸ“ã€‚"
keywords: "çˆ¬è™«çš„ç²¾å‡†è¯†åˆ«ï¼šåŸºäº User-Agent çš„æ­£åˆ™å®ç°"
categories: ['Java']
tags: ['çˆ¬è™«', 'æ­£åˆ™è¡¨è¾¾å¼', 'Javascript', 'Java']
artid: "146177182"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146177182
    alt: "çˆ¬è™«çš„ç²¾å‡†è¯†åˆ«åŸºäº-User-Agent-çš„æ­£åˆ™å®ç°"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146177182
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146177182
cover: https://bing.ee123.net/img/rand?artid=146177182
image: https://bing.ee123.net/img/rand?artid=146177182
img: https://bing.ee123.net/img/rand?artid=146177182
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     çˆ¬è™«çš„ç²¾å‡†è¯†åˆ«ï¼šåŸºäº User-Agent çš„æ­£åˆ™å®ç°
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-tomorrow-night-eighties" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <blockquote>
     <p>
      ğŸ§‘ åšä¸»ç®€ä»‹ï¼š
      <strong>
       CSDNåšå®¢ä¸“å®¶
      </strong>
      ï¼Œ
      <strong>
       å†ä»£æ–‡å­¦ç½‘
      </strong>
      ï¼ˆPCç«¯å¯ä»¥è®¿é—®ï¼š
      <a href="https://literature.sinhy.com/#/?__c=1000" rel="nofollow">
       https://literature.sinhy.com/#/?__c=1000
      </a>
      ï¼Œç§»åŠ¨ç«¯å¯å¾®ä¿¡å°ç¨‹åºæœç´¢â€œ
      <strong>
       å†ä»£æ–‡å­¦
      </strong>
      â€ï¼‰æ€»æ¶æ„å¸ˆï¼Œ
      <code>
       15å¹´
      </code>
      å·¥ä½œç»éªŒï¼Œç²¾é€š
      <code>
       Javaç¼–ç¨‹
      </code>
      ï¼Œ
      <code>
       é«˜å¹¶å‘è®¾è®¡
      </code>
      ï¼Œ
      <code>
       Springbootå’Œå¾®æœåŠ¡
      </code>
      ï¼Œç†Ÿæ‚‰
      <code>
       Linux
      </code>
      ï¼Œ
      <code>
       ESXIè™šæ‹ŸåŒ–
      </code>
      ä»¥åŠ
      <code>
       äº‘åŸç”ŸDockerå’ŒK8s
      </code>
      ï¼Œçƒ­è¡·äºæ¢ç´¢ç§‘æŠ€çš„è¾¹ç•Œï¼Œå¹¶å°†ç†è®ºçŸ¥è¯†è½¬åŒ–ä¸ºå®é™…åº”ç”¨ã€‚ä¿æŒå¯¹æ–°æŠ€æœ¯çš„å¥½å¥‡å¿ƒï¼Œä¹äºåˆ†äº«æ‰€å­¦ï¼Œå¸Œæœ›é€šè¿‡æˆ‘çš„å®è·µç»å†å’Œè§è§£ï¼Œå¯å‘ä»–äººçš„åˆ›æ–°æ€ç»´ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘å¸Œæœ›èƒ½ä¸å¿—åŒé“åˆçš„æœ‹å‹äº¤æµæ¢è®¨ï¼Œå…±åŒè¿›æ­¥ï¼Œä¸€èµ·åœ¨æŠ€æœ¯çš„ä¸–ç•Œé‡Œä¸æ–­å­¦ä¹ æˆé•¿ã€‚
      <br/>
      <strong>
       æŠ€æœ¯åˆä½œ
      </strong>
      è¯·åŠ æœ¬äººwxï¼ˆ
      <em>
       æ³¨æ˜æ¥è‡ªcsdn
      </em>
      ï¼‰ï¼š
      <code>
       foreast_sea
      </code>
     </p>
    </blockquote>
    <p>
     <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://i-blog.csdnimg.cn/direct/11968bb92b404ca7bd9fdfe004b640b1.gif#pic_center">
      <br/>
      ------
      <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://i-blog.csdnimg.cn/direct/8bf91bdcd6f4415ab296f7252553e592.png"/>
     </img>
    </p>
    <h2>
     <a id="_UserAgent__6">
     </a>
     çˆ¬è™«çš„ç²¾å‡†è¯†åˆ«ï¼šåŸºäº User-Agent çš„æ­£åˆ™å®ç°
    </h2>
    <hr/>
    <h3>
     <a id="_9">
     </a>
     å¼•è¨€
    </h3>
    <p>
     åœ¨å½“ä»Šå®æ—¶äº¤äº’åœºæ™¯ä¸­ï¼ŒWebSocket æŠ€æœ¯å·²æˆä¸ºåœ¨çº¿å®¢æœã€å³æ—¶é€šè®¯ã€å®æ—¶æ•°æ®æ¨é€ç­‰æœåŠ¡çš„æ ¸å¿ƒæ”¯æŸ±ã€‚ç„¶è€Œï¼Œä¸€ä¸ªçœ‹ä¼¼ç®€å•çš„æŠ€æœ¯ç»†èŠ‚å´å¯èƒ½è®©ä¼ä¸šä»˜å‡ºé«˜æ˜‚çš„ä»£ä»·ï¼š
     <strong>
      å½“çˆ¬è™«æœºå™¨äººä¼ªè£…æˆâ€œç”¨æˆ·â€æ¥å…¥ WebSocket æ—¶ï¼Œå®¢æœç³»ç»Ÿå¯èƒ½è¯¯å°†å…¶è¯†åˆ«ä¸ºçœŸå®å®¢æˆ·ï¼Œå¯¼è‡´å®¢æœèµ„æºè¢«æ— æ„ä¹‰æ¶ˆè€—ï¼Œç”šè‡³å› â€œæ— å“åº”å¯¹è¯â€è€Œå½±å“ç”¨æˆ·ä½“éªŒ
     </strong>
     ã€‚
    </p>
    <h4>
     <a id="_12">
     </a>
     <strong>
      åœºæ™¯ç—›ç‚¹ï¼šå½“æŠ€æœ¯ä¾¿åˆ©é­é‡â€œæ— æ•ˆæµé‡â€
     </strong>
    </h4>
    <p>
     æƒ³è±¡ä¸€ä¸ªå…¸å‹çš„åœ¨çº¿å®¢æœåœºæ™¯ï¼šç”¨æˆ·è®¿é—®ç½‘ç«™åï¼Œé€šè¿‡
     <code>
      WebSocket
     </code>
     ä¸å®¢æœå®æ—¶æ²Ÿé€šã€‚ç„¶è€Œï¼Œå¤§é‡çˆ¬è™«ï¼ˆå¦‚æœç´¢å¼•æ“ç´¢å¼•ã€
     <code>
      SEO
     </code>
     å·¥å…·ã€æ¶æ„æ‰«æç¨‹åºï¼‰çš„è¯·æ±‚ä¹Ÿä¼šè§¦å‘
     <code>
      WebSocket
     </code>
     è¿æ¥ã€‚è¿™äº›çˆ¬è™«ä¸ä¼šä¸»åŠ¨å‘é€æ¶ˆæ¯ï¼Œå´ä¼šé•¿æœŸå ç”¨è¿æ¥èµ„æºã€‚å®¢æœäººå‘˜çœ‹åˆ°â€œåœ¨çº¿ç”¨æˆ·â€åˆ—è¡¨ä¸­çš„çˆ¬è™«ä¼šè¯ï¼Œå°è¯•å¯¹è¯å´å¾—ä¸åˆ°ä»»ä½•å›åº”ï¼Œæœ€ç»ˆå¯¼è‡´ï¼š
    </p>
    <ol>
     <li>
      <strong>
       èµ„æºæµªè´¹
      </strong>
      ï¼šæœåŠ¡å™¨å¸¦å®½ã€è¿æ¥æ•°è¢«æ— æ•ˆå ç”¨ã€‚
     </li>
     <li>
      <strong>
       æ•ˆç‡ä¸‹é™
      </strong>
      ï¼šå®¢æœéœ€è¦æ‰‹åŠ¨æ’æŸ¥â€œæ²‰é»˜ç”¨æˆ·â€ï¼Œå¢åŠ å·¥ä½œè´Ÿæ‹…ã€‚
     </li>
     <li>
      <strong>
       æ•°æ®æ±¡æŸ“
      </strong>
      ï¼šç»Ÿè®¡æŠ¥è¡¨ä¸­çš„â€œç”¨æˆ·æ´»è·ƒæ•°â€è¢«è™šå‡æµé‡æ±¡æŸ“ã€‚
     </li>
    </ol>
    <p>
     æ›´ç³Ÿç³•çš„æ˜¯ï¼Œéƒ¨åˆ†æ”»å‡»è€…ä¼šåˆ©ç”¨
     <code>
      WebSocket
     </code>
     çš„é•¿è¿æ¥ç‰¹æ€§ï¼Œå‘èµ·é«˜é¢‘è¯·æ±‚æˆ–æ³¨å…¥æ”»å‡»ï¼Œè¿›ä¸€æ­¥å¨èƒç³»ç»Ÿå®‰å…¨ã€‚
    </p>
    <h4>
     <a id="_20">
     </a>
     <strong>
      ä¼ ç»Ÿæ–¹æ¡ˆçš„å±€é™æ€§
     </strong>
    </h4>
    <p>
     è®¸å¤šå¼€å‘è€…è¯•å›¾é€šè¿‡ç®€å•çš„
     <strong>
      IP å°ç¦
     </strong>
     æˆ–
     <strong>
      è¯·æ±‚é¢‘ç‡é™åˆ¶
     </strong>
     è§£å†³é—®é¢˜ï¼Œä½†çˆ¬è™«çš„ IP æ± å’Œè®¿é—®ç­–ç•¥æ—¥ç›ŠåŠ¨æ€åŒ–ï¼Œä¼ ç»Ÿæ–¹æ¡ˆå¾€å¾€åŠ›ä¸ä»å¿ƒã€‚è€Œç›´æ¥ä¾èµ–
     <strong>
      User-Agent å­—ç¬¦ä¸²è¿‡æ»¤
     </strong>
     çœ‹ä¼¼ç›´æ¥ï¼Œå´å¸¸å› æ­£åˆ™è¡¨è¾¾å¼è®¾è®¡ä¸å½“ï¼ˆå¦‚æ¼åˆ¤æ–°çˆ¬è™«ã€è¯¯ä¼¤æ­£å¸¸ç”¨æˆ·ï¼‰å¯¼è‡´æ•ˆæœå¤§æ‰“æŠ˜æ‰£ã€‚
    </p>
    <h4>
     <a id="_23">
     </a>
     <strong>
      æœ¬æ–‡ç›®æ ‡
     </strong>
    </h4>
    <p>
     æœ¬æ–‡å°†èšç„¦
     <strong>
      â€œå¦‚ä½•åœ¨ WebSocket æ¡æ‰‹é˜¶æ®µç²¾å‡†è¯†åˆ«çˆ¬è™«â€
     </strong>
     ï¼Œé€šè¿‡ä»¥ä¸‹å®è·µæ–¹æ¡ˆå®ç°é«˜æ•ˆæ‹¦æˆªï¼š
    </p>
    <ol>
     <li>
      <strong>
       å¤šç»´åº¦ User-Agent æ£€æµ‹
      </strong>
      ï¼šåŸºäºæ­£åˆ™è¡¨è¾¾å¼è¦†ç›– 95% çš„å·²çŸ¥çˆ¬è™«æ ‡è¯†ï¼Œç¡®ä¿å…³é”®è¯ç²¾å‡†åŒ¹é…ã€‚
     </li>
     <li>
      <strong>
       è½»é‡åŒ–æµè§ˆå™¨ç«¯æ‹¦æˆª
      </strong>
      ï¼šæä¾› JavaScript æ­£åˆ™æ–¹æ¡ˆï¼Œé¿å…çˆ¬è™«è§¦å‘å‰ç«¯èµ„æºåŠ è½½ã€‚
     </li>
     <li>
      <strong>
       æœåŠ¡ç«¯å…œåº•é€»è¾‘
      </strong>
      ï¼šç»“åˆ IP é»‘åå•ä¸è¡Œä¸ºåˆ†æï¼Œåº”å¯¹ä¼ªé€  User-Agent çš„é«˜çº§çˆ¬è™«ã€‚
     </li>
    </ol>
    <p>
     æ–‡ç« å°†æ·±å…¥è§£ææ­£åˆ™è¡¨è¾¾å¼è®¾è®¡æŠ€å·§ã€è·¨è¯­è¨€ï¼ˆJava/JavaScriptï¼‰å®ç°æ–¹æ¡ˆï¼Œå¹¶æ¢è®¨å¦‚ä½•åœ¨å¼€æºæ•°æ®é›†ï¼ˆå¦‚
     <a href="https://github.com/monperrus/crawler-user-agents">
      crawler-user-agents
     </a>
     ï¼‰åŸºç¡€ä¸ŠåŠ¨æ€æ›´æ–°ç­–ç•¥ã€‚æ— è®ºæ‚¨æ˜¯æ„å»ºå®¢æœç³»ç»Ÿçš„å¼€å‘è€…ï¼Œè¿˜æ˜¯éœ€ä¼˜åŒ–å®æ—¶æœåŠ¡æ€§èƒ½çš„æ¶æ„å¸ˆï¼Œå‡å¯é€šè¿‡æœ¬æ–‡è·å¾—å¯ç›´æ¥å¤ç”¨çš„ä»£ç ä¸å®è·µç»éªŒã€‚
    </p>
    <hr/>
    <p>
     <strong>
      ä»¥ä¸‹æ˜¯åŸºäºå¸¸è§çˆ¬è™«å’Œæœºå™¨äººçš„
      <code>
       User-Agent
      </code>
      å…³é”®è¯æ•´ç†çš„æ­£åˆ™è¡¨è¾¾å¼å®ç°æ–¹æ¡ˆï¼š
     </strong>
    </p>
    <hr/>
    <h3>
     <a id="1__UserAgent__36">
     </a>
     1. å¸¸è§çˆ¬è™« User-Agent å…³é”®è¯
    </h3>
    <p>
     ä»¥ä¸‹å…³é”®è¯è¦†ç›–äº†ä¸»æµæœç´¢å¼•æ“ã€SEO å·¥å…·ã€ç¤¾äº¤åª’ä½“ã€ç›‘æ§æœåŠ¡ç­‰ç±»å‹çš„çˆ¬è™«æœºå™¨äººï¼š
    </p>
    <table>
     <thead>
      <tr>
       <th>
        å…³é”®è¯ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰
       </th>
       <th>
        ç¤ºä¾‹çˆ¬è™«åç§°
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <code>
         bot
        </code>
       </td>
       <td>
        Googlebot, Bingbot
       </td>
      </tr>
      <tr>
       <td>
        <code>
         spider
        </code>
       </td>
       <td>
        YandexSpider, Baiduspider
       </td>
      </tr>
      <tr>
       <td>
        <code>
         crawler
        </code>
       </td>
       <td>
        AhrefsBot, SemrushBot
       </td>
      </tr>
      <tr>
       <td>
        <code>
         slurp
        </code>
       </td>
       <td>
        Yahoo! Slurp
       </td>
      </tr>
      <tr>
       <td>
        <code>
         facebookexternalhit
        </code>
       </td>
       <td>
        Facebook é“¾æ¥é¢„è§ˆæœºå™¨äºº
       </td>
      </tr>
      <tr>
       <td>
        <code>
         duckduckbot
        </code>
       </td>
       <td>
        DuckDuckGo çˆ¬è™«
       </td>
      </tr>
      <tr>
       <td>
        <code>
         facebot
        </code>
       </td>
       <td>
        Facebook çˆ¬è™«
       </td>
      </tr>
      <tr>
       <td>
        <code>
         alexa
        </code>
       </td>
       <td>
        Amazon çš„ Alexa çˆ¬è™«
       </td>
      </tr>
      <tr>
       <td>
        <code>
         applebot
        </code>
       </td>
       <td>
        Apple çš„æœç´¢å¼•æ“çˆ¬è™«
       </td>
      </tr>
      <tr>
       <td>
        <code>
         pinterest
        </code>
       </td>
       <td>
        Pinterest çˆ¬è™«
       </td>
      </tr>
      <tr>
       <td>
        <code>
         twitterbot
        </code>
       </td>
       <td>
        Twitter çˆ¬è™«
       </td>
      </tr>
      <tr>
       <td>
        <code>
         linkedinbot
        </code>
       </td>
       <td>
        LinkedIn çˆ¬è™«
       </td>
      </tr>
      <tr>
       <td>
        <code>
         telegrambot
        </code>
       </td>
       <td>
        Telegram çˆ¬è™«
       </td>
      </tr>
      <tr>
       <td>
        <code>
         uptimerobot
        </code>
       </td>
       <td>
        UptimeRobot ç›‘æ§æœåŠ¡
       </td>
      </tr>
      <tr>
       <td>
        <code>
         exabot
        </code>
       </td>
       <td>
        Exalead æœç´¢å¼•æ“
       </td>
      </tr>
      <tr>
       <td>
        <code>
         msnbot
        </code>
       </td>
       <td>
        MSN æœç´¢å¼•æ“çˆ¬è™«
       </td>
      </tr>
      <tr>
       <td>
        <code>
         yahoo
        </code>
       </td>
       <td>
        Yahoo çˆ¬è™«
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <h3>
     <a id="2__61">
     </a>
     2. æ­£åˆ™è¡¨è¾¾å¼å®ç°
    </h3>
    <p>
     ä»¥ä¸‹æ­£åˆ™è¡¨è¾¾å¼ä¼šåŒ¹é…åŒ…å«ä¸Šè¿°å…³é”®è¯çš„ User-Agentï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰ï¼š
    </p>
    <pre><code class="prism language-java"><span class="token class-name">String</span> pattern <span class="token operator">=</span> <span class="token string">"(?i).*\\b(bot|spider|crawler|slurp|facebookexternalhit|duckduckbot|facebot|alexa|applebot|pinterest|twitterbot|linkedinbot|telegrambot|uptimerobot|exabot|msnbot|yahoo|googlebot|bingbot|yandexbot|baiduspider|ahrefsbot|semrushbot)\\b.*"</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="3__68">
     </a>
     3. æ­£åˆ™å…³é”®è¡¨è¾¾å¼è¯´æ˜
    </h3>
    <h4>
     <a id="31_i_69">
     </a>
     3.1
     <code>
      (?i)
     </code>
     ï¼šå¿½ç•¥å¤§å°å†™çš„æ ‡è®°
    </h4>
    <ul>
     <li>
      <strong>
       ä½œç”¨
      </strong>
      ï¼šè¡¨ç¤ºåç»­çš„æ­£åˆ™åŒ¹é…
      <strong>
       ä¸åŒºåˆ†å¤§å°å†™
      </strong>
      ã€‚
     </li>
     <li>
      <strong>
       åŸç†
      </strong>
      ï¼š
      <code>
       (?i)
      </code>
      æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„
      <strong>
       æ¨¡å¼ä¿®é¥°ç¬¦
      </strong>
      ï¼ˆPattern Modifierï¼‰ï¼Œå®ƒä¼šä»å½“å‰ä½ç½®å¼€å§‹ï¼Œå¯¹æ•´ä¸ªè¡¨è¾¾å¼ç”Ÿæ•ˆã€‚
     </li>
     <li>
      <strong>
       ç¤ºä¾‹
      </strong>
      ï¼š
      <pre><code class="prism language-regex">(?i)bot   â†’ å¯ä»¥åŒ¹é… "Bot", "BOT", "bOt" ç­‰ä»»æ„å¤§å°å†™ç»„åˆ
</code></pre>
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="32_b__79">
     </a>
     3.2
     <code>
      \\b
     </code>
     ï¼š å•è¯è¾¹ç•Œ
    </h4>
    <ul>
     <li>
      <strong>
       ä½œç”¨
      </strong>
      ï¼šè¡¨ç¤º
      <strong>
       å•è¯è¾¹ç•Œ
      </strong>
      ï¼ˆWord Boundaryï¼‰ï¼Œç¡®ä¿åŒ¹é…çš„æ˜¯ä¸€ä¸ªå®Œæ•´çš„å•è¯ï¼ˆè€Œä¸æ˜¯å•è¯çš„ä¸€éƒ¨åˆ†ï¼‰ã€‚
     </li>
     <li>
      <strong>
       åŸç†
      </strong>
      ï¼š
      <code>
       \\b
      </code>
      ä¼šåŒ¹é…ä¸€ä¸ªä½ç½®ï¼Œè¯¥ä½ç½®çš„ä¸€ä¾§æ˜¯å•è¯å­—ç¬¦ï¼ˆå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼‰ï¼Œå¦ä¸€ä¾§æ˜¯éå•è¯å­—ç¬¦ï¼ˆå¦‚ç©ºæ ¼ã€æ ‡ç‚¹æˆ–å­—ç¬¦ä¸²è¾¹ç•Œï¼‰ã€‚
     </li>
     <li>
      <strong>
       ç¤ºä¾‹
      </strong>
      ï¼š
      <pre><code class="prism language-regex">\\bbot\\b â†’ åŒ¹é… "bot" ä½†ä¸ä¼šåŒ¹é… "robot" æˆ– "bots"
</code></pre>
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="33_ibbotspiderb_89">
     </a>
     3.3 ç»„åˆåçš„æ•ˆæœï¼š
     <code>
      (?i).*\\b(bot|spider)\\b.*
     </code>
    </h4>
    <p>
     å‡è®¾åŸå§‹æ­£åˆ™è¡¨è¾¾å¼ä¸ºï¼š
    </p>
    <pre><code class="prism language-java"><span class="token class-name">String</span> pattern <span class="token operator">=</span> <span class="token string">"(?i).*\\b(bot|spider)\\b.*"</span><span class="token punctuation">;</span>
</code></pre>
    <h5>
     <a id="331__94">
     </a>
     3.3.1 åŒ¹é…é€»è¾‘
    </h5>
    <ol>
     <li>
      <code>
       (?i)
      </code>
      â†’ å¿½ç•¥å¤§å°å†™ã€‚
     </li>
     <li>
      <code>
       .*
      </code>
      â†’ å…è®¸ç›®æ ‡å…³é”®è¯å‡ºç°åœ¨
      <strong>
       ä»»æ„ä½ç½®
      </strong>
      ï¼ˆå¦‚å¼€å¤´ã€ä¸­é—´ã€ç»“å°¾ï¼‰ã€‚
     </li>
     <li>
      <code>
       \\b
      </code>
      â†’ ç¡®ä¿å…³é”®è¯æ˜¯å®Œæ•´å•è¯ï¼ˆé¿å…éƒ¨åˆ†åŒ¹é…ï¼Œå¦‚
      <code>
       robot
      </code>
      ä¸­çš„
      <code>
       bot
      </code>
      ï¼‰ã€‚
     </li>
     <li>
      <code>
       (bot|spider)
      </code>
      â†’ åŒ¹é… â€œbotâ€ æˆ– â€œspiderâ€ã€‚
     </li>
     <li>
      æœ€åçš„
      <code>
       .*
      </code>
      â†’ å…è®¸å…³é”®è¯åæœ‰å…¶ä»–å­—ç¬¦ã€‚
     </li>
    </ol>
    <h5>
     <a id="332__UserAgent_101">
     </a>
     3.3.2 ç¤ºä¾‹åŒ¹é…çš„ User-Agent
    </h5>
    <ul>
     <li>
      <code>
       "Googlebot/2.1"
      </code>
      â†’ åŒ¹é…
      <code>
       bot
      </code>
     </li>
     <li>
      <code>
       "YandexSpider"
      </code>
      â†’ åŒ¹é…
      <code>
       spider
      </code>
     </li>
     <li>
      <code>
       "BingPreviewBot"
      </code>
      â†’ åŒ¹é…
      <code>
       bot
      </code>
     </li>
    </ul>
    <h5>
     <a id="333__UserAgent_106">
     </a>
     3.3.3 ä¸åŒ¹é…çš„ User-Agent
    </h5>
    <ul>
     <li>
      <code>
       "Robot/1.0"
      </code>
      â†’
      <code>
       \\bbot\\b
      </code>
      ä¸ä¼šåŒ¹é… â€œRobotâ€ ä¸­çš„ â€œbotâ€
     </li>
     <li>
      <code>
       "Mozilla/5.0 (Windows NT 10.0; Win64; x64)"
      </code>
      â†’ ä¸å«å…³é”®è¯
     </li>
    </ul>
    <hr/>
    <h3>
     <a id="4_Java__112">
     </a>
     4. Java ä»£ç å®ç°
    </h3>
    <pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token class-name">Pattern</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CrawlerDetector</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">BOT_PATTERN</span> <span class="token operator">=</span> <span class="token string">"(?i).*\\b(bot|spider|crawler|slurp|facebookexternalhit|duckduckbot|facebot|alexa|applebot|pinterest|twitterbot|linkedinbot|telegrambot|uptimerobot|exabot|msnbot|yahoo|googlebot|bingbot|yandexbot|baiduspider|ahrefsbot|semrushbot)\\b.*"</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Pattern</span> pattern <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token constant">BOT_PATTERN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">isCrawler</span><span class="token punctuation">(</span><span class="token class-name">String</span> userAgent<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>userAgent <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> userAgent<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>userAgent<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <hr/>
    <h4>
     <a id="41_java__130">
     </a>
     4.1 java ä½¿ç”¨ç¤ºä¾‹
    </h4>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">String</span> userAgent1 <span class="token operator">=</span> <span class="token string">"Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> userAgent2 <span class="token operator">=</span> <span class="token string">"Mozilla/5.0 (iPhone; CPU iPhone OS 14_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0 Mobile/15E148 Safari/604.1"</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Is crawler 1? "</span> <span class="token operator">+</span> <span class="token class-name">CrawlerDetector</span><span class="token punctuation">.</span><span class="token function">isCrawler</span><span class="token punctuation">(</span>userAgent1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Is crawler 2? "</span> <span class="token operator">+</span> <span class="token class-name">CrawlerDetector</span><span class="token punctuation">.</span><span class="token function">isCrawler</span><span class="token punctuation">(</span>userAgent2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token punctuation">}</span>
</code></pre>
    <hr/>
    <h3>
     <a id="5_JS__142">
     </a>
     5. JS ä»£ç å®ç°
    </h3>
    <p>
     ä»¥ä¸‹æ˜¯
     <strong>
      JavaScript ç‰ˆæœ¬
     </strong>
     çš„æ­£åˆ™è¡¨è¾¾å¼å®ç°ï¼ˆé€‚é…æµè§ˆå™¨ç¯å¢ƒï¼‰ï¼š
    </p>
    <h4>
     <a id="51_JavaScript__144">
     </a>
     5.1 JavaScript æ­£åˆ™è¡¨è¾¾å¼
    </h4>
    <pre><code class="prism language-javascript"><span class="token keyword">const</span> crawlerRegex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\b(bot|spider|crawler|slurp|facebookexternalhit|duckduckbot|facebot|alexa|applebot|pinterest|twitterbot|linkedinbot|telegrambot|uptimerobot|exabot|msnbot|yahoo|googlebot|bingbot|yandexbot|baiduspider|ahrefsbot|semrushbot)\b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">;</span>
</code></pre>
    <hr/>
    <h4>
     <a id="52__151">
     </a>
     5.2 å®ç°è§£æ
    </h4>
    <h5>
     <a id="521__152">
     </a>
     5.2.1
     <strong>
      æ­£åˆ™ç»“æ„
     </strong>
    </h5>
    <ul>
     <li>
      <code>
       \b
      </code>
      ï¼šåŒ¹é…å•è¯è¾¹ç•Œï¼ˆç¡®ä¿å…³é”®è¯æ˜¯å®Œæ•´å•è¯ï¼Œé¿å…è¯¯åŒ¹é…ç±»ä¼¼
      <code>
       robot
      </code>
      ä¸­çš„
      <code>
       bot
      </code>
      ï¼‰ã€‚
     </li>
     <li>
      <code>
       (bot|spider|...)
      </code>
      ï¼šåŒ¹é…åˆ—è¡¨ä¸­çš„ä»»æ„å…³é”®è¯ã€‚
     </li>
     <li>
      <code>
       i
      </code>
      æ ‡å¿—ï¼šå¿½ç•¥å¤§å°å†™ï¼ˆæ›¿ä»£ Java çš„
      <code>
       (?i)
      </code>
      ï¼‰ã€‚
     </li>
    </ul>
    <h5>
     <a id="522__157">
     </a>
     5.2.2
     <strong>
      æµè§ˆå™¨ç«¯ä½¿ç”¨ç¤ºä¾‹
     </strong>
    </h5>
    <pre><code class="prism language-javascript"><span class="token comment">// æ£€æµ‹å½“å‰æµè§ˆå™¨ User-Agent æ˜¯å¦æ˜¯çˆ¬è™«</span>
<span class="token keyword">function</span> <span class="token function">isCrawler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> userAgent <span class="token operator">=</span> navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">;</span>
  <span class="token keyword">return</span> crawlerRegex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>userAgent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// è°ƒç”¨ç¤ºä¾‹</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isCrawler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"æ£€æµ‹åˆ°çˆ¬è™«ï¼Œé˜»æ­¢ WebSocket è¿æ¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"å…è®¸è¿æ¥ WebSocket"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <hr/>
    <h4>
     <a id="53_175">
     </a>
     5.3
     <strong>
      æ³¨æ„äº‹é¡¹
     </strong>
    </h4>
    <ol>
     <li>
      <p>
       <strong>
        å…³é”®è¯åŠ¨æ€æ›´æ–°
       </strong>
       <br/>
       å¯ä»¥å°†æ­£åˆ™å…³é”®è¯æå–åˆ°é…ç½®ä¸­ï¼Œä¾¿äºåŠ¨æ€æ‰©å±•ï¼š
      </p>
      <pre><code class="prism language-javascript"><span class="token keyword">const</span> botKeywords <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">"bot"</span><span class="token punctuation">,</span> <span class="token string">"spider"</span><span class="token punctuation">,</span> <span class="token string">"crawler"</span><span class="token punctuation">,</span> <span class="token string">"slurp"</span><span class="token punctuation">,</span> 
  <span class="token string">"facebookexternalhit"</span><span class="token punctuation">,</span> <span class="token string">"duckduckbot"</span><span class="token punctuation">,</span> <span class="token string">"facebot"</span><span class="token punctuation">,</span>
  <span class="token comment">// ...å…¶ä»–å…³é”®è¯</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> crawlerRegex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\\b(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>botKeywords<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">"|"</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)\\b</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token string">"i"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        æµè§ˆå™¨å…¼å®¹æ€§
       </strong>
      </p>
      <ul>
       <li>
        æ‰€æœ‰ç°ä»£æµè§ˆå™¨ï¼ˆChrome/Firefox/Safari/Edgeï¼‰å‡æ”¯æŒ
        <code>
         RegExp
        </code>
        å’Œ
        <code>
         i
        </code>
        æ ‡å¿—ã€‚
       </li>
       <li>
        å…¼å®¹åˆ° IE9+ã€‚
       </li>
      </ul>
     </li>
    </ol>
    <h4>
     <a id="54__191">
     </a>
     5.4
     <strong>
      å®Œæ•´ä»£ç 
     </strong>
    </h4>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// å®šä¹‰æ­£åˆ™è¡¨è¾¾å¼</span>
<span class="token keyword">const</span> botKeywords <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">"bot"</span><span class="token punctuation">,</span> <span class="token string">"spider"</span><span class="token punctuation">,</span> <span class="token string">"crawler"</span><span class="token punctuation">,</span> <span class="token string">"slurp"</span><span class="token punctuation">,</span> <span class="token string">"facebookexternalhit"</span><span class="token punctuation">,</span>
  <span class="token string">"duckduckbot"</span><span class="token punctuation">,</span> <span class="token string">"facebot"</span><span class="token punctuation">,</span> <span class="token string">"alexa"</span><span class="token punctuation">,</span> <span class="token string">"applebot"</span><span class="token punctuation">,</span> <span class="token string">"pinterest"</span><span class="token punctuation">,</span>
  <span class="token string">"twitterbot"</span><span class="token punctuation">,</span> <span class="token string">"linkedinbot"</span><span class="token punctuation">,</span> <span class="token string">"telegrambot"</span><span class="token punctuation">,</span> <span class="token string">"uptimerobot"</span><span class="token punctuation">,</span>
  <span class="token string">"exabot"</span><span class="token punctuation">,</span> <span class="token string">"msnbot"</span><span class="token punctuation">,</span> <span class="token string">"yahoo"</span><span class="token punctuation">,</span> <span class="token string">"googlebot"</span><span class="token punctuation">,</span> <span class="token string">"bingbot"</span><span class="token punctuation">,</span>
  <span class="token string">"yandexbot"</span><span class="token punctuation">,</span> <span class="token string">"baiduspider"</span><span class="token punctuation">,</span> <span class="token string">"ahrefsbot"</span><span class="token punctuation">,</span> <span class="token string">"semrushbot"</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> crawlerRegex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\\b(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>botKeywords<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">"|"</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)\\b</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token string">"i"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ£€æµ‹é€»è¾‘</span>
<span class="token keyword">function</span> <span class="token function">isCrawler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> crawlerRegex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// æ ¹æ®æ£€æµ‹ç»“æœæ§åˆ¶ WebSocket è¿æ¥</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isCrawler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> ws <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span><span class="token string">"wss://your-websocket-endpoint"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ws<span class="token punctuation">.</span><span class="token function-variable function">onopen</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"WebSocket å·²è¿æ¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"çˆ¬è™«å®¢æˆ·ç«¯ï¼Œç¦æ­¢è¿æ¥ WebSocket"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <hr/>
    <h4>
     <a id="_220">
     </a>
     <strong>
      æ³¨æ„äº‹é¡¹
     </strong>
    </h4>
    <ol>
     <li>
      <strong>
       è¯¯åˆ¤é£é™©
      </strong>
      ï¼šæå°‘æ•°æ­£å¸¸æµè§ˆå™¨å¯èƒ½åŒ…å«å…³é”®è¯ï¼ˆå¦‚
      <code>
       Bot
      </code>
      ï¼‰ï¼Œä½†æ¦‚ç‡æä½ã€‚
     </li>
     <li>
      <strong>
       åŠ¨æ€æ›´æ–°
      </strong>
      ï¼šå®šæœŸæ›´æ–°æ­£åˆ™ä¸­çš„å…³é”®è¯åˆ—è¡¨ä»¥è¦†ç›–æ–°å‡ºç°çš„çˆ¬è™«ã€‚
     </li>
     <li>
      <strong>
       æ€§èƒ½
      </strong>
      ï¼šæ­£åˆ™è¡¨è¾¾å¼å¤æ‚åº¦è¾ƒä½ï¼Œé€‚åˆé«˜é¢‘è°ƒç”¨ã€‚
     </li>
    </ol>
    <p>
     å¦‚æœéœ€è¦æ›´å…¨é¢çš„å…³é”®è¯åˆ—è¡¨ï¼Œå¯ä»¥å‚è€ƒ
     <a href="https://user-agents.net/" rel="nofollow">
      user-agents
     </a>
     ç­‰å…¬å¼€æ•°æ®é›†ã€‚
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6c696c696e6861693534382f:61727469636c652f64657461696c732f313436313737313832" class_="artid" style="display:none">
 </p>
</div>


