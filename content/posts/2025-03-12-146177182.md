---
arturl_encode: "68747470733a2f2f62:6c6f672e6373646e2e6e65742f6c696c696e6861693534382f:61727469636c652f64657461696c732f313436313737313832"
layout: post
title: "çˆ¬è™«çš„ç²¾å‡†è¯†åˆ«åŸºäº-User-Agent-çš„æ­£åˆ™å®ç°"
date: 2025-03-12 00:15:00 +0800
description: "æƒ³è±¡ä¸€ä¸ªå…¸å‹çš„åœ¨çº¿å®¢æœåœºæ™¯ï¼šç”¨æˆ·è®¿é—®ç½‘ç«™åï¼Œé€šè¿‡ WebSocket ä¸å®¢æœå®æ—¶æ²Ÿé€šã€‚ç„¶è€Œï¼Œå¤§é‡çˆ¬è™«ï¼ˆå¦‚æœç´¢å¼•æ“ç´¢å¼•ã€SEO å·¥å…·ã€æ¶æ„æ‰«æç¨‹åºï¼‰çš„è¯·æ±‚ä¹Ÿä¼šè§¦å‘ WebSocket è¿æ¥ã€‚è¿™äº›çˆ¬è™«ä¸ä¼šä¸»åŠ¨å‘é€æ¶ˆæ¯ï¼Œå´ä¼šé•¿æœŸå ç”¨è¿æ¥èµ„æºã€‚å®¢æœäººå‘˜çœ‹åˆ°â€œåœ¨çº¿ç”¨æˆ·â€åˆ—è¡¨ä¸­çš„çˆ¬è™«ä¼šè¯ï¼Œå°è¯•å¯¹è¯å´å¾—ä¸åˆ°ä»»ä½•å›åº”ï¼Œæœ€ç»ˆå¯¼è‡´ï¼š    èµ„æºæµªè´¹ï¼šæœåŠ¡å™¨å¸¦å®½ã€è¿æ¥æ•°è¢«æ— æ•ˆå ç”¨ã€‚    æ•ˆç‡ä¸‹é™ï¼šå®¢æœéœ€è¦æ‰‹åŠ¨æ’æŸ¥â€œæ²‰é»˜ç”¨æˆ·â€ï¼Œå¢åŠ å·¥ä½œè´Ÿæ‹…ã€‚    æ•°æ®æ±¡æŸ“ï¼šç»Ÿè®¡æŠ¥è¡¨ä¸­çš„â€œç”¨æˆ·æ´»è·ƒæ•°â€è¢«è™šå‡æµé‡æ±¡æŸ“ã€‚"
keywords: "çˆ¬è™«çš„ç²¾å‡†è¯†åˆ«ï¼šåŸºäº User-Agent çš„æ­£åˆ™å®ç°"
categories: ['Java']
tags: ['çˆ¬è™«', 'æ­£åˆ™è¡¨è¾¾å¼', 'Javascript', 'Java']
artid: "146177182"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146177182
    alt: "çˆ¬è™«çš„ç²¾å‡†è¯†åˆ«åŸºäº-User-Agent-çš„æ­£åˆ™å®ç°"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146177182
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146177182
cover: https://bing.ee123.net/img/rand?artid=146177182
image: https://bing.ee123.net/img/rand?artid=146177182
img: https://bing.ee123.net/img/rand?artid=146177182
---

# çˆ¬è™«çš„ç²¾å‡†è¯†åˆ«ï¼šåŸºäº User-Agent çš„æ­£åˆ™å®ç°

> ğŸ§‘ åšä¸»ç®€ä»‹ï¼š
> **CSDNåšå®¢ä¸“å®¶**
> ï¼Œ
> **å†ä»£æ–‡å­¦ç½‘**
> ï¼ˆPCç«¯å¯ä»¥è®¿é—®ï¼š
> <https://literature.sinhy.com/#/?__c=1000>
> ï¼Œç§»åŠ¨ç«¯å¯å¾®ä¿¡å°ç¨‹åºæœç´¢â€œ
> **å†ä»£æ–‡å­¦**
> â€ï¼‰æ€»æ¶æ„å¸ˆï¼Œ
> `15å¹´`
> å·¥ä½œç»éªŒï¼Œç²¾é€š
> `Javaç¼–ç¨‹`
> ï¼Œ
> `é«˜å¹¶å‘è®¾è®¡`
> ï¼Œ
> `Springbootå’Œå¾®æœåŠ¡`
> ï¼Œç†Ÿæ‚‰
> `Linux`
> ï¼Œ
> `ESXIè™šæ‹ŸåŒ–`
> ä»¥åŠ
> `äº‘åŸç”ŸDockerå’ŒK8s`
> ï¼Œçƒ­è¡·äºæ¢ç´¢ç§‘æŠ€çš„è¾¹ç•Œï¼Œå¹¶å°†ç†è®ºçŸ¥è¯†è½¬åŒ–ä¸ºå®é™…åº”ç”¨ã€‚ä¿æŒå¯¹æ–°æŠ€æœ¯çš„å¥½å¥‡å¿ƒï¼Œä¹äºåˆ†äº«æ‰€å­¦ï¼Œå¸Œæœ›é€šè¿‡æˆ‘çš„å®è·µç»å†å’Œè§è§£ï¼Œå¯å‘ä»–äººçš„åˆ›æ–°æ€ç»´ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘å¸Œæœ›èƒ½ä¸å¿—åŒé“åˆçš„æœ‹å‹äº¤æµæ¢è®¨ï¼Œå…±åŒè¿›æ­¥ï¼Œä¸€èµ·åœ¨æŠ€æœ¯çš„ä¸–ç•Œé‡Œä¸æ–­å­¦ä¹ æˆé•¿ã€‚
>   
> **æŠ€æœ¯åˆä½œ**
> è¯·åŠ æœ¬äººwxï¼ˆ
> *æ³¨æ˜æ¥è‡ªcsdn*
> ï¼‰ï¼š
> `foreast_sea`

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/11968bb92b404ca7bd9fdfe004b640b1.gif#pic_center)
  
------
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/8bf91bdcd6f4415ab296f7252553e592.png)

## çˆ¬è™«çš„ç²¾å‡†è¯†åˆ«ï¼šåŸºäº User-Agent çš„æ­£åˆ™å®ç°

---

### å¼•è¨€

åœ¨å½“ä»Šå®æ—¶äº¤äº’åœºæ™¯ä¸­ï¼ŒWebSocket æŠ€æœ¯å·²æˆä¸ºåœ¨çº¿å®¢æœã€å³æ—¶é€šè®¯ã€å®æ—¶æ•°æ®æ¨é€ç­‰æœåŠ¡çš„æ ¸å¿ƒæ”¯æŸ±ã€‚ç„¶è€Œï¼Œä¸€ä¸ªçœ‹ä¼¼ç®€å•çš„æŠ€æœ¯ç»†èŠ‚å´å¯èƒ½è®©ä¼ä¸šä»˜å‡ºé«˜æ˜‚çš„ä»£ä»·ï¼š
**å½“çˆ¬è™«æœºå™¨äººä¼ªè£…æˆâ€œç”¨æˆ·â€æ¥å…¥ WebSocket æ—¶ï¼Œå®¢æœç³»ç»Ÿå¯èƒ½è¯¯å°†å…¶è¯†åˆ«ä¸ºçœŸå®å®¢æˆ·ï¼Œå¯¼è‡´å®¢æœèµ„æºè¢«æ— æ„ä¹‰æ¶ˆè€—ï¼Œç”šè‡³å› â€œæ— å“åº”å¯¹è¯â€è€Œå½±å“ç”¨æˆ·ä½“éªŒ**
ã€‚

#### **åœºæ™¯ç—›ç‚¹ï¼šå½“æŠ€æœ¯ä¾¿åˆ©é­é‡â€œæ— æ•ˆæµé‡â€**

æƒ³è±¡ä¸€ä¸ªå…¸å‹çš„åœ¨çº¿å®¢æœåœºæ™¯ï¼šç”¨æˆ·è®¿é—®ç½‘ç«™åï¼Œé€šè¿‡
`WebSocket`
ä¸å®¢æœå®æ—¶æ²Ÿé€šã€‚ç„¶è€Œï¼Œå¤§é‡çˆ¬è™«ï¼ˆå¦‚æœç´¢å¼•æ“ç´¢å¼•ã€
`SEO`
å·¥å…·ã€æ¶æ„æ‰«æç¨‹åºï¼‰çš„è¯·æ±‚ä¹Ÿä¼šè§¦å‘
`WebSocket`
è¿æ¥ã€‚è¿™äº›çˆ¬è™«ä¸ä¼šä¸»åŠ¨å‘é€æ¶ˆæ¯ï¼Œå´ä¼šé•¿æœŸå ç”¨è¿æ¥èµ„æºã€‚å®¢æœäººå‘˜çœ‹åˆ°â€œåœ¨çº¿ç”¨æˆ·â€åˆ—è¡¨ä¸­çš„çˆ¬è™«ä¼šè¯ï¼Œå°è¯•å¯¹è¯å´å¾—ä¸åˆ°ä»»ä½•å›åº”ï¼Œæœ€ç»ˆå¯¼è‡´ï¼š

1. **èµ„æºæµªè´¹**
   ï¼šæœåŠ¡å™¨å¸¦å®½ã€è¿æ¥æ•°è¢«æ— æ•ˆå ç”¨ã€‚
2. **æ•ˆç‡ä¸‹é™**
   ï¼šå®¢æœéœ€è¦æ‰‹åŠ¨æ’æŸ¥â€œæ²‰é»˜ç”¨æˆ·â€ï¼Œå¢åŠ å·¥ä½œè´Ÿæ‹…ã€‚
3. **æ•°æ®æ±¡æŸ“**
   ï¼šç»Ÿè®¡æŠ¥è¡¨ä¸­çš„â€œç”¨æˆ·æ´»è·ƒæ•°â€è¢«è™šå‡æµé‡æ±¡æŸ“ã€‚

æ›´ç³Ÿç³•çš„æ˜¯ï¼Œéƒ¨åˆ†æ”»å‡»è€…ä¼šåˆ©ç”¨
`WebSocket`
çš„é•¿è¿æ¥ç‰¹æ€§ï¼Œå‘èµ·é«˜é¢‘è¯·æ±‚æˆ–æ³¨å…¥æ”»å‡»ï¼Œè¿›ä¸€æ­¥å¨èƒç³»ç»Ÿå®‰å…¨ã€‚

#### **ä¼ ç»Ÿæ–¹æ¡ˆçš„å±€é™æ€§**

è®¸å¤šå¼€å‘è€…è¯•å›¾é€šè¿‡ç®€å•çš„
**IP å°ç¦**
æˆ–
**è¯·æ±‚é¢‘ç‡é™åˆ¶**
è§£å†³é—®é¢˜ï¼Œä½†çˆ¬è™«çš„ IP æ± å’Œè®¿é—®ç­–ç•¥æ—¥ç›ŠåŠ¨æ€åŒ–ï¼Œä¼ ç»Ÿæ–¹æ¡ˆå¾€å¾€åŠ›ä¸ä»å¿ƒã€‚è€Œç›´æ¥ä¾èµ–
**User-Agent å­—ç¬¦ä¸²è¿‡æ»¤**
çœ‹ä¼¼ç›´æ¥ï¼Œå´å¸¸å› æ­£åˆ™è¡¨è¾¾å¼è®¾è®¡ä¸å½“ï¼ˆå¦‚æ¼åˆ¤æ–°çˆ¬è™«ã€è¯¯ä¼¤æ­£å¸¸ç”¨æˆ·ï¼‰å¯¼è‡´æ•ˆæœå¤§æ‰“æŠ˜æ‰£ã€‚

#### **æœ¬æ–‡ç›®æ ‡**

æœ¬æ–‡å°†èšç„¦
**â€œå¦‚ä½•åœ¨ WebSocket æ¡æ‰‹é˜¶æ®µç²¾å‡†è¯†åˆ«çˆ¬è™«â€**
ï¼Œé€šè¿‡ä»¥ä¸‹å®è·µæ–¹æ¡ˆå®ç°é«˜æ•ˆæ‹¦æˆªï¼š

1. **å¤šç»´åº¦ User-Agent æ£€æµ‹**
   ï¼šåŸºäºæ­£åˆ™è¡¨è¾¾å¼è¦†ç›– 95% çš„å·²çŸ¥çˆ¬è™«æ ‡è¯†ï¼Œç¡®ä¿å…³é”®è¯ç²¾å‡†åŒ¹é…ã€‚
2. **è½»é‡åŒ–æµè§ˆå™¨ç«¯æ‹¦æˆª**
   ï¼šæä¾› JavaScript æ­£åˆ™æ–¹æ¡ˆï¼Œé¿å…çˆ¬è™«è§¦å‘å‰ç«¯èµ„æºåŠ è½½ã€‚
3. **æœåŠ¡ç«¯å…œåº•é€»è¾‘**
   ï¼šç»“åˆ IP é»‘åå•ä¸è¡Œä¸ºåˆ†æï¼Œåº”å¯¹ä¼ªé€  User-Agent çš„é«˜çº§çˆ¬è™«ã€‚

æ–‡ç« å°†æ·±å…¥è§£ææ­£åˆ™è¡¨è¾¾å¼è®¾è®¡æŠ€å·§ã€è·¨è¯­è¨€ï¼ˆJava/JavaScriptï¼‰å®ç°æ–¹æ¡ˆï¼Œå¹¶æ¢è®¨å¦‚ä½•åœ¨å¼€æºæ•°æ®é›†ï¼ˆå¦‚
[crawler-user-agents](https://github.com/monperrus/crawler-user-agents)
ï¼‰åŸºç¡€ä¸ŠåŠ¨æ€æ›´æ–°ç­–ç•¥ã€‚æ— è®ºæ‚¨æ˜¯æ„å»ºå®¢æœç³»ç»Ÿçš„å¼€å‘è€…ï¼Œè¿˜æ˜¯éœ€ä¼˜åŒ–å®æ—¶æœåŠ¡æ€§èƒ½çš„æ¶æ„å¸ˆï¼Œå‡å¯é€šè¿‡æœ¬æ–‡è·å¾—å¯ç›´æ¥å¤ç”¨çš„ä»£ç ä¸å®è·µç»éªŒã€‚

---

**ä»¥ä¸‹æ˜¯åŸºäºå¸¸è§çˆ¬è™«å’Œæœºå™¨äººçš„
`User-Agent`
å…³é”®è¯æ•´ç†çš„æ­£åˆ™è¡¨è¾¾å¼å®ç°æ–¹æ¡ˆï¼š**

---

### 1. å¸¸è§çˆ¬è™« User-Agent å…³é”®è¯

ä»¥ä¸‹å…³é”®è¯è¦†ç›–äº†ä¸»æµæœç´¢å¼•æ“ã€SEO å·¥å…·ã€ç¤¾äº¤åª’ä½“ã€ç›‘æ§æœåŠ¡ç­‰ç±»å‹çš„çˆ¬è™«æœºå™¨äººï¼š

| å…³é”®è¯ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰ | ç¤ºä¾‹çˆ¬è™«åç§° |
| --- | --- |
| `bot` | Googlebot, Bingbot |
| `spider` | YandexSpider, Baiduspider |
| `crawler` | AhrefsBot, SemrushBot |
| `slurp` | Yahoo! Slurp |
| `facebookexternalhit` | Facebook é“¾æ¥é¢„è§ˆæœºå™¨äºº |
| `duckduckbot` | DuckDuckGo çˆ¬è™« |
| `facebot` | Facebook çˆ¬è™« |
| `alexa` | Amazon çš„ Alexa çˆ¬è™« |
| `applebot` | Apple çš„æœç´¢å¼•æ“çˆ¬è™« |
| `pinterest` | Pinterest çˆ¬è™« |
| `twitterbot` | Twitter çˆ¬è™« |
| `linkedinbot` | LinkedIn çˆ¬è™« |
| `telegrambot` | Telegram çˆ¬è™« |
| `uptimerobot` | UptimeRobot ç›‘æ§æœåŠ¡ |
| `exabot` | Exalead æœç´¢å¼•æ“ |
| `msnbot` | MSN æœç´¢å¼•æ“çˆ¬è™« |
| `yahoo` | Yahoo çˆ¬è™« |

---

### 2. æ­£åˆ™è¡¨è¾¾å¼å®ç°

ä»¥ä¸‹æ­£åˆ™è¡¨è¾¾å¼ä¼šåŒ¹é…åŒ…å«ä¸Šè¿°å…³é”®è¯çš„ User-Agentï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰ï¼š

```java
String pattern = "(?i).*\\b(bot|spider|crawler|slurp|facebookexternalhit|duckduckbot|facebot|alexa|applebot|pinterest|twitterbot|linkedinbot|telegrambot|uptimerobot|exabot|msnbot|yahoo|googlebot|bingbot|yandexbot|baiduspider|ahrefsbot|semrushbot)\\b.*";

```

### 3. æ­£åˆ™å…³é”®è¡¨è¾¾å¼è¯´æ˜

#### 3.1 `(?i)` ï¼šå¿½ç•¥å¤§å°å†™çš„æ ‡è®°

* **ä½œç”¨**
  ï¼šè¡¨ç¤ºåç»­çš„æ­£åˆ™åŒ¹é…
  **ä¸åŒºåˆ†å¤§å°å†™**
  ã€‚
* **åŸç†**
  ï¼š
  `(?i)`
  æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„
  **æ¨¡å¼ä¿®é¥°ç¬¦**
  ï¼ˆPattern Modifierï¼‰ï¼Œå®ƒä¼šä»å½“å‰ä½ç½®å¼€å§‹ï¼Œå¯¹æ•´ä¸ªè¡¨è¾¾å¼ç”Ÿæ•ˆã€‚
* **ç¤ºä¾‹**
  ï¼š

  ```regex
  (?i)bot   â†’ å¯ä»¥åŒ¹é… "Bot", "BOT", "bOt" ç­‰ä»»æ„å¤§å°å†™ç»„åˆ

  ```

---

#### 3.2 `\\b` ï¼š å•è¯è¾¹ç•Œ

* **ä½œç”¨**
  ï¼šè¡¨ç¤º
  **å•è¯è¾¹ç•Œ**
  ï¼ˆWord Boundaryï¼‰ï¼Œç¡®ä¿åŒ¹é…çš„æ˜¯ä¸€ä¸ªå®Œæ•´çš„å•è¯ï¼ˆè€Œä¸æ˜¯å•è¯çš„ä¸€éƒ¨åˆ†ï¼‰ã€‚
* **åŸç†**
  ï¼š
  `\\b`
  ä¼šåŒ¹é…ä¸€ä¸ªä½ç½®ï¼Œè¯¥ä½ç½®çš„ä¸€ä¾§æ˜¯å•è¯å­—ç¬¦ï¼ˆå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼‰ï¼Œå¦ä¸€ä¾§æ˜¯éå•è¯å­—ç¬¦ï¼ˆå¦‚ç©ºæ ¼ã€æ ‡ç‚¹æˆ–å­—ç¬¦ä¸²è¾¹ç•Œï¼‰ã€‚
* **ç¤ºä¾‹**
  ï¼š

  ```regex
  \\bbot\\b â†’ åŒ¹é… "bot" ä½†ä¸ä¼šåŒ¹é… "robot" æˆ– "bots"

  ```

---

#### 3.3 ç»„åˆåçš„æ•ˆæœï¼š `(?i).*\\b(bot|spider)\\b.*`

å‡è®¾åŸå§‹æ­£åˆ™è¡¨è¾¾å¼ä¸ºï¼š

```java
String pattern = "(?i).*\\b(bot|spider)\\b.*";

```

##### 3.3.1 åŒ¹é…é€»è¾‘

1. `(?i)`
   â†’ å¿½ç•¥å¤§å°å†™ã€‚
2. `.*`
   â†’ å…è®¸ç›®æ ‡å…³é”®è¯å‡ºç°åœ¨
   **ä»»æ„ä½ç½®**
   ï¼ˆå¦‚å¼€å¤´ã€ä¸­é—´ã€ç»“å°¾ï¼‰ã€‚
3. `\\b`
   â†’ ç¡®ä¿å…³é”®è¯æ˜¯å®Œæ•´å•è¯ï¼ˆé¿å…éƒ¨åˆ†åŒ¹é…ï¼Œå¦‚
   `robot`
   ä¸­çš„
   `bot`
   ï¼‰ã€‚
4. `(bot|spider)`
   â†’ åŒ¹é… â€œbotâ€ æˆ– â€œspiderâ€ã€‚
5. æœ€åçš„
   `.*`
   â†’ å…è®¸å…³é”®è¯åæœ‰å…¶ä»–å­—ç¬¦ã€‚

##### 3.3.2 ç¤ºä¾‹åŒ¹é…çš„ User-Agent

* `"Googlebot/2.1"`
  â†’ åŒ¹é…
  `bot`
* `"YandexSpider"`
  â†’ åŒ¹é…
  `spider`
* `"BingPreviewBot"`
  â†’ åŒ¹é…
  `bot`

##### 3.3.3 ä¸åŒ¹é…çš„ User-Agent

* `"Robot/1.0"`
  â†’
  `\\bbot\\b`
  ä¸ä¼šåŒ¹é… â€œRobotâ€ ä¸­çš„ â€œbotâ€
* `"Mozilla/5.0 (Windows NT 10.0; Win64; x64)"`
  â†’ ä¸å«å…³é”®è¯

---

### 4. Java ä»£ç å®ç°

```java
import java.util.regex.Pattern;

public class CrawlerDetector {
    private static final String BOT_PATTERN = "(?i).*\\b(bot|spider|crawler|slurp|facebookexternalhit|duckduckbot|facebot|alexa|applebot|pinterest|twitterbot|linkedinbot|telegrambot|uptimerobot|exabot|msnbot|yahoo|googlebot|bingbot|yandexbot|baiduspider|ahrefsbot|semrushbot)\\b.*";
    private static final Pattern pattern = Pattern.compile(BOT_PATTERN);

    public static boolean isCrawler(String userAgent) {
        if (userAgent == null || userAgent.trim().isEmpty()) {
            return false;
        }
        return pattern.matcher(userAgent).matches();
    }
}

```

---

#### 4.1 java ä½¿ç”¨ç¤ºä¾‹

```java
public static void main(String[] args) {
    String userAgent1 = "Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)";
    String userAgent2 = "Mozilla/5.0 (iPhone; CPU iPhone OS 14_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0 Mobile/15E148 Safari/604.1";

    System.out.println("Is crawler 1? " + CrawlerDetector.isCrawler(userAgent1)); // true
    System.out.println("Is crawler 2? " + CrawlerDetector.isCrawler(userAgent2)); // false
}

```

---

### 5. JS ä»£ç å®ç°

ä»¥ä¸‹æ˜¯
**JavaScript ç‰ˆæœ¬**
çš„æ­£åˆ™è¡¨è¾¾å¼å®ç°ï¼ˆé€‚é…æµè§ˆå™¨ç¯å¢ƒï¼‰ï¼š

#### 5.1 JavaScript æ­£åˆ™è¡¨è¾¾å¼

```javascript
const crawlerRegex = /\b(bot|spider|crawler|slurp|facebookexternalhit|duckduckbot|facebot|alexa|applebot|pinterest|twitterbot|linkedinbot|telegrambot|uptimerobot|exabot|msnbot|yahoo|googlebot|bingbot|yandexbot|baiduspider|ahrefsbot|semrushbot)\b/i;

```

---

#### 5.2 å®ç°è§£æ

##### 5.2.1 **æ­£åˆ™ç»“æ„**

* `\b`
  ï¼šåŒ¹é…å•è¯è¾¹ç•Œï¼ˆç¡®ä¿å…³é”®è¯æ˜¯å®Œæ•´å•è¯ï¼Œé¿å…è¯¯åŒ¹é…ç±»ä¼¼
  `robot`
  ä¸­çš„
  `bot`
  ï¼‰ã€‚
* `(bot|spider|...)`
  ï¼šåŒ¹é…åˆ—è¡¨ä¸­çš„ä»»æ„å…³é”®è¯ã€‚
* `i`
  æ ‡å¿—ï¼šå¿½ç•¥å¤§å°å†™ï¼ˆæ›¿ä»£ Java çš„
  `(?i)`
  ï¼‰ã€‚

##### 5.2.2 **æµè§ˆå™¨ç«¯ä½¿ç”¨ç¤ºä¾‹**

```javascript
// æ£€æµ‹å½“å‰æµè§ˆå™¨ User-Agent æ˜¯å¦æ˜¯çˆ¬è™«
function isCrawler() {
  const userAgent = navigator.userAgent;
  return crawlerRegex.test(userAgent);
}

// è°ƒç”¨ç¤ºä¾‹
if (isCrawler()) {
  console.log("æ£€æµ‹åˆ°çˆ¬è™«ï¼Œé˜»æ­¢ WebSocket è¿æ¥");
} else {
  console.log("å…è®¸è¿æ¥ WebSocket");
}

```

---

#### 5.3 **æ³¨æ„äº‹é¡¹**

1. **å…³é”®è¯åŠ¨æ€æ›´æ–°**
     
   å¯ä»¥å°†æ­£åˆ™å…³é”®è¯æå–åˆ°é…ç½®ä¸­ï¼Œä¾¿äºåŠ¨æ€æ‰©å±•ï¼š

   ```javascript
   const botKeywords = [
     "bot", "spider", "crawler", "slurp", 
     "facebookexternalhit", "duckduckbot", "facebot",
     // ...å…¶ä»–å…³é”®è¯
   ];
   const crawlerRegex = new RegExp(`\\b(${botKeywords.join("|")})\\b`, "i");

   ```
2. **æµè§ˆå™¨å…¼å®¹æ€§**

   * æ‰€æœ‰ç°ä»£æµè§ˆå™¨ï¼ˆChrome/Firefox/Safari/Edgeï¼‰å‡æ”¯æŒ
     `RegExp`
     å’Œ
     `i`
     æ ‡å¿—ã€‚
   * å…¼å®¹åˆ° IE9+ã€‚

#### 5.4 **å®Œæ•´ä»£ç **

```html
<script>
// å®šä¹‰æ­£åˆ™è¡¨è¾¾å¼
const botKeywords = [
  "bot", "spider", "crawler", "slurp", "facebookexternalhit",
  "duckduckbot", "facebot", "alexa", "applebot", "pinterest",
  "twitterbot", "linkedinbot", "telegrambot", "uptimerobot",
  "exabot", "msnbot", "yahoo", "googlebot", "bingbot",
  "yandexbot", "baiduspider", "ahrefsbot", "semrushbot"
];
const crawlerRegex = new RegExp(`\\b(${botKeywords.join("|")})\\b`, "i");

// æ£€æµ‹é€»è¾‘
function isCrawler() {
  return crawlerRegex.test(navigator.userAgent);
}

// æ ¹æ®æ£€æµ‹ç»“æœæ§åˆ¶ WebSocket è¿æ¥
if (!isCrawler()) {
  const ws = new WebSocket("wss://your-websocket-endpoint");
  ws.onopen = () => console.log("WebSocket å·²è¿æ¥");
} else {
  console.log("çˆ¬è™«å®¢æˆ·ç«¯ï¼Œç¦æ­¢è¿æ¥ WebSocket");
}
</script>

```

---

#### **æ³¨æ„äº‹é¡¹**

1. **è¯¯åˆ¤é£é™©**
   ï¼šæå°‘æ•°æ­£å¸¸æµè§ˆå™¨å¯èƒ½åŒ…å«å…³é”®è¯ï¼ˆå¦‚
   `Bot`
   ï¼‰ï¼Œä½†æ¦‚ç‡æä½ã€‚
2. **åŠ¨æ€æ›´æ–°**
   ï¼šå®šæœŸæ›´æ–°æ­£åˆ™ä¸­çš„å…³é”®è¯åˆ—è¡¨ä»¥è¦†ç›–æ–°å‡ºç°çš„çˆ¬è™«ã€‚
3. **æ€§èƒ½**
   ï¼šæ­£åˆ™è¡¨è¾¾å¼å¤æ‚åº¦è¾ƒä½ï¼Œé€‚åˆé«˜é¢‘è°ƒç”¨ã€‚

å¦‚æœéœ€è¦æ›´å…¨é¢çš„å…³é”®è¯åˆ—è¡¨ï¼Œå¯ä»¥å‚è€ƒ
[user-agents](https://user-agents.net/)
ç­‰å…¬å¼€æ•°æ®é›†ã€‚