---
layout: post
title: "微信小程序基于SpringBoot开发后端"
date: 2024-12-29 20:35:37 +0800
description: "微信小程序_springboot开发微信小程序后端"
keywords: "springboot开发微信小程序后端"
categories: ['未分类']
tags: ['微信小程序', 'Spring', 'Mybatis', 'Boot']
artid: "128090004"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=128090004
  alt: "微信小程序基于SpringBoot开发后端"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=128090004
featuredImagePreview: https://bing.ee123.net/img/rand?artid=128090004
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【微信小程序】基于SpringBoot开发后端
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     微信小程序登录流程：
    </p>
    <p>
     <img alt="微信小程序登录流程图" src="https://i-blog.csdnimg.cn/blog_migrate/8c78edc731ea13b33fcff563ab4a58c0.png"/>
    </p>
    <p>
     主要步骤：
     <br/>
     1、小程序端调用 wx.login()向微信接口服务获取临时登录凭证code，并上传至开发者服务端。
     <br/>
     2、开发者服务端向微信服务接口服务调用 auth.code2Session 接口，换取用户唯一标识OpenID和会话密钥session_key。
     <br/>
     3、开发者服务端根据session_key等信息,基于JWT标准，生成自定义的网络令牌token，返回至小程序端存储。
    </p>
    <h2>
     <a id="_10">
     </a>
     后端编写
    </h2>
    <p>
     IDEA搭建springboot项目
    </p>
    <p>
     环境参数
     <br/>
     开发工具：IDEA
     <br/>
     基础环境：Maven+JDK8
     <br/>
     主要技术：SpringBoot、lombok、mybatis-plus、mysql 、微信小程序
     <br/>
     SpringBoot版本：2.2.6
    </p>
    <h3>
     <a id="SpringBoot_19">
     </a>
     SpringBoot环境搭建
    </h3>
    <p>
     新建项目，选择Spring Initializr，更改名称、位置、组、JDK和java版本
     <br/>
     ，选择Jar包。
     <br/>
     我用的是教育邮箱身份，可以免费用IDEA的全部功能，所以有Spring Initalizr插件
    </p>
    <p>
     <img alt="创建新项目" src="https://i-blog.csdnimg.cn/blog_migrate/248afadf3f808ac4e74e92b9612fddea.png">
      <br/>
      下一步
      <br/>
      添加依赖：Spring web、lombok、mybatis-plus、mysql、Thymeleaf
     </img>
    </p>
    <p>
     创建成功！
     <br/>
     <img alt="创建成功" src="https://i-blog.csdnimg.cn/blog_migrate/3c9543044febf7a2a0e0841e2f52427c.png"/>
    </p>
    <h3>
     <a id="_30">
     </a>
     设计数据库
    </h3>
    <p>
     数据库字符集记得改成uft8mb4，这个才是真正utf-8可以存中文字符。
    </p>
    <blockquote>
     <p>
      在MySQL中，“utf8”编码只支持每个字符最多三个字节，而真正的 UTF-8 是每个字符最多四个字节。
     </p>
    </blockquote>
    <p>
     <img alt="数据库字符集" src="https://i-blog.csdnimg.cn/blog_migrate/8a73c602323883fd16dbad8bfa836c62.png">
      <br/>
      设计数据库的时候想起来，要思考图片怎么存，搜了一下可以存在本地路径里，通过搜索路径+图片名访问图片。
     </img>
    </p>
    <p>
     微信小程序图片上传参考：
     <br/>
     java语言
     <br/>
     <a href="https://huaweicloud.csdn.net/63876fe0dacf622b8df8c408.html?spm=1001.2101.3001.6650.6&amp;utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~activity-6-123661241-blog-124848369.pc_relevant_recovery_v2&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~activity-6-123661241-blog-124848369.pc_relevant_recovery_v2&amp;utm_relevant_index=7" rel="nofollow">
      SpringBoot与微信小程序进行图片的上传和后端返回图片url在前端展示
     </a>
     <br/>
     python语言
     <br/>
     <a href="https://www.cnblogs.com/pplap/p/16538572.html" rel="nofollow">
      微信小程序与django后端的图片传输、存储与访问
     </a>
    </p>
    <blockquote>
     <p>
      首先不建议直接将图片、文件等内容存放在数据库中，而是将其存放在对应的路径存放在数据库里。
     </p>
     <p>
      如果是学习用，可以设置数据库的字段为blob等二进制类型，然后将图片存放于数据库中。
     </p>
    </blockquote>
    <h2>
     <a id="_49">
     </a>
     前端完善
    </h2>
    <p>
     还是在设计数据库的时候，思索数据库放不放一些想做但不知道能不能做出来的功能的数据。常规的个人信息可以放，试一下地区选择功能能不能做，能做就把地区也加进数据库里。
    </p>
    <h3>
     <a id="_52">
     </a>
     城市选择器
    </h3>
    <p>
     看了这俩链接写出来的
     <br/>
     <a href="https://blog.csdn.net/weixin_45811256/article/details/126448750">
      uni-app开发微信小程序使用腾讯地图选点和城市选择器插件
     </a>
    </p>
    <p>
     <a href="https://lbs.qq.com/miniProgram/plugin/pluginGuide/citySelector" rel="nofollow">
      微信小程序插件 / 开发指南 / 城市选择器插件
     </a>
     <br/>
     微信小程序授权后按上面这个网页底下官方文档教程操作就可以了
    </p>
    <p>
     <strong>
      一些详细步骤：
     </strong>
     <br/>
     要先申请自己的key
     <br/>
     登录腾讯地图申请属于自己小程序的key 腾讯位置服务
     <br/>
     应用管理 ⇒ 我的应用 ⇒ 创建应用 ⇒ 添加key :点击创建应用，输入应用名称，选择应用类型。然后按文档填写必填的key和refer即可。其他属性可以不填。
     <br/>
     <img alt="key" src="https://i-blog.csdnimg.cn/blog_migrate/ddc9724c18a88c3e92222d75dfa36053.png">
      <br/>
      后序详细步骤请参考这个
      <a href="https://blog.csdn.net/weixin_45811256/article/details/126448750">
       uni-app开发微信小程序使用腾讯地图选点和城市选择器插件
      </a>
     </img>
    </p>
    <p>
     做一半了发现uniapp好像更好用。。。打开Hbuilder，抛弃微信开发者工具(*^▽^*)
     <br/>
     参考了下面这个链接
     <br/>
     <a href="https://www.zhihu.com/question/483402591/answer/2415439576" rel="nofollow">
      uni-app开发流程
     </a>
    </p>
    <p>
     <a href="https://uniapp.dcloud.net.cn/collocation/pages.html#" rel="nofollow">
      uni-app官方文档
     </a>
    </p>
    <h3>
     <a id="_72">
     </a>
     从头开始设计小程序
    </h3>
    <p>
     <a href="https://www.cnblogs.com/xiaobai-cs/p/16314789.html" rel="nofollow">
      阿里巴巴图标库
     </a>
     <br/>
     1.阿里巴巴图标库：https://www.iconfont.cn/manage/index
     <br/>
     2.选择合适的图标
     <br/>
     3.收藏，在收藏中查看
     <br/>
     4.选择：自己的项目
     <br/>
     5.选择：第二个{font class}，复制类的地址，在网页中粘贴，选择所有，都知道项目中
     <br/>
     6.在项目中创建：styles文件夹下创建iconfont.wxss文件
     <br/>
     7.粘贴到 iconfont.wxss中，并保存。
     <br/>
     8.在全局app.wxss中，引入“@import “./styles/iconfont.wxss”; ”。
     <br/>
     9.在要引入的页面中：class一个类名：“iconfont icon-hongshizi”
     <br/>
     10.即可引入图标
    </p>
    <h3>
     <a id="_84">
     </a>
     个人资料修改
    </h3>
    <p>
     个人资料页面：把用户的昵称改变了之后，还要改变用户在首页中的昵称
     <br/>
     <a href="https://www.likecs.com/show-450645.html#sc=3466.666748046875" rel="nofollow">
      创建编辑子页和修改个人信息页面
     </a>
    </p>
    <p>
     SpringBoot结构如下
     <br/>
     <img alt="SpringBoot结构" src="https://i-blog.csdnimg.cn/blog_migrate/3dc49971a131c0c0b264a097f1ae2243.png"/>
    </p>
    <p>
     File→New→Project→Spring Initializr→项目
     <br/>
     我的IDEA里没有Spring Initializr
     <br/>
     搜索了一下如何导入Spring Initializr
    </p>
    <blockquote>
     <p>
      http://start.spring.io/ 登录该网站，填写项目信息，选择依赖后，点击 Generate
      <br/>
      Project，然后下载一个该项目的压缩包。下一步是将这个压缩包解压，然后在Idea中，File-&gt;New-&gt;Project from
      <br/>
      existing sources,选择好文件夹后， 点击OK，在Import Project中，选择Import project from
      <br/>
      external model，
      <br/>
      默认是用Maven工程，选择Maven，点击Next，下面看情况，一路Next，JDK选择JDK8，到Finish，点击Finish。工程就建立好。
      <br/>
      刚开始，可能会下载很多依赖，稍等一会。这样工程就建立好了。
     </p>
    </blockquote>
    <p>
     原文来自
     <a href="https://blog.csdn.net/qq_46416934/article/details/124350528">
      https://blog.csdn.net/qq_46416934/article/details/124350528
     </a>
    </p>
    <p>
     下载导入后：
     <br/>
     <img alt="导入后" src="https://i-blog.csdnimg.cn/blog_migrate/e00085eb152a7c7033eeffafaad57940.png"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34353335393331302f:61727469636c652f64657461696c732f313238303930303034" class_="artid" style="display:none">
 </p>
</div>
