---
layout: post
title: "C-NX二次开发获取模型中所有的草图并获取草图中的对象"
date: 2025-03-13 21:27:35 +0800
description: "​大家好，今天接着讲NX二次开发。获取草图的方法是从workPart中获取，如下面的例子所示：  List<Tag> tags = new List<Tag>();                SketchCollection sketchCollection = workPart.Sketches;                Sketch[] sketches = sketchCollection.ToArray();                for (int i = 0; i"
keywords: "C# NX二次开发：获取模型中所有的草图并获取草图中的对象"
categories: ['Nx']
tags: ['开发语言', 'C']
artid: "146242352"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146242352
    alt: "C-NX二次开发获取模型中所有的草图并获取草图中的对象"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146242352
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146242352
cover: https://bing.ee123.net/img/rand?artid=146242352
image: https://bing.ee123.net/img/rand?artid=146242352
img: https://bing.ee123.net/img/rand?artid=146242352
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     C# NX二次开发：获取模型中所有的草图并获取草图中的对象
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     大家好，今天接着讲NX二次开发获取草图相关。
    </p>
    <p>
     获取草图的方法是从workPart中获取，如下面的例子所示：
    </p>
    <p>
     List&lt;Tag&gt; tags = new List&lt;Tag&gt;();
     <br/>
     SketchCollection sketchCollection = workPart.Sketches;
     <br/>
     Sketch[] sketches = sketchCollection.ToArray();
     <br/>
     for (int i = 0; i &lt; sketches.Length; i++)
     <br/>
     {
     <!-- -->
     <br/>
     string name = sketches[i].Name;
     <br/>
     if (i == sketches.Length - 1)
     <br/>
     {
     <!-- -->
     <br/>
     group = sketches[i].Tag;
     <br/>
     Feature feature = sketches[i].Feature;
     <br/>
     NXObject[] nXObjects = feature.GetEntities();
     <br/>
     //TaggedObject[] GetSelectedObjects1=
     <br/>
     for (int j = 0; j &lt; nXObjects.Length; j++)
     <br/>
     {
     <!-- -->
     <br/>
     if(nXObjects[j].ToString().Contains("Arc")|| nXObjects[j].ToString().Contains("Line"))
     <br/>
     {
     <!-- -->
     <br/>
     tags.Add(nXObjects[j].Tag);
     <br/>
     }
     <br/>
     }
     <br/>
     //theUI.NXMessageBox.Show("提示", NXMessageBox.DialogType.Information, name);
     <br/>
     }
     <br/>
     }
    </p>
    <p>
     在上面的例子中获取了所有的草图，并且在获取到最后一个草图的时候，取出了草图中的Arc对象和Line对象的Tag值。
    </p>
    <p>
     当然我们的类型都是从NXObject这个基类中进行获取的，下面是NXObject包含的内容：
    </p>
    <p>
     <img alt="" height="748" src="https://i-blog.csdnimg.cn/direct/1dca38c790ea42308df704aaf20f883c.png" width="1113"/>
    </p>
    <p>
     public enum AttributeType
     <br/>
     {
     <!-- -->
     <br/>
     Invalid = 0,
     <br/>
     Null = 1,
     <br/>
     Boolean = 2,
     <br/>
     Integer = 3,
     <br/>
     Real = 4,
     <br/>
     String = 5,
     <br/>
     Time = 6,
     <br/>
     Reference = 7,
     <br/>
     Any = 100
     <br/>
     }
     <br/>
     public enum DateAndTimeFormat
     <br/>
     {
     <!-- -->
     <br/>
     Numeric = 0,
     <br/>
     Textual = 1
     <br/>
     }
    </p>
    <p>
     public struct ComputationalTime
     <br/>
     {
     <!-- -->
     <br/>
     public int Day;
     <br/>
     public int Minute;
    </p>
    <p>
     public ComputationalTime(int Day, int Minute);
    </p>
    <p>
     public override string ToString();
     <br/>
     }
     <br/>
     public struct AttributeInformation
     <br/>
     {
     <!-- -->
     <br/>
     public AttributeType Type;
     <br/>
     public Unit Unit;
     <br/>
     public int ArrayElementIndex;
     <br/>
     public bool NotSaved;
     <br/>
     public bool PdmBased;
     <br/>
     public bool Array;
     <br/>
     public bool Unset;
     <br/>
     public bool Required;
     <br/>
     public bool OwnedBySystem;
     <br/>
     public bool Locked;
     <br/>
     public bool IsOverride;
     <br/>
     public bool Inherited;
     <br/>
     public string ReferenceValue;
     <br/>
     public ComputationalTime CompTimeValue;
     <br/>
     public string TimeValue;
     <br/>
     public string StringValue;
     <br/>
     public double RealValue;
     <br/>
     public int IntegerValue;
     <br/>
     public bool BooleanValue;
     <br/>
     public string TitleAlias;
     <br/>
     public string Title;
     <br/>
     public string Category;
     <br/>
     public Expression Expression;
    </p>
    <p>
     public override string ToString();
     <br/>
     }
    </p>
    <p>
     今天要介绍的就是这么多，我们下篇文章再见。
    </p>
    <p>
     散会
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f35333130343033332f:61727469636c652f64657461696c732f313436323432333532" class_="artid" style="display:none">
 </p>
</div>


