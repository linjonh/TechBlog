---
layout: post
title: "Ubuntu-ä¼˜åŒ–-Vim-æŒ‡å—"
date: 2025-03-16 01:03:27 +08:00
description: "æœ¬æŒ‡å—æä¾›æœ€ç²¾ç®€ã€æœ€å®ç”¨çš„Vimé…ç½®ï¼Œæ»¡è¶³ä»£ç è¡¥å…¨ã€è¯­æ³•é«˜äº®ã€ä»£ç æ ¼å¼åŒ–ã€ç›®å½•ç®¡ç†ç­‰å¸¸ç”¨éœ€æ±‚ã€‚"
keywords: "Ubuntu ä¼˜åŒ– Vim æŒ‡å—"
categories: ['Linux']
tags: ['Vim', 'Ubuntu', 'Linux']
artid: "146288665"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146288665
    alt: "Ubuntu-ä¼˜åŒ–-Vim-æŒ‡å—"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146288665
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146288665
cover: https://bing.ee123.net/img/rand?artid=146288665
image: https://bing.ee123.net/img/rand?artid=146288665
img: https://bing.ee123.net/img/rand?artid=146288665
---

# Ubuntu ä¼˜åŒ– Vim æŒ‡å—
Vim æ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œé€šè¿‡åˆé€‚çš„é…ç½®ï¼Œå¯ä»¥å˜æˆä¸€ä¸ªæ¥è¿‘ IDE çš„é«˜æ•ˆå¼€å‘å·¥å…·ã€‚æœ¬æŒ‡å—æä¾› **æœ€ç²¾ç®€ã€æœ€å®ç”¨** çš„ Vim é…ç½®ï¼Œæ»¡è¶³
**ä»£ç è¡¥å…¨ã€è¯­æ³•é«˜äº®ã€ä»£ç æ ¼å¼åŒ–ã€ç›®å½•ç®¡ç†ç­‰å¸¸ç”¨éœ€æ±‚** ã€‚
* * *
### 1 å¿…é¡»å®‰è£…çš„è½¯ä»¶
é¦–å…ˆï¼Œç¡®ä¿ä½ çš„ç³»ç»Ÿå®‰è£…äº† Vim ä»¥åŠç›¸å…³ä¾èµ–ï¼š
# æ›´æ–°ç³»ç»ŸåŒ…
sudo apt update
# å®‰è£… Vimï¼ˆæ¨è gvimï¼Œæ”¯æŒ clipboardï¼‰
sudo apt install vim-gtk -y
# å®‰è£… node.js å’Œ npmï¼ˆç”¨äº coc.nvimï¼‰
sudo apt install nodejs npm -y
# å®‰è£… dos2unixï¼ˆé˜²æ­¢ Windows æ¢è¡Œç¬¦å¯¼è‡´ Vim è§£æé”™è¯¯ï¼‰
sudo apt install dos2unix -y
# å®‰è£… fzfï¼ˆå¿«é€Ÿæœç´¢æ–‡ä»¶ï¼‰
sudo apt install fzf -y
* * *
### 2 å®‰è£… `vim-plug`ï¼ˆæ’ä»¶ç®¡ç†å™¨ï¼‰
curl -fLo ~/.vim/autoload/plug.vim --create-dirs \
https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
* * *
### 3 é…ç½® `~/.vimrc`
vim ~/.vimrc
ç„¶åç²˜è´´ä»¥ä¸‹ **ç²¾ç®€ç‰ˆé…ç½®** ï¼š
" è‡ªåŠ¨å®‰è£… vim-plugï¼ˆå¦‚æœæœªå®‰è£…ï¼‰
if empty(glob('~/.vim/autoload/plug.vim'))
silent !curl -fLo ~/.vim/autoload/plug.vim --create-dirs \
https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
autocmd VimEnter * PlugInstall | source $MYVIMRC
endif
" åŸºç¡€é…ç½®
set number
set relativenumber
set cursorline
set mouse=a
set clipboard=unnamedplus
" ä»£ç ç¼©è¿›
set tabstop=4
set shiftwidth=4
set expandtab
set autoindent
set smartindent
" æœç´¢ä¼˜åŒ–
set ignorecase
set smartcase
set incsearch
set hlsearch
" å¯åŠ¨ä¼˜åŒ–
set lazyredraw
set updatetime=300
" å¯ç”¨æ–‡ä»¶ç±»å‹æ£€æµ‹ & æ’ä»¶æ”¯æŒ
filetype plugin indent on
" æ’ä»¶ç®¡ç†
call plug#begin('~/.vim/plugged')
" ä»£ç è¡¥å…¨ & è¯­æ³•æ£€æŸ¥
Plug 'neoclide/coc.nvim', {'branch': 'release'}
" è¯­æ³•è§£æ & é«˜äº®
Plug 'nvim-treesitter/nvim-treesitter', {'do': ':TSUpdate'}
" ä»£ç ç‰‡æ®µ
Plug 'SirVer/ultisnips'
Plug 'honza/vim-snippets'
" ä»£ç æ ¼å¼åŒ–ï¼ˆPython & JSï¼‰
Plug 'psf/black', { 'for': 'python' }
Plug 'prettier/vim-prettier', { 'do': 'npm install' }
" ç›®å½•æ ‘
Plug 'preservim/nerdtree'
" çŠ¶æ€æ ç¾åŒ–
Plug 'vim-airline/vim-airline'
call plug#end()
" ç»‘å®šå¿«æ·é”®
nnoremap n :NERDTreeToggle " n æ‰“å¼€/å…³é—­ç›®å½•æ ‘
nnoremap f :Files " f æœç´¢æ–‡ä»¶ï¼ˆéœ€è¦ fzfï¼‰
" ä»£ç è¡¥å…¨ï¼ˆCoc.nvimï¼‰
inoremap   pumvisible() ? "\" : "\"
nnoremap  gd (coc-definition) " è·³è½¬åˆ°å®šä¹‰
nnoremap  K :call CocActionAsync('doHover') " æ˜¾ç¤ºæ–‡æ¡£
nnoremap f :CocFix " è‡ªåŠ¨ä¿®å¤ä»£ç 
" ä»£ç æ ¼å¼åŒ–
nnoremap b :Black " Python ä»£ç æ ¼å¼åŒ–
nnoremap p :Prettier " JS/TS/HTML ä»£ç æ ¼å¼åŒ–
* * *
### 4 å®‰è£…æ’ä»¶
æ‰“å¼€ Vimï¼Œè¿è¡Œï¼š
:PlugInstall
ç­‰å¾…æ‰€æœ‰æ’ä»¶å®‰è£…å®Œæˆã€‚
* * *
### 5 ä»£ç è¡¥å…¨ï¼ˆCoc.nvimï¼‰
å®‰è£… Pythonã€C/C++ã€JavaScript çš„ LSPï¼š
:CocInstall coc-python coc-clangd coc-tsserver
* * *
### 6 ç›®å½•æ ‘
ä½¿ç”¨å¿«æ·é”®ï¼š
n
ï¼ˆé»˜è®¤ `leader` æ˜¯ `\`ï¼Œæ‰€ä»¥ `\n` ä¼šæ‰“å¼€/å…³é—­ç›®å½•æ ‘ï¼‰
* * *
### 7 ä»£ç æ ¼å¼åŒ–
nnoremap b :Black " Python æ ¼å¼åŒ–
nnoremap p :Prettier " JS/TS/HTML æ ¼å¼åŒ–
* **Python æ–‡ä»¶** ï¼š`\b` è‡ªåŠ¨æ ¼å¼åŒ–
* **JavaScript/TypeScript/HTML** ï¼š`\p` è‡ªåŠ¨æ ¼å¼åŒ–
* * *
### 8 è¯­æ³•è§£æ + ä»£ç é«˜äº®
**å®‰è£… Treesitter è¯­æ³•è§£æ**
:TSInstall python javascript c cpp html css json
ç„¶ååœ¨ `~/.vimrc` æ·»åŠ ï¼š
lua << EOF
require'nvim-treesitter.configs'.setup {
ensure_installed = "all",
highlight = { enable = true },
indent = { enable = true },
}
EOF
* * *
### 9 ç»ˆæä¼˜åŒ–
è®©çª—å£åˆ‡æ¢æ›´å¿«ï¼š
nnoremap  h
nnoremap  l
nnoremap  j
nnoremap  k
* * *
### ğŸ¯ ç»“è®º
âœ… ä»£ç è¡¥å…¨ï¼ˆCoc.nvimï¼‰
âœ… è¯­æ³•è§£æï¼ˆTreesitterï¼‰
âœ… ä»£ç æ ¼å¼åŒ–ï¼ˆBlack, Prettierï¼‰
âœ… ä»£ç ç‰‡æ®µï¼ˆUltiSnipsï¼‰
âœ… ç›®å½•ç®¡ç†ï¼ˆNERDTreeï¼‰
âœ… çŠ¶æ€æ ç¾åŒ–ï¼ˆAirlineï¼‰
âœ… ç³»ç»Ÿå‰ªè´´æ¿åŒæ­¥
âœ… çª—å£å¿«æ·é”®ä¼˜åŒ–
* * *
### ğŸ”¥ åªéœ€ 3 æ­¥å®Œæˆå®‰è£…
# 1. å®‰è£… Vim & å¿…è¦å·¥å…·
sudo apt update
sudo apt install vim-gtk nodejs npm dos2unix fzf -y
# 2. å®‰è£… vim-plug
curl -fLo ~/.vim/autoload/plug.vim --create-dirs \
https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
# 3. åœ¨ Vim é‡Œè¿è¡Œ
vim ~/.vimrc # å¤åˆ¶ä¸Šé¢çš„é…ç½®
:PlugInstall # å®‰è£…æ’ä»¶
:CocInstall coc-python coc-clangd coc-tsserver # å®‰è£… LSP
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/a76649c80dde4a22873927486a94f0e4.png)
* * *
### ğŸ‰ ç°åœ¨ï¼Œä½ çš„ Vim å·²ç»ä¼˜åŒ–ä¸ºé«˜æ•ˆçš„å¼€å‘å·¥å…·ï¼
å¦‚æœæœ‰å…¶ä»–éœ€è¦ä¼˜åŒ–çš„åœ°æ–¹ï¼Œæ¬¢è¿ç»§ç»­äº¤æµ ğŸš€ğŸ˜Š