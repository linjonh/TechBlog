---
layout: post
title: "jmeter直连数据库使用Jmeter,绕过HTTP接口,直接对数据库进行连接访问和操作"
date: 2024-12-11 16:57:45 +0800
description: "直连数据库业务逻辑如下图所示：一、为什么需要直连数据库？    ①定位问题：用户调用接口返回数据，是"
keywords: "jmeter怎么绕过登录"
categories: ['软件测试', '接口测试', 'Jmeter']
tags: ['数据库', 'Jmeter']
artid: "120873977"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=120873977
    alt: "jmeter直连数据库使用Jmeter,绕过HTTP接口,直接对数据库进行连接访问和操作"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=120873977
featuredImagePreview: https://bing.ee123.net/img/rand?artid=120873977
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     jmeter直连数据库（使用Jmeter，绕过HTTP接口，直接对数据库进行连接、访问和操作）
    </h1>
   </div>
   <div class="ai-article-tag" id="ai-article-tag">
    <div class="ai-article-tag-box">
     <p class="ai-article-tag-item-active">
      <img alt="" class="item-target" src="https://img-home.csdnimg.cn/images/20240715101418.png"/>
     </p>
     <a class="ai-article-tag-item" data-report-click='{"spm":"3001.10231","extra":{"searchword":"JMeter"}}' data-report-query="spm=1001.2101.3001.10231" data-report-view='{"spm":"3001.10231","extra":{"searchword":"JMeter"}}' href="https://so.csdn.net/so/search/s.do?q=JMeter&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" target="_blank">
      <span>
       JMeter
      </span>
     </a>
     <a class="ai-article-tag-item" data-report-click='{"spm":"3001.10231","extra":{"searchword":"数据库直连"}}' data-report-query="spm=1001.2101.3001.10231" data-report-view='{"spm":"3001.10231","extra":{"searchword":"数据库直连"}}' href="https://so.csdn.net/so/search/s.do?q=%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%B4%E8%BF%9E&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" target="_blank">
      <span>
       数据库直连
      </span>
     </a>
     <a class="ai-article-tag-item" data-report-click='{"spm":"3001.10231","extra":{"searchword":"接口测试"}}' data-report-query="spm=1001.2101.3001.10231" data-report-view='{"spm":"3001.10231","extra":{"searchword":"接口测试"}}' href="https://so.csdn.net/so/search/s.do?q=%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" target="_blank">
      <span>
       接口测试
      </span>
     </a>
     <a class="ai-article-tag-item" data-report-click='{"spm":"3001.10231","extra":{"searchword":"SQL"}}' data-report-query="spm=1001.2101.3001.10231" data-report-view='{"spm":"3001.10231","extra":{"searchword":"SQL"}}' href="https://so.csdn.net/so/search/s.do?q=SQL&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" target="_blank">
      <span>
       SQL
      </span>
     </a>
     <a class="ai-article-tag-item" data-report-click='{"spm":"3001.10231","extra":{"searchword":"测试数据提取"}}' data-report-query="spm=1001.2101.3001.10231" data-report-view='{"spm":"3001.10231","extra":{"searchword":"测试数据提取"}}' href="https://so.csdn.net/so/search/s.do?q=%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE%E6%8F%90%E5%8F%96&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" target="_blank">
      <span>
       测试数据提取
      </span>
     </a>
    </div>
    <span class="ai-article-tag-text">
     关键词由CSDN通过智能技术生成
    </span>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     直连数据库业务逻辑如下图所示：
    </p>
    <p>
     <img alt="" height="181" src="https://i-blog.csdnimg.cn/blog_migrate/b4bb2b38ef54135a4637afd7e80afa53.png" width="612">
     </img>
    </p>
    <p>
     一、为什么需要直连数据库？
    </p>
    <p>
     ①定位问题：用户调用接口返回数据，是应用软件通过接口传递的数据，如果发生问题，无法知道是接口引起的问题，还是数据库本身的问题
    </p>
    <p>
     ②人工误差：看走眼、看花眼
    </p>
    <p>
     ③测试数据提取：比如考研的学生信息，从考研办公室中导出来，导出到一个数据库文件中。然后接口测试，从这个数据库  中提取考研的学生信息，比如id，作为接口调用的参数值，调用学生信息管理系统的接口，查询这些学生信息，判断预期和实际是否相符
    </p>
    <p>
     <span style="color:#fe2c24;">
      <strong>
       二、操作步骤
      </strong>
     </span>
    </p>
    <p>
     （1）添加数据库直连驱动
     <br/>
     ①驱动jar包：用来实现jmeter连接数据库的桥梁
     <br/>
     ②获取驱动jar包：去数据库官网获取，或百度 jdbc+数据库类型+jar包
     <br/>
     ③添加jar包方法：
    </p>
    <p>
     第一种方法：测试计划-找到驱动目录添加到“添加目录或jar包到classpath”
    </p>
    <p>
     <img alt="" height="201" src="https://i-blog.csdnimg.cn/blog_migrate/69c6fc4e3de169f2121aab8dcfa6e87c.png" width="545">
      <br/>
      第二种方法：在jmeter的lib目录下添加，重启jmeter才会生效
      <br/>
      （2）配置数据库直连信息
      <br/>
      ①配置哪些信息
      <br/>
      ---选择数据库类型
      <br/>
      ---定位数据库所在位置URL，告诉数据库文件的路径和文件名
      <br/>
      ---告诉jmeter权限：用户名、密码
      <br/>
      ---以上配置信息封装到一个变量中
      <br/>
      ②如何配置
      <br/>
      ---添加配置元件：测试计划-配置元件jdbc connection configuration
     </img>
    </p>
    <p>
     <img alt="" height="437" src="https://i-blog.csdnimg.cn/blog_migrate/d77681b6a6fb4594514621508fb7fa5a.png" width="589">
      <br/>
      ---填写配置信息（
      <span style="color:#333333;">
       为空或者没有标注的，可以保持默认设置。
      </span>
      以sqlite数据库为例）
      <br/>
      sqlite不需要Username和Password，其他数据库按要求填写
     </img>
    </p>
    <p>
     <img alt="" height="124" src="https://i-blog.csdnimg.cn/blog_migrate/63d6741b0d8d4a19e3fbb82d1778af43.png" width="589"/>
    </p>
    <p>
     <img alt="" height="186" src="https://i-blog.csdnimg.cn/blog_migrate/6197a55e3a47dd0fed25e5b440c54fe0.png" width="588">
      <br/>
      （3）创建数据库直连请求
      <br/>
      ①添加直连请求取样器：测试计划-线程组-取样器-jdbc request
     </img>
    </p>
    <p>
     <img alt="" height="408" src="https://i-blog.csdnimg.cn/blog_migrate/8b0bb994782d827d45a1b1c17b83f6f6.png" width="590">
      <br/>
      ②设置数据库直连请求，编写数据库直连语句-SQL
      <br/>
      <img alt="" height="170" src="https://i-blog.csdnimg.cn/blog_migrate/f10c360009610b6db7071095522a4ec6.png" width="557">
       <br/>
       注意：一个jdbc请求只能填写一条sql语句
       <br/>
       （4）运行调试
      </img>
     </img>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6368656e6764697969796f2f:61727469636c652f64657461696c732f313230383733393737" class_="artid" style="display:none">
 </p>
</div>


