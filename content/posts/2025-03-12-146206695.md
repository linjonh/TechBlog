---
layout: post
title: "Vue组件通信"
date: 2025-03-12 15:36:02 +0800
description: "vue组件的通信"
keywords: "Vue组件通信"
categories: ['未分类']
tags: ['前端', 'Vue', 'Javascript']
artid: "146206695"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146206695
    alt: "Vue组件通信"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146206695
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146206695
cover: https://bing.ee123.net/img/rand?artid=146206695
image: https://bing.ee123.net/img/rand?artid=146206695
img: https://bing.ee123.net/img/rand?artid=146206695
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Vue组件通信
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="Vue_0">
     </a>
     <strong>
      Vue组件通信
     </strong>
    </h3>
    <p>
     Vue组件放在components目录：
    </p>
    <p>
     1、组件是对于HTML标签的扩展
    </p>
    <p>
     2、以.vue结尾的文件都是叫做组件
    </p>
    <p>
     APP.vue叫做根组件
    </p>
    <p>
     <strong>
      <code>
       TODO: 组件的文件名字的首字母大写
      </code>
     </strong>
    </p>
    <p>
     <strong>
      组件的引入
     </strong>
    </p>
    <p>
     <code>
      import Xxx from './components/Xxx.vue'
     </code>
    </p>
    <p>
     <em>
      App.vue:
     </em>
    </p>
    <pre><code class="prism language-vue">&lt;script&gt;
import Swiper1 from './components/Swiper.vue'
export default{
  components:{
    Swiper222:Swiper1
  }
}
&lt;/script&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;Swiper222&gt;&lt;/Swiper222&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
    <p>
     <em>
      规范写法：
     </em>
    </p>
    <pre><code class="prism language-vue">&lt;script&gt;
import Swiper from './components/Swiper.vue'

export default {
  components: {
    Swiper // 使用一致的命名（可以省略冒号后面的）
  }
}
&lt;/script&gt;

&lt;template&gt;
  &lt;div&gt;
    &lt;Swiper&gt;&lt;/Swiper&gt; 
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
    <p>
     <strong>
      建议写成：（通过 script setup 默认导入）只需导入过后就可以在template中调用了
     </strong>
    </p>
    <pre><code class="prism language-vue">&lt;script setup&gt;
import Swiper from './components/Swiper.vue'

&lt;/script&gt;

&lt;template&gt;
  &lt;div&gt;
    &lt;Swiper&gt;&lt;/Swiper&gt; 
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
    <p>
     在template中相当于是引入了一个&lt;Swiper222&gt;&lt;/Swiper222&gt;的标签
    </p>
    <p>
     <em>
      Swiper.vue：
     </em>
    </p>
    <pre><code class="prism language-vue">&lt;template&gt;
    &lt;div&gt;
        这个是一个swiper组件
    &lt;/div&gt;
&lt;/template&gt;
</code></pre>
    <p>
     上述操作相当于是将Swiper.vue 的相关内容通过导入，封装为一个新的标签供App.vue进行调用
    </p>
    <hr/>
    <h4>
     <a id="_85">
     </a>
     <strong>
      组件传值
     </strong>
    </h4>
    <hr/>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/f310527aa6d84bff94f4cb9975182932.png"/>
    </p>
    <p>
     <strong>
      1、父组件—》传递数据到—》子组件
     </strong>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/9b46ea68818646b29ce73bc5667b3193.png">
      <br/>
      父组件中：
     </img>
    </p>
    <p>
     &lt;子组件名称 :变量=父组件将要传递的数据&gt;&lt;/子组件名称&gt;
    </p>
    <pre><code class="prism language-vue">&lt;template&gt;
&lt;!-- 父组件传值给子组件 --&gt;
&lt;!-- 在父组件中调用 子组件的属性名进行绑定数据 --&gt;
&lt;Header :fatherList="List"&gt;&lt;/Header&gt;
&lt;/template&gt;

&lt;script setup&gt;
import Header from './components/Header.vue';
const List =[1,2,3,4,5,6,7,8,9,10]

&lt;/script&gt;
</code></pre>
    <p>
     Header.vue
    </p>
    <pre><code class="prism language-vue">&lt;template&gt;
    &lt;div&gt;
        这是一个header组件
        &lt;div v-for="(item,index) in fatherList" :key="index"&gt;
            {<!-- -->{item}}
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
// 子组件接收父组件传过来的数据
const props = defineProps({
    fatherList:{
        type:Array,
        default:[]
    }
})

&lt;/script&gt;
</code></pre>
    <p>
     <strong>
      2、子组件—》传递数据到—》父组件
     </strong>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/ea36472b723b404f9d771db01542e917.png"/>
    </p>
    <h4>
     <a id="_142">
     </a>
     步骤流程
    </h4>
    <ol>
     <li>
      <p>
       <strong>
        父组件
        <code>
         App.vue
        </code>
       </strong>
       :
      </p>
      <ul>
       <li>
        <strong>
         导入子组件
        </strong>
        ：导入
        <code>
         Header
        </code>
        组件。
       </li>
       <li>
        <strong>
         监听子组件事件
        </strong>
        ：在模板中使用
        <code>
         @sendData="handleDataFromChild"
        </code>
        监听子组件触发的
        <code>
         sendData
        </code>
        事件。
       </li>
       <li>
        <strong>
         定义事件处理方法
        </strong>
        ：定义
        <code>
         handleDataFromChild
        </code>
        方法来处理从子组件接收到的数据，并将其存储在
        <code>
         childData
        </code>
        中。
       </li>
       <li>
        <strong>
         显示数据
        </strong>
        ：在模板中显示从子组件接收到的数据。
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        子组件
        <code>
         Header.vue
        </code>
       </strong>
       :
      </p>
      <ul>
       <li>
        <strong>
         定义事件
        </strong>
        ：使用
        <code>
         defineEmits
        </code>
        定义一个名为
        <code>
         sendData
        </code>
        的事件。
       </li>
       <li>
        <strong>
         触发事件
        </strong>
        ：在按钮点击事件中，使用
        <code>
         emit('sendData', dataToSend)
        </code>
        发送数据给父组件
       </li>
      </ul>
     </li>
    </ol>
    <p>
     App.vue:
    </p>
    <pre><code class="prism language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;Header @sendData="handleDataFromChild"&gt;&lt;/Header&gt;
    &lt;p&gt;Data from child: {<!-- -->{ childData }}&lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import Header from './components/Header.vue';
import { ref } from 'vue';

const childData = ref('');

const handleDataFromChild = (data) =&gt; {
  childData.value = data;
};
&lt;/script&gt;
</code></pre>
    <p>
     Header.vue:
    </p>
    <pre><code class="prism language-vue">&lt;template&gt;
    &lt;div&gt;
      &lt;button @click="sendDataToParent"&gt;Send Data to Parent&lt;/button&gt;
    &lt;/div&gt;
  &lt;/template&gt;
  
  &lt;script setup&gt;
  import { defineEmits } from 'vue';
  
  const emit = defineEmits(['sendData']);
  
  const sendDataToParent = () =&gt; {
    const dataToSend = 'Data from Header component';
    emit('sendData', dataToSend);
  };
  &lt;/script&gt;
</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f37333539353034332f:61727469636c652f64657461696c732f313436323036363935" class_="artid" style="display:none">
 </p>
</div>


