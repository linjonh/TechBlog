---
layout: post
title: "微服务与无服务器我的理解与实践"
date: 2025-03-06 17:14:45 +0800
description: "在实际项目中，我更倾向于无服务器，因为它更符合模块化的思想，并且通过消息队列可以很好地解耦各个组件。如果是长期运行的复杂系统，选择微服务。如果是临时性计算任务或API服务，无服务器更具优势。当然，两者也可以结合使用。例如，在一个微服务架构中，某些特定的计算任务可以交给无服务器函数执行，从而减少运维负担并提高成本效益。这就是我对微服务和无服务器的理解，希望能对你有所帮助！"
keywords: "微服务与无服务器：我的理解与实践"
categories: ['无服务', '云计算']
tags: ['微服务', 'Serverless', 'Java']
artid: "146075345"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146075345
    alt: "微服务与无服务器我的理解与实践"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146075345
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146075345
cover: https://bing.ee123.net/img/rand?artid=146075345
image: https://bing.ee123.net/img/rand?artid=146075345
img: https://bing.ee123.net/img/rand?artid=146075345
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     微服务与无服务器：我的理解与实践
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     在实际开发中，我经常思考一个问题：到底该用微服务（Microservices）还是无服务器（Serverless）？两者看似相似，都是现代架构模式的一部分，但在具体的应用场景、开发方式以及运维模式上有着本质的区别。
    </p>
    <h3 id="微服务-vs-无服务器：核心区别">
     微服务 vs 无服务器：核心区别
    </h3>
    <p>
     为了更直观地理解它们的不同，我整理了一个对比表格：
    </p>
    <table>
     <thead>
      <tr>
       <th>
        特性
       </th>
       <th>
        微服务（Microservices）
       </th>
       <th>
        无服务器（Serverless）
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        部署方式
       </td>
       <td>
        运行在容器或虚拟机
       </td>
       <td>
        运行在云平台的函数计算环境
       </td>
      </tr>
      <tr>
       <td>
        伸缩性
       </td>
       <td>
        需要手动配置和管理自动扩展
       </td>
       <td>
        按需自动伸缩
       </td>
      </tr>
      <tr>
       <td>
        运行状态
       </td>
       <td>
        服务长期运行，需要保持实例存活
       </td>
       <td>
        仅在有请求时执行，短暂运行
       </td>
      </tr>
      <tr>
       <td>
        资源利用率
       </td>
       <td>
        可能存在闲置资源
       </td>
       <td>
        按请求付费，更高效
       </td>
      </tr>
      <tr>
       <td>
        复杂度
       </td>
       <td>
        需要管理多个微服务，配置复杂
       </td>
       <td>
        业务逻辑为主，开发相对简单
       </td>
      </tr>
      <tr>
       <td>
        适用场景
       </td>
       <td>
        适用于复杂业务系统
       </td>
       <td>
        适用于事件驱动型应用，如API、任务调度
       </td>
      </tr>
      <tr>
       <td>
        启动时间
       </td>
       <td>
        取决于容器/服务初始化时间
       </td>
       <td>
        冷启动可能有延迟，但一般更快
       </td>
      </tr>
      <tr>
       <td>
        成本模型
       </td>
       <td>
        需要维护固定服务器成本
       </td>
       <td>
        按调用次数付费，更灵活
       </td>
      </tr>
      <tr>
       <td>
        依赖管理
       </td>
       <td>
        需要考虑数据库、缓存、服务间通信
       </td>
       <td>
        受限于云厂商提供的服务
       </td>
      </tr>
     </tbody>
    </table>
    <h3 id="为什么我更喜欢无服务器？">
     为什么我更喜欢无服务器？
    </h3>
    <p>
     在我的开发经验中，微服务虽然提供了较好的模块化和可扩展性，但它带来的复杂性让我头疼。维护多个微服务不仅要考虑它们之间的通信，还要处理跨系统的一致性问题，尤其是全局事务。如果一开始架构设计不够完善，后续的功能扩展就会受限。
    </p>
    <p>
     相比之下，我更喜欢无服务器的特性，它允许我将应用拆分成更独立的模块，并通过消息队列来处理不同的流程。这样，每个逻辑都清晰可见，我可以通过分析消息队列的流转情况，找到优化点，提高系统效率。
    </p>
    <h3 id="什么时候使用微服务？">
     什么时候使用微服务？
    </h3>
    <p>
     尽管我个人偏好无服务器，但微服务仍然有其适用场景，例如：
    </p>
    <ol>
     <li>
      <strong>
       大型系统
      </strong>
      ：当系统需要多个团队并行开发时，微服务能提供较好的解耦。
     </li>
     <li>
      <strong>
       需要高可用性和可扩展性
      </strong>
      ：如果应用需要高度可控的扩展策略，微服务是不错的选择。
     </li>
     <li>
      <strong>
       复杂业务逻辑
      </strong>
      ：当业务流程涉及多个组件、数据库和外部系统时，微服务提供了更好的组织方式。
     </li>
     <li>
      <strong>
       需要长期运行的服务
      </strong>
      ：如WebSocket服务器、实时数据处理等。
     </li>
    </ol>
    <h3 id="什么时候使用无服务器？">
     什么时候使用无服务器？
    </h3>
    <p>
     相比之下，无服务器架构更适合以下场景：
    </p>
    <ol>
     <li>
      <strong>
       事件驱动应用
      </strong>
      ：如消息队列处理、文件上传后触发数据处理。
     </li>
     <li>
      <strong>
       API 服务
      </strong>
      ：短暂的HTTP请求处理，如REST API 或 GraphQL 端点。
     </li>
     <li>
      <strong>
       数据处理任务
      </strong>
      ：定期运行的数据清洗、日志分析、定时任务等。
     </li>
     <li>
      <strong>
       成本敏感的项目
      </strong>
      ：对于低流量应用，无服务器架构避免了闲置资源的成本。
     </li>
    </ol>
    <h3 id="个人总结">
     个人总结
    </h3>
    <p>
     在实际项目中，我更倾向于无服务器，因为它更符合模块化的思想，并且通过消息队列可以很好地解耦各个组件。
    </p>
    <ul>
     <li>
      <strong>
       如果是长期运行的复杂系统，选择微服务。
      </strong>
     </li>
     <li>
      <strong>
       如果是临时性计算任务或API服务，无服务器更具优势。
      </strong>
     </li>
    </ul>
    <p>
     当然，两者也可以结合使用。例如，在一个微服务架构中，某些特定的计算任务可以交给无服务器函数执行，从而减少运维负担并提高成本效益。
    </p>
    <p>
     这就是我对微服务和无服务器的理解，希望能对你有所帮助！
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470:733a2f2f626c6f672e6373646e2e6e65742f6678727a31322f:61727469636c652f64657461696c732f313436303735333435" class_="artid" style="display:none">
 </p>
</div>


