---
layout: post
title: "Java-去除小数点后面多余的0"
date: 2024-02-04 15:43:28 +0800
description: "问题描述：业务中，从excel里读取销售价格，取出来的数据并不是整数，而是数字后面带有小数点和零。（"
keywords: "java bigdecimal 去除多余的0"
categories: ['Java']
tags: ['正则表达式', 'Java', 'Excel']
artid: "56682683"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=56682683
    alt: "Java-去除小数点后面多余的0"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=56682683
featuredImagePreview: https://bing.ee123.net/img/rand?artid=56682683
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Java 去除小数点后面多余的0
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <pre class="form-control font-rich has-selection" id="wmd-input" style="width:624px; height:460px; display:block"><span class="wmd-input-section" id="wmd-input-section-2"><span class="token p">问题描述：业务中，从excel里读取销售价格，取出来的数据并不是整数，而是数字后面带有小数点和零。（销售价为123，但是实际上取出来是123.0）</span><span class="token lf">
</span><span class="token p">问题解决：利用正则表达式解决</span><span class="token lf">
</span><span class="token lf">
</span></span><span class="wmd-input-section" id="wmd-input-section-3"><span class="token pre gfm"><span class="token md md-pre">```</span><span class="token lf">
</span>import java.math.BigDecimal;<span class="token lf">
</span>import java.text.NumberFormat;<span class="token lf">
</span>import java.text.ParseException;<span class="token lf">
</span>import java.text.SimpleDateFormat;<span class="token lf">
</span>import java.util.Date;<span class="token lf">
</span><span class="token lf">
</span>public class Test {<!-- --><span class="token lf">
</span><span class="token lf">
</span>	public static void main(String[] args) throws ParseException {<!-- --><span class="token lf">
</span>		BigDecimal b1 = new BigDecimal("1.345550000");<span class="token lf">
</span>		BigDecimal b2 = new BigDecimal("123.0");<span class="token lf">
</span>		System.out.println(b1);<span class="token lf">
</span>		System.out.println(b2);	                                            
                System.out.println(rvZeroAndDot(b1.toString()));         
                System.out.println(rvZeroAndDot(b2.toString()));<span class="token lf">
</span>		}<span class="token lf">
</span>	<span class="token lf">
</span>        public static String rvZeroAndDot(String s){  <span class="token lf">
</span>    	       if (s.isEmpty()) {<!-- --><span class="token lf">
</span>		  return null;<span class="token lf">
</span>		     }<span class="token lf">
</span>               if(s.indexOf(".") &gt; 0){  <span class="token lf">
</span>               s = s.replaceAll("0+?$", "");//去掉多余的0  <span class="token lf">
</span>               s = s.replaceAll("[.]$", "");//如最后一位是.则去掉  <span class="token lf">
</span>               }  <span class="token lf">
</span>              return s;  <span class="token lf">
</span>         }  <span class="token lf">
</span>	<span class="token lf">
</span>	<span class="token lf">
</span><span class="token lf">
</span>}<span class="token lf">
</span><span class="token lf">
</span><span class="token lf">
</span><span class="token md md-pre">```</span></span></span><span class="token lf">
</span></pre>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f7a687568616f68656c6c6f776f726c64:2f61727469636c652f64657461696c732f3536363832363833" class_="artid" style="display:none">
 </p>
</div>


