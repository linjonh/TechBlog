---
layout: post
title: "MYSQLå­—ç¬¦é›†ç¼–ç å·®å¼‚å¯¼è‡´çš„å¼‚å¸¸"
date: 2025-03-11 12:04:15 +0800
description: "åœ¨ MySQL ä¸­ï¼Œå­—ç¬¦é›†ç¼–ç ä¸åŒ¹é…å¯èƒ½ä¼šå¯¼è‡´å¤šç§å¼‚å¸¸ï¼Œå¦‚ æ’å…¥å¤±è´¥ã€æŸ¥è¯¢ä¹±ç ã€æ•°æ®æˆªæ–­ã€æ— æ³•æ¯”è¾ƒå­—ç¬¦ä¸² ç­‰"
keywords: "MYSQLã€å­—ç¬¦é›†ç¼–ç å·®å¼‚å¯¼è‡´çš„å¼‚å¸¸ã€‘"
categories: ['æœªåˆ†ç±»']
tags: ['æ•°æ®åº“', 'Mysql']
artid: "146175193"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146175193
    alt: "MYSQLå­—ç¬¦é›†ç¼–ç å·®å¼‚å¯¼è‡´çš„å¼‚å¸¸"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146175193
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146175193
cover: https://bing.ee123.net/img/rand?artid=146175193
image: https://bing.ee123.net/img/rand?artid=146175193
img: https://bing.ee123.net/img/rand?artid=146175193
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     MYSQLã€å­—ç¬¦é›†ç¼–ç å·®å¼‚å¯¼è‡´çš„å¼‚å¸¸ã€‘
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="1__0">
     </a>
     1. æ’å…¥æ•°æ®æ—¶æŠ¥é”™
    </h2>
    <h3>
     <a id="_1Incorrect_string_value_1">
     </a>
     é—®é¢˜ 1ï¼šIncorrect string valueï¼ˆå­—ç¬¦ä¸²å€¼é”™è¯¯ï¼‰
    </h3>
    <h4>
     <a id="_2">
     </a>
     é”™è¯¯ç¤ºä¾‹ï¼š
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> my_table <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'ğŸ˜€'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="_8">
     </a>
     å¯èƒ½çš„é”™è¯¯æ¶ˆæ¯ï¼š
    </h4>
    <pre><code class="prism language-sql">ERROR <span class="token number">1366</span> <span class="token punctuation">(</span>HY000<span class="token punctuation">)</span>: Incorrect string <span class="token keyword">value</span>: <span class="token string">'\xF0\x9F\x98\x80'</span> <span class="token keyword">for</span> <span class="token keyword">column</span> <span class="token string">'name'</span> at <span class="token keyword">row</span> <span class="token number">1</span>
</code></pre>
    <h4>
     <a id="_14">
     </a>
     åŸå› ï¼š
    </h4>
    <p>
     è¡¨çš„å­—ç¬¦é›†æ˜¯ utf8ï¼Œä½† utf8 æœ€å¤šæ”¯æŒ 3 å­—èŠ‚ï¼Œè€Œ emoji éœ€è¦ 4 å­—èŠ‚ã€‚
    </p>
    <h4>
     <a id="_17">
     </a>
     è§£å†³æ–¹æ¡ˆï¼š
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> my_table <span class="token keyword">CONVERT</span> <span class="token keyword">TO</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8mb4 <span class="token keyword">COLLATE</span> utf8mb4_general_ci<span class="token punctuation">;</span>
</code></pre>
    <p>
     utf8mb4 æ˜¯ utf8 çš„è¶…é›†ï¼Œæ”¯æŒ 4 å­—èŠ‚å­—ç¬¦ï¼ˆå¦‚ emojiï¼‰ã€‚
     <br/>
     utf8mb4_general_ci æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„æ’åºè§„åˆ™ã€‚
    </p>
    <h2>
     <a id="2__25">
     </a>
     2. æŸ¥è¯¢ä¹±ç 
    </h2>
    <h3>
     <a id="_2_26">
     </a>
     é—®é¢˜ 2ï¼šæŸ¥è¯¢æ—¶è¿”å›ä¹±ç 
    </h3>
    <h4>
     <a id="_27">
     </a>
     ç¤ºä¾‹ï¼š
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">SELECT</span> name <span class="token keyword">FROM</span> my_table<span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="_33">
     </a>
     å¯èƒ½çš„ç»“æœï¼š
    </h4>
    <pre><code class="prism language-sql">ÃƒÂ¥Ã‚Â¥Ã‚Â½ÃƒÂ¤Ã‚Â¸Ã‚â€“ÃƒÂ§Ã‚â€¢Ã‚Å’
</code></pre>
    <h4>
     <a id="_39">
     </a>
     åŸå› ï¼š
    </h4>
    <p>
     å®¢æˆ·ç«¯å’Œ MySQL æœåŠ¡å™¨çš„å­—ç¬¦é›†ä¸åŒ¹é…ã€‚
    </p>
    <h4>
     <a id="_42">
     </a>
     æ’æŸ¥æ­¥éª¤ï¼š
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">SHOW</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">'character_set_%'</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     å¦‚æœ character_set_client, character_set_connection, character_set_results ä¸æ˜¯ utf8mb4ï¼Œå¯èƒ½å¯¼è‡´ä¹±ç ã€‚
    </p>
    <h4>
     <a id="_50">
     </a>
     è§£å†³æ–¹æ¡ˆï¼š
    </h4>
    <pre><code class="prism language-sql"><span class="token keyword">SET</span> NAMES utf8mb4<span class="token punctuation">;</span>
</code></pre>
    <p>
     æˆ–è€…åœ¨ Java è¿æ¥ MySQL æ—¶ï¼Œç¡®ä¿ JDBC URL è®¾ç½®æ­£ç¡®ï¼š
    </p>
    <pre><code class="prism language-java"><span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">"jdbc:mysql://localhost:3306/mydb?useUnicode=true&amp;characterEncoding=utf8mb4"</span><span class="token punctuation">;</span>
</code></pre>
    <h2>
     <a id="3__62">
     </a>
     3. æ•°æ®æˆªæ–­
    </h2>
    <h3>
     <a id="_3_63">
     </a>
     é—®é¢˜ 3ï¼šå­—ç¬¦ä¸²è¢«æˆªæ–­
    </h3>
    <h4>
     <a id="_64">
     </a>
     é”™è¯¯ç¤ºä¾‹ï¼š
    </h4>
    <pre><code class="prism language-java"><span class="token constant">CREATE</span> <span class="token class-name">TABLE</span> my_table <span class="token punctuation">(</span>
    name <span class="token function">VARCHAR</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token constant">CHARACTER</span> <span class="token class-name">SET</span> utf8mb4
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token constant">INSERT</span> <span class="token class-name">INTO</span> my_table <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token constant">VALUES</span> <span class="token punctuation">(</span>'ğ„ğ„ğ„ğ„ğ„'<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token operator">--</span> <span class="token number">5</span> ä¸ª <span class="token number">4</span> å­—èŠ‚å­—ç¬¦
</code></pre>
    <h4>
     <a id="_74">
     </a>
     é”™è¯¯æ¶ˆæ¯ï¼š
    </h4>
    <pre><code class="prism language-java"><span class="token class-name">Data</span> truncated <span class="token keyword">for</span> column <span class="token char">'name'</span> at row <span class="token number">1</span>
</code></pre>
    <h4>
     <a id="_80">
     </a>
     åŸå› ï¼š
    </h4>
    <p>
     VARCHAR(10) æŒ‡å®šé•¿åº¦ ä»¥å­—ç¬¦è®¡ï¼Œä½† utf8mb4 å¯èƒ½å  4 å­—èŠ‚/å­—ç¬¦ï¼Œè¶…å‡ºå­˜å‚¨é™åˆ¶ã€‚
    </p>
    <h4>
     <a id="_83">
     </a>
     è§£å†³æ–¹æ¡ˆï¼š
    </h4>
    <p>
     å¢åŠ å­˜å‚¨é•¿åº¦ï¼š
    </p>
    <pre><code class="prism language-java"><span class="token constant">ALTER</span> <span class="token constant">TABLE</span> my_table <span class="token constant">MODIFY</span> name <span class="token function">VARCHAR</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span> <span class="token constant">CHARACTER</span> <span class="token class-name">SET</span> utf8mb4<span class="token punctuation">;</span>
</code></pre>
    <p>
     ä½¿ç”¨ TEXT ç±»å‹å­˜å‚¨é•¿å­—ç¬¦ä¸²ï¼š
    </p>
    <pre><code class="prism language-java"><span class="token constant">ALTER</span> <span class="token constant">TABLE</span> my_table <span class="token constant">MODIFY</span> name <span class="token constant">TEXT</span> <span class="token constant">CHARACTER</span> <span class="token class-name">SET</span> utf8mb4<span class="token punctuation">;</span>
</code></pre>
    <h2>
     <a id="4__97">
     </a>
     4. æ¯”è¾ƒå­—ç¬¦ä¸²å¼‚å¸¸
    </h2>
    <h3>
     <a id="_4_98">
     </a>
     é—®é¢˜ 4ï¼šæ’åºè§„åˆ™å¯¼è‡´æ¯”è¾ƒå¤±è´¥
    </h3>
    <h4>
     <a id="_99">
     </a>
     ç¤ºä¾‹ï¼š
    </h4>
    <pre><code class="prism language-java"><span class="token constant">SELECT</span> <span class="token char">'a'</span> <span class="token operator">=</span> <span class="token char">'A'</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="_105">
     </a>
     å¯èƒ½çš„ç»“æœï¼ˆä¸åŒæ’åºè§„åˆ™å½±å“æ¯”è¾ƒè¡Œä¸ºï¼‰ï¼š
    </h4>
    <p>
     æ’åºè§„åˆ™ ç»“æœ
     <br/>
     utf8mb4_general_ci TRUE
     <br/>
     utf8mb4_bin FALSE
    </p>
    <h4>
     <a id="_110">
     </a>
     åŸå› ï¼š
    </h4>
    <p>
     utf8mb4_general_ci æ˜¯ ä¸åŒºåˆ†å¤§å°å†™ çš„ã€‚
     <br/>
     utf8mb4_bin æ˜¯ åŒºåˆ†å¤§å°å†™ çš„ã€‚
    </p>
    <h4>
     <a id="_114">
     </a>
     è§£å†³æ–¹æ¡ˆï¼š
    </h4>
    <p>
     å¦‚æœéœ€è¦ä¸¥æ ¼åŒºåˆ†å¤§å°å†™ï¼š
    </p>
    <pre><code class="prism language-java"><span class="token constant">ALTER</span> <span class="token constant">TABLE</span> my_table <span class="token constant">CONVERT</span> <span class="token constant">TO</span> <span class="token constant">CHARACTER</span> <span class="token constant">SET</span> utf8mb4 <span class="token class-name">COLLATE</span> utf8mb4_bin<span class="token punctuation">;</span>
</code></pre>
    <h2>
     <a id="5_Java__MySQL__121">
     </a>
     5. Java è¿æ¥ MySQL æ—¶å­—ç¬¦é›†ä¸åŒ¹é…
    </h2>
    <h3>
     <a id="_5JDBC__MySQL__122">
     </a>
     é—®é¢˜ 5ï¼šJDBC è¿æ¥ MySQL æ—¶æ’å…¥æ•°æ®ä¹±ç 
    </h3>
    <h4>
     <a id="Java__123">
     </a>
     é”™è¯¯ç¤ºä¾‹ï¼ˆJava ä»£ç ï¼‰ï¼š
    </h4>
    <pre><code class="prism language-java"><span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">"jdbc:mysql://localhost:3306/mydb"</span><span class="token punctuation">;</span>
<span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token string">"root"</span><span class="token punctuation">,</span> <span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">PreparedStatement</span> pstmt <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span><span class="token string">"INSERT INTO my_table (name) VALUES (?)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
pstmt<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"ä½ å¥½"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
pstmt<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="_134">
     </a>
     å¯èƒ½çš„é”™è¯¯ï¼š
    </h4>
    <p>
     æ’å…¥åï¼ŒæŸ¥è¯¢æ•°æ®åº“å‘ç° ä½ å¥½ å˜æˆ ??? æˆ–ä¹±ç ã€‚
    </p>
    <h4>
     <a id="_137">
     </a>
     åŸå› ï¼š
    </h4>
    <p>
     JDBC é»˜è®¤ç¼–ç  å¯èƒ½ä¸æ˜¯ utf8mb4ï¼Œå¯¼è‡´æ•°æ®å­˜å‚¨æ—¶ä¸¢å¤±ä¿¡æ¯ã€‚
    </p>
    <h4>
     <a id="_140">
     </a>
     è§£å†³æ–¹æ¡ˆï¼š
    </h4>
    <p>
     åœ¨ JDBC URL ä¸­æ·»åŠ  useUnicode=true&amp;characterEncoding=utf8mb4ï¼š
    </p>
    <pre><code class="prism language-java"><span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">"jdbc:mysql://localhost:3306/mydb?useUnicode=true&amp;characterEncoding=utf8mb4"</span><span class="token punctuation">;</span>
</code></pre>
    <h2>
     <a id="_146">
     </a>
     æ€»ç»“
    </h2>
    <p>
     <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://i-blog.csdnimg.cn/direct/092702d3aeed469c8ea968bbeb2a5227.png"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34343235393231322f:61727469636c652f64657461696c732f313436313735313933" class_="artid" style="display:none">
 </p>
</div>


