---
layout: post
title: "数字EDA研究之Yosys简介"
date: 2024-03-20 17:05:10 +0800
description: "开源逻辑综合工具-Yosys简介_yosys"
keywords: "yosys"
categories: ['我的Fpga', '开源Fpga', 'Eda']
tags: ['开源', 'Fpga']
artid: "136875911"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=136875911
    alt: "数字EDA研究之Yosys简介"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=136875911
featuredImagePreview: https://bing.ee123.net/img/rand?artid=136875911
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     数字EDA研究之Yosys简介
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <div class="toc">
     <h4>
      HDL逻辑综合工具Yosys简介
     </h4>
     <ul>
      <li>
       <a href="#1_Yosys_3" rel="nofollow">
        1. 什么是Yosys?
       </a>
      </li>
      <li>
       <a href="#2__9" rel="nofollow">
        2 它能做什么？
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#21__14" rel="nofollow">
          2.1 典型应用
         </a>
        </li>
        <li>
         <a href="#22__23" rel="nofollow">
          2.2 不能做什么
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#3_Yosys_28" rel="nofollow">
        3 Yosys套件
       </a>
      </li>
      <li>
       <a href="#4__38" rel="nofollow">
        4 原始论文摘要
       </a>
      </li>
      <li>
       <a href="#4_HDL_48" rel="nofollow">
        4 开源HDL综合器的好处
       </a>
      </li>
      <li>
       <a href="#5_Yosys_58" rel="nofollow">
        5 Yosys的历史
       </a>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <p>
     此文是个人对英文网站
     <a href="https://yosyshq.readthedocs.io/projects/yosys/en/latest/introduction.html" rel="nofollow">
      Yosys
     </a>
     的翻译。
    </p>
    <h2>
     <a id="1_Yosys_3">
     </a>
     1. 什么是Yosys?
    </h2>
    <p>
     Yosys最初来自于Claire Wolf的理学学士论文项目，旨在支持一种CGRA（粗粒度可重用架构）的综合。后来，它扩展成为数字电路逻辑综合研究的一种基础工具。
     <br/>
     它提供了对Verilog 2005的可综合的子集的完全支持。人们把它描述为“硬件综合领域的GCC",得益于开源，它的使用者包括来自业余研究/商业应用/学术界的人员。
     <br/>
     osys在ISC许可证下发布：
     <br/>
     ISC许可证允许人们对采用ISC源代码做任何事情，但没有保证。ISC许可证在功能上等同于BSD 2-Clause和MIT许可证，删除了一些不再需要的语言。
     <br/>
     与布局布线工具nextpnr一起，Yosys可用于完全端到端开源流程工具（Lattice iCE 40和ECP 5）的FPGA编程。它还是OpenLane软件的综合部分，其目标是SkyWater 130nm开源PDK，用于完全开源的ASIC设计。Yosys还可以使用后端对求解器格式（如SMT2）进行正式验证。
    </p>
    <h2>
     <a id="2__9">
     </a>
     2 它能做什么？
    </h2>
    <ul>
     <li>
      读取和处理verilog 2005语言描述代码
     </li>
     <li>
      在网表(RTL,逻辑,门)上执行各种操作
     </li>
     <li>
      使用ABC，完成逻辑优化和门映射
     </li>
     <li>
     </li>
    </ul>
    <h3>
     <a id="21__14">
     </a>
     2.1 典型应用
    </h3>
    <ul>
     <li>
      最终生产设计的综合
     </li>
     <li>
      预生产综合（在投资其他生产工具前试运行）
     </li>
     <li>
      从完全特征的verilog到简单verilog的转换
     </li>
     <li>
      verilog到其他格式(BLIF,BTOR等)的转换
     </li>
     <li>
      验证综合算法（例如教育用途）
     </li>
     <li>
      新算法实验框架
     </li>
     <li>
      用于构建自定义流程的框架（不局限于逻辑综合，还包括形式验证、逆向工程等）
     </li>
    </ul>
    <h3>
     <a id="22__23">
     </a>
     2.2 不能做什么
    </h3>
    <ul>
     <li>
      处理高阶语言（如C/C++/SystemC)
     </li>
     <li>
      创建物理版图（布局与布线）
      <ul>
       <li>
        和nextpnr结合可以做到这一点。
       </li>
      </ul>
     </li>
    </ul>
    <h2>
     <a id="3_Yosys_28">
     </a>
     3 Yosys套件
    </h2>
    <p>
     不仅包括Yosys本身，还包括围绕它而构建断一系列工具：
    </p>
    <ul>
     <li>
      SBY ：用于形式化验证
      <br/>
      Yosys提供输入解析和转换为求解器引擎使用的格式。Yosys还提供了一个统一的验证框架，用于为本机不支持的引擎提供全轨迹跟踪和反例。SBY源|SBY文档
     </li>
     <li>
      EQY：等价性检查
      <br/>
      除了输入解析和准备之外，Yosys还提供了插件支持，使EQY能够直接对设计进行操作。
     </li>
     <li>
      MCY：互斥覆盖率
     </li>
     <li>
      SCY
      <br/>
      由于SCY生成并运行SBY，Yosys为SCY提供了与SBY相同的实用程序。Yosys还提供输出深度跟踪所需的跟踪连接。
     </li>
    </ul>
    <h2>
     <a id="4__38">
     </a>
     4 原始论文摘要
    </h2>
    <p>
     Yosys文档的第一个版本是作为维也纳科技大学的学士论文发表的
    </p>
    <p>
     摘要：
     <br/>
     今天的大多数数字设计都是在HDL代码（主要是Verilog或VHDL）和HDL综合工具的帮助下完成的。
     <br/>
     在特殊情况下，例如粗粒度单元库的综合或测试新的综合算法时，可能需要编写自定义HDL综合工具或向现有工具添加新功能。在这些情况下，提供一个自由和开放源码软件综合工具，作为定制工具的基础，将是有益的。
     <br/>
     在没有这样一个工具的情况下，开发了Yosys开源综合套件（Yosys）。本文档涵盖了该工具的设计和实现。目前，Yosys的主要重点在于数字综合的高级方面。Yosys使用现有的开源逻辑综合工具ABC来执行高级门级优化。
     <br/>
     包括基于真实世界设计的Yosys评估。结果表明，Yosys可以用来综合这样的设计。对Yosys在该测试中产生的结果使用了形式化验证，证明结果是正确的，并且在质量上与商业综合工具产生的结果相当。
     <br/>
     Yosys是一种逻辑综合工具，它的输入是行为级电路设计描述，输出是电路设计的RTL/门级/开关级描述。Yosys中存在涉及范围很广的命令（综合通道），可用于在行为、rtl和逻辑综合领域内执行广泛的综合任务。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/045bfb6656283645f2a3607452437668.png"/>
    </p>
    <h2>
     <a id="4_HDL_48">
     </a>
     4 开源HDL综合器的好处
    </h2>
    <ul>
     <li>
      成本
     </li>
     <li>
      重用性和可复现性
     </li>
     <li>
      框架
      <br/>
      Yosys不仅仅是一个工具。它是一个可以作为其他开发基础的框架，因此研究人员和黑客都不需要重新发明基本功能。可扩展性是Yosys的设计目标之一。
     </li>
     <li>
      一站式
      <br/>
      由于Yosys的框架特性，越来越多的功能可以在一个工具中使用。Yosys不仅可以用于电路综合，还可以用于形式等价检查，SAT求解和电路分析，仅举几个其他应用领域。对于专有软件，人们需要为这些应用程序中的每一个学习新的工具。
     </li>
     <li>
      教育工具
      <br/>
      专有的综合工具有时对它们的内部工作非常保密。它们通常是黑盒子。Yosys对其内部结构非常开放，很容易观察到综合的不同步骤。
     </li>
    </ul>
    <h2>
     <a id="5_Yosys_58">
     </a>
     5 Yosys的历史
    </h2>
    <p>
     硬件描述语言(HDL)是一种描述电路的计算机语言。Yosys把电路的HDL描述作为输入，把能够实现给定电路的网表作为输出。
     <br/>
     目前最广泛使用和支持的数字电路HDL是Verilog和VHDL。这两种HDL都能用于测试和验证目的以及逻辑综合，从而产生一组可综合和一组不可综合的语言功能。Yosys只关注语言特征的可综合子集。
    </p>
    <p>
     在最近的异构粗粒度可重构逻辑的工作中，出现了对定制的特定于应用的HDL综合工具的需求。人们很快意识到，理解Verilog或VHDL的综合工具将优于定制HDL的综合工具。给定一个现有的Verilog或VHDL前端，编写必要的附加功能并将其集成到现有工具中的工作可以估计与编写一个支持最小化自定义HDL的新工具大致相同。
     <br/>
     拟议的定制HDL综合工具应根据自由和开放源码软件许可证获得许可。因此，需要现有的遵循开源许可的 Verilog或VHDL综合工具作为基础。选择Verilog或VHDL的主要优点是能够综合现有的HDL代码，并减轻电路设计人员学习新语言的要求。为了充分利用任何现有的自由和开放源码软件Verilog或VHDL工具，这种工具必须提供可综合的HDL子集的功能完整的实现。
    </p>
    <p>
     基本RTL综合是一个很好理解的领域。计算机语言的词法、语法分析和处理是一个深入研究的领域。编写这些工具所需的所有信息已经公开了很长时间，因此很可能必须存在一个具有功能完整的Verilog或VHDL前端的开源HDL综合工具，它可以用作定制RTL综合工具的基础。
    </p>
    <p>
     由于作者对Verilog的偏好超过了VHDL，因此很早就决定使用Verilog而不是VHDL [1]。对现有的开源Verilog综合工具进行了评价。这次评估的结果是完全毁灭性的。因此，实现了一个全新的Verilog综合工具，并推荐作为自定义综合工具的基础。这是本文档中讨论的工具。
    </p>
    <p>
     参考文献
     <br/>
     A quick investigation into FOSS VHDL tools yielded similar grim results for FOSS VHDL synthesis tools.
    </p>
   </div>
   <link href="./../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="./../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f6361696a756e67616e2f:61727469636c652f64657461696c732f313336383735393131" class_="artid" style="display:none">
 </p>
</div>


