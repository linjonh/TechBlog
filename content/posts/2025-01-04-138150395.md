---
arturl_encode: "68747470733a2f2f:626c6f672e6373646e2e6e65742f707974686f6e3132325f2f:61727469636c652f64657461696c732f313338313530333935"
layout: post
title: "å¦‚ä½•ç”¨-Python-å®ç°å®‰å“æœºè‡ªåŠ¨åŒ–"
date: 2025-01-04 22:05:36 +08:00
description: "è¿™ä¸œè¥¿ï¼Œè¿˜èƒ½ç”¨æ¥åšä»€ä¹ˆï¼Ÿä½ çŸ¥é“ï¼Œä¸ºå•¥æŠ¢èŒ…å°ä½ æ€»æŠ¢ä¸åˆ°å—ï¼ŸæŠ¢ä¸ªæ¼”å”±"
keywords: "scrcpy python"
categories: ['Python', 'Python']
tags: ['è‡ªåŠ¨åŒ–', 'å¼€å‘è¯­è¨€', 'Python']
artid: "138150395"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=138150395
    alt: "å¦‚ä½•ç”¨-Python-å®ç°å®‰å“æœºè‡ªåŠ¨åŒ–"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=138150395
featuredImagePreview: https://bing.ee123.net/img/rand?artid=138150395
---

# å¦‚ä½•ç”¨ Python å®ç°å®‰å“æœºè‡ªåŠ¨åŒ–ï¼Ÿ

## 

ä»Šå¤©ç»™å¤§å®¶ä»‹ç»ä¸€å¥—å®‰å“æœºè‡ªåŠ¨åŒ–è§£å†³æ–¹æ¡ˆ

### # æŠ•å±è½¯ä»¶ï¼šScrcpy

Scrcpyï¼Œå…¨ç§° screen copyï¼Œæ˜¯ä¸€æ¬¾å¼€æºçš„æ‰‹æœºæ— çº¿æŠ•å±è½¯ä»¶ã€‚

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/460e1f45bd5b3a23e4a8a517927a7d74.png)

è€Œä¸”è¿˜æ˜¯è·¨å¹³å°çš„ï¼Œæ— è®ºæ˜¯åœ¨ Linuxã€Windows è¿˜æ˜¯ macOS ä¸Šéƒ½èƒ½ä½¿ç”¨ã€‚

> é¡¹ç›®åœ°å€ï¼š
>
> https://github.com/Genymobile/scrcpy

è¿™é‡Œä»¥ Windows ä¸ºä¾‹ï¼Œå®‰è£…èµ·æ¥éå¸¸ç®€å•ï¼š

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/a968fafa2a95ccec9a2136288f8a78aa.png)

ç›´æ¥ä¸‹è½½å®‰è£…åŒ…å¹¶è§£å‹å°±è¡Œï¼Œé‡Œé¢è¿˜å¸¦äº†
`adb`
è°ƒè¯•å·¥å…·ã€‚

ç„¶åæ·»åŠ ä¸€ä¸‹ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ã€‚

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/f03b3db62fea0f0ab2a6574bab121eab.png)

ç”¨ USB çº¿è¿æ¥æ‰‹æœºå’Œç”µè„‘ï¼Œå°†æ‰‹æœºè°ƒæ•´ä¸º
**å¼€å‘è€…æ¨¡å¼**
ã€‚

![å›¾ç‰‡](https://i-blog.csdnimg.cn/blog_migrate/226b1b7ad668988a156213ead2dae651.png)

è¿™æ ·ï¼Œåœ¨ç”µè„‘ä¸Šè¿è¡Œ Scrcpy æŒ‡ä»¤ï¼š

```python
scrcpy

```

å°±èƒ½å°†æ‰‹æœºç”»é¢æŠ•æ”¾åˆ°ç”µè„‘ä¸Šäº†ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªæŠ•æ”¾çš„ç”»é¢ï¼Œåœ¨ç”µè„‘ä¸Šï¼Œæ“çºµè¿™å°æ‰‹æœºã€‚

ä½†æ˜¯ï¼Œå¦‚æœæƒ³è¦è®©ä»£ç è‡ªåŠ¨åŒ–æ§åˆ¶ï¼Œé‚£å°±è¿˜éœ€è¦å¦å¤–ä¸€æ¬¾å·¥å…·ã€‚

### # è‡ªåŠ¨åŒ–å·¥å…·ï¼šuiautomator2

UiAutomator æ˜¯ Google æä¾›çš„ç”¨æ¥åšå®‰å“è‡ªåŠ¨åŒ–æµ‹è¯•çš„ä¸€ä¸ª Java åº“ï¼ŒåŸºäº Accessibility æœåŠ¡ã€‚åŠŸèƒ½å¾ˆå¼ºï¼Œå¯ä»¥å¯¹ç¬¬ä¸‰æ–¹ App è¿›è¡Œæµ‹è¯•ï¼Œè·å–å±å¹•ä¸Šä»»æ„ä¸€ä¸ª APP çš„ä»»æ„ä¸€ä¸ªæ§ä»¶å±æ€§ï¼Œå¹¶å¯¹å…¶è¿›è¡Œä»»æ„æ“ä½œï¼Œä½†æœ‰ä¸¤ä¸ªé™åˆ¶ï¼š

* æµ‹è¯•è„šæœ¬åªèƒ½ä½¿ç”¨ Java è¯­è¨€
* æµ‹è¯•è„šæœ¬è¦æ‰“åŒ…æˆ jar æˆ–è€… apk åŒ…ä¸Šä¼ åˆ°è®¾å¤‡ä¸Šæ‰èƒ½è¿è¡Œ

äºæ˜¯æœ‰äº† UiAutomator2ï¼Œé€»è¾‘å¯ä»¥ç”¨ Python ç¼–å†™ï¼Œèƒ½å¤Ÿåœ¨ç”µè„‘ä¸Šæ§åˆ¶æ‰‹æœºã€‚

> é¡¹ç›®åœ°å€ï¼š
>
> https://github.com/openatx/uiautomator2

å®‰è£…æ–¹æ³•ä¹Ÿéå¸¸ç®€å•ï¼Œç›´æ¥ pip å®‰è£…å³å¯ï¼Œä¸è¿‡ä¸ºäº†æ–¹ä¾¿ç¯å¢ƒçš„ç®¡ç†ï¼Œè¿˜æ˜¯å…ˆåˆ›å»ºä¸€ä¸ª Conda è™šæ‹Ÿç¯å¢ƒã€‚

```python
conda create -n android

```

ç„¶åæ¿€æ´»è¿™ä¸ªè™šæ‹Ÿç¯å¢ƒï¼š

```python
conda activate android

```

å®‰è£… uiautomator2 å’Œ weditorã€‚

```python
python -m pip install uiautomator2 weditor

```

ç„¶åç”¨æ‰‹æœºæ‰“å¼€æƒ³è¦æ“æ§çš„ Appï¼Œæ¯”å¦‚ BiliBiliï¼Œæ‰“å¼€è½¯ä»¶åï¼Œä½¿ç”¨ Weditor å®¡æŸ¥å…ƒç´ ã€‚

```python
python -m weditor

```

è¿™æ ·å°±å¼€å¯äº†ä¸€ä¸ª Web ç•Œé¢ï¼Œåœ¨è¿™ä¸ªç•Œé¢é‡Œï¼Œèƒ½å¤Ÿå®¡æŸ¥å…ƒç´ ï¼Œ
**å®šä½ä¸€äº›æƒ³è¦ç‚¹å‡»çš„ç‚¹**
ã€‚

![åŠ ç²—æ ·å¼](https://i-blog.csdnimg.cn/blog_migrate/12cee484fde317c51236aa7bc0023f56.png)

æ¯”å¦‚æˆ‘æƒ³è¦ç»™ä¸€ä¸ªè§†é¢‘ä¸‰è¿ï¼Œé‚£å°±å®¡æŸ¥ä¸‰è¿çš„å…ƒç´ ï¼Œç„¶åå°†æ“ä½œç”¨ä»£ç æµç¨‹åŒ–ã€‚

```python
import uiautomator2 as u2
import time
from PIL import Image
import cv2
import numpy as np

all_videos = []

def get_images(device):
    views = device.xpath('//*[@resource-id="tv.danmaku.bili:id/recycler_view"]/android.view.ViewGroup/android.widget.FrameLayout[1]')
    for idx, view_box in enumerate(views.all()[:5]):
        print("è§†é¢‘{} å°é¢çš„ä¸­å¿ƒåæ ‡:".format(idx+1), view_box.center())
        image = view_box.screenshot()
        image.save("{}.jpg".format(idx+1))
        all_videos.append(view_box)

def refresh(device):
    device.swipe_ext("down")

def like_the_video(device):
    like_icon = device.xpath('//*[@resource-id="tv.danmaku.bili:id/recommend_icon"]')
    like_icon.click()
    print("è§†é¢‘ç‚¹èµæˆåŠŸ")

def pay_for_the_video(device):
    coin_icon = device.xpath('//*[@resource-id="tv.danmaku.bili:id/coin_icon"]')
    coin_icon.click()
    time.sleep(0.1)
    pay_icon = device.xpath('//*[@resource-id="tv.danmaku.bili:id/pay_coins"]')
    pay_icon.click()
    print("è§†é¢‘æŠ•å¸æˆåŠŸ")

def follow_the_up(device):
    follow_icon = device.xpath('//*[@resource-id="tv.danmaku.bili:id/follow"]')
    follow_icon.click()
    print("å…³æ³¨æˆåŠŸ")

def back(device):
    back_icon = device.xpath('//*[@content-desc="è½¬åˆ°ä¸Šä¸€å±‚çº§"]')
    back_icon.click()
    print("å·²é€€å‡ºè§†é¢‘")

if __name__ == "__main__":
    _DEVICE_ID = 'da317199'
    d = u2.connect(_DEVICE_ID) # connect to device
    get_images(d)
    all_videos[3].click()
    print("ç‚¹è¿›å»äº†ï¼")
    time.sleep(0.1)
    like_the_video(d)

    time.sleep(0.1)
    pay_for_the_video(d)

    time.sleep(0.1)
    follow_the_up(d)

```

æ•ˆæœæ˜¯è¿™æ ·çš„ï¼š

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/7ec768cf5b157a20a6d6bc72b43e35a9.png)

ä»£ç é‡Œæœ‰ä¸ª device\_id å¯ä»¥é€šè¿‡ adb å·¥å…·æŸ¥è¯¢ï¼Œæ‰‹æœºè¿æ¥ç”µè„‘åï¼Œå†ç”¨å¦‚ä¸‹æŒ‡ä»¤æŸ¥è¯¢ï¼š

```python
adb devices

```

æ ¹æ®è¿™ä¸ªè®¾å¤‡å·ï¼Œå°±èƒ½æ“çºµè¿™å°æ‰‹æœºã€‚

### # å†™åœ¨æœ€å

è¿™ä¸œè¥¿ï¼Œè¿˜èƒ½ç”¨æ¥åšä»€ä¹ˆï¼Ÿ

ä½ çŸ¥é“ï¼Œä¸ºå•¥æŠ¢èŒ…å°ä½ æ€»æŠ¢ä¸åˆ°å—ï¼ŸæŠ¢ä¸ªæ¼”å”±ä¼šé—¨ç¥¨æŠ¢ä¸åˆ°ï¼ŸæŒ‚å·æŒ‚ä¸åˆ°ï¼Ÿ

ç¥¨è´©å­ä¸ºå•¥æ€»èƒ½æŠ¢åˆ°ç¥¨ï¼Ÿ

å¾ˆå¤šå¹³å°é™åˆ¶å¿…é¡»æ‰‹æœºä¸ŠæŠ¢ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œè¿™é¡¹æŠ€æœ¯å°±èƒ½æ’ä¸Šç”¨åœºäº†ã€‚

æˆ‘åªèƒ½å¸®ä½ åˆ°è¿™äº†ï¼Œå‰©ä¸‹çš„ï¼Œå¯ä»¥è‡ªå·±æ…¢æ…¢ä½“éªŒã€‚

**æ‰€ä»¥ï¼Œå®¶é‡Œçš„æ—§æ‰‹æœºä¸è¦æ‰”ï¼å†™ä¸ªè„šæœ¬ï¼Œèƒ½å¸®ä½ å¹²å¾ˆå¤šäº‹~**

## å…³äºPythonå­¦ä¹ æŒ‡å—

å­¦å¥½ Python ä¸è®ºæ˜¯å°±ä¸šè¿˜æ˜¯åšå‰¯ä¸šèµšé’±éƒ½ä¸é”™ï¼Œä½†è¦å­¦ä¼š Python è¿˜æ˜¯è¦æœ‰ä¸€ä¸ªå­¦ä¹ è§„åˆ’ã€‚æœ€åç»™å¤§å®¶åˆ†äº«ä¸€ä»½å…¨å¥—çš„ Python å­¦ä¹ èµ„æ–™ï¼Œç»™é‚£äº›æƒ³å­¦ä¹  Python çš„å°ä¼™ä¼´ä»¬ä¸€ç‚¹å¸®åŠ©ï¼

åŒ…æ‹¬ï¼šPythonæ¿€æ´»ç +å®‰è£…åŒ…ã€Python webå¼€å‘ï¼ŒPythonçˆ¬è™«ï¼ŒPythonæ•°æ®åˆ†æï¼Œäººå·¥æ™ºèƒ½ã€è‡ªåŠ¨åŒ–åŠå…¬ç­‰å­¦ä¹ æ•™ç¨‹ã€‚å¸¦ä½ ä»é›¶åŸºç¡€ç³»ç»Ÿæ€§çš„å­¦å¥½Pythonï¼

#### ğŸ‘‰Pythonæ‰€æœ‰æ–¹å‘çš„å­¦ä¹ è·¯çº¿ğŸ‘ˆ

Pythonæ‰€æœ‰æ–¹å‘è·¯çº¿å°±æ˜¯æŠŠPythonå¸¸ç”¨çš„æŠ€æœ¯ç‚¹åšæ•´ç†ï¼Œå½¢æˆå„ä¸ªé¢†åŸŸçš„çŸ¥è¯†ç‚¹æ±‡æ€»ï¼Œå®ƒçš„ç”¨å¤„å°±åœ¨äºï¼Œä½ å¯ä»¥æŒ‰ç…§ä¸Šé¢çš„çŸ¥è¯†ç‚¹å»æ‰¾å¯¹åº”çš„å­¦ä¹ èµ„æºï¼Œä¿è¯è‡ªå·±å­¦å¾—è¾ƒä¸ºå…¨é¢ã€‚
**ï¼ˆå…¨å¥—æ•™ç¨‹æ–‡æœ«é¢†å–ï¼‰**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/37e0defe6d5a98ad6ad7a0780a1ba67e.png)

#### ğŸ‘‰Pythonå­¦ä¹ è§†é¢‘600åˆé›†ğŸ‘ˆ

è§‚çœ‹é›¶åŸºç¡€å­¦ä¹ è§†é¢‘ï¼Œçœ‹è§†é¢‘å­¦ä¹ æ˜¯æœ€å¿«æ·ä¹Ÿæ˜¯æœ€æœ‰æ•ˆæœçš„æ–¹å¼ï¼Œè·Ÿç€è§†é¢‘ä¸­è€å¸ˆçš„æ€è·¯ï¼Œä»åŸºç¡€åˆ°æ·±å…¥ï¼Œè¿˜æ˜¯å¾ˆå®¹æ˜“å…¥é—¨çš„ã€‚

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/bd6f837d59c5d967e7bbead0cfd6e1d6.png)

#### æ¸©é¦¨æç¤ºï¼šç¯‡å¹…æœ‰é™ï¼Œå·²æ‰“åŒ…æ–‡ä»¶å¤¹ï¼Œè·å–æ–¹å¼åœ¨ï¼šæ–‡æœ«

#### ğŸ‘‰Python70ä¸ªå®æˆ˜ç»ƒæ‰‹æ¡ˆä¾‹&æºç ğŸ‘ˆ

å…‰å­¦ç†è®ºæ˜¯æ²¡ç”¨çš„ï¼Œè¦å­¦ä¼šè·Ÿç€ä¸€èµ·æ•²ï¼Œè¦åŠ¨æ‰‹å®æ“ï¼Œæ‰èƒ½å°†è‡ªå·±çš„æ‰€å­¦è¿ç”¨åˆ°å®é™…å½“ä¸­å»ï¼Œè¿™æ—¶å€™å¯ä»¥æç‚¹å®æˆ˜æ¡ˆä¾‹æ¥å­¦ä¹ ã€‚

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/0ac9850f4ffe07019ebc6537d6d53795.png)

#### ğŸ‘‰Pythonå¤§å‚é¢è¯•èµ„æ–™ğŸ‘ˆ

æˆ‘ä»¬å­¦ä¹ Pythonå¿…ç„¶æ˜¯ä¸ºäº†æ‰¾åˆ°é«˜è–ªçš„å·¥ä½œï¼Œä¸‹é¢è¿™äº›é¢è¯•é¢˜æ˜¯æ¥è‡ª
**é˜¿é‡Œã€è…¾è®¯ã€å­—èŠ‚ç­‰ä¸€çº¿äº’è”ç½‘å¤§å‚**
æœ€æ–°çš„é¢è¯•èµ„æ–™ï¼Œå¹¶ä¸”æœ‰é˜¿é‡Œå¤§ä½¬ç»™å‡ºäº†æƒå¨çš„è§£ç­”ï¼Œåˆ·å®Œè¿™ä¸€å¥—é¢è¯•èµ„æ–™ç›¸ä¿¡å¤§å®¶éƒ½èƒ½æ‰¾åˆ°æ»¡æ„çš„å·¥ä½œã€‚

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/bdc1ce97ea9f251ca2711a7f905a2480.png)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/6017cf6930ff8bdfd0c5cb6ca53caeed.png)

#### ğŸ‘‰Pythonå‰¯ä¸šå…¼èŒè·¯çº¿&æ–¹æ³•ğŸ‘ˆ

å­¦å¥½ Python ä¸è®ºæ˜¯å°±ä¸šè¿˜æ˜¯åšå‰¯ä¸šèµšé’±éƒ½ä¸é”™ï¼Œä½†è¦å­¦ä¼šå…¼èŒæ¥å•è¿˜æ˜¯è¦æœ‰ä¸€ä¸ªå­¦ä¹ è§„åˆ’ã€‚

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/f6c242b466f058269472e474ddddc80f.png)

**ğŸ‘‰**
**è¿™ä»½å®Œæ•´ç‰ˆçš„Pythonå…¨å¥—å­¦ä¹ èµ„æ–™å·²ç»ä¸Šä¼ ï¼Œæœ‹å‹ä»¬å¦‚æœéœ€è¦å¯ä»¥æ‰«æä¸‹æ–¹CSDNå®˜æ–¹è®¤è¯äºŒç»´ç æˆ–è€…ç‚¹å‡»é“¾æ¥å…è´¹é¢†å–**
ã€
**`ä¿è¯100%å…è´¹`**
ã€‘

![](https://i-blog.csdnimg.cn/blog_migrate/99b5d30d8e0d6280c6cad6dde305e1bd.png)