---
layout: post
title: "如何在Android中实现SQLite数据库操作"
date: 2025-03-12 21:24:05 +0800
description: "在Android中实现SQLite数据库操作通常涉及以下几个步骤：创建数据库助手类、定义数据库表结构、执行SQL查询和更新操作等。"
keywords: "如何在Android中实现SQLite数据库操作"
categories: ['未分类']
tags: ['数据库', 'Sqlite', 'Android']
artid: "146215470"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146215470
    alt: "如何在Android中实现SQLite数据库操作"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146215470
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146215470
cover: https://bing.ee123.net/img/rand?artid=146215470
image: https://bing.ee123.net/img/rand?artid=146215470
img: https://bing.ee123.net/img/rand?artid=146215470
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     如何在Android中实现SQLite数据库操作
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p id="">
     在Android中实现SQLite数据库操作通常涉及以下几个步骤：创建数据库助手类、定义数据库表结构、执行SQL查询和更新操作等。以下是一个基本的实现指南：
    </p>
    <h4>
     1. 添加依赖
    </h4>
    <p id="">
     在Android项目中，SQLite是内置支持的，因此不需要额外添加依赖。如果你使用的是较新的Android架构组件，可以考虑使用Room持久化库，它是对SQLite的一个抽象层，但这里我们直接使用SQLite。
    </p>
    <h4>
     2. 创建数据库助手类
    </h4>
    <p id="">
     首先，你需要创建一个继承自
     <code>
      SQLiteOpenHelper
     </code>
     的类。这个类将帮助你管理数据库的创建和版本管理。
    </p>
    <pre></pre>
    <p>
     <code>
      java复制代码
     </code>
    </p>
    <table>
     <tbody>
      <tr>
       <td>
       </td>
       <td>
        <code>
         import android.content.Context;
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         import android.database.sqlite.SQLiteDatabase;
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         import android.database.sqlite.SQLiteOpenHelper;
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         public class MyDatabaseHelper extends SQLiteOpenHelper {
         <!-- -->
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         // Database Version
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         private static final int DATABASE_VERSION = 1;
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         // Database Name
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         private static final String DATABASE_NAME = "MyDatabase.db";
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         // Table Name
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         private static final String TABLE_NAME = "user_table";
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         // Table Columns
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         private static final String COL1 = "ID";
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         private static final String COL2 = "NAME";
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         private static final String COL3 = "EMAIL";
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         // Create Table SQL Statement
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         private static final String CREATE_TABLE =
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         "CREATE TABLE " + TABLE_NAME + " (" +
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         COL1 + " INTEGER PRIMARY KEY AUTOINCREMENT, " +
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         COL2 + " TEXT, " +
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         COL3 + " TEXT);";
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         // Constructor
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         public MyDatabaseHelper(Context context) {
         <!-- -->
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         super(context, DATABASE_NAME, null, DATABASE_VERSION);
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         }
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         // onCreate: This method is called when the database is created for the first time.
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         @Override
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         public void onCreate(SQLiteDatabase db) {
         <!-- -->
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         db.execSQL(CREATE_TABLE);
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         }
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         // onUpgrade: This method is called when the database needs to be upgraded.
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         @Override
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
         <!-- -->
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         db.execSQL("DROP TABLE IF EXISTS " + TABLE_NAME);
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         onCreate(db);
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         }
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         }
        </code>
       </td>
      </tr>
     </tbody>
    </table>
    <h4>
     3. 插入数据
    </h4>
    <p id="">
     你可以通过创建一个新的方法，在
     <code>
      MyDatabaseHelper
     </code>
     类或者在Activity/Fragment中调用数据库助手类的方法来插入数据。
    </p>
    <pre></pre>
    <p>
     <code>
      java复制代码
     </code>
    </p>
    <table>
     <tbody>
      <tr>
       <td>
       </td>
       <td>
        <code>
         import android.content.ContentValues;
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         import android.database.sqlite.SQLiteDatabase;
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         import android.widget.Toast;
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         // 插入数据的方法
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         public long insertData(String name, String email) {
         <!-- -->
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         SQLiteDatabase db = this.getWritableDatabase();
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         ContentValues contentValues = new ContentValues();
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         contentValues.put(COL2, name);
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         contentValues.put(COL3, email);
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         long result = db.insert(TABLE_NAME, null, contentValues);
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         // 如果插入成功，返回新行的ID，否则返回-1
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         if (result == -1) {
         <!-- -->
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         Toast.makeText(context, "Failed", Toast.LENGTH_SHORT).show();
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         } else {
         <!-- -->
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         Toast.makeText(context, "Success", Toast.LENGTH_SHORT).show();
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         }
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         return result;
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         }
        </code>
       </td>
      </tr>
     </tbody>
    </table>
    <h4>
     4. 查询数据
    </h4>
    <p id="">
     同样地，你可以创建一个方法来查询数据。
    </p>
    <pre></pre>
    <p>
     <code>
      java复制代码
     </code>
    </p>
    <table>
     <tbody>
      <tr>
       <td>
       </td>
       <td>
        <code>
         import android.database.Cursor;
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         import android.database.sqlite.SQLiteDatabase;
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         import java.util.ArrayList;
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         import java.util.List;
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         // User类，用于存储用户数据
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         public class User {
         <!-- -->
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         private int id;
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         private String name;
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         private String email;
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         // Getters and Setters
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         // ...
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         }
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         // 查询所有数据的方法
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         public List&lt;User&gt; getAllData() {
         <!-- -->
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         List&lt;User&gt; userList = new ArrayList&lt;&gt;();
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         SQLiteDatabase db = this.getReadableDatabase();
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         Cursor cursor = db.query(TABLE_NAME, new String[]{COL1, COL2, COL3}, null, null, null, null, null);
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         while (cursor.moveToNext()) {
         <!-- -->
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         int id = cursor.getInt(cursor.getColumnIndexOrThrow(COL1));
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         String name = cursor.getString(cursor.getColumnIndexOrThrow(COL2));
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         String email = cursor.getString(cursor.getColumnIndexOrThrow(COL3));
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         User user = new User(id, name, email);
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         userList.add(user);
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         }
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         cursor.close();
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         return userList;
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         }
        </code>
       </td>
      </tr>
     </tbody>
    </table>
    <h4>
     5. 更新和删除数据
    </h4>
    <p id="">
     类似地，你可以创建方法来更新和删除数据。
    </p>
    <pre></pre>
    <p>
     <code>
      java复制代码
     </code>
    </p>
    <table>
     <tbody>
      <tr>
       <td>
       </td>
       <td>
        <code>
         // 更新数据的方法
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         public int updateData(int id, String name, String email) {
         <!-- -->
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         SQLiteDatabase db = this.getWritableDatabase();
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         ContentValues contentValues = new ContentValues();
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         contentValues.put(COL2, name);
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         contentValues.put(COL3, email);
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         String selection = COL1 + " = ?";
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         String[] selectionArgs = { String.valueOf(id) };
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         int rowsUpdated = db.update(TABLE_NAME, contentValues, selection, selectionArgs);
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         return rowsUpdated;
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         }
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         // 删除数据的方法
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         public void deleteData(int id) {
         <!-- -->
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         SQLiteDatabase db = this.getWritableDatabase();
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         String selection = COL1 + " = ?";
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         String[] selectionArgs = { String.valueOf(id) };
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         db.delete(TABLE_NAME, selection, selectionArgs);
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         }
        </code>
       </td>
      </tr>
     </tbody>
    </table>
    <h4>
     6. 使用数据库助手类
    </h4>
    <p id="">
     最后，在你的Activity或Fragment中实例化并使用这个数据库助手类。
    </p>
    <pre></pre>
    <p>
     <code>
      java复制代码
     </code>
    </p>
    <table>
     <tbody>
      <tr>
       <td>
       </td>
       <td>
        <code>
         public class MainActivity extends AppCompatActivity {
         <!-- -->
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         MyDatabaseHelper dbHelper;
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         @Override
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         protected void onCreate(Bundle savedInstanceState) {
         <!-- -->
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         super.onCreate(savedInstanceState);
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         setContentView(R.layout.activity_main);
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         dbHelper = new MyDatabaseHelper(this);
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         // 插入数据
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         long newRowId = dbHelper.insertData("John Doe", "john.doe@example.com");
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         // 查询数据
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         List&lt;User&gt; users = dbHelper.getAllData();
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         // 更新数据
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         dbHelper.updateData((int) newRowId, "Jane Doe", "jane.doe@example.com");
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         // 删除数据
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         dbHelper.deleteData((int) newRowId);
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         }
        </code>
       </td>
      </tr>
      <tr>
       <td>
       </td>
       <td>
        <code>
         }
        </code>
       </td>
      </tr>
     </tbody>
    </table>
    <p id="">
     通过以上步骤，你可以在Android应用中实现基本的SQLite数据库操作。对于更复杂的应用，可以考虑使用Room持久化库来简化数据库操作。
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323430325f38353234363535322f:61727469636c652f64657461696c732f313436323135343730" class_="artid" style="display:none">
 </p>
</div>


