---
layout: post
title: "数据库一文掌握-PostgreSQL-的各种指令PostgreSQL指令备忘"
date: 2025-03-16 10:16:44 +0800
description: "附加到 pg_hba.conf(与 postgresql.conf 相同的位置)备忘清单为您提供了常用的 PostgreSQL 命令和语句。获取 postgresql.conf 的位置。授予在所有表上选择、更新、插入、删除的权限。使用 pg_dumpall 备份所有数据库。连接到名为 postgres 的数据库。使用 pg_restore 恢复数据库。使用 pg_dump 备份数据库。使用 psql 恢复数据库。将表格导出为 CSV 文件。显示数据库中的所有表。列出当前数据库中的表。"
keywords: "数据库：一文掌握 PostgreSQL 的各种指令（PostgreSQL指令备忘）"
categories: ['大数据和数据库实战']
tags: ['数据库', 'Sql', 'Postgresql']
artid: "146291409"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146291409
    alt: "数据库一文掌握-PostgreSQL-的各种指令PostgreSQL指令备忘"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146291409
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146291409
cover: https://bing.ee123.net/img/rand?artid=146291409
image: https://bing.ee123.net/img/rand?artid=146291409
img: https://bing.ee123.net/img/rand?artid=146291409
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     数据库：一文掌握 PostgreSQL 的各种指令（PostgreSQL指令备忘）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <p>
    </p>
    <p>
     <a href="https://www.postgresql.org/docs/current/" rel="nofollow">
      PostgreSQL
     </a>
     备忘清单为您提供了常用的 PostgreSQL 命令和语句。
    </p>
    <h3>
     <a id="PostgreSQL__5">
     </a>
     PostgreSQL 工作
    </h3>
    <h4>
     <a id="_8">
     </a>
     入门
    </h4>
    <p>
     切换和连接
    </p>
    <pre><code class="prism language-shell">$ <span class="token function">sudo</span> <span class="token parameter variable">-u</span> postgres psql
</code></pre>
    <p>
     列出所有数据库
    </p>
    <pre><code class="prism language-shell"><span class="token assign-left variable">postgres</span><span class="token operator">=</span><span class="token comment"># \l</span>
</code></pre>
    <p>
     连接到名为 postgres 的数据库
    </p>
    <pre><code class="prism language-shell"><span class="token assign-left variable">postgres</span><span class="token operator">=</span><span class="token comment"># \c postgres</span>
</code></pre>
    <p>
     断开
    </p>
    <pre><code class="prism language-shell"><span class="token assign-left variable">postgres</span><span class="token operator">=</span><span class="token comment"># \q</span>
<span class="token assign-left variable">postgres</span><span class="token operator">=</span><span class="token comment"># \!</span>
</code></pre>
    <h4>
     <a id="psql__35">
     </a>
     psql 命令
    </h4>
    <table>
     <thead>
      <tr>
       <th align="left">
        参数
       </th>
       <th>
        示例
       </th>
       <th>
        说明
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="left">
        <code>
         [-d] &lt;database&gt;
        </code>
       </td>
       <td>
        psql -d mydb
       </td>
       <td>
        连接到数据库
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         -U
        </code>
       </td>
       <td>
        psql -U john mydb
       </td>
       <td>
        以特定用户身份连接
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         -h
        </code>
        <code>
         -p
        </code>
       </td>
       <td>
        psql -h localhost -p 5432 mydb
       </td>
       <td>
        连接到主机/端口
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         -U
        </code>
        <code>
         -h
        </code>
        <code>
         -p
        </code>
        <code>
         -d
        </code>
       </td>
       <td>
        psql -U admin -h 192.168.1.5 -p 2506 -d mydb
       </td>
       <td>
        连接远程 PostgreSQL
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         -W
        </code>
       </td>
       <td>
        psql -W mydb
       </td>
       <td>
        强制密码
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         -c
        </code>
       </td>
       <td>
        psql -c ‘\c postgres’ -c ‘\dt’
       </td>
       <td>
        执行 SQL 查询或命令
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         -H
        </code>
       </td>
       <td>
        psql -c “\l+” -H postgres &gt; database.html
       </td>
       <td>
        生成 HTML 报告
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         -l
        </code>
       </td>
       <td>
        psql -l
       </td>
       <td>
        列出所有数据库
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         -f
        </code>
       </td>
       <td>
        psql mydb -f file.sql
       </td>
       <td>
        从文件执行命令
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         -V
        </code>
       </td>
       <td>
        psql -V
       </td>
       <td>
        打印 psql 版本
       </td>
      </tr>
     </tbody>
    </table>
    <h4>
     <a id="_52">
     </a>
     获得帮助
    </h4>
    <table>
     <thead>
      <tr>
       <th align="left">
        :-
       </th>
       <th>
        -
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="left">
        <code>
         \h
        </code>
       </td>
       <td>
        SQL 命令语法帮助
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \h
        </code>
        DELETE
       </td>
       <td>
        DELETE SQL 语句语法
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \?
        </code>
       </td>
       <td>
        PostgreSQL 命令列表
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     在 PostgreSQL 控制台中运行
    </p>
    <h4>
     <a id="Recon__64">
     </a>
     Recon 观察
    </h4>
    <p>
     显示版本
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">SHOW</span> SERVER_VERSION<span class="token punctuation">;</span>
</code></pre>
    <p>
     显示系统状态
    </p>
    <pre><code class="prism language-sql">\conninfo
</code></pre>
    <p>
     显示环境变量
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">SHOW</span> <span class="token keyword">ALL</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     列出用户
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">SELECT</span> rolname <span class="token keyword">FROM</span> pg_roles<span class="token punctuation">;</span>
</code></pre>
    <p>
     显示当前用户
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">current_user</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     显示当前用户的权限
    </p>
    <pre><code class="prism language-sql">\du
</code></pre>
    <p>
     显示当前数据库
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">SELECT</span> current_database<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     显示数据库中的所有表
    </p>
    <pre><code class="prism language-sql">\dt
</code></pre>
    <p>
     列出函数
    </p>
    <pre><code class="prism language-sql">\df <span class="token operator">&lt;</span><span class="token keyword">schema</span><span class="token operator">&gt;</span>
</code></pre>
    <h4>
     <a id="Databases__120">
     </a>
     Databases 数据库
    </h4>
    <p>
     列出数据库
    </p>
    <pre><code class="prism language-sql">\l
</code></pre>
    <p>
     连接到数据库
    </p>
    <pre><code class="prism language-sql">\c <span class="token operator">&lt;</span>database_name<span class="token operator">&gt;</span>
</code></pre>
    <p>
     显示当前数据库
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">SELECT</span> current_database<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     <a href="http://www.postgresql.org/docs/current/static/sql-createdatabase.html" rel="nofollow">
      创建数据库
     </a>
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token operator">&lt;</span>database_name<span class="token operator">&gt;</span> <span class="token keyword">WITH</span> OWNER <span class="token operator">&lt;</span>username<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     <a href="http://www.postgresql.org/docs/current/static/sql-dropdatabase.html" rel="nofollow">
      删除数据库
     </a>
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token operator">&lt;</span>database_name<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     <a href="http://www.postgresql.org/docs/current/static/sql-alterdatabase.html" rel="nofollow">
      重命名数据库
     </a>
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token operator">&lt;</span>old_name<span class="token operator">&gt;</span> <span class="token keyword">RENAME</span> <span class="token keyword">TO</span> <span class="token operator">&lt;</span>new_name<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="Tables__161">
     </a>
     Tables 表
    </h4>
    <p>
     列出当前数据库中的表
    </p>
    <pre><code class="prism language-sql">\dt
<span class="token keyword">SELECT</span> table_schema<span class="token punctuation">,</span>table_name <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> table_schema<span class="token punctuation">,</span>table_name<span class="token punctuation">;</span>
</code></pre>
    <p>
     全局列表
    </p>
    <pre><code class="prism language-sql">\dt <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">.</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> pg_catalog<span class="token punctuation">.</span>pg_tables
</code></pre>
    <p>
     列出表结构
    </p>
    <pre><code class="prism language-sql">\d <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span>
\d<span class="token operator">+</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span>
<span class="token keyword">SELECT</span> column_name<span class="token punctuation">,</span> data_type<span class="token punctuation">,</span> character_maximum_length
<span class="token keyword">FROM</span> INFORMATION_SCHEMA<span class="token punctuation">.</span><span class="token keyword">COLUMNS</span>
<span class="token keyword">WHERE</span> table_name <span class="token operator">=</span> <span class="token string">'&lt;table_name&gt;'</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     <a href="http://www.postgresql.org/docs/current/static/sql-createtable.html" rel="nofollow">
      创建表
     </a>
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>column_name<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>column_type<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token operator">&lt;</span>column_name<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>column_type<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     创建表，主键自增
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>column_name<span class="token operator">&gt;</span> <span class="token keyword">SERIAL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     <a href="http://www.postgresql.org/docs/current/static/sql-droptable.html" rel="nofollow">
      删除表
     </a>
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span> <span class="token keyword">CASCADE</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="Permissions__212">
     </a>
     Permissions 权限
    </h4>
    <p>
     成为 postgres 用户，如果您有权限错误
    </p>
    <pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">su</span> - postgres
psql
</code></pre>
    <p>
     <a href="http://www.postgresql.org/docs/current/static/sql-grant.html" rel="nofollow">
      授予
     </a>
     对数据库的所有权限
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">PRIVILEGES</span> <span class="token keyword">ON</span> <span class="token keyword">DATABASE</span> <span class="token operator">&lt;</span>db_name<span class="token operator">&gt;</span> <span class="token keyword">TO</span> <span class="token operator">&lt;</span>user_name<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     授予数据库连接权限
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">GRANT</span> <span class="token keyword">CONNECT</span> <span class="token keyword">ON</span> <span class="token keyword">DATABASE</span> <span class="token operator">&lt;</span>db_name<span class="token operator">&gt;</span> <span class="token keyword">TO</span> <span class="token operator">&lt;</span>user_name<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     授予架构权限
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">GRANT</span> <span class="token keyword">USAGE</span> <span class="token keyword">ON</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">public</span> <span class="token keyword">TO</span> <span class="token operator">&lt;</span>user_name<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     授予函数权限
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">GRANT</span> <span class="token keyword">EXECUTE</span> <span class="token keyword">ON</span> <span class="token keyword">ALL</span> FUNCTIONS <span class="token operator">IN</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">public</span> <span class="token keyword">TO</span> <span class="token operator">&lt;</span>user_name<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     授予在所有表上选择、更新、插入、删除的权限
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span><span class="token punctuation">,</span> <span class="token keyword">UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">INSERT</span> <span class="token keyword">ON</span> <span class="token keyword">ALL</span> <span class="token keyword">TABLES</span> <span class="token operator">IN</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">public</span> <span class="token keyword">TO</span> <span class="token operator">&lt;</span>user_name<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     在表上授予权限
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span><span class="token punctuation">,</span> <span class="token keyword">UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">INSERT</span> <span class="token keyword">ON</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span> <span class="token keyword">TO</span> <span class="token operator">&lt;</span>user_name<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     授予对表的选择权限
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span> <span class="token keyword">ON</span> <span class="token keyword">ALL</span> <span class="token keyword">TABLES</span> <span class="token operator">IN</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">public</span> <span class="token keyword">TO</span> <span class="token operator">&lt;</span>user_name<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="Columns__269">
     </a>
     Columns 列
    </h4>
    <p>
     <a href="http://www.postgresql.org/docs/current/static/sql-altertable.html" rel="nofollow">
      添加栏目
     </a>
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span>
<span class="token keyword">ADD</span> <span class="token operator">&lt;</span>column_name<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>data_type<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>constraints<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     更新栏
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span>
<span class="token keyword">ALTER</span> <span class="token operator">&lt;</span>column_name<span class="token operator">&gt;</span> <span class="token keyword">TYPE</span> <span class="token operator">&lt;</span>data_type<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>constraints<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     删除列
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span>
<span class="token keyword">DROP</span> <span class="token operator">&lt;</span>column_name<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     将列更新为自增主键
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span>
<span class="token keyword">ADD</span> <span class="token keyword">COLUMN</span> <span class="token operator">&lt;</span>column_name<span class="token operator">&gt;</span> <span class="token keyword">SERIAL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     使用自动递增的主键插入表中
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token keyword">DEFAULT</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>value1<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>column1_name<span class="token operator">&gt;</span><span class="token punctuation">,</span><span class="token operator">&lt;</span>column2_name<span class="token operator">&gt;</span><span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span> <span class="token operator">&lt;</span>value1<span class="token operator">&gt;</span><span class="token punctuation">,</span><span class="token operator">&lt;</span>value2<span class="token operator">&gt;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="Data__312">
     </a>
     Data 数据
    </h4>
    <p>
     <a href="http://www.postgresql.org/docs/current/static/sql-select.html" rel="nofollow">
      选择
     </a>
     所有数据
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     读取一行数据
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span> <span class="token keyword">LIMIT</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     搜索数据
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span> <span class="token keyword">WHERE</span> <span class="token operator">&lt;</span>column_name<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token keyword">value</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     <a href="http://www.postgresql.org/docs/current/static/sql-insert.html" rel="nofollow">
      插入
     </a>
     数据
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span> <span class="token operator">&lt;</span>value_1<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>value_2<span class="token operator">&gt;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     <a href="http://www.postgresql.org/docs/current/static/sql-update.html" rel="nofollow">
      更新
     </a>
     数据
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span>
<span class="token keyword">SET</span> <span class="token operator">&lt;</span>column_1<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token operator">&lt;</span>value_1<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>column_2<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token operator">&lt;</span>value_2<span class="token operator">&gt;</span>
<span class="token keyword">WHERE</span> <span class="token operator">&lt;</span>column_1<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token keyword">value</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     <a href="http://www.postgresql.org/docs/current/static/sql-delete.html" rel="nofollow">
      删除
     </a>
     所有数据
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     删除特定数据
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span>
<span class="token keyword">WHERE</span> <span class="token operator">&lt;</span>column_name<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token keyword">value</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="Users__362">
     </a>
     Users 用户
    </h4>
    <p>
     列出角色
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">SELECT</span> rolname <span class="token keyword">FROM</span> pg_roles<span class="token punctuation">;</span>
</code></pre>
    <p>
     <a href="http://www.postgresql.org/docs/current/static/sql-createuser.html" rel="nofollow">
      创建用户
     </a>
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token operator">&lt;</span>user_name<span class="token operator">&gt;</span> <span class="token keyword">WITH</span> PASSWORD <span class="token string">'&lt;password&gt;'</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     <a href="http://www.postgresql.org/docs/current/static/sql-dropuser.html" rel="nofollow">
      删除用户
     </a>
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">DROP</span> <span class="token keyword">USER</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token operator">&lt;</span>user_name<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     <a href="http://www.postgresql.org/docs/current/static/sql-alterrole.html" rel="nofollow">
      更改
     </a>
     用户密码
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">ALTER</span> ROLE <span class="token operator">&lt;</span>user_name<span class="token operator">&gt;</span> <span class="token keyword">WITH</span> PASSWORD <span class="token string">'&lt;password&gt;'</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="Schema_389">
     </a>
     Schema
    </h4>
    <p>
     列出 Schemas
    </p>
    <pre><code class="prism language-sql">\dn
<span class="token keyword">SELECT</span> schema_name <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span>schemata<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> nspname <span class="token keyword">FROM</span> pg_catalog<span class="token punctuation">.</span>pg_namespace<span class="token punctuation">;</span>
</code></pre>
    <p>
     <a href="http://www.postgresql.org/docs/current/static/sql-createschema.html" rel="nofollow">
      创建架构
     </a>
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token operator">&lt;</span>schema_name<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     <a href="http://www.postgresql.org/docs/current/static/sql-dropschema.html" rel="nofollow">
      删除模式
     </a>
    </p>
    <pre><code class="prism language-sql"><span class="token keyword">DROP</span> <span class="token keyword">SCHEMA</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token operator">&lt;</span>schema_name<span class="token operator">&gt;</span> <span class="token keyword">CASCADE</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="PostgreSQL__411">
     </a>
     PostgreSQL 命令
    </h3>
    <h4>
     <a id="_414">
     </a>
     表
    </h4>
    <table>
     <thead>
      <tr>
       <th align="left">
        :-
       </th>
       <th>
        -
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="left">
        <code>
         \d &lt;table&gt;
        </code>
       </td>
       <td>
        描述表
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \d+ &lt;table&gt;
        </code>
       </td>
       <td>
        详细描述表格
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \dt
        </code>
       </td>
       <td>
        列出当前模式中的表
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \dt *.*
        </code>
       </td>
       <td>
        列出所有模式中的表
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \dt &lt;schema&gt;.*
        </code>
       </td>
       <td>
        列出架构的表
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \dp
        </code>
       </td>
       <td>
        列出表访问权限
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \det[+]
        </code>
       </td>
       <td>
        列出外部表
       </td>
      </tr>
     </tbody>
    </table>
    <h4>
     <a id="_426">
     </a>
     查询缓冲区
    </h4>
    <table>
     <thead>
      <tr>
       <th align="left">
        :-
       </th>
       <th>
        -
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="left">
        <code>
         \e [FILE]
        </code>
       </td>
       <td>
        编辑查询缓冲区(或文件)
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \ef [FUNC]
        </code>
       </td>
       <td>
        编辑函数定义
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \p
        </code>
       </td>
       <td>
        显示内容
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \r
        </code>
       </td>
       <td>
        重置(清除)查询缓冲区
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \s [FILE]
        </code>
       </td>
       <td>
        显示历史记录或保存到文件
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \w FILE
        </code>
       </td>
       <td>
        将查询缓冲区写入文件
       </td>
      </tr>
     </tbody>
    </table>
    <h4>
     <a id="_437">
     </a>
     信息
    </h4>
    <table>
     <thead>
      <tr>
       <th align="left">
        :-
       </th>
       <th>
        -
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="left">
        <code>
         \l[+]
        </code>
       </td>
       <td>
        列出所有数据库
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \dn[S+]
        </code>
       </td>
       <td>
        列出架构
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \di[S+]
        </code>
       </td>
       <td>
        列出索引
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \du[+]
        </code>
       </td>
       <td>
        列出角色
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \ds[S+]
        </code>
       </td>
       <td>
        列出序列
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \df[antw][S+]
        </code>
       </td>
       <td>
        列出函数
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \deu[+]
        </code>
       </td>
       <td>
        列出用户映射
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \dv[S+]
        </code>
       </td>
       <td>
        列表视图
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \dl
        </code>
       </td>
       <td>
        列出大对象
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \dT[S+]
        </code>
       </td>
       <td>
        列出数据类型
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \da[S]
        </code>
       </td>
       <td>
        列出聚合
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \db[+]
        </code>
       </td>
       <td>
        列出表空间
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \dc[S+]
        </code>
       </td>
       <td>
        列出转化
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \dC[+]
        </code>
       </td>
       <td>
        列出演员表
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \ddp
        </code>
       </td>
       <td>
        列出默认权限
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \dd[S]
        </code>
       </td>
       <td>
        显示对象描述
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \dD[S+]
        </code>
       </td>
       <td>
        列出域
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \des[+]
        </code>
       </td>
       <td>
        列出国外服务器
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \dew[+]
        </code>
       </td>
       <td>
        列出外部数据包装器
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \dF[+]
        </code>
       </td>
       <td>
        列出文本搜索配置
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \dFd[+]
        </code>
       </td>
       <td>
        列出文本搜索词典
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \dFp[+]
        </code>
       </td>
       <td>
        列出文本搜索解析器
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \dFt[+]
        </code>
       </td>
       <td>
        列出文本搜索模板
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \dL[S+]
        </code>
       </td>
       <td>
        列出程序语言
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \do[S]
        </code>
       </td>
       <td>
        列出运算符
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \dO[S+]
        </code>
       </td>
       <td>
        列出排序规则
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \drds
        </code>
       </td>
       <td>
        列出每个数据库的角色设置
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \dx[+]
        </code>
       </td>
       <td>
        列出扩展
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <code>
      S
     </code>
     ：显示系统对象，
     <code>
      +
     </code>
     ：附加细节
    </p>
    <h4>
     <a id="_473">
     </a>
     连接
    </h4>
    <table>
     <thead>
      <tr>
       <th align="left">
        :-
       </th>
       <th>
        -
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="left">
        <code>
         \c [DBNAME]
        </code>
       </td>
       <td>
        连接到新数据库
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \encoding [ENCODING]
        </code>
       </td>
       <td>
        显示或设置客户端编码
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \password [USER]
        </code>
       </td>
       <td>
        更改密码
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \conninfo
        </code>
       </td>
       <td>
        显示信息
       </td>
      </tr>
     </tbody>
    </table>
    <h4>
     <a id="_482">
     </a>
     格式化
    </h4>
    <table>
     <thead>
      <tr>
       <th align="left">
        :-
       </th>
       <th>
        -
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="left">
        <code>
         \a
        </code>
       </td>
       <td>
        在未对齐和对齐之间切换
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \C [STRING]
        </code>
       </td>
       <td>
        设置表格标题，如果没有则取消设置
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \f [STRING]
        </code>
       </td>
       <td>
        显示或设置未对齐的字段分隔符
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \H
        </code>
       </td>
       <td>
        切换 HTML 输出模式
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \t [on|off]
        </code>
       </td>
       <td>
        仅显示行
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \T [STRING]
        </code>
       </td>
       <td>
        设置或取消设置 HTML &lt;table&gt; 标签属性
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \x [on|off]
        </code>
       </td>
       <td>
        切换扩展输出
       </td>
      </tr>
     </tbody>
    </table>
    <h4>
     <a id="_494">
     </a>
     输入输出
    </h4>
    <table>
     <thead>
      <tr>
       <th align="left">
        :-
       </th>
       <th>
        -
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="left">
        <code>
         \copy ...
        </code>
       </td>
       <td>
        导入/导出表
        <em>
         另见：
        </em>
        <a href="#%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA-csv" rel="nofollow">
         复制
        </a>
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \echo [STRING]
        </code>
       </td>
       <td>
        打印字符串
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \i FILE
        </code>
       </td>
       <td>
        执行文件
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \o [FILE]
        </code>
       </td>
       <td>
        将所有结果导出到文件
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \qecho [STRING]
        </code>
       </td>
       <td>
        输出流的字符串
       </td>
      </tr>
     </tbody>
    </table>
    <h4>
     <a id="_504">
     </a>
     变量
    </h4>
    <table>
     <thead>
      <tr>
       <th align="left">
        :-
       </th>
       <th>
        -
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="left">
        <code>
         \prompt [TEXT] NAME
        </code>
       </td>
       <td>
        设置变量
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \set [NAME [VALUE]]
        </code>
       </td>
       <td>
        设置变量
        <em>
         (如果没有参数，则列出所有变量)
        </em>
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \unset NAME
        </code>
       </td>
       <td>
        删除变量
       </td>
      </tr>
     </tbody>
    </table>
    <h4>
     <a id="_512">
     </a>
     杂项
    </h4>
    <table>
     <thead>
      <tr>
       <th align="left">
        :-
       </th>
       <th>
        -
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="left">
        <code>
         \cd [DIR]
        </code>
       </td>
       <td>
        更改目录
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \timing [on|off]
        </code>
       </td>
       <td>
        切换时间
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \! [COMMAND]
        </code>
       </td>
       <td>
        在shell中执行
       </td>
      </tr>
      <tr>
       <td align="left">
        <code>
         \! ls -l
        </code>
       </td>
       <td>
        在shell中列出所有
       </td>
      </tr>
     </tbody>
    </table>
    <h4>
     <a id="_521">
     </a>
     大对象
    </h4>
    <ul>
     <li>
      <code>
       \lo_export LOBOID FILE
      </code>
     </li>
     <li>
      <code>
       \lo_import FILE [COMMENT]
      </code>
     </li>
     <li>
      <code>
       \lo_list
      </code>
     </li>
     <li>
      <code>
       \lo_unlink LOBOID
      </code>
     </li>
    </ul>
    <h3>
     <a id="_528">
     </a>
     各种各样的
    </h3>
    <h4>
     <a id="_531">
     </a>
     备份
    </h4>
    <p>
     使用 pg_dumpall 备份所有数据库
    </p>
    <pre><code class="prism language-shell">$ pg_dumpall <span class="token parameter variable">-U</span> postgres <span class="token operator">&gt;</span> all.sql
</code></pre>
    <p>
     使用 pg_dump 备份数据库
    </p>
    <pre><code class="prism language-shell">$ pg_dump <span class="token parameter variable">-d</span> mydb <span class="token parameter variable">-f</span> mydb_backup.sql
</code></pre>
    <ul>
     <li>
      <code>
       -a
      </code>
      只转储数据，而不是模式(schema)
     </li>
     <li>
      <code>
       -s
      </code>
      只转储模式，不转储数据
     </li>
     <li>
      <code>
       -c
      </code>
      在重新创建之前删除数据库
     </li>
     <li>
      <code>
       -C
      </code>
      还原前创建数据库
     </li>
     <li>
      <code>
       -t
      </code>
      仅转储命名表
     </li>
     <li>
      <code>
       -F
      </code>
      格式(
      <code>
       c
      </code>
      ：自定义，
      <code>
       d
      </code>
      ：目录，
      <code>
       t
      </code>
      ：tar)
     </li>
    </ul>
    <p>
     使用
     <code>
      pg_dump -?
     </code>
     获取完整的选项列表
    </p>
    <h4>
     <a id="_555">
     </a>
     恢复
    </h4>
    <p>
     使用 psql 恢复数据库
    </p>
    <pre><code class="prism language-shell">$ psql <span class="token parameter variable">-U</span> user mydb <span class="token operator">&lt;</span> mydb_backup.sql
</code></pre>
    <p>
     使用 pg_restore 恢复数据库
    </p>
    <pre><code class="prism language-shell">$ pg_restore <span class="token parameter variable">-d</span> mydb mydb_backup.sql <span class="token parameter variable">-c</span>
</code></pre>
    <ul>
     <li>
      <code>
       -U
      </code>
      指定数据库用户
     </li>
     <li>
      <code>
       -c
      </code>
      在重新创建之前删除数据库
     </li>
     <li>
      <code>
       -C
      </code>
      还原前创建数据库
     </li>
     <li>
      <code>
       -e
      </code>
      如果遇到错误退出
     </li>
     <li>
      <code>
       -F
      </code>
      格式(
      <code>
       c
      </code>
      :自定义，
      <code>
       d
      </code>
      :目录，
      <code>
       t
      </code>
      :tar，
      <code>
       p
      </code>
      :纯文本sql(默认))
     </li>
    </ul>
    <p>
     使用
     <code>
      pg_restore -?
     </code>
     获取完整的选项列表
    </p>
    <h4>
     <a id="_578">
     </a>
     远程访问
    </h4>
    <p>
     获取 postgresql.conf 的位置
    </p>
    <pre><code class="prism language-shell">$ psql <span class="token parameter variable">-U</span> postgres <span class="token parameter variable">-c</span> <span class="token string">'SHOW config_file'</span>
</code></pre>
    <p>
     附加到 postgresql.conf
    </p>
    <pre><code class="prism language-shell">listen_addresses <span class="token operator">=</span> <span class="token string">'*'</span>
</code></pre>
    <p>
     附加到 pg_hba.conf(与 postgresql.conf 相同的位置)
    </p>
    <pre><code class="prism language-shell"><span class="token function">host</span>  all  all  <span class="token number">0.0</span>.0.0/0  md5
<span class="token function">host</span>  all  all  ::/0       md5
</code></pre>
    <p>
     重启 PostgreSQL 服务器
    </p>
    <pre><code class="prism language-shell">$ <span class="token function">sudo</span> systemctl restart postgresql
</code></pre>
    <h4>
     <a id="_CSV_605">
     </a>
     导入/导出 CSV
    </h4>
    <p>
     将表格导出为 CSV 文件
    </p>
    <pre><code class="prism language-sql">\copy <span class="token keyword">table</span> <span class="token keyword">TO</span> <span class="token string">'&lt;path&gt;'</span> CSV
\copy <span class="token keyword">table</span><span class="token punctuation">(</span>col1<span class="token punctuation">,</span>col1<span class="token punctuation">)</span> <span class="token keyword">TO</span> <span class="token string">'&lt;path&gt;'</span> CSV
\copy <span class="token punctuation">(</span><span class="token keyword">SELECT</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">TO</span> <span class="token string">'&lt;path&gt;'</span> CSV
</code></pre>
    <p>
     将 CSV 文件导入表格
    </p>
    <pre><code class="prism language-sql">\copy <span class="token keyword">table</span> <span class="token keyword">FROM</span> <span class="token string">'&lt;path&gt;'</span> CSV
\copy <span class="token keyword">table</span><span class="token punctuation">(</span>col1<span class="token punctuation">,</span>col1<span class="token punctuation">)</span> <span class="token keyword">FROM</span> <span class="token string">'&lt;path&gt;'</span> CSV
</code></pre>
    <p>
     另见：
     <a href="https://www.postgresql.org/docs/current/sql-copy.html" rel="nofollow">
      复制
     </a>
    </p>
    <h4>
     <a id="_624">
     </a>
     跨版本升级
    </h4>
    <p>
     pg_upgrade 跨版本升级
    </p>
    <pre><code class="prism language-shell">$ /usr/lib/postgresql/16/bin/pg_upgrade <span class="token punctuation">\</span>
  <span class="token parameter variable">-b</span> /usr/lib/postgresql/15/bin <span class="token punctuation">\</span>
  <span class="token parameter variable">-B</span> /usr/lib/postgresql/16/bin <span class="token punctuation">\</span>
  <span class="token parameter variable">-d</span> /var/lib/postgresql/15/main <span class="token punctuation">\</span>
  <span class="token parameter variable">-D</span> /var/lib/postgresql/16/main <span class="token punctuation">\</span>
  <span class="token parameter variable">-o</span> <span class="token string">" -c config_file=/etc/postgresql/15/main/postgresql.conf"</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">-O</span> <span class="token string">" -c config_file=/etc/postgresql/16/main/postgresql.conf"</span>
</code></pre>
    <ul>
     <li>
      <code>
       -b
      </code>
      旧版本二进制文件目录
     </li>
     <li>
      <code>
       -B
      </code>
      新版本二进制文件目录
     </li>
     <li>
      <code>
       -d
      </code>
      旧版本数据目录
     </li>
     <li>
      <code>
       -D
      </code>
      新版本数据目录
     </li>
     <li>
      <code>
       -o
      </code>
      旧版本主配置文件
     </li>
     <li>
      <code>
       -O
      </code>
      新版本主配置文件
     </li>
     <li>
      <code>
       -c
      </code>
      仅
      <code>
       check
      </code>
      ，不执行升级，可先加
      <code>
       -c
      </code>
      检查是否有报错，没有报错再运行升级
     </li>
    </ul>
    <p>
     使用
     <code>
      pg_upgrade -?
     </code>
     获取完整的选项列表
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6375695f796f6e676875612f:61727469636c652f64657461696c732f313436323931343039" class_="artid" style="display:none">
 </p>
</div>


