---
layout: post
title: "Obsidian中Text-Generate接入智谱清言报错JSON-parse-error"
date: 2025-03-15 16:15:03 +0800
description: "2、参考智谱清言API开发文档， https://bigmodel.cn/dev/api/normal-model/glm-4，glm-4-flash模型免费；3、解决方案：选择设置，将Advance mode 打开，自定义上送参数，将上送body体中的stop改为[“{{stop}}”]形式，关闭设置，重新双击空格即可；1、原因：ctrl + shift + i 打开控制台后，再次双击空格触发自动建议时，查看上传的参数，stop中含有报错提示中所说的 英文句号，"
keywords: "Obsidian中Text Generate接入智谱清言报错：JSON parse error"
categories: ['效率工具', 'Obsidian', 'Ai']
tags: ['智普清言', 'Text', 'Obsidian', 'Json', 'Generate']
artid: "146280811"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146280811
    alt: "Obsidian中Text-Generate接入智谱清言报错JSON-parse-error"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146280811
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146280811
cover: https://bing.ee123.net/img/rand?artid=146280811
image: https://bing.ee123.net/img/rand?artid=146280811
img: https://bing.ee123.net/img/rand?artid=146280811
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Obsidian中Text Generate接入智谱清言报错：JSON parse error
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="_0">
     </a>
     一、问题描述
    </h3>
    <p>
     双击空格，触发自动建议时报错：error:{message:“JSON parse error: Cannot construct instance of
     <code>
      java.util.ArrayList
     </code>
     (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (‘.’); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of
     <code>
      java.util.ArrayList
     </code>
     (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (‘.’)\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 142] (through reference chain: com.wd.paas.api.domain.v4.chat.ChatCompletionRequest[“stop”])”,code:‘400’}}
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/5fb162cec8d844cf86479d6cccbb664b.png"/>
    </p>
    <h3>
     <a id="_2">
     </a>
     二、原因及解决方案
    </h3>
    <p>
     1、原因：ctrl + shift + i 打开控制台后，再次双击空格触发自动建议时，查看上传的参数，stop中含有报错提示中所说的 英文句号，
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/4c9802c61e7c408cb8278f0712e5bebc.png">
      <br/>
      2、参考智谱清言API开发文档， https://bigmodel.cn/dev/api/normal-model/glm-4，glm-4-flash模型免费；其中请求参数stop为list形式，而上送的为字符串形式，所以导致了解析错误；
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/99a6f1cb65c04bd993ba892433972f91.png">
       <br/>
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/b12d922873ae483aa45e3c5222594f0d.png">
        <br/>
        3、解决方案：选择设置，将Advance mode 打开，自定义上送参数，将上送body体中的stop改为[“{
        <!-- -->
        {stop}}”]形式，关闭设置，重新双击空格即可；
        <br/>
        <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/4e6a91aae6d246b6978ee18d3d0ebcd6.png">
         <br/>
         <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/682a96c8f653473c9ee9492c0e904f19.png">
          <br/>
          <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/e8217714673a46bcb8ed5ede1987af7b.png"/>
         </img>
        </img>
       </img>
      </img>
     </img>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f67:2e6373646e2e6e65742f466f72657665727468696e6b65722f:61727469636c652f64657461696c732f313436323830383131" class_="artid" style="display:none">
 </p>
</div>


