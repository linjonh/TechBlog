---
layout: post
title: "app.config.globalProperties"
date: 2025-03-13 17:20:58 +0800
description: "是 Vue 3 应用实例（app）的一个配置属性，它允许你在整个应用范围内添加全局可用的属性。将一些常用的工具函数挂载到全局属性上，这样在组件中就可以直接调用这些函数，而无需重复导入。// 创建 Vue 应用实例// 添加全局属性app.config.globalProperties.$mes= '这是一个全局消息';return '这是个全局函数返回的方法'// 挂载应用。"
keywords: "app.config.globalProperties"
categories: ['未分类']
tags: ['前端', 'Vue', 'Javascript']
artid: "146235288"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146235288
    alt: "app.config.globalProperties"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146235288
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146235288
cover: https://bing.ee123.net/img/rand?artid=146235288
image: https://bing.ee123.net/img/rand?artid=146235288
img: https://bing.ee123.net/img/rand?artid=146235288
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     app.config.globalProperties
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <hr id="hr-toc" name="tableOfContents"/>
    <p>
    </p>
    <h2 id="%E4%B8%80%3A%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8" name="%E4%B8%80%3A%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8">
     一:基础使用
    </h2>
    <h3 id="%E4%B8%80%3A%E7%AE%80%E4%BB%8B" name="%E4%B8%80%3A%E7%AE%80%E4%BB%8B">
     1、简介
    </h3>
    <p>
     <span style="color:#4da8ee">
      <strong>
       <code>
        app.config.globalProperties
       </code>
      </strong>
     </span>
     是 Vue 3 应用实例（
     <span style="color:#4da8ee">
      <strong>
       <code>
        app
       </code>
      </strong>
     </span>
     ）的一个配置属性，它允许你在整个应用范围内添加全局可用的属性。将一些常用的工具函数挂载到全局属性上，这样在组件中就可以直接调用这些函数，而无需重复导入。
    </p>
    <pre><code>import { createApp } from 'vue';
import App from './App.vue';

// 创建 Vue 应用实例
const app = createApp(App);

// 添加全局属性
app.config.globalProperties.$mes= '这是一个全局消息';
app.config.globalProperties.$meFunction=()=&gt;{
   return '这是个全局函数返回的方法'
};

// 挂载应用
app.mount('#app');</code></pre>
    <h3 id="%E4%BA%8C%3A%E4%BD%BF%E7%94%A8" name="%E4%BA%8C%3A%E4%BD%BF%E7%94%A8">
     2、使用
    </h3>
    <pre><code>&lt;template&gt;
  &lt;div&gt;
    
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts'&gt;
import { getCurrentInstance } from "vue";
const { proxy } = getCurrentInstance() as any;
console.log("proxy", proxy);
console.log("mes", proxy.$mes);
console.log("msFunction", proxy.$meFunction());
&lt;/script&gt;</code></pre>
    <p>
     解释:
    </p>
    <p>
     <span style="color:#494949">
      <strong>
       <code>
        getCurrentInstance
       </code>
       <strong>
        :
       </strong>
      </strong>
     </span>
     <span style="color:#4da8ee">
      <strong>
       <code>
        getCurrentInstance
       </code>
      </strong>
     </span>
     函数用于获取当前正在活跃的组件实例。在 vue3的组合式 API 中，由于不再像选项式 API 那样有一个明确的
     <span style="color:#4da8ee">
      <strong>
       <code>
        this
       </code>
      </strong>
     </span>
     指向当前组件实例，当你需要访问组件实例的属性、方法或者上下文信息时，就可以使用
     <span style="color:#4da8ee">
      <strong>
       <code>
        getCurrentInstance
       </code>
      </strong>
     </span>
     来获取当前
     <span style="color:#4da8ee">
      组件实例
     </span>
    </p>
    <p>
     <strong>
      <span style="color:#494949">
       <code>
        proxy
       </code>
       :
      </span>
     </strong>
     在
     <span style="color:#4da8ee">
      <strong>
       Vue 3
      </strong>
     </span>
     里，
     <span style="color:#4da8ee">
      <strong>
       <code>
        app.config.globalProperties
       </code>
      </strong>
     </span>
     可用于给应用添加全局属性，而借助
     <span style="color:#4da8ee">
      <strong>
       <code>
        getCurrentInstance
       </code>
      </strong>
     </span>
     获取的
     <strong>
      <span style="color:#4da8ee">
       <code>
        proxy
       </code>
      </span>
     </strong>
     对象能够访问这些全局属性。
    </p>
    <h3 id="%E4%B8%89%3A%E6%89%93%E5%8D%B0%E7%BB%93%E6%9E%9C%3A" name="%E4%B8%89%3A%E6%89%93%E5%8D%B0%E7%BB%93%E6%9E%9C%3A">
     <span style="color:#494949">
      3、打印结果:
     </span>
    </h3>
    <p>
     <img alt="" height="997" src="https://i-blog.csdnimg.cn/direct/657fe0b7009d4cb091bc901bd4b319ce.png" width="1090"/>
    </p>
    <p>
     <img alt="" height="112" src="https://i-blog.csdnimg.cn/direct/03b0d26393a1414aaad723980c356d07.png" width="346"/>
    </p>
    <p>
     如果属性很多,不可能全部写在main.ts中,有以下方法
    </p>
    <h2 id="%E4%BA%8C%3A%E5%B0%81%E8%A3%85" name="%E4%BA%8C%3A%E5%B0%81%E8%A3%85">
     二:封装
    </h2>
    <h3 id="%E4%B8%80%3A%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA.ts%E6%96%87%E4%BB%B6(utils%2Fmsg.ts)" name="%E4%B8%80%3A%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA.ts%E6%96%87%E4%BB%B6(utils%2Fmsg.ts)">
     1、创建一个.ts文件(utils/msg.ts)
    </h3>
    <pre><code>export const msgFunction = (value: any) =&gt; {
  return value;
};
</code></pre>
    <h3 id="%E4%BA%8C%3A%E5%9C%A8main.ts%E4%B8%AD%E5%85%A8%E5%B1%80%E6%B3%A8%E5%86%8C" name="%E4%BA%8C%3A%E5%9C%A8main.ts%E4%B8%AD%E5%85%A8%E5%B1%80%E6%B3%A8%E5%86%8C">
     2、在main.ts中全局注册
    </h3>
    <pre><code>import { createApp } from 'vue';
import App from './App.vue';

// 创建 Vue 应用实例
const app = createApp(App);
import { msgFunction } from "./utils/msg";

// 添加全局属性
app.config.globalProperties.$msgFunction = msgFunction;

// 挂载应用
app.mount('#app');</code></pre>
    <h3 id="%E4%B8%89%3A%E5%9C%A8%E9%A1%B5%E9%9D%A2%E4%B8%AD%E4%BD%BF%E7%94%A8" name="%E4%B8%89%3A%E5%9C%A8%E9%A1%B5%E9%9D%A2%E4%B8%AD%E4%BD%BF%E7%94%A8">
     3、在页面中使用
    </h3>
    <pre><code>&lt;template&gt;
  &lt;div&gt;
    
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts'&gt;
import { getCurrentInstance } from "vue";
const { proxy } = getCurrentInstance() as any;
console.log("proxy", proxy.$msgFunction("你好"));
&lt;/script&gt;</code></pre>
    <h3 id="%E5%9B%9B%3A%E6%89%93%E5%8D%B0%E7%BB%93%E6%9E%9C" name="%E5%9B%9B%3A%E6%89%93%E5%8D%B0%E7%BB%93%E6%9E%9C">
     4、打印结果
    </h3>
    <p>
     <img alt="" height="91" src="https://i-blog.csdnimg.cn/direct/066e9e20b54142b6905ae2edac02d6e2.png" width="254"/>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f35313532383836382f:61727469636c652f64657461696c732f313436323335323838" class_="artid" style="display:none">
 </p>
</div>


