---
layout: post
title: "upload-labs1-20详解专业版"
date: 2025-03-08 00:53:51 +0800
description: "经过尝试phpphp会没有后缀phphpp后缀是hpp最后尝试出pphphp最后测试出来的后缀是.php。将return checkFile() 改为 return ture 就可以将php顺利上传。可以通过抓包、改包的方式将type拼接为image/png或image/jpeg绕过。在save_path=后面加上test.php%00进行截断。在test.php后面加一个空格。查看源码可以尝试. .进行绕过。在\\后面加test.php。可以将后缀改为.PHP。上传.php文件抓包。并没有去末尾.的操作。"
keywords: "upload-labs（1-20）详解（专业版）"
categories: ['未分类']
tags: ['网络', 'Web']
artid: "146106269"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146106269
    alt: "upload-labs1-20详解专业版"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146106269
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146106269
cover: https://bing.ee123.net/img/rand?artid=146106269
image: https://bing.ee123.net/img/rand?artid=146106269
img: https://bing.ee123.net/img/rand?artid=146106269
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     upload-labs（1-20）详解（专业版）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <hr id="hr-toc" name="tableOfContents"/>
    <p>
    </p>
    <h3 id="%E7%AC%AC%E4%B8%80%E5%85%B3" name="%E7%AC%AC%E4%B8%80%E5%85%B3">
     第1关
    </h3>
    <p>
     查看源码
    </p>
    <p>
     在第一关是一个前端js的一个后缀识别：当不为jpg、png、gif时候出现弹窗
    </p>
    <p>
     <img alt="" height="571" src="https://i-blog.csdnimg.cn/direct/fe7d847d7e904847a188d53ea7d5a68a.png" width="1264"/>
    </p>
    <p>
     检查源码
    </p>
    <p>
     <img alt="" height="319" src="https://i-blog.csdnimg.cn/direct/25fdaa21bb3d44b69d84d647ea64ae62.png" width="1092"/>
    </p>
    <p>
     将return checkFile() 改为 return ture 就可以将php顺利上传
    </p>
    <p>
     <img alt="" height="260" src="https://i-blog.csdnimg.cn/direct/135017d1ba34424a863ad9f8bcfcfe6a.png" width="1021"/>
    </p>
    <p>
     上传成功
    </p>
    <p>
     <img alt="" height="561" src="https://i-blog.csdnimg.cn/direct/89928b45250d441f89ae1326dbdbbdb2.png" width="512"/>
    </p>
    <p>
     检测php代码是否正常允许
    </p>
    <p>
     <img alt="" height="627" src="https://i-blog.csdnimg.cn/direct/62405c276c734d179465101f478fc8e1.png" width="1244"/>
    </p>
    <h3 id="%E7%AC%AC2%E5%85%B3" name="%E7%AC%AC2%E5%85%B3">
     第2关
    </h3>
    <p>
     查看源码
    </p>
    <p>
     通过post传参
    </p>
    <p>
     <img alt="" height="90" src="https://i-blog.csdnimg.cn/direct/616c5c21107e423a88c046c58ca56b59.png" width="1515"/>
    </p>
    <p>
     可以通过抓包、改包的方式将type拼接为image/png或image/jpeg绕过
    </p>
    <p>
     <img alt="" height="1003" src="https://i-blog.csdnimg.cn/direct/9f2bb4cf655245fc9edfc60e7c77eae5.png" width="1347"/>
    </p>
    <p>
     <img alt="" height="463" src="https://i-blog.csdnimg.cn/direct/74f877e521b84960888ad32ba4cec48e.png" width="1199"/>
    </p>
    <p>
     上传成功
    </p>
    <h3 id="%E7%AC%AC3%E5%85%B3" name="%E7%AC%AC3%E5%85%B3">
     第3关
    </h3>
    <p>
     查看源码
    </p>
    <p>
     <img alt="" height="281" src="https://i-blog.csdnimg.cn/direct/48cf112e4a994274a7da688910ff0b27.png" width="999"/>
    </p>
    <p>
    </p>
    <p>
     大小写可以转化可以将后最改为
     <img alt="" height="125" src="https://i-blog.csdnimg.cn/direct/3b63e2bdc7fb492db6c74d82f2412378.png" width="122"/>
    </p>
    <p>
     尝试上传
    </p>
    <p>
     <img alt="" height="113" src="https://i-blog.csdnimg.cn/direct/87f85ae9aa024bd5ac986a56a0a21669.png" width="1015"/>
    </p>
    <p>
     上传成功
    </p>
    <h3 id="%E7%AC%AC4%E9%A2%98" name="%E7%AC%AC4%E9%A2%98">
     第4题
    </h3>
    <p>
     跟3题一样存在.htaccess可以直接上传成功
    </p>
    <p>
     <img alt="" height="88" src="https://i-blog.csdnimg.cn/direct/26afd410d00e456c89cb41ea5edf97c0.png" width="381"/>
    </p>
    <h3 id="%E7%AC%AC5%E9%A2%98" name="%E7%AC%AC5%E9%A2%98">
     第5题
    </h3>
    <p>
     查看源码没有大小写转换识别
    </p>
    <p>
     可以将后缀改为.PHP
    </p>
    <p>
     <img alt="" height="152" src="https://i-blog.csdnimg.cn/direct/6117eb8bfda3445382159a1f32d7cfd5.png" width="126"/>
    </p>
    <p>
     直接上传
    </p>
    <p>
     <img alt="" height="677" src="https://i-blog.csdnimg.cn/direct/50d7529ba0544091ab14cbda6c5b3882.png" width="1540"/>
    </p>
    <p>
     上传成功
    </p>
    <h3 id="%E7%AC%AC6%E9%A2%98" name="%E7%AC%AC6%E9%A2%98">
     第6题
    </h3>
    <p>
     <img alt="" height="262" src="https://i-blog.csdnimg.cn/direct/93f0b7b03c474c74a5563d968a4ba729.png" width="1056"/>
     查看源码发现没有去末尾空格的操作
    </p>
    <p>
     上传.php文件抓包
    </p>
    <p>
     <img alt="" height="1001" src="https://i-blog.csdnimg.cn/direct/88369270c1da4e2cae0f80732291590a.png" width="1144"/>
    </p>
    <p>
     在test.php后面加一个空格
    </p>
    <p>
     send成功
    </p>
    <p>
     <img alt="" height="144" src="https://i-blog.csdnimg.cn/direct/ce5ee5dbe1054bda8c0750bf3a2f403d.png" width="1187"/>
    </p>
    <h3 id="%E7%AC%AC7%E9%A2%98" name="%E7%AC%AC7%E9%A2%98">
     第7题
    </h3>
    <p>
     查看源码
    </p>
    <p>
     <img alt="" height="647" src="https://i-blog.csdnimg.cn/direct/ec741fe96dac401ab74801119dfd27fe.png" width="1571"/>
    </p>
    <p>
     并没有去末尾.的操作
    </p>
    <p>
     直接上传.php
    </p>
    <p>
     抓包
    </p>
    <p>
     <img alt="" height="867" src="https://i-blog.csdnimg.cn/direct/190aa19030224574a1d8a9cee04b7def.png" width="865"/>
    </p>
    <p>
     send上传成功
    </p>
    <p>
     <img alt="" height="298" src="https://i-blog.csdnimg.cn/direct/c51ccbf00b19410ca1c225b70f73eaa2.png" width="1139"/>
    </p>
    <h3 id="%E7%AC%AC8%E9%A2%98" name="%E7%AC%AC8%E9%A2%98">
     第8题
    </h3>
    <p>
     <img alt="" height="384" src="https://i-blog.csdnimg.cn/direct/46bbdb0db8f14cc2871d5cc17bfedfbd.png" width="1507"/>
    </p>
    <p>
     没有去掉::$DATA的语句
    </p>
    <p>
     <img alt="" height="922" src="https://i-blog.csdnimg.cn/direct/19e8dad2245b4bad9a2f9ac170ce2fdb.png" width="902"/>
    </p>
    <p>
     send上传成功
    </p>
    <p>
     <img alt="" height="328" src="https://i-blog.csdnimg.cn/direct/9c747248df2d406fa2fc48cd92ff1b87.png" width="1076"/>
    </p>
    <h3 id="%E7%AC%AC9%E9%A2%98" name="%E7%AC%AC9%E9%A2%98">
     第9题
    </h3>
    <p>
     查看源码可以尝试. .进行绕过
    </p>
    <p>
     上传
    </p>
    <p>
     抓包
    </p>
    <p>
     <img alt="" height="695" src="https://i-blog.csdnimg.cn/direct/12f596470f6348eb8a9bef6ddce0ff3f.png" width="877"/>
    </p>
    <p>
     修改
    </p>
    <p>
     send上传成功
    </p>
    <p>
     <img alt="" height="243" src="https://i-blog.csdnimg.cn/direct/c8572c051369448ea9465cdb08819a0c.png" width="1109"/>
    </p>
    <h3 id="%E7%AC%AC10%E9%A2%98" name="%E7%AC%AC10%E9%A2%98">
     第10题
    </h3>
    <p>
     直接上传文件
    </p>
    <p>
     <img alt="" height="280" src="https://i-blog.csdnimg.cn/direct/0097cf0060424ffa9d9b73ca0be33b27.png" width="941"/>
    </p>
    <p>
     发现文件正常上传但是后缀消失了
    </p>
    <p>
     <img alt="" height="884" src="https://i-blog.csdnimg.cn/direct/c144d4ed8d62458f8d13d9d087fe29dd.png" width="907"/>
    </p>
    <p>
     经过尝试phpphp会没有后缀phphpp后缀是hpp最后尝试出pphphp最后测试出来的后缀是.php
    </p>
    <p>
     <img alt="" height="245" src="https://i-blog.csdnimg.cn/direct/e27e8aed063c4e648239a3c610ba21ba.png" width="361"/>
    </p>
    <p>
     上传成功
    </p>
    <p>
    </p>
    <h3 id="%E7%AC%AC11%E9%A2%98" name="%E7%AC%AC11%E9%A2%98">
     第11题
    </h3>
    <p>
     这一题查看代码
    </p>
    <p>
     <img alt="" height="76" src="https://i-blog.csdnimg.cn/direct/013490c1bffd4f6cb88da6c43dd63388.png" width="1134"/>
    </p>
    <p>
     会将代码重新的名字进行重新编译，这个时候就可以用00截断c语言中%0代表注释
    </p>
    <p>
     开始抓包
    </p>
    <p>
     <img alt="" height="323" src="https://i-blog.csdnimg.cn/direct/ecf3148df845401694a98833acebf93e.png" width="889"/>
    </p>
    <p>
     在save_path=后面加上test.php%00进行截断
    </p>
    <p>
     上传成功
    </p>
    <p>
     <img alt="" height="243" src="https://i-blog.csdnimg.cn/direct/c8572c051369448ea9465cdb08819a0c.png" width="1109"/>
    </p>
    <h3 id="%E7%AC%AC12%E9%A2%98" name="%E7%AC%AC12%E9%A2%98">
     第12题
    </h3>
    <p>
     也可以进行%00截断
    </p>
    <p>
     <img alt="" height="110" src="https://i-blog.csdnimg.cn/direct/a3f53cf060a54469b817ecb126e5e2f0.png" width="242"/>
    </p>
    <p>
     在/upload/后面敲一个空格
    </p>
    <p>
     在16进制中找到
    </p>
    <p>
     <img alt="" height="36" src="https://i-blog.csdnimg.cn/direct/fe7e00dd5d4442cd9e084aca6f2f868e.png" width="514"/>
    </p>
    <p>
     将2改为0
    </p>
    <p>
     <img alt="" height="89" src="https://i-blog.csdnimg.cn/direct/2eb0d191605342e0b6b0bcd59e4071c3.png" width="395"/>
    </p>
    <p>
     在\后面加test.php
    </p>
    <p>
     send
    </p>
    <p>
     <img alt="" height="298" src="https://i-blog.csdnimg.cn/direct/c51ccbf00b19410ca1c225b70f73eaa2.png" width="1139"/>
    </p>
    <p>
     上传成功
    </p>
    <h3 id="%E7%AC%AC13%E9%A2%98" name="%E7%AC%AC13%E9%A2%98">
     第13题
    </h3>
    <p>
     明天补
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330325f37383032333832372f:61727469636c652f64657461696c732f313436313036323639" class_="artid" style="display:none">
 </p>
</div>


