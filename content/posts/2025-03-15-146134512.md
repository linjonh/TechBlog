---
layout: post
title: "aws学习笔记第三十三课-深入使用cdk-练习aws-athena"
date: 2025-03-15 11:57:46 +0800
description: "aws athena是aws提供的数据分析service，可以使用SQL语言对S3上保存的数据进行分析。，所以不需要维护。基于OpenSource的框架构筑基于处理的数据量进行收费对数据提供加密功能注意 和RDB不能进行JOIN操作，所以只能提供对csv和json进行数据查询aws glue是aws提供的。能够简单的进行分析数据的准备和load。table和schema关联的metadata能够作为进行保存。"
keywords: "aws(学习笔记第三十三课) 深入使用cdk 练习aws athena"
categories: ['Aws']
tags: ['笔记', '学习', 'Aws']
artid: "146134512"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146134512
    alt: "aws学习笔记第三十三课-深入使用cdk-练习aws-athena"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146134512
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146134512
cover: https://bing.ee123.net/img/rand?artid=146134512
image: https://bing.ee123.net/img/rand?artid=146134512
img: https://bing.ee123.net/img/rand?artid=146134512
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     aws(学习笔记第三十三课) 深入使用cdk 练习aws athena
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <p>
    </p>
    <h2>
     <a id="aws_cdk_1">
     </a>
     aws(学习笔记第三十三课) 深入使用cdk
    </h2>
    <ul>
     <li class="task-list-item">
      <input checked="true" class="task-list-item-checkbox" disabled="disabled" type="checkbox"/>
      使用
      <code>
       cdk
      </code>
      生成
      <code>
       athena
      </code>
      以及
      <code>
       aws glue crawler
      </code>
     </li>
    </ul>
    <h2>
     <a id="_3">
     </a>
     学习内容：
    </h2>
    <ul>
     <li>
      使用
      <code>
       aws athena
      </code>
      +
      <code>
       aws glue crawler
      </code>
     </li>
    </ul>
    <hr/>
    <h3>
     <a id="1_aws_athena_6">
     </a>
     1. 使用
     <code>
      aws athena
     </code>
    </h3>
    <h4>
     <a id="11_aws_athena_7">
     </a>
     1.1 什么是
     <code>
      aws athena
     </code>
    </h4>
    <p>
     <code>
      aws athena
     </code>
     是
     <code>
      aws
     </code>
     提供的数据分析
     <code>
      service
     </code>
     ，可以使用
     <code>
      SQL
     </code>
     语言对
     <code>
      S3
     </code>
     上保存的数据进行分析。
    </p>
    <ul>
     <li>
      <code>
       managed service
      </code>
      ，所以不需要维护。
     </li>
     <li>
      基于
      <code>
       OpenSource
      </code>
      的框架构筑
     </li>
     <li>
      基于处理的数据量进行收费
     </li>
     <li>
      对数据提供加密功能
      <br/>
      <em>
       注意 和
       <code>
        RDB
       </code>
       不能进行JOIN操作，所以只能提供对
       <code>
        csv
       </code>
       和
       <code>
        json
       </code>
       进行数据查询
      </em>
     </li>
    </ul>
    <h4>
     <a id="12_aws_glue_14">
     </a>
     1.2 什么是
     <code>
      aws glue
     </code>
    </h4>
    <p>
     <code>
      aws glue
     </code>
     是
     <code>
      aws
     </code>
     提供的
     <code>
      managed ETL service
     </code>
     。能够简单的进行分析数据的准备和
     <code>
      load
     </code>
     。
     <code>
      table
     </code>
     和
     <code>
      schema
     </code>
     关联的
     <code>
      metadata
     </code>
     能够作为
     <code>
      aws glue catalog data
     </code>
     进行保存。
    </p>
    <h4>
     <a id="12_aws_athenaaws_glue_16">
     </a>
     1.2 为什么
     <code>
      aws athena
     </code>
     和
     <code>
      aws glue
     </code>
     一起使用
    </h4>
    <p>
     <code>
      aws athena
     </code>
     结合
     <code>
      aws glue
     </code>
     能够将
     <code>
      aws glue
     </code>
     作成的
     <code>
      database
     </code>
     或者
     <code>
      schema
     </code>
     ，使用
     <code>
      aws athena
     </code>
     进行查询。
    </p>
    <h3>
     <a id="2_aws_athena_19">
     </a>
     2. 开始练习
     <code>
      aws athena
     </code>
    </h3>
    <h4>
     <a id="21__20">
     </a>
     2.1 代码链接
    </h4>
    <p>
     <a href="https://gitcode.com/gh_mirrors/aw/aws-cdk-examples/tree/main/python/athena-s3-glue">
      代码链接aws-cdk-examples
     </a>
    </p>
    <h4>
     <a id="22__22">
     </a>
     2.2 整体架构
    </h4>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/dfc8b5a09e7842dfa2fb813a706ee166.png"/>
    </p>
    <h4>
     <a id="23__24">
     </a>
     2.3 代码解析
    </h4>
    <h5>
     <a id="231_S3_bucket_25">
     </a>
     2.3.1 创建测试数据的
     <code>
      S3 bucket
     </code>
    </h5>
    <pre><code class="prism language-python"> <span class="token comment"># creating the buckets where the logs will be placed</span>
 logs_bucket <span class="token operator">=</span> s3<span class="token punctuation">.</span>Bucket<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'logs-bucket'</span><span class="token punctuation">,</span>
             bucket_name<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f"auditing-logs-</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>self<span class="token punctuation">.</span>account<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">,</span>
             removal_policy<span class="token operator">=</span>RemovalPolicy<span class="token punctuation">.</span>DESTROY<span class="token punctuation">,</span>
             auto_delete_objects<span class="token operator">=</span><span class="token boolean">True</span>
 <span class="token punctuation">)</span>
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/5e92bd3516f647cb9895b5f28f9f2845.png"/>
    </p>
    <h5>
     <a id="232_S3_bucket_35">
     </a>
     2.3.2 创建保存查询结果的
     <code>
      S3 bucket
     </code>
    </h5>
    <pre><code class="prism language-python"> <span class="token comment"># creating the bucket where the  queries output will be placed</span>
 query_output_bucket <span class="token operator">=</span> s3<span class="token punctuation">.</span>Bucket<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'query-output-bucket'</span><span class="token punctuation">,</span>
      bucket_name<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f"auditing-analysis-output-</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>self<span class="token punctuation">.</span>account<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">,</span>
      removal_policy<span class="token operator">=</span>RemovalPolicy<span class="token punctuation">.</span>DESTROY<span class="token punctuation">,</span>
       auto_delete_objects<span class="token operator">=</span><span class="token boolean">True</span>
    <span class="token punctuation">)</span>
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/cf2d6066d3e44b8ba68387a56789cc6c.png"/>
    </p>
    <h5>
     <a id="233_jsonS3_bucket_45">
     </a>
     2.3.3 将示例的程序
     <code>
      json
     </code>
     数据文件同期到
     <code>
      S3 bucket
     </code>
    </h5>
    <pre><code class="prism language-python"><span class="token comment"># uploading the log files to the bucket as examples</span>
  s3_deployment<span class="token punctuation">.</span>BucketDeployment<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'sample-files'</span><span class="token punctuation">,</span>
         destination_bucket<span class="token operator">=</span>logs_bucket<span class="token punctuation">,</span>
         sources<span class="token operator">=</span><span class="token punctuation">[</span>s3_deployment<span class="token punctuation">.</span>Source<span class="token punctuation">.</span>asset<span class="token punctuation">(</span><span class="token string">'./log-samples'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
         content_type<span class="token operator">=</span><span class="token string">'application/json'</span><span class="token punctuation">,</span>
         retain_on_delete<span class="token operator">=</span><span class="token boolean">False</span>
<span class="token punctuation">)</span>
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/e0702ff851b4484b95f46132181fc7b1.png"/>
    </p>
    <h5>
     <a id="234_aws_gluecfnDatabase_57">
     </a>
     2.3.4 创建
     <code>
      aws glue
     </code>
     的
     <code>
      cfnDatabase
     </code>
    </h5>
    <pre><code class="prism language-python">    <span class="token comment"># creating the Glue Database to serve as our Data Catalog</span>
    glue_database <span class="token operator">=</span> glue<span class="token punctuation">.</span>CfnDatabase<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'log-database'</span><span class="token punctuation">,</span>
            catalog_id<span class="token operator">=</span>self<span class="token punctuation">.</span>account<span class="token punctuation">,</span>
            database_input<span class="token operator">=</span>glue<span class="token punctuation">.</span>CfnDatabase<span class="token punctuation">.</span>DatabaseInputProperty<span class="token punctuation">(</span>
            name<span class="token operator">=</span><span class="token string">"log-database"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/bca8edc891d74e7bba883a934b11da54.png"/>
    </p>
    <h5>
     <a id="235_aws_glue_crawlerRole_66">
     </a>
     2.3.5 创建
     <code>
      aws glue crawler
     </code>
     需要的权限
     <code>
      Role
     </code>
    </h5>
    <pre><code class="prism language-python"><span class="token comment"># creating the permissions for the crawler to enrich our Data Catalog</span>
        glue_crawler_role <span class="token operator">=</span> iam<span class="token punctuation">.</span>Role<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'glue-crawler-role'</span><span class="token punctuation">,</span>
                                     role_name<span class="token operator">=</span><span class="token string">'glue-crawler-role'</span><span class="token punctuation">,</span>
                                     assumed_by<span class="token operator">=</span>iam<span class="token punctuation">.</span>ServicePrincipal<span class="token punctuation">(</span>service<span class="token operator">=</span><span class="token string">'glue.amazonaws.com'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                     managed_policies<span class="token operator">=</span><span class="token punctuation">[</span>
                                         <span class="token comment"># Remember to apply the Least Privilege Principle and provide only the permissions needed to the crawler</span>
                                         iam<span class="token punctuation">.</span>ManagedPolicy<span class="token punctuation">.</span>from_managed_policy_arn<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'AmazonS3FullAccess'</span><span class="token punctuation">,</span>
                                                                                   <span class="token string">'arn:aws:iam::aws:policy/AmazonS3FullAccess'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                         iam<span class="token punctuation">.</span>ManagedPolicy<span class="token punctuation">.</span>from_managed_policy_arn<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'AWSGlueServiceRole'</span><span class="token punctuation">,</span>
                                                                                   <span class="token string">'arn:aws:iam::aws:policy/service-role/AWSGlueServiceRole'</span><span class="token punctuation">)</span>
                                     <span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     这里需要两个
     <code>
      policy
     </code>
     ，
     <code>
      AmazonS3FullAccess
     </code>
     和
     <code>
      AWSGlueServiceRole
     </code>
     。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/6ea739e38ed94b2da78ad25d1b5b7a39.png"/>
    </p>
    <h5>
     <a id="236_aws_glue_crawler_83">
     </a>
     2.3.6 创建
     <code>
      aws glue crawler
     </code>
    </h5>
    <pre><code class="prism language-python"> <span class="token comment"># creating the Glue Crawler that will automatically populate our Data Catalog. Don't forget to run the crawler</span>
        <span class="token comment"># as soon as the deployment finishes, otherwise our Data Catalog will be empty. Check out the README for more instructions</span>
        glue<span class="token punctuation">.</span>CfnCrawler<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'logs-crawler'</span><span class="token punctuation">,</span>
                        name<span class="token operator">=</span><span class="token string">'logs-crawler'</span><span class="token punctuation">,</span>
                        database_name<span class="token operator">=</span>glue_database<span class="token punctuation">.</span>database_input<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
                        role<span class="token operator">=</span>glue_crawler_role<span class="token punctuation">.</span>role_name<span class="token punctuation">,</span>
                        targets<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>
                            <span class="token string">"s3Targets"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
                                <span class="token punctuation">{<!-- --></span><span class="token string">"path"</span><span class="token punctuation">:</span> <span class="token string-interpolation"><span class="token string">f's3://</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>logs_bucket<span class="token punctuation">.</span>bucket_name<span class="token punctuation">}</span></span><span class="token string">/products'</span></span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                                <span class="token punctuation">{<!-- --></span><span class="token string">"path"</span><span class="token punctuation">:</span> <span class="token string-interpolation"><span class="token string">f's3://</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>logs_bucket<span class="token punctuation">.</span>bucket_name<span class="token punctuation">}</span></span><span class="token string">/users'</span></span><span class="token punctuation">}</span>
                            <span class="token punctuation">]</span>
                        <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     这里，
     <code>
      aws glue crawler
     </code>
     执行
     <code>
      ETL Extract Transform Load
     </code>
     ，将
     <code>
      S3 bucket
     </code>
     里面的
     <code>
      products
     </code>
     和
     <code>
      users
     </code>
     的数据文件，经过转换将
     <code>
      json
     </code>
     数据文件
     <code>
      load
     </code>
     到
     <code>
      glue database
     </code>
     。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/559ab73e241c4cd481f0ac6d16834a34.png"/>
    </p>
    <h5>
     <a id="237_aws_athena_work_group_100">
     </a>
     2.3.7 创建
     <code>
      aws athena work group
     </code>
    </h5>
    <pre><code class="prism language-python"><span class="token comment"># creating the Athena Workgroup to store our queries</span>
        work_group <span class="token operator">=</span> athena<span class="token punctuation">.</span>CfnWorkGroup<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'log-auditing-work-group'</span><span class="token punctuation">,</span>
                                         name<span class="token operator">=</span><span class="token string">'log-auditing'</span><span class="token punctuation">,</span>
                                         work_group_configuration<span class="token operator">=</span>athena<span class="token punctuation">.</span>CfnWorkGroup<span class="token punctuation">.</span>WorkGroupConfigurationProperty<span class="token punctuation">(</span>
                                             result_configuration<span class="token operator">=</span>athena<span class="token punctuation">.</span>CfnWorkGroup<span class="token punctuation">.</span>ResultConfigurationProperty<span class="token punctuation">(</span>
                                                 output_location<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f"s3://</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>query_output_bucket<span class="token punctuation">.</span>bucket_name<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">,</span>
                                                 encryption_configuration<span class="token operator">=</span>athena<span class="token punctuation">.</span>CfnWorkGroup<span class="token punctuation">.</span>EncryptionConfigurationProperty<span class="token punctuation">(</span>
                                                     encryption_option<span class="token operator">=</span><span class="token string">"SSE_S3"</span>
                                                 <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/af3caa0c11d74ac89ecf9b397e18eeec.png">
      <br/>
      <code>
       aws athena
      </code>
      通过
      <code>
       work group
      </code>
      进行管理，创建了
      <code>
       workgroup
      </code>
      之后，在里面继续创建
      <code>
       query
      </code>
      。
     </img>
    </p>
    <h5>
     <a id="238_aws_athena_query_114">
     </a>
     2.3.8 创建
     <code>
      aws athena query
     </code>
    </h5>
    <pre><code class="prism language-python"><span class="token comment"># creating an example query to fetch all product events by date</span>
        product_events_by_date_query <span class="token operator">=</span> athena<span class="token punctuation">.</span>CfnNamedQuery<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'product-events-by-date-query'</span><span class="token punctuation">,</span>
                                                            database<span class="token operator">=</span>glue_database<span class="token punctuation">.</span>database_input<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
                                                            work_group<span class="token operator">=</span>work_group<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
                                                            name<span class="token operator">=</span><span class="token string">"product-events-by-date"</span><span class="token punctuation">,</span>
                                                            query_string<span class="token operator">=</span><span class="token string">"SELECT * FROM \"log-database\".\"products\" WHERE \"date\" = '2024-01-19'"</span><span class="token punctuation">)</span>

        <span class="token comment"># creating an example query to fetch all user events by date</span>
        user_events_by_date_query <span class="token operator">=</span> athena<span class="token punctuation">.</span>CfnNamedQuery<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'user-events-by-date-query'</span><span class="token punctuation">,</span>
                                                         database<span class="token operator">=</span>glue_database<span class="token punctuation">.</span>database_input<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
                                                         work_group<span class="token operator">=</span>work_group<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
                                                         name<span class="token operator">=</span><span class="token string">"user-events-by-date"</span><span class="token punctuation">,</span>
                                                         query_string<span class="token operator">=</span><span class="token string">"SELECT * FROM \"log-database\".\"users\" WHERE \"date\" = '2024-01-22'"</span><span class="token punctuation">)</span>

        <span class="token comment"># creating an example query to fetch all events by the user ID</span>
        all_events_by_userid_query <span class="token operator">=</span> athena<span class="token punctuation">.</span>CfnNamedQuery<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'all-events-by-userId-query'</span><span class="token punctuation">,</span>
                                                          database<span class="token operator">=</span>glue_database<span class="token punctuation">.</span>database_input<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
                                                          work_group<span class="token operator">=</span>work_group<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
                                                          name<span class="token operator">=</span><span class="token string">"all-events-by-userId"</span><span class="token punctuation">,</span>
                                                          query_string<span class="token operator">=</span><span class="token string">"SELECT * FROM (\n"</span>
                                                                       <span class="token string">"    SELECT transactionid, userid, username, domain, datetime, action FROM \"log-database\".\"products\" \n"</span>
                                                                       <span class="token string">"UNION \n"</span>
                                                                       <span class="token string">"    SELECT transactionid, userid, username, domain, datetime, action FROM \"log-database\".\"users\" \n"</span>
                                                                       <span class="token string">") WHERE \"userid\" = '123'"</span><span class="token punctuation">)</span>
</code></pre>
    <h5>
     <a id="239__141">
     </a>
     2.3.9 调整执行顺序
    </h5>
    <pre><code class="prism language-python"><span class="token comment"># adjusting the resource creation order</span>
product_events_by_date_query<span class="token punctuation">.</span>add_dependency<span class="token punctuation">(</span>work_group<span class="token punctuation">)</span>
user_events_by_date_query<span class="token punctuation">.</span>add_dependency<span class="token punctuation">(</span>work_group<span class="token punctuation">)</span>
all_events_by_userid_query<span class="token punctuation">.</span>add_dependency<span class="token punctuation">(</span>work_group<span class="token punctuation">)</span>
</code></pre>
    <h4>
     <a id="24_aws_cdk_for_athena_148">
     </a>
     2.4 开始执行
     <code>
      aws cdk for athena
     </code>
    </h4>
    <h5>
     <a id="241__149">
     </a>
     2.4.1 执行部署
    </h5>
    <pre><code class="prism language-shell">python <span class="token parameter variable">-m</span> venv .venv
<span class="token builtin class-name">source</span> .venv/Scripts/activate <span class="token comment"># windows platform</span>
pip <span class="token function">install</span> <span class="token parameter variable">-r</span> requirements.txt
cdk synth
cdk --require-approval never deploy
</code></pre>
    <h5>
     <a id="242_crawler_157">
     </a>
     2.4.2 执行
     <code>
      crawler
     </code>
     爬虫
    </h5>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/767e50b06f5a45749d906f2d61c26274.png"/>
     <br/>
     默认
     <code>
      crawler
     </code>
     是不启动的，需要
     <code>
      run
     </code>
     起来。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/bcd3c618ceb745cdb0aab1b91c4ef686.png"/>
     <br/>
     正常执行完毕。数据都由
     <code>
      S3 bucket
     </code>
     的
     <code>
      json
     </code>
     文件，经过
     <code>
      ETL
     </code>
     ，进入到
     <code>
      aws glue database
     </code>
     里面了。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/36dc2b99c64b44c2a1adba58dffcb4ee.png"/>
    </p>
    <h5>
     <a id="243_aws_athenaqueries_164">
     </a>
     2.4.3 查看
     <code>
      aws athena
     </code>
     的
     <code>
      queries
     </code>
    </h5>
    <p>
     <code>
      AWS Athena
     </code>
     &gt; 查询编辑器 &gt; 已保存的查询 &gt; 工作组 &gt;
     <code>
      log auditing
     </code>
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/ced480e7a7eb4a6ba48e0500c0f2a49c.png"/>
    </p>
    <h5>
     <a id="244_aws_athenaqueries_167">
     </a>
     2.4.4 执行
     <code>
      aws athena
     </code>
     的
     <code>
      queries
     </code>
    </h5>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/f9b9744d94a04ca2a87a8b97fa9a910c.png"/>
    </p>
    <h5>
     <a id="245_aws_athenaqueries_170">
     </a>
     2.4.5 查看
     <code>
      aws athena
     </code>
     的
     <code>
      queries
     </code>
     执行结果
    </h5>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/e79b65738cf442f187e03276fd89fbec.png"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c:6f672e6373646e2e6e65742f7365616c61756768313938302f:61727469636c652f64657461696c732f313436313334353132" class_="artid" style="display:none">
 </p>
</div>


