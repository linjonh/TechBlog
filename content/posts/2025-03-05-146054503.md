---
layout: post
title: "文献分享-ConstBERT固定数目向量编码文档"
date: 2025-03-05 22:15:04 +0800
description: "ECIR'25"
keywords: "文献分享: ConstBERT固定数目向量编码文档"
categories: ['文献阅读笔记']
tags: ['自然语言处理', '机器学习', '数据库', 'Nlp']
artid: "146054503"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146054503
    alt: "文献分享-ConstBERT固定数目向量编码文档"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146054503
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146054503
cover: https://bing.ee123.net/img/rand?artid=146054503
image: https://bing.ee123.net/img/rand?artid=146054503
img: https://bing.ee123.net/img/rand?artid=146054503
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     文献分享: ConstBERT固定数目向量编码文档
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     😂图放这了，大道至简的
     <span class="katex--inline">
      <span class="katex">
       <span class="katex-mathml">
        idea 
        
       
      
        \text{idea}
       </span>
       <span class="katex-html">
        <span class="base">
         <span class="strut" style="height: 0.6944em;">
         </span>
         <span class="mord text">
          <span class="mord">
           idea
          </span>
         </span>
        </span>
       </span>
      </span>
     </span>
     不愧是
     <span class="katex--inline">
      <span class="katex">
       <span class="katex-mathml">
        ECIR 
        
       
      
        \text{ECIR}
       </span>
       <span class="katex-html">
        <span class="base">
         <span class="strut" style="height: 0.6833em;">
         </span>
         <span class="mord text">
          <span class="mord">
           ECIR
          </span>
         </span>
        </span>
       </span>
      </span>
     </span>
    </p>
    <img alt="image-20250305212409686" src="https://i-blog.csdnimg.cn/direct/d2ca3bae2f6f41e8a39675ed1527bd77.png" width="800">
     <p>
      👉
      <a href="https://raw.githubusercontent.com/DANNHIROAKI/New-Picture-Bed/main/img/ECIR25b.pdf" rel="nofollow">
       原论文
      </a>
     </p>
     <h2>
      <a id="textbf1_ConstBERT_6">
      </a>
      <span class="katex--inline">
       <span class="katex">
        <span class="katex-mathml">
         1. 
        
       
           
        
       
         ConstBERT 
        
       
      
        \textbf{1. ConstBERT}
        </span>
        <span class="katex-html">
         <span class="base">
          <span class="strut" style="height: 0.6861em;">
          </span>
          <span class="mord text">
           <span class="mord textbf">
            1. ConstBERT
           </span>
          </span>
         </span>
        </span>
       </span>
      </span>
      的原理
     </h2>
     <blockquote>
      <p>
       1️⃣模型的改进点：相较于
       <span class="katex--inline">
        <span class="katex">
         <span class="katex-mathml">
          ColBERT 
         
        
       
         \text{ColBERT}
         </span>
         <span class="katex-html">
          <span class="base">
           <span class="strut" style="height: 0.6944em;">
           </span>
           <span class="mord text">
            <span class="mord">
             ColBERT
            </span>
           </span>
          </span>
         </span>
        </span>
       </span>
       为每个
       <span class="katex--inline">
        <span class="katex">
         <span class="katex-mathml">
          Token 
         
        
       
         \text{Token}
         </span>
         <span class="katex-html">
          <span class="base">
           <span class="strut" style="height: 0.6944em;">
           </span>
           <span class="mord text">
            <span class="mord">
             Token
            </span>
           </span>
          </span>
         </span>
        </span>
       </span>
       生成一个向量，
       <span class="katex--inline">
        <span class="katex">
         <span class="katex-mathml">
          ConstBERT 
         
        
       
         \text{ConstBERT}
         </span>
         <span class="katex-html">
          <span class="base">
           <span class="strut" style="height: 0.6833em;">
           </span>
           <span class="mord text">
            <span class="mord">
             ConstBERT
            </span>
           </span>
          </span>
         </span>
        </span>
       </span>
       只为段落生成固定
       <span class="katex--inline">
        <span class="katex">
         <span class="katex-mathml">
          C 
         
        
       
         C
         </span>
         <span class="katex-html">
          <span class="base">
           <span class="strut" style="height: 0.6833em;">
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0715em;">
            C
           </span>
          </span>
         </span>
        </span>
       </span>
       个向量
      </p>
      <ol>
       <li>
        嵌入阶段：为查询
        <span class="katex--inline">
         <span class="katex">
          <span class="katex-mathml">
           Q 
          
         
        
          Q
          </span>
          <span class="katex-html">
           <span class="base">
            <span class="strut" style="height: 0.8778em; vertical-align: -0.1944em;">
            </span>
            <span class="mord mathnormal">
             Q
            </span>
           </span>
          </span>
         </span>
        </span>
        和段落
        <span class="katex--inline">
         <span class="katex">
          <span class="katex-mathml">
           P 
          
         
        
          P
          </span>
          <span class="katex-html">
           <span class="base">
            <span class="strut" style="height: 0.6833em;">
            </span>
            <span class="mord mathnormal" style="margin-right: 0.1389em;">
             P
            </span>
           </span>
          </span>
         </span>
        </span>
        的每个
        <span class="katex--inline">
         <span class="katex">
          <span class="katex-mathml">
           Token 
          
         
        
          \text{Token}
          </span>
          <span class="katex-html">
           <span class="base">
            <span class="strut" style="height: 0.6944em;">
            </span>
            <span class="mord text">
             <span class="mord">
              Token
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
        都生成一个
        <span class="katex--inline">
         <span class="katex">
          <span class="katex-mathml">
           d 
          
         
        
          d
          </span>
          <span class="katex-html">
           <span class="base">
            <span class="strut" style="height: 0.6944em;">
            </span>
            <span class="mord mathnormal">
             d
            </span>
           </span>
          </span>
         </span>
        </span>
        维向量，是为
        <span class="katex--inline">
         <span class="katex">
          <span class="katex-mathml">
           { 
          
          
          
            q 
           
          
            1 
           
          
         
           , 
          
         
           … 
          
         
           , 
          
          
          
            q 
           
          
            N 
           
          
         
           } 
          
         
        
          \{q_{1},\ldots,q_{N}\}
          </span>
          <span class="katex-html">
           <span class="base">
            <span class="strut" style="height: 1em; vertical-align: -0.25em;">
            </span>
            <span class="mopen">
             {
             <!-- -->
            </span>
            <span class="mord">
             <span class="mord mathnormal" style="margin-right: 0.0359em;">
              q
             </span>
             <span class="msupsub">
              <span class="vlist-t vlist-t2">
               <span class="vlist-r">
                <span class="vlist" style="height: 0.3011em;">
                 <span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;">
                  <span class="pstrut" style="height: 2.7em;">
                  </span>
                  <span class="sizing reset-size6 size3 mtight">
                   <span class="mord mtight">
                    <span class="mord mtight">
                     1
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
                <span class="vlist-s">
                 ​
                </span>
               </span>
               <span class="vlist-r">
                <span class="vlist" style="height: 0.15em;">
                 <span class="">
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
            <span class="mpunct">
             ,
            </span>
            <span class="mspace" style="margin-right: 0.1667em;">
            </span>
            <span class="minner">
             …
            </span>
            <span class="mspace" style="margin-right: 0.1667em;">
            </span>
            <span class="mpunct">
             ,
            </span>
            <span class="mspace" style="margin-right: 0.1667em;">
            </span>
            <span class="mord">
             <span class="mord mathnormal" style="margin-right: 0.0359em;">
              q
             </span>
             <span class="msupsub">
              <span class="vlist-t vlist-t2">
               <span class="vlist-r">
                <span class="vlist" style="height: 0.3283em;">
                 <span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;">
                  <span class="pstrut" style="height: 2.7em;">
                  </span>
                  <span class="sizing reset-size6 size3 mtight">
                   <span class="mord mtight">
                    <span class="mord mathnormal mtight" style="margin-right: 0.109em;">
                     N
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
                <span class="vlist-s">
                 ​
                </span>
               </span>
               <span class="vlist-r">
                <span class="vlist" style="height: 0.15em;">
                 <span class="">
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
            <span class="mclose">
             }
            </span>
           </span>
          </span>
         </span>
        </span>
        和
        <span class="katex--inline">
         <span class="katex">
          <span class="katex-mathml">
           { 
          
          
          
            p 
           
          
            1 
           
          
         
           , 
          
         
           … 
          
         
           , 
          
          
          
            p 
           
          
            M 
           
          
         
           } 
          
         
        
          \{p_{1},\ldots,p_{M}\}
          </span>
          <span class="katex-html">
           <span class="base">
            <span class="strut" style="height: 1em; vertical-align: -0.25em;">
            </span>
            <span class="mopen">
             {
             <!-- -->
            </span>
            <span class="mord">
             <span class="mord mathnormal">
              p
             </span>
             <span class="msupsub">
              <span class="vlist-t vlist-t2">
               <span class="vlist-r">
                <span class="vlist" style="height: 0.3011em;">
                 <span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;">
                  <span class="pstrut" style="height: 2.7em;">
                  </span>
                  <span class="sizing reset-size6 size3 mtight">
                   <span class="mord mtight">
                    <span class="mord mtight">
                     1
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
                <span class="vlist-s">
                 ​
                </span>
               </span>
               <span class="vlist-r">
                <span class="vlist" style="height: 0.15em;">
                 <span class="">
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
            <span class="mpunct">
             ,
            </span>
            <span class="mspace" style="margin-right: 0.1667em;">
            </span>
            <span class="minner">
             …
            </span>
            <span class="mspace" style="margin-right: 0.1667em;">
            </span>
            <span class="mpunct">
             ,
            </span>
            <span class="mspace" style="margin-right: 0.1667em;">
            </span>
            <span class="mord">
             <span class="mord mathnormal">
              p
             </span>
             <span class="msupsub">
              <span class="vlist-t vlist-t2">
               <span class="vlist-r">
                <span class="vlist" style="height: 0.3283em;">
                 <span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;">
                  <span class="pstrut" style="height: 2.7em;">
                  </span>
                  <span class="sizing reset-size6 size3 mtight">
                   <span class="mord mtight">
                    <span class="mord mathnormal mtight" style="margin-right: 0.109em;">
                     M
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
                <span class="vlist-s">
                 ​
                </span>
               </span>
               <span class="vlist-r">
                <span class="vlist" style="height: 0.15em;">
                 <span class="">
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
            <span class="mclose">
             }
            </span>
           </span>
          </span>
         </span>
        </span>
       </li>
       <li>
        线性变换：拼接所有段落单向量为
        <span class="katex--inline">
         <span class="katex">
          <span class="katex-mathml">
           [ 
           
           
           
             p 
            
           
             1 
            
           
          
            , 
           
          
            ⋯ 
            
          
            , 
           
           
           
             p 
            
           
             M 
            
           
          
            ] 
           
          
         
           ∈ 
          
          
          
            R 
           
           
           
             d 
            
           
             M 
            
           
          
         
        
          \left[p_{1},\cdots,p_{M}\right]\text{∈}\mathbb{R}^{dM}
          </span>
          <span class="katex-html">
           <span class="base">
            <span class="strut" style="height: 1.0991em; vertical-align: -0.25em;">
            </span>
            <span class="minner">
             <span class="mopen delimcenter" style="top: 0em;">
              [
             </span>
             <span class="mord">
              <span class="mord mathnormal">
               p
              </span>
              <span class="msupsub">
               <span class="vlist-t vlist-t2">
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.3011em;">
                  <span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;">
                   <span class="pstrut" style="height: 2.7em;">
                   </span>
                   <span class="sizing reset-size6 size3 mtight">
                    <span class="mord mtight">
                     <span class="mord mtight">
                      1
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                 <span class="vlist-s">
                  ​
                 </span>
                </span>
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.15em;">
                  <span class="">
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
             <span class="mpunct">
              ,
             </span>
             <span class="mspace" style="margin-right: 0.1667em;">
             </span>
             <span class="minner">
              ⋯
             </span>
             <span class="mspace" style="margin-right: 0.1667em;">
             </span>
             <span class="mspace" style="margin-right: 0.1667em;">
             </span>
             <span class="mpunct">
              ,
             </span>
             <span class="mspace" style="margin-right: 0.1667em;">
             </span>
             <span class="mord">
              <span class="mord mathnormal">
               p
              </span>
              <span class="msupsub">
               <span class="vlist-t vlist-t2">
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.3283em;">
                  <span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;">
                   <span class="pstrut" style="height: 2.7em;">
                   </span>
                   <span class="sizing reset-size6 size3 mtight">
                    <span class="mord mtight">
                     <span class="mord mathnormal mtight" style="margin-right: 0.109em;">
                      M
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                 <span class="vlist-s">
                  ​
                 </span>
                </span>
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.15em;">
                  <span class="">
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
             <span class="mclose delimcenter" style="top: 0em;">
              ]
             </span>
            </span>
            <span class="mspace" style="margin-right: 0.1667em;">
            </span>
            <span class="mord text">
             <span class="mord">
              ∈
             </span>
            </span>
            <span class="mord">
             <span class="mord mathbb">
              R
             </span>
             <span class="msupsub">
              <span class="vlist-t">
               <span class="vlist-r">
                <span class="vlist" style="height: 0.8491em;">
                 <span class="" style="top: -3.063em; margin-right: 0.05em;">
                  <span class="pstrut" style="height: 2.7em;">
                  </span>
                  <span class="sizing reset-size6 size3 mtight">
                   <span class="mord mtight">
                    <span class="mord mathnormal mtight">
                     d
                    </span>
                    <span class="mord mathnormal mtight" style="margin-right: 0.109em;">
                     M
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
        ，进行
        <span class="katex--inline">
         <span class="katex">
          <span class="katex-mathml">
           W 
          
         
           ∈ 
          
          
          
            R 
           
           
           
             M 
            
           
             k 
            
           
             × 
            
           
             C 
            
           
             k 
            
           
          
         
        
          \mathbf{W}\text{∈}\mathbb{R}^{Mk\text{×}Ck}
          </span>
          <span class="katex-html">
           <span class="base">
            <span class="strut" style="height: 0.8882em; vertical-align: -0.0391em;">
            </span>
            <span class="mord mathbf" style="margin-right: 0.016em;">
             W
            </span>
            <span class="mord text">
             <span class="mord">
              ∈
             </span>
            </span>
            <span class="mord">
             <span class="mord mathbb">
              R
             </span>
             <span class="msupsub">
              <span class="vlist-t">
               <span class="vlist-r">
                <span class="vlist" style="height: 0.8491em;">
                 <span class="" style="top: -3.063em; margin-right: 0.05em;">
                  <span class="pstrut" style="height: 2.7em;">
                  </span>
                  <span class="sizing reset-size6 size3 mtight">
                   <span class="mord mtight">
                    <span class="mord mathnormal mtight" style="margin-right: 0.109em;">
                     M
                    </span>
                    <span class="mord mathnormal mtight" style="margin-right: 0.0315em;">
                     k
                    </span>
                    <span class="mord text mtight">
                     <span class="mord mtight">
                      ×
                     </span>
                    </span>
                    <span class="mord mathnormal mtight" style="margin-right: 0.0715em;">
                     C
                    </span>
                    <span class="mord mathnormal mtight" style="margin-right: 0.0315em;">
                     k
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
        投影得
        <span class="katex--inline">
         <span class="katex">
          <span class="katex-mathml">
           [ 
           
           
           
             δ 
            
           
             1 
            
           
          
            , 
           
          
            ⋯ 
            
          
            , 
           
           
           
             δ 
            
           
             C 
            
           
          
            ] 
           
          
         
           = 
          
          
          
            W 
           
          
            T 
           
          
          
          
            [ 
           
           
           
             p 
            
           
             1 
            
           
          
            , 
           
          
            ⋯ 
            
          
            , 
           
           
           
             p 
            
           
             M 
            
           
          
            ] 
           
          
         
           ∈ 
          
          
          
            R 
           
           
           
             d 
            
           
             C 
            
           
          
         
        
          \left[\delta_{1},\cdots, \delta_{C}\right]\text{=}\mathbf{W}^{T}\left[p_{1},\cdots,p_{M}\right]\text{∈}\mathbb{R}^{dC}
          </span>
          <span class="katex-html">
           <span class="base">
            <span class="strut" style="height: 1.0991em; vertical-align: -0.25em;">
            </span>
            <span class="minner">
             <span class="mopen delimcenter" style="top: 0em;">
              [
             </span>
             <span class="mord">
              <span class="mord mathnormal" style="margin-right: 0.0379em;">
               δ
              </span>
              <span class="msupsub">
               <span class="vlist-t vlist-t2">
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.3011em;">
                  <span class="" style="top: -2.55em; margin-left: -0.0379em; margin-right: 0.05em;">
                   <span class="pstrut" style="height: 2.7em;">
                   </span>
                   <span class="sizing reset-size6 size3 mtight">
                    <span class="mord mtight">
                     <span class="mord mtight">
                      1
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                 <span class="vlist-s">
                  ​
                 </span>
                </span>
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.15em;">
                  <span class="">
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
             <span class="mpunct">
              ,
             </span>
             <span class="mspace" style="margin-right: 0.1667em;">
             </span>
             <span class="minner">
              ⋯
             </span>
             <span class="mspace" style="margin-right: 0.1667em;">
             </span>
             <span class="mspace" style="margin-right: 0.1667em;">
             </span>
             <span class="mpunct">
              ,
             </span>
             <span class="mspace" style="margin-right: 0.1667em;">
             </span>
             <span class="mord">
              <span class="mord mathnormal" style="margin-right: 0.0379em;">
               δ
              </span>
              <span class="msupsub">
               <span class="vlist-t vlist-t2">
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.3283em;">
                  <span class="" style="top: -2.55em; margin-left: -0.0379em; margin-right: 0.05em;">
                   <span class="pstrut" style="height: 2.7em;">
                   </span>
                   <span class="sizing reset-size6 size3 mtight">
                    <span class="mord mtight">
                     <span class="mord mathnormal mtight" style="margin-right: 0.0715em;">
                      C
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                 <span class="vlist-s">
                  ​
                 </span>
                </span>
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.15em;">
                  <span class="">
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
             <span class="mclose delimcenter" style="top: 0em;">
              ]
             </span>
            </span>
            <span class="mspace" style="margin-right: 0.1667em;">
            </span>
            <span class="mord text">
             <span class="mord">
              =
             </span>
            </span>
            <span class="mord">
             <span class="mord mathbf" style="margin-right: 0.016em;">
              W
             </span>
             <span class="msupsub">
              <span class="vlist-t">
               <span class="vlist-r">
                <span class="vlist" style="height: 0.8413em;">
                 <span class="" style="top: -3.063em; margin-right: 0.05em;">
                  <span class="pstrut" style="height: 2.7em;">
                  </span>
                  <span class="sizing reset-size6 size3 mtight">
                   <span class="mord mtight">
                    <span class="mord mathnormal mtight" style="margin-right: 0.1389em;">
                     T
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
            <span class="mspace" style="margin-right: 0.1667em;">
            </span>
            <span class="minner">
             <span class="mopen delimcenter" style="top: 0em;">
              [
             </span>
             <span class="mord">
              <span class="mord mathnormal">
               p
              </span>
              <span class="msupsub">
               <span class="vlist-t vlist-t2">
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.3011em;">
                  <span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;">
                   <span class="pstrut" style="height: 2.7em;">
                   </span>
                   <span class="sizing reset-size6 size3 mtight">
                    <span class="mord mtight">
                     <span class="mord mtight">
                      1
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                 <span class="vlist-s">
                  ​
                 </span>
                </span>
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.15em;">
                  <span class="">
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
             <span class="mpunct">
              ,
             </span>
             <span class="mspace" style="margin-right: 0.1667em;">
             </span>
             <span class="minner">
              ⋯
             </span>
             <span class="mspace" style="margin-right: 0.1667em;">
             </span>
             <span class="mspace" style="margin-right: 0.1667em;">
             </span>
             <span class="mpunct">
              ,
             </span>
             <span class="mspace" style="margin-right: 0.1667em;">
             </span>
             <span class="mord">
              <span class="mord mathnormal">
               p
              </span>
              <span class="msupsub">
               <span class="vlist-t vlist-t2">
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.3283em;">
                  <span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;">
                   <span class="pstrut" style="height: 2.7em;">
                   </span>
                   <span class="sizing reset-size6 size3 mtight">
                    <span class="mord mtight">
                     <span class="mord mathnormal mtight" style="margin-right: 0.109em;">
                      M
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                 <span class="vlist-s">
                  ​
                 </span>
                </span>
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.15em;">
                  <span class="">
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
             <span class="mclose delimcenter" style="top: 0em;">
              ]
             </span>
            </span>
            <span class="mspace" style="margin-right: 0.1667em;">
            </span>
            <span class="mord text">
             <span class="mord">
              ∈
             </span>
            </span>
            <span class="mord">
             <span class="mord mathbb">
              R
             </span>
             <span class="msupsub">
              <span class="vlist-t">
               <span class="vlist-r">
                <span class="vlist" style="height: 0.8491em;">
                 <span class="" style="top: -3.063em; margin-right: 0.05em;">
                  <span class="pstrut" style="height: 2.7em;">
                  </span>
                  <span class="sizing reset-size6 size3 mtight">
                   <span class="mord mtight">
                    <span class="mord mathnormal mtight">
                     d
                    </span>
                    <span class="mord mathnormal mtight" style="margin-right: 0.0715em;">
                     C
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
       </li>
       <li>
        后期交互：同
        <span class="katex--inline">
         <span class="katex">
          <span class="katex-mathml">
           ColBERT 
          
         
        
          \text{ColBERT}
          </span>
          <span class="katex-html">
           <span class="base">
            <span class="strut" style="height: 0.6944em;">
            </span>
            <span class="mord text">
             <span class="mord">
              ColBERT
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
        ，为每个
        <span class="katex--inline">
         <span class="katex">
          <span class="katex-mathml">
           q 
           
          
            i 
           
          
         
        
          q_i
          </span>
          <span class="katex-html">
           <span class="base">
            <span class="strut" style="height: 0.625em; vertical-align: -0.1944em;">
            </span>
            <span class="mord">
             <span class="mord mathnormal" style="margin-right: 0.0359em;">
              q
             </span>
             <span class="msupsub">
              <span class="vlist-t vlist-t2">
               <span class="vlist-r">
                <span class="vlist" style="height: 0.3117em;">
                 <span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;">
                  <span class="pstrut" style="height: 2.7em;">
                  </span>
                  <span class="sizing reset-size6 size3 mtight">
                   <span class="mord mathnormal mtight">
                    i
                   </span>
                  </span>
                 </span>
                </span>
                <span class="vlist-s">
                 ​
                </span>
               </span>
               <span class="vlist-r">
                <span class="vlist" style="height: 0.15em;">
                 <span class="">
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
        找到与其内积最大的
        <span class="katex--inline">
         <span class="katex">
          <span class="katex-mathml">
           MaxSim 
          
         
           ( 
          
          
          
            q 
           
          
            i 
           
          
         
           , 
          
         
           δ 
          
         
           ) 
          
         
           = 
          
          
          
            δ 
           
           
           
             p 
            
           
             i 
            
           
          
         
        
          \text{MaxSim}(q_i,\delta)\text{=}\delta_{p_i}
          </span>
          <span class="katex-html">
           <span class="base">
            <span class="strut" style="height: 1.0361em; vertical-align: -0.2861em;">
            </span>
            <span class="mord text">
             <span class="mord">
              MaxSim
             </span>
            </span>
            <span class="mopen">
             (
            </span>
            <span class="mord">
             <span class="mord mathnormal" style="margin-right: 0.0359em;">
              q
             </span>
             <span class="msupsub">
              <span class="vlist-t vlist-t2">
               <span class="vlist-r">
                <span class="vlist" style="height: 0.3117em;">
                 <span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;">
                  <span class="pstrut" style="height: 2.7em;">
                  </span>
                  <span class="sizing reset-size6 size3 mtight">
                   <span class="mord mathnormal mtight">
                    i
                   </span>
                  </span>
                 </span>
                </span>
                <span class="vlist-s">
                 ​
                </span>
               </span>
               <span class="vlist-r">
                <span class="vlist" style="height: 0.15em;">
                 <span class="">
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
            <span class="mpunct">
             ,
            </span>
            <span class="mspace" style="margin-right: 0.1667em;">
            </span>
            <span class="mord mathnormal" style="margin-right: 0.0379em;">
             δ
            </span>
            <span class="mclose">
             )
            </span>
            <span class="mord text">
             <span class="mord">
              =
             </span>
            </span>
            <span class="mord">
             <span class="mord mathnormal" style="margin-right: 0.0379em;">
              δ
             </span>
             <span class="msupsub">
              <span class="vlist-t vlist-t2">
               <span class="vlist-r">
                <span class="vlist" style="height: 0.1514em;">
                 <span class="" style="top: -2.55em; margin-left: -0.0379em; margin-right: 0.05em;">
                  <span class="pstrut" style="height: 2.7em;">
                  </span>
                  <span class="sizing reset-size6 size3 mtight">
                   <span class="mord mtight">
                    <span class="mord mtight">
                     <span class="mord mathnormal mtight">
                      p
                     </span>
                     <span class="msupsub">
                      <span class="vlist-t vlist-t2">
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.3281em;">
                         <span class="" style="top: -2.357em; margin-left: 0em; margin-right: 0.0714em;">
                          <span class="pstrut" style="height: 2.5em;">
                          </span>
                          <span class="sizing reset-size3 size1 mtight">
                           <span class="mord mathnormal mtight">
                            i
                           </span>
                          </span>
                         </span>
                        </span>
                        <span class="vlist-s">
                         ​
                        </span>
                       </span>
                       <span class="vlist-r">
                        <span class="vlist" style="height: 0.143em;">
                         <span class="">
                         </span>
                        </span>
                       </span>
                      </span>
                     </span>
                    </span>
                   </span>
                  </span>
                 </span>
                </span>
                <span class="vlist-s">
                 ​
                </span>
               </span>
               <span class="vlist-r">
                <span class="vlist" style="height: 0.2861em;">
                 <span class="">
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
        ，最后将所有
        <span class="katex--inline">
         <span class="katex">
          <span class="katex-mathml">
           MaxSim 
          
         
        
          \text{MaxSim}
          </span>
          <span class="katex-html">
           <span class="base">
            <span class="strut" style="height: 0.6833em;">
            </span>
            <span class="mord text">
             <span class="mord">
              MaxSim
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
        相加得到相似度评分
       </li>
      </ol>
      <p>
       2️⃣改进的动机：为何非要固定数目的段落向量
      </p>
      <ol>
       <li>
        存储效率上：设定
        <span class="katex--inline">
         <span class="katex">
          <span class="katex-mathml">
           C 
          
         
           &lt; 
          
         
           M 
          
         
        
          C\text{&lt;}M
          </span>
          <span class="katex-html">
           <span class="base">
            <span class="strut" style="height: 0.7224em; vertical-align: -0.0391em;">
            </span>
            <span class="mord mathnormal" style="margin-right: 0.0715em;">
             C
            </span>
            <span class="mord text">
             <span class="mord">
              &lt;
             </span>
            </span>
            <span class="mord mathnormal" style="margin-right: 0.109em;">
             M
            </span>
           </span>
          </span>
         </span>
        </span>
        后，能降低段落嵌入所占的空间
       </li>
       <li>
        计算效率上：设定
        <span class="katex--inline">
         <span class="katex">
          <span class="katex-mathml">
           C 
          
         
           &lt; 
          
         
           M 
          
         
        
          C\text{&lt;}M
          </span>
          <span class="katex-html">
           <span class="base">
            <span class="strut" style="height: 0.7224em; vertical-align: -0.0391em;">
            </span>
            <span class="mord mathnormal" style="margin-right: 0.0715em;">
             C
            </span>
            <span class="mord text">
             <span class="mord">
              &lt;
             </span>
            </span>
            <span class="mord mathnormal" style="margin-right: 0.109em;">
             M
            </span>
           </span>
          </span>
         </span>
        </span>
        后，将原有
        <span class="katex--inline">
         <span class="katex">
          <span class="katex-mathml">
           O 
          
         
           ( 
          
         
           M 
          
         
           N 
          
         
           ) 
          
         
        
          O(MN)
          </span>
          <span class="katex-html">
           <span class="base">
            <span class="strut" style="height: 1em; vertical-align: -0.25em;">
            </span>
            <span class="mord mathnormal" style="margin-right: 0.0278em;">
             O
            </span>
            <span class="mopen">
             (
            </span>
            <span class="mord mathnormal" style="margin-right: 0.109em;">
             MN
            </span>
            <span class="mclose">
             )
            </span>
           </span>
          </span>
         </span>
        </span>
        的查询复杂度降为了
        <span class="katex--inline">
         <span class="katex">
          <span class="katex-mathml">
           O 
          
         
           ( 
          
         
           C 
          
         
           N 
          
         
           ) 
          
         
        
          O(CN)
          </span>
          <span class="katex-html">
           <span class="base">
            <span class="strut" style="height: 1em; vertical-align: -0.25em;">
            </span>
            <span class="mord mathnormal" style="margin-right: 0.0278em;">
             O
            </span>
            <span class="mopen">
             (
            </span>
            <span class="mord mathnormal" style="margin-right: 0.109em;">
             CN
            </span>
            <span class="mclose">
             )
            </span>
           </span>
          </span>
         </span>
        </span>
       </li>
       <li>
        系统级优化：使得内存对齐，规避了变长文档表示导致内存碎片化，从而降低了
        <span class="katex--inline">
         <span class="katex">
          <span class="katex-mathml">
           Cache Miss 
          
         
        
          \text{Cache Miss}
          </span>
          <span class="katex-html">
           <span class="base">
            <span class="strut" style="height: 0.6944em;">
            </span>
            <span class="mord text">
             <span class="mord">
              Cache Miss
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
       </li>
      </ol>
     </blockquote>
     <h2>
      <a id="textbf2_ConstBERT_20">
      </a>
      <span class="katex--inline">
       <span class="katex">
        <span class="katex-mathml">
         2. 
        
       
           
        
       
         ConstBERT 
        
       
      
        \textbf{2. ConstBERT}
        </span>
        <span class="katex-html">
         <span class="base">
          <span class="strut" style="height: 0.6861em;">
          </span>
          <span class="mord text">
           <span class="mord textbf">
            2. ConstBERT
           </span>
          </span>
         </span>
        </span>
       </span>
      </span>
      的实验结果
     </h2>
     <blockquote>
      <p>
       1️⃣效果：当
       <span class="katex--inline">
        <span class="katex">
         <span class="katex-mathml">
          C 
         
        
          = 
         
        
          32 
         
        
       
         C\text{=}32
         </span>
         <span class="katex-html">
          <span class="base">
           <span class="strut" style="height: 0.6833em;">
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0715em;">
            C
           </span>
           <span class="mord text">
            <span class="mord">
             =
            </span>
           </span>
           <span class="mord">
            32
           </span>
          </span>
         </span>
        </span>
       </span>
       时，在
       <span class="katex--inline">
        <span class="katex">
         <span class="katex-mathml">
          MsMarco/BEIR 
         
        
       
         \text{MsMarco/BEIR}
         </span>
         <span class="katex-html">
          <span class="base">
           <span class="strut" style="height: 1em; vertical-align: -0.25em;">
           </span>
           <span class="mord text">
            <span class="mord">
             MsMarco/BEIR
            </span>
           </span>
          </span>
         </span>
        </span>
       </span>
       等数据集上，查询效果与
       <span class="katex--inline">
        <span class="katex">
         <span class="katex-mathml">
          ColBERT 
         
        
       
         \text{ColBERT}
         </span>
         <span class="katex-html">
          <span class="base">
           <span class="strut" style="height: 0.6944em;">
           </span>
           <span class="mord text">
            <span class="mord">
             ColBERT
            </span>
           </span>
          </span>
         </span>
        </span>
       </span>
       相当(用
       <span class="katex--inline">
        <span class="katex">
         <span class="katex-mathml">
          MRR@10/nDCG@10 
         
        
       
         \text{MRR@10/nDCG@10}
         </span>
         <span class="katex-html">
          <span class="base">
           <span class="strut" style="height: 1em; vertical-align: -0.25em;">
           </span>
           <span class="mord text">
            <span class="mord">
             MRR@10/nDCG@10
            </span>
           </span>
          </span>
         </span>
        </span>
       </span>
       衡量)
      </p>
      <p>
       2️⃣效率：相比
       <span class="katex--inline">
        <span class="katex">
         <span class="katex-mathml">
          ColBERT 
         
        
       
         \text{ColBERT}
         </span>
         <span class="katex-html">
          <span class="base">
           <span class="strut" style="height: 0.6944em;">
           </span>
           <span class="mord text">
            <span class="mord">
             ColBERT
            </span>
           </span>
          </span>
         </span>
        </span>
       </span>
       对段落的存储空间需求减少了一半多，端到端检索响应速度也显著加快
      </p>
     </blockquote>
    </img>
   </div>
   <link href="./../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="./../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f36343039313930302f:61727469636c652f64657461696c732f313436303534353033" class_="artid" style="display:none">
 </p>
</div>


