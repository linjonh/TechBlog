---
layout: post
title: "Java-基于TCPIP-实现简单的-socket-通信"
date: 2024-12-30 20:49:18 +0800
description: "Java 基于TCP/IP 实现简单的 socket 通信，运行时，仍然需要先来运行服务端，然后再运"
keywords: "Java 基于TCP/IP 实现简单的 socket 通信"
categories: ['Java']
tags: ['无标签']
artid: "50614725"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=50614725
    alt: "Java-基于TCPIP-实现简单的-socket-通信"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=50614725
featuredImagePreview: https://bing.ee123.net/img/rand?artid=50614725
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Java 基于TCP/IP 实现简单的 socket 通信
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     Server.java
    </p>
    <pre class="prettyprint"><code class="hljs java"><span class="hljs-keyword">package</span> com.learn;

<span class="hljs-keyword">import</span> java.io.BufferedReader;
<span class="hljs-keyword">import</span> java.io.IOException;
<span class="hljs-keyword">import</span> java.io.InputStream;
<span class="hljs-keyword">import</span> java.io.InputStreamReader;
<span class="hljs-keyword">import</span> java.io.OutputStream;
<span class="hljs-keyword">import</span> java.io.PrintWriter;
<span class="hljs-keyword">import</span> java.net.ServerSocket;
<span class="hljs-keyword">import</span> java.net.Socket;

<span class="hljs-javadoc">/**
 * 基于TCP协议的Socket通信，实现用户登录 服务端
 *
 */</span>

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Server</span> {<!-- --></span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(String[] args) {

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 1.创建一个服务器端的 Socket，即 ServerSocket，指定绑定的端，并监听</span>
            ServerSocket server = <span class="hljs-keyword">new</span> ServerSocket(<span class="hljs-number">8888</span>);
            <span class="hljs-comment">// 2.调用 accept 方法开始监听，等待客户端连接</span>
            System.out.println(<span class="hljs-string">"****服务器开始启动，等待客户端上线****"</span>);
            Socket socket = server.accept();
            <span class="hljs-comment">// 3.获取一个输入流，用来读取客户端所发送的登录信息</span>
            InputStream is = socket.getInputStream();<span class="hljs-comment">// 字节输入流</span>
            InputStreamReader isr = <span class="hljs-keyword">new</span> InputStreamReader(is);<span class="hljs-comment">// 将字节流转为</span>
            BufferedReader br = <span class="hljs-keyword">new</span> BufferedReader(isr);<span class="hljs-comment">// 为输入流添加缓冲</span>

            String info = <span class="hljs-keyword">null</span>;
            <span class="hljs-keyword">while</span> ((info = br.readLine()) != <span class="hljs-keyword">null</span>) {
                System.out.println(<span class="hljs-string">"我是服务器，客户端说"</span> + info);
            }
            socket.shutdownInput();<span class="hljs-comment">// 关闭输入流</span>

            <span class="hljs-comment">// 4.获取输出流</span>
            OutputStream os = socket.getOutputStream();
            PrintWriter pw = <span class="hljs-keyword">new</span> PrintWriter(os);<span class="hljs-comment">// 包装打印流</span>
            pw.write(<span class="hljs-string">"好的，我收到消息了，你可以出去玩了"</span>);
            pw.flush();
            socket.shutdownOutput();

            <span class="hljs-comment">// 5.关闭资源</span>
            pw.close();
            br.close();
            isr.close();
            is.close();
            server.close();

        } <span class="hljs-keyword">catch</span> (IOException e) {
            <span class="hljs-comment">// TODO Auto-generated catch block</span>
            e.printStackTrace();
        }

    }
}
</code></pre>
    <p>
     Client.java
    </p>
    <pre class="prettyprint"><code class="hljs java"><span class="hljs-keyword">package</span> com.learn;

<span class="hljs-keyword">import</span> java.io.BufferedReader;
<span class="hljs-keyword">import</span> java.io.IOException;
<span class="hljs-keyword">import</span> java.io.InputStream;
<span class="hljs-keyword">import</span> java.io.InputStreamReader;
<span class="hljs-keyword">import</span> java.io.OutputStream;
<span class="hljs-keyword">import</span> java.io.PrintWriter;
<span class="hljs-keyword">import</span> java.net.Socket;
<span class="hljs-keyword">import</span> java.net.UnknownHostException;

<span class="hljs-comment">/*
 * 客户端
 * */</span>

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Client</span> {<!-- --></span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(String[] args) {

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 1.创建 socket 指定服务器地址和端</span>
            Socket client = <span class="hljs-keyword">new</span> Socket(<span class="hljs-string">"192.168.6.184"</span>, <span class="hljs-number">8888</span>);
            <span class="hljs-comment">// 2.客户端向服务器发送登录信息</span>
            OutputStream os = client.getOutputStream();<span class="hljs-comment">// 字节输出流</span>
            PrintWriter pw = <span class="hljs-keyword">new</span> PrintWriter(os);
            pw.write(<span class="hljs-string">"用户名: admin;密码：123"</span>);
            pw.flush();
            client.shutdownOutput();<span class="hljs-comment">// 关闭输出流</span>

            <span class="hljs-comment">// 3. 获取输入流</span>
            InputStream is = client.getInputStream();
            InputStreamReader isr = <span class="hljs-keyword">new</span> InputStreamReader(is);
            BufferedReader br = <span class="hljs-keyword">new</span> BufferedReader(isr);
            String info = <span class="hljs-keyword">null</span>;
            <span class="hljs-keyword">while</span> ((info = br.readLine()) != <span class="hljs-keyword">null</span>) {
                System.out.println(<span class="hljs-string">"服务器发来消息说："</span> + info);
            }

            <span class="hljs-comment">// 3.关闭其他资源</span>
            pw.close();
            os.close();
            client.close();
        } <span class="hljs-keyword">catch</span> (UnknownHostException e) {
            <span class="hljs-comment">// TODO Auto-generated catch block</span>
            e.printStackTrace();
        } <span class="hljs-keyword">catch</span> (IOException e) {
            <span class="hljs-comment">// TODO Auto-generated catch block</span>
            e.printStackTrace();
        }
    }
}
</code></pre>
    <p>
     运行时，仍然需要先来运行服务端，然后再运行客户端即可
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a:2f2f626c6f672e6373646e2e6e65742f775f79756e6c6f6e67:2f61727469636c652f64657461696c732f3530363134373235" class_="artid" style="display:none">
 </p>
</div>


