---
layout: post
title: "GNU-Binutils-全工具指南从编译到逆向的完整生态"
date: 2025-03-05 20:49:10 +0800
description: "GNU Binutils 是开源领域最全面的二进制工具集，覆盖从源代码编译到二进制分析的全流程。它不仅是 Linux 开发的基石，也广泛用于逆向工程、嵌入式开发和软件调试。以下是其核心工具的详细分类与实战用法。"
keywords: "windmc for linux"
categories: ['工具类']
tags: ['服务器', 'Gnu']
artid: "146052612"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146052612
    alt: "GNU-Binutils-全工具指南从编译到逆向的完整生态"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146052612
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146052612
cover: https://bing.ee123.net/img/rand?artid=146052612
image: https://bing.ee123.net/img/rand?artid=146052612
img: https://bing.ee123.net/img/rand?artid=146052612
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     GNU Binutils 全工具指南：从编译到逆向的完整生态
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-dracula" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="1_GNU_Binutils__0">
     </a>
     1. GNU Binutils 全工具指南：从编译到逆向的完整生态
    </h2>
    <ul>
     <li>
      <a href="#1-gnu-binutils-%E5%85%A8%E5%B7%A5%E5%85%B7%E6%8C%87%E5%8D%97%E4%BB%8E%E7%BC%96%E8%AF%91%E5%88%B0%E9%80%86%E5%90%91%E7%9A%84%E5%AE%8C%E6%95%B4%E7%94%9F%E6%80%81" rel="nofollow">
       1. GNU Binutils 全工具指南：从编译到逆向的完整生态
      </a>
      <ul>
       <li>
        <a href="#11-%E5%BC%95%E8%A8%80" rel="nofollow">
         1.1. 引言
        </a>
       </li>
       <li>
        <a href="#12-%E5%B7%A5%E5%85%B7%E5%88%86%E7%B1%BB%E9%80%9F%E6%9F%A5%E8%A1%A8" rel="nofollow">
         1.2. 工具分类速查表
        </a>
       </li>
       <li>
        <a href="#13-%E6%A0%B8%E5%BF%83%E5%B7%A5%E5%85%B7%E8%AF%A6%E8%A7%A3" rel="nofollow">
         1.3. 核心工具详解
        </a>
        <ul>
         <li>
          <a href="#131-%E7%BC%96%E8%AF%91%E4%B8%8E%E6%B1%87%E7%BC%96%E5%B7%A5%E5%85%B7" rel="nofollow">
           1.3.1. 编译与汇编工具
          </a>
          <ul>
           <li>
            <a href="#1311-as%E6%B1%87%E7%BC%96%E5%99%A8" rel="nofollow">
             1.3.1.1.
             <code>
              as
             </code>
             （汇编器）
            </a>
           </li>
           <li>
            <a href="#1312-gccgnu-%E7%BC%96%E8%AF%91%E5%99%A8%E9%9B%86%E5%90%88" rel="nofollow">
             1.3.1.2.
             <code>
              gcc
             </code>
             （GNU 编译器集合）
            </a>
           </li>
           <li>
            <a href="#1313-cppc-%E9%A2%84%E5%A4%84%E7%90%86%E5%99%A8" rel="nofollow">
             1.3.1.3.
             <code>
              cpp
             </code>
             （C 预处理器）
            </a>
           </li>
          </ul>
         </li>
         <li>
          <a href="#132-%E9%93%BE%E6%8E%A5%E4%B8%8E%E5%BA%93%E7%AE%A1%E7%90%86" rel="nofollow">
           1.3.2. 链接与库管理
          </a>
          <ul>
           <li>
            <a href="#1321-ld%E9%93%BE%E6%8E%A5%E5%99%A8" rel="nofollow">
             1.3.2.1.
             <code>
              ld
             </code>
             （链接器）
            </a>
           </li>
           <li>
            <a href="#1322-ar%E9%9D%99%E6%80%81%E5%BA%93%E5%88%9B%E5%BB%BA%E5%92%8C%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7" rel="nofollow">
             1.3.2.2.
             <code>
              ar
             </code>
             （静态库创建和管理工具）
            </a>
           </li>
           <li>
            <a href="#1323-ranlib%E6%9B%B4%E6%96%B0%E9%9D%99%E6%80%81%E5%BA%93%E7%B4%A2%E5%BC%95%E5%B7%A5%E5%85%B7" rel="nofollow">
             1.3.2.3.
             <code>
              ranlib
             </code>
             （更新静态库索引工具）
            </a>
           </li>
          </ul>
         </li>
         <li>
          <a href="#133-%E5%88%86%E6%9E%90%E4%B8%8E%E8%AF%8A%E6%96%AD%E5%B7%A5%E5%85%B7" rel="nofollow">
           1.3.3. 分析与诊断工具
          </a>
          <ul>
           <li>
            <a href="#1331-objdump%E7%9B%AE%E6%A0%87%E6%96%87%E4%BB%B6%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7" rel="nofollow">
             1.3.3.1.
             <code>
              objdump
             </code>
             （目标文件分析工具）
            </a>
           </li>
           <li>
            <a href="#1332-readelfelf-%E6%96%87%E4%BB%B6%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7" rel="nofollow">
             1.3.3.2.
             <code>
              readelf
             </code>
             （ELF 文件分析工具）
            </a>
           </li>
           <li>
            <a href="#1333-nm%E7%AC%A6%E5%8F%B7%E8%A1%A8%E6%9F%A5%E7%9C%8B%E5%B7%A5%E5%85%B7" rel="nofollow">
             1.3.3.3.
             <code>
              nm
             </code>
             （符号表查看工具）
            </a>
           </li>
           <li>
            <a href="#1334-size%E8%8A%82%E5%A4%A7%E5%B0%8F%E7%BB%9F%E8%AE%A1%E5%B7%A5%E5%85%B7" rel="nofollow">
             1.3.3.4.
             <code>
              size
             </code>
             （节大小统计工具）
            </a>
           </li>
          </ul>
         </li>
         <li>
          <a href="#134-%E8%B0%83%E8%AF%95%E4%B8%8E%E9%80%86%E5%90%91%E5%B7%A5%E5%85%B7" rel="nofollow">
           1.3.4. 调试与逆向工具
          </a>
          <ul>
           <li>
            <a href="#1341-gprof%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7" rel="nofollow">
             1.3.4.1.
             <code>
              gprof
             </code>
             （性能分析工具）
            </a>
           </li>
           <li>
            <a href="#1342-addr2line%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%BA%90%E4%BB%A3%E7%A0%81%E8%A1%8C%E5%8F%B7%E5%B7%A5%E5%85%B7" rel="nofollow">
             1.3.4.2.
             <code>
              addr2line
             </code>
             （地址转源代码行号工具）
            </a>
           </li>
           <li>
            <a href="#1343-strings%E6%8F%90%E5%8F%96%E5%8F%AF%E6%89%93%E5%8D%B0%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B7%A5%E5%85%B7" rel="nofollow">
             1.3.4.3.
             <code>
              strings
             </code>
             （提取可打印字符串工具）
            </a>
           </li>
          </ul>
         </li>
        </ul>
       </li>
       <li>
        <a href="#14-%E4%B8%89%E9%AB%98%E7%BA%A7%E5%B7%A5%E5%85%B7%E4%B8%8E%E6%89%A9%E5%B1%95" rel="nofollow">
         1.4. 三、高级工具与扩展
        </a>
        <ul>
         <li>
          <a href="#141-%E7%AC%A6%E5%8F%B7%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7" rel="nofollow">
           1.4.1. 符号处理工具
          </a>
          <ul>
           <li>
            <a href="#1411-strip" rel="nofollow">
             1.4.1.1.
             <code>
              strip
             </code>
            </a>
           </li>
           <li>
            <a href="#1412-cfilt" rel="nofollow">
             1.4.1.2.
             <code>
              c++filt
             </code>
            </a>
           </li>
          </ul>
         </li>
         <li>
          <a href="#142-%E7%89%B9%E6%AE%8A%E6%A0%BC%E5%BC%8F%E5%A4%84%E7%90%86" rel="nofollow">
           1.4.2. 特殊格式处理
          </a>
          <ul>
           <li>
            <a href="#1421-windmc-%E5%92%8C-windres" rel="nofollow">
             1.4.2.1.
             <code>
              windmc
             </code>
             和
             <code>
              windres
             </code>
            </a>
           </li>
           <li>
            <a href="#1422-elfedit" rel="nofollow">
             1.4.2.2.
             <code>
              elfedit
             </code>
            </a>
           </li>
          </ul>
         </li>
         <li>
          <a href="#143-%E5%AE%9E%E9%AA%8C%E6%80%A7%E5%B7%A5%E5%85%B7" rel="nofollow">
           1.4.3. 实验性工具
          </a>
          <ul>
           <li>
            <a href="#1431-gold" rel="nofollow">
             1.4.3.1.
             <code>
              gold
             </code>
            </a>
           </li>
           <li>
            <a href="#1432-lto-dump" rel="nofollow">
             1.4.3.2.
             <code>
              lto-dump
             </code>
            </a>
           </li>
          </ul>
         </li>
        </ul>
       </li>
       <li>
        <a href="#15-%E5%85%B8%E5%9E%8B%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B%E7%A4%BA%E4%BE%8B" rel="nofollow">
         1.5. 典型工作流程示例
        </a>
        <ul>
         <li>
          <a href="#151-%E7%BC%96%E8%AF%91%E4%B8%8E%E9%93%BE%E6%8E%A5" rel="nofollow">
           1.5.1. 编译与链接
          </a>
         </li>
         <li>
          <a href="#152-%E9%80%86%E5%90%91%E5%88%86%E6%9E%90" rel="nofollow">
           1.5.2. 逆向分析
          </a>
         </li>
        </ul>
       </li>
       <li>
        <a href="#16-%E6%80%BB%E7%BB%93" rel="nofollow">
         1.6. 总结
        </a>
       </li>
      </ul>
     </li>
    </ul>
    <h3>
     <a id="11__39">
     </a>
     1.1. 引言
    </h3>
    <p>
     GNU Binutils 是开源领域最全面的二进制工具集，覆盖从源代码编译到二进制分析的全流程。它不仅是 Linux 开发的基石，也广泛用于逆向工程、嵌入式开发和软件调试。以下是其核心工具的详细分类与实战用法。
    </p>
    <h3>
     <a id="12__43">
     </a>
     1.2. 工具分类速查表
    </h3>
    <table>
     <thead>
      <tr>
       <th>
        类别
       </th>
       <th>
        工具列表
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <strong>
         核心工具
        </strong>
       </td>
       <td>
        <code>
         as
        </code>
        ,
        <code>
         gcc
        </code>
        ,
        <code>
         ld
        </code>
        ,
        <code>
         ar
        </code>
        ,
        <code>
         objdump
        </code>
        ,
        <code>
         readelf
        </code>
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         符号处理
        </strong>
       </td>
       <td>
        <code>
         nm
        </code>
        ,
        <code>
         c++filt
        </code>
        ,
        <code>
         strip
        </code>
        ,
        <code>
         ranlib
        </code>
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         调试分析
        </strong>
       </td>
       <td>
        <code>
         gprof
        </code>
        ,
        <code>
         addr2line
        </code>
        ,
        <code>
         strings
        </code>
        ,
        <code>
         size
        </code>
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         特殊用途
        </strong>
       </td>
       <td>
        <code>
         windmc
        </code>
        ,
        <code>
         windres
        </code>
        ,
        <code>
         elfedit
        </code>
        ,
        <code>
         gold
        </code>
        ,
        <code>
         lto-dump
        </code>
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         辅助工具
        </strong>
       </td>
       <td>
        <code>
         m4
        </code>
        ,
        <code>
         bfd
        </code>
        ,
        <code>
         cpp
        </code>
       </td>
      </tr>
     </tbody>
    </table>
    <h3>
     <a id="13__53">
     </a>
     1.3. 核心工具详解
    </h3>
    <h4>
     <a id="131__55">
     </a>
     1.3.1. 编译与汇编工具
    </h4>
    <h5>
     <a id="1311_as_57">
     </a>
     1.3.1.1.
     <code>
      as
     </code>
     （汇编器）
    </h5>
    <ul>
     <li>
      <strong>
       详细功能
      </strong>
      ：
      <code>
       as
      </code>
      是 GNU 汇编器，它将汇编语言源代码文件（通常以
      <code>
       .s
      </code>
      或
      <code>
       .asm
      </code>
      为扩展名）转换为目标文件（通常以
      <code>
       .o
      </code>
      为扩展名）。在汇编过程中，它会对汇编代码进行语法检查，将汇编指令转换为对应的机器码，并处理符号定义和引用等操作。
     </li>
     <li>
      <strong>
       示例命令及解释
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-bash">as <span class="token parameter variable">-o</span> code.o code.s
</code></pre>
    <p>
     此命令将
     <code>
      code.s
     </code>
     汇编源文件汇编成
     <code>
      code.o
     </code>
     目标文件。
     <code>
      -o
     </code>
     选项用于指定输出文件的名称。
    </p>
    <h5>
     <a id="1312_gccGNU__66">
     </a>
     1.3.1.2.
     <code>
      gcc
     </code>
     （GNU 编译器集合）
    </h5>
    <ul>
     <li>
      <strong>
       详细功能
      </strong>
      ：
      <code>
       gcc
      </code>
      是一个强大的编译器集合，支持多种编程语言，如 C、C++、Objective - C 等。它可以对源代码进行预处理、编译、汇编和链接等多个阶段的操作。在编译过程中，它会根据不同的优化选项对代码进行优化，生成高效的可执行文件。
     </li>
     <li>
      <strong>
       示例命令及解释
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-bash">gcc <span class="token parameter variable">-O3</span> <span class="token parameter variable">-o</span> app app.c
</code></pre>
    <p>
     <code>
      -O3
     </code>
     选项表示使用最高级别的优化，
     <code>
      -o
     </code>
     选项指定输出的可执行文件名为
     <code>
      app
     </code>
     ，
     <code>
      app.c
     </code>
     是要编译的 C 语言源文件。
    </p>
    <h5>
     <a id="1313_cppC__75">
     </a>
     1.3.1.3.
     <code>
      cpp
     </code>
     （C 预处理器）
    </h5>
    <ul>
     <li>
      <strong>
       详细功能
      </strong>
      ：
      <code>
       cpp
      </code>
      主要负责对 C 语言源代码进行预处理操作。它会处理源文件中的预处理指令，如
      <code>
       #include
      </code>
      、
      <code>
       #define
      </code>
      、
      <code>
       #ifdef
      </code>
      等，进行宏替换、文件包含和条件编译等操作，生成预处理后的源文件。
     </li>
     <li>
      <strong>
       示例命令及解释
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-bash">cpp input.c <span class="token parameter variable">-o</span> preprocessed.i
</code></pre>
    <p>
     该命令将
     <code>
      input.c
     </code>
     源文件进行预处理，生成的预处理后的文件名为
     <code>
      preprocessed.i
     </code>
     ，
     <code>
      -o
     </code>
     选项用于指定输出文件。
    </p>
    <h4>
     <a id="132__84">
     </a>
     1.3.2. 链接与库管理
    </h4>
    <h5>
     <a id="1321_ld_86">
     </a>
     1.3.2.1.
     <code>
      ld
     </code>
     （链接器）
    </h5>
    <ul>
     <li>
      <strong>
       详细功能
      </strong>
      ：
      <code>
       ld
      </code>
      是 GNU 链接器，其主要功能是将多个目标文件和库文件组合成一个可执行文件、共享库或其他类型的二进制文件。在链接过程中，它会处理符号引用和重定位，将各个模块中的代码和数据整合到一起，解决不同模块之间的依赖关系。
     </li>
     <li>
      <strong>
       示例命令及解释
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-bash">ld <span class="token parameter variable">-o</span> app code.o
</code></pre>
    <p>
     此命令将
     <code>
      code.o
     </code>
     目标文件链接成可执行文件
     <code>
      app
     </code>
     ，
     <code>
      -o
     </code>
     选项指定输出文件的名称。
    </p>
    <h5>
     <a id="1322_ar_95">
     </a>
     1.3.2.2.
     <code>
      ar
     </code>
     （静态库创建和管理工具）
    </h5>
    <ul>
     <li>
      <strong>
       详细功能
      </strong>
      ：
      <code>
       ar
      </code>
      用于创建、修改和提取静态库（通常以
      <code>
       .a
      </code>
      为扩展名）。静态库是多个目标文件的集合，在链接时可以被链接器使用，方便代码的复用和管理。
     </li>
     <li>
      <strong>
       示例命令及解释
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-bash">ar rcs libutils.a util1.o util2.o
</code></pre>
    <p>
     <code>
      r
     </code>
     选项表示将目标文件插入到静态库中，如果库中已存在同名文件则替换；
     <code>
      c
     </code>
     选项表示创建静态库，如果库不存在则创建；
     <code>
      s
     </code>
     选项表示为静态库生成索引。此命令将
     <code>
      util1.o
     </code>
     和
     <code>
      util2.o
     </code>
     目标文件打包成静态库
     <code>
      libutils.a
     </code>
     。
    </p>
    <h5>
     <a id="1323_ranlib_104">
     </a>
     1.3.2.3.
     <code>
      ranlib
     </code>
     （更新静态库索引工具）
    </h5>
    <ul>
     <li>
      <strong>
       详细功能
      </strong>
      ：
      <code>
       ranlib
      </code>
      为静态库生成或更新符号索引，以便链接器能够更快地查找和使用静态库中的符号。在使用
      <code>
       ar
      </code>
      创建或修改静态库后，通常需要使用
      <code>
       ranlib
      </code>
      来更新索引。
     </li>
     <li>
      <strong>
       示例命令及解释
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-bash">ranlib libutils.a
</code></pre>
    <p>
     该命令会更新
     <code>
      libutils.a
     </code>
     静态库的符号索引。
    </p>
    <h4>
     <a id="133__113">
     </a>
     1.3.3. 分析与诊断工具
    </h4>
    <h5>
     <a id="1331_objdump_115">
     </a>
     1.3.3.1.
     <code>
      objdump
     </code>
     （目标文件分析工具）
    </h5>
    <ul>
     <li>
      <strong>
       详细功能
      </strong>
      ：
      <code>
       objdump
      </code>
      可以显示目标文件（如可执行文件、目标文件、共享库等）的各种信息，包括文件头信息、节信息、符号表、重定位表等，还可以进行反汇编操作，将机器码转换为汇编代码，帮助开发者深入了解二进制文件的内部结构。
     </li>
     <li>
      <strong>
       示例命令及解释
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-bash">objdump <span class="token parameter variable">-dS</span> app
</code></pre>
    <p>
     <code>
      -d
     </code>
     选项表示对可执行部分进行反汇编，
     <code>
      -S
     </code>
     选项表示如果目标文件是使用调试信息编译的（使用
     <code>
      -g
     </code>
     选项），则会将源代码和反汇编代码混合显示。此命令会将
     <code>
      app
     </code>
     可执行文件反汇编并混合显示源代码（前提是有调试信息）。
    </p>
    <h5>
     <a id="1332_readelfELF__124">
     </a>
     1.3.3.2.
     <code>
      readelf
     </code>
     （ELF 文件分析工具）
    </h5>
    <ul>
     <li>
      <strong>
       详细功能
      </strong>
      ：
      <code>
       readelf
      </code>
      专门用于分析 ELF（Executable and Linkable Format）格式的文件，如可执行文件、目标文件和共享库。它可以显示 ELF 文件的详细信息，包括文件头、程序头、节头、符号表等，帮助开发者深入了解 ELF 文件的结构和内容。
     </li>
     <li>
      <strong>
       示例命令及解释
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-bash">readelf <span class="token parameter variable">-a</span> app
</code></pre>
    <p>
     <code>
      -a
     </code>
     选项表示显示 ELF 文件的所有信息，此命令会输出
     <code>
      app
     </code>
     可执行文件的全面 ELF 信息。
    </p>
    <h5>
     <a id="1333_nm_133">
     </a>
     1.3.3.3.
     <code>
      nm
     </code>
     （符号表查看工具）
    </h5>
    <ul>
     <li>
      <strong>
       详细功能
      </strong>
      ：
      <code>
       nm
      </code>
      用于显示目标文件中的符号表信息，包括符号的名称、地址、类型等。符号表记录了程序中定义和引用的全局变量、函数等信息，通过
      <code>
       nm
      </code>
      可以方便地查看这些信息，帮助开发者分析程序的结构和依赖关系。
     </li>
     <li>
      <strong>
       示例命令及解释
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-bash">nm <span class="token parameter variable">-D</span> /lib/libc.so.6
</code></pre>
    <p>
     <code>
      -D
     </code>
     选项表示显示动态符号表，此命令会显示
     <code>
      /lib/libc.so.6
     </code>
     共享库的动态符号表信息。
    </p>
    <h5>
     <a id="1334_size_142">
     </a>
     1.3.3.4.
     <code>
      size
     </code>
     （节大小统计工具）
    </h5>
    <ul>
     <li>
      <strong>
       详细功能
      </strong>
      ：
      <code>
       size
      </code>
      可以显示目标文件或可执行文件中各节（section）的大小，帮助开发者分析程序的内存占用情况，了解代码段、数据段等的大小分布。
     </li>
     <li>
      <strong>
       示例命令及解释
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-bash">size app
</code></pre>
    <p>
     该命令会输出
     <code>
      app
     </code>
     可执行文件中
     <code>
      .text
     </code>
     （代码段）、
     <code>
      .data
     </code>
     （已初始化数据段）、
     <code>
      .bss
     </code>
     （未初始化数据段）等节的大小。
    </p>
    <h4>
     <a id="134__151">
     </a>
     1.3.4. 调试与逆向工具
    </h4>
    <h5>
     <a id="1341_gprof_153">
     </a>
     1.3.4.1.
     <code>
      gprof
     </code>
     （性能分析工具）
    </h5>
    <ul>
     <li>
      <strong>
       详细功能
      </strong>
      ：
      <code>
       gprof
      </code>
      用于分析程序的性能，通过收集程序运行时的统计信息，生成程序的调用图和各个函数的执行时间等信息，帮助开发者找出程序中的性能瓶颈，进行性能优化。
     </li>
     <li>
      <strong>
       示例命令及解释
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-bash">gprof app gmon.out
</code></pre>
    <p>
     在程序运行前，需要使用
     <code>
      -pg
     </code>
     选项编译程序，程序运行后会生成
     <code>
      gmon.out
     </code>
     文件，此命令将
     <code>
      app
     </code>
     程序的性能分析信息从
     <code>
      gmon.out
     </code>
     文件中提取出来并进行分析。
    </p>
    <h5>
     <a id="1342_addr2line_162">
     </a>
     1.3.4.2.
     <code>
      addr2line
     </code>
     （地址转源代码行号工具）
    </h5>
    <ul>
     <li>
      <strong>
       详细功能
      </strong>
      ：
      <code>
       addr2line
      </code>
      可以将程序地址转换为对应的文件名和行号，常用于调试时定位崩溃或错误的位置。当程序出现段错误等异常时，可以通过获取错误地址，使用
      <code>
       addr2line
      </code>
      工具找到对应的源代码位置。
     </li>
     <li>
      <strong>
       示例命令及解释
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-bash">addr2line <span class="token parameter variable">-e</span> app 0x400567
</code></pre>
    <p>
     <code>
      -e
     </code>
     选项指定可执行文件，此命令将
     <code>
      app
     </code>
     可执行文件中的地址
     <code>
      0x400567
     </code>
     转换为源代码中的位置。
    </p>
    <h5>
     <a id="1343_strings_171">
     </a>
     1.3.4.3.
     <code>
      strings
     </code>
     （提取可打印字符串工具）
    </h5>
    <ul>
     <li>
      <strong>
       详细功能
      </strong>
      ：
      <code>
       strings
      </code>
      用于提取二进制文件中的可打印字符串，常用于逆向工程或查找隐藏信息。在分析二进制文件时，可以通过提取其中的字符串来获取一些有用的信息，如版权信息、配置信息等。
     </li>
     <li>
      <strong>
       示例命令及解释
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-bash">strings <span class="token parameter variable">-n</span> <span class="token number">10</span> app
</code></pre>
    <p>
     <code>
      -n
     </code>
     选项指定字符串的最小长度，此命令会显示
     <code>
      app
     </code>
     可执行文件中长度大于等于 10 的可打印字符串。
    </p>
    <h3>
     <a id="14__180">
     </a>
     1.4. 三、高级工具与扩展
    </h3>
    <h4>
     <a id="141__182">
     </a>
     1.4.1. 符号处理工具
    </h4>
    <h5>
     <a id="1411_strip_184">
     </a>
     1.4.1.1.
     <code>
      strip
     </code>
    </h5>
    <ul>
     <li>
      <strong>
       详细功能
      </strong>
      ：
      <code>
       strip
      </code>
      用于从目标文件中去除符号表和调试信息，从而减小文件的大小。在发布软件时，通常会使用
      <code>
       strip
      </code>
      工具去除不必要的信息，以节省磁盘空间和提高加载速度。
     </li>
     <li>
      <strong>
       示例命令及解释
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-bash">strip --strip-unneeded app
</code></pre>
    <p>
     <code>
      --strip-unneeded
     </code>
     选项表示去除所有不需要的符号信息，此命令会去除
     <code>
      app
     </code>
     可执行文件中不必要的符号信息。
    </p>
    <h5>
     <a id="1412_cfilt_193">
     </a>
     1.4.1.2.
     <code>
      c++filt
     </code>
    </h5>
    <ul>
     <li>
      <strong>
       详细功能
      </strong>
      ：
      <code>
       c++filt
      </code>
      主要用于对 C++ 符号进行名称修饰（demangle）。在 C++ 中，为了支持函数重载和模板等特性，编译器会对函数名和类名进行修饰，生成复杂的符号名。
      <code>
       c++filt
      </code>
      可以将这些修饰后的符号名解析为可读的形式。
     </li>
     <li>
      <strong>
       示例命令及解释
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-bash">c++filt _ZN4Test3addEii
<span class="token comment"># 输出：Test::add(int, int)</span>
</code></pre>
    <p>
     该命令将修饰后的符号
     <code>
      _ZN4Test3addEii
     </code>
     解析为
     <code>
      Test::add(int, int)
     </code>
     。
    </p>
    <h4>
     <a id="142__203">
     </a>
     1.4.2. 特殊格式处理
    </h4>
    <h5>
     <a id="1421_windmc__windres_205">
     </a>
     1.4.2.1.
     <code>
      windmc
     </code>
     和
     <code>
      windres
     </code>
    </h5>
    <ul>
     <li>
      <strong>
       详细功能
      </strong>
      ：
      <ul>
       <li>
        <code>
         windmc
        </code>
        ：用于编译 Windows 资源脚本（通常以
        <code>
         .rc
        </code>
        为扩展名）为二进制资源文件（通常以
        <code>
         .res
        </code>
        为扩展名）。
       </li>
       <li>
        <code>
         windres
        </code>
        ：将
        <code>
         .res
        </code>
        文件转换为目标文件（
        <code>
         .o
        </code>
        ），以便在链接时可以被链接器使用。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       示例命令及解释
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-bash">windmc resource.rc <span class="token parameter variable">-r</span> <span class="token builtin class-name">.</span>
windres resource.res <span class="token parameter variable">-o</span> resource.o
</code></pre>
    <p>
     <code>
      windmc
     </code>
     命令将
     <code>
      resource.rc
     </code>
     资源脚本文件编译为
     <code>
      resource.res
     </code>
     二进制资源文件，
     <code>
      -r
     </code>
     选项指定资源文件的输出目录为当前目录。
     <code>
      windres
     </code>
     命令将
     <code>
      resource.res
     </code>
     资源文件转换为
     <code>
      resource.o
     </code>
     目标文件。
    </p>
    <h5>
     <a id="1422_elfedit_217">
     </a>
     1.4.2.2.
     <code>
      elfedit
     </code>
    </h5>
    <ul>
     <li>
      <strong>
       详细功能
      </strong>
      ：
      <code>
       elfedit
      </code>
      可以直接编辑 ELF 文件的内容，如修改程序头、节头、符号表等信息。它适用于高级逆向工程或定制二进制文件的场景，允许开发者对 ELF 文件的结构进行精细调整。
     </li>
     <li>
      <strong>
       示例命令及解释
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-bash">elfedit <span class="token parameter variable">-A</span> app  <span class="token comment"># 交互式修改</span>
</code></pre>
    <p>
     <code>
      -A
     </code>
     选项表示打开交互式编辑器，此命令会打开一个交互式界面，允许用户对
     <code>
      app
     </code>
     可执行文件的 ELF 结构进行修改。
    </p>
    <h4>
     <a id="143__226">
     </a>
     1.4.3. 实验性工具
    </h4>
    <h5>
     <a id="1431_gold_228">
     </a>
     1.4.3.1.
     <code>
      gold
     </code>
    </h5>
    <ul>
     <li>
      <strong>
       详细功能
      </strong>
      ：
      <code>
       gold
      </code>
      是一个实验性的链接器，作为
      <code>
       ld
      </code>
      的替代方案。它基于插件机制实现，具有更快的链接速度，支持链接时优化（LTO）和稀疏链接等特性，可以提高大型项目的链接效率。
     </li>
     <li>
      <strong>
       示例命令及解释
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-bash">gold <span class="token parameter variable">-o</span> app code.o -Wl,--gc-sections
</code></pre>
    <p>
     <code>
      -o
     </code>
     选项指定输出的可执行文件名为
     <code>
      app
     </code>
     ，
     <code>
      -Wl
     </code>
     选项用于传递选项给链接器，
     <code>
      --gc-sections
     </code>
     选项表示在链接时去除未使用的节，以减小文件大小。
    </p>
    <h5>
     <a id="1432_ltodump_237">
     </a>
     1.4.3.2.
     <code>
      lto-dump
     </code>
    </h5>
    <ul>
     <li>
      <strong>
       详细功能
      </strong>
      ：
      <code>
       lto-dump
      </code>
      用于显示链接时优化（Link - Time Optimization, LTO）生成的中间文件（通常以
      <code>
       .o
      </code>
      或
      <code>
       .lto
      </code>
      为扩展名）的详细信息。它可以帮助开发者了解 LTO 优化的具体过程和效果。
     </li>
     <li>
      <strong>
       示例命令及解释
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-bash">lto-dump <span class="token parameter variable">-v</span> optimized.o
</code></pre>
    <p>
     <code>
      -v
     </code>
     选项表示显示详细信息，此命令会输出
     <code>
      optimized.o
     </code>
     文件在 LTO 优化过程中的详细信息。
    </p>
    <h3>
     <a id="15__246">
     </a>
     1.5. 典型工作流程示例
    </h3>
    <h4>
     <a id="151__248">
     </a>
     1.5.1. 编译与链接
    </h4>
    <pre><code class="prism language-bash"><span class="token comment"># 编译 C 代码</span>
gcc <span class="token parameter variable">-c</span> <span class="token parameter variable">-g</span> <span class="token parameter variable">-O2</span> source.c <span class="token parameter variable">-o</span> source.o
<span class="token comment"># -c 选项表示只编译不链接，-g 选项表示生成调试信息，-O2 选项表示使用二级优化</span>

<span class="token comment"># 链接静态库</span>
ld <span class="token parameter variable">-o</span> program source.o libmath.a
<span class="token comment"># 将 source.o 目标文件和 libmath.a 静态库链接成可执行文件 program</span>

<span class="token comment"># 生成动态库</span>
gcc <span class="token parameter variable">-shared</span> <span class="token parameter variable">-fPIC</span> <span class="token parameter variable">-o</span> libutil.so util1.o util2.o
<span class="token comment"># -shared 选项表示生成共享库，-fPIC 选项表示生成位置无关代码</span>
</code></pre>
    <h4>
     <a id="152__264">
     </a>
     1.5.2. 逆向分析
    </h4>
    <pre><code class="prism language-bash"><span class="token comment"># 反汇编并混合显示源代码</span>
objdump <span class="token parameter variable">-S</span> program
<span class="token comment"># 前提是 program 是使用 -g 选项编译的</span>

<span class="token comment"># 查看依赖的动态库</span>
readelf <span class="token parameter variable">-d</span> program <span class="token operator">|</span> <span class="token function">grep</span> NEEDED
<span class="token comment"># -d 选项表示显示动态节信息，通过 grep 过滤出依赖的动态库</span>

<span class="token comment"># 提取敏感字符串</span>
strings <span class="token parameter variable">-t</span> x program <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">"password"</span>
<span class="token comment"># -t x 选项表示显示字符串的十六进制偏移地址，通过 grep 查找包含 "password" 的字符串</span>
</code></pre>
    <h3>
     <a id="16__280">
     </a>
     1.6. 总结
    </h3>
    <p>
     GNU Binutils 是开源社区的瑰宝，其工具链深度整合了编译、链接、分析、调试等功能。掌握这些工具的组合使用，可显著提升软件开发效率，尤其在逆向工程、性能优化和二进制审计中发挥关键作用。建议开发者结合
     <code>
      man
     </code>
     手册和实际项目深入实践。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c:6f672e6373646e2e6e65742f6b6e6f776c6564676562616f2f:61727469636c652f64657461696c732f313436303532363132" class_="artid" style="display:none">
 </p>
</div>


