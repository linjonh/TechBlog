---
layout: post
title: "äº‘å¹³å°éƒ¨ç½²Stable-Diffusion-WebuiåŠä½¿ç”¨æ‰‹å†Œè¶…è¯¦ç»†"
date: 2025-01-04 14:43:20 +0800
description: "ä¸€ä¸ªå€’éœ‰çš„ç½‘ç»œæ°‘å·¥åœ¨æ ¡å¹³å°äºŒæ¬¡éƒ¨ç½²Stable Diffusion webuiæƒ¨ç—›ç»å†"
keywords: "äº‘å¹³å°éƒ¨ç½²Stable-Diffusion-WebuiåŠä½¿ç”¨æ‰‹å†Œï¼ˆè¶…è¯¦ç»†ï¼‰"
categories: ['Python']
tags: ['Stable', 'Github', 'Git', 'Diffusion']
artid: "129648630"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=129648630
    alt: "äº‘å¹³å°éƒ¨ç½²Stable-Diffusion-WebuiåŠä½¿ç”¨æ‰‹å†Œè¶…è¯¦ç»†"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=129648630
featuredImagePreview: https://bing.ee123.net/img/rand?artid=129648630
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     äº‘å¹³å°éƒ¨ç½²Stable-Diffusion-WebuiåŠä½¿ç”¨æ‰‹å†Œï¼ˆè¶…è¯¦ç»†ï¼‰
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <div class="toc">
     <h4>
      ç›®å½•
     </h4>
     <ul>
      <li>
       <a href="#StableDiffusionWebui_1" rel="nofollow">
        ä¸€ã€ç¯å¢ƒæ­å»ºåŠStable-Diffusion-Webui
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#_2" rel="nofollow">
          ç³»ç»Ÿé…ç½®
         </a>
        </li>
        <li>
         <a href="#_4" rel="nofollow">
          åŸºç¡€ç¯å¢ƒé…ç½®
         </a>
        </li>
        <li>
         <a href="#Stable_Diffusion_22" rel="nofollow">
          æ­£å¼éƒ¨ç½²Stable Diffusion
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#StableDiffusionWebui_73" rel="nofollow">
        äºŒã€Stable-Diffusion-Webuiä½¿ç”¨æ‰‹å†Œ
       </a>
      </li>
      <li>
       <a href="#_94" rel="nofollow">
        ä¸‰ã€å‚è€ƒé“¾æ¥
       </a>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <h2>
     <a id="StableDiffusionWebui_1">
     </a>
     ä¸€ã€ç¯å¢ƒæ­å»ºåŠStable-Diffusion-Webui
    </h2>
    <h3>
     <a id="_2">
     </a>
     ç³»ç»Ÿé…ç½®
    </h3>
    <p>
     å­¦æ ¡çš„äº‘è®¡ç®—å¹³å°ï¼ˆLinuxç³»ç»Ÿï¼‰ï¼ˆCPU 1æ ¸ï¼ŒGPU 0.5å¡ï¼Œå†…å­˜ 20Gï¼‰ã€Xftp7
    </p>
    <h3>
     <a id="_4">
     </a>
     åŸºç¡€ç¯å¢ƒé…ç½®
    </h3>
    <p>
     é…ç½®python3.10ç¯å¢ƒï¼Œ
     <code>
      &lt;env_name&gt;
     </code>
     ä¸ºè®¾å®šçš„ç¯å¢ƒåç§°
    </p>
    <pre><code class="prism language-bash">conda create -n <span class="token operator">&lt;</span>env_name<span class="token operator">&gt;</span> <span class="token assign-left variable">python</span><span class="token operator">=</span><span class="token number">3.10</span> ipykernel
</code></pre>
    <p>
     æ¿€æ´»ç¯å¢ƒ
    </p>
    <pre><code class="prism language-bash"><span class="token builtin class-name">source</span> activate <span class="token operator">&lt;</span>env_name<span class="token operator">&gt;</span>
</code></pre>
    <p>
     å°†ç¯å¢ƒå†™å…¥Notebookçš„Kernelé‡Œ
    </p>
    <pre><code class="prism language-bash">python -m ipykernel <span class="token function">install</span> --user --name <span class="token operator">&lt;</span>env_name<span class="token operator">&gt;</span> --display-name <span class="token string">"&lt;env_name&gt;"</span>
</code></pre>
    <p>
     é‡å¯å®ä¾‹ï¼Œå¯ä»¥çœ‹åˆ°è‡ªå·±åˆ›å»ºçš„py3.10ç¯å¢ƒï¼Œæ‰“å¼€Terminalï¼Œå®‰è£…git
    </p>
    <pre><code class="prism language-bash">conda <span class="token function">install</span> <span class="token function">git</span>
</code></pre>
    <h3>
     <a id="Stable_Diffusion_22">
     </a>
     æ­£å¼éƒ¨ç½²Stable Diffusion
    </h3>
    <p>
     æ¿€æ´»ç¯å¢ƒ
    </p>
    <pre><code class="prism language-bash"><span class="token builtin class-name">source</span> activate <span class="token operator">&lt;</span>env_name<span class="token operator">&gt;</span>
</code></pre>
    <p>
     ç¡®è®¤gitç‰ˆæœ¬ï¼Œæœ€å¥½æ˜¯2.XX
     <br/>
     <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://i-blog.csdnimg.cn/blog_migrate/fc6d4fa46022deec3768c67df1ec6546.png">
      <br/>
      ä¸‹è½½ä»£ç 
     </img>
    </p>
    <pre><code class="prism language-bash"><span class="token function">git</span> clone https://github.com/AUTOMATIC1111/stable-diffusion-webui.git
</code></pre>
    <p>
     è¿›å…¥ç›®å½•
    </p>
    <pre><code class="prism language-bash"><span class="token builtin class-name">cd</span> stable-diffusion-webui
</code></pre>
    <p>
     å®‰è£…ä¾èµ–
    </p>
    <pre><code class="prism language-bash">pip config <span class="token builtin class-name">set</span> global.index-url https://mirrors.aliyun.com/pypi/simple/ 
pip <span class="token function">install</span> -r requirements_versions.txt 
</code></pre>
    <p>
     æ‰“å¼€
     <code>
      stable-diffusion-webui/launch.py
     </code>
     ï¼Œæ‰¾åˆ°
     <code>
      prepare_
     </code>
     å‡½æ•°ï¼ŒæŠŠé‡Œé¢æ‰€æœ‰çš„â€œ
     <code>
      https://github.com
     </code>
     â€æ›¿æ¢ä¸ºâ€œ
     <code>
      https://ghproxy.com/https://github.com
     </code>
     â€ï¼Œåˆ©ç”¨Ghproxyè¿›è¡Œä»£ç†ï¼ŒåŠ é€Ÿå›½å†…Git
     <br/>
     <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://i-blog.csdnimg.cn/blog_migrate/fb6e3dd701330c1ce8a0dd1ae3d8ecf4.png">
      <br/>
      æ‰“å¼€ç›®å½•ä¸‹çš„
      <code>
       webui-user.bat
      </code>
      ï¼Œåœ¨å›¾ç¤ºä½ç½®å¢åŠ 
      <code>
       --xformers
      </code>
      ï¼Œè™½ç„¶å¯¹äºæˆ‘é‡åˆ°çš„
      <code>
       --xformers Cannot import xformers
      </code>
      æŠ¥é”™å¥½åƒæ²¡ä»€ä¹ˆç”¨ï¼Œä½†è°çŸ¥é“å¯¹å…¶ä»–æœ‹å‹æœ‰æ²¡æœ‰ç”¨å‘¢ï¼Ÿ
      <br/>
      <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://i-blog.csdnimg.cn/blog_migrate/784c4912cf4c964b6c1e8fa77209b403.png">
       <br/>
       å¯åŠ¨ç¨‹åº
      </img>
     </img>
    </p>
    <pre><code class="prism language-bash">./webui.sh
</code></pre>
    <p>
     é‡åˆ°æŠ¥é”™å°è¯•æ ¹æ®Commandï¼Œç›´æ¥åˆ©ç”¨gitä¸‹è½½ï¼Œæ¯”å¦‚ï¼š
    </p>
    <pre><code class="prism language-bash"><span class="token function">git</span> clone https://xx.git
</code></pre>
    <p>
     ä¸‹è½½å®Œä¹‹åç»§ç»­é‡å¤ä¸Šè¿°æ“ä½œ
    </p>
    <p>
     å¦‚æœæç¤ºæ²¡æœ‰ä¸»æ¨¡å‹checkpointï¼Œå»
     <a href="https://huggingface.co/CompVis/stable-diffusion-v-1-4-original" rel="nofollow">
      å®˜ç½‘
     </a>
     ä¸‹è½½ä¸»æ¨¡å‹
     <br/>
     <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://i-blog.csdnimg.cn/blog_migrate/d071d306fcdc262d485148625e52783e.png">
      <br/>
      <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://i-blog.csdnimg.cn/blog_migrate/ba0bded994d4ba75bc261ecbb2afb183.png">
       <br/>
       sd-v1-4ä¸ºåŠç²¾åº¦ï¼Œå¤§æ¦‚4Gï¼Œsd-v1-4-full-emaä¸ºå•ç²¾åº¦ï¼Œå¤§æ¦‚7Gï¼Œæˆ‘æ˜¯å…ˆä¸‹è½½åˆ°æœ¬åœ°ï¼Œå†é€šè¿‡xftpè¿æ¥åˆ°äº‘å¹³å°è¿›è¡Œä¸Šä¼ åˆ°ä¸‹é¢è¿™ä¸ªä½ç½®ï¼š
      </img>
     </img>
    </p>
    <pre><code class="prism language-bash">/home/XXXX/stable-diffusion-webui/models/Stable-diffusion/
</code></pre>
    <p>
     <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://i-blog.csdnimg.cn/blog_migrate/26cf7a413fec1e15f088407e41c49375.png">
      <br/>
      æˆ‘è£…ç¬¬äºŒæ¬¡çš„æ—¶å€™
      <s>
       ï¼ˆè°çŸ¥é“æˆ‘ä¸ªæ†¨æ†¨ä¸ºä»€ä¹ˆä¸å°å¿ƒæŠŠæ–‡ä»¶å¤¹åˆ äº†è¿˜æ‰¾ä¸å›æ¥å‘¢ï¼‰
      </s>
      ï¼Œéå¸¸é¡ºåˆ©ï¼Œæ²¡æœ‰æç¤ºopen_clipçš„é—®é¢˜ï¼Œè¿˜è‡ªåŠ¨ç»™æˆ‘å®‰è£…äº†v1-5çš„ä¸»æ¨¡å‹ï¼ˆå’±å°±æ˜¯è¯´å¾ˆç„å­¦ï¼‰
      <br/>
      è‡³äºxformersè¯´æ²¡å®‰è£…çš„é—®é¢˜ï¼Œå…¶å®ä¹Ÿä¸å½±å“è¿è¡Œï¼Œåªæ˜¯ä¸ªè­¦å‘Šâš è€Œå·²ã€‚ã€‚ã€‚
     </img>
    </p>
    <p>
     open_clipçš„é—®é¢˜ï¼Œæˆ‘ä¹Ÿæ‰¾åˆ°è§£å†³æ–¹æ³•ï¼Œå¯ä¾›å‚è€ƒğŸ‘‡
     <br/>
     ç›´æ¥å»githubæŠŠ
     <a href="https://gitcode.net/mirrors/mlfoundations/open_clip/-/tree/main/src" rel="nofollow">
      open_clip
     </a>
     ä¸‹è½½åˆ°stable-diffusion-webui/ç›®å½•ä¸‹é¢ï¼Œæ³¨æ„æ˜¯
     <code>
      /src/open_clip
     </code>
     è¿™é‡Œçš„
     <code>
      open_clip
     </code>
    </p>
    <p>
     ç­‰åˆ°æ˜¾ç¤ºäº†ä¸€ä¸ª
     <code>
      local URL
     </code>
     ä¹‹åï¼Œè¾“å…¥
     <code>
      ./webui.sh --share
     </code>
     å†è·‘ä¸€ä¸‹ï¼Œå°±èƒ½æœ‰ä¸ª
     <code>
      public URL
     </code>
     ï¼Œç²˜è´´åˆ°æµè§ˆå™¨å°±å¯ä»¥ä½¿ç”¨äº†ï¼Œæ‰‹æœºç”µè„‘éƒ½èƒ½è¿è¡Œï¼ˆåªè¦äº‘å¹³å°ä¸å…³æœºï¼‰
     <br/>
     <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://i-blog.csdnimg.cn/blog_migrate/e226056fb5b23c80489a7a55dbde56cd.png"/>
    </p>
    <h2>
     <a id="StableDiffusionWebui_73">
     </a>
     äºŒã€Stable-Diffusion-Webuiä½¿ç”¨æ‰‹å†Œ
    </h2>
    <ul>
     <li>
      <p>
       æ¨¡å‹è°ƒæ•´ï¼ˆæ”¹å˜é£æ ¼ã€ä¼˜åŒ–äººä½“å½¢æ€ç­‰ç­‰ï¼‰ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šå…¬å¼€çš„ckptæ–‡ä»¶ï¼ŒæŠŠå®ƒä»¬ä¼ åˆ°ä¸Šé¢ä¸»æ¨¡å‹ä½ç½®å¤„å°±è¡Œï¼Œä½¿ç”¨çš„æ—¶å€™ï¼Œé€šè¿‡åˆ‡æ¢Stable
       <br/>
       Diffusion checkpointå³å¯æ›´æ¢æ¨¡å‹
      </p>
     </li>
     <li>
      <p>
       promptæç¤ºè¯å‚è€ƒç½‘ç«™ï¼š
       <a href="https://lexica.art/" rel="nofollow">
        https://lexica.art/
       </a>
      </p>
     </li>
     <li>
      <p>
       æ¨èå¤§ä½¬åšå®¢ã€Š
       <a href="https://zhuanlan.zhihu.com/p/570954565" rel="nofollow">
        æ¨¡å‹åº”ç”¨â€”ä½¿ç”¨Stable Diffusion UIæ‰‹å†Œ
       </a>
       ã€‹
      </p>
     </li>
     <li>
      <p>
       æ¨èå¤§ä½¬åšå®¢ã€Š
       <a href="https://zhuanlan.zhihu.com/p/574200991" rel="nofollow">
        ä½¿ç”¨stable-diffusion-webuiéƒ¨ç½²NovelAi/Stable Diffusion ä¿å§†çº§æ•™ç¨‹ã€å‘½ä»¤è§£é‡Šã€åŸç†è®²è§£(colabã€windowsã€Linux )
       </a>
       ã€‹
      </p>
     </li>
     <li>
      <p>
       ç•Œé¢ä½¿ç”¨ï¼ˆç›®å‰æˆ‘æ¢ç´¢çš„è¿˜æ¯”è¾ƒæœ‰é™ï¼Œä¼šè¿›ä¸€æ­¥è·Ÿè¿›ç†è®ºçŸ¥è¯†å­¦ä¹ ï¼‰
       <br/>
       txt2img â€” æ ‡å‡†çš„æ–‡å­—ç”Ÿæˆå›¾åƒï¼Œå…·ä½“å‚è€ƒä¸‹å›¾æ‰€ç¤ºï¼›
       <br/>
       img2img â€” æ ¹æ®å›¾åƒæˆæ–‡èŒƒæœ¬ã€ç»“åˆæ–‡å­—ç”Ÿæˆå›¾åƒï¼Œå¢åŠ è¦æ¨¡ä»¿çš„å›¾åƒï¼Œå‚æ•°è®¾ç½®è¾“å‡ºå›¾ç‰‡å°ºå¯¸ã€ä¸åŸå›¾ä¸€è‡´æ€§ç¨‹åº¦
       <br/>
       Extras â€” ä¼˜åŒ–(æ¸…æ™°ã€æ‰©å±•)å›¾åƒï¼›
       <br/>
       PNG Info â€” å›¾åƒåŸºæœ¬ä¿¡æ¯
       <br/>
       Checkpoint Merger â€” æ¨¡å‹åˆå¹¶
       <br/>
       Textual inversion â€” è®­ç»ƒæ¨¡å‹å¯¹äºæŸç§å›¾åƒé£æ ¼
       <br/>
       Settings â€” é»˜è®¤å‚æ•°ä¿®æ”¹
       <br/>
       <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://i-blog.csdnimg.cn/blog_migrate/f1151273a4b20868a8bf173c1f2a3ca3.png">
        <br/>
        <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://i-blog.csdnimg.cn/blog_migrate/e537615dc8e22ded7cfe8157eb378252.png"/>
       </img>
      </p>
     </li>
    </ul>
    <h2>
     <a id="_94">
     </a>
     ä¸‰ã€å‚è€ƒé“¾æ¥
    </h2>
    <ul>
     <li>
      https://blog.csdn.net/weixin_45569617/article/details/126873709
     </li>
     <li>
      https://blog.csdn.net/qq_52360013/article/details/127661249
     </li>
     <li>
      https://zhuanlan.zhihu.com/p/569663856
     </li>
     <li>
      https://www.douban.com/note/845051967/?_i=9139642RrDlhSY,9316584ryzr_Rz
     </li>
     <li>
      https://blog.csdn.net/qq_40902709/article/details/128152329
     </li>
     <li>
      https://github.com/Sygil-Dev/sygil-webui/issues/1430
     </li>
     <li>
      https://www.bilibili.com/read/cv21987039
     </li>
     <li>
      https://www.bilibili.com/read/cv19991459?spm_id_from=333.976.0.0
     </li>
     <li>
      https://zhuanlan.zhihu.com/p/574200991
     </li>
     <li>
      https://www.bilibili.com/read/cv19991459/
     </li>
    </ul>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f34343130303236332f:61727469636c652f64657461696c732f313239363438363330" class_="artid" style="display:none">
 </p>
</div>


