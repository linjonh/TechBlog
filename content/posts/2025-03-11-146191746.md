---
layout: post
title: "Enable-automatic-updates-in-Linux"
date: 2025-03-11 23:21:11 +0800
description: "our server will now automatically install the latest security updates, protecting your server."
keywords: "Enable automatic updates in Linux"
categories: ['未分类']
tags: ['数据库', 'Sqlserver', 'Microsoft']
artid: "146191746"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146191746
    alt: "Enable-automatic-updates-in-Linux"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146191746
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146191746
cover: https://bing.ee123.net/img/rand?artid=146191746
image: https://bing.ee123.net/img/rand?artid=146191746
img: https://bing.ee123.net/img/rand?artid=146191746
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Enable automatic updates in Linux
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     It is almost impossible to log in to your server to check and update it every day. However, failing to keep servers up to date can be a potential threat.
     <br/>
     <br/>
     There is a better solution to this, automatic updates. Here is how to enable automatic updates in Linux:
     <br/>
    </p>
    <h4>
     Ubuntu/ Debian based servers
    </h4>
    <p>
     Install unattended-upgrades
    </p>
    <p>
     apt install unattended-upgrades
    </p>
    <p>
    </p>
    <p>
     Edit the unattended upgrade configuration
    </p>
    <p>
     vi /etc/apt/apt.conf.d/50unattended-upgrades
    </p>
    <p>
    </p>
    <p>
     // Automatically upgrade packages from these (origin:archive) pairs
     <br/>
     //
     <br/>
     // Note that in Ubuntu security updates may pull in new dependencies
     <br/>
     // from non-security sources (e.g. chromium). By allowing the release
     <br/>
     // pocket these get automatically pulled in.
     <br/>
     Unattended-Upgrade::Allowed-Origins {
     <!-- -->
     <br/>
     "${distro_id}:${distro_codename}";
     <br/>
     //"${distro_id}:${distro_codename}-security";
     <br/>
     // Extended Security Maintenance; doesn't necessarily exist for
     <br/>
     // every release and this system may not have it installed, but if
     <br/>
     // available, the policy for updates is such that unattended-upgrades
     <br/>
     // should also install from here by default.
     <br/>
     "${distro_id}ESMApps:${distro_codename}-apps-security";
     <br/>
     "${distro_id}ESM:${distro_codename}-infra-security";
     <br/>
     // "${distro_id}:${distro_codename}-updates";
     <br/>
     // "${distro_id}:${distro_codename}-proposed";
     <br/>
     // "${distro_id}:${distro_codename}-backports";
     <br/>
     };
    </p>
    <p>
    </p>
    <p>
     In this case we will enable the security updates only to avoid potentially messing up the running programs.
     <br/>
     To enable security updates, remove the comment on this line "${distro_id}:${distro_codename}-security";
     <br/>
    </p>
    <p>
     // Automatically upgrade packages from these (origin:archive) pairs
     <br/>
     //
     <br/>
     // Note that in Ubuntu security updates may pull in new dependencies
     <br/>
     // from non-security sources (e.g. chromium). By allowing the release
     <br/>
     // pocket these get automatically pulled in.
     <br/>
     Unattended-Upgrade::Allowed-Origins {
     <!-- -->
    </p>
    <p>
     //"${distro_id}:${distro_codename}";
    </p>
    <p>
     "${distro_id}:${distro_codename}-security";
    </p>
    <p>
     // Extended Security Maintenance; doesn't necessarily exist for
     <br/>
     // every release and this system may not have it installed, but if
     <br/>
     // available, the policy for updates is such that unattended-upgrades
     <br/>
     // should also install from here by default.
     <br/>
     "${distro_id}ESMApps:${distro_codename}-apps-security";
     <br/>
     "${distro_id}ESM:${distro_codename}-infra-security";
     <br/>
     // "${distro_id}:${distro_codename}-updates";
     <br/>
     // "${distro_id}:${distro_codename}-proposed";
     <br/>
     // "${distro_id}:${distro_codename}-backports";
     <br/>
     };
    </p>
    <p>
    </p>
    <p>
     After this, we will have to enable automatic upgrade. Use this command to enable automatic upgrade.
    </p>
    <p>
     echo 'APT::Periodic::Update-Package-Lists "1";
     <br/>
     APT::Periodic::Download-Upgradeable-Packages "1";
     <br/>
     APT::Periodic::AutocleanInterval "3";
     <br/>
     APT::Periodic::Unattended-Upgrade "1";' &gt; /etc/apt/apt.conf.d/20auto-upgrades
    </p>
    <p>
     <br/>
    </p>
    <h4>
     CentOS/ Fedora based servers
    </h4>
    <p>
     Install dnf-automatic
    </p>
    <p>
     dnf install dnf-automatic
    </p>
    <p>
    </p>
    <p>
     We will have to make changes to the configuration files before enabling automatic update. Go to the configuration file by using this command
    </p>
    <p>
     vi /etc/dnf/automatic.conf
    </p>
    <p>
    </p>
    <p>
     [commands]
     <br/>
     # What kind of upgrade to perform:
     <br/>
     # default = all available upgrades
     <br/>
     # security = only the security upgrades
     <br/>
     upgrade_type = default
     <br/>
     random_sleep = 0
     <br/>
     <br/>
     # Maximum time in seconds to wait until the system is on-line and able to
     <br/>
     # connect to remote repositories.
     <br/>
     network_online_timeout = 60
     <br/>
     <br/>
     # To just receive updates use dnf-automatic-notifyonly.timer
     <br/>
     <br/>
     # Whether updates should be downloaded when they are available, by
     <br/>
     # dnf-automatic.timer. notifyonly.timer, download.timer and
     <br/>
     # install.timer override this setting.
     <br/>
     download_updates = yes
     <br/>
     <br/>
     # Whether updates should be applied when they are available, by
     <br/>
     # dnf-automatic.timer. notifyonly.timer, download.timer and
     <br/>
     # install.timer override this setting.
     <br/>
     apply_updates = no
    </p>
    <p>
     <br/>
    </p>
    <p>
     In this case we will enable the security updates only to avoid potentially messing up the running programs.
    </p>
    <ul>
     <li>
      Enabled security updates
     </li>
     <li>
      Set apply updates to yes to automatic applying the update once downloaded
     </li>
    </ul>
    <p>
     <br/>
    </p>
    <p>
     [commands]
     <br/>
     # What kind of upgrade to perform:
     <br/>
     # default = all available upgrades
    </p>
    <p>
     security = only the security upgrades
    </p>
    <p>
     <br/>
     upgrade_type = default
     <br/>
     random_sleep = 0
     <br/>
     <br/>
     # Maximum time in seconds to wait until the system is on-line and able to
     <br/>
     # connect to remote repositories.
     <br/>
     network_online_timeout = 60
     <br/>
     <br/>
     # To just receive updates use dnf-automatic-notifyonly.timer
     <br/>
     <br/>
     # Whether updates should be downloaded when they are available, by
     <br/>
     # dnf-automatic.timer. notifyonly.timer, download.timer and
     <br/>
     # install.timer override this setting.
     <br/>
     download_updates = yes
     <br/>
     <br/>
     # Whether updates should be applied when they are available, by
     <br/>
     # dnf-automatic.timer. notifyonly.timer, download.timer and
     <br/>
     # install.timer override this setting.
    </p>
    <p>
     apply_updates = yes
    </p>
    <p>
    </p>
    <p>
     <br/>
     <br/>
     Once this is done, start dnf-automatic.timer service
    </p>
    <p>
     systemctl start dnf-automatic.timer
    </p>
    <p>
    </p>
    <p>
     Enable dnf-automatic.timer service to automatic start on reboot
    </p>
    <p>
     systemctl enable dnf-automatic.timer
    </p>
    <p>
    </p>
    <p>
     [root@evoxt ~]# systemctl enable dnf-automatic.timer
     <br/>
     Created symlink /etc/systemd/system/timers.target.wants/dnf-automatic.timer → /usr/lib/systemd/system/dnf-automatic.timer.
     <br/>
     [root@evoxt ~]#
    </p>
    <p>
     <br/>
    </p>
    <p>
     By following this guide, automatic security update is now enabled on your Linux system.
     <br/>
    </p>
    <p>
     Your server will now automatically install the latest security updates, protecting your server.
     <br/>
    </p>
    <p>
     <a href="https://evoxt.com/deploy/" rel="nofollow" title="Deploy a server with Evoxt now!">
      Deploy a server with Evoxt now!
     </a>
     <br/>
     <a href="/deploy" id="deploy-button-one-click" rel="nofollow">
      Deploy
     </a>
    </p>
   </div>
  </div>
 </article>
 <p alt="687474:70733a2f2f626c6f672e6373646e2e6e65742f45766f78742f:61727469636c652f64657461696c732f313436313931373436" class_="artid" style="display:none">
 </p>
</div>


