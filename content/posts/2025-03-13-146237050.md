---
layout: post
title: "Linux中grepsed和awk常见用法总结"
date: 2025-03-13 17:15:37 +0800
description: "I                        等同于 --binary-files=without-match。-a, --text                  等同于 --binary-files=text。如果没有 -e, --expression, -f 或 --file 选项，那么第一个非选项参数被视为。-L, --files-without-match     只打印没有匹配上的<文件>的名称。-l, --files-with-matches      只打印有匹配的<文件>的名称。"
keywords: "Linux中grep、sed和awk常见用法总结"
categories: ['未分类']
tags: ['运维', 'Linux']
artid: "146237050"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146237050
    alt: "Linux中grepsed和awk常见用法总结"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146237050
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146237050
cover: https://bing.ee123.net/img/rand?artid=146237050
image: https://bing.ee123.net/img/rand?artid=146237050
img: https://bing.ee123.net/img/rand?artid=146237050
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Linux中grep、sed和awk常见用法总结
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2 style="text-align:justify">
     <strong>
      <strong>
       <strong>
        1.概述
       </strong>
      </strong>
     </strong>
    </h2>
    <p>
     Linux系统下，grep、sed和awk三个命令是最常用的、非常强大的文本处理工具，可以用于搜索、替换、过滤、排序等多种操作，掌握这三种工具的用法，可以大大提高我们在Linux下处理文本的效率。
    </p>
    <h2 style="text-align:justify">
     <strong>
      <strong>
       <strong>
        2.grep
       </strong>
      </strong>
      <strong>
       <strong>
        命令
       </strong>
      </strong>
     </strong>
    </h2>
    <p>
     grep是一种非常常见的文本搜索工具，它可以搜索指定字符串在一个或多个文件中出现的行，并将结果输出到标准输出。语法格式如下：
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td style="vertical-align:top; width:414.8000pt">
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         grep [OPTIONS] PATTERN [FILE…]
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     其中，OPTIONS表示选项，PATTERN表示要搜索的模式，FILE表示要搜索的文件名。
    </p>
    <p>
     grep命令的常见选项包括：
    </p>
    <ol>
     <li>
      -i：忽略大小写
     </li>
     <li>
      -w：完全匹配
     </li>
     <li>
      -v：显示不匹配的行
     </li>
     <li>
      -n：显示行号
     </li>
     <li>
      -c：显示匹配行的数量
     </li>
     <li>
      -r：递归搜索子目录
     </li>
     <li>
      -e：搜索多个字符串
     </li>
    </ol>
    <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
     详细选项参数及其含义可以通过“
     <strong>
      <span style="color:#4472c4">
       <strong>
        grep --help
       </strong>
      </span>
     </strong>
     ”获取，具体如下：
    </p>
    <table border="1" cellspacing="0" style="margin-left:28.1000pt">
     <tbody>
      <tr>
       <td style="vertical-align:top; width:386.7000pt">
        <p>
         [test@localhost ~]$
         <strong>
          <span style="color:#4472c4">
           <strong>
            grep --help
           </strong>
          </span>
         </strong>
        </p>
        <p>
         用法:
         <strong>
          <strong>
           grep [选项]... 模式 [文件]...
          </strong>
         </strong>
        </p>
        <p>
         <strong>
          <strong>
           在每个
          </strong>
         </strong>
         <strong>
          <strong>
           &lt;文件&gt;中查找给定&lt;模式&gt;
          </strong>
         </strong>
         。
        </p>
        <p>
         例如：grep -i 'hello world' menu.h main.c
        </p>
        <p>
         &lt;模式&gt;可以包括多个模式字符串，使用换行符进行分隔。
        </p>
        <p>
        </p>
        <p>
         模式选择与解释：
        </p>
        <p>
         -E, --extended-regexp     &lt;模式&gt; 是扩展正则表达式
        </p>
        <p>
         -F, --fixed-strings        &lt;模式&gt; 是字符串
        </p>
        <p>
         -G, --basic-regexp        &lt;模式&gt; 是基本正则表达式
        </p>
        <p>
         -P, --perl-regexp          &lt;模式&gt; 是 Perl 正则表达式
        </p>
        <p>
         -e, --regexp=&lt;模式&gt;       用指定的&lt;模式&gt;字符串来进行匹配操作
        </p>
        <p>
         -f, --file=&lt;文件&gt;          从给定&lt;文件&gt;中取得&lt;模式&gt;
        </p>
        <p>
         -i, --ignore-case           在模式和数据中忽略大小写
        </p>
        <p>
         --no-ignore-case       不要忽略大小写（默认）
        </p>
        <p>
         -w, --word-regexp          强制&lt;模式&gt;仅完全匹配字词
        </p>
        <p>
         -x, --line-regexp            强制&lt;模式&gt;仅完全匹配整行
        </p>
        <p>
         -z, --null-data              数据行以一个 0 字节结束，而非换行符
        </p>
        <p>
        </p>
        <p>
         杂项:
        </p>
        <p>
         -s, --no-messages         不显示错误信息
        </p>
        <p>
         -v, --invert-match         选中不匹配的行
        </p>
        <p>
         -V, --version             显示版本信息并退出
        </p>
        <p>
         --help                显示此帮助并退出
        </p>
        <p>
        </p>
        <p>
         输出控制：
        </p>
        <p>
         -m, --max-count=&lt;次数&gt;    得到给定&lt;次数&gt;次匹配后停止
        </p>
        <p>
         -b, --byte-offset          输出的同时打印字节偏移
        </p>
        <p>
         -n, --line-number         输出的同时打印行号
        </p>
        <p>
         --line-buffered       每行输出后刷新输出缓冲区
        </p>
        <p>
         -H, --with-filename       为输出行打印文件名
        </p>
        <p>
         -h, --no-filename         输出时不显示文件名前缀
        </p>
        <p>
         --label=&lt;标签&gt;        将给定&lt;标签&gt;作为标准输入文件名前缀
        </p>
        <p>
         -o, --only-matching       只显示行中非空匹配部分
        </p>
        <p>
         -q, --quiet, --silent        不显示所有常规输出
        </p>
        <p>
         --binary-files=TYPE    设定二进制文件的 TYPE（类型）；
        </p>
        <p>
         TYPE 可以是 'binary'、'text' 或 'without-match'
        </p>
        <p>
         -a, --text                  等同于 --binary-files=text
        </p>
        <p>
         -I                        等同于 --binary-files=without-match
        </p>
        <p>
         -d, --directories=ACTION    读取目录的方式；
        </p>
        <p>
         ACTION 可以是`read', `recurse',或`skip'
        </p>
        <p>
         -D, --devices=ACTION      读取设备、先入先出队列、套接字的方式；
        </p>
        <p>
         ACTION 可以是`read'或`skip'
        </p>
        <p>
         -r, --recursive               等同于--directories=recurse
        </p>
        <p>
         -R, --dereference-recursive       同上，但遍历所有符号链接
        </p>
        <p>
         --include=GLOB         search only files that match GLOB (a file pattern)
        </p>
        <p>
         --exclude=GLOB        skip files that match GLOB
        </p>
        <p>
         --exclude-from=FILE     skip files that match any file pattern from FILE
        </p>
        <p>
         --exclude-dir=GLOB      skip directories that match GLOB
        </p>
        <p>
         -L, --files-without-match     只打印没有匹配上的&lt;文件&gt;的名称
        </p>
        <p>
         -l, --files-with-matches      只打印有匹配的&lt;文件&gt;的名称
        </p>
        <p>
         -c, --count                只打印每个&lt;文件&gt;中的匹配行数目
        </p>
        <p>
         -T, --initial-tab             行首制表符对齐（如有必要）
        </p>
        <p>
         -Z, --null                  在&lt;文件&gt;名最后打印空字符
        </p>
        <p>
        </p>
        <p>
         文件控制:
        </p>
        <p>
         -B, --before-context=NUM     打印文本及其前面NUM 行
        </p>
        <p>
         -A, --after-context=NUM      打印文本及其后面NUM 行
        </p>
        <p>
         -C, --context=NUM          打印NUM 行输出文本
        </p>
        <p>
         -NUM                      等同于 --context=NUM
        </p>
        <p>
         --color[=WHEN],
        </p>
        <p>
         --colour[=WHEN]       使用标记高亮匹配字串；
        </p>
        <p>
         WHEN 可以是“always”、“never”或“auto”
        </p>
        <p>
         -U, --binary                不要清除行尾的 CR 字符（MSDOS/Windows）
        </p>
        <p>
        </p>
        <p>
         若给定&lt;文件&gt;为“-”，则从读取标准输入。  若无&lt;文件&gt;参数，则除非处于
        </p>
        <p>
         递归工作模式视为从“.”读取之外，一律视为从“-”读取。如果提供了少于
        </p>
        <p>
         两个&lt;文件&gt;参数，则默认启用 -h 选项。如果有任意行（或者指定了 -L 选项
        </p>
        <p>
         并有任意文件）被匹配，则退出状态为 0，否则为 1；如果有错误产生，且未指
        </p>
        <p>
         定 -q 参数，则退出状态为 2。
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h2 style="text-align:justify">
     <strong>
      <strong>
       <strong>
        3.sed
       </strong>
      </strong>
      <strong>
       <strong>
        命令
       </strong>
      </strong>
     </strong>
    </h2>
    <p>
     sed是一种流编辑器，它可以执行各种文本操作，如替换、删除、插入等。语法格式如下：
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td style="vertical-align:top; width:414.8000pt">
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         sed [OPTIONS] COMMAND [FILE…]
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     其中，OPTIONS表示选项，COMMAND表示要执行的sed命令，FILE表示要处理的文件名。
    </p>
    <p>
     sed命令的常见动作包括：
    </p>
    <ol>
     <li>
      a：新增，a的后面可以接字符串，而这些字符串会在新的一行出现（当前行的后一行）
     </li>
     <li>
      i：插入指定字符串，i的后面可以接字符串，而这些字符串会在新的一行出现（当前行的前一行）
     </li>
     <li>
      s：替换指定模式，通常会搭配正则表达式
     </li>
     <li>
      c：替换指定行
     </li>
     <li>
      d：删除指定行
     </li>
     <li>
      y：字符串转换
     </li>
     <li>
      p：打印匹配的行，通常会与参数sed -n一起使用
     </li>
    </ol>
    <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
     详细选项参数及其含义可以通过“
     <strong>
      <span style="color:#4472c4">
       <strong>
        sed --help
       </strong>
      </span>
     </strong>
     ”获取，具体如下：
    </p>
    <table border="1" cellspacing="0" style="margin-left:28.1000pt">
     <tbody>
      <tr>
       <td style="vertical-align:top; width:386.7000pt">
        <p>
         [test@localhost ~]$
         <strong>
          <span style="color:#4472c4">
           <strong>
            sed --help
           </strong>
          </span>
         </strong>
        </p>
        <p>
         用法:
         <strong>
          <strong>
           sed [选项]... {脚本(如果没有其他脚本)} [输入文件]
          </strong>
         </strong>
         ...
        </p>
        <p>
        </p>
        <p>
         -n, --quiet, --silent
        </p>
        <p>
         取消自动打印模式空间
        </p>
        <p>
         --debug
        </p>
        <p>
         对程序运行进行标注
        </p>
        <p>
         -e 脚本, --expression=脚本
        </p>
        <p>
         添加“脚本”到程序的运行列表
        </p>
        <p>
         -f 脚本文件, --file=脚本文件
        </p>
        <p>
         添加“脚本文件”到程序的运行列表
        </p>
        <p>
         --follow-symlinks
        </p>
        <p>
         直接修改文件时跟随软链接
        </p>
        <p>
         -i[扩展名], --in-place[=扩展名]
        </p>
        <p>
         直接修改文件（如果指定扩展名则备份文件）
        </p>
        <p>
         -l N, --line-length=N
        </p>
        <p>
         指定“l”命令的换行期望长度
        </p>
        <p>
         --posix
        </p>
        <p>
         关闭所有 GNU 扩展
        </p>
        <p>
         -E, -r, --regexp-extended
        </p>
        <p>
         在脚本中使用扩展正则表达式
        </p>
        <p>
         （为保证可移植性使用 POSIX -E）。
        </p>
        <p>
         -s, --separate
        </p>
        <p>
         将输入文件视为各个独立的文件而不是单个
        </p>
        <p>
         长的连续输入流。
        </p>
        <p>
         --sandbox
        </p>
        <p>
         在沙盒模式中进行操作（禁用 e/r/w 命令）。
        </p>
        <p>
         -u, --unbuffered
        </p>
        <p>
         从输入文件读取最少的数据，更频繁的刷新输出
        </p>
        <p>
         -z, --null-data
        </p>
        <p>
         使用 NUL 字符分隔各行
        </p>
        <p>
         --help     打印帮助并退出
        </p>
        <p>
         --version  输出版本信息并退出
        </p>
        <p>
        </p>
        <p>
         如果没有 -e, --expression, -f 或 --file 选项，那么第一个非选项参数被视为
        </p>
        <p>
         sed脚本。其他非选项参数被视为输入文件，如果没有输入文件，那么程序将从标准
        </p>
        <p>
         输入读取数据。
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h2 style="text-align:justify">
     <strong>
      <strong>
       <strong>
        4.awk
       </strong>
      </strong>
      <strong>
       <strong>
        命令
       </strong>
      </strong>
     </strong>
    </h2>
    <p>
     awk是一种文本处理工具，它可以用于格式化、过滤与计算等操作。语法格式如下：
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td style="vertical-align:top; width:414.8000pt">
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         awk [OPTIONS] 'PATTERN {ACTION} ' [FILE…]
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     其中，OPTIONS表示选项，PATTERN表示要匹配的模式，ACTION 表示要执行的操作，FILE表示要处理的文件名。
    </p>
    <p>
     awk命令的常见选项包括：
    </p>
    <ol>
     <li>
      print：打印指定内容
     </li>
     <li>
      if：条件判断
     </li>
     <li>
      for：循环结构
     </li>
     <li>
      sum：计算指定
     </li>
    </ol>
    <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
     详细选项参数及其含义可以通过“
     <strong>
      <span style="color:#4472c4">
       <strong>
        awk --help
       </strong>
      </span>
     </strong>
     ”获取，具体如下：
    </p>
    <table border="1" cellspacing="0" style="margin-left:28.1000pt">
     <tbody>
      <tr>
       <td style="vertical-align:top; width:386.7000pt">
        <p>
         [test@localhost ~]$
         <strong>
          <span style="color:#4472c4">
           <strong>
            awk --help
           </strong>
          </span>
         </strong>
        </p>
        <p>
         Usage: awk [POSIX or GNU style options] -f progfile [--] file ...
        </p>
        <p>
         Usage: awk [POSIX or GNU style options] [--] 'program' file ...
        </p>
        <p>
         POSIX options:          GNU long options: (standard)
        </p>
        <p>
         -f progfile             --file=progfile
        </p>
        <p>
         -F fs                   --field-separator=fs
        </p>
        <p>
         -v var=val              --assign=var=val
        </p>
        <p>
         Short options:          GNU long options: (extensions)
        </p>
        <p>
         -b                      --characters-as-bytes
        </p>
        <p>
         -c                      --traditional
        </p>
        <p>
         -C                      --copyright
        </p>
        <p>
         -d[file]                --dump-variables[=file]
        </p>
        <p>
         -D[file]                --debug[=file]
        </p>
        <p>
         -e 'program-text'       --source='program-text'
        </p>
        <p>
         -E file                 --exec=file
        </p>
        <p>
         -g                      --gen-pot
        </p>
        <p>
         -h                      --help
        </p>
        <p>
         -i includefile          --include=includefile
        </p>
        <p>
         -l library              --load=library
        </p>
        <p>
         -L[fatal|invalid|no-ext]        --lint[=fatal|invalid|no-ext]
        </p>
        <p>
         -M                      --bignum
        </p>
        <p>
         -N                      --use-lc-numeric
        </p>
        <p>
         -n                      --non-decimal-data
        </p>
        <p>
         -o[file]                --pretty-print[=file]
        </p>
        <p>
         -O                      --optimize
        </p>
        <p>
         -p[file]                --profile[=file]
        </p>
        <p>
         -P                      --posix
        </p>
        <p>
         -r                      --re-interval
        </p>
        <p>
         -s                      --no-optimize
        </p>
        <p>
         -S                      --sandbox
        </p>
        <p>
         -t                      --lint-old
        </p>
        <p>
         -V                      --version
        </p>
        <p>
        </p>
        <p>
         To report bugs, see node `Bugs' in `gawk.info'
        </p>
        <p>
         which is section `Reporting Problems and Bugs' in the
        </p>
        <p>
         printed version.  This same information may be found at
        </p>
        <p>
         https://www.gnu.org/software/gawk/manual/html_node/Bugs.html.
        </p>
        <p>
         PLEASE do NOT try to report bugs by posting in comp.lang.awk,
        </p>
        <p>
         or by using a web forum such as Stack Overflow.
        </p>
        <p>
        </p>
        <p>
         gawk is a pattern scanning and processing language.
        </p>
        <p>
         By default it reads standard input and writes standard output.
        </p>
        <p>
        </p>
        <p>
         Examples:
        </p>
        <p>
         gawk '{ sum += $1 }; END { print sum }' file
        </p>
        <p>
         gawk -F: '{ print $1 }' /etc/passwd
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h2 style="text-align:justify">
     <strong>
      <strong>
       <strong>
        5.使用实例
       </strong>
      </strong>
     </strong>
    </h2>
    <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
     (1) grep使用实例
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td style="vertical-align:top; width:414.8000pt">
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         --在文件中搜索指定字符串
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#4472c4">
           <strong>
            grep
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            -i
           </strong>
          </span>
         </strong>
         <strong>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            "关键字"
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            文件
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            名
           </strong>
          </span>
         </strong>
         <strong>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            --模糊匹配
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            （不区分大小写）
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#4472c4">
           <strong>
            grep
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            -w
           </strong>
          </span>
         </strong>
         <strong>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            "关键字"
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            文件
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            名
           </strong>
          </span>
         </strong>
         <strong>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            --
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            完全
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            匹配
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         --在文件中搜索多个字符串
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#4472c4">
           <strong>
            grep
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            -e "关键字
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            1
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            " -e "关键字2"
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            文件
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            名
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         --在文件中搜索并显示匹配的行号
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#4472c4">
           <strong>
            grep
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            -n
           </strong>
          </span>
         </strong>
         <strong>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            "关键字"
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            文件
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            名
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         --在文件中搜索并显示不匹配的行
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#4472c4">
           <strong>
            grep
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            -v "关键字"
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            文件
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            名
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         --在目录中递归搜索指定字符串
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#4472c4">
           <strong>
            grep
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            -r
           </strong>
          </span>
         </strong>
         <strong>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            "关键字"
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            directory
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            /
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         --查看文件中搜索的关键字的后n行
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#ff0000">
           <strong>
            cat 文件 | grep -An -i "关键字"
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         --查看文件中搜索的关键字的前n行
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#ff0000">
           <strong>
            cat 文件 | grep -Bn -i "关键字"
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         --查看文件中搜索的关键字的前后n行
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#ff0000">
           <strong>
            cat 文件 | grep -C20 -i "关键字"
           </strong>
          </span>
         </strong>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
     (2) sed使用实例
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td style="vertical-align:top; width:414.8000pt">
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="background-color:#ffff00">
           <strong>
            /*
           </strong>
          </span>
         </strong>
         <strong>
         </strong>
         <strong>
          <span style="background-color:#ffff00">
           <strong>
            选择
           </strong>
          </span>
         </strong>
         <strong>
          <span style="background-color:#ffff00">
           <strong>
            文本p */
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         --显示文件的1-3行，不使用-n
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#4472c4">
           <strong>
            sed 1,3p
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            文件名
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         --只显示文件的1-3行，使用-n
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#4472c4">
           <strong>
            sed -n 1,3p
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            文件名
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         --显示包含关键字的行
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#4472c4">
           <strong>
            sed -n '/
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            关键字
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            /p'
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            文件名
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="background-color:#ffff00">
           <strong>
            /*
           </strong>
          </span>
         </strong>
         <strong>
         </strong>
         <strong>
          <span style="background-color:#ffff00">
           <strong>
            替换
           </strong>
          </span>
         </strong>
         <strong>
          <span style="background-color:#ffff00">
           <strong>
            文本s */
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#ff0000">
           <strong>
            语法格式
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#ff0000">
           <strong>
            ：
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#ff0000">
           <strong>
            [位置参数1] [
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#ff0000">
           <strong>
            ,
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#ff0000">
           <strong>
            位置参数
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#ff0000">
           <strong>
            2
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#ff0000">
           <strong>
            ]
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#ff0000">
           <strong>
            s/
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#ff0000">
           <strong>
            匹配字符/替换
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#ff0000">
           <strong>
            字符
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#ff0000">
           <strong>
            /[标志]
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#ed7d31">
           <strong>
            标志说明：
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#ed7d31">
           <strong>
            g
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#ed7d31">
           <strong>
            ：全局匹配，
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#ed7d31">
           <strong>
            会
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#ed7d31">
           <strong>
            替换文本行
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#ed7d31">
           <strong>
            中所有
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#ed7d31">
           <strong>
            符合
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#ed7d31">
           <strong>
            规则的字符串
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#ed7d31">
           <strong>
            十进制数字
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#ed7d31">
           <strong>
            n：替换第n
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#ed7d31">
           <strong>
            个
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#ed7d31">
           <strong>
            符合规则的字符串
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#ed7d31">
           <strong>
            p：替换第一个
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#ed7d31">
           <strong>
            ，
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#ed7d31">
           <strong>
            并输出到标准输出
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#ed7d31">
           <strong>
            w：
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#ed7d31">
           <strong>
            替换第一个，并输出到磁盘文件中
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#ed7d31">
           <strong>
            空：
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#ed7d31">
           <strong>
            不加标志，则替换第一个
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         --把文件的a全部替换成A
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#4472c4">
           <strong>
            sed 's/
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            a/A
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            /g'
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            文件名
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            &gt;
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            新文件名
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         --对指定行进行替换
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#4472c4">
           <strong>
            sed '1,
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            3
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            s/
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            a/A
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            /g'
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            文件名
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            &gt;
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            新文件名
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="background-color:#ffff00">
           <strong>
            /*
           </strong>
          </span>
         </strong>
         <strong>
         </strong>
         <strong>
          <span style="background-color:#ffff00">
           <strong>
            删除
           </strong>
          </span>
         </strong>
         <strong>
          <span style="background-color:#ffff00">
           <strong>
            文本d */
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         --删除文件的第一行
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#4472c4">
           <strong>
            sed '1d'
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            文件名
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         --删除文件的最后一行
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#4472c4">
           <strong>
            sed '$d'
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            文件名
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         --删除空白行
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#4472c4">
           <strong>
            sed '/^$/d'
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            文件名
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="background-color:#ffff00">
           <strong>
            /*
           </strong>
          </span>
         </strong>
         <strong>
         </strong>
         <strong>
          <span style="background-color:#ffff00">
           <strong>
            追加
           </strong>
          </span>
         </strong>
         <strong>
          <span style="background-color:#ffff00">
           <strong>
            文本a */
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         --在文件中root开头的行的后面插入一行test
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#4472c4">
           <strong>
            sed '/
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            ^
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            root/a test'
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            文件名
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="background-color:#ffff00">
           <strong>
            /*
           </strong>
          </span>
         </strong>
         <strong>
         </strong>
         <strong>
          <span style="background-color:#ffff00">
           <strong>
            插入
           </strong>
          </span>
         </strong>
         <strong>
          <span style="background-color:#ffff00">
           <strong>
            文本i */
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         --在文件中root开头的行的前面插入一行test
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#4472c4">
           <strong>
            sed '/
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            ^
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            root/i test'
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            文件名
           </strong>
          </span>
         </strong>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
     (3) awk使用实例
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td style="vertical-align:top; width:414.8000pt">
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         --打印文件中的所有行
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#4472c4">
           <strong>
            awk '{print}' filename
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         --打印文件中第二列的内容
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#4472c4">
           <strong>
            awk '{print $2}' filename
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         --计算文件中所有数字的总和
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#4472c4">
           <strong>
            awk '{sum += $1} END {print sum}' filename
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         --打印文件中包含指定字符串的行
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#4472c4">
           <strong>
            awk '/
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            关键字/
           </strong>
          </span>
         </strong>
         <strong>
          <span style="color:#4472c4">
           <strong>
            {print}' filename
           </strong>
          </span>
         </strong>
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         --在文件中指定列后面添加指定字符串
        </p>
        <p style="margin-left:.0001pt; margin-right:0; text-align:justify">
         <strong>
          <span style="color:#4472c4">
           <strong>
            awk '{$3 = $3 "关键字"} {print}' filename
           </strong>
          </span>
         </strong>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f676f666f72646174612f:61727469636c652f64657461696c732f313436323337303530" class_="artid" style="display:none">
 </p>
</div>


