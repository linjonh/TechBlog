---
arturl_encode: "68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f35383634383839302f:61727469636c652f64657461696c732f313436313433383733"
layout: post
title: "Ubuntu-22.04-å‡çº§åˆ°-Ubuntu-24.04-å…¨æµç¨‹æŒ‡å—"
date: 2025-03-10 09:54:26 +0800
description: "æœ¬æŒ‡å—è¯¦ç»†è®°å½•äº†ä»Ubuntu 22.04å‡çº§åˆ°Ubuntu 24.0çš„å®Œæ•´è¿‡ç¨‹ã€‚"
keywords: "ubuntuå‡çº§ 22.04.5 24"
categories: ['ä¸ªäººç»éªŒ']
tags: ['è¿ç»´', 'Ubuntu', 'Linux']
artid: "146143873"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146143873
    alt: "Ubuntu-22.04-å‡çº§åˆ°-Ubuntu-24.04-å…¨æµç¨‹æŒ‡å—"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146143873
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146143873
cover: https://bing.ee123.net/img/rand?artid=146143873
image: https://bing.ee123.net/img/rand?artid=146143873
img: https://bing.ee123.net/img/rand?artid=146143873
---

# Ubuntu 22.04 å‡çº§åˆ° Ubuntu 24.04 å…¨æµç¨‹æŒ‡å—

### **ğŸ“Œ 1. å‰è¨€**

Ubuntu 24.04 æ˜¯æœ€æ–°çš„ LTS ç‰ˆæœ¬ï¼Œå¸¦æ¥äº†å†…æ ¸æ›´æ–°ã€æ€§èƒ½ä¼˜åŒ–ä»¥åŠæ›´å¼ºçš„å®‰å…¨æ€§ã€‚æœ¬æŒ‡å—è¯¦ç»†è®°å½•äº†ä»
**Ubuntu 22.04 å‡çº§åˆ° 24.04**
çš„å®Œæ•´è¿‡ç¨‹ï¼ŒåŒ…æ‹¬
**å‡çº§å‰çš„å‡†å¤‡ã€é‡åˆ°çš„é—®é¢˜åŠå¦‚ä½•é€‰æ‹©æœ€ä½³é€‰é¡¹**
ï¼Œé¿å…å‡çº§å¤±è´¥æˆ–ç³»ç»ŸæŸåã€‚

---

### **ğŸ›  2. å‡çº§å‰çš„å‡†å¤‡**

#### **âœ… 2.1 å¤‡ä»½é‡è¦æ•°æ®**

å»ºè®®å¯¹
**æ•´ä¸ªç³»ç»Ÿæˆ–é‡è¦ç›®å½•**
è¿›è¡Œå¤‡ä»½ï¼Œä»¥é˜²å‡çº§å¤±è´¥åæ•°æ®ä¸¢å¤±ã€‚

**å¤‡ä»½æ•´ä¸ªç³»ç»Ÿï¼š**

```bash
sudo tar -cvpzf backup.tar.gz --exclude=/backup.tar.gz --one-file-system /

```

**ä»…å¤‡ä»½
`/home`
ç›®å½•ï¼ˆç”¨æˆ·æ•°æ®ï¼‰ï¼š**

```bash
sudo rsync -aAXv /home /mnt/backup/

```

å¦‚æœæ˜¯
`VMware`
æˆ–
`Parallels Desktop`
ä¹Ÿå¯ä»¥ç›´æ¥å¤‡ä»½æ–‡ä»¶å¤¹ã€‚
  
å¦‚æœæ˜¯æœåŠ¡å™¨ï¼Œå»ºè®®
**ä½¿ç”¨å¿«ç…§**
ï¼ˆLVMã€ZFS æˆ– VMware å¿«ç…§ï¼‰ã€‚

---

#### **âœ… 2.2 æ›´æ–°ç°æœ‰è½¯ä»¶åŒ…**

```bash
sudo apt update && sudo apt upgrade -y
sudo apt autoremove -y

```

ç„¶åï¼Œç¡®ä¿ update-manager-core å·²å®‰è£…ï¼š

```bash
sudo apt install update-manager-core -y

```

**æ˜¯å¦è¦é‡å¯ç³»ç»Ÿï¼Ÿ**

* å¦‚æœ
  `apt upgrade`
  **æ›´æ–°äº†å†…æ ¸**
  ï¼Œå»ºè®®
  **é‡å¯**
  ï¼š

  ```bash
  sudo reboot

  ```
* å¦‚æœåªæ˜¯æ™®é€šçš„è½¯ä»¶åŒ…æ›´æ–°ï¼Œåˆ™
  **å¯ä»¥ä¸é‡å¯**
  ï¼Œç›´æ¥è¿›å…¥å‡çº§æµç¨‹ã€‚

---

### **ğŸš€ 3. æ‰§è¡Œ Ubuntu ç‰ˆæœ¬å‡çº§**

Ubuntu æä¾›äº†
`do-release-upgrade`
å‘½ä»¤è¿›è¡Œç‰ˆæœ¬å‡çº§ã€‚

#### **âœ… 3.1 æ£€æŸ¥æ˜¯å¦å¯ä»¥å‡çº§**

```bash
sudo do-release-upgrade -c

```

å¦‚æœè¾“å‡ºï¼š

```
Checking for a new Ubuntu release
No new release found

```

è¯´æ˜å®˜æ–¹è¿˜æœªæ­£å¼æ¨é€å‡çº§ï¼Œä½ å¯ä»¥å°è¯•
**å¼ºåˆ¶å‡çº§**
ï¼š

```bash
sudo do-release-upgrade -d

```

å…¶ä¸­ -d é€‰é¡¹ç”¨äºå‡çº§åˆ°æœ€æ–°çš„å¼€å‘ç‰ˆï¼ˆå¦‚æœ 24.04 ä»æ˜¯ Beta ç‰ˆï¼‰ã€‚

---

#### **âœ… 3.2 å¼€å§‹å‡çº§**

è¿è¡Œï¼š

```bash
sudo do-release-upgrade

```

ğŸ‘‰
**å‡çº§è¿‡ç¨‹ä¸­ç³»ç»Ÿå¯èƒ½ä¼šé‡åˆ°ä»¥ä¸‹é€‰é¡¹ï¼š**

#### 3.2.1 **æ˜¯å¦è‡ªåŠ¨é‡å¯æœåŠ¡ï¼Ÿ**

å»ºè®®é€‰æ‹©
**`Yes`**
ï¼Œè®©ç³»ç»Ÿè‡ªåŠ¨é‡å¯å—å½±å“çš„æœåŠ¡ã€‚

| é€‰é¡¹ | è¯´æ˜ | é€‚ç”¨åœºæ™¯ |
| --- | --- | --- |
| âœ… **é€‰æ‹© â€œæ˜¯â€ï¼ˆè‡ªåŠ¨é‡å¯æœåŠ¡ï¼‰** | é€‚ç”¨äº Ubuntu æ¡Œé¢ç‰ˆæˆ–æ— å…³é”®æœåŠ¡å™¨åº”ç”¨çš„æƒ…å†µã€‚   é€‰æ‹©â€œæ˜¯â€å¯ä»¥å‡å°‘æ‰‹åŠ¨æ“ä½œï¼Œä½¿å‡çº§æ›´åŠ é¡ºç•…ã€‚ | ä¸ªäººä½¿ç”¨ã€å¼€å‘ç¯å¢ƒ |
| âŒ **é€‰æ‹© â€œå¦â€ï¼ˆä¸è‡ªåŠ¨é‡å¯æœåŠ¡ï¼‰** | å¦‚æœç³»ç»Ÿè¿è¡Œå…³é”®æœåŠ¡ï¼ˆå¦‚æ•°æ®åº“ã€Web æœåŠ¡å™¨ç­‰ï¼‰ï¼Œå»ºè®®é€‰æ‹©â€œå¦â€ã€‚   è¿™æ ·å¯ä»¥åœ¨å‡çº§å®Œæˆåæ‰‹åŠ¨é‡å¯ï¼Œé¿å…å› æœåŠ¡é‡å¯å¯¼è‡´ä¸­æ–­ã€‚ | ç”Ÿäº§ç¯å¢ƒã€æœåŠ¡å™¨ |

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/33ebb8ee8ad4486aac57307deaab9ea1.png)

#### 3.2.2 **é…ç½®æ–‡ä»¶å†²çªï¼ˆå¦‚ sshd\_configï¼‰**

**é€‰æ‹©å»ºè®®**

| æƒ…å†µ | é€‰é¡¹ | è¯´æ˜ |
| --- | --- | --- |
| **å¦‚æœä½ ä»¥å‰ä¿®æ”¹è¿‡ `sshd_config` ï¼Œå¹¶ä¸”ä¸æƒ³ä¸¢å¤±ä¿®æ”¹ï¼ˆæ¨èï¼‰** | é€‰æ‹© **â€œkeep the local version currently installedâ€** ï¼ˆä¿æŒå½“å‰å·²å®‰è£…çš„æœ¬åœ°ç‰ˆæœ¬ï¼‰ | è¿™æ ·å¯ä»¥ä¿ç•™ä½ çš„è‡ªå®šä¹‰ SSH è®¾ç½®ï¼Œé¿å…è¦†ç›–å¯¼è‡´ SSH è¿æ¥ä¸­æ–­ã€‚ |
| **å¦‚æœä½ ä¸ç¡®å®šæ˜¯å¦è¦ä¿®æ”¹ `sshd_config` ï¼Œæˆ–è€…æƒ³è¦é»˜è®¤çš„æ–°é…ç½®** | é€‰æ‹© **â€œshow the differences between the versionsâ€** æˆ– **â€œshow a side-by-side differenceâ€** | æŸ¥çœ‹æ–°æ—§ç‰ˆæœ¬çš„ä¸åŒï¼Œè¯„ä¼°æ–°ç‰ˆæœ¬æ˜¯å¦æœ‰é‡è¦å˜æ›´ï¼Œå†å†³å®šä¿ç•™æœ¬åœ°ç‰ˆæœ¬è¿˜æ˜¯æ›´æ–°ã€‚ |
| **å¦‚æœä½ æƒ³è¦ä½¿ç”¨å®˜æ–¹é»˜è®¤çš„ `sshd_config`** | é€‰æ‹© **â€œinstall the package maintainerâ€™s versionâ€** | è¿™æ ·ä¼š **è¦†ç›–ä½ ç°æœ‰çš„ SSH è®¾ç½®** ï¼Œå¯èƒ½å½±å“ SSH è®¿é—®æƒé™ç­‰ï¼Œéœ€è¦æ‰‹åŠ¨é‡æ–°é…ç½®ã€‚ |

**æ¨èæ“ä½œ**

| å»ºè®® | è¯´æ˜ |
| --- | --- |
| **å¦‚æœæ˜¯è¿œç¨‹è¿æ¥ï¼ˆå¦‚ SSH è®¿é—®äº‘å°è™šæ‹Ÿæœºï¼‰** | å¼ºçƒˆå»ºè®® **ä¿æŒæœ¬åœ°ç‰ˆæœ¬** ï¼Œä»¥å…å¯¼è‡´ SSH è¿æ¥é—®é¢˜ã€‚ |
| **å¦‚æœä¸ç¡®å®šæˆ–æƒ³å¯¹æ¯”ç‰ˆæœ¬** | å¯ä»¥é€‰æ‹© **â€œshow the differencesâ€** å…ˆæŸ¥çœ‹å˜æ›´å†…å®¹ã€‚ |

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/73c680c2e34048239b7e7e71e6c5b6cb.png)

---

### **âš ï¸ 4. å‡çº§è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ**

#### **ğŸ›‘ 4.1 `gnome-remote-desktop` å®‰è£…å¤±è´¥**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/f650b3f879c04d0aba99bbff66ed174e.png)

**é”™è¯¯ä¿¡æ¯ï¼š**

```
Failed to check if group gnome-remote-desktop already exists: Connection refused

```

**è§£å†³æ–¹æ¡ˆï¼š**
  
ç³»ç»Ÿå‡çº§æˆåŠŸä»¥åï¼Œæ‰‹åŠ¨é‡æ–°å®‰è£…ï¼š

```bash
sudo apt install --reinstall gnome-remote-desktop

```

å¦‚æœè¿˜æ˜¯æŠ¥é”™ï¼Œé‚£ä¹ˆæ‰‹åŠ¨åˆ›å»ºç”¨æˆ·ç»„ï¼š

```bash
sudo groupadd -r gnome-remote-desktop
sudo useradd -r -g gnome-remote-desktop -s /usr/sbin/nologin gnome-remote-desktop
sudo apt install --reinstall gnome-remote-desktop

```

ç„¶åé‡å¯ï¼š

```bash
sudo reboot

```

---

#### **ğŸ›‘ 4.2 `fwupd.conf` é…ç½®æ–‡ä»¶å†²çª**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/eb159396aeaa4bc0b18c07fa6206b18d.png)

**é”™è¯¯ä¿¡æ¯ï¼š**

```
The configuration file /etc/fwupd/fwupd.conf has changed.
Do you want to install the package maintainerâ€™s version?

```

**è§£å†³æ–¹æ¡ˆï¼š**

* **å¦‚æœä¸æ¸…æ¥šè¯¥æ–‡ä»¶çš„ç”¨é€”ï¼Œæ¨èé€‰æ‹© â€œDâ€ï¼Œå¯¹æ¯”ä»¥ååˆå¹¶ã€‚**
* **å¦‚æœå¯¹
  `fwupd.conf`
  åšäº†å®šåˆ¶ï¼ˆå¦‚å›ºä»¶æ›´æ–°ç­–ç•¥ï¼‰ï¼Œå¯ä»¥ä¿ç•™å½“å‰ç‰ˆæœ¬ã€‚**

---

#### **ğŸ›‘ 4.3 `systemctl restart dbus` é€ æˆé»‘å±**

æ‰§è¡Œ
`sudo systemctl restart dbus`
åï¼Œ
**æ•´ä¸ªç³»ç»Ÿé»‘å±**
ï¼Œé¼ æ ‡é”®ç›˜å¤±æ•ˆã€‚

**è§£å†³æ–¹æ¡ˆï¼š**

1. **åˆ‡æ¢åˆ° TTY ç»ˆç«¯ï¼ˆCtrl + Alt + F3ï¼‰**
2. é‡æ–°å¯åŠ¨
   **GNOME æ¡Œé¢**

   ```bash
   sudo systemctl restart gdm

   ```
3. **å¦‚æœä»ç„¶é»‘å±ï¼Œæ‰§è¡Œç³»ç»Ÿé‡å¯**

   ```bash
   sudo reboot

   ```

---

### **ğŸ” 5. æ£€æŸ¥å‡çº§æ˜¯å¦æˆåŠŸ**

#### **âœ… 5.1 ç¡®è®¤ Ubuntu ç‰ˆæœ¬**

```bash
lsb_release -a

```

**æ­£ç¡®è¾“å‡ºç¤ºä¾‹ï¼š**

```
Ubuntu 24.04 LTS

```

#### **âœ… 5.2 æ£€æŸ¥å†…æ ¸ç‰ˆæœ¬**

```bash
uname -r

```

**ç¤ºä¾‹è¾“å‡ºï¼š**

```
6.8.0-55-generic

```

#### **âœ… 5.3 æ£€æŸ¥ç³»ç»ŸæœåŠ¡æ˜¯å¦æ­£å¸¸**

```bash
systemctl --failed

```

å¦‚æœè¾“å‡ºï¼š

```
0 loaded units listed.

```

è¯´æ˜æ‰€æœ‰ç³»ç»ŸæœåŠ¡æ­£å¸¸è¿è¡Œã€‚

---

### **ğŸ¯ 6. æ€»ç»“**

#### **ğŸ”¹ è¿™æ¬¡å‡çº§çš„é‡ç‚¹**

1. **ç³»ç»Ÿå‡çº§éœ€è¦å¤‡ä»½**
   ï¼Œé¿å…æ•°æ®ä¸¢å¤±ã€‚
2. **é‡åˆ°
   `libc6`
   ã€
   `sshd_config`
   ç­‰é…ç½®æ–‡ä»¶å†²çªæ—¶ï¼Œé€‰æ‹©æœ€é€‚åˆè‡ªå·±çš„æ–¹å¼**
   ã€‚
3. **å‡çº§å®Œæˆåï¼Œæ£€æŸ¥ Ubuntu ç‰ˆæœ¬ã€å†…æ ¸ç‰ˆæœ¬ä»¥åŠæœåŠ¡çŠ¶æ€**
   ã€‚

#### **ğŸ”¹ é‡åˆ°çš„ä¸»è¦é—®é¢˜**

âœ…
**SSH é…ç½®å†²çª**
â†’ é€‰æ‹©ä¿ç•™æˆ–è¦†ç›–
  
âœ…
**ç³»ç»ŸæœåŠ¡éœ€è¦é‡å¯**
â†’ é€‰æ‹©
`Yes`
  
âœ…
**`gnome-remote-desktop`
ç»„æƒé™é”™è¯¯**
â†’ æ‰‹åŠ¨åˆ›å»º

è‡³æ­¤ï¼ŒUbuntu 22.04 åˆ° 24.04 çš„å‡çº§é¡ºåˆ©å®Œæˆï¼ğŸ‰