---
layout: post
title: "在Spring-Boot项目中接入DeepSeek深度求索,感觉笨笨的呢"
date: 2025-03-14 15:39:18 +0800
description: "在当今快速发展的数据驱动时代，企业越来越重视数据的价值。为了更好地理解和利用数据，许多公司开始采用先进的数据分析和搜索技术。DeepSeek（深度求索）就是一款强大的深度学习驱动的搜索和推荐系统，可以帮助企业高效地处理和分析大规模数据。本文将详细介绍如何在Spring Boot项目中接入DeepSeek，帮助各位大大快速上手并利用其强大的功能。"
keywords: "在Spring Boot项目中接入DeepSeek深度求索，感觉笨笨的呢"
categories: ['开发工具', '人工智能', 'Spring']
tags: ['后端', 'Spring', 'Java', 'Deepseek', 'Boot']
artid: "146258813"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146258813
    alt: "在Spring-Boot项目中接入DeepSeek深度求索,感觉笨笨的呢"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146258813
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146258813
cover: https://bing.ee123.net/img/rand?artid=146258813
image: https://bing.ee123.net/img/rand?artid=146258813
img: https://bing.ee123.net/img/rand?artid=146258813
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     在Spring Boot项目中接入DeepSeek深度求索，感觉笨笨的呢
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <p>
    </p>
    <h3>
     <a id="_1">
     </a>
     引言
    </h3>
    <p>
     在当今快速发展的数据驱动时代，企业越来越重视数据的价值。为了更好地理解和利用数据，许多公司开始采用先进的数据分析和搜索技术。DeepSeek（深度求索）就是一款强大的深度学习驱动的搜索和推荐系统，可以帮助企业高效地处理和分析大规模数据。本文将详细介绍如何在Spring Boot项目中接入DeepSeek，帮助各位大大快速上手并利用其强大的功能。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/f237c44a94394790ae9af8cfb8e0053a.png"/>
    </p>
    <h3>
     <a id="1_DeepSeek_6">
     </a>
     1. 什么是DeepSeek？
    </h3>
    <p>
     DeepSeek 是一款基于深度学习的搜索和推荐系统，能够帮助企业从海量数据中快速提取有价值的信息。它结合了自然语言处理（NLP）、机器学习和深度学习技术，提供精准的搜索结果和个性化推荐。DeepSeek的主要特点包括：
     <br/>
     精准搜索：通过深度学习算法，DeepSeek能够理解用户查询的意图，提供更精准的搜索结果。
     <br/>
     个性化推荐：基于用户行为和偏好，DeepSeek能够为用户提供个性化的推荐内容。
     <br/>
     高效处理：支持大规模数据处理，能够快速响应用户请求。
     <br/>
     易于集成：提供丰富的API接口，方便与其他系统集成。
    </p>
    <h3>
     <a id="2__12">
     </a>
     2. 准备工作
    </h3>
    <p>
     在开始接入DeepSeek之前，需要完成以下准备工作：
    </p>
    <h4>
     <a id="21_DeepSeek_14">
     </a>
     2.1 注册DeepSeek账号
    </h4>
    <p>
     首先，访问DeepSeek的API开放平台（ https://platform.deepseek.com/sign_in），注册一个账号。注册完成后，登录账号并创建一个新的项目，获取项目ID和API密钥。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/c77ae20d04904f6881cc30be6e1474ed.png"/>
    </p>
    <p>
     注意：生成key后需要充值后才能正常调用其API。
    </p>
    <h3>
     <a id="3_20">
     </a>
     3.实战演示
    </h3>
    <h4>
     <a id="31__applicationDS_21">
     </a>
     3.1 application增加DS配置
    </h4>
    <pre><code class="prism language-bash">ds:
  key: 填写在官网申请的key
  url: https://api.deepseek.com/chat/completions
</code></pre>
    <h4>
     <a id="32_service_29">
     </a>
     3.2 编写service
    </h4>
    <pre><code class="prism language-bash">/**
 * DsChatService
 * @author senfel
 * @version <span class="token number">1.0</span>
 * @date <span class="token number">2025</span>/3/13 <span class="token number">17</span>:30
 */
public interface DsChatService <span class="token punctuation">{<!-- --></span>

    /**
     * chat
     * @param userId
     * @param question
     * @author senfel
     * @date <span class="token number">2025</span>/3/13 <span class="token number">17</span>:30
     * @return org.springframework.web.servlet.mvc.method.annotation.SseEmitter
     */
    SseEmitter chat<span class="token punctuation">(</span>String userId,String question<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <pre><code class="prism language-bash">/**
 * DsChatServiceImpl
 * @author senfel
 * @version <span class="token number">1.0</span>
 * @date <span class="token number">2025</span>/3/13 <span class="token number">17</span>:31
 */
@Service
@Slf4j
public class DsChatServiceImpl implements DsChatService <span class="token punctuation">{<!-- --></span>
    @Value<span class="token punctuation">(</span><span class="token string">"<span class="token variable">${ds.key}</span>"</span><span class="token punctuation">)</span>
    private String dsKey<span class="token punctuation">;</span>
    @Value<span class="token punctuation">(</span><span class="token string">"<span class="token variable">${ds.url}</span>"</span><span class="token punctuation">)</span>
    private String dsUrl<span class="token punctuation">;</span>
    // 用于保存每个用户的对话历史
    private final Map<span class="token operator">&lt;</span>String, List<span class="token operator">&lt;</span>Map<span class="token operator">&lt;</span>String, String<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> sessionHistory <span class="token operator">=</span> new ConcurrentHashMap<span class="token operator">&lt;&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    private final ExecutorService executorService <span class="token operator">=</span> Executors.newCachedThreadPool<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    private final ObjectMapper objectMapper <span class="token operator">=</span> new ObjectMapper<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    /**
     * chat
     * @param userId
     * @param question
     * @author senfel
     * @date <span class="token number">2025</span>/3/13 <span class="token number">17</span>:36
     * @return org.springframework.web.servlet.mvc.method.annotation.SseEmitter
     */
    @Override
    public SseEmitter chat<span class="token punctuation">(</span>String userId,String question<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        SseEmitter emitter <span class="token operator">=</span> new SseEmitter<span class="token punctuation">(</span>-1L<span class="token punctuation">)</span><span class="token punctuation">;</span>
        executorService.execute<span class="token variable"><span class="token punctuation">((</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> {
            try {
                log.info<span class="token punctuation">(</span>"流式回答开始<span class="token punctuation">,</span> 问题<span class="token operator">:</span> {}"<span class="token punctuation">,</span> question<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token operator">/</span><span class="token operator">/</span> 获取当前用户的对话历史
                List<span class="token operator">&lt;</span>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> String<span class="token operator">&gt;&gt;</span> messages <span class="token operator">=</span> sessionHistory.getOrDefault<span class="token punctuation">(</span>userId<span class="token punctuation">,</span> new ArrayList<span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">))</span></span><span class="token punctuation">;</span>
                // 添加用户的新问题到对话历史
                Map<span class="token operator">&lt;</span>String, String<span class="token operator">&gt;</span> userMessage <span class="token operator">=</span> new HashMap<span class="token operator">&lt;&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                userMessage.put<span class="token punctuation">(</span><span class="token string">"role"</span>, <span class="token string">"user"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                userMessage.put<span class="token punctuation">(</span><span class="token string">"content"</span>, question<span class="token punctuation">)</span><span class="token punctuation">;</span>
                Map<span class="token operator">&lt;</span>String, String<span class="token operator">&gt;</span> systemMessage <span class="token operator">=</span> new HashMap<span class="token operator">&lt;&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                systemMessage.put<span class="token punctuation">(</span><span class="token string">"role"</span>, <span class="token string">"system"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                systemMessage.put<span class="token punctuation">(</span><span class="token string">"content"</span>, <span class="token string">"senfel的AI助手"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                messages.add<span class="token punctuation">(</span>userMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
                messages.add<span class="token punctuation">(</span>systemMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
                // 调用 DeepSeek API
                try <span class="token punctuation">(</span>CloseableHttpClient client <span class="token operator">=</span> HttpClients.createDefault<span class="token punctuation">(</span><span class="token punctuation">))</span> <span class="token punctuation">{<!-- --></span>
                    HttpPost request <span class="token operator">=</span> new HttpPost<span class="token punctuation">(</span>dsUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    request.setHeader<span class="token punctuation">(</span><span class="token string">"Content-Type"</span>, <span class="token string">"application/json"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    request.setHeader<span class="token punctuation">(</span><span class="token string">"Authorization"</span>, <span class="token string">"Bearer "</span> + dsKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    Map<span class="token operator">&lt;</span>String, Object<span class="token operator">&gt;</span> requestMap <span class="token operator">=</span> new HashMap<span class="token operator">&lt;&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    requestMap.put<span class="token punctuation">(</span><span class="token string">"model"</span>, <span class="token string">"deepseek-chat"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    requestMap.put<span class="token punctuation">(</span><span class="token string">"messages"</span>, messages<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    requestMap.put<span class="token punctuation">(</span><span class="token string">"stream"</span>, <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    String requestBody <span class="token operator">=</span> objectMapper.writeValueAsString<span class="token punctuation">(</span>requestMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    request.setEntity<span class="token punctuation">(</span>new StringEntity<span class="token punctuation">(</span>requestBody, StandardCharsets.UTF_8<span class="token punctuation">))</span><span class="token punctuation">;</span>
                    try <span class="token punctuation">(</span>CloseableHttpResponse response <span class="token operator">=</span> client.execute<span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
                         BufferedReader reader <span class="token operator">=</span> new BufferedReader<span class="token punctuation">(</span>
                                 new InputStreamReader<span class="token punctuation">(</span>response.getEntity<span class="token punctuation">(</span><span class="token punctuation">)</span>.getContent<span class="token punctuation">(</span><span class="token punctuation">)</span>, StandardCharsets.UTF_8<span class="token punctuation">))</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        StringBuilder aiResponse <span class="token operator">=</span> new StringBuilder<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        String line<span class="token punctuation">;</span>
                        <span class="token keyword">while</span> <span class="token variable"><span class="token punctuation">((</span>line <span class="token operator">=</span> reader.readLine<span class="token punctuation">(</span><span class="token punctuation">))</span></span> <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                            <span class="token keyword">if</span> <span class="token punctuation">(</span>line.startsWith<span class="token punctuation">(</span><span class="token string">"data: "</span><span class="token punctuation">))</span> <span class="token punctuation">{<!-- --></span>
                                System.err.println<span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                String jsonData <span class="token operator">=</span> line.substring<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"[DONE]"</span>.equals<span class="token punctuation">(</span>jsonData<span class="token punctuation">))</span> <span class="token punctuation">{<!-- --></span>
                                    <span class="token builtin class-name">break</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                                JsonNode <span class="token function">node</span> <span class="token operator">=</span> objectMapper.readTree<span class="token punctuation">(</span>jsonData<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                String content <span class="token operator">=</span> node.path<span class="token punctuation">(</span><span class="token string">"choices"</span><span class="token punctuation">)</span>
                                        .path<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
                                        .path<span class="token punctuation">(</span><span class="token string">"delta"</span><span class="token punctuation">)</span>
                                        .path<span class="token punctuation">(</span><span class="token string">"content"</span><span class="token punctuation">)</span>
                                        .asText<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>content.isEmpty<span class="token punctuation">(</span><span class="token punctuation">))</span> <span class="token punctuation">{<!-- --></span>
                                    emitter.send<span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    aiResponse.append<span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span> // 收集 AI 的回复
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>

                        // 将 AI 的回复添加到对话历史
                        Map<span class="token operator">&lt;</span>String, String<span class="token operator">&gt;</span> aiMessage <span class="token operator">=</span> new HashMap<span class="token operator">&lt;&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        aiMessage.put<span class="token punctuation">(</span><span class="token string">"role"</span>, <span class="token string">"assistant"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        aiMessage.put<span class="token punctuation">(</span><span class="token string">"content"</span>, aiResponse.toString<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
                        messages.add<span class="token punctuation">(</span>aiMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        // 更新会话状态
                        sessionHistory.put<span class="token punctuation">(</span>userId, messages<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        log.info<span class="token punctuation">(</span><span class="token string">"流式回答结束, 问题: {}"</span>, question<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        emitter.complete<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span> catch <span class="token punctuation">(</span>Exception e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    log.error<span class="token punctuation">(</span><span class="token string">"处理 DeepSeek 请求时发生错误"</span>, e<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    emitter.completeWithError<span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> catch <span class="token punctuation">(</span>Exception e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                log.error<span class="token punctuation">(</span><span class="token string">"处理 DeepSeek 请求时发生错误"</span>, e<span class="token punctuation">)</span><span class="token punctuation">;</span>
                emitter.completeWithError<span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token builtin class-name">return</span> emitter<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="33_controller_157">
     </a>
     3.3 编写controller
    </h4>
    <pre><code class="prism language-bash">/**
 * DsController
 * @author senfel
 * @version <span class="token number">1.0</span>
 * @date <span class="token number">2025</span>/3/13 <span class="token number">17</span>:21
 */
@RestController
@RequestMapping<span class="token punctuation">(</span><span class="token string">"/deepSeek"</span><span class="token punctuation">)</span>
@Slf4j
public class DsController <span class="token punctuation">{<!-- --></span>
    @Resource
    private DsChatService dsChatService<span class="token punctuation">;</span>

    /**
     * chat page
     * @param modelAndView
     * @author senfel
     * @date <span class="token number">2025</span>/3/13 <span class="token number">17</span>:39
     * @return org.springframework.web.servlet.ModelAndView
     */
    @GetMapping<span class="token punctuation">(</span><span class="token punctuation">)</span>
    public ModelAndView chat<span class="token punctuation">(</span>ModelAndView modelAndView<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        modelAndView.setViewName<span class="token punctuation">(</span><span class="token string">"chat"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token builtin class-name">return</span> modelAndView<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    /**
     * chat
     * @param question
     * @author senfel
     * @date <span class="token number">2025</span>/3/13 <span class="token number">17</span>:39
     * @return org.springframework.web.servlet.mvc.method.annotation.SseEmitter
     */
    @PostMapping<span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/chat"</span>, produces <span class="token operator">=</span> MediaType.TEXT_EVENT_STREAM_VALUE<span class="token punctuation">)</span>
    public SseEmitter chat<span class="token punctuation">(</span>@RequestBody String question<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        //TODO 默认用户ID,实际场景从token获取
        String userId <span class="token operator">=</span> <span class="token string">"senfel"</span><span class="token punctuation">;</span>
        <span class="token builtin class-name">return</span> dsChatService.chat<span class="token punctuation">(</span>userId, question<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="34_chathtml_202">
     </a>
     3.4 编写前端界面chat.html
    </h4>
    <pre><code class="prism language-bash"><span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html <span class="token assign-left variable">lang</span><span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta <span class="token assign-left variable">charset</span><span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">"viewport"</span> <span class="token assign-left variable">content</span><span class="token operator">=</span><span class="token string">"width=device-width, initial-scale=1.0"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>DeepSeek Chat<span class="token operator">&lt;</span>/title<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script <span class="token assign-left variable">src</span><span class="token operator">=</span><span class="token string">"https://cdn.jsdelivr.net/npm/marked/marked.min.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
        :root <span class="token punctuation">{<!-- --></span>
            --primary-color: <span class="token comment">#5b8cff;</span>
            --user-bg: linear-gradient<span class="token punctuation">(</span>135deg, <span class="token comment">#5b8cff 0%, #3d6ef7 100%);</span>
            --bot-bg: linear-gradient<span class="token punctuation">(</span>135deg, <span class="token comment">#f0f8ff 0%, #e6f3ff 100%);</span>
            --shadow: <span class="token number">0</span> 4px 6px <span class="token parameter variable">-1px</span> rgba<span class="token punctuation">(</span><span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        body <span class="token punctuation">{<!-- --></span>
            font-family: <span class="token string">'Segoe UI'</span>, system-ui, -apple-system, sans-serif<span class="token punctuation">;</span>
            margin: <span class="token number">0</span><span class="token punctuation">;</span>
            padding: 20px<span class="token punctuation">;</span>
            display: flex<span class="token punctuation">;</span>
            justify-content: center<span class="token punctuation">;</span>
            min-height: 100vh<span class="token punctuation">;</span>
            background: linear-gradient<span class="token punctuation">(</span>135deg, <span class="token comment">#f8f9fa 0%, #e9ecef 100%);</span>
        <span class="token punctuation">}</span>
        .chat-container <span class="token punctuation">{<!-- --></span>
            width: <span class="token number">100</span>%<span class="token punctuation">;</span>
            max-width: 800px<span class="token punctuation">;</span>
            height: 90vh<span class="token punctuation">;</span>
            background: rgba<span class="token punctuation">(</span><span class="token number">255</span>, <span class="token number">255</span>, <span class="token number">255</span>, <span class="token number">0.95</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            border-radius: 20px<span class="token punctuation">;</span>
            box-shadow: var<span class="token punctuation">(</span>--shadow<span class="token punctuation">)</span><span class="token punctuation">;</span>
            backdrop-filter: blur<span class="token punctuation">(</span>10px<span class="token punctuation">)</span><span class="token punctuation">;</span>
            display: flex<span class="token punctuation">;</span>
            flex-direction: <span class="token function">column</span><span class="token punctuation">;</span>
            overflow: hidden<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        .chat-header <span class="token punctuation">{<!-- --></span>
            padding: 24px<span class="token punctuation">;</span>
            background: var<span class="token punctuation">(</span>--primary-color<span class="token punctuation">)</span><span class="token punctuation">;</span>
            color: white<span class="token punctuation">;</span>
            box-shadow: <span class="token number">0</span> 2px 8px rgba<span class="token punctuation">(</span><span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        .chat-header h1 <span class="token punctuation">{<!-- --></span>
            margin: <span class="token number">0</span><span class="token punctuation">;</span>
            font-size: <span class="token number">1</span>.8rem<span class="token punctuation">;</span>
            font-weight: <span class="token number">600</span><span class="token punctuation">;</span>
            letter-spacing: -0.5px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        .chat-messages <span class="token punctuation">{<!-- --></span>
            flex: <span class="token number">1</span><span class="token punctuation">;</span>
            padding: 20px<span class="token punctuation">;</span>
            overflow-y: auto<span class="token punctuation">;</span>
            display: flex<span class="token punctuation">;</span>
            flex-direction: <span class="token function">column</span><span class="token punctuation">;</span>
            gap: 12px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        .chat-message <span class="token punctuation">{<!-- --></span>
            max-width: <span class="token number">75</span>%<span class="token punctuation">;</span>
            padding: 16px 20px<span class="token punctuation">;</span>
            border-radius: 20px<span class="token punctuation">;</span>
            line-height: <span class="token number">1.5</span><span class="token punctuation">;</span>
            animation: messageAppear <span class="token number">0</span>.3s ease-out<span class="token punctuation">;</span>
            position: relative<span class="token punctuation">;</span>
            word-break: break-word<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        .chat-message.user <span class="token punctuation">{<!-- --></span>
            background: var<span class="token punctuation">(</span>--user-bg<span class="token punctuation">)</span><span class="token punctuation">;</span>
            color: white<span class="token punctuation">;</span>
            align-self: flex-end<span class="token punctuation">;</span>
            border-bottom-right-radius: 4px<span class="token punctuation">;</span>
            box-shadow: var<span class="token punctuation">(</span>--shadow<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        .chat-message.bot <span class="token punctuation">{<!-- --></span>
            background: var<span class="token punctuation">(</span>--bot-bg<span class="token punctuation">)</span><span class="token punctuation">;</span>
            color: <span class="token comment">#2d3748;</span>
            align-self: flex-start<span class="token punctuation">;</span>
            border-bottom-left-radius: 4px<span class="token punctuation">;</span>
            box-shadow: var<span class="token punctuation">(</span>--shadow<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        .chat-input <span class="token punctuation">{<!-- --></span>
            padding: 20px<span class="token punctuation">;</span>
            background: rgba<span class="token punctuation">(</span><span class="token number">255</span>, <span class="token number">255</span>, <span class="token number">255</span>, <span class="token number">0.9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            border-top: 1px solid rgba<span class="token punctuation">(</span><span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0.05</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            display: flex<span class="token punctuation">;</span>
            gap: 12px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        .chat-input input <span class="token punctuation">{<!-- --></span>
            flex: <span class="token number">1</span><span class="token punctuation">;</span>
            padding: 14px 20px<span class="token punctuation">;</span>
            border: 2px solid rgba<span class="token punctuation">(</span><span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            border-radius: 16px<span class="token punctuation">;</span>
            font-size: 1rem<span class="token punctuation">;</span>
            transition: all <span class="token number">0</span>.2s ease<span class="token punctuation">;</span>
            background: rgba<span class="token punctuation">(</span><span class="token number">255</span>, <span class="token number">255</span>, <span class="token number">255</span>, <span class="token number">0.8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        .chat-input input:focus <span class="token punctuation">{<!-- --></span>
            outline: none<span class="token punctuation">;</span>
            border-color: var<span class="token punctuation">(</span>--primary-color<span class="token punctuation">)</span><span class="token punctuation">;</span>
            box-shadow: <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> 3px rgba<span class="token punctuation">(</span><span class="token number">91</span>, <span class="token number">140</span>, <span class="token number">255</span>, <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        .chat-input button <span class="token punctuation">{<!-- --></span>
            padding: 12px 24px<span class="token punctuation">;</span>
            border: none<span class="token punctuation">;</span>
            border-radius: 16px<span class="token punctuation">;</span>
            background: var<span class="token punctuation">(</span>--primary-color<span class="token punctuation">)</span><span class="token punctuation">;</span>
            color: white<span class="token punctuation">;</span>
            font-size: 1rem<span class="token punctuation">;</span>
            font-weight: <span class="token number">500</span><span class="token punctuation">;</span>
            cursor: pointer<span class="token punctuation">;</span>
            transition: all <span class="token number">0</span>.2s ease<span class="token punctuation">;</span>
            display: flex<span class="token punctuation">;</span>
            align-items: center<span class="token punctuation">;</span>
            gap: 8px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        .chat-input button:hover <span class="token punctuation">{<!-- --></span>
            background: <span class="token comment">#406cff;</span>
            transform: translateY<span class="token punctuation">(</span>-1px<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        .chat-input button:disabled <span class="token punctuation">{<!-- --></span>
            background: <span class="token comment">#c2d1ff;</span>
            cursor: not-allowed<span class="token punctuation">;</span>
            transform: none<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        .chat-input button svg <span class="token punctuation">{<!-- --></span>
            width: 18px<span class="token punctuation">;</span>
            height: 18px<span class="token punctuation">;</span>
            fill: currentColor<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        @keyframes messageAppear <span class="token punctuation">{<!-- --></span>
            from <span class="token punctuation">{<!-- --></span>
                opacity: <span class="token number">0</span><span class="token punctuation">;</span>
                transform: translateY<span class="token punctuation">(</span>10px<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            to <span class="token punctuation">{<!-- --></span>
                opacity: <span class="token number">1</span><span class="token punctuation">;</span>
                transform: translateY<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        .typing-indicator <span class="token punctuation">{<!-- --></span>
            display: inline-flex<span class="token punctuation">;</span>
            gap: 6px<span class="token punctuation">;</span>
            padding: 12px 20px<span class="token punctuation">;</span>
            background: var<span class="token punctuation">(</span>--bot-bg<span class="token punctuation">)</span><span class="token punctuation">;</span>
            border-radius: 20px<span class="token punctuation">;</span>
            align-self: flex-start<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        .typing-dot <span class="token punctuation">{<!-- --></span>
            width: 8px<span class="token punctuation">;</span>
            height: 8px<span class="token punctuation">;</span>
            background: rgba<span class="token punctuation">(</span><span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            border-radius: <span class="token number">50</span>%<span class="token punctuation">;</span>
            animation: typing <span class="token number">1</span>.4s infinite ease-in-out<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        .typing-dot:nth-child<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            animation-delay: <span class="token number">0</span>.2s<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        .typing-dot:nth-child<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            animation-delay: <span class="token number">0</span>.4s<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        @keyframes typing <span class="token punctuation">{<!-- --></span>
            <span class="token number">0</span>%,
            <span class="token number">100</span>% <span class="token punctuation">{<!-- --></span>
                transform: translateY<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token number">50</span>% <span class="token punctuation">{<!-- --></span>
                transform: translateY<span class="token punctuation">(</span>-4px<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        @media <span class="token punctuation">(</span>max-width: 640px<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            body <span class="token punctuation">{<!-- --></span>
                padding: 10px<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            .chat-container <span class="token punctuation">{<!-- --></span>
                height: 95vh<span class="token punctuation">;</span>
                border-radius: 16px<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            .chat-message <span class="token punctuation">{<!-- --></span>
                max-width: <span class="token number">85</span>%<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span>/style<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"chat-container"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"chat-header"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>DeepSeek Chat<span class="token operator">&lt;</span>/h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>
    <span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"chat-messages"</span> <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">"chatMessages"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"chat-input"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input <span class="token assign-left variable">type</span><span class="token operator">=</span><span class="token string">"text"</span> <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">"questionInput"</span> <span class="token assign-left variable">placeholder</span><span class="token operator">=</span><span class="token string">"输入消息..."</span> <span class="token assign-left variable">onkeydown</span><span class="token operator">=</span><span class="token string">"handleKeyDown(event)"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">"sendButton"</span> disabled<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>svg <span class="token assign-left variable">viewBox</span><span class="token operator">=</span><span class="token string">"0 0 24 24"</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>path <span class="token assign-left variable">d</span><span class="token operator">=</span><span class="token string">"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"</span> /<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>/svg<span class="token operator">&gt;</span>
            发送
        <span class="token operator">&lt;</span>/button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    const questionInput <span class="token operator">=</span> document.getElementById<span class="token punctuation">(</span><span class="token string">'questionInput'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    const sendButton <span class="token operator">=</span> document.getElementById<span class="token punctuation">(</span><span class="token string">'sendButton'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    const chatMessages <span class="token operator">=</span> document.getElementById<span class="token punctuation">(</span><span class="token string">'chatMessages'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin class-name">let</span> isBotResponding <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    // 输入验证
    questionInput.addEventListener<span class="token punctuation">(</span><span class="token string">'input'</span>, <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
        sendButton.disabled <span class="token operator">=</span> questionInput.value.trim<span class="token punctuation">(</span><span class="token punctuation">)</span>.length <span class="token operator">==</span><span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    // 回车发送
    <span class="token keyword">function</span> handleKeyDown<span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>e.key <span class="token operator">==</span><span class="token operator">=</span> <span class="token string">'Enter'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>sendButton.disabled <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>isBotResponding<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            sendButton.click<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    // 修改后的消息处理逻辑
    <span class="token builtin class-name">let</span> currentBotMessage <span class="token operator">=</span> null<span class="token punctuation">;</span> // 当前正在更新的AI消息
    async <span class="token keyword">function</span> handleBotResponse<span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        const reader <span class="token operator">=</span> response.body.getReader<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        const decoder <span class="token operator">=</span> new TextDecoder<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token builtin class-name">let</span> buffer <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
        currentBotMessage <span class="token operator">=</span> displayMessage<span class="token punctuation">(</span><span class="token string">'bot'</span>, <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        try <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>true<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                const <span class="token punctuation">{<!-- --></span> done, value <span class="token punctuation">}</span> <span class="token operator">=</span> await reader.read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>done<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    // 处理最后剩余的数据
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>buffer<span class="token punctuation">)</span> processLine<span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token builtin class-name">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                buffer <span class="token operator">+=</span> decoder.decode<span class="token punctuation">(</span>value, <span class="token punctuation">{<!-- --></span> stream: <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                const lines <span class="token operator">=</span> buffer.split<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                // 保留未完成的行在缓冲区
                buffer <span class="token operator">=</span> lines.pop<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>
                lines.forEach<span class="token punctuation">(</span>line <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>line.startsWith<span class="token punctuation">(</span><span class="token string">'data:'</span><span class="token punctuation">))</span> <span class="token punctuation">{<!-- --></span>
                        const data <span class="token operator">=</span> line.replace<span class="token punctuation">(</span>/^data:<span class="token punctuation">\</span>s*/g, <span class="token string">''</span><span class="token punctuation">)</span>.trim<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">==</span><span class="token operator">=</span> <span class="token string">'[DONE]'</span><span class="token punctuation">)</span> <span class="token builtin class-name">return</span><span class="token punctuation">;</span>
                        currentBotMessage.textContent <span class="token operator">+=</span> data<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                chatMessages.scrollTop <span class="token operator">=</span> chatMessages.scrollHeight<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> finally <span class="token punctuation">{<!-- --></span>
            currentBotMessage <span class="token operator">=</span> null<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    // 发送逻辑
    sendButton.addEventListener<span class="token punctuation">(</span><span class="token string">'click'</span>, async <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>isBotResponding<span class="token punctuation">)</span> <span class="token builtin class-name">return</span><span class="token punctuation">;</span>

        const question <span class="token operator">=</span> questionInput.value.trim<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>question<span class="token punctuation">)</span> <span class="token builtin class-name">return</span><span class="token punctuation">;</span>

        questionInput.value <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
        sendButton.disabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        isBotResponding <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        // 显示用户消息（新消息始终出现在下方）
        displayMessage<span class="token punctuation">(</span><span class="token string">'user'</span>, question<span class="token punctuation">)</span><span class="token punctuation">;</span>
        try <span class="token punctuation">{<!-- --></span>
            // 显示加载状态
            const typingIndicator <span class="token operator">=</span> createTypingIndicator<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            const response <span class="token operator">=</span> await fetch<span class="token punctuation">(</span><span class="token string">'/deepSeek/chat'</span>, <span class="token punctuation">{<!-- --></span>
                method: <span class="token string">'POST'</span>,
                headers: <span class="token punctuation">{<!-- --></span>
                    <span class="token string">'Content-Type'</span><span class="token builtin class-name">:</span> <span class="token string">'application/json'</span>,
                    <span class="token string">'Accept'</span><span class="token builtin class-name">:</span> <span class="token string">'text/event-stream'</span>
                <span class="token punctuation">}</span>,
                body: JSON.stringify<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> question <span class="token punctuation">}</span><span class="token punctuation">)</span>,
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            typingIndicator.remove<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            await handleBotResponse<span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span> // 处理流式响应
        <span class="token punctuation">}</span> catch <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            displayMessage<span class="token punctuation">(</span><span class="token string">'bot'</span>, <span class="token string">'暂时无法处理您的请求，请稍后再试'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> finally <span class="token punctuation">{<!-- --></span>
            isBotResponding <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            questionInput.focus<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    // 创建消息元素
    <span class="token keyword">function</span> displayMessage<span class="token punctuation">(</span>sender, content<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        const messageDiv <span class="token operator">=</span> document.createElement<span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        messageDiv.className <span class="token operator">=</span> <span class="token variable"><span class="token variable">`</span>chat-message $<span class="token punctuation">{<!-- --></span>sender<span class="token punctuation">}</span><span class="token variable">`</span></span><span class="token punctuation">;</span>
        messageDiv.textContent <span class="token operator">=</span> content<span class="token punctuation">;</span>
        chatMessages.appendChild<span class="token punctuation">(</span>messageDiv<span class="token punctuation">)</span><span class="token punctuation">;</span>
        chatMessages.scrollTop <span class="token operator">=</span> chatMessages.scrollHeight<span class="token punctuation">;</span>
        <span class="token builtin class-name">return</span> messageDiv<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    // 创建输入指示器
    <span class="token keyword">function</span> <span class="token function-name function">createTypingIndicator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        const container <span class="token operator">=</span> document.createElement<span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        container.className <span class="token operator">=</span> <span class="token string">'typing-indicator'</span><span class="token punctuation">;</span>
        container.innerHTML <span class="token operator">=</span> <span class="token variable"><span class="token variable">`</span>
                <span class="token operator">&lt;</span>div <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"typing-dot"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"typing-dot"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"typing-dot"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
            <span class="token variable">`</span></span><span class="token punctuation">;</span>
        chatMessages.appendChild<span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">;</span>
        chatMessages.scrollTop <span class="token operator">=</span> chatMessages.scrollHeight<span class="token punctuation">;</span>
        <span class="token builtin class-name">return</span> container<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/html<span class="token operator">&gt;</span>
</code></pre>
    <h4>
     <a id="35__510">
     </a>
     3.5 测试
    </h4>
    <ul>
     <li>
      启动项目,访问 http://localhost:9999/deepSeek 即可出现页面,开始对话即可
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/7b853d084b844daba9d6478b1ff4ad71.png"/>
     </li>
    </ul>
    <h3>
     <a id="_515">
     </a>
     总结
    </h3>
    <p>
     通过本文，我们详细介绍了如何在Spring Boot项目中接入DeepSeek深度求索。从准备工作到实现搜索和推荐功能，再到处理异常，我们一步一步地完成了整个接入过程。希望本文能够帮助您快速上手并充分利用DeepSeek的强大功能。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f33393937303838332f:61727469636c652f64657461696c732f313436323538383133" class_="artid" style="display:none">
 </p>
</div>


