---
layout: post
title: "C-STL-容器详解pair-学习"
date: 2025-03-12 15:30:12 +0800
description: "/ 默认构造函数// 带参数的构造函数// 使用make_pair函数//auto 自动识别类型pair<int, string>#include <utility> // 包含 pairreturn 0;pair是 C++ STL 中存储两个相关值的简单工具，可广泛用于映射、排序、返回多个值等场景。掌握pair及其 STL 结合使用方式，可以提高代码的简洁性和可读性！pair最常见的用途是存储键值对。例如，在map和中，每个元素都是一个pair，其中first是键，"
keywords: "【C++ STL】 容器详解：pair 学习"
categories: ['Stl', 'C']
tags: ['数据结构', '开发语言', '学习', 'C']
artid: "146206075"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146206075
    alt: "C-STL-容器详解pair-学习"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146206075
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146206075
cover: https://bing.ee123.net/img/rand?artid=146206075
image: https://bing.ee123.net/img/rand?artid=146206075
img: https://bing.ee123.net/img/rand?artid=146206075
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【C++ STL】 容器详解：pair 学习
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     在 C++ STL（标准模板库）中，
     <code>
      pair
     </code>
     是一个
     <strong>
      简单的键值对数据结构
     </strong>
     ，用于存储
     <strong>
      两个相关联的值
     </strong>
     ，将两个值组合成一个单元，可以是相同或不同类型。它常用于
     <strong>
      返回多个值、存储映射关系、排序
     </strong>
     等场景。
    </p>
    <p>
    </p>
    <h3>
     1.
     <code>
      pair
     </code>
     的基本特点
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        存储两个值
       </strong>
       ，可以是不同类型。
      </p>
     </li>
     <li>
      <p>
       <strong>
        支持比较运算
       </strong>
       （按
       <strong>
        第一个元素
       </strong>
       比较，若相同则比较第二个元素）。
      </p>
     </li>
     <li>
      <p>
       <strong>
        适用于存储键值对或返回多个值
       </strong>
       。
      </p>
     </li>
    </ul>
    <h3>
     2.
     <code>
      pair
     </code>
     的基本用法
    </h3>
    <h4>
     2.1
     <code>
      pair
     </code>
     的定义与初始化
    </h4>
    <pre><code class="language-cpp">// 默认构造函数
pair&lt;int, string&gt; p1;

// 带参数的构造函数
pair&lt;int, string&gt; p2(10, "Hello");

// 使用make_pair函数
auto p3 = make_pair(20, "World");
//auto 自动识别类型pair&lt;int, string&gt;</code></pre>
    <pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;utility&gt;  // 包含 pair
using namespace std;

int main() {
    pair&lt;int, string&gt; p1(1, "Apple");
    pair&lt;int, string&gt; p2 = {2, "Banana"};
    
    cout &lt;&lt; "p1: (" &lt;&lt; p1.first &lt;&lt; ", " &lt;&lt; p1.second &lt;&lt; ")\n";
    scout &lt;&lt; "p2: (" &lt;&lt; p2.first &lt;&lt; ", " &lt;&lt; p2.second &lt;&lt; ")\n";
    
    return 0;
}</code></pre>
    <p>
     <strong>
      输出：
     </strong>
    </p>
    <pre><code>p1: (1, Apple)
p2: (2, Banana)</code></pre>
    <h6>
     pair的内部实现
    </h6>
    <p>
     <code>
      pair
     </code>
     的实现非常简单，它是一个结构体模板，包含两个公有成员
     <code>
      first
     </code>
     和
     <code>
      second
     </code>
     。以下是
     <code>
      pair
     </code>
     的简化实现：
    </p>
    <pre><code class="language-cpp">template &lt;class T1, class T2&gt;
struct pair {
    T1 first;
    T2 second;

    // 默认构造函数
    pair() : first(T1()), second(T2()) {}

    // 带参数的构造函数
    pair(const T1&amp; x, const T2&amp; y) : first(x), second(y) {}

    // 拷贝构造函数
    template &lt;class U1, class U2&gt;
    pair(const pair&lt;U1, U2&gt;&amp; p) : first(p.first), second(p.second) {}
};</code></pre>
    <p>
    </p>
    <h4>
     2.2 访问
     <code>
      pair
     </code>
     的元素
    </h4>
    <p>
     <code>
      pair
     </code>
     的
     <strong>
      成员
      <code>
       first
      </code>
      和
     </strong>
     <code>
      <strong>
       second
      </strong>
     </code>
     可以直接访问
    </p>
    <pre><code class="language-cpp">cout &lt;&lt; p1.first &lt;&lt; " " &lt;&lt; p1.second &lt;&lt; endl;</code></pre>
    <h4>
     2.3 使用
     <code>
      make_pair()
     </code>
     进行初始化
    </h4>
    <pre><code class="language-cpp">pair&lt;int, double&gt; p = make_pair(10, 3.14);</code></pre>
    <h3>
     3.
     <code>
      pair
     </code>
     在 STL 容器中的应用
    </h3>
    <h4>
     3.1
     <code>
      pair
     </code>
     作为
     <code>
      map
     </code>
     的元素
    </h4>
    <pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;map&gt;
using namespace std;

int main() {
    map&lt;int, string&gt; mp;
    mp.insert(pair&lt;int, string&gt;(1, "One"));
    mp.insert(make_pair(2, "Two"));
    
    for (auto &amp;p : mp) {
        cout &lt;&lt; p.first &lt;&lt; ": " &lt;&lt; p.second &lt;&lt; endl;
    }
    return 0;
}</code></pre>
    <h4>
     3.2
     <code>
      pair
     </code>
     作为
     <code>
      vector
     </code>
     的元素
    </h4>
    <pre><code>#include &lt;iostream&gt;
#include &lt;vector&gt;
using namespace std;

int main() {
    vector&lt;pair&lt;int, string&gt;&gt; v;
    v.push_back({1, "Alice"});
    v.push_back({2, "Bob"});
    
    for (auto &amp;p : v) {
        cout &lt;&lt; p.first &lt;&lt; " " &lt;&lt; p.second &lt;&lt; endl;
    }
    return 0;
}</code></pre>
    <h4>
     3.3 返回多个值
    </h4>
    <p>
     当函数需要返回多个值时，可以使用
     <code>
      pair
     </code>
     。例如，一个函数可以返回一个
     <code>
      pair
     </code>
     ，其中包含计算结果和状态信息。
    </p>
    <p>
    </p>
    <pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;utility&gt;
using namespace std;

pair&lt;int, bool&gt; divide(int a, int b) {
    if (b == 0) {
        return make_pair(0, false);  // 返回错误状态
    }
    return make_pair(a / b, true);  // 返回结果和成功状态
}

int main() {
    auto result = divide(10, 2);
    if (result.second) {
        cout &lt;&lt; "Result: " &lt;&lt; result.first &lt;&lt; endl;
    } else {
        cout &lt;&lt; "Error: Division by zero" &lt;&lt; endl;
    }
    return 0;
}</code></pre>
    <p>
     输出：
    </p>
    <pre><code class="language-cpp">Result: 5</code></pre>
    <h4>
     3.4 作为容器元素
    </h4>
    <p>
     <code>
      pair
     </code>
     可以作为容器的元素，例如
     <code>
      vector&lt;pair&lt;int, int&gt;&gt;
     </code>
     ，用于存储一组相关联的值。
    </p>
    <p>
    </p>
    <pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
using namespace std;

int main() {
    vector&lt;pair&lt;int, int&gt;&gt; vec;
    vec.push_back(make_pair(1, 10));
    vec.push_back(make_pair(2, 20));

    for (const auto&amp; p : vec) {
        cout &lt;&lt; "First: " &lt;&lt; p.first &lt;&lt; ", Second: " &lt;&lt; p.second &lt;&lt; endl;
    }
    return 0;
}

//First: 1, Second: 10
//First: 2, Second: 20</code></pre>
    <p>
    </p>
    <h3>
     4.
     <code>
      pair
     </code>
     的比较规则
    </h3>
    <p>
     <code>
      pair
     </code>
     按
     <strong>
      字典序
     </strong>
     进行比较：
     <code>
      pair
     </code>
     支持比较操作（
     <code>
      ==
     </code>
     ,
     <code>
      !=
     </code>
     ,
     <code>
      &lt;
     </code>
     ,
     <code>
      &lt;=
     </code>
     ,
     <code>
      &gt;
     </code>
     ,
     <code>
      &gt;=
     </code>
     ）。
    </p>
    <ol>
     <li>
      <p>
       先比较
       <code>
        first
       </code>
       ，小者优先。
      </p>
     </li>
     <li>
      <p>
       若
       <code>
        first
       </code>
       相等，则比较
       <code>
        second
       </code>
       。
      </p>
     </li>
    </ol>
    <p>
     示例：
    </p>
    <pre><code class="language-cpp">pair&lt;int, int&gt; a = {1, 5};
pair&lt;int, int&gt; b = {1, 3};
if (a &gt; b) {
    cout &lt;&lt; "a 更大" &lt;&lt; endl;
} else {
    cout &lt;&lt; "b 更大" &lt;&lt; endl;
}</code></pre>
    <p>
     <strong>
      输出：
     </strong>
    </p>
    <pre><code class="language-cpp">a 更大</code></pre>
    <h3>
     5.
     <code>
      pair
     </code>
     与
     <code>
      tuple
     </code>
     的区别
    </h3>
    <table>
     <tbody>
      <tr>
       <th>
        特性
       </th>
       <th>
        <code>
         pair
        </code>
       </th>
       <th>
        <code>
         tuple
        </code>
       </th>
      </tr>
      <tr>
       <td>
        <strong>
         元素个数
        </strong>
       </td>
       <td>
        2
       </td>
       <td>
        任意个
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         访问方式
        </strong>
       </td>
       <td>
        <code>
         .first
        </code>
        <code>
         .second
        </code>
       </td>
       <td>
        <code>
         get&lt;n&gt;(tuple)
        </code>
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         适用场景
        </strong>
       </td>
       <td>
        键值对、映射关系
       </td>
       <td>
        多个不同类型的数据
       </td>
      </tr>
     </tbody>
    </table>
    <h3>
     6. 总结
    </h3>
    <p>
     <code>
      pair
     </code>
     是 C++ STL 中
     <strong>
      存储两个相关值的简单工具
     </strong>
     ，可广泛用于
     <strong>
      映射、排序、返回多个值
     </strong>
     等场景。掌握
     <code>
      pair
     </code>
     及其 STL 结合使用方式，可以提高代码的
     <strong>
      简洁性
     </strong>
     和
     <strong>
      可读性
     </strong>
     ！
    </p>
    <blockquote>
     <p>
      <code>
       pair
      </code>
      最常见的用途是存储键值对。例如，在
      <code>
       map
      </code>
      和
      <code>
       unordered_map
      </code>
      中，每个元素都是一个
      <code>
       pair
      </code>
      ，其中
      <code>
       first
      </code>
      是键，
      <code>
       second
      </code>
      是值。
     </p>
     <pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;map&gt;
using namespace std;

int main() {
    map&lt;int, string&gt; myMap;
    myMap.insert(make_pair(1, "Apple"));
    myMap.insert(make_pair(2, "Banana"));

    for (const auto&amp; p : myMap) {
        cout &lt;&lt; "Key: " &lt;&lt; p.first &lt;&lt; ", Value: " &lt;&lt; p.second &lt;&lt; endl;
    }
    return 0;
}</code></pre>
     <pre><code class="language-cpp">Key: 1, Value: Apple
Key: 2, Value: Banana</code></pre>
     <p>
     </p>
    </blockquote>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a:2f2f626c6f672e6373646e2e6e65742f4b696e675f6c78682f:61727469636c652f64657461696c732f313436323036303735" class_="artid" style="display:none">
 </p>
</div>


