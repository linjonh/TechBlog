---
layout: post
title: "å…­åå¤©å‰ç«¯å¼ºåŒ–è®­ç»ƒä¹‹ç¬¬äºŒåå¤©React-Router-åŸºç¡€è¯¦è§£"
date: 2025-03-15 14:08:02 +0800
description: "é€šè¿‡æœ¬æ•™ç¨‹ï¼Œå¤§å®¶å¯ä»¥æŒæ¡React Routerçš„æ ¸å¿ƒç”¨æ³•ï¼Œå»ºè®®ç»“åˆå®˜æ–¹æ–‡æ¡£å’Œå®é™…é¡¹ç›®è¿›è¡Œå®è·µç»ƒä¹ ã€‚è·¯ç”±é…ç½®éœ€ç‰¹åˆ«æ³¨æ„ç»„ä»¶å±‚çº§å’ŒåŒ¹é…é¡ºåºï¼ŒåŠ¨æ€è·¯ç”±å‚æ•°å¤„ç†è¦è€ƒè™‘è¾¹ç•Œæƒ…å†µï¼ŒåµŒå¥—è·¯ç”±æ˜¯å®ç°å¤æ‚å¸ƒå±€çš„åˆ©å™¨ã€‚"
keywords: "å…­åå¤©å‰ç«¯å¼ºåŒ–è®­ç»ƒä¹‹ç¬¬äºŒåå¤©React Router åŸºç¡€è¯¦è§£"
categories: ['å‰ç«¯']
tags: ['åŸºç¡€', 'å‰ç«¯æ¡†æ¶', 'å‰ç«¯', 'Router', 'React', 'React']
artid: "146276411"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146276411
    alt: "å…­åå¤©å‰ç«¯å¼ºåŒ–è®­ç»ƒä¹‹ç¬¬äºŒåå¤©React-Router-åŸºç¡€è¯¦è§£"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146276411
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146276411
cover: https://bing.ee123.net/img/rand?artid=146276411
image: https://bing.ee123.net/img/rand?artid=146276411
img: https://bing.ee123.net/img/rand?artid=146276411
---

# å…­åå¤©å‰ç«¯å¼ºåŒ–è®­ç»ƒä¹‹ç¬¬äºŒåå¤©React Router åŸºç¡€è¯¦è§£

=====æ¬¢è¿æ¥åˆ°ç¼–ç¨‹æ˜Ÿè¾°æµ·çš„åšå®¢è®²è§£======

######
![](https://i-blog.csdnimg.cn/direct/2dd1d490b90e4ae3be835624605f4b3c.jpeg)

çœ‹å®Œå¯ä»¥ç»™ä¸€ä¸ªå…è´¹çš„ä¸‰è¿å—ï¼Œè°¢è°¢å¤§ä½¬ï¼

![](https://i-blog.csdnimg.cn/direct/784c0a0edd15436a815717ac5cc00a75.gif)

* * *

### ä¸€ã€æ ¸å¿ƒæ¦‚å¿µ

React Router æ˜¯ React ç”Ÿæ€ä¸­æœ€æµè¡Œçš„è·¯ç”±è§£å†³æ–¹æ¡ˆï¼Œæä¾›å£°æ˜å¼çš„è·¯ç”±é…ç½®å’Œå¯¼èˆªåŠŸèƒ½ï¼ŒåŒ…å«ä¸‰ä¸ªæ ¸å¿ƒåŒ…ï¼š

  1. **react-router** ï¼šè·¯ç”±æ ¸å¿ƒåº“
  2. **react-router-dom** ï¼šWeb ä¸“ç”¨è·¯ç”±åº“
  3. **react-router-native** ï¼šReact Native ä¸“ç”¨è·¯ç”±

#### 1.1 æ ¸å¿ƒç»„ä»¶

ç»„ä»¶| ä½œç”¨æè¿°| é‡è¦å±æ€§  
---|---|---  
`<BrowserRouter>`| HTML5 history æ¨¡å¼è·¯ç”±å®¹å™¨| basename  
`<Routes>`| è·¯ç”±åŒ¹é…å®¹å™¨ç»„ä»¶| -  
`<Route>`| å®šä¹‰è·¯ç”±æ˜ å°„è§„åˆ™| path, element  
`<Link>`| å£°æ˜å¼å¯¼èˆªç»„ä»¶| to, state  
`<NavLink>`| å¸¦æ¿€æ´»çŠ¶æ€çš„ Link| className, style  
`<Navigate>`| ç¼–ç¨‹å¼å¯¼èˆªç»„ä»¶| to, replace  
`<Outlet>`| åµŒå¥—è·¯ç”±å ä½ç¬¦| -  
  
#### 1.2 è·¯ç”±æ¨¡å¼å¯¹æ¯”

JAVASCRIPT

>
>     // 1. BrowserRouterï¼ˆæ¨èï¼‰
>     https://example.com/about
>  
>     // 2. HashRouterï¼ˆå…¼å®¹æ—§æµè§ˆå™¨ï¼‰
>     https://example.com/#/about
>  

### äºŒã€æ ¸å¿ƒä»£ç ç¤ºä¾‹

#### 2.1 åŸºç¡€è·¯ç”±é…ç½®

JSX

>
>     // App.js
>     import {
>       BrowserRouter,
>       Routes,
>       Route,
>       Link,
>       Outlet
>     } from 'react-router-dom';
>  
>     // é¡µé¢ç»„ä»¶
>     function Home() { return <h2>é¦–é¡µ</h2> }
>     function About() { return <h2>å…³äºæˆ‘ä»¬</h2> }
>  
>     function App() {
>       return (
>         <BrowserRouter>
>           <nav>
>             <Link to="/">é¦–é¡µ</Link>
>             <Link to="/about">å…³äº</Link>
>           </nav>
>  
>           <Routes>
>             <Route path="/" element={<Home />} />
>             <Route path="/about" element={<About />} />
>           </Routes>
>         </BrowserRouter>
>       );
>     }
>  

#### 2.2 åŠ¨æ€è·¯ç”±ç¤ºä¾‹

JSX

>
>     // äº§å“è¯¦æƒ…é¡µ
>     function ProductDetail() {
>       const { id } = useParams();
>       return <h2>äº§å“ID: {id}</h2>;
>     }
>  
>     // è·¯ç”±é…ç½®
>     <Routes>
>       <Route path="/products/:id" element={<ProductDetail />} />
>     </Routes>
>  

#### 2.3 åµŒå¥—è·¯ç”±å®ç°

JSX

>
>     // ç”¨æˆ·æ¨¡å—å¸ƒå±€
>     function UserLayout() {
>       return (
>         <div>
>           <h3>ç”¨æˆ·ä¸­å¿ƒ</h3>
>           <Outlet />  {/* å­è·¯ç”±æ¸²æŸ“ä½ç½® */}
>         </div>
>       );
>     }
>  
>     // è·¯ç”±é…ç½®
>     <Route path="/user" element={<UserLayout />}>
>       <Route index element={<Dashboard />} />
>       <Route path="profile" element={<Profile />} />
>       <Route path="orders" element={<OrderList />} />
>     </Route>
>  

#### 2.4 å®Œæ•´ç¤ºä¾‹ä»£ç 

JSX

>
>     import React from 'react';
>     import {
>       BrowserRouter,
>       Routes,
>       Route,
>       Link,
>       useParams,
>       Navigate
>     } from 'react-router-dom';
>  
>     // é¡µé¢ç»„ä»¶
>     function Home() { return <h2>é¦–é¡µ</h2> }
>     function About() { return <h2>å…³äºæˆ‘ä»¬</h2> }
>     function ProductList() {
>       return (
>         <div>
>           <h2>äº§å“åˆ—è¡¨</h2>
>           <ul>
>             {[1,2,3].map(id => (
>               <li key={id}>
>                 <Link to={`/products/${id}`}>äº§å“{id}</Link>
>               </li>
>             ))}
>           </ul>
>         </div>
>       );
>     }
>     function ProductDetail() {
>       const { id } = useParams();
>       return <h2>äº§å“è¯¦æƒ…ï¼š{id}</h2>;
>     }
>     function NotFound() { return <h2>404 é¡µé¢ä¸å­˜åœ¨</h2> }
>  
>     function App() {
>       return (
>         <BrowserRouter>
>           <nav style={{ padding: 20, background: '#eee' }}>
>             <Link to="/" style={{ marginRight: 20 }}>é¦–é¡µ</Link>
>             <Link to="/about" style={{ marginRight: 20 }}>å…³äº</Link>
>             <Link to="/products">äº§å“ä¸­å¿ƒ</Link>
>           </nav>
>  
>           <Routes>
>             <Route path="/" element={<Home />} />
>             <Route path="/about" element={<About />} />
>             <Route path="/products" element={<ProductList />} />
>             <Route path="/products/:id" element={<ProductDetail />} />
>             <Route path="/old-about" element={<Navigate to="/about" replace
> />} />
>             <Route path="*" element={<NotFound />} />
>           </Routes>
>         </BrowserRouter>
>       );
>     }
>  
>     export default App;
>  

### ä¸‰ã€å…³é”®åŠŸèƒ½å®ç°æ•ˆæœ

è¿™é‡Œæˆ‘è¿˜å­˜åœ¨é—®é¢˜ï¼Œå…ˆç»™å¤§å®¶æ”¾å¤§æ¦‚å›¾çœ‹çœ‹ï¼Œåˆ°æ—¶å€™æˆ‘è¿˜è¦å†è¯•è¯•

[é¦–é¡µ] [å…³äº] [äº§å“] [ç”¨æˆ·ä¸­å¿ƒ] [é”™è¯¯é“¾æ¥]  
---  
ğŸ  é¦–é¡µ  
æ¬¢è¿æ¥åˆ°ç½‘ç«™ä¸»é¡µ  
OR  
ğŸ“¦ äº§å“åˆ—è¡¨  
â€¢ äº§å“ A  
â€¢ äº§å“ B  
â€¢ äº§å“ C  
OR  
ğŸ‘¤ ç”¨æˆ·ä¸­å¿ƒ  
[ä»ªè¡¨ç›˜] [ä¸ªäººèµ„æ–™]  
ğŸ“Š ç”¨æˆ·ä»ªè¡¨ç›˜  
OR  
â›” 404 é¡µé¢æœªæ‰¾åˆ°  
è¯·æ£€æŸ¥æ‚¨è®¿é—®çš„URLæ˜¯å¦æ­£ç¡®  
  
  1. åŸºç¡€å¯¼èˆªåˆ‡æ¢
  2. åŠ¨æ€è·¯ç”±å‚æ•°å±•ç¤º
  3. åµŒå¥—è·¯ç”±å±‚çº§æ˜¾ç¤º
  4. ç¼–ç¨‹å¼å¯¼èˆªè·³è½¬
  5. 404é¡µé¢å¤„ç†

### å››ã€å­¦ä¹ è¦ç‚¹æ€»ç»“

#### 4.1 æ ¸å¿ƒæ¦‚å¿µ

  1. è·¯ç”±é…ç½®å¿…é¡»åŒ…è£¹åœ¨`<BrowserRouter>`ä¸­
  2. `<Routes>`è‡ªåŠ¨é€‰æ‹©æœ€ä½³åŒ¹é…è·¯ç”±
  3. `element`å±æ€§æ¥æ”¶Reactç»„ä»¶ï¼ˆv6æ–°ç‰¹æ€§ï¼‰
  4. åŠ¨æ€å‚æ•°ä½¿ç”¨`:paramName`è¯­æ³•
  5. ç´¢å¼•è·¯ç”±ä½¿ç”¨`index`å±æ€§æ ‡è®°

#### 4.2 æœ€ä½³å®è·µ

  1. ä½¿ç”¨`<Link>`ä»£æ›¿`<a>`æ ‡ç­¾é¿å…é¡µé¢åˆ·æ–°
  2. åµŒå¥—è·¯ç”±é…åˆ`<Outlet>`å®ç°å¸ƒå±€å¤ç”¨
  3. `useNavigate`å®ç°ç¼–ç¨‹å¼å¯¼èˆª
  4. `useLocation`è·å–è·¯ç”±çŠ¶æ€ä¿¡æ¯
  5. `loader`å’Œ`action`å¤„ç†æ•°æ®åŠ è½½ï¼ˆv6.4+ï¼‰

#### 4.3 å¸¸è§é—®é¢˜

JAVASCRIPT

>
>     // é”™è¯¯ï¼šç›´æ¥ä½¿ç”¨<a>æ ‡ç­¾
>     <a href="/about">å…³äº</a> âŒ
>  
>     // æ­£ç¡®ï¼šä½¿ç”¨Linkç»„ä»¶
>     <Link to="/about">å…³äº</Link> âœ…
>  
>     // è·¯ç”±åŒ¹é…ä¼˜å…ˆçº§é—®é¢˜
>     <Route path="users/:id" />
>     <Route path="users/new" /> âŒ é¡ºåºé”™è¯¯
>  
>     // æ­£ç¡®é¡ºåº
>     <Route path="users/new" />
>     <Route path="users/:id" /> âœ…
>  

### äº”ã€æ‰©å±•é˜…è¯»æ¨è

#### 5.1 å®˜æ–¹èµ„æº

  1. [React Router å®˜æ–¹æ–‡æ¡£](https://reactrouter.com/ "React Router å®˜æ–¹æ–‡æ¡£")
  2. [GitHub ä»“åº“](https://github.com/remix-run/react-router "GitHub ä»“åº“")
  3. [å®˜æ–¹ç¤ºä¾‹é›†åˆ](https://github.com/remix-run/react-router/tree/main/examples "å®˜æ–¹ç¤ºä¾‹é›†åˆ")

#### 5.2 ä¼˜è´¨æ–‡ç« 

  1. [React Router v6 å®Œå…¨æŒ‡å—](https://www.freecodecamp.org/news/react-router-version-6/ "React Router v6 å®Œå…¨æŒ‡å—")
  2. [æ·±åº¦è§£æè·¯ç”±é‰´æƒæ–¹æ¡ˆ](https://ui.dev/react-router-protected-routes-authentication "æ·±åº¦è§£æè·¯ç”±é‰´æƒæ–¹æ¡ˆ")
  3. [è·¯ç”±æ‡’åŠ è½½æœ€ä½³å®è·µ](https://blog.logrocket.com/lazy-loading-components-react-react-router/ "è·¯ç”±æ‡’åŠ è½½æœ€ä½³å®è·µ")

#### 5.3 è§†é¢‘æ•™ç¨‹

  1. [React Router v6 å®˜æ–¹æ•™å­¦è§†é¢‘](https://www.youtube.com/watch?v=nDGA3km5He4 "React Router v6 å®˜æ–¹æ•™å­¦è§†é¢‘")
  2. [å…¨æ ˆè·¯ç”±é…ç½®æŒ‡å—](https://frontendmasters.com/courses/react-router-v6/ "å…¨æ ˆè·¯ç”±é…ç½®æŒ‡å—")
  3. [å®æˆ˜ç”µå•†ç½‘ç«™è·¯ç”±è®¾è®¡](https://scrimba.com/learn/reactrouter "å®æˆ˜ç”µå•†ç½‘ç«™è·¯ç”±è®¾è®¡")

### å…­ã€å®è·µæ¡ˆä¾‹ï¼šç”µå•†ç½‘ç«™è·¯ç”±è®¾è®¡

JSX

>
>     // routes.js
>     const routes = [
>       {
>         path: '/',
>         element: <MainLayout />,
>         children: [
>           { index: true, element: <HomePage /> },
>           { path: 'products', element: <ProductListPage /> },
>           { path: 'products/:slug', element: <ProductDetailPage /> },
>           { path: 'cart', element: <CartPage /> },
>           {
>             path: 'dashboard',
>             element: <RequireAuth><DashboardLayout /></RequireAuth>,
>             children: [
>               { index: true, element: <OrderHistory /> },
>               { path: 'settings', element: <AccountSettings /> }
>             ]
>           },
>           { path: '*', element: <NotFoundPage /> }
>         ]
>       }
>     ];
>  
>     // è·¯ç”±å®ˆå«ç»„ä»¶
>     function RequireAuth({ children }) {
>       const auth = useAuth();
>       const location = useLocation();
>  
>       if (!auth.user) {
>         return <Navigate to="/login" state={{ from: location }} replace />;
>       }
>  
>       return children;
>     }
>  

é€šè¿‡æœ¬æ•™ç¨‹ï¼Œå¤§å®¶å¯ä»¥æŒæ¡React
Routerçš„æ ¸å¿ƒç”¨æ³•ï¼Œå»ºè®®ç»“åˆå®˜æ–¹æ–‡æ¡£å’Œå®é™…é¡¹ç›®è¿›è¡Œå®è·µç»ƒä¹ ã€‚è·¯ç”±é…ç½®éœ€ç‰¹åˆ«æ³¨æ„ç»„ä»¶å±‚çº§å’ŒåŒ¹é…é¡ºåºï¼ŒåŠ¨æ€è·¯ç”±å‚æ•°å¤„ç†è¦è€ƒè™‘è¾¹ç•Œæƒ…å†µï¼ŒåµŒå¥—è·¯ç”±æ˜¯å®ç°å¤æ‚å¸ƒå±€çš„åˆ©å™¨ã€‚



