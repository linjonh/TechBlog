---
arturl_encode: "68747470733a2f2f:626c6f672e6373646e2e6e65742f753031333238383139302f:61727469636c652f64657461696c732f313038313933373633"
layout: post
title: "微信小程序云开发教程-手把手小程序数据库设计"
date: 2025-01-06 20:36:47 +08:00
description: "本小节我们将手把手讲解小程序的数据库应该如何设计。现在我们开始来学习，如何对一个系统进行数据库设计,"
keywords: "微信小程序用户表设计"
categories: ['微信小程序']
tags: ['数据库设计', '小程序']
artid: "108193763"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=108193763
    alt: "微信小程序云开发教程-手把手小程序数据库设计"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=108193763
featuredImagePreview: https://bing.ee123.net/img/rand?artid=108193763
---

# 微信小程序云开发教程-手把手：小程序数据库设计

本小节我们将手把手讲解小程序的数据库应该如何设计。

现在我们开始来学习，如何对一个系统进行数据库设计,设计的第一步是，我们需要根据系统功能，分析出应该有哪些信息需要存储，最终系统应该有哪些数据库表。

![](https://i-blog.csdnimg.cn/blog_migrate/f2cc2e280a2e5fc8280170cedf3e7eb5.png)

首先我们来看第一个功能，用户自动登录，那就需要存储用户的基本信息，所以需要建立一个用户表

第二个功能，展示搜索的热词，那么我们就需要提前存储词汇的信息，所以需要建立一个词汇表；

第三个功能，搜索某个词的近义词，那我们就需要一个表存储近义词信息，所以需要建议一个近义词关联表；

第四个功能，对搜索结果点赞，点赞的对象其实是一组近义词的关联度，也就是说使用之前的近义词关联表进行存储就行了；

第五个功能，联系和反馈，需要建立一个表存储用户的反馈信息，也就是反馈表；

剩下的功能都是直接操作反馈表就可以实现了，不再需要新的表了；

那我们再进一步总结，我们总共需要4个数据表，第一个是用户表，存储用户信息；第二个是词汇表，存储词汇；第三个是近义词关联表，存储近义词组间的关联信息；第四个是反馈表，存储用户的反馈信息。

![](https://i-blog.csdnimg.cn/blog_migrate/c0ed16bf243717e8ee3a7cebb7d4562c.png)

现在，我们就开始手把手设计“近义词查询”的数据库。

首先，我们新建用户表，命名为user,用来存储用户信息。

对于一个字段，我们应该考虑这么几个要素，字段名，数据类型，该字段的值是否允许为空，其它的一些要求，最后是这个字段的中文备注。

第一个字段名是\_id，类型为字符串，不允许为空，这个是系统默认自动存在的，我们可以把它当做这个表的主键，整个数据表中，主键只能有一个，它就像指定了这个id字段做为这个数据表的每条记录的唯一标识，就像人们的身份证号一样，根据身份证号，就一定可以找到对应的人的身份信息，而且是唯一的。所以，同样，我们可以根据这个字段\_id，找到对应的唯一的那条数据；

第二个字段名是nickName，代表的是用户名，类型为字符串，然后不允许为空；

第三个字段名是avatarUrl，类型为字符串，不允许为空，存储用户头像的地址，这里请注意，是用户头像的地址，不用用户头像的图片。

第四个字段名是gender，代表的是用户的性别，类型是数字，1表示男，2表示女

第五个字段名是openid，这个是最重要的一个字段，存储用户的微信id

第六个字段名是is\_admin，类型是数字，代表当前用户是否为管理员，1是管理员，0是普通用户；

第七个字段名是sginTime，类型是时间，代表用户的注册时间

![](https://i-blog.csdnimg.cn/blog_migrate/ec6bf3192ab507f031aa78dc85b0f0d5.png)

我们新建一个词汇表，命名为word。

同样，第一个字段是\_id，字符串类型，作为该表的主键。

第二个字段是id,字符串类型，表示该词汇的id，这个字段的值是我们自己定义的。

第三个字段是word，字符串类型，表示该词汇；

第四个字段是hot，数字类型，默认为0，表示搜索热度，每被搜索一次，则+1

![](https://i-blog.csdnimg.cn/blog_migrate/c19e6d22ac7e88dc78196a27c44e5d66.png)

我们新建一个近义词关联表，命名为word\_similar\_relation。

同样，第一个字段是\_id，字符串类型，作为该表的主键。

第二个字段是id,字符串类型，表示该关联关系的id，这个字段的值是我们自己定义的。

第三个字段是word\_id，字符串类型，表示某个词汇的id；

第四个字段是word\_name，字符串类型，表示某个词汇；

第五个字段是similar\_word\_id，字符串类型，表示与当前词汇构成近义词关系的某个词汇的id;

第六个字段是similar\_word\_name，字符串类型，表示与当前词汇构成近义词关系的某个词汇;

第七个字段是correlation，数字类型，默认为0，表示这两个词汇间的关联强度，每被用户点赞一次，则+1；

最后一个字段是type，数字类型，默认为1，表示关联的类型，1表示近义词，2表示反义词，方便以后拓展。

需要提醒大家的是，我们这里是通过word\_id和word表中的id字段进行关联。

![](https://i-blog.csdnimg.cn/blog_migrate/5261a8998eeb8db04446ab4f41a5a93c.png)

最后新建一个反馈表，命名为feedback。

同样，第一个字段是\_id，字符串类型，作为该表的主键。

第二个字段是content，字符串类型，表示用户反馈的内容；

第三个字段是email，字符串类型，表示反馈者的邮箱；

第四个字段是wechat\_account，字符串类型，表示反馈者的微信号；

第五个字段是picture\_url，字符串类型，表示反馈者上传的图像的存储地址;

第六个字段是openid，字符串类型，表示反馈者的微信id;

第七个字段是type，数字类型，默认为0，表示反馈类型；

最后一个字段是create\_time，时间类型，表示用户提交反馈的时间。

到目前为止，我们已经把“近义词查询”小程序的所有数据表建立完成了，希望同学们可以自己多看几遍本视频，理解为什么要这样设计数据库表。

想看视频版？

关注公号“微程序学堂”，我们的视频教程即将上线

如果你自己写了好文章想投稿

请联系我们