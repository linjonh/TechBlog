---
layout: post
title: "ä½¿ç”¨NodejsåŸºäºDeepSeekåŠ chromadbå®ç°RAGæ£€ç´¢å¢å¼ºç”Ÿæˆ-æœ¬åœ°çŸ¥è¯†åº“"
date: 2025-03-12 17:09:15 +0800
description: "ä½¿ç”¨NodejsåŸºäºDeepSeekåŠ chromadbå®ç°RAGæ£€ç´¢å¢å¼ºç”Ÿæˆ æœ¬åœ°çŸ¥è¯†åº“ æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRetrieval-Augmented Generationï¼Œç®€ç§°RAGï¼‰æ˜¯ä¸€ç§ç»“åˆäº†ä¿¡æ¯æ£€ç´¢æŠ€æœ¯ä¸è¯­è¨€ç”Ÿæˆæ¨¡å‹çš„äººå·¥æ™ºèƒ½æŠ€æœ¯ã€‚RAGé€šè¿‡ä»å¤–éƒ¨çŸ¥è¯†åº“ä¸­æ£€ç´¢ç›¸å…³ä¿¡æ¯ï¼Œå¹¶å°†å…¶ä½œä¸ºæç¤ºï¼ˆPromptï¼‰è¾“å…¥ç»™å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰ï¼Œä»¥å¢å¼ºæ¨¡å‹å¤„ç†çŸ¥è¯†å¯†é›†å‹ä»»åŠ¡çš„èƒ½åŠ›ã€‚è¿™ç§æŠ€æœ¯èƒ½å¤Ÿæœ‰æ•ˆæå‡æ¨¡å‹åœ¨é—®ç­”ã€æ–‡æœ¬æ‘˜è¦ã€å†…å®¹ç”Ÿæˆç­‰è‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡ä¸­çš„è¡¨ç°ã€‚å†è¿›è¡Œè¿™ä¸€æ­¥çš„æ—¶å€™å¯èƒ½å› ä¸ºä¸‹è½½çš„åœ°å€åœ¨å›½å†…è®¿é—®ä¼šå¯¼è‡´å¾ˆæ…¢ã€‚"
keywords: "ä½¿ç”¨NodejsåŸºäºDeepSeekåŠ chromadbå®ç°RAGæ£€ç´¢å¢å¼ºç”Ÿæˆ æœ¬åœ°çŸ¥è¯†åº“"
categories: ['æœªåˆ†ç±»']
tags: ['å‰ç«¯', 'Node', 'Javascript', 'Aigc', 'Ai']
artid: "146209625"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146209625
    alt: "ä½¿ç”¨NodejsåŸºäºDeepSeekåŠ chromadbå®ç°RAGæ£€ç´¢å¢å¼ºç”Ÿæˆ-æœ¬åœ°çŸ¥è¯†åº“"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146209625
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146209625
cover: https://bing.ee123.net/img/rand?artid=146209625
image: https://bing.ee123.net/img/rand?artid=146209625
img: https://bing.ee123.net/img/rand?artid=146209625
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     ä½¿ç”¨NodejsåŸºäºDeepSeekåŠ chromadbå®ç°RAGæ£€ç´¢å¢å¼ºç”Ÿæˆ æœ¬åœ°çŸ¥è¯†åº“
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2 id="EDfv-1741770221025">
     å®šä¹‰
    </h2>
    <h3 id="93Iz-1741770221027">
     æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰çš„åŸºæœ¬å®šä¹‰
    </h3>
    <p>
     æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRetrieval-Augmented Generationï¼Œç®€ç§°RAGï¼‰æ˜¯ä¸€ç§ç»“åˆäº†ä¿¡æ¯æ£€ç´¢æŠ€æœ¯ä¸è¯­è¨€ç”Ÿæˆæ¨¡å‹çš„äººå·¥æ™ºèƒ½æŠ€æœ¯ã€‚RAGé€šè¿‡ä»å¤–éƒ¨çŸ¥è¯†åº“ä¸­æ£€ç´¢ç›¸å…³ä¿¡æ¯ï¼Œå¹¶å°†å…¶ä½œä¸ºæç¤ºï¼ˆPromptï¼‰è¾“å…¥ç»™å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰ï¼Œä»¥å¢å¼ºæ¨¡å‹å¤„ç†çŸ¥è¯†å¯†é›†å‹ä»»åŠ¡çš„èƒ½åŠ›ã€‚è¿™ç§æŠ€æœ¯èƒ½å¤Ÿæœ‰æ•ˆæå‡æ¨¡å‹åœ¨é—®ç­”ã€æ–‡æœ¬æ‘˜è¦ã€å†…å®¹ç”Ÿæˆç­‰è‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡ä¸­çš„è¡¨ç°ã€‚
    </p>
    <h3 id="y7Ru-1741770221031">
     RAGçš„å·¥ä½œæœºåˆ¶
    </h3>
    <p>
     RAGçš„å·¥ä½œæœºåˆ¶ä¸»è¦åŒ…æ‹¬ä¸‰ä¸ªæ ¸å¿ƒéƒ¨åˆ†ï¼šæ£€ç´¢ï¼ˆRetrievalï¼‰ã€å¢å¼ºï¼ˆAugmentationï¼‰å’Œç”Ÿæˆï¼ˆGenerationï¼‰ã€‚
    </p>
    <p>
     æ£€ç´¢ï¼ˆRetrievalï¼‰ï¼šRAGæµç¨‹çš„ç¬¬ä¸€æ­¥æ˜¯ä»é¢„å…ˆå»ºç«‹çš„çŸ¥è¯†åº“ä¸­æ£€ç´¢ä¸é—®é¢˜ç›¸å…³çš„ä¿¡æ¯ã€‚è¿™ä¸€æ­¥éª¤çš„ç›®çš„æ˜¯ä¸ºåç»­çš„ç”Ÿæˆè¿‡ç¨‹æä¾›æœ‰ç”¨çš„ä¸Šä¸‹æ–‡ä¿¡æ¯å’ŒçŸ¥è¯†æ”¯æ’‘ã€‚æ£€ç´¢æ¨¡å—é€šå¸¸ä¾èµ–äºå‘é‡æ£€ç´¢æŠ€æœ¯ï¼Œå°†æŸ¥è¯¢è½¬æ¢ä¸ºå‘é‡è¡¨ç¤ºï¼Œç„¶åä¸çŸ¥è¯†åº“ä¸­çš„å‘é‡è¿›è¡Œæ¯”å¯¹ï¼Œæ‰¾åˆ°æœ€ç›¸ä¼¼çš„å†…å®¹ã€‚
    </p>
    <p>
     å¢å¼ºï¼ˆAugmentationï¼‰ï¼šåœ¨RAGä¸­å¢å¼ºæ˜¯å°†æ£€ç´¢åˆ°çš„ä¿¡æ¯ç”¨ä½œç”Ÿæˆæ¨¡å‹ï¼ˆå³å¤§è¯­è¨€æ¨¡å‹ï¼‰çš„ä¸Šä¸‹æ–‡è¾“å…¥ï¼Œä»¥å¢å¼ºæ¨¡å‹å¯¹ç‰¹å®šé—®é¢˜çš„ç†è§£å’Œå›ç­”èƒ½åŠ›ã€‚è¿™ä¸€æ­¥çš„ç›®çš„æ˜¯å°†å¤–éƒ¨çŸ¥è¯†èå…¥ç”Ÿæˆè¿‡ç¨‹ä¸­ï¼Œä½¿ç”Ÿæˆçš„æ–‡æœ¬å†…å®¹æ›´åŠ ä¸°å¯Œã€å‡†ç¡®å’Œç¬¦åˆç”¨æˆ·éœ€æ±‚ã€‚
    </p>
    <p>
     ç”Ÿæˆï¼ˆGenerationï¼‰ï¼šç”Ÿæˆæ˜¯RAGæµç¨‹çš„æœ€åä¸€æ­¥ã€‚è¿™ä¸€æ­¥çš„ç›®çš„æ˜¯ç»“åˆLLMç”Ÿæˆç¬¦åˆç”¨æˆ·éœ€æ±‚çš„å›ç­”ã€‚ç”Ÿæˆå™¨ä¼šåˆ©ç”¨æ£€ç´¢åˆ°çš„ä¿¡æ¯ä½œä¸ºä¸Šä¸‹æ–‡è¾“å…¥ï¼Œå¹¶ç»“åˆå¤§è¯­è¨€æ¨¡å‹æ¥ç”Ÿæˆæ–‡æœ¬å†…å®¹ï¼Œæœ€ç»ˆè¾“å‡ºå‡†ç¡®ã€æœ‰ç”¨çš„å›ç­”ã€‚
    </p>
    <h2 id="Ay5x-1741770242173">
     å®ç°
    </h2>
    <h3 id="dyjn-1741770242175">
     å®ç°æ€è·¯
    </h3>
    <p>
     æ–‡ä»¶ä¸Šä¼  è¯»å– è¯­å¥çš„åˆ†å‰²è¿˜æœ‰å‘é‡åŒ– ç„¶åå¯¹ç”¨æˆ·çš„æé—®åœ¨å‘é‡åº“ä¸­è¿›è¡Œæ£€ç´¢
    </p>
    <p>
     é€šè¿‡langchainæ–‡æ¡£å·¥å…·è¿›è¡Œæ–‡æ¡£çš„åˆ†å‰²
    </p>
    <p>
     é€šè¿‡chromadbè¿›è¡Œå‘é‡è½¬æ¢å’Œè¯­ä¹‰æ£€ç´¢
    </p>
    <p>
     å…¶å®å®Œå…¨å¯ä»¥é€šè¿‡pythonå®ç°ä½†æ˜¯æˆ‘çœ‹å®˜æ–¹æœ‰æä¾›çš„jsçš„æ’ä»¶åŒ… äºæ˜¯åœ¨ç”¨nodeå†™äº†ä¸€å¥—Â ä¹‹ååˆç”¨pythonå†™äº†ä¸€å¥—
    </p>
    <p>
     æ€ä¹ˆè¯´å‘¢ çœ‹ä½ å–œæ¬¢ç”¨å“ªä¸€ç§å§ åæ­£ç¦»ä¸å¼€pythonç¯å¢ƒ
    </p>
    <h3 id="E5NR-1741770242189">
     ç¬¬ä¸€æ­¥å®‰è£…pythonç¯å¢ƒ
    </h3>
    <p>
     æœ‰æ›´å¤šæ•™ä½ å®‰è£…çš„å¸–å­é“¾æ¥åœ¨ä¸‹é¢ å¯ä»¥å»çœ‹çœ‹
    </p>
    <p>
     <a href="https://blog.csdn.net/qq_45502336/article/details/109531599?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522d97c47b484bd158f0638dbc85d5e8b2c%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=d97c47b484bd158f0638dbc85d5e8b2c&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-109531599-null-null.142" title="https://blog.csdn.net/qq_45502336/article/details/109531599?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522d97c47b484bd158f0638dbc85d5e8b2c%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=d97c47b484bd158f0638dbc85d5e8b2c&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-109531599-null-null.14 2">
      https://blog.csdn.net/qq_45502336/article/details/109531599?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522d97c47b484bd158f0638dbc85d5e8b2c%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=d97c47b484bd158f0638dbc85d5e8b2c&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-109531599-null-null.14 2
     </a>
    </p>
    <h3 id="2Gir-1741770294636">
     ç¬¬äºŒæ­¥å®‰è£…chromadb
    </h3>
    <p>
     chromadb
     <a href="https://docs.trychroma.com/" rel="nofollow" title="å®˜ç½‘åœ°å€">
      å®˜ç½‘åœ°å€
     </a>
    </p>
    <pre><code class="language-python">pip install chromadb</code></pre>
    <p>
     ç„¶åè‚¯å®šè¦æŒä¹…åŒ–å®¢æˆ·ç«¯è¿è¡Œ
    </p>
    <p>
     å®˜ç½‘æœ‰å‡ ç§å¯åŠ¨æ–¹å¼ æ—¢ç„¶æˆ‘ä»¬è¦ç”¨nodeå®ç° é‚£å…¶ä»–çš„éƒ½ä¸ç”¨çœ‹äº† cmd å‘½ä»¤è¡Œå¯åŠ¨å®¢æˆ·ç«¯
    </p>
    <p>
     æä¸ªç©ºçš„æ–‡ä»¶å¤¹å°±è¡Œ (æ³¨æ„ å®‰è£…å®Œç¯å¢ƒä¹‹å æŠŠpyç¯å¢ƒå˜é‡æä¸Š è¦ä¸ç„¶å¯èƒ½chroma run æ— æ³•è¿è¡Œ)
    </p>
    <pre><code class="language-bash">chroma run --path C:\Users\Administrator\Desktop\database</code></pre>
    <p>
     # æœ¬åœ°æ•°æ®åº“åœ°å€
    </p>
    <p>
     æ³¨æ„ è¿™é‡Œæœ‰å‘ å› ä¸ºæˆ‘ç”¨çš„winç³»ç»Ÿ chroma-hnswlib æœ€æ–°ç‰ˆæœ¬æœ‰é—®é¢˜æ‰€ä»¥æ¯ä¸ªé›†åˆåªèƒ½æ’å…¥99æ¡å‘çˆ¹ ç„¶åå®¢æˆ·ç«¯è«åå°±æŠ¥é”™å´©æºƒ
    </p>
    <p>
     æˆ‘ä»¥ä¸ºæ˜¯å®˜æ–¹æä¾›çš„nodeåŒ…æœ‰é—®é¢˜ åæ¥æˆ‘ç”¨pythonå®ç°äº†ä¸€é ä¸æŠ¥é”™ä½†å°±æ˜¯æ’ä¸è¿›å»ğŸ™‚ ä¸€æŸ¥åªæœ‰99æ¡
    </p>
    <p>
     æ‰€ä»¥åœ¨å¯åŠ¨ä¹‹å‰æŠŠchroma-hnswlibç‰ˆæœ¬é™ä¸‹æ¥ï¼ï¼ï¼ å¯èƒ½ä¼šæœ‰æç¤ºç‰ˆæœ¬ä¸å…¼å®¹ æ— éœ€ç†ä¼š
    </p>
    <pre><code class="language-python">pip install chroma-hnswlib==0.7.3 -i https://pypi.tuna.tsinghua.edu.cn/simple</code></pre>
    <p>
     çœ‹ä¸€ä¸‹ç‰ˆæœ¬é™ä¸‹æ¥æ²¡æœ‰
    </p>
    <pre><code class="language-python">pip show chroma-hnswlib</code></pre>
    <h3 id="LKhb-1741770294671">
     å¼€å§‹å®‰è£…nodeæ’ä»¶åŒ…
    </h3>
    <h4 id="lwdh-1741770294673">
     å®‰è£…chromadb å’Œ chromadb-default-embed
    </h4>
    <pre><code class="language-python">npm install --save chromadb chromadb-default-embed</code></pre>
    <h4 id="zT3h-1741770294678">
     æ’å…¥ç¤ºä¾‹
    </h4>
    <pre><code class="language-javascript">import { ChromaClient } from "chromadb";
//path æ˜¯chromaå¯åŠ¨çš„å®¢æˆ·ç«¯åœ°å€é»˜è®¤æ˜¯8000
const client = new ChromaClient({path: "http://localhost:8000"});
//name æ˜¯é›†åˆå getOrCreateCollection æŸ¥è¯¢é›†åˆæ²¡æœ‰å°±åˆ›å»ºé›†åˆ
const collection = await client.getOrCreateCollection({ name: "test-8" }); 
//æ ¹æ®idè¿›è¡Œæ›´æ–°æ’å…¥ æœ‰å°±æ›´æ–°æ²¡æœ‰å°±æ·»åŠ  è¿™é‡Œå¦‚æœè¯´æ²¡æœ‰å¯¹ chroma-hnswlibè¿›è¡Œé™çº§æ¯ä¸ªé›†åˆæ’å…¥99æ¡ä¹‹åå®¢æˆ·ç«¯å°±ä¼šå´©æºƒ
await collection.upsert({
    ids: ["id1", "id2", "id3"],  
    metadatas: [ 
        { chapter: "3", verse: "16" },
        { chapter: "3", verse: "5" },
        { chapter: "29", verse: "11" },
    ],
    documents: ["i am ggbond", "she is cat", "he is dog"],
});</code></pre>
    <h4 id="E2TK-1741770294713">
     æŸ¥è¯¢ç¤ºä¾‹
    </h4>
    <p>
     å½“ç„¶è¿˜æœ‰å…¶ä»–æŸ¥è¯¢å‚æ•°å¯ä»¥æŸ¥çœ‹å®˜ç½‘
    </p>
    <p>
    </p>
    <pre><code class="language-javascript">await collection.query({
    queryTexts: ["Who is a dog"],
    nResults: 10, //è¿”å›å‰10æ¡
})</code></pre>
    <p>
     ç„¶åå°±å¯ä»¥æ‹¿ç€è¿™äº›æ•°æ®ä½œä¸ºæç¤ºè¯ç»™DeepSeekåšå‚è€ƒå›ç­”ç”¨æˆ·é—®é¢˜äº†
    </p>
    <p>
     ä»¥ä¸Šç¤ºä¾‹æ˜¯æœ€åŸºç¡€çš„é»˜è®¤çš„
     <a href="undefined" rel="nofollow">
      embeddings
     </a>
     æ¨¡å‹æ˜¯ all-MiniLM-L6-v2 æ‰€ä»¥ä¸ç”¨ä¼ 
     <a href="undefined" rel="nofollow">
      embeddings
     </a>
     ä¹Ÿæ˜¯å¯ä»¥çš„è™½ç„¶è¯´å¯èƒ½å¯¹ä¸­æ–‡çš„è°ƒæ•™ä¸æ˜¯å¾ˆå¥½ å½“ç„¶ä¹Ÿå¯ä»¥è‡ªå®šä¹‰
     <a href="undefined" rel="nofollow">
      embeddings
     </a>
     æ¨¡å‹ ä¸‹é¢æœ‰ç¤ºä¾‹
    </p>
    <h4 id="aoHJ-1741770294743">
     ç»¼åˆç¤ºä¾‹ ç»“åˆ
     <a href="undefined" rel="nofollow">
      langchain
     </a>
     æ–‡ä»¶åˆ†å‰²æ’å…¥æ•°æ®åº“
    </h4>
    <p>
     æˆ‘è¿™é‡Œç”¨äº†langchainæä¾›çš„åŒ…æ–¹ä¾¿ä¸€äº›
    </p>
    <p>
     æ–‡æ¡£åœ°å€
     <a href="https://js.langchain.com/docs/integrations/vectorstores/chroma/#query-directly" rel="nofollow" title="langchainChromaÂ ">
      langchainChroma
     </a>
    </p>
    <pre><code class="language-javascript">npm i langchain @langchain/community @langchain/core chromadb pdf-parse </code></pre>
    <p>
    </p>
    <pre><code class="language-javascript">const { Chroma } = require("@langchain/community/vectorstores/chroma");
const { HuggingFaceTransformersEmbeddings } = require("@langchain/community/embeddings/huggingface_transformers");
const { PDFLoader } = require("@langchain/community/document_loaders/fs/pdf");
const { TextLoader } = require("langchain/document_loaders/fs/text");
const { DocxLoader } = require("@langchain/community/document_loaders/fs/docx");
const { EPubLoader } = require("@langchain/community/document_loaders/fs/epub");
const { RecursiveCharacterTextSplitter } = require("langchain/text_splitter");
//åŠ è½½æ¨¡å‹ å…¶å®ä¸ç”¨è¿™ä¸€æ­¥ä¹Ÿå¯ä»¥ æœ‰é»˜è®¤çš„æ¨¡å‹çš„ ä¸»è¦æ˜¯æç¤ºä¸€ä¸‹å¯ä»¥é€šè¿‡modelä½¿ç”¨è‡ªå®šä¹‰æ¨¡å‹
const allMiniLML6V2 = new HuggingFaceTransformersEmbeddings({
  model: "Xenova/all-MiniLM-L6-v2",
});
//æ–‡æ¡£åˆ†å‰²
async function documentReading(filepath, filename) {
  let mimeType = filepath.split(".")[1];
  console.log("æ–‡ä»¶ç±»å‹", mimeType);
  //åŠ è½½åˆ†å—
  const splitter = new RecursiveCharacterTextSplitter({
    chunkSize: 500, //500å­—ç¬¦ä¸€åˆ†å‰² è¿™ä¸ªå‚æ•°å¯èƒ½å½±å“æœ€ç»ˆæŸ¥è¯¢çš„è´¨é‡ æ ¹æ®è‡ªå·±å®é™…æƒ…å†µæ¥
  });
  // åŠ è½½
  const loader = this.documentClassification(filepath, mimeType);
  console.log("æ–‡æ¡£è¯»å–");
  const docs = await loader.load();
  // åˆ†å‰²
  const splitterDocs = await splitter.splitDocuments(docs);
  console.log(splitterDocs, "æ–‡æ¡£åˆ†å‰²å®Œæˆ");
  return { splitterDocs };
}
//æ–‡ä»¶åˆ†ç±»åŠ è½½
function documentClassification(filepath, mimeType) {
  if (!filepath) throw new Error(`è·¯å¾„å‡ºç°é—®é¢˜:${filepath}`);
  let loader = null;
  switch (mimeType) {
    case "pdf":
      loader = new PDFLoader(filepath);
      break;
    case "epub":
      loader = new EPubLoader(filepath);
      break;
    case "txt":
      loader = new TextLoader(filepath);
      break;
    case "docx":
      loader = new DocxLoader(filepath);
      break;
    default:
      break;
  }
  if (!loader) throw new Error(`æ— æ³•è§£æçš„ç±»å‹:${mimeType}`);
  return loader;
}
// æŸ¥è¯¢
async function query(collectionName, queryText) {
  const vectorStore = new Chroma(allMiniLML6V2, {
    url: "http://localhost:8000", //å®¢æˆ·ç«¯åœ°å€
    collectionName, //  æ³¨æ„ é›†åˆå ä¸€èˆ¬éƒ½æ˜¯æ–‡ä»¶åçš„è‹±æ–‡ filename æˆ‘è¿™é‡Œéšä¾¿å†™çš„
  });
  return await vectorStore.similaritySearch(queryText, 2);
}
// ä¸Šä¼ ç¤ºä¾‹
documentReading(filepath, filename).then(({ splitterDocs }) =&gt; {
  const vectorStore = new Chroma(allMiniLML6V2, {
    url: "http://localhost:8000", //å®¢æˆ·ç«¯åœ°å€
    collectionName: "test", //  æ³¨æ„ é›†åˆå ä¸€èˆ¬éƒ½æ˜¯æ–‡ä»¶åçš„è‹±æ–‡ filename æˆ‘è¿™é‡Œéšä¾¿å†™çš„
  });
  //äºŒæ¬¡åˆ†å‰² æ–‡ä»¶æ¯”è¾ƒå¤§çš„è¯æ’å…¥ä¼šå¾ˆå¡
  const chunkSize = 20;
  const chunkedDocs = Array.from(
    {
      length: Math.ceil(splitterDocs.length / chunkSize),
    },
    (_, index) =&gt; splitterDocs.slice(index * chunkSize, (index + 1) * chunkSize)
  );
  // å¼€å§‹æ’å…¥
  chunkedDocs.forEach(async (docs, index) =&gt; {
    await vectorStore
      .addDocuments(docs)
      .then((res) =&gt; {
        console.log(index, "æ’å…¥æˆåŠŸ");
      })
      .catch((err) =&gt; {
        console.log(index, "æ’å…¥å¤±è´¥");
      });
  });
});
</code></pre>
    <h3 id="n6sU-1741770294936">
     è¡¥å……å…³äºè‡ªå®šä¹‰æ¨¡å‹
    </h3>
    <pre><code class="language-javascript">const allMiniLML6V2 = new HuggingFaceTransformersEmbeddings({ model: "Xenova/all-MiniLM-L6-v2", });</code></pre>
    <p>
     å†è¿›è¡Œè¿™ä¸€æ­¥çš„æ—¶å€™å¯èƒ½å› ä¸ºä¸‹è½½çš„åœ°å€åœ¨å›½å†…è®¿é—®ä¼šå¯¼è‡´å¾ˆæ…¢
    </p>
    <p>
     å¯ä»¥åœ¨node_models ä¸‹ @xenova/transformers/src/env æ–‡ä»¶ä¸‹remoteHost åœ°å€æ›´æ¢ä¸ºå›½å†…é•œåƒåœ°å€
     <a href="https://hf-mirror.com/" rel="nofollow" title="https://hf-mirror.com/">
      https://hf-mirror.com/
     </a>
    </p>
    <p>
     æˆ–åˆ™ç›´æ¥åœ¨.cacheæ–‡ä»¶ä¸‹åŠ ä½ ä¸‹å¥½çš„æ¨¡å‹ Xenova/all-MiniLM-L6-v2 å°±æ˜¯ .cache/Xenova/all-MiniLM-L6-v2
    </p>
    <p>
     <img alt="" height="1080" src="https://i-blog.csdnimg.cn/direct/1163720669ba4b98aecc939a5c0d7b88.png" width="1918"/>
    </p>
    <h2 id="YCik-1741770294955">
     ç»“æŸ
    </h2>
    <p>
     å‰©ä¸‹å’ŒDeepSeekå¯¹æ¥éœ€è¦æ ¹æ®æ¯ä¸ªäººçš„é¡¹ç›®æ¥
    </p>
    <p>
     chromadbåªèƒ½ä½œä¸ºæ£€ç´¢å·¥å…·æ¥ä½œä¸ºæç¤ºè¯ä¸ºAIæä¾›é¢å¤–çš„å®šåˆ¶åŒ–æ•°æ® æ¥å¢å¼º AI
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f35363338313030332f:61727469636c652f64657461696c732f313436323039363235" class_="artid" style="display:none">
 </p>
</div>


