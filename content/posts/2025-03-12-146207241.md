---
layout: post
title: "MySQL篇MySQL内置函数"
date: 2025-03-12 17:49:28 +0800
description: "插入数据。"
keywords: "【MySQL篇】MySQL内置函数"
categories: ['未分类']
tags: ['数据库', 'Mysql']
artid: "146207241"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146207241
    alt: "MySQL篇MySQL内置函数"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146207241
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146207241
cover: https://bing.ee123.net/img/rand?artid=146207241
image: https://bing.ee123.net/img/rand?artid=146207241
img: https://bing.ee123.net/img/rand?artid=146207241
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【MySQL篇】MySQL内置函数
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <hr id="hr-toc" name="tableOfContents"/>
    <p>
    </p>
    <h2 id="1%EF%BC%8C%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0" name="1%EF%BC%8C%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0" style="background-color:transparent">
     <strong>
      1，日期函数
     </strong>
    </h2>
    <p>
     <strong>
      日期类型在之前文章【数据类型】中有描述
     </strong>
    </p>
    <p>
     <strong>
      传送门：
     </strong>
     <a href="https://blog.csdn.net/2401_82677021/article/details/145947883" title="【MySQL篇】数据类型_mysql 数据类型-CSDN博客">
      【MySQL篇】数据类型_mysql 数据类型-CSDN博客
     </a>
    </p>
    <table border="1" cellpadding="1" cellspacing="1" style="width:600px">
     <tbody>
      <tr>
       <td style="width:252px">
        函数名称
       </td>
       <td style="width:346px">
        描述
       </td>
      </tr>
      <tr>
       <td style="width:252px">
        current_date()
       </td>
       <td style="width:346px">
        当前日期
       </td>
      </tr>
      <tr>
       <td style="width:252px">
        current_time()
       </td>
       <td style="width:346px">
        当前时间
       </td>
      </tr>
      <tr>
       <td style="width:252px">
        current_timestamp()
       </td>
       <td style="width:346px">
        当前时间戳
       </td>
      </tr>
      <tr>
       <td style="width:252px">
        date(datetime)
       </td>
       <td style="width:346px">
        返回datetime参数的部分日期
       </td>
      </tr>
      <tr>
       <td style="width:252px">
        date_add(date,interval d_value_type)
       </td>
       <td style="width:346px">
        在date中添加日期或时间，interval关键字后可以是：year,mintue,second,day
       </td>
      </tr>
      <tr>
       <td style="width:252px">
        date_sub(date,interval d_value_type)
       </td>
       <td style="width:346px">
        <p>
         在date中减去日期或时间，interval关键字后可以是：
        </p>
        <p>
         year,minute,second,day
        </p>
       </td>
      </tr>
      <tr>
       <td style="width:252px">
        datediff(date1,date2)
       </td>
       <td style="width:346px">
        两个日期的差，单位是天
       </td>
      </tr>
      <tr>
       <td style="width:252px">
        now()
       </td>
       <td style="width:346px">
        当前日期时间
       </td>
      </tr>
     </tbody>
    </table>
    <ul>
     <li>
      <strong>
       获得当前日期（年月日）
      </strong>
     </li>
    </ul>
    <p style="text-align:center">
     <strong>
      <img alt="" height="139" src="https://i-blog.csdnimg.cn/direct/0c16596d32bd4cb680b1074ca1f7bc1f.png" width="571"/>
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       获得当前日期（时分秒）
      </strong>
     </li>
    </ul>
    <p style="text-align:center">
     <strong>
      <img alt="" height="178" src="https://i-blog.csdnimg.cn/direct/cc1adde431cd446884d980af19e1c725.png" width="571"/>
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       获取当前日期
      </strong>
     </li>
    </ul>
    <p style="text-align:center">
     <strong>
      <img alt="" height="154" src="https://i-blog.csdnimg.cn/direct/5120a00d494a455985e0ecb527235c2c.png" width="574"/>
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       获得时间戳
      </strong>
     </li>
    </ul>
    <p style="text-align:center">
     <strong>
      <img alt="" height="162" src="https://i-blog.csdnimg.cn/direct/998ecfda236f40c481da1cf03b1bb7e1.png" width="556"/>
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       在日期的基础上加上日期
      </strong>
     </li>
    </ul>
    <p style="text-align:center">
     <strong>
      <img alt="" height="289" src="https://i-blog.csdnimg.cn/direct/bd118f0f5850470f912599e608b58e32.png" width="604"/>
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       在日期的基础上减去时间
      </strong>
     </li>
    </ul>
    <p style="text-align:center">
     <strong>
      <img alt="" height="248" src="https://i-blog.csdnimg.cn/direct/bfab7fc6339546afa1bda05faf4a542c.png" width="577"/>
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       计算两个日期之间相差多少天
      </strong>
     </li>
    </ul>
    <p style="text-align:center">
     <strong>
      <img alt="" height="138" src="https://i-blog.csdnimg.cn/direct/d649e52e133a418a9ca4fcb02f0154f6.png" width="560"/>
     </strong>
    </p>
    <p>
     <strong>
      案例1：创建一张生日表，记录生日
     </strong>
    </p>
    <blockquote>
     <p>
      mysql&gt; create table tmp(
      <br/>
      -&gt; id int primary key auto_increment,
      <br/>
      -&gt; birthday date);
     </p>
    </blockquote>
    <ul>
     <li>
      <strong>
       添加当前日期
      </strong>
     </li>
    </ul>
    <blockquote>
     <p>
      mysql&gt; insert into tmp (birthday) values (current_date());
     </p>
    </blockquote>
    <p style="text-align:center">
     <img alt="" height="274" src="https://i-blog.csdnimg.cn/direct/2f2f9b26008e4318a0e249e86e279d0d.png" width="580"/>
    </p>
    <ul>
     <li>
      <strong>
       案例2：创建一张留言表
      </strong>
     </li>
    </ul>
    <blockquote>
     <p>
      <strong>
       mysql&gt; create table msg(
       <br/>
       -&gt; id int primary key auto_increment,
       <br/>
       -&gt; content varchar(30) not null,
       <br/>
       -&gt; sendtime datetime);
      </strong>
     </p>
    </blockquote>
    <ul>
     <li>
      <strong>
       插入数据
      </strong>
     </li>
    </ul>
    <blockquote>
     <p>
      <strong>
       mysql&gt; insert into msg (content,sendtime) values ('hello1',now());
      </strong>
     </p>
     <p>
     </p>
     <p>
      <strong>
       mysql&gt; insert into msg (content,sendtime) values ('hello2',now());
      </strong>
     </p>
    </blockquote>
    <p style="text-align:center">
     <img alt="" height="260" src="https://i-blog.csdnimg.cn/direct/97266a63b06f4c559d70185b6a8cdf81.png" width="607"/>
    </p>
    <ul>
     <li>
      <strong>
       显示所有留言信息，只显示日期，不显示时间
      </strong>
     </li>
    </ul>
    <blockquote>
     <p>
      <strong>
       mysql&gt; select content,
       <span style="color:#fe2c24">
        date
       </span>
       (sendtime) from msg;
      </strong>
     </p>
    </blockquote>
    <p style="text-align:center">
     <img alt="" height="348" src="https://i-blog.csdnimg.cn/direct/b5ada8980e2b4887bc743f8604ebd3d8.png" width="597"/>
    </p>
    <ul>
     <li>
      <strong>
       查询2分钟内发布的留言
      </strong>
     </li>
    </ul>
    <blockquote>
     <p>
      <strong>
       mysql&gt; select * from msg where date_add(sendtime,interval 2 minute)&gt;now();
      </strong>
     </p>
    </blockquote>
    <p style="text-align:center">
     <img alt="" height="201" src="https://i-blog.csdnimg.cn/direct/8c08c620fc43416bba7cf7d300f19bfe.png" width="633"/>
    </p>
    <h2 id="%C2%A02%EF%BC%8C%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0" name="%C2%A02%EF%BC%8C%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0" style="background-color:transparent">
     2，字符串函数
    </h2>
    <table border="1" cellpadding="1" cellspacing="1" style="width:600px">
     <tbody>
      <tr>
       <td style="width:268px">
        charset(str)
       </td>
       <td style="width:330px">
        返回str的字符集
       </td>
      </tr>
      <tr>
       <td style="width:268px">
        concat(string,[...])
       </td>
       <td style="width:330px">
        连接字符串
       </td>
      </tr>
      <tr>
       <td style="width:268px">
        instr(str,substring)
       </td>
       <td style="width:330px">
        返回substring在str中出现的位置，没有返回0
       </td>
      </tr>
      <tr>
       <td style="width:268px">
        ucase(string2)
       </td>
       <td style="width:330px">
        转换成大写
       </td>
      </tr>
      <tr>
       <td style="width:268px">
        lcase(string2)
       </td>
       <td style="width:330px">
        转换成小写
       </td>
      </tr>
      <tr>
       <td style="width:268px">
        left(string2,length)
       </td>
       <td style="width:330px">
        从string2的左边起，取length个字符
       </td>
      </tr>
      <tr>
       <td style="width:268px">
        length(string)
       </td>
       <td style="width:330px">
        string的长度，单位是字节
       </td>
      </tr>
      <tr>
       <td style="width:268px">
        replace(str,search_str,raplace_str)
       </td>
       <td style="width:330px">
        在str中用replace_str替换search_str
       </td>
      </tr>
      <tr>
       <td style="width:268px">
        strcmp(string1,string2)
       </td>
       <td style="width:330px">
        比较两字符串的大小
       </td>
      </tr>
      <tr>
       <td style="width:268px">
        substring(string,postion,length)
       </td>
       <td style="width:330px">
        从string的postion开始，读取length个字符
       </td>
      </tr>
      <tr>
       <td style="width:268px">
        ltrim(string)    rtrim(string)   trim(string)
       </td>
       <td style="width:330px">
        去除前空格或后空格（见示例）
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
      示例：
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       查看字符的编码集
      </strong>
     </li>
    </ul>
    <p style="text-align:center">
     <strong>
      <img alt="" height="257" src="https://i-blog.csdnimg.cn/direct/983757f7b8204b369b68a088eafcd066.png" width="586"/>
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       连接字符串
      </strong>
     </li>
    </ul>
    <p>
     <img alt="" height="497" src="https://i-blog.csdnimg.cn/direct/232b2493658c4b42872050e700804d89.png" width="554"/>
    </p>
    <ul>
     <li>
      <strong>
       判断一个字符是否在另一个字符串中出现
      </strong>
     </li>
    </ul>
    <p style="text-align:center">
     <strong>
      <img alt="" height="270" src="https://i-blog.csdnimg.cn/direct/f1ee965bc3464f40bb73f0f98383e1d9.png" width="555"/>
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       大小写转换
      </strong>
     </li>
    </ul>
    <p style="text-align:center">
     <strong>
      <img alt="" height="326" src="https://i-blog.csdnimg.cn/direct/126393c2cc2a4077aaa393bfd0c54bee.png" width="572"/>
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       left,right函数
      </strong>
     </li>
    </ul>
    <p style="text-align:center">
     <img alt="" height="287" src="https://i-blog.csdnimg.cn/direct/918413ffeaf84273a53e8ef7a143258e.png" width="588"/>
    </p>
    <ul>
     <li>
      <strong>
       length求字符串长度，单位是字节 (utf8下一个整数3个字节）
      </strong>
     </li>
    </ul>
    <p>
     <img alt="" height="305" src="https://i-blog.csdnimg.cn/direct/464866e5201d458f851af6fa039b3f86.png" width="600"/>
    </p>
    <p>
     <strong>
      案例：
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       首先创建一张员工表
      </strong>
     </li>
    </ul>
    <p style="text-align:center">
     <strong>
      <img alt="" height="464" src="https://i-blog.csdnimg.cn/direct/73968c91a83b407f8b87a551cdb1f305.png" width="603"/>
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       插入数据
      </strong>
     </li>
    </ul>
    <p style="text-align:center">
     <strong>
      <img alt="" height="253" src="https://i-blog.csdnimg.cn/direct/b2a5f7ac0c3e4c2881757599ffa4aac5.png" width="631"/>
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       获取emp表的ename列的字符集 （如果表中有些部分出现乱码，可以查看插入数据的编码和mysql的编码是否一致）
      </strong>
     </li>
    </ul>
    <blockquote>
     <p>
      <strong>
       mysql&gt; select charset(ename) from emp;
      </strong>
     </p>
    </blockquote>
    <p style="text-align:center">
     <img alt="" height="412" src="https://i-blog.csdnimg.cn/direct/72b9086470714a80af0a5255da928a1e.png" width="555"/>
    </p>
    <ul>
     <li>
      <strong>
       将emp表中所有名字中有 S的替换成 '上海'
      </strong>
     </li>
    </ul>
    <blockquote>
     <p>
      <strong>
       mysql&gt; select ename,replace(ename,'S','上海')  from emp;
      </strong>
     </p>
    </blockquote>
    <p style="text-align:center">
     <img alt="" height="362" src="https://i-blog.csdnimg.cn/direct/05348f4f451947b4bad780c32eee30ed.png" width="600"/>
    </p>
    <ul>
     <li>
      <strong>
       截取emp表中ename字段的第2到3个字符
      </strong>
     </li>
    </ul>
    <blockquote>
     <p>
      <strong>
       mysql&gt; select ename,substring(ename,2,2) from emp;
      </strong>
     </p>
    </blockquote>
    <p style="text-align:center">
     <img alt="" height="348" src="https://i-blog.csdnimg.cn/direct/bd75ad5f596448259caff88997923df2.png" width="595"/>
    </p>
    <ul>
     <li>
      <strong>
       以首字母小写的方式显示所有员工的姓名
      </strong>
     </li>
    </ul>
    <blockquote>
     <p>
      <strong>
       mysql&gt; select concat(lcase(substring(ename,1,1)),substring(ename,2)) from emp;
      </strong>
     </p>
    </blockquote>
    <p style="text-align:center">
     <img alt="" height="278" src="https://i-blog.csdnimg.cn/direct/505f7766e10d4057b4998f5a18b8403b.png" width="658"/>
    </p>
    <h2 id="3%EF%BC%8C%E6%95%B0%E5%AD%A6%E5%87%BD%E6%95%B0%C2%A0" name="3%EF%BC%8C%E6%95%B0%E5%AD%A6%E5%87%BD%E6%95%B0%C2%A0" style="background-color:transparent">
     3，数学函数
    </h2>
    <table border="1" cellpadding="1" cellspacing="1" style="width:600px">
     <tbody>
      <tr>
       <td style="width:260px">
        函数名称
       </td>
       <td style="width:338px">
        描述
       </td>
      </tr>
      <tr>
       <td style="width:260px">
        abs(num)
       </td>
       <td style="width:338px">
        绝对值函数
       </td>
      </tr>
      <tr>
       <td style="width:260px">
        bin(decimal_number)
       </td>
       <td style="width:338px">
        十进制转二进制
       </td>
      </tr>
      <tr>
       <td style="width:260px">
        hex(decimal Number)
       </td>
       <td style="width:338px">
        转换成十六进制
       </td>
      </tr>
      <tr>
       <td style="width:260px">
        conv(number,form_case,to_base)
       </td>
       <td style="width:338px">
        进制转换
       </td>
      </tr>
      <tr>
       <td style="width:260px">
        ceiling(number)
       </td>
       <td style="width:338px">
        向上取整
       </td>
      </tr>
      <tr>
       <td style="width:260px">
        floor(number)
       </td>
       <td style="width:338px">
        向下取整
       </td>
      </tr>
      <tr>
       <td style="width:260px">
        format(number,decimal_places)
       </td>
       <td style="width:338px">
        格式化，保留小数位数
       </td>
      </tr>
      <tr>
       <td style="width:260px">
        rand()
       </td>
       <td style="width:338px">
        返回随机浮点数，范围【0.0，1.0）
       </td>
      </tr>
      <tr>
       <td style="width:260px">
        mod(number,denominator)
       </td>
       <td style="width:338px">
        取模，求余数
       </td>
      </tr>
      <tr>
       <td style="width:260px">
       </td>
       <td style="width:338px">
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
      示例：
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       绝对值
      </strong>
     </li>
    </ul>
    <p style="text-align:center">
     <strong>
      <img alt="" height="177" src="https://i-blog.csdnimg.cn/direct/1638c756537f4869811ceba088e1a7e8.png" width="549"/>
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       向上取整
      </strong>
     </li>
    </ul>
    <p style="text-align:center">
     <strong>
      <img alt="" height="177" src="https://i-blog.csdnimg.cn/direct/4c3f2aa7e77d48afbf4664369ac643df.png" width="639"/>
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       向下取整
      </strong>
     </li>
    </ul>
    <p style="text-align:center">
     <strong>
      <img alt="" height="199" src="https://i-blog.csdnimg.cn/direct/c4ad9a4d0c5c4c3caf3269eece8b50d5.png" width="615"/>
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       保留两位小数位数 （四舍五入）
      </strong>
     </li>
    </ul>
    <p style="text-align:center">
     <strong>
      <img alt="" height="264" src="https://i-blog.csdnimg.cn/direct/573225cf9a8d474ab2405bd10038cda8.png" width="582"/>
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       十进制转化成二进制
      </strong>
     </li>
    </ul>
    <p style="text-align:center">
     <strong>
      <img alt="" height="293" src="https://i-blog.csdnimg.cn/direct/c2dc0c04be3d4e76b5e43afb6df6192b.png" width="593"/>
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       把一个数字从一个进制转化成另一个进制
      </strong>
     </li>
    </ul>
    <p style="text-align:center">
     <strong>
      <img alt="" height="579" src="https://i-blog.csdnimg.cn/direct/6c7c89f4c1fa4e46b8df6ac99180e8e2.png" width="578"/>
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       转化成十六进制
      </strong>
     </li>
    </ul>
    <p style="text-align:center">
     <strong>
      <img alt="" height="247" src="https://i-blog.csdnimg.cn/direct/d269ec820f4f4e128117308f466ef7b6.png" width="547"/>
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       产生随机数
      </strong>
     </li>
    </ul>
    <p style="text-align:center">
     <strong>
      <img alt="" height="474" src="https://i-blog.csdnimg.cn/direct/6503b63dbc8746d98a653d55c97ec587.png" width="561"/>
     </strong>
    </p>
    <h2 id="4%EF%BC%8C%E5%85%B6%E4%BB%96%E5%87%BD%E6%95%B0%C2%A0" name="4%EF%BC%8C%E5%85%B6%E4%BB%96%E5%87%BD%E6%95%B0%C2%A0" style="background-color:transparent">
     <strong>
      4，其他函数
     </strong>
    </h2>
    <ul>
     <li>
      <strong>
       user查询当前用户
      </strong>
     </li>
    </ul>
    <blockquote>
     <p>
      <strong>
       mysql&gt; select user();
      </strong>
     </p>
    </blockquote>
    <ul>
     <li>
      <strong>
       md5(str)对一个字符串进行md5摘要，摘要后的得到一个32位字符串 ，可以保证用户信息的安全性
      </strong>
     </li>
    </ul>
    <p style="text-align:center">
     <strong>
      <img alt="" height="428" src="https://i-blog.csdnimg.cn/direct/bd99637940dc43a68df9b6a354f350fb.png" width="579"/>
     </strong>
    </p>
    <blockquote>
     <p>
      <strong>
       mysql&gt; create table user(
       <br/>
       -&gt; id int primary key auto_increment,
       <br/>
       -&gt; name varchar(20),
       <br/>
       -&gt; password char(32) not null);
      </strong>
     </p>
    </blockquote>
    <p>
     插入数据
    </p>
    <blockquote>
     <p>
      <strong>
       mysql&gt; insert into user (name,password) values ('张三',md5('12345'));
       <br/>
       mysql&gt; insert into user (name,password) values ('李四',md5('21090'));
      </strong>
     </p>
    </blockquote>
    <p style="text-align:center">
     <img alt="" height="184" src="https://i-blog.csdnimg.cn/direct/3a37c7495ba94f0aa950c041cdb832b6.png" width="622"/>
    </p>
    <ul>
     <li>
      <strong>
       database()，显示当前正在使用的数据库
      </strong>
     </li>
    </ul>
    <blockquote>
     <p>
      <strong>
       mysql&gt; select database();
      </strong>
     </p>
    </blockquote>
    <ul>
     <li>
      <strong>
       ifnull(val1,val2)，如果val为null，返回val2。否则返回val1
      </strong>
     </li>
    </ul>
    <p style="text-align:center">
     <img alt="" height="273" src="https://i-blog.csdnimg.cn/direct/d8380f2cc67c4325a5b37fb318065009.png" width="559"/>
    </p>
    <h2 id="%E5%AE%9E%E6%88%98OJ" name="%E5%AE%9E%E6%88%98OJ" style="background-color:transparent">
     实战OJ
    </h2>
    <p>
     <a href="https://www.nowcoder.com/practice/e3870bd5d6744109a902db43c105bd50?tpId=82&amp;tqId=29819&amp;rp=10&amp;ru=%2Factivity%2Foj&amp;qru=%2Fta%2Fsql%2Fquestion-ranking&amp;tPage=3" rel="nofollow" title="查找字符串中逗号出现的次数_牛客题霸_牛客网">
      查找字符串中逗号出现的次数_牛客题霸_牛客网
     </a>
    </p>
    <p style="text-align:center">
     <img alt="" height="466" src="https://i-blog.csdnimg.cn/direct/31b7c29878f143228d4899258df50d89.png" width="582"/>
    </p>
    <pre><code class="hljs">select id,length(string)-length(replace(string,',','')) cnt from strings;</code></pre>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323430315f38323637373032312f:61727469636c652f64657461696c732f313436323037323431" class_="artid" style="display:none">
 </p>
</div>


