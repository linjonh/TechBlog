---
layout: post
title: "性能测试性能测试工具-2.jmeter的环境搭建-3jmeter元件和4使用实例-5jmeter元件和参数化-"
date: 2025-03-15 22:06:35 +0800
description: "bin目录：存放可执行文件和配置文件docs：提供二次开发的文档  用于开发扩展组件 因为jmeter本身就是开源lib里面存放的就是第三方库  lib中的ext存放的是第三方jar包元件：一个一个的类 右键添加线程组线程组就相当于用户  线程组就是用户的意思  因为脚本是用户的意思右击取样器--用来发送请求 这个就相当于是request逻辑控制器--控制语句的执行顺序 if else for前置处理器--对请求参数进行预处理           后置处理器就是对响应结果进行处理。"
keywords: "（性能测试）性能测试工具 2.jmeter的环境搭建 3jmeter元件和4使用实例 5jmeter元件和参数化 "
categories: ['未分类']
tags: ['测试工具']
artid: "144121781"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=144121781
    alt: "性能测试性能测试工具-2.jmeter的环境搭建-3jmeter元件和4使用实例-5jmeter元件和参数化-"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=144121781
featuredImagePreview: https://bing.ee123.net/img/rand?artid=144121781
cover: https://bing.ee123.net/img/rand?artid=144121781
image: https://bing.ee123.net/img/rand?artid=144121781
img: https://bing.ee123.net/img/rand?artid=144121781
---

# （性能测试）性能测试工具 2.jmeter的环境搭建 3jmeter元件和4使用实例 5jmeter元件和参数化

* * *

**现在有两款主流的性能测试工具**

### 性能测试工具

![](https://i-blog.csdnimg.cn/direct/d640dd724fb64509b0b0f0f33f5237c0.png)

![](https://i-blog.csdnimg.cn/direct/3fbf1abe252f44e5852a9c352839eba3.png)

#### 性能测试工具

> ![](https://i-blog.csdnimg.cn/direct/52c3a98094794305b50f7f9191efe5f1.png)
>
> **loadrunner存在我们需要的各种数据指标**
>
> ![](https://i-blog.csdnimg.cn/direct/7874aa22def4424f83d60ea29f484192.png)
>
> **loadrunner和jmeter是两款主流的性能测试工具 loadrunner支持的协议比较多 这个工具是使用c编写的
> 可以让每次发出去的请求都使用不同的ip发出去**
>
> **缺点就是比较贵 限制使用用户和使用协议 需要支付一定的费用**
>
> **在现在很大的企业是会使用的 安装包就比较大 小公司是不会使用的**
>
> **jemeter是使用千为单位的**
>
> ![](https://i-blog.csdnimg.cn/direct/2f60f78c1b0b428b8f7a5914637dedfd.png)
>
> **jemeter的所有的功能在loadrunner上都能找到原型 界面是不一样的 是比较开源的 支持的比较多 免费 内存较小**
>
> **具有较多的功能组件 不存在ip欺骗**
>
> ![](https://i-blog.csdnimg.cn/direct/726922ee7b764321bd314e03c1eb105f.png)
>
> **性能测试的目的：评估当前系统能力 定位系统的性能瓶颈，优化性能 预估对未来的业务的支持情况**
>
> ![](https://i-blog.csdnimg.cn/direct/cf681b6033594ea0b00ac51e7b0d6c36.png)
>
> ![](https://i-blog.csdnimg.cn/direct/193c31ebe14f4120aa54ab236bae2d26.png)

#### jemeter环境搭建

> ![](https://i-blog.csdnimg.cn/direct/3b90fa13df2d4eff8bac8e6a2b6d924d.png)
>
> **jmeter是Java写的，所有用Java写的必须安装jdk，只有这样才可以运行**
>
> ![](https://i-blog.csdnimg.cn/direct/25baf97071b64e8a90bbb56f6c4b704a.png)
>
> **安装目录不能出现空格和中文**
>
> ![](https://i-blog.csdnimg.cn/direct/fce96cd6a6ef481c95e727f31eecbf19.png)
>
> **jmeter的版本要和jdk的版本是匹配的**
>
> **.bat后缀是Windows下的正常的执行程序 另一种是exe文件**
>
> ![](https://i-blog.csdnimg.cn/direct/7da9805eaa6347ec823ec575461763a0.png)
>
> ![](https://i-blog.csdnimg.cn/direct/bbb7ee71f85844fdb178ea21cc280c2c.png)

##### jmeter的常用目录介绍

> **bin目录：存放可执行文件和配置文件**
>
> ![](https://i-blog.csdnimg.cn/direct/40287e7853204949a72d8ae35d2d8cc7.png)
>
> **docs：提供二次开发的文档 用于开发扩展组件 因为jmeter本身就是开源**
>
> ![](https://i-blog.csdnimg.cn/direct/68e32da24ef445eb8f675f66b92a52fc.png)
>
> **lib里面存放的就是第三方库 lib中的ext存放的是第三方jar包**

##### jmeter修改语言和主题--jmeter界面的汉化

> ![](https://i-blog.csdnimg.cn/direct/4bd29990251d43248d265a5bb69c9905.png)
>
> **修改语言：**  
>  ![](https://i-blog.csdnimg.cn/direct/3ba8057c632447d3a459eb2311cfe249.png)
>
> **但是这个并不是永久性的，永久性的要在bin目录中修改配置文件**
>
> **打开软件：**
>
> ![](https://i-blog.csdnimg.cn/direct/79f5eb4946d04e1cb58f97a4430846d9.png)
>
> **cmd中直接输入jmeter就可以直接打开**
>
> **bin目录中有一个启动文件：也可以在这里直接打开**  
>  ![](https://i-blog.csdnimg.cn/direct/54a94affc0a2492586161a5ed1043e16.png)
>
> **使用配置文件进行修改**
>
> ![](https://i-blog.csdnimg.cn/direct/8f50cadb4ffa4d92b4692863ba6821df.png)
>
> **修改的时候，去掉注释 然后修改语言**
>
> ![](https://i-blog.csdnimg.cn/direct/b7ca7b4ac3d7417a863a856684739130.png)
>
> ![](https://i-blog.csdnimg.cn/direct/53162a04b4e843399a1adaca3524910f.png)

#### jmeter元件

##### jmeter元件和组件的介绍

> **元件：一个一个的类 右键添加线程组**
>
> ![](https://i-blog.csdnimg.cn/direct/0a4890c20c3c4efe8ff6cf35cb4e9136.png)
>
> **线程组就相当于用户 线程组就是用户的意思 因为脚本是用户的意思**
>
> **右击取样器--用来发送请求 这个就相当于是request**
>
> ![](https://i-blog.csdnimg.cn/direct/fd4c17a8297148628e90c438d3a1a528.png)
>
> **逻辑控制器--控制语句的执行顺序 if else for**
>
> **前置处理器--对请求参数进行预处理 后置处理器就是对响应结果进行处理**
>
> **断言：检查接口返回的结果与预期结果是否一致**
>
> **sleep就是等待**
>
> ![](https://i-blog.csdnimg.cn/direct/f18e539f7ac3410db6c8e5798692d2f1.png)
>
> **监听器就是查看日志**
>
> **元件就是容器的集合 组件就是方法 jdbc就是连接数据库的请求**
>
> ![](https://i-blog.csdnimg.cn/direct/6b1193ef3cf0419f838f635527b23d3e.png)
>
> ![](https://i-blog.csdnimg.cn/direct/a3e54137dcac442b982965a6c43a35dc.png)

##### jmeter的作用域原则

> **作用域就是作用范围**
>
> ![](https://i-blog.csdnimg.cn/direct/ed716bea069b47c5b5432a5387db6606.png)
>
> ![](https://i-blog.csdnimg.cn/direct/c61a10a71c454fa7a7f81c7687856a80.png)
>
> ![](https://i-blog.csdnimg.cn/direct/8120825151c04f4cbfab1f9d2f326313.png)

##### jmeter的执行顺序

> **不同元件的执行顺序按照脚本的写作顺序来执行**
>
> **写脚本的第一步就是初始化数据--**
>
> **同一作用域下的执行顺序是按照作用来排序**
>
> ![](https://i-blog.csdnimg.cn/direct/a8ad992a623d4d8691dcbfea84173e06.png)
>
> **定时器永远都在取样器的前面 监听器用来看结果**
>
> **若是在同一个作用域下有多个相同类型的元件：按照从上往下的顺序进行**  
>  ![](https://i-blog.csdnimg.cn/direct/25ea31ae9c4d4bfaa0125c3b9600212f.png)

##### 案例：执行顺序

> ![](https://i-blog.csdnimg.cn/direct/d9b8b183024f4fd99b37019b8c9adc14.png)
>
> **分析下面的执行顺序：**  
>
> ![](https://i-blog.csdnimg.cn/direct/0009b86d6d1b404eabfcb9c91dd30c77.png)![](https://i-blog.csdnimg.cn/direct/a3bcb2165bdd4c3898bd6b5c78c83a9f.png)
>
> **其中的定时器1每次都要执行一次 当父节点不是取样器的时候，对父节点下的所有子节点都要起作用**
>
> **最先执行的是定时器1--http请求1--定时器1--定时器2--http请求2--定时器1--定时器3--http请求3**

#### jmeter使用案例

##### jmeter线程组的介绍

> **当用户量很大的时候就可以做性能测试了**
>
> **特点：可以模拟多人操作 多个线程组可以一起来运行 一个用例就是一个线程组 一个线程组作为一个测试脚本**
>
> **测试脚本可以串行和并行 取样器和逻辑控制器必须依赖线程组才能使用**
>
> ![](https://i-blog.csdnimg.cn/direct/d4a793cd9eec40a5927d3d291b11cb13.png)
>
> **分类：前置处理setup和后置处理**
>
> ![](https://i-blog.csdnimg.cn/direct/9ed2bb2ef07040aca10eff148c54b5bb.png)
>
> **百度京东淘宝属于是并行 qq和搜狐分别位于首尾**
>
> ![](https://i-blog.csdnimg.cn/direct/54772d964f644da8a921939bf605665b.png)
>
> **setup：前置处理以及初始化的操作**
>
> ![](https://i-blog.csdnimg.cn/direct/f1c4c83289194adf806ec9176327c58f.png)
>
> ![](https://i-blog.csdnimg.cn/direct/daddacdcade04a03be9d72a852c048c9.png)
>
> ![](https://i-blog.csdnimg.cn/direct/2b9853e0463245a5903fa9f409d77d38.png)
>
> **线程数就是虚拟用户数**
>
> ![](https://i-blog.csdnimg.cn/direct/967dc71aed2a48deb09dadd4c26173d4.png)
>
> **线程组就是模拟用户 支持多用户操作 多个线程组之间可以串行执行，也可以并行执行**

##### jmeter线程组的参数介绍

> ![](https://i-blog.csdnimg.cn/direct/fd119816fbaf42c2879fe000d0613177.png)
>
> **为了更好的模拟用户的使用情况 可以虚拟用户启动所需要的时间**
>
> **线程数就是用户数**
>
> **循环次数为永远就是一直在运行**
>
> **下面的要想生效 就必须勾选调度器 设置等待时间**
>
> ![](https://i-blog.csdnimg.cn/direct/c8be848099fc4529b3b4b4f998dfe927.png)
>
> **模拟十个用户并行执行： 5s内启动完成**  
>  ![](https://i-blog.csdnimg.cn/direct/fd4d283bb4234286b7bf1d427094f340.png)
>
> **jmeter是以毫秒为单位的**
>
> **性能测试就是大量的数据请求**
>
> **负载测试就是一组一组往上加**
>
> **性能就是研究大量的数据请求**
>
> ![](https://i-blog.csdnimg.cn/direct/2b92138d32a14db2814613398e539dcf.png)
>
> **压力测试 负载测试测试的时间长差不多两个小时 稳定性测试12h**

##### http取样器参数详解

> ![](https://i-blog.csdnimg.cn/direct/6c89f319432e4589a9dd205d759f0a15.png)
>
> **get在path路径中进行传输 也可以在参数列表当中，以键值对的方式进行传输**
>
> ![](https://i-blog.csdnimg.cn/direct/203f3563f3ac448c9c0b73c89eb5b33f.png)
>
> ![](https://i-blog.csdnimg.cn/direct/aa6b95f7b62e4f03a750668269d27eed.png)
>
> ![](https://i-blog.csdnimg.cn/direct/f59c19842cab4b008a235a30f0d0e41f.png)
>
> ![](https://i-blog.csdnimg.cn/direct/e791c9fa0d2e4421b64aef5aa6dc868b.png)
>
> ![](https://i-blog.csdnimg.cn/direct/e373e55caabf4affac8914f216912713.png)
>
> **post只能添加form类型的**
>
> **响应结果显示乱码：修改配置文件：bin目录下**
>
> ![](https://i-blog.csdnimg.cn/direct/1a7dc6bba52648a8af76d775efe97c07.png)
>
> ![](https://i-blog.csdnimg.cn/direct/79fac42299c44c87a3b271ce67378385.png)

#### jemter参数化

> ##### 参数化的介绍
>
> **参数化：使用参数的方式来替代脚本中的固定的测试数据**
>
> ![](https://i-blog.csdnimg.cn/direct/cca68cf0b5e349eda36b33b6d70e4de1.png)
>
> **参数化的形式：实现方式：参数替代脚本---文件定义的方式 数据库的方式参数化**
>
> **代码：定义变量--参数化 函数传参--参数化**
>
> ![](https://i-blog.csdnimg.cn/direct/581fb982044e422a8d02ab6243e8d2f4.png)
>
> **文件定义：实际使用不多 注册登录 添加 测试数据都是固定的情况下**
>
> **定义变量多**
>
> **数据库的方式和函数的方式比较多 适合业务需要**
>
> **参数化！=文件定义**
>
> ##### **用户定义的变量**
>
> **用户定义的变量作为全局参数使用 只要是定义的都是全局变量，不作为局部变量所使用**
>
> ![](https://i-blog.csdnimg.cn/direct/7f50aed052f545899b43f211d38e3ff5.png)
>
> ![](https://i-blog.csdnimg.cn/direct/5099a391a2454a58ac724cd041e1acbe.png)
>
> **第一步先添加线程组，所有的脚本都加在线程组下面**
>
> **第二部添加用户定义的变量**
>
> ![](https://i-blog.csdnimg.cn/direct/c0fb874c0866479993585907b20ec96f.png)
>
> **以英文作为变量**
>
> ![](https://i-blog.csdnimg.cn/direct/fa3aa3d3e1c246ea9d06a8cfeba3a836.png)
>
> **添加http请求，应用变量名 和postman很像：一个大括号，前面加一个$**
>
> **最后查看结果树**
>
> ![](https://i-blog.csdnimg.cn/direct/8cd13ffa983f46f4946caaada10240c9.png)
>
> ![](https://i-blog.csdnimg.cn/direct/0eb4c454babe4f51ace941f54a4aa290.png)
>
> **因为协议是默认的，所以就是默认的**
>
> **上面这个就是用来定义全局变量的！！！只要是全局的时候就可以使用了**
>
> ![](https://i-blog.csdnimg.cn/direct/0bdf70abca034ba9b1f3100843a05bb8.png)
>
> ![](https://i-blog.csdnimg.cn/direct/ce82cf1a3fd4450788d0d78853b8ddad.png)
>
> ##### 用户参数
>
> ![](https://i-blog.csdnimg.cn/direct/c4f1839cd3c64a03b1cc73952ee76ed4.png)
>
> **这里多加了一个用户参数！：：：**
>
> ![](https://i-blog.csdnimg.cn/direct/147ec98ac5f6441db288c13c62449ef7.png)
>
> **可以添加变量和用户，左边是变量，右边是用户**
>
> ![](https://i-blog.csdnimg.cn/direct/ad6177ceb190431d90761b898b0a6c76.png)
>
> **因为只有张三和李四，所以线程组是2 线程数就设置为2**
>
> **路径加上/S就不会有重定向**
>
> ![](https://i-blog.csdnimg.cn/direct/791f1586978b48ccb6f158271199b508.png)
>
> ![](https://i-blog.csdnimg.cn/direct/5c8ce018b27f4fdd840b86c404005feb.png)
>
> **将线程组置为2，查看结果树中直接查看响应结果，有2个http请求，分别是张三和李四**
>
> ![](https://i-blog.csdnimg.cn/direct/d6a14461e6c349b798e9d89c7bdf721d.png)
>
> ![](https://i-blog.csdnimg.cn/direct/3a18e4f681264d758762173c5e68f1e3.png)

##### CSV数据文件设置

> ![](https://i-blog.csdnimg.cn/direct/fc7925399dd74074a6f87a154ef91997.png)
>
> **添加CSV文件设置：**
>
> ![](https://i-blog.csdnimg.cn/direct/3bd98124753c4f749b0ae0409dfc4c6a.png)
>
> **配置文件名：CSV文件**
>
> **编码格式统一**
>
> **变量名称：需要读取，存在临时变量**
>
> **是否忽略首行：第一行是名字写在上面 不是就false：不忽略**
>
> **以XXX方式进行分割**
>
> ![](https://i-blog.csdnimg.cn/direct/87c917423f824255bd8961d78c52b758.png)
>
> **练习：**
>
> **添加线程组，次数是3 添加3次循环**
>
> **添加CSV数据文件设置**
>
> ![](https://i-blog.csdnimg.cn/direct/84bcc1571c9f4b2faf72301c1d673782.png)

##### counter函数

>
> **当CSV文件当中的数据比较大的时候，十万及以上数据，jemeter就崩了**![](https://i-blog.csdnimg.cn/direct/6c68844470f44918baa953af787e3755.png)
>
> **所以当数据较多，函数就会起到很大的效果**
>
> **counter函数，保证每次取得的数据是不一样的**
>
>
> **函数：可以执行统计的次数**![](https://i-blog.csdnimg.cn/direct/85f5d03786f74c9080bf7bc628c3c928.png)
>
> **true就是分开计数**



