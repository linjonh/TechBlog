---
layout: post
title: "ubuntu22.04机器人开发环境配置"
date: 2025-03-07 23:56:54 +0800
description: "【代码】ubuntu22.04机器人开发环境配置。"
keywords: "humble-tf2-web-republisher"
categories: ['编程环境', '人工智能技术', 'Gazebo']
tags: ['机器人', 'Ur', 'Ubuntu', 'Turtlebot', 'Ros', 'Humble', 'Gazebo']
artid: "146107388"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146107388
    alt: "ubuntu22.04机器人开发环境配置"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146107388
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146107388
cover: https://bing.ee123.net/img/rand?artid=146107388
image: https://bing.ee123.net/img/rand?artid=146107388
img: https://bing.ee123.net/img/rand?artid=146107388
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     ubuntu22.04机器人开发环境配置
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-dracula" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="1_ros2humble_0">
     </a>
     1. ros2环境配置（humble）
    </h3>
    <pre><code class="prism language-bash"><span class="token comment">#配置源</span>
<span class="token comment"># https://docs.ros.org/en/humble/Installation/Ubuntu-Install-Debs.html</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> software-properties-common
<span class="token function">sudo</span> add-apt-repository universe
<span class="token function">sudo</span> <span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token function">curl</span> <span class="token parameter variable">-y</span>

<span class="token comment"># 修改域名映射</span>
<span class="token function">sudo</span> <span class="token function">nano</span> /etc/hosts <span class="token comment">#199.232.68.133‌‌</span>

<span class="token comment">#安装ROS2</span>
<span class="token function">sudo</span> <span class="token function">curl</span> <span class="token parameter variable">-sSL</span> https://raw.githubusercontent.com/ros/rosdistro/master/ros.key <span class="token parameter variable">-o</span> /usr/share/keyrings/ros-archive-keyring.gpg
<span class="token builtin class-name">echo</span> <span class="token string">"deb [arch=<span class="token variable"><span class="token variable">$(</span>dpkg --print-architecture<span class="token variable">)</span></span> signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">.</span> /etc/os-release <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> $UBUNTU_CODENAME<span class="token variable">)</span></span> main"</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/ros2.list <span class="token operator">&gt;</span> /dev/null
<span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token function">sudo</span> <span class="token function">apt</span> upgrade
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> ros-humble-desktop
<span class="token builtin class-name">echo</span> <span class="token string">"source /opt/ros/humble/setup.bash"</span> <span class="token operator">&gt;&gt;</span> ~/.bashrc
<span class="token builtin class-name">source</span> ~/.bashrc

<span class="token comment"># 验证安装</span>
ros2 run demo_nodes_py listener 
ros2 run demo_nodes_cpp talker <span class="token comment">#新终端</span>
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/7778679566924d0f83370fd0dad0bfaa.png">
      <br/>
      <img alt="#新终端" src="https://i-blog.csdnimg.cn/direct/ac89eb3c00c54415ae266f74eb86b6e0.png"/>
     </img>
    </p>
    <h3>
     <a id="2_turtlebot3_27">
     </a>
     2. 机器人底盘（turtlebot3）
    </h3>
    <pre><code class="prism language-bash"><span class="token comment"># 编译环境</span>
<span class="token function">sudo</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /etc/ros/rosdep/sources.list.d
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> python3-catkin-pkg python3-rosdep python3-rosinstall-generator python3-wstool python3-rosinstall build-essential
<span class="token function">sudo</span> rosdep init
rosdep update
<span class="token comment"># 安装 turtlebot3</span>
<span class="token function">apt</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> ros-humble-turtlebot3 ros-humble-turtlebot3-simulations
<span class="token builtin class-name">echo</span> <span class="token string">"export TURTLEBOT3_MODEL=burger"</span> <span class="token operator">&gt;&gt;</span> ~/.bashrc
<span class="token builtin class-name">source</span> ~/.bashrc
<span class="token comment"># 验证安装 gazebo</span>
ros2 launch turtlebot3_gazebo empty_world.launch.py
</code></pre>
    <p>
     <a href="https://blog.csdn.net/suoxd123/article/details/145797344">
      详细步骤截图见链接
     </a>
    </p>
    <h3>
     <a id="3_UR_42">
     </a>
     3. 机械臂（UR）
    </h3>
    <pre><code class="prism language-bash"><span class="token comment"># 安装 MoveIt! 依赖</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> ros-humble-moveit ros-humble-tf2-ros ros-humble-moveit-setup-assistant ros-humble-gazebo-ros-pkgs ros-humble-ros2-control ros-humble-ros2-controllers ros-humble-gazebo-ros2-control
<span class="token comment"># 安装 UR 官方 ROS2 驱动</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> ros-humble-ur-robot-driver ros-humble-ur-description ros-humble-ur-moveit-config ros-humble-ros-gz
<span class="token comment"># 安装依赖项</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> python3-colcon-common-extensions build-essential cmake python3-pip <span class="token function">git</span>
pip3 <span class="token function">install</span> colcon-common-extensions

<span class="token comment"># 验证 UR5安装 Rviz</span>
ros2 launch ur_robot_driver ur5e.launch.py robot_ip:<span class="token operator">=</span><span class="token number">192.168</span>.10.233 simulated:<span class="token operator">=</span>True

<span class="token comment"># 安装 UR 的 Gazebo仿真</span>
ssh-keygen <span class="token parameter variable">-t</span> ed25519
<span class="token function">ssh</span> <span class="token parameter variable">-T</span> git@github.com
<span class="token builtin class-name">export</span> <span class="token assign-left variable">COLCON_WS</span><span class="token operator">=~</span>/suo/ur_gazebo
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> <span class="token variable">$COLCON_WS</span>/src
<span class="token builtin class-name">cd</span> <span class="token variable">$COLCON_WS</span>/src
<span class="token function">git</span> clone <span class="token parameter variable">-b</span> humble https://github.com/UniversalRobots/Universal_Robots_ROS2_Gazebo_Simulation.git
rosdep update <span class="token operator">&amp;&amp;</span> rosdep <span class="token function">install</span> --ignore-src --from-paths <span class="token parameter variable">-y</span>
<span class="token builtin class-name">cd</span> <span class="token variable">$COLCON_WS</span>
colcon build --symlink-install
<span class="token builtin class-name">echo</span> <span class="token string">"source ~/suo/ur_gazebo/install/setup.bash"</span> <span class="token operator">&gt;&gt;</span> ~/.bashrc
<span class="token builtin class-name">source</span> ~/.bashrc

<span class="token comment"># 验证 ur5的 gazebo 仿真</span>
ros2 launch ur_simulation_gazebo ur_sim_control.launch.py ur_type:<span class="token operator">=</span>ur5
</code></pre>
    <p>
     <a href="https://blog.csdn.net/suoxd123/article/details/145971896">
      详细步骤截图见链接Rviz
     </a>
     <br/>
     <a href="https://blog.csdn.net/suoxd123/article/details/146055329">
      详细步骤截图见链接Gazebo
     </a>
    </p>
    <h3>
     <a id="4__74">
     </a>
     4. 虚拟环境
    </h3>
    <pre><code class="prism language-bash">pip <span class="token function">install</span> ai2thor
pip <span class="token function">install</span> numpy pillow opencv-python keyboard
<span class="token comment"># 运行测试脚本验证安装 test.py</span>
from ai2thor.controller <span class="token function">import</span> Controller
controller <span class="token operator">=</span> Controller<span class="token punctuation">(</span>scene<span class="token operator">=</span><span class="token string">"FloorPlan1"</span><span class="token punctuation">)</span>
controller.step<span class="token punctuation">(</span>action<span class="token operator">=</span><span class="token string">"MoveAhead"</span><span class="token punctuation">)</span>
print<span class="token punctuation">(</span><span class="token string">"Success!"</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     <a href="https://blog.csdn.net/suoxd123/article/details/145817709">
      详细步骤截图见链接
     </a>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a:2f2f626c6f672e6373646e2e6e65742f73756f78643132332f:61727469636c652f64657461696c732f313436313037333838" class_="artid" style="display:none">
 </p>
</div>


