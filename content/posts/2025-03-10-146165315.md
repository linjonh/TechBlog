---
layout: post
title: "力扣找到一个数字的-K-美丽值C"
date: 2025-03-10 22:19:52 +0800
description: "一个整数num的美丽值定义为num中符合以下条件的knum给你整数num和k，请你返回num的 k 美丽值。0一个是一个字符串里的连续一段字符序列。2以下是 num 里长度为 k 的子字符串：- \"0\" 中的 \"24\" ：24 能整除 240。- \"2\" 中的 \"40\" ：40 能整除 240。所以，k 美丽值为 2。2以下是 num 里长度为 k 的子字符串：- \"0043\" 中的 \"43\" ：43 能整除 430043。- \"4。"
keywords: "力扣：找到一个数字的 K 美丽值（C++）"
categories: ['未分类']
tags: ['前端', 'Leetcode', 'C']
artid: "146165315"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146165315
    alt: "力扣找到一个数字的-K-美丽值C"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146165315
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146165315
cover: https://bing.ee123.net/img/rand?artid=146165315
image: https://bing.ee123.net/img/rand?artid=146165315
img: https://bing.ee123.net/img/rand?artid=146165315
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     力扣：找到一个数字的 K 美丽值（C++）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <blockquote>
     <p>
      一个整数
      <code>
       num
      </code>
      的
      <strong>
       k
      </strong>
      美丽值定义为
      <code>
       num
      </code>
      中符合以下条件的
      <strong>
       子字符串
      </strong>
      数目：
     </p>
     <ul>
      <li>
       子字符串长度为
       <code>
        k
       </code>
       。
      </li>
      <li>
       子字符串能整除
       <code>
        num
       </code>
       。
      </li>
     </ul>
     <p>
      给你整数
      <code>
       num
      </code>
      和
      <code>
       k
      </code>
      ，请你返回
      <em>
      </em>
      <code>
       num
      </code>
      的 k 美丽值。
     </p>
     <p>
      注意：
     </p>
     <ul>
      <li>
       允许有
       <strong>
        前缀
       </strong>
       <strong>
        0
       </strong>
       。
      </li>
      <li>
       <code>
        0
       </code>
       不能整除任何值。
      </li>
     </ul>
     <p>
      一个
      <strong>
       子字符串
      </strong>
      是一个字符串里的连续一段字符序列。
     </p>
     <p>
     </p>
     <p>
      <strong>
       示例 1：
      </strong>
     </p>
     <pre><strong>输入：</strong>num = 240, k = 2
<strong>输出：</strong>2
<strong>解释：</strong>以下是 num 里长度为 k 的子字符串：
- "<em><strong>24</strong></em>0" 中的 "24" ：24 能整除 240 。
- "2<em><strong>40</strong></em>" 中的 "40" ：40 能整除 240 。
所以，k 美丽值为 2 。
</pre>
     <p>
      <strong>
       示例 2：
      </strong>
     </p>
     <pre><strong>输入：</strong>num = 430043, k = 2
<strong>输出：</strong>2
<strong>解释：</strong>以下是 num 里长度为 k 的子字符串：
- "<em><strong>43</strong></em>0043" 中的 "43" ：43 能整除 430043 。
- "4<em><strong>30</strong></em>043" 中的 "30" ：30 不能整除 430043 。
- "43<em><strong>00</strong></em>43" 中的 "00" ：0 不能整除 430043 。
- "430<em><strong>04</strong></em>3" 中的 "04" ：4 不能整除 430043 。
- "4300<em><strong>43</strong></em>" 中的 "43" ：43 能整除 430043 。
所以，k 美丽值为 2 。
</pre>
     <p>
     </p>
     <p>
      <strong>
       提示：
      </strong>
     </p>
     <ul>
      <li>
       <code>
        1 &lt;= num &lt;= 109
       </code>
      </li>
      <li>
       <code>
        1 &lt;= k &lt;= num.length
       </code>
       （将
       <code>
        num
       </code>
       视为字符串）
      </li>
     </ul>
    </blockquote>
    <h2>
     题解一
    </h2>
    <p>
    </p>
    <p>
     to_string():将int转为string
    </p>
    <p>
     stoi():将string转为int    //在这里用的是strtoll()
    </p>
    <p>
     strtoll()  :用于将字符串转换为长长整型（long long int)     //使用字符串到数值的转换函数，并检查是否溢出。
    </p>
    <p>
     substr() 字符串的切片函数
    </p>
    <p>
     <code>
      end
     </code>
     是一个
     <code>
      const char*
     </code>
     类型的指针，通常用于遍历或标记字符串中的某个位置。(可以在循环中通过
     <code>
      end++
     </code>
     逐步移动指针。）
    </p>
    <p>
     <code>
      .c_str()
     </code>
     返回一个
     <code>
      const char*
     </code>
     指针，指向
     <code>
      sub
     </code>
     的
     <strong>
      首字符
     </strong>
     地址。
    </p>
    <p>
    </p>
    <pre><code class="language-cpp">#include &lt;string&gt;
#include &lt;cstdlib&gt;
#include &lt;cerrno&gt;

using namespace std;

class Solution {
public:
    int divisorSubstrings(int num, int k) {
        string s = to_string(num);
        int n = s.size();
        if (n &lt; k) return 0;
        
        int count = 0;
        for (int i = 0; i &lt;= n - k; ++i) {
            string sub = s.substr(i, k);
            char* end;
            errno = 0; // 重置错误标志
            long long val = strtoll(sub.c_str(), &amp;end, 10);
            
            // 检查转换是否完全成功
            if (end != sub.c_str() + sub.size()) {
                continue;
            }
            
            // 处理溢出情况
            if (errno == ERANGE) {
                // 只有当子字符串等于原字符串时才计数
                if (sub.size() == s.size() &amp;&amp; sub == s) {
                    ++count;
                }
                continue;
            }
            
            // 忽略值为0的情况
            if (val == 0) {
                continue;
            }
            
            // 检查是否能整除
            if (num % val == 0) {
                ++count;
            }
        }
        
        return count;
    }
};</code></pre>
    <h2>
     题解二
    </h2>
    <pre><code class="language-cpp">class Solution {
public:
    int divisorSubstrings(int num, int k) {
        long sum = 0 , p = pow(10, k) , n = num;
        //从右往左滑，当没有划到最左边
        while(n / (p / 10) &gt; 0){
            //读取当前数，如果可以整除+1
            int curNum = n % p;
            if(curNum != 0 &amp;&amp; num % curNum == 0) sum++;
            n /= 10;
        }
        return sum;
    }
};</code></pre>
    <p>
     官方给的，喜欢喜欢
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330315f37393231383538382f:61727469636c652f64657461696c732f313436313635333135" class_="artid" style="display:none">
 </p>
</div>


