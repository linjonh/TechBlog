---
layout: post
title: "macOS-安装-CMake-GUI-后找不到-cmake-命令的解决方案"
date: 2025-03-07 10:34:48 +0800
description: "本文解决macOS安装CMake GUI后找不到cmake命令的问题。"
keywords: "mac cmake cmd"
categories: ['Macos']
tags: ['Macos']
artid: "146089049"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146089049
    alt: "macOS-安装-CMake-GUI-后找不到-cmake-命令的解决方案"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146089049
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146089049
cover: https://bing.ee123.net/img/rand?artid=146089049
image: https://bing.ee123.net/img/rand?artid=146089049
img: https://bing.ee123.net/img/rand?artid=146089049
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     macOS 安装 CMake GUI 后找不到 cmake 命令的解决方案
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="_0">
     </a>
     <strong>
      问题描述
     </strong>
    </h3>
    <p>
     在 macOS 上安装 CMake 时，有多种安装方式，其中
     <strong>
      使用
      <code>
       brew install cmake
      </code>
      和直接安装 CMake GUI (
      <code>
       cmake-gui
      </code>
      ) 可能会导致不同的环境配置
     </strong>
     。如果你直接安装了
     <strong>
      CMake GUI
     </strong>
     ，在终端中运行
     <code>
      cmake
     </code>
     可能会出现：
    </p>
    <pre><code>zsh: command not found: cmake
</code></pre>
    <p>
     这说明 CMake 已安装，但
     <code>
      cmake
     </code>
     命令行工具未正确添加到
     <code>
      PATH
     </code>
     ，导致终端找不到它。
    </p>
    <hr/>
    <h3>
     <a id="_12">
     </a>
     <strong>
      问题原因
     </strong>
    </h3>
    <p>
     CMake GUI 版本默认安装在：
    </p>
    <pre><code>/Applications/CMake.app/Contents/bin/
</code></pre>
    <p>
     但这个路径
     <strong>
      不会自动添加到
      <code>
       PATH
      </code>
     </strong>
     ，所以终端无法直接识别
     <code>
      cmake
     </code>
     命令。
    </p>
    <p>
     相比之下，
     <strong>
      如果使用 Homebrew 安装 CMake
     </strong>
     （
     <code>
      brew install cmake
     </code>
     ），CMake 会自动安装到
     <code>
      /usr/local/bin
     </code>
     或
     <code>
      /opt/homebrew/bin
     </code>
     并配置
     <code>
      PATH
     </code>
     ，因此不会遇到这个问题。
    </p>
    <hr/>
    <h3>
     <a id="_CMake__PATH_26">
     </a>
     <strong>
      解决方案：手动添加 CMake 到 PATH
     </strong>
    </h3>
    <h4>
     <a id="1__28">
     </a>
     <strong>
      1. 直接运行完整路径
     </strong>
    </h4>
    <p>
     如果不想修改
     <code>
      PATH
     </code>
     ，可以直接运行完整路径：
    </p>
    <pre><code class="prism language-sh">/Applications/CMake.app/Contents/bin/cmake <span class="token parameter variable">--version</span>
</code></pre>
    <p>
     但这样使用不方便，因此推荐添加
     <code>
      PATH
     </code>
     变量。
    </p>
    <hr/>
    <h4>
     <a id="2__CMake__PATH_39">
     </a>
     <strong>
      2. 永久添加 CMake 到 PATH
     </strong>
    </h4>
    <h5>
     <a id="1_41">
     </a>
     <strong>
      （1）打开环境配置文件
     </strong>
    </h5>
    <p>
     macOS 默认使用
     <strong>
      zsh
     </strong>
     ，所以应该编辑
     <code>
      ~/.zshrc
     </code>
     （如果使用
     <code>
      bash
     </code>
     ，请修改
     <code>
      ~/.bashrc
     </code>
     ）：
    </p>
    <pre><code class="prism language-sh"><span class="token function">nano</span> ~/.zshrc
</code></pre>
    <h5>
     <a id="2_CMake__49">
     </a>
     <strong>
      （2）添加 CMake 路径
     </strong>
    </h5>
    <p>
     在文件末尾添加：
    </p>
    <pre><code class="prism language-sh"><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">"/Applications/CMake.app/Contents/bin:<span class="token environment constant">$PATH</span>"</span>
</code></pre>
    <p>
     然后按
     <code>
      Control + X
     </code>
     退出，按
     <code>
      Y
     </code>
     保存，回车确认。
    </p>
    <h5>
     <a id="3_59">
     </a>
     <strong>
      （3）重新加载配置文件
     </strong>
    </h5>
    <pre><code class="prism language-sh"><span class="token builtin class-name">source</span> ~/.zshrc
</code></pre>
    <hr/>
    <h4>
     <a id="3__CMake__67">
     </a>
     <strong>
      3. 验证 CMake 是否可用
     </strong>
    </h4>
    <p>
     重新打开终端，运行：
    </p>
    <pre><code class="prism language-sh">cmake <span class="token parameter variable">--version</span>
</code></pre>
    <p>
     如果成功，应该看到类似输出：
    </p>
    <pre><code>cmake version 3.31.5
</code></pre>
    <p>
     这表示 CMake 已经正确配置。
    </p>
    <hr/>
    <h3>
     <a id="4__85">
     </a>
     <strong>
      4. 其他方法（可选）
     </strong>
    </h3>
    <h4>
     <a id="_1_CMake_GUI__87">
     </a>
     <strong>
      方法 1：使用 CMake GUI 进行安装
     </strong>
    </h4>
    <p>
     如果已经安装了 CMake GUI，你可以使用它提供的工具来安装命令行支持：
    </p>
    <ol>
     <li>
      打开
      <strong>
       CMake GUI
      </strong>
      ：
      <pre><code class="prism language-sh"><span class="token function">open</span> /Applications/CMake.app
</code></pre>
     </li>
     <li>
      在 GUI 界面中，点击
      <strong>
       Tools -&gt; How to Install For Command Line Use
      </strong>
      。
     </li>
     <li>
      按照指南运行：
      <pre><code class="prism language-sh"><span class="token function">sudo</span> <span class="token string">"/Applications/CMake.app/Contents/bin/cmake-gui"</span> <span class="token parameter variable">--install</span>
</code></pre>
      或者：
      <pre><code class="prism language-sh"><span class="token function">sudo</span> <span class="token function">ln</span> <span class="token parameter variable">-s</span> /Applications/CMake.app/Contents/bin/cmake /usr/local/bin/cmake
</code></pre>
     </li>
    </ol>
    <hr/>
    <h4>
     <a id="_2_Homebrew__CMake_107">
     </a>
     <strong>
      方法 2：使用 Homebrew 安装 CMake（推荐）
     </strong>
    </h4>
    <p>
     如果不介意重新安装，Homebrew 是更方便的方式：
    </p>
    <pre><code class="prism language-sh">brew <span class="token function">install</span> cmake
</code></pre>
    <p>
     安装后，CMake 会被自动添加到
     <code>
      PATH
     </code>
     ，无需手动配置。
    </p>
    <hr/>
    <h3>
     <a id="_118">
     </a>
     <strong>
      结论
     </strong>
    </h3>
    <p>
     如果你通过
     <strong>
      CMake GUI
     </strong>
     安装 CMake，但
     <code>
      cmake
     </code>
     命令不可用，原因是
     <code>
      PATH
     </code>
     未正确配置。你可以：
    </p>
    <ol>
     <li>
      <strong>
       手动添加
       <code>
        /Applications/CMake.app/Contents/bin
       </code>
       到
       <code>
        PATH
       </code>
      </strong>
      。
     </li>
     <li>
      <strong>
       使用 CMake GUI 自带的安装工具
      </strong>
      。
     </li>
     <li>
      <strong>
       使用 Homebrew 重新安装 CMake（推荐）
      </strong>
      。
     </li>
    </ol>
   </div>
   <link href="./../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="./../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f35383634383839302f:61727469636c652f64657461696c732f313436303839303439" class_="artid" style="display:none">
 </p>
</div>


