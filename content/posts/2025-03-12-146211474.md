---
layout: post
title: "Docker从入门到精通"
date: 2025-03-12 18:09:50 +0800
description: "Docker是一个开源的容器化平台，它使用容器来打包应用及其依赖项，确保应用在任何环境中都能一致地运行。本文档涵盖了Docker的主要概念和实践内容，从基础入门到高级应用，为读者提供了完整的Docker学习路径。建议读者在实践中多加练习，逐步掌握Docker的各项功能，最终能够在生产环境中熟练运用Docker技术。"
keywords: "Docker从入门到精通"
categories: ['未分类']
tags: ['运维', '容器', 'Docker']
artid: "146211474"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146211474
    alt: "Docker从入门到精通"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146211474
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146211474
cover: https://bing.ee123.net/img/rand?artid=146211474
image: https://bing.ee123.net/img/rand?artid=146211474
img: https://bing.ee123.net/img/rand?artid=146211474
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Docker从入门到精通
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="Docker_0">
     </a>
     Docker从入门到精通
    </h2>
    <h3>
     <a id="_2">
     </a>
     目录
    </h3>
    <ol>
     <li>
      <a href="#1-docker%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5" rel="nofollow">
       Docker基础概念
      </a>
     </li>
     <li>
      <a href="#2-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE" rel="nofollow">
       安装与配置
      </a>
     </li>
     <li>
      <a href="#3-%E5%AE%B9%E5%99%A8%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C" rel="nofollow">
       容器基本操作
      </a>
     </li>
     <li>
      <a href="#4-docker%E9%95%9C%E5%83%8F%E7%AE%A1%E7%90%86" rel="nofollow">
       Docker镜像管理
      </a>
     </li>
     <li>
      <a href="#5-dockerfile%E8%AF%A6%E8%A7%A3" rel="nofollow">
       Dockerfile详解
      </a>
     </li>
     <li>
      <a href="#6-docker-compose" rel="nofollow">
       Docker Compose
      </a>
     </li>
     <li>
      <a href="#7-docker%E7%BD%91%E7%BB%9C" rel="nofollow">
       Docker网络
      </a>
     </li>
     <li>
      <a href="#8-%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86" rel="nofollow">
       数据管理
      </a>
     </li>
     <li>
      <a href="#9-docker-swarm%E9%9B%86%E7%BE%A4" rel="nofollow">
       Docker Swarm集群
      </a>
     </li>
     <li>
      <a href="#10-%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5" rel="nofollow">
       生产环境最佳实践
      </a>
     </li>
    </ol>
    <h3>
     <a id="1_Docker_15">
     </a>
     1. Docker基础概念
    </h3>
    <h4>
     <a id="11_Docker_17">
     </a>
     1.1 什么是Docker
    </h4>
    <p>
     Docker是一个开源的容器化平台，它使用容器来打包应用及其依赖项，确保应用在任何环境中都能一致地运行。
    </p>
    <h4>
     <a id="12__21">
     </a>
     1.2 核心概念
    </h4>
    <ul>
     <li>
      <strong>
       镜像（Image）
      </strong>
      ：只读模板，用于创建容器
     </li>
     <li>
      <strong>
       容器（Container）
      </strong>
      ：镜像的运行实例
     </li>
     <li>
      <strong>
       仓库（Repository）
      </strong>
      ：存储和分发镜像的服务
     </li>
     <li>
      <strong>
       Docker引擎
      </strong>
      ：运行和管理容器的核心组件
     </li>
    </ul>
    <h4>
     <a id="13_Docker_28">
     </a>
     1.3 Docker架构
    </h4>
    <pre><code>┌─────────────────────────────────────────┐
│            Docker 客户端                 │
└───────────────────┬─────────────────────┘
                    │
                    ▼
┌─────────────────────────────────────────┐
│            Docker 守护进程               │
│    ┌─────────────┐    ┌──────────────┐  │
│    │   镜像      │    │    容器      │  │
│    └─────────────┘    └──────────────┘  │
└─────────────────────────────────────────┘
</code></pre>
    <h3>
     <a id="2__44">
     </a>
     2. 安装与配置
    </h3>
    <h4>
     <a id="21_Windows_46">
     </a>
     2.1 Windows安装
    </h4>
    <ol>
     <li>
      下载Docker Desktop
     </li>
     <li>
      启用Hyper-V（Windows 10 Pro以上）
     </li>
     <li>
      运行安装程序
     </li>
     <li>
      验证安装：
      <code>
       docker --version
      </code>
     </li>
    </ol>
    <h4>
     <a id="22_Linux_53">
     </a>
     2.2 Linux安装
    </h4>
    <pre><code class="prism language-bash"><span class="token comment"># Ubuntu</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> docker-ce

<span class="token comment"># CentOS</span>
<span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce
</code></pre>
    <h4>
     <a id="23__64">
     </a>
     2.3 基本配置
    </h4>
    <ul>
     <li>
      配置镜像加速
     </li>
     <li>
      设置Docker daemon
     </li>
     <li>
      配置资源限制
     </li>
    </ul>
    <h3>
     <a id="3__70">
     </a>
     3. 容器基本操作
    </h3>
    <h4>
     <a id="31__72">
     </a>
     3.1 容器生命周期
    </h4>
    <pre><code class="prism language-bash"><span class="token comment"># 创建并运行容器</span>
<span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 nginx

<span class="token comment"># 停止容器</span>
<span class="token function">docker</span> stop <span class="token operator">&lt;</span>container_id<span class="token operator">&gt;</span>

<span class="token comment"># 启动容器</span>
<span class="token function">docker</span> start <span class="token operator">&lt;</span>container_id<span class="token operator">&gt;</span>

<span class="token comment"># 重启容器</span>
<span class="token function">docker</span> restart <span class="token operator">&lt;</span>container_id<span class="token operator">&gt;</span>

<span class="token comment"># 删除容器</span>
<span class="token function">docker</span> <span class="token function">rm</span> <span class="token operator">&lt;</span>container_id<span class="token operator">&gt;</span>
</code></pre>
    <h4>
     <a id="32__91">
     </a>
     3.2 容器管理命令
    </h4>
    <pre><code class="prism language-bash"><span class="token comment"># 查看运行中的容器</span>
<span class="token function">docker</span> <span class="token function">ps</span>

<span class="token comment"># 查看所有容器</span>
<span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span>

<span class="token comment"># 查看容器日志</span>
<span class="token function">docker</span> logs <span class="token operator">&lt;</span>container_id<span class="token operator">&gt;</span>

<span class="token comment"># 进入容器</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> <span class="token operator">&lt;</span>container_id<span class="token operator">&gt;</span> /bin/bash
</code></pre>
    <h3>
     <a id="4_Docker_107">
     </a>
     4. Docker镜像管理
    </h3>
    <h4>
     <a id="41__109">
     </a>
     4.1 镜像操作
    </h4>
    <pre><code class="prism language-bash"><span class="token comment"># 搜索镜像</span>
<span class="token function">docker</span> search nginx

<span class="token comment"># 拉取镜像</span>
<span class="token function">docker</span> pull nginx:latest

<span class="token comment"># 查看本地镜像</span>
<span class="token function">docker</span> images

<span class="token comment"># 删除镜像</span>
<span class="token function">docker</span> rmi <span class="token operator">&lt;</span>image_id<span class="token operator">&gt;</span>
</code></pre>
    <h4>
     <a id="42__125">
     </a>
     4.2 镜像仓库
    </h4>
    <ul>
     <li>
      Docker Hub使用
     </li>
     <li>
      私有仓库搭建
     </li>
     <li>
      镜像推送与拉取
     </li>
    </ul>
    <h3>
     <a id="5_Dockerfile_131">
     </a>
     5. Dockerfile详解
    </h3>
    <h4>
     <a id="51__133">
     </a>
     5.1 基本指令
    </h4>
    <pre><code class="prism language-dockerfile"># 基础镜像
FROM node:14

# 工作目录
WORKDIR /app

# 复制文件
COPY package*.json ./

# 运行命令
RUN npm install

# 复制源代码
COPY . .

# 暴露端口
EXPOSE 3000

# 启动命令
CMD ["npm", "start"]
</code></pre>
    <h4>
     <a id="52__158">
     </a>
     5.2 最佳实践
    </h4>
    <ul>
     <li>
      使用多阶段构建
     </li>
     <li>
      优化镜像大小
     </li>
     <li>
      合理使用缓存
     </li>
    </ul>
    <h3>
     <a id="6_Docker_Compose_164">
     </a>
     6. Docker Compose
    </h3>
    <h4>
     <a id="61__166">
     </a>
     6.1 基本概念
    </h4>
    <p>
     Docker Compose用于定义和运行多容器Docker应用程序。
    </p>
    <h4>
     <a id="62__170">
     </a>
     6.2 配置文件
    </h4>
    <pre><code class="prism language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3'</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">web</span><span class="token punctuation">:</span>
    <span class="token key atrule">build</span><span class="token punctuation">:</span> .
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"3000:3000"</span>
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> db
  <span class="token key atrule">db</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> mysql<span class="token punctuation">:</span><span class="token number">5.7</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">MYSQL_ROOT_PASSWORD</span><span class="token punctuation">:</span> root
</code></pre>
    <h4>
     <a id="63__187">
     </a>
     6.3 常用命令
    </h4>
    <pre><code class="prism language-bash"><span class="token comment"># 启动服务</span>
<span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span>

<span class="token comment"># 停止服务</span>
<span class="token function">docker-compose</span> down

<span class="token comment"># 查看服务状态</span>
<span class="token function">docker-compose</span> <span class="token function">ps</span>
</code></pre>
    <h3>
     <a id="7_Docker_200">
     </a>
     7. Docker网络
    </h3>
    <h4>
     <a id="71__202">
     </a>
     7.1 网络类型
    </h4>
    <ul>
     <li>
      bridge：默认网络驱动程序
     </li>
     <li>
      host：容器使用主机网络
     </li>
     <li>
      none：禁用网络功能
     </li>
     <li>
      overlay：Swarm服务之间的通信
     </li>
    </ul>
    <h4>
     <a id="72__209">
     </a>
     7.2 网络管理
    </h4>
    <pre><code class="prism language-bash"><span class="token comment"># 创建网络</span>
<span class="token function">docker</span> network create mynetwork

<span class="token comment"># 连接容器到网络</span>
<span class="token function">docker</span> network connect mynetwork container1
</code></pre>
    <h3>
     <a id="8__219">
     </a>
     8. 数据管理
    </h3>
    <h4>
     <a id="81_Volumes_221">
     </a>
     8.1 数据卷（Volumes）
    </h4>
    <pre><code class="prism language-bash"><span class="token comment"># 创建数据卷</span>
<span class="token function">docker</span> volume create myvolume

<span class="token comment"># 使用数据卷</span>
<span class="token function">docker</span> run <span class="token parameter variable">-v</span> myvolume:/data nginx
</code></pre>
    <h4>
     <a id="82__231">
     </a>
     8.2 挂载类型
    </h4>
    <ul>
     <li>
      volumes：由Docker管理
     </li>
     <li>
      bind mounts：直接映射主机目录
     </li>
     <li>
      tmpfs：临时文件系统
     </li>
    </ul>
    <h3>
     <a id="9_Docker_Swarm_237">
     </a>
     9. Docker Swarm集群
    </h3>
    <h4>
     <a id="91__239">
     </a>
     9.1 基本概念
    </h4>
    <ul>
     <li>
      节点（Node）
     </li>
     <li>
      服务（Service）
     </li>
     <li>
      任务（Task）
     </li>
     <li>
      堆栈（Stack）
     </li>
    </ul>
    <h4>
     <a id="92__246">
     </a>
     9.2 集群管理
    </h4>
    <pre><code class="prism language-bash"><span class="token comment"># 初始化swarm</span>
<span class="token function">docker</span> swarm init

<span class="token comment"># 加入集群</span>
<span class="token function">docker</span> swarm <span class="token function">join</span>

<span class="token comment"># 部署服务</span>
<span class="token function">docker</span> <span class="token function">service</span> create <span class="token parameter variable">--replicas</span> <span class="token number">3</span> nginx
</code></pre>
    <h3>
     <a id="10__259">
     </a>
     10. 生产环境最佳实践
    </h3>
    <h4>
     <a id="101__261">
     </a>
     10.1 安全性建议
    </h4>
    <ul>
     <li>
      使用非root用户运行容器
     </li>
     <li>
      定期更新基础镜像
     </li>
     <li>
      扫描镜像漏洞
     </li>
     <li>
      实施访问控制
     </li>
    </ul>
    <h4>
     <a id="102__268">
     </a>
     10.2 性能优化
    </h4>
    <ul>
     <li>
      合理设置资源限制
     </li>
     <li>
      使用多阶段构建
     </li>
     <li>
      优化镜像层数
     </li>
     <li>
      使用合适的存储驱动
     </li>
    </ul>
    <h4>
     <a id="103__275">
     </a>
     10.3 监控与日志
    </h4>
    <ul>
     <li>
      使用Docker stats监控容器
     </li>
     <li>
      集成日志收集系统
     </li>
     <li>
      实施告警机制
     </li>
     <li>
      性能指标监控
     </li>
    </ul>
    <h4>
     <a id="104__282">
     </a>
     10.4 备份策略
    </h4>
    <ul>
     <li>
      数据卷备份
     </li>
     <li>
      容器配置备份
     </li>
     <li>
      定期备份计划
     </li>
     <li>
      灾难恢复方案
     </li>
    </ul>
    <h3>
     <a id="_289">
     </a>
     结语
    </h3>
    <p>
     本文档涵盖了Docker的主要概念和实践内容，从基础入门到高级应用，为读者提供了完整的Docker学习路径。建议读者在实践中多加练习，逐步掌握Docker的各项功能，最终能够在生产环境中熟练运用Docker技术。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f32303333333330332f:61727469636c652f64657461696c732f313436323131343734" class_="artid" style="display:none">
 </p>
</div>


