---
layout: post
title: "CentOS7-安装配置HTTP服务器详解"
date: 2022-08-20 17:53:27 +0800
description: "Apache是一个模块化的服务器，源于NCSAhttpd服务器，经过多次修改，成为世界使用排名第一的"
keywords: "CentOS7 安装配置HTTP服务器详解"
categories: ['虚拟机与云服务器']
tags: ['服务器', 'Linux', 'Http', 'Centos']
artid: "126442323"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=126442323
    alt: "CentOS7-安装配置HTTP服务器详解"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=126442323
featuredImagePreview: https://bing.ee123.net/img/rand?artid=126442323
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     CentOS7 安装配置HTTP服务器详解
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="CentOS7_HTTP_0">
     </a>
     CentOS7 安装配置HTTP服务器详解
    </h2>
    <h2>
     <a id="1HTTP_2">
     </a>
     1、HTTP简介
    </h2>
    <p>
     <strong>
      Apache HTTP
     </strong>
     <strong>
      <a href="https://baike.baidu.com/item/Server" rel="nofollow">
       Server
      </a>
     </strong>
     （简称
     <strong>
      Apache
     </strong>
     ），中文名：阿帕奇，是
     <a href="https://baike.baidu.com/item/Apache%E8%BD%AF%E4%BB%B6%E5%9F%BA%E9%87%91%E4%BC%9A" rel="nofollow">
      Apache软件基金会
     </a>
     的一个开放源码的网页服务器
    </p>
    <p>
     Apache HTTP服务器是一个模块化的服务器，源于NCSAhttpd服务器，经过多次修改，成为世界使用排名第一的Web服务器软件
    </p>
    <p>
     它快速、可靠并且可通过简单的API扩展，将Perl/Python等解释器编译到服务器中，可以在大多数
     <code>
      计算机操作系统
     </code>
     中运行，由于其跨平台和安全性被广泛使用，是最流行的Web服务器端软件之一
    </p>
    <h2>
     <a id="2_12">
     </a>
     2、关闭防火墙
    </h2>
    <p>
     为了避免不必要的麻烦，我们先关闭防火墙和selinux，等搭建成功之后再开启防火墙和相应的端口
    </p>
    <pre><code class="prism language-bash"><span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># systemctl status firewalld.service        # 查看防火墙状态</span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># systemctl stop firewalld.service          # 停止防火墙服务</span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># systemctl disable firewalld.service       # 关闭防火墙开启自启动</span>
<span class="token comment"># 把文件中的SELINUX=enforcing 改为SELINUX=disabled</span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/selinux/config          </span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># setenforce 0                              # 使修改马上生效</span>
</code></pre>
    <h2>
     <a id="3HTTP_28">
     </a>
     3、安装HTTP软件包
    </h2>
    <blockquote>
     <p>
      查看一下系统版本
     </p>
    </blockquote>
    <pre><code class="prism language-bash"><span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># rpm -q centos-release</span>
centos-release-7-9.2009.0.el7.centos.x86_64
</code></pre>
    <blockquote>
     <p>
      查看是否已经安装了http服务器
     </p>
    </blockquote>
    <pre><code class="prism language-bash"><span class="token comment"># 如果没有返回任何结果，表示没有安装；如果返回文件包名，这表示已经安装了该服务；</span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># httpd -version</span>
Server version: Apache/2.4.6 <span class="token punctuation">(</span>CentOS<span class="token punctuation">)</span>
Server built:   Oct  <span class="token number">1</span> <span class="token number">2020</span> <span class="token number">16</span>:52:05            <span class="token comment"># 代表已安装             </span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># rpm -qa|grep httpd</span>
httpd-manual-2.4.6-95.el7.centos.noarch
httpd-tools-2.4.6-95.el7.centos.x86_64
httpd-2.4.6-95.el7.centos.x86_64                <span class="token comment"># 代表已安装</span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># rpm -e httpd-manual-2.4.6-95.el7.centos.noarch    # 卸载httpd </span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># rpm -e httpd-2.4.6-95.el7.centos.x86_64         </span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># rpm -e httpd-tools-2.4.6-95.el7.centos.x86_64         </span>
<span class="token comment"># 再次检查</span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># rpm -qa|grep httpd</span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># httpd -version</span>
-bash: /usr/sbin/httpd: 没有那个文件或目录.
</code></pre>
    <blockquote>
     <p>
      开始安装
     </p>
    </blockquote>
    <ul>
     <li>
      采用
      <code>
       yum
      </code>
      在线安装方式
     </li>
    </ul>
    <pre><code class="prism language-bash"><span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># yum install -y mod_ssl openssl httpd</span>
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/b4df093841fb4f987f2807fc024c5f1e.png#pic_center"/>
    </p>
    <ul>
     <li>
      采用
      <code>
       rpm
      </code>
      离线安装方式
     </li>
    </ul>
    <p>
     <a href="https://pkgs.org/search/?q=httpd" rel="nofollow">
      *.rpm下载
     </a>
     <a href="https://download.csdn.net/download/weixin_45688268/86402082">
      快捷下载
     </a>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/3b2ee97a16e677e40fe5b33c171798f7.png#pic_center"/>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/dc47926e3091edcb81f892246a803c4b.png#pic_center"/>
    </p>
    <pre><code class="prism language-bash"><span class="token comment"># 进入准备好httpd服务所需要依赖的目录</span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># cd /data/http/httpuser/</span>
<span class="token punctuation">[</span>root@centos7 httpuser<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">4740</span>
-rw-r--r-- <span class="token number">1</span> sftpuser <span class="token function">sftp</span>  <span class="token number">106124</span> <span class="token number">8</span>月  <span class="token number">12</span> <span class="token number">23</span>:55 apr-1.4.8-7.el7.x86_64.rpm
-rw-r--r-- <span class="token number">1</span> sftpuser <span class="token function">sftp</span>   <span class="token number">94132</span> <span class="token number">8</span>月  <span class="token number">12</span> <span class="token number">23</span>:55 apr-util-1.5.2-6.el7.x86_64.rpm
-rw-r--r-- <span class="token number">1</span> sftpuser <span class="token function">sftp</span>   <span class="token number">18976</span> <span class="token number">8</span>月  <span class="token number">12</span> <span class="token number">23</span>:55 apr-util-ldap-1.5.2-6.el7.x86_64.rpm
-rw-r--r-- <span class="token number">1</span> sftpuser <span class="token function">sftp</span> <span class="token number">2846172</span> <span class="token number">8</span>月  <span class="token number">12</span> <span class="token number">23</span>:55 httpd-2.4.6-95.el7.centos.x86_64.rpm
-rw-r--r-- <span class="token number">1</span> sftpuser <span class="token function">sftp</span> <span class="token number">1409564</span> <span class="token number">8</span>月  <span class="token number">13</span> <span class="token number">10</span>:21 httpd-manual-2.4.6-95.el7.centos.noarch.rpm
-rw-r--r-- <span class="token number">1</span> sftpuser <span class="token function">sftp</span>   <span class="token number">95136</span> <span class="token number">8</span>月  <span class="token number">12</span> <span class="token number">23</span>:55 httpd-tools-2.4.6-95.el7.centos.x86_64.rpm
-rw-r--r-- <span class="token number">1</span> sftpuser <span class="token function">sftp</span>   <span class="token number">31264</span> <span class="token number">8</span>月  <span class="token number">12</span> <span class="token number">23</span>:55 mailcap-2.1.41-2.el7.noarch.rpm
-rw-r--r-- <span class="token number">1</span> sftpuser <span class="token function">sftp</span>  <span class="token number">116812</span> <span class="token number">8</span>月  <span class="token number">12</span> <span class="token number">23</span>:55 mod_ssl-2.4.6-95.el7.centos.x86_64.rpm
-rw-r--r-- <span class="token number">1</span> sftpuser <span class="token function">sftp</span>  <span class="token number">239900</span> <span class="token number">8</span>月  <span class="token number">12</span> <span class="token number">23</span>:55 postgresql-libs-9.2.24-4.el7_8.x86_64.rpm

<span class="token comment"># 开始安装</span>
- 安装依赖的顺序按照以下先后顺序进行
- 安装rpm包的命令：rpm -ivh 包名
<span class="token punctuation">[</span>root@centos7 httpuser<span class="token punctuation">]</span><span class="token comment"># rpm -ivh apr-1.4.8-7.el7.x86_64.rpm</span>
<span class="token punctuation">[</span>root@centos7 httpuser<span class="token punctuation">]</span><span class="token comment"># rpm -ivh apr-util-1.5.2-6.el7.x86_64.rpm</span>
<span class="token punctuation">[</span>root@centos7 httpuser<span class="token punctuation">]</span><span class="token comment"># rpm -ivh apr-util-ldap-1.5.2-6.el7.x86_64.rpm</span>
<span class="token punctuation">[</span>root@centos7 httpuser<span class="token punctuation">]</span><span class="token comment"># rpm -ivh mailcap-2.1.41-2.el7.noarch.rpm</span>
<span class="token punctuation">[</span>root@centos7 httpuser<span class="token punctuation">]</span><span class="token comment"># rpm -ivh postgresql-libs-9.2.24-4.el7_8.x86_64.rpm</span>
<span class="token punctuation">[</span>root@centos7 httpuser<span class="token punctuation">]</span><span class="token comment"># rpm -ivh httpd-tools-2.4.6-95.el7.centos.x86_64.rpm</span>
<span class="token punctuation">[</span>root@centos7 httpuser<span class="token punctuation">]</span><span class="token comment"># rpm -ivh httpd-2.4.6-95.el7.centos.x86_64.rpm</span>
<span class="token punctuation">[</span>root@centos7 httpuser<span class="token punctuation">]</span><span class="token comment"># rpm -ivh httpd-manual-2.4.6-95.el7.centos.noarch.rpm</span>
<span class="token punctuation">[</span>root@centos7 httpuser<span class="token punctuation">]</span><span class="token comment"># rpm -ivh mod_ssl-2.4.6-95.el7.centos.x86_64.rpm</span>
</code></pre>
    <ul>
     <li>
      采用
      <code>
       tar.gz
      </code>
      编译安装方式
     </li>
    </ul>
    <p>
     <a href="http://archive.apache.org/dist/httpd/" rel="nofollow">
      *.tar.gz下载
     </a>
     此方法的安装过程自行百度，此处不在做介绍
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/01a95b42550287bcf86b0e5cc686334f.png#pic_center"/>
    </p>
    <blockquote>
     <p>
      设置为开机自动启动服务
     </p>
    </blockquote>
    <pre><code class="prism language-bash"><span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># systemctl enable httpd.service</span>
</code></pre>
    <blockquote>
     <p>
      启动httpd服务
     </p>
    </blockquote>
    <pre><code class="prism language-bash"><span class="token comment"># http服务器的服务名是httpd，相关的操作如下：</span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># systemctl start  httpd.service      # 启动服务</span>
systemctl stop  httpd.service                         <span class="token comment"># 停止服务</span>
systemctl restart httpd.service                       <span class="token comment"># 重启服务</span>
systemctl status httpd.service                        <span class="token comment"># 查看服务状态</span>
systemctl <span class="token builtin class-name">enable</span> httpd.service                        <span class="token comment"># 设置开机自启动httpd服务</span>
systemctl disable httpd.service                       <span class="token comment"># 禁用开机自启动httpd服务</span>
</code></pre>
    <h2>
     <a id="4HTTP_134">
     </a>
     4、配置HTTP服务器
    </h2>
    <blockquote>
     <p>
      备份配置文件
     </p>
    </blockquote>
    <pre><code class="prism language-bash"><span class="token comment"># Apache默认将网站的根目录指向/var/www/html</span>
<span class="token comment"># 默认的主配置文件/etc/httpd/conf/httpd.conf</span>
<span class="token comment"># 配置存储在的/etc/httpd/conf.d/目录</span>

<span class="token comment"># 防止后期配置文件出错后无法还原</span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># cp /etc/httpd/conf/httpd.conf /etc/httpd/conf/httpd.conf.backup</span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># cd /etc/httpd/conf/</span>
<span class="token punctuation">[</span>root@centos7 ssh<span class="token punctuation">]</span><span class="token comment"># ll</span>
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
-rw-r--r-- <span class="token number">1</span> root root <span class="token number">11752</span> <span class="token number">8</span>月  <span class="token number">13</span> <span class="token number">12</span>:02 httpd.conf
-rw-r--r-- <span class="token number">1</span> root root <span class="token number">11752</span> <span class="token number">8</span>月  <span class="token number">16</span> <span class="token number">22</span>:10 httpd.conf.backup
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
</code></pre>
    <p>
     <mark>
      其余配置默认就好
     </mark>
    </p>
    <blockquote>
     <p>
      新建一个测试文件
     </p>
    </blockquote>
    <pre><code class="prism language-bash"><span class="token comment"># 先新建一个存放文件的文件夹并授权</span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># mkdir -p /var/www/html/upload</span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># chmod 755 /var/www/html/upload</span>
<span class="token comment"># 进入文件夹</span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># cd /var/www/html/upload</span>
<span class="token comment"># 新建测试文件，然后保存退出</span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># vim 测试_20220712.txt</span>
<span class="token punctuation">[</span>root@centos7 upload<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre>
    <h2>
     <a id="5_172">
     </a>
     5、重启并配置防火墙
    </h2>
    <pre><code class="prism language-bash">systemctl <span class="token builtin class-name">enable</span> firewalld.service                   <span class="token comment"># 重启防火墙开机自启动</span>
systemctl restart firewalld.service                  <span class="token comment"># 重启防火墙服务</span>
firewall-cmd --version                               <span class="token comment"># 查看防火墙版本</span>
firewall-cmd --list-all       					     <span class="token comment"># 查看已开放的端口</span>
firewall-cmd --query-port<span class="token operator">=</span><span class="token number">80</span>/tcp                     <span class="token comment"># 查询TCP的80端口占用情况  </span>
firewall-cmd --permanent --zone<span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">80</span>/tcp     <span class="token comment"># 开通http服务80端口</span>
firewall-cmd --reload                                <span class="token comment"># 刷新防火墙，重新载入</span>
<span class="token comment"># 设置关闭SELinux对ftp的限制</span>
setsebool -P ftpd_full_access on
<span class="token function">sed</span> -i s<span class="token comment">#enforcing#disabled#g /etc/sysconfig/selinux</span>
setenforce <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> getenforce
getenforce
</code></pre>
    <h2>
     <a id="6HTTP_191">
     </a>
     6、重启HTTP服务
    </h2>
    <pre><code class="prism language-bash">systemctl restart httpd.service
</code></pre>
    <p>
     <strong>
      至此，HTTP其实就已经搭建成功，可以登录了！
     </strong>
    </p>
    <h2>
     <a id="7_201">
     </a>
     7、访问测试
    </h2>
    <blockquote>
     <p>
      查看IP地址
     </p>
    </blockquote>
    <p>
     <code>
      ip addr
     </code>
    </p>
    <p>
     <mark>
      注意：
     </mark>
    </p>
    <ul>
     <li>
      云服务器的ip地址为
      <code>
       公网ip地址
      </code>
     </li>
     <li>
      虚拟机的ip地址为NAT模式下的
      <code>
       固定ip地址
      </code>
      ，下图用的就是固定ip
     </li>
    </ul>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/bd4aee4579a10f7ac3609cceda6ce3c5.png#pic_center"/>
    </p>
    <blockquote>
     <p>
      浏览器访问测试
     </p>
    </blockquote>
    <p>
     在浏览器中输入：
     <code>
      http://你的ip地址
     </code>
     ，显示如下
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/8b2bb129fb2f1d39734bdfa8a198f6bd.png#pic_center"/>
    </p>
    <h2>
     <a id="8_222">
     </a>
     8、拓展配置
    </h2>
    <blockquote>
     <p>
      文件目录列表访问问题
     </p>
    </blockquote>
    <p>
     <code>
      vim /etc/httpd/conf.d/welcome.conf
     </code>
    </p>
    <pre><code class="prism language-bash"><span class="token comment"># 修改/etc/httpd/conf.d/welcome.conf配置文件</span>
<span class="token comment"># 把Options -Indexes中的减号改为加号</span>
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
<span class="token operator">&lt;</span>LocationMatch <span class="token string">"^/+$"</span><span class="token operator">&gt;</span>
    Options +Indexes
    ErrorDocument <span class="token number">403</span> /.noindex.html
<span class="token operator">&lt;</span>/LocationMatch<span class="token operator">&gt;</span>
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
<span class="token comment"># 重启httpd服务</span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># systemctl restart httpd.service</span>
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/5612cb149c355f71fa028f308eddc978.png#pic_center"/>
    </p>
    <blockquote>
     <p>
      静态资源名称乱码问题
     </p>
    </blockquote>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/5a714ca65b3cdab20c8945708d3be079.png#pic_center"/>
    </p>
    <p>
     <code>
      vim /etc/httpd/conf/httpd.conf
     </code>
    </p>
    <pre><code class="prism language-bash"><span class="token comment"># 编辑httpd配置文件，增加（或修改）页面的默认编码类型为UTF-8</span>
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
IndexOptions <span class="token assign-left variable">Charset</span><span class="token operator">=</span>UTF-8
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
<span class="token comment"># 重启httpd服务</span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># systemctl restart httpd.service</span>
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/4cf10ffbea3d805b4859ddbb5ba76297.png#pic_center"/>
    </p>
    <blockquote>
     <p>
      点击链接直接在浏览器中打开的问题
     </p>
    </blockquote>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/1ea1c4c24673e6a872adc615a58eb1fd.png#pic_center"/>
    </p>
    <p>
     <code>
      vim /etc/httpd/conf/httpd.conf
     </code>
    </p>
    <pre><code class="prism language-bash"><span class="token comment"># 编辑本地配置文件，将预期直接下载的文件扩展名配置上</span>
<span class="token comment"># *.txt文件直接下载</span>
AddType application/x-txt-compressed .txt  
<span class="token comment"># *.pdf文件直接下载</span>
AddType application/x-pdf-compressed .pdf
<span class="token comment"># *.json文件直接下载</span>
AddType application/x-json-compressed .json

<span class="token comment"># 重启httpd服务</span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># systemctl restart httpd.service</span>
<span class="token comment"># 清理浏览器缓存</span>
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/4944ec353850ecc47631b90cdfbb4d0f.png#pic_center"/>
    </p>
    <p>
     <mark>
      注意：
     </mark>
    </p>
    <ul>
     <li>
      配置完成并重启服务后先清理一下浏览器缓存，有可能会出现因为浏览器缓存未清理，而导致未达到预期效果的问题
     </li>
    </ul>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/1043c83974617da79432b5e5d6cf5cb4.png#pic_center"/>
    </p>
    <blockquote>
     <p>
      文件名较长显示不全的问题
     </p>
    </blockquote>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/ef14f8b4684e19266ef17686b8383682.png#pic_center"/>
    </p>
    <p>
     <code>
      vim /etc/httpd/conf.d/autoindex.conf
     </code>
    </p>
    <pre><code class="prism language-bash"><span class="token comment"># 编辑httpd配置文件，增加（或修改）索引名长度限制为*（任意长度，不作限制）</span>
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
IndexOptions FancyIndexing HTMLTable VersionSort <span class="token assign-left variable">NameWidth</span><span class="token operator">=</span>*
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
<span class="token comment"># 重启httpd服务</span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># systemctl restart httpd.service</span>
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/86f037049b6afa67f202bff5b051b5ce.png#pic_center"/>
    </p>
    <blockquote>
     <p>
      指定目录启用用户授权的问题
     </p>
    </blockquote>
    <pre><code class="prism language-bash"><span class="token comment"># 添加访问用户并设置密码</span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># htpasswd -c /etc/httpd/auth.pwd httpuser</span>
New password:            <span class="token comment"># 密码输入不显示，正常输入后直接按回车就行</span>
Re-type new password: 
Adding password <span class="token keyword">for</span> user httpuser
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># </span>

<span class="token comment"># 添加用户访问权限配置，直接在配置文件中新增以下内容即可</span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/httpd/conf/httpd.conf</span>
<span class="token operator">&lt;</span>Directory  <span class="token string">"/var/www/html/upload"</span><span class="token operator">&gt;</span>
  AuthName  <span class="token string">"xxxxx"</span>
  AuthType  basic
  AuthUserFile  /etc/httpd/auth.pwd
  Require  valid-user
  <span class="token comment"># Require  user httpuser01</span>
<span class="token operator">&lt;</span>/Directory<span class="token operator">&gt;</span>

<span class="token comment"># 重启httpd服务</span>
<span class="token punctuation">[</span>root@centos7 ~<span class="token punctuation">]</span><span class="token comment"># systemctl restart httpd.service</span>
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/ca5a2dda93f99f623ca73d264f17d61d.png#pic_center"/>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/02a1e8078c1513d8bf10f03d01598b32.png#pic_center"/>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/b0e518943e4da1fc40cd6a38aaedce5c.png#pic_center"/>
    </p>
    <p>
     <mark>
      参考网址：
     </mark>
    </p>
    <p>
     <a href="https://www.bbsmax.com/A/QV5ZaDneJy/" rel="nofollow">
      httpd的配置文件常见设置
     </a>
    </p>
    <p>
     <a href="http://t.zoukankan.com/long-cnblogs-p-10566411.html" rel="nofollow">
      Web服务之二：httpd安装配置
     </a>
    </p>
    <p>
     <a href="https://blog.csdn.net/qq_43648299/article/details/103892120">
      centos7搭建http服务器访问文件目录列表
     </a>
    </p>
    <p>
     <a href="https://blog.csdn.net/ya0ng/article/details/119741557">
      解决Httpd静态资源服务器资源乱码问题
     </a>
    </p>
    <p>
     <a href="https://blog.csdn.net/zhouqiyuan1233/article/details/122187712">
      Apache解决访问文件自动打开问题
     </a>
    </p>
    <p>
     <a href="https://blog.csdn.net/weixin_33918114/article/details/93005149">
      Linux学习之HTTP服务
     </a>
    </p>
    <p>
     <a href="https://blog.csdn.net/weixin_48803304/article/details/107872019">
      Centos7/8搭建https服务器(SSL域名证书的申请和部署–Apache及Nginx实现HTTPS)
     </a>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34353638383236382f:61727469636c652f64657461696c732f313236343432333233" class_="artid" style="display:none">
 </p>
</div>


