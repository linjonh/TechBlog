---
layout: post
title: "phpstudy连接mysql数据库_phpstudy连接MySQL数据库的基本操作"
date: 2024-12-04 20:55:43 +0800
description: "本文详细介绍了如何在MySQL客户端和PHP环境下连接并操作MySQL数据库。内容包括使用mysql"
keywords: "phpstudy的mysql设置连接"
categories: ['未分类']
tags: ['Phpstudy']
artid: "113211358"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=113211358
  alt: "phpstudy连接mysql数据库_phpstudy连接MySQL数据库的基本操作"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=113211358
featuredImagePreview: https://bing.ee123.net/img/rand?artid=113211358
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     phpstudy连接mysql数据库_phpstudy连接MySQL数据库的基本操作
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <div style="font-size:16px;">
     <p>
      MySQL客户端下，操作服务器的步骤
     </p>
     <p>
      1.连接到MySQL数据库服务器mysql -hlocalhost -uroot -proot(主机、用户、密码)
     </p>
     <p>
      2.选择要操作的数据库use db_name;
     </p>
     <p>
      3.设置当前环境的显示字符集set name gbk;
     </p>
     <p>
      //在MySQL客户端下只能使用gbk，别的编码都不可以。
     </p>
     <p>
      4.执行SQL语句
     </p>
     <p>
      对数据表进行查询增加：
     </p>
     <p>
      INSERT INTO table_name(字段1，字段2，字段3)VALUES(值1，值2，值3)
     </p>
     <p>
      删除： DELETE FROM table_name[WHERE 条件]
     </p>
     <p>
      删除整个表中的记录： TRUNCATE table_name
     </p>
     <p>
      修改： UPDATE table_name SET 字段1=值1，字段2=值2[WHERE 条件]
     </p>
     <p>
      查询: SELECT 字段列表|* FROM table_name [WHERE 条件][ORDER BY 字段][LIMIT 限定记录]
     </p>
     <p>
      php操作MySQL的步骤
     </p>
     <p>
      1.连接MySQL数据库服务器mysql_connect()
     </p>
     <p>
      语法结构：$link=mysql_connect($db_host,$db_user,$db_pwd)
     </p>
     <p>
      参数说明：
     </p>
     <p>
      $db_host:指定要连接的MySQL服务器的主机名或IP地址，如：localhost:3306
     </p>
     <p>
      $db_user:指定用户名，默认root
     </p>
     <p>
      $db_pwd:指定用户密码，默认root返回值：如果连接MySQL成功，将返回一个资源标识符$link;如果连接失败，返回false。
     </p>
     <p>
      举例：
     </p>
     <p>
      $link=mysql_connect("localhost","root","root");
     </p>
     <p>
      注意：资源类型的数据，转成布尔型，一律为true。
     </p>
     <p>
      [email protected]_connect("localhost","root","root") //屏蔽了mysql_connect()的系统错误信息。
     </p>
     <p>
      mysql_error()
     </p>
     <p>
      语法：string mysql_error();
     </p>
     <p>
      功能：显示上一次MySQL的出错文本信息
     </p>
     <p>
      exit()或die()
     </p>
     <p>
      功能：输出一个消息并且退出当前脚本
     </p>
     <p>
      语法：void exit([string $string])
     </p>
     <p>
      说明：先输出一个信息，然后再中止脚本向下运行。
     </p>
     <p>
      2.选择当前要操作的数据库 mysql_select_db()
     </p>
     <p>
      语法结构：bool mysql_select_db(string $database_name[,resource $link_identifier])
     </p>
     <p>
      返回值：成功选择数据库返回true，选择数据库失败返回false
     </p>
     <p>
      参数说明：
     </p>
     <p>
      $database_name:指定当前要操作数据库名称；
     </p>
     <p>
      [$link_indentifier]：是可选项，指定当前的活动链接标识符。当前活动链接只有一个。
     </p>
     <p>
      如果省略，则使用上一次连通数据库的标识符举
     </p>
     <p>
      3.设置返回数据的字符集
     </p>
     <p>
      mysql_query("set names utf8");
     </p>
     <p>
      4.SQL语句操作
     </p>
     <p>
      (1)执行SQL语句功能：
     </p>
     <p>
      发送一条MySQL查询语法：
     </p>
     <p>
      resource mysql_query(string $query[,resource $link_identifier=NULL])
     </p>
     <p>
      返回值：如果执行 SELECT 、SHOW、DESCRIBE语句成功返回资源标识符(resource),如果失败返回false;
     </p>
     <p>
      其他SQL语句(DELETE、UPDATE、Insert等)执行成功将返回true，执行失败将返回false.
     </p>
     <p>
      举例：
     </p>
     <p>
      $sql="CREATE DATABASE IF NOT EXISTS db_name";
     </p>
     <p>
      $sql = "SELECT * FROM info WHERE id&lt;100";
     </p>
     <p>
      $result = mysql_query($sql);
     </p>
     <p>
      要使用操作数据库的命令，必须要有权限。
     </p>
     <p>
      (2)从结果集中取出一行作为枚举数组返回
     </p>
     <p>
      语法：array mysql_fetch_row($result,$link)
     </p>
     <p>
      功能：从结果集中取出一行，作为枚举数组返回，并将光标移到下一行的开始处，直到没有更多的数据返回，则返回false。
     </p>
     <p>
      举例：$arr = mysql_fetch_row($result)
     </p>
     <p>
      提示：通过while循环，可以取出所有数据。
     </p>
     <p>
      //数据库查询
     </p>
     <p>
      $sql = "select id,name,sex from info";
     </p>
     <p>
      $result = mysqli_query($link,$sql);
     </p>
     <p>
      //从结果集中，取出一行数据
     </p>
     <p>
      while ($row=mysqli_fetch_row($result)) {
      <!-- -->
     </p>
     <p>
      $arr[] = $row; //每个$row数组，存到$arr中去，生成一个二维数组}
     </p>
     <p>
      dump($arr);
     </p>
     <p>
      以下为使用phpstudy利用PHP代码的连接MySQL数据库过程：
     </p>
     <p>
      header("content-type:text/html;charset=utf-8");
     </p>
     <p>
      $db_host="localhost";
     </p>
     <p>
      $db_user="root";
     </p>
     <p>
      $db_pwd="root";
     </p>
     <p>
      $db_name="entry_info";
     </p>
     <p>
      $db_prefix="info"
     </p>
     <p>
      //连接MySQL数据库
     </p>
     <p>
      $link=@mysqli_connect($db_host,$db_user,$db_pwd);
     </p>
     <p>
      if(!$link){
      <!-- -->
     </p>
     <p>
      exit("
     </p>
     <p>
      连接MySQL数据库服务器失败！");
     </p>
     <p>
      }
     </p>
     <p>
      //选择数据库
     </p>
     <p>
      if(!mysqli_select_db($link,$db_name)){
      <!-- -->
     </p>
     <p>
      exit("
     </p>
     <p>
      选择数据库{$db_name}失败！");
     </p>
     <p>
      }
     </p>
     <p>
      //设置返回数据的字符集
     </p>
     <p>
      mysqli_query($link,"set names utf8");
     </p>
     <p>
      //查询数据库
     </p>
     <p>
      $sql = "select * from info";
     </p>
     <p>
      $result = mysqli_query($link,$sql);
     </p>
     <p>
      ?&gt;
     </p>
     <p>
      th,td{
      <!-- -->
     </p>
     <p>
      padding:5px;color:#444;
     </p>
     <p>
      font-size:14px;border:1px soild #ccc;
     </p>
     <p>
      }
     </p>
     <table align="center" border="1" style="border-collapse:collapse;" width="800">
      <tbody>
       <tr>
        <th>
         编号
        </th>
        <th>
         姓名
        </th>
        <th>
         性别
        </th>
        <th>
         意向部门
        </th>
       </tr>
      </tbody>
     </table>
     <p>
      while($row=mysqli_fetch_row($result)){
      <!-- -->
     </p>
     <p>
      ?&gt;
     </p>
     echo $row[0]?&gt; 
 echo $row[1]?&gt;echo $row[2]?&gt;echo $row[3]?&gt;echo $row[4]?&gt;
     <p>
      } ?&gt;
     </p>
    </div>
   </div>
  </div>
  <div id="recommendDown">
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f32383733303335332f:61727469636c652f64657461696c732f313133323131333538" class_="artid" style="display:none">
 </p>
</div>
