---
layout: post
title: "è“æ¡¥æ¯å¥½é¢˜æ¨è-æ¿€å…‰ç‚¸å¼¹"
date: 2025-03-16 13:48:18 +0800
description: "æ­¤å¤–ï¼Œè¿™é‡Œè¿˜æœ‰ä¸€ä¸ªç‰¹åˆ«éœ€è¦æ³¨æ„çš„ç‚¹ï¼Œå°±æ˜¯é¢˜ç›®ä¸­æ‰€åŒä¸€ä¸ªä½ç½®å¯èƒ½å­˜æ”¾å¤šä¸ªä»·å€¼ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬åœ¨è¿›è¡Œä»·å€¼å¤„ç†çš„æ—¶å€™ï¼Œåº”ä½¿ç”¨çš„æ˜¯ã€‚ç„¶åï¼Œæˆ‘ä»¬å…ˆå¯¹è¿™ä¸ªä»·å€¼æ•°ç»„è¿›è¡Œå¤„ç†ï¼Œç”±äºåé¢ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯ä»ï¼ˆ1,1ï¼‰å¼€å§‹çš„ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬ç»Ÿä¸€æŠŠåæ ‡å¾€å³ä¸‹ç§»åŠ¨ä¸€ä½ã€‚åœ¨è¿™é“é¢˜ç›®å½“ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯äºŒç»´å‰ç¼€å’Œæ•°ç»„çš„æ€æƒ³ï¼Œæˆ‘ä»¬é¦–å…ˆå¯ä»¥å¸¸è§ä¸€ä¸ªäºŒç»´å‰ç¼€å’Œæ•°ç»„å’Œä¸€ä¸ªå­˜æ”¾ä»·å€¼çš„æ•°ç»„ã€‚åœ¨è¿™ä¸ªä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å°†mè®¾ç½®ä¸ºmä½•nçš„æœ€å°å€¼ï¼Œå› ä¸ºè¿™ä¸ªæ­£æ–¹å½¢çš„è¾¹é•¿æ˜¯å¯èƒ½å¤§äºè¿™ä¸ªæ•´ä¸ªæ•°ç»„çš„é•¿åº¦çš„ã€‚P2280 [HNOI2003] æ¿€å…‰ç‚¸å¼¹ - æ´›è°·ã€‚"
keywords: "è“æ¡¥æ¯å¥½é¢˜æ¨è---æ¿€å…‰ç‚¸å¼¹"
categories: ['è“æ¡¥æ¯Cç»„']
tags: ['è“æ¡¥æ¯', 'èŒåœºå’Œå‘å±•', 'ç®—æ³•']
artid: "146294255"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146294255
    alt: "è“æ¡¥æ¯å¥½é¢˜æ¨è-æ¿€å…‰ç‚¸å¼¹"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146294255
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146294255
cover: https://bing.ee123.net/img/rand?artid=146294255
image: https://bing.ee123.net/img/rand?artid=146294255
img: https://bing.ee123.net/img/rand?artid=146294255
---

# è“æ¡¥æ¯å¥½é¢˜æ¨è---æ¿€å…‰ç‚¸å¼¹

![](https://i-blog.csdnimg.cn/blog_migrate/65e2c919493111fe0c134761ea131fab.png)

**ğŸŒˆä¸ªäººä¸»é¡µï¼š[ç¾½æ™¨åŒå­¦](https://blog.csdn.net/in_seattle?type=blog "ç¾½æ™¨åŒå­¦")**

**ğŸ’«ä¸ªäººæ ¼è¨€:â€œæˆä¸ºè‡ªå·±æœªæ¥çš„ä¸»äºº~â€**

![](https://i-blog.csdnimg.cn/blog_migrate/8a9e7fcf23d9bad5b435af5495db19bd.gif)

## é¢˜ç›®é“¾æ¥

[P2280 [HNOI2003] æ¿€å…‰ç‚¸å¼¹ -
æ´›è°·![](https://csdnimg.cn/release/blog_editor_html/release2.3.8/ckeditor/plugins/CsdnLink/icons/icon-
default.png?t=P1C7)https://www.luogu.com.cn/problem/P2280](https://www.luogu.com.cn/problem/P2280
"P2280 \[HNOI2003\] æ¿€å…‰ç‚¸å¼¹ - æ´›è°·")

##  è§£é¢˜æ€è·¯

åœ¨è¿™é“é¢˜ç›®å½“ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯äºŒç»´å‰ç¼€å’Œæ•°ç»„çš„æ€æƒ³ï¼Œæˆ‘ä»¬é¦–å…ˆå¯ä»¥å¸¸è§ä¸€ä¸ªäºŒç»´å‰ç¼€å’Œæ•°ç»„å’Œä¸€ä¸ªå­˜æ”¾ä»·å€¼çš„æ•°ç»„ã€‚

    
    
    #include <iostream>
    using namespace std;
    const int N = 5e3+10;
    int f[N][N];//å‰ç¼€å’Œå­˜æ”¾æ•°ç»„ 
    int a[N][N];

ç„¶åï¼Œæˆ‘ä»¬å…ˆå¯¹è¿™ä¸ªä»·å€¼æ•°ç»„è¿›è¡Œå¤„ç†ï¼Œç”±äºåé¢ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯ä»ï¼ˆ1,1ï¼‰å¼€å§‹çš„ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬ç»Ÿä¸€æŠŠåæ ‡å¾€å³ä¸‹ç§»åŠ¨ä¸€ä½ã€‚

    
    
    	int n,m;cin>>n>>m;
    	//å…ˆæŠŠæ•°æ®å­˜æ”¾åˆ°ä»·å€¼çš„æ•°ç»„ä¸­ 
    	for(int i=1;i<=n;i++)
    	{
    		int x,y,v;cin>>x>>y>>v;
    		x++; y++;//ä½¿å¾—ä¸‹æ ‡ä»ï¼ˆ1,1ï¼‰å¼€å§‹ 
    		a[x][y]+=v;
    	}

æ­¤å¤–ï¼Œè¿™é‡Œè¿˜æœ‰ä¸€ä¸ªç‰¹åˆ«éœ€è¦æ³¨æ„çš„ç‚¹ï¼Œå°±æ˜¯é¢˜ç›®ä¸­æ‰€åŒä¸€ä¸ªä½ç½®å¯èƒ½å­˜æ”¾å¤šä¸ªä»·å€¼ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬åœ¨è¿›è¡Œä»·å€¼å¤„ç†çš„æ—¶å€™ï¼Œåº”ä½¿ç”¨çš„æ˜¯ã€‚

    
    
    a[x][y]+=v;

ç„¶åï¼Œæˆ‘ä»¬æ„å»ºäºŒç»´å‰ç¼€å’Œæ•°ç»„ã€‚

    
    
    	n = 5005;//ç¡®ä¿å¯ä»¥æ‰¾åˆ°å…¨éƒ¨çš„å…ƒç´ 
    	for(int i=1;i<=n;i++)
    	{
    		for(int j=1;j<=n;j++)
    		{
    			f[i][j]=f[i-1][j]+f[i][j-1]-f[i-1][j-1]+a[i][j]; 
    		}
    	}

æˆ‘ä»¬è¿™é‡Œè®¾ç½®çš„å°†æ‰€æœ‰çš„æ•°ç»„çš„å…ƒç´ éƒ½åŒ…å«åœ¨å†…ã€‚

ç„¶åï¼Œæˆ‘ä»¬å¯¹æ¯ä¸ªè¾¹é•¿çš„è¿™ä¸ªæ­£æ–¹å½¢è¿›è¡Œéå†ï¼Œç¡®ä¿å®ƒèµ°è¿‡äº†æ‰€æœ‰çš„å…ƒç´ ï¼Œç„¶åè·å–æœ€å¤§å€¼ã€‚

    
    
    	//éå†
    	int ret = 0;
    	m =min(m,n);
    	for(int x2=m;x2<=n;x2++)
    	{
    		for(int y2=m;y2<=n;y2++)
    		{
    			int x1 = x2-m+1; int y1 = y2-m+1;
    			ret = max(ret,f[x2][y2]-f[x1-1][y2]-f[x2][y1-1]+f[x1-1][y1-1]);
    		}
    	}

åœ¨è¿™ä¸ªä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å°†mè®¾ç½®ä¸ºmä½•nçš„æœ€å°å€¼ï¼Œå› ä¸ºè¿™ä¸ªæ­£æ–¹å½¢çš„è¾¹é•¿æ˜¯å¯èƒ½å¤§äºè¿™ä¸ªæ•´ä¸ªæ•°ç»„çš„é•¿åº¦çš„ã€‚

## ä»£ç è§£å†³

    
    
    #include <iostream>
    using namespace std;
    const int N = 5e3+10;
    int f[N][N];//å‰ç¼€å’Œå­˜æ”¾æ•°ç»„ 
    int a[N][N];
    int main()
    {
    	int n,m;cin>>n>>m;
    	//å…ˆæŠŠæ•°æ®å­˜æ”¾åˆ°ä»·å€¼çš„æ•°ç»„ä¸­ 
    	for(int i=1;i<=n;i++)
    	{
    		int x,y,v;cin>>x>>y>>v;
    		x++; y++;//ä½¿å¾—ä¸‹æ ‡ä»ï¼ˆ1,1ï¼‰å¼€å§‹ 
    		a[x][y]+=v;
    	}
    	//æ„å»ºäºŒç»´å‰ç¼€å’Œæ•°ç»„ 
    	n = 5005;//ç¡®ä¿å¯ä»¥æ‰¾åˆ°å…¨éƒ¨çš„å…ƒç´ 
    	for(int i=1;i<=n;i++)
    	{
    		for(int j=1;j<=n;j++)
    		{
    			f[i][j]=f[i-1][j]+f[i][j-1]-f[i-1][j-1]+a[i][j]; 
    		}
    	}
    	//éå†
    	int ret = 0;
    	m =min(m,n);
    	for(int x2=m;x2<=n;x2++)
    	{
    		for(int y2=m;y2<=n;y2++)
    		{
    			int x1 = x2-m+1; int y1 = y2-m+1;
    			ret = max(ret,f[x2][y2]-f[x1-1][y2]-f[x2][y1-1]+f[x1-1][y1-1]);
    		}
    	}
    	cout<<ret<<endl;	 
    	return 0;
    }
    

å¥½äº†ï¼Œä»Šå¤©çš„å†…å®¹å°±åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬æ˜å¤©å†è§ã€‚

![](https://i-blog.csdnimg.cn/blog_migrate/11bb1b081a7b1f9ca3e7c66b7aa7764d.gif)



