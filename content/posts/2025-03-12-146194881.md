---
layout: post
title: "用nodejs加electron加roboticjs判断鼠标点击时是否在浏览器内部"
date: 2025-03-12 07:48:19 +0800
description: "现在，你可以在 main.js 文件中使用 isMouseClicked 变量来判断鼠标点击是否在浏览器内部。请注意，这个示例仅用于演示目的，你可能需要根据你的具体需求进行调整。要实现这个功能，你需要使用 Electron 来创建一个桌面应用，然后使用 RobotJS 监听鼠标点击事件，最后判断鼠标点击的位置是否在浏览器内部。然后，创建一个新的文件夹，并在该文件夹中打开终端或命令提示符。最后，在终端或命令提示符中运行 npm start，启动 Electron 应用。// 监听鼠标点击事件。"
keywords: "用nodejs加electron加roboticjs判断鼠标点击时是否在浏览器内部"
categories: ['未分类']
tags: ['Node']
artid: "146194881"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146194881
    alt: "用nodejs加electron加roboticjs判断鼠标点击时是否在浏览器内部"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146194881
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146194881
cover: https://bing.ee123.net/img/rand?artid=146194881
image: https://bing.ee123.net/img/rand?artid=146194881
img: https://bing.ee123.net/img/rand?artid=146194881
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     用nodejs加electron加roboticjs判断鼠标点击时是否在浏览器内部
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     要实现这个功能，你需要使用 Electron 来创建一个桌面应用，然后使用 RobotJS 监听鼠标点击事件，最后判断鼠标点击的位置是否在浏览器内部。以下是一个简单的示例：
     <br/>
     首先，确保你已经安装了 Node.js 和 npm。然后，创建一个新的文件夹，并在该文件夹中打开终端或命令提示符。
     <br/>
     运行以下命令，安装 Electron 和 RobotJS：
     <br/>
     npm init -y
     <br/>
     npm install electron robotjs
     <br/>
     在项目文件夹中创建一个名为 main.js 的文件，然后添加以下代码：
     <br/>
     const { app, BrowserWindow } = require(‘electron’);
     <br/>
     const robot = require(‘robotjs’);
    </p>
    <p>
     function createWindow() {
     <!-- -->
     <br/>
     const win = new BrowserWindow({
     <!-- -->
     <br/>
     width: 800,
     <br/>
     height: 600,
     <br/>
     webPreferences: {
     <!-- -->
     <br/>
     nodeIntegration: true,
     <br/>
     },
     <br/>
     });
    </p>
    <p>
     win.loadFile(‘index.html’);
     <br/>
     }
    </p>
    <p>
     app.whenReady().then(createWindow);
    </p>
    <p>
     app.on(‘window-all-closed’, () =&gt; {
     <!-- -->
     <br/>
     if (process.platform !== ‘darwin’) {
     <!-- -->
     <br/>
     app.quit();
     <br/>
     }
     <br/>
     });
    </p>
    <p>
     app.on(‘activate’, () =&gt; {
     <!-- -->
     <br/>
     if (BrowserWindow.getAllWindows().length === 0) {
     <!-- -->
     <br/>
     createWindow();
     <br/>
     }
     <br/>
     });
    </p>
    <p>
     // 监听鼠标点击事件
     <br/>
     robot.setMouseDelay(0);
     <br/>
     let isMouseClicked = false;
    </p>
    <p>
     setInterval(() =&gt; {
     <!-- -->
     <br/>
     if (robot.getMousePos().x !== 0 &amp;&amp; robot.getMousePos().y !== 0) {
     <!-- -->
     <br/>
     isMouseClicked = true;
     <br/>
     } else {
     <!-- -->
     <br/>
     isMouseClicked = false;
     <br/>
     }
     <br/>
     }, 100);
     <br/>
     在项目文件夹中创建一个名为 index.html 的文件，然后添加以下代码：
    </p>
    <title>
     Electron RobotJS
    </title>
    <h2>
     Electron RobotJS
    </h2>
    修改 package.json 文件，将 "main" 字段的值更改为 "main.js"，并添加一个 "start" 脚本： { "name": "electron-robotjs", "version": "1.0.0", "description": "", "main": "main.js", "scripts": { "start": "electron .", "test": "echo \"Error: no test specified\" &amp;&amp; exit 1" }, "keywords": [], "author": "", "license": "ISC", "dependencies": { "electron": "^13.1.7", "robotjs": "^0.7.0" } } 最后，在终端或命令提示符中运行 npm start，启动 Electron 应用。 现在，你可以在 main.js 文件中使用 isMouseClicked 变量来判断鼠标点击是否在浏览器内部。请注意，这个示例仅用于演示目的，你可能需要根据你的具体需求进行调整。
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f67:2e6373646e2e6e65742f73696e61745f32363830393235352f:61727469636c652f64657461696c732f313436313934383831" class_="artid" style="display:none">
 </p>
</div>


