---
layout: post
title: "Blender-MCP服务源码2-依赖分析"
date: 2025-03-15 15:52:20 +0800
description: "学习Bledner-MCP代码的依赖，后续会陆续进行补充更新"
keywords: "blender-mcp建模原理"
categories: ['Blendermcp', 'Ai']
tags: ['Blender']
artid: "146278917"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146278917
    alt: "Blender-MCP服务源码2-依赖分析"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146278917
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146278917
cover: https://bing.ee123.net/img/rand?artid=146278917
image: https://bing.ee123.net/img/rand?artid=146278917
img: https://bing.ee123.net/img/rand?artid=146278917
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Blender-MCP服务源码2-依赖分析
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="BlenderMCP2_0">
     </a>
     Blender-MCP服务源码2-依赖分析
    </h2>
    <blockquote>
     <p>
      有个大佬做了一个Blender-MCP源码，第一次提交代码是【2025年3月7号】今天是【2025年月15日】也就是刚过去一周的时间，所以想从0开始学习这个代码，了解一下大佬们的开发思路
     </p>
    </blockquote>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/direct/ac4559adab6a493fa3e398518a8a6e76.jpeg"/>
    </p>
    <hr/>
    <h3>
     <a id="1_6">
     </a>
     1-核心知识点
    </h3>
    <pre><code>from mcp.server.fastmcp import FastMCP, Context, Image
import socket
import json
import asyncio
import logging
from dataclasses import dataclass
from contextlib import asynccontextmanager
from typing import AsyncIterator, Dict, Any, List
</code></pre>
    <ul>
     <li>
      1）Blender代码中核心代码和依赖的功能是什么？
     </li>
     <li>
      2）socket长连接服务-&gt;用于Claude与插件之间通讯-&gt;那Blender和LLM之间在通讯什么内容？
     </li>
     <li>
      3）为什么LLM通讯后就完成了3D的建模,原理是什么？-&gt;是不是我把请求方法抽取出来就可以用编码的方式完成Blender的建模了(MCP貌似就是通过请求API传递对应的参数来完成建模)
     </li>
     <li>
      4）
      <a href="https://blog.csdn.net/2301_77717148/article/details/146287132">
       猜想内容已经实现
      </a>
     </li>
    </ul>
    <hr/>
    <h3>
     <a id="2_24">
     </a>
     2-思路整理
    </h3>
    <ul>
     <li>
      1）【必选】MCP的mcp.server.fastmcp服务依赖
     </li>
     <li>
      2）【核心】socket长连接服务-&gt;用于Claude与插件之间通讯
     </li>
     <li>
      3）
      <code>
       socket到底做了什么？-&gt;我如果做一个类似的MCP，我要做什么？
      </code>
     </li>
    </ul>
    <hr/>
    <h3>
     <a id="3_29">
     </a>
     3-参考网址
    </h3>
    <ul>
     <li>
      Blender-MCP-Github地址：https://github.com/ahujasid/blender-mcp
     </li>
     <li>
      B站大佬开源Blender开发框架:https://github.com/xzhuah/BlenderAddonPackageTool
     </li>
     <li>
      <a href="https://www.bilibili.com/video/BV1VBqcY4E6x" rel="nofollow">
       B站大佬开源Blender开发框架教程
      </a>
     </li>
    </ul>
    <hr/>
    <h3>
     <a id="4_36">
     </a>
     4-依赖分析
    </h3>
    <p>
     以下是对这些导入语句及其依赖的详细分析：
    </p>
    <h4>
     <a id="1_from_mcpserverfastmcp_import_FastMCP_Context_Image_39">
     </a>
     1.
     <code>
      from mcp.server.fastmcp import FastMCP, Context, Image
     </code>
    </h4>
    <ul>
     <li>
      <strong>
       来源
      </strong>
      ：这是从
      <code>
       mcp.server.fastmcp
      </code>
      模块中导入特定的类。
      <code>
       mcp
      </code>
      可能是某个自定义的 Python 包，
      <code>
       server
      </code>
      可能是该包下的一个子模块，
      <code>
       fastmcp
      </code>
      则是子模块中的一个 Python 文件。
     </li>
     <li>
      <strong>
       功能
      </strong>
      ：
      <ul>
       <li>
        <code>
         FastMCP
        </code>
        ：通常代表某种快速的消息处理或通信协议相关的类。可能用于高效地处理消息、请求和响应，在服务器端的应用中可能用于快速处理客户端的连接和数据交互。
       </li>
       <li>
        <code>
         Context
        </code>
        ：这个类一般用于保存上下文信息。在编程中，上下文信息可以包含当前操作的相关状态、配置等数据，以便在不同的函数或方法之间共享和传递。
       </li>
       <li>
        <code>
         Image
        </code>
        ：可能是用于处理图像的类。它可能包含图像的加载、保存、转换等操作，可用于图像处理相关的任务。
       </li>
      </ul>
     </li>
    </ul>
    <h4>
     <a id="2_import_socket_46">
     </a>
     2.
     <code>
      import socket
     </code>
    </h4>
    <ul>
     <li>
      <strong>
       来源
      </strong>
      ：
      <code>
       socket
      </code>
      是 Python 标准库中的一个模块。
     </li>
     <li>
      <strong>
       功能
      </strong>
      ：
      <code>
       socket
      </code>
      模块提供了创建网络套接字的功能，用于实现网络通信。它可以创建 TCP 或 UDP 套接字，通过网络发送和接收数据。常用于构建客户端 - 服务器应用程序，允许不同的计算机之间进行数据交换。
     </li>
    </ul>
    <h4>
     <a id="3_import_json_50">
     </a>
     3.
     <code>
      import json
     </code>
    </h4>
    <ul>
     <li>
      <strong>
       来源
      </strong>
      ：
      <code>
       json
      </code>
      是 Python 标准库中的一个模块。
     </li>
     <li>
      <strong>
       功能
      </strong>
      ：
      <code>
       json
      </code>
      模块用于处理 JSON（JavaScript Object Notation）数据。JSON 是一种轻量级的数据交换格式，易于人类阅读和编写，也易于机器解析和生成。
      <code>
       json
      </code>
      模块提供了将 Python 对象（如字典、列表）转换为 JSON 字符串（
      <code>
       json.dumps()
      </code>
      ），以及将 JSON 字符串转换为 Python 对象（
      <code>
       json.loads()
      </code>
      ）的功能。
     </li>
    </ul>
    <h4>
     <a id="4_import_asyncio_54">
     </a>
     4.
     <code>
      import asyncio
     </code>
    </h4>
    <ul>
     <li>
      <strong>
       来源
      </strong>
      ：
      <code>
       asyncio
      </code>
      是 Python 标准库中的一个模块，用于支持异步编程。
     </li>
     <li>
      <strong>
       功能
      </strong>
      ：异步编程允许程序在等待某些操作（如网络请求、文件读写）完成时，继续执行其他任务，从而提高程序的并发性能。
      <code>
       asyncio
      </code>
      提供了协程、事件循环等机制，使得开发者可以编写高效的异步代码。例如，可以使用
      <code>
       async/await
      </code>
      关键字定义协程函数，使用事件循环来调度和执行这些协程。
     </li>
    </ul>
    <h4>
     <a id="5_import_logging_58">
     </a>
     5.
     <code>
      import logging
     </code>
    </h4>
    <ul>
     <li>
      <strong>
       来源
      </strong>
      ：
      <code>
       logging
      </code>
      是 Python 标准库中的一个模块，用于实现日志记录功能。
     </li>
     <li>
      <strong>
       功能
      </strong>
      ：日志记录是程序开发和调试过程中非常重要的一部分。
      <code>
       logging
      </code>
      模块提供了灵活的日志记录功能，可以将程序运行过程中的信息（如调试信息、错误信息、警告信息等）输出到控制台、文件或其他目标。通过设置不同的日志级别（如
      <code>
       DEBUG
      </code>
      、
      <code>
       INFO
      </code>
      、
      <code>
       WARNING
      </code>
      、
      <code>
       ERROR
      </code>
      、
      <code>
       CRITICAL
      </code>
      ），可以控制日志的详细程度。
     </li>
    </ul>
    <h4>
     <a id="6_from_dataclasses_import_dataclass_62">
     </a>
     6.
     <code>
      from dataclasses import dataclass
     </code>
    </h4>
    <ul>
     <li>
      <strong>
       来源
      </strong>
      ：
      <code>
       dataclasses
      </code>
      是 Python 3.7 及以上版本引入的标准库模块。
     </li>
     <li>
      <strong>
       功能
      </strong>
      ：
      <code>
       dataclass
      </code>
      是一个装饰器，用于简化类的定义。使用
      <code>
       @dataclass
      </code>
      装饰的类可以自动生成一些特殊方法，如
      <code>
       __init__()
      </code>
      、
      <code>
       __repr__()
      </code>
      、
      <code>
       __eq__()
      </code>
      等，从而减少了样板代码的编写。通常用于定义简单的数据容器类。
     </li>
    </ul>
    <h4>
     <a id="7_from_contextlib_import_asynccontextmanager_66">
     </a>
     7.
     <code>
      from contextlib import asynccontextmanager
     </code>
    </h4>
    <ul>
     <li>
      <strong>
       来源
      </strong>
      ：
      <code>
       contextlib
      </code>
      是 Python 标准库中的一个模块，提供了上下文管理器相关的工具。
     </li>
     <li>
      <strong>
       功能
      </strong>
      ：
      <code>
       asynccontextmanager
      </code>
      是一个装饰器，用于创建异步上下文管理器。异步上下文管理器可以在异步代码中使用
      <code>
       async with
      </code>
      语句，确保在进入和退出上下文时执行特定的操作，如资源的分配和释放。
     </li>
    </ul>
    <h4>
     <a id="8_from_typing_import_AsyncIterator_Dict_Any_List_70">
     </a>
     8.
     <code>
      from typing import AsyncIterator, Dict, Any, List
     </code>
    </h4>
    <ul>
     <li>
      <strong>
       来源
      </strong>
      ：
      <code>
       typing
      </code>
      是 Python 标准库中的一个模块，用于提供类型提示功能。
     </li>
     <li>
      <strong>
       功能
      </strong>
      ：
      <ul>
       <li>
        <code>
         AsyncIterator
        </code>
        ：用于表示异步迭代器，即可以在异步代码中使用
        <code>
         async for
        </code>
        语句进行迭代的对象。
       </li>
       <li>
        <code>
         Dict
        </code>
        ：用于表示字典类型的提示，指定字典的键和值的类型。
       </li>
       <li>
        <code>
         Any
        </code>
        ：表示任意类型，当无法确定或不关心某个变量的具体类型时，可以使用
        <code>
         Any
        </code>
        进行类型提示。
       </li>
       <li>
        <code>
         List
        </code>
        ：用于表示列表类型的提示，指定列表中元素的类型。
       </li>
      </ul>
     </li>
    </ul>
    <p>
     综上所述，这些导入语句涵盖了自定义模块、标准库模块，用于实现网络通信、数据处理、异步编程、日志记录、数据类定义、上下文管理和类型提示等功能。
    </p>
    <hr/>
    <h3>
     <a id="5_81">
     </a>
     5-问题来啦
    </h3>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330315f37373731373134382f:61727469636c652f64657461696c732f313436323738393137" class_="artid" style="display:none">
 </p>
</div>


