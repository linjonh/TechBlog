---
layout: post
title: "åœ¨-macOS-ä¸Šä¼˜åŒ–-Vim-ç”¨äºå¼€å‘"
date: 2025-03-16 14:52:20 +08:00
description: "è¿™ç¯‡æŒ‡å—å°†å¸¦ä½ é€šè¿‡ä¸€ç³»åˆ—æ­¥éª¤ï¼Œå¦‚ä½•åœ¨macOSä¸Šä¼˜åŒ–Vimï¼Œä½¿å…¶å…·å¤‡ ä»£ç è¡¥å…¨ã€è¯­æ³•é«˜äº®ã€ä»£ç æ ¼å¼åŒ–ã€ä»£ç ç‰‡æ®µç®¡ç†ã€ç›®å½•æ ‘ç­‰åŠŸèƒ½ã€‚"
keywords: "åœ¨ macOS ä¸Šä¼˜åŒ– Vim ç”¨äºå¼€å‘"
categories: ['Macos']
tags: ['Vim', 'Macos', 'Excel']
artid: "146295411"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146295411
    alt: "åœ¨-macOS-ä¸Šä¼˜åŒ–-Vim-ç”¨äºå¼€å‘"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146295411
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146295411
cover: https://bing.ee123.net/img/rand?artid=146295411
image: https://bing.ee123.net/img/rand?artid=146295411
img: https://bing.ee123.net/img/rand?artid=146295411
---

# åœ¨ macOS ä¸Šä¼˜åŒ– Vim ç”¨äºå¼€å‘
### **ç®€ä»‹**
è¿™ç¯‡æŒ‡å—å°†å¸¦ä½ é€šè¿‡ä¸€ç³»åˆ—æ­¥éª¤ï¼Œå¦‚ä½•åœ¨ **macOS** ä¸Šä¼˜åŒ– **Vim** ï¼Œä½¿å…¶å…·å¤‡
**ä»£ç è¡¥å…¨ã€è¯­æ³•é«˜äº®ã€ä»£ç æ ¼å¼åŒ–ã€ä»£ç ç‰‡æ®µç®¡ç†ã€ç›®å½•æ ‘ç­‰åŠŸèƒ½** ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜ä¼šè§£å†³åœ¨å®‰è£…è¿‡ç¨‹ä¸­å¯èƒ½é‡åˆ°çš„å¸¸è§é”™è¯¯ã€‚
* * *
### **1 å®‰è£…å¿…å¤‡å·¥å…·**
åœ¨å¼€å§‹ Vim é…ç½®ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿ä½ çš„ **macOS** ç³»ç»Ÿä¸­å®‰è£…äº†ä»¥ä¸‹å·¥å…·ï¼š
#### **å®‰è£… Homebrew** ï¼ˆå¦‚æœæœªå®‰è£…ï¼‰
Homebrew æ˜¯ macOS ä¸Šçš„åŒ…ç®¡ç†å™¨ï¼Œå®ƒå¸®åŠ©æˆ‘ä»¬å®‰è£…å„ç§è½¯ä»¶åŒ…ã€‚
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
#### **å®‰è£… Vim**
é€šè¿‡ **Homebrew** å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Vimï¼š
brew install vim
#### **å®‰è£…å…¶ä»–ä¾èµ–å·¥å…·**
æˆ‘ä»¬è¿˜éœ€è¦å®‰è£…ä¸€äº›é¢å¤–çš„å·¥å…·ï¼Œä¾‹å¦‚ **Node.js å’Œ npm** ï¼ˆç”¨äºæ’ä»¶ `coc.nvim` å’Œ `prettier`ï¼‰ï¼Œä»¥åŠå…¶ä»–å¿…è¦å·¥å…·ï¼š
brew install node
brew install dos2unix
brew install fzf
* * *
### **2 å®‰è£…æ’ä»¶ç®¡ç†å™¨ - vim-plug**
æˆ‘ä»¬å°†ä½¿ç”¨ **vim-plug** æ¥ç®¡ç† Vim æ’ä»¶ã€‚é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥å®‰è£… **vim-plug** æ’ä»¶ç®¡ç†å™¨ï¼š
curl -fLo ~/.vim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
* * *
### **3 é…ç½®`~/.vimrc` æ–‡ä»¶**
ä½¿ç”¨ Vim æ‰“å¼€é…ç½®æ–‡ä»¶ï¼š
vim ~/.vimrc
ç„¶åï¼Œç²˜è´´ä»¥ä¸‹é…ç½®åˆ° `~/.vimrc`ï¼š
" ğŸ”¹ è‡ªåŠ¨å®‰è£… vim-plugï¼ˆå¦‚æœæœªå®‰è£…ï¼‰
if empty(glob('~/.vim/autoload/plug.vim'))
silent !curl -fLo ~/.vim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
autocmd VimEnter * PlugInstall | source $MYVIMRC
endif
" ğŸ“Œ åŸºç¡€é…ç½®
set number " æ˜¾ç¤ºè¡Œå·
set relativenumber " ç›¸å¯¹è¡Œå·
set cursorline " é«˜äº®å½“å‰è¡Œ
set mouse=a " å…è®¸é¼ æ ‡æ“ä½œ
set clipboard=unnamedplus " å¤åˆ¶åŒæ­¥åˆ°ç³»ç»Ÿå‰ªè´´æ¿
" ğŸ“ ä»£ç ç¼©è¿›
set tabstop=4
set shiftwidth=4
set expandtab " ç”¨ç©ºæ ¼æ›¿ä»£ Tab
set autoindent
set smartindent
" ğŸ” æœç´¢ä¼˜åŒ–
set ignorecase " å¿½ç•¥å¤§å°å†™
set smartcase " æ™ºèƒ½åŒºåˆ†å¤§å°å†™
set incsearch " å¢é‡æœç´¢
set hlsearch " é«˜äº®æœç´¢ç»“æœ
" ğŸš€ å¯åŠ¨ä¼˜åŒ–
set lazyredraw " éœ€è¦æ—¶æ‰é‡ç»˜ï¼Œæé«˜æ€§èƒ½
set updatetime=300 " é™ä½ CursorHold è§¦å‘æ—¶é—´
" ğŸ”— å¯ç”¨æ–‡ä»¶ç±»å‹æ£€æµ‹ & æ’ä»¶æ”¯æŒ
filetype plugin indent on
" ğŸ“Œ æ’ä»¶ç®¡ç†
call plug#begin('~/.vim/plugged')
" ä»£ç è¡¥å…¨ & è¯­æ³•æ£€æŸ¥ï¼ˆå¿…è£…ï¼‰
Plug 'neoclide/coc.nvim', {'branch': 'release'}
" è¯­æ³•è§£æ & é«˜äº®ï¼ˆæ¨èï¼‰
Plug 'nvim-treesitter/nvim-treesitter', {'do': ':TSUpdate'}
" ä»£ç ç‰‡æ®µ
Plug 'SirVer/ultisnips'
Plug 'honza/vim-snippets'
" ä»£ç æ ¼å¼åŒ–ï¼ˆPython & JSï¼‰
Plug 'psf/black', { 'for': 'python' }
Plug 'prettier/vim-prettier', { 'do': 'npm install' }
" ç›®å½•æ ‘ï¼ˆæ–‡ä»¶ç®¡ç†ï¼‰
Plug 'preservim/nerdtree'
" çŠ¶æ€æ ç¾åŒ–ï¼ˆæ›´æ¸…æ™°çš„çŠ¶æ€æ ï¼‰
Plug 'vim-airline/vim-airline'
call plug#end()
" ğŸš€ ç»‘å®šå¿«æ·é”®
nnoremap n :NERDTreeToggle " n æ‰“å¼€/å…³é—­ç›®å½•æ ‘
nnoremap f :Files " f æœç´¢æ–‡ä»¶ï¼ˆéœ€è¦ fzfï¼‰
" ä»£ç è¡¥å…¨ï¼ˆCoc.nvimï¼‰
inoremap   pumvisible() ? "\" : "\"
nnoremap  gd (coc-definition) " è·³è½¬åˆ°å®šä¹‰
nnoremap  K :call CocActionAsync('doHover') " æ˜¾ç¤ºæ–‡æ¡£
nnoremap f :CocFix " è‡ªåŠ¨ä¿®å¤ä»£ç 
" ä»£ç æ ¼å¼åŒ–
nnoremap b :Black " Python ä»£ç æ ¼å¼åŒ–
nnoremap p :Prettier " JS/TS/HTML ä»£ç æ ¼å¼åŒ–
ä¿å­˜å¹¶é€€å‡ºï¼š
:wq
* * *
### **4 å®‰è£…æ’ä»¶**
æ‰“å¼€ Vim åï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…æ‰€æœ‰æ’ä»¶ï¼š
:PlugInstall
* * *
### **5 å®‰è£… LSPï¼ˆCoc.nvimï¼‰**
å®‰è£…éœ€è¦çš„è¯­è¨€æœåŠ¡å™¨ï¼Œå¦‚ **Pythonã€C/C++ã€JavaScript** ï¼š
:CocInstall coc-python coc-clangd coc-tsserver
* * *
### **6 ç›®å½•æ ‘ï¼ˆNERDTreeï¼‰**
ä½¿ç”¨å¿«æ·é”®æ‰“å¼€æˆ–å…³é—­ **ç›®å½•æ ‘** ï¼š
n
ï¼ˆå¦‚æœ `leader` æ˜¯ `\`ï¼Œé‚£ä¹ˆ `\n` å°†æ‰“å¼€/å…³é—­ NERDTreeã€‚ï¼‰
* * *
### **7 ä»£ç æ ¼å¼åŒ–ï¼ˆPrettier & Blackï¼‰**
\b " æ ¼å¼åŒ– Python ä»£ç 
\p " æ ¼å¼åŒ– JS/TS/HTML ä»£ç 
* * *
### **8 è¯­æ³•è§£æ + ä»£ç é«˜äº®ï¼ˆnvim-treesitterï¼‰**
å®‰è£…è¯­æ³•è§£æå™¨ï¼ˆPythonã€JavaScriptã€C/C++ ç­‰ï¼‰ï¼š
:TSInstall python javascript c cpp html css json
ç„¶ååœ¨ `~/.vimrc` æ–‡ä»¶ä¸­æ·»åŠ ï¼š
lua << EOF
require'nvim-treesitter.configs'.setup {
ensure_installed = "all",
highlight = { enable = true },
indent = { enable = true },
}
EOF
* * *
### **9 ç»ˆæä¼˜åŒ–**
é€šè¿‡ä»¥ä¸‹å¿«æ·é”®æ›´å¿«é€Ÿåœ°åˆ‡æ¢çª—å£ï¼š
nnoremap  h
nnoremap  l
nnoremap  j
nnoremap  k
* * *
### **å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ**
#### **é”™è¯¯ 1:`vim-prettier` Exit çŠ¶æ€ 1**
**é—®é¢˜ï¼š** `vim-prettier` æ›´æ–°å¤±è´¥ï¼Œå‡ºç° `Exit status: 1`ã€‚
**è§£å†³æ–¹æ¡ˆï¼š** è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥è§£å†³ä¾èµ–é—®é¢˜ï¼š
cd ~/.vim/plugged/vim-prettier
npm install --legacy-peer-deps
å¦‚æœè¿˜æ˜¯å¤±è´¥ï¼Œå¼ºåˆ¶å®‰è£…ï¼š
npm install --force
ç„¶åè¿”å› Vimï¼Œè¿è¡Œï¼š
:PlugUpdate
#### **é”™è¯¯ 2:`TSUpdate` ä¸æ˜¯ç¼–è¾‘å™¨å‘½ä»¤**
**é—®é¢˜ï¼š** å®‰è£… `nvim-treesitter` æ—¶å‡ºç° `E492: Not an editor command: TSUpdate`ã€‚
**è§£å†³æ–¹æ¡ˆï¼š** è¿™æ˜¯å› ä¸º **Neovim** æ˜¯å¿…é¡»çš„ï¼Œ**Vim** ä¸æ”¯æŒ `nvim-treesitter`ã€‚ä½ å¯ä»¥å®‰è£… **Neovim**
ï¼š
brew install neovim
ç„¶åä½¿ç”¨ **Neovim** (`nvim` è€Œé `vim`) æ‰“å¼€é…ç½®æ–‡ä»¶å¹¶è¿è¡Œï¼š
:TSInstall python javascript c cpp html css json
å¦‚æœä¸æƒ³ä½¿ç”¨ Neovimï¼Œå¯ä»¥ä» `~/.vimrc` åˆ é™¤ `nvim-treesitter` æ’ä»¶ï¼Œç„¶åé‡æ–°è¿è¡Œï¼š
:PlugClean
:PlugInstall
* * *
### **æ€»ç»“**
é€šè¿‡ä¸Šè¿°æ­¥éª¤ï¼Œä½ çš„ **macOS** ä¸Šçš„ **Vim** å·²ç»ä¼˜åŒ–å®Œæˆï¼Œå…·å¤‡äº†ï¼š
* **ä»£ç è¡¥å…¨** ï¼ˆCoc.nvimï¼‰
* **è¯­æ³•é«˜äº®** ï¼ˆnvim-treesitterï¼‰
* **ä»£ç æ ¼å¼åŒ–** ï¼ˆPrettier å’Œ Blackï¼‰
* **ä»£ç ç‰‡æ®µç®¡ç†** ï¼ˆUltiSnipsï¼‰
* **ç›®å½•ç®¡ç†** ï¼ˆNERDTreeï¼‰
* **çŠ¶æ€æ ç¾åŒ–** ï¼ˆAirlineï¼‰
ç°åœ¨ä½ å¯ä»¥äº«å—ä¸€ä¸ª **å¼ºå¤§çš„ Vim å¼€å‘ç¯å¢ƒ** ï¼ğŸš€