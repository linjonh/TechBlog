---
layout: post
title: "MongoDB数据库操作"
date: 2025-02-25 16:59:33 +0800
description: "本文讲解了MongoDB的基本操作，如新建数据库、查看、删除，以及创建、删除集合，以及文档的插入、更"
keywords: "MongoDB数据库操作"
categories: ['未分类']
tags: ['数据库']
artid: "138128779"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=138128779
  alt: "MongoDB数据库操作"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=138128779
featuredImagePreview: https://bing.ee123.net/img/rand?artid=138128779
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     MongoDB数据库操作
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2>
     数据库操作
    </h2>
    <h3>
     新建数据库
    </h3>
    <p>
     语法：use DATABASE NAME(text)
    </p>
    <p>
     <img alt="" height="57" src="https://i-blog.csdnimg.cn/blog_migrate/79354266be42747c7703e790f24d943b.png" width="212"/>
    </p>
    <p>
     <strong>
      注
     </strong>
     ：use：用于切换/创建数据库,若不存在则创建，否则切换到指定数据库。
    </p>
    <p>
     DATABASE_NAME：数据库名称。
    </p>
    <p>
     执行 use articledb命令，创建数据库articledb。
    </p>
    <h3>
     查看数据库
    </h3>
    <p>
     语法：show dbs，(查看全部数据库)
     <img alt="" height="20" src="https://i-blog.csdnimg.cn/blog_migrate/f8d12fe00fa2b4b77dfcdc31eda1ce57.png" width="161"/>
    </p>
    <p>
     或者查看当前数据库，需要先切换到指定数据库：db
     <img alt="" height="22" src="https://i-blog.csdnimg.cn/blog_migrate/b542b7bce24741e28a1bb3afe36e7bb8.png" width="106"/>
    </p>
    <h3>
     删除数据库
    </h3>
    <p>
     语法：db.dropDatabase()
     <img alt="" height="35" src="https://i-blog.csdnimg.cn/blog_migrate/f0319adead286596b4f1b4489465e628.png" width="197"/>
    </p>
    <p>
     注：db：表示当前数据库对象；dropDatabase()：用于删除当前数据库的方法。
     <strong>
      删除当前数据库，执行命令前应使用use命令切换到要删除的数据库，为了防止误删可执行命令db验证当前数据库是否为指定删除的数据库。
     </strong>
    </p>
    <h2>
     集合操作
    </h2>
    <h3>
     创建集合
    </h3>
    <p>
     语法：db.createCollection(COLLECTION NAME, [OPTIONS])。(显示创建)
    </p>
    <p>
     db.COLLECTION NAME.insert(DOCUMENT)。(隐式创建)
    </p>
    <p>
     注：db：表示当前数据库对象。
     <br/>
     createCollection()：创建集合方法。DOCUMENT表示文档。
     <br/>
     COLLECTION_NAME：表示集合名称。OPTIONS表示集合配置。
     <br/>
     insert()：向集合中插入文档的方法。
    </p>
    <p>
     例：显式创建集合myCollection
     <img alt="" height="38" src="https://i-blog.csdnimg.cn/blog_migrate/b00a5d6c894a658878575181b4b5ab46.png" width="330"/>
    </p>
    <p>
     执行“show collections”命令，查看是否成功创建集合。
     <img alt="" height="43" src="https://i-blog.csdnimg.cn/blog_migrate/0e8bfb18047bad691d398083fc75a00e.png" width="183"/>
    </p>
    <h3>
     删除集合
    </h3>
    <p>
     语法：db.COLLECTION NAME.drop()，
    </p>
    <p>
     并执行“show collections”命令查看是否成功
     <img alt="" height="80" src="https://i-blog.csdnimg.cn/blog_migrate/f2c87ba3014b9379583a64b5bbb07ea9.png" width="243"/>
    </p>
    <h2>
     文档操作
    </h2>
    <p>
     文档插入
    </p>
    <p>
     语法：db.COLLECTION NAME.insert(document) (单文档插入)或者db.COLLECTION NAME.save(document)
    </p>
    <p>
     语法：db.COLLECTION NAME.insertMany([document1,document2,...])（多文档插入）
    </p>
    <p>
     tips：db:当前数据库对象
     <br/>
     COLLECTION_NAME：**当前集合对象
    </p>
    <p>
     insert()和save():插入单文档方法
    </p>
    <p>
     insertMany():插入多文档方法。
    </p>
    <p>
     注：insert()和save()方法的区别在于，若使用insert()方法插入文档时，集合中已存在该文档，则会报错。若使用save()方法插入文档时，集合中已存在该文档，则会覆盖。
    </p>
    <h3>
     练一练
    </h3>
    <p>
     数据库student创建集合stuinfo，
     <img alt="" height="38" src="https://i-blog.csdnimg.cn/blog_migrate/d5fb766c61ac91d6a73c598fb09b0b8d.png" width="211">
      <img alt="" height="36" src="https://i-blog.csdnimg.cn/blog_migrate/2d3296fc4943d3369cea5cb1be98d77d.png" width="297"/>
     </img>
    </p>
    <p>
     插入数据 ，使用find（）查看集合数据
    </p>
    <p>
     <img alt="" height="384" src="https://i-blog.csdnimg.cn/blog_migrate/d4bb9091d9528498699ffcee7be85b36.png" width="547"/>
    </p>
    <h2>
     文档更新
    </h2>
    <p>
     语法：db.COLLECTION NAME.update(criteria,objNew,upsert,
    </p>
    <p>
     tips:db:当前数据库对象。
     <br/>
     COLLECTION_NAME:当前集合对象。update():更新文档方法。
     <br/>
     criteria:更新的查询条件，类似sql中的where。
     <br/>
     objNew:新的对象和操作符，类似sql中的set。
     <br/>
     upsert:不存在更新对象时，是否插入，默认为false
     <br/>
     multi:默认为false，只更新查找到的第一个文档，反之更新所有。
    </p>
    <h3>
     练一练
    </h3>
    <p>
     使用update( )更新文档：将姓名(name)为curry的文档 更新为了 "王五"
    </p>
    <p>
     <img alt="" height="127" src="https://i-blog.csdnimg.cn/blog_migrate/787fecdf6cbb58f3c62353bd79446b3c.png" width="574"/>
    </p>
    <p>
     升级语法：db.集合名.update（条件， 新数据）{修改器: {键:值}}
    </p>
    <p>
     <img alt="" height="273" src="https://i-blog.csdnimg.cn/blog_migrate/c274ef30512c2f25851cdfea0d1ae344.png" width="818"/>
    </p>
    <p>
     文档删除
    </p>
    <p>
     语法：db.COLLECTION NAME.remove(&lt;query&gt;,{justOne: &lt;boolean&gt;,writeConcern: &lt;document&gt;})(删除单个）
    </p>
    <p>
     语法：db.COLLECTION NAME.remove({}) (删除全部文档)
    </p>
    <p>
     tips:db:当前数据库对象。
     <br/>
     COLLECTION_NAME:当前集合对象
    </p>
    <p>
     remove():删除文档方法。
     <br/>
     query:删除文档的条件，可选参数。
     <br/>
     justOne:的boolean为true或1时，表示只删除查询出的第一个文档。
    </p>
    <p>
     writeConcern: 表示抛出异常级别。
    </p>
    <p>
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e63:73646e2e6e65742f456c6961756b5f71696d696e6768616f2f:61727469636c652f64657461696c732f313338313238373739" class_="artid" style="display:none">
 </p>
</div>
