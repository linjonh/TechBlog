---
layout: post
title: "RustRust运行环境搭建"
date: 2025-03-13 15:36:46 +0800
description: "本文链接：https://ho1aas.blog.csdn.net/article/details/146232471。vscode安装扩展：Chinese + rust-analyzer + Native Debug + C/C++项目路径新建.vscode，在其中新建tasks.json和launch.json。（安装时可选）添加空白处右键、文件夹右键、文件右键以VSCode打开。版权声明：本文为原创，转载时须注明出处及本声明。修改rustup和cargo的安装路径。版权属于：Ho1aAs。"
keywords: "『Rust』Rust运行环境搭建"
categories: ['Rust']
tags: ['开发语言', '后端', 'Rust']
artid: "146232471"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146232471
    alt: "RustRust运行环境搭建"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146232471
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146232471
cover: https://bing.ee123.net/img/rand?artid=146232471
image: https://bing.ee123.net/img/rand?artid=146232471
img: https://bing.ee123.net/img/rand?artid=146232471
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     『Rust』Rust运行环境搭建
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-tomorrow-night-eighties" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <p>
    </p>
    <h2>
     <a id="rustrustup_1">
     </a>
     rust编译工具rustup
    </h2>
    <p>
     https://www.rust-lang.org/zh-CN/tools/install
    </p>
    <p>
     换源
    </p>
    <pre><code>RUSTUP_DIST_SERVER https://rsproxy.cn
RUSTUP_UPDATE_ROOT https://rsproxy.cn
</code></pre>
    <p>
     修改rustup和cargo的安装路径
    </p>
    <pre><code>RUSTUP_HOME D:\rust\.rustup
CARGO_HOME D:\rust\.cargo
</code></pre>
    <p>
     运行rustup-init.exe
    </p>
    <pre><code class="prism language-bash"><span class="token number">1</span><span class="token punctuation">)</span> Quick <span class="token function">install</span> via the Visual Studio Community installer
   <span class="token punctuation">(</span>free <span class="token keyword">for</span> individuals, academic uses, and <span class="token function">open</span> <span class="token builtin class-name">source</span><span class="token punctuation">)</span>.
<span class="token operator">&gt;</span><span class="token number">1</span>

<span class="token number">1</span><span class="token punctuation">)</span> Proceed with selected options <span class="token punctuation">(</span>default - just press enter<span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token number">1</span>
</code></pre>
    <p>
     将
     <code>
      %CARGO_HOME%\bin
     </code>
     添加到PATH
    </p>
    <pre><code>%CARGO_HOME%\bin
</code></pre>
    <p>
     安装后运行验证：
    </p>
    <pre><code class="prism language-bash">rustc <span class="token parameter variable">-V</span>
rustup <span class="token parameter variable">-V</span>
<span class="token function">cargo</span> <span class="token parameter variable">-V</span>
rustup show 
</code></pre>
    <pre><code class="prism language-bash">C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Ho1aAs<span class="token operator">&gt;</span>rustc <span class="token parameter variable">-V</span>
rustc <span class="token number">1.85</span>.0 <span class="token punctuation">(</span>4d91de4e4 <span class="token number">2025</span>-02-17<span class="token punctuation">)</span>

C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Ho1aAs<span class="token operator">&gt;</span>rustup <span class="token parameter variable">-V</span>
rustup <span class="token number">1.28</span>.1 <span class="token punctuation">(</span>f9edccde0 <span class="token number">2025</span>-03-05<span class="token punctuation">)</span>
info: This is the version <span class="token keyword">for</span> the rustup toolchain manager, not the rustc compiler.
info: The currently active <span class="token variable"><span class="token variable">`</span>rustc<span class="token variable">`</span></span> version is <span class="token variable"><span class="token variable">`</span>rustc <span class="token number">1.85</span>.0 <span class="token punctuation">(</span>4d91de4e4 <span class="token number">2025</span>-02-17<span class="token punctuation">)</span><span class="token variable">`</span></span>

C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Ho1aAs<span class="token operator">&gt;</span>cargo <span class="token parameter variable">-V</span>
<span class="token function">cargo</span> <span class="token number">1.85</span>.0 <span class="token punctuation">(</span>d73d2caf9 <span class="token number">2024</span>-12-31<span class="token punctuation">)</span>

C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Ho1aAs<span class="token operator">&gt;</span>rustup show
Default host: x86_64-pc-windows-msvc
rustup home:  D:<span class="token punctuation">\</span>rust<span class="token punctuation">\</span>.rustup

installed toolchains
--------------------
stable-x86_64-pc-windows-msvc <span class="token punctuation">(</span>active, default<span class="token punctuation">)</span>

active toolchain
----------------
name: stable-x86_64-pc-windows-msvc
active because: it's the default toolchain
installed targets:
  x86_64-pc-windows-msvc
</code></pre>
    <h2>
     <a id="Visual_Studio__VS_Code_73">
     </a>
     Visual Studio + VS Code
    </h2>
    <p>
     Visual Studio 2022 + Visual Studio Code 1.98.1
    </p>
    <p>
     vscode安装扩展：Chinese + rust-analyzer + Native Debug + C/C++
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/6cb5672a298d4f1e844603ffa2a4782c.png#pic_center"/>
    </p>
    <p>
     （安装时可选）添加空白处右键、文件夹右键、文件右键以VSCode打开
    </p>
    <pre><code class="prism language-reg"># 1.reg
Windows Registry Editor Version 5.00

[HKEY_CLASSES_ROOT\*\shell\VSCode]
@="Open with Code"
"Icon"="D:\\Microsoft VS Code\\Code.exe"

[HKEY_CLASSES_ROOT\*\shell\VSCode\command]
@="\"D:\\Microsoft VS Code\\Code.exe\" \"%1\""


[HKEY_CLASSES_ROOT\Directory\shell\VSCode]
@="Open with Code"
"Icon"="D:\\Microsoft VS Code\\Code.exe"

[HKEY_CLASSES_ROOT\Directory\shell\VSCode\command]
@="\"D:\\Microsoft VS Code\\Code.exe\" \"%V\""


[HKEY_CLASSES_ROOT\Directory\Background\shell\VSCode]
@="Open with Code"
"Icon"="D:\\Microsoft VS Code\\Code.exe"

[HKEY_CLASSES_ROOT\Directory\Background\shell\VSCode\command]
@="\"D:\\Microsoft VS Code\\Code.exe\" \"%V\""
</code></pre>
    <h2>
     <a id="_112">
     </a>
     测试编译
    </h2>
    <h3>
     <a id="_114">
     </a>
     手动编译
    </h3>
    <p>
     新建~\Desktop\rust用vscode打开，cargo新建项目：
     <code>
      cargo new rust-test
     </code>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/5c9fb2d2bc464f86800148e6df339809.png#pic_center"/>
    </p>
    <p>
     cd进项目，build和run即可编译为exe
    </p>
    <pre><code class="prism language-bash"><span class="token builtin class-name">cd</span> rust-test
<span class="token function">cargo</span> build
<span class="token function">cargo</span> run

<span class="token comment"># || rust-test.exe</span>
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/eda14edf359b4e7ca27733cf77401c1d.png#pic_center"/>
    </p>
    <h3>
     <a id="VSCode_134">
     </a>
     VSCode编译配置
    </h3>
    <p>
     项目路径新建.vscode，在其中新建tasks.json和launch.json
    </p>
    <pre><code class="prism language-json"><span class="token comment">// tasks.json</span>
<span class="token punctuation">{<!-- --></span> 
    <span class="token string-property property">"version"</span><span class="token operator">:</span><span class="token string">"2.0.0"</span><span class="token punctuation">,</span> 
    <span class="token string-property property">"tasks"</span><span class="token operator">:</span><span class="token punctuation">[</span> 
        <span class="token punctuation">{<!-- --></span> 
            <span class="token string-property property">"label"</span><span class="token operator">:</span><span class="token string">"build"</span><span class="token punctuation">,</span> 
            <span class="token string-property property">"type"</span><span class="token operator">:</span><span class="token string">"shell"</span><span class="token punctuation">,</span> 
            <span class="token string-property property">"command"</span><span class="token operator">:</span><span class="token string">"cargo"</span><span class="token punctuation">,</span> 
            <span class="token string-property property">"args"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"build"</span><span class="token punctuation">]</span> 
        <span class="token punctuation">}</span> 
    <span class="token punctuation">]</span> 
<span class="token punctuation">}</span>
</code></pre>
    <p>
     launch.json需要微调，主要是Console标签那个位置
    </p>
    <pre><code class="prism language-json"><span class="token comment">// launch.json</span>
<span class="token punctuation">{<!-- --></span> 
    <span class="token string-property property">"version"</span><span class="token operator">:</span><span class="token string">"0.2.0"</span><span class="token punctuation">,</span> 
    <span class="token string-property property">"configurations"</span><span class="token operator">:</span><span class="token punctuation">[</span> 
        <span class="token punctuation">{<!-- --></span> 
            <span class="token string-property property">"name"</span><span class="token operator">:</span><span class="token string">"Run Rust"</span><span class="token punctuation">,</span> 
            <span class="token string-property property">"preLaunchTask"</span><span class="token operator">:</span><span class="token string">"build"</span><span class="token punctuation">,</span> 
            <span class="token string-property property">"type"</span><span class="token operator">:</span><span class="token string">"cppvsdbg"</span><span class="token punctuation">,</span> 
            <span class="token string-property property">"request"</span><span class="token operator">:</span><span class="token string">"launch"</span><span class="token punctuation">,</span> 
            <span class="token string-property property">"program"</span><span class="token operator">:</span><span class="token string">"${workspaceFolder}/target/debug/${workspaceFolderBasename}.exe"</span><span class="token punctuation">,</span> 
            <span class="token string-property property">"args"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
            <span class="token string-property property">"stopAtEntry"</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span> 
            <span class="token string-property property">"cwd"</span><span class="token operator">:</span><span class="token string">"${workspaceFolder}"</span><span class="token punctuation">,</span> 
            <span class="token string-property property">"environment"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
        <span class="token string-property property">"console"</span><span class="token operator">:</span> <span class="token string">"integratedTerminal"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     打断点调试
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/ba473e4c2aa6498facc63330560f9823.png#pic_center"/>
    </p>
    <h2>
     <a id="_180">
     </a>
     参考
    </h2>
    <blockquote>
     <p>
      https://www.runoob.com/rust/rust-setup.html
     </p>
     <p>
      https://www.runoob.com/rust/cargo-tutorial.html
     </p>
    </blockquote>
    <h2>
     <a id="_186">
     </a>
     完
    </h2>
    <blockquote>
     <p>
      欢迎关注我的CSDN博客 ：@Ho1aAs
      <br/>
      版权属于：Ho1aAs
      <br/>
      本文链接：https://ho1aas.blog.csdn.net/article/details/146232471
      <br/>
      版权声明：本文为原创，转载时须注明出处及本声明
     </p>
    </blockquote>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470:733a2f2f626c6f672e6373646e2e6e65742f5878793630352f:61727469636c652f64657461696c732f313436323332343731" class_="artid" style="display:none">
 </p>
</div>


