---
layout: post
title: "8.-机器人模型训练与评估具身智能机器人套件"
date: 2025-03-06 13:52:17 +0800
description: "评估跟录制数据集是同一个方法（lerobot/scripts/control_robot.py），不过增加了锚点作为输入，下面命令可以用来录制10个评估数据集。"
keywords: "8. 机器人模型训练与评估（具身智能机器人套件）"
categories: ['人工智能技术', 'Lekiwi']
tags: ['深度学习', '机器人', '人工智能', 'Lerobot', 'Lekiwi']
artid: "146067815"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146067815
    alt: "8.-机器人模型训练与评估具身智能机器人套件"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146067815
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146067815
cover: https://bing.ee123.net/img/rand?artid=146067815
image: https://bing.ee123.net/img/rand?artid=146067815
img: https://bing.ee123.net/img/rand?artid=146067815
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     8. 机器人模型训练与评估（具身智能机器人套件）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-dracula" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="1__1">
     </a>
     1. 训练
    </h3>
    <p>
     使用python lerobot/scripts/train.py可以进行机器人控制模型训练，一般需要几个小时，可以在outputs/train/act_lekiwi_test/checkpoints查看锚点数据，下面为一组示例参数：
    </p>
    <pre><code class="prism language-bash">python lerobot/scripts/train.py <span class="token punctuation">\</span>
  <span class="token parameter variable">--dataset.repo_id</span><span class="token operator">=</span><span class="token variable">${HF_USER}</span>/lekiwi_test <span class="token punctuation">\</span>
  <span class="token parameter variable">--policy.type</span><span class="token operator">=</span>act <span class="token punctuation">\</span>
  <span class="token parameter variable">--output_dir</span><span class="token operator">=</span>outputs/train/act_lekiwi_test <span class="token punctuation">\</span>
  <span class="token parameter variable">--job_name</span><span class="token operator">=</span>act_lekiwi_test <span class="token punctuation">\</span>
  <span class="token parameter variable">--device</span><span class="token operator">=</span>cuda <span class="token punctuation">\</span>
  <span class="token parameter variable">--wandb.enable</span><span class="token operator">=</span>true
</code></pre>
    <ul>
     <li>
      数据集参数：–dataset.repo_id=${HF_USER}/lekiwi_test
     </li>
     <li>
      机器人配置：policy.type=act表示从 configuration_act.py 加载配置，数据集中记录了机器人的电机状态、电机动作和摄像头的数量。
     </li>
     <li>
      device=cuda表示在 Nvidia GPU 上训练，使用device=mps来在 Apple 芯片上训练。
     </li>
     <li>
      wandb.enable=true表示使用wandb.ai来可视化训练图，使用之前要使用wandb login先登录，这是
      <a href="https://wandb.ai/authorize" rel="nofollow">
       官网地址
      </a>
      。
     </li>
    </ul>
    <h3>
     <a id="2__18">
     </a>
     2. 评估训练模型
    </h3>
    <p>
     评估跟录制数据集是同一个方法（lerobot/scripts/control_robot.py），不过增加了锚点作为输入，下面命令可以用来录制10个评估数据集。
    </p>
    <pre><code class="prism language-bash">python lerobot/scripts/control_robot.py <span class="token punctuation">\</span>
  <span class="token parameter variable">--robot.type</span><span class="token operator">=</span>lekiwi <span class="token punctuation">\</span>
  <span class="token parameter variable">--control.type</span><span class="token operator">=</span>record <span class="token punctuation">\</span>
  <span class="token parameter variable">--control.fps</span><span class="token operator">=</span><span class="token number">30</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--control.single_task</span><span class="token operator">=</span><span class="token string">"找到红色块，并捡起来"</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--control.repo_id</span><span class="token operator">=</span><span class="token variable">${HF_USER}</span>/eval_act_lekiwi_test <span class="token punctuation">\</span>
  <span class="token parameter variable">--control.tags</span><span class="token operator">=</span><span class="token string">'["tutorial"]'</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--control.warmup_time_s</span><span class="token operator">=</span><span class="token number">5</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--control.episode_time_s</span><span class="token operator">=</span><span class="token number">30</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--control.reset_time_s</span><span class="token operator">=</span><span class="token number">30</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--control.num_episodes</span><span class="token operator">=</span><span class="token number">10</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--control.push_to_hub</span><span class="token operator">=</span>true <span class="token punctuation">\</span>
  <span class="token parameter variable">--control.policy.path</span><span class="token operator">=</span>outputs/train/act_lekiwi_test/checkpoints/last/pretrained_model
</code></pre>
    <p>
     它与之前用于录制训练数据集的命令很像，有两点不同变化：
    </p>
    <ul>
     <li>
      增加参数 control.policy.path 表示策略锚点的路径（–outputs/train/eval_act_lekiwi_test/checkpoints/last/pretrained_model）。如果您将模型锚点上传到hf，还可以使用模型库（${HF_USER}/act_lekiwi_test ）。
     </li>
     <li>
      数据集的名称以eval开头，表示正在进行推理（${HF_USER}/eval_act_lekiwi_test ）。
     </li>
    </ul>
    <hr/>
    <p>
     具身开源套件部分课程如下，欢迎联系合作采购（全套开源）
    </p>
    <ol>
     <li>
      <a href="https://blog.csdn.net/suoxd123/article/details/146021977">
       树莓派上配置机器人环境
      </a>
     </li>
     <li>
      <a href="https://blog.csdn.net/suoxd123/article/details/146063238">
       电脑主机上配置机器人环境
      </a>
     </li>
     <li>
      <a href="https://blog.csdn.net/suoxd123/article/details/146088795">
       机器人硬件组装
      </a>
     </li>
     <li>
      <a href="https://blog.csdn.net/suoxd123/article/details/146063757">
       基于硬件更新软件配置
      </a>
     </li>
     <li>
      <a href="https://blog.csdn.net/suoxd123/article/details/146065356">
       机器人标定
      </a>
     </li>
     <li>
      <a href="https://blog.csdn.net/suoxd123/article/details/146065673">
       机器人远程遥控
      </a>
     </li>
     <li>
      <a href="https://blog.csdn.net/suoxd123/article/details/146066193">
       机器人数据集记录
      </a>
     </li>
     <li>
      <a href="https://blog.csdn.net/suoxd123/article/details/146067815">
       机器人模型训练与评估
      </a>
     </li>
    </ol>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a:2f2f626c6f672e6373646e2e6e65742f73756f78643132332f:61727469636c652f64657461696c732f313436303637383135" class_="artid" style="display:none">
 </p>
</div>


