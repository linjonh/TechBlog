---
layout: post
title: "C-集合"
date: 2025-03-14 20:46:02 +0800
description: "数组和Array类。数组的大小是固定的。如果元素个数是动态的，就应该使用集合类。List和ArrayList是与数组相当的集合类。还有其他类型的集合：队列、栈、链表和字典。集合接口和类型列表队列栈链表有序表字典LookupHashSet位数组性能。"
keywords: "C# 集合"
categories: ['编程基础', 'C']
tags: ['开发语言', 'Windows', 'C']
artid: "146267032"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146267032
    alt: "C-集合"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146267032
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146267032
cover: https://bing.ee123.net/img/rand?artid=146267032
image: https://bing.ee123.net/img/rand?artid=146267032
img: https://bing.ee123.net/img/rand?artid=146267032
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     C# 集合
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <p>
    </p>
    <h2>
     <a id="_2">
     </a>
     概述
    </h2>
    <p>
     数组和Array类。数组的大小是固定的。如果元素个数是动态的，就应该使用集合类。
     <br/>
     List和ArrayList是与数组相当的集合类。还有其他类型的集合：队列、栈、链表和字典。
     <br/>
     集合：
    </p>
    <ul>
     <li>
      集合接口和类型
     </li>
     <li>
      列表
     </li>
     <li>
      队列
     </li>
     <li>
      栈
     </li>
     <li>
      链表
     </li>
     <li>
      有序表
     </li>
     <li>
      字典
     </li>
     <li>
      Lookup
     </li>
     <li>
      HashSet
     </li>
     <li>
      位数组
     </li>
     <li>
      性能
     </li>
    </ul>
    <h2>
     <a id="_21">
     </a>
     集合接口和类型
    </h2>
    <p>
     集合类可以组合为集合，存储 Object 类型的元素和泛型集合类。在 CLR 2.0 之前，不存在泛型。现在泛型集合类通常是集合的首选类型。泛型集合类是类型安全的，如果使用值类型，是不需要装箱操作的。如果要在集合中添加不同类型的对象，且这些对象不是相互派生的，例如在集合中添加 int和 string 对象，就只需基于对象的集合类。另一组集合类是专用于特定类型的集合，例如
     <br/>
     StringCollection 类专用于 string 类型。
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/6d8ea43356f04c878b0198adf4d318df.png">
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/47bd3054194349b08fa92a2d37387a14.png">
       <br/>
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/df267d36ab884ceca72fa2ed3b5cc415.png">
        <br/>
        <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/513041c86e06429f8280aecd3cb2a11e.png"/>
       </img>
      </img>
     </img>
    </p>
    <h2>
     <a id="ArrayList_List_29">
     </a>
     列表(ArrayList, List)
    </h2>
    <p>
     .NET Framework 为动态列表提供了类 ArrayList 和 List。System.Collections.Generic 命名空间中的类 List的用法非常类似于System.Collections 命名空间中的 ArrayList 类。这个类实现了 IList、ICollection 和 IEnumerable 接口。
    </p>
    <ul>
     <li>
      调用默认的构造函数，就可以创建列表对象。在泛型类 List中，必须在声明中为列表的值指定类型。下面的代码说明了如何声明一个包含 int 的 List和一个包含 Racer 元素的列表。ArrayList是一个非泛型列表，可以将任意 Object 类型作为其元素。
     </li>
     <li>
      使用默认的构造函数创建一个空列表。元素添加到列表中后，列表的容量就会扩大为可接纳 4 个元素。如果添加了第 5 个元素，列表的大小就重新设置为包含 8 个元素。如果 8 个元素还不够，列表的大小就重新设置为 16。每次都会将列表的容量重新设置为原来的 2 倍。
     </li>
     <li>
      在C#中，ArrayList 是 .NET Framework 提供的一个动态数组类，它位于 System.Collections 命名空间下。ArrayList 可以根据需要自动调整大小，并且可以存储任意类型的对象（因为它是基于 object 类型的）。然而，在使用 ArrayList 时需要注意，由于它是非泛型集合，所以在添加或检索元素时会发生装箱和拆箱操作，这可能会导致性能损耗，特别是在处理值类型的时候。
     </li>
    </ul>
    <p>
     <strong>
      主要特点：
     </strong>
    </p>
    <ul>
     <li>
      动态大小：可以根据需要增加容量。
     </li>
     <li>
      任意类型：可以包含任何类型的对象，包括混合类型。
     </li>
     <li>
      索引访问：支持通过索引快速访问元素。
     </li>
    </ul>
    <hr/>
    <ul>
     <li>
      尽管 ArrayList 很灵活，但在现代C#开发中，更推荐使用泛型集合如 List，因为它提供了类型安全、避免了装箱和拆箱带来的性能开销，并且拥有与 ArrayList 类似的功能。List list = new List();list.Add(1);// 不会像 ArrayList 那样需要进行装箱操作
     </li>
    </ul>
    <pre><code class="prism language-csharp"><span class="token class-name">ArrayList</span> objectList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">&gt;</span></span> intList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">List<span class="token punctuation">&lt;</span>Racer<span class="token punctuation">&gt;</span></span> racers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span>Racer<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     创建了一个容量为 10 个元素的集合。如果该容量不足以容纳要添加的元素，就把集合的大小重新设置为 20，或 40，每次都是原来的 2 倍。
    </p>
    <pre><code class="prism language-csharp"><span class="token class-name">ArrayList</span> objectList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArrayList</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">&gt;</span></span> intList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     使用Capacity属性可以获取和设置集合的容量：
    </p>
    <pre><code class="prism language-csharp">objectList<span class="token punctuation">.</span>Capacity <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
intList<span class="token punctuation">.</span>Capactity <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     容量与集合中的个数不同。集合中元素个数可以用Count属性读取。当然，容量总是大于元素个数。只要不把元素添加到列表中，元素个数就是 0。
    </p>
    <pre><code class="prism language-csharp">Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>intList<span class="token punctuation">.</span>Count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出元素个数</span>
</code></pre>
    <p>
     如果已经将元素添加到列表中，且不希望添加更多的元素，就可以调用TrimExcess()方法，去除不需要的容量。但是，重新定位是需要时间的，所以如果元素个数超过了容量的 90%，TrimExcess()方法将什么也不做。
    </p>
    <pre><code class="prism language-csharp">intList<span class="token punctuation">.</span><span class="token function">TrimExcess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 去除不需要的容量。</span>
</code></pre>
    <pre><code class="prism language-csharp"><span class="token class-name">ArrayList</span> arrayList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arrayList<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arrayList<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arrayList<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arrayList<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arrayList<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arrayList<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">"World"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arrayList<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

           
<span class="token comment">// TODO:变量数组列表 </span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"遍历数组列表："</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> item <span class="token keyword">in</span> arrayList<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span> 
    Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"下标访问数组列表："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>arrayList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>arrayList<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>arrayList<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>arrayList<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>arrayList<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



arrayList<span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 移除元素3            </span>
arrayList<span class="token punctuation">.</span><span class="token function">RemoveAt</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 移除第3个元素</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"移除元素3，移除第3个元素"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> item <span class="token keyword">in</span> arrayList<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

arrayList<span class="token punctuation">.</span><span class="token function">AddRange</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">{<!-- --></span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">15</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arrayList<span class="token punctuation">.</span><span class="token function">RemoveRange</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> ints <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">{<!-- --></span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">,</span> <span class="token number">43</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">66</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
arrayList<span class="token punctuation">.</span><span class="token function">InsertRange</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> ints<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 第2个位置插入数组</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> item <span class="token keyword">in</span> arrayList<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//arrayList.Sort();       // 排序</span>
<span class="token comment">//arrayList.Reverse();    // 反序</span>

<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> item <span class="token keyword">in</span> arrayList<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//arrayList.Clear();  // 清空</span>
<span class="token comment">//arrayList.Capacity = 10;</span>
<span class="token comment">//Debug.WriteLine(arrayList.Count);</span>
</code></pre>
    <h2>
     <a id="Queue_128">
     </a>
     队列(Queue)
    </h2>
    <p>
     队列是其元素以先进先出(FIFO)的方式来处理的集合。先放在队列中的元素会先读取。队列的例子有在机场排的队、人力资源部中等待处理求职信的队列、打印队列中等待处理的打印任务、以循环方式等待 CPU 处理的线程。另外，还常常有元素根据其优先级来处理的队列。例如，在机场的队列中，商务舱乘客的处理要优先于经济舱的乘客。这里可以使用多个队列，一个队列对应一个优先级。在机场，这是很常见的，因为商务舱乘客和经济舱乘客有不同的登记队列。打印队列和线程也是这样。可以为一组队列建立一个数组，数组中的一项代表一个优先级。在每个数组项中，都有一个队列，其处理按照 FIFO 的方式进行。
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/417bfe98b7044b63be65b30e29e66676.png"/>
    </p>
    <pre><code class="prism language-csharp"><span class="token class-name">Queue<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> queueStr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Queue<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Queue<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">&gt;</span></span> queueInt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Queue<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

queueStr<span class="token punctuation">.</span><span class="token function">Enqueue</span><span class="token punctuation">(</span><span class="token string">"Hi"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
queueStr<span class="token punctuation">.</span><span class="token function">Enqueue</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
queueStr<span class="token punctuation">.</span><span class="token function">Enqueue</span><span class="token punctuation">(</span><span class="token string">"World"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>queueStr<span class="token punctuation">.</span><span class="token function">Peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>queueStr<span class="token punctuation">.</span><span class="token function">Dequeue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>queueStr<span class="token punctuation">.</span><span class="token function">First</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>queueStr<span class="token punctuation">.</span><span class="token function">Last</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             
queueStr<span class="token punctuation">.</span><span class="token function">Clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

queueInt<span class="token punctuation">.</span><span class="token function">Enqueue</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
queueInt<span class="token punctuation">.</span><span class="token function">Enqueue</span><span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
queueInt<span class="token punctuation">.</span><span class="token function">Enqueue</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
queueInt<span class="token punctuation">.</span><span class="token function">Enqueue</span><span class="token punctuation">(</span><span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> item <span class="token keyword">in</span> queueInt<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> queueInt<span class="token punctuation">.</span>Count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>queueInt<span class="token punctuation">.</span><span class="token function">Dequeue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                
<span class="token punctuation">}</span>

Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>queueInt<span class="token punctuation">.</span>Count<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h2>
     <a id="Statck_163">
     </a>
     栈(Statck)
    </h2>
    <p>
     栈是与队列非常类似的另一个容器，只是要使用不同的方法访问栈。最后添加到栈中的元素会最先读取。栈是一个后进先出(LIFO)容器。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/befa9ff697d3403a89d44fc54257c4c6.png"/>
    </p>
    <pre><code class="prism language-csharp"> <span class="token class-name">Stack<span class="token punctuation">&lt;</span><span class="token keyword">char</span><span class="token punctuation">&gt;</span></span> alphabet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Stack<span class="token punctuation">&lt;</span><span class="token keyword">char</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 alphabet<span class="token punctuation">.</span><span class="token function">Push</span><span class="token punctuation">(</span><span class="token char">'A'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 alphabet<span class="token punctuation">.</span><span class="token function">Push</span><span class="token punctuation">(</span><span class="token char">'B'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 alphabet<span class="token punctuation">.</span><span class="token function">Push</span><span class="token punctuation">(</span><span class="token char">'C'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            

 <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">char</span></span> c <span class="token keyword">in</span> alphabet<span class="token punctuation">)</span>
 <span class="token punctuation">{<!-- --></span>
     Debug<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>c<span class="token operator">+</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

 Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>alphabet<span class="token punctuation">.</span><span class="token function">Pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">char</span></span> c <span class="token keyword">in</span> alphabet<span class="token punctuation">)</span>
 <span class="token punctuation">{<!-- --></span>
     Debug<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>c <span class="token operator">+</span> <span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="LinkedList_185">
     </a>
     链表(LinkedList)
    </h2>
    <ul>
     <li>
      LinkedList 集合类没有非泛型集合的类似版本。LinkedList 是一个双向链表，其元素指向它前面和后面的元素。
     </li>
     <li>
      链表的优点是，如果将元素插入列表的中间位置，使用链表会非常快。在插入一个元素时，只需修改上一个元素的 Next 引用和下一个元素的 Previous 引用，使它们引用所插入的元素。在 List 和ArrayList 类中，插入一个元素，需要移动该元素后面的所有元素。
     </li>
     <li>
      当然，链表也有缺点。链表的元素只能一个接一个地访问，这需要较长的时间来查找位于链表中间或尾部的元素。
     </li>
     <li>
      链表不仅能在列表中存储元素，还可以给每个元素存储下一个元素和上一个元素的信息。这就是LinkedList 包含 LinkedListNode 类型的元素的原因。使用 LinkedListNode 类，可以获得列表中的下一个元素和上一个元素。表 10-5 描述了 LinkedListNode 的属性。
     </li>
    </ul>
    <p>
     <strong>
      主要特点：
     </strong>
    </p>
    <ul>
     <li>
      双向链表：每个节点都包含对其前一个和后一个节点的引用。
     </li>
     <li>
      高效插入和删除：在链表中间插入或删除节点比在数组或列表中更有效率，因为不需要移动其他元素。
     </li>
     <li>
      类型安全：作为泛型类，LinkedList 提供了类型安全性。
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/3a22b5fe80984842853abeed4491b54b.png"/>
     </li>
    </ul>
    <pre><code class="prism language-csharp"> <span class="token class-name">LinkedList<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> linkedList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">LinkedList<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 linkedList<span class="token punctuation">.</span><span class="token function">AddLast</span><span class="token punctuation">(</span><span class="token string">"Apple"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 linkedList<span class="token punctuation">.</span><span class="token function">AddLast</span><span class="token punctuation">(</span><span class="token string">"Huawei"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 linkedList<span class="token punctuation">.</span><span class="token function">AddFirst</span><span class="token punctuation">(</span><span class="token string">"Xiaomi"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 linkedList<span class="token punctuation">.</span><span class="token function">AddLast</span><span class="token punctuation">(</span><span class="token string">"Huawei"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> item <span class="token keyword">in</span> linkedList<span class="token punctuation">)</span>
 <span class="token punctuation">{<!-- --></span>
     Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

 <span class="token class-name"><span class="token keyword">var</span></span> node <span class="token operator">=</span> linkedList<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"Apple"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 查找元素</span>
 linkedList<span class="token punctuation">.</span><span class="token function">AddAfter</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> <span class="token string">"Apple After"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 在指定节点后添加元素</span>
 linkedList<span class="token punctuation">.</span><span class="token function">AddBefore</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> <span class="token string">"Apple Before"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 在指定节点前添加元素</span>

 <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> item <span class="token keyword">in</span> linkedList<span class="token punctuation">)</span>
 <span class="token punctuation">{<!-- --></span>
     Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

 Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>linkedList<span class="token punctuation">.</span><span class="token function">ElementAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 访问第0个元素</span>
 Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>linkedList<span class="token punctuation">.</span><span class="token function">ElementAt</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 访问第3个元素</span>
</code></pre>
    <h2>
     <a id="SortedList_222">
     </a>
     有序表(SortedList)
    </h2>
    <ul>
     <li>
      如果需要排好序的表，可以使用 SortedList&lt;TKey, TValue&gt;。这个类按照键给元素排序。
     </li>
    </ul>
    <p>
     <strong>
      主要特点：
     </strong>
    </p>
    <ul>
     <li>
      有序存储：元素按键的升序排列。
     </li>
     <li>
      快速查找：由于内部使用了字典结构来存储数据，查找操作非常快。
     </li>
     <li>
      索引访问：除了通过键访问外，还可以通过索引来访问元素（注意这里的索引是基于键排序后的顺序）。
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/24c96031912741d9aa0b16ef47134a89.png">
       <br/>
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/202dd93ad064436a8929d0d7fa83934a.png"/>
      </img>
     </li>
    </ul>
    <pre><code class="prism language-csharp"><span class="token class-name">SortedList<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">&gt;</span></span> sortedList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">SortedList<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sortedList<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">"one"</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sortedList<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">"two"</span><span class="token punctuation">,</span> <span class="token number">222</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sortedList<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">"three"</span><span class="token punctuation">,</span> <span class="token number">333</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sortedList<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">"four"</span><span class="token punctuation">,</span> <span class="token number">444</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sortedList<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">"five"</span><span class="token punctuation">,</span> <span class="token number">555</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name">KeyValuePair<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">&gt;</span></span> kvp <span class="token keyword">in</span> sortedList<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"key:</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp">kvp<span class="token punctuation">.</span>Key</span><span class="token punctuation">}</span></span><span class="token string">, value:</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp"> kvp<span class="token punctuation">.</span>Value</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 通过key获取值</span>
<span class="token class-name"><span class="token keyword">int</span></span> value_one <span class="token operator">=</span> sortedList<span class="token punctuation">[</span><span class="token string">"one"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 通过索引获取Key</span>
<span class="token class-name"><span class="token keyword">int</span></span> <span class="token keyword">value</span> <span class="token operator">=</span> sortedList<span class="token punctuation">.</span>Values<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">string</span></span> key_two <span class="token operator">=</span> sortedList<span class="token punctuation">.</span>Keys<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>value_one<span class="token punctuation">)</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>key_two<span class="token punctuation">)</span><span class="token punctuation">;</span>

sortedList<span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span><span class="token string">"one"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//  删除键值对</span>
</code></pre>
    <h2>
     <a id="_257">
     </a>
     字典
    </h2>
    <ul>
     <li>
      字典表示一种非常复杂的数据结构，这种数据结构允许按照某个键来访问元素。字典也称为映射或散列表。字典的主要特性是能根据键快速查找值。也可以自由添加和删除元素，这有点像 List，但没有在内存中移动后续元素的性能开销。
     </li>
     <li>
      键的类型：用作字典中键的类型必须重写 Object 类的 GetHashCode()方法。只要字典类需要确定元素的位置，就要调用 GetHashCode()方法。GetHashCode()方法返回的 int 由字典用于计算放置元素的索引。这里不介绍这个算法。我们只需知道，它涉及到素数，所以字典的容量是一个素数。
     </li>
    </ul>
    <p>
     GetHashCode()方法的实现代码必须满足如下要求：
     <br/>
     ● 相同的对象应总是返回相同的值。
     <br/>
     ● 不同的对象可以返回相同的值。
     <br/>
     ● 应执行得比较快，计算的开销不大。
     <br/>
     ● 不能抛出异常。
     <br/>
     ● 应至少使用一个实例字段。
     <br/>
     ● 散列码值应平均分布在 int 可以存储的整个数字区域上。
     <br/>
     ● 散列码最好在对象的生存期中不发生变化。
     <br/>
     提示：
     <br/>
     字典的性能取决于 GetHashCode()方法的实现代码。
    </p>
    <p>
     <strong>
      主要特点：
     </strong>
    </p>
    <ul>
     <li>
      键唯一性：在一个字典中，每个键都是唯一的。如果尝试添加一个已经存在的键，旧值会被新值覆盖。
     </li>
     <li>
      快速查找：由于使用了哈希表，查找、插入和删除操作的时间复杂度接近 O(1)。
     </li>
     <li>
      类型安全：作为泛型类，Dictionary&lt;TKey, TValue&gt; 提供了类型安全性，避免了装箱和拆箱操作带来的性能损耗。
     </li>
    </ul>
    <pre><code class="prism language-csharp"><span class="token comment">// 创建一个字符串，整型键值对</span>
<span class="token class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">&gt;</span></span> dict <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 添加键值对</span>
dict<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">"one"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dict<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">"two"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dict<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">"three"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 通过键访问值</span>
<span class="token class-name"><span class="token keyword">int</span></span> one <span class="token operator">=</span> dict<span class="token punctuation">[</span><span class="token string">"one"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"one:"</span> <span class="token operator">+</span> one<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 修改现有键的值</span>
dict<span class="token punctuation">[</span><span class="token string">"one"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"one new value is </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp">dict<span class="token punctuation">[</span><span class="token string">"one"</span><span class="token punctuation">]</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 尝试访问不存在的键会抛出KeyNotFoundException异常</span>
<span class="token comment">// 可以使用TryGetValue方法来安全地访问值</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>dict<span class="token punctuation">.</span><span class="token function">TryGetValue</span><span class="token punctuation">(</span><span class="token string">"five"</span><span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">int</span></span> five<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"five is </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp">five</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span>
<span class="token punctuation">{<!-- --></span>
    Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"five not found in the dict"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 遍历所有键值对</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name">KeyValuePair<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">&gt;</span></span> pair <span class="token keyword">in</span> dict<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp">pair<span class="token punctuation">.</span>Key</span><span class="token punctuation">}</span></span><span class="token string"> is </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp">pair<span class="token punctuation">.</span>Value</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 遍历键</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> name <span class="token keyword">in</span> dict<span class="token punctuation">.</span>Keys<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 遍历值</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token keyword">in</span> dict<span class="token punctuation">.</span>Values<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 删除指定键的键值对</span>
dict<span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span><span class="token string">"one"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 检查某个键是否存在</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>dict<span class="token punctuation">.</span><span class="token function">ContainsKey</span><span class="token punctuation">(</span><span class="token string">"one"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"one is still in the dict"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span>
<span class="token punctuation">{<!-- --></span>
    Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"one has bee removed."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//dict.Count 键值对个数</span>
<span class="token comment">//dict.Clear();   // 清空字典中的所以键值对</span>
<span class="token comment">//dict.ContainsKey("two"); // 判断字典是否包含指定键</span>
<span class="token comment">//dict.ContainsValue(5);// 判断字典是否包含指定值（注意这可能效率不高，因为它需要遍历所有值）。</span>


<span class="token comment">// 使用对象初始化器</span>
<span class="token class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> dict2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">string</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">{<!-- --></span><span class="token string">"say"</span><span class="token punctuation">,</span><span class="token string">"hello"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token string">"do"</span><span class="token punctuation">,</span><span class="token string">"homework"</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name">KeyValuePair<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> pair <span class="token keyword">in</span> dict2<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp">pair<span class="token punctuation">.</span>Key</span><span class="token punctuation">}</span></span><span class="token string"> is </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp">pair<span class="token punctuation">.</span>Value</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="Lookup_354">
     </a>
     Lookup类
    </h2>
    <p>
     Dictionary&lt;TKey, TValue&gt;只为每个键支持一个值。新类 Lookup&lt;TKey, TElement&gt;是.NET 3.5 中新增的，它类似于 Dictionary&lt;TKey, TValue&gt;，但把键映射到一个值集上。这个类在程序集 System.Core中实现，用 System.Linq 命名空间定义。
    </p>
    <p>
     <strong>
      主要特点：
     </strong>
    </p>
    <ul>
     <li>
      多值映射：与 Dictionary 不同，Lookup 允许一个键关联到一组值。
     </li>
     <li>
      不可变性：一旦创建，无法直接修改 Lookup 中的内容。
     </li>
     <li>
      高效查询：提供了基于键快速查找相关值集合的能力。
     </li>
    </ul>
    <p>
     <strong>
      区别于 Dictionary：
     </strong>
     <br/>
     虽然 Lookup 和 Dictionary 都用于存储键值对，但它们有几个关键的不同点：
    </p>
    <ul>
     <li>
      Dictionary 中每个键只能对应一个值，而 Lookup 可以让一个键对应多个值。
     </li>
     <li>
      Dictionary 在尝试访问不存在的键时会抛出 KeyNotFoundException，而 Lookup 则返回空集合。
     </li>
     <li>
      Lookup 是不可变的，一旦创建就不能修改；而 Dictionary 是可变的，可以随时添加、删除或修改条目。
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/0c4b8e0e6d6147d0a058fe3b2aaf0e1b.png"/>
     </li>
    </ul>
    <pre><code class="prism language-csharp"><span class="token class-name"><span class="token keyword">var</span></span> items <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">new</span> <span class="token punctuation">{<!-- --></span> Name <span class="token operator">=</span> <span class="token string">"Apple"</span><span class="token punctuation">,</span> Category <span class="token operator">=</span> <span class="token string">"Fruit"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token punctuation">{<!-- --></span> Name <span class="token operator">=</span> <span class="token string">"Carrot"</span><span class="token punctuation">,</span> Category <span class="token operator">=</span> <span class="token string">"Vegetable"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token punctuation">{<!-- --></span> Name <span class="token operator">=</span> <span class="token string">"Banana"</span><span class="token punctuation">,</span> Category <span class="token operator">=</span> <span class="token string">"Fruit"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token punctuation">{<!-- --></span> Name <span class="token operator">=</span> <span class="token string">"Spinach"</span><span class="token punctuation">,</span> Category <span class="token operator">=</span> <span class="token string">"Vegetable"</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 使用ToLookup创建Lookup</span>
<span class="token class-name"><span class="token keyword">var</span></span> lookup <span class="token operator">=</span> items<span class="token punctuation">.</span><span class="token function">ToLookup</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>Category<span class="token punctuation">,</span> item <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 遍历Lookup</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> category <span class="token keyword">in</span> lookup<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Category: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp">category<span class="token punctuation">.</span>Key</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> name <span class="token keyword">in</span> category<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"-</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp">name</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="_392">
     </a>
     其他字典类
    </h3>
    <p>
     Dictionary&lt;TKey, TValue&gt;是 Framework 中的一个主要字典类，还有其他一些类，当然也有一些非泛型的字典类。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/c65ee94bdb1b40af89294e63c5e95076.png"/>
    </p>
    <h2>
     <a id="HashSet_395">
     </a>
     HashSet(不重复项的无序列表)
    </h2>
    <p>
     .NET 3.5 在 System.Collections.Generic 命名空间中包含一个新的集合类：HashSet。这个集合类包含不重复项的无序列表。这种集合称为"集(set)"。集是一个保留字，所以该类有另一个名称HashSet。这个名称很容易理解，因为这个集合基于散列值，插入元素的操作非常快，不需要像List类那样重排集合。
    </p>
    <p>
     <strong>
      主要特点：
     </strong>
    </p>
    <ul>
     <li>
      唯一性：HashSet 中的每个元素都是唯一的。
     </li>
     <li>
      无序性：元素没有特定的顺序（从.NET Framework 4.7.2开始，HashSet 支持通过调用 OrderBy() 方法来排序，但默认情况下是无序的）。
     </li>
     <li>
      高性能：由于使用了哈希表，因此在进行插入、删除和查找操作时具有很高的效率。
     </li>
     <li>
      集合操作支持：如交集、并集、差集等数学集合运算。
     </li>
    </ul>
    <p>
     <strong>
      特殊功能：
     </strong>
    </p>
    <ul>
     <li>
      SetEquals(): 判断两个集合是否相等（即它们包含相同的元素）。
     </li>
     <li>
      SymmetricExceptWith(): 计算对称差集（即属于其中一个集合但不属于两者的元素）。
     </li>
     <li>
      Overlaps(): 检查两个集合是否有任何共同元素。
     </li>
     <li>
      IsSubsetOf(), IsSupersetOf(): 判断一个集合是否为另一个集合的子集或超集。
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/a6922ce0e46d44b7ba53e6f27a648d84.png"/>
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/9a2035261eb743e9a5bc246a7ef45ee9.png"/>
     </li>
    </ul>
    <pre><code class="prism language-csharp"><span class="token comment">// 创建一个整数类型的 HashSet</span>
<span class="token class-name">HashSet<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">&gt;</span></span> numbers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">HashSet<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 添加元素</span>
numbers<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
numbers<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
numbers<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 尝试添加重复元素</span>
<span class="token class-name"><span class="token keyword">bool</span></span> added <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回false,因为元素已经存在</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"尝试添加重复元素的结果：</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp">added</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 遍历HashSet内容</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> num <span class="token keyword">in</span> numbers<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 删除指定的元素</span>
<span class="token class-name"><span class="token keyword">bool</span></span> removed <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"是否成功移除元素2：</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp">removed</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 检查运算是否存在</span>
<span class="token class-name"><span class="token keyword">bool</span></span> contains <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"HashSet 是否包含元素1：</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp">contains</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// 集合操作</span>
<span class="token class-name">HashSet<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">&gt;</span></span> setA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">HashSet<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">HashSet<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">&gt;</span></span> setB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">HashSet<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 计算并集</span>
setA<span class="token punctuation">.</span><span class="token function">UnionWith</span><span class="token punctuation">(</span>setB<span class="token punctuation">)</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"并集结果："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> item <span class="token keyword">in</span> setA<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>item <span class="token operator">+</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 计算交集</span>
setA<span class="token punctuation">.</span><span class="token function">IntersectWith</span><span class="token punctuation">(</span>setB<span class="token punctuation">)</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"\n交集结果："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> item <span class="token keyword">in</span> setA<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>item <span class="token operator">+</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 计算差集</span>
<span class="token comment">// 计算差集</span>
setA<span class="token punctuation">.</span><span class="token function">ExceptWith</span><span class="token punctuation">(</span>setB<span class="token punctuation">)</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"\n差集结果(A-B):"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> item <span class="token keyword">in</span> setA<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Debug<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>item <span class="token operator">+</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_470">
     </a>
     位数组
    </h2>
    <h3>
     <a id="BitArray_471">
     </a>
     BitArray
    </h3>
    <ul>
     <li>
      <p>
       如果需要处理许多位，就可以使用类 BitArray 和结构 BitVector32。BitArray 位于命名空间System.Collections，BitVector32 位于命名空间 System.Collections.Specialized。这两种类型最重要的区别是，BitArray 可以重新设置大小，如果事先不知道需要的位数，就可以使用 BitArray，它可以包含非常多的位。BitVector32 是基于栈的，因此比较快。BitVector32 仅包含 32位，存储在一个整数中。
      </p>
     </li>
     <li>
      <p>
       类 BitArray 是一个引用类型，包含一个 int 数组，每 32 位使用一个新整数。
      </p>
     </li>
    </ul>
    <p>
     <strong>
      主要特点：
     </strong>
    </p>
    <ul>
     <li>
      内存效率：由于每个布尔值只占用1位，因此相比于使用 bool[] 数组，BitArray 可以显著减少内存消耗。
     </li>
     <li>
      动态大小：可以在创建后调整 BitArray 的大小。
     </li>
     <li>
      可变性：可以添加、移除或修改其中的元素。
     </li>
     <li>
      集合操作支持：支持按位逻辑运算，如 AND、OR、NOT 和 XOR。
     </li>
    </ul>
    <p>
     <strong>
      注意事项：
     </strong>
    </p>
    <ul>
     <li>
      线程安全性：BitArray 不是线程安全的。如果需要在多线程环境中使用，您必须手动同步访问。
     </li>
     <li>
      性能考虑：虽然 BitArray 在内存使用上非常高效，但由于其内部实现基于位操作，在某些情况下，性能可能不如直接使用 bool[] 高效，特别是在进行频繁的随机访问时。
     </li>
     <li>
      类型转换：BitArray 提供了将内容复制到 byte[], int[] 等数组的方法，这对于与底层硬件通信或者与其他语言的数据交换非常有用。
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/0c5604fa4d474eef90b97bbe67647e3c.png"/>
     </li>
    </ul>
    <pre><code class="prism language-csharp"><span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">PrintBitArray</span><span class="token punctuation">(</span><span class="token class-name">BitArray</span> array<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token class-name"><span class="token keyword">bool</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> bits <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">bool</span></span><span class="token punctuation">[</span>array<span class="token punctuation">.</span>Count<span class="token punctuation">]</span><span class="token punctuation">;</span>
    array<span class="token punctuation">.</span><span class="token function">CopyTo</span><span class="token punctuation">(</span>bits<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">bool</span></span> bit <span class="token keyword">in</span> bits<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>bit <span class="token punctuation">?</span> <span class="token string">"1"</span> <span class="token punctuation">:</span> <span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
    <pre><code class="prism language-csharp"><span class="token comment">// 创建一个包含10个false值的BitArray</span>
<span class="token class-name">BitArray</span> bitArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">BitArray</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 打印初始状态</span>
<span class="token function">PrintBitArray</span><span class="token punctuation">(</span>bitArray<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 设置指定索引位置的值</span>
bitArray<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将第4位置设为true</span>
bitArray<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 也可以这样设置值</span>

Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"修改后的BitArray:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">PrintBitArray</span><span class="token punctuation">(</span>bitArray<span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// 创建两个BitArray实例</span>
<span class="token class-name">BitArray</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">BitArray</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">bool</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">{<!-- --></span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">BitArray</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">BitArray</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">bool</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">{<!-- --></span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// AND 操作</span>
<span class="token class-name">BitArray</span> andResult <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">BitArray</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>Count<span class="token punctuation">)</span><span class="token punctuation">;</span>
andResult<span class="token punctuation">.</span><span class="token function">And</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
andResult<span class="token punctuation">.</span><span class="token function">And</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"AND 操作结果："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">PrintBitArray</span><span class="token punctuation">(</span>andResult<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// OR 操作</span>
<span class="token class-name">BitArray</span> orResult <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">BitArray</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>Count<span class="token punctuation">)</span><span class="token punctuation">;</span>
orResult<span class="token punctuation">.</span><span class="token function">Or</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
orResult<span class="token punctuation">.</span><span class="token function">Or</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"OR 操作结果："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">PrintBitArray</span><span class="token punctuation">(</span>orResult<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// NOT 操作</span>
<span class="token class-name">BitArray</span> notResult <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">BitArray</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
notResult<span class="token punctuation">.</span><span class="token function">Not</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"NOT 操作结果："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">PrintBitArray</span><span class="token punctuation">(</span>notResult<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 调整大小, 初始大小为5</span>
<span class="token class-name">BitArray</span> bitArray2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">BitArray</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bitArray2<span class="token punctuation">.</span><span class="token function">SetAll</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将所有位设置为true</span>

<span class="token comment">// 改变大小到8，并保留原有数据</span>
bitArray2<span class="token punctuation">.</span>Length <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"调整大小后的BitArray:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">PrintBitArray</span><span class="token punctuation">(</span>bitArray2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="BitVector32_551">
     </a>
     BitVector32
    </h3>
    <p>
     如果事先知道需要的位数，就可以使用 BitVector32 结构替代 BitArray。BitVector32 效率较高，因为它是一个值类型，在整数栈上存储位。一个整数可以存储 32 位。如果需要更多的位，就可以使用多个 BitVector32 值或 BitArray。BitArray 可以根据需要增大，但 BitVector32 不能。
    </p>
    <p>
     <strong>
      主要特点：
     </strong>
    </p>
    <ul>
     <li>
      固定大小：BitVector32 固定为 32 位，因此适用于存储少量数据。
     </li>
     <li>
      高效性：由于直接操作整数的位，因此非常高效。
     </li>
     <li>
      分段支持：可以通过定义分段来存储小范围的整数值，而不仅仅是布尔值。
     </li>
    </ul>
    <p>
     <strong>
      注意事项：
     </strong>
    </p>
    <ul>
     <li>
      容量限制：由于 BitVector32 只有 32 位，因此它只能存储有限数量的信息。如果需要存储更多的数据，则应考虑使用 BitArray 或其他数据结构。
     </li>
     <li>
      线程安全性：BitVector32 不是线程安全的。如果需要在多线程环境中使用，必须手动同步访问。
     </li>
     <li>
      性能：由于其底层基于位操作，BitVector32 在处理布尔值和小整数值时具有很高的性能效率。
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/8055ec48dc944e56a3f87ec9e0826a5d.png"/>
     </li>
    </ul>
    <pre><code class="prism language-csharp"><span class="token comment">// 创建一个新的BtVector32</span>
<span class="token class-name">BitVector32</span> bv <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">BitVector32</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 定义一些标志字段</span>
<span class="token class-name">BitVector32<span class="token punctuation">.</span>Section</span> isRunningSection <span class="token operator">=</span> BitVector32<span class="token punctuation">.</span><span class="token function">CreateSection</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">BitVector32<span class="token punctuation">.</span>Section</span> countSection <span class="token operator">=</span> BitVector32<span class="token punctuation">.</span><span class="token function">CreateSection</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> isRunningSection<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 设置标志</span>
bv<span class="token punctuation">[</span>isRunningSection<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 设置运行状态为true</span>
bv<span class="token punctuation">[</span>countSection<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">127</span><span class="token punctuation">;</span> <span class="token comment">// 设置计数值</span>

<span class="token comment">// 获取标志</span>
<span class="token class-name"><span class="token keyword">bool</span></span> isRunning <span class="token operator">=</span> bv<span class="token punctuation">[</span>isRunningSection<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">int</span></span> count <span class="token operator">=</span> bv<span class="token punctuation">[</span>countSection<span class="token punctuation">]</span><span class="token punctuation">;</span>

Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Is Running:</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp">isRunning</span><span class="token punctuation">}</span></span><span class="token string">, Count:</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp">count</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 打印整个BitVector32的二进制表示形式</span>
Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>Convert<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span>bv<span class="token punctuation">.</span>Data<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">PadLeft</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h2>
     <a id="_587">
     </a>
     性能
    </h2>
    <p>
     许多集合类都提供了相同的功能，例如，SortedList 与 SortedDictionary 的功能几乎完全相同。但是，其性能常常有很大区别。一个集合使用的内存少，另一个集合的元素检索速度快。在 MSDN 文档中，集合的方法常常有性能提示，给出了以大 O 记号表示的操作时间：
    </p>
    <ul>
     <li>
      O(1):表示无论集合中有多少数据项，这个操作需要的时间都不变。
     </li>
     <li>
      O(n):表示对于集合中的每个元素，需要增加的时间量都是相同的。
     </li>
     <li>
      O(log n):表示操作需要的时间随集合中元素的增加而增加，但每个元素需要增加的时间不是线性的，而是呈对数曲线。
     </li>
    </ul>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/635b0917cf3d47e790df9ca7a5e1e9b6.png"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f753031333432303432382f:61727469636c652f64657461696c732f313436323637303332" class_="artid" style="display:none">
 </p>
</div>


