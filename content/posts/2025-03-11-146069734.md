---
layout: post
title: "Redis-List类型"
date: 2025-03-11 10:26:43 +0800
description: "本篇文章就Redis中value的List类型做简单介绍。"
keywords: "Redis--List类型"
categories: ['Redis']
tags: ['缓存', '数据库', 'Redis']
artid: "146069734"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146069734
    alt: "Redis-List类型"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146069734
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146069734
cover: https://bing.ee123.net/img/rand?artid=146069734
image: https://bing.ee123.net/img/rand?artid=146069734
img: https://bing.ee123.net/img/rand?artid=146069734
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Redis--List类型
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <hr id="hr-toc" name="tableOfContents"/>
    <p>
    </p>
    <h2 id="%E4%B8%80%E3%80%81%E5%BC%95%E8%A8%80" name="%E4%B8%80%E3%80%81%E5%BC%95%E8%A8%80">
     一、引言
    </h2>
    <p>
     本篇文章就Redis中value的List类型做简单介绍。
    </p>
    <h2 id="%E4%BA%8C%E3%80%81%E4%BB%8B%E7%BB%8D" name="%E4%BA%8C%E3%80%81%E4%BB%8B%E7%BB%8D">
     二、介绍
    </h2>
    <p>
     List相当于数组或顺序表（并非是一个简单的数组，更接近于双端队列）。lpush（头插）rpush（尾插）lpop（头删）rpop（尾删）。
    </p>
    <p>
     列表中的元素是有序的（有序指顺序很重要，如果把元素位置颠倒，顺序调换得到新的List和之前的List不等价）
    </p>
    <p>
     列表中的元素是允许重复的
    </p>
    <p>
     可以将列表当作栈/队列进行使用，例如：消息队列（Message Queue）
    </p>
    <h2 id="%E4%B8%89%E3%80%81%E5%91%BD%E4%BB%A4" name="%E4%B8%89%E3%80%81%E5%91%BD%E4%BB%A4">
     三、命令
    </h2>
    <h3 id="1.lpush%EF%BC%8Clrange" name="1.lpush%EF%BC%8Clrange">
     1.lpush，lrange
    </h3>
    <p>
     LPUSH:lpush key element[element...]一次可以插入一个元素或多个元素,如果key已经存在，这时使用lpush操作会进行报错
    </p>
    <p>
     <img alt="" height="119" src="https://i-blog.csdnimg.cn/direct/67e86782bbb64bb6af15f5c5c2ac6f87.png" width="535"/>
    </p>
    <p>
     LRANGE：查看list中指定范围的元素（List range）
    </p>
    <p>
     lrange key start stop
    </p>
    <p>
     <img alt="" height="252" src="https://i-blog.csdnimg.cn/direct/b49b3562e383411a86d3b60fbdc119d9.png" width="475"/>
    </p>
    <h3 id="2.lpushx%EF%BC%8Crpush%EF%BC%8Crpushx" name="2.lpushx%EF%BC%8Crpush%EF%BC%8Crpushx">
     2.lpushx，rpush，rpushx
    </h3>
    <p>
     lpushx:key存在才能插入成功，不存在会失败
    </p>
    <p>
     <img alt="" height="496" src="https://i-blog.csdnimg.cn/direct/2e2fab3fd6dc4591a705238ef525dacc.png" width="883"/>
    </p>
    <p>
     rpush:从右侧进行插入，尾插法
    </p>
    <p>
     <img alt="" height="467" src="https://i-blog.csdnimg.cn/direct/5cbae6d718194b248169b3ec9d0bea96.png" width="470"/>
    </p>
    <p>
     rpushx:和lpushx一样，存在才能插入
    </p>
    <h3 id="3.lpop%2Crpop" name="3.lpop%2Crpop">
     3.lpop,rpop
    </h3>
    <p>
     lpop:从左边弹出，头弹出
    </p>
    <p>
     rpop：从右边弹出，尾弹出
    </p>
    <p>
     <img alt="" height="118" src="https://i-blog.csdnimg.cn/direct/3cba5a518e7b4e6a9f11942b16545f9a.png" width="405"/>
    </p>
    <h3 id="4.lindex%2Clinsert%2Cllen" name="4.lindex%2Clinsert%2Cllen">
     4.lindex,linsert,llen
    </h3>
    <p>
     lindex:获取从左数的对应的元素 时间复杂度：O(N)
    </p>
    <p>
     <img alt="" height="60" src="https://i-blog.csdnimg.cn/direct/3fe04acbe63347be9ff634ce66fef711.png" width="437"/>
    </p>
    <p>
     linsert：linsert key before | after pivot（具体的值） element
    </p>
    <p>
     存在相同的元素，会执行第一个元素   时间复杂度：O(N)
    </p>
    <p>
     <img alt="" height="440" src="https://i-blog.csdnimg.cn/direct/985050f6025c4060a10dc6a4e3d99266.png" width="596"/>
    </p>
    <p>
     llen：获取list的长度
    </p>
    <h3 id="5.lrem" name="5.lrem">
     5.lrem
    </h3>
    <p>
     lrem key count element
    </p>
    <p>
     删除元素：count&gt;0从左往右删   count&lt;0 从右往左删   count=0  将所有的该元素删除
    </p>
    <h3 id="6.ltrim%EF%BC%8Clset" name="6.ltrim%EF%BC%8Clset">
     6.ltrim，lset
    </h3>
    <p>
     ltrim:ltrim key stary stop 范围保留，这个范围内的都保留，其余的都删除
    </p>
    <p>
     <img alt="" height="202" src="https://i-blog.csdnimg.cn/direct/fb36103246f94d4da8dbb8c8c55f8252.png" width="523"/>
    </p>
    <p>
     lset：lset key index element  时间复杂度：O(N)
    </p>
    <p>
     修改指定位置的元素
    </p>
    <p>
     <img alt="" height="204" src="https://i-blog.csdnimg.cn/direct/eed46b5e0ce745c4962feb5f4264104b.png" width="524"/>
    </p>
    <h3 id="7.blpop%EF%BC%8Cbrpop" name="7.blpop%EF%BC%8Cbrpop">
     7.blpop，brpop
    </h3>
    <p>
     阻塞版本的lpop和rpop
    </p>
    <p>
     如果list中存在元素，blpop和brpop的作用与lpop和rpop相同
    </p>
    <p>
     如果list中不存在元素，blpop和brpop就会产生阻塞，一直阻塞到队列存在元素
    </p>
    <p>
     可以设置阻塞时间，不一定是无休止的等待
    </p>
    <p>
     如果设置了多个key，那么会从左往右进行遍历键，一旦一个键对应的列表可以弹出元素，命令立即返回
    </p>
    <p>
     <img alt="" height="233" src="https://i-blog.csdnimg.cn/direct/ac7c60990df846f3ad4028e9d5b1bfeb.png" width="485"/>
    </p>
    <h2 id="%E5%9B%9B%E3%80%81%E5%86%85%E9%83%A8%E7%BC%96%E7%A0%81" name="%E5%9B%9B%E3%80%81%E5%86%85%E9%83%A8%E7%BC%96%E7%A0%81">
     四、内部编码
    </h2>
    <h3 id="1.ziplist%EF%BC%9A%E5%8E%8B%E7%BC%A9%E5%88%97%E8%A1%A8" name="1.ziplist%EF%BC%9A%E5%8E%8B%E7%BC%A9%E5%88%97%E8%A1%A8">
     1.ziplist：压缩列表
    </h3>
    <p>
     列表的元素小于list-max-entries配置（默认512个），列表中每个元素的长度小于64字节
    </p>
    <h3 id="2.linkedlist%EF%BC%9A%E9%93%BE%E8%A1%A8" name="2.linkedlist%EF%BC%9A%E9%93%BE%E8%A1%A8">
     2.linkedlist：链表
    </h3>
    <p>
     便于查找，但是存在一定的内存开销
    </p>
    <h3 id="3.quicklist%EF%BC%9Aredis5%E4%B9%8B%E5%90%8E%E7%9A%84%E7%BC%96%E7%A0%81%E6%96%B9%E5%BC%8F" name="3.quicklist%EF%BC%9Aredis5%E4%B9%8B%E5%90%8E%E7%9A%84%E7%BC%96%E7%A0%81%E6%96%B9%E5%BC%8F">
     3.quicklist：redis5之后的编码方式
    </h3>
    <p>
     相当于是链表和压缩列表的结合，整体还是一个链表，链表每个节点是一个压缩列表
    </p>
    <p>
     <img alt="" height="62" src="https://i-blog.csdnimg.cn/direct/5990c4f2bbf64f3eb66e964bde0284d6.png" width="525"/>
    </p>
    <h2 id="%E4%BA%94%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF" name="%E4%BA%94%E3%80%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">
     五、应用场景
    </h2>
    <h3 id="1.%E7%94%A8list%E4%BD%9C%E4%B8%BA%E6%95%B0%E7%BB%84%E8%BF%99%E6%A0%B7%E7%9A%84%E7%BB%93%E6%9E%84%E5%AD%98%E5%82%A8%E5%A4%9A%E4%B8%AA%E5%85%83%E7%B4%A0" name="1.%E7%94%A8list%E4%BD%9C%E4%B8%BA%E6%95%B0%E7%BB%84%E8%BF%99%E6%A0%B7%E7%9A%84%E7%BB%93%E6%9E%84%E5%AD%98%E5%82%A8%E5%A4%9A%E4%B8%AA%E5%85%83%E7%B4%A0">
     1.用list作为数组这样的结构存储多个元素
    </h3>
    <h3 id="2.%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97" name="2.%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97">
     2.消息队列
    </h3>
    <p>
     生产者消费者模型：生产者（lpush）消费者（brpop）
    </p>
    <h3 id="3.%E5%BE%AE%E5%8D%9ATimeLine" name="3.%E5%BE%AE%E5%8D%9ATimeLine">
     3.微博TimeLine
    </h3>
    <p>
     还是将list作为数组进行存储
    </p>
    <h2 id="%E5%85%AD%E3%80%81%E6%80%BB%E7%BB%93" name="%E5%85%AD%E3%80%81%E6%80%BB%E7%BB%93">
     六、总结
    </h2>
    <p>
     本篇文章简单介绍了value的list类型的相关操作以及相关的应用场景，下一篇文章将介绍redis中的集合set，感谢观看！
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f37343831353138332f:61727469636c652f64657461696c732f313436303639373334" class_="artid" style="display:none">
 </p>
</div>


