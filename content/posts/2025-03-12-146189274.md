---
layout: post
title: "JavaEESpring-Boot配置文件"
date: 2025-03-12 21:35:18 +0800
description: "SpringBoot配置文件，properties与yml，yaml格式及基础语法"
keywords: "【JavaEE】Spring Boot配置文件"
categories: ['Javaee']
tags: ['Spring', 'Java', 'Ee', 'Boot']
artid: "146189274"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146189274
    alt: "JavaEESpring-Boot配置文件"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146189274
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146189274
cover: https://bing.ee123.net/img/rand?artid=146189274
image: https://bing.ee123.net/img/rand?artid=146189274
img: https://bing.ee123.net/img/rand?artid=146189274
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【JavaEE】Spring Boot配置文件
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <br/>
    <img alt="
" src="https://i-blog.csdnimg.cn/direct/c0606980ff9c4c60a9dcab330fc2fa5e.gif#pic_center">
     <p>
     </p>
     <h2>
      <a id="Spring_Boot_3">
      </a>
      一、Spring Boot配置文件简介
     </h2>
     <p>
      配置⽂件主要是为了解决硬编码（代码写死）带来的问题, 把可能会发⽣改变的信息, 放在⼀个集中的地⽅, 当我们启动某个程序时, 应⽤程序从配置⽂件中读取数据, 并加载运⾏.
     </p>
     <p>
      SpringBoot⽀持并定义了配置⽂件的格式, 也在另⼀个层⾯达到了规范其他框架集成到SpringBoot的⽬的.
      <br/>
      很多项⽬或者框架的配置信息也放在配置⽂件中,⽐如:
     </p>
     <ul>
      <li>
       项⽬的启动端
      </li>
      <li>
       数据库的连接信息(包含⽤⼾名和密码的设置)
      </li>
      <li>
       第三⽅系统的调⽤密钥等信息
      </li>
      <li>
       ⽤于发现和定位问题的普通⽇志和异常⽇志等.
      </li>
     </ul>
     <p>
      Spring Boot 配置文件格式：
     </p>
     <ul>
      <li>
       application.properties
      </li>
      <li>
       application.yml
      </li>
      <li>
       application.yaml
      </li>
     </ul>
     <p>
      说明：
     </p>
     <ul>
      <li>
       yml格式是yaml的简写模式。
      </li>
      <li>
       properties和yml配置格式可以共存，两个配置取并集，当有冲突（对同一个配置都操作了），以properties为准（properties优先级更高）
      </li>
      <li>
       SpringBoot配置文件的文件名默认必须是application，其它名需要自己设置，否则就算有后缀也不会当成是配置文件。
      </li>
     </ul>
     <h2>
      <a id="properties__24">
      </a>
      二、properties 配置⽂件说明
     </h2>
     <h3>
      <a id="21_properties__25">
      </a>
      2.1 properties 基本语法
     </h3>
     <p>
      基本语法如下：
     </p>
     <ul>
      <li>
       properties 是以键值的形式配置的，key 和 value 之间是以"="连接的；
      </li>
      <li>
       key的每个单词之间建议使用 点 . 分隔开。
      </li>
     </ul>
     <p>
      <img alt="
" src="https://i-blog.csdnimg.cn/direct/dca6168468e147e08f9e568cc2f00456.png"/>
     </p>
     <h3>
      <a id="22_value_33">
      </a>
      2.2 @value(“${}”)读取配置⽂件
     </h3>
     <p>
      主动的读取配置⽂件中的内容，可以使⽤@Value 注解来实现。@Value 注解使⽤" ${} "的格式读取，在大括号中写配置的key。
     </p>
     <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>springioc<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PostConstruct</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Controller</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">USController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${my.key}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> myKey<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@PostConstruct</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"my.key = "</span><span class="token operator">+</span>myKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre>
     <p>
      <img alt="
" src="https://i-blog.csdnimg.cn/direct/6fd5999ade1443b7b7eaafe93624d8a2.png"/>
     </p>
     <p>
      注意事项：
     </p>
     <ul>
      <li>
       配置中设置key-value的时候，指不用考虑类型，在我们代码中拿到值的时候会转换成变量的类型。
      </li>
      <li>
       当然有些类型是不会转换成功的，例如当你在配置文件中写了一个字符串，使用int类型来接收就会出错。
      </li>
      <li>
       由于我们每个配置的可以都要写完全，就会导致properties 配置⽂件中会有很多的冗余的信息。
       <code>
        my.key1=1 my.key2=1
       </code>
       如上两个配置的my在properties格式下就不能合并。
      </li>
     </ul>
     <h2>
      <a id="yml__66">
      </a>
      三、yml 配置文件说明
     </h2>
     <h3>
      <a id="31_yml__67">
      </a>
      3.1 yml 基本格式
     </h3>
     <p>
      基本格式如下：
     </p>
     <ul>
      <li>
       一级，
       <code>
        key: value
       </code>
       key之后的冒号与冒号之后的一个空格都不能省略；
      </li>
      <li>
       多级，key的每个单词占一行，并且在单词后面加冒号，且不能出现级数的单词相同不放在一起
      </li>
      <li>
       在同一个级别下面的单词要对准（建议与上一级隔两个空格），不对齐会将同级认为父子级
       <br/>
       <img alt="
" src="https://i-blog.csdnimg.cn/direct/be2cf4f4885945b29565be18917d5b41.png"/>
      </li>
     </ul>
     <h3>
      <a id="32_yml____74">
      </a>
      3.2 yml 配置数据类型 及 读取
     </h3>
     <p>
      对于数据类型只有两个需要特别注意，其它都是直接写
     </p>
     <ul>
      <li>
       一个波浪号代表null
       <code>
        null: ~
       </code>
      </li>
      <li>
       空字符串，不写或者使用空单引号
       <code>
        empty: ''
       </code>
      </li>
     </ul>
     <p>
      对于配置的读取与上面的properties配置读取方法一样使用@value(“${}”)，对于不同级别的单词使用点连接。例如上面的配置读取
     </p>
     <pre><code class="prism language-java"><span class="token annotation punctuation">@value</span><span class="token punctuation">(</span><span class="token string">"${spring.datasource.url}"</span><span class="token punctuation">)</span>
</code></pre>
     <h3>
      <a id="33_ymlConfigurationPropertiesprefix___84">
      </a>
      3.3 yml配置对象及读取@ConfigurationProperties(prefix = “”)
     </h3>
     <p>
      对于类对象的配置，直接用一个两级写法即可，外面单词就是类名，里面的单词就是属性。
     </p>
     <pre><code class="prism language-java">person<span class="token operator">:</span>
  name<span class="token operator">:</span> zhangsan
  age<span class="token operator">:</span> <span class="token number">18</span>
  id<span class="token operator">:</span> <span class="token number">111</span>
</code></pre>
     <p>
      对于配置的读取，我们使用注解@ConfigurationProperties(prefix = “”) 引号中写类名。
     </p>
     <pre><code class="prism language-java"><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"person"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Configuration</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age44<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
     <p>
      注意事项：
     </p>
     <ul>
      <li>
       注解去配置文件中拿属性的时候是根据属性名字对应的
      </li>
      <li>
       注解只会管类中的属性是否跟配置文件有对应，有就赋值，没有不会报错。
      </li>
     </ul>
     <h3>
      <a id="34___113">
      </a>
      3.4 配置集合 及读取
     </h3>
     <p>
      只需要在上面的语法中，给key赋值value时每个value值用短斜杠加空格即可。例如下面的name就是一个集合。
     </p>
     <pre><code class="prism language-java">person<span class="token operator">:</span>
  name<span class="token operator">:</span>
    <span class="token operator">-</span> zhangsan
    <span class="token operator">-</span> lisi
  age<span class="token operator">:</span> <span class="token number">18</span>
  id<span class="token operator">:</span> <span class="token number">111</span>

</code></pre>
     <p>
      对于配置的读取，我们使用注解@ConfigurationProperties(prefix = “”) 引号中写类名，然后属性名对应即可。
     </p>
     <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>springioc<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>context<span class="token punctuation">.</span>properties<span class="token punctuation">.</span></span><span class="token class-name">ConfigurationProperties</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"person"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Configuration</span><span class="token punctuation">(</span><span class="token string">"person"</span><span class="token punctuation">)</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age44<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

</code></pre>
     <h3>
      <a id="Map_150">
      </a>
      配置Map及读取
     </h3>
     <p>
      配置Map就跟基础语法中配置多级时的一样。
     </p>
     <pre><code class="prism language-java">person<span class="token operator">:</span>
  name<span class="token operator">:</span>
    <span class="token operator">-</span> zhangsan
    <span class="token operator">-</span> lisi
  age<span class="token operator">:</span> <span class="token number">18</span>
  id<span class="token operator">:</span>
    id1<span class="token operator">:</span> <span class="token number">111</span>
    id2<span class="token operator">:</span> <span class="token number">222</span>
    id3<span class="token operator">:</span> <span class="token number">333</span>
</code></pre>
     <p>
      对于配置的读取，我们使用注解@ConfigurationProperties(prefix = “”) 引号中写类名，然后属性名对应即可。
     </p>
     <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>springioc<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>context<span class="token punctuation">.</span>properties<span class="token punctuation">.</span></span><span class="token class-name">ConfigurationProperties</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"person"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Configuration</span><span class="token punctuation">(</span><span class="token string">"person"</span><span class="token punctuation">)</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age44<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

</code></pre>
    </img>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f796a32303034303632372f:61727469636c652f64657461696c732f313436313839323734" class_="artid" style="display:none">
 </p>
</div>


