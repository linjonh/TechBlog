---
layout: post
title: "Docker基础篇Ubuntu下Docker安装"
date: 2025-03-08 21:49:02 +0800
description: "大家好我是木木，在当今快速发展的云计算与云原生时代，容器化技术蓬勃兴起，Docker 作为实现容器化的主流工具之一，为开发者和运维人员带来了极大的便捷 。下面我们一起进行Docker安装。"
keywords: "Docker基础篇——Ubuntu下Docker安装"
categories: ['Docker']
tags: ['运维', '容器', 'Docker']
artid: "146120223"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146120223
    alt: "Docker基础篇Ubuntu下Docker安装"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146120223
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146120223
cover: https://bing.ee123.net/img/rand?artid=146120223
image: https://bing.ee123.net/img/rand?artid=146120223
img: https://bing.ee123.net/img/rand?artid=146120223
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Docker基础篇——Ubuntu下Docker安装
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     大家好我是木木，在当今快速发展的云计算与云原生时代，容器化技术蓬勃兴起，Docker 作为实现容器化的主流工具之一，为开发者和运维人员带来了极大的便捷 。下面我们一起进行Docker安装。
    </p>
    <p>
     Docker的官方Ubuntu安装文档，如有需要可以查看：
     <a href="https://docs.docker.com/engine/install/ubuntu/" rel="nofollow" title="Ubuntu |Docker 文档">
      Ubuntu |Docker 文档
     </a>
    </p>
    <p>
     本文也是根据官方文档进行安装操作。本次安装全是在线连接互联网安装的操作。
    </p>
    <h2>
     安装前的介绍
    </h2>
    <p>
     官方说的是：在新主机上首次安装 Docker Engine（又称docker-ee）之前，您需要设置 Docker 存储库。之后，您可以安装和更新 存储库中的 Docker。
    </p>
    <p>
     实际我们个人使用安装的时候不会安装docker-ee,而是docker-ce（Docker Community Edition）。
    </p>
    <p>
     docker-ce：免费社区版。Docker的核心功能，包含Docker 引擎负责管理容器，如容器创建、运行、管理、网络等功能，满足个人使用或者小型的生产使用。
    </p>
    <p>
     docker-ee：收费企业版。包含Docker的核心功能，比免费社区版的功能更加的强大，还提供相应的技术支持。
    </p>
    <h2>
     安装
    </h2>
    <h3>
     1、设置 Docker 的存储库
    </h3>
    <p>
     将下面一列的所有信息一行行复制，直接粘贴到系统进行执行
    </p>
    <table border="1" cellpadding="1" cellspacing="1" style="width:960px">
     <tbody>
      <tr>
       <td>
        <p>
         # Add Docker's official GPG key:
         <br/>
         sudo apt-get update
        </p>
        <p>
         <img alt="" height="743" src="https://i-blog.csdnimg.cn/direct/9f913fe9b356477487b1971a2f6d717e.png" width="898"/>
        </p>
        <p>
         注意：sudo apt-get update 获取最新的软件包信息，每个服务器的get不一样 只要能执行完就行。
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         sudo apt-get install ca-certificates curl
        </p>
        <p>
         <img alt="" height="655" src="https://i-blog.csdnimg.cn/direct/5a640a3337e14f38af2cbd55947f5dd7.png" width="686"/>
        </p>
        <p>
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         sudo install -m 0755 -d /etc/apt/keyrings
        </p>
        <p>
         <img alt="" height="227" src="https://i-blog.csdnimg.cn/direct/82570bca1143492796402902e21a3c28.png" width="557"/>
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc
        </p>
        <p>
         <img alt="" height="41" src="https://i-blog.csdnimg.cn/direct/582906534614421ba0eeef155c6df64f.png" width="941"/>
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         sudo chmod a+r /etc/apt/keyrings/docker.asc
        </p>
        <p>
         <img alt="" height="94" src="https://i-blog.csdnimg.cn/direct/a3582bf3969c4d9bae89d3c60719a27d.png" width="601"/>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
    </p>
    <p>
    </p>
    <pre><code class="language-bash">echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \
  $(. /etc/os-release &amp;&amp; echo "${UBUNTU_CODENAME:-$VERSION_CODENAME}") stable" | \
  sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null</code></pre>
    <table border="1" cellpadding="1" cellspacing="1" style="width:960px">
     <tbody>
      <tr>
       <td>
        <p>
         <img alt="" height="94" src="https://i-blog.csdnimg.cn/direct/f4bbf0f489b54df2a17c17fc5c610324.png" width="1035"/>
        </p>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         sudo apt-get update
        </p>
        <p>
         <img alt="" height="214" src="https://i-blog.csdnimg.cn/direct/b7643003077d4d94be60ce49a60441af.png" width="701"/>
        </p>
       </td>
       <td>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         <strong>
          <span style="color:#fe2c24">
           执行上面的即可，此列是做命令解析
          </span>
         </strong>
        </p>
        <p>
         sudo apt-get update  #更新系统软件包索引，获取最新软件包列表信息
         <br/>
         sudo apt-get install ca-certificates curl  #安装ca-certificates（管理CA的证书）、curl（网络交互工具） 包
         <br/>
         sudo install -m 0755 -d /etc/apt/keyrings  #创建/etc/apt/keyrings文件夹，赋予0755权限
         <br/>
         sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc #使用culr从docker中下载官方gpg秘钥，并保存到/etc/apt/keyrings/中
         <br/>
         sudo chmod a+r /etc/apt/keyrings/docker.asc #赋予所有用于都可以/etc/apt/keyrings/docker.asc文件进行读取
        </p>
        <p>
         # Add the repository to Apt sources:
         <br/>
         echo \
         <br/>
         "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \
         <br/>
         $(. /etc/os-release &amp;&amp; echo "${UBUNTU_CODENAME:-$VERSION_CODENAME}") stable" | \
         <br/>
         sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null  #获取当前的系统架构、信息等，将https://download.docker.com/linux/ubuntu \配置到etc/apt/sources.list.d/docker.list中
         <br/>
         sudo apt-get update #更新系统软件包索引，获取最新软件包列表信息
        </p>
       </td>
       <td>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
     如上图说明存储库配置完成并且添加了docker的软件源，后续可以安装docker相关的软件包。
    </p>
    <h3>
     2、安装docker相关的软件
    </h3>
    <table border="1" cellpadding="1" cellspacing="1" style="width:960px">
     <tbody>
      <tr>
       <td>
        sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     到此docker安装完成。
    </p>
    <h4>
     3、验证docker
    </h4>
    <p>
     docker version，能够看到client和server说明安装成功。
    </p>
    <p>
     <img alt="" height="372" src="https://i-blog.csdnimg.cn/direct/76f1de009c1a41d6ba3c514795856d7b.png" width="435"/>
    </p>
    <h2>
     常见问题
    </h2>
    <h3>
     1、执行sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc 出现curl: (35) OpenSSL SSL_connect: Connection reset by peer in connection to download.docker.com:443
    </h3>
    <p>
     这说明无法连接docker官网，多执行几次就好了
    </p>
    <p>
     <img alt="" height="232" src="https://i-blog.csdnimg.cn/direct/598bf6372d9f40a9911be6fe00c64276.png" width="957"/>
    </p>
    <h3>
     2、执行：sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin时出现找不到包
    </h3>
    <p>
     <img alt="" height="313" src="https://i-blog.csdnimg.cn/direct/0dc15ab170ea4496b42efb8e55015318.png" width="962"/>
    </p>
    <p>
     这说明软件源没有更新或者是网络问题GPG秘钥下载失败。
    </p>
    <p>
     解决方法是：
    </p>
    <p>
     方法一：重新执行 安装中第一步：“设置Docker的存储库”最好分开一行行执行。
    </p>
    <p>
     方法二：根据下图执行，切记一行行执行，不行的话 还是重新执行方法一
    </p>
    <table border="1" cellpadding="1" cellspacing="1" style="width:960px">
     <tbody>
      <tr>
       <td>
        <p>
         sudo mkdir -p /etc/apt/keyrings
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         echo \
         <br/>
         "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \
         <br/>
         $(. /etc/os-release &amp;&amp; echo "${UBUNTU_CODENAME:-$VERSION_CODENAME}") stable" | \
         <br/>
         sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         sudo apt-get update
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
        </p>
        <p>
         再次重新安装后正常。
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <img alt="" height="542" src="https://i-blog.csdnimg.cn/direct/21a6bf27a77548fabd31a03a06a13b27.png" width="956"/>
    </p>
    <p>
     <img alt="" height="758" src="https://i-blog.csdnimg.cn/direct/a9f2a4ed67b641218b1aad3e70ab8985.png" width="985"/>
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f35303537323435392f:61727469636c652f64657461696c732f313436313230323233" class_="artid" style="display:none">
 </p>
</div>


