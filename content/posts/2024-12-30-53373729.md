---
layout: post
title: "根本解决由于没有远程桌面授权服务器可以提供许可证,远程会话被中断"
date: 2024-12-30 16:49:52 +0800
description: "Windows server2012服务器远程桌面登录时出现错误提示：“由于没有远程桌面授权服务器可"
keywords: "由于没用远程桌面授权服务器"
categories: ['未分类']
tags: ['无标签']
artid: "53373729"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=53373729
  alt: "根本解决由于没有远程桌面授权服务器可以提供许可证,远程会话被中断"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=53373729
featuredImagePreview: https://bing.ee123.net/img/rand?artid=53373729
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     根本解决：由于没有远程桌面授权服务器可以提供许可证，远程会话被中断。
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <div class="articalContent newfont_family" id="sina_keyword_ad_area2">
     <div style="text-indent:2em">
      Windows server2012服务器远程桌面登录时出现错误提示：“
      <span style="color:#FF0000">
       由于没有远程桌面授权服务器可以提供许可证，远程会话被中断。请跟服务器管理员联系
      </span>
      。”此时可以使用“
      <span style="color:#FF0000">
       mstsc/admin /v:目标ip
      </span>
      ”来强制登录服务器，但只能是管理员身份。
     </div>
     <div style="text-indent:2em">
      <a href="http://photo.blog.sina.com.cn/showpic.html#blogid=5e8c26990102w7bc&amp;url=http://album.sina.com.cn/pic/001JlIk9zy6X89yOblg42" rel="nofollow noopener noreferrer" target="_blank">
       <img alt="根本解决：由于没有远程桌面授权服务器可以提供许可证，远程会话被中断。" height="140" name="image_operate_79611447943913535" src="https://i-blog.csdnimg.cn/blog_migrate/8894aebc43811962720206ce041639f2.jpeg" title="根本解决：由于没有远程桌面授权服务器可以提供许可证，远程会话被中断。" width="457"/>
      </a>
     </div>
     <div style="text-indent:2em">
      按照网上说的某种方法，删除注册表以下项：HKEY_LOCAL_MACHINE\Software\Microsoft\MSLicensing。
     </div>
     <div style="text-indent:2em">
      <span style="color:#ED1C24">
       并不能解决问题，之后出现了新的错误提示
      </span>
      ，如第二个图：“远程会话已断开连接，因为访问被拒绝导致许可证存储的创建失败。请使用提升的权限运行远程桌面客户端。”
     </div>
     <div style="text-indent:2em">
      <a href="http://photo.blog.sina.com.cn/showpic.html#blogid=5e8c26990102w7bc&amp;url=http://album.sina.com.cn/pic/001JlIk9zy6X89AaVbA02" rel="nofollow noopener noreferrer" target="_blank">
       <img alt="根本解决：由于没有远程桌面授权服务器可以提供许可证，远程会话被中断。" height="134" name="image_operate_36771447943910292" src="https://i-blog.csdnimg.cn/blog_migrate/569d54ee9f61115c8eac9babb4feb4b5.jpeg" title="根本解决：由于没有远程桌面授权服务器可以提供许可证，远程会话被中断。" width="436"/>
      </a>
      <br/>
     </div>
     <div style="text-indent:2em">
      微软官方的解释是（
      <span style="line-height:21px; text-indent:2em">
       来源此链接
      </span>
      <span style="line-height:21px; text-indent:2em">
       <a href="http://blog.163.com/smile_big/blog/static/35710579201311982024/" rel="nofollow noopener noreferrer" target="_blank">
        http://blog.163.com/smile_big/blog/static/35710579201311982024/
       </a>
       ）
      </span>
      <span style="text-indent:2em">
       ：
      </span>
     </div>
     <div style="text-indent:2em">
      <p style="font-family:'Hiragino sans GB W3','Hiragino sans GB',Arial,Helvetica,simsun,u5b8bu4f53; margin:0px 0px 10px; line-height:22px; background-color:rgb(255,255,255)">
       <strong>
        微软官方的解释：
       </strong>
      </p>
      <p style="font-family:'Hiragino sans GB W3','Hiragino sans GB',Arial,Helvetica,simsun,u5b8bu4f53; margin:0px 0px 10px; line-height:22px; background-color:rgb(255,255,255)">
       <strong>
        原因：
       </strong>
      </p>
      <p style="font-family:'Hiragino sans GB W3','Hiragino sans GB',Arial,Helvetica,simsun,u5b8bu4f53; margin:0px 0px 10px; line-height:22px; background-color:rgb(255,255,255)">
       因为 Windows应用商店的应用程序不具有足够的权限来访问的
       <strong>
        MSLicensing
       </strong>
       注册表项或子项
       <strong>
        存储区
       </strong>
       ，则会出现此问题。因此，当应用程序连接到远程服务器时，远程桌面ActiveX 接口在进程内 COM 对象无法访问注册表，并停止连接过程。
      </p>
      <p style="font-family:'Hiragino sans GB W3','Hiragino sans GB',Arial,Helvetica,simsun,u5b8bu4f53; margin:0px 0px 10px; line-height:22px; background-color:rgb(255,255,255)">
       <strong>
        解决方案：
       </strong>
      </p>
      <p style="font-family:'Hiragino sans GB W3','Hiragino sans GB',Arial,Helvetica,simsun,u5b8bu4f53; margin:0px 0px 10px; line-height:22px; background-color:rgb(255,255,255)">
       <strong>
        警告：
       </strong>
       如果使用注册表编辑器或其他方法错误地修改了注册表，可能会出现的严重问题。这些问题可能要求您重新安装操作系统。Microsoft不能保证这些问题能够得到解决。修改注册表的风险由您自己承担。
      </p>
     </div>
     <div style="text-indent:2em">
      <div style="text-indent:2em">
       百度基本找不到可行方案，google得到最终的解决办法：
      </div>
      <div style="text-indent:2em">
       <span style="color:#FF0000">
        <span style="font-family:'Helvetica neue Light',Helveticaneue-Light,'Helvetica neue',Helvetica,Arial,sans-serif; line-height:19px; background-color:rgb(255,255,255); text-indent:0px">
         The solution was to delete the REG_BINARY in
        </span>
        <br style="font-family:'Helvetica neue Light',Helveticaneue-Light,'Helvetica neue',Helvetica,Arial,sans-serif; line-height:19px; background-color:rgb(255,255,255); text-indent:0px"/>
        <strong style="font-family:'Helvetica neue Light',Helveticaneue-Light,'Helvetica neue',Helvetica,Arial,sans-serif; line-height:19px; background-color:rgb(255,255,255); text-indent:0px">
         HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\TerminalServer\RCM\GracePeriod
        </strong>
        <br style="font-family:'Helvetica neue Light',Helveticaneue-Light,'Helvetica neue',Helvetica,Arial,sans-serif; line-height:19px; background-color:rgb(255,255,255); text-indent:0px"/>
        <span style="font-family:'Helvetica neue Light',Helveticaneue-Light,'Helvetica neue',Helvetica,Arial,sans-serif; line-height:19px; background-color:rgb(255,255,255); text-indent:0px">
         Only leaving the default.
        </span>
       </span>
      </div>
      <div style="text-indent:2em">
       <span style="color:#FF0000">
        <span style="font-family:'Helvetica neue Light',Helveticaneue-Light,'Helvetica neue',Helvetica,Arial,sans-serif; line-height:19px; background-color:rgb(255,255,255); text-indent:0px">
         And reboot.
        </span>
       </span>
      </div>
      <div style="text-indent:0px">
       <span style="text-indent:2em">
        来源于
       </span>
       <span style="line-height:21px; text-indent:2em">
        http://anilgprabhu.blogspot.com/2014/05/reset-trial-terminal-license-on-windows.html
       </span>
      </div>
      <div style="text-indent:0px">
       <span style="text-indent:2em">
        <br/>
       </span>
      </div>
      <div style="text-indent:0px">
       <span style="text-indent:2em">
        根本原因在于，server 2012 或server2008等默认的最大远程登录链接为2个，超过这个数目需要使用
       </span>
       <span style="text-indent:2em">
        licenseserver进行授权，这个授权据说是收费的，但官方给予了120天的
       </span>
       <span style="text-indent:2em">
        Grace period来配置
       </span>
       <span style="line-height:21px; text-indent:2em">
        licenseserver
       </span>
       <span style="line-height:21px; text-indent:2em">
        。如果超过120天后仍然没有可用的
       </span>
       <span style="line-height:21px; text-indent:2em">
        licenseserver，就会出现第一种错误。而这个
       </span>
       <span style="line-height:21px; text-indent:2em">
        Graceperiod信息记录在上文的注册表中，因此只要删除注册表中的项（
        <span style="color:#ED1C24">
         需要修改此注册表项权限所有者为Administrators，给Administrators增加修改权限
        </span>
        ），重启服务器就可以了。还有人提到可以修改系统时间为将来，然后删除注册表，再把系统时间改回来，这样可以获得更长的
       </span>
       <span style="line-height:21px; text-indent:2em">
        Graceperiod。此方法适用于server2012，应该也适用于2008，但2003没有测试过。
       </span>
      </div>
      <div style="text-indent:0px">
       <span style="text-indent:2em">
        参考微软官方文档的解释便一目了然：
       </span>
      </div>
     </div>
     <div style="text-indent:2em">
      <a href="https://technet.microsoft.com/en-us/library/cc725933.aspx" rel="nofollow noopener noreferrer" target="_blank">
       https://technet.microsoft.com/en-us/library/cc725933.aspx
      </a>
     </div>
     <div style="text-indent:2em">
      当然，除了修改注册表的投机取巧的办法，也可以部署licenseserver（server 2008）或部署license server及remote desktopgateway（server2012），2012相比2008有比较大的变动，配置起来也更麻烦，感兴趣的可以参考如下链接：
     </div>
     <div style="text-indent:2em">
      <a href="http://www.wackytechtips.com/installing-and-configuring-remote-desktop-services-rds-on-windows-server-2012/3/" rel="nofollow noopener noreferrer" target="_blank">
       http://www.wackytechtips.com/installing-and-configuring-remote-desktop-services-rds-on-windows-server-2012/3/
      </a>
     </div>
    </div>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f6c616e67616c31323132:2f61727469636c652f64657461696c732f3533333733373239" class_="artid" style="display:none">
 </p>
</div>
