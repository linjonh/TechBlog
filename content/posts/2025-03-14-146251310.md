---
layout: post
title: "React使用路由表"
date: 2025-03-14 10:42:27 +0800
description: "React Router 从 v6 版本开始支持类似 Vue 的集中式路由表配置方式，通过useRoutesHook 可以将路由配置统一管理。这种方式相比传统的 JSX 声明式路由更加简洁，特别适合中大型项目。通过使用useRoutes+ 集中式路由表的方式，React 也可以实现类似 Vue Router 的路由配置体验。这种方式特别适合需要统一管理路由逻辑的项目，开发者可以根据项目需求灵活选择传统声明式或集中式配置方案。"
keywords: "React使用路由表"
categories: ['React']
tags: ['前端', 'React', 'Javascript']
artid: "146251310"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146251310
    alt: "React使用路由表"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146251310
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146251310
cover: https://bing.ee123.net/img/rand?artid=146251310
image: https://bing.ee123.net/img/rand?artid=146251310
img: https://bing.ee123.net/img/rand?artid=146251310
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     React使用路由表
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <hr id="hr-toc" name="tableOfContents"/>
    <p>
    </p>
    <h3 id="%E5%89%8D%E8%A8%80" name="%E5%89%8D%E8%A8%80">
     前言
    </h3>
    <p>
     React Router 从 v6 版本开始支持类似 Vue 的集中式路由表配置方式，通过
     <code>
      useRoutes
     </code>
     Hook 可以将路由配置统一管理。这种方式相比传统的 JSX 声明式路由更加简洁，特别适合中大型项目。
    </p>
    <hr/>
    <h3 id="%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4" name="%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4">
     实现步骤
    </h3>
    <h4 id="1.%20%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96" name="1.%20%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96">
     1. 安装依赖
    </h4>
    <pre><code class="language-bash">npm install react-router-dom</code></pre>
    <h4 id="2.%20%E5%88%9B%E5%BB%BA%E8%B7%AF%E7%94%B1%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" name="2.%20%E5%88%9B%E5%BB%BA%E8%B7%AF%E7%94%B1%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">
     2. 创建路由配置文件
    </h4>
    <p>
     新建
     <code>
      src/router/index.jsx
     </code>
     ：
    </p>
    <pre><code class="language-javascript">import { lazy } from 'react'
import { Navigate } from 'react-router-dom'

const Home = lazy(() =&gt; import('../views/home'))
const Login = lazy(() =&gt; import('../views/login'))

const routes = [
    {
        path: '/',
        element: &lt;Navigate to='/home' /&gt; // 重定向
    },
    {
        path: '/home',
        element: &lt;Home /&gt;
    },
    {
        path: '/login',
        element: &lt;Login /&gt;
    },
    {
        path: '*', // 匹配其他路由
        element: &lt;div&gt;404&lt;/div&gt;
    }
]

export default routes;</code></pre>
    <p>
     修改main.jsx
    </p>
    <pre><code class="language-javascript">import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import { BrowserRouter } from 'react-router-dom'
import './index.css'
import App from './App.jsx'

createRoot(document.getElementById('root')).render(
    &lt;StrictMode&gt;
      &lt;BrowserRouter&gt;
        &lt;App /&gt;
      &lt;/BrowserRouter&gt;
    &lt;/StrictMode&gt;,
 )
</code></pre>
    <p>
     修改App.jsx
    </p>
    <pre><code class="language-javascript">import { useState, Suspense } from 'react'
import reactLogo from './assets/react.svg'
import viteLogo from '/vite.svg'
import './App.css'
import routes from './router/index'
import { useRoutes } from 'react-router-dom'

function App() {
  const [count, setCount] = useState(0)
  const element = useRoutes(routes)

  return (
    &lt;&gt;
      &lt;Suspense fallback={&lt;div&gt;加载中...&lt;/div&gt;}&gt;
        {element}
      &lt;/Suspense&gt;
    &lt;/&gt;
  )
}

export default App
</code></pre>
    <hr/>
    <h3 id="%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE" name="%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE">
     高级配置
    </h3>
    <h4 id="%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1%E9%85%8D%E7%BD%AE" name="%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1%E9%85%8D%E7%BD%AE">
     嵌套路由配置
    </h4>
    <pre><code class="language-javascript">const routes = [
  {
    path: '/dashboard',
    element: &lt;DashboardLayout /&gt;,
    children: [
      {
        index: true,
        element: &lt;DashboardIndex /&gt;
      },
      {
        path: 'settings',
        element: &lt;DashboardSettings /&gt;
      }
    ]
  }
]</code></pre>
    <p>
     在布局组件中使用
     <code>
      &lt;Outlet /&gt;
     </code>
     ：
    </p>
    <pre><code class="language-javascript">// DashboardLayout.jsx
import { Outlet } from 'react-router-dom'

export default function DashboardLayout() {
  return (
    &lt;div&gt;
      &lt;h1&gt;Dashboard&lt;/h1&gt;
      &lt;Outlet /&gt;
    &lt;/div&gt;
  )
}</code></pre>
    <hr/>
    <h3 id="%E5%AF%B9%E6%AF%94%E4%B8%A4%E7%A7%8D%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F" name="%E5%AF%B9%E6%AF%94%E4%B8%A4%E7%A7%8D%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F">
     对比两种配置方式
    </h3>
    <h4 id="%E4%BC%A0%E7%BB%9F%20JSX%20%E6%96%B9%E5%BC%8F" name="%E4%BC%A0%E7%BB%9F%20JSX%20%E6%96%B9%E5%BC%8F">
     传统 JSX 方式
    </h4>
    <pre><code class="language-javascript">&lt;Routes&gt;
  &lt;Route path="/" element={&lt;Home /&gt;} /&gt;
  &lt;Route path="/about" element={&lt;About /&gt;} /&gt;
&lt;/Routes&gt;</code></pre>
    <h4 id="%E8%B7%AF%E7%94%B1%E8%A1%A8%E6%96%B9%E5%BC%8F%E4%BC%98%E5%8A%BF" name="%E8%B7%AF%E7%94%B1%E8%A1%A8%E6%96%B9%E5%BC%8F%E4%BC%98%E5%8A%BF">
     路由表方式优势
    </h4>
    <ol>
     <li>
      <p>
       集中管理所有路由配置
      </p>
     </li>
     <li>
      <p>
       更清晰的路由层级结构
      </p>
     </li>
     <li>
      <p>
       方便实现路由守卫等统一逻辑
      </p>
     </li>
     <li>
      <p>
       易于维护和扩展
      </p>
     </li>
    </ol>
    <hr/>
    <h3 id="%E5%AE%8C%E6%95%B4%E5%8A%9F%E8%83%BD%E7%A4%BA%E4%BE%8B" name="%E5%AE%8C%E6%95%B4%E5%8A%9F%E8%83%BD%E7%A4%BA%E4%BE%8B">
     完整功能示例
    </h3>
    <h4 id="%E5%B8%A6%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB%E7%9A%84%E9%85%8D%E7%BD%AE" name="%E5%B8%A6%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB%E7%9A%84%E9%85%8D%E7%BD%AE">
     带路由守卫的配置
    </h4>
    <pre><code class="language-javascript">const routes = [
  {
    path: '/admin',
    element: &lt;AuthGuard&gt;&lt;AdminLayout /&gt;&lt;/AuthGuard&gt;,
    children: [
      {
        path: 'dashboard',
        element: &lt;AdminDashboard /&gt;
      }
    ]
  }
]

// 路由守卫组件
function AuthGuard({ children }) {
  const isLogin = /* 你的登录状态判断逻辑 */
  return isLogin ? children : &lt;Navigate to="/login" replace /&gt;
}</code></pre>
    <hr/>
    <h3 id="%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9" name="%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">
     注意事项
    </h3>
    <ol>
     <li>
      <p>
       <code>
        element
       </code>
       属性必须直接传递 JSX 元素
      </p>
     </li>
     <li>
      <p>
       使用
       <code>
        index: true
       </code>
       代替
       <code>
        path: ""
       </code>
       配置默认子路由
      </p>
     </li>
     <li>
      <p>
       动态参数使用
       <code>
        :param
       </code>
       语法
      </p>
     </li>
     <li>
      <p>
       导航使用
       <code>
        useNavigate
       </code>
       Hook
      </p>
     </li>
    </ol>
    <hr/>
    <h3 id="%E6%80%BB%E7%BB%93" name="%E6%80%BB%E7%BB%93">
     总结
    </h3>
    <p>
     通过使用
     <code>
      useRoutes
     </code>
     + 集中式路由表的方式，React 也可以实现类似 Vue Router 的路由配置体验。这种方式特别适合需要统一管理路由逻辑的项目，开发者可以根据项目需求灵活选择传统声明式或集中式配置方案。
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f36333434333037322f:61727469636c652f64657461696c732f313436323531333130" class_="artid" style="display:none">
 </p>
</div>


