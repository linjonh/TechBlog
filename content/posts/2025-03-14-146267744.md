---
layout: post
title: "python开发订单查询功能flaskorm-bee"
date: 2025-03-14 22:01:24 +0800
description: "这里，我们假如有orders 表，它有id, name,remark三个字段。IDE随意，PyCharm 或 Eclipse +PyDev也可以。将bee.json配置文件，放入resources文件夹也是可以的。访问以下网址，即可看到查询的信息。有了这些数据，我以可以用更好看的前端页面进行解析渲染。数据库连接的配置信息，放在：bee.json。就能看下以下信息，证明整合flask成功。或者：127.0.0.1：5000。此处python使用 3.12。更新main.py的内容，"
keywords: "python开发订单查询功能（flask+orm bee）"
categories: ['Python', 'Orm', 'Bee']
tags: ['Python', 'Orm', 'Bee']
artid: "146267744"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146267744
    alt: "python开发订单查询功能flaskorm-bee"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146267744
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146267744
cover: https://bing.ee123.net/img/rand?artid=146267744
image: https://bing.ee123.net/img/rand?artid=146267744
img: https://bing.ee123.net/img/rand?artid=146267744
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     python开发订单查询功能（flask+orm bee）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     <strong>
      1. 搭建python环境。
     </strong>
    </p>
    <p>
     可以参考其它文档。
    </p>
    <p>
     此处python使用 3.12
    </p>
    <p>
     IDE随意，PyCharm 或 Eclipse +PyDev也可以。
    </p>
    <p>
     <strong>
      2. Flask
     </strong>
    </p>
    <pre><strong>2.1 安装Flask</strong>
pip install Flask</pre>
    <p>
     <strong>
      2.2 一个最简单的flask实例
     </strong>
    </p>
    <p>
     创建一个工程，
    </p>
    <p>
     新建一个 main.py文件，
    </p>
    <p>
     输入以下内容：
    </p>
    <pre><code class="language-python">from flask import request
from flask.app import Flask

app = Flask(__name__)

@app.route("/")
def hello():
    return "Hello Orm Bee"


if __name__ == '__main__':
    # app.run()
    app.run(debug=True)</code></pre>
    <p>
    </p>
    <p>
     <strong>
      到该文件目录下，运行 ：
     </strong>
    </p>
    <p>
     <strong>
      python main.py
     </strong>
    </p>
    <p>
     就会看到以下信息：
    </p>
    <p>
     <img alt="" height="190" src="https://i-blog.csdnimg.cn/direct/570a1b5bbeac48fd8571b709a183c702.png" width="1186"/>
    </p>
    <p>
     在浏览器中，
    </p>
    <p>
     输入地址：
     <a href="http://localhost:5000/" rel="nofollow" title="http://localhost:5000/">
      http://localhost:5000/
     </a>
    </p>
    <p>
     或者：127.0.0.1：5000
    </p>
    <p>
     就能看下以下信息，证明整合flask成功。
    </p>
    <p>
     <img alt="" height="124" src="https://i-blog.csdnimg.cn/direct/af177586492846e89f60890aa2a46ca0.png" width="551"/>
    </p>
    <p>
    </p>
    <p>
     <strong>
      3. 整合数据库，查询数据库的订单
     </strong>
    </p>
    <p>
     这里，我们假如有orders 表，它有id, name,remark三个字段。
    </p>
    <p>
     对应的实体如下：
    </p>
    <p>
     Orders.py
    </p>
    <pre><code class="language-python">class Orders:
    id = None  
    name = None 
    remark = None

    #can ignore
    def __repr__(self):  
        return  str(self.__dict__)</code></pre>
    <p>
     数据库连接的配置信息，放在：bee.json
    </p>
    <p>
     内容如下：
    </p>
    <pre><code class="language-XML">{
	"dbName": "SQLite",
	"database": "E:\\xxx\\project-name\\bee.db",
	"dbModuleName": "sqlite3"
}</code></pre>
    <p>
     <strong>
      添加Orm Bee用来查询数据库：
     </strong>
    </p>
    <p>
     先安装：
    </p>
    <p>
     <span style="color:#fe2c24">
      pip install
      <strong>
       ormbee
      </strong>
     </span>
    </p>
    <p>
     更新main.py的内容，
    </p>
    <pre><code class="language-python">from bee.api import SuidRich
from bee.config import PreConfig
from flask import request
from flask.app import Flask

from Orders import Orders

app = Flask(__name__)

#设置工程根目录，也是放配置的地方
PreConfig.config_path="E:\\xxx\\project-namet"
# PreConfig.config_folder_root_path="E:\\xxx\\project-name"  #1.6.0之前使用

@app.route("/")
def hello():
    return "Hello Orm Bee"


@app.route("/orders/&lt;name&gt;",methods=['GET','POST'])
def orders(name):
    
    orders=Orders()
    
    if request.method == 'GET':
        orders.name = name
    
        suidRich = SuidRich()
        one = suidRich.select_first(orders) #查询名称为name的订单
        if one:
            return "orders message: " + name + " : " + str(one.id)
        else:
            return "orders message: &lt;empty&gt;" 
    else:
        return "this is not get method, name:" + name 


if __name__ == '__main__':
    # app.run()
    app.run(debug=True)
</code></pre>
    <p>
     关键代码就三行：
    </p>
    <pre><code class="language-python">        orders.name = name
        suidRich = SuidRich()
        one = suidRich.select_first(orders) #查询名称为name的订单</code></pre>
    <p>
     <strong>
      SuidRich是 select,update,insert,delete四种操作的类,
     </strong>
    </p>
    <p>
     <strong>
      select_first是只查首行记录。将orders对象传给Orm Bee,它就会为我们解析，查询数据库并返回数据。
     </strong>
    </p>
    <p>
     访问以下网址，即可看到查询的信息。（当然，之前要先插入些数据）
    </p>
    <p>
     <a href="http://localhost:5000/orders/bee" rel="nofollow" title="http://localhost:5000/orders/bee">
      http://localhost:5000/orders/bee
     </a>
    </p>
    <p>
     <img alt="" height="153" src="https://i-blog.csdnimg.cn/direct/5a57fa8c08344975b4b2abdc9b7ee1f2.png" width="592"/>
    </p>
    <p>
     有了这些数据，我以可以用更好看的前端页面进行解析渲染。
    </p>
    <p>
    </p>
    <p>
     完整工程及文件，如下：
    </p>
    <p>
     <img alt="" height="188" src="https://i-blog.csdnimg.cn/direct/715ebe3b5a3c4edaaf46dbaea771e2c2.png" width="203"/>
    </p>
    <p>
     将bee.json配置文件，放入resources文件夹也是可以的。
    </p>
    <p>
    </p>
    <p>
     Orm Bee一个是简单又高效的ORM工具.
    </p>
    <p>
     源码地址：
    </p>
    <p>
     <a href="https://github.com/automvc/BeePy" title="https://github.com/automvc/BeePy">
      https://github.com/automvc/BeePy
     </a>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f6162636b696e6761612f:61727469636c652f64657461696c732f313436323637373434" class_="artid" style="display:none">
 </p>
</div>


