---
layout: post
title: "Oracle-数据库导出与导入操作指南"
date: 2025-03-11 16:06:31 +0800
description: "expdp/impdp 是推荐的数据迁移工具模式重映射功能 (remap_schema) 常用于版本升级注意区分全库导出与用户级导出的参数差异希望这篇指南能帮助您高效完成数据库迁移工作！"
keywords: "Oracle 数据库导出与导入操作指南"
categories: ['数据库']
tags: ['数据库', 'Oracle']
artid: "146181526"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146181526
    alt: "Oracle-数据库导出与导入操作指南"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146181526
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146181526
cover: https://bing.ee123.net/img/rand?artid=146181526
image: https://bing.ee123.net/img/rand?artid=146181526
img: https://bing.ee123.net/img/rand?artid=146181526
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Oracle 数据库导出与导入操作指南
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="expdpexp_1">
     </a>
     一、导出操作（expdp/exp）
    </h2>
    <p>
     使用 expdp 导出全库（普通用户模式）
    </p>
    <pre><code class="prism language-java"># 导出全库（排除系统表）
expdp username<span class="token operator">/</span>password directory<span class="token operator">=</span><span class="token class-name">DATA_PUMP_DIR</span> dumpfile<span class="token operator">=</span>full_20230321<span class="token punctuation">.</span>dmp logfile<span class="token operator">=</span>expdp<span class="token punctuation">.</span>log

导出指定用户对象
bash
# 导出指定用户所有对象
expdp sjk_190828<span class="token operator">/</span>sjk_190828 \
directory<span class="token operator">=</span><span class="token constant">DATA_PUMP_DIR</span> \
dumpfile<span class="token operator">=</span>sjk_20200602<span class="token punctuation">.</span>dmp \
logfile<span class="token operator">=</span>exp_20200602<span class="token punctuation">.</span>log
导出指定表（数据泵模式）
bash
expdp sjk_190828<span class="token operator">/</span>sjk_190828 \
directory<span class="token operator">=</span><span class="token constant">DATA_PUMP_DIR</span> \
dumpfile<span class="token operator">=</span>sjk_20230313<span class="token punctuation">.</span>dmp \
tables<span class="token operator">=</span><span class="token punctuation">(</span>'inv_sbpc'<span class="token punctuation">)</span> \
rows<span class="token operator">=</span>n  # 仅导出表结构
传统导出工具 exp
bash
# 导出指定表（兼容旧版本）
exp username<span class="token operator">/</span>password<span class="token annotation punctuation">@database</span> \
file<span class="token operator">=</span><span class="token operator">/</span>path<span class="token operator">/</span><span class="token keyword">to</span><span class="token operator">/</span>dump<span class="token punctuation">.</span>dmp \
tables<span class="token operator">=</span><span class="token punctuation">(</span><span class="token char">'tab1'</span><span class="token punctuation">,</span><span class="token char">'tab2'</span><span class="token punctuation">)</span> \
rows<span class="token operator">=</span>y  # 导出数据（默认）
</code></pre>
    <h2>
     <a id="impdp_32">
     </a>
     二、导入操作（impdp）
    </h2>
    <p>
     基本导入（覆盖已存在表）
    </p>
    <pre><code class="prism language-java">impdp username<span class="token operator">/</span>password<span class="token annotation punctuation">@target_db</span> \
directory<span class="token operator">=</span><span class="token constant">DATA_PUMP_DIR</span> \
dumpfile<span class="token operator">=</span>sjk_20230321<span class="token punctuation">.</span>dmp \
table_exists_action<span class="token operator">=</span>replace
</code></pre>
    <p>
     模式重映射（用户迁移）
    </p>
    <pre><code class="prism language-java">impdp sjk_230315<span class="token operator">/</span>sjk<span class="token annotation punctuation">@target_db</span> \
directory<span class="token operator">=</span><span class="token constant">DATA_PUMP_DIR</span> \
dumpfile<span class="token operator">=</span>sjk_20230321<span class="token punctuation">.</span>dmp \
remap_schema<span class="token operator">=</span>sjk_190828<span class="token operator">:</span>sjk_230315
</code></pre>
    <p>
     数据泵导入注意事项
     <br/>
     确保目标库已创建同名用户
     <br/>
     提前创建 DATA_PUMP_DIR 目录
     <br/>
     检查权限：
    </p>
    <pre><code class="prism language-java">grant imp_full_database <span class="token keyword">to</span> <span class="token namespace">username</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="_61">
     </a>
     三、文件管理与传输
    </h3>
    <p>
     查找 dmp 文件
    </p>
    <pre><code class="prism language-java"># 在<span class="token class-name">Linux</span>系统查找文件
find <span class="token operator">/</span> <span class="token operator">-</span>name 'sjk_20200602<span class="token punctuation">.</span>dmp'
下载文件（<span class="token class-name">SecureCRT</span> 等工具）
bash
# 进入目标目录
cd <span class="token operator">/</span>home<span class="token operator">/</span>work<span class="token operator">/</span>data<span class="token operator">/</span>oracle<span class="token operator">/</span>u01<span class="token operator">/</span>app<span class="token operator">/</span>oracle<span class="token operator">/</span>admin<span class="token operator">/</span>zssd<span class="token operator">/</span>dpdump

# 使用sz命令下载
sz sjk_20230306<span class="token punctuation">.</span>dmp
</code></pre>
    <h2>
     <a id="_77">
     </a>
     四、环境配置检查
    </h2>
    <p>
     查看数据泵目录
    </p>
    <p>
     以sysdba身份登录检查
    </p>
    <pre><code class="prism language-java">sqlplus <span class="token operator">/</span> as sysdba
</code></pre>
    <pre><code class="prism language-java"><span class="token constant">SELECT</span> directory_path 
<span class="token constant">FROM</span> dba_directories 
<span class="token class-name">WHERE</span> directory_name <span class="token operator">=</span> '<span class="token constant">DATA_PUMP_DIR</span>' 
<span class="token class-name">AND</span> owner <span class="token operator">=</span> <span class="token char">'SYS'</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     典型目录路径示例
    </p>
    <pre><code class="prism language-java"><span class="token class-name">Linux</span><span class="token operator">:</span> <span class="token operator">/</span>u01<span class="token operator">/</span>app<span class="token operator">/</span>oracle<span class="token operator">/</span>admin<span class="token operator">/</span>实例名<span class="token operator">/</span>dpdump<span class="token operator">/</span>
<span class="token class-name">Windows</span><span class="token operator">:</span> <span class="token class-name">E</span><span class="token operator">:</span>\app\<span class="token constant">PC</span>\admin\orcl\dpdump\
</code></pre>
    <h2>
     <a id="_100">
     </a>
     五、常见问题
    </h2>
    <p>
     权限问题
     <br/>
     普通用户需授予 exp_full_database 权限
     <br/>
     避免使用 AS SYSDBA 登录（非系统用户）
     <br/>
     路径配置
     <br/>
     确保导出 / 导入目录一致
     <br/>
     跨平台注意路径格式差异（Windows 反斜杠转义）
     <br/>
     数据一致性
     <br/>
     导出前执行
    </p>
    <pre><code class="prism language-java"><span class="token constant">ALTER</span> <span class="token constant">TABLESPACE</span> <span class="token constant">READ</span> <span class="token constant">ONLY</span>
</code></pre>
    <p>
     大表建议分批次导出
    </p>
    <h2>
     <a id="_117">
     </a>
     六、总结
    </h2>
    <p>
     expdp/impdp 是推荐的数据迁移工具
     <br/>
     模式重映射功能 (remap_schema) 常用于版本升级
     <br/>
     注意区分全库导出与用户级导出的参数差异
     <br/>
     希望这篇指南能帮助您高效完成数据库迁移工作！
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f34323938353635372f:61727469636c652f64657461696c732f313436313831353236" class_="artid" style="display:none">
 </p>
</div>


