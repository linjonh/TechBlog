---
layout: post
title: "c语言笔记-字符串函数-strstr-strlen-strtok以及sizeof"
date: 2025-03-14 07:16:15 +0800
description: "函数sizeof功能：sizeof函数是用来计算变量，类型，指针，数组，字符串的大小当作用于指针时，返回指针的大小。当作用于数组时，返回整个数组的大小。当数组作为函数参数传递时，它会退化为指向其首元素的指针。此时，sizeof操作数将返回指针的大小，而不是数组的大小。在动态分配的数组（通过malloc或new）中，sizeof无法获取数组的大小，因为动态分配的数组在运行时才确定大小，编译器无法在编译时计算其大小。函数strtok功能：分割字符串中的字串"
keywords: "c语言笔记 字符串函数---strstr strlen strtok以及sizeof"
categories: ['C']
tags: ['笔记', '开发语言', 'C']
artid: "146247704"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146247704
    alt: "c语言笔记-字符串函数-strstr-strlen-strtok以及sizeof"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146247704
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146247704
cover: https://bing.ee123.net/img/rand?artid=146247704
image: https://bing.ee123.net/img/rand?artid=146247704
img: https://bing.ee123.net/img/rand?artid=146247704
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     c语言笔记 字符串函数---strstr strlen strtok以及sizeof
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h3 id="" name="" style="text-align:left">
     <strong>
      目录
     </strong>
    </h3>
    <hr id="hr-toc" name="tableOfContents"/>
    <p>
    </p>
    <h3 name="Pd3e-1741907206919" style="text-align:left">
     <strong>
      函数strstr
     </strong>
    </h3>
    <h4 id="%E5%8A%9F%E8%83%BD%EF%BC%9Astrstr%E6%98%AF%E6%9F%A5%E6%89%BE%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E5%AD%90%E4%B8%B2%E7%9A%84%E5%87%BD%E6%95%B0%EF%BC%8C%E4%BE%8B%E5%A6%82%22abcdef%22%20%E5%A6%82%E6%9E%9C%E5%87%BA%E7%8E%B0%E5%AD%97%E4%B8%B2%22abc%22%E6%88%96%E8%80%85%E5%85%B6%E4%BB%96%E5%AD%97%E4%B8%B2%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%8C%B9%E9%85%8D%E6%88%90%E5%8A%9F%E5%B0%B1%E4%BC%9A%E8%BF%94%E5%9B%9E%E6%8C%87%E5%90%91%E5%AD%97%E4%B8%B2%E7%9A%84%E6%8C%87%E9%92%88%E3%80%82%E5%A4%B1%E8%B4%A5%E8%BF%94%E5%9B%9ENULL" name="%E5%8A%9F%E8%83%BD%EF%BC%9Astrstr%E6%98%AF%E6%9F%A5%E6%89%BE%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E5%AD%90%E4%B8%B2%E7%9A%84%E5%87%BD%E6%95%B0%EF%BC%8C%E4%BE%8B%E5%A6%82%22abcdef%22%20%E5%A6%82%E6%9E%9C%E5%87%BA%E7%8E%B0%E5%AD%97%E4%B8%B2%22abc%22%E6%88%96%E8%80%85%E5%85%B6%E4%BB%96%E5%AD%97%E4%B8%B2%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%8C%B9%E9%85%8D%E6%88%90%E5%8A%9F%E5%B0%B1%E4%BC%9A%E8%BF%94%E5%9B%9E%E6%8C%87%E5%90%91%E5%AD%97%E4%B8%B2%E7%9A%84%E6%8C%87%E9%92%88%E3%80%82%E5%A4%B1%E8%B4%A5%E8%BF%94%E5%9B%9ENULL" style="text-align:left">
     功能：strstr是查找字符串中子串的函数，例如"abcdef" 如果出现字串"abc"或者其他字串，如果匹配成功就会返回指向字串的指针。失败返回NULL
    </h4>
    <div>
     <ul style="margin-left:0; margin-right:0">
      <li style="text-align:left">
       <strong>
        所需头文件 #include
       </strong>
      </li>
      <li style="text-align:left">
       <strong>
        strstr(指向该字符串的指针，子串)
       </strong>
      </li>
      <li style="text-align:left">
       <strong>
        strstr(字符串的地址，子串)
       </strong>
      </li>
     </ul>
     <p style="text-align:left">
      <strong>
       具体使用代码演示：
      </strong>
     </p>
     <pre><code>#include&lt;stdio.h&gt;
#include&lt;string.h&gt;
int main()
{
    char  *s = "abcfef.txt";
    char *p = strstr(s,".txt");
    if(p == NULL)
    {
        printf("没有.txt文件\n");
    }
    else 
    {
        printf("该文件的类型是%s\n",p);
    }
}</code></pre>
     <h3 id="LuyB-1741907267231" name="LuyB-1741907267231" style="text-align:left">
      <strong>
       函数strlen
      </strong>
     </h3>
     <h4 id="%E5%8A%9F%E8%83%BD%EF%BC%9Astrlen%E5%87%BD%E6%95%B0%E6%98%AF%E8%AE%A1%E7%AE%97%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%86%85%E7%9A%84%E6%9C%89%E6%95%88%E9%95%BF%E5%BA%A6%EF%BC%8C%E6%9C%89%E6%95%88%E9%95%BF%E5%BA%A6%E6%98%AF%E4%B8%8D%E5%8C%85%E6%8B%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%9A%84%E7%BB%93%E6%9D%9F%E7%AC%A6'%5C0'" name="%E5%8A%9F%E8%83%BD%EF%BC%9Astrlen%E5%87%BD%E6%95%B0%E6%98%AF%E8%AE%A1%E7%AE%97%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%86%85%E7%9A%84%E6%9C%89%E6%95%88%E9%95%BF%E5%BA%A6%EF%BC%8C%E6%9C%89%E6%95%88%E9%95%BF%E5%BA%A6%E6%98%AF%E4%B8%8D%E5%8C%85%E6%8B%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%9A%84%E7%BB%93%E6%9D%9F%E7%AC%A6'%5C0'" style="text-align:left">
      功能：strlen函数是计算一个字符串内的有效长度，有效长度是不包括字符串中的结束符'\0'
     </h4>
     <div>
      <ul style="margin-left:0; margin-right:0">
       <li style="text-align:left">
        <strong>
         头文件 #include
        </strong>
       </li>
       <li style="text-align:left">
        <strong>
         strlen(指向字符串的指针)
        </strong>
       </li>
       <li style="text-align:left">
        <strong>
         strlen(字符串的地址)
        </strong>
       </li>
       <li style="text-align:left">
        <strong>
         返回值是整型----字符串的有效长度
        </strong>
       </li>
      </ul>
     </div>
     <h4 id="%E6%B3%A8%E6%84%8F%E4%B8%80" name="%E6%B3%A8%E6%84%8F%E4%B8%80" style="text-align:left">
      <strong>
       注意一
      </strong>
     </h4>
     <div>
      <ul style="margin-left:0; margin-right:0">
       <li style="text-align:left">
        <strong>
         使用strlen函数的时候，如果出现\0结束标识，strlen函数就会停止计算，无论\0后面是否数值
        </strong>
       </li>
       <li style="text-align:left">
        <strong>
         我们在使用sizeof的时候如果把指针名放进去，那就是计算指针的内存大小，我们应该是放数
        </strong>
        <strong>
         组名进去，或者放字符串
        </strong>
        。
       </li>
      </ul>
      <p style="text-align:left">
       <strong>
        代码演示：
       </strong>
      </p>
      <pre><code>#include&lt;stdio.h&gt;
#include&lt;string.h&gt;
int main()
{
    char *s = "baidu.com";
    printf("%ld\n",strlen(s));
    printf("%ld\n",sizeof("baidu.com"));
    return 0;
}</code></pre>
      <h4 id="%E6%B3%A8%E6%84%8F%E4%BA%8C" name="%E6%B3%A8%E6%84%8F%E4%BA%8C">
       注意二
      </h4>
      <p style="text-align:left">
       <strong>
        1.当数组作为函数参数传递时，它会退化为指向其首元素的指针。此时，sizeof操作数将返回指针的大小，而不是数组的大小。
       </strong>
      </p>
      <p style="text-align:left">
       <strong>
        2.在动态分配的数组（通过malloc或new）中，sizeof无法获取数组的大小，因为动态分配的数组在运行时才确定大小，编译器无法在编译时计算其大小。
       </strong>
      </p>
      <p style="text-align:left">
       <strong>
        例如：
       </strong>
      </p>
      <pre><code>    char *s = "baidu.com";
    char p[] = "baidu.com";
    printf("%ld\n",strlen(s));
    printf("%ld\n",sizeof(p));</code></pre>
      <h3 id="31Rd-1741907472534" name="31Rd-1741907472534" style="text-align:left">
       <strong>
        函数sizeof
       </strong>
      </h3>
      <h4 id="%E5%8A%9F%E8%83%BD%EF%BC%9Asizeof%E5%87%BD%E6%95%B0%E6%98%AF%E7%94%A8%E6%9D%A5%E8%AE%A1%E7%AE%97%E5%8F%98%E9%87%8F%EF%BC%8C%E7%B1%BB%E5%9E%8B%EF%BC%8C%E6%8C%87%E9%92%88%EF%BC%8C%E6%95%B0%E7%BB%84%EF%BC%8C%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%A4%A7%E5%B0%8F" name="%E5%8A%9F%E8%83%BD%EF%BC%9Asizeof%E5%87%BD%E6%95%B0%E6%98%AF%E7%94%A8%E6%9D%A5%E8%AE%A1%E7%AE%97%E5%8F%98%E9%87%8F%EF%BC%8C%E7%B1%BB%E5%9E%8B%EF%BC%8C%E6%8C%87%E9%92%88%EF%BC%8C%E6%95%B0%E7%BB%84%EF%BC%8C%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%A4%A7%E5%B0%8F" style="text-align:left">
       功能：sizeof函数是用来计算变量，类型，指针，数组，字符串的大小
      </h4>
      <div>
       <ul style="margin-left:0; margin-right:0">
        <li style="text-align:left">
         <strong>
          当作用于指针时，返回指针的大小。
         </strong>
        </li>
        <li style="text-align:left">
         <strong>
          当作用于数组时，返回整个数组的大小。
         </strong>
        </li>
        <li style="text-align:left">
         <strong>
          当数组作为函数参数传递时，它会退化为指向其首元素的指针。此时，sizeof操作数将返回指针的大小，而不是数组的大小。
         </strong>
        </li>
       </ul>
      </div>
      <div>
       <ul style="margin-left:0; margin-right:0">
        <li style="text-align:left">
         <strong>
          在动态分配的数组（通过malloc或new）中，sizeof无法获取数组的大小，因为动态分配的数组在运行时才确定大小，编译器无法在编译时计算其大小。
         </strong>
        </li>
       </ul>
      </div>
      <h3 id="WNtN-1741907496355" name="WNtN-1741907496355" style="text-align:left">
       <strong>
        函数strtok
       </strong>
      </h3>
      <h4 id="%E5%8A%9F%E8%83%BD%EF%BC%9A%E5%88%86%E5%89%B2%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%9A%84%E5%AD%97%E4%B8%B2" name="%E5%8A%9F%E8%83%BD%EF%BC%9A%E5%88%86%E5%89%B2%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%9A%84%E5%AD%97%E4%B8%B2" style="text-align:left">
       功能：分割字符串中的字串
      </h4>
      <div style="text-align:left">
       <strong>
        头文件#include strtok(数组名，符号) strtok（指向数组的指针，符号）
       </strong>
      </div>
      <div>
       <ol style="margin-left:0; margin-right:0">
        <li style="text-align:left">
         <strong>
          头文件#include
         </strong>
        </li>
        <li style="text-align:left">
         <strong>
          strtok(数组名，符号)
         </strong>
        </li>
        <li style="text-align:left">
         <strong>
          strtok(指向数组的指针，符号)
         </strong>
        </li>
        <li style="text-align:left">
         <strong>
          如果成功则返回字串的指针
         </strong>
        </li>
        <li style="text-align:left">
         <strong>
          失败返回NULL，标识分解完毕
         </strong>
        </li>
       </ol>
       <h3 id="%E6%B3%A8%E6%84%8F" name="%E6%B3%A8%E6%84%8F" style="text-align:left">
        注意
       </h3>
       <div style="text-align:left">
        <ul style="margin-left:0; margin-right:0">
         <li style="text-align:left">
          <strong>
           因为strtok是会修改字符串的值将其置为\0，所以应该给它传数组名或者指向数组的指针，符号就是以什么为分割的界限。
          </strong>
         </li>
         <li style="text-align:left">
          <strong>
           使用strtok函数的时候当它遇到分解界限的符号时会将其置为\0，strtok是会改变字符串的
          </strong>
         </li>
         <li style="text-align:left">
          <strong>
           第一次调用strtok函数指向字符串str后，例如：strtok(str,";, "),下次掉用都是用NULL代表str 如strtok（NULL,",; ",此后每次调用都要NULL代替str
          </strong>
         </li>
        </ul>
       </div>
       <div style="text-align:left">
        <img alt="" height="171" src="https://i-blog.csdnimg.cn/direct/b21c3ff22229424ba703b89d614c5d72.png" width="606">
        </img>
       </div>
       <div style="text-align:left">
        <strong>
         代码演示：
        </strong>
       </div>
      </div>
      <pre><code>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
int main()
{
    char s[] = "abcd,    1234   ;xy  ,   opasda   ";
    char *p = strtok(s,";, ");
    while(p!=NULL)
    {
        printf("%s\n",p);
        p = strtok(NULL,",; ");//指针p不断的偏移，不断的指向第一个地址
    }
    return 0;
}</code></pre>
      <p>
      </p>
     </div>
    </div>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323230315f37353834303333392f:61727469636c652f64657461696c732f313436323437373034" class_="artid" style="display:none">
 </p>
</div>


