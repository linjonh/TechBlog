---
layout: post
title: "C类型转换基本概念"
date: 2025-03-08 21:38:35 +0800
description: "C# 类型转换通过 ‌隐式转换‌（安全自动）和 ‌显式转换‌（需手动干预）实现数据类型的兼容性处理，需根据场景权衡安全性与效率‌。开发中需优先选择隐式转换，显式操作时需严格验证类型兼容性以避免运行时错误‌。"
keywords: "C#类型转换基本概念"
categories: ['基础从入门到精通', 'C']
tags: ['开发语言', 'C']
artid: "146123100"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146123100
    alt: "C类型转换基本概念"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146123100
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146123100
cover: https://bing.ee123.net/img/rand?artid=146123100
image: https://bing.ee123.net/img/rand?artid=146123100
img: https://bing.ee123.net/img/rand?artid=146123100
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     C#类型转换基本概念
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="_1">
     </a>
     一、基本定义‌
    </h2>
    <p>
     <strong>
      C# 类型转换是将数据从一种类型转换为另一种类型的过程，分为 ‌隐式转换‌ 和 ‌显式转换‌ 两类‌。
     </strong>
    </p>
    <ul>
     <li>
      强类型语言特性‌：C# 要求变量类型在编译时确定，类型转换需满足兼容性或显式规则‌。
     </li>
     <li>
      目的‌：处理不同数据类型间的交互（如运算、赋值等），确保类型兼容性‌。
     </li>
    </ul>
    <h2>
     <a id="_7">
     </a>
     二、隐式类型转换‌
    </h2>
    <p>
     <strong>
      由编译器自动完成，无需额外代码，适用于 ‌无数据丢失且类型兼容‌ 的场景‌。
     </strong>
    </p>
    <ol>
     <li>
      规则与场景‌
     </li>
    </ol>
    <ul>
     <li>
      小范围类型 → 大范围类型（如 int → long、float → double）‌。
     </li>
     <li>
      派生类 → 基类（面向对象继承关系）‌。
     </li>
     <li>
      混合运算时，自动提升至更大范围或更高精度类型（如 int + float → float）‌。
     </li>
    </ul>
    <ol start="2">
     <li>
      ‌示例‌
     </li>
    </ol>
    <pre><code class="prism language-csharp"><span class="token class-name"><span class="token keyword">int</span></span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>  
<span class="token class-name"><span class="token keyword">double</span></span> d <span class="token operator">=</span> a<span class="token punctuation">;</span>  <span class="token comment">// int → double，隐式完成‌:ml-citation{ref="2,4" data="citationList"}  </span>
</code></pre>
    <h2>
     <a id="_20">
     </a>
     三、显式类型转换（强制转换）‌
    </h2>
    <p>
     <strong>
      需手动指定，存在 ‌数据丢失或异常风险‌，适用于类型不兼容但逻辑可行的场景‌
     </strong>
     。
    </p>
    <ol>
     <li>
      规则与场景‌
     </li>
    </ol>
    <ul>
     <li>
      大范围类型 → 小范围类型（如 double → int，小数部分截断）‌。
     </li>
     <li>
      父类对象 → 子类对象（需确保对象实际类型兼容）‌。
     </li>
     <li>
      非兼容类型间转换（需通过 Convert、Parse 等方法实现）‌。
     </li>
    </ul>
    <ol start="2">
     <li>
      语法与示例‌
     </li>
    </ol>
    <pre><code class="prism language-csharp"><span class="token class-name"><span class="token keyword">double</span></span> d <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>  
<span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>d<span class="token punctuation">;</span>  <span class="token comment">// 显式转换，结果为3‌:ml-citation{ref="1,4" data="citationList"}  </span>
</code></pre>
    <pre><code class="prism language-csharp"><span class="token class-name"><span class="token keyword">object</span></span> obj <span class="token operator">=</span> <span class="token string">"Hello"</span><span class="token punctuation">;</span>  
<span class="token class-name"><span class="token keyword">string</span></span> s <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span>obj<span class="token punctuation">;</span>  <span class="token comment">// 强制转换引用类型‌:ml-citation{ref="3,8" data="citationList"}  </span>
</code></pre>
    <h2>
     <a id="_41">
     </a>
     四、关键注意事项‌
    </h2>
    <ol>
     <li>
      数据安全与精度‌
     </li>
    </ol>
    <ul>
     <li>
      显式转换可能导致数据丢失（如 3.99 → 3）或抛出 InvalidCastException‌。
     </li>
     <li>
      高精度类型（如 decimal）需显式处理浮点运算的舍入误差‌。
     </li>
    </ul>
    <ol start="2">
     <li>
      ‌类型兼容性验证‌
     </li>
    </ol>
    <ul>
     <li>
      使用 as 操作符安全转换引用类型（失败返回 null）‌。
     </li>
     <li>
      数值类型转换推荐 TryParse 方法避免异常（如 int.TryParse）‌。
      <br/>
      ‌
     </li>
    </ul>
    <ol start="3">
     <li>
      动态类型特性‌
     </li>
    </ol>
    <ul>
     <li>
      dynamic 类型绕过编译时检查，运行时动态解析类型，灵活性高但风险大‌。
     </li>
    </ul>
    <h2>
     <a id="_55">
     </a>
     五、总结‌
    </h2>
    <p>
     C# 类型转换通过 ‌隐式转换‌（安全自动）和 ‌显式转换‌（需手动干预）实现数据类型的兼容性处理，需根据场景权衡安全性与效率‌。开发中需优先选择隐式转换，显式操作时需严格验证类型兼容性以避免运行时错误‌。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f70755f79755f68756e5f6a696e2f:61727469636c652f64657461696c732f313436313233313030" class_="artid" style="display:none">
 </p>
</div>


