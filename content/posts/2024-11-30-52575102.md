---
layout: post
title: uCOS_ii操作系统心得
date: 2024-11-30 22:22:45 +08:00
categories: ['Uc']
tags: ['操作系统']
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=52575102
    alt: uCOS_ii操作系统心得
artid: 52575102
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=52575102
featuredImagePreview: https://bing.ee123.net/img/rand?artid=52575102
---

# uC/OS\_ii操作系统心得

第一章 嵌入式操作系统

1.1 计算机操作系统

简介：

嵌入式操作系统属于操作系统的一种。

嵌入式操作系统的概念：
  
应用于嵌入式系统的操作系统叫做嵌入式操作系统

操作系统的概念：
  
是一种系统软件。作用于硬件和应用软件之间。

操作系统的作用：
  
能够让应用软件工程师不用考虑硬件条件，而直接编写软件程序。

详解：

硬件系统的定义：
  
构成计算机的物理装置叫做计算机的硬件系统。
  
一般的计算机由 微型处理器（CPU），存储器，接口，外部设备 等实际能看到的物理装置组成

操作系统的定义：
  
操作系统属于软件层。

操作系统的作用：
  
软件无法直接在硬件裸机上运行，必须在操作系统的平台上运行。
  
或者说，操作系统是计算机系统资源的管理者，承上启下。
  
所以，操作系统可以看做是硬件和应用程序之间的接口或者是虚拟机。

对于硬件系统，它主要完成对硬件的调度，分配以及信息的存储问题。例如管理处理器，存储器，外设，数据以及用户作业。
  
对于应用软件，它主要是帮助他们，使硬件系统根据他们的指令进行相应的工作。并且屏蔽掉硬件复杂的工作，将硬件包装成软件，相当于为应用软件提供了一个虚拟计算机，令应用软件工程师更方便的写代码。

操作系统的具体功能：
  
包括对处理器的管理，对存储的管理，对设备的管理，对文件的管理，对网络和通信的管理，提供用户接口等功能。
  
1、 对处理器的管理
  
处理器只能够对中断作出判断，而不能做出相应的反应，也不能管理中断。
  
所以操作系统的职能就是为处理器对中断做出反应并且管理中断
  
（计算机是多任务的，有各种中断，所以要求操作系统有对处理器管理的功能）。

2、 对存储的管理
  
操作系统负责合理分配和使用存储器这个重要资源。
  
3、 对设备的管理
  
操作系统要完成用户的请求，以及加快IO速度，以及合理利用IO口，以及提供外设驱动等等
  
4、 对文件的管理
  
由于数据都以文件的形式存放在外存（硬盘，光盘）上，所以操作系统要合理管理文件
  
5、 对网络和通信的管理
  
计算机要上网，不仅要有能够网络连接的硬件设备，还要有操作系统为他一系列的网络功能（网络资源管理，通信，安全）
  
6、 提供用户接口
  
操作系统为用户提供一系列接口来让用户实现上述的功能。

1.2 嵌入式系统和嵌入式操作系统

简介：
  
由于智能化的需求越来越高，所以在装置或设备里面要加上计算机系统。这种技术叫做嵌入式系统。

详解：

嵌入式系统的定义：
  
首先他是属于计算机系统的，其次它可以嵌入到别的设备里面，最后可以令这个设备智能化。大概可以说是专用的计算机系统。

嵌入式系统的三大要素：
  
专用性，可嵌入性，计算机系统

通用计算机系统与嵌入式系统的区别：
  
通用型计算机系统：技术要求是海量数值计算，扩大存储和提升速度
  
嵌入式计算机系统：技术要求是和对象相关的嵌入性，控制能力和控制安全性

嵌入式系统的划分：
  
由于容量太小，软件只有操作系统和应用软件，没有系统软件

嵌入式系统的发展道路：

微型计算机时代单片机时代微控制器MCU阶段单片系统SoC阶段

微型计算机时代
  
它是借鉴了微型计算机，但是后来发现微型计算机的体积还是很大，于是走上了系统芯片化的道路。将CPU和计算机系统（包括存储器和接口）集成在芯片上。

单片机时代
  
分为两种模式，∑模式和创新模式。
  
∑模式的含义：有什么需要的功能，就在通用计算机系统里裁剪，然后集成在芯片上。
  
创新模式的含义：完全按照嵌入式的要求设计新的芯片。如体系结构，微处理器，指令系统，总线方式，管理方式等方面
  
（51单片机的体系结构是嵌入式系统的主要的典型结构体系）

而单片形态又可以分为两个阶段
  
MCU阶段和SoC阶段（都是芯片）

MCU阶段：
  
又称微处理器阶段，
  
技术：在芯片上加接口和定时器等
  
目的：满足用户的智能化需求。
  
（典型产品：51单片机）

SoC阶段：（主流）
  
又称单片系统阶段，
  
目的：应用系统在芯片上最大化。
  
技术：将许多功能模块（如通信模块，接口模块）与MCU结合，制造出集成度更高的系统级芯片。

嵌入式系统的特点：
  
从构成上看：软硬件一体，可独立工作
  
从外观上看：是可以编程的电子器件
  
从功能上看：对宿主对象进行控制，使其智能化

嵌入式系统的硬件部分：
  
包括处理器/微处理器，存储器，外设，IO口，图形控制器等

（嵌入式系统和普通的系统不一样，例如它不使用传统的硬盘这种大容量的存储介质，而使用EPROM，EEPROM，闪存作为存储介质）

嵌入式系统的软件部分：
  
包括操作系统和应用软件。

嵌入式系统和通用系统的相比：
  
1、 专用性强
  
2、 可裁剪性好（硬件和操作系统都是可裁剪的 目的：最精简）
  
3、 实时性和可靠性好（软件不是存储在磁盘，而是固化在存储器芯片或者单片机系统存储器里 目的：快速响应，增强可靠性，功耗更低）
  
4、 功耗低（如上，应用于飞机，舰船，数码相机等移动设备中）

嵌入式操作系统的定义：
  
运行在嵌入式硬件平台上，对整个系统及其所操作的部件进行统一控制的系统软件。

嵌入式操作系统与通用操作系统相比：
  
1、 微型化
  
2、 可裁剪性
  
3、 实时性（能快速响应事件）
  
4、 高可靠性（提供容错，防错措施）
  
5、 易移植性

嵌入式操作系统的分类：
  
1、 （应用范围）通用型嵌入式操作系统和专用型嵌入式操作系统
  
2、 （响应能力）实时操作系统和分时操作系统

分时操作系统的定义:
  
按照任务数目，将CPU分成若干时间片，分配给任务，然后按照时间片轮流执行任务

实时操作系统的定义：
  
能及时响应外部请求，并及时控制设备和任务运行，最后在一个规定时间内完成操作。

实时操作系统的基本要求：
  
1、 逻辑功能正确（产生正确的计算结果）
  
2、 时间正确（在规定周期内完成）

实时操作系统的分类：
  
硬实时系统（完成时间严格）和软实时系统（截止时间不严格）

实时操作系统的要求：
  
1、 必须是多任务系统
  
（多任务是指将大的任务分解成许多可以并行执行的小任务，既提高CPU的利用率，又方便程序猿的维护工作）
  
2、 任务的切换时间和任务数目无关
  
（调度器的工作时间必须是固定的，不能受外在因素影响）
  
3、 中断延时的时间可预知并尽可能短
  
（中断延时是指CPU响应中断，到转向中断服务函数所花费的时间）
  
实时操作系统的内核的类型：
  
嵌入式系统只有一个CPU，即多任务中只能允许一个任务使用CPU。
  
所以多任务实时操作系统的内核被分为可剥夺型和不可剥夺型

可剥夺型内核：
  
高级别的任务可以剥夺低级别任务使用CPU的权利
  
不可剥夺型内核：
  
又称合作型多任务内核，此内核总是把CPU给优先级高的任务。所以要求各任务能主动放弃CPU的使用权。

嵌入式实时操作系统的任务：
  
对一个系统进行控制，任务很固定。所以实时操作系统支持的应该是一个无限循环结构。
  
任务代码组成方式：
  
void返回类型，在一个无限循环里面，用户编写要完成的任务
  
但有时会有外部异步操作，所以要使用中断技术
  
void task(void \* data)
  
{
  
for(; ;)
  
{
  
用户编写的代码；
  
}
  
}

嵌入式系统提供的服务：
  
1、 内存管理（释放内存）
  
2、 多任务管理
  
3、 外围资源管理（如键盘，显示装置）
  
（提供微内核为主）

1.3嵌入式实时操作系统ucosii系统简介

简介：

ucosii是一款多任务实时操作系统，也是一个内核，由c语言（大部分）和汇编语言（少部分）编写的，所以方便移植到8位，16位，32位嵌入式处理器上

ucosii的体系结构：