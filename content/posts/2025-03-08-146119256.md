---
layout: post
title: "小程序-wxml-语法-37-setData-修改对象类型数据"
date: 2025-03-08 17:47:59 +0800
description: "这一节主要演示如何新增、修改和删除对象数据中单个/多个属性，我们直接使用微信开发者工具进行演示；"
keywords: "小程序 wxml 语法 —— 37 setData() - 修改对象类型数据"
categories: ['微信小程序', '前端']
tags: ['小程序', '前端', 'Android']
artid: "146119256"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146119256
    alt: "小程序-wxml-语法-37-setData-修改对象类型数据"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146119256
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146119256
cover: https://bing.ee123.net/img/rand?artid=146119256
image: https://bing.ee123.net/img/rand?artid=146119256
img: https://bing.ee123.net/img/rand?artid=146119256
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     小程序 wxml 语法 —— 37 setData() - 修改对象类型数据
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     这一节主要演示如何新增、修改和删除对象数据中单个/多个属性，我们直接使用微信开发者工具进行演示；
    </p>
    <h3>
     <a id="_2">
     </a>
     新增单个/多个属性
    </h3>
    <ul>
     <li>
      在 pages/cate/cate.js 中添加数据声明和对应的新增属性方法，如下：
     </li>
    </ul>
    <pre><code class="prism language-javascript"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 在小程序页面中所需要使用的数据均来自 data 对象</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">userInfo</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// 新增单个 / 多个属性</span>
  <span class="token function">updateUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 如果给对象新增属性，可以将 key 写成数据路径的方式 a.b.c</span>
      <span class="token string-property property">'userInfo.name'</span><span class="token operator">:</span> <span class="token string">'tom'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <ul>
     <li>
      在 pages/cate/cate.wxml 中添加对应的页面样式，如下：
     </li>
    </ul>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ userInfo.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>warn<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">bind:</span>tap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>updateUserInfo<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>修改对象类型数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <p>
     刷新页面，点击按钮，可以发现新增的 name 值在页面上显示了，如下：
    </p>
    <p>
     <img alt="在这里插入图片描述" height="500" src="https://i-blog.csdnimg.cn/direct/0ca19f07c73a4f1d9c17dbd263607c80.png#pic_center">
      <br/>
      如果需要新增多个属性值，写法是一样的，也要写成一个数据路径，下面演示一下新增多个属性：
     </img>
    </p>
    <ul>
     <li>
      在 pages/cate/cate.wxml 中添加对应的页面样式，如下：
     </li>
    </ul>
    <pre><code class="prism language-javascript"><span class="token operator">&lt;</span>view<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> userInfo<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>view<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> userInfo<span class="token punctuation">.</span>age <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">"warn"</span> <span class="token literal-property property">bind</span><span class="token operator">:</span>tap<span class="token operator">=</span><span class="token string">"updateUserInfo"</span><span class="token operator">&gt;</span>修改对象类型数据<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</code></pre>
    <ul>
     <li>
      在 pages/cate/cate.js 中添加数据声明和对应的新增属性方法，如下：
     </li>
    </ul>
    <pre><code class="prism language-javascript"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 在小程序页面中所需要使用的数据均来自 data 对象</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">userInfo</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// 新增单个 / 多个属性</span>
  <span class="token function">updateUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 如果给对象新增属性，可以将 key 写成数据路径的方式 a.b.c</span>
      <span class="token string-property property">'userInfo.name'</span><span class="token operator">:</span> <span class="token string">'tom'</span><span class="token punctuation">,</span>
      <span class="token string-property property">'userInfo.age'</span><span class="token operator">:</span> <span class="token number">10</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     刷新页面，点击按钮，可以发现新增的 name 值和 age 值在页面上显示了，如下：
    </p>
    <p>
     <img alt="在这里插入图片描述" height="500" src="https://i-blog.csdnimg.cn/direct/e9a4b9b368904fe69f7208355488aa5d.png#pic_center"/>
    </p>
    <h3>
     <a id="_61">
     </a>
     修改单个/多个属性
    </h3>
    <ul>
     <li>
      在 pages/cate/cate.wxml 中添加对应的页面样式，如下：
     </li>
    </ul>
    <pre><code class="prism language-javascript"><span class="token operator">&lt;</span>view<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> userInfo<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>view<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> userInfo<span class="token punctuation">.</span>age <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">"warn"</span> <span class="token literal-property property">bind</span><span class="token operator">:</span>tap<span class="token operator">=</span><span class="token string">"updateUserInfo"</span><span class="token operator">&gt;</span>修改对象类型数据<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</code></pre>
    <ul>
     <li>
      在 pages/cate/cate.js 中添加数据声明和对应的新增属性方法，如下：
     </li>
    </ul>
    <pre><code class="prism language-javascript"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 在小程序页面中所需要使用的数据均来自 data 对象</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">userInfo</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">'name'</span><span class="token operator">:</span> <span class="token string">'tom'</span><span class="token punctuation">,</span>
      <span class="token string-property property">'age'</span><span class="token operator">:</span> <span class="token number">10</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 修改单个 / 多个属性</span>
  <span class="token function">updateUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 如果给对象修改属性，可以将 key 写成数据路径的方式 a.b.c</span>
    <span class="token string-property property">'userInfo.name'</span><span class="token operator">:</span> <span class="token string">'jerry'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'userInfo.age'</span><span class="token operator">:</span> <span class="token number">18</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     刷新页面，点击按钮，可以发现修改的 name 值和 age 值在页面上显示了，如下：
    </p>
    <p>
     <img alt="在这里插入图片描述" height="500" src="https://i-blog.csdnimg.cn/direct/76fc2d2a93704ad8b89d1d6aaf07946d.png#pic_center">
      <br/>
      在上面的演示中，不管新增数据或者修改数据，都需要使用数据路径的方式 a.b.c，使用起来比较麻烦，所以我们需要优化一下，我们可以使用 ES6 提供的展开运算符和 Object.assign() ；
     </img>
    </p>
    <ul>
     <li>
      ES6 展开运算符方法
     </li>
    </ul>
    <pre><code class="prism language-javascript"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 在小程序页面中所需要使用的数据均来自 data 对象</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">userInfo</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">'name'</span><span class="token operator">:</span> <span class="token string">'tom'</span><span class="token punctuation">,</span>
      <span class="token string-property property">'age'</span><span class="token operator">:</span> <span class="token number">10</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 修改单个 / 多个属性</span>
  <span class="token function">updateUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">// ES6 提供的展开运算符</span>
    <span class="token comment">// 通过展开运算符能够将对象中的属性复制给另一个对象</span>
    <span class="token comment">// 后面的属性会覆盖前面的属性</span>
    <span class="token keyword">const</span> userInfo <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>userInfo<span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'jerry'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      userInfo
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <ul>
     <li>
      Object.assign 方法
     </li>
    </ul>
    <pre><code class="prism language-javascript"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 在小程序页面中所需要使用的数据均来自 data 对象</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">userInfo</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">'name'</span><span class="token operator">:</span> <span class="token string">'tom'</span><span class="token punctuation">,</span>
      <span class="token string-property property">'age'</span><span class="token operator">:</span> <span class="token number">10</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  
  <span class="token comment">// 修改单个 / 多个属性</span>
  <span class="token function">updateUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> userInfo <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>userInfo<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'jerry'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      userInfo
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_146">
     </a>
     删除单个/多个属性
    </h3>
    <ul>
     <li>
      在 pages/cate/cate.js 中添加数据声明和对应的删除属性方法，如下：
     </li>
    </ul>
    <pre><code class="prism language-javascript"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 在小程序页面中所需要使用的数据均来自 data 对象</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">userInfo</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">'name'</span><span class="token operator">:</span> <span class="token string">'tom'</span><span class="token punctuation">,</span>
      <span class="token string-property property">'age'</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
      <span class="token string-property property">'test'</span><span class="token operator">:</span> <span class="token number">111</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 删除单个 / 多个属性</span>
  <span class="token function">updateUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 删除单个属性</span>
    <span class="token keyword">delete</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>userInfo<span class="token punctuation">.</span>age
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">userInfo</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>userInfo
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 删除多个属性</span>
    <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>age<span class="token punctuation">,</span> test<span class="token punctuation">,</span> <span class="token operator">...</span>rest<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>userInfo

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">userInfo</span><span class="token operator">:</span> rest
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     上面介绍的方法只是修改对象类型数据的其中一种方法，并不是所有，我们可以使用其它的修改对象数据的方法；
    </p>
    <p>
     参考视频：
     <a href="https://www.bilibili.com/video/BV1LF4m1E7kB?spm_id_from=333.788.player.switch&amp;vd_source=685932cc10434c6f812b07e579c1c1bf&amp;p=37" rel="nofollow">
      尚硅谷微信小程序开发教程
     </a>
    </p>
   </div>
   <link href="./../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="./../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f33373338383038352f:61727469636c652f64657461696c732f313436313139323536" class_="artid" style="display:none">
 </p>
</div>


