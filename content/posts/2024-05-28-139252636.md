---
layout: post
title: "云计算网络技术与应用实训15-2建立SFTP服务器"
date: 2024-05-28 09:10:11 +0800
description: "实验前准备：编辑虚拟机网络配置，使VMnet8处在192.168"
keywords: "sftp服务器搭建"
categories: ['未分类']
tags: ['运维', '网络', '服务器', '云计算', 'Centos']
artid: "139252636"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=139252636
    alt: "云计算网络技术与应用实训15-2建立SFTP服务器"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=139252636
featuredImagePreview: https://bing.ee123.net/img/rand?artid=139252636
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     《云计算网络技术与应用》实训15-2：建立SFTP服务器
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atelier-sulphurpool-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <div class="toc">
     <h4>
      文章目录
     </h4>
     <ul>
      <li>
       <a href="#SFTP_1" rel="nofollow">
        建立SFTP服务器
       </a>
      </li>
      <li>
       <ul>
        <li>
         <ul>
          <li>
           <ul>
            <li>
             <a href="#1%09VMwareCentOS_7_5" rel="nofollow">
              1. 使用VMware安装CentOS 7虚拟机。
             </a>
            </li>
            <li>
             <a href="#2%09onbootyesIP_6" rel="nofollow">
              2. 安装完虚拟机后，进入虚拟机，修改网络配置（onboot改为yes）并重启网络服务，查看相应IP地址，并使用远程连接软件进行连接。
             </a>
            </li>
            <li>
             <a href="#3_yumyum_8" rel="nofollow">
              3. 配置yum源，使用阿里云的yum源。
             </a>
            </li>
            <li>
             <a href="#4__16" rel="nofollow">
              4. 创建用户组并查看
             </a>
            </li>
            <li>
             <a href="#5__20" rel="nofollow">
              5. 在该组里面创建新用户
             </a>
            </li>
            <li>
             <a href="#6_datasftpuftp01uftp01home_22" rel="nofollow">
              6. 新建/data/sftp/uftp01目录，并将它指定为uftp01组用户的home目录
             </a>
            </li>
            <li>
             <a href="#7_vim_25" rel="nofollow">
              7. 安装vim编辑器，并修改配置。
             </a>
            </li>
            <li>
             <ul>
              <li>
               <a href="#vimset_numbervim_28" rel="nofollow">
                修改vim配置文件，在最后加上set number，使vim编译器显示行数。
               </a>
              </li>
             </ul>
            </li>
            <li>
             <a href="#8_SSH_32" rel="nofollow">
              8. 修改SSH配置
             </a>
            </li>
            <li>
             <ul>
              <li>
               <a href="#_34" rel="nofollow">
                注释掉这行
               </a>
              </li>
              <li>
               <a href="#_36" rel="nofollow">
                在末尾添加如下几行
               </a>
              </li>
              <li>
               <a href="#_38" rel="nofollow">
                保存退出
               </a>
              </li>
             </ul>
            </li>
            <li>
             <a href="#9_Chroot_41" rel="nofollow">
              9. 设置Chroot目录权限
             </a>
            </li>
            <li>
             <a href="#10__43" rel="nofollow">
              10. 新建文件上传目录
             </a>
            </li>
            <li>
             <ul>
              <li>
               <a href="#stpuftp01uftp01sftp_44" rel="nofollow">
                新建一个目录供stp用户uftp01上传文件，这个目录所有者为uftp01所有组为sftp，所有者有写入权限所有组无写入权限
               </a>
              </li>
             </ul>
            </li>
            <li>
             <a href="#11_sshd_46" rel="nofollow">
              11. 关闭防火墙并重启sshd服务
             </a>
            </li>
            <li>
             <a href="#12_windowscmdsftp_49" rel="nofollow">
              12. 在windows下打开cmd，尝试连接sftp；
             </a>
            </li>
            <li>
             <a href="#13__52" rel="nofollow">
              13. 常用命令
             </a>
            </li>
            <li>
             <ul>
              <li>
               <a href="#_53" rel="nofollow">
                ？：可以呼出命令帮助指引，查看所有命令用法
               </a>
              </li>
              <li>
               <a href="#lls_54" rel="nofollow">
                lls：查看目录文件
               </a>
              </li>
              <li>
               <a href="#lcd%09D_55" rel="nofollow">
                lcd：进入目录 ，如下命令为进入D盘
               </a>
              </li>
              <li>
               <a href="#putsftp_57" rel="nofollow">
                put：把文件上传到sftp服务器
               </a>
              </li>
             </ul>
            </li>
            <li>
             <a href="#14_FileZilla__59" rel="nofollow">
              14. 使用FileZilla 连接测试
             </a>
            </li>
           </ul>
          </li>
         </ul>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <h2>
     <a id="SFTP_1">
     </a>
     建立SFTP服务器
    </h2>
    <p>
     实验前准备：编辑虚拟机网络配置，使VMnet8处在192.168.10.0网段。
    </p>
    <h5>
     <a id="1%09VMwareCentOS_7_5">
     </a>
     1. 使用VMware安装CentOS 7虚拟机。
    </h5>
    <h5>
     <a id="2%09onbootyesIP_6">
     </a>
     2. 安装完虚拟机后，进入虚拟机，修改网络配置（onboot改为yes）并重启网络服务，查看相应IP地址，并使用远程连接软件进行连接。
    </h5>
    <h5>
     <a id="3_yumyum_8">
     </a>
     3. 配置yum源，使用阿里云的yum源。
    </h5>
    <pre><code class="prism language-bash"><span class="token function">curl</span> -s -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo
</code></pre>
    <pre><code class="prism language-bash"><span class="token function">curl</span> -s -o /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo
</code></pre>
    <h5>
     <a id="4__16">
     </a>
     4. 创建用户组并查看
    </h5>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/5a19dcf5f659d0833cf4d37bd62422ce.png">
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/1f7f967e79901ceafb02bae1ab017718.png"/>
     </img>
    </p>
    <h5>
     <a id="5__20">
     </a>
     5. 在该组里面创建新用户
    </h5>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/05f77e3f7873f98c5598558df560013f.png"/>
    </p>
    <h5>
     <a id="6_datasftpuftp01uftp01home_22">
     </a>
     6. 新建/data/sftp/uftp01目录，并将它指定为uftp01组用户的home目录
    </h5>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/f27a877887a1ed8df6452ae9a39191c6.png"/>
    </p>
    <h5>
     <a id="7_vim_25">
     </a>
     7. 安装vim编辑器，并修改配置。
    </h5>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/052db426a6277af6b908a56307a70939.png"/>
    </p>
    <h6>
     <a id="vimset_numbervim_28">
     </a>
     修改vim配置文件，在最后加上set number，使vim编译器显示行数。
    </h6>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/e86554bd91ab2532bd674da257790165.png">
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/3199dcf949214ad610da9c030b0460f0.png"/>
     </img>
    </p>
    <h5>
     <a id="8_SSH_32">
     </a>
     8. 修改SSH配置
    </h5>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/d6c11ffbfa3df1c655babf6b5d7e4302.png"/>
    </p>
    <h6>
     <a id="_34">
     </a>
     注释掉这行
    </h6>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/90b04ef7d3582480375b05ab974f1601.png"/>
    </p>
    <h6>
     <a id="_36">
     </a>
     在末尾添加如下几行
    </h6>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/e37ccba2e51c2b7761857968ef14ae9d.png"/>
    </p>
    <h6>
     <a id="_38">
     </a>
     保存退出
    </h6>
    <h5>
     <a id="9_Chroot_41">
     </a>
     9. 设置Chroot目录权限
    </h5>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/6e0bcf2c7146ebbadb45b54c3d124877.png"/>
    </p>
    <h5>
     <a id="10__43">
     </a>
     10. 新建文件上传目录
    </h5>
    <h6>
     <a id="stpuftp01uftp01sftp_44">
     </a>
     新建一个目录供stp用户uftp01上传文件，这个目录所有者为uftp01所有组为sftp，所有者有写入权限所有组无写入权限
    </h6>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/5436f5ec36dd228c8857ae677c0e03a2.png"/>
    </p>
    <h5>
     <a id="11_sshd_46">
     </a>
     11. 关闭防火墙并重启sshd服务
    </h5>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/ee459d33c10bcc889e2c8635c33473b5.png"/>
    </p>
    <h5>
     <a id="12_windowscmdsftp_49">
     </a>
     12. 在windows下打开cmd，尝试连接sftp；
    </h5>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/428ee712ff187f801bc49d73abfc7370.png"/>
    </p>
    <h5>
     <a id="13__52">
     </a>
     13. 常用命令
    </h5>
    <h6>
     <a id="_53">
     </a>
     ？：可以呼出命令帮助指引，查看所有命令用法
    </h6>
    <h6>
     <a id="lls_54">
     </a>
     lls：查看目录文件
    </h6>
    <h6>
     <a id="lcd%09D_55">
     </a>
     lcd：进入目录 ，如下命令为进入D盘
    </h6>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/e33784760ab9bbbf9a9950faedd2a0ee.png"/>
    </p>
    <h6>
     <a id="putsftp_57">
     </a>
     put：把文件上传到sftp服务器
    </h6>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/66f0a38bdb5b3ecdd0dab4d96b9f3c3d.png"/>
    </p>
    <h5>
     <a id="14_FileZilla__59">
     </a>
     14. 使用FileZilla 连接测试
    </h5>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/8588f7897ea43645bce4fdff34c59f01.png"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71693833373834383931342f:61727469636c652f64657461696c732f313339323532363336" class_="artid" style="display:none">
 </p>
</div>


