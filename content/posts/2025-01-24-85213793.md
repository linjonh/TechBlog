---
layout: post
title: "ubuntu安装python3.7,并更新python默认指向为python3.7"
date: 2025-01-24 06:30:00 +0800
description: "+次，点赞184次，ubuntu默认带着的python版本不是最新版，ls -l"
keywords: "python3.7.6 ubunto"
categories: ['Ububtu', 'Python']
tags: ['Python']
artid: "85213793"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=85213793
    alt: "ubuntu安装python3.7,并更新python默认指向为python3.7"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=85213793
featuredImagePreview: https://bing.ee123.net/img/rand?artid=85213793
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     ubuntu安装python3.7，并更新python默认指向为python3.7
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     ubuntu默认带着的python版本不是最新版，因此需要手动安装最新版。
    </p>
    <p>
     <strong>
      查看python的指向
     </strong>
     。
    </p>
    <pre class="has"><code>ls -l /usr/bin | grep python</code></pre>
    <p>
     可以看到，此时python指向的是python3.4。
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/fa60f4d29f51fff64369a0769c600c61.png"/>
    </p>
    <h2>
     第一部分：安装python3.7
    </h2>
    <h3>
     <strong>
      1.直接使用apt-get安装python3.7失败：
     </strong>
    </h3>
    <pre class="has"><code>apt-get install python3.7</code></pre>
    <p>
     <img alt="" class="has" height="100" src="https://i-blog.csdnimg.cn/blog_migrate/c499755431db1a2fa6ff1fec509db30e.png" width="424"/>
    </p>
    <h3>
     <strong>
      2.改为手动安装
     </strong>
    </h3>
    <p>
     <strong>
      步骤1：在python官网找到python-3.7.1.tgz的地址
     </strong>
     ：https://www.python.org/ftp/python/3.7.1/Python-3.7.1.tgz
    </p>
    <p>
     <strong>
      步骤2：下载安装包
     </strong>
    </p>
    <pre class="has"><code>wget https://www.python.org/ftp/python/3.7.1/Python-3.7.1.tgz</code></pre>
    <p>
     <img alt="" class="has" height="121" src="https://i-blog.csdnimg.cn/blog_migrate/8cb310db8153b5391e6e6074a123b8bd.png" width="660"/>
    </p>
    <p>
     <strong>
      步骤3：解压安装包
     </strong>
    </p>
    <pre class="has"><code>tar -zxvf Python-3.7.1.tgz</code></pre>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/fbb4bebbfcd45357d10bda32132e0178.png"/>
    </p>
    <p>
     <strong>
      步骤4：切换到解压后的目录下
     </strong>
    </p>
    <pre class="has"><code>cd Python-3.7.1</code></pre>
    <p>
     <strong>
      步骤5：./configure（也可以./configure --prefix=/usr/local/python3.7.1）
     </strong>
    </p>
    <pre class="has"><code>./configure
# 或者
./configure --prefix=/usr/local/python3.7.1</code></pre>
    <p>
     <img alt="" class="has" height="45" src="https://i-blog.csdnimg.cn/blog_migrate/13ff937fcf2564ce43cba3bccb435586.png" width="334"/>
    </p>
    <p>
     <strong>
      步骤6：编译make（没有安装make的安装一下）
     </strong>
    </p>
    <pre class="has"><code>make
</code></pre>
    <p>
     <strong>
      步骤7：测试make test
     </strong>
    </p>
    <pre class="has"><code>make test</code></pre>
    <p>
     关于make test命令出现ModuleNotFoundError: No module named ‘_ctypes’ 错误，请移步我的另外一篇博文
     <a href="https://blog.csdn.net/u014775723/article/details/85224447">
      https://blog.csdn.net/u014775723/article/details/85224447
     </a>
    </p>
    <p>
     <strong>
      步骤8：安装sudo make install
     </strong>
    </p>
    <pre class="has"><code>sudo make install</code></pre>
    <p>
     若步骤5执行的是 ./configure，则安装后可执行文件默认放在/usr /local/bin，库文件默认放在/usr/local/lib，配置文件默认放在/usr/local/include，其它的资源文件放在/usr /local/share。
    </p>
    <p>
     若步骤5执行的是./configure --prefix=/usr/local/python3.7.1，则可执行文件放在/usr /local/python3.7.1/bin，库文件放在/usr/local/python3.7.1/lib，配置文件放在/usr/local/python3.7.1/include，其它的资源文件放在/usr /local/python3.7.1/share
    </p>
    <p>
     <strong>
      步骤9：若步骤5执行./configure --prefix=/usr/local/python3.7.1，则需要添加环境变量。步骤5是./configure的跳过此步骤
     </strong>
    </p>
    <p>
     添加环境变量
    </p>
    <pre class="has"><code>PATH=$PATH:$HOME/bin:/usr/local/python3.7.1/bin</code></pre>
    <p>
     查看环境变量
    </p>
    <pre class="has"><code>echo $PATH</code></pre>
    <p>
     <strong>
      步骤10：查看安装目录
     </strong>
    </p>
    <p>
     可以看到此时python3.7安装到了/usr/local/lib/（若步骤5执行./configure --prefix=/usr/local/python3.7.1，python3.7安装到了/usr/local/python3.7.1/lib/）
    </p>
    <p>
     <img alt="" class="has" height="161" src="https://i-blog.csdnimg.cn/blog_migrate/8d54b43a5f10cb0243b9c7cdb5786f9a.png" width="533"/>
    </p>
    <p>
     <strong>
      步骤11：测试，输入python3.7
     </strong>
    </p>
    <p>
     <img alt="" class="has" height="70" src="https://i-blog.csdnimg.cn/blog_migrate/0169742ea68ad16a3f6acf116da29131.png" width="564"/>
    </p>
    <h2>
     <strong>
      第二部分：更新python默认指向为python3.7
     </strong>
    </h2>
    <p>
     <strong>
      步骤1：查看python命令指向
     </strong>
    </p>
    <pre class="has"><code>ls -l /usr/bin | grep python</code></pre>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/396f49ee58995749aee7daa3f7da4d89.png"/>
    </p>
    <p>
     <strong>
      步骤2：若如步骤1的图，若要安装python3.4则，由于python3.4为系统自带的，直接使用以下命令并跳过步骤3：
     </strong>
    </p>
    <p>
     删除原有链接
    </p>
    <pre class="has"><code>rm /usr/bin/python </code></pre>
    <p>
     建立新链接
    </p>
    <pre class="has"><code>ln -s /usr/bin/python3.4 /usr/bin/python</code></pre>
    <p>
    </p>
    <p>
     <strong>
      步
     </strong>
     骤3：由于python3.7是自己安装的，不在/usr/bin下，而在usr/local/bin或者/usr/local/python3.7.1/bin下（取决于前面执行的./configure还是./configure --prefix=/usr/local/python3.7.1。因此需要先加一条软链接并且把之前的python命令改为python.bak，同时pip也需要更改。依次执行以下命令
    </p>
    <p>
     <img alt="" class="has" height="134" src="https://i-blog.csdnimg.cn/blog_migrate/35c577cfdfa56348e8dc2fedb2997c6e.png" width="726"/>
    </p>
    <p>
     若python3.7安装时，执行的是./configure，则：
    </p>
    <pre class="has"><code>mv /usr/bin/python /usr/bin/python.bak
ln -s /usr/local/bin/python3 /usr/bin/python
mv /usr/bin/pip /usr/bin/pip.bak
ln -s /usr/local/bin/pip3 /usr/bin/pip</code></pre>
    <p>
     若python3.7安装时，执行的是./configure --prefix=/usr/local/python3.7.1，则为：
    </p>
    <pre class="has"><code>mv /usr/bin/python /usr/bin/python.bak
ln -s /usr/local/python3.7.1/bin/python3.7 /usr/bin/python
mv /usr/bin/pip /usr/bin/pip.bak
ln -s /usr/local/python3.7.1/bin/pip3 /usr/bin/pip</code></pre>
    <p>
     <br/>
     步骤4：此时输入python验证
    </p>
    <p>
     <img alt="" class="has" height="68" src="https://i-blog.csdnimg.cn/blog_migrate/dacfac6251c28b98f8590cae25283609.png" width="585"/>
    </p>
    <p>
     参考：
    </p>
    <p>
     <a href="https://blog.csdn.net/u013214212/article/details/81540840">
      https://blog.csdn.net/u013214212/article/details/81540840
     </a>
    </p>
    <p>
     <a href="https://www.jianshu.com/p/2a5cd519e583" rel="nofollow">
      https://www.jianshu.com/p/2a5cd519e583
     </a>
    </p>
    <p>
     <a href="https://www.cnblogs.com/yhongji/p/9383857.html" rel="nofollow">
      https://www.cnblogs.com/yhongji/p/9383857.html
     </a>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f75303134373735373233:2f61727469636c652f64657461696c732f3835323133373933" class_="artid" style="display:none">
 </p>
</div>


