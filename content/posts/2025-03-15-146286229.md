---
arturl_encode: "68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f35393334343132372f:61727469636c652f64657461696c732f313436323836323239"
layout: post
title: "åç«¯djangorelated_namerelated_name-çš„ä½œç”¨"
date: 2025-03-15 21:56:36 +08:00
description: "æƒ…å†µé»˜è®¤åå‘æŸ¥è¯¢è‡ªå®šä¹‰åå‘æŸ¥è¯¢å•ä¸ªå¤–é”®å¤šä¸ªå¤–é”®ï¼ˆæŒ‡å‘åŒä¸€æ¨¡å‹ï¼‰å†²çªï¼Œå¿…é¡»æŒ‡å®šæé«˜å¯è¯»æ€§ã€‚"
keywords: "ã€åç«¯ã€‘ã€djangoã€‘ã€related_nameã€‘`related_name` çš„ä½œç”¨"
categories: ['Django']
tags: ['æ•°æ®åº“', 'Sqlite', 'Django']
artid: "146286229"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146286229
    alt: "åç«¯djangorelated_namerelated_name-çš„ä½œç”¨"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146286229
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146286229
cover: https://bing.ee123.net/img/rand?artid=146286229
image: https://bing.ee123.net/img/rand?artid=146286229
img: https://bing.ee123.net/img/rand?artid=146286229
---

# ã€åç«¯ã€‘ã€djangoã€‘ã€related_nameã€‘`related_name` çš„ä½œç”¨

### `related_name` çš„ä½œç”¨

`related_name`
ç”¨äº Django çš„
**ForeignKey**
å’Œ
**OneToOneField**
ï¼Œç”¨äº
**åå‘è®¿é—®**
å…³è”æ¨¡å‹çš„æ•°æ®ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒDjango ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªåå‘å…³ç³»çš„åå­—ï¼Œä½†å¦‚æœå¤šä¸ªå¤–é”®æŒ‡å‘åŒä¸€ä¸ªæ¨¡å‹ï¼Œå°±å¯èƒ½å‘ç”Ÿå‘½åå†²çªã€‚
`related_name`
å…è®¸æˆ‘ä»¬è‡ªå®šä¹‰åå‘æŸ¥è¯¢çš„åç§°ï¼Œæå‡ä»£ç çš„å¯è¯»æ€§ã€‚

---

### ä¸¾ä¾‹è¯´æ˜

#### â‘  **é»˜è®¤æƒ…å†µï¼ˆä¸ä½¿ç”¨ `related_name` ï¼‰**

```python
class Author(models.Model):
    name = models.CharField(max_length=100)

class Book(models.Model):
    title = models.CharField(max_length=200)
    author = models.ForeignKey(Author, on_delete=models.CASCADE)

```

##### åå‘æŸ¥è¯¢

```python
author = Author.objects.get(id=1)
author.book_set.all()  # é€šè¿‡é»˜è®¤çš„ `book_set` è®¿é—®ä¹¦ç±åˆ—è¡¨

```

Django é»˜è®¤ä¼šç”¨
**æ¨¡å‹åå°å†™ +
`_set`**
ä½œä¸ºåå‘æŸ¥è¯¢åç§°ï¼ˆ
`book_set`
ï¼‰ã€‚

---

#### â‘¡ **ä½¿ç”¨ `related_name`**

```python
class Author(models.Model):
    name = models.CharField(max_length=100)

class Book(models.Model):
    title = models.CharField(max_length=200)
    author = models.ForeignKey(Author, on_delete=models.CASCADE, related_name="books")

```

##### åå‘æŸ¥è¯¢

```python
author = Author.objects.get(id=1)
author.books.all()  # ç°åœ¨å¯ä»¥ç”¨ `books` è®¿é—®ï¼Œè€Œä¸æ˜¯ `book_set`

```

è¿™é‡Œï¼Œ
`related_name="books"`
è®©
`Author`
å¯ä»¥ç›´æ¥é€šè¿‡
`.books`
è®¿é—®å…¶æ‰€æœ‰çš„
`Book`
è®°å½•ã€‚

---

#### â‘¢ **é¿å…å¤šä¸ªå¤–é”®å†²çª**

å½“ä¸€ä¸ªæ¨¡å‹æœ‰å¤šä¸ªå¤–é”®æŒ‡å‘åŒä¸€ä¸ªæ¨¡å‹æ—¶ï¼Œå¿…é¡»ä½¿ç”¨
`related_name`
æ¥åŒºåˆ†ï¼š

```python
class Employee(models.Model):
    name = models.CharField(max_length=100)

class Task(models.Model):
    title = models.CharField(max_length=200)
    assigned_to = models.ForeignKey(Employee, on_delete=models.CASCADE, related_name="assigned_tasks")
    created_by = models.ForeignKey(Employee, on_delete=models.CASCADE, related_name="created_tasks")

```

##### åå‘æŸ¥è¯¢

```python
employee = Employee.objects.get(id=1)

# è¯¥å‘˜å·¥åˆ›å»ºçš„ä»»åŠ¡
employee.created_tasks.all()

# è¯¥å‘˜å·¥è¢«åˆ†é…çš„ä»»åŠ¡
employee.assigned_tasks.all()

```

å¦‚æœä¸ä½¿ç”¨
`related_name`
ï¼ŒDjango ä¼šæŠ¥é”™ï¼Œå› ä¸º
`task_set`
è¿™ä¸ªé»˜è®¤çš„åå‘åç§°ä¼šæœ‰ä¸¤ä¸ªã€‚

---

### æ€»ç»“

| **æƒ…å†µ** | **é»˜è®¤åå‘æŸ¥è¯¢** | **è‡ªå®šä¹‰ `related_name` åå‘æŸ¥è¯¢** |
| --- | --- | --- |
| å•ä¸ªå¤–é”® | `book_set.all()` | `books.all()` |
| å¤šä¸ªå¤–é”®ï¼ˆæŒ‡å‘åŒä¸€æ¨¡å‹ï¼‰ | **å†²çªï¼Œå¿…é¡»æŒ‡å®š** | `assigned_tasks.all()` / `created_tasks.all()` |
| æé«˜å¯è¯»æ€§ | `author.book_set.all()` | `author.books.all()` |

#### ä½•æ—¶ä½¿ç”¨ `related_name`

1. **æé«˜ä»£ç å¯è¯»æ€§**
   ï¼Œé¿å…
   `_set`
2. **å¤šä¸ªå¤–é”®æŒ‡å‘åŒä¸€æ¨¡å‹**
   ï¼Œé˜²æ­¢å†²çª
3. **å¢å¼º API è®¾è®¡**
   ï¼Œè®©åå‘æŸ¥è¯¢æ›´ç›´è§‚

è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ›´æ¸…æ™°ã€æ›´ç›´è§‚åœ°æ“ä½œ Django çš„å¤–é”®å…³è”æ•°æ®ï¼ ğŸš€