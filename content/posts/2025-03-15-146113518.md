---
layout: post
title: "网络空间安全32Kali-MSF基本介绍"
date: 2025-03-15 22:28:02 +0800
description: "网络空间安全——Kali MSF基本介绍篇"
keywords: "网络空间安全（32）Kali MSF基本介绍"
categories: ['网安知识库']
tags: ['网络空间安全']
artid: "146113518"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146113518
    alt: "网络空间安全32Kali-MSF基本介绍"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146113518
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146113518
cover: https://bing.ee123.net/img/rand?artid=146113518
image: https://bing.ee123.net/img/rand?artid=146113518
img: https://bing.ee123.net/img/rand?artid=146113518
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     网络空间安全（32）Kali MSF基本介绍
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h3 id="">
     <strong>
      前言
     </strong>
    </h3>
    <blockquote>
     <p id="">
      Metasploit Framework（简称MSF）是一款功能强大的开源安全漏洞检测工具，被广泛应用于渗透测试中。它内置了数千个已知的软件漏洞，并持续更新以应对新兴的安全威胁。MSF不仅限于漏洞利用，还包括信息收集、漏洞探测和后渗透攻击等多个环节，被安全社区誉为“可以黑掉整个宇宙”的工具。
     </p>
    </blockquote>
    <h3 id="">
     <strong>
      一、概述
     </strong>
    </h3>
    <blockquote>
     <h4 id="">
      <strong>
       起源与发展
      </strong>
      ：
     </h4>
     <p>
      MSF最初由HD Moore于2003年发布，并于2007年使用Ruby语言重写。
     </p>
     <p>
      MSF默认集成在Kali Linux中，同时也支持在非Kali环境下安装和使用。
     </p>
     <h4>
      <strong>
       核心功能
      </strong>
      ：
     </h4>
     <p>
      <strong>
       漏洞利用
      </strong>
      ：利用目标系统中的已知漏洞进行攻击。
     </p>
     <p>
      <strong>
       信息收集
      </strong>
      ：执行信息收集、扫描、嗅探等功能，辅助渗透测试。
     </p>
     <p>
      <strong>
       后渗透攻击
      </strong>
      ：在取得目标系统控制权后，执行进一步的攻击动作。
     </p>
    </blockquote>
    <h3 id="">
     <strong>
      二、组件
     </strong>
    </h3>
    <blockquote>
     <ol>
      <li>
       <p id="">
        <strong>
         Exploits（漏洞利用模块）
        </strong>
        ：
       </p>
       <ul>
        <li>
         <strong>
          功能
         </strong>
         ：利用目标系统中的已知漏洞进行攻击。
        </li>
        <li>
         <strong>
          路径
         </strong>
         ：
         <code>
          /usr/share/metasploit-framework/modules/exploits
         </code>
        </li>
        <li>
         <strong>
          示例
         </strong>
         ：如需利用Windows系统的SMB漏洞，可以查看
         <code>
          exploit/windows/smb
         </code>
         目录下的模块。
        </li>
       </ul>
      </li>
      <li>
       <p id="">
        <strong>
         Payloads（攻击载荷）
        </strong>
        ：
       </p>
       <ul>
        <li>
         <strong>
          功能
         </strong>
         ：攻击成功后，在目标系统中执行的代码或指令。
        </li>
        <li>
         <strong>
          类型
         </strong>
         ：
         <ul>
          <li>
           <strong>
            Single Payload
           </strong>
           ：完全独立的，功能单一且易于使用，但有可能被非Metasploit工具捕获。
          </li>
          <li>
           <strong>
            Stager Payload
           </strong>
           ：负责在目标系统与攻击者之间建立网络连接，并下载额外的组件或应用程序。常见类型有
           <code>
            reverse_tcp
           </code>
           和
           <code>
            bind_tcp
           </code>
           ，分别实现反向连接和正向连接。
          </li>
          <li>
           <strong>
            Stage Payload
           </strong>
           ：Stager下载后执行的更高级、无大小限制的Payload组件。
          </li>
         </ul>
        </li>
        <li>
         <strong>
          路径
         </strong>
         ：
         <code>
          /usr/share/metasploit-framework/modules/payloads
         </code>
        </li>
       </ul>
      </li>
      <li>
       <p id="">
        <strong>
         Auxiliary（辅助模块）
        </strong>
        ：
       </p>
       <ul>
        <li>
         <strong>
          功能
         </strong>
         ：执行信息收集、扫描、嗅探等功能，辅助渗透测试。不直接执行攻击。
        </li>
        <li>
         <strong>
          示例
         </strong>
         ：使用
         <code>
          smb_version
         </code>
         辅助模块扫描SMB服务版本。
        </li>
       </ul>
      </li>
      <li>
       <p id="">
        <strong>
         Encoders（编码器）
        </strong>
        ：
       </p>
       <strong>
        功能
       </strong>
       ：对Payload进行加密，以绕过安全软件的检测。
      </li>
      <li>
       <p id="">
        <strong>
         Nops（空指令）
        </strong>
        ：
       </p>
       <strong>
        功能
       </strong>
       ：提高Payload的稳定性和可靠性。
      </li>
      <li>
       <p id="">
        <strong>
         Post（后渗透模块）
        </strong>
        ：
       </p>
       <strong>
        功能
       </strong>
       ：在取得目标系统控制权后，执行进一步的攻击动作。
      </li>
     </ol>
    </blockquote>
    <h3 id="">
     <strong>
      三、使用
     </strong>
    </h3>
    <blockquote>
     <ol>
      <li>
       <p id="">
        <strong>
         安装与配置
        </strong>
        ：
       </p>
       <ul>
        <li>
         <p id="">
          <strong>
           Kali Linux中
          </strong>
          ：MSF默认已安装，用户可以直接通过终端启动MSF控制台。
         </p>
        </li>
        <li>
         <p id="">
          <strong>
           非Kali Linux环境
          </strong>
          ：可以通过以下命令一键安装MSF：
         </p>
         <pre><code class="language-bash">curl https://raw.githubusercontent.com/rapid7/metasploit-omnibus/master/config/templates/metasploit-framework-wrappers/msfupdate.erb &gt; msfinstall &amp;&amp; chmod 755 msfinstall &amp;&amp; ./msfinstall</code></pre>
        </li>
        <li>
         <p id="">
          <strong>
           更新与升级
          </strong>
          ：
         </p>
         <ul>
          <li>
           <strong>
            Kali Linux环境
           </strong>
           ：使用
           <code>
            apt update
           </code>
           和
           <code>
            apt upgrade metasploit-framework
           </code>
           命令。
          </li>
          <li>
           <strong>
            非Kali Linux环境
           </strong>
           ：使用
           <code>
            msfupdate
           </code>
           命令。
          </li>
         </ul>
        </li>
       </ul>
      </li>
      <li>
       <p id="">
        <strong>
         基础用法
        </strong>
        ：
       </p>
       <ul>
        <li>
         <strong>
          启动MSF控制台
         </strong>
         ：在终端中输入
         <code>
          msfconsole
         </code>
         命令。
        </li>
        <li>
         <strong>
          搜索与选择模块
         </strong>
         ：
         <ul>
          <li>
           <strong>
            搜索模块
           </strong>
           ：使用
           <code>
            search
           </code>
           命令搜索特定模块，如
           <code>
            search ms17_010
           </code>
           。
          </li>
          <li>
           <strong>
            选择模块
           </strong>
           ：使用
           <code>
            use
           </code>
           命令选择特定模块，如
           <code>
            use exploit/windows/smb/ms17_010_eternalblue
           </code>
           。
          </li>
          <li>
           <strong>
            查看模块信息
           </strong>
           ：使用
           <code>
            info
           </code>
           命令查看当前模块的详细信息。
          </li>
          <li>
           <strong>
            配置模块参数
           </strong>
           ：使用
           <code>
            show options
           </code>
           查看模块需要配置的参数，使用
           <code>
            set
           </code>
           命令设置参数值，如
           <code>
            set RHOSTS 192.168.3.172
           </code>
           。
          </li>
          <li>
           <strong>
            执行攻击
           </strong>
           ：配置完成后，使用
           <code>
            exploit
           </code>
           或
           <code>
            run
           </code>
           命令执行攻击。
          </li>
         </ul>
        </li>
       </ul>
      </li>
      <li>
       <p id="">
        <strong>
         后渗透阶段
        </strong>
        ：
       </p>
       <strong>
        成功攻击后
       </strong>
       ，将进入Meterpreter会话，可以进行一系列后渗透操作，如文件操作、提权、信息收集等。
      </li>
     </ol>
    </blockquote>
    <h3 id="">
     <strong>
      四、简介
     </strong>
    </h3>
    <blockquote>
     <h4 id="">
      <strong>
       功能
      </strong>
      ：
     </h4>
     <p>
      Meterpreter是Metasploit Framework中的一种后渗透工具，属于动态可扩展型Payload。它能够通过创建一个新进程并调用注入的DLL来让目标系统运行注入的DLL文件。
     </p>
     <h4 id="">
      <strong>
       特点
      </strong>
      ：
     </h4>
     <p>
      <strong>
       ①完全驻留内存
      </strong>
      ：没有写入到磁盘。
     </p>
     <p>
      <strong>
       ②通信加密
      </strong>
      ：默认情况下，Meterpreter的通信是加密的，提高了安全性。
     </p>
     <p>
      <strong>
       ③扩展性强
      </strong>
      ：许多新的特征模块可以被加载。
     </p>
    </blockquote>
    <h3 id="">
     <strong>
      五、应用场景与示例
     </strong>
    </h3>
    <blockquote>
     <p id="">
      MSF在渗透测试中有着广泛的应用，以下是一个使用MSF进行永恒之蓝漏洞（MS17-010）攻击的示例：
     </p>
    </blockquote>
    <blockquote>
     <ol>
      <li>
       <p id="">
        <strong>
         查找漏洞相关模块
        </strong>
        ：使用
        <code>
         search ms17_010
        </code>
        命令查找漏洞相关模块。
       </p>
      </li>
      <li>
       <p id="">
        <strong>
         探测漏洞
        </strong>
        ：
       </p>
       <ul>
        <li>
         使用
         <code>
          auxiliary/scanner/smb/smb_ms17_010
         </code>
         模块进行探测。
        </li>
        <li>
         设置目标IP地址，运行探测命令。
        </li>
       </ul>
      </li>
      <li>
       <p id="">
        <strong>
         利用漏洞
        </strong>
        ：
       </p>
       <ul>
        <li>
         使用
         <code>
          exploit/windows/smb/ms17_010_eternalblue
         </code>
         模块进行利用。
        </li>
        <li>
         配置必要的参数，如目标IP地址、攻击机IP地址和端口等。
        </li>
        <li>
         运行攻击命令，成功攻击后将获得Meterpreter会话。
        </li>
       </ul>
      </li>
      <li>
       <p id="">
        <strong>
         后渗透操作
        </strong>
        ：在Meterpreter会话中，可以执行文件操作、提权、信息收集等攻击动作。
       </p>
      </li>
     </ol>
    </blockquote>
    <h3 id="">
     <strong>
      总结
     </strong>
    </h3>
    <blockquote>
     <p id="">
      Metasploit Framework是一款功能强大的开源安全漏洞检测工具，它内置了数千个已知的软件漏洞，并提供了完整的渗透测试框架。MSF不仅限于漏洞利用，还包括信息收集、漏洞探测和后渗透攻击等多个环节，被广泛应用于渗透测试中。对于安全研究人员和渗透测试人员来说，掌握MSF的使用方法是必不可少的技能之一。
     </p>
    </blockquote>
    <p style="text-align:center">
     <img alt="" height="24" src="https://img-blog.csdnimg.cn/direct/4e74fe0b79594014b8b25167e86e2a09.png" width="40">
      <strong>
       结语
      </strong>
     </img>
    </p>
    <blockquote>
     <p style="text-align:center">
      <span style="color:#1a439c">
       知不足而奋进
      </span>
     </p>
     <p style="text-align:center">
      <span style="color:#1a439c">
       望远山而力行
      </span>
     </p>
     <p style="text-align:center">
      <span style="color:#1a439c">
       ！！！
      </span>
     </p>
    </blockquote>
    <p>
     <img alt="" height="1501" src="https://i-blog.csdnimg.cn/direct/f6f9712b8bff4874b829c6e4a80331e1.png" width="1000"/>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f37333339393537362f:61727469636c652f64657461696c732f313436313133353138" class_="artid" style="display:none">
 </p>
</div>


