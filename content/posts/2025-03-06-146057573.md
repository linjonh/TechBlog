---
arturl_encode: "68747470733a2f2f626c:6f672e6373646e2e6e65742f5072696e63653134303637382f:61727469636c652f64657461696c732f313436303537353733"
layout: post
title: "HeadFirstç³»åˆ—ä¹‹HeadFirstè®¾è®¡æ¨¡å¼ç¬¬16å¤©ä¹‹ç”Ÿæˆå™¨æ¨¡å¼Builder-Patternè®©å¯¹è±¡æ„å»ºæ›´ä¼˜é›…"
date: 2025-03-06 07:31:48 +0800
description: "ç”Ÿæˆå™¨æ¨¡å¼ï¼ˆBuilder Patternï¼‰è§£å†³äº†æ„é€ æ–¹æ³•å‚æ•°æ··ä¹±ã€å¯é€‰å‚æ•°å¤„ç†å›°éš¾ã€æ‰©å±•æ€§å·®ç­‰é—®é¢˜ï¼Œé€‚ç”¨äºåˆ›å»ºå¤æ‚å¯¹è±¡ã€‚ğŸ“Œâœ”ï¸å°†å¯¹è±¡æ„é€ è¿‡ç¨‹ä¸å¯¹è±¡æœ¬èº«åˆ†ç¦»âœ”ï¸æ”¯æŒé“¾å¼è°ƒç”¨ï¼Œé¿å…æ„é€ æ–¹æ³•é‡è½½âœ”ï¸å¯è¯»æ€§é«˜ï¼Œæ˜“æ‰©å±•ï¼Œé€‚ç”¨äºå¯é€‰å‚æ•°å¤šçš„åœºæ™¯âœ”ï¸åœ¨ JDKï¼ˆï¼‰ã€Springï¼ˆï¼‰ä¸­å¹¿æ³›åº”ç”¨å¦‚æœä½ æ­£åœ¨å¼€å‘é…ç½®ç±»ã€æ•°æ®åº“è¿æ¥ç±»ã€å¤æ‚çš„å®ä½“ç±»ï¼Œä¸å¦¨è¯•è¯•ç”Ÿæˆå™¨æ¨¡å¼ï¼Œè®©ä½ çš„ä»£ç æ›´åŠ ä¼˜é›…ï¼ğŸ’¡ğŸ’¬ä½ åœ¨å¼€å‘ä¸­é‡åˆ°è¿‡å“ªäº›å¯¹è±¡åˆ›å»ºçš„ç—›ç‚¹ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµï¼ğŸš€ğŸ‘‰è§‰å¾—æœ‰ç”¨ï¼ŸğŸ’¡ã€‚"
keywords: "ã€HeadFirstç³»åˆ—ä¹‹HeadFirstè®¾è®¡æ¨¡å¼ã€‘ç¬¬16å¤©ä¹‹ç”Ÿæˆå™¨æ¨¡å¼ï¼ˆBuilder Patternï¼‰ï¼šè®©å¯¹è±¡æ„å»ºæ›´ä¼˜é›…ï¼"
categories: ['ç³»ç»Ÿè®¾è®¡', 'Headfirst', 'Headfirst']
tags: ['è®¾è®¡æ¨¡å¼', 'å»ºé€ è€…æ¨¡å¼']
artid: "146057573"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146057573
    alt: "HeadFirstç³»åˆ—ä¹‹HeadFirstè®¾è®¡æ¨¡å¼ç¬¬16å¤©ä¹‹ç”Ÿæˆå™¨æ¨¡å¼Builder-Patternè®©å¯¹è±¡æ„å»ºæ›´ä¼˜é›…"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146057573
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146057573
cover: https://bing.ee123.net/img/rand?artid=146057573
image: https://bing.ee123.net/img/rand?artid=146057573
img: https://bing.ee123.net/img/rand?artid=146057573
---

# ã€HeadFirstç³»åˆ—ä¹‹HeadFirstè®¾è®¡æ¨¡å¼ã€‘ç¬¬16å¤©ä¹‹ç”Ÿæˆå™¨æ¨¡å¼ï¼ˆBuilder Patternï¼‰ï¼šè®©å¯¹è±¡æ„å»ºæ›´ä¼˜é›…ï¼

## ğŸš€ ç”Ÿæˆå™¨æ¨¡å¼ï¼ˆBuilder Patternï¼‰ï¼šè®©å¯¹è±¡æ„å»ºæ›´ä¼˜é›…ï¼

> **â€œé‡åˆ°å¤æ‚å¯¹è±¡æ„å»ºï¼Ÿè¯•è¯•ç”Ÿæˆå™¨æ¨¡å¼ï¼â€**

åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°
**åˆ›å»ºå¯¹è±¡å±æ€§è¿‡å¤šã€æ„é€ æ–¹æ³•è¿‡é•¿ã€å¯é€‰å‚æ•°æ··ä¹±**
çš„é—®é¢˜ã€‚è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦
**ç”Ÿæˆå™¨æ¨¡å¼ï¼ˆBuilder Patternï¼‰**
æ¥ç®€åŒ–å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œè®©ä»£ç æ›´åŠ æ¸…æ™°ã€å¯ç»´æŠ¤ã€‚

æœ¬ç¯‡æ–‡ç« åŸºäº
**ã€ŠHead First è®¾è®¡æ¨¡å¼ã€‹**
ï¼Œå¸¦ä½ æ·±å…¥ç†è§£
**ç”Ÿæˆå™¨æ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³ã€åº”ç”¨åœºæ™¯ã€ä¼˜ç¼ºç‚¹ï¼Œä»¥åŠåœ¨ JDK å’Œ Spring æ¡†æ¶ä¸­çš„å®è·µ**
ï¼Œå¹¶æä¾› Java ä»£ç ç¤ºä¾‹ï¼ŒåŠ©ä½ é«˜æ•ˆæŒæ¡è¿™ä¸€é‡è¦è®¾è®¡æ¨¡å¼ï¼ğŸš€

---

### ğŸ­ å…ˆçœ‹é—®é¢˜ï¼šå¯¹è±¡åˆ›å»ºçš„ç—›ç‚¹

å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª
**å¤æ‚çš„
`Product`
ç±»**
ï¼Œæœ‰å¤šä¸ªå¯é€‰å‚æ•°ï¼š

```java
public class Product {
    private String name;
    private double price;
    private String manufacturer;
    private String category;
    private int stock;
    
    public Product(String name, double price, String manufacturer, String category, int stock) {
        this.name = name;
        this.price = price;
        this.manufacturer = manufacturer;
        this.category = category;
        this.stock = stock;
    }
}

```

#### âŒ é‡åˆ°çš„é—®é¢˜

1ï¸âƒ£
**æ„é€ æ–¹æ³•å‚æ•°è¿‡å¤šï¼Œè°ƒç”¨æ—¶å®¹æ˜“æ··æ·†**

```java
Product product = new Product("Laptop", 999.99, "Apple", "Electronics", 100);

```

å¦‚æœå‚æ•°é¡ºåºé”™äº†ï¼Œæ¯”å¦‚æŠŠ
`price`
å’Œ
`stock`
ä½ç½®å†™åï¼Œå°±ä¼šå¯¼è‡´
**éš¾ä»¥å‘ç°çš„ Bug**
ã€‚

2ï¸âƒ£
**ä¸æ”¯æŒéƒ¨åˆ†å‚æ•°å¯é€‰**
  
æ¯”å¦‚ï¼Œæœ‰äº›
`Product`
å¯èƒ½ä¸éœ€è¦
`manufacturer`
ï¼Œä½†æ˜¯
**Java æ²¡æœ‰é»˜è®¤å‚æ•°**
ï¼Œæˆ‘ä»¬åªèƒ½é‡è½½å¤šä¸ªæ„é€ æ–¹æ³•ï¼Œå¯¼è‡´ä»£ç è‡ƒè‚¿ï¼š

```java
public Product(String name, double price, String category) {
    this(name, price, "Unknown", category, 0);
}

```

3ï¸âƒ£
**å¯è¯»æ€§å·®ï¼Œæ‰©å±•å›°éš¾**
  
å¦‚æœåç»­å¢åŠ æ–°å±æ€§ï¼Œæ¯”å¦‚
`discount`
ï¼ˆæŠ˜æ‰£ï¼‰ï¼Œå°±éœ€è¦
**ä¿®æ”¹æ‰€æœ‰æ„é€ æ–¹æ³•**
ï¼Œç ´åäº†
**å¼€é—­åŸåˆ™ï¼ˆOCPï¼‰**
ã€‚

---

### ğŸ¯ è§£å†³æ–¹æ¡ˆï¼šå¼•å…¥ç”Ÿæˆå™¨æ¨¡å¼

**ç”Ÿæˆå™¨æ¨¡å¼ï¼ˆBuilder Patternï¼‰**
é€šè¿‡
**é“¾å¼è°ƒç”¨**
å’Œ
**åˆ†æ­¥éª¤æ„é€ **
ï¼Œè®©å¯¹è±¡åˆ›å»ºæ›´åŠ ä¼˜é›…ï¼

#### 1ï¸âƒ£ è®¾è®¡ `ProductBuilder` ç±»

```java
public class Product {
    private String name;
    private double price;
    private String manufacturer;
    private String category;
    private int stock;

    // ç§æœ‰æ„é€ å‡½æ•°ï¼Œé˜²æ­¢ç›´æ¥åˆ›å»ºå¯¹è±¡
    private Product(ProductBuilder builder) {
        this.name = builder.name;
        this.price = builder.price;
        this.manufacturer = builder.manufacturer;
        this.category = builder.category;
        this.stock = builder.stock;
    }

    // é™æ€å†…éƒ¨ç±»ï¼šBuilder
    public static class ProductBuilder {
        private String name;
        private double price;
        private String manufacturer = "Unknown"; // é»˜è®¤å€¼
        private String category = "General"; // é»˜è®¤å€¼
        private int stock = 0;

        public ProductBuilder(String name, double price) {
            this.name = name;
            this.price = price;
        }

        public ProductBuilder manufacturer(String manufacturer) {
            this.manufacturer = manufacturer;
            return this;
        }

        public ProductBuilder category(String category) {
            this.category = category;
            return this;
        }

        public ProductBuilder stock(int stock) {
            this.stock = stock;
            return this;
        }

        public Product build() {
            return new Product(this);
        }
    }
}

```

#### 2ï¸âƒ£ ä½¿ç”¨ Builder æ¨¡å¼åˆ›å»ºå¯¹è±¡

```java
Product product = new Product.ProductBuilder("Laptop", 999.99)
        .manufacturer("Apple")
        .category("Electronics")
        .stock(100)
        .build();

```

#### âœ… ç”Ÿæˆå™¨æ¨¡å¼çš„ä¼˜åŠ¿

ğŸ”¹
**é¿å…æ„é€ æ–¹æ³•å‚æ•°æ··ä¹±**
ï¼Œå¯è¯»æ€§æ›´å¼º
  
ğŸ”¹
**æ”¯æŒå¯é€‰å‚æ•°**
ï¼Œé¿å…æ„é€ æ–¹æ³•é‡è½½
  
ğŸ”¹
**æ˜“äºæ‰©å±•**
ï¼Œæ·»åŠ æ–°å­—æ®µä¸å½±å“å·²æœ‰ä»£ç 
  
ğŸ”¹
**æ”¯æŒé“¾å¼è°ƒç”¨**
ï¼Œä»£ç æ›´åŠ ä¼˜é›…

---

### ğŸ¯ ç”Ÿæˆå™¨æ¨¡å¼çš„é€‚ç”¨åœºæ™¯

âœ…
**åˆ›å»ºå¤æ‚å¯¹è±¡**
ï¼ˆå‚æ•°è¿‡å¤šã€å¯é€‰å‚æ•°å¤šçš„å¯¹è±¡ï¼‰
  
âœ…
**å¯¹è±¡ä¸å¯å˜**
ï¼ˆæ¯”å¦‚
`String`
ï¼Œåˆ›å»ºåä¸å¯ä¿®æ”¹ï¼‰
  
âœ…
**é¿å…æ„é€ æ–¹æ³•é‡è½½**
ï¼ˆå‡å°‘ä»£ç è†¨èƒ€ï¼‰
  
âœ…
**æé«˜ä»£ç å¯è¯»æ€§**
ï¼ˆé“¾å¼è°ƒç”¨ï¼Œæ¸…æ™°ç›´è§‚ï¼‰

---

### ğŸ” ç”Ÿæˆå™¨æ¨¡å¼åœ¨ JDK å’Œ Spring æ¡†æ¶ä¸­çš„åº”ç”¨

#### ğŸ“Œ **1. JDK ä¸­çš„åº”ç”¨ï¼šStringBuilder**

`StringBuilder`
é‡‡ç”¨
**ç”Ÿæˆå™¨æ¨¡å¼**
æ¥é«˜æ•ˆæ‹¼æ¥å­—ç¬¦ä¸²ï¼š

```java
String result = new StringBuilder()
        .append("Hello ")
        .append("World!")
        .toString();

```

ç›¸æ¯”
`String`
çš„
**ä¸å¯å˜æ€§**
ï¼Œ
`StringBuilder`
é¿å…äº†ä¸å¿…è¦çš„å¯¹è±¡åˆ›å»ºï¼Œæé«˜äº†æ€§èƒ½ï¼

#### ğŸ“Œ **2. Spring æ¡†æ¶ä¸­çš„åº”ç”¨ï¼šBeanDefinitionBuilder**

åœ¨ Spring ä¸­ï¼Œ
`BeanDefinitionBuilder`
ä¹Ÿæ˜¯å…¸å‹çš„
**ç”Ÿæˆå™¨æ¨¡å¼**
å®ç°ï¼š

```java
BeanDefinition beanDefinition = BeanDefinitionBuilder
        .genericBeanDefinition(MyService.class)
        .addPropertyValue("name", "Spring Service")
        .setScope(BeanDefinition.SCOPE_SINGLETON)
        .getBeanDefinition();

```

ğŸ”¹
**å¯é€‰å‚æ•°ä¸å¼ºåˆ¶å¡«å……**
ï¼Œé¿å…å¤æ‚æ„é€ æ–¹æ³•
  
ğŸ”¹
**é“¾å¼è°ƒç”¨ï¼Œç®€æ´æ¸…æ™°**

---

### ğŸ¯ ç”Ÿæˆå™¨æ¨¡å¼ vs å·¥å‚æ¨¡å¼

| å¯¹æ¯”é¡¹ | ç”Ÿæˆå™¨æ¨¡å¼ï¼ˆBuilderï¼‰ | å·¥å‚æ¨¡å¼ï¼ˆFactoryï¼‰ |
| --- | --- | --- |
| **ä½œç”¨** | æ„é€ å¤æ‚å¯¹è±¡ï¼Œæ§åˆ¶æ„é€ è¿‡ç¨‹ | åˆ›å»ºå¯¹è±¡ï¼Œå°è£… new è¿‡ç¨‹ |
| **æ˜¯å¦æ”¯æŒå¯é€‰å‚æ•°** | âœ… æ”¯æŒ | âŒ ä¸æ”¯æŒ |
| **æ˜¯å¦æ”¯æŒé“¾å¼è°ƒç”¨** | âœ… æ”¯æŒ | âŒ ä¸æ”¯æŒ |
| **ä½¿ç”¨åœºæ™¯** | å¤æ‚å¯¹è±¡åˆ›å»ºï¼Œå‚æ•°å¤š | åªéœ€åˆ›å»ºå¯¹è±¡ï¼Œé€»è¾‘ç®€å• |

**ğŸ“Œ ä»€ä¹ˆæ—¶å€™ç”¨ï¼Ÿ**

* **å‚æ•°å°‘ï¼Œé€»è¾‘ç®€å•**
  â†’
  **å·¥å‚æ¨¡å¼**
* **å‚æ•°å¤šï¼Œæ„é€ å¤æ‚**
  â†’
  **ç”Ÿæˆå™¨æ¨¡å¼**

---

### ğŸ‰ æ€»ç»“

**ç”Ÿæˆå™¨æ¨¡å¼ï¼ˆBuilder Patternï¼‰**
è§£å†³äº†
**æ„é€ æ–¹æ³•å‚æ•°æ··ä¹±ã€å¯é€‰å‚æ•°å¤„ç†å›°éš¾ã€æ‰©å±•æ€§å·®**
ç­‰é—®é¢˜ï¼Œé€‚ç”¨äº
**åˆ›å»ºå¤æ‚å¯¹è±¡**
ã€‚

ğŸ“Œ
**æ ¸å¿ƒè¦ç‚¹ï¼š**
  
âœ”ï¸
**å°†å¯¹è±¡æ„é€ è¿‡ç¨‹ä¸å¯¹è±¡æœ¬èº«åˆ†ç¦»**
  
âœ”ï¸
**æ”¯æŒé“¾å¼è°ƒç”¨ï¼Œé¿å…æ„é€ æ–¹æ³•é‡è½½**
  
âœ”ï¸
**å¯è¯»æ€§é«˜ï¼Œæ˜“æ‰©å±•ï¼Œé€‚ç”¨äºå¯é€‰å‚æ•°å¤šçš„åœºæ™¯**
  
âœ”ï¸
**åœ¨ JDKï¼ˆ
`StringBuilder`
ï¼‰ã€Springï¼ˆ
`BeanDefinitionBuilder`
ï¼‰ä¸­å¹¿æ³›åº”ç”¨**

å¦‚æœä½ æ­£åœ¨å¼€å‘
**é…ç½®ç±»ã€æ•°æ®åº“è¿æ¥ç±»ã€å¤æ‚çš„å®ä½“ç±»**
ï¼Œä¸å¦¨è¯•è¯•
**ç”Ÿæˆå™¨æ¨¡å¼**
ï¼Œè®©ä½ çš„ä»£ç æ›´åŠ ä¼˜é›…ï¼ğŸ’¡

---

ğŸ’¬
**ä½ åœ¨å¼€å‘ä¸­é‡åˆ°è¿‡å“ªäº›å¯¹è±¡åˆ›å»ºçš„ç—›ç‚¹ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµï¼**
ğŸš€

ğŸ‘‰
**è§‰å¾—æœ‰ç”¨ï¼Ÿæ¬¢è¿ç‚¹èµ + å…³æ³¨ï¼Œæ›´å¤šè®¾è®¡æ¨¡å¼å¹²è´§æŒç»­æ›´æ–°ï¼**
ğŸ’¡