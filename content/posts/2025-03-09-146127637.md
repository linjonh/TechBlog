---
layout: post
title: "Spring-Boot中的YML配置列表的详细解析"
date: 2025-03-09 09:21:41 +0800
description: "在Spring Boot中使用YAML进行列表的配置不仅简洁明了，还能提高代码的可读性和可维护性。通过合理的结构划分和类的映射，数据的获取将变得更加轻松。在实际开发中，掌握YAML的使用方法，能够让我们的配置工作更加高效！希望这篇文章能帮助大家对YAML配置中的List列表有更深入的理解和应用！"
keywords: "Spring Boot中的YML配置列表的详细解析"
categories: ['Java']
tags: ['Vue']
artid: "146127637"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146127637
    alt: "Spring-Boot中的YML配置列表的详细解析"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146127637
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146127637
cover: https://bing.ee123.net/img/rand?artid=146127637
image: https://bing.ee123.net/img/rand?artid=146127637
img: https://bing.ee123.net/img/rand?artid=146127637
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Spring Boot中的YML配置列表的详细解析
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     在Spring Boot开发中，YAML（YAML Ain’t Markup Language）被广泛使用，因其简洁易读的特性，尤其在配置文件中表现得尤为突出。当我们需要配置多个值时，YAML格式的列表（List）显得尤为重要。不少开发者在使用过程中可能会遇到一些疑惑，对如何有效地配置List列表了解不够深刻。接下来我们就一起来探讨一下YAML中List列表的配置方式，以及在Spring Boot中的应用。
    </p>
    <h5>
     <a id="YAML_4">
     </a>
     YAML列表的基础语法
    </h5>
    <p>
     在YAML中，列表的基本语法非常简单。通常，每一项都用“-”符号开始，紧接着是一个空格，然后是列表项的内容。比如，我们希望配置一个水果清单，可以按如下方式书写：
    </p>
    <pre><code class="prism language-yaml"><span class="token key atrule">fruits</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> apple
  <span class="token punctuation">-</span> banana
  <span class="token punctuation">-</span> orange
</code></pre>
    <p>
     在这个例子里，
     <code>
      fruits
     </code>
     就是一个列表，里面有三个元素：apple、banana和orange。它们的排列和缩进一定要保持一致，否则可能会导致解析错误。
    </p>
    <h5>
     <a id="Spring_Boot_17">
     </a>
     在Spring Boot中的应用
    </h5>
    <p>
     在Spring Boot中，我们可以利用这些YAML配置来定义各种属性，包括数据库连接、服务器配置、业务逻辑等。让我们通过一个具体的例子来看如何在
     <code>
      application.yml
     </code>
     文件中使用列表配置。
    </p>
    <p>
     假设我们有一个配置项是服务器支持的语言列表，代码可能像这样：
    </p>
    <pre><code class="prism language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">supported-languages</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> English
    <span class="token punctuation">-</span> Chinese
    <span class="token punctuation">-</span> Spanish
</code></pre>
    <p>
     这里，
     <code>
      supported-languages
     </code>
     是一个存储不同语言的列表。这样，当我们需要在应用程序中验证用户所选语言是否被支持时，我们就可以轻松获取这个列表进行对比。
    </p>
    <h5>
     <a id="YAML_33">
     </a>
     从YAML读取列表
    </h5>
    <p>
     在Spring Boot中读取YAML列表的方式也非常简单直观。若我们想要将这个列表转化为Java对象，首先需要定义一个类来映射这些配置。例如，我们可以创建一个
     <code>
      ServerConfig
     </code>
     类：
    </p>
    <pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>context<span class="token punctuation">.</span>properties<span class="token punctuation">.</span></span><span class="token class-name">ConfigurationProperties</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"server"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServerConfig</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> supportedLanguages<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getSupportedLanguages</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> supportedLanguages<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setSupportedLanguages</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> supportedLanguages<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>supportedLanguages <span class="token operator">=</span> supportedLanguages<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     这段代码里，
     <code>
      @ConfigurationProperties
     </code>
     注解用于指定我们要从YAML中读取的前缀。Spring Boot会自动将YAML中的
     <code>
      server.supported-languages
     </code>
     与
     <code>
      supportedLanguages
     </code>
     字段对应上。如此一来，我们就可以轻松地获得用户所需的配置。
    </p>
    <h5>
     <a id="_60">
     </a>
     列表中的复杂对象
    </h5>
    <p>
     除了简单字符串列表，YAML的列表还可以包含复杂对象。例如，我们可能需要配置一个用户的角色列表，每个角色里还有名称和权限。在YAML中可以这样表示：
    </p>
    <pre><code class="prism language-yaml"><span class="token key atrule">roles</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> ADMIN
    <span class="token key atrule">permissions</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> READ
      <span class="token punctuation">-</span> WRITE
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> USER
    <span class="token key atrule">permissions</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> READ
</code></pre>
    <p>
     这里的
     <code>
      roles
     </code>
     字段是一个包含两个对象的列表，每个对象都有
     <code>
      name
     </code>
     和
     <code>
      permissions
     </code>
     字段。相应的Java类应该进行如下定义：
    </p>
    <pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>context<span class="token punctuation">.</span>properties<span class="token punctuation">.</span></span><span class="token class-name">ConfigurationProperties</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"roles"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Role</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> permissions<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> permissions<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPermissions</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> permissions<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>permissions <span class="token operator">=</span> permissions<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     我们可以再定义一个超类来存储整个角色列表：
    </p>
    <pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>context<span class="token punctuation">.</span>properties<span class="token punctuation">.</span></span><span class="token class-name">ConfigurationProperties</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"app"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppConfig</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Role</span><span class="token punctuation">&gt;</span></span> roles<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Role</span><span class="token punctuation">&gt;</span></span> <span class="token function">getRoles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> roles<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setRoles</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Role</span><span class="token punctuation">&gt;</span></span> roles<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>roles <span class="token operator">=</span> roles<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     这样，就可以采用
     <code>
      AppConfig
     </code>
     类获取
     <code>
      roles
     </code>
     列表中的所有角色以及其对应的权限了。通过这些简单的代码，信息的读取变得高效且直观。
    </p>
    <h5>
     <a id="_132">
     </a>
     其他注意事项
    </h5>
    <p>
     尽管YAML配置相较于传统的properties文件更易于阅读，但在使用中也要注意一些细节。比如，项的缩进非常重要，确保不出现错误的空格、TAB混用等问题，都会导致YAML解析错误。此外，YAML不支持注释行，因此在编写较长配置时要保持清晰的逻辑结构。
    </p>
    <p>
     当我们处理大量对象或复杂字段时，也可以考虑将相关配置拆分为多个文件，使用
     <code>
      spring.config.import
     </code>
     来引入，保证配置的可维护性。
    </p>
    <h5>
     <a id="_138">
     </a>
     总结
    </h5>
    <p>
     在Spring Boot中使用YAML进行列表的配置不仅简洁明了，还能提高代码的可读性和可维护性。通过合理的结构划分和类的映射，数据的获取将变得更加轻松。在实际开发中，掌握YAML的使用方法，能够让我们的配置工作更加高效！希望这篇文章能帮助大家对YAML配置中的List列表有更深入的理解和应用！
    </p>
   </div>
   <link href="./../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="./../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c:6f672e6373646e2e6e65742f71715f3532303136313735372f:61727469636c652f64657461696c732f313436313237363337" class_="artid" style="display:none">
 </p>
</div>


