---
arturl_encode: "68747470733a2f2f62:6c6f672e6373646e2e6e65742f71796a31393932303730342f:61727469636c652f64657461696c732f313330383536313534"
layout: post
title: "Java8ç³»åˆ—06Java8æ•°æ®è®¡ç®—"
date: 2023-12-01 20:32:19 +08:00
description: "ğŸ’ğŸ’ğŸ’æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼Œå¾ˆé«˜å…´èƒ½å¤Ÿåœ¨è¿™é‡Œå’Œæ‚¨è§é¢ï¼å¸Œæœ›æ‚¨åœ¨è¿™é‡Œå¯ä»¥æ„Ÿå—åˆ°ä¸€ä»½è½»æ¾æ„‰å¿«çš„æ°›å›´ï¼Œä¸ä»…å¯ä»¥"
keywords: "ç”²éª¨æ–‡jdk8 å¢å¼ºç‰ˆ"
categories: ['S', 'Java']
tags: ['å¼€å‘è¯­è¨€', 'Java']
artid: "130856154"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=130856154
    alt: "Java8ç³»åˆ—06Java8æ•°æ®è®¡ç®—"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=130856154
featuredImagePreview: https://bing.ee123.net/img/rand?artid=130856154
---

# ã€Java8ç³»åˆ—06ã€‘Java8æ•°æ®è®¡ç®—

> ğŸ’ğŸ’ğŸ’æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼Œå¾ˆé«˜å…´èƒ½å¤Ÿåœ¨è¿™é‡Œå’Œæ‚¨è§é¢ï¼å¸Œæœ›æ‚¨åœ¨è¿™é‡Œå¯ä»¥æ„Ÿå—åˆ°ä¸€ä»½è½»æ¾æ„‰å¿«çš„æ°›å›´ï¼Œä¸ä»…å¯ä»¥è·å¾—æœ‰è¶£çš„å†…å®¹å’ŒçŸ¥è¯†ï¼Œä¹Ÿå¯ä»¥ç•…æ‰€æ¬²è¨€ã€åˆ†äº«æ‚¨çš„æƒ³æ³•å’Œè§è§£ã€‚
>   
> ![img](https://i-blog.csdnimg.cn/blog_migrate/5b7d56665d406fee3159289ac61fa974.jpeg#pic_center)
>
> * æ¨è:
>   [kwan çš„é¦–é¡µ](https://qinyingjie.blog.csdn.net/?type=blog)
>   ,æŒç»­å­¦ä¹ ,ä¸æ–­æ€»ç»“,å…±åŒè¿›æ­¥,æ´»åˆ°è€å­¦åˆ°è€
> * å¯¼èˆª
>   + [æª€è¶Šå‰‘æŒ‡å¤§å‚ç³»åˆ—](https://blog.csdn.net/qyj19920704/category_11763029.html)
>     :å…¨é¢æ€»ç»“ java æ ¸å¿ƒæŠ€æœ¯ç‚¹,å¦‚é›†åˆ,jvm,å¹¶å‘ç¼–ç¨‹ redis,kafka,Spring,å¾®æœåŠ¡,Netty ç­‰
>   + [å¸¸ç”¨å¼€å‘å·¥å…·ç³»åˆ—](https://blog.csdn.net/qyj19920704/category_11474211.html)
>     :ç½—åˆ—å¸¸ç”¨çš„å¼€å‘å·¥å…·,å¦‚ IDEA,Mac,Alfred,electerm,Git,typora,apifox ç­‰
>   + [æ•°æ®åº“ç³»åˆ—](https://blog.csdn.net/qyj19920704/category_11474265.html)
>     :è¯¦ç»†æ€»ç»“äº†å¸¸ç”¨æ•°æ®åº“ mysql æŠ€æœ¯ç‚¹,ä»¥åŠå·¥ä½œä¸­é‡åˆ°çš„ mysql é—®é¢˜ç­‰
>   + [æ‡’äººè¿ç»´ç³»åˆ—](https://blog.csdn.net/qyj19920704/category_7540627.html)
>     :æ€»ç»“å¥½ç”¨çš„å‘½ä»¤,è§£æ”¾åŒæ‰‹ä¸é¦™å—?èƒ½ç”¨ä¸€ä¸ªå‘½ä»¤å®Œæˆç»ä¸ç”¨ä¸¤ä¸ªæ“ä½œ
>   + [æ•°æ®ç»“æ„ä¸ç®—æ³•ç³»åˆ—](https://blog.csdn.net/qyj19920704/category_11480075.html)
>     :æ€»ç»“æ•°æ®ç»“æ„å’Œç®—æ³•,ä¸åŒç±»å‹é’ˆå¯¹æ€§è®­ç»ƒ,æå‡ç¼–ç¨‹æ€ç»´,å‰‘æŒ‡å¤§å‚
>
> éå¸¸æœŸå¾…å’Œæ‚¨ä¸€èµ·åœ¨è¿™ä¸ªå°å°çš„ç½‘ç»œä¸–ç•Œé‡Œå…±åŒæ¢ç´¢ã€å­¦ä¹ å’Œæˆé•¿ã€‚ğŸ’ğŸ’ğŸ’ âœ¨âœ¨ æ¬¢è¿è®¢é˜…æœ¬ä¸“æ  âœ¨âœ¨

#### åšå®¢ç›®å½•

* + - [1.æ±‡æ€»æ•°æ®](#1_15)
    - [2.åˆ†ç»„æ±‚å’Œ](#2_27)
    - [3.å†…å­˜åˆ†é¡µ](#3_39)
    - [4.åˆ¤æ–­é›†åˆä¸ºç©º](#4_50)
    - [5.å¹¶è¡Œå¤„ç†](#5_64)
    - [6.è·å–å­—ç¬¦ä¸­æ•°æ®](#6_81)
    - [7.åˆ¤æ–­ç›¸åŒçš„å…ƒç´ ](#7_97)
    - [8.list æ˜¯å¦é‡å¤](#8list__134)
    - [9.æ•°æ®å»é‡](#9_154)

#### 1.æ±‡æ€»æ•°æ®

```java
homeSkuTotal.setTotal7SalQty(tags.stream().mapToInt(item -> Objects.nonNull(item.getTotal7SalQty()) ? item.getTotal7SalQty() : 0).sum());

```

```java
 if (CollectionUtils.isNotEmpty(homeSkuTotalOrr)) {
      homeSkuTotalOrr.stream().mapToInt(AdsDayOrrDO::getOrderNotArriveQty).sum();
}

```

#### 2.åˆ†ç»„æ±‚å’Œ

åˆ†ç»„æ±‚æœ€å¤§å€¼å†æ±‚å’Œ

```java
 if (CollectionUtils.isNotEmpty(homeSkuTotalOrr)) {
            final Collection<Optional<AdsDayOrrDO>> values = homeSkuTotalOrr.stream().collect(Collectors.groupingBy(AdsDayOrrDO::getProductKey, Collectors.maxBy(Comparator.comparing(AdsDayOrrDO::getPeriodSdate)))).values();
            homeSkuTotalDTO.setOrderNotArriveQty(values.stream().mapToInt(item -> item.get().getOrderNotArriveQty()).sum());
            homeSkuTotalDTO.setReplenishNotArriveQty(values.stream().mapToInt(item -> item.get().getReplenishNotArriveQty()).sum());
        }

```

#### 3.å†…å­˜åˆ†é¡µ

```java
pageBean.setTotalElements(tags.size());
            pageBean.setTotalPages(tags.size() / pageQuery.getSize() + (tags.size() % pageQuery.getSize() == 0 ? 0 : 1));
            pageBean.setSize(pageQuery.getSize());
            pageBean.setNumber(pageQuery.getPage());
            pageBean.setContent(tags.stream().skip((pageQuery.getPage() - 1) * pageQuery.getSize()).limit(pageQuery.getSize()).collect(Collectors.toList()));
            pageBean.setNumberOfElements(CollectionUtils.isNotEmpty(pageBean.getContent()) ? pageBean.getContent().size() : 0L);

```

#### 4.åˆ¤æ–­é›†åˆä¸ºç©º

```java
CollectionUtils.isNotEmpty({a,b}): true

```

```xml
<dependency>
  <groupId>commons-collections</groupId>
  <artifactId>commons-collections</artifactId>
  <version>3.2.2</version>
</dependency>

```

#### 5.å¹¶è¡Œå¤„ç†

```java
@Test
public void test15() {
    // è°ƒç”¨ parallelStream æ–¹æ³•å³èƒ½å¹¶è¡Œå¤„ç†
    List<String> names = properties.parallelStream()
        .filter(p -> p.priceLevel < 4)
        .sorted(Comparator.comparingInt(Property::getDistance))
        .map(Property::getName)
        .limit(2)
        .collect(Collectors.toList());
    System.out.println(JSON.toJSONString(names));
}


```

#### 6.è·å–å­—ç¬¦ä¸­æ•°æ®

```apl
//åšå®¢æµè§ˆé‡æœªè¾¾æˆ
final int x = message.indexOf("éœ€è¦");
String str = message.substring(x + 2, x + 7);
for (int i = str.length() - 1; i >= 0; i--) {
    char lastChar = str.charAt(i);
    if (Character.isDigit(lastChar)) {
        // å­—ç¬¦ä¸æ˜¯æ•°å­—ï¼Œèˆå»æœ€åä¸€ä½å­—ç¬¦
        str = str.substring(0, i + 1);
        break;
    }
}

```

#### 7.åˆ¤æ–­ç›¸åŒçš„å…ƒç´ 

```java
public class Java8_06_Stream_Same {
  public static void main(String[] args) {
    // è€å¸ˆé›†åˆ
    List<Teacher> teachers = Arrays.asList(
      new Teacher(1L, "å¼ ä¸‰"),
      new Teacher(2L, "æå››"),
      new Teacher(3L, "ç‹äº”"),
      new Teacher(4L, "èµµå…­"));

    // å­¦ç”Ÿé›†åˆ
    List<Student> students = Arrays.asList(
      new Student(5L, "å¼ ä¸‰"),
      new Student(6L, "æå››"),
      new Student(7L, "å°çº¢"),
      new Student(8L, "å°æ˜"));

    // æ±‚åŒæ—¶å‡ºç°åœ¨è€å¸ˆé›†åˆå’Œå­¦ç”Ÿé›†åˆä¸­çš„äººæ•°,nameç›¸åŒå³è§†ä¸ºåŒä¸€ä¸ªäºº
    int size = (int) teachers.stream()
      .map(t -> students.stream().filter(s -> Objects.nonNull(t.getName()) && Objects.nonNull(s.getName()) && Objects.equals(t.getName(), s.getName())).findAny().orElse(null))
      .filter(Objects::nonNull).count();

    // æ±‚åŒæ—¶å‡ºç°åœ¨è€å¸ˆé›†åˆå’Œå­¦ç”Ÿé›†åˆä¸­äººçš„nameé›†åˆ,nameç›¸åŒå³è§†ä¸ºåŒä¸€ä¸ªäºº
    List<String> names = teachers.stream()
      .map(t -> students.stream().filter(s -> Objects.nonNull(t.getName()) && Objects.nonNull(s.getName()) && Objects.equals(t.getName(), s.getName())).findAny().orElse(null))
      .filter(Objects::nonNull)
      .map(Student::getName)
      .collect(Collectors.toList());

    System.out.println("ç›¸åŒçš„äººæ•°:" + size);
    System.out.println("ç›¸åŒçš„äººå§“åé›†åˆ:" + names);
  }
}

```

#### 8.list æ˜¯å¦é‡å¤

```java
public class Java8_13_stream_count {
  public static void main(String[] args) {
    List<Integer> list = new ArrayList() {
      {
        add(1);
        add(2);
        add(1);
      }
    };
    long count = list.stream().distinct().count();
    boolean isRepeat = count < list.size();
    System.out.println(count);//è¾“å‡º2
    System.out.println(isRepeat);//è¾“å‡ºtrue
  }
}

```

#### 9.æ•°æ®å»é‡

```java
//æ–¹å¼ä¸€
List<Long> distinctIdList = idList.stream().distinct().collect(Collectors.toList());

```

```java
//æ–¹å¼äºŒ
final List<ProductAllexinfoV1DTO> invSqlSkus = tags.stream().filter(t -> t.getInvQty() > 0 || t.getSalQty() > 0).collect(Collectors.toList());
        homeSkuTotal.setProductTotal(CollectionUtils.isEmpty(invSqlSkus) ? 0 :
                invSqlSkus.stream().map(ProductAllexinfoV1DTO::getProductKey).collect(Collectors.toSet()).size());

```

> è§‰å¾—æœ‰ç”¨çš„è¯ç‚¹ä¸ªèµ
> `ğŸ‘ğŸ»`
> å‘—ã€‚
>   
> â¤ï¸â¤ï¸â¤ï¸æœ¬äººæ°´å¹³æœ‰é™ï¼Œå¦‚æœ‰çº°æ¼ï¼Œæ¬¢è¿å„ä½å¤§ä½¬è¯„è®ºæ‰¹è¯„æŒ‡æ­£ï¼ğŸ˜„ğŸ˜„ğŸ˜„
>
> ğŸ’˜ğŸ’˜ğŸ’˜å¦‚æœè§‰å¾—è¿™ç¯‡æ–‡å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œä¹Ÿè¯·ç»™ä¸ªç‚¹èµã€æ”¶è—ä¸‹å§ï¼Œéå¸¸æ„Ÿè°¢!ğŸ‘ ğŸ‘ ğŸ‘
>
> ğŸ”¥ğŸ”¥ğŸ”¥Stay Hungry Stay Foolish é“é˜»ä¸”é•¿,è¡Œåˆ™å°†è‡³,è®©æˆ‘ä»¬ä¸€èµ·åŠ æ²¹å§ï¼ğŸŒ™ğŸŒ™ğŸŒ™
>
> ![img](https://i-blog.csdnimg.cn/blog_migrate/101469850485989da7dda6f53e80e19d.gif#pic_center)