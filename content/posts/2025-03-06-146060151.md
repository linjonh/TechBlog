---
layout: post
title: "96.åœ¨-Vue-3-ä¸­ä½¿ç”¨-OpenLayers-æ¢ç©¶åŠ è½½-PointPolygon-çš„æé™"
date: 2025-03-06 10:00:51 +0800
description: "åœ¨å‰ç«¯ GISï¼ˆåœ°ç†ä¿¡æ¯ç³»ç»Ÿï¼‰å¼€å‘ä¸­ï¼ŒOpenLayers ä½œä¸ºä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ Web åœ°å›¾åº“ï¼Œå¹¿æ³›ç”¨äºåŠ è½½åœ°å›¾ã€æ¸²æŸ“çŸ¢é‡æ•°æ®ï¼ˆç‚¹ã€çº¿ã€é¢ï¼‰ã€å åŠ å›¾å±‚ç­‰åœºæ™¯ã€‚ç„¶è€Œï¼Œå½“æ¶‰åŠåˆ°ã€‚"
keywords: "openlayersç»˜åˆ¶å¤šä¸ªé¢å¤ªå¡æ€ä¹ˆä¼˜åŒ–"
categories: ['Openlayers']
tags: ['å‰ç«¯æ¡†æ¶', 'å‰ç«¯', 'Vue', 'Openlayers', 'Javascript', 'Ecmascript']
artid: "146060151"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146060151
    alt: "96.åœ¨-Vue-3-ä¸­ä½¿ç”¨-OpenLayers-æ¢ç©¶åŠ è½½-PointPolygon-çš„æé™"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146060151
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146060151
cover: https://bing.ee123.net/img/rand?artid=146060151
image: https://bing.ee123.net/img/rand?artid=146060151
img: https://bing.ee123.net/img/rand?artid=146060151
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     96.åœ¨ Vue 3 ä¸­ä½¿ç”¨ OpenLayers æ¢ç©¶åŠ è½½ Pointã€Polygon çš„æé™
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h4>
    </h4>
    <blockquote>
     <p>
      ğŸš€
      <em>
       æœ¬ç¯‡æ–‡ç« å°†ä»‹ç»å¦‚ä½•åœ¨ Vue 3 ä¸­ä½¿ç”¨ OpenLayers åŠ è½½å¤§é‡ Pointï¼ˆç‚¹ï¼‰å’Œ Polygonï¼ˆå¤šè¾¹å½¢ï¼‰ï¼Œå¹¶æ¢ç©¶å…¶æ¸²æŸ“æ€§èƒ½çš„æé™ã€‚
      </em>
     </p>
    </blockquote>
    <hr/>
    <h3>
     æ•ˆæœå›¾
    </h3>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/9cdb95c1c63a4c1bab398044ecfc7778.gif"/>
    </p>
    <h3>
     <strong>
      1. å‰è¨€
     </strong>
    </h3>
    <p>
     åœ¨å‰ç«¯ GISï¼ˆåœ°ç†ä¿¡æ¯ç³»ç»Ÿï¼‰å¼€å‘ä¸­ï¼ŒOpenLayers ä½œä¸ºä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ Web åœ°å›¾åº“ï¼Œå¹¿æ³›ç”¨äºåŠ è½½åœ°å›¾ã€æ¸²æŸ“çŸ¢é‡æ•°æ®ï¼ˆç‚¹ã€çº¿ã€é¢ï¼‰ã€å åŠ å›¾å±‚ç­‰åœºæ™¯ã€‚ç„¶è€Œï¼Œå½“æ¶‰åŠåˆ°
     <strong>
      å¤§é‡ Pointï¼ˆç‚¹ï¼‰æˆ– Polygonï¼ˆå¤šè¾¹å½¢ï¼‰
     </strong>
     æ—¶ï¼Œæ¸²æŸ“æ€§èƒ½å¾€å¾€æˆä¸ºç“¶é¢ˆã€‚å› æ­¤ï¼Œæœ¬æ–‡å°†åŸºäº Vue 3ï¼Œæ¢è®¨ OpenLayers åœ¨
     <strong>
      å¤§è§„æ¨¡ç‚¹ã€é¢æ•°æ®
     </strong>
     åŠ è½½ä¸Šçš„æé™æ€§èƒ½ã€‚
    </p>
    <hr/>
    <h3>
     <strong>
      2. æŠ€æœ¯é€‰å‹
     </strong>
    </h3>
    <p>
     æœ¬æ¬¡å®ç°åŸºäºï¼š
    </p>
    <ul>
     <li>
      <strong>
       Vue 3
      </strong>
      ç»„åˆå¼ APIï¼ˆComposition APIï¼‰
     </li>
     <li>
      <strong>
       Vite 5.x
      </strong>
      ï¼ˆæ›´å¿«çš„æ„å»ºå·¥å…·ï¼‰
     </li>
     <li>
      <strong>
       OpenLayers
      </strong>
      ä½œä¸ºåœ°å›¾å¼•æ“
     </li>
     <li>
      <strong>
       Element Plus
      </strong>
      æä¾› UI äº¤äº’æŒ‰é’®
     </li>
    </ul>
    <hr/>
    <h3>
     <strong>
      3. é¡¹ç›®åˆå§‹åŒ–
     </strong>
    </h3>
    <h4>
     <strong>
      ï¼ˆ1ï¼‰åˆ›å»º Vue 3 + Vite é¡¹ç›®
     </strong>
    </h4>
    <p>
     å¦‚æœä½ è¿˜æ²¡æœ‰ Vue 3 é¡¹ç›®ï¼Œå¯ä»¥ä½¿ç”¨ Vite å¿«é€Ÿåˆå§‹åŒ–ï¼š
    </p>
    <p>
     <code>
      npm create vite@latest vue-openlayers-test --template vue cd vue-openlayers-test npm install
     </code>
    </p>
    <h4>
     <strong>
      ï¼ˆ2ï¼‰å®‰è£… OpenLayers
     </strong>
    </h4>
    <p>
     <code>
      npm install ol
     </code>
    </p>
    <hr/>
    <h3>
     <strong>
      4. ä»£ç å®ç°
     </strong>
    </h3>
    <h4>
     <strong>
      ï¼ˆ1ï¼‰
      <code>
       App.vue
      </code>
      ä»£ç 
     </strong>
    </h4>
    <pre><code class="language-javascript">&lt;!--
 * @Author: å½­éº’
 * @Date: 2025/3/6
 * @Email: 1062470959@qq.com
 * @Description: æ­¤æºç ç‰ˆæƒå½’å‰æª€è¿¦ä¿æ‰€æœ‰ï¼Œå¯ä¾›å­¦ä¹ å’Œå€Ÿé‰´æˆ–å•†ç”¨ã€‚
 --&gt;
&lt;template&gt;
  &lt;div class="container"&gt;
    &lt;div class="w-full flex justify-center flex-wrap"&gt;
      &lt;div class="font-bold text-[24px]"&gt;åœ¨Vue3ä¸­ä½¿ç”¨OpenLayersæ¢ç©¶åŠ è½½ pointã€polygon çš„æé™&lt;/div&gt;
    &lt;/div&gt;
    &lt;h4&gt;
      &lt;el-button type="primary" size="small" @click="showPoint"&gt;æ˜¾ç¤ºç‚¹&lt;/el-button&gt;
      &lt;el-button type="primary" size="small" @click="showPolygon"&gt;æ˜¾ç¤ºå¤šè¾¹å½¢&lt;/el-button&gt;
      &lt;el-button type="primary" size="small" @click="clearLayer"&gt;æ¸…é™¤å›¾å±‚&lt;/el-button&gt;
    &lt;/h4&gt;
    &lt;div id="vue-openlayers"&gt;&lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, onMounted } from 'vue';
import 'ol/ol.css';
import { Map, View } from 'ol';
import TileLayer from 'ol/layer/Tile';
import VectorLayer from 'ol/layer/Vector';
import VectorSource from 'ol/source/Vector';
import OSM from 'ol/source/OSM';
import Feature from 'ol/Feature';
import { Point, Polygon } from 'ol/geom';
import Style from 'ol/style/Style';
import Fill from 'ol/style/Fill';
import Stroke from 'ol/style/Stroke';
import CircleStyle from 'ol/style/Circle';

// **çŠ¶æ€ç®¡ç†**
const map = ref(null);
const dataSource = ref(new VectorSource({ wrapX: false }));

// **åˆå§‹åŒ–åœ°å›¾**
const initMap = () =&gt; {
  const OSM_Layer = new TileLayer({
    source: new OSM(),
  });

  const feature_Layer = new VectorLayer({
    source: dataSource.value,
    style: featureStyle(), // ç»Ÿä¸€è®¾ç½® vector æ ·å¼
  });

  map.value = new Map({
    target: 'vue-openlayers',
    layers: [OSM_Layer, feature_Layer],
    view: new View({
      projection: 'EPSG:4326',
      center: [45, 45],
      zoom: 3,
    }),
  });
};

// **è®¾ç½® vector æ ·å¼**
const featureStyle = () =&gt; {
  return new Style({
    stroke: new Stroke({
      width: 1,
      color: '#0f0',
    }),
    image: new CircleStyle({
      radius: 2,
      fill: new Fill({
        color: '#ff0000',
      }),
    }),
  });
};

// **æ¸…é™¤ vector æ•°æ®æº**
const clearLayer = () =&gt; {
  dataSource.value.clear();
};

// **ç”Ÿæˆéšæœºç‚¹**
const showPoint = () =&gt; {
  for (let i = 0; i &lt; 2000; i++) {
    let a = Math.random() * 100;
    let b = Math.random() * 90;
    let pointFeature = new Feature({
      geometry: new Point([a, b]),
    });
    dataSource.value.addFeature(pointFeature);
  }
};

// **ç”Ÿæˆéšæœºå¤šè¾¹å½¢**
const showPolygon = () =&gt; {
  let data = [];
  for (let i = 0; i &lt; 2000; i++) {
    let a = Math.random() * 180;
    let b = Math.random() * 90;
    data.push([a, b]);
  }
  let arr = data.concat([data[0]]); // é—­åˆå¤šè¾¹å½¢

  let polygonFeature = new Feature({
    geometry: new Polygon([arr]),
  });
  dataSource.value.addFeature(polygonFeature);
};

// **åœ¨ç»„ä»¶æŒ‚è½½ååˆå§‹åŒ–åœ°å›¾**
onMounted(() =&gt; {
  initMap();
});
&lt;/script&gt;

&lt;style scoped&gt;
.container {
  width: 840px;
  height: 570px;
  margin: 50px auto;
  border: 1px solid #42B983;
}

#vue-openlayers {
  width: 800px;
  height: 400px;
  margin: 0 auto;
  border: 1px solid #42B983;
  position: relative;
}
&lt;/style&gt;
</code></pre>
    <hr/>
    <h3>
     <strong>
      6. æ€§èƒ½æµ‹è¯•
     </strong>
    </h3>
    <h4>
     <strong>
      æµ‹è¯• 1ï¼šåŠ è½½ 2000 ä¸ªç‚¹
     </strong>
    </h4>
    <p>
     âœ… åœ°å›¾å¯ä»¥æµç•…æ¸²æŸ“ï¼Œæ— æ˜æ˜¾å¡é¡¿ã€‚
    </p>
    <h4>
     <strong>
      æµ‹è¯• 2ï¼šåŠ è½½ 2000 ä¸ªå¤šè¾¹å½¢
     </strong>
    </h4>
    <p>
     âš ï¸
     <strong>
      å‡ºç°è½»å¾®å¡é¡¿
     </strong>
     ï¼Œè¯´æ˜ OpenLayers åœ¨å¤§è§„æ¨¡é¢æ•°æ®ä¸Šæ¸²æŸ“æ€§èƒ½è¾ƒç‚¹æ•°æ®å·®ã€‚
    </p>
    <h4>
     <strong>
      æµ‹è¯• 3ï¼šåŒæ—¶åŠ è½½ 4000 ä¸ªç‚¹ + 2000 ä¸ªå¤šè¾¹å½¢
     </strong>
    </h4>
    <p>
     âŒ
     <strong>
      é¡µé¢å¼€å§‹å¡é¡¿
     </strong>
     ï¼Œæ€§èƒ½ç“¶é¢ˆæ˜¾ç°ï¼Œå»ºè®®ï¼š
    </p>
    <ul>
     <li>
      <strong>
       ä¼˜åŒ–çŸ¢é‡æ¸²æŸ“
      </strong>
      ï¼ˆä½¿ç”¨ WebGL æ–¹å¼ï¼‰
     </li>
     <li>
      <strong>
       ä½¿ç”¨ Cluster ç‚¹èšåˆ
      </strong>
     </li>
     <li>
      <strong>
       é™ä½å¤æ‚å¤šè¾¹å½¢çš„ç‚¹æ•°
      </strong>
     </li>
    </ul>
    <hr/>
    <h3>
     <strong>
      7. æ€»ç»“
     </strong>
    </h3>
    <p>
     åœ¨ Vue 3 + OpenLayers çš„å¼€å‘ä¸­ï¼š âœ…
     <strong>
      ç‚¹æ•°æ®çš„æ¸²æŸ“æ€§èƒ½è¾ƒå¥½
     </strong>
     ï¼Œå³ä½¿ 2000+ ä¹Ÿä¸ä¼šæ˜æ˜¾å¡é¡¿ã€‚
     <br/>
     âŒ
     <strong>
      å¤šè¾¹å½¢æ•°æ®çš„æ¸²æŸ“æ€§èƒ½è¾ƒå·®
     </strong>
     ï¼Œå¤§é‡å¤æ‚å¤šè¾¹å½¢ä¼šé™ä½ FPSã€‚
    </p>
    <p>
     å¦‚æœè¦è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œå¯ä»¥ï¼š
    </p>
    <ul>
     <li>
      <strong>
       é‡‡ç”¨ WebGL å±‚
      </strong>
     </li>
     <li>
      <strong>
       ä½¿ç”¨ç‚¹èšåˆ
      </strong>
     </li>
     <li>
      <strong>
       å‡å°‘ä¸å¿…è¦çš„çŸ¢é‡å¯¹è±¡
      </strong>
     </li>
    </ul>
    <p>
     ğŸ“Œ
     <strong>
      å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ åœ¨ Vue 3 é¡¹ç›®ä¸­æ›´é«˜æ•ˆåœ°ä½¿ç”¨ OpenLayersï¼
     </strong>
     ğŸš€
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f4d696c6c65723737375f2f:61727469636c652f64657461696c732f313436303630313531" class_="artid" style="display:none">
 </p>
</div>


