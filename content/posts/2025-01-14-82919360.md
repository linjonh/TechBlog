---
arturl_encode: "68747470733a2f:2f626c6f672e6373646e2e6e65742f73643139383731313232:2f61727469636c652f64657461696c732f3832393139333630"
layout: post
title: "å¾®ä¿¡å°ç¨‹åº-éŸ³é¢‘æ’­æ”¾-wx.createInnerAudioContext-æ¯æ¬¡éƒ½æ˜¯é‡å¤æ’­æ”¾åŒä¸€æ¡å½•éŸ³"
date: 2025-01-14 12:07:59 +08:00
description: "è½¬è½½äºhttps://blog.csdn.net/a600849155/article/detail"
keywords: "å°ç¨‹åº inneraudiocontext srcé‡å¤è®¾ç½®"
categories: ['Html']
tags: ['æ— æ ‡ç­¾']
artid: "82919360"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=82919360
    alt: "å¾®ä¿¡å°ç¨‹åº-éŸ³é¢‘æ’­æ”¾-wx.createInnerAudioContext-æ¯æ¬¡éƒ½æ˜¯é‡å¤æ’­æ”¾åŒä¸€æ¡å½•éŸ³"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=82919360
featuredImagePreview: https://bing.ee123.net/img/rand?artid=82919360
---

# å¾®ä¿¡å°ç¨‹åº-éŸ³é¢‘æ’­æ”¾-wx.createInnerAudioContext() æ¯æ¬¡éƒ½æ˜¯é‡å¤æ’­æ”¾åŒä¸€æ¡å½•éŸ³

> æ¯ä¸ªé¡¹ç›®äº§å“éƒ½ä¼šè®©ä½ åŠ åŸ‹ç‚¹ï¼Œä½ æ˜¯æ„¿æ„èŠ±å‡ å¤©ä¸€ä¸ªä¸ªåŠ ï¼Œè¿˜æ˜¯æ„¿æ„å‡ åˆ†é’Ÿä¸€ä¸ªå°æ—¶åŠ å®Œå»å–èŒ¶èŠå¤©ï¼Ÿæ¥è¯•è¯•è¿™520webå·¥å…·, é«˜æ•ˆåŠ åŸ‹ç‚¹ï¼Œç›®å‰æˆ‘ä»¬å…¬å¸100å·å‰ç«¯éƒ½åœ¨ç”¨ï¼Œå› ä¸ºå¾ˆå¥½ç”¨ï¼Œæ‰€ä»¥å¾ˆè‡ªç„¶æ™®åŠå¼€æ¥äº†ï¼Œæ¨èç»™å¤§å®¶å§
>
> <http://www.520webtool.com/>
>
> è‡ªå·±å¼€å‘æ‰€ä»¥å…è´¹ï¼ŒåŸ‹ç‚¹è¶Šå¤šè¶Šèƒ½èŠ‚çº¦æ—¶é—´ï¼Œç‚¹ä¸¤ä¸‹åŸ‹ç‚¹å°±åŠ ä¸Šäº†ï¼Œè¿˜ä¸ä¼šçŠ¯é”™ï¼Œé‡Œé¢æœ‰ä½¿ç”¨è§†é¢‘ï¼Œåæ­£å…è´¹ ğŸ˜„
>
> [http://www.520qiubite.com](http://www.520webtool.com/)

### è½¬è½½äº <https://blog.csdn.net/a600849155/article/details/81356576>

### å‰è¨€

åœ¨è°ƒè¯•å¾®ä¿¡å°ç¨‹åºéŸ³é¢‘æ’­æ”¾æ—¶ï¼Œåˆšå¼€å§‹æˆ‘ä¹Ÿæ˜¯ç›´æ¥å¤åˆ¶å®˜æ–¹æ–‡æ¡£çš„å®ä¾‹ï¼š

```html
Â 
```

1. `const innerAudioContext = wx.createInnerAudioContext()`
2. `innerAudioContext.autoplay = true`
3. `innerAudioContext.src = 'http://ws.stream.qqmusic.qq.com/M500001VfvsJ21xFqb.mp3?guid=ffffffff82def4af4b12b3cd9337d5e7&uin=346897220&vkey=6292F51E1E384E061FF02C31F716658E5C81F5594D561F2E88B854E81CAAB7806D5E4F103E55D33C16F3FAC506D1AB172DE8600B37E43FAD&fromtag=46'`
4. `innerAudioContext.onPlay(() => {`
5. `console.log('å¼€å§‹æ’­æ”¾')`
6. `})`
7. `innerAudioContext.onError((res) => {`
8. `console.log(res.errMsg)`
9. `console.log(res.errCode)`
10. `})`

ç„¶è€Œæ­¤æ—¶å°±å‡ºç°äº†ï¼Œæ— è®ºæŒ‰å¤šå°‘ä¸‹éƒ½æ˜¯é‡å¤æ’­æ”¾åŒä¸€æ¡è¯­éŸ³çš„æƒ…å†µï¼

ä»
<https://blog.csdn.net/qq_39364032/article/details/79742120>
å¾—çŸ¥ï¼Œwx.createInnerAudioContext()è¿™ä¸ªapiæ–°å»ºäº†ä¸€ä¸ªå®ä¾‹ä¹‹åï¼Œéœ€è¦é”€æ¯å®ä¾‹ï¼Œæ‰èƒ½é‡æ–°newä¸€ä¸ªå®ä¾‹ã€‚æ‰€ä»¥ï¼Œæˆ‘åšäº†ä»¥ä¸‹æ”¹åŠ¨ï¼š

```html
Â 
```

1. `const innerAudioContext = wx.createInnerAudioContext()`
2. `innerAudioContext.autoplay = true`
3. `innerAudioContext.src = res.tempFilePath`
4. `innerAudioContext.onPlay(() => {`
5. `console.log('å¼€å§‹æ’­æ”¾')`
7. `})`
8. `innerAudioContext.onStop(() => {`
9. `console.log('i am onStop')`
10. `innerAudioContext.stop()`
11. `//æ’­æ”¾åœæ­¢ï¼Œé”€æ¯è¯¥å®ä¾‹`
12. `innerAudioContext.destroy()`
14. `})`
15. `innerAudioContext.onEnded(() => {`
16. `console.log('i am onEnded')`
17. `//æ’­æ”¾ç»“æŸï¼Œé”€æ¯è¯¥å®ä¾‹`
18. `innerAudioContext.destroy()`
19. `console.log('å·²æ‰§è¡Œdestory()')`
20. `})`
21. `innerAudioContext.onError((res) => {`
22. `console.log(res.errMsg)`
23. `console.log(res.errCode)`
24. `innerAudioContext.destroy()`
25. `})`

### æœ€ç»ˆè§£å†³æ–¹æ¡ˆ

ç„¶è€Œï¼æ— è®ºæˆ‘æ‰§è¡Œå¤šå°‘æ¬¡ï¼Œè¿˜æ˜¯æ’­æ”¾ç¬¬ä¸€æ¡è¯­éŸ³ï¼ä»æˆ‘çš„åå°æ¥çœ‹ï¼Œæ¯æ¬¡è¿”å›çš„è¯­éŸ³æ–‡ä»¶éƒ½æ˜¯ä¸åŒçš„ï¼Œç”šè‡³æˆ‘æŠŠæœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ï¼Œä¹Ÿæ˜¯ä¸åŒçš„ï¼äºæ˜¯æˆ‘å°±æ€€ç–‘å®ƒä¸‹è½½è¿‡ä¸€æ¬¡è¿™ä¸ªåœ°å€å°±ä¸å†ä¸‹è½½äº†ã€‚æ‰€ä»¥æˆ‘åˆæ¢ä¸€ç§å†™æ³•ï¼Œåœ¨ä¸Šé¢åŠ ä¸Šwx.downloadFileè¿™ä¸ªapiã€‚

```html
Â 
```

1. `wx.downloadFile({`
2. `url: 'http://47.106.74.22:8081/voice/download_audio', //ä»…ä¸ºç¤ºä¾‹ï¼Œå¹¶éçœŸå®çš„èµ„æº`
3. `success: function (res) {`
4. `// åªè¦æœåŠ¡å™¨æœ‰å“åº”æ•°æ®ï¼Œå°±ä¼šæŠŠå“åº”å†…å®¹å†™å…¥æ–‡ä»¶å¹¶è¿›å…¥ success å›è°ƒï¼Œä¸šåŠ¡éœ€è¦è‡ªè¡Œåˆ¤æ–­æ˜¯å¦ä¸‹è½½åˆ°äº†æƒ³è¦çš„å†…å®¹`
5. `if (res.statusCode === 200) {`
7. `const innerAudioContext = wx.createInnerAudioContext()`
8. `innerAudioContext.autoplay = true`
9. `innerAudioContext.src = res.tempFilePath`
10. `innerAudioContext.onPlay(() => {`
11. `console.log('å¼€å§‹æ’­æ”¾')`
13. `})`
14. `innerAudioContext.onStop(() => {`
15. `console.log('i am onStop')`
16. `innerAudioContext.stop()`
17. `//æ’­æ”¾åœæ­¢ï¼Œé”€æ¯è¯¥å®ä¾‹`
18. `innerAudioContext.destroy()`
20. `})`
21. `innerAudioContext.onEnded(() => {`
22. `console.log('i am onEnded')`
23. `//æ’­æ”¾ç»“æŸï¼Œé”€æ¯è¯¥å®ä¾‹`
24. `innerAudioContext.destroy()`
25. `console.log('å·²æ‰§è¡Œdestory()')`
26. `})`
27. `innerAudioContext.onError((res) => {`
28. `console.log(res.errMsg)`
29. `console.log(res.errCode)`
30. `innerAudioContext.destroy()`
31. `})`
32. `}`
33. `}`
34. `})`

åˆ°è¿™é‡Œï¼Œç»ˆäºè§£å†³è¿™ä¸ªé—®é¢˜

æ³¨æ„çš„æ˜¯ï¼Œwx.createInnerAudioContext()æ— æ³•æ’­æ”¾wavæ–‡ä»¶ï¼Œäºæ˜¯è¿™é‡Œæˆ‘ç”¨çš„æ˜¯MP3æ–‡ä»¶ã€‚è€Œwx.playVoice(OBJECT)ä¹Ÿæ— æ³•æ’­æ”¾mp3æ–‡ä»¶ã€‚

--------------------- æœ¬æ–‡æ¥è‡ª Himhin çš„CSDN åšå®¢ ï¼Œå…¨æ–‡åœ°å€è¯·ç‚¹å‡»ï¼šhttps://blog.csdn.net/a600849155/article/details/81356576?utm_source=copy