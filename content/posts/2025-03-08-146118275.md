---
layout: post
title: "Qt自定义信号和槽函数"
date: 2025-03-08 16:35:46 +0800
description: "【Qt】自定义信号和槽函数"
keywords: "【Qt】自定义信号和槽函数"
categories: ['Qt']
tags: ['开发语言', 'Qt', 'C', 'C']
artid: "146118275"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146118275
    alt: "Qt自定义信号和槽函数"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146118275
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146118275
cover: https://bing.ee123.net/img/rand?artid=146118275
image: https://bing.ee123.net/img/rand?artid=146118275
img: https://bing.ee123.net/img/rand?artid=146118275
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【Qt】自定义信号和槽函数
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <blockquote>
     <p>
      🏠个人主页：
      <a href="https://blog.csdn.net/2303_79015671?spm=1010.2135.3001.5343">
       Yui_
      </a>
      <br/>
      🍑操作环境：Qt Creator
      <br/>
      🚀所属专栏：
      <a href="https://blog.csdn.net/2303_79015671/category_12903255.html?spm=1001.2014.3001.5482">
       Qt
      </a>
     </p>
    </blockquote>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/b096a84254c34b3a91e31e707365ea1b.png"/>
    </p>
    <p>
    </p>
    <br/>
    在Qt中，允许自定义信号和槽函数。
    <br/>
    其中自定义槽函数是非常频繁的，但是自定义信号函数频率较低，这是由于Qt中内置的信号几乎可以覆盖到用户的操作，简单来说就是用户的操作是可以穷举的。尽管如此，学习自定义的信号函数也是有必要的。
    <br/>
    在下面的文章，我们会先讲解更重要的自定义槽函数再去讲解自定义信号。
    <p>
    </p>
    <h2>
     <a id="1__10">
     </a>
     1. 自定义槽函数
    </h2>
    <h3>
     <a id="11__11">
     </a>
     1.1 基础语法
    </h3>
    <ul>
     <li>
      在早期的Qt版本要求槽函数必须写到
      <code>
       public solts
      </code>
      下，但是在现在的高版本的Qt（Qt5及以上）允许写到类
      <code>
       public
      </code>
      作用域或者全局下。
     </li>
     <li>
      返回值为
      <code>
       void
      </code>
      ，需要声明，也需要实现。
     </li>
     <li>
      可以到参数，可以重载。
      <br/>
      绑定自定义的槽函数有两种方法：
     </li>
    </ul>
    <ol>
     <li>
      通过
      <code>
       connect
      </code>
      函数连接信号。
     </li>
     <li>
      通过函数名字的方式来自动连接。
      <br/>
      下面会详细的演示这两种方法。
     </li>
    </ol>
    <h3>
     <a id="12_connect_19">
     </a>
     1.2 使用
     <code>
      connect
     </code>
     连接信号
    </h3>
    <p>
     这种方式在之前的文章就已经有所涉及了。
     <br/>
     关于
     <code>
      connect
     </code>
     函数的介绍可以看这篇文章
     <a href="https://blog.csdn.net/2303_79015671/article/details/145952384?spm=1001.2014.3001.5501">
      【Qt-信号与槽】connect函数的用法-CSDN博客
     </a>
    </p>
    <pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"widget.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_widget.h"</span></span>

<span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token function">Widget</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token function">QWidget</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
    <span class="token punctuation">,</span> <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>Widget<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    ui<span class="token operator">-&gt;</span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    button <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QPushButton</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    button<span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"我是一个按钮~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    button<span class="token operator">-&gt;</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 移动位置到（100，100）像素</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>button<span class="token punctuation">,</span><span class="token operator">&amp;</span>QPushButton<span class="token double-colon punctuation">::</span>clicked<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>Widget<span class="token double-colon punctuation">::</span>handle<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">Widget</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    button<span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"被点击了~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
    <p>
     头文件：
    </p>
    <pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">WIDGET_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">WIDGET_H</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QWidget&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QPushButton&gt;</span></span>
QT_BEGIN_NAMESPACE
<span class="token keyword">namespace</span> Ui <span class="token punctuation">{<!-- --></span> <span class="token keyword">class</span> <span class="token class-name">Widget</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
QT_END_NAMESPACE

<span class="token keyword">class</span> <span class="token class-name">Widget</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QWidget</span></span>
<span class="token punctuation">{<!-- --></span>
    Q_OBJECT

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">Widget</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">~</span><span class="token function">Widget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> slots<span class="token operator">:</span><span class="token comment">//可以不写</span>
    <span class="token keyword">void</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">private</span><span class="token operator">:</span>
    Ui<span class="token double-colon punctuation">::</span>Widget <span class="token operator">*</span>ui<span class="token punctuation">;</span>
    QPushButton<span class="token operator">*</span> button<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// WIDGET_H</span></span>
</code></pre>
    <p>
     运行效果：
    </p>
    <p>
     <img alt="sinal_1.gif" src="https://i-blog.csdnimg.cn/img_convert/e89ed1a2fa83b568ffc8f2ff18ff1240.gif"/>
    </p>
    <h3>
     <a id="13__82">
     </a>
     1.3 使用函数名字的方式来自动连接
    </h3>
    <p>
     双击fromfile中的ui文件
     <br/>
     <img alt="image.png" src="https://i-blog.csdnimg.cn/img_convert/2323b44e13254c0e7652e01766ddfad4.png">
      <br/>
      进入图形化构建的界面。
      <br/>
      拖动
      <code>
       PushButton
      </code>
      控件到中间的界面，右键控件点击转到槽。
      <br/>
      <img alt="image.png" src="https://i-blog.csdnimg.cn/img_convert/a13a207109021cf0474e5ad70ff1e361.png">
       <br/>
       然后再点击箭头所☞的内容。
       <br/>
       <img alt="image.png" src="https://i-blog.csdnimg.cn/img_convert/48c392e8d641b6fa1014d4bf52e8549d.png">
        <br/>
        点吉ok后，回到主界面，可以看到这样的界面
        <br/>
        <img alt="image.png" src="https://i-blog.csdnimg.cn/img_convert/6fee9f33480962ed2bc22916e17f0544.png"/>
       </img>
      </img>
     </img>
    </p>
    <p>
     这个就是系统自动生成的槽函数，有个这个槽函数我们就不要在显示的写
     <code>
      connect
     </code>
     函数，下面看演示：
    </p>
    <pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"widget.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_widget.h"</span></span>

<span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token function">Widget</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token function">QWidget</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
    <span class="token punctuation">,</span> <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>Widget<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    ui<span class="token operator">-&gt;</span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">Widget</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">void</span> <span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token function">on_pushButton_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    ui<span class="token operator">-&gt;</span>pushButton<span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"被点击了~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
    <pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">WIDGET_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">WIDGET_H</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QWidget&gt;</span></span>

QT_BEGIN_NAMESPACE
<span class="token keyword">namespace</span> Ui <span class="token punctuation">{<!-- --></span> <span class="token keyword">class</span> <span class="token class-name">Widget</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
QT_END_NAMESPACE

<span class="token keyword">class</span> <span class="token class-name">Widget</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QWidget</span></span>
<span class="token punctuation">{<!-- --></span>
    Q_OBJECT

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">Widget</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">~</span><span class="token function">Widget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">private</span> slots<span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">on_pushButton_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    Ui<span class="token double-colon punctuation">::</span>Widget <span class="token operator">*</span>ui<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// WIDGET_H</span></span>

</code></pre>
    <p>
     <img alt="signal_2.gif" src="https://i-blog.csdnimg.cn/img_convert/85eea0eb80f203b55312f767fcb6a67a.gif"/>
    </p>
    <p>
     有人有疑问吗？为什么不用
     <code>
      connect
     </code>
     就可以关联信号的槽？
     <br/>
     其实也不是没有，只是Qt也自动生成了，而且还有格式要求，打开
     <code>
      widget.ui
     </code>
     文件，
     <br/>
     不知道怎么打开的话看这篇文章：
     <a href="https://blog.csdn.net/2303_79015671/article/details/145855008?spm=1001.2014.3001.5501">
      【Qt】初始项目代码解释-CSDN博客
     </a>
     的目录5
     <br/>
     <code>
      widget.ui
     </code>
     :
     <br/>
     <img alt="image.png" src="https://i-blog.csdnimg.cn/img_convert/e7e84dca88336696ca082decc780b54c.png">
      <br/>
      在这个自动生成的文件中，可以看到一个类似于
      <code>
       connect
      </code>
      的函数。Qt在调用自动生成的槽函数时就会调用这个函数。
      <br/>
      所有这自动生成的槽函数的名字也是有严格的要求的，一下是要求：
      <br/>
      命名规则
      <code>
       on_xxx_sss
      </code>
     </img>
    </p>
    <ol>
     <li>
      以
      <code>
       on
      </code>
      开头，中间使用下滑线连接起来。
     </li>
     <li>
      <code>
       xxx
      </code>
      表示的是对象名，控件的objectName属性。
     </li>
     <li>
      <code>
       SSS
      </code>
      表示的对应的信号
      <br/>
      注意：
      <br/>
      如果我们通过图形化界面场景控件的话，就推荐这种快速的方式连接函数和槽。
      <br/>
      如果我们是通过代码的方式创建的控件，还是推荐手动的写
      <code>
       connect
      </code>
      .（你的代码中也没有
      <code>
       connectSlotByName
      </code>
      ）
     </li>
    </ol>
    <h2>
     <a id="2_161">
     </a>
     2.自定义信号函数
    </h2>
    <p>
     <strong>
      基础语法
     </strong>
    </p>
    <ol>
     <li>
      自定义信号函数必须写到
      <code>
       signals
      </code>
      下。
     </li>
     <li>
      返回值为
      <code>
       void
      </code>
      ，只需要声明，不需要实现。
     </li>
     <li>
      可以有参数，也可以发生重载。
     </li>
    </ol>
    <p>
     自定义信号函数的本质也就是一个特殊函数而已，这是真的，下面我们会开始演示。
    </p>
    <pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"widget.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_widget.h"</span></span>

<span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token function">Widget</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token function">QWidget</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
    <span class="token punctuation">,</span> <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>Widget<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    ui<span class="token operator">-&gt;</span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>Widget<span class="token double-colon punctuation">::</span>mySignal<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>Widget<span class="token double-colon punctuation">::</span>handle<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//emit mySignal(); </span>

<span class="token punctuation">}</span>

<span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">Widget</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">"自定义信号喵~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
    <pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">WIDGET_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">WIDGET_H</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QWidget&gt;</span></span>


QT_BEGIN_NAMESPACE
<span class="token keyword">namespace</span> Ui <span class="token punctuation">{<!-- --></span> <span class="token keyword">class</span> <span class="token class-name">Widget</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
QT_END_NAMESPACE

<span class="token keyword">class</span> <span class="token class-name">Widget</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QWidget</span></span>
<span class="token punctuation">{<!-- --></span>
    Q_OBJECT

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">Widget</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">~</span><span class="token function">Widget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
signals<span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">mySignal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> slots<span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    Ui<span class="token double-colon punctuation">::</span>Widget <span class="token operator">*</span>ui<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// WIDGET_H</span></span>

</code></pre>
    <p>
     <img alt="image.png" src="https://i-blog.csdnimg.cn/img_convert/6aec644e27455e0657d626fa93542efc.png"/>
    </p>
    <p>
     运行后发现什么变化都没有呢，这是因为我们没有调用啊。
     <br/>
     我们把注释放开
    </p>
    <pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"widget.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_widget.h"</span></span>

<span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token function">Widget</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token function">QWidget</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
    <span class="token punctuation">,</span> <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>Widget<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    ui<span class="token operator">-&gt;</span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>Widget<span class="token double-colon punctuation">::</span>mySignal<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>Widget<span class="token double-colon punctuation">::</span>handle<span class="token punctuation">)</span><span class="token punctuation">;</span>
    emit <span class="token function">mySignal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token punctuation">}</span>

<span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">Widget</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">"自定义信号喵~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
    <p>
     <img alt="image.png" src="https://i-blog.csdnimg.cn/img_convert/ee343bd190a6d700adc88c94994b427a.png"/>
    </p>
    <p>
     这样就成功发出信号了，这个信号是不是就相当于函数，调用这个信号就是发出信号。
     <br/>
     再修改修改代码
    </p>
    <pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"widget.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_widget.h"</span></span>

<span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token function">Widget</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token function">QWidget</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
    <span class="token punctuation">,</span> <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>Widget<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    ui<span class="token operator">-&gt;</span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>Widget<span class="token double-colon punctuation">::</span>mySignal<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>Widget<span class="token double-colon punctuation">::</span>handle<span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token punctuation">}</span>

<span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">Widget</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">"自定义信号喵~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">void</span> <span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token function">on_pushButton_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    emit <span class="token function">mySignal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
    <p>
     <img alt="signal_4.gif" src="https://i-blog.csdnimg.cn/img_convert/afa585fa8b1fe353fc8fb38b9fde5975.gif"/>
    </p>
    <h2>
     <a id="3_290">
     </a>
     3.知识补充
    </h2>
    <h3>
     <a id="31_signalsslots_291">
     </a>
     3.1 signals和slots
    </h3>
    <p>
     无论是
     <code>
      signals
     </code>
     还是
     <code>
      slots
     </code>
     都是Qt字节扩展出来的关键字，不是C+标准中的语法。
     <br/>
     除此之外Qt里还大量的使用了元编程的技术（根据代码生成代码）
     <br/>
     qmake在构建Qt项目的时候，就会调用专门的扫描器，扫描代码中的关键字，基于关键字自动生成一大堆相关的代码。
    </p>
    <h3>
     <a id="32_emit_295">
     </a>
     3.2 emit
    </h3>
    <p>
     emit也就是发射的意思，作用是发出信号，emit是一个空的宏，emit是可选的，不加也不会影响自定义信号函数的发生。
     <br/>
     即便如此，在实际的开发中，还是建议大家，把emit加上，这样的话可读性会变高~
    </p>
    <h2>
     <a id="4__299">
     </a>
     4. 总结
    </h2>
    <p>
     在Qt中，允许自定义信号和槽函数。
     <br/>
     自定义槽函数在实际的开发中使用是非常频繁的，不可能不学，自定义信号函数尽管在实际的开发中使用不多，但是还是不得不学啊。
     <br/>
     希望本文对你理解自定义信号和槽函数有帮助~
    </p>
    <hr/>
    <p>
     往期文章：
     <br/>
     <a href="https://blog.csdn.net/2303_79015671/article/details/145855008">
      【Qt】初始项目代码解释-CSDN博客
     </a>
     <br/>
     <a href="https://blog.csdn.net/2303_79015671/article/details/145881986">
      【Qt】HelloWorld程序-CSDN博客
     </a>
     <br/>
     <a href="https://blog.csdn.net/2303_79015671/article/details/145952384?spm=1001.2014.3001.5501">
      【Qt-信号与槽】connect函数的用法-CSDN博客
     </a>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-vote-box" id="blogVoteBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330335f37393031353637312f:61727469636c652f64657461696c732f313436313138323735" class_="artid" style="display:none">
 </p>
</div>


