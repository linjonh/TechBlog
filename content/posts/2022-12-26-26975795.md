---
layout: post
title: "嵌入式系统-概述ARM指令"
date: 2022-12-26 10:17:37 +0800
description: "嵌入式系统原理与设计嵌入式系统是以应用为中心，以计算机技术为基础，采用可裁剪软硬件，适用于对功能、可"
keywords: "嵌入书中sub什么意思"
categories: ['其他']
tags: ['无标签']
artid: "26975795"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=26975795
    alt: "嵌入式系统-概述ARM指令"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=26975795
featuredImagePreview: https://bing.ee123.net/img/rand?artid=26975795
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     嵌入式系统-概述+ARM指令
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2 align="center" class="p0" style="margin-top:0pt; margin-bottom:0pt">
     嵌入式系统-概述+ARM指令
    </h2>
    <p class="p0" style="margin-top:0pt; margin-bottom:0pt">
     <span style="font-family:'宋体'; font-size:10.5pt">
      嵌入式系统是以应用为中心，以计算机技术为基础，采用可裁剪软硬件，适用于对功能、可靠性、成本、体积、功耗等有严格要求的专用计算机系统。它一般由嵌入式微处理器、外围硬件设备、嵌入式操作系统及用户应用程序四部分组成。
     </span>
     <span style="font-family:'宋体'; font-size:10.5pt">
     </span>
    </p>
    <p class="p0" style="margin-top:0pt; margin-bottom:0pt">
     <span style="font-family:'宋体'; font-size:10.5pt">
      简单说，网吧里的电脑是通用计算机，而
      <span style="font-family:Times New Roman">
       mp3
      </span>
      <span style="font-family:宋体">
       、豆浆机等内含的都有嵌入式系统。嵌入式系统的特点是功耗低、体积小、成本低。
      </span>
     </span>
     <span style="font-family:'宋体'; font-size:10.5pt">
     </span>
    </p>
    <p class="p0" style="margin-top:0pt; margin-bottom:0pt">
     <span style="font-family:'宋体'; font-size:10.5pt">
      ARM
      <span style="font-family:宋体">
       微处理器是主流的嵌入式处理器。
      </span>
     </span>
     <span style="font-family:'宋体'; font-size:10.5pt">
     </span>
    </p>
    <p class="p0" style="margin-top:0pt; margin-bottom:0pt">
     <span style="font-family:'宋体'; font-size:10.5pt">
      嵌入式操作系统有：
      <span style="font-family:Times New Roman">
       Windows CE
      </span>
      <span style="font-family:宋体">
       、
      </span>
      <span style="font-family:Times New Roman">
       Android
      </span>
      <span style="font-family:宋体">
       、
      </span>
      <span style="font-family:Times New Roman">
       VxWorks
      </span>
      <span style="font-family:宋体">
       等。
      </span>
     </span>
    </p>
    <span style="font-family:'宋体'; font-size:10.5pt">
    </span>
    <p>
     ARM
     <span style="font-family:宋体">
      的全称是
     </span>
     <span style="font-family:Times New Roman">
      Advanced RISC Machine
     </span>
     <span style="font-family:宋体">
      。
     </span>
    </p>
    <p>
     RISC
     <span style="font-family:宋体">
      ，
     </span>
     <span style="font-family:Times New Roman">
      Reduced Instruction Set Computer
     </span>
     <span style="font-family:宋体">
      ，精简指令集计算机，与之相对的是
     </span>
     <span style="font-family:Times New Roman">
      Complex ISC
     </span>
     <span style="font-family:宋体">
      。前者因指令集简单，所以硬件电路简单，故价格低。
     </span>
    </p>
    <p>
     ARM
     <span style="font-family:宋体">
      处理器支持两种指令集：
     </span>
     <span style="font-family:Times New Roman">
      ARM
     </span>
     <span style="font-family:宋体">
      指令集（
     </span>
     <span style="font-family:Times New Roman">
      32
     </span>
     <span style="font-family:宋体">
      位）、
     </span>
     <span style="font-family:Times New Roman">
      Thumb
     </span>
     <span style="font-family:宋体">
      指令集
     </span>
     <span style="font-family:Times New Roman">
      (16
     </span>
     <span style="font-family:宋体">
      位
     </span>
     <span style="font-family:Times New Roman">
      )
     </span>
     <span style="font-family:宋体">
      。对应相应两种状态。
     </span>
    </p>
    <p>
     操作数寄存器的状态位（位
     <span style="font-family:Times New Roman">
      0
     </span>
     <span style="font-family:宋体">
      ）为
     </span>
     <span style="font-family:Times New Roman">
      1
     </span>
     <span style="font-family:宋体">
      时，可以采用执行
     </span>
     <span style="font-family:Times New Roman">
      BX
     </span>
     <span style="font-family:宋体">
      指令的方法，使微处理器从
     </span>
     <span style="font-family:Times New Roman">
      ARM
     </span>
     <span style="font-family:宋体">
      状态切换到
     </span>
     <span style="font-family:Times New Roman">
      Thumb
     </span>
     <span style="font-family:宋体">
      状态。
     </span>
    </p>
    <p>
     ARM
     <span style="font-family:宋体">
      有用户模式和特权模式。
     </span>
    </p>
    <p>
     异常：
     <span style="font-family:Times New Roman">
      Exception
     </span>
     <span style="font-family:宋体">
      。原有流程被打断，转而执行新的流程叫异常。例如处理一个外部的中断请求。在处理异常之前，当前处理器的状态必须保留，这样当异常处理完成之后，当前程序可以继续执行。
     </span>
    </p>
    <h3>
     ARM的数据存储
    </h3>
    <span style="font-family:'宋体'; font-size:10.5pt">
    </span>
    <p>
     ARM
     <span style="font-family:宋体">
      有：
     </span>
    </p>
    <p>
     31
     <span style="font-family:宋体">
      个通用寄存器，均为
     </span>
     <span style="font-family:Times New Roman">
      32
     </span>
     <span style="font-family:宋体">
      位的寄存器；具体有三类——未分组寄存器
     </span>
     <span style="font-family:Times New Roman">
      R0
     </span>
     <span style="font-family:宋体">
      ～
     </span>
     <span style="font-family:Times New Roman">
      R7
     </span>
     <span style="font-family:宋体">
      ，分组寄存器
     </span>
     <span style="font-family:Times New Roman">
      R8
     </span>
     <span style="font-family:宋体">
      ～
     </span>
     <span style="font-family:Times New Roman">
      R14
     </span>
     <span style="font-family:宋体">
      ，程序计数器
     </span>
     <span style="font-family:Times New Roman">
      PC(R15)
     </span>
     <span style="font-family:宋体">
      。
     </span>
    </p>
    <p>
     R13
     <span style="font-family:宋体">
      在
     </span>
     <span style="font-family:Times New Roman">
      ARM
     </span>
     <span style="font-family:宋体">
      指令中常用作堆栈指针，但这只是一种习惯用法，用户也可使用其他的寄存器作为堆栈指针。
     </span>
    </p>
    <p>
     6
     <span style="font-family:宋体">
      个状态寄存器，用以标识
     </span>
     <span style="font-family:Times New Roman">
      CPU
     </span>
     <span style="font-family:宋体">
      的工作状态及程序的运行状态，均为
     </span>
     <span style="font-family:Times New Roman">
      32
     </span>
     <span style="font-family:宋体">
      位。
     </span>
    </p>
    <p>
     寻址空间为
     <span style="font-family:Times New Roman">
      4G
     </span>
     <span style="font-family:宋体">
      。
     </span>
    </p>
    <p>
     数据存储有小端模式——低地址存储数据的高位和大端模式——低地址存储数据的低位。
    </p>
    <p>
     ARM
     <span style="font-family:宋体">
      微处理器中支持字节（
     </span>
     <span style="font-family:Times New Roman">
      8
     </span>
     <span style="font-family:宋体">
      位）、半字（
     </span>
     <span style="font-family:Times New Roman">
      16
     </span>
     <span style="font-family:宋体">
      位）、字（
     </span>
     <span style="font-family:Times New Roman">
      32
     </span>
     <span style="font-family:宋体">
      位）三种数据类型，其中，字需要
     </span>
     <span style="font-family:Times New Roman">
      4
     </span>
     <span style="font-family:宋体">
      字节对齐（地址的低两位为
     </span>
     <span style="font-family:Times New Roman">
      0
     </span>
     <span style="font-family:宋体">
      ）、半字需要
     </span>
     <span style="font-family:Times New Roman">
      2
     </span>
     <span style="font-family:宋体">
      字节对齐（地址的最低位为
     </span>
     <span style="font-family:Times New Roman">
      0
     </span>
     <span style="font-family:宋体">
      ）
     </span>
    </p>
    <h3>
     ARM的寻址
    </h3>
    <p>
     1.立即数寻址；
    </p>
    <p>
     其实并不需要真正的寻址，操作数已经在指令中了。立即数一般以‘
     <span style="font-family:Times New Roman">
      #
     </span>
     <span style="font-family:宋体">
      ’为前缀。
     </span>
    </p>
    <p>
     2.寄存器寻址；
    </p>
    <p>
     操作数在寄存器中，不需访问存储器。
    </p>
    <p>
     3.寄存器移位寻址；
    </p>
    <p>
     add r1,r1,r2,ror #0x2;         ;r2
     <span style="font-family:宋体">
      循环右移两位后与
     </span>
     <span style="font-family:Times New Roman">
      r1
     </span>
     <span style="font-family:宋体">
      相加，结果放入
     </span>
     <span style="font-family:Times New Roman">
      r1
     </span>
     <span style="font-family:宋体">
      中。
     </span>
    </p>
    <p>
     4.寄存器间接寻址；
    </p>
    <p>
     此时寄存器中存储的是地址。
    </p>
    <p>
     str r1,[r2]       ;
     <span style="font-family:宋体">
      将
     </span>
     <span style="font-family:Times New Roman">
      r1
     </span>
     <span style="font-family:宋体">
      的值存入
     </span>
     <span style="font-family:Times New Roman">
      r2
     </span>
     <span style="font-family:宋体">
      所指地址的存储器中
     </span>
    </p>
    <p>
     5.基址变址寻址；
    </p>
    <p>
    </p>
    <p>
     6.多寄存器寻址；
    </p>
    <p>
     ldmia r0,{r1,r2,r3,r4,r5};r0-&gt;r1,r0+4-&gt;r2,...,r0+16-&gt;r5
    </p>
    <p>
     7.堆栈寻址；
    </p>
    <p>
     栈是一种后进先出的数据结构。栈指针始终指向栈顶，这个寄存器一般是
     <span style="font-family:Times New Roman">
      R13.
     </span>
    </p>
    <p>
     8.
     <span style="font-family:宋体">
      相对寻址；
     </span>
    </p>
    <p>
    </p>
    <h3 class="p0" style="margin-top:0pt; margin-bottom:0pt">
     RAM指令简介
    </h3>
    <p class="p0" style="margin-top:0pt; margin-bottom:0pt">
    </p>
    <p>
     load/store
     <span style="font-family:宋体">
      ——从存储器中读某个值
     </span>
     <span style="font-family:Times New Roman">
      ,
     </span>
     <span style="font-family:宋体">
      操作完后再将其放回存储器中
     </span>
    </p>
    <p>
     ARM
     <span style="font-family:宋体">
      指令的一般格式见下：
     </span>
    </p>
    <p>
     &lt;opcode&gt; {&lt;cond&gt;} {S}    &lt;Rd&gt; ,&lt;Rn&gt;{,&lt;operand2&gt;}
    </p>
    <p>
     &lt;&gt;
     <span style="font-family:宋体">
      表示必须；
     </span>
     <span style="font-family:Times New Roman">
      {}
     </span>
     <span style="font-family:宋体">
      表示可选。
     </span>
    </p>
    <p>
     Rd
     <span style="font-family:宋体">
      ：目标寄存器；
     </span>
     Rn
     <span style="font-family:宋体">
      ：第
     </span>
     <span style="font-family:Times New Roman">
      1
     </span>
     <span style="font-family:宋体">
      个操作数的寄存器；
     </span>
    </p>
    <p>
     <span style="font-family:宋体">
     </span>
    </p>
    <p>
     1.跳转指令
    </p>
    <p>
     将程序计数器
     <span style="font-family:Times New Roman">
      PC
     </span>
     <span style="font-family:宋体">
      的值改写为跳转目的地址。
     </span>
     <span style="font-family:Times New Roman">
      mov PC,#immediate
     </span>
    </p>
    <p>
     B (Branch)
    </p>
    <p>
     基本跳转指令。
     <span style="font-family:Times New Roman">
      B{condition},Label1
     </span>
    </p>
    <p>
     BL(Branch with Link)
    </p>
    <p>
     带连接的跳转指令。在跳转之前，会先将下一条要执行的指令地址放到
     <span style="font-family:Times New Roman">
      R14
     </span>
     <span style="font-family:宋体">
      中，一般用于函数调用。
     </span>
    </p>
    <p>
     BX(Branch and eXchange)
    </p>
    <p>
     用于
     <span style="font-family:Times New Roman">
      ARM
     </span>
     <span style="font-family:宋体">
      和
     </span>
     <span style="font-family:Times New Roman">
      Thumb
     </span>
     <span style="font-family:宋体">
      状态间的转换。
     </span>
    </p>
    <p>
     2.mov
    </p>
    <p>
     MOV   Rd,operand2 ；数据传送，
     <span style="font-family:Times New Roman">
      Rd
     </span>
     <span style="font-family:宋体">
      ←
     </span>
     <span style="font-family:Times New Roman">
      operand2
     </span>
    </p>
    <p>
     3.add adc
    </p>
    <p>
     ADD     R1,R1,R2,LSL #2       ;R1=R1+R2&lt;&lt;2
    </p>
    <p>
     4.sub sbc
    </p>
    <p>
     SUBS R0,R0,#240 ;R0=R0-240
     <span style="font-family:宋体">
      ，并影响标志位
     </span>
    </p>
    <p>
     5.and orr
    </p>
    <p>
     分别是
     <span style="font-family:Times New Roman">
      c++
     </span>
     <span style="font-family:宋体">
      中的
     </span>
     <span style="font-family:Times New Roman">
      &amp;&amp; ||
     </span>
    </p>
    <p>
     6.cmp
    </p>
    <p>
     cmp  Rn
     <span style="font-family:宋体">
      ，
     </span>
     <span style="font-family:Times New Roman">
      Operand2
     </span>
     <span style="font-family:宋体">
      将
     </span>
     <span style="font-family:Times New Roman">
      Rn
     </span>
     <span style="font-family:宋体">
      寄存器的值减去
     </span>
     <span style="font-family:Times New Roman">
      operand2
     </span>
     <span style="font-family:宋体">
      的值，除了最后的计算结果被丢弃外，整个过程和
     </span>
     <span style="font-family:Times New Roman">
      subs
     </span>
     <span style="font-family:宋体">
      相同。
     </span>
    </p>
    <p>
     7.mul
    </p>
    <p>
     乘法指令
    </p>
    <p>
    </p>
    <h3>
     ARM开发IDE
    </h3>
    <p>
     ADS(ARM Developer Suite),是在1993年由Metrowerks公司开发是ARM处理器下最主要的开发工具。
     <br/>
    </p>
    <p>
     <img alt="" src="https://img-blog.csdn.net/20140526202927671"/>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470:733a2f2f626c6f672e6373646e2e6e65742f63687563687573:2f61727469636c652f64657461696c732f3236393735373935" class_="artid" style="display:none">
 </p>
</div>


