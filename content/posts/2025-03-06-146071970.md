---
layout: post
title: "C语言学习笔记week22-24-3-2"
date: 2025-03-06 15:33:16 +0800
description: "如果待切割的字符串里有多个分割符，则调用一次该函数，会将从左边数第一个分隔符变成’\\0’，并且每一次调用该函数会存下来这次操作到的位置，下一次在调用的时候，会直接从这个位置开始向后寻找下一个分隔符。（对于无符号整数来说，是没有负数的，如果一个负数被转变为无符号整数，会直接将这个负数的补码看作一个无符号整数，也就是会变成一个很大的正数（因为负数首位符号位是1））在传递时，如果传递的是“abc”，直接传递这样的常量字符串，也是可以使用char*的指针接收的。比较的不是长度，是对应字符的ASCII码的大小。"
keywords: "C语言学习笔记（week2）2-24 3-2"
categories: ['每周笔记']
tags: ['笔记', '学习', 'C']
artid: "146071970"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146071970
    alt: "C语言学习笔记week22-24-3-2"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146071970
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146071970
cover: https://bing.ee123.net/img/rand?artid=146071970
image: https://bing.ee123.net/img/rand?artid=146071970
img: https://bing.ee123.net/img/rand?artid=146071970
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     C语言学习笔记（week2）2-24 3-2
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h5>
     <a id="22__0">
     </a>
     22 数组指针变量
    </h5>
    <ul>
     <li>
      <p>
       指向整个数组的指针
      </p>
     </li>
     <li>
      <p>
       <code>
        int(*p)[5]
       </code>
       其中（*p）说明p是一个指针变量，[5]说明p指向的是一整个数组，5代表元素个数，int 代表指向这个数组里边存放的元素的数据类型
      </p>
     </li>
     <li>
      <pre><code class="prism language-c"><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
     </li>
     <li>
      <p>
       对于数组指针，如果想访问数组里的每一个元素，需要像上述代码一样（即*p相当与数组名）
      </p>
     </li>
    </ul>
    <h5>
     <a id="23__17">
     </a>
     23 二维数组传参
    </h5>
    <ul>
     <li>
      <p>
       对于二维数组本质的理解：
       <strong>
        二维数组的每一行其实都是一个一维数组，也就是说二维数组可以理解成是一个一维数组的数组，二维数组的每一个元素都是一个一维数组，二维数组的数组名是首元素的地址，也就是第一行的地址（就是这个一维数组的地址）
       </strong>
      </p>
      <pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">my_print2</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token operator">*</span>arr<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> l<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> r<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token function">my_print2</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
     </li>
     <li>
      <p>
       对于
       <code>
        p[i][j]
       </code>
       来说，相当于
       <code>
        *( *(p+i)+j )
       </code>
      </p>
     </li>
    </ul>
    <h5>
     <a id="24__40">
     </a>
     24 函数指针变量
    </h5>
    <ul>
     <li>
      指向函数的指针，存放的是函数的地址。（函数也是有地址的，函数名就是函数的地址，并且&amp;Add与Add没有任何区别，都是函数的地址）
     </li>
     <li>
      基本格式
      <code>
       int (*p)(int, int) = &amp;Add
      </code>
      (*p)说明是指针，（int,int）是函数参数，说明指向的是一个函数，int是函数的返回值类型
     </li>
     <li>
      基本用法
      <code>
       int res = (*p)(1, 3)
      </code>
      对指针解引用就相当于得到了函数名。
      <code>
       int res = p(1, 5);
      </code>
      其实也可以，也就是可以直接用函数地址来进行调用，但推荐使用第一种，易于理解
     </li>
     <li>
      <code>
       (* ( void(*) ( ) ) 0 ) ()
      </code>
      对于这个代码的理解：
      <code>
       void(*)()
      </code>
      是一种函数指针类型，它指向的函数没有参数，返回值为void
      <code>
       (void(*)())0
      </code>
      在括号里边放类型是强制类型转化，也就是将0这个int类型的数据转变为一个函数指针类型（也就是将0看作一个地址）
      <code>
       *(void (*)())0
      </code>
      相当于对一个函数指针解引用，得到的是一个函数名
      <code>
       (* ( void(*) ( ) ) 0 ) ()
      </code>
      相当于调用这个函数 整个表达式的目的就是调用地址为0处的函数
     </li>
    </ul>
    <h5>
     <a id="25_typedef_47">
     </a>
     25 typedef关键字
    </h5>
    <ul>
     <li>
      可以给类型重命名
     </li>
     <li>
      格式：
      <code>
       typedef long long int LL;
      </code>
     </li>
     <li>
      在连续创建多个指针变量时，应写为
      <code>
       int* p1,*p2
      </code>
      ，每个指针变量都有自己的*。
     </li>
     <li>
      对于函数指针重命名的时候，应该
      <code>
       typedef void (*Pt)(int) ;
      </code>
      只能把重命名的名字（Pt）写到里边
     </li>
    </ul>
    <h5>
     <a id="26__54">
     </a>
     26 函数指针数组
    </h5>
    <ul>
     <li>
      <p>
       一个数组里面存放的元素都是函数指针。
      </p>
     </li>
     <li>
      <p>
       格式：
       <code>
        int (*arr[4])(int,int)={Add,Sub};
       </code>
       其中Add，Sub都是函数名称。其实写作
       <code>
        int (*)(int,int) arr[4] ={Add,Sub};
       </code>
       更容易接受，但语法规定
      </p>
     </li>
     <li>
      <p>
       注意，只有多个函数有相同的返回值类型，以及相同的参数类型的时候，多个函数名才能放入同一个函数指针数组里面。
      </p>
     </li>
     <li>
      <p>
       应用：转移表(可以大大简化代码，可以起到跳转的作用)
      </p>
     </li>
    </ul>
    <pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"********************\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"1.add       2.sub\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"3.mul       4.div\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"     0.exit\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"********************\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> x<span class="token operator">+</span>y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">sub</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> x <span class="token operator">-</span>y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">mul</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> x<span class="token operator">*</span>y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">div</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> x<span class="token operator">/</span>y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> input <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token operator">*</span>parr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token constant">NULL</span><span class="token punctuation">,</span>add<span class="token punctuation">,</span>sub<span class="token punctuation">,</span>mul<span class="token punctuation">,</span>div <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">do</span> <span class="token punctuation">{<!-- --></span>
		<span class="token function">menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请选择一个数字\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>input <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"退出程序\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>input <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> input <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入两个操作数："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>
			<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">int</span> res<span class="token operator">=</span><span class="token punctuation">(</span>parr<span class="token punctuation">[</span>input<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"res=%d\n"</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请重新输入\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <h5>
     <a id="27__109">
     </a>
     27 回调函数
    </h5>
    <ul>
     <li>
      <p>
       回调函数是指通过函数指针而被间接调用的函数。相当于将某一个函数作为参数在函数间进行传递。（在某些时候可以大大简化代码）
      </p>
     </li>
     <li>
      <p>
       qsort函数的使用技巧（回调函数的例子，可以对任何数据类型进行排序）
      </p>
     </li>
     <li>
      <ul>
       <li>
        <p>
         <code>
          void qsort(void *base, size_t num, size_t size, int (*cmp)(const void *, const void *));
         </code>
         其中
         <code>
          base
         </code>
         指向待排序数组，
         <code>
          num
         </code>
         待排序数组元素个数，
         <code>
          size
         </code>
         待排序数组中每个元素所占内存的大小（单位字节），
         <code>
          cmp
         </code>
         是一个函数指针，指向一个函数，这个函数可以用来比较base数组里任意两个元素的大小。
        </p>
       </li>
       <li>
        <pre><code class="prism language-c">比较两个整数
<span class="token keyword">int</span> <span class="token function">cmp_int</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">*</span> p1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">*</span> p2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span>p1 <span class="token operator">-</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span>p2<span class="token punctuation">;</span>    
<span class="token punctuation">}</span>	<span class="token comment">//因为void*不能直接解引用，所以必须先进行强制类型转化</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> sz <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">qsort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> sz<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> cmp_int<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
       </li>
      </ul>
     </li>
     <li>
      <ul>
       <li>
        <pre><code class="prism language-c">比较两个结构体
<span class="token keyword">struct</span> <span class="token class-name">Stu</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">cmp_struct</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">*</span>p1<span class="token punctuation">,</span><span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">*</span>p2<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span>  <span class="token function">strcmp</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">Stu</span><span class="token operator">*</span><span class="token punctuation">)</span>p1<span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">Stu</span><span class="token operator">*</span><span class="token punctuation">)</span>p2<span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>	<span class="token comment">//因为void*不能直接解引用，所以必须先进行强制类型转化</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">struct</span> <span class="token class-name">Stu</span> arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">{<!-- --></span><span class="token string">"bbb"</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token string">"ccc"</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token string">"aaa"</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> sz <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">qsort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> sz<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cmp_struct<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s "</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>    
</code></pre>
       </li>
       <li>
        <p>
         <strong>
          qsort函数的模拟实现
         </strong>
         （核心在于无论什么类型的数据，都可以一个一个字节的交换）
        </p>
        <pre><code class="prism language-c"> <span class="token keyword">int</span> <span class="token function">cmp_int</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">*</span> p1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">*</span> p2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span>p1 <span class="token operator">-</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span>p2<span class="token punctuation">;</span>
	<span class="token comment">//return *(int*)p2 - *(int*)p1 ;</span>
<span class="token punctuation">}</span>
 <span class="token keyword">void</span> <span class="token function">my_swap</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> p1<span class="token punctuation">,</span><span class="token keyword">char</span><span class="token operator">*</span> p2<span class="token punctuation">,</span><span class="token class-name">size_t</span> n<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	 <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		 <span class="token keyword">char</span> tem <span class="token operator">=</span> <span class="token operator">*</span>p1<span class="token punctuation">;</span>
		 <span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token operator">*</span>p2<span class="token punctuation">;</span>
		 <span class="token operator">*</span>p2 <span class="token operator">=</span> tem<span class="token punctuation">;</span>
		 p1<span class="token operator">++</span><span class="token punctuation">;</span>
		 p2<span class="token operator">++</span><span class="token punctuation">;</span>
	 <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">void</span> <span class="token function">bubble_qsort</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span> base<span class="token punctuation">,</span><span class="token class-name">size_t</span> sz<span class="token punctuation">,</span><span class="token class-name">size_t</span> width<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token operator">*</span>cmp<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	 <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sz <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		 <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> sz <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">cmp</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>base <span class="token operator">+</span> j <span class="token operator">*</span> width<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>base <span class="token operator">+</span> <span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>width<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				 <span class="token function">my_swap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>base <span class="token operator">+</span> j <span class="token operator">*</span> width<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>base <span class="token operator">+</span> <span class="token punctuation">(</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> width<span class="token punctuation">)</span><span class="token punctuation">,</span>width<span class="token punctuation">)</span><span class="token punctuation">;</span>
			 <span class="token punctuation">}</span>
		 <span class="token punctuation">}</span>
	 <span class="token punctuation">}</span>

 <span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> sz <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">bubble_qsort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> sz<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> cmp_int<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
       </li>
      </ul>
     </li>
    </ul>
    <h5>
     <a id="28_sizeof__strlen_191">
     </a>
     28 sizeof 和 strlen
    </h5>
    <ul>
     <li>
      sizeof是一种操作符，它是根据字符串所占内存的大小来计算字节个数的（因为char是一个字节，所以也是字符个数），所以无论有没有
      <code>
       \0
      </code>
      ，计算结果没有区别。并且结果的个数是包含
      <code>
       \0
      </code>
      在内的个数
     </li>
     <li>
      strlen是一种函数根据
      <code>
       \0
      </code>
      来进行计数的，它会返回
      <code>
       \0
      </code>
      之前所有字符的个数，不包含
      <code>
       \0
      </code>
      。如果没有
      <code>
       \0
      </code>
      ，则会一直向后查找，直到遇到
      <code>
       \0
      </code>
      为止。所以有可能造成越界访问
     </li>
    </ul>
    <h5>
     <a id="29__196">
     </a>
     29 关于指针的易错题
    </h5>
    <ul>
     <li>
      <p>
       对于数组名，当
       <code>
        sizeof(数组名)
       </code>
       只有数组名时，代表整个数组的大小。但如果数组名和其他元素或数字一起放入（）里，则表示首元素的地址，不在是那种特例了
      </p>
     </li>
     <li>
      <pre><code class="prism language-c">arr<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果是16</span>
<span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果是4/8  因为arr不是单独在里面，所以只能表示首元素地址（地址的大小取决与x86/x64）</span>
</code></pre>
     </li>
     <li>
      <p>
       对于srtlen(arr)来说，它接受的参数必须是一个指针，所以无论传进去什么，都会被当作指针对待，在函数内部会对它进行解引用操作。所以不能传入一个int等类型所以
       <code>
        strlen(*arr)
       </code>
       是一个错误语句。
      </p>
     </li>
     <li>
      <pre><code class="prism language-c"><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>相当于第一行首元素的地址，现在单独放在了<span class="token keyword">sizeof</span>（）里边，代表的是整个第一行，所以答案是<span class="token number">4</span><span class="token operator">*</span><span class="token number">4</span>
    
<span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>    
    现在a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>不是单独放在<span class="token keyword">sizeof</span>（）里面，所以a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>只表示第一行第一个元素的地址，<span class="token operator">+</span><span class="token number">1</span>之后变成a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>的地址
    
<span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
    a不是单独放在<span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token punctuation">)</span>内部，所以表示的是首元素的地址<span class="token punctuation">,</span>即第一行的地址，所以a<span class="token operator">+</span><span class="token number">1</span>表示第二行的地址，所以结果是<span class="token number">4</span><span class="token operator">/</span><span class="token number">8</span>（因为其仍然是一个地址）
    
<span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    这个操作符在计算大小的时候，是根据类型推断的，不直接去访问所传入的空间，所以哪怕传入了一个野指针，也不造成越界访问，仅仅根据类型判断。
</code></pre>
     </li>
     <li>
      <pre><code class="prism language-c">在x86条件下，该结构体大小是<span class="token number">20</span>个字节

<span class="token keyword">struct</span> <span class="token class-name">test</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> a<span class="token punctuation">;</span>
    <span class="token keyword">char</span><span class="token operator">*</span> b<span class="token punctuation">;</span>
    <span class="token keyword">short</span> c<span class="token punctuation">;</span>
    <span class="token keyword">short</span> d<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span> e<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token operator">*</span> p<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">test</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token number">0x100000</span><span class="token punctuation">;</span>

<span class="token number">1.</span>p<span class="token operator">+</span><span class="token number">0x1</span>
<span class="token number">2.</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span>p <span class="token operator">+</span> <span class="token number">0x1</span>    
<span class="token number">3.</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">long</span><span class="token punctuation">)</span>p <span class="token operator">+</span> <span class="token number">0x1</span>
    
<span class="token number">1.</span>因为P是一个结构体指针类型，所以当<span class="token operator">+</span><span class="token number">1</span>之后跳过一个结构体的大小（即<span class="token number">20</span>个字节，答案为<span class="token number">0x100014</span><span class="token punctuation">(</span><span class="token number">16</span>进制<span class="token punctuation">)</span>）
<span class="token number">2.</span>因为p被强转成了<span class="token keyword">int</span><span class="token operator">*</span>类型，所以p<span class="token operator">+</span><span class="token number">1</span>之后跳过一个整型的大小，答案为<span class="token number">0x100004</span><span class="token punctuation">(</span><span class="token number">16</span>进制<span class="token punctuation">)</span>）
<span class="token number">3.</span>p被强转成<span class="token keyword">long</span> 类型之后，p就从一个指针变量变成了一个<span class="token keyword">long</span>型的变量，<span class="token operator">+</span><span class="token number">1</span>就相当与两个数字之间进行运算，所以答案为<span class="token number">0x100001</span><span class="token punctuation">(</span><span class="token number">16</span>进制<span class="token punctuation">)</span>）
</code></pre>
     </li>
     <li>
      <pre><code class="prism language-c"><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token keyword">int</span><span class="token operator">*</span> p<span class="token punctuation">;</span>
p <span class="token operator">=</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>

对于数组arr来说，（<span class="token number">0</span>，<span class="token number">1</span>）其实是一个逗号表达式，它的结果是最后一个元素的值，即（<span class="token number">0</span>，<span class="token number">1</span>）<span class="token operator">==</span><span class="token number">1</span>。所以其实在数组arr里只放入了<span class="token punctuation">{<!-- --></span><span class="token number">1</span>，<span class="token number">3</span>，<span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">.</span>所以p是arr第一行第一个元素的地址。
</code></pre>
      <hr/>
      <h5>
       <a id="1__253">
       </a>
       1 字符分类函数
      </h5>
     </li>
     <li>
      <p>
       都在头文件&lt; ctype.h &gt; 里面
      </p>
     </li>
    </ul>
    <h5>
     <a id="2__257">
     </a>
     2 字符转换函数
    </h5>
    <ul>
     <li>
      都在头文件&lt; ctype.h &gt; 里面
     </li>
     <li>
      tolower()，toupper()；大小写转化函数
     </li>
    </ul>
    <h5>
     <a id="3_strlen__262">
     </a>
     3 strlen 函数的使用和模拟实现
    </h5>
    <ul>
     <li>
      <p>
       strlen的返回值是size_t,是一种无符号整数。（对于无符号整数来说，是没有负数的，如果一个负数被转变为无符号整数，会直接将这个负数的补码看作一个无符号整数，也就是会变成一个很大的正数（因为负数首位符号位是1））
      </p>
     </li>
     <li>
      <pre><code class="prism language-c">模拟实现（不创建临时变量）（使用递归）

<span class="token class-name">size_t</span> <span class="token function">my_strlen</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>str <span class="token operator">!=</span> <span class="token char">'\0'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token function">my_strlen</span><span class="token punctuation">(</span>str <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"abcdefaaa"</span><span class="token punctuation">;</span>
	<span class="token class-name">size_t</span> len <span class="token operator">=</span> <span class="token function">my_strlen</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%zd "</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
     </li>
    </ul>
    <h5>
     <a id="4_strcpy__285">
     </a>
     4 strcpy 的使用和模拟实现
    </h5>
    <ul>
     <li>
      <p>
       <code>
        strcpy(arr2, arr1)
       </code>
       将arr1的内容放入arr2里
      </p>
     </li>
     <li>
      <ul>
       <li>
        在拷贝时，arr1里面必须包含
        <code>
         \0
        </code>
       </li>
       <li>
        再拷贝时
        <code>
         \0
        </code>
        也会被拷贝进入arr2
       </li>
       <li>
        如果arr2里面原本有元素，那么arr2的元素会被arr1的元素从头开始覆盖，为覆盖的元素保持不变
       </li>
       <li>
        strcpy有返回值是一个指针，指向arr2的起始地址
       </li>
      </ul>
     </li>
     <li>
      <pre><code class="prism language-c">模拟实现
版本一：
<span class="token keyword">void</span> <span class="token function">my_strcpy</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">,</span><span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>src <span class="token operator">!=</span> <span class="token char">'\0'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token operator">*</span>dest <span class="token operator">=</span> <span class="token operator">*</span>src<span class="token punctuation">;</span>
		dest<span class="token operator">++</span><span class="token punctuation">;</span>
		src<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token operator">*</span>dest <span class="token operator">=</span> <span class="token operator">*</span>src<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

版本二：
<span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">my_strcpy</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span><span class="token operator">*</span> res<span class="token operator">=</span>dest<span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>dest<span class="token operator">&amp;&amp;</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>dest<span class="token operator">++</span> <span class="token operator">=</span> <span class="token operator">*</span>src<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"asjdflks"</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> arr2<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token function">my_strcpy</span><span class="token punctuation">(</span>arr2<span class="token punctuation">,</span> arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> arr2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
     </li>
    </ul>
    <h5>
     <a id="5_strcat_327">
     </a>
     5 strcat使用及其模拟实现
    </h5>
    <ul>
     <li>
      <p>
       使用：在给定字符串后面追加另一个字符串
      </p>
     </li>
     <li>
      <ul>
       <li>
        注意：目标和源头字符串都要包含‘\0’，
       </li>
       <li>
        <code>
         strcat(char * destination,const char* source)
        </code>
       </li>
      </ul>
     </li>
     <li>
      <p>
       模拟实现
      </p>
     </li>
     <li>
      <pre><code class="prism language-c"><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">my_strcat</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span> dest<span class="token punctuation">,</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span><span class="token operator">*</span> res <span class="token operator">=</span> dest<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>dest <span class="token operator">!=</span> <span class="token char">'\0'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		dest<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>dest<span class="token operator">++</span> <span class="token operator">=</span> <span class="token operator">*</span>src<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello "</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> arrr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"world"</span><span class="token punctuation">;</span>
	<span class="token function">my_strcat</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> arrr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token comment">//（注意，不可以追加两个相同的字符串，不然会因为‘\0’的丢失造成死循环）</span>
</code></pre>
     </li>
    </ul>
    <h5>
     <a id="6_strcmp_356">
     </a>
     6 strcmp的使用与模拟实现
    </h5>
    <ul>
     <li>
      <p>
       比较的不是长度，是对应字符的ASCII码的大小
      </p>
     </li>
     <li>
      <p>
       在传递时，如果传递的是“abc”，直接传递这样的常量字符串，也是可以使用char*的指针接收的。
      </p>
     </li>
     <li>
      <p>
       模拟实现
      </p>
     </li>
     <li>
      <pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">my_strcmp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str1<span class="token punctuation">,</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span>str2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>str1 <span class="token operator">&amp;&amp;</span> str2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>str1 <span class="token operator">==</span> <span class="token operator">*</span>str2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>str1 <span class="token operator">==</span> <span class="token char">'\0'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		str1<span class="token operator">++</span><span class="token punctuation">;</span>
		str2<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">*</span>str1 <span class="token operator">-</span> <span class="token operator">*</span>str2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token function">my_strcmp</span><span class="token punctuation">(</span><span class="token string">"ax"</span><span class="token punctuation">,</span> <span class="token string">"ade"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
     </li>
    </ul>
    <h5>
     <a id="7_strncmp_strncpy_strncat_383">
     </a>
     7 strncmp strncpy strncat可以指定长度的字符串函数
    </h5>
    <h5>
     <a id="8_strstr_385">
     </a>
     8 strstr的使用和模拟实现
    </h5>
    <ul>
     <li>
      <p>
       在字符串里查找一个字串第一次出现的地方
      </p>
     </li>
     <li>
      <p>
       <code>
        const char* strstr(const char* st1,const char* str2)
       </code>
       在str1里找str2
      </p>
     </li>
     <li>
      <p>
       模拟实现
      </p>
     </li>
     <li>
      <pre><code class="prism language-c"><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">my_strstr</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str1<span class="token punctuation">,</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span>str2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span><span class="token operator">*</span> s1 <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> s2 <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> cur <span class="token operator">=</span> str1<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>cur<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		s1 <span class="token operator">=</span> cur<span class="token punctuation">;</span>
		s2 <span class="token operator">=</span> str2<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>s1 <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>s2 <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>s1 <span class="token operator">==</span> <span class="token operator">*</span>s2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			s1<span class="token operator">++</span><span class="token punctuation">;</span>
			s2<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>s2<span class="token operator">==</span><span class="token char">'\0'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> cur<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		cur<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"abcsdfhdf"</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> arrr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"sd"</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token function">my_strstr</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> arrr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
     </li>
    </ul>
    <h5>
     <a id="9_strtok_421">
     </a>
     9 strtok函数的使用
    </h5>
    <ul>
     <li>
      <p>
       用于分割字符串（以所提供的字符为分隔符）
      </p>
     </li>
     <li>
      <p>
       <code>
        char* strtok(char* str,char* sep)
       </code>
       sep指向一个字符串，包含所有用于分割字符串的字符
      </p>
     </li>
     <li>
      <p>
       如果待切割的字符串里有多个分割符，则调用一次该函数，会将从左边数第一个分隔符变成’\0’，并且每一次调用该函数会存下来这次操作到的位置，下一次在调用的时候，会直接从这个位置开始向后寻找下一个分隔符。除了第一次调用，其他时候调用时，str只需要传入NULL即可
      </p>
     </li>
     <li>
      <pre><code class="prism language-c">示例<span class="token operator">:</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"zpw@bitedu.net"</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"@."</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> r <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span> r <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>r<span class="token operator">=</span><span class="token function">strtok</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token comment">//用于分割字符串</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
     </li>
     <li>
      <p>
       应该是内部实现的时候有一个
       <strong>
        static
       </strong>
       修饰的变量（只在第一次调用函数时初始化，之后再次调用该函数时，不会再次初始化，而是保留上一次调用结束时的值。）
      </p>
     </li>
    </ul>
    <h5>
     <a id="10_strerror_444">
     </a>
     10 strerror的使用
    </h5>
    <ul>
     <li>
      <p>
       每⼀个错误码（
       <strong>
        库函数的错误码
       </strong>
       ）都是有对应的错误信息的。strerror函数就可以将错误对应的错误信息字符串的地址返回。
      </p>
     </li>
     <li>
      <p>
       <code>
        char* strerror()
       </code>
       可以用于查看错误信息，在errno变量里
      </p>
     </li>
     <li>
      <pre><code class="prism language-c"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d:%s\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token function">strerror</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
     </li>
    </ul>
    <h5>
     <a id="11_perror_456">
     </a>
     11 perror函数
    </h5>
    <ul>
     <li>
      <code>
       void perror(char* str)
      </code>
      它这个函数会自动打印错误信息，这个str参数是一个提示用的信息，自己输入的
     </li>
     <li>
      <code>
       perror(“错误信息是：”)
      </code>
      打印结果就是：
      <code>
       错误信息是：No such file or directory
      </code>
     </li>
    </ul>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323430315f38363934313835382f:61727469636c652f64657461696c732f313436303731393730" class_="artid" style="display:none">
 </p>
</div>


