---
layout: post
title: "智慧加油站小程序API设计文档"
date: 2025-03-15 10:10:09 +0800
description: "api/v1。"
keywords: "智慧加油站小程序API设计文档"
categories: ['未分类']
tags: ['小程序']
artid: "146275138"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146275138
    alt: "智慧加油站小程序API设计文档"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146275138
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146275138
cover: https://bing.ee123.net/img/rand?artid=146275138
image: https://bing.ee123.net/img/rand?artid=146275138
img: https://bing.ee123.net/img/rand?artid=146275138
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     智慧加油站小程序API设计文档
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-tomorrow-night" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="__API_0">
     </a>
     智慧加油站系统 - API接口设计文档
    </h2>
    <h3>
     <a id="1_API_2">
     </a>
     1. API接口规范
    </h3>
    <h4>
     <a id="11__4">
     </a>
     1.1 基本信息
    </h4>
    <ul>
     <li>
      <strong>
       基础URL
      </strong>
      ：
      <code>
       /api/v1
      </code>
     </li>
     <li>
      <strong>
       认证方式
      </strong>
      ：JWT Token
     </li>
     <li>
      <strong>
       请求头部
      </strong>
      ：
      <ul>
       <li>
        <code>
         Content-Type: application/json
        </code>
       </li>
       <li>
        <code>
         Authorization: Bearer {token}
        </code>
        (认证接口除外)
       </li>
      </ul>
     </li>
     <li>
      <strong>
       数据格式
      </strong>
      ：JSON
     </li>
    </ul>
    <h4>
     <a id="12__13">
     </a>
     1.2 通用响应格式
    </h4>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>                 <span class="token comment">// 状态码：200成功，4xx客户端错误，5xx服务器错误</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"success"</span><span class="token punctuation">,</span>        <span class="token comment">// 响应消息</span>
    <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>                   <span class="token comment">// 响应数据</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="13__23">
     </a>
     1.3 分页响应格式
    </h4>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"success"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"list"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>              <span class="token comment">// 数据列表</span>
        <span class="token string-property property">"pagination"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string-property property">"page"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>           <span class="token comment">// 当前页码</span>
            <span class="token string-property property">"page_size"</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>     <span class="token comment">// 每页记录数</span>
            <span class="token string-property property">"total"</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>        <span class="token comment">// 总记录数</span>
            <span class="token string-property property">"total_pages"</span><span class="token operator">:</span> <span class="token number">10</span>    <span class="token comment">// 总页数</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="14__41">
     </a>
     1.4 错误响应格式
    </h4>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span>                 <span class="token comment">// 错误码</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"参数错误"</span><span class="token punctuation">,</span>        <span class="token comment">// 错误消息</span>
    <span class="token string-property property">"errors"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>                  <span class="token comment">// 详细错误信息（可选）</span>
        <span class="token string-property property">"field1"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"错误描述1"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">"field2"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"错误描述2"</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="2_API_54">
     </a>
     2. API接口列表
    </h3>
    <h4>
     <a id="21__56">
     </a>
     2.1 认证接口
    </h4>
    <h5>
     <a id="211__58">
     </a>
     2.1.1 用户登录
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       POST /auth/login
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：用户登录获取访问令牌
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"username"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>         <span class="token comment">// 用户名</span>
    <span class="token string-property property">"password"</span><span class="token operator">:</span> <span class="token string">"password123"</span><span class="token punctuation">,</span>   <span class="token comment">// 密码</span>
    <span class="token string-property property">"remember"</span><span class="token operator">:</span> <span class="token boolean">true</span>             <span class="token comment">// 是否记住登录状态</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      <strong>
       响应结果
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"success"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"token"</span><span class="token operator">:</span> <span class="token string">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."</span><span class="token punctuation">,</span>
        <span class="token string-property property">"expires_in"</span><span class="token operator">:</span> <span class="token number">3600</span><span class="token punctuation">,</span>
        <span class="token string-property property">"user_info"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token string-property property">"username"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
            <span class="token string-property property">"role"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"管理员"</span><span class="token punctuation">,</span>
                <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token string">"admin"</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h5>
     <a id="212__94">
     </a>
     2.1.2 用户登出
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       POST /auth/logout
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：用户登出，注销当前令牌
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：无
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"登出成功"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>
</code></pre>
    <h5>
     <a id="213__109">
     </a>
     2.1.3 刷新令牌
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       POST /auth/refresh
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：刷新访问令牌
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：无（通过请求头中的令牌识别）
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"success"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"token"</span><span class="token operator">:</span> <span class="token string">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."</span><span class="token punctuation">,</span>
        <span class="token string-property property">"expires_in"</span><span class="token operator">:</span> <span class="token number">3600</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="22__127">
     </a>
     2.2 用户与会员接口
    </h4>
    <h5>
     <a id="221__129">
     </a>
     2.2.1 获取用户信息
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       GET /users/current
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：获取当前登录用户信息
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：无
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"success"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string-property property">"username"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"real_name"</span><span class="token operator">:</span> <span class="token string">"管理员"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"mobile"</span><span class="token operator">:</span> <span class="token string">"13800138000"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"email"</span><span class="token operator">:</span> <span class="token string">"admin@example.com"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"role"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"管理员"</span><span class="token punctuation">,</span>
            <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token string">"admin"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string-property property">"avatar"</span><span class="token operator">:</span> <span class="token string">"https://example.com/avatar.jpg"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"last_login_time"</span><span class="token operator">:</span> <span class="token string">"2025-03-12T10:30:45"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h5>
     <a id="222__157">
     </a>
     2.2.2 用户列表
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       GET /users
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：获取用户列表
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
      <ul>
       <li>
        <code>
         page
        </code>
        ：页码，默认1
       </li>
       <li>
        <code>
         page_size
        </code>
        ：每页记录数，默认10
       </li>
       <li>
        <code>
         keyword
        </code>
        ：搜索关键词
       </li>
       <li>
        <code>
         role_id
        </code>
        ：角色ID
       </li>
       <li>
        <code>
         status
        </code>
        ：状态
       </li>
      </ul>
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：分页响应格式
     </li>
    </ul>
    <h5>
     <a id="223__169">
     </a>
     2.2.3 添加用户
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       POST /users
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：添加新用户
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"username"</span><span class="token operator">:</span> <span class="token string">"cashier001"</span><span class="token punctuation">,</span>    <span class="token comment">// 用户名</span>
    <span class="token string-property property">"password"</span><span class="token operator">:</span> <span class="token string">"password123"</span><span class="token punctuation">,</span>   <span class="token comment">// 密码</span>
    <span class="token string-property property">"real_name"</span><span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span>         <span class="token comment">// 真实姓名</span>
    <span class="token string-property property">"mobile"</span><span class="token operator">:</span> <span class="token string">"13800138001"</span><span class="token punctuation">,</span>     <span class="token comment">// 手机号</span>
    <span class="token string-property property">"email"</span><span class="token operator">:</span> <span class="token string">"zhangsan@example.com"</span><span class="token punctuation">,</span> <span class="token comment">// 邮箱</span>
    <span class="token string-property property">"role_id"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>                <span class="token comment">// 角色ID</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token number">1</span>                  <span class="token comment">// 状态</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      <strong>
       响应结果
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"添加成功"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        <span class="token string-property property">"username"</span><span class="token operator">:</span> <span class="token string">"cashier001"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h5>
     <a id="224__200">
     </a>
     2.2.4 更新用户
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       PUT /users/{id}
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：更新用户信息
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：用户信息（不包含密码）
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：成功响应
     </li>
    </ul>
    <h5>
     <a id="225__207">
     </a>
     2.2.5 删除用户
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       DELETE /users/{id}
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：删除用户
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：无
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：成功响应
     </li>
    </ul>
    <h5>
     <a id="226__214">
     </a>
     2.2.6 重置密码
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       POST /users/{id}/reset-password
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：重置用户密码
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"password"</span><span class="token operator">:</span> <span class="token string">"newpassword123"</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      <strong>
       响应结果
      </strong>
      ：成功响应
     </li>
    </ul>
    <h5>
     <a id="227__228">
     </a>
     2.2.7 获取会员信息
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       GET /members/{id}
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：获取会员详细信息
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：无
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"success"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string-property property">"user_id"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token string-property property">"member_no"</span><span class="token operator">:</span> <span class="token string">"M2025031200001"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"level"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">"level_name"</span><span class="token operator">:</span> <span class="token string">"银卡会员"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"balance"</span><span class="token operator">:</span> <span class="token number">1250.50</span><span class="token punctuation">,</span>
        <span class="token string-property property">"points"</span><span class="token operator">:</span> <span class="token number">3600</span><span class="token punctuation">,</span>
        <span class="token string-property property">"join_time"</span><span class="token operator">:</span> <span class="token string">"2024-12-15T09:30:00"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"expire_time"</span><span class="token operator">:</span> <span class="token string">"2025-12-15T09:30:00"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string-property property">"user_info"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string-property property">"username"</span><span class="token operator">:</span> <span class="token string">"user001"</span><span class="token punctuation">,</span>
            <span class="token string-property property">"real_name"</span><span class="token operator">:</span> <span class="token string">"李四"</span><span class="token punctuation">,</span>
            <span class="token string-property property">"mobile"</span><span class="token operator">:</span> <span class="token string">"13900139000"</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h5>
     <a id="228__259">
     </a>
     2.2.8 会员充值
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       POST /members/{id}/recharge
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：会员账户充值
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"amount"</span><span class="token operator">:</span> <span class="token number">500.00</span><span class="token punctuation">,</span>           <span class="token comment">// 充值金额</span>
    <span class="token string-property property">"payment_method"</span><span class="token operator">:</span> <span class="token string">"wechat"</span><span class="token punctuation">,</span> <span class="token comment">// 支付方式</span>
    <span class="token string-property property">"transaction_id"</span><span class="token operator">:</span> <span class="token string">"wx123456789"</span><span class="token punctuation">,</span> <span class="token comment">// 支付流水号</span>
    <span class="token string-property property">"operator_id"</span><span class="token operator">:</span> <span class="token number">3</span>            <span class="token comment">// 操作员ID</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      <strong>
       响应结果
      </strong>
      ：成功响应
     </li>
    </ul>
    <h4>
     <a id="23__276">
     </a>
     2.3 油品管理接口
    </h4>
    <h5>
     <a id="231__278">
     </a>
     2.3.1 获取油品列表
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       GET /oils
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：获取油品列表
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
      <ul>
       <li>
        <code>
         page
        </code>
        ：页码，默认1
       </li>
       <li>
        <code>
         page_size
        </code>
        ：每页记录数，默认10
       </li>
       <li>
        <code>
         keyword
        </code>
        ：搜索关键词
       </li>
       <li>
        <code>
         status
        </code>
        ：状态（可选）
       </li>
      </ul>
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：分页响应格式，数据结构如下：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"success"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"list"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"92#汽油"</span><span class="token punctuation">,</span>
                <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token string">"92#"</span><span class="token punctuation">,</span>
                <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"汽油"</span><span class="token punctuation">,</span>
                <span class="token string-property property">"unit"</span><span class="token operator">:</span> <span class="token string">"升"</span><span class="token punctuation">,</span>
                <span class="token string-property property">"current_price"</span><span class="token operator">:</span> <span class="token number">7.85</span><span class="token punctuation">,</span>
                <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token string-property property">"status_text"</span><span class="token operator">:</span> <span class="token string">"正常"</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">// ...其他油品</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">"pagination"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string-property property">"page"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token string-property property">"page_size"</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            <span class="token string-property property">"total"</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
            <span class="token string-property property">"total_pages"</span><span class="token operator">:</span> <span class="token number">1</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h5>
     <a id="232__317">
     </a>
     2.3.2 获取油品详情
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       GET /oils/{id}
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：获取油品详细信息
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：无
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"success"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"92#汽油"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token string">"92#"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"汽油"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"unit"</span><span class="token operator">:</span> <span class="token string">"升"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"current_price"</span><span class="token operator">:</span> <span class="token number">7.85</span><span class="token punctuation">,</span>
        <span class="token string-property property">"cost_price"</span><span class="token operator">:</span> <span class="token number">7.25</span><span class="token punctuation">,</span>
        <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string-property property">"status_text"</span><span class="token operator">:</span> <span class="token string">"正常"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"created_at"</span><span class="token operator">:</span> <span class="token string">"2024-12-01T08:00:00"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"updated_at"</span><span class="token operator">:</span> <span class="token string">"2025-03-01T10:15:30"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h5>
     <a id="233__344">
     </a>
     2.3.3 添加油品
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       POST /oils
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：添加新油品
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"95#汽油"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token string">"95#"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"汽油"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"unit"</span><span class="token operator">:</span> <span class="token string">"升"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"current_price"</span><span class="token operator">:</span> <span class="token number">8.45</span><span class="token punctuation">,</span>
    <span class="token string-property property">"cost_price"</span><span class="token operator">:</span> <span class="token number">7.85</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      <strong>
       响应结果
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"添加成功"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"95#汽油"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h5>
     <a id="234__375">
     </a>
     2.3.4 更新油品
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       PUT /oils/{id}
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：更新油品信息
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：油品信息（同添加）
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：成功响应
     </li>
    </ul>
    <h5>
     <a id="235__382">
     </a>
     2.3.5 更新油品价格
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       PUT /oils/{id}/price
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：更新油品价格（同时记录历史）
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"price"</span><span class="token operator">:</span> <span class="token number">8.05</span><span class="token punctuation">,</span>
    <span class="token string-property property">"effective_time"</span><span class="token operator">:</span> <span class="token string">"2025-03-15T00:00:00"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"remark"</span><span class="token operator">:</span> <span class="token string">"调价通知[2025]第12号"</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      <strong>
       响应结果
      </strong>
      ：成功响应
     </li>
    </ul>
    <h5>
     <a id="236__398">
     </a>
     2.3.6 获取油品价格历史
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       GET /oils/{id}/price-history
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：获取油品价格调整历史
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
      <ul>
       <li>
        <code>
         start_date
        </code>
        ：开始日期
       </li>
       <li>
        <code>
         end_date
        </code>
        ：结束日期
       </li>
       <li>
        <code>
         page
        </code>
        ：页码
       </li>
       <li>
        <code>
         page_size
        </code>
        ：每页记录数
       </li>
      </ul>
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：分页响应格式，历史价格列表
     </li>
    </ul>
    <h4>
     <a id="24__409">
     </a>
     2.4 站点管理接口
    </h4>
    <h5>
     <a id="241__411">
     </a>
     2.4.1 获取站点列表
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       GET /stations
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：获取加油站点列表
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
      <ul>
       <li>
        <code>
         page
        </code>
        ：页码
       </li>
       <li>
        <code>
         page_size
        </code>
        ：每页记录数
       </li>
       <li>
        <code>
         keyword
        </code>
        ：搜索关键词
       </li>
       <li>
        <code>
         city
        </code>
        ：城市
       </li>
       <li>
        <code>
         status
        </code>
        ：状态
       </li>
      </ul>
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：分页响应格式，站点列表
     </li>
    </ul>
    <h5>
     <a id="242__423">
     </a>
     2.4.2 获取站点详情
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       GET /stations/{id}
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：获取站点详细信息
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：无
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：站点详细信息
     </li>
    </ul>
    <h5>
     <a id="243__430">
     </a>
     2.4.3 添加站点
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       POST /stations
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：添加新站点
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：站点信息
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：成功响应
     </li>
    </ul>
    <h5>
     <a id="244__437">
     </a>
     2.4.4 更新站点
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       PUT /stations/{id}
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：更新站点信息
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：站点信息
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：成功响应
     </li>
    </ul>
    <h5>
     <a id="245__444">
     </a>
     2.4.5 获取站点油品列表
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       GET /stations/{id}/oils
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：获取站点销售的油品列表
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：无
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：油品列表
     </li>
    </ul>
    <h5>
     <a id="246__451">
     </a>
     2.4.6 获取站点油枪列表
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       GET /stations/{id}/oil-guns
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：获取站点的油枪列表
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：无
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：油枪列表及状态
     </li>
    </ul>
    <h4>
     <a id="25__458">
     </a>
     2.5 油枪管理接口
    </h4>
    <h5>
     <a id="251__460">
     </a>
     2.5.1 获取油枪列表
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       GET /oil-guns
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：获取油枪列表
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
      <ul>
       <li>
        <code>
         station_id
        </code>
        ：站点ID
       </li>
       <li>
        <code>
         status
        </code>
        ：状态
       </li>
       <li>
        <code>
         oil_id
        </code>
        ：油品ID
       </li>
      </ul>
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：分页响应格式，油枪列表
     </li>
    </ul>
    <h5>
     <a id="252__470">
     </a>
     2.5.2 获取油枪详情
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       GET /oil-guns/{id}
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：获取油枪详细信息
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：无
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：油枪详细信息
     </li>
    </ul>
    <h5>
     <a id="253__477">
     </a>
     2.5.3 添加油枪
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       POST /oil-guns
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：添加新油枪
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"gun_no"</span><span class="token operator">:</span> <span class="token string">"A1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"station_id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"oil_id"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"remark"</span><span class="token operator">:</span> <span class="token string">"新安装油枪"</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      <strong>
       响应结果
      </strong>
      ：成功响应
     </li>
    </ul>
    <h5>
     <a id="254__495">
     </a>
     2.5.4 更新油枪
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       PUT /oil-guns/{id}
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：更新油枪信息
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：油枪信息
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：成功响应
     </li>
    </ul>
    <h5>
     <a id="255__502">
     </a>
     2.5.5 更新油枪状态
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       PUT /oil-guns/{id}/status
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：更新油枪状态
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-property property">"remark"</span><span class="token operator">:</span> <span class="token string">"故障维修中"</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      <strong>
       响应结果
      </strong>
      ：成功响应
     </li>
    </ul>
    <h4>
     <a id="26__517">
     </a>
     2.6 订单管理接口
    </h4>
    <h5>
     <a id="261__519">
     </a>
     2.6.1 创建订单
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       POST /orders
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：创建加油订单
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"station_id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"member_id"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token string-property property">"oil_id"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-property property">"oil_gun_id"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token string-property property">"service_type"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"amount"</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
    <span class="token string-property property">"vehicle_no"</span><span class="token operator">:</span> <span class="token string">"粤B12345"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"attendant_id"</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    <span class="token string-property property">"remark"</span><span class="token operator">:</span> <span class="token string">"自助加油"</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      <strong>
       响应结果
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"订单创建成功"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"order_id"</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
        <span class="token string-property property">"order_no"</span><span class="token operator">:</span> <span class="token string">"GS202503121530001"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h5>
     <a id="262__552">
     </a>
     2.6.2 获取订单列表
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       GET /orders
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：获取订单列表
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
      <ul>
       <li>
        <code>
         page
        </code>
        ：页码
       </li>
       <li>
        <code>
         page_size
        </code>
        ：每页记录数
       </li>
       <li>
        <code>
         station_id
        </code>
        ：站点ID
       </li>
       <li>
        <code>
         member_id
        </code>
        ：会员ID
       </li>
       <li>
        <code>
         status
        </code>
        ：订单状态
       </li>
       <li>
        <code>
         start_date
        </code>
        ：开始日期
       </li>
       <li>
        <code>
         end_date
        </code>
        ：结束日期
       </li>
      </ul>
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：分页响应格式，订单列表
     </li>
    </ul>
    <h5>
     <a id="263__566">
     </a>
     2.6.3 获取订单详情
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       GET /orders/{id}
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：获取订单详细信息
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：无
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：订单详细信息，包含加油记录、支付记录
     </li>
    </ul>
    <h5>
     <a id="264__573">
     </a>
     2.6.4 更新订单状态
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       PUT /orders/{id}/status
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：更新订单状态
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-property property">"remark"</span><span class="token operator">:</span> <span class="token string">"已完成加油"</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      <strong>
       响应结果
      </strong>
      ：成功响应
     </li>
    </ul>
    <h5>
     <a id="265__588">
     </a>
     2.6.5 取消订单
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       POST /orders/{id}/cancel
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：取消订单
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"reason"</span><span class="token operator">:</span> <span class="token string">"客户取消加油"</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      <strong>
       响应结果
      </strong>
      ：成功响应
     </li>
    </ul>
    <h5>
     <a id="266__602">
     </a>
     2.6.6 订单支付
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       POST /orders/{id}/pay
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：订单支付
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"payment_method"</span><span class="token operator">:</span> <span class="token string">"wechat"</span><span class="token punctuation">,</span> 
    <span class="token string-property property">"payment_amount"</span><span class="token operator">:</span> <span class="token number">392.50</span><span class="token punctuation">,</span>
    <span class="token string-property property">"transaction_id"</span><span class="token operator">:</span> <span class="token string">"wx202503121535001"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"cashier_id"</span><span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      <strong>
       响应结果
      </strong>
      ：成功响应
     </li>
    </ul>
    <h4>
     <a id="27__619">
     </a>
     2.7 加油记录接口
    </h4>
    <h5>
     <a id="271__621">
     </a>
     2.7.1 开始加油
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       POST /refuel-records
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：开始加油记录
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"order_id"</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
    <span class="token string-property property">"oil_gun_id"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token string-property property">"operator_id"</span><span class="token operator">:</span> <span class="token number">8</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      <strong>
       响应结果
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"开始加油"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"record_id"</span><span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
        <span class="token string-property property">"start_time"</span><span class="token operator">:</span> <span class="token string">"2025-03-12T15:36:05"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h5>
     <a id="272__648">
     </a>
     2.7.2 结束加油
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       PUT /refuel-records/{id}/end
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：结束加油记录
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"actual_amount"</span><span class="token operator">:</span> <span class="token number">50.0</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      <strong>
       响应结果
      </strong>
      ：成功响应
     </li>
    </ul>
    <h5>
     <a id="273__663">
     </a>
     2.7.3 获取加油记录列表
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       GET /refuel-records
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：获取加油记录列表
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
      <ul>
       <li>
        <code>
         order_id
        </code>
        ：订单ID
       </li>
       <li>
        <code>
         oil_gun_id
        </code>
        ：油枪ID
       </li>
       <li>
        <code>
         status
        </code>
        ：状态
       </li>
       <li>
        <code>
         start_date
        </code>
        ：开始日期
       </li>
       <li>
        <code>
         end_date
        </code>
        ：结束日期
       </li>
      </ul>
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：分页响应格式，加油记录列表
     </li>
    </ul>
    <h4>
     <a id="28__675">
     </a>
     2.8 支付管理接口
    </h4>
    <h5>
     <a id="281__677">
     </a>
     2.8.1 获取支付记录列表
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       GET /payments
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：获取支付记录列表
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
      <ul>
       <li>
        <code>
         order_id
        </code>
        ：订单ID
       </li>
       <li>
        <code>
         payment_method
        </code>
        ：支付方式
       </li>
       <li>
        <code>
         status
        </code>
        ：状态
       </li>
       <li>
        <code>
         start_date
        </code>
        ：开始日期
       </li>
       <li>
        <code>
         end_date
        </code>
        ：结束日期
       </li>
      </ul>
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：分页响应格式，支付记录列表
     </li>
    </ul>
    <h5>
     <a id="282__689">
     </a>
     2.8.2 获取支付记录详情
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       GET /payments/{id}
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：获取支付记录详情
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：无
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：支付记录详情
     </li>
    </ul>
    <h5>
     <a id="283__696">
     </a>
     2.8.3 退款
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       POST /payments/{id}/refund
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：申请退款
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"refund_amount"</span><span class="token operator">:</span> <span class="token number">392.50</span><span class="token punctuation">,</span>
    <span class="token string-property property">"reason"</span><span class="token operator">:</span> <span class="token string">"客户投诉，同意退款"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"operator_id"</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      <strong>
       响应结果
      </strong>
      ：成功响应
     </li>
    </ul>
    <h4>
     <a id="29__712">
     </a>
     2.9 会员营销接口
    </h4>
    <h5>
     <a id="291__714">
     </a>
     2.9.1 创建优惠券
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       POST /coupons
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：创建优惠券
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"满100减10元优惠券"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"discount_value"</span><span class="token operator">:</span> <span class="token number">10.00</span><span class="token punctuation">,</span>
    <span class="token string-property property">"min_amount"</span><span class="token operator">:</span> <span class="token number">100.00</span><span class="token punctuation">,</span>
    <span class="token string-property property">"total_quantity"</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
    <span class="token string-property property">"start_time"</span><span class="token operator">:</span> <span class="token string">"2025-03-15T00:00:00"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"end_time"</span><span class="token operator">:</span> <span class="token string">"2025-04-15T23:59:59"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"applicable_oil_ids"</span><span class="token operator">:</span> <span class="token string">"1,2,3"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      <strong>
       响应结果
      </strong>
      ：成功响应
     </li>
    </ul>
    <h5>
     <a id="292__736">
     </a>
     2.9.2 获取优惠券列表
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       GET /coupons
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：获取优惠券列表
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
      <ul>
       <li>
        <code>
         status
        </code>
        ：状态
       </li>
       <li>
        <code>
         type
        </code>
        ：类型
       </li>
       <li>
        <code>
         keyword
        </code>
        ：关键词搜索
       </li>
      </ul>
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：分页响应格式，优惠券列表
     </li>
    </ul>
    <h5>
     <a id="293__746">
     </a>
     2.9.3 发放优惠券
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       POST /coupons/{id}/distribute
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：向用户发放优惠券
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"user_ids"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"remark"</span><span class="token operator">:</span> <span class="token string">"新用户注册活动"</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      <strong>
       响应结果
      </strong>
      ：成功响应
     </li>
    </ul>
    <h5>
     <a id="294__761">
     </a>
     2.9.4 获取用户优惠券
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       GET /users/{id}/coupons
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：获取用户的优惠券列表
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
      <ul>
       <li>
        <code>
         status
        </code>
        ：状态（1-未使用，2-已使用，3-已过期）
       </li>
      </ul>
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：优惠券列表
     </li>
    </ul>
    <h5>
     <a id="295__769">
     </a>
     2.9.5 使用优惠券
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       POST /user-coupons/{id}/use
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：使用优惠券
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"order_id"</span><span class="token operator">:</span> <span class="token number">15</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      <strong>
       响应结果
      </strong>
      ：成功响应
     </li>
    </ul>
    <h4>
     <a id="210__783">
     </a>
     2.10 统计分析接口
    </h4>
    <h5>
     <a id="2101__785">
     </a>
     2.10.1 销售统计
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       GET /statistics/sales
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：销售数据统计
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
      <ul>
       <li>
        <code>
         station_id
        </code>
        ：站点ID
       </li>
       <li>
        <code>
         start_date
        </code>
        ：开始日期
       </li>
       <li>
        <code>
         end_date
        </code>
        ：结束日期
       </li>
       <li>
        <code>
         group_by
        </code>
        ：分组方式（day/week/month/oil）
       </li>
      </ul>
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：统计数据
     </li>
    </ul>
    <h5>
     <a id="2102__796">
     </a>
     2.10.2 会员统计
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       GET /statistics/members
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：会员数据统计
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
      <ul>
       <li>
        <code>
         start_date
        </code>
        ：开始日期
       </li>
       <li>
        <code>
         end_date
        </code>
        ：结束日期
       </li>
       <li>
        <code>
         level
        </code>
        ：会员等级
       </li>
      </ul>
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：会员统计数据
     </li>
    </ul>
    <h5>
     <a id="2103__806">
     </a>
     2.10.3 站点对比分析
    </h5>
    <ul>
     <li>
      <strong>
       接口
      </strong>
      ：
      <code>
       GET /statistics/stations/compare
      </code>
     </li>
     <li>
      <strong>
       描述
      </strong>
      ：多站点数据对比
     </li>
     <li>
      <strong>
       请求参数
      </strong>
      ：
      <ul>
       <li>
        <code>
         station_ids
        </code>
        ：站点ID列表
       </li>
       <li>
        <code>
         start_date
        </code>
        ：开始日期
       </li>
       <li>
        <code>
         end_date
        </code>
        ：结束日期
       </li>
       <li>
        <code>
         indicator
        </code>
        ：指标（sales/orders/members）
       </li>
      </ul>
     </li>
     <li>
      <strong>
       响应结果
      </strong>
      ：对比数据
     </li>
    </ul>
    <h3>
     <a id="3_API__817">
     </a>
     3. API 使用示例
    </h3>
    <h4>
     <a id="31__API__819">
     </a>
     3.1 完整加油流程 API 调用示例
    </h4>
    <h5>
     <a id="1_821">
     </a>
     步骤1：创建订单
    </h5>
    <pre><code class="prism language-http">POST /api/v1/orders
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

{
    "station_id": 1,
    "member_id": 5,
    "oil_id": 2,
    "oil_gun_id": 3,
    "service_type": 1,
    "amount": 50,
    "vehicle_no": "粤B12345",
    "attendant_id": 8
}
</code></pre>
    <h5>
     <a id="2_840">
     </a>
     步骤2：开始加油
    </h5>
    <pre><code class="prism language-http">POST /api/v1/refuel-records
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

{
    "order_id": 15,
    "oil_gun_id": 3,
    "operator_id": 8
}
</code></pre>
    <h5>
     <a id="3_854">
     </a>
     步骤3：结束加油
    </h5>
    <pre><code class="prism language-http">PUT /api/v1/refuel-records/25/end
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

{
    "actual_amount": 50.0,
    "status": 1
}
</code></pre>
    <h5>
     <a id="4_867">
     </a>
     步骤4：使用优惠券
    </h5>
    <pre><code class="prism language-http">POST /api/v1/user-coupons/12/use
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

{
    "order_id": 15
}
</code></pre>
    <h5>
     <a id="5_879">
     </a>
     步骤5：支付订单
    </h5>
    <pre><code class="prism language-http">POST /api/v1/orders/15/pay
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

{
    "payment_method": "wechat", 
    "payment_amount": 392.50,
    "transaction_id": "wx202503121535001",
    "cashier_id": 10
}
</code></pre>
    <h3>
     <a id="4_API__894">
     </a>
     4. API 安全设计
    </h3>
    <h4>
     <a id="41__896">
     </a>
     4.1 认证与授权
    </h4>
    <ul>
     <li>
      JWT 令牌认证
     </li>
     <li>
      令牌过期时间控制
     </li>
     <li>
      令牌刷新机制
     </li>
     <li>
      基于角色的权限控制（RBAC）
     </li>
    </ul>
    <h4>
     <a id="42__903">
     </a>
     4.2 数据安全
    </h4>
    <ul>
     <li>
      敏感数据加密传输（HTTPS）
     </li>
     <li>
      密码加密存储（使用 bcrypt 等算法）
     </li>
     <li>
      敏感信息脱敏（例如手机号显示为 138****8000）
     </li>
    </ul>
    <h4>
     <a id="43__909">
     </a>
     4.3 防护措施
    </h4>
    <ul>
     <li>
      频率限制（Rate Limiting）
     </li>
     <li>
      CSRF 防护
     </li>
     <li>
      输入验证与过滤
     </li>
     <li>
      SQL 注入防护
     </li>
     <li>
      XSS 防护
     </li>
    </ul>
    <h3>
     <a id="5__917">
     </a>
     5. 版本控制
    </h3>
    <p>
     API 版本控制采用 URL 路径方式，示例：
    </p>
    <ul>
     <li>
      当前版本：
      <code>
       /api/v1/
      </code>
     </li>
     <li>
      未来版本：
      <code>
       /api/v2/
      </code>
     </li>
    </ul>
    <p>
     当 API 有不兼容变更时，将发布新版本，并保持旧版本一段时间的兼容支持。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f753031323837373231372f:61727469636c652f64657461696c732f313436323735313338" class_="artid" style="display:none">
 </p>
</div>


