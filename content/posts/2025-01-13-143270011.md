---
layout: post
title: "Python小游戏14雷霆战机"
date: 2025-01-13 17:10:38 +0800
description: "使用pygame.mouse.get_pos()获取鼠标位置，"
keywords: "雷霆战机小程序脚本"
categories: ['未分类']
tags: ['游戏', 'Scrapy', 'Python', 'Pygame', 'Pycharm']
artid: "143270011"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=143270011
    alt: "Python小游戏14雷霆战机"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=143270011
featuredImagePreview: https://bing.ee123.net/img/rand?artid=143270011
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Python小游戏14——雷霆战机
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p style="text-align:center;">
     <img alt="7d32fbc21f0e4dbf899ef90973136141.png" src="https://img-blog.csdnimg.cn/7d32fbc21f0e4dbf899ef90973136141.png"/>
    </p>
    <blockquote>
     <p>
     </p>
     <p>
      首先，你需要确保安装了Pygame库。如果你还没有安装，可以使用pip来安装：
     </p>
     <p>
     </p>
     <p>
      bash
     </p>
     <p>
      pip install pygame
     </p>
    </blockquote>
    <ul>
     <li>
      代码如下：
     </li>
    </ul>
    <blockquote>
     <p>
      python
     </p>
     <p>
      import pygame
     </p>
     <p>
      import sys
     </p>
     <p>
      import random
     </p>
     <p>
     </p>
     <p>
      # 初始化Pygame
     </p>
     <p>
      pygame.init()
     </p>
     <p>
     </p>
     <p>
      # 设置屏幕大小
     </p>
     <p>
      screen_width = 800
     </p>
     <p>
      screen_height = 600
     </p>
     <p>
      screen = pygame.display.set_mode((screen_width, screen_height))
     </p>
     <p>
      pygame.display.set_caption("雷霆战机")
     </p>
     <p>
     </p>
     <p>
      # 颜色定义
     </p>
     <p>
      WHITE = (255, 255, 255)
     </p>
     <p>
      BLACK = (0, 0, 0)
     </p>
     <p>
     </p>
     <p>
      # 加载飞机图像
     </p>
     <p>
      player_img = pygame.image.load("player.png") # 确保你有一个名为player.png的飞机图像文件
     </p>
     <p>
      player_img = pygame.transform.scale(player_img, (50, 50))
     </p>
     <p>
      player_x = screen_width // 2
     </p>
     <p>
      player_y = screen_height - 100
     </p>
     <p>
      player_x_change = 0
     </p>
     <p>
     </p>
     <p>
      # 子弹定义
     </p>
     <p>
      bullet_img = pygame.image.load("bullet.png") # 确保你有一个名为bullet.png的子弹图像文件
     </p>
     <p>
      bullet_img = pygame.transform.scale(bullet_img, (10, 20))
     </p>
     <p>
      bullet_x = 0
     </p>
     <p>
      bullet_y = player_y
     </p>
     <p>
      bullet_x_change = 0
     </p>
     <p>
      bullet_y_change = 10
     </p>
     <p>
      bullet_state = "ready" # "ready"表示子弹未发射，"fire"表示子弹已发射
     </p>
     <p>
     </p>
     <p>
      # 游戏主循环
     </p>
     <p>
      running = True
     </p>
     <p>
      while running:
     </p>
     <p>
      # 背景填充
     </p>
     <p>
      screen.fill(BLACK)
     </p>
     <p>
     </p>
     <p>
      for event in pygame.event.get():
     </p>
     <p>
      if event.type == pygame.QUIT:
     </p>
     <p>
      running = False
     </p>
     <p>
     </p>
     <p>
      # 检测按键
     </p>
     <p>
      if event.type == pygame.KEYDOWN:
     </p>
     <p>
      if event.key == pygame.K_LEFT:
     </p>
     <p>
      player_x_change = -5
     </p>
     <p>
      if event.key == pygame.K_RIGHT:
     </p>
     <p>
      player_x_change = 5
     </p>
     <p>
      if event.key == pygame.K_SPACE and bullet_state == "ready":
     </p>
     <p>
      bullet_x = player_x + 20
     </p>
     <p>
      bullet_state = "fire"
     </p>
     <p>
     </p>
     <p>
      if event.type == pygame.KEYUP:
     </p>
     <p>
      if event.key == pygame.K_LEFT or event.key == pygame.K_RIGHT:
     </p>
     <p>
      player_x_change = 0
     </p>
     <p>
     </p>
     <p>
      # 更新飞机位置
     </p>
     <p>
      player_x += player_x_change
     </p>
     <p>
      if player_x &lt;= 0:
     </p>
     <p>
      player_x = 0
     </p>
     <p>
      elif player_x &gt;= screen_width - 50:
     </p>
     <p>
      player_x = screen_width - 50
     </p>
     <p>
     </p>
     <p>
      # 更新子弹位置
     </p>
     <p>
      if bullet_state == "fire":
     </p>
     <p>
      fire_bullet(screen, bullet_x, bullet_y, bullet_img, bullet_x_change, bullet_y_change)
     </p>
     <p>
      bullet_y -= bullet_y_change
     </p>
     <p>
      if bullet_y &lt;= 0:
     </p>
     <p>
      bullet_y = player_y
     </p>
     <p>
      bullet_state = "ready"
     </p>
     <p>
     </p>
     <p>
      # 绘制飞机
     </p>
     <p>
      screen.blit(player_img, (player_x, player_y))
     </p>
     <p>
     </p>
     <p>
      # 更新屏幕
     </p>
     <p>
      pygame.display.update()
     </p>
     <p>
     </p>
     <p>
      # 退出Pygame
     </p>
     <p>
      pygame.quit()
     </p>
     <p>
      sys.exit()
     </p>
     <p>
     </p>
     <p>
      def fire_bullet(screen, x, y, bullet_img, x_change, y_change):
     </p>
     <p>
      bullet_rect = bullet_img.get_rect()
     </p>
     <p>
      bullet_rect.topleft = (x, y)
     </p>
     <p>
      screen.blit(bullet_img, bullet_rect)
     </p>
    </blockquote>
    <ul>
     <li>
      注意事项：
     </li>
    </ul>
    <blockquote>
     <p>
      图像文件：确保你有名为player.png和bullet.png的图像文件，并放在与你的Python脚本相同的目录中。
     </p>
    </blockquote>
    <ul>
     <li>
      《雷霆战机》Python小游戏的知识点总结
     </li>
    </ul>
    <blockquote>
     <p>
      1. pygame库的安装与配置
     </p>
     <p>
      pygame是一个开源的Python库，用于制作游戏，包括图形和声音库。
     </p>
     <p>
      安装pygame可以通过pip命令完成。
     </p>
     <p>
      配置pygame通常意味着确保所有依赖项都正确安装，包括SDL、音频库等。
     </p>
     <p>
      2. 游戏窗口与图形绘制
     </p>
     <p>
      使用pygame.display.set_mode()设置游戏窗口的大小。
     </p>
     <p>
      使用pygame.display.set_caption()设置窗口标题。
     </p>
     <p>
      使用pygame.image.load()加载图像，并使用pygame.Surface()创建图像对象。
     </p>
     <p>
      使用pygame.draw.circle()、pygame.draw.rect()等函数在屏幕上绘制形状。
     </p>
     <p>
      使用screen.blit()将图像绘制到屏幕上。
     </p>
     <p>
      3. 游戏循环与事件处理
     </p>
     <p>
      游戏主循环是游戏运行的核心，通常使用while循环实现。
     </p>
     <p>
      使用pygame.event.get()获取事件队列中的事件，并处理用户输入（如按键、鼠标点击等）。
     </p>
     <p>
      使用pygame.quit()和sys.exit()退出游戏。
     </p>
     <p>
      4. 精灵（Sprite）与精灵组（Sprite Group）
     </p>
     <p>
      精灵是pygame中用于表示游戏对象的类，通常包含图像、位置和移动速度等属性。
     </p>
     <p>
      使用pygame.sprite.Sprite()创建精灵类，并定义其__init__()、update()和draw()方法。
     </p>
     <p>
      精灵组用于管理多个精灵，可以方便地对它们进行更新和绘制。
     </p>
     <p>
      5. 碰撞检测与得分系统
     </p>
     <p>
      使用pygame.sprite.spritecollide()检测两个精灵之间的碰撞。
     </p>
     <p>
      可以设置得分系统，通过碰撞检测来增加或减少分数。
     </p>
     <p>
      6. 音频管理
     </p>
     <p>
      使用pygame.mixer.init()初始化音频模块。
     </p>
     <p>
      使用pygame.mixer.music.load()和pygame.mixer.music.play()加载和播放背景音乐。
     </p>
     <p>
      可以使用pygame.mixer.Sound()加载和播放音效。
     </p>
     <p>
      7. 游戏状态管理
     </p>
     <p>
      游戏状态管理涉及游戏的不同阶段（如开始、运行、结束等）的切换和处理。
     </p>
     <p>
      可以使用变量或类来管理游戏状态，并根据状态执行相应的操作。
     </p>
     <p>
      8. 用户输入处理
     </p>
     <p>
      处理键盘和鼠标输入是游戏开发中常见的需求。
     </p>
     <p>
      使用pygame.key.get_pressed()获取键盘按键状态。
     </p>
     <p>
      使用pygame.mouse.get_pos()获取鼠标位置，使用pygame.mouse.get_pressed()获取鼠标按键状态。
     </p>
    </blockquote>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f6378683636363838385f2f:61727469636c652f64657461696c732f313433323730303131" class_="artid" style="display:none">
 </p>
</div>


