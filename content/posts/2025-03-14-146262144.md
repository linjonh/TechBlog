---
layout: post
title: "Java泛型是什么有什么作用"
date: 2025-03-14 18:44:28 +0800
description: "Java泛型（Generics）是Java语言中一种类型参数化的机制，允许在类、接口、方法中使用类型参数，使代码能够处理多种数据类型，同时保证类型安全。泛型的主要目的是增强代码的复用性和安全性，避免类型转换错误。"
keywords: "Java泛型是什么？有什么作用？"
categories: ['Java']
tags: ['开发语言', 'Java', 'Ee']
artid: "146262144"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146262144
    alt: "Java泛型是什么有什么作用"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146262144
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146262144
cover: https://bing.ee123.net/img/rand?artid=146262144
image: https://bing.ee123.net/img/rand?artid=146262144
img: https://bing.ee123.net/img/rand?artid=146262144
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Java泛型是什么？有什么作用？
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     Java泛型（Generics）是Java语言中一种
     <code>
      类型参数化
     </code>
     的机制，允许在
     <code>
      类、接口、方法
     </code>
     中使用类型参数，使代码能够处理多种数据类型，同时保证类型安全。泛型的主要目的是增强代码的
     <code>
      复用性
     </code>
     和
     <code>
      安全性
     </code>
     ，避免类型转换错误。
    </p>
    <h3>
     <a id="_2">
     </a>
     泛型的核心概念
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        类型参数化
       </strong>
       <br/>
       在定义类、接口或方法时，用
       <code>
        &lt;T&gt;、&lt;K,V&gt;
       </code>
       等形式声明类型参数，实际使用时再指定具体类型。
      </p>
      <pre><code class="prism language-java"><span class="token comment">// 泛型类</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Box</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">T</span> content<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setContent</span><span class="token punctuation">(</span><span class="token class-name">T</span> content<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">this</span><span class="token punctuation">.</span>content <span class="token operator">=</span> content<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> content<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用</span>
<span class="token class-name">Box</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stringBox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Box</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
stringBox<span class="token punctuation">.</span><span class="token function">setContent</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> value <span class="token operator">=</span> stringBox<span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 无需强制类型转换</span>
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        类型安全
       </strong>
       <br/>
       编译器会检查泛型类型的合法性，防止在集合中混入不兼容的类型。
      </p>
      <pre><code class="prism language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Java"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// list.add(100); // 编译报错：类型不匹配</span>
</code></pre>
     </li>
    </ul>
    <h3>
     <a id="_30">
     </a>
     泛型的作用
    </h3>
    <ol>
     <li>
      <p>
       <strong>
        类型安全（Type Safety）
       </strong>
       <br/>
       在编译阶段进行类型检查，避免运行时出现
       <code>
        ClassCastException
       </code>
       。
      </p>
      <pre><code class="prism language-java"><span class="token comment">// 不使用泛型（存在风险）</span>
<span class="token class-name">List</span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Java"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 编译通过，但运行时会出错</span>
<span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 运行时抛出ClassCastException</span>

<span class="token comment">// 使用泛型（类型安全）</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> safeList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
safeList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Java"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// safeList.add(100); // 编译直接报错</span>
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        消除强制类型转换
       </strong>
       <br/>
       从集合中获取元素时，无需显式强制转换。
      </p>
      <pre><code class="prism language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> names <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
names<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Alice"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> name <span class="token operator">=</span> names<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 直接返回String类型</span>
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        代码复用
       </strong>
       <br/>
       通过泛型类、泛型方法，编写可处理多种类型的通用代码。
      </p>
      <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">getFirstElement</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 支持任何类型的List</span>
<span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token function">getFirstElement</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"A"</span><span class="token punctuation">,</span> <span class="token string">"B"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Integer</span> n <span class="token operator">=</span> <span class="token function">getFirstElement</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        增强可读性
       </strong>
       <br/>
       泛型让代码的意图更明确。例如，Map&lt;String, Integer&gt;直接表明键是String，值是Integer。
      </p>
     </li>
    </ol>
    <h3>
     <a id="_71">
     </a>
     泛型的核心特性
    </h3>
    <ol>
     <li>
      <p>
       <strong>
        类型擦除（Type Erasure）
       </strong>
       <br/>
       Java泛型在编译后会被擦除，转换为原始类型（Raw Type），并在必要时插入强制类型转换。
      </p>
      <pre><code class="prism language-java"><span class="token comment">// 编译前</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 编译后（类型擦除）</span>
<span class="token class-name">List</span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        通配符（Wildcards）
       </strong>
       <br/>
       （1）使用?表示未知类型，解决泛型类型的灵活性问题。
       <br/>
       （2）上界通配符（&lt;? extends T&gt;）：接受T及其子类。
       <br/>
       （3）下界通配符（&lt;? super T&gt;）：接受T及其父类。
      </p>
      <pre><code class="prism language-java"><span class="token comment">// 上界通配符：可以读取，不能写入</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Number</span><span class="token punctuation">&gt;</span></span> numbers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Number</span> num <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 允许读取</span>
<span class="token comment">// numbers.add(10); // 编译报错</span>

<span class="token comment">// 下界通配符：可以写入，读取为Object</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Number</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 允许写入</span>
<span class="token class-name">Object</span> obj <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 读取为Object</span>
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        泛型边界（Bounded Type）
       </strong>
       <br/>
       通过 “T extends SomeClass” 限制泛型类型的范围。
      </p>
      <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Calculator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Number</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token class-name">T</span> a<span class="token punctuation">,</span> <span class="token class-name">T</span> b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">doubleValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> b<span class="token punctuation">.</span><span class="token function">doubleValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 只能使用Number及其子类（如Integer、Double）</span>
<span class="token class-name">Calculator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> intCalc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Calculator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
     </li>
    </ol>
    <h3>
     <a id="_112">
     </a>
     泛型的典型应用场景
    </h3>
    <ul>
     <li>
      <p>
       集合框架（Collections）
       <br/>
       List、Map&lt;K,V&gt;等集合类均使用泛型，确保元素类型安全。
      </p>
      <pre><code class="prism language-java"><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> scores <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
scores<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"Alice"</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
     </li>
     <li>
      <p>
       工具类（如Optional）
       <br/>
       包装可能为空的值，避免NullPointerException。
      </p>
      <pre><code class="prism language-java"><span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> name <span class="token operator">=</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">ofNullable</span><span class="token punctuation">(</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
     </li>
     <li>
      <p>
       函数式接口（如Function&lt;T,R&gt;）
       <br/>
       支持泛型参数和返回值，用于Lambda表达式。
      </p>
      <pre><code class="prism language-java"><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> intToString <span class="token operator">=</span> num <span class="token operator">-&gt;</span> <span class="token string">"Value: "</span> <span class="token operator">+</span> num<span class="token punctuation">;</span>
</code></pre>
     </li>
    </ul>
    <h3>
     <a id="_136">
     </a>
     注意事项
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        泛型不支持基本类型
       </strong>
       <br/>
       必须使用包装类（如
       <code>
        List&lt;Integer&gt;
       </code>
       ，而非
       <code>
        List&lt;int&gt;
       </code>
       ）。
      </p>
     </li>
     <li>
      <p>
       <strong>
        类型擦除的限制
       </strong>
       <br/>
       无法在运行时获取泛型类型信息（如new T()或T.class）。
      </p>
     </li>
     <li>
      <p>
       <strong>
        泛型数组的创建
       </strong>
       <br/>
       直接创建泛型数组是非法的，需通过反射或强制转换。
      </p>
     </li>
    </ul>
    <h3>
     <a id="_147">
     </a>
     总结
    </h3>
    <p>
     Java泛型通过
     <code>
      类型参数化
     </code>
     ，提供了一种类型安全的编程方式，避免了强制类型转换的繁琐和潜在错误，同时提升了代码的可读性和复用性。尽管存在类型擦除等限制，泛型仍是Java开发中不可或缺的核心特性。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f34303937383438382f:61727469636c652f64657461696c732f313436323632313434" class_="artid" style="display:none">
 </p>
</div>


