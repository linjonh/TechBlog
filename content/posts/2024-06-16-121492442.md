---
layout: post
title: "2021全国职业技能大赛湖南省网络空间安全赛项赛题解析web"
date: 2024-06-16 15:08:44 +0800
description: "本文详细解析了2021年全国职业技能大赛湖南省网络空间安全赛项的赛题，涉及Web服务的SQL注入攻击"
keywords: "湖南网络的省赛学什么"
categories: ['职业技能大赛网络空间安全解析']
tags: ['安全', 'Web', 'Http']
artid: "121492442"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=121492442
    alt: "2021全国职业技能大赛湖南省网络空间安全赛项赛题解析web"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=121492442
featuredImagePreview: https://bing.ee123.net/img/rand?artid=121492442
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     2021全国职业技能大赛湖南省“网络空间安全赛项”赛题解析（web）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     1. 通过分析靶机LINUX页面信息，寻找漏洞页面，将WEB服务存在SQL注入漏洞的页面名称作为FLAG提交；（25分）
    </p>
    <p>
     <img alt="" height="12" src="https://i-blog.csdnimg.cn/blog_migrate/8fe8985f13f15fe621a86f7f525d007c.png" width="553"/>
    </p>
    <p>
     <span style="color:#ff0000;">
      注入页面为index2.php
     </span>
    </p>
    <p>
     2. 通过本地PC中的渗透测试平台KALI2020对靶机进行SQL注入攻击，获取靶机的数据库信息，将用来存放WEB服务的数据库名称作为FLAG提交；（25分）
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     <span style="color:#ff0000;">
      使用工具sqlmap
     </span>
    </p>
    <pre><code>sqlmap  -u  "你的页面的url"  --dbs 列出他的数据库</code></pre>
    <p>
     <img alt="" height="160" src="https://i-blog.csdnimg.cn/blog_migrate/5c626d1e44ddd77d0f510df29990d911.png" width="554">
     </img>
    </p>
    <p>
     ​​​​​​​        ​​​​​​​
     <span style="color:#ff0000;">
      发现数据库webiu
     </span>
    </p>
    <p>
     3.   通过本地PC中的渗透测试平台KALI2020对靶机进行SQL注入攻击，获取靶机的数据库信息，将用来存放WEB服务用户的表名称作为FLAG提交；（25分）
    </p>
    <pre><code>sqlmap  -u "你的页面url" -D webiu --tables 列出表</code></pre>
    <p>
     <img alt="" height="157" src="https://i-blog.csdnimg.cn/blog_migrate/a878ccece5ea267bcd130a1359578f78.png" width="554"/>
    </p>
    <p>
     <span style="color:#ff0000;">
      表名为iuser
     </span>
    </p>
    <p>
     4.通过本地PC中的渗透测试平台KALI2020对靶机进行SQL注入攻击，获取靶机的数据库信息，将用来存放WEB登陆用户admin用户的明文密码作为FLAG提交。（25分）
    </p>
    <pre><code>sqlmap  -u "你的页面url" -D webiu -T iuser --columns</code></pre>
    <p style="margin-left:.0001pt;text-align:justify;">
     <img alt="" height="205" src="https://i-blog.csdnimg.cn/blog_migrate/8718e300ecefc2673aa71d12ad57362b.png" width="554"/>
    </p>
    <p>
     ​​​​​​​        ​​​​​​​        ​​​​​​​        ​​​​​​​
     <span style="color:#ff0000;">
      分别爆出password 和 username字段的值
     </span>
    </p>
    <pre><code>sqlmap  -u "你的页面url" -D webiu -T iuser -C username，password --dump</code></pre>
    <p>
     <img alt="" height="170" src="https://i-blog.csdnimg.cn/blog_migrate/b70f9eb534a3994622af149541aa626c.png" width="554"/>
    </p>
    <p>
     ​​​​​​​        ​​​​​​​        ​​​​​​​        ​​​​​​​
     <span style="color:#ff0000;">
      账户admin的密码为123321
     </span>
    </p>
    <p>
     5.通过本地PC中的渗透测试平台KALI2020对靶机进行WEB渗透，找到页面内的文件上传漏洞并且尝试进行上传攻击，将文件上传成功后的页面回显字符串作为FLAG提交（如：点击超链接查看上传文件）；（25分）
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     <span style="color:#ff0000;">
      Nmap扫描发现高端口48119，直接进入服务器后台将root密码更改。
     </span>
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     <span style="color:#ff0000;">
      使用ssh直接远程登录进入该服务器。
     </span>
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     <img alt="" height="118" src="https://i-blog.csdnimg.cn/blog_migrate/1c3ab620f0f643065ab0a3445b5ed950.png" width="554"/>
    </p>
    <p>
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     <span style="color:#ff0000;">
      发现服务器的www下有两个文件一个为前台一个为后台，之前我们使用sqlmap的页面为qiantai，且http服务默认的就是前台。
     </span>
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     <span style="color:#ff0000;">
      将http服务内默认的网页改为后台
     </span>
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     <span style="color:#ff0000;">
      使用vi /etc/httpd/conf/httpd.conf进入目录
     </span>
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     <img alt="" height="340" src="https://i-blog.csdnimg.cn/blog_migrate/13beb4d03ff52a50e0f6b0bf9c4a5d5f.png" width="554"/>
    </p>
    <p>
     ​​​​​​​        ​​​​​​​        ​​​​​​​
     <span style="color:#ff0000;">
      将默认文件改为houtai，重启服务即可
     </span>
    </p>
    <p>
     6. 通过本地PC中的渗透测试平台KALI2020对靶机进行WEB渗透，找到页面内的文件上传漏洞并且尝试进行上传攻击，使用相关的渗透测试手段，获取到WEB权限，使用WHOAMI获取WEB当前的用户权限，并作为FLAG进行提交；（25分）
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     <span style="color:#ff0000;">
      改完后使用爆出来的账户密码进行登录
     </span>
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     <img alt="" height="276" src="https://i-blog.csdnimg.cn/blog_migrate/0b4ee603f4db8c1ecfa98dff5a9e0e93.png" width="554"/>
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     <img alt="" height="228" src="https://i-blog.csdnimg.cn/blog_migrate/2376d0f4e89b82fe49c447ef94acd958.png" width="554"/>
    </p>
    <p>
     <span style="color:#ff0000;">
      进入上传页面，写入一句话木马，改为1.php
     </span>
    </p>
    <p>
     <span style="color:#ff0000;">
     </span>
     <img alt="" height="197" src="https://i-blog.csdnimg.cn/blog_migrate/38b2701bdbd0fdab1c77a8820e38da01.png" width="554"/>
    </p>
    <p>
     <img alt="" height="82" src="https://i-blog.csdnimg.cn/blog_migrate/aa7fcecac4611a31708bf229034befbe.png" width="551"/>
    </p>
    <p>
     <span style="color:#ff0000;">
      提示上传图片文件，将1.php更名为1.jpg尝试
     </span>
    </p>
    <p>
     <span style="color:#ff0000;">
     </span>
     ​​​​​​​
     <img alt="" height="72" src="https://i-blog.csdnimg.cn/blog_migrate/231a60338f5f4d742465fb600fb684cf.png" width="378"/>
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     <span style="color:#ff0000;">
      还是不行，提示上传假图片。
     </span>
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     <span style="color:#ff0000;">
      从网上下载一张图片，再自己写一个一句话木马文件
     </span>
    </p>
    <p>
     <img alt="" height="152" src="https://i-blog.csdnimg.cn/blog_migrate/9cc1033dcbc1a697735d70494dd02774.png" width="76"/>
    </p>
    <p>
     <img alt="" height="290" src="https://i-blog.csdnimg.cn/blog_migrate/37e28a02acbab1f7fa6a013d42034340.png" width="554"/>
    </p>
    <p>
     <span style="color:#ff0000;">
      使用命令合并
     </span>
    </p>
    <p>
     <span style="color:#ff0000;">
     </span>
     <img alt="" height="187" src="https://i-blog.csdnimg.cn/blog_migrate/e9595e293c25f5f3b865197694d9bf37.png" width="554"/>
    </p>
    <p>
     <span style="color:#ff0000;">
      上传成功，尝试使用中国菜刀进行连接
     </span>
    </p>
    <p>
     <span style="color:#ff0000;">
     </span>
     <img alt="" height="207" src="https://i-blog.csdnimg.cn/blog_migrate/c2084f75ba84f194f5668c69fe6e984b.png" width="384"/>
    </p>
    <p>
     <span style="color:#ff0000;">
      发现连接失败，可能是方法不对。
     </span>
    </p>
    <p>
     <span style="color:#ff0000;">
     </span>
     <img alt="" height="40" src="https://i-blog.csdnimg.cn/blog_migrate/decb02981800725c093835a7e7c651f4.png" width="309"/>
    </p>
    <p>
     <span style="color:#ff0000;">
      查看其后台里的文件发现一个aa.php
     </span>
    </p>
    <p>
     <span style="color:#ff0000;">
     </span>
     <img alt="" height="51" src="https://i-blog.csdnimg.cn/blog_migrate/9cc75e9dac5a692d69f1fc22a752d2ac.png" width="329"/>
    </p>
    <p>
     <span style="color:#ff0000;">
      连接密码为aaa
     </span>
    </p>
    <p>
     <span style="color:#ff0000;">
      尝试使用url传参数发现可以直接显示
     </span>
    </p>
    <p>
     <span style="color:#ff0000;">
     </span>
     <img alt="" height="114" src="https://i-blog.csdnimg.cn/blog_migrate/2fe85a2d5c8073308bb2c1ef39ee7178.png" width="554"/>
    </p>
    <p>
     <span style="color:#ff0000;">
      Flag：apache
     </span>
    </p>
    <p>
     7.通过本地PC中的渗透测试平台KALI2020对靶机进行WEB渗透，找到页面内的文件上传漏洞并且尝试进行上传攻击，使用相关的渗透测试手段，获取到WEB权限，使用相关指令获取到当前linux用户UID为5的用户，将该用户的用户名称作为FLAG进行提交；（25分）
    </p>
    <p>
     <span style="color:#ff0000;">
      已经进入了服务器后台直接在/etc/passwd里查看
     </span>
    </p>
    <p>
     <span style="color:#ff0000;">
     </span>
     <img alt="" height="238" src="https://i-blog.csdnimg.cn/blog_migrate/252e9db08d3d7e48918404298ed87482.png" width="444"/>
    </p>
    <p>
     <span style="color:#ff0000;">
      Flag：sync
     </span>
    </p>
    <p>
     8.通过本地PC中的渗透测试平台KALI2020对靶机进行WEB渗透，找到页面内的文件上传漏洞并且尝试进行上传攻击，使用相关的渗透测试手段，获取到WEB权限，使用相关指令查看后台首页文件，将该文件的第二行的所有字符串作为FLAG进行提交。（25分）
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     <span style="color:#ff0000;">
      路径：vim /var/www/html/houtai/system_wws/index.php
     </span>
    </p>
    <p>
     <img alt="" height="412" src="https://i-blog.csdnimg.cn/blog_migrate/a31c145ab8437ee1c47ae596c8bbfa70.png" width="554"/>
    </p>
    <p>
    </p>
    <p>
     9.通过本地PC中的渗透测试平台KALI2020对服务器场景进行渗透攻击，获取到RSYNC服务所开放的端口，将RSYNC服务开放的端口数值进行MD5加密后作为FLAG提交（如MD5加密前：812）；（25分）
    </p>
    <p>
     <span style="color:#ff0000;">
      使用nmap扫描
     </span>
    </p>
    <p>
     <img alt="" height="190" src="https://i-blog.csdnimg.cn/blog_migrate/8705b6ffca92f42ed42f1a45d552a391.png" width="289"/>
    </p>
    <p>
     <span style="color:#ff0000;">
      端口873
     </span>
    </p>
    <p>
     10.通过本地PC中的渗透测试平台KALI2020对服务器场景进行渗透攻击，查看RSYNC服务的配置文件，将负责RSYNC服务同步的账号名称以及密码进行MD5加密后作为FLAG提交（如MD5加密前：admin/123）；（25分）
    </p>
    <p>
     <span style="color:#ff0000;">
      进入本地文件查看rsync服务vim /etc/rsyncd.conf
     </span>
    </p>
    <p>
     <span style="color:#ff0000;">
     </span>
     <img alt="" height="243" src="https://i-blog.csdnimg.cn/blog_migrate/43c676017d4047961255500256aa0e2a.png" width="322"/>
    </p>
    <p>
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     <span style="color:#ff0000;">
      发现test用户名和文件夹
     </span>
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     <span style="color:#ff0000;">
      查看文件夹
     </span>
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     <span style="color:#ff0000;">
     </span>
     <img alt="" height="48" src="https://i-blog.csdnimg.cn/blog_migrate/7f367a917c8cf2b2917c4f5672e038d4.png" width="153"/>
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     <span style="color:#ff0000;">
      Flag：test/JDYgQG
     </span>
    </p>
    <p>
     11.通过本地PC中的渗透测试平台KALI2020对服务器场景进行渗透攻击，使用渗透攻击手段获取到服务器中远程同步的文件，找到同步文件夹中包含flag的文件，将其内容作为FLAG提交；（25分）
    </p>
    <p>
     <span style="color:#ff0000;">
      路径：/mnt/backup里的backup flag文件夹 文件夹包含空格所以要加上引号 cat
     </span>
     <span style="color:#ff0000;">
      “
     </span>
     <span style="color:#ff0000;">
      backup flag
     </span>
     <span style="color:#ff0000;">
      ”
     </span>
    </p>
    <p>
     <span style="color:#ff0000;">
     </span>
     <img alt="" height="28" src="https://i-blog.csdnimg.cn/blog_migrate/4574aba8dd737608eb1d742aa2f0fb79.png" width="370"/>
    </p>
    <p>
    </p>
    <p>
     12.通过本地PC中的渗透测试平台KALI2020对服务器场景进行渗透攻击，使用渗透技术获取到服务器中UID为0的用户权限，查看LINUX服务器中/目录中的FLAG文件，将该文件的内容作为FLAG进行提交。（25分）
    </p>
    <p>
     <span style="color:#ff0000;">
      Vi /root/flagvalue.txt
     </span>
    </p>
    <p>
     <span style="color:#ff0000;">
     </span>
     <img alt="" height="78" src="https://i-blog.csdnimg.cn/blog_migrate/8ab4cc92cf1f598318678d0fc8215b7f.png" width="327"/>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="687474:70733a2f2f626c6f672e6373646e2e6e65742f44534445422f:61727469636c652f64657461696c732f313231343932343432" class_="artid" style="display:none">
 </p>
</div>


