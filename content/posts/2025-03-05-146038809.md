---
layout: post
title: "jmeter阶梯式压测"
date: 2025-03-05 19:01:45 +0800
description: "比如一个请求响应时间为2秒，END RPS 为30，那么线程数：2*30=60  即：响应时间＊RPS=所需线程数）。另外，线程组设置的循环是永远，但是因为有定时器的存在，脚本并不会停不下来，而是在定时器的时间结束后，脚本就会停止运行。即大约要60个线程， 考虑到运行时诸多影响因素（线程数增加后响应时间增加了）， 我们还。需要预备更多的线程，也许我们加到70个线程才能满足要求，这只是一个估算值。线程数太多时RPS 会超End RPS， 此元件会自动延迟线程的运行来稳定RPS。有个计算线程数的公式。"
keywords: "jmeter manger 梯度压测"
categories: ['Jmeter']
tags: ['Jmeter']
artid: "146038809"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146038809
    alt: "jmeter阶梯式压测"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146038809
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146038809
cover: https://bing.ee123.net/img/rand?artid=146038809
image: https://bing.ee123.net/img/rand?artid=146038809
img: https://bing.ee123.net/img/rand?artid=146038809
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     jmeter阶梯式压测
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h4>
     1、安装plugins manager
    </h4>
    <p>
     <a href="https://jmeter-plugins.org/install/Install/" rel="nofollow" title="链接 Install         :: JMeter-Plugins.org    ">
      链接 Install :: JMeter-Plugins.org
     </a>
    </p>
    <p>
     将下载下来的jar包放置在jemter文件的lib\ext下， 重启Jmeter
    </p>
    <p>
     <img alt="" height="282" src="https://i-blog.csdnimg.cn/direct/d6a3be8ef58847cca35df95cd5ccfdf7.png" width="570"/>
    </p>
    <h4 id="3.2%C2%A0%20%E5%AE%89%E8%A3%85%E9%98%B6%E6%A2%AF%E6%B5%8B%E8%AF%95%E7%AC%AC%E4%B8%89%E6%96%B9%E6%8F%92%E4%BB%B6">
     2、安装阶梯测试第三方插件
    </h4>
    <p>
     在Available Plugins中找到Custom Thread Groups，点击Apply Changes and Restart JMeter后等待插件安装完成
    </p>
    <p>
     <img alt="" height="650" src="https://i-blog.csdnimg.cn/direct/b2a053d8b16d44ee90cd598b8e272a47.png" width="970"/>
    </p>
    <h4>
     3、创建负载控制器线程组（sepping thread group）
    </h4>
    <p>
     <img alt="" height="293" src="https://i-blog.csdnimg.cn/direct/7f4cedb4150c4dfb9a7c6976537f1f05.png" width="953">
      <img alt="" height="582" src="https://i-blog.csdnimg.cn/direct/977880e53a0c44ccaa9243e3aef6eb5f.png" width="803"/>
     </img>
    </p>
    <p>
     <img alt="" height="909" src="https://i-blog.csdnimg.cn/direct/36513a3470a54f999ab214462b5825ad.png" width="1904"/>
    </p>
    <p>
     方案二：Concurrency Thread Group
    </p>
    <p>
     <img alt="" height="585" src="https://i-blog.csdnimg.cn/direct/d34944517f094c64b9479e4d5ac98a95.png" width="1552"/>
    </p>
    <p>
     <img alt="" height="595" src="https://i-blog.csdnimg.cn/direct/63439ef8322744bb81bdd2aa9848b2b8.png" width="1039"/>
    </p>
    <p>
     <img alt="" height="412" src="https://i-blog.csdnimg.cn/direct/69c74f5106474600be1d75425638b88b.png" width="1040"/>
    </p>
    <p>
     方案三：Throughput Shaping Timer
    </p>
    <p>
     <img alt="" height="634" src="https://i-blog.csdnimg.cn/direct/b421d93571c04f189e00561337d91455.png" width="1560"/>
    </p>
    <p>
     <img alt="" height="596" src="https://i-blog.csdnimg.cn/direct/fa59796019f04517ae3595c90220ffc6.png" width="1050"/>
    </p>
    <blockquote>
     <p>
      注意：
     </p>
     <p>
      <em id="__mceDel">
       End RPS 设置了RPS 上限，但要
      </em>
      <em id="__mceDel">
       <em id="__mceDel">
        达到此值是需要线程（虚拟用户〉来执行的，
       </em>
      </em>
      <em id="__mceDel">
       <em id="__mceDel">
        <em id="__mceDel">
         所以我们先要预设够多的线程，不然RPS目
        </em>
       </em>
      </em>
      <em id="__mceDel">
       <em id="__mceDel">
        <em id="__mceDel">
         <em id="__mceDel">
          标没法达到，JMeter 线程组在运行过程中是不
         </em>
        </em>
       </em>
      </em>
      <em id="__mceDel">
       <em id="__mceDel">
        <em id="__mceDel">
         <em id="__mceDel">
          <em id="__mceDel">
           会自动增加线程数的，只能一次性设置。下面
          </em>
         </em>
        </em>
       </em>
      </em>
      <em id="__mceDel">
       <em id="__mceDel">
        <em id="__mceDel">
         <em id="__mceDel">
          <em id="__mceDel">
           <em id="__mceDel">
            有个计算线程数的公式。
           </em>
          </em>
         </em>
        </em>
       </em>
      </em>
     </p>
     <p>
      <em id="__mceDel">
       <em id="__mceDel">
        <em id="__mceDel">
         <em id="__mceDel">
          <em id="__mceDel">
           <em id="__mceDel">
            <em id="__mceDel">
             比如一个请求响应时间为2秒，END RPS 为30，那么线程数：2*30=60  即：响应时间＊RPS=所需线程数）。
            </em>
           </em>
          </em>
         </em>
        </em>
       </em>
      </em>
      <em id="__mceDel">
       <em id="__mceDel">
        <em id="__mceDel">
         <em id="__mceDel">
          <em id="__mceDel">
           <em id="__mceDel">
            <em id="__mceDel">
             <em id="__mceDel">
              即大约要60个线程， 考虑到运行时诸多影响因素（线程数增加后响应时间增加了）， 我们还
             </em>
            </em>
           </em>
          </em>
         </em>
        </em>
       </em>
      </em>
      <em id="__mceDel">
       <em id="__mceDel">
        <em id="__mceDel">
         <em id="__mceDel">
          <em id="__mceDel">
           <em id="__mceDel">
            <em id="__mceDel">
             <em id="__mceDel">
              <em id="__mceDel">
               需要预备更多的线程，也许我们加到70个线程才能满足要求，这只是一个估算值。不用担心
              </em>
             </em>
            </em>
           </em>
          </em>
         </em>
        </em>
       </em>
      </em>
      <em id="__mceDel">
       <em id="__mceDel">
        <em id="__mceDel">
         <em id="__mceDel">
          <em id="__mceDel">
           <em id="__mceDel">
            <em id="__mceDel">
             <em id="__mceDel">
              <em id="__mceDel">
               <em id="__mceDel">
                线程数太多时RPS 会超End RPS， 此元件会自动延迟线程的运行来稳定RPS。
               </em>
              </em>
             </em>
            </em>
           </em>
          </em>
         </em>
        </em>
       </em>
      </em>
     </p>
     <p>
      <em>
       <em>
        <em>
         <em>
          <em>
           <em>
            <em>
             <em>
              <em>
               <em>
                另外，线程组设置的循环是永远，但是因为有定时器的存在，脚本并不会停不下来，而是在定时器的时间结束后，脚本就会停止运行。
               </em>
              </em>
             </em>
            </em>
           </em>
          </em>
         </em>
        </em>
       </em>
      </em>
     </p>
     <p>
     </p>
    </blockquote>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f67:2e6373646e2e6e65742f64617869617368616e677869616e2f:61727469636c652f64657461696c732f313436303338383039" class_="artid" style="display:none">
 </p>
</div>


