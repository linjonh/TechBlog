---
layout: post
title: "LeetCode-560-303å‰ç¼€å’Œæ€æƒ³è§£æ"
date: 2025-03-06 10:43:55 +0800
description: "æŒæ¡è¿™ä¸ªæŠ€å·§ï¼Œä½ å°†æ›´è½»æ¾åœ°åº”å¯¹æ•°ç»„å­åŒºé—´å’Œç›¸å…³é—®é¢˜ï¼è®°å½•å‰ç¼€å’Œï¼Œå¿«é€ŸæŸ¥æ‰¾ã€‚è¿™é“é¢˜çš„å…³é”®ç‚¹æ˜¯åˆ©ç”¨ã€‚"
keywords: "LeetCode 560 & 303ï¼šå‰ç¼€å’Œæ€æƒ³è§£æ**"
categories: ['æ¯æ—¥ç®—æ³•']
tags: ['ç®—æ³•', 'æ•°æ®ç»“æ„', 'Leetcode']
artid: "146062073"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146062073
    alt: "LeetCode-560-303å‰ç¼€å’Œæ€æƒ³è§£æ"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146062073
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146062073
cover: https://bing.ee123.net/img/rand?artid=146062073
image: https://bing.ee123.net/img/rand?artid=146062073
img: https://bing.ee123.net/img/rand?artid=146062073
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     LeetCode 560 &amp; 303ï¼šå‰ç¼€å’Œæ€æƒ³è§£æ**
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="LeetCode_560__303_0">
     </a>
     <strong>
      LeetCode 560 &amp; 303ï¼šå‰ç¼€å’Œæ€æƒ³è§£æ
     </strong>
    </h2>
    <h3>
     <a id="_LeetCode_560__K__2">
     </a>
     <strong>
      ğŸ”¥ LeetCode 560. å’Œä¸º K çš„å­æ•°ç»„
     </strong>
    </h3>
    <h4>
     <a id="__4">
     </a>
     <strong>
      ğŸ“Œ é¢˜ç›®æè¿°
     </strong>
    </h4>
    <p>
     ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„
     <code>
      nums
     </code>
     å’Œä¸€ä¸ªæ•´æ•°
     <code>
      k
     </code>
     ï¼Œè¯·ä½ ç»Ÿè®¡å¹¶è¿”å›
     <strong>
      æ•°ç»„ä¸­å’Œä¸º
      <code>
       k
      </code>
      çš„å­æ•°ç»„çš„ä¸ªæ•°
     </strong>
     ã€‚
    </p>
    <p>
     å­æ•°ç»„æ˜¯æ•°ç»„ä¸­
     <strong>
      å…ƒç´ çš„è¿ç»­éç©ºåºåˆ—
     </strong>
     ã€‚
    </p>
    <h4>
     <a id="__10">
     </a>
     <strong>
      ğŸ’¡ è§£é¢˜æ€è·¯
     </strong>
    </h4>
    <p>
     è¿™é“é¢˜çš„å…³é”®ç‚¹æ˜¯åˆ©ç”¨
     <strong>
      å‰ç¼€å’Œ + å“ˆå¸Œè¡¨
     </strong>
     è¿›è¡Œä¼˜åŒ–ï¼Œä½¿å…¶è¾¾åˆ°
     <code>
      O(n)
     </code>
     å¤æ‚åº¦ã€‚
    </p>
    <h5>
     <a id="__14">
     </a>
     <strong>
      ğŸš€ å‰ç¼€å’Œçš„æ ¸å¿ƒæ€æƒ³
     </strong>
    </h5>
    <ul>
     <li>
      è®¾
      <code>
       cur_sum
      </code>
      ä¸ºå½“å‰çš„å‰ç¼€å’Œã€‚
     </li>
     <li>
      ç›®æ ‡æ˜¯å¯»æ‰¾
      <code>
       cur_sum - k
      </code>
      ä¹‹å‰å‡ºç°çš„æ¬¡æ•°ã€‚
     </li>
     <li>
      ç»´æŠ¤ä¸€ä¸ªå“ˆå¸Œè¡¨
      <code>
       pre_sum
      </code>
      è®°å½•æ‰€æœ‰å‰ç¼€å’Œå‡ºç°çš„æ¬¡æ•°ã€‚
     </li>
     <li>
      æ¯æ¬¡
      <code>
       cur_sum
      </code>
      æ›´æ–°æ—¶ï¼Œæ£€æŸ¥
      <code>
       pre_sum[cur_sum - k]
      </code>
      ä»¥ç»Ÿè®¡æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ã€‚
     </li>
    </ul>
    <h4>
     <a id="__21">
     </a>
     <strong>
      ğŸ”— ä»£ç å®ç°
     </strong>
    </h4>
    <pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> defaultdict
<span class="token keyword">from</span> typing <span class="token keyword">import</span> List

<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">subarraySum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        pre_sum <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>
        pre_sum<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment"># åˆå§‹åŒ–ï¼Œè¡¨ç¤ºå‰ç¼€å’Œä¸º 0 å‡ºç° 1 æ¬¡</span>
        
        cur_sum<span class="token punctuation">,</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span>
        <span class="token keyword">for</span> num <span class="token keyword">in</span> nums<span class="token punctuation">:</span>
            cur_sum <span class="token operator">+=</span> num  <span class="token comment"># æ›´æ–°å½“å‰å‰ç¼€å’Œ</span>
            res <span class="token operator">+=</span> pre_sum<span class="token punctuation">[</span>cur_sum <span class="token operator">-</span> k<span class="token punctuation">]</span>  <span class="token comment"># ç»Ÿè®¡ä¹‹å‰å‡ºç°çš„ (cur_sum - k) æ¬¡æ•°</span>
            pre_sum<span class="token punctuation">[</span>cur_sum<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>  <span class="token comment"># è®°å½•å½“å‰å‰ç¼€å’Œçš„å‡ºç°æ¬¡æ•°</span>
        
        <span class="token keyword">return</span> res
</code></pre>
    <h4>
     <a id="__41">
     </a>
     <strong>
      ğŸ“Š æ—¶é—´å¤æ‚åº¦åˆ†æ
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       æ—¶é—´å¤æ‚åº¦
      </strong>
      ï¼š
      <code>
       O(n)
      </code>
      ï¼Œéå†ä¸€æ¬¡æ•°ç»„ï¼Œæ¯æ¬¡æ“ä½œå‡ä¸º
      <code>
       O(1)
      </code>
      ã€‚
     </li>
     <li>
      <strong>
       ç©ºé—´å¤æ‚åº¦
      </strong>
      ï¼š
      <code>
       O(n)
      </code>
      ï¼Œå“ˆå¸Œè¡¨å­˜å‚¨å‰ç¼€å’Œã€‚
     </li>
    </ul>
    <h4>
     <a id="__45">
     </a>
     <strong>
      ğŸ“ ç¤ºä¾‹è§£æ
     </strong>
    </h4>
    <pre><code class="prism language-python">è¾“å…¥<span class="token punctuation">:</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">2</span>
è¾“å‡º<span class="token punctuation">:</span> <span class="token number">2</span>
</code></pre>
    <ul>
     <li>
      <code>
       pre_sum = {0:1, 1:1, 2:1, 3:1}
      </code>
     </li>
     <li>
      è®¡ç®—è¿‡ç¨‹ï¼š
      <ul>
       <li>
        <code>
         cur_sum = 1
        </code>
        â†’
        <code>
         pre_sum[1 - 2] = pre_sum[-1]
        </code>
        ä¸å­˜åœ¨ â†’
        <code>
         res = 0
        </code>
       </li>
       <li>
        <code>
         cur_sum = 2
        </code>
        â†’
        <code>
         pre_sum[2 - 2] = pre_sum[0] = 1
        </code>
        â†’
        <code>
         res = 1
        </code>
       </li>
       <li>
        <code>
         cur_sum = 3
        </code>
        â†’
        <code>
         pre_sum[3 - 2] = pre_sum[1] = 1
        </code>
        â†’
        <code>
         res = 2
        </code>
       </li>
      </ul>
     </li>
    </ul>
    <p>
     è¿™é“é¢˜çš„æŠ€å·§åœ¨äº
     <strong>
      å¿«é€Ÿæ‰¾åˆ°å‰ç¼€å’Œæ»¡è¶³
      <code>
       cur_sum - k
      </code>
      çš„å­æ•°ç»„
     </strong>
     ï¼Œå®ç°
     <code>
      O(n)
     </code>
     çº§åˆ«çš„å¿«é€ŸæŸ¥æ‰¾ï¼
    </p>
    <hr/>
    <h3>
     <a id="_LeetCode_303____61">
     </a>
     <strong>
      ğŸš€ LeetCode 303. åŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„ä¸å¯å˜
     </strong>
    </h3>
    <h4>
     <a id="__63">
     </a>
     <strong>
      ğŸ“Œ é¢˜ç›®æè¿°
     </strong>
    </h4>
    <p>
     ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„
     <code>
      nums
     </code>
     ï¼Œå®ç°
     <code>
      sumRange(left, right)
     </code>
     æ¥è®¡ç®—
     <strong>
      ç´¢å¼•
      <code>
       left
      </code>
      å’Œ
      <code>
       right
      </code>
      ä¹‹é—´ï¼ˆåŒ…å«å·¦å³ç«¯ç‚¹ï¼‰çš„å…ƒç´ æ€»å’Œ
     </strong>
     ã€‚
    </p>
    <h4>
     <a id="__67">
     </a>
     <strong>
      ğŸ’¡ è§£é¢˜æ€è·¯
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       å‰ç¼€å’Œä¼˜åŒ–æŸ¥è¯¢
      </strong>
      ï¼š
      <ul>
       <li>
        é¢„è®¡ç®—å‰ç¼€å’Œ
        <code>
         s[i]
        </code>
        ï¼Œå…¶ä¸­
        <code>
         s[i]
        </code>
        ä»£è¡¨
        <code>
         nums
        </code>
        <strong>
         å‰
         <code>
          i
         </code>
         ä¸ªå…ƒç´ çš„å’Œ
        </strong>
        ã€‚
       </li>
       <li>
        <code>
         sumRange(left, right) = s[right+1] - s[left]
        </code>
        ã€‚
       </li>
      </ul>
     </li>
    </ul>
    <h4>
     <a id="__73">
     </a>
     <strong>
      ğŸ”— ä»£ç å®ç°
     </strong>
    </h4>
    <pre><code class="prism language-python"><span class="token keyword">from</span> typing <span class="token keyword">import</span> List

<span class="token keyword">class</span> <span class="token class-name">NumArray</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> i<span class="token punctuation">,</span> x <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>
            s<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> x  <span class="token comment"># è®¡ç®—å‰ç¼€å’Œ</span>
        self<span class="token punctuation">.</span>s <span class="token operator">=</span> s
    
    <span class="token keyword">def</span> <span class="token function">sumRange</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> left<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> right<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>s<span class="token punctuation">[</span>right <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> self<span class="token punctuation">.</span>s<span class="token punctuation">[</span>left<span class="token punctuation">]</span>  <span class="token comment"># åˆ©ç”¨å‰ç¼€å’Œè®¡ç®—å­æ•°ç»„å’Œ</span>
</code></pre>
    <h4>
     <a id="__89">
     </a>
     <strong>
      ğŸ“Š æ—¶é—´å¤æ‚åº¦åˆ†æ
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       åˆå§‹åŒ–
      </strong>
      ï¼š
      <code>
       O(n)
      </code>
      ï¼ˆè®¡ç®—å‰ç¼€å’Œï¼‰ã€‚
     </li>
     <li>
      <strong>
       æŸ¥è¯¢
       <code>
        sumRange
       </code>
      </strong>
      ï¼š
      <code>
       O(1)
      </code>
      ï¼ˆç›´æ¥ç›¸å‡å³å¯ï¼‰ã€‚
     </li>
    </ul>
    <h4>
     <a id="__94">
     </a>
     <strong>
      ğŸ“ ç¤ºä¾‹è§£æ
     </strong>
    </h4>
    <pre><code class="prism language-python">è¾“å…¥<span class="token punctuation">:</span>
nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
obj <span class="token operator">=</span> NumArray<span class="token punctuation">(</span>nums<span class="token punctuation">)</span>
obj<span class="token punctuation">.</span>sumRange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡º: 1  (-2 + 0 + 3 = 1)</span>
obj<span class="token punctuation">.</span>sumRange<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡º: -1 (3 + (-5) + 2 + (-1) = -1)</span>
obj<span class="token punctuation">.</span>sumRange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡º: -3 (-2 + 0 + 3 + (-5) + 2 + (-1) = -3)</span>
</code></pre>
    <hr/>
    <h3>
     <a id="__107">
     </a>
     <strong>
      ğŸ¯ é‡ç‚¹æ€»ç»“
     </strong>
    </h3>
    <h4>
     <a id="560__K____109">
     </a>
     <strong>
      560. å’Œä¸º K çš„å­æ•°ç»„ï¼ˆå‰ç¼€å’Œ + å“ˆå¸Œè¡¨ï¼‰
     </strong>
    </h4>
    <p>
     âœ…
     <strong>
      é—®é¢˜ï¼š
     </strong>
     ç»Ÿè®¡å­æ•°ç»„å’Œä¸º
     <code>
      k
     </code>
     çš„ä¸ªæ•°ã€‚
     <br/>
     âœ…
     <strong>
      ä¼˜åŒ–æ–¹æ³•ï¼š
     </strong>
     ä½¿ç”¨
     <code>
      å“ˆå¸Œè¡¨ pre_sum
     </code>
     è®°å½•å‰ç¼€å’Œï¼Œå¿«é€ŸæŸ¥æ‰¾
     <code>
      cur_sum - k
     </code>
     çš„æ¬¡æ•°ã€‚
     <br/>
     âœ…
     <strong>
      æ—¶é—´å¤æ‚åº¦ï¼š
     </strong>
     <code>
      O(n)
     </code>
     <br/>
     âœ…
     <strong>
      ç©ºé—´å¤æ‚åº¦ï¼š
     </strong>
     <code>
      O(n)
     </code>
    </p>
    <h4>
     <a id="303__115">
     </a>
     <strong>
      303. åŒºåŸŸå’Œæ£€ç´¢ï¼ˆå‰ç¼€å’Œä¼˜åŒ–æŸ¥è¯¢ï¼‰
     </strong>
    </h4>
    <p>
     âœ…
     <strong>
      é—®é¢˜ï¼š
     </strong>
     è®¡ç®—åŒºé—´
     <code>
      [left, right]
     </code>
     çš„å…ƒç´ æ€»å’Œã€‚
     <br/>
     âœ…
     <strong>
      ä¼˜åŒ–æ–¹æ³•ï¼š
     </strong>
     é¢„è®¡ç®—
     <code>
      å‰ç¼€å’Œ
     </code>
     ï¼ŒæŸ¥è¯¢æ—¶
     <code>
      O(1)
     </code>
     å¤æ‚åº¦ã€‚
     <br/>
     âœ…
     <strong>
      æ—¶é—´å¤æ‚åº¦ï¼š
     </strong>
     <code>
      O(n)
     </code>
     é¢„è®¡ç®—ï¼Œ
     <code>
      O(1)
     </code>
     æŸ¥è¯¢ã€‚
     <br/>
     âœ…
     <strong>
      ç©ºé—´å¤æ‚åº¦ï¼š
     </strong>
     <code>
      O(n)
     </code>
    </p>
    <p>
     ä¸¤é“é¢˜éƒ½åˆ©ç”¨äº†
     <strong>
      å‰ç¼€å’Œæ€æƒ³
     </strong>
     ï¼ŒæŒæ¡è¿™ä¸ªæŠ€å·§ï¼Œä½ å°†æ›´è½»æ¾åœ°åº”å¯¹æ•°ç»„å­åŒºé—´å’Œç›¸å…³é—®é¢˜ï¼ğŸ”¥ğŸš€
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f31373430353035392f:61727469636c652f64657461696c732f313436303632303733" class_="artid" style="display:none">
 </p>
</div>


