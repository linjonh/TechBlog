---
layout: post
title: "MySQL基本查询"
date: 2025-03-11 20:57:47 +0800
description: "MySQL基本查询"
keywords: "mysql知识点查询"
categories: ['知识总结', 'Mysql']
tags: ['数据库', 'Mysql']
artid: "146162212"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146162212
    alt: "MySQL基本查询"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146162212
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146162212
cover: https://bing.ee123.net/img/rand?artid=146162212
image: https://bing.ee123.net/img/rand?artid=146162212
img: https://bing.ee123.net/img/rand?artid=146162212
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     MySQL基本查询
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <hr id="hr-toc" name="tableOfContents"/>
    <p>
     <em>
      <span style="color:#a2e043">
       <strong>
        在MySQL数据库中，表的操作是最重要的，表的操作分为对表结构的操作和对表数据的操作，前几期我们已经学习了对表结构的操作，本期我们将学习对表数据的操作。
       </strong>
      </span>
     </em>
    </p>
    <h2 id="%E8%A1%A8%E7%9A%84%E5%A2%9E%E5%88%A0%E6%9F%A5%E6%94%B9%C2%A0" name="%E8%A1%A8%E7%9A%84%E5%A2%9E%E5%88%A0%E6%9F%A5%E6%94%B9%C2%A0" style="background-color:transparent">
     表的增删查改
    </h2>
    <p>
     对表数据的操作无非就四种操作，
     <strong>
      增(create)
     </strong>
     ，
     <strong>
      删除(delete)
     </strong>
     ，
     <strong>
      查(retrieve)
     </strong>
     ，
     <strong>
      改(update)
     </strong>
     。
    </p>
    <h3 id="%E5%A2%9E(create)" name="%E5%A2%9E(create)">
     增(create)
    </h3>
    <p>
     使用
     <strong>
      insert [into]
     </strong>
     关键字进行数据的增加操作，我们一般称为数据的插入操作。
    </p>
    <p>
     创建一张学生表。
     <img alt="" height="459" src="https://i-blog.csdnimg.cn/direct/9f2a55f410844d96b45f8f3273ca2db1.png" width="1205"/>
    </p>
    <h4 id="%E5%8D%95%E8%A1%8C%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%85%A8%E5%88%97%E6%8F%92%E5%85%A5" name="%E5%8D%95%E8%A1%8C%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%85%A8%E5%88%97%E6%8F%92%E5%85%A5">
     单行数据，全列插入
    </h4>
    <h4 id="%E2%80%8B%E7%BC%96%E8%BE%91" name="%E2%80%8B%E7%BC%96%E8%BE%91">
     <img alt="" height="344" src="https://i-blog.csdnimg.cn/direct/5ecba0a53d494b99844969be2539fc78.png" width="1086"/>
    </h4>
    <h4 id="%E5%A4%9A%E8%A1%8C%E6%95%B0%E6%8D%AE%EF%BC%8C%E6%8C%87%E5%AE%9A%E5%88%97%E6%8F%92%E5%85%A5%C2%A0" name="%E5%A4%9A%E8%A1%8C%E6%95%B0%E6%8D%AE%EF%BC%8C%E6%8C%87%E5%AE%9A%E5%88%97%E6%8F%92%E5%85%A5%C2%A0">
     多行数据，指定列插入
    </h4>
    <p>
     <img alt="" height="360" src="https://i-blog.csdnimg.cn/direct/daf7eccde7b34019b6deafa7b1e2c507.png" width="1148"/>
    </p>
    <p>
     在前几期我们已经学习了主键和唯一键，对于主键和唯一键而言，这一字段的数据是唯一的不能重复，所以如果我们此时插入了重复的数据，就会报错。
    </p>
    <p>
     <img alt="" height="131" src="https://i-blog.csdnimg.cn/direct/a643863ae6ee4bf58fa88ad15d00d06f.png" width="881"/>
    </p>
    <p>
     为了防止报错的情况，引入了更新和替换的方案。
    </p>
    <blockquote>
     <p>
      <strong>
       1.判断插入的数据与表原有的数据产生主键或者唯一键冲突，如果冲突就更新冲突的数据，如果不冲突就直接插入。
      </strong>
     </p>
     <p>
      <strong>
       通过 duplicate key 关键字实现。
      </strong>
     </p>
    </blockquote>
    <p>
     <img alt="" height="568" src="https://i-blog.csdnimg.cn/direct/7a2244718c9541ceac08735215cde386.png" width="1390"/>
    </p>
    <blockquote>
     <p>
      <strong>
       2.判断插入的数据是否与表原有的数据产生主键和唯一键冲突，如果冲突就删除原有的数据，然后插入新的数据，如果没有冲突，则直接插入。
      </strong>
     </p>
     <p>
      <strong>
       通过 replace into 关键字实现。
      </strong>
     </p>
    </blockquote>
    <p>
     <img alt="" height="660" src="https://i-blog.csdnimg.cn/direct/feaeb37d468443839695b4ff00d7b678.png" width="1214"/>
    </p>
    <blockquote>
     <p>
      两种方法的区别就是
      <strong>
       duplicate key
      </strong>
      同步时，如果插入的数据和原数据冲突，就更新原数据而并不删除，而
      <strong>
       replace into
      </strong>
      关键字替换时，如果与原数据冲突，就会先删除原数据，然后再进行插入，所以区别就在于对冲突数据的处理方法上。
     </p>
     <p>
      <strong>
       通常我们说表中的一个数据就是一个记录，也就是表的一行内容。
      </strong>
     </p>
    </blockquote>
    <h3 id="%E6%9F%A5(retrieve)%C2%A0" name="%E6%9F%A5(retrieve)%C2%A0">
     <strong>
      查(retrieve)
     </strong>
    </h3>
    <blockquote>
     <p>
      通过
      <strong>
       select
      </strong>
      关键字进行查询。
     </p>
    </blockquote>
    <p>
     创建成绩表exam_result，并且插入对应的数据。
    </p>
    <p>
     <img alt="" height="793" src="https://i-blog.csdnimg.cn/direct/4f10e36bba5d414eb776e2d838409961.png" width="1248"/>
    </p>
    <h4 id="%C2%A0%20%C2%A0%E5%85%A8%E5%88%97%E6%9F%A5%E8%AF%A2%C2%A0" name="%C2%A0%20%C2%A0%E5%85%A8%E5%88%97%E6%9F%A5%E8%AF%A2%C2%A0">
     全列查询
    </h4>
    <blockquote>
     <p>
      <strong>
       查询 exam_result 的所有字段的数据。
      </strong>
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="353" src="https://i-blog.csdnimg.cn/direct/bf8b8595a17849b395d2de1af053f632.png" width="811"/>
    </p>
    <h4 id="%E6%8C%87%E5%AE%9A%E5%88%97%E6%9F%A5%E8%AF%A2" name="%E6%8C%87%E5%AE%9A%E5%88%97%E6%9F%A5%E8%AF%A2">
     指定列查询
    </h4>
    <blockquote>
     <p>
      <strong>
       查询 exam_result name字段，chinese字段的所有数据。
      </strong>
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="345" src="https://i-blog.csdnimg.cn/direct/8839804be94648ab99d6fcbb51bca6e2.png" width="806"/>
    </p>
    <h4 id="%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AD%97%E6%AE%B5%E6%9F%A5%E8%AF%A2" name="%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AD%97%E6%AE%B5%E6%9F%A5%E8%AF%A2">
     表达式字段查询
    </h4>
    <blockquote>
     <p>
      将查询出来的
      <strong>
       chinese字段
      </strong>
      的值+10。
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="344" src="https://i-blog.csdnimg.cn/direct/03a40b26bcfb49eab793f33a77412161.png" width="697"/>
    </p>
    <blockquote>
     <p>
      查询
      <strong>
       name
      </strong>
      ，
      <strong>
       chinese+math+english
      </strong>
      字段，可以获得总成绩。
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="299" src="https://i-blog.csdnimg.cn/direct/4b62186bccd844be98b9c40dfac2e557.png" width="834"/>
    </p>
    <h4 id="%E7%BB%99%E5%AD%97%E6%AE%B5%E8%B5%B7%E5%88%AB%E5%90%8D" name="%E7%BB%99%E5%AD%97%E6%AE%B5%E8%B5%B7%E5%88%AB%E5%90%8D">
     给字段起别名
    </h4>
    <blockquote>
     <p>
      查询
      <strong>
       name
      </strong>
      ，
      <strong>
       chinese+math+english
      </strong>
      字段，给
      <strong>
       chinese+math+english
      </strong>
      起名为
      <strong>
       总分
      </strong>
      ，可以获得总成绩。
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="343" src="https://i-blog.csdnimg.cn/direct/14734a62c83f4c65988257ebcb4701c9.png" width="925"/>
    </p>
    <blockquote>
     <p>
      查询
      <strong>
       总分&lt;200
      </strong>
      分的学生的成绩。
     </p>
    </blockquote>
    <p>
     <img alt="" height="103" src="https://i-blog.csdnimg.cn/direct/2c6da1b3884d40aba60db6fb1f7eaa38.png" width="1007"/>
    </p>
    <p>
     此时我们惊奇的发现，mysql提示我们
     <strong>
      总分
     </strong>
     这个字段无法识别，这是为什么呢？
    </p>
    <blockquote>
     <p>
      基于此，我们就要引入了sql语句执行顺序的概念，我们规定在sql语句的执行中，
      <strong>
       where子句是先于select子句执行的
      </strong>
      ，所以就自然不能使用select中重命名之后的字段。
     </p>
     <p>
      可以理解为是where子句先筛选数据，筛选完数据之后，此时select子句再去进行查询。
     </p>
    </blockquote>
    <p>
     所以要实现上述情景，就不能使用重命名之后的字段，必须使用数据库表原有的字段。图示如下。
    </p>
    <p>
     <img alt="" height="228" src="https://i-blog.csdnimg.cn/direct/0474c2f5c5874b42a2b8ac794e3c6c2c.png" width="1129"/>
    </p>
    <h4 id="%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E5%8E%BB%E9%87%8D%C2%A0" name="%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E5%8E%BB%E9%87%8D%C2%A0">
     查询结果去重
    </h4>
    <blockquote>
     <p>
      使用
      <strong>
       distinct关键字
      </strong>
      可以对查询出来的数据进行去重。
     </p>
    </blockquote>
    <p>
     通过exam_result 表发现
     <strong>
      math
     </strong>
     字段有重复的数据，所以我们对查询出来的
     <strong>
      math
     </strong>
     字段的数据进行去重。
    </p>
    <p>
     <img alt="" height="550" src="https://i-blog.csdnimg.cn/direct/301f62cd0260428486b76c601a267bb7.png" width="1059"/>
    </p>
    <p>
     以上我们查询出来的数据都是没有进行筛选过的数据，而数据库表中所有的数据，如果我们要对查询出来的数据进行约束，就要使用
     <strong>
      where
     </strong>
     条件。
    </p>
    <h4 id="where%E6%9D%A1%E4%BB%B6%C2%A0" name="where%E6%9D%A1%E4%BB%B6%C2%A0">
     where条件
    </h4>
    <h5 id="%C2%A0%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6" name="%C2%A0%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6">
     比较运算符
    </h5>
    <table border="1" cellpadding="1" cellspacing="1" style="width:650px">
     <tbody>
      <tr>
       <td>
        <strong>
         运算符
        </strong>
       </td>
       <td>
        <strong>
         说明
        </strong>
       </td>
      </tr>
      <tr>
       <td>
        &gt;, &gt;=, &lt;, &lt;=
       </td>
       <td>
        大于，大于等于，小于，小于等于
       </td>
      </tr>
      <tr>
       <td>
        =
       </td>
       <td>
        等于，NULL 不安全，例如 NULL = NULL 的结果是 NULL
       </td>
      </tr>
      <tr>
       <td>
        &lt;=&gt;
       </td>
       <td>
        等于，NULL 安全，例如 NULL NULL 的结果是 TRUE(1)
       </td>
      </tr>
      <tr>
       <td>
        !=, &lt;&gt;
       </td>
       <td>
        不等于
       </td>
      </tr>
      <tr>
       <td>
        BETWEEN a0 AND a1
       </td>
       <td>
        范围匹配，value属于[a0, a1]，如果 a0 &lt;= value &lt;= a1，返回 TRUE(1)
       </td>
      </tr>
      <tr>
       <td>
        IN (option, ...)
       </td>
       <td>
        (option,...)括号中的可以理解为是一个集合
       </td>
      </tr>
      <tr>
       <td>
        IS NULL
       </td>
       <td>
        是 NULL
       </td>
      </tr>
      <tr>
       <td>
        IS NOT NULL
       </td>
       <td>
        不是 NULL
       </td>
      </tr>
      <tr>
       <td>
        LIKE模糊匹配
       </td>
       <td>
        % 表示任意多个（包括 0 个）任意字符；_ 表示任意一个字符
       </td>
      </tr>
     </tbody>
    </table>
    <h5 id="%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6" name="%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6">
     逻辑运算符
    </h5>
    <table border="1" cellpadding="1" cellspacing="1" style="width:650px">
     <tbody>
      <tr>
       <td style="width:168px">
        <strong>
         运算符
        </strong>
       </td>
       <td style="width:480px">
        <strong>
         说明
        </strong>
       </td>
      </tr>
      <tr>
       <td style="width:168px">
        AND
       </td>
       <td style="width:480px">
        多个条件必须都为 TRUE(1)，结果才是 TRUE(1)
       </td>
      </tr>
      <tr>
       <td style="width:168px">
        OR
       </td>
       <td style="width:480px">
        任意一个条件为 TRUE(1), 结果为 TRUE(1)
       </td>
      </tr>
      <tr>
       <td style="width:168px">
        NOT
       </td>
       <td style="width:480px">
        条件为 TRUE(1)，结果为 FALSE(0)
       </td>
      </tr>
     </tbody>
    </table>
    <h5 id="%E6%9F%A5%E8%AF%A2%E7%A4%BA%E4%BE%8B" name="%E6%9F%A5%E8%AF%A2%E7%A4%BA%E4%BE%8B">
     查询示例
    </h5>
    <blockquote>
     <p>
      <strong>
       查询英文成绩不及格(&lt;60)的同学以及英语成绩。
      </strong>
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="264" src="https://i-blog.csdnimg.cn/direct/9f6aeba3daa64c07bbcc9971757f170a.png" width="836"/>
    </p>
    <blockquote>
     <p>
      <strong>
       查询语文成绩在[80,90]分的同学及语文成绩。
      </strong>
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="222" src="https://i-blog.csdnimg.cn/direct/dea30a3e74574a0daca57793832abff9.png" width="952"/>
    </p>
    <blockquote>
     <p>
      <strong>
       查询数学成绩是58或者59或者98或者99分的同学及数学成绩。
      </strong>
     </p>
    </blockquote>
    <p>
     有两种方法，
     <strong>
      一种是使用or进行连接，一种是使用in条件
     </strong>
     。
    </p>
    <p>
     <img alt="" height="407" src="https://i-blog.csdnimg.cn/direct/a8915b00ec7d427284a31a091ccf5fc8.png" width="1244"/>
    </p>
    <blockquote>
     <p>
      查询
      <strong>
       姓孙的同学
      </strong>
      和
      <strong>
       孙某同学
      </strong>
      。
     </p>
     <p>
      通过like进行模糊查询，
      <strong>
       %
      </strong>
      代表任意字符，
      <strong>
       _
      </strong>
      代表一个字符。
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="426" src="https://i-blog.csdnimg.cn/direct/90ea199adf7f4c98977413f413bacdca.png" width="941"/>
    </p>
    <blockquote>
     <p>
      <strong>
       查询语文成绩好于英语成绩的同学及他们的英语成绩和语文成绩
      </strong>
      。
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="277" src="https://i-blog.csdnimg.cn/direct/10c31b0027aa47eb9ca493ee14001246.png" width="1033"/>
    </p>
    <blockquote>
     <p>
      <strong>
       查询总分在200分以下的同学。
      </strong>
     </p>
    </blockquote>
    <p>
     <img alt="" height="216" src="https://i-blog.csdnimg.cn/direct/fa48a0e1aa9749aaba604acf371a9fea.png" width="1177"/>
    </p>
    <blockquote>
     <p>
      查询
      <strong>
       语文成绩 &gt; 80
      </strong>
      并且
      <strong>
       不姓孙
      </strong>
      的同学。
     </p>
    </blockquote>
    <p>
     <img alt="" height="238" src="https://i-blog.csdnimg.cn/direct/b33c1d357d754999b3777cf7cc4dc162.png" width="1120"/>
    </p>
    <blockquote>
     <p>
      查询
      <strong>
       孙某
      </strong>
      同学，否则要求
      <strong>
       总成绩&gt;200
      </strong>
      并且
      <strong>
       语文成绩 &lt; 数学成绩
      </strong>
      并且
      <strong>
       英语成绩 &gt; 80。
      </strong>
     </p>
    </blockquote>
    <p>
     <img alt="" height="252" src="https://i-blog.csdnimg.cn/direct/783dce973bcc4d40b8fe25b44eb84d4d.png" width="1674"/>
    </p>
    <blockquote>
     <p>
      查询
      <strong>
       qq号为空
      </strong>
      的学生，和
      <strong>
       qq号不为空
      </strong>
      的学生。
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="557" src="https://i-blog.csdnimg.cn/direct/25b5469008704224975eaa6aee723c02.png" width="1006"/>
    </p>
    <p>
     我们发现null是不能直接使用
     <strong>
      =
     </strong>
     进行判断的，必须使用
     <strong>
      &lt;=&gt;
     </strong>
     进行判断 ，一般情况下，判空的操作我们一般使用
     <strong>
      is null
     </strong>
     或者
     <strong>
      is not null
     </strong>
     。
    </p>
    <blockquote>
     <p>
      <strong>
       null
      </strong>
      和
      <strong>
       ' '
      </strong>
      的区别？
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="412" src="https://i-blog.csdnimg.cn/direct/8d2d9d3bb640430b80b2e00eb9453f0d.png" width="688"/>
    </p>
    <blockquote>
     <p>
      简单的来说
      <strong>
       '  '
      </strong>
      代表有数据，数据是一个空串，而
      <strong>
       null
      </strong>
      代表没有数据。比如说学校的考试，小明去了教室考了零分，和小明缺考是不一样的，考了零分证明考了试，只不过成绩为0，缺考就证明没有考试。
     </p>
    </blockquote>
    <h4 id="%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E6%8E%92%E5%BA%8F%C2%A0" name="%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E6%8E%92%E5%BA%8F%C2%A0" style="background-color:transparent">
     查询结果排序
    </h4>
    <blockquote>
     <p>
      通常我们使用
      <strong>
       order by
      </strong>
      子句对于查询出来的数据进行排序，
      <strong>
       asc
      </strong>
      排升序，
      <strong>
       desc
      </strong>
      排降序。
     </p>
    </blockquote>
    <blockquote>
     <p>
      查询同学的
      <strong>
       数学成绩
      </strong>
      ，并对数学成绩
      <strong>
       升序
      </strong>
      排序。
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="292" src="https://i-blog.csdnimg.cn/direct/c939b953295e45c78b49b325ebc59ca1.png" width="711"/>
    </p>
    <blockquote>
     <p>
      查询同学
      <strong>
       qq号
      </strong>
      ，并对
      <strong>
       qq号
      </strong>
      进行升序排序。
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="259" src="https://i-blog.csdnimg.cn/direct/bbf63cfd040c440ea9dab7e307122579.png" width="802"/>
    </p>
    <blockquote>
     <p>
      <strong>
       注意
      </strong>
      ：null比任何值都小，所以排在最上面。
     </p>
    </blockquote>
    <blockquote>
     <p>
      查询同学
      <strong>
       各门成绩
      </strong>
      ，依次按
      <strong>
       数学降序
      </strong>
      ，
      <strong>
       英语升序
      </strong>
      ，
      <strong>
       语文升序
      </strong>
      的方式显示。
     </p>
    </blockquote>
    <p>
     <img alt="" height="306" src="https://i-blog.csdnimg.cn/direct/e0aa4a3908b14b2abe4e39bcf4f88a05.png" width="1205"/>
    </p>
    <p>
     <strong>
      我们发现此时查询出来的结果只有数学成绩符合查询出的要求，这是因为一张表中的数据，不可能同时满足上述的数学成绩降序，英语成绩升序，语文成绩升序。既然无法同时满足，那就满足第一个查询的要求，即数学成绩降序排序。
     </strong>
    </p>
    <blockquote>
     <p>
      查询
      <strong>
       同学总分
      </strong>
      ，并且
      <strong>
       由高到低
      </strong>
      显示。
     </p>
    </blockquote>
    <p>
     <img alt="" height="346" src="https://i-blog.csdnimg.cn/direct/1085bcf66bba49a3b836ceb91ea034b1.png" width="1118"/>
    </p>
    <p>
     此时，我们竟然发现，order by 子句中竟然又可以使用别名了，这是为什么呢？
    </p>
    <blockquote>
     <p>
      <strong>
       这是因为，sql语句的执行顺序是不一样的，一般情况下，先是通过where子句筛选出符合条件的数据，然后对筛选出的数据进行select查询，然后对查询出来的数据进行order by排序，最终显示。所以order by子句是后于select子句执行的，所以当然可以使用select子句中设置的字段别名。
      </strong>
     </p>
    </blockquote>
    <p>
     也正是因为where 和 order by子句的执行顺序是不一样的所以，这两个子句是可以同时出现的。
    </p>
    <blockquote>
     <p>
      查询
      <strong>
       姓孙
      </strong>
      的同学或者
      <strong>
       姓曹
      </strong>
      的同学
      <strong>
       数学成绩
      </strong>
      ，结果按
      <strong>
       数学成绩由高到低
      </strong>
      显示 。
     </p>
    </blockquote>
    <p>
     <img alt="" height="206" src="https://i-blog.csdnimg.cn/direct/e2d513f88ce9487f81c2c4b0f21a313c.png" width="1231"/>
    </p>
    <h4 id="%E7%AD%9B%E9%80%89%E5%88%86%E9%A1%B5%E7%BB%93%E6%9E%9C%C2%A0" name="%E7%AD%9B%E9%80%89%E5%88%86%E9%A1%B5%E7%BB%93%E6%9E%9C%C2%A0" style="background-color:transparent">
     筛选分页结果
    </h4>
    <blockquote>
     <p>
      有时候我们可能会有只显示查询的数据的前几行的需求，所以此时就引入了筛选分页结果的概念。
     </p>
     <p>
      通过limit关键字进行实现。
     </p>
     <p>
      <strong>
       limit  n
      </strong>
      ：显示前n行。
     </p>
     <p>
      <strong>
       limit  s ，n
      </strong>
      ：从s开始，显示n行。
     </p>
     <p>
      <strong>
       limit  n offset s
      </strong>
      ：从s开始，显示n行。
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="310" src="https://i-blog.csdnimg.cn/direct/2ab342446a534e478cdfa259dd81de8e.png" width="899"/>
    </p>
    <p class="img-center">
     <img alt="" height="776" src="https://i-blog.csdnimg.cn/direct/c65e2cde4cbb4b9fbefab3c23899b0d4.png" width="846"/>
    </p>
    <h3 id="%E6%94%B9(update)" name="%E6%94%B9(update)" style="background-color:transparent">
     <strong>
      改(update)
     </strong>
    </h3>
    <blockquote>
     <p>
      <strong>
      </strong>
      通常我们使用
      <strong>
       update ... set
      </strong>
      关键字进行数据的修改。
     </p>
    </blockquote>
    <blockquote>
     <p>
      将
      <strong>
       孙悟空
      </strong>
      同学的
      <strong>
       数学成绩变为80
      </strong>
      分。
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="451" src="https://i-blog.csdnimg.cn/direct/76986c126dca4a23976eabe8866ad638.png" width="1002"/>
    </p>
    <blockquote>
     <p>
      将
      <strong>
       曹孟德
      </strong>
      同学的
      <strong>
       数学成绩
      </strong>
      更改为
      <strong>
       60
      </strong>
      分，
      <strong>
       语文成绩
      </strong>
      更改为
      <strong>
       70
      </strong>
      分。
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="458" src="https://i-blog.csdnimg.cn/direct/b401742d692341e48d590b1ca2484248.png" width="951"/>
    </p>
    <blockquote>
     <p>
      将
      <strong>
       总成绩倒数前三
      </strong>
      的
      <strong>
       3位同学
      </strong>
      的
      <strong>
       数学成绩加上30
      </strong>
      分。
     </p>
    </blockquote>
    <p>
     <img alt="" height="538" src="https://i-blog.csdnimg.cn/direct/56d7be9bd7f94578a635240e38b9d086.png" width="1253"/>
    </p>
    <blockquote>
     <p>
      要注意的是，
      <strong>
       update子句
      </strong>
      的执行顺序一定是在
      <strong>
       order by子句
      </strong>
      之后才执行的，可以理解为先通过
      <strong>
       order by
      </strong>
      子句将
      <strong>
       chinese+english+math
      </strong>
      字段查询了出来
      <strong>
       并且进行了排序然后最终保留了倒数前3的3个记录
      </strong>
      ，最终由
      <strong>
       update子句
      </strong>
      进行数据更改。
     </p>
    </blockquote>
    <blockquote>
     <p>
      <strong>
       将所有同学的语文成绩更改为原来的两倍。
      </strong>
     </p>
    </blockquote>
    <p>
     <img alt="" height="789" src="https://i-blog.csdnimg.cn/direct/6fbe49d6e94b4de39f8da475edb33694.png" width="1159"/>
    </p>
    <blockquote>
     <p>
      <strong>
       如果没有where子句作为筛选条件，则最终更改的就是表中这一字段的所有数据，一般情况下我们不建议全表数据的更改，应该写上对应的where子句作为筛选的条件。
      </strong>
     </p>
    </blockquote>
    <h3 id="%E5%88%A0(delete)%C2%A0" name="%E5%88%A0(delete)%C2%A0" style="background-color:transparent">
     删(delete)
    </h3>
    <h4 id="%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE" name="%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE">
     删除数据
    </h4>
    <blockquote>
     <p>
      使用
      <strong>
       delete from
      </strong>
      关键字进行数据的删除操作。
     </p>
    </blockquote>
    <blockquote>
     <p>
      删除
      <strong>
       孙悟空
      </strong>
      同学的成绩。
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="326" src="https://i-blog.csdnimg.cn/direct/247a7b7c30ba41d3a6fc9111cea5d11e.png" width="733"/>
    </p>
    <blockquote>
     <p>
      <strong>
       删除整张表的数据。
      </strong>
     </p>
    </blockquote>
    <p>
     新创建一个用于删除数据的表。
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="363" src="https://i-blog.csdnimg.cn/direct/1efb0b880eb84f4d82942d85cb48b06b.png" width="945"/>
    </p>
    <p>
     插入相应的数据。
    </p>
    <p>
     <img alt="" height="337" src="https://i-blog.csdnimg.cn/direct/e0c0ef4b1b634f6db02c6b3262d51d6c.png" width="1041"/>
    </p>
    <p>
     删除整张表的数据。
    </p>
    <p class="img-center">
     <img alt="" height="160" src="https://i-blog.csdnimg.cn/direct/8fc7d230833542b5919c8cacf663c328.png" width="648"/>
    </p>
    <p>
     往空表中再次插入一条数据。
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="270" src="https://i-blog.csdnimg.cn/direct/d33d8eee9baf4c4cac75a7364f07e6f0.png" width="801"/>
    </p>
    <p>
     我们发现，其实我们删除了整张表的数据之后，再次往空表中插入数据时，此时的主键依然是从4开始的，意味着自增并没有清零。
    </p>
    <p>
     查看表结构，发现此时的主键id对应的auto_increment 字段显示为5，意味着下一条数据的主键从5开始自增。
    </p>
    <p class="img-center">
     <img alt="" height="400" src="https://i-blog.csdnimg.cn/direct/0576d8d6b466410097d6cc5b42b70521.png" width="751"/>
    </p>
    <h4 id="%E6%88%AA%E6%96%AD%E8%A1%A8%C2%A0" name="%E6%88%AA%E6%96%AD%E8%A1%A8%C2%A0">
     截断表
    </h4>
    <blockquote>
     <p>
      简单来说，截断其实就是删除，通过
      <strong>
       truncate
      </strong>
      关键字对表进行
      <strong>
       截断
      </strong>
      的操作，需要注意的是，
      <strong>
       truncate
      </strong>
      只能对整张表的数据进行截断，也就是说只能删除整张表的数据，而不能删除一条数据。
     </p>
    </blockquote>
    <p>
     创建要截断的表。
    </p>
    <p class="img-center">
     <img alt="" height="377" src="https://i-blog.csdnimg.cn/direct/efac0a2eaf2641959d5fe03bedbff6b8.png" width="863"/>
    </p>
    <p>
     向表中插入数据。
    </p>
    <p>
     <img alt="" height="356" src="https://i-blog.csdnimg.cn/direct/1ed3ee36c2e04356809a4adecb47af54.png" width="959"/>
    </p>
    <p>
     删除所有数据，截断整张表。
    </p>
    <p class="img-center">
     <img alt="" height="183" src="https://i-blog.csdnimg.cn/direct/2ed439d740e344a2aa12c00b7306d84c.png" width="744"/>
    </p>
    <p>
     向空表中插入一条数据。
    </p>
    <p class="img-center">
     <img alt="" height="316" src="https://i-blog.csdnimg.cn/direct/fc12cee40c454a91adb0cc7a7f095519.png" width="919"/>
    </p>
    <p>
     我们发现此时插入的数据的自增长的主键值竟然变成了1。
    </p>
    <p>
     查看表结构。
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="380" src="https://i-blog.csdnimg.cn/direct/44d4bdd8ba364b11af376540507bbc0f.png" width="884"/>
    </p>
    <p>
     我们发现此时的自增长主键的值变成了2，意味着下一条数据的主键在没有设置的条件下会默认为2，也就意味着在使用truncate进行截断表时，自增的主键的自增值也会被清零。
    </p>
    <blockquote>
     <p>
      综上，
      <strong>
       delete from
      </strong>
      删除整张表和
      <strong>
       truncate
      </strong>
      删除整张表的区别就是，
      <strong>
       delete from
      </strong>
      不会清空表的自增主键的自增值，后续插入数据，数据的主键依然会按照上一条数据的主键的值进行自增；而
      <strong>
       truncate
      </strong>
      删除整张表时会重置表的自增主键的自增值，后续再进行数据插入时，自增主键的值又会从起始值
      <strong>
       1
      </strong>
      开始自增。
     </p>
    </blockquote>
    <h4 id="%E6%9F%A5%E8%AF%A2%E7%9A%84%E7%BB%93%E6%9E%9C%E4%BD%9C%E4%B8%BA%E6%95%B0%E6%8D%AE%E6%8F%92%E5%85%A5%E5%85%B6%E5%AE%83%E8%A1%A8" name="%E6%9F%A5%E8%AF%A2%E7%9A%84%E7%BB%93%E6%9E%9C%E4%BD%9C%E4%B8%BA%E6%95%B0%E6%8D%AE%E6%8F%92%E5%85%A5%E5%85%B6%E5%AE%83%E8%A1%A8">
     查询的结果作为数据插入其它表
    </h4>
    <p>
     select查询出来的数据，也可以作为源数据插入其它的表。
    </p>
    <blockquote>
     <p>
      使用
      <strong>
       insert into ... select...
      </strong>
      实现。
     </p>
    </blockquote>
    <p>
     要实现对表数据的去重操作，创建duplicate_table表，并插入数据。
    </p>
    <p>
     <img alt="" height="677" src="https://i-blog.csdnimg.cn/direct/d004680b46184294921ae1159f23ba04.png" width="1358"/>
    </p>
    <p>
     查询duplicate_table的所有数据并对查询的数据进行去重，将去重之后的数据作为源数据插入新表，使用select distinct只是对查询的结果进行了去重，对表本身所存储的数据是没有去重的。
    </p>
    <p class="img-center">
     <img alt="" height="200" src="https://i-blog.csdnimg.cn/direct/84d5c8b4768c45969b57f0019f48fc21.png" width="659"/>
    </p>
    <p>
     创建 no_duplicate_table为空表，可以使用 cteate table A like B；的sql语句创建A表，这样创建出来的表是一个与B表结构相同的空表。
    </p>
    <p class="img-center">
     <img alt="" height="369" src="https://i-blog.csdnimg.cn/direct/a78193f2f6e0453ab95ec718fb0d6485.png" width="956"/>
    </p>
    <p>
     将在
     <strong>
      duplicate_table
     </strong>
     中查询的不重复的数据作为源数据插入
     <strong>
      no_duplicate_table
     </strong>
     之中。
    </p>
    <p>
     <img alt="" height="361" src="https://i-blog.csdnimg.cn/direct/89f55900d6764eeaae566263e4af4e50.png" width="1117"/>
    </p>
    <p>
     通过表的重命名实现表的数据的去重操作。
     <strong>
      no_duplicate_table表中是去重的数据，而duplicate_table中数据是没有去重的，所以先将duplicate_table重命名为old_duplicate_table,然后再将no_duplicate_table重命名为duplicate_table，此时就实现了原来的duplicate_table表中数据的去重
     </strong>
     。
    </p>
    <p>
     <img alt="" height="330" src="https://i-blog.csdnimg.cn/direct/b30801150c564edebc3b2dd5f855d1c3.png" width="1189"/>
    </p>
    <h3 id="%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0" name="%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0">
     聚合函数
    </h3>
    <table border="1" cellpadding="1" cellspacing="1" style="width:700px">
     <tbody>
      <tr>
       <td>
        <strong>
         函数
        </strong>
       </td>
       <td>
        <strong>
         说明
        </strong>
       </td>
      </tr>
      <tr>
       <td>
        COUNT([DISTINCT] expr)
       </td>
       <td>
        返回查询到的数据的 数量
       </td>
      </tr>
      <tr>
       <td>
        SUM([DISTINCT] expr)
       </td>
       <td>
        返回查询到的数据的 总和，不是数字没有意义
       </td>
      </tr>
      <tr>
       <td>
        AVG([DISTINCT] expr)
       </td>
       <td>
        返回查询到的数据的 平均值，不是数字没有意义
       </td>
      </tr>
      <tr>
       <td>
        MAX([DISTINCT] expr)
       </td>
       <td>
        返回查询到的数据的 最大值，不是数字没有意义
       </td>
      </tr>
      <tr>
       <td>
        MIN([DISTINCT] expr)
       </td>
       <td>
        返回查询到的数据的 最小值，不是数字没有意义
       </td>
      </tr>
     </tbody>
    </table>
    <h4 id="%E6%9F%A5%E8%AF%A2%E7%BB%9F%E8%AE%A1%E6%93%8D%E4%BD%9C%C2%A0" name="%E6%9F%A5%E8%AF%A2%E7%BB%9F%E8%AE%A1%E6%93%8D%E4%BD%9C%C2%A0">
     查询统计操作
    </h4>
    <blockquote>
     <p>
      <strong>
       统计班级共有多少同学。
      </strong>
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="433" src="https://i-blog.csdnimg.cn/direct/71b131804a644dc78a8d124fa7bd5dfe.png" width="697"/>
    </p>
    <blockquote>
     <p>
      <strong>
       统计班级qq号有多少。
      </strong>
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="435" src="https://i-blog.csdnimg.cn/direct/a7aa6a69089942d38441b0b991e1e8f1.png" width="685"/>
    </p>
    <p>
     需要注意的是，
     <strong>
      null
     </strong>
     本身不计入个数的多少。
    </p>
    <blockquote>
     <p>
      <strong>
       统计本次考试的数学成绩分数个数
      </strong>
      。
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="539" src="https://i-blog.csdnimg.cn/direct/09425c120ebb4414b35ea184c8148e1e.png" width="815"/>
    </p>
    <blockquote>
     <p>
      <strong>
       统计本次考试中不同的数学成绩的个数，简单来说就是对数学成绩去重之后数学成绩的个数。
      </strong>
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="486" src="https://i-blog.csdnimg.cn/direct/7784e63b478f484d9932497e1201a839.png" width="910"/>
    </p>
    <blockquote>
     <p>
      <strong>
       统计数学成绩总分。
      </strong>
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="164" src="https://i-blog.csdnimg.cn/direct/a7b03e6a2a1f42ab989ac4e083c5d452.png" width="591"/>
    </p>
    <blockquote>
     <p>
      <strong>
       统计三门成绩的平均总分。
      </strong>
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="174" src="https://i-blog.csdnimg.cn/direct/07c36043abe445d7acfe12f17b656af9.png" width="825"/>
    </p>
    <blockquote>
     <p>
      <strong>
       统计英语成绩最高分。
      </strong>
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="170" src="https://i-blog.csdnimg.cn/direct/d0d68023cc0f4deea9e4db1642c4cc58.png" width="652"/>
    </p>
    <blockquote>
     <p>
      <strong>
       统计数学成绩&gt;70分的最低数学成绩。
      </strong>
     </p>
    </blockquote>
    <p class="img-center">
     <img alt="" height="176" src="https://i-blog.csdnimg.cn/direct/b713770d3a7240059f474e3961e4adaf.png" width="825"/>
    </p>
    <blockquote>
     <p>
      上述情景，得先通过where子句筛选出&gt;70分的数学成绩，然后再通过select子句查询 筛选出来的&gt;70分的所有数学成绩中最低的数学成绩。
     </p>
    </blockquote>
    <h4 id="group%20by%E5%AD%90%E5%8F%A5%C2%A0" name="group%20by%E5%AD%90%E5%8F%A5%C2%A0" style="background-color:transparent">
     group by子句
    </h4>
    <p>
     导入三个表，emp员工表，dept部门表，salgrade工资等级表。
    </p>
    <p class="img-center">
     <img alt="" height="507" src="https://i-blog.csdnimg.cn/direct/19b2d8a14aa849b19f603d207b0ad522.png" width="700"/>
    </p>
    <blockquote>
     <p>
      <strong>
       显示每个部门的最高工资和平均工资。
      </strong>
     </p>
    </blockquote>
    <p>
     做一个简单的分析，我们发现部门的编号和部门工资，这两个字段在emp表内，所以我们要先对emp表中的员工记录按照部门编号进行分组，一组代表一个部门，然后再对每组数据进行查询，就可以得到查询结果。
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="243" src="https://i-blog.csdnimg.cn/direct/e1f5cb2394264160a5e69cdbbd7803d5.png" width="936"/>
    </p>
    <blockquote>
     <p>
      <strong>
       显示每个部门每种岗位的平均工资和最低工资。
      </strong>
     </p>
    </blockquote>
    <p>
     做一个简单的分析，部门编号和岗位名称都在emp表里，所以首先对emp表进行查询，然后按照部门编号和岗位名称进行分组，一组就是一个部门的一个岗位所有员工的信息，然后依次对每组进行查询，就可以得到查询结果。
    </p>
    <p>
     <img alt="" height="383" src="https://i-blog.csdnimg.cn/direct/8356f18145f34ea19d23b999a8f3dca4.png" width="1019"/>
    </p>
    <blockquote>
     <p>
      <strong>
       显示平均工资低于2000的部门和它的平均工资。
      </strong>
     </p>
    </blockquote>
    <p>
     <img alt="" height="190" src="https://i-blog.csdnimg.cn/direct/99dd4964b72d471b939bdc7e1fc9d1b2.png" width="1175"/>
    </p>
    <blockquote>
     <p>
      上述查询我们先使用group by对deptno进行了分组，每组就是一个部门的所有员工信息，然后select查询出了分组之后 每个部门的部门编号和平均工资，最终使用
      <strong>
       having子句对查询出的每组
      </strong>
      的结果进行筛选最终显示了最终的查询结果。
     </p>
     <p>
      需要注意的是我们发现having子句中是可以用select中起的别名的，所以就可以得知
      <strong>
       having子句一定是后于select子句
      </strong>
      执行。
     </p>
    </blockquote>
    <p>
     因为having子句后于select执行，而where子句先于select子句执行，所以就意味着where和having是可以同时存在的。
    </p>
    <blockquote>
     <p>
      <strong>
       显示部门编号 &gt;10 且平均工资大于 1000 的所有部门的部门编号和部门平均工资。
      </strong>
     </p>
    </blockquote>
    <p>
     <img alt="" height="222" src="https://i-blog.csdnimg.cn/direct/7906459b113f48f3bd8e22b169cdb969.png" width="1258"/>
    </p>
    <p>
     简单来说，where 和 having 都可以作为限制条件，不过where子句先于select执行，而having子句在select之后执行。
    </p>
    <p>
     以上便是本期的基本查询相关的所有内容。
    </p>
    <p>
     本期内容到此结束^_^
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f35353935383733342f:61727469636c652f64657461696c732f313436313632323132" class_="artid" style="display:none">
 </p>
</div>


