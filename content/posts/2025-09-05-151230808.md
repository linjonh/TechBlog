---
layout: post
title: "React-æ ·å¼éš”ç¦»æ ¸å¿ƒæ–¹æ³•å’Œæœ€ä½³å®è·µ"
date: 2025-09-05T20:59:20+0800
description: "æœ¬è¯¾ç¨‹ç³»ç»Ÿè®²è§£Reactæ ·å¼éš”ç¦»çš„å¤šç§æ–¹æ¡ˆï¼ŒåŒ…æ‹¬CSS Modulesã€CSS-in-JSå’ŒShadow DOMæŠ€æœ¯ã€‚CSS Modulesé€šè¿‡æ„å»ºæ—¶ç”Ÿæˆå”¯ä¸€ç±»åå®ç°éš”ç¦»ï¼Œé€‚åˆå¤§å¤šæ•°é¡¹ç›®ï¼›CSS-in-JSï¼ˆå¦‚Emotionï¼‰ç›´æ¥åœ¨JSä¸­ç¼–å†™æ ·å¼ï¼Œæ”¯æŒåŠ¨æ€æ ·å¼ä½†æœ‰ä¸€å®šæ€§èƒ½å¼€é”€ï¼›Shadow DOMæä¾›æœ€å¼ºçš„åŸç”Ÿéš”ç¦»ï¼Œé€‚ç”¨äºWeb Componentså’Œå¾®å‰ç«¯åœºæ™¯ã€‚è¯¾ç¨‹æ¶µç›–å„æ–¹æ¡ˆçš„åŸç†ã€é…ç½®æ–¹æ³•å’Œå®æˆ˜ä»£ç ï¼Œå¸®åŠ©å¼€å‘è€…æ ¹æ®é¡¹ç›®éœ€æ±‚é€‰æ‹©æœ€ä½³æ ·å¼éš”ç¦»ç­–ç•¥ï¼Œè§£å†³å…¨å±€æ±¡æŸ“å’Œå‘½åå†²çªé—®é¢˜ï¼Œæå‡åº”ç”¨å¯ç»´æŠ¤æ€§ã€‚"
keywords: "React æ ·å¼éš”ç¦»æ ¸å¿ƒæ–¹æ³•å’Œæœ€ä½³å®è·µ"
categories: ['æœªåˆ†ç±»']
tags: ['å‰ç«¯æ¡†æ¶', 'å‰ç«¯', 'React']
artid: "151230808"
arturl: "https://blog.csdn.net/Climbman/article/details/151230808"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=151230808
    alt: "React-æ ·å¼éš”ç¦»æ ¸å¿ƒæ–¹æ³•å’Œæœ€ä½³å®è·µ"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=151230808
featuredImagePreview: https://bing.ee123.net/img/rand?artid=151230808
cover: https://bing.ee123.net/img/rand?artid=151230808
image: https://bing.ee123.net/img/rand?artid=151230808
img: https://bing.ee123.net/img/rand?artid=151230808
---



# React æ ·å¼éš”ç¦»æ ¸å¿ƒæ–¹æ³•å’Œæœ€ä½³å®è·µ

## ğŸ¨ React æ ·å¼éš”ç¦»æ ¸å¿ƒæ–¹æ³•å’Œæœ€ä½³å®è·µ

### 1. è¯¾ç¨‹æ¦‚è¿°

æœ¬è¯¾ç¨‹æ—¨åœ¨ç³»ç»Ÿè®²è§£ **React ä¸­æ ·å¼éš”ç¦»**çš„å„ç§æ–¹æ¡ˆã€åŸç†ä¸å®æˆ˜æŠ€å·§ã€‚æ ·å¼éš”ç¦»æ˜¯ç»„ä»¶åŒ–å¼€å‘çš„æ ¸å¿ƒéœ€æ±‚ï¼Œå®ƒèƒ½æœ‰æ•ˆé˜²æ­¢æ ·å¼å†²çªå’Œå…¨å±€æ±¡æŸ“ï¼Œæå‡åº”ç”¨çš„å¯ç»´æŠ¤æ€§å’Œå›¢é˜Ÿåä½œæ•ˆç‡ã€‚å­¦ç”Ÿå°†å­¦ä¹ ä»åŸºç¡€çš„ CSS Modules åˆ°ç°ä»£çš„ CSS-in-JS åº“ï¼Œå†åˆ°é«˜çº§çš„ Shadow DOM æŠ€æœ¯ï¼Œå¹¶èƒ½åœ¨å®é™…é¡¹ç›®ä¸­æ ¹æ®éœ€æ±‚é€‰æ‹©å¹¶å®æ–½åˆé€‚çš„æ ·å¼éš”ç¦»æ–¹æ¡ˆã€‚

### 2. è¯¾ç¨‹ç›®æ ‡

| ç›®æ ‡ç±»å‹ | æè¿° |
| --- | --- |
| **çŸ¥è¯†ç›®æ ‡** | ç†è§£**æ ·å¼éš”ç¦»**çš„å¿…è¦æ€§åŠå…¶è§£å†³çš„æ ¸å¿ƒé—®é¢˜ï¼ˆå…¨å±€æ±¡æŸ“ã€å‘½åå†²çªï¼‰ã€‚æŒæ¡ **CSS Modules** çš„å·¥ä½œåŸç†ã€é…ç½®æ–¹å¼åŠå…¶å±€é™æ€§ã€‚ç†è§£ **CSS-in-JS**ï¼ˆå¦‚ Emotionï¼‰çš„æ ¸å¿ƒæ¦‚å¿µã€ä¼˜åŠ¿åŠå…¶è¿è¡Œæ—¶æœºåˆ¶ã€‚äº†è§£ **Shadow DOM** çš„å¼ºéš”ç¦»ç‰¹æ€§åŠå…¶åœ¨ Web Components å’Œå¾®å‰ç«¯ä¸­çš„åº”ç”¨ã€‚äº†è§£å…¶ä»–è¾…åŠ©æ–¹æ³•ï¼ˆå¦‚ BEM å‘½åè§„èŒƒã€CSS å˜é‡ï¼‰ã€‚ |
| **æŠ€èƒ½ç›®æ ‡** | èƒ½ä½¿ç”¨ **CSS Modules** ä¸º React ç»„ä»¶ç¼–å†™å±€éƒ¨ä½œç”¨åŸŸçš„æ ·å¼ã€‚èƒ½ä½¿ç”¨ **Emotion** åº“åœ¨ JavaScript ä¸­ç¼–å†™åŠ¨æ€ã€å¯ç»´æŠ¤çš„æ ·å¼ã€‚èƒ½é…ç½®æ„å»ºå·¥å…·ï¼ˆWebpack/Viteï¼‰ä»¥æ”¯æŒä¸åŒçš„æ ·å¼éš”ç¦»æ–¹æ¡ˆã€‚èƒ½æ ¹æ®é¡¹ç›®è§„æ¨¡ã€å›¢é˜Ÿä¹ æƒ¯å’ŒæŠ€æœ¯æ ˆï¼Œ**åˆç†é€‰æ‹©**å¹¶å®æ–½æœ€åˆé€‚çš„æ ·å¼éš”ç¦»ç­–ç•¥ã€‚ |

### 3. æ ¸å¿ƒçŸ¥è¯†ç‚¹ä¸å®ä¾‹ä»£ç 

#### 3.1 ä¸ºä»€ä¹ˆéœ€è¦æ ·å¼éš”ç¦»ï¼Ÿ

åœ¨ React å¼€å‘ä¸­ï¼Œä¼ ç»Ÿçš„ CSS æ˜¯**å…¨å±€ç”Ÿæ•ˆ**çš„ã€‚è¿™æ„å‘³ç€åœ¨ä»»ä½•ç»„ä»¶ä¸­å®šä¹‰çš„æ ·å¼éƒ½å¯èƒ½å½±å“åˆ°å…¶ä»–ç»„ä»¶ï¼Œåä¹‹äº¦ç„¶ã€‚å½“é¡¹ç›®è§„æ¨¡æ‰©å¤§ã€ç»„ä»¶æ•°é‡å¢å¤šæ—¶ï¼Œå¾ˆå®¹æ˜“å‘ç”Ÿ**æ ·å¼å†²çª**å’Œ**å…¨å±€æ±¡æŸ“**ï¼Œå¯¼è‡´éš¾ä»¥é¢„æµ‹çš„ UI è¡¨ç°å’Œè‰°éš¾çš„è°ƒè¯•è¿‡ç¨‹ã€‚æ ·å¼éš”ç¦»é€šè¿‡å°†æ ·å¼çš„ä½œç”¨åŸŸé™åˆ¶åœ¨å•ä¸ªç»„ä»¶å†…ï¼Œå®Œç¾åœ°è§£å†³äº†è¿™äº›é—®é¢˜ã€‚

#### 3.2 æ–¹æ¡ˆä¸€ï¼šCSS Modules (æ¨èç”¨äºå¤§å¤šæ•°é¡¹ç›®)

CSS Modules æ˜¯ä¸€ç§åœ¨æ„å»ºæ—¶ï¼ˆcompile-timeï¼‰å°† CSS ç±»åè½¬æ¢ä¸ºå”¯ä¸€å“ˆå¸Œå€¼çš„æµè¡ŒæŠ€æœ¯ï¼Œä»è€Œå®ç°æ ·å¼çš„å±€éƒ¨ä½œç”¨åŸŸã€‚

* **çŸ¥è¯†ç›®æ ‡**ï¼šç†è§£ CSS Modules é€šè¿‡**ç”Ÿæˆå”¯ä¸€ç±»å**æ¥å®ç°éš”ç¦»çš„åŸç†ã€‚æŒæ¡å…¶å¼€ç®±å³ç”¨çš„æ”¯æŒï¼ˆå¦‚åœ¨ Create React App å’Œ Vite ä¸­ï¼‰ã€‚
* **æŠ€èƒ½ç›®æ ‡**ï¼šèƒ½åˆ›å»ºå’Œä½¿ç”¨ `.module.css` æ–‡ä»¶ã€‚èƒ½æ­£ç¡®åœ¨ JSX ä¸­å¼•ç”¨ç”Ÿæˆçš„ç±»åã€‚èƒ½å¤„ç†å¤šä¸ªç±»åçš„ç»„åˆã€‚

##### å®æˆ˜ç¤ºä¾‹ï¼š

1. **åˆ›å»ºæ ·å¼æ–‡ä»¶ (`Button.module.css`)**

   ```css
   /* ç±»åå°†è¢«å“ˆå¸ŒåŒ–ï¼Œç¡®ä¿å”¯ä¸€æ€§ */
   .button {
     padding: 10px 20px;
     background-color: #007bff;
     color: white;
     border: none;
     border-radius: 4px;
     cursor: pointer;
     transition: background-color 0.3s ease;
   }

   .button:hover {
     background-color: #0056b3;
   }

   /* å¦‚éœ€å…¨å±€æ ·å¼ï¼Œå¯ä½¿ç”¨ :global */
   :global(.global-button) {
     font-weight: bold;
   }

   ```
2. **åœ¨ React ç»„ä»¶ä¸­ä½¿ç”¨ (`Button.jsx`)**

   ```jsx
   import React from 'react';
   import styles from './Button.module.css'; // å¯¼å…¥æ ·å¼å¯¹è±¡

   const Button = ({ children, variant }) => {
     // åŠ¨æ€ç»„åˆç±»å
     const buttonClass = `${styles.button} ${variant ? styles[variant] : ''}`;

     return (
       <button className={buttonClass}>
         {children}
       </button>
     );
   };

   export default Button;

   ```

   **ç¼–è¯‘å**ï¼ŒJSX ä¸­çš„ `styles.button` å¯èƒ½ä¼šå˜æˆç±»ä¼¼ `<button class="Button_button__abcde">` çš„ç»“æ„ã€‚
3. **ä¼˜ç¼ºç‚¹å¯¹æ¯”**

   | ä¼˜ç‚¹ | ç¼ºç‚¹ |
   | --- | --- |
   | âœ… **æ ·å¼éš”ç¦»**ï¼Œæœ‰æ•ˆé¿å…ç±»åå†²çª | âŒ **æ ·å¼ä¸é€»è¾‘åˆ†ç¦»**ï¼Œéœ€åœ¨æ–‡ä»¶é—´åˆ‡æ¢ |
   | âœ… ä¿ç•™ä¼ ç»Ÿ CSS å†™æ³•ï¼Œ**å­¦ä¹ æˆæœ¬ä½** | âŒ åŠ¨æ€æ ·å¼èƒ½åŠ›è¾ƒå¼±ï¼Œéœ€å€ŸåŠ©é€»è¾‘å¤„ç† |
   | âœ… ä¸»æµè„šæ‰‹æ¶ï¼ˆCRA, Viteï¼‰**å¼€ç®±å³ç”¨** | âŒ æ‰“åŒ…æ—¶å¯èƒ½åŒ…å«æœªä½¿ç”¨çš„æ ·å¼ |

#### 3.3 æ–¹æ¡ˆäºŒï¼šCSS-in-JS (æ¨èéœ€è¦é«˜åº¦åŠ¨æ€æ ·å¼çš„é¡¹ç›®)

CSS-in-JS å…è®¸ä½ ç›´æ¥åœ¨ JavaScript æˆ– TypeScript æ–‡ä»¶ä¸­ç¼–å†™æ ·å¼ï¼Œå®ç°æè‡´çš„ç»„ä»¶å†…èšå’ŒåŠ¨æ€æ ·å¼èƒ½åŠ›ã€‚ è¿™é‡Œä»¥ **Emotion** åº“ä¸ºä¾‹ã€‚

* **çŸ¥è¯†ç›®æ ‡**ï¼šç†è§£ CSS-in-JS æ˜¯**è¿è¡Œæ—¶**ç”Ÿæˆæ ·å¼å¹¶æ³¨å…¥ DOMã€‚æŒæ¡å…¶å¦‚ä½•åˆ©ç”¨ JavaScript çš„èƒ½åŠ›æ¥å®ç°åŠ¨æ€ä¸»é¢˜ã€åŸºäº props çš„æ ·å¼ç­‰é«˜çº§åŠŸèƒ½ã€‚
* **æŠ€èƒ½ç›®æ ‡**ï¼šèƒ½å®‰è£…å’Œé…ç½® Emotionã€‚èƒ½ä½¿ç”¨ `css` prop æˆ– `styled` å‡½æ•°åˆ›å»ºæ ·å¼åŒ–çš„ç»„ä»¶ã€‚

##### å®æˆ˜ç¤ºä¾‹ï¼š

1. **å®‰è£… Emotion**

   ```bash
   npm install @emotion/react @emotion/styled

   ```
2. **ä½¿ç”¨ `css` Prop (`EmotionButton.jsx`)**

   ```jsx
   /** @jsxImportSource @emotion/react */ // æ­¤æ³¨é‡Šå¿…åŠ ï¼ˆæˆ–é€šè¿‡Babelé…ç½®ï¼‰
   import { css } from '@emotion/react';

   const EmotionButton = ({ children, isWarning }) => {
     // æ ·å¼ç›´æ¥åœ¨JSä¸­å®šä¹‰ï¼Œå¯åµŒå…¥JSè¡¨è¾¾å¼
     const buttonStyles = css`
       padding: 10px 20px;
       border: none;
       border-radius: 4px;
       cursor: pointer;
       transition: background-color 0.3s ease;
       /* åŠ¨æ€å€¼åŸºäº props */
       color: ${isWarning ? "#e7650f" : "#118da0"};
       background: ${isWarning ? "#f3e8da" : "#dcf1f3"};
       
       &:hover {
         background-color: ${isWarning ? "#f3e8da" : "#dcf1f3"};
       }
     `;

     return (
       <button css={buttonStyles}> {/* ç›´æ¥å°†æ ·å¼å¯¹è±¡ä¼ é€’ç»™ `css` prop */}
         {children}
       </button>
     );
   };

   export default EmotionButton;

   ```
3. **ä½¿ç”¨ `styled` API (`StyledButton.jsx`)**

   ```jsx
   import styled from '@emotion/styled';

   // ä½¿ç”¨ styled å‡½æ•°åˆ›å»ºä¸€ä¸ªå¸¦æ ·å¼çš„ç»„ä»¶
   const StyledButton = styled.button`
     padding: 10px 20px;
     background-color: ${props => props.primary ? '#007bff' : '#6c757d'};
     color: white;
     border: none;
     border-radius: 4px;
     cursor: pointer;
     
     &:hover {
       background-color: ${props => props.primary ? '#0056b3' : '#545b62'};
     }
   `;

   // ä½¿ç”¨æ–¹å¼
   const App = () => (
     <div>
       <StyledButton>Default</StyledButton>
       <StyledButton primary>Primary</StyledButton>
     </div>
   );

   ```
4. **ä¼˜ç¼ºç‚¹å¯¹æ¯”**

   | ä¼˜ç‚¹ | ç¼ºç‚¹ |
   | --- | --- |
   | âœ… **æ ·å¼ä¸ç»„ä»¶é€»è¾‘ç´§å¯†å†…èš**ï¼Œä¾¿äºç»´æŠ¤ | âŒ **è¿è¡Œæ—¶ç”Ÿæˆæ ·å¼**ï¼Œæœ‰è½»å¾®æ€§èƒ½å¼€é”€ |
   | âœ… **å¼ºå¤§çš„åŠ¨æ€æ ·å¼**èƒ½åŠ›ï¼Œæ”¯æŒä¸»é¢˜åˆ‡æ¢ç­‰ | âŒ åˆå­¦è€…éœ€é€‚åº”åœ¨ JS ä¸­å†™ CSS çš„æ¨¡å¼ |
   | âœ… è‡ªåŠ¨ä½œç”¨åŸŸéš”ç¦»ï¼Œæ— å‘½åå†²çªé—®é¢˜ | âŒ å¯èƒ½å¢å¤§ç»„ä»¶æ–‡ä»¶çš„ä½“ç§¯ |

#### 3.4 æ–¹æ¡ˆä¸‰ï¼šShadow DOM (ç”¨äºå¼ºéš”ç¦»éœ€æ±‚ï¼Œå¦‚å¾®å‰ç«¯ã€Web Components)

Shadow DOM æ˜¯æµè§ˆå™¨åŸç”Ÿçš„éš”ç¦»æœºåˆ¶ï¼Œèƒ½å®ç°æœ€å½»åº•çš„æ ·å¼éš”ç¦»ã€‚

* **çŸ¥è¯†ç›®æ ‡**ï¼šç†è§£ Shadow DOM åˆ›å»ºäº†ä¸€ä¸ª**ç‹¬ç«‹çš„ DOM æ ‘**ï¼Œå…¶å†…éƒ¨æ ·å¼ä¸å¤–éƒ¨å®Œå…¨éš”ç¦»ï¼ˆå†…å¤–æ ·å¼äº’ä¸å½±å“ï¼‰ã€‚äº†è§£å…¶åœ¨å¾®å‰ç«¯æ¶æ„ï¼ˆå¦‚ qiankun çš„ `strictStyleIsolation` æ¨¡å¼ï¼‰ä¸­çš„åº”ç”¨ã€‚
* **æŠ€èƒ½ç›®æ ‡**ï¼šèƒ½ä½¿ç”¨ `Element.attachShadow()` æ–¹æ³•åˆ›å»º Shadow Rootã€‚èƒ½å°†æ ·å¼å’Œå†…å®¹æ³¨å…¥åˆ° Shadow DOM ä¸­ã€‚

##### å®æˆ˜ç¤ºä¾‹ï¼šåˆ›å»ºä½¿ç”¨ Shadow DOM çš„ Web Component

```jsx
class IsolatedComponent extends HTMLElement {
  constructor() {
    super();
    // 1. åˆ›å»ºä¸€ä¸ªæ‰“å¼€çš„ Shadow Root
    const shadowRoot = this.attachShadow({ mode: 'open' });
    
    // 2. åˆ›å»ºæ ·å¼å…ƒç´  (å®Œå…¨éš”ç¦»ï¼Œä»…åœ¨æ­¤ Shadow DOM å†…ç”Ÿæ•ˆ)
    const style = document.createElement('style');
    style.textContent = `
      .container {
        padding: 20px;
        border: 1px solid #ccc;
        border-radius: 8px;
        font-family: sans-serif;
      }
      h2 {
        color: #333; /* å¤–éƒ¨é¡µé¢çš„ h2 æ ·å¼ä¸ä¼šå½±å“è¿™é‡Œ */
        margin-top: 0;
      }
    `;
    
    // 3. åˆ›å»ºç»„ä»¶å†…å®¹
    const container = document.createElement('div');
    container.className = 'container';
    container.innerHTML = `
      <h2>Shadow DOM ç»„ä»¶</h2>
      <p>æˆ‘çš„æ ·å¼æ˜¯éš”ç¦»çš„ï¼Œä¸å—å¤–éƒ¨å½±å“ï¼Œä¹Ÿä¸å½±å“å¤–éƒ¨ã€‚</p>
      <slot></slot> <!-- å…è®¸å¤–éƒ¨ä¼ å…¥å†…å®¹ -->
    `;
    
    // 4. å°†æ ·å¼å’Œå†…å®¹æ·»åŠ åˆ° Shadow Root
    shadowRoot.appendChild(style);
    shadowRoot.appendChild(container);
  }
}

// å®šä¹‰è‡ªå®šä¹‰å…ƒç´ 
customElements.define('isolated-component', IsolatedComponent);

```

**åœ¨ React ä¸­ä½¿ç”¨è¯¥ Web Componentï¼š**

```jsx
function App() {
  return (
    <div>
      <h2>å¤–éƒ¨æ ‡é¢˜</h2>
      <isolated-component>
        <p>è¿™æ®µå†…å®¹æ˜¯é€šè¿‡ &lt;slot&gt; æŠ•å°„è¿›æ¥çš„ï¼</p>
      </isolated-component>
    </div>
  );
}

```

#### 3.5 å…¶ä»–è¾…åŠ©æ–¹æ¡ˆä¸ç­–ç•¥

| æ–¹æ¡ˆ | æè¿° | é€‚ç”¨åœºæ™¯ |
| --- | --- | --- |
| **BEM å‘½åè§„èŒƒ** | ä¸€ç§æ‰‹åŠ¨çº¦å®šç±»åçš„æ–¹æ³•ï¼ˆ`block__element--modifier`ï¼‰ï¼Œé€šè¿‡å‘½åç©ºé—´é¿å…å†²çªã€‚ | ä¸­å°å‹é¡¹ç›®ï¼Œæˆ–ä½œä¸ºå…¶ä»–æŠ€æœ¯æ–¹æ¡ˆçš„è¡¥å……ã€‚ |
| **CSS å˜é‡ (Custom Properties)** | å®šä¹‰å…¨å±€æˆ–å±€éƒ¨çš„å˜é‡ï¼Œç»Ÿä¸€ç®¡ç†ä¸»é¢˜è‰²ã€é—´è·ç­‰ï¼Œæå‡æ ·å¼å¯ç»´æŠ¤æ€§ã€‚ | ä¸»é¢˜åˆ‡æ¢ï¼Œç»Ÿä¸€è®¾è®¡ç³»ç»Ÿã€‚ |
| **æ„å»ºå·¥å…·é…ç½®** | é€šè¿‡ Webpack æˆ– Vite é…ç½®ï¼Œè‡ªå®šä¹‰ CSS Modules çš„å“ˆå¸Œåç§°ç­‰ã€‚ | éœ€è¦é«˜åº¦å®šåˆ¶åŒ–æ„å»ºæµç¨‹çš„é¡¹ç›®ã€‚ |

### 4. ç»¼åˆå¯¹æ¯”ä¸é€‰å‹æŒ‡å—

ä¸ºäº†å¸®åŠ©ä½ æ›´å¥½åœ°æ ¹æ®é¡¹ç›®éœ€æ±‚åšå‡ºé€‰æ‹©ï¼Œæˆ‘å‡†å¤‡äº†ä¸€ä¸ªå¯¹æ¯”è¡¨æ ¼ï¼š

| ç»´åº¦ | CSS Modules | CSS-in-JS (Emotion) | Shadow DOM |
| --- | --- | --- | --- |
| **éš”ç¦»åŸç†** | æ„å»ºæ—¶ç”Ÿæˆå”¯ä¸€ç±»å | è¿è¡Œæ—¶ç”Ÿæˆå¹¶æ³¨å…¥æ ·å¼ | æµè§ˆå™¨åŸç”Ÿéš”ç¦» |
| **å­¦ä¹ æˆæœ¬** | ä½ï¼ˆç±»ä¼¼ä¼ ç»ŸCSSï¼‰ | ä¸­ï¼ˆéœ€ç†Ÿæ‚‰JSå†™CSSï¼‰ | é«˜ï¼ˆéœ€äº†è§£Web Componentsï¼‰ |
| **åŠ¨æ€æ ·å¼** | å¼±ï¼ˆéœ€é…åˆé€»è¾‘ï¼‰ | **å¼º**ï¼ˆåŸç”Ÿæ”¯æŒJSå˜é‡ï¼‰ | ä¸­ï¼ˆå¯é€šè¿‡CSSå˜é‡ï¼‰ |
| **æ€§èƒ½** | **é«˜**ï¼ˆæ„å»ºæ—¶å¤„ç†ï¼‰ | ä¸­ï¼ˆæœ‰è¿è¡Œæ—¶å¼€é”€ï¼‰ | é«˜ï¼ˆæµè§ˆå™¨åŸç”Ÿæ”¯æŒï¼‰ |
| **é€‚ç”¨åœºæ™¯** | å¤§å¤šæ•°ä¼ ç»ŸReacté¡¹ç›® | é«˜åº¦äº¤äº’ã€åŠ¨æ€ä¸»é¢˜çš„åº”ç”¨ | å¾®å‰ç«¯ã€åµŒå…¥å¼ç»„ä»¶ã€Web Components |
| **æ ·å¼å¤ç”¨** | éœ€æ‰‹åŠ¨å¯¼å…¥æ ·å¼å¯¹è±¡ | ç»„ä»¶åŒ–ï¼Œè‡ªç„¶å¤ç”¨ | ç›¸å¯¹å›°éš¾ |

**é€‰å‹å»ºè®®ï¼š**

* **æ–°å»ºæ™®é€š React é¡¹ç›®**ï¼šä» **CSS Modules** å¼€å§‹ï¼Œå®ƒç®€å•å¯é ï¼Œè¶³ä»¥æ»¡è¶³å¤§éƒ¨åˆ†éœ€æ±‚ã€‚
* **å¤æ‚äº¤äº’ä¸åŠ¨æ€ä¸»é¢˜**ï¼šé€‰æ‹© **CSS-in-JS (å¦‚ Emotion)**ï¼Œäº«å—å…¶å¼ºå¤§çš„åŠ¨æ€èƒ½åŠ›å’Œç»„ä»¶å†…èšçš„ä¼˜åŠ¿ã€‚
* **å¾®å‰ç«¯æˆ–éœ€è¦æè‡´éš”ç¦»**ï¼šè€ƒè™‘ **Shadow DOM**ï¼Œå°¤å…¶åœ¨éœ€è¦å°†ç»„ä»¶åµŒå…¥åˆ°ç¬¬ä¸‰æ–¹ç¯å¢ƒä¸­æ—¶ã€‚
* **å›¢é˜Ÿåä½œä¸å¤§å‹é¡¹ç›®**ï¼šé‡‡ç”¨ **BEM + CSS Modules** æˆ– **CSS-in-JS**ï¼Œç»“åˆæ¸…æ™°çš„å‘½åçº¦å®šã€‚

### 5. ç»¼åˆå®æˆ˜æ¡ˆä¾‹ï¼šä¸»é¢˜åŒ–æŒ‰é’®ç»„ä»¶

ä¸‹é¢æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ”¯æŒä¸»é¢˜åˆ‡æ¢çš„æŒ‰é’®ç»„ä»¶ï¼Œå®ƒæ—¢èƒ½ä½¿ç”¨ CSS Modules çš„å±€éƒ¨æ ·å¼ï¼Œåˆèƒ½åˆ©ç”¨ CSS-in-JS çš„åŠ¨æ€èƒ½åŠ›ã€‚

```jsx
// ThemeContext.js (åˆ›å»ºä¸»é¢˜ä¸Šä¸‹æ–‡)
import React, { createContext, useContext, useState } from 'react';

const ThemeContext = createContext();

export const ThemeProvider = ({ children }) => {
  const [isDarkMode, setIsDarkMode] = useState(false);

  const toggleTheme = () => setIsDarkMode(prev => !prev);

  const theme = {
    isDarkMode,
    toggleTheme,
    colors: {
      primary: isDarkMode ? '#7db1ff' : '#007bff',
      text: isDarkMode ? '#f0f0f0' : '#333',
      background: isDarkMode ? '#333' : '#fff',
    }
  };

  return (
    <ThemeContext.Provider value={theme}>
      {children}
    </ThemeContext.Provider>
  );
};

export const useTheme = () => useContext(ThemeContext);


// ThemedButton.module.css (CSS Modules éƒ¨åˆ†)
.button {
  composes: base-button from global; /* å‡è®¾å…¨å±€æœ‰ä¸€ä¸ªåŸºç¡€æŒ‰é’®æ ·å¼ */
  padding: 10px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-family: inherit;
  transition: all 0.2s ease-in-out;
}


// ThemedButton.jsx (ç»¼åˆè¿ç”¨)
/** @jsxImportSource @emotion/react */
import { css } from '@emotion/react';
import { useTheme } from './ThemeContext';
import styles from './ThemedButton.module.css'; // å¯¼å…¥ CSS Modules æ ·å¼

const ThemedButton = ({ children, onClick }) => {
  const theme = useTheme();

  // ä½¿ç”¨ Emotion å®ç°åŠ¨æ€æ ·å¼
  const dynamicStyles = css`
    background-color: ${theme.colors.primary};
    color: ${theme.colors.text};
    
    &:hover {
      background-color: ${theme.colors.primary};
      opacity: 0.9;
      transform: translateY(-1px);
    }
    
    &:active {
      transform: translateY(0);
    }
  `;

  // ç»„åˆ CSS Modules ç±»å’Œ Emotion åŠ¨æ€æ ·å¼
  return (
    <button
      className={styles.button} // CSS Modules ç±»å
      css={dynamicStyles}       // Emotion åŠ¨æ€æ ·å¼
      onClick={onClick}
    >
      {children}
    </button>
  );
};

export default ThemedButton;


// App.js (ä½¿ç”¨ç»„ä»¶)
import { ThemeProvider } from './ThemeContext';
import ThemedButton from './ThemedButton';

function App() {
  return (
    <ThemeProvider>
      <div className="app">
        <ThemedButton onClick={() => console.log('Clicked!')}>
          ä¸»é¢˜æŒ‰é’®
        </ThemedButton>
      </div>
    </ThemeProvider>
  );
}

export default App;

```

### 6. è¯¾åç»ƒä¹ ä¸æ€è€ƒ

1. **åŸºç¡€ç»ƒä¹ **ï¼š

   * ä½¿ç”¨ **CSS Modules** é‡æ„ä¸€ä¸ªä½ ç°æœ‰é¡¹ç›®ä¸­çš„ç»„ä»¶ï¼Œç¡®ä¿å…¶æ ·å¼å®Œå…¨éš”ç¦»ã€‚
   * å°è¯•ä½¿ç”¨ **Emotion** åˆ›å»ºä¸€ä¸ªç®€å•çš„å¡ç‰‡ç»„ä»¶ï¼Œå…¶è¾¹æ¡†é¢œè‰²èƒ½é€šè¿‡ `props` è¿›è¡ŒåŠ¨æ€ä¼ é€’ã€‚
2. **è¿›é˜¶æŒ‘æˆ˜**ï¼š

   * åœ¨ä½ çš„é¡¹ç›®ä¸­å®ç°**ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½**ï¼Œä½¿ç”¨ **Emotion** å’Œ **Context API**ï¼Œè®©æ‰€æœ‰ç»„ä»¶éƒ½èƒ½å“åº”ä¸»é¢˜å˜åŒ–ã€‚
   * ç ”ç©¶å¹¶å°è¯•å°†ä¸€ä¸ªå°å‹ React ç»„ä»¶æ”¹é€ æˆ **Web Component** å¹¶ä½¿ç”¨ **Shadow DOM** è¿›è¡Œå°è£…ï¼Œç„¶åå°è¯•åœ¨å¦ä¸€ä¸ªé React é¡¹ç›®ä¸­åµŒå…¥å®ƒã€‚
3. **æ€è€ƒé¢˜**ï¼š

   * åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œ**CSS Modules** å’Œ **CSS-in-JS** å„è‡ªçš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿä½ ä¼šå¦‚ä½•æƒè¡¡å’Œé€‰æ‹©ï¼Ÿ
   * **Shadow DOM** æä¾›çš„å¼ºéš”ç¦»æ€§æ˜¯å¦ä¼šå¸¦æ¥å“ªäº›æ½œåœ¨çš„é—®é¢˜æˆ–é™åˆ¶ï¼Ÿï¼ˆä¾‹å¦‚ï¼Œå¤–éƒ¨å¦‚ä½•è¦†ç›–å…¶å†…éƒ¨æ ·å¼ï¼Ÿï¼‰
   * é™¤äº†æŠ€æœ¯æ‰‹æ®µï¼Œ**å›¢é˜Ÿè§„èŒƒå’Œçº¦å®š**ï¼ˆå¦‚ BEMï¼‰åœ¨æ ·å¼éš”ç¦»ä¸­æ‰®æ¼”ç€æ€æ ·çš„è§’è‰²ï¼Ÿ



