---
layout: post
title: "语音识别-FunASR-docker部署-超简洁步骤"
date: 2025-03-10 17:36:55 +0800
description: "FunASR是一个开源的语音识别工具包，它旨在为开发者提供一个灵活且易于使用的平台，用于开发和部署自动语音识别（ASR）系统。FunASR支持多种语言，并提供了丰富的API接口，使得集成和定制化变得更加简单。这个项目通常包含一些最新的语音识别技术，如深度学习模型等，这些技术能够显著提高语音识别的准确率和效率。"
keywords: "语音识别-FunASR-docker部署-【超简洁步骤】"
categories: ['未分类']
tags: ['语音识别', '人工智能', 'Docker']
artid: "146159489"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146159489
    alt: "语音识别-FunASR-docker部署-超简洁步骤"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146159489
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146159489
cover: https://bing.ee123.net/img/rand?artid=146159489
image: https://bing.ee123.net/img/rand?artid=146159489
img: https://bing.ee123.net/img/rand?artid=146159489
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     语音识别-FunASR-docker部署-【超简洁步骤】
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="FunASR_0">
     </a>
     FunASR介绍
    </h2>
    <blockquote>
     <p>
      FunASR是一个开源的语音识别工具包，它旨在为开发者提供一个灵活且易于使用的平台，用于开发和部署自动语音识别（ASR）系统。FunASR支持多种语言，并提供了丰富的API接口，使得集成和定制化变得更加简单。这个项目通常包含一些最新的语音识别技术，如深度学习模型等，这些技术能够显著提高语音识别的准确率和效率。
      <br/>
      <a href="https://github.com/modelscope/FunASR">
       源码地址https://github.com/modelscope/FunASR
      </a>
     </p>
    </blockquote>
    <h2>
     <a id="_5">
     </a>
     部署
    </h2>
    <pre><code class="prism language-shell"><span class="token function">docker</span> pull registry.cn-hangzhou.aliyuncs.com/funasr_repo/funasr:funasr-runtime-sdk-online-cpu-0.1.12
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /data/funasr-runtime-resources/models
<span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">10095</span>:10095 <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span><span class="token operator">=</span>funasr <span class="token parameter variable">--privileged</span><span class="token operator">=</span>true <span class="token parameter variable">-v</span> /data/funasr-runtime-resources/models:/workspace/models registry.cn-hangzhou.aliyuncs.com/funasr_repo/funasr:funasr-runtime-sdk-online-cpu-0.1.12
</code></pre>
    <h2>
     <a id="_11">
     </a>
     服务启动
    </h2>
    <pre><code class="prism language-shell"><span class="token comment"># 进入funasr容器</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> funasr /bin/sh
<span class="token builtin class-name">cd</span> FunASR/runtime

<span class="token function">nohup</span> <span class="token function">bash</span> run_server_2pass.sh <span class="token punctuation">\</span>
  --download-model-dir /workspace/models <span class="token punctuation">\</span>
  --vad-dir damo/speech_fsmn_vad_zh-cn-16k-common-onnx <span class="token punctuation">\</span>
  --model-dir damo/speech_paraformer-large-vad-punc_asr_nat-zh-cn-16k-common-vocab8404-onnx  <span class="token punctuation">\</span>
  --online-model-dir damo/speech_paraformer-large_asr_nat-zh-cn-16k-common-vocab8404-online-onnx  <span class="token punctuation">\</span>
  --punc-dir damo/punc_ct-transformer_zh-cn-common-vad_realtime-vocab272727-onnx <span class="token punctuation">\</span>
  --lm-dir damo/speech_ngram_lm_zh-cn-ai-wesp-fst <span class="token punctuation">\</span>
  --itn-dir thuduj12/fst_itn_zh <span class="token punctuation">\</span>
  <span class="token parameter variable">--hotword</span> /workspace/models/hotwords.txt <span class="token operator">&gt;</span> log.txt <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">&amp;</span>

<span class="token comment"># 如果您想关闭ssl，增加参数：--certfile 0</span>
<span class="token comment"># 如果您想使用SenseVoiceSmall模型、时间戳、nn热词模型进行部署，请设置--model-dir为对应模型：</span>
<span class="token comment">#   iic/SenseVoiceSmall-onnx</span>
<span class="token comment">#   damo/speech_paraformer-large-vad-punc_asr_nat-zh-cn-16k-common-vocab8404-onnx（时间戳）</span>
<span class="token comment">#   damo/speech_paraformer-large-contextual_asr_nat-zh-cn-16k-common-vocab8404-onnx（nn热词）</span>
<span class="token comment"># 如果您想在服务端加载热词，请在宿主机文件./funasr-runtime-resources/models/hotwords.txt配置热词（docker映射地址为/workspace/models/hotwords.txt）:</span>
<span class="token comment">#   每行一个热词，格式(热词 权重)：阿里巴巴 20（注：热词理论上无限制，但为了兼顾性能和效果，建议热词长度不超过10，个数不超过1k，权重1~100）</span>
<span class="token comment"># SenseVoiceSmall-onnx识别结果中“&lt;|zh|&gt;&lt;|NEUTRAL|&gt;&lt;|Speech|&gt; ”分别为对应的语种、情感、事件信息</span>
</code></pre>
    <h2>
     <a id="demo_37">
     </a>
     快速测试-自动demo
    </h2>
    <p>
     在源码目录下的
     <code>
      runtime/html5/static
     </code>
     路径,直接在浏览器打开index.html
    </p>
    <p>
     设置wss://127.0.0.1:10095
    </p>
    <p>
     要关闭ssl加上
     <code>
      --certfile 0
     </code>
     参数就可以。
    </p>
    <h2>
     <a id="_44">
     </a>
     插入个人广告，不喜欢可以不用往下看了
    </h2>
    <p>
     搭建属于你自己的WEB堡垒机系统，只要有浏览器就可以远程控制你的电脑，协议支持rdp,vnc,ssh
     <br/>
     官方地址:
     <a href="http://bb.yun-api.com/" rel="nofollow">
      百百WEB堡垒机
     </a>
     http://bb.yun-api.com/
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f33383938393534302f:61727469636c652f64657461696c732f313436313539343839" class_="artid" style="display:none">
 </p>
</div>


