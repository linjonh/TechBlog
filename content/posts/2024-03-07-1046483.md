---
layout: post
title: 嵌入式系统开发工具及RTOS平台
date: 2024-03-07 12:07:15 +0800
categories: ['军师挂帅']
tags: ['语言', '编译器', '开发工具', '嵌入式', '任务', '产品']
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=1046483
    alt: 嵌入式系统开发工具及RTOS平台
artid: 1046483
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=1046483
featuredImagePreview: https://bing.ee123.net/img/rand?artid=1046483
---

# 嵌入式系统开发工具及RTOS平台

嵌入式系统综述之三

嵌入式系统开发工具及
RTOS
平台

北京诺浩数字基因研究所


  
中国单片机公共实验室


(BOL)
  






  

吕京建





肖海桥



  
(
[http://www.bol-system.com](http://www.bol-system.com/)

)

嵌入式处理器是一个复杂的高技术系统，要在短时间内掌握并开发出所有功能是很不容易的，而市场竞争则要求产品能够快速上市，这一矛盾要求嵌入式处理器能够有容易掌握和使用的开发工具平台。提高用户和程序员的时间投入回报率


(ROT1)

。

从事嵌入式开发的往往是非计算机专业人士，面对成百上千种处理器，选择是一个问题，学习掌握处理器结构及其应用更需要时间，因此以开发工具和技术咨询为基础的整体解决方案是迫切需要的。好的开发工具除能够开发出处理器的全部功能以外，还应当是用户友好的。目前嵌入式系统的开发工具平台主要包括下面几类。

**1.**

**实时在线仿真系统**
**ICE(In-Circuit Emulator)**

直到计算机辅助设计非常发达的今天，实时在线仿真系统


(ICE)

仍是进行嵌入式应用系统调试最有效的开发工具。


ICE

首先可以通过实际执行，对应用程序进行原理性检验，排除以人的思维难以发现的设计逻辑错误。


ICE

的另一个主要功能是在应用系统中仿真微控制器的实时执行，发现和排除由于硬件干扰等引起的异常执行行为。此外，高级的


ICE

带有完善的跟踪功能，可以将应用系统的实际状态变化、微控制器对状态变化的反应、以及应用系统对控制的响应等以一种录像的方式连续记录下来，以供分析，在分析中优化控制过程。很多机电系统难以建立一个精确有效的数学模型，或是建立模型需要大量人力，这时采用


ICE

的跟踪功能对系统进行记录和分析是一个快而有效的方法。



  
  

嵌入式应用的特点是和现实世界中的硬件系统有关，存在各种异变和事先未知的变化，这就给微控制器的指令执行带来了各种不确定性，这种不确定性只有通过


ICE

的实时在线仿真才能发现，特别是在分析可靠性时要在同样条件下多次仿真，以发现偶然出现的错误。



  
  
ICE

不仅是软件硬件排错工具，同时也是提高和优化系统性能指标的工具。高档


ICE

工具


(

如美国


NOHAU

公司的产品


)

是可根据用户投资裁剪功能的系统，亦可根据需要选择配置各种档次的实时逻辑跟踪器


(Trace)

、实时映象存储器


(Shadow RAM)

及程序效率实时分析功能


(PPA)

。


(

有关详情请查阅


http://www.nohau.com)

。

**2.**

**高级语言编译器**
**(Compiler Tools)**

  
  

C


语言作为一种通用的高级语言，大幅度提高了嵌入式系统工程师的工作效率，使之能够充分发挥出嵌入式处理器日益提高的性能，缩短产品进入市场时间。另外


C

语言便于移植和修改，使产品的升级和继承更迅速。更重要的是采用


C

语言编写的程序易于在不同的开发者之间进行交流，从而促进了嵌入式系统开发的产业化。

区别于一般计算机中的


C

语言编译器，嵌入式系统中的


C

语言编译器要专门进行优化，以提高编译效率。优秀的嵌入式系统


C

编译器代码长度和执行时间仅比以汇编语言编写的同样功能程序长


5~20%

。编译质量的不同，是区别嵌入式


C

编译器工具的重要指标。而


C

编译器与汇编语言工具相比残余的


5~20%

效率差别，完全可以由现代微控制器的高速度、大存储器空间以及产品提前进入市场的优势来弥补。

新型的微控制器指令及


SOC

速度不断提高，存储器空间也相应加大，已经达到甚至超过了目前的通用计算机中的微处理器，为嵌入式系统工程师采用过去一直不敢问津的


C++

语言创造了条件。


C++

语言强大的类、继承等功能更便于实现复杂的程序功能。但是


C++

语言为了支持复杂的语法，在代码生成效率方面不免有所下降。为此，


1995

年初在日本成立的


Embedded C++

技术委员会经过几年的研究，针对嵌入式应用制订了减小代码尺寸的


EC++

标准。


EC++

保留了


C++

的主要优点，提供对


C++

的向上兼容性，并满足嵌入式系统设计的一些特殊要求。在嵌入式高级语言编译器方面处于领先地位的


Tasking

公司，是


EC++

技术委员会成员之一，也是最先推出


EC++

产品的公司。


(

更多的信息，可查询


http://www.tasking.com)

。

C/C++/EC++


引入嵌入式系统，使得嵌入式开发和个人计算机、小型机等之间在开发上的差别正在逐渐消除，软件工程中的很多经验、方法乃至库函数可以移植到嵌入式系统。在嵌入式开发中采用高级语言，还使得硬件开发和软件开发可以分工，从事嵌入式软件开发不再必须精通系统硬件和相应用汇编语言指令集。

另一种高级语言，


JAVA

的发展则具有戏剧性。


JAVA

本来是为设备独立的嵌入式系统设计的、为了提高程序继承性的语言，但是目前基于


JAVA

的嵌入式开发工具代码生成长度要比嵌入式


C

编译工具差


10

倍以上。因此


EC++

很可能将成为未来的主流工具。

3.


源程序模拟器



(Simulator)
  
  

源程序模拟器是在广泛使用的、人机接口完备的工作平台上，如小型机和


PC

，通过软件手段模拟执行为某种嵌入式处理器内核编写的源程序测试工具。简单的模拟器可以通过指令解释方式逐条执行源程序，分配虚拟存储空间和外设，供程序员检查；高级的模拟器可以利用计算机的外部接口模拟出处理器的


I/O

电气信号。不同档次和功能模拟器工具价格差距巨大。

模拟器软件独立于处理器硬件，一般与编译器集成在同一个环境中，是一种有效的源程序检验和测试工具。但值得注意的是，模拟器毕竟是以一种处理器模拟另一种处理器的运行，在指令执行时间、中断响应、定时器等方面很可能与实际处理器有相当的差别。另外它无法和


ICE

一样，仿真嵌入式系统在应用系统中的实际执行情况。


(

更多的资料，可查询以下网址：


www.chiptools.com, www.keil.com, www.tasking.com)

。

4.


实时多任务操作系统



  
(Real Time multi-tasking Operation System, RTOS)
  
  

实时多任务操作系统


(RTOS)

是嵌入式应用软件的基础和开发平台。目前在中国大多数嵌入式软件开发还是基于处理器直接编写，没有采用商品化的


RTOS

，不能将系统软件和应用软件分开处理。


RTOS

是一段嵌入在目标代码中的软件，用户的其它应用程序都建立在


RTOS

之上。不但如此，


RTOS

还是一个可靠性和可信性很高的实时内核，将


CPU

时间、中断、


I/O

、定时器等资源都包装起来，留给用户一个标准的


API

，并根据各个任务的优先级，合理地在不同任务之间分配


CPU

时间。



  
  
RTOS

是针对不同处理器优化设计的高效率实时多任务内核，优秀商品化的


RTOS

可以面对几十个系列的嵌入式处理器


MPU

、


MCU

、


DSP

、


SOC

等提供类同的


API

接口，这是


RTOS

基于设备独立的应用程序开发基础。因此基于


RTOS

上的


C

语言程序具有极大的可移植性。专家测算，优秀


RTOS

上跨处理器平台的程序移植只需要修改


1~5%

的内容。在


RTOS

基础上可以编写出各种硬件驱动程序、专家库函数、行业库函数、产品库函数，和通用性的应用程序一起，可以作为产品销售，促进行业内的知识产权交流，因此


RTOS

又是一个软件开发平台。

5. RTOS

是嵌入式系统的软件开发平台



  
  
RTOS

最关键的部分是实时多任务内核，它的基本功能包括任务管理、定时器管理、存储器管理、资源管理、事件管理、系统管理、消息管理、队列管理、旗语管理等


,

这些管理功能是通过内核服务函数形式交给用户调用的，也就是


RTOS

的


API

。


RTOS

的引入，解决了嵌入式软件开发标准化的难题。随着嵌入式系统中软件比重不断上升、应用程序越来越大，对开发人员、应用程序接口、程序档案的组织管理成为一个大的课题。引入


RTOS

相当于引入了一种新的管理模式，对于开发单位和开发人员都是一个提高。



  
  

基于


RTOS

开发出的程序，具有较高的可移植性，实现


90%

以上设备独立，一些成熟的通用程序可以作为专家库函数产品推向社会。嵌入式软件的函数化、产品化能够促进行业交流以及社会分工专业化，减少重复劳动，提高知识创新的效率。

嵌入式工业的基础是以应用为中心的芯片设计和面向应用的软件开发。实时多任务操作系统


(RTOS)

进入嵌入式工业的意义不亚于历史上机械工业采用三视图的贡献，对嵌入式软件的标准化和加速知识创新是一个里程碑。

目前，商品化的


RTOS

可支持从


8BIT

的


8051

到


32BIT

的


PowerPC

及


DSP

等几十个系列的





嵌入式处理器。提供高质量源代码


RTOS

的著名公司主要集中在美国。


(

更多的资料可查询下列网址：


http: // www.cmx.com,
[www.rtxc.com](http://www.rtxc.com/)

)

。