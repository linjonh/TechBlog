---
arturl_encode: "68747470733a:2f2f626c6f672e6373646e2e6e65742f4747447869616e762f:61727469636c652f64657461696c732f313436313237313435"
layout: post
title: "Linuxç¬”è®°ç†è§£æ–‡ä»¶ç³»ç»Ÿä¸Š"
date: 2025-03-09 10:06:24 +08:00
description: "**æ‰‡åŒºæ˜¯ç£ç›˜å­˜å‚¨æ•°æ®çš„åŸºæœ¬å•ä½ï¼Œæ˜¯ç£ç›˜ä¸Šçš„ä¸€ä¸ªå¼§å½¢åŒºåŸŸ**ã€‚å¸¸è§çš„æ‰‡åŒºå¤§å°ä¸º 512 å­—èŠ‚ã€‚æ‰‡åŒºæ˜¯æ•°æ®åœ¨ç£ç›˜ä¸Šå­˜å‚¨çš„æœ€å°å•å…ƒï¼Œè®¡ç®—æœºåœ¨å‘ç£ç›˜å†™å…¥æ•°æ®æ—¶ï¼Œä¼šå°†æ•°æ®æŒ‰æ‰‡åŒºè¿›è¡Œåˆ’åˆ†å¹¶å­˜å‚¨ï¼›è¯»å–æ•°æ®æ—¶ï¼Œä¹Ÿä»¥æ‰‡åŒºä¸ºå•ä½è¿›è¡Œè¯»å–ã€‚ä¸åŒç›˜é¢ï¼ˆç£å¤´ï¼‰ä¸Šç›¸åŒä½ç½®çš„ç£é“ç»„æˆä¸€ä¸ªæŸ±é¢ã€‚åœ¨è¿›è¡Œæ•°æ®è¯»å†™æ—¶ï¼Œé€šå¸¸ä¼šæŒ‰æŸ±é¢ã€ç£å¤´ã€æ‰‡åŒºçš„é¡ºåºæ¥è®¿é—®ç£ç›˜ä¸Šçš„æ•°æ®ï¼Œè¿™æ ·å¯ä»¥å……åˆ†åˆ©ç”¨ç£ç›˜çš„å­˜å‚¨ç»“æ„ï¼Œæé«˜æ•°æ®è®¿é—®çš„æ•ˆç‡ã€‚"
keywords: "ã€Linuxç¬”è®°ã€‘ç†è§£æ–‡ä»¶ç³»ç»Ÿ(ä¸Š)"
categories: ['Linux']
tags: ['è¿ç»´', 'ç¬”è®°', 'Linux']
artid: "146127145"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146127145
    alt: "Linuxç¬”è®°ç†è§£æ–‡ä»¶ç³»ç»Ÿä¸Š"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146127145
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146127145
cover: https://bing.ee123.net/img/rand?artid=146127145
image: https://bing.ee123.net/img/rand?artid=146127145
img: https://bing.ee123.net/img/rand?artid=146127145
---

# ã€Linuxç¬”è®°ã€‘ç†è§£æ–‡ä»¶ç³»ç»Ÿ(ä¸Š)

> ğŸ”¥ä¸ªäººä¸»é¡µğŸ”¥ï¼š
> [å­¤å¯‚å¤§ä»™V](https://blog.csdn.net/GGDxianv?spm=1011.2648.3001.5343)
>   
> ğŸŒˆæ”¶å½•ä¸“æ ğŸŒˆï¼š
> [Linux](https://blog.csdn.net/ggdxianv/category_12805380.html?spm=1001.2014.3001.5482)
>   
> ğŸŒ¹å¾€æœŸå›é¡¾ğŸŒ¹ï¼š
> [ã€Linuxç¬”è®°ã€‘åŸºç¡€IO(ä¸‹)](https://blog.csdn.net/GGDxianv/article/details/146024532?spm=1001.2014.3001.5501)
>   
> ğŸ”–æµæ°´ä¸äº‰ï¼Œäº‰çš„æ˜¯æ»”æ»”ä¸

---

> æ–‡ä»¶=å±æ€§+å†…å®¹ã€‚è¢«æ‰“å¼€çš„æ–‡ä»¶é€šè¿‡åŸºç¡€IOåˆ°å†…å­˜ä¸­ï¼Œæ²¡æœ‰è¢«æ‰“å¼€çš„æ–‡ä»¶åœ¨ç£ç›˜ä¸­ã€‚æ–‡ä»¶åœ¨ç£ç›˜ä¸Šæœ€åŸºæœ¬çš„è¯‰æ±‚å°±æ˜¯è¢«ç”¨æˆ·æ‰¾åˆ°ï¼Œè¿™ä¹Ÿæ˜¯æ–‡ä»¶ç³»ç»Ÿæœ€åŸºæœ¬çš„è¯‰æ±‚ã€‚

## ä¸€ã€ä»ç¡¬ä»¶å¼€å§‹ç†è§£

### 1.1 ç£ç›˜

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/bb8b0b97dd5e468e8e165be96d3a17b6.png)

**åŸºæœ¬ç»“æ„**

* ç›˜ç‰‡ï¼šæ˜¯å­˜å‚¨æ•°æ®çš„ä»‹è´¨ï¼Œä¸€èˆ¬ç”±é“åˆé‡‘æˆ–ç»ç’ƒç­‰ææ–™åˆ¶æˆï¼Œè¡¨é¢æ¶‚æœ‰ç£æ€§ææ–™ã€‚ç›˜ç‰‡é€šå¸¸æœ‰å¤šä¸ªï¼Œå®ƒä»¬å æ”¾åœ¨ä¸€èµ·ï¼Œå®‰è£…åœ¨ä¸»è½´ä¸Šï¼Œèƒ½å¤Ÿé«˜é€Ÿæ—‹è½¬ã€‚
* ç£å¤´ï¼šè´Ÿè´£è¯»å–å’Œå†™å…¥æ•°æ®ã€‚æ¯ä¸ªç›˜ç‰‡çš„ä¸Šä¸‹ä¸¤é¢éƒ½æœ‰ä¸€ä¸ªç£å¤´ï¼Œç£å¤´é€šè¿‡ç§»åŠ¨è‡‚åœ¨ç›˜ç‰‡è¡¨é¢ç§»åŠ¨ï¼Œå¯»æ‰¾åˆ°æ­£ç¡®çš„ä½ç½®æ¥è¿›è¡Œæ•°æ®çš„è¯»å†™æ“ä½œã€‚ç£å¤´ä¸ç›˜ç‰‡ä¹‹é—´çš„è·ç¦»éå¸¸å°ï¼Œé€šå¸¸åªæœ‰å‡ å¾®ç±³ç”šè‡³æ›´å°ï¼Œä»¥å®ç°é«˜ç²¾åº¦çš„æ•°æ®è¯»å†™ã€‚
* ç”µæœºï¼šåŒ…æ‹¬ä¸»è½´ç”µæœºå’ŒéŸ³åœˆç”µæœºã€‚ä¸»è½´ç”µæœºç”¨äºé©±åŠ¨ç›˜ç‰‡ä»¥æ’å®šçš„é€Ÿåº¦æ—‹è½¬ï¼Œå¸¸è§çš„è½¬é€Ÿæœ‰ 5400 è½¬ / åˆ†é’Ÿã€7200 è½¬ / åˆ†é’Ÿç­‰ã€‚éŸ³åœˆç”µæœºåˆ™è´Ÿè´£æ§åˆ¶ç£å¤´çš„ç§»åŠ¨ï¼Œä½¿ç£å¤´èƒ½å¤Ÿå¿«é€Ÿã€å‡†ç¡®åœ°å®šä½åˆ°éœ€è¦è¯»å†™æ•°æ®çš„ä½ç½®ã€‚
* æ§åˆ¶ç”µè·¯ï¼šä¸»è¦ç”±ç¡¬ç›˜æ§åˆ¶å™¨ã€ç¼“å­˜æ§åˆ¶å™¨ç­‰ç»„æˆã€‚ç¡¬ç›˜æ§åˆ¶å™¨è´Ÿè´£ä¸è®¡ç®—æœºçš„å…¶ä»–éƒ¨ä»¶è¿›è¡Œé€šä¿¡ï¼Œåè°ƒæ•°æ®çš„- ä¼ è¾“å’Œå­˜å‚¨æ“ä½œï¼›ç¼“å­˜æ§åˆ¶å™¨ç®¡ç†ç¡¬ç›˜çš„ç¼“å­˜ï¼Œæé«˜æ•°æ®çš„è¯»å†™æ€§èƒ½ã€‚
* ç¼“å­˜ï¼šæ˜¯ç¡¬ç›˜ä¸­çš„é«˜é€Ÿå†…å­˜åŒºåŸŸï¼Œç”¨äºä¸´æ—¶å­˜å‚¨å³å°†è¢«è¯»å†™çš„æ•°æ®ã€‚ç¼“å­˜çš„å¤§å°é€šå¸¸ä¸ºå‡  MB åˆ°å‡ å MB ä¸ç­‰ï¼Œè¾ƒå¤§çš„ç¼“å­˜å¯ä»¥æé«˜ç¡¬ç›˜çš„æ•°æ®è¯»å†™é€Ÿåº¦å’Œç³»ç»Ÿæ€§èƒ½ã€‚
    
  **å·¥ä½œåŸç†**
* æ•°æ®å†™å…¥ï¼šå½“è®¡ç®—æœºéœ€è¦å‘ç¡¬ç›˜å†™å…¥æ•°æ®æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šå°†æ•°æ®å‘é€åˆ°ç¡¬ç›˜çš„ç¼“å­˜ä¸­ã€‚ç„¶åï¼Œç£å¤´æ ¹æ®æ•°æ®çš„å­˜å‚¨åœ°å€ï¼Œåœ¨ç›˜ç‰‡æ—‹è½¬çš„åŒæ—¶ï¼Œé€šè¿‡ç”µç£è½¬æ¢åŸç†ï¼Œå°†æ•°æ®ä»¥ç£æ€§ä¿¡å·çš„å½¢å¼è®°å½•åœ¨ç›˜ç‰‡çš„ç‰¹å®šä½ç½®ä¸Šã€‚
* æ•°æ®è¯»å–ï¼šå½“è®¡ç®—æœºéœ€è¦ä»ç¡¬ç›˜è¯»å–æ•°æ®æ—¶ï¼Œç£å¤´é¦–å…ˆä¼šæ ¹æ®æ•°æ®çš„å­˜å‚¨åœ°å€ç§»åŠ¨åˆ°ç›¸åº”çš„ä½ç½®ï¼Œç„¶åéšç€ç›˜ç‰‡çš„æ—‹è½¬ï¼Œç£å¤´æ„Ÿåº”ç›˜ç‰‡ä¸Šçš„ç£æ€§ä¿¡å·ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºç”µä¿¡å·ï¼Œå†ç»è¿‡æ”¾å¤§ã€è§£ç ç­‰å¤„ç†åï¼Œå°†æ•°æ®ä¼ è¾“åˆ°ç¡¬ç›˜çš„ç¼“å­˜ä¸­ï¼Œæœ€åç”±ç¼“å­˜å°†æ•°æ®å‘é€ç»™è®¡ç®—æœºçš„å…¶ä»–éƒ¨ä»¶ã€‚
    
  **ä¸»è¦æ€§èƒ½æŒ‡æ ‡**
* å®¹é‡ï¼šæ˜¯æŒ‡ç¡¬ç›˜èƒ½å¤Ÿå­˜å‚¨çš„æ•°æ®é‡ï¼Œå¸¸è§çš„å®¹é‡æœ‰ 500GBã€1TBã€2TB ç­‰ã€‚éšç€æŠ€æœ¯çš„å‘å±•ï¼Œç¡¬ç›˜çš„å®¹é‡ä¹Ÿåœ¨ä¸æ–­å¢å¤§ã€‚
* è½¬é€Ÿï¼šæŒ‡ç›˜ç‰‡æ¯åˆ†é’Ÿçš„æ—‹è½¬æ¬¡æ•°ï¼Œè½¬é€Ÿè¶Šé«˜ï¼Œç¡¬ç›˜çš„æ•°æ®ä¼ è¾“é€Ÿåº¦å°±è¶Šå¿«ï¼Œå¯»é“æ—¶é—´ä¹Ÿè¶ŠçŸ­ã€‚
* å¹³å‡å¯»é“æ—¶é—´ï¼šæ˜¯æŒ‡ç£å¤´ä»ä¸€ä¸ªä½ç½®ç§»åŠ¨åˆ°å¦ä¸€ä¸ªä½ç½®å¹¶æ‰¾åˆ°æ‰€éœ€æ•°æ®çš„å¹³å‡æ—¶é—´ï¼Œä¸€èˆ¬åœ¨å‡ æ¯«ç§’åˆ°åå‡ æ¯«ç§’ä¹‹é—´ã€‚
* æ•°æ®ä¼ è¾“ç‡ï¼šåˆ†ä¸ºå†…éƒ¨æ•°æ®ä¼ è¾“ç‡å’Œå¤–éƒ¨æ•°æ®ä¼ è¾“ç‡ã€‚å†…éƒ¨æ•°æ®ä¼ è¾“ç‡æ˜¯æŒ‡ç¡¬ç›˜ç£å¤´ä¸ç¼“å­˜ä¹‹é—´çš„æ•°æ®ä¼ è¾“é€Ÿåº¦ï¼Œå®ƒä¸»è¦å–å†³äºç¡¬ç›˜çš„ç›˜ç‰‡è½¬é€Ÿå’Œç£å¤´çš„è¯»å†™èƒ½åŠ›ï¼›å¤–éƒ¨æ•°æ®ä¼ è¾“ç‡æ˜¯æŒ‡ç¡¬ç›˜ä¸è®¡ç®—æœºå…¶ä»–éƒ¨ä»¶ä¹‹é—´çš„æ•°æ®ä¼ è¾“é€Ÿåº¦ï¼Œå®ƒä¸»è¦å–å†³äºç¡¬ç›˜çš„æ¥å£ç±»å‹å’Œä¼ è¾“åè®®ã€‚
    
  **ä¼˜ç¼ºç‚¹**
* ä¼˜ç‚¹ï¼šæŠ€æœ¯æˆç†Ÿï¼Œæˆæœ¬ç›¸å¯¹è¾ƒä½ï¼Œå®¹é‡å¤§ï¼Œé€‚åˆå¤§é‡æ•°æ®çš„å­˜å‚¨ã€‚
* ç¼ºç‚¹ï¼šæœºæ¢°ç»“æ„å¤æ‚ï¼Œå®¹æ˜“å‡ºç°æ•…éšœï¼ŒæŠ—éœ‡æ€§èƒ½è¾ƒå·®ï¼›è¯»å†™é€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢ï¼Œå°¤å…¶æ˜¯éšæœºè¯»å†™æ€§èƒ½ä¸å¦‚å›ºæ€ç¡¬ç›˜ã€‚

æœºæ¢°ç¡¬ç›˜åœ¨è®¡ç®—æœºå­˜å‚¨é¢†åŸŸæ›¾ç»å æ®ä¸»å¯¼åœ°ä½ï¼Œè™½ç„¶è¿‘å¹´æ¥éšç€å›ºæ€ç¡¬ç›˜çš„å‘å±•ï¼Œå…¶å¸‚åœºä»½é¢æœ‰æ‰€ä¸‹é™ï¼Œä½†ä»ç„¶å¹¿æ³›åº”ç”¨äºä¸ªäººç”µè„‘ã€æœåŠ¡å™¨ã€ç›‘æ§è®¾å¤‡ç­‰é¢†åŸŸã€‚

### 1.2ç£ç›˜çš„å­˜å‚¨ç»“æ„

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/780da6d2e5144a589dda098f97d7ad1e.png)
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/3be40e928f6a4c4ca4a05e87e8b6e13c.png)
  
**æ‰‡åŒºæ˜¯ç£ç›˜å­˜å‚¨æ•°æ®çš„åŸºæœ¬å•ä½ï¼Œæ˜¯ç£ç›˜ä¸Šçš„ä¸€ä¸ªå¼§å½¢åŒºåŸŸ**
ã€‚å¸¸è§çš„æ‰‡åŒºå¤§å°ä¸º 512 å­—èŠ‚ã€‚æ‰‡åŒºæ˜¯æ•°æ®åœ¨ç£ç›˜ä¸Šå­˜å‚¨çš„æœ€å°å•å…ƒï¼Œè®¡ç®—æœºåœ¨å‘ç£ç›˜å†™å…¥æ•°æ®æ—¶ï¼Œä¼šå°†æ•°æ®æŒ‰æ‰‡åŒºè¿›è¡Œåˆ’åˆ†å¹¶å­˜å‚¨ï¼›è¯»å–æ•°æ®æ—¶ï¼Œä¹Ÿä»¥æ‰‡åŒºä¸ºå•ä½è¿›è¡Œè¯»å–ã€‚
  
ä¸åŒç›˜é¢ï¼ˆç£å¤´ï¼‰ä¸Šç›¸åŒä½ç½®çš„ç£é“ç»„æˆä¸€ä¸ªæŸ±é¢ã€‚åœ¨è¿›è¡Œæ•°æ®è¯»å†™æ—¶ï¼Œé€šå¸¸ä¼šæŒ‰æŸ±é¢ã€ç£å¤´ã€æ‰‡åŒºçš„é¡ºåºæ¥è®¿é—®ç£ç›˜ä¸Šçš„æ•°æ®ï¼Œè¿™æ ·å¯ä»¥å……åˆ†åˆ©ç”¨ç£ç›˜çš„å­˜å‚¨ç»“æ„ï¼Œæé«˜æ•°æ®è®¿é—®çš„æ•ˆç‡ã€‚

### 1.3 CHSåœ°å€å®šä½

**å¦‚ä½•å®šä½ä¸€ä¸ªæ‰‡åŒºå‘¢ï¼Ÿ**

* å…ˆå®šä½ç£å¤´(header)
* ç¡®å®šç£å¤´è®¿é—®å“ªä¸€ä¸ªæŸ±é¢(ç£é“)ï¼ˆcylinderï¼‰
* å®šä½ä¸€ä¸ªæ‰‡åŒº(sector)

æ–‡ä»¶=å†…å®¹+å±æ€§ éƒ½æ˜¯æ•°æ®ï¼Œå°±æ—¶å æ®å‡ ä¸ªæ‰‡åŒºçš„é—®é¢˜ï¼Œå› ä¸ºæ‰‡åŒºæ˜¯å­˜å‚¨æ•°æ®çš„åŸºæœ¬å•ä½ã€‚å¯ä»¥é€šè¿‡å®šä½å¤šä¸ªæ‰‡åŒºçš„æ–¹å¼è®¿é—®æ•°æ®ä¸å­˜å‚¨æ•°æ®ã€‚

**ç£å¤´ï¼ˆheadï¼‰**
ï¼šæ¯ä¸ªç›˜ç‰‡æœ‰ä¸Šä¸‹ä¸¤é¢ï¼Œå¯¹åº” 2 ä¸ªç£å¤´ï¼Œç›˜ç‰‡æ•°å†³å®šç£å¤´æ€»æ•°ï¼Œç”¨äºè¯»å†™æ•°æ®ã€‚
  
**ç£é“ï¼ˆtrackï¼‰**
ï¼šä»ç›˜ç‰‡å¤–åœˆå¾€å†…åœˆç¼–å·ï¼Œæ˜¯ä¸€ç³»åˆ—åŒå¿ƒåœ†ï¼Œé è¿‘ä¸»è½´çš„åŒå¿ƒåœ†ç”¨äºç£å¤´åœé ï¼Œä¸å­˜æ•°æ®ã€‚
  
**æŸ±é¢ï¼ˆcylinderï¼‰**
ï¼šç”±ä¸åŒç›˜é¢ä¸Šç›¸åŒä½ç½®çš„ç£é“æ„æˆï¼Œæ•°é‡ä¸ç£é“æ•°ç›¸ç­‰ã€‚
  
**æ‰‡åŒºï¼ˆsectorï¼‰**
ï¼šæ˜¯ç£ç›˜è¯»å†™ä¿¡æ¯çš„æœ€å°å•ä½ï¼Œé€šå¸¸ä¸º 512 å­—èŠ‚ï¼Œæ¯ä¸ªç£é“åˆ‡åˆ†æˆçš„æ‰‡åŒºæ•°é‡ç›¸åŒã€‚
  
**åœ†ç›˜ï¼ˆplatterï¼‰**
ï¼šå³ç›˜ç‰‡ï¼Œå…¶æ•°é‡å½±å“ç£ç›˜å®¹é‡ç­‰æ€§èƒ½ã€‚
  
**ç£ç›˜å®¹é‡**
ï¼šè®¡ç®—å…¬å¼ä¸ºç£ç›˜å®¹é‡ = ç£å¤´æ•° Ã— ç£é“ (æŸ±é¢) æ•° Ã— æ¯é“æ‰‡åŒºæ•° Ã— æ¯æ‰‡åŒºå­—èŠ‚æ•°ã€‚
  
**CHS å¯»å€æ–¹å¼**
ï¼šé€šè¿‡æŸ±é¢ã€ç£å¤´ã€æ‰‡åŒºä¸‰ä¸ªå‚æ•°å®šä½æ•°æ®ï¼Œæ˜¯ä¸€ç§å¸¸è§çš„æ•°æ®å®šä½æ–¹å¼ã€‚

### 1.4 ç£ç›˜çš„é€»è¾‘ç»“æ„

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/0f92e2e76a514db38ff43c8a3610a6db.png)
  
ç£å¸¦ä¸Šå­˜å‚¨æ•°æ®æ˜¯åœ¨ç›´çš„ç£å¸¦ä¸Šï¼Œæ˜¯çº¿æ€§ç»“æ„ã€‚

ç£ç›˜ç‰©ç†å­˜å‚¨è™½ç„¶æ˜¯ä»¥æ‰‡åŒºä¸ºå•ä½ï¼Œä¸”æ˜¯æ›²é¢çš„ã€‚ä½†æˆ‘ä»¬å¯ä»¥æŠŠç£ç›˜æŠ½è±¡é€»è¾‘ä¸Šç†è§£ä¸ºå·èµ·çš„ç£å¸¦ï¼Œé‚£ä¹ˆç£ç›˜çš„é€»è¾‘å­˜å‚¨ç»“æ„ä¹Ÿå¯ä»¥ç†è§£ä¸ºçº¿æ€§çš„ã€‚
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/19c9cac643914b3db955cec80203b4de.png)
  
**è¿™æ ·çš„çº¿æ€§åœ°å€å«åšLBAã€‚**
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/7e237dc18f334b278693af59e0e29bd5.png)

### 1.5 çœŸå®è¿‡ç¨‹

ä¸Šé¢è¯´è¿‡ï¼Œä¼ åŠ¨è‡‚ä¸Šçš„ç£å¤´æ˜¯å…±è¿›é€€çš„ã€‚

æŸ±é¢æ˜¯â¼€ä¸ªé€»è¾‘ä¸Šçš„æ¦‚å¿µï¼Œå…¶å®å°±æ˜¯æ¯ä¸€é¢ä¸Šï¼Œç›¸åŒåŠå¾„çš„ç£é“é€»è¾‘ä¸Šæ„æˆæŸ±é¢ã€‚æ‰€ä»¥ï¼Œç£ç›˜ç‰©ç†ä¸Šåˆ†äº†å¾ˆå¤šé¢ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬çœ‹æ¥ï¼Œé€»è¾‘ä¸Šï¼Œç£ç›˜æ•´ä½“æ˜¯ç”±â€œæŸ±é¢â€å·èµ·æ¥çš„ã€‚

**ç£é“å±•å¼€**
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/84331113f6ea433e82ee4b3186db2fa8.png)
  
**æŸ±é¢å±•å¼€**
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/5542c5d638b942b69c91f897b8e3287c.png)
  
**æ•´ä¸ªç£ç›˜**
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/bafbc9bddb1243f882ecc62d887b71c0.png)

### 1.6 CHS å’Œ LBA åœ°å€

**CHS è½¬ LBA**

* é¦–å…ˆè®¡ç®—å•ä¸ªæŸ±é¢çš„æ‰‡åŒºæ€»æ•°ï¼Œå³ç£å¤´æ•° Ã— æ¯ç£é“æ‰‡åŒºæ•°ã€‚
* è®¡ç®—å…¬å¼ä¸ºï¼šLBA = æŸ±é¢å· CÃ—(ç£å¤´æ•° Ã— æ¯ç£é“æ‰‡åŒºæ•°)+ ç£å¤´å· HÃ— æ¯ç£é“æ‰‡åŒºæ•° + æ‰‡åŒºå· S - 1ã€‚
* æ³¨æ„æ‰‡åŒºå·ä» 1 å¼€å§‹ï¼Œè€Œ LBA åœ°å€ä» 0 å¼€å§‹ï¼ŒæŸ±é¢å’Œç£é“ä» 0 å¼€å§‹ç¼–å·ã€‚

**LBA è½¬ CHS**

* æŸ±é¢å· C = LBA // (ç£å¤´æ•° Ã— æ¯ç£é“æ‰‡åŒºæ•°)ã€‚
* ç£å¤´å· H = (LBA % (ç£å¤´æ•° Ã— æ¯ç£é“æ‰‡åŒºæ•°)) // æ¯ç£é“æ‰‡åŒºæ•°ã€‚
* æ‰‡åŒºå· S = (LBA % æ¯ç£é“æ‰‡åŒºæ•°) + 1ã€‚
* â€œ//â€ è¡¨ç¤ºé™¤å–æ•´ã€‚

**å®é™…åº”ç”¨**
  
ç£ç›˜å†…éƒ¨ä¼šè‡ªåŠ¨ç»´æŠ¤æ€»æŸ±é¢ã€ç£é“ä¸ªæ•°ã€æ‰‡åŒºæ€»æ•°ç­‰ä¿¡æ¯ï¼Œä¸Šå±‚å¼€æœºæ—¶ä¼šè·å–è¿™äº›å‚æ•°ã€‚

**å¯¹äºç£ç›˜ä½¿ç”¨è€…æ¥è¯´ï¼Œé€šå¸¸ç›´æ¥ä½¿ç”¨ LBA åœ°å€**
ï¼Œ
**ç£ç›˜å†…éƒ¨ä¼šè‡ªè¡Œè¿›è¡Œ CHS ä¸ LBA çš„è½¬æ¢**
ã€‚å¯ä»¥å°†ç£ç›˜çœ‹ä½œæ˜¯ä¸€ä¸ªå…ƒç´ ä¸ºæ‰‡åŒºçš„ä¸€ç»´æ•°ç»„ï¼Œæ•°ç»„ä¸‹æ ‡å°±æ˜¯æ¯ä¸ªæ‰‡åŒºçš„ LBA åœ°å€ï¼Œæ“ä½œç³»ç»Ÿä½¿ç”¨ç£ç›˜æ—¶ï¼Œå¯é€šè¿‡ä¸€ä¸ªæ•°å­—ï¼ˆLBA åœ°å€ï¼‰æ¥è®¿é—®ç£ç›˜æ‰‡åŒºã€‚

## äºŒã€æ–‡ä»¶ç³»ç»Ÿ

### 2.1 'â€˜å—â€™'æ¦‚å¿µ

**osæ–‡ä»¶ç³»ç»Ÿè®¿é—®ç£ç›˜ï¼Œä¸ä»¥æ‰‡åŒºä¸ºå•ä½è¿›è¡Œè®¿é—®ã€‚è€Œæ˜¯ä»¥â€œå—â€ä¸ºå•ä½è¿›è¡Œè®¿é—®ã€‚â€œå—â€ä¸€èˆ¬ä¸º8kbã€‚**

å…¶å®ç¡¬ç›˜æ˜¯å…¸å‹çš„â€œå—â€è®¾å¤‡ï¼Œæ“ä½œç³»ç»Ÿè¯»å–ç¡¬ç›˜æ•°æ®çš„æ—¶å€™ï¼Œå…¶å®æ˜¯ä¸ä¼šâ¼€ä¸ªä¸ªæ‰‡åŒºåœ°è¯»å–ï¼Œè¿™æ ·æ•ˆç‡å¤ªä½ï¼Œè€Œæ˜¯â¼€æ¬¡æ€§è¿ç»­è¯»å–å¤šä¸ªæ‰‡åŒºï¼Œå³â¼€æ¬¡æ€§è¯»å–â¼€ä¸ªâ€å—â€ï¼ˆblockï¼‰ã€‚

ç¡¬ç›˜çš„æ¯ä¸ªåˆ†åŒºæ˜¯è¢«åˆ’åˆ†ä¸ºâ¼€ä¸ªä¸ªçš„â€å—â€ã€‚â¼€ä¸ªâ€å—â€çš„å¤§å°æ˜¯ç”±æ ¼å¼åŒ–çš„æ—¶å€™ç¡®å®šçš„ï¼Œå¹¶ä¸”ä¸å¯ä»¥æ›´æ”¹ï¼Œæœ€å¸¸è§çš„æ˜¯4KBï¼Œå³è¿ç»­å…«ä¸ªæ‰‡åŒºç»„æˆâ¼€ä¸ª â€å—â€ã€‚â€å—â€æ˜¯æ–‡ä»¶å­˜å–çš„æœ€å°å•ä½ã€‚

> æ³¨æ„ï¼š
>
> * ç£ç›˜å°±æ˜¯â¼€ä¸ªä¸‰ç»´æ•°ç»„ï¼Œæˆ‘ä»¬æŠŠå®ƒçœ‹å¾…æˆä¸ºâ¼€ä¸ª"â¼€ç»´æ•°ç»„"ï¼Œæ•°ç»„ä¸‹æ ‡å°±æ˜¯LBAï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯æ‰‡åŒº
> * æ¯ä¸ªæ‰‡åŒºéƒ½æœ‰LBAï¼Œé‚£ä¹ˆ8ä¸ªæ‰‡åŒºâ¼€ä¸ªå—ï¼Œæ¯â¼€ä¸ªå—çš„åœ°å€æˆ‘ä»¬ä¹Ÿèƒ½ç®—å‡ºæ¥ã€‚
> * çŸ¥é“LBAï¼šå—å· = LBA/8
> * çŸ¥é“å—å·ï¼šLAB=å—å·\*8 + n. (næ˜¯å—å†…ç¬¬â¼ä¸ªæ‰‡åŒº)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/aabc4728a0f044c88c835e0328ef6234.png)

### 2.2 åˆ†åŒºæ¦‚å¿µ

å…¶å®ç£ç›˜æ˜¯å¯ä»¥è¢«åˆ†æˆå¤šä¸ªåˆ†åŒºï¼ˆpartitionï¼‰çš„ï¼Œä»¥Windowsè§‚ç‚¹æ¥çœ‹ï¼Œä½ å¯èƒ½ä¼šæœ‰â¼€å—ç£ç›˜å¹¶ä¸”å°†å®ƒåˆ†åŒºæˆC,D,Eç›˜ã€‚é‚£ä¸ªC,D,Eå°±æ˜¯åˆ†åŒºã€‚åˆ†åŒºä»å®è´¨ä¸Šè¯´å°±æ˜¯å¯¹ç¡¬ç›˜çš„â¼€ç§æ ¼å¼åŒ–ã€‚

Linuxçš„è®¾å¤‡éƒ½æ˜¯ä»¥æ–‡ä»¶å½¢å¼å­˜åœ¨çš„ã€‚æŸ±é¢æ˜¯åˆ†åŒºçš„æœ€å°å•ä½ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å‚è€ƒæŸ±é¢å·ç çš„æ–¹å¼æ¥è¿›è¡Œåˆ†åŒºï¼Œå…¶æœ¬è´¨å°±æ˜¯è®¾ç½®æ¯ä¸ªåŒºçš„èµ·å§‹æŸ±é¢å’Œç»“æŸæŸ±é¢å·ç ã€‚ æ­¤æ—¶æˆ‘ä»¬å¯ä»¥å°†ç¡¬ç›˜ä¸Šçš„æŸ±é¢ï¼ˆåˆ†åŒºï¼‰è¿›è¡Œå¹³é“ºï¼Œå°†å…¶æƒ³è±¡æˆâ¼€ä¸ªå¤§çš„å¹³é¢
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/ff050b28700c43bab90fbe425eb4988c.png)
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/33a993a314fd46ef864d5b3ddefc3e0f.png)

### 2.4 inodeæ¦‚å¿µ

ä¹‹å‰æˆ‘ä»¬è¯´è¿‡ æ–‡ä»¶=æ•°æ®+å±æ€§ ï¼Œæˆ‘ä»¬ä½¿ç”¨ ls -l çš„æ—¶å€™çœ‹åˆ°çš„é™¤äº†çœ‹åˆ°æ–‡ä»¶åï¼Œè¿˜èƒ½çœ‹åˆ°æ–‡ä»¶å…ƒæ•°æ®ï¼ˆå±æ€§ï¼‰ã€‚

```bash
[root@localhost linux]# ls -l
æ€»â½¤é‡ 12
-rwxr-xr-x. 1 root root 7438 "9â½‰ 13 14:56" a.out
-rw-r--r--. 1 root root 654 "9â½‰ 13 14:56" test.c

```

åˆ°è¿™æˆ‘ä»¬è¦æ€è€ƒâ¼€ä¸ªé—®é¢˜ï¼Œæ–‡ä»¶æ•°æ®éƒ½å‚¨å­˜åœ¨â€å—â€ä¸­ï¼Œé‚£ä¹ˆå¾ˆæ˜¾ç„¶ï¼Œæˆ‘ä»¬è¿˜å¿…é¡»æ‰¾åˆ°â¼€ä¸ªåœ°æ–¹å‚¨å­˜æ–‡ä»¶çš„å…ƒä¿¡æ¯ï¼ˆå±æ€§ä¿¡æ¯ï¼‰ï¼Œæ¯”å¦‚æ–‡ä»¶çš„åˆ›å»ºè€…ã€æ–‡ä»¶çš„åˆ›å»ºæ—¥æœŸã€æ–‡ä»¶çš„å¤§å°ç­‰ç­‰ã€‚è¿™ç§å‚¨å­˜æ–‡ä»¶å…ƒä¿¡æ¯çš„åŒºåŸŸå°±å«åšinodeï¼Œä¸­æ–‡è¯‘åä¸ºâ€ç´¢å¼•èŠ‚ç‚¹â€ã€‚

æ¯â¼€ä¸ªæ–‡ä»¶éƒ½æœ‰å¯¹åº”çš„inodeï¼Œé‡Œé¢åŒ…å«äº†ä¸è¯¥æ–‡ä»¶æœ‰å…³çš„â¼€äº›ä¿¡æ¯ã€‚ä¸ºäº†èƒ½è§£é‡Šæ¸…æ¥šinodeï¼Œæˆ‘ä»¬éœ€è¦æ˜¯æ·±å…¥äº†è§£â¼€ä¸‹æ–‡ä»¶ç³»ç»Ÿã€‚

```c
/*
 * Structure of an inode on the disk
 */
struct ext2_inode {
    __le16 i_mode;        /* File mode */
    __le16 i_uid;         /* Low 16 bits of Owner Uid */
    __le32 i_size;        /* Size in bytes */
    __le32 i_atime;       /* Access time */
    __le32 i_ctime;       /* Creation time */
    __le32 i_mtime;       /* Modification time */
    __le32 i_dtime;       /* Deletion Time */
    __le16 i_gid;         /* Low 16 bits of Group Id */
    __le16 i_links_count; /* Links count */
    __le32 i_blocks;      /* Blocks count */
    __le32 i_flags;       /* File flags */

    union {
        struct {
            __le32 l_i_reserved1;
        } linux1;

        struct {
            __le32 h_i_translator;
        } hurd1;

        struct {
            __le32 m_i_reserved1;
        } masix1;
    } osd1;               /* OS dependent 1 */

    __le32 i_block[EXT2_N_BLOCKS]; /* Pointers to blocks */
    __le32 i_generation;  /* File version (for NFS) */
    __le32 i_file_acl;    /* File ACL */
    __le32 i_dir_acl;     /* Directory ACL */
    __le32 i_faddr;       /* Fragment address */

    union {
        struct {
            __u8 l_i_frag;      /* Fragment number */
            __u8 l_i_fsize;     /* Fragment size */
            __u16 i_pad1;
            __le16 l_i_uid_high; /* these 2 fields */
            __le16 l_i_gid_high; /* were reserved2[0] */
            __u32 l_i_reserved2;
        } linux2;

        struct {
            __u8 h_i_frag;      /* Fragment number */
            __u8 h_i_fsize;     /* Fragment size */
            __le16 h_i_mode_high;
            __le16 h_i_uid_high;
            __le16 h_i_gid_high;
            __le32 h_i_author;
        } hurd2;

        struct {
            __u8 m_i_frag;      /* Fragment number */
            __u8 m_i_fsize;     /* Fragment size */
            __u16 m_pad1;
            __u32 m_i_reserved2[2];
        } masix2;
    } osd2;               /* OS dependent 2 */
};

/*
 * Constants relative to the data blocks
 */
#define EXT2_NDIR_BLOCKS 12
#define EXT2_IND_BLOCK EXT2_NDIR_BLOCKS
#define EXT2_DIND_BLOCK (EXT2_IND_BLOCK + 1)
#define EXT2_TIND_BLOCK (EXT2_DIND_BLOCK + 1)
#define EXT2_N_BLOCKS (EXT2_TIND_BLOCK + 1)

```