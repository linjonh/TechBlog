---
layout: post
title: "odoo17odoo前端视图的结构分析及新增视图类型的实现"
date: 2025-03-11 21:41:49 +0800
description: "odoo前端视图结构分析"
keywords: "【odoo17】odoo前端视图的结构分析及新增视图类型的实现"
categories: ['Odoo']
tags: ['前端', 'Owl', 'Odoo']
artid: "146184874"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146184874
    alt: "odoo17odoo前端视图的结构分析及新增视图类型的实现"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146184874
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146184874
cover: https://bing.ee123.net/img/rand?artid=146184874
image: https://bing.ee123.net/img/rand?artid=146184874
img: https://bing.ee123.net/img/rand?artid=146184874
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【odoo17】odoo前端视图的结构分析及新增视图类型的实现
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="odoo_0">
     </a>
     odoo前端视图加载的架构分析
    </h2>
    <h2>
     <a id="1_1">
     </a>
     1.视图入口
    </h2>
    <p>
     用F12定位到比如tree视图的地方，可以看到odoo的最顶层定义了一个view组件，然后根据视图类型到了各自的视图结构中。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/a6a049d7f47e433cb848b34fb9b86901.png">
      <br/>
      可以看到，在view视图中，odoo已经通过load方法加载了不少参数，主要是action中的参数。
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/983f181f10a2446fad12dd0ee190c9a5.png"/>
     </img>
    </p>
    <h2>
     <a id="2_6">
     </a>
     2.视图结构
    </h2>
    <p>
     对比各种视图的代码目录，结构都是相同的。以tree视图为例，进入list代码目录中，看到代码目录。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/f03af3582f974d9390bb740737a1c2cc.png">
      <br/>
      这里介绍主要的组成部分，每个视图主要由ArchParser、Controller、Renderer、Model组成。
     </img>
    </p>
    <h3>
     <a id="21ArchParser_10">
     </a>
     2.1.ArchParser
    </h3>
    <p>
     ArchParser是用于解析view的xml代码，在list视图中，需要解析的是tree视图，解析结果：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/d2822cf5bfa64a2c9d98f13e0fd52154.png"/>
    </p>
    <h3>
     <a id="22Controller_13">
     </a>
     2.2.Controller
    </h3>
    <p>
     Controller中的分为两部分，上半部分主要由操作按钮、搜索框等组成，下半部分通过props.Renderer在Renderer中实现。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/19d18632caf54b50a82cec74c38081f6.png"/>
    </p>
    <h3>
     <a id="23Renderer_16">
     </a>
     2.3.Renderer
    </h3>
    <p>
     Renderer在list视图中实现controller中的下半部分，在controller中通过props.Renderer在Renderer调用。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/ce377f308a2040e99304e43b77e0761a.png"/>
    </p>
    <h3>
     <a id="24Model_19">
     </a>
     2.4.Model
    </h3>
    <p>
     Model用于从数据库读取数据，并且会根据视图需要进行相应的处理，odoo对常用数据通过@web/model/relational_model/relational_model中进行处理，如有特殊需求，可以自行构建Model。
     <br/>
     model的创建是在Controller的setup中完成，在controller的template中调用。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/96a605a08247441eb3285faa4c5fd16a.png">
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/197f400d3d77432e83be877d4027fcdb.png"/>
     </img>
    </p>
    <h2>
     <a id="3_24">
     </a>
     3.视图实现
    </h2>
    <p>
     最终view中通过调用t-component="Controller"来完成对controller中的调用。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/4658799cf8e0484f9edae91062599501.png"/>
    </p>
    <h2>
     <a id="4report_27">
     </a>
     4.新增视图report
    </h2>
    <h3>
     <a id="41_28">
     </a>
     4.1.需求描述
    </h3>
    <p>
     在上一章
     <a href="https://blog.csdn.net/firexiaHouse/article/details/146139274?sharetype=blogdetail&amp;sharerId=146139274&amp;sharerefer=PC&amp;sharesource=firexiaHouse&amp;spm=1011.2480.3001.8118">
      《在报表上方增加搜索视图》
     </a>
     中，实现了报表上方增加搜索视图，这种方式由于没有controller，导致searchModel等一系列的组件无法获取，实现麻烦、可扩展性差。因此通过新增视图类型report来实现。
    </p>
    <h3>
     <a id="42report_30">
     </a>
     4.2.新增视图类型report
    </h3>
    <pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">ActWindowView</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    _inherit <span class="token operator">=</span> <span class="token string">'ir.actions.act_window.view'</span>

    view_mode <span class="token operator">=</span> fields<span class="token punctuation">.</span>Selection<span class="token punctuation">(</span>selection_add<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'report'</span><span class="token punctuation">,</span> <span class="token string">"Report"</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ondelete<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">'report'</span><span class="token punctuation">:</span> <span class="token string">'cascade'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">View</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    _inherit <span class="token operator">=</span> <span class="token string">'ir.ui.view'</span>

    <span class="token builtin">type</span> <span class="token operator">=</span> fields<span class="token punctuation">.</span>Selection<span class="token punctuation">(</span>selection_add<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'report'</span><span class="token punctuation">,</span> <span class="token string">"Report"</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     在report中指定props.Renderer
    </p>
    <pre><code class="prism language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>odoo</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>data</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>record</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>view_asset_liabilities_report_report<span class="token punctuation">"</span></span> <span class="token attr-name">model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ir.ui.view<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Asset Liabilities Report<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>field</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>model<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>asset.liabilities.report<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>field</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>arch<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>xml<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>report</span> <span class="token attr-name">string</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>资产负债表<span class="token punctuation">"</span></span> <span class="token attr-name">template_id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jcerp_account_ledger.AssetLiabilitiesReport<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>field</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>record</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>record</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>action_asset_liabilities_report_test<span class="token punctuation">"</span></span> <span class="token attr-name">model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ir.actions.act_window<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>资产负债表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>field</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>res_model<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>asset.liabilities.report<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>field</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>view_mode<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>report<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>field</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>view_id<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>view_asset_liabilities_report_report<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>record</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>data</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>odoo</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <h3>
     <a id="43ArchParser_65">
     </a>
     4.3.ArchParser
    </h3>
    <p>
     在ArchParser需要获取report视图传过来的template名称。
    </p>
    <pre><code class="prism language-javascript"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ReportArchParser</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">parse</span><span class="token punctuation">(</span><span class="token parameter">arch<span class="token punctuation">,</span> fields <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> archInfo <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> fields<span class="token punctuation">,</span> <span class="token literal-property property">fieldAttrs</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token function">visitXML</span><span class="token punctuation">(</span>arch<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">switch</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>tagName<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">case</span> <span class="token string">"report"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span><span class="token function">hasAttribute</span><span class="token punctuation">(</span><span class="token string">"template_id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        archInfo<span class="token punctuation">.</span>template_id <span class="token operator">=</span> node<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"template_id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">const</span> title <span class="token operator">=</span> node<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"string"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>title<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        archInfo<span class="token punctuation">.</span>title <span class="token operator">=</span> title<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> archInfo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="44Renderer_89">
     </a>
     4.4.Renderer
    </h3>
    <p>
     由于Renderer是根据template_id生成，因此这里不需要实现Renderer
    </p>
    <h3>
     <a id="45Model_91">
     </a>
     4.5.Model
    </h3>
    <p>
     根据search传过来的参数获取并解析字段
    </p>
    <pre><code class="prism language-javascript">    <span class="token comment">/**
     * @param {SearchParams} searchParams
     */</span>
    <span class="token keyword">async</span> <span class="token function">load</span><span class="token punctuation">(</span><span class="token parameter">searchParams</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>searchParams <span class="token operator">=</span> searchParams<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>initialGroupBy<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>initialGroupBy <span class="token operator">=</span> searchParams<span class="token punctuation">.</span>context<span class="token punctuation">.</span>graph_groupbys <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>metaData<span class="token punctuation">.</span>groupBy<span class="token punctuation">;</span> <span class="token comment">// = arch groupBy --&gt; change that</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string-property property">'value'</span><span class="token operator">:</span> <span class="token string">'测试'</span><span class="token punctuation">}</span>
        <span class="token comment">// const metaData = this._buildMetaData();</span>
        <span class="token comment">// await this._fetchDataPoints(metaData);</span>
    <span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="46Controller_107">
     </a>
     4.6.Controller
    </h3>
    <p>
     在useEffect中用传过来的template_xmlid，model中的解析数据生成template页面，并且替换o_content。
    </p>
    <pre><code class="prism language-javascript"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ReportController</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>archInfo <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>archInfo<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>model <span class="token operator">=</span> <span class="token function">useModelWithSampleData</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>Model<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>modelParams<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">useSetupView</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">rootRef</span><span class="token operator">:</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function-variable function">getLocalState</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">metaData</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span>metaData <span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>rootRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>searchBarToggler <span class="token operator">=</span> <span class="token function">useSearchBarToggler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderReport</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">renderReport</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> innerHTML <span class="token operator">=</span> <span class="token function">renderToString</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>archInfo<span class="token punctuation">.</span>template_xmlid<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">model</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> template <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"template"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> innerHTML <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> tooltip <span class="token operator">=</span> template<span class="token punctuation">.</span>content<span class="token punctuation">.</span>firstChild<span class="token punctuation">;</span>
        <span class="token comment">// 将o_content替换为tooltip</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>rootRef<span class="token punctuation">.</span>el<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.o_content'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceWith</span><span class="token punctuation">(</span>tooltip<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="46_135">
     </a>
     4.6.实现效果
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/610ca3f7bf904bca8e3d35c497566eeb.png"/>
    </p>
    <h2>
     <a id="5_137">
     </a>
     5.总结
    </h2>
    <p>
     通过新增视图类型的方式
     <br/>
     1、实现了controller的上半部分统一的效果，比如搜索的多选，新增数字筛选等
     <br/>
     2、减少了report开发人员的工作量，开发人员可以专注于template的实现，真正做到组件化。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c:6f672e6373646e2e6e65742f66697265786961486f7573652f:61727469636c652f64657461696c732f313436313834383734" class_="artid" style="display:none">
 </p>
</div>


