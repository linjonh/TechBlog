---
arturl_encode: "68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34333739333233392f:61727469636c652f64657461696c732f313237363535383230"
layout: post
title: "LIN通信基础"
date: 2022-11-02 18:24:48 +08:00
description: "汽车电子LIN通信协议基础知识概括_lin通信"
keywords: "lin通信"
categories: ['汽车通信协议']
tags: ['汽车']
artid: "127655820"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=127655820
    alt: "LIN通信基础"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=127655820
featuredImagePreview: https://bing.ee123.net/img/rand?artid=127655820
---

# LIN通信基础

## 概述

* 基于UART数据格式
* 串行通信
* 开放、不需要使用费和版税
* 单线传输
* 最高速率20kbit/s
* 单主多从结构（不存在冲突，无需仲裁）
* 基于通用UART/SCI的低成本接口硬件
* 从节点无须晶振，就可同步
* 可计算信号传输的延迟时间
* 灵活的增加或减少节点
* 一条总线最多可连接16个节点（电气特性）

---

* 拓扑结构
* + 一个LIN由一个主任务、若干个从任务
* + 一个主节点既有主任务 也有从任务
* + 从节点只包含从任务
* + 主任务负责决定总线上的报文，从任务提供每一帧的数据

---

* 可传输两类数据：
* + 信号报文
* + 诊断报文

---

* 调度表：
* + 负责调度网络各报文发送的数据
* + 在网络系统设计阶段确定，使得LIN通信具有可预测性

## 协议规范

![请添加图片描述](https://i-blog.csdnimg.cn/blog_migrate/1b5fc5e978b5f6ee57b218dcb030cfcd.png)

### 帧格式

* 字节间隔
* + MCU处理时间
* + 帧长度可能增长
* + MIN可为0
* 字节场
* + SCI通信格式
* + 一个字节需要十个位时间
* 间隔场；
* + 间隔信号：至少13个显性位 ， 间隔界定符：至少1个隐形位
* + 间隔场是唯一一个不符合字节场格式的场
* 同步场
* + 固定：0X55
* 标识符场
* + 0-64
* + 标识符+奇偶校验
* 响应
* + 低位先发
* 校验和场
* + 经典校验：仅仅校验数据场
* + 增强校验：标识符场+数据场内容
* + 标识符为0x3c 和 0x3D 的帧只能使用经典校验

### 帧长度

![请添加图片描述](https://i-blog.csdnimg.cn/blog_migrate/29fa87e617bba6e35037e4745353a1df.png)

### 帧类型

* 无条件帧
* + ID为0-0x3b
* + 标准LIN帧类型，用于周期通信
* 事件触发帧
* + 需要轮询、调度
* + 节省带宽、关联
* + 必须有一个独立的ID，该ID与多个无条件帧的ID相关联，无条件帧满足以下条件：相同长度、校验和模型、首个数据字节不带信号
* 零星帧/偶发帧
* + 主节点有事件性的数据
* + 主节点发送
* 诊断帧
* + 0x3c(主请求帧)、0x3d(从响应帧)
* 保留帧
* + 自定义帧
* + 保留帧

### 调度表

* 总线不过载、信号周期性
* 两个模型

### 网络管理

![请添加图片描述](https://i-blog.csdnimg.cn/blog_migrate/1fe927f046aa4e18c816eefd234c4e20.png)

## 物理层

主机厂规定的一些

* 位速率
* 节点位速率