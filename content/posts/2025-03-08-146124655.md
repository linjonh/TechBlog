---
layout: post
title: "Visual-studio-Qt-项目配置管理"
date: 2025-03-08 23:03:04 +0800
description: "​\t\t并且设置好Qt 的环境变量比如2.vs 要安装扩展安装完之后，关闭vs 电脑会自动安装插件。Qt项目就配置成功了。​\t\t创建了一个 动态库项目，但是visual studio中我无法直接调试动态库项目，可以新建一个 测试 EXE 项目 来调用 ，然后在  里设置断点进行调试。​\t3.配置  依赖 右键 ，选择 在 “VC++ 目录” → “包含目录 (Include Directories)” 里添加  的头文件路径在 “VC++ 目录” → “库目录 (Library Directories)”"
keywords: "visual studio配置qt"
categories: ['未分类']
tags: ['Visual', 'Studio', 'Qt', 'Ide']
artid: "146124655"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146124655
    alt: "Visual-studio-Qt-项目配置管理"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146124655
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146124655
cover: https://bing.ee123.net/img/rand?artid=146124655
image: https://bing.ee123.net/img/rand?artid=146124655
img: https://bing.ee123.net/img/rand?artid=146124655
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Visual studio + Qt 项目配置管理
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="Visual_studio__Qt__0">
     </a>
     Visual studio + Qt 项目配置管理
    </h2>
    <h4>
     <a id="1__vs___Qt__2">
     </a>
     1.本机顺利安装 vs 和 Qt 软件
    </h4>
    <p>
     ​ 并且设置好Qt 的环境变量比如
    </p>
    <pre><code>E:\Qt\Qt5.9.8\5.9.8\msvc2017_64\bin
E:\Qt\Qt5.9.8\5.9.8\msvc2017_64\lib
E:\Qt\Qt5.9.8\5.9.8\msvc2017_64\include
//这里是你电脑上Qt的路径，每台电脑不一样
</code></pre>
    <h4>
     <a id="2vs__13">
     </a>
     2.vs 要安装扩展
    </h4>
    <p>
     安装完之后，关闭vs 电脑会自动安装插件。
    </p>
    <p>
     <img alt="外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传" src="https://img-home.csdnimg.cn/images/20230724024159.png?origin_url=C%3A%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20250308222919026.png&amp;pos_id=img-tn9TswFb-1741446140996"/>
    </p>
    <h4>
     <a id="3Qt_19">
     </a>
     3.创建一个Qt项目测试一下
    </h4>
    <p>
     <img alt="外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传" src="https://img-home.csdnimg.cn/images/20230724024159.png?origin_url=C%3A%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20250308223030459.png&amp;pos_id=img-BgwI51RO-1741446140998"/>
    </p>
    <p>
     <img alt="外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传" src="https://img-home.csdnimg.cn/images/20230724024159.png?origin_url=C%3A%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20250308223146878.png&amp;pos_id=img-4UlHliRj-1741446140999"/>
    </p>
    <p>
     Qt项目就配置成功了。
    </p>
    <h4>
     <a id="3_27">
     </a>
     3.调试动态库
    </h4>
    <p>
     ​ 创建了一个 动态库项目，但是visual studio中我无法直接调试动态库项目，可以新建一个 测试 EXE 项目 来调用
     <code>
      databaseSDKLib.dll
     </code>
     ，然后在
     <code>
      databaseSDKLib
     </code>
     里设置断点进行调试。
    </p>
    <h5>
     <a id="1__31">
     </a>
     <strong>
      1. 创建测试项目
     </strong>
    </h5>
    <ol>
     <li>
      <strong>
       在 Visual Studio 里创建一个新的控制台项目 (Console App)
      </strong>
      ：
      <ul>
       <li>
        <code>
         文件 (File) → 新建 (New) → 项目 (Project)
        </code>
       </li>
       <li>
        选择
        <strong>
         C++ 控制台应用 (Console App)
        </strong>
       </li>
       <li>
        命名为
        <code>
         TestApp
        </code>
       </li>
      </ul>
     </li>
     <li>
      <strong>
       让 EXE 依赖创建的的 DLL：
      </strong>
      <ul>
       <li>
        右键
        <code>
         TestApp
        </code>
        ，选择
        <code>
         添加 (Add) → 现有项 (Existing Item)
        </code>
       </li>
       <li>
        添加
        <code>
         databaseSDKLib.h
        </code>
        （DLL 的头文件）
       </li>
       <li>
        在
        <code>
         TestApp
        </code>
        的
        <code>
         源文件 (Source Files)
        </code>
        里添加
        <code>
         main.cpp
        </code>
        并调用你的 DLL：
       </li>
      </ul>
     </li>
    </ol>
    <p>
     ​ 3.
     <strong>
      配置
      <code>
       TestApp
      </code>
      依赖
      <code>
       databaseSDKLib
      </code>
     </strong>
    </p>
    <ul>
     <li>
      <p>
       右键
       <code>
        TestApp
       </code>
       ，选择
       <code>
        属性 (Properties)
       </code>
      </p>
     </li>
     <li>
      <p>
       在
       <strong>
        “VC++ 目录” → “包含目录 (Include Directories)”
       </strong>
       里添加
       <code>
        databaseSDKLib
       </code>
       的头文件路径
      </p>
     </li>
     <li>
      <p>
       在
       <strong>
        “VC++ 目录” → “库目录 (Library Directories)”
       </strong>
       里添加
       <code>
        databaseSDKLib.lib
       </code>
       的路径
      </p>
     </li>
     <li>
      <p>
       在 “链接器 (Linker) → 输入 (Input)”里，在附加依赖项 (Additional Dependencies)
      </p>
      <p>
       添加：
      </p>
      <pre><code>databaseSDKLib.lib
</code></pre>
     </li>
    </ul>
    <p>
     ​ 4.
     <strong>
      设置
      <code>
       databaseSDKLib.dll
      </code>
      的运行路径
     </strong>
    </p>
    <ul>
     <li>
      <p>
       右键
       <code>
        TestApp
       </code>
       ，选择
       <strong>
        “属性 (Properties)”
       </strong>
      </p>
     </li>
     <li>
      <p>
       在 “调试 (Debugging)” → “环境 (Environment)” 添加：
      </p>
      <pre><code>PATH=D:\your_dll_folder;%PATH%
</code></pre>
      <p>
       这样，运行时就能找到
      </p>
      <pre><code>databaseSDKLib.dll
</code></pre>
     </li>
    </ul>
    <p>
     ​ 5.
     <strong>
      运行
      <code>
       TestApp
      </code>
      并调试
     </strong>
    </p>
    <ul>
     <li>
      设置
      <code>
       databaseSDKLib
      </code>
      断点
     </li>
     <li>
      右键
      <code>
       TestApp
      </code>
      ，点击
      <strong>
       “设为启动项目 (Set as Startup Project)”
      </strong>
     </li>
     <li>
      <strong>
       F5 运行调试
      </strong>
      ，如果
      <code>
       TestApp
      </code>
      调用了 DLL，VS 就会跳转到
      <code>
       databaseSDKLib
      </code>
      的代码里。
     </li>
    </ul>
    <p>
     ​ 添加引用
    </p>
    <p>
     <img alt="外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传" src="https://img-home.csdnimg.cn/images/20230724024159.png?origin_url=C%3A%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20250308224127525.png&amp;pos_id=img-zleEHFev-1741446140999"/>
    </p>
    <p>
     ​ ✅
     <strong>
      如果 动态库依赖其他第三方库，
      <code>
       TestApp
      </code>
      也需要添加这些库的依赖
     </strong>
     。
    </p>
    <p>
     ​ ✅
     <strong>
      需要在
      <code>
       TestApp
      </code>
      中配置头文件目录、库文件目录和 DLL 的路径
     </strong>
     ，
    </p>
    <p>
     ​ ✅
     <strong>
      确保在调试时，所有依赖都被正确加载
     </strong>
     。
    </p>
    <h4>
     <a id="4releas_92">
     </a>
     4.releas模式下也可以进行断点调试。
    </h4>
    <h4>
     <a id="5Visual_Studio__C__96">
     </a>
     5.Visual Studio 配置 C++ 项目，需要设置多个关键参数
    </h4>
    <p>
     ​
     <strong>
      1. C/C++ 预处理和编译相关配置
     </strong>
    </p>
    <h4>
     <a id="1_Include_Directories_100">
     </a>
     <strong>
      （1）附加包含目录 (Include Directories)
     </strong>
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        路径设置
       </strong>
       ：
       <code>
        项目属性 → C/C++ → 常规 → 附加包含目录
       </code>
      </p>
     </li>
     <li>
      <p>
       <strong>
        作用
       </strong>
       ：告诉编译器在哪里寻找头文件 (
       <code>
        .h
       </code>
       /
       <code>
        .hpp
       </code>
       )。
      </p>
     </li>
     <li>
      <p>
       示例：
      </p>
      <pre><code>D:\Boost\include
</code></pre>
     </li>
     <li>
      <p>
       用途：
      </p>
      <ul>
       <li>
        当你的项目依赖于外部库（如 Qt、Boost）时，需要指定这些库的头文件路径。
       </li>
       <li>
        例如，代码
        <code>
         #include &lt;QtCore/QObject&gt;
        </code>
        ，编译器会去
        <code>
         D:\Qt\5.15.2\msvc2019_64\include
        </code>
        目录下寻找
        <code>
         QObject
        </code>
        头文件。
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h3>
     <a id="2_Linker_119">
     </a>
     <strong>
      2. 链接器（Linker）相关配置
     </strong>
    </h3>
    <h4>
     <a id="2_Library_Directories_121">
     </a>
     <strong>
      （2）库目录 (Library Directories)
     </strong>
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        路径设置
       </strong>
       ：
       <code>
        项目属性 → 链接器 → 常规 → 附加库目录
       </code>
      </p>
     </li>
     <li>
      <p>
       <strong>
        作用
       </strong>
       ：告诉链接器 (
       <code>
        link.exe
       </code>
       ) 在哪里寻找
       <code>
        .lib
       </code>
       静态库或动态库的导入库。
      </p>
     </li>
     <li>
      <p>
       示例：
      </p>
      <pre><code>plaintext复制编辑D:\Qt\5.15.2\msvc2019_64\lib
D:\Boost\lib
</code></pre>
     </li>
     <li>
      <p>
       用途：编译
       <code>
        .cpp
       </code>
       文件时只需要头文件，但链接时需要
       <code>
        .lib
       </code>
       文件，所以必须指定库所在路径。
      </p>
     </li>
    </ul>
    <h4>
     <a id="3_Additional_Dependencies_136">
     </a>
     <strong>
      （3）附加依赖项 (Additional Dependencies)
     </strong>
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        路径设置
       </strong>
       ：
       <code>
        项目属性 → 链接器 → 输入 → 附加依赖项
       </code>
      </p>
     </li>
     <li>
      <p>
       <strong>
        作用
       </strong>
       ：指定需要链接的
       <code>
        .lib
       </code>
       文件（编译时链接）。
      </p>
     </li>
     <li>
      <p>
       示例
      </p>
      <p>
       ：
      </p>
      <pre><code>plaintext复制编辑Qt5Core.lib
Qt5Widgets.lib
Boost_system.lib
</code></pre>
     </li>
     <li>
      <p>
       用途：
      </p>
      <ul>
       <li>
        当你使用
        <code>
         databaseSDKLib
        </code>
        这样的库时，最终的应用程序需要链接
        <code>
         databaseSDKLib.lib
        </code>
        ，否则无法解析库中的函数。
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h3>
     <a id="3__158">
     </a>
     <strong>
      3. 运行时配置
     </strong>
    </h3>
    <h4>
     <a id="5_Environment_160">
     </a>
     <strong>
      （5）环境变量 (Environment)
     </strong>
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        路径设置
       </strong>
       ：
       <code>
        项目属性 → 调试 → 环境
       </code>
      </p>
     </li>
     <li>
      <p>
       <strong>
        作用
       </strong>
       ：运行时加载
       <code>
        .dll
       </code>
       文件（动态库）。
      </p>
     </li>
     <li>
      <p>
       示例：
      </p>
      <pre><code>PATH=D:\Qt\5.15.2\msvc2019_64\bin;%PATH%
</code></pre>
     </li>
     <li>
      <p>
       用途：
      </p>
      <ul>
       <li>
        如果
        <code>
         TestApp.exe
        </code>
        运行时找不到
        <code>
         Qt5Core.dll
        </code>
        ，就需要将 Qt 运行库的
        <code>
         bin
        </code>
        目录添加到
        <code>
         PATH
        </code>
        变量。
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h3>
     <a id="4__178">
     </a>
     <strong>
      4. 代码生成和优化
     </strong>
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        路径设置
       </strong>
       ：
       <code>
        项目属性 → C/C++ → 代码生成 → 运行时库
       </code>
      </p>
     </li>
     <li>
      <p>
       <strong>
        选项
       </strong>
       ：
      </p>
      <table>
       <thead>
        <tr>
         <th>
          选项
         </th>
         <th>
          说明
         </th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <td>
          <code>
           /MD
          </code>
         </td>
         <td>
          使用多线程动态库（
          <code>
           msvcrt.dll
          </code>
          ），适用于动态链接
         </td>
        </tr>
        <tr>
         <td>
          <code>
           /MT
          </code>
         </td>
         <td>
          使用多线程静态库（
          <code>
           libcmt.lib
          </code>
          ），适用于静态链接
         </td>
        </tr>
        <tr>
         <td>
          <code>
           /MDd
          </code>
         </td>
         <td>
          <code>
           /MD
          </code>
          的调试版本
         </td>
        </tr>
        <tr>
         <td>
          <code>
           /MTd
          </code>
         </td>
         <td>
          <code>
           /MT
          </code>
          的调试版本
         </td>
        </tr>
       </tbody>
      </table>
     </li>
     <li>
      <p>
       <strong>
        用途
       </strong>
       ：
      </p>
      <ul>
       <li>
        如果你用
        <code>
         /MD
        </code>
        编译
        <code>
         databaseSDKLib
        </code>
        ，那么
        <code>
         TestApp
        </code>
        也必须用
        <code>
         /MD
        </code>
        ，否则可能会有符号冲突。
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h3>
     <a id="5__197">
     </a>
     <strong>
      5. 预处理器宏
     </strong>
    </h3>
    <h4>
     <a id="7_Preprocessor_Definitions_199">
     </a>
     <strong>
      （7）预处理器定义 (Preprocessor Definitions)
     </strong>
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        路径设置
       </strong>
       ：
       <code>
        项目属性 → C/C++ → 预处理器 → 预处理器定义
       </code>
      </p>
     </li>
     <li>
      <p>
       <strong>
        作用
       </strong>
       ：定义宏，用于控制编译行为。
      </p>
     </li>
     <li>
      <p>
       示例
      </p>
      <pre><code>_CRT_SECURE_NO_WARNINGS; WIN32; QT_CORE_LIB
</code></pre>
     </li>
     <li>
      <p>
       用途
      </p>
      <ul>
       <li>
        <code>
         _CRT_SECURE_NO_WARNINGS
        </code>
        让 MSVC 忽略
        <code>
         scanf()
        </code>
        之类的安全警告。
       </li>
       <li>
        <code>
         WIN32
        </code>
        表示 Windows 平台，
        <code>
         QT_CORE_LIB
        </code>
        表示 Qt Core 模块。
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h3>
     <a id="6__218">
     </a>
     <strong>
      6. 编译器优化
     </strong>
    </h3>
    <h4>
     <a id="8_Optimization_220">
     </a>
     <strong>
      （8）优化选项 (Optimization)
     </strong>
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        路径设置
       </strong>
       ：
       <code>
        项目属性 → C/C++ → 优化
       </code>
      </p>
     </li>
     <li>
      <p>
       选项
      </p>
      <table>
       <thead>
        <tr>
         <th>
          选项
         </th>
         <th>
          说明
         </th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <td>
          <code>
           /O1
          </code>
         </td>
         <td>
          最小化代码大小
         </td>
        </tr>
        <tr>
         <td>
          <code>
           /O2
          </code>
         </td>
         <td>
          最大化运行速度
         </td>
        </tr>
        <tr>
         <td>
          <code>
           /Od
          </code>
         </td>
         <td>
          禁用优化（适用于调试）
         </td>
        </tr>
        <tr>
         <td>
          <code>
           /Oy
          </code>
         </td>
         <td>
          省略帧指针（仅适用于 Release）
         </td>
        </tr>
       </tbody>
      </table>
     </li>
    </ul>
    <hr/>
    <h3>
     <a id="7__235">
     </a>
     <strong>
      7. 其他重要配置
     </strong>
    </h3>
    <h4>
     <a id="9_Output_Directory_237">
     </a>
     <strong>
      （9）输出目录 (Output Directory)
     </strong>
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        路径设置
       </strong>
       ：
       <code>
        项目属性 → 常规 → 输出目录
       </code>
      </p>
     </li>
     <li>
      <p>
       <strong>
        作用
       </strong>
       ：指定编译生成的
       <code>
        .exe
       </code>
       或
       <code>
        .dll
       </code>
       放在哪里。
      </p>
     </li>
     <li>
      <p>
       示例
      </p>
      <pre><code>$(SolutionDir)bin\$(Configuration)\
</code></pre>
     </li>
     <li>
      <p>
       用途让 Debug 和 Release 版本分开放，避免混淆。
      </p>
     </li>
    </ul>
    <h4>
     <a id="10_Intermediate_Directory_251">
     </a>
     <strong>
      （10）中间目录 (Intermediate Directory)
     </strong>
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        路径设置
       </strong>
       ：
       <code>
        项目属性 → 常规 → 中间目录
       </code>
      </p>
     </li>
     <li>
      <p>
       <strong>
        作用
       </strong>
       ：存放编译过程中产生的
       <code>
        .obj
       </code>
       文件。
      </p>
     </li>
     <li>
      <p>
       示例
      </p>
      <pre><code>$(SolutionDir)build\$(Configuration)\
</code></pre>
     </li>
     <li>
      <p>
       用途避免不同配置的
       <code>
        .obj
       </code>
       文件相互覆盖。
      </p>
     </li>
    </ul>
    <table>
     <thead>
      <tr>
       <th>
        <strong>
         配置项
        </strong>
       </th>
       <th>
        <strong>
         作用
        </strong>
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        附加包含目录
       </td>
       <td>
        指定头文件搜索路径
       </td>
      </tr>
      <tr>
       <td>
        库目录
       </td>
       <td>
        指定
        <code>
         .lib
        </code>
        文件搜索路径
       </td>
      </tr>
      <tr>
       <td>
        附加依赖项
       </td>
       <td>
        指定需要链接的
        <code>
         .lib
        </code>
        文件
       </td>
      </tr>
      <tr>
       <td>
        运行时库
       </td>
       <td>
        选择
        <code>
         /MD
        </code>
        （动态库）或
        <code>
         /MT
        </code>
        （静态库）
       </td>
      </tr>
      <tr>
       <td>
        环境变量
       </td>
       <td>
        让程序能找到
        <code>
         .dll
        </code>
       </td>
      </tr>
      <tr>
       <td>
        预处理器定义
       </td>
       <td>
        控制编译行为，如
        <code>
         _CRT_SECURE_NO_WARNINGS
        </code>
       </td>
      </tr>
      <tr>
       <td>
        输出目录
       </td>
       <td>
        指定
        <code>
         .exe
        </code>
        和
        <code>
         .dll
        </code>
        存放路径
       </td>
      </tr>
      <tr>
       <td>
        中间目录
       </td>
       <td>
        指定
        <code>
         .obj
        </code>
        临时文件存放路径
       </td>
      </tr>
     </tbody>
    </table>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34373536343538312f:61727469636c652f64657461696c732f313436313234363535" class_="artid" style="display:none">
 </p>
</div>


