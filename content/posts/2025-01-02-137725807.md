---
layout: post
title: "分布式监控Skywalking安装及使用教程保姆级教程,2024年最新字节跳动大数据开发金三银四解析"
date: 2025-01-02 17:30:12 +0800
description: "纲截图出来，每个节点里面都包含大厂面经、学习笔记、源码讲义、实战项目、讲解视频，并且后续会持续更新*"
keywords: "skywalking安装"
categories: ['程序员']
tags: ['大数据', '分布式', 'Skywalking']
artid: "137725807"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=137725807
    alt: "分布式监控Skywalking安装及使用教程保姆级教程,2024年最新字节跳动大数据开发金三银四解析"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=137725807
featuredImagePreview: https://bing.ee123.net/img/rand?artid=137725807
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     分布式监控Skywalking安装及使用教程（保姆级教程），2024年最新字节跳动大数据开发金三银四解析
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="Skywalking_0">
     </a>
     一、Skywalking安装教程
    </h3>
    <h5>
     <a id="1_ElasticSearch_3">
     </a>
     1. 安装ElasticSearch（前置条件）
    </h5>
    <p>
     Skywalking的数据存储方式默认为h2内存数据库，也支持存储到mysql，Elasticsearch，由于监控采集的数据量较大，并存在很多的数据检索需求，推荐将其存储到Elasticsearch中。
    </p>
    <p>
     <a href="" rel="nofollow">
      ElasticSearch官方安装教程
     </a>
     ，包括Windows，Mac，Linux，Docker安装教程，推荐使用Docker安装，简单快捷。
    </p>
    <p>
     Skywalking的安装方式包括以下两种
    </p>
    <ul>
     <li>
      下载源码手动编译
     </li>
     <li>
      官方包
     </li>
    </ul>
    <p>
     手动编译流程较为复杂，一般情况下，我们建议使用
     <strong>
      官方包
     </strong>
     。有定制化需求的可手动编译
    </p>
    <h5>
     <a id="2_Skywalking_22">
     </a>
     2. 下载Skywalking安装包
    </h5>
    <p>
     进入
     <a href="" rel="nofollow">
      Skywalking官网
     </a>
    </p>
    <p>
     <img alt="image.png" src="https://i-blog.csdnimg.cn/blog_migrate/cb438fc85704fd6ce2654d950ce0118a.png"/>
    </p>
    <p>
     可手动下载后上传至服务器，或直接执行命令下载：
    </p>
    <pre><code>cd /usr/local
wget https://www.apache.org/dyn/closer.cgi/skywalking/9.7.0/apache-skywalking-apm-9.7.0.tar.gz

</code></pre>
    <p>
     下载完成后解压进入安装目录：
    </p>
    <pre><code>tar -zxvf apache-skywalking-apm-9.7.0.tar.gz
cd apache-skywalking-apm-bin
ls

</code></pre>
    <p>
     <img alt="image.png" src="https://i-blog.csdnimg.cn/blog_migrate/cb5ec382464bf6f3cd2cd012b85344b1.png"/>
    </p>
    <p>
     我们到bin目录可以看到一些启动脚本，.bat为Windows下使用，.sh为linux/Mac下使用。
    </p>
    <p>
     <img alt="image.png" src="https://i-blog.csdnimg.cn/blog_migrate/18fbc69f1605119c11149a10d4227318.png"/>
    </p>
    <p>
     我们./startup.sh即会启动Skywalking的服务，但是在启动之前我们需要修改一些配置文件。
    </p>
    <p>
     我们vim startup.sh可以看到里面调用了oapService.sh, webappService.sh两个脚本，
     <strong>
      oapService为Skywalking的核心后端服务
     </strong>
     ，用来接收各个服务的监控数据并解析处理存储到数据库中，
     <strong>
      webappService为Web项目
     </strong>
     ，用来展示Skywalking的监控数据，图表分析等。
    </p>
    <pre><code>PRG="$0"
PRGDIR=`dirname "$PRG"`
OAP\_EXE=oapService.sh
WEBAPP\_EXE=webappService.sh

"$PRGDIR"/"$OAP\_EXE"

"$PRGDIR"/"$WEBAPP\_EXE"

</code></pre>
    <h5>
     <a id="3_webapp_80">
     </a>
     3. 修改webapp的端口号
    </h5>
    <p>
     我们到webapp目录编辑application.yml可修改web程序的端口号。
    </p>
    <pre><code>serverPort: 8902

# Comma seperated list of OAP addresses.
oapServices: ${SW\_OAP\_ADDRESS:-http://localhost:12800}

zipkinServices: ${SW\_ZIPKIN\_ADDRESS:-http://localhost:9412}


</code></pre>
    <p>
     接下来我们到apache-skywalking-apm-bin/config目录下，查看：
    </p>
    <p>
     <img alt="image.png" src="https://i-blog.csdnimg.cn/blog_migrate/c2b14dcde9f8156431227ed8952e487f.png"/>
    </p>
    <p>
     这里包含很多配置文件，我们主要使用的有application.yml（oap核心配置文件），alarm-settings.yml（Webhook/钉钉告警配置）。
    </p>
    <h5>
     <a id="4elasticsearchssl_107">
     </a>
     4.获取elasticsearch的ssl证书
    </h5>
    <p>
     在修改application.yml配置之前，我们需要获取到elasticsearch的ssl证书，进入elasticsearch的安装目录，可通过以下命令获取es的http.p12证书的密码
    </p>
    <pre><code>bin/elasticsearch-keystore show xpack.security.http.ssl.keystore.secure_password

</code></pre>
    <p>
     通过以下命令将http.p12证书转为http.jks格式证书，将密码设置为上述获取的密码
    </p>
    <pre><code>keytool -importkeystore -srckeystore http.p12 -srcstoretype PKCS12 -deststoretype JKS -destkeystore http.jks

</code></pre>
    <h5>
     <a id="5_Skywalkingelasticsearch_128">
     </a>
     5. 修改Skywalking存储至elasticsearch
    </h5>
    <p>
     我们打开apache-skywalking-apm-bin/config/application.yml文件
    </p>
    <pre><code>vim apache-skywalking-apm-bin/config/application.yml

</code></pre>
    <p>
     找到storage将h2改为elasticsearch，并将下面配置修改为自己安装的elasticsearch的地址，账户密码，https传输需将trustStorePath配置为http.jks的文件路径，trustStorePass配置为http.jks的密码。
    </p>
    <pre><code>storage:
  selector: ${SW_STORAGE:elasticsearch}
  elasticsearch:
    namespace: ${SW_NAMESPACE:"skywalking-index"}
    clusterNodes: ${SW_STORAGE_ES_CLUSTER_NODES:localhost:9200}
    protocol: ${SW_STORAGE_ES_HTTP_PROTOCOL:"https"}
    connectTimeout: ${SW_STORAGE_ES_CONNECT_TIMEOUT:3000}
    socketTimeout: ${SW_STORAGE_ES_SOCKET_TIMEOUT:30000}
    responseTimeout: ${SW_STORAGE_ES_RESPONSE_TIMEOUT:15000}
    numHttpClientThread: ${SW_STORAGE_ES_NUM_HTTP_CLIENT_THREAD:0}
    user: ${SW_ES_USER:"elastic"}
    password: ${SW_ES_PASSWORD:"+srawm+3fPVeV5Y9oyB3"}
    trustStorePath: ${SW_STORAGE_ES_SSL_JKS_PATH:"/Users/changlongmao/certs/http.jks"}
    trustStorePass: ${SW_STORAGE_ES_SSL_JKS_PASS:"Lw8\_JAZ2QeS6tT7-oaHyZQ"}

</code></pre>
    <p>
     配置完毕后即可启动。
    </p>
    <h5>
     <a id="6_skywalking_165">
     </a>
     6. 启动skywalking
    </h5>
    <pre><code>mac/linux:
./apache-skywalking-apm-bin/bin/startup.sh

windows:
./apache-skywalking-apm-bin/bin/startup.bat

</code></pre>
    <p>
     访问网址：http://localhost:8902/general
    </p>
    <p>
     <img alt="image.png" src="https://i-blog.csdnimg.cn/blog_migrate/2b591e73c3f321d0698b90f3d08d71a5.png"/>
    </p>
    <p>
     即可成功访问，安装成功，若启动失败可到apache-skywalking-apm-bin/logs目录下查看错误日志。
    </p>
    <h3>
     <a id="Skywalkingagentjava_187">
     </a>
     二、使用Skywalking-agent代理java服务
    </h3>
    <h5>
     <a id="1_springbootjar_190">
     </a>
     1. 准备一个springboot项目的jar包
    </h5>
    <p>
     这里自行准备，在网上有很多。
    </p>
    <h5>
     <a id="2_Skywalkingagent_196">
     </a>
     2. 下载Skywalking-agent
    </h5>
    <p>
     同样在
     <a href="" rel="nofollow">
      Skywalking官网
     </a>
     ，滑到下方
    </p>
    <p>
     <img alt="image.png" src="https://i-blog.csdnimg.cn/blog_migrate/e069d1a03de439bb409da226446df6d7.png"/>
    </p>
    <p>
     可以自行下载，下载后解压，进入到skywalking-agent目录，找到config文件夹，打开agent.config。
    </p>
    <p>
     <img alt="image.png" src="https://i-blog.csdnimg.cn/blog_migrate/a769303a496c2274ca9f74dc8492815c.png"/>
    </p>
    <h5>
     <a id="3_agentconfig_211">
     </a>
     3. 修改以下agent.config配置：
    </h5>
    <pre><code># 服务名称
agent.service_name=127.0.0.1::${SW_SERVICE_NAME}
。。。。
。。。。
。。。。。。
# 修改为skywalking部署的地址，11800是skywalking的oap服务的端口
collector.backend_service=${SW_AGENT_COLLECTOR_BACKEND_SERVICES:127.0.0.1:11800}


</code></pre>
    <h5>
     <a id="4_springbootjar_227">
     </a>
     4. 启动springboot的jar包
    </h5>
    <p>
     <strong>
      自我介绍一下，小编13年上海交大毕业，曾经在小公司待过，也去过华为、OPPO等大厂，18年进入阿里一直到现在。
     </strong>
    </p>
    <p>
     <strong>
      深知大多数大数据工程师，想要提升技能，往往是自己摸索成长或者是报班学习，但对于培训机构动则几千的学费，着实压力不小。自己不成体系的自学效果低效又漫长，而且极易碰到天花板技术停滞不前！
     </strong>
    </p>
    <p>
     <strong>
      因此收集整理了一份《2024年大数据全套学习资料》，初衷也很简单，就是希望能够帮助到想自学提升又不知道该从何学起的朋友。
     </strong>
     <br/>
     <img alt="img" src="https://i-blog.csdnimg.cn/blog_migrate/cda2e21255759cfed4a551e17ef78580.png">
      <br/>
      <img alt="img" src="https://i-blog.csdnimg.cn/blog_migrate/4cead6fa4cf0bfc0762446119e546e02.png"/>
      <br/>
      <img alt="img" src="https://i-blog.csdnimg.cn/blog_migrate/c1f5a1f72f9b79b2d1695015c60947ab.png"/>
      <br/>
      <img alt="img" src="https://i-blog.csdnimg.cn/blog_migrate/5df1dfd5b4ba60758d2f5342ed2e6092.png"/>
      <br/>
      <img alt="img" src="https://i-blog.csdnimg.cn/blog_migrate/63cf0c41ea8ab1f4317d22a1f1c5fe2c.png"/>
     </img>
    </p>
    <p>
     <strong>
      既有适合小白学习的零基础资料，也有适合3年以上经验的小伙伴深入学习提升的进阶课程，基本涵盖了95%以上大数据开发知识点，真正体系化！
     </strong>
    </p>
    <p>
     <strong>
      由于文件比较大，这里只是将部分目录大纲截图出来，每个节点里面都包含大厂面经、学习笔记、源码讲义、实战项目、讲解视频，并且后续会持续更新
     </strong>
    </p>
    <p>
     <strong>
      如果你觉得这些内容对你有帮助，可以添加VX：vip204888 （备注大数据获取）
     </strong>
     <br/>
     <img alt="img" src="https://i-blog.csdnimg.cn/blog_migrate/07c269a21de25c7a173f2a646fb51111.png"/>
    </p>
    <p>
     <strong>
      一个人可以走的很快，但一群人才能走的更远。不论你是正从事IT行业的老鸟或是对IT行业感兴趣的新人，都欢迎扫码加入我们的的圈子（技术交流、学习资源、职场吐槽、大厂内推、面试辅导），让我们一起学习成长！
     </strong>
    </p>
    <p>
     纲截图出来，每个节点里面都包含大厂面经、学习笔记、源码讲义、实战项目、讲解视频，并且后续会持续更新**
    </p>
    <p>
     <strong>
      如果你觉得这些内容对你有帮助，可以添加VX：vip204888 （备注大数据获取）
     </strong>
     <br/>
     [外链图片转存中…(img-CTNurYf3-1713014765960)]
    </p>
    <p>
     <strong>
      一个人可以走的很快，但一群人才能走的更远。不论你是正从事IT行业的老鸟或是对IT行业感兴趣的新人，都欢迎扫码加入我们的的圈子（技术交流、学习资源、职场吐槽、大厂内推、面试辅导），让我们一起学习成长！
     </strong>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330315f37373033333538332f:61727469636c652f64657461696c732f313337373235383037" class_="artid" style="display:none">
 </p>
</div>


