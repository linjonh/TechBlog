---
arturl_encode: "68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f32393036383630372f:61727469636c652f64657461696c732f313431393031343835"
layout: post
title: "云原生架构概念"
date: 2024-09-04 19:51:47 +0800
description: "云原生架构概念、特征优势和通俗理解_云原生架构"
keywords: "云原生架构"
categories: ['软件架构']
tags: ['微服务', '云原生']
artid: "141901485"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=141901485
    alt: "云原生架构概念"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=141901485
featuredImagePreview: https://bing.ee123.net/img/rand?artid=141901485
---

# 云原生架构概念

## 云原生架构概念

云原生架构（Cloud Native Architechtrue）作为一种现代软件开发的革新力量，正在逐渐改变企业构建、部署和管理应用程序的方式。它的核心优势在于支持微服务架构，使得应用程序能够分解为独立、松耦合的服务，每个服务都可以单独开发、部署和扩展，从而提高了敏捷性和迭代速度。此外，云原生架构通过容器化技术，如Docker和Kubernetes，确保了应用程序在不同环境中的一致性和便捷性，同时促进了持续集成和持续部署（CI/CD）的实践，加快了软件发布的速度并降低了风险。

云原生架构还带来了自动化运维（DevOps）的实践，通过自动化的测试、集成和部署流程，提升了软件交付的效率和质量。这种架构的弹性、自动化和安全性是其关键特点，它能够根据负载自动扩展或缩减资源，提高了应对突发流量的能力。

在实际案例中，诸如腾讯云原生产品体系和架构已经非常完善，涵盖了软件研发流程、计算资源、架构框架、数据存储和处理、安全等五大领域的多个场景。腾讯云原生的定位是成为企业数字化的助推器，让用云“更简单”，利用云厂商在技术和资源的规模化效应，降低企业成本，提高企业的效率。

## 云原生的特征和优势

通俗来讲，
**“云原生“主要是和“将传统应用程序简单地迁移到云上”是两种相对的方式**
。“云原生”叫法来自于术语，其中的“云”指的是云计算，而“原生”则意味着“原生的”或“本地的”。将这两个词组合在一起，"云原生"（Cloud Native）指的是专门为云计算环境设计和优化的应用程序和架构。就是指在
软件设计之初考虑云环境，以云服务作为基础，基于云计算平台的特性进行软件架构的设计。

**两种方式的区别：**

1. **云原生（Cloud Native）**
   ：

   * **设计原则**
     ：云原生应用程序从设计之初就考虑到了云计算的特性，如弹性、分布式、可扩展性等。
   * **技术栈**
     ：通常使用容器、微服务、持续集成/持续部署（CI/CD）等现代技术栈。
   * **架构**
     ：采用微服务架构，将应用程序分解为独立的、松耦合的服务，每个服务都可以独立部署和扩展。
   * **运维**
     ：采用DevOps文化，开发和运维团队紧密合作，实现快速迭代和自动化部署。
   * **云服务利用**
     ：充分利用云计算平台提供的各种服务，如计算、存储、数据库、消息队列等。
2. **传统应用程序迁移到云上**
   ：

   * **设计原则**
     ：这些应用程序最初是为传统的物理服务器或虚拟机环境设计的，可能没有充分考虑云计算的特性。
   * **技术栈**
     ：可能仍然使用传统的技术栈，如单体应用程序、传统的数据库等。
   * **架构**
     ：可能是单体架构，整个应用程序作为一个整体部署和运行，难以实现真正的水平扩展。
   * **运维**
     ：可能仍然采用传统的开发和运维分离的模式，部署和更新过程可能较为缓慢和复杂。
   * **云服务利用**
     ：可能只是将应用程序简单地部署到云服务器上，没有充分利用云计算平台提供的各种服务。

云原生架构的目标是提高应用程序的可扩展性、可靠性和灵活性，同时降低运维成本和提高开发效率。这种架构
**特别适合需要快速迭代和能够应对高流量波动的现代应用程序**
。

## 云原生架构通俗化理解

让我们用一个餐厅的例子来通俗地解释云原生架构。

想象一下，你开了一家餐厅，这家餐厅的特点就是能够快速适应顾客的需求变化，并且能够灵活地提供各种菜品。

1. **容器化**
   ：就像你把不同的菜品放在不同的容器里（比如盘子、碗、锅），每个容器都是独立的，可以轻松地移动和清洗。在云原生中，应用程序的每个部分（比如用户界面、数据库、支付处理）都被打包在自己的容器里。
2. **微服务架构**
   ：你的餐厅不是只有一个大厨房，而是有多个小厨房，每个厨房负责一种或几种特定的菜品。这样，如果某个厨房需要升级或维护，其他厨房仍然可以继续工作，不会影响整个餐厅的运营。
3. **动态管理**
   ：餐厅的顾客数量会根据时间（比如午餐时间或晚餐时间）而变化。云原生架构允许你的餐厅根据顾客数量自动增加或减少厨师和服务员的数量，以确保服务质量。
4. **CI/CD**
   ：每当厨师开发出新菜品或者改进了现有菜品，他们可以立即将这些变化送到顾客面前，而不需要等待很长时间。
5. **DevOps文化**
   ：厨师和服务员不再是分开工作的，他们一起讨论如何改进菜品和服务，确保顾客满意。
6. **可观察性**
   ：餐厅的每个角落都装有摄像头，这样你可以随时监控餐厅的运营情况，比如哪个菜品最受欢迎，哪个环节出现了问题。
7. **弹性**
   ：即使某个厨房出现了问题，其他厨房仍然可以继续工作，顾客不会注意到任何中断。
8. **API驱动**
   ：厨房和服务员之间通过特定的指令（API）来沟通，比如“需要一份宫保鸡丁”，这样即使服务员和厨师不是直接交流，也能确保信息准确传达。

总的来说，云原生架构就像是一家能够快速适应变化、灵活运营、并且能够提供高质量服务的餐厅。

## 一些著名的云原生案例

以下是一些著名的云原生架构实践案例：

1. **Alibaba Cloud**
   ：作为亚太地区领先的云服务提供商，Alibaba Cloud 采用了云原生架构来提高网络性能和可扩展性。
2. **Seznam**
   ：Seznam 是捷克共和国最大的互联网公司之一，每天处理超过一百万的 HTTP 请求。通过采用云原生技术，Seznam 能够提高性能并降低成本。
3. **Infosys client**
   ：通过 Kubernetes 和 KEDA，Infosys 的客户成功地将大型机迁移到 Azure 云，实现了显著的成本节约。
4. **Kakao**
   ：韩国的 IT 服务公司 Kakao 通过使用 Cilium 改善了网络性能并降低了成本。
5. **Grafana Security**
   ：Grafana Security 利用 Dapr 改进了漏洞扫描，自项目开始以来发现了超过 698,000 个问题。

这些案例展示了云原生架构在不同行业和应用场景中的广泛适用性和效益。通过采用云原生架构，组织能够提高其应用程序的灵活性、可扩展性和可靠性，同时降低运维成本和提高开发效率。

在学术研究方面，有关云原生应用的系统映射研究（Systematic Mapping Study）提供了对云原生应用（CNA）的原则、架构和方法论的深入分析，并讨论了现有研究的工程趋势和未来研究方向。此外，还有研究探讨了云原生架构特性对软件质量的影响，并通过验证调查进行了研究。这些研究为理解和实施云原生架构提供了理论基础和实践指导。

## 相关技术

### 1 容器云

容器是一种使用灵活、方便打包各种依赖并且移植性强的软件技术，当今市场上越来越多的应用都在使用此技术，通过该项能力可以方便各种服务以相同的方式运行在不同的操作系统上。

容器云是一种以容器化为基础的应用部署模式，它可以更轻松和更快捷地将应用部署到云端。使用该技术的应用可以被拆分成多个组件，每个组件都有自己的功能，可以以容器的形式运行，可以在云端自动部署和扩展，从而提供更高的可用性和更好的性能，并有助于实现更便捷的产品迭代和更快的应用上线。

![](https://i-blog.csdnimg.cn/direct/dfe3ee8b185a481fa30961607a065996.png)

系统使用容器云技术有如下的优势：

**（1）平台化的基础设施管理**
：全面集成 Kubernetes 容器编排引擎，执行统一管理，并提供全面的容器网络与容器存储解决方案，形成平台化的基础设施；

**（2）高效的容器服务**
：使用容器管理应用，实现快速部署和节省资源占用的同时，还具备灵活的应用编排和交付能力，保证在多场景下交付应用。该技术支持将容器运行在 Docker 和 Containerd 两类容器中；

**（3）自动化运维管理**
：提供以应用为中心的智能运维体验，屏蔽基础运维架构，使用户更专注于核心业务；

**（4）服务化的 IT 治理**
：支持多租户管理场景，实现细粒度权限控制和自助IT 治理。统一管理和监控不同基础设施环境上的资源，通过安全审计机制，保障系统安全性；

**（5）开箱即用的数据库和消息队列服务：**
简化数据库和消息队列服务的构建、部署和运行过程，帮助用户更便捷地管理和使用数据库及消息队列。

### 2 DevOps

DevOps 是一种软件开发实践，在基于 DevOps 理念建设系统的过程中，开发人员（Dev）和运维人员（Ops）之间紧密协作。该技术提供包含流水线管理、代码仓库纳管和制品管理等在内的开箱即用一站式服务，能够帮助企业专注于业务目标，提升企业内研发、测试和运维能力，保障业务的连续性、安全性和敏捷性，实现自动化部署和运维，缩短开发周期，提高部署频率，轻松应对瞬息万变的市场需求。

具体来说 DevOps 有以下特点：

（1）提供开放式的 DevOps 工具链选型，深度集成敏捷项目管理，如集成禅道管理工具，另外可以集成 GitLab 代码管理工具，实现代码的内部统一管理，并且 DevOps 体系也能兼容企业已有的工具，从而对 DevOps 进行灵活实践。

（2）DevOps 强调产品管理、自动化软件交付和灵活应对基础设施的变更，旨在缩短产品开发周期，提高部署频率，紧密结合业务目标支撑应用的全生命周期，为企业建立起高效可靠的测试发布文化与环境。

（3）以 Jenkins 作为实现持续集成/持续交付（CI/CD）的标准工具，助力实现更敏捷可靠的应用发布，加快产品迭代速度，使企业更专注于核心业务目标。

DevOps 产品的整体结构如图所示。

![](https://i-blog.csdnimg.cn/direct/f59107164659417a844d4c034e86620d.png)

### 3 Service Mesh 技术

Service Mesh 是新一代的微服务治理平台，支持Istio 和Spring Cloud两种主流的微服务框架，该治理平台为云原生提供了一整套稳定、可靠和开放的微服务解决方案。平台的一键式基础设施部署升级能力、可视化服务治理能力和高效的应用性能管理能力，以及高可用的微服务网关管理能力，能够极大提升服务治理效率，从而全面降低维护微服务框架的成本。同时，可减少开发人员对框架的依赖，让开发人员聚焦于业务开发，不断提升核心竞争力。

具体来说该技术在微服务治理方面有如下特点：

（1）构建分布式微服务系统：通过分布式微服务架构取代传统的单体应用架构，满足快速扩容、弹性伸缩、敏捷迭代和快速交付等新型业务的诉求。

（2）自动化灰度发布：基于动态流量策略，实现应用及服务的自动化灰度发布，满足金丝雀和蓝绿等多种灰度发布场景。

（3）可靠的服务治理：提供丰富的可视化治理策略，动态配置服务路由、服务熔断、服务限流和负载均衡规则，覆盖大部分微服务治理场景。

（4）服务全局可视化：基于流量监控数据，全局展示服务间的调用关系和调用性能。通过从全局聚焦到局部，可为服务调优、服务排障和下钻分析等场景提供多维度监控分析能力。

（5）“多地多中心”业务容灾：基于“多主”架构的服务网格，支持纳管多个集群，多个集群之间完全独立。任一集群故障，不会影响到网格下其他集群的工作。服务可部署在网格纳管的任意集群中。当某个集群下的服务因故障触发熔断后，服务在该集群下的部分入口流量将转移至其他集群，由其他集群上的服务负载，以保障服务整体的负载性能稳定。并可根据集群的实际地域分布，自定义容灾负载优先级。

（6）灵活的多网关（网关多端口）管理：支持为服务网格配置多个入口或出口网关，每个网关允许通过多个端口访问。其中，入口网关支持通过不同的路由场景将外部流量路由到不同的后端资源；出口网关可实现网格内服务对外部服务的访问管理及流量监控。并且可满足业务区域之间网络隔离、业务独占网关和端口隔离等丰富的使用场景。同时，对于不再需要的网关可轻松无损下线。除此之外，Service Mesh 还可基于网关的黑白名单和JWT 对发起请求的客户端进行身份认证与鉴权，并根据请求路径、请求 Header 和URI 重写等多样化的方式配置路由规则。Service Mesh 还支持实例级别的网关监控，配合多种内置告警策略，可帮助用户及时发现问题。具体的 Service Mesh 产品结构如图所示。

![](https://i-blog.csdnimg.cn/direct/82c5a99b69ab42ae84be28d4af3188f0.png)