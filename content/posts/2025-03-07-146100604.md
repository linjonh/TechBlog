---
layout: post
title: "UI自动化Python-Selenium4.6以前的版本-环境搭建"
date: 2025-03-07 18:01:24 +0800
description: "以下是。"
keywords: "UI自动化：Python + Selenium4.6以前的版本 环境搭建"
categories: ['未分类']
tags: ['自动化', 'Selenium', 'Python']
artid: "146100604"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146100604
    alt: "UI自动化Python-Selenium4.6以前的版本-环境搭建"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146100604
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146100604
cover: https://bing.ee123.net/img/rand?artid=146100604
image: https://bing.ee123.net/img/rand?artid=146100604
img: https://bing.ee123.net/img/rand?artid=146100604
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     UI自动化：Python + Selenium4.6以前的版本 环境搭建
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     以下是
     <strong>
      Python + Selenium 环境搭建
     </strong>
     的详细步骤，适用于 Windows/macOS/Linux 系统：
    </p>
    <hr/>
    <h3>
     1.
     <strong>
      安装 Python
     </strong>
    </h3>
    <h4>
     1.1 下载 Python
    </h4>
    <ul>
     <li>
      <p>
       官网下载地址：
       <a href="https://www.python.org/downloads/" rel="nofollow" title="Download Python | Python.org">
        Download Python | Python.org
       </a>
      </p>
     </li>
     <li>
      <p>
       选择最新稳定版本（推荐 Python 3.8+）。
      </p>
     </li>
    </ul>
    <h4>
     1.2 安装 Python
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        Windows/macOS
       </strong>
       ：
       <br/>
       运行安装包，勾选
       <strong>
        Add Python to PATH
       </strong>
       （自动配置环境变量）。
      </p>
     </li>
     <li>
      <p>
       <strong>
        Linux
       </strong>
       （以 Ubuntu 为例）：
      </p>
      <p>
       bash
      </p>
      <p>
       复制
      </p>
      <pre><code class="language-bash">sudo apt update
sudo apt install python3 python3-pip</code></pre>
     </li>
    </ul>
    <h4>
     1.3 验证安装
    </h4>
    <p>
     打开终端（或CMD），输入：
    </p>
    <p>
     bash
    </p>
    <p>
     复制
    </p>
    <pre><code class="language-bash">python --version  # 显示 Python 版本（如 Python 3.9.7）
pip --version     # 显示 pip 版本</code></pre>
    <hr/>
    <h3>
     2.
     <strong>
      安装 Selenium 库
     </strong>
    </h3>
    <h4>
     2.1 使用 pip 安装
    </h4>
    <p>
     bash
    </p>
    <p>
     复制
    </p>
    <pre><code class="language-bash">pip install selenium</code></pre>
    <h4>
     2.2 验证安装
    </h4>
    <p>
     bash
    </p>
    <p>
     复制
    </p>
    <pre><code class="language-bash">pip show selenium  # 查看版本（如 4.0+）</code></pre>
    <hr/>
    <h3>
     3.
     <strong>
      安装浏览器驱动
     </strong>
    </h3>
    <p>
     Selenium 需要通过浏览器驱动控制浏览器，驱动需与浏览器版本匹配。
    </p>
    <h4>
     3.1 查看浏览器版本
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        Chrome
       </strong>
       ：地址栏输入
       <code>
        chrome://version/
       </code>
       ，查看
       <strong>
        Chrome 版本号
       </strong>
       。
      </p>
     </li>
     <li>
      <p>
       <strong>
        Firefox
       </strong>
       ：地址栏输入
       <code>
        about:support
       </code>
       ，查看
       <strong>
        版本号
       </strong>
       。
      </p>
     </li>
    </ul>
    <h4>
     3.2 下载浏览器驱动
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        浏览器
       </th>
       <th>
        驱动名称
       </th>
       <th>
        下载地址
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        Chrome
       </td>
       <td>
        chromedriver
       </td>
       <td>
        <a href="https://chromedriver.chromium.org/downloads" rel="nofollow" title="https://chromedriver.chromium.org/downloads">
         https://chromedriver.chromium.org/downloads
        </a>
       </td>
      </tr>
      <tr>
       <td>
        Firefox
       </td>
       <td>
        geckodriver
       </td>
       <td>
        <a href="https://github.com/mozilla/geckodriver/releases" title="Releases · mozilla/geckodriver · GitHub">
         Releases · mozilla/geckodriver · GitHub
        </a>
       </td>
      </tr>
      <tr>
       <td>
        Edge
       </td>
       <td>
        msedgedriver
       </td>
       <td>
        <a href="https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver/" rel="nofollow" title="Microsoft Edge WebDriver | Microsoft Edge Developer">
         Microsoft Edge WebDriver | Microsoft Edge Developer
        </a>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
      注意事项
     </strong>
     ：
    </p>
    <ul>
     <li>
      <p>
       选择与浏览器版本匹配的驱动（如 Chrome 92 对应 chromedriver 92.x）。
      </p>
     </li>
     <li>
      <p>
       下载后解压得到可执行文件（如
       <code>
        chromedriver.exe
       </code>
       、
       <code>
        geckodriver
       </code>
       ）。
      </p>
     </li>
    </ul>
    <h4>
     3.3 配置驱动路径
    </h4>
    <p>
     将驱动文件放在以下位置之一：
    </p>
    <ol>
     <li>
      <p>
       <strong>
        系统环境变量 PATH 包含的目录
       </strong>
       （如
       <code>
        /usr/local/bin
       </code>
       、
       <code>
        C:\Windows\
       </code>
       ）。
      </p>
     </li>
     <li>
      <p>
       <strong>
        项目根目录
       </strong>
       （需在代码中指定驱动路径）。
      </p>
     </li>
    </ol>
    <hr/>
    <h3>
     4.
     <strong>
      验证环境
     </strong>
    </h3>
    <h4>
     4.1 编写测试脚本
    </h4>
    <p>
     创建一个 Python 文件（如
     <code>
      test_selenium.py
     </code>
     ）：
    </p>
    <p>
     python
    </p>
    <p>
     复制
    </p>
    <pre><code class="language-python">from selenium import webdriver

# 使用 Chrome 浏览器（需驱动在 PATH 中）
driver = webdriver.Chrome()

# 如果驱动不在 PATH 中，需指定路径
# driver = webdriver.Chrome(executable_path="C:/path/to/chromedriver.exe")

driver.get("https://www.baidu.com")
print(driver.title)  # 输出页面标题（应为 "百度一下，你就知道"）
driver.quit()        # 关闭浏览器</code></pre>
    <h4>
     4.2 运行脚本
    </h4>
    <p>
     bash
    </p>
    <p>
     复制
    </p>
    <pre><code class="language-bash">python test_selenium.py</code></pre>
    <ul>
     <li>
      <p>
       <strong>
        成功标志
       </strong>
       ：自动打开 Chrome 浏览器，访问百度首页后关闭。
      </p>
     </li>
    </ul>
    <hr/>
    <h3>
     5.
     <strong>
      常见问题解决
     </strong>
    </h3>
    <h4>
     5.1 驱动版本不匹配
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        报错
       </strong>
       ：
       <code>
        SessionNotCreatedException: This version of ChromeDriver only supports Chrome version xx
       </code>
       。
      </p>
     </li>
     <li>
      <p>
       <strong>
        解决
       </strong>
       ：升级浏览器或下载对应版本的驱动。
      </p>
     </li>
    </ul>
    <h4>
     5.2 驱动路径错误
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        报错
       </strong>
       ：
       <code>
        WebDriverException: 'chromedriver' executable needs to be in PATH
       </code>
       。
      </p>
     </li>
     <li>
      <p>
       <strong>
        解决
       </strong>
       ：
      </p>
      <ol>
       <li>
        <p>
         将驱动文件放入系统 PATH 目录，或
        </p>
       </li>
       <li>
        <p>
         在代码中指定驱动路径：
        </p>
        <p>
         python
        </p>
        <p>
         复制
        </p>
        <pre><code class="language-python">driver = webdriver.Chrome(executable_path="绝对路径/chromedriver.exe")</code></pre>
        <p>
        </p>
       </li>
      </ol>
     </li>
    </ul>
    <h4>
     5.3 浏览器自动更新导致驱动失效
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        解决
       </strong>
       ：禁用浏览器自动更新，或使用工具自动管理驱动（如
       <code>
        webdriver-manager
       </code>
       ）：
      </p>
      <p>
       bash
      </p>
      <p>
       复制
      </p>
      <pre><code class="language-bash">pip install webdriver-manager</code></pre>
      <p>
       代码示例：
      </p>
      <p>
       python
      </p>
      <p>
       复制
      </p>
      <pre><code class="language-python">from selenium import webdriver
from webdriver_manager.chrome import ChromeDriverManager

driver = webdriver.Chrome(ChromeDriverManager().install())</code></pre>
     </li>
    </ul>
    <hr/>
    <h3>
     6.
     <strong>
      进阶配置（可选）
     </strong>
    </h3>
    <h4>
     6.1 使用虚拟环境
    </h4>
    <p>
     避免全局安装依赖：
    </p>
    <p>
     bash
    </p>
    <p>
     复制
    </p>
    <pre><code class="language-python">python -m venv myenv      # 创建虚拟环境
source myenv/bin/activate # macOS/Linux 激活
myenv\Scripts\activate    # Windows 激活
pip install selenium      # 在虚拟环境中安装</code></pre>
    <h4>
     6.2 集成 IDE（如 PyCharm/VSCode）
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        PyCharm
       </strong>
       ：直接创建 Python 项目，安装
       <code>
        selenium
       </code>
       库。
      </p>
     </li>
     <li>
      <p>
       <strong>
        VSCode
       </strong>
       ：安装 Python 扩展，配置 Python 解释器路径。
      </p>
     </li>
    </ul>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f33333539343537392f:61727469636c652f64657461696c732f313436313030363034" class_="artid" style="display:none">
 </p>
</div>


