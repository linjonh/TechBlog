---
layout: post
title: "SEO炼金术4-Next.js-SEO-全攻略"
date: 2025-02-26 19:51:54 +0800
description: "Next.js 提供了强大的内置 SEO 工具✅metadataAPI** 轻松设置<title>metacanonical✅robots.ts自动生成robots.txt，控制爬虫行为✅sitemap.ts生成，加快搜索引擎索引✅多语言hreflang轻松管理，提高全球搜索排名利用 Next.js，你可以更轻松地管理 SEO，提升网站在搜索引擎中的可见度！🚀。"
keywords: "nextjs canonical"
categories: ['Seo']
tags: ['开发语言', 'Javascript', 'Dreamweaver']
artid: "145887038"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=145887038
    alt: "SEO炼金术4-Next.js-SEO-全攻略"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=145887038
featuredImagePreview: https://bing.ee123.net/img/rand?artid=145887038
cover: https://bing.ee123.net/img/rand?artid=145887038
image: https://bing.ee123.net/img/rand?artid=145887038
img: https://bing.ee123.net/img/rand?artid=145887038
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     SEO炼金术（4）| Next.js SEO 全攻略
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     在上一篇文章
     <em>
      <u>
       SEO炼金术（3）| 深入解析 SEO 关键要素
      </u>
     </em>
     中，我们深入解析了
     <strong>
      SEO 关键要素
     </strong>
     ，包括
     <code>
      meta
     </code>
     标签、
     <code>
      robots.txt
     </code>
     、
     <code>
      canonical
     </code>
     、
     <code>
      sitemap.xml
     </code>
     和
     <code>
      hreflang
     </code>
     ，并探讨了它们在搜索引擎优化（SEO）中的作用。然而，对于使用
     <strong>
      Next.js
     </strong>
     开发的网站，手动管理这些 SEO 相关的配置可能会非常繁琐。
    </p>
    <p>
     幸运的是，Next.js 内置了丰富的 SEO 支持，能够自动化和简化这些优化过程。本文将全面介绍
     <strong>
      Next.js 提供的 SEO 相关功能
     </strong>
     ，并通过示例演示如何在 Next.js 项目中正确配置
     <code>
      metadata
     </code>
     、
     <code>
      canonical
     </code>
     、
     <code>
      robots.txt
     </code>
     、
     <code>
      sitemap.xml
     </code>
     和
     <code>
      hreflang
     </code>
     ，确保你的网站能够在搜索引擎中获得最佳表现。🚀
    </p>
    <hr/>
    <h2>
     <a id="_1_Nextjs__SEO__6">
     </a>
     📌 1. Next.js 的 SEO 相关功能
    </h2>
    <p>
     Next.js 提供了多种 SEO 相关的工具，使开发者无需手动编写 HTML
     <code>
      head
     </code>
     标签，而是通过
     <strong>
      配置和 API
     </strong>
     自动生成正确的 SEO 标记。
    </p>
    <p>
     📌
     <strong>
      Next.js SEO 主要功能概览
     </strong>
    </p>
    <table>
     <thead>
      <tr>
       <th>
        SEO 需求
       </th>
       <th>
        Next.js 提供的解决方案
       </th>
       <th>
        作用
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <strong>
         标题
         <code>
          &lt;title&gt;
         </code>
         和
         <code>
          meta
         </code>
         标签
        </strong>
       </td>
       <td>
        <code>
         metadata
        </code>
        API
       </td>
       <td>
        设置页面标题、描述等
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         避免重复 URL（
         <code>
          canonical
         </code>
         ）
        </strong>
       </td>
       <td>
        <code>
         metadata
        </code>
        API (
        <code>
         canonical
        </code>
        字段)
       </td>
       <td>
        规范化 URL，防止 SEO 权重分散
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         控制爬取与索引（
         <code>
          robots.txt
         </code>
         和
         <code>
          meta robots
         </code>
         ）
        </strong>
       </td>
       <td>
        <code>
         robots.ts
        </code>
       </td>
       <td>
        设定爬虫访问规则
       </td>
      </tr>
      <tr>
       <td>
        **自动生成
        <code>
         sitemap.xml
        </code>
       </td>
       <td>
        `sitemap.(xml
       </td>
       <td>
        js
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         多语言 SEO（
         <code>
          hreflang
         </code>
         ）
        </strong>
       </td>
       <td>
        <code>
         metadata
        </code>
        API (
        <code>
         alternates
        </code>
        )
       </td>
       <td>
        多语言优化，确保用户访问正确版本
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         Open Graph / Twitter Meta
        </strong>
       </td>
       <td>
        <code>
         metadata
        </code>
        API (
        <code>
         openGraph
        </code>
        <br/>
        /
        <code>
         twitter
        </code>
        )
       </td>
       <td>
        提高社交媒体分享效果
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <h2>
     <a id="_2__Nextjs__SEO_23">
     </a>
     📌 2. 在 Next.js 中实现 SEO
    </h2>
    <h3>
     <a id="21__metadata_API_API_24">
     </a>
     2.1 内置
     <code>
      metadata
     </code>
     API（元数据 API）
    </h3>
    <p>
     Next.js 13+ 引入了
     <code>
      metadata
     </code>
     API，替代了
     <code>
      next/head
     </code>
     ，可以在
     <code>
      layout.tsx
     </code>
     或
     <code>
      page.tsx
     </code>
     中直接定义 SEO 相关的元数据。
    </p>
    <p>
     <strong>
      示例
     </strong>
    </p>
    <pre><code class="prism language-typescript"><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{<!-- --></span> Metadata <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'next'</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> metadata<span class="token operator">:</span> Metadata <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  title<span class="token operator">:</span> <span class="token string">'Next.js SEO Optimization'</span><span class="token punctuation">,</span>
  description<span class="token operator">:</span> <span class="token string">'Learn how to optimize Next.js applications for SEO.'</span><span class="token punctuation">,</span>
  keywords<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Next.js'</span><span class="token punctuation">,</span> <span class="token string">'SEO'</span><span class="token punctuation">,</span> <span class="token string">'optimization'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  robots<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    index<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许搜索引擎索引</span>
    follow<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许搜索引擎跟踪链接</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  alternates<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    canonical<span class="token operator">:</span> <span class="token string">'https://example.com/seo'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  openGraph<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    title<span class="token operator">:</span> <span class="token string">'Next.js SEO'</span><span class="token punctuation">,</span>
    description<span class="token operator">:</span> <span class="token string">'A comprehensive guide to SEO in Next.js'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token string">'https://example.com/seo'</span><span class="token punctuation">,</span>
    images<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span>
        url<span class="token operator">:</span> <span class="token string">'https://example.com/og-image.jpg'</span><span class="token punctuation">,</span>
        width<span class="token operator">:</span> <span class="token number">1200</span><span class="token punctuation">,</span>
        height<span class="token operator">:</span> <span class="token number">630</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">'website'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  twitter<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    card<span class="token operator">:</span> <span class="token string">'summary_large_image'</span><span class="token punctuation">,</span>
    title<span class="token operator">:</span> <span class="token string">'Next.js SEO'</span><span class="token punctuation">,</span>
    description<span class="token operator">:</span> <span class="token string">'A comprehensive guide to SEO in Next.js'</span><span class="token punctuation">,</span>
    images<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'https://example.com/twitter-card.jpg'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="211_65">
     </a>
     <strong>
      2.1.1详细字段解析
     </strong>
    </h4>
    <p>
     <strong>
      1️⃣ 标题相关
     </strong>
    </p>
    <table>
     <thead>
      <tr>
       <th>
        字段
       </th>
       <th>
        作用
       </th>
       <th>
        是否影响 SEO
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <code>
         title
        </code>
       </td>
       <td>
        设置页面
        <code>
         &lt;title&gt;
        </code>
        <br/>
        标签
       </td>
       <td>
        ✅ 影响排名
       </td>
      </tr>
      <tr>
       <td>
        <code>
         title.default
        </code>
       </td>
       <td>
        作为子路由的默认标题
       </td>
       <td>
        ✅ 影响排名
       </td>
      </tr>
      <tr>
       <td>
        <code>
         title.template
        </code>
       </td>
       <td>
        用于拼接标题（如 `%s
       </td>
       <td>
        网站名`）
       </td>
      </tr>
      <tr>
       <td>
        <code>
         title.absolute
        </code>
       </td>
       <td>
        设定不受
        <code>
         title.template
        </code>
        <br/>
        影响的标题
       </td>
       <td>
        ✅ 影响排名
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
      示例：
     </strong>
    </p>
    <pre><code class="prism language-typescript"><span class="token keyword">export</span> <span class="token keyword">const</span> metadata<span class="token operator">:</span> Metadata <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  title<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    template<span class="token operator">:</span> <span class="token string">'%s | My Website'</span><span class="token punctuation">,</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">'My Website'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      输出
     </strong>
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>My Page | My Website<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <hr/>
    <p>
     <strong>
      2️⃣页面描述
     </strong>
    </p>
    <table>
     <thead>
      <tr>
       <th>
        字段
       </th>
       <th>
        作用
       </th>
       <th>
        是否影响 SEO
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <code>
         description
        </code>
       </td>
       <td>
        设置
        <code>
         &lt;meta name="description"&gt;
        </code>
        ，用于搜索引擎结果页摘要
       </td>
       <td>
        ✅ 影响搜索结果 CTR
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
      示例：
     </strong>
    </p>
    <pre><code class="prism language-typescript"><span class="token keyword">export</span> <span class="token keyword">const</span> metadata<span class="token operator">:</span> Metadata <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  description<span class="token operator">:</span> <span class="token string">'Next.js SEO Best Practices'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      输出
     </strong>
    </p>
    <pre><code class="prism language-typescript"><span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">"description"</span> content<span class="token operator">=</span><span class="token string">"Next.js SEO Best Practices"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre>
    <hr/>
    <p>
     <strong>
      3️⃣关键词
     </strong>
    </p>
    <table>
     <thead>
      <tr>
       <th>
        字段
       </th>
       <th>
        作用
       </th>
       <th>
        是否影响 SEO
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <code>
         keywords
        </code>
       </td>
       <td>
        设置
        <code>
         &lt;meta name="keywords"&gt;
        </code>
        ，定义页面的关键词（部分搜索引擎已忽略）
       </td>
       <td>
        ❌ 影响极小
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
      示例：
     </strong>
    </p>
    <pre><code class="prism language-typescript"><span class="token keyword">export</span> <span class="token keyword">const</span> metadata<span class="token operator">:</span> Metadata <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  keywords<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Next.js'</span><span class="token punctuation">,</span> <span class="token string">'SEO'</span><span class="token punctuation">,</span> <span class="token string">'Optimization'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      输出
     </strong>
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>keywords<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Next.js, SEO, Optimization<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre>
    <hr/>
    <p>
     <strong>
      4️⃣ 搜索引擎爬取策略
     </strong>
    </p>
    <table>
     <thead>
      <tr>
       <th>
        字段
       </th>
       <th>
        作用
       </th>
       <th>
        是否影响 SEO
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <code>
         robots
        </code>
       </td>
       <td>
        控制搜索引擎的索引策略
       </td>
       <td>
        ✅ 影响网页是否被收录
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
      示例：
     </strong>
    </p>
    <pre><code class="prism language-typescript"><span class="token keyword">export</span> <span class="token keyword">const</span> metadata<span class="token operator">:</span> Metadata <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  robots<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    index<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    follow<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    noimageindex<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    googleBot<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      index<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      follow<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">'max-image-preview'</span><span class="token operator">:</span> <span class="token string">'large'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      输出
     </strong>
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>robots<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index, follow<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>googlebot<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index, follow, max-image-preview:large<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre>
    <hr/>
    <p>
     <strong>
      5️⃣ 规范 URL（Canonical）
     </strong>
    </p>
    <table>
     <thead>
      <tr>
       <th>
        字段
       </th>
       <th>
        作用
       </th>
       <th>
        是否影响 SEO
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <code>
         alternates.canonical
        </code>
       </td>
       <td>
        设置
        <code>
         &lt;link rel="canonical"&gt;
        </code>
        ，避免重复内容问题
       </td>
       <td>
        ✅ 影响页面权重
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
      示例：
     </strong>
    </p>
    <pre><code class="prism language-typescript"><span class="token keyword">export</span> <span class="token keyword">const</span> metadata<span class="token operator">:</span> Metadata <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  alternates<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    canonical<span class="token operator">:</span> <span class="token string">'https://example.com/seo'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      输出
     </strong>
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canonical<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://example.com/seo<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre>
    <hr/>
    <p>
     <strong>
      6️⃣ Open Graph &amp; Twitter 预览
     </strong>
    </p>
    <table>
     <thead>
      <tr>
       <th>
        字段
       </th>
       <th>
        作用
       </th>
       <th>
        是否影响 SEO
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <code>
         openGraph
        </code>
       </td>
       <td>
        定义 Facebook、LinkedIn 等社交媒体的 Open Graph 数据
       </td>
       <td>
        ✅ 增强分享体验
       </td>
      </tr>
      <tr>
       <td>
        <code>
         twitter
        </code>
       </td>
       <td>
        定义 Twitter/X 分享预览
       </td>
       <td>
        ✅ 增强分享体验
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
      示例：
     </strong>
    </p>
    <pre><code class="prism language-typescript"><span class="token keyword">export</span> <span class="token keyword">const</span> metadata<span class="token operator">:</span> Metadata <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  openGraph<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    title<span class="token operator">:</span> <span class="token string">'Next.js SEO'</span><span class="token punctuation">,</span>
    description<span class="token operator">:</span> <span class="token string">'A guide to SEO in Next.js'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token string">'https://example.com/seo'</span><span class="token punctuation">,</span>
    images<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span> url<span class="token operator">:</span> <span class="token string">'https://example.com/og-image.jpg'</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token number">1200</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">630</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">'website'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  twitter<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    card<span class="token operator">:</span> <span class="token string">'summary_large_image'</span><span class="token punctuation">,</span>
    title<span class="token operator">:</span> <span class="token string">'Next.js SEO'</span><span class="token punctuation">,</span>
    description<span class="token operator">:</span> <span class="token string">'A guide to SEO in Next.js'</span><span class="token punctuation">,</span>
    images<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'https://example.com/twitter-card.jpg'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      输出
     </strong>
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>og:title<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Next.js SEO<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>og:description<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>A guide to SEO in Next.js<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>og:image<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://example.com/og-image.jpg<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>twitter:card<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>summary_large_image<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>twitter:title<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Next.js SEO<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>twitter:image<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://example.com/twitter-card.jpg<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre>
    <hr/>
    <p>
     <strong>
      <strong>
       <strong>
        7️⃣
       </strong>
      </strong>
      其他 SEO 相关元数据
     </strong>
    </p>
    <table>
     <thead>
      <tr>
       <th>
        字段
       </th>
       <th>
        作用
       </th>
       <th>
        是否影响 SEO
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <code>
         metadataBase
        </code>
       </td>
       <td>
        设定 URL 前缀，方便定义绝对路径的 metadata
       </td>
       <td>
        ✅ 影响 URL 结构
       </td>
      </tr>
      <tr>
       <td>
        <code>
         icons
        </code>
       </td>
       <td>
        网站图标（favicon、Apple Touch Icon 等）
       </td>
       <td>
        ✅ 影响分享体验
       </td>
      </tr>
      <tr>
       <td>
        <code>
         manifest
        </code>
       </td>
       <td>
        设置 Web App Manifest 文件
       </td>
       <td>
        ❌ 仅影响 PWA
       </td>
      </tr>
      <tr>
       <td>
        <code>
         appleWebApp
        </code>
       </td>
       <td>
        定义 Apple Web App 相关设置
       </td>
       <td>
        ❌ 仅影响 iOS 设备
       </td>
      </tr>
      <tr>
       <td>
        <code>
         appLinks
        </code>
       </td>
       <td>
        定义 Android/iOS App 关联链接
       </td>
       <td>
        ❌ 仅影响 App 跳转
       </td>
      </tr>
      <tr>
       <td>
        <code>
         facebook
        </code>
       </td>
       <td>
        设置 Facebook App ID 或管理员 ID
       </td>
       <td>
        ❌ 仅影响 Facebook
       </td>
      </tr>
      <tr>
       <td>
        <code>
         verification
        </code>
       </td>
       <td>
        用于 Google、Yandex、Yahoo 站点验证
       </td>
       <td>
        ❌ 仅影响站点所有权认证
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <h4>
     <a id="212_Metadata_API__257">
     </a>
     <strong>
      2.1.2 Metadata API 最佳实践
     </strong>
    </h4>
    <p>
     ✅
     <strong>
      默认在
      <code>
       layout.tsx
      </code>
      中定义 metadata
     </strong>
     ，以便所有子页面继承默认值。
     <br/>
     ✅
     <strong>
      子页面可以覆盖
      <code>
       title
      </code>
      和
      <code>
       description
      </code>
      ，确保每个页面唯一性。
      <br/>
      ✅
      <strong>
       使用
       <code>
        metadataBase
       </code>
       设定 URL 前缀
      </strong>
      ，简化
      <code>
       canonical
      </code>
      和
      <code>
       og:image
      </code>
      配置。
      <br/>
      ✅
      <code>
       **openGraph
      </code>
      和
      <code>
       twitter
      </code>
      提升社交媒体分享体验
     </strong>
     ，增加流量入口。
     <br/>
     ✅ **如果页面是动态的，使用
     <code>
      generateMetadata()
     </code>
     以根据
     <code>
      params
     </code>
     生成动态
     <code>
      title
     </code>
     。
    </p>
    <hr/>
    <h3>
     <a id="22__robotstxt__266">
     </a>
     2.2 生成
     <code>
      robots.txt
     </code>
     文件
    </h3>
    <p>
     在 Next.js 中，你可以 **手动添加
     <code>
      robots.txt
     </code>
     <strong>
      静态文件
     </strong>
     ，或者 **动态生成
     <code>
      robots.txt
     </code>
     以控制爬虫的抓取行为。Next.js 提供了一种
     <strong>
      更智能
     </strong>
     的方式，允许我们通过
     <code>
      robots.ts
     </code>
     文件
     <strong>
      动态生成
     </strong>
     规则，使 SEO 维护更加灵活。
    </p>
    <hr/>
    <h4>
     <a id="221__robotstxt_271">
     </a>
     2.2.1 使用静态
     <code>
      robots.txt
     </code>
    </h4>
    <p>
     如果你的网站
     <strong>
      不需要动态调整爬虫规则
     </strong>
     ，可以直接在
     <code>
      app/
     </code>
     目录下创建
     <code>
      robots.txt
     </code>
     <strong>
      静态文件
     </strong>
     ，这样 Next.js 会自动提供该文件，不需要额外的代码。
    </p>
    <p>
     📌 创建
     <code>
      app/robots.txt
     </code>
    </p>
    <pre><code class="prism language-plain">User-Agent: *
Allow: /
Disallow: /private/
Sitemap: https://example.com/sitemap.xml
</code></pre>
    <p>
     <strong>
      📌 访问
      <code>
       https://example.com/robots.txt
      </code>
      ，你会看到：
     </strong>
    </p>
    <pre><code class="prism language-plain">User-Agent: *
Allow: /
Disallow: /private/
Sitemap: https://example.com/sitemap.xml
</code></pre>
    <p>
     ✅ 适用场景：
    </p>
    <ul>
     <li>
      规则固定，不会根据环境或内容变化。
     </li>
     <li>
      适用于小型网站，规则简单且不会变动。
     </li>
    </ul>
    <p>
     🚨
     <strong>
      但如果你需要动态管理爬虫规则，比如针对不同环境（开发/生产），或者对特定 URL 进行调整，就需要使用动态生成的方法。
     </strong>
    </p>
    <hr/>
    <h4>
     <a id="222__robotsts__robotstxt_301">
     </a>
     2.2.2 通过
     <code>
      robots.ts
     </code>
     动态生成
     <code>
      robots.txt
     </code>
    </h4>
    <p>
     Next.js 支持动态生成
     <code>
      robots.txt
     </code>
     ，通过
     <code>
      app/robots.ts
     </code>
     让
     <code>
      robots.txt
     </code>
     自动适配不同环境。
    </p>
    <p>
     📌步骤：在
     <code>
      app/robots.ts
     </code>
     中创建动态
     <code>
      robots.txt
     </code>
    </p>
    <pre><code class="prism language-typescript"><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{<!-- --></span> MetadataRoute <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'next'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">robots</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> MetadataRoute<span class="token punctuation">.</span>Robots <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span> userAgent<span class="token operator">:</span> <span class="token string">'*'</span><span class="token punctuation">,</span> allow<span class="token operator">:</span> <span class="token string">'/'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 允许所有爬虫访问整个网站</span>
      <span class="token punctuation">{<!-- --></span> userAgent<span class="token operator">:</span> <span class="token string">'Googlebot'</span><span class="token punctuation">,</span> disallow<span class="token operator">:</span> <span class="token string">'/private/'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// Googlebot 不能访问 /private/</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    sitemap<span class="token operator">:</span> <span class="token string">'https://example.com/sitemap.xml'</span><span class="token punctuation">,</span> <span class="token comment">// 指定 sitemap 位置</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      📌 访问
      <code>
       https://example.com/robots.txt
      </code>
      ，你会看到：
     </strong>
    </p>
    <pre><code class="prism language-plain">User-Agent: *
Allow: /
User-Agent: Googlebot
Disallow: /private/
Sitemap: https://example.com/sitemap.xml
</code></pre>
    <p>
     ✅
     <code>
      robots.ts
     </code>
     作用
    </p>
    <ul>
     <li>
      <strong>
       动态生成
       <code>
        robots.txt
       </code>
       ，自动适配不同环境。
      </strong>
     </li>
     <li>
      <strong>
       支持不同爬虫设置不同规则
      </strong>
      （如
      <code>
       Googlebot
      </code>
      、
      <code>
       Bingbot
      </code>
      ）。
     </li>
     <li>
      <strong>
       无需手动维护
       <code>
        robots.txt
       </code>
       文件
      </strong>
      ，防止因修改错误导致 SEO 受损。
     </li>
     <li>
      <strong>
       自动缓存
      </strong>
      ，提高性能。
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="223_robotsts__339">
     </a>
     2.2.3
     <code>
      robots.ts
     </code>
     的存放位置
    </h4>
    <ul>
     <li>
      需要 **手动创建
      <code>
       app/robots.ts
      </code>
      ，它不会默认存在。
     </li>
     <li>
      <code>
       robots.ts
      </code>
      必须放在
      <code>
       app/
      </code>
      目录下的根路径**，保证
      <code>
       https://example.com/robots.txt
      </code>
      能够正确访问。
     </li>
     <li>
      <strong>
       ⚠️ 注意：如果
       <code>
        robots.txt
       </code>
       和
       <code>
        robots.ts
       </code>
       同时存在，Next.js 只会使用
       <code>
        robots.txt
       </code>
       （静态文件优先）。
      </strong>
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="224_robotsts__346">
     </a>
     2.2.4
     <code>
      robots.ts
     </code>
     高级用法
    </h4>
    <p>
     如果你需要
     <strong>
      对不同搜索引擎设置不同规则
     </strong>
     ，可以
     <strong>
      传递数组
     </strong>
     让多个爬虫遵循不同的规则。
    </p>
    <p>
     📌
     <strong>
      示例：针对不同搜索引擎设置不同的爬取规则
     </strong>
    </p>
    <pre><code class="prism language-typescript"><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{<!-- --></span> MetadataRoute <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'next'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">robots</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> MetadataRoute<span class="token punctuation">.</span>Robots <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span>
        userAgent<span class="token operator">:</span> <span class="token string">'Googlebot'</span><span class="token punctuation">,</span> <span class="token comment">// 仅针对 Googlebot</span>
        allow<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'/'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 允许访问所有页面</span>
        disallow<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'/private/'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 禁止访问 /private/</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        userAgent<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Applebot'</span><span class="token punctuation">,</span> <span class="token string">'Bingbot'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 适用于 Applebot 和 Bingbot</span>
        disallow<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'/'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 禁止访问所有页面</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    sitemap<span class="token operator">:</span> <span class="token string">'https://example.com/sitemap.xml'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      📌访问
      <code>
       https://example.com/robots.txt
      </code>
      ，你会看到：
     </strong>
    </p>
    <pre><code class="prism language-plain">User-Agent: Googlebot
Allow: /
Disallow: /private/

User-Agent: Applebot
Disallow: /

User-Agent: Bingbot
Disallow: /

Sitemap: https://example.com/sitemap.xml
</code></pre>
    <p>
     ✅
     <strong>
      适用场景
     </strong>
    </p>
    <ul>
     <li>
      你希望
      <strong>
       不同搜索引擎有不同的爬取规则
      </strong>
      。
     </li>
     <li>
      你想
      <strong>
       屏蔽某些爬虫
      </strong>
      （如 Applebot、Bingbot）。
     </li>
     <li>
      你希望
      <strong>
       Googlebot 访问全部内容，但屏蔽
       <code>
        /private/
       </code>
       目录
      </strong>
      。
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="225_robotsts__396">
     </a>
     2.2.5
     <code>
      robots.ts
     </code>
     的完整规则
    </h4>
    <p>
     Next.js 的
     <code>
      robots.ts
     </code>
     支持以下参数：
    </p>
    <pre><code class="prism language-typescript"><span class="token keyword">type</span> <span class="token class-name">Robots</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  rules<span class="token operator">:</span>
  <span class="token operator">|</span> <span class="token punctuation">{<!-- --></span>
    userAgent<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
    allow<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
    disallow<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
    crawlDelay<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token punctuation">}</span>
  <span class="token operator">|</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token punctuation">{<!-- --></span>
    userAgent<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
    allow<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
    disallow<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
    crawlDelay<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token punctuation">}</span><span class="token operator">&gt;</span>
  sitemap<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
  host<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      📌可选参数
     </strong>
    </p>
    <table>
     <thead>
      <tr>
       <th>
        参数
       </th>
       <th>
        作用
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <code>
         userAgent
        </code>
       </td>
       <td>
        指定爬虫（如
        <code>
         Googlebot
        </code>
        、
        <code>
         Bingbot
        </code>
        ），
        <code>
         *
        </code>
        代表所有爬虫
       </td>
      </tr>
      <tr>
       <td>
        <code>
         allow
        </code>
       </td>
       <td>
        允许爬取的路径（如
        <code>
         /
        </code>
        表示所有路径）
       </td>
      </tr>
      <tr>
       <td>
        <code>
         disallow
        </code>
       </td>
       <td>
        禁止爬取的路径（如
        <code>
         /private/
        </code>
        ）
       </td>
      </tr>
      <tr>
       <td>
        <code>
         sitemap
        </code>
       </td>
       <td>
        指定站点地图的 URL
       </td>
      </tr>
      <tr>
       <td>
        <code>
         crawlDelay
        </code>
       </td>
       <td>
        设置爬取延迟（秒）
       </td>
      </tr>
      <tr>
       <td>
        <code>
         host
        </code>
       </td>
       <td>
        指定主机（如
        <code>
         https://example.com
        </code>
        ）
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     📌示例：完整
     <code>
      robots.ts
     </code>
    </p>
    <pre><code class="prism language-typescript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">robots</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> MetadataRoute<span class="token punctuation">.</span>Robots <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span> userAgent<span class="token operator">:</span> <span class="token string">'*'</span><span class="token punctuation">,</span> allow<span class="token operator">:</span> <span class="token string">'/'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 允许所有爬虫访问整个网站</span>
      <span class="token punctuation">{<!-- --></span> userAgent<span class="token operator">:</span> <span class="token string">'Googlebot'</span><span class="token punctuation">,</span> disallow<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'/private/'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> crawlDelay<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// Googlebot 禁止访问 /private/，并设置爬取间隔 10 秒</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    sitemap<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'https://example.com/sitemap.xml'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    host<span class="token operator">:</span> <span class="token string">'https://example.com'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      📌 访问
      <code>
       https://example.com/robots.txt
      </code>
      ，你会看到：
     </strong>
    </p>
    <pre><code class="prism language-plain">User-Agent: *
Allow: /

User-Agent: Googlebot
Disallow: /private/
Crawl-Delay: 10

Sitemap: https://example.com/sitemap.xml
Host: https://example.com
</code></pre>
    <p>
     ✅
     <strong>
      适用场景
     </strong>
    </p>
    <ul>
     <li>
      你希望
      <strong>
       Googlebot 爬取速度较慢
      </strong>
      ，防止服务器压力过大。
     </li>
     <li>
      你有
      <strong>
       多个
       <code>
        sitemap.xml
       </code>
       文件
      </strong>
      ，希望统一管理。
     </li>
     <li>
      你希望
      <strong>
       为网站设置主机 URL
      </strong>
      ，提高 SEO 规范性。
     </li>
    </ul>
    <hr/>
    <h3>
     <a id="23__sitemapxml_468">
     </a>
     2.3 生成
     <code>
      sitemap.xml
     </code>
    </h3>
    <p>
     在 SEO 优化中，
     <code>
      sitemap.xml
     </code>
     站点地图能够帮助搜索引擎更快地发现并索引网站上的重要页面。Next.js 允许 **手动添加
     <code>
      sitemap.xml
     </code>
     文件，或者通过
     <code>
      sitemap.ts
     </code>
     <strong>
      自动生成
     </strong>
     站点地图，从而大大简化维护工作。
    </p>
    <hr/>
    <h4>
     <a id="231__sitemapxml_473">
     </a>
     2.3.1 使用静态
     <code>
      sitemap.xml
     </code>
    </h4>
    <p>
     如果你的网站页面较少，并且 URL 结构比较稳定，可以
     <strong>
      手动创建
      <code>
       sitemap.xml
      </code>
      文件
     </strong>
     ，然后放置在
     <code>
      app/
     </code>
     目录下，Next.js 会直接提供该文件。
    </p>
    <p>
     📌 **创建
     <code>
      app/sitemap.xml
     </code>
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>urlset</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.sitemaps.org/schemas/sitemap/0.9<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>loc</span><span class="token punctuation">&gt;</span></span>https://example.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>loc</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lastmod</span><span class="token punctuation">&gt;</span></span>2023-01-01<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lastmod</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>changefreq</span><span class="token punctuation">&gt;</span></span>weekly<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>changefreq</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>priority</span><span class="token punctuation">&gt;</span></span>1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>priority</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>loc</span><span class="token punctuation">&gt;</span></span>https://example.com/blog<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>loc</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lastmod</span><span class="token punctuation">&gt;</span></span>2023-01-01<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lastmod</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>changefreq</span><span class="token punctuation">&gt;</span></span>daily<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>changefreq</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>priority</span><span class="token punctuation">&gt;</span></span>0.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>priority</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>urlset</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <p>
     <strong>
      📌 访问
      <code>
       https://example.com/sitemap.xml
      </code>
      ，你会看到：
     </strong>
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>urlset</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.sitemaps.org/schemas/sitemap/0.9<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>loc</span><span class="token punctuation">&gt;</span></span>https://example.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>loc</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lastmod</span><span class="token punctuation">&gt;</span></span>2023-01-01<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lastmod</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>changefreq</span><span class="token punctuation">&gt;</span></span>weekly<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>changefreq</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>priority</span><span class="token punctuation">&gt;</span></span>1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>priority</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>loc</span><span class="token punctuation">&gt;</span></span>https://example.com/blog<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>loc</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lastmod</span><span class="token punctuation">&gt;</span></span>2023-01-01<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lastmod</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>changefreq</span><span class="token punctuation">&gt;</span></span>daily<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>changefreq</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>priority</span><span class="token punctuation">&gt;</span></span>0.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>priority</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>urlset</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <p>
     ✅
     <strong>
      适用场景
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       小型网站
      </strong>
      ，页面数量少，URL 结构不会经常变化。
     </li>
     <li>
      你希望**手动控制
      <code>
       sitemap.xml
      </code>
      ，无需额外代码逻辑。
     </li>
     <li>
      你不需要自动更新
      <code>
       lastmod
      </code>
      （页面最后更新时间）。
     </li>
    </ul>
    <p>
     🚨
     <strong>
      但如果你的网站页面较多、结构复杂，或者经常有新页面上线，建议使用动态生成
      <code>
       sitemap.xml
      </code>
      的方式。
     </strong>
    </p>
    <hr/>
    <h4>
     <a id="232__sitemapts__sitemapxml_524">
     </a>
     2.3.2 通过
     <code>
      sitemap.ts
     </code>
     动态生成
     <code>
      sitemap.xml
     </code>
    </h4>
    <p>
     Next.js 允许 自动生成
     <code>
      sitemap.xml
     </code>
     ，只需创建
     <code>
      sitemap.ts
     </code>
     文件，即可根据动态路由生成站点地图。这种方法更加灵活，适用于
     <strong>
      大型站点或频繁更新的内容
     </strong>
     。
    </p>
    <p>
     📌步骤：在
     <code>
      app/sitemap.ts
     </code>
     中创建
     <code>
      sitemap.xml
     </code>
    </p>
    <pre><code class="prism language-typescript"><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{<!-- --></span> MetadataRoute <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'next'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">sitemap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> MetadataRoute<span class="token punctuation">.</span>Sitemap <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span>
      url<span class="token operator">:</span> <span class="token string">'https://example.com'</span><span class="token punctuation">,</span>
      lastModified<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      changeFrequency<span class="token operator">:</span> <span class="token string">'weekly'</span><span class="token punctuation">,</span>
      priority<span class="token operator">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      url<span class="token operator">:</span> <span class="token string">'https://example.com/blog'</span><span class="token punctuation">,</span>
      lastModified<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      changeFrequency<span class="token operator">:</span> <span class="token string">'daily'</span><span class="token punctuation">,</span>
      priority<span class="token operator">:</span> <span class="token number">0.8</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      📌 访问
      <code>
       https://example.com/sitemap.xml
      </code>
      ，你会看到：
     </strong>
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>urlset</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.sitemaps.org/schemas/sitemap/0.9<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>loc</span><span class="token punctuation">&gt;</span></span>https://example.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>loc</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lastmod</span><span class="token punctuation">&gt;</span></span>2023-01-01<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lastmod</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>changefreq</span><span class="token punctuation">&gt;</span></span>weekly<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>changefreq</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>priority</span><span class="token punctuation">&gt;</span></span>1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>priority</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>loc</span><span class="token punctuation">&gt;</span></span>https://example.com/blog<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>loc</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lastmod</span><span class="token punctuation">&gt;</span></span>2023-01-01<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lastmod</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>changefreq</span><span class="token punctuation">&gt;</span></span>daily<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>changefreq</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>priority</span><span class="token punctuation">&gt;</span></span>0.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>priority</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>urlset</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <p>
     ✅
     <code>
      sitemap.ts
     </code>
     作用
    </p>
    <ul>
     <li>
      自动更新
      <code>
       lastmod
      </code>
      ，确保搜索引擎知道页面最新更新时间。
     </li>
     <li>
      <strong>
       支持动态 URL
      </strong>
      （如博客文章、商品页等）。
     </li>
     <li>
      <strong>
       搜索引擎可以更快发现新页面
      </strong>
      ，加快索引速度。
     </li>
     <li>
      <strong>
       无需手动维护
       <code>
        sitemap.xml
       </code>
       文件
      </strong>
      ，降低出错风险。
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="233_sitemapts__578">
     </a>
     2.3.3
     <code>
      sitemap.ts
     </code>
     的存放位置
    </h4>
    <ul>
     <li>
      需要 手动创建
      <code>
       app/sitemap.ts
      </code>
      ，默认不会自动生成。
     </li>
     <li>
      <code>
       sitemap.ts
      </code>
      <strong>
       必须放在
       <code>
        app/
       </code>
       目录下
      </strong>
      ，确保可以通过
      <code>
       https://example.com/sitemap.xml
      </code>
      访问到。
     </li>
     <li>
      <strong>
       ⚠️ 注意：如果
       <code>
        sitemap.xml
       </code>
       和
       <code>
        sitemap.ts
       </code>
       同时存在，Next.js 只会使用
       <code>
        sitemap.xml
       </code>
       （静态文件优先）。
      </strong>
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="234__sitemapxml_585">
     </a>
     2.3.4 生成多语言
     <code>
      sitemap.xml
     </code>
    </h4>
    <p>
     如果你的网站有
     <strong>
      多个语言版本
     </strong>
     ，可以在
     <code>
      sitemap.ts
     </code>
     中
     <strong>
      添加
      <code>
       alternates.languages
      </code>
      选项
     </strong>
     ，告诉搜索引擎哪些 URL 代表不同语言版本。
    </p>
    <p>
     📌示例：支持多语言的
     <code>
      sitemap.ts
     </code>
    </p>
    <pre><code class="prism language-typescript"><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{<!-- --></span> MetadataRoute <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'next'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">sitemap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> MetadataRoute<span class="token punctuation">.</span>Sitemap <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span>
      url<span class="token operator">:</span> <span class="token string">'https://example.com'</span><span class="token punctuation">,</span>
      lastModified<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      alternates<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        languages<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token string-property property">'en'</span><span class="token operator">:</span> <span class="token string">'https://example.com/en'</span><span class="token punctuation">,</span>
          <span class="token string-property property">'de'</span><span class="token operator">:</span> <span class="token string">'https://example.com/de'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      url<span class="token operator">:</span> <span class="token string">'https://example.com/about'</span><span class="token punctuation">,</span>
      lastModified<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      alternates<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        languages<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token string-property property">'en'</span><span class="token operator">:</span> <span class="token string">'https://example.com/en/about'</span><span class="token punctuation">,</span>
          <span class="token string-property property">'de'</span><span class="token operator">:</span> <span class="token string">'https://example.com/de/about'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      📌 访问
      <code>
       https://example.com/sitemap.xml
      </code>
      ，你会看到：
     </strong>
    </p>
    <pre><code class="prism language-plain">&lt;urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9" xmlns:xhtml="http://www.w3.org/1999/xhtml"&gt;
  &lt;url&gt;
    &lt;loc&gt;https://example.com&lt;/loc&gt;
    &lt;xhtml:link rel="alternate" hreflang="en" href="https://example.com/en"/&gt;
    &lt;xhtml:link rel="alternate" hreflang="de" href="https://example.com/de"/&gt;
    &lt;lastmod&gt;2023-01-01&lt;/lastmod&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;https://example.com/about&lt;/loc&gt;
    &lt;xhtml:link rel="alternate" hreflang="en" href="https://example.com/en/about"/&gt;
    &lt;xhtml:link rel="alternate" hreflang="de" href="https://example.com/de/about"/&gt;
    &lt;lastmod&gt;2023-01-01&lt;/lastmod&gt;
  &lt;/url&gt;
&lt;/urlset&gt;
</code></pre>
    <p>
     ✅
     <strong>
      作用
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       帮助搜索引擎正确索引不同语言版本的 URL
      </strong>
      。
     </li>
     <li>
      <strong>
       避免重复内容问题
      </strong>
      （
      <code>
       canonical
      </code>
      +
      <code>
       hreflang
      </code>
      ）。
     </li>
     <li>
      <strong>
       自动维护多语言站点地图，无需手动管理
      </strong>
      。
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="235__sitemapxml_646">
     </a>
     2.3.5 生成大规模网站的
     <code>
      sitemap.xml
     </code>
    </h4>
    <p>
     如果你的网站包含
     <strong>
      大量页面
     </strong>
     （例如电商、博客、论坛等），建议
     <strong>
      拆分
      <code>
       sitemap.xml
      </code>
      ，使用
      <code>
       generateSitemaps
      </code>
      方法
     </strong>
     。
    </p>
    <p>
     📌示例：为大规模站点生成多个
     <code>
      sitemap.xml
     </code>
    </p>
    <pre><code class="prism language-typescript"><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{<!-- --></span> MetadataRoute <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'next'</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> <span class="token constant">BASE_URL</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/app/lib/constants'</span>

<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">generateSitemaps</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span> id<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> id<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> id<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">sitemap</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> id <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> id<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>MetadataRoute<span class="token punctuation">.</span>Sitemap<span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> start <span class="token operator">=</span> id <span class="token operator">*</span> <span class="token number">50000</span>
  <span class="token keyword">const</span> end <span class="token operator">=</span> start <span class="token operator">+</span> <span class="token number">50000</span>
  <span class="token keyword">const</span> products <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getProducts</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">SELECT id, date FROM products WHERE id BETWEEN </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>start<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> AND </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>end<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> products<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token constant">BASE_URL</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/product/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>product<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    lastModified<span class="token operator">:</span> product<span class="token punctuation">.</span>date<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      📌 访问
      <code>
       /product/sitemap/1.xml
      </code>
      ，你会看到部分站点地图。
     </strong>
     ✅
     <strong>
      适用场景
     </strong>
    </p>
    <ul>
     <li>
      站点超过
      <strong>
       50,000
      </strong>
      个 URL（Google 单个
      <code>
       sitemap.xml
      </code>
      限制）。
     </li>
     <li>
      <strong>
       电商、博客、新闻类站点
      </strong>
      需要拆分站点地图。
     </li>
    </ul>
    <hr/>
    <h2>
     <a id="_3__Nextjs__sitemapts_vs_nextsitemap_678">
     </a>
     📌 3. Next.js 内置
     <code>
      sitemap.ts
     </code>
     vs.
     <code>
      next-sitemap
     </code>
    </h2>
    <p>
     Next.js 提供了
     <strong>
      内置
      <code>
       sitemap.ts
      </code>
      生成
      <code>
       sitemap.xml
      </code>
      的功能，但社区中也有专门的
      <code>
       next-sitemap
      </code>
      库用于生成站点地图。那么，这两者有什么区别？应该选择哪种方式呢？本文将深入对比它们的
     </strong>
     特点、适用场景和优缺点**。
    </p>
    <hr/>
    <h4>
     <a id="31_Nextjs__sitemapts_683">
     </a>
     3.1 Next.js 内置
     <code>
      sitemap.ts
     </code>
    </h4>
    <p>
     📌
     <strong>
      Next.js 13+ 提供的
      <code>
       sitemap.ts
      </code>
      是一种
     </strong>
     原生支持**的方式，可以在
     <code>
      app/sitemap.ts
     </code>
     文件中定义站点地图，并自动生成
     <code>
      sitemap.xml
     </code>
     。
    </p>
    <p>
     ✅
     <strong>
      特点
     </strong>
    </p>
    <ul>
     <li>
      基于
      <code>
       app/sitemap.ts
      </code>
      ：无需额外安装依赖，
      <strong>
       Next.js 原生支持
      </strong>
      。
     </li>
     <li>
      <strong>
       动态生成
      </strong>
      ：支持
      <code>
       **lastModified
      </code>
      自动更新时间。
     </li>
     <li>
      <strong>
       支持多语言
      </strong>
      (
      <code>
       hreflang
      </code>
      ) 和多
      <code>
       sitemap
      </code>
      结构。
     </li>
     <li>
      <strong>
       不需要手动执行命令
      </strong>
      ，
      <strong>
       访问
       <code>
        /sitemap.xml
       </code>
       即可获取站点地图
      </strong>
      。
     </li>
    </ul>
    <p>
     ✅
     <strong>
      优点
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       内置支持
      </strong>
      ：不需要安装
      <code>
       next-sitemap
      </code>
      ，减少外部依赖。
     </li>
     <li>
      <strong>
       自动化
      </strong>
      ：无需手动运行
      <code>
       npx
      </code>
      命令，每次访问
      <code>
       /sitemap.xml
      </code>
      都是
      <strong>
       最新的
      </strong>
      。
     </li>
     <li>
      支持
      <code>
       hreflang
      </code>
      ：适用于多语言网站。
     </li>
    </ul>
    <p>
     🚨
     <strong>
      缺点
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       功能较基础
      </strong>
      ：不支持自动解析
      <code>
       next
      </code>
      的
      <code>
       pages
      </code>
      目录结构，需要
      <strong>
       手动添加 URL
      </strong>
      。
     </li>
     <li>
      <strong>
       不适用于大型网站
      </strong>
      ：
      <code>
       sitemap.ts
      </code>
      适用于
      <strong>
       小型/中型站点
      </strong>
      ，但对于有
      <strong>
       10w+ URL
      </strong>
      的大站，性能可能有限。
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="32_nextsitemap_706">
     </a>
     3.2
     <code>
      next-sitemap
     </code>
    </h4>
    <p>
     📌
     <code>
      next-sitemap
     </code>
     是
     <strong>
      Next.js 官方推荐的
      <code>
       sitemap.xml
      </code>
      生成工具
     </strong>
     ，适用于大型项目，可自动爬取
     <code>
      pages/
     </code>
     目录，批量生成
     <code>
      sitemap.xml
     </code>
     。
    </p>
    <p>
     ✅
     <strong>
      特点
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       支持 SSR/SSG
      </strong>
      ：可自动抓取
      <code>
       next.config.js
      </code>
      中的
      <code>
       pages/
      </code>
      目录。
     </li>
     <li>
      支持
      <code>
       robots.txt
      </code>
      生成，无需手写。
     </li>
     <li>
      支持
      <code>
       sitemap index
      </code>
      （多个
      <code>
       sitemap.xml
      </code>
      文件）。
     </li>
     <li>
      <strong>
       提供
       <code>
        next-sitemap.js
       </code>
       配置文件
      </strong>
      ，可以
      <strong>
       批量管理 URL
      </strong>
      ，无需手动维护
      <code>
       sitemap.ts
      </code>
      。
     </li>
    </ul>
    <p>
     📌 安装
     <code>
      next-sitemap
     </code>
    </p>
    <pre><code class="prism language-plain">npm install next-sitemap
</code></pre>
    <p>
     📌 配置
     <code>
      next-sitemap.config.js
     </code>
    </p>
    <pre><code class="prism language-typescript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  siteUrl<span class="token operator">:</span> <span class="token string">'https://example.com'</span><span class="token punctuation">,</span> <span class="token comment">// 站点根路径</span>
  generateRobotsTxt<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 自动生成 robots.txt</span>
  sitemapSize<span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span> <span class="token comment">// 拆分 sitemap.xml</span>
  changefreq<span class="token operator">:</span> <span class="token string">'daily'</span><span class="token punctuation">,</span> <span class="token comment">// 默认所有页面更新时间</span>
  priority<span class="token operator">:</span> <span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token comment">// 默认优先级</span>
  exclude<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'/admin'</span><span class="token punctuation">,</span> <span class="token string">'/private'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 排除不想被索引的页面</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     📌 运行命令，生成
     <code>
      sitemap.xml
     </code>
    </p>
    <pre><code class="prism language-plain">npx next-sitemap
</code></pre>
    <p>
     📌 生成的
     <code>
      sitemap.xml
     </code>
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sitemapindex</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.sitemaps.org/schemas/sitemap/0.9<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sitemap</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>loc</span><span class="token punctuation">&gt;</span></span>https://example.com/sitemap-0.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>loc</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sitemap</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sitemap</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>loc</span><span class="token punctuation">&gt;</span></span>https://example.com/sitemap-1.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>loc</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sitemap</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sitemapindex</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <p>
     ✅
     <strong>
      优点
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       自动解析
       <code>
        pages
       </code>
       目录
      </strong>
      ，无需手动维护 URL。
     </li>
     <li>
      支持
      <code>
       robots.txt
      </code>
      ，可自动生成并配置。
     </li>
     <li>
      <strong>
       适用于大规模网站
      </strong>
      ，可以拆分多个
      <code>
       sitemap.xml
      </code>
      ，每个最多 50,000 个 URL。
     </li>
     <li>
      支持
      <code>
       next export
      </code>
      ，可用于静态站点。
     </li>
    </ul>
    <p>
     🚨
     <strong>
      缺点
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       需要手动执行
       <code>
        npx next-sitemap
       </code>
       以生成
       <code>
        sitemap.xml
       </code>
       ，不像
       <code>
        sitemap.ts
       </code>
       那样是
      </strong>
      实时的。
     </li>
     <li>
      <strong>
       需要额外安装依赖
      </strong>
      ，增加项目体积。
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="33_sitemapts_vs_nextsitemap__768">
     </a>
     3.3
     <code>
      sitemap.ts
     </code>
     vs.
     <code>
      next-sitemap
     </code>
     对比
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        <strong>
         特性
        </strong>
       </th>
       <th>
        **Next.js
        <code>
         sitemap.ts
        </code>
       </th>
       <th>
        <code>
         **next-sitemap
        </code>
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <strong>
         是否需要安装依赖
        </strong>
       </td>
       <td>
        ❌ 不需要
       </td>
       <td>
        ✅ 需要 (
        <code>
         next-sitemap
        </code>
        )
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         是否自动更新
        </strong>
       </td>
       <td>
        ✅ 实时生成
       </td>
       <td>
        ❌ 需要
        <code>
         npx
        </code>
        运行
       </td>
      </tr>
      <tr>
       <td>
        是否支持
        <code>
         robots.txt
        </code>
       </td>
       <td>
        ❌ 需手动写
        <code>
         robots.ts
        </code>
       </td>
       <td>
        ✅ 自动生成
       </td>
      </tr>
      <tr>
       <td>
        是否支持
        <code>
         hreflang
        </code>
       </td>
       <td>
        ✅ 支持
       </td>
       <td>
        ✅ 支持
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         是否适合大站点
        </strong>
       </td>
       <td>
        ✅ 可拆分多个 sitemap
       </td>
       <td>
        ✅ 更适合，自动拆分
       </td>
      </tr>
      <tr>
       <td>
        是否支持
        <code>
         next export
        </code>
       </td>
       <td>
        ❌ 仅支持
        <code>
         app/
        </code>
        目录
       </td>
       <td>
        ✅ 适用于
        <code>
         pages/
        </code>
        目录
       </td>
      </tr>
      <tr>
       <td>
        是否支持
        <code>
         sitemap index
        </code>
       </td>
       <td>
        ✅ 通过
        <code>
         generateSitemaps
        </code>
       </td>
       <td>
        ✅ 自动拆分
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     ✅
     <strong>
      推荐选择
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       如果你的网站规模较小（小于 50,000 个 URL），并且在
       <code>
        app/
       </code>
       目录下开发，建议使用
       <code>
        sitemap.ts
       </code>
       。
      </strong>
     </li>
     <li>
      <strong>
       如果你的网站是一个大型站点（超过 50,000 个 URL），或者使用
       <code>
        pages/
       </code>
       目录，建议使用
       <code>
        next-sitemap
       </code>
       ，可以自动解析目录并生成多个
       <code>
        sitemap.xml
       </code>
       。
      </strong>
     </li>
     <li>
      <strong>
       如果你还需要
       <code>
        robots.txt
       </code>
       自动生成，
       <code>
        next-sitemap
       </code>
       是更好的选择
      </strong>
      。
     </li>
    </ul>
    <hr/>
    <h2>
     <a id="_4__788">
     </a>
     📌 4. 总结
    </h2>
    <p>
     Next.js 提供了
     <strong>
      强大的内置 SEO 工具
     </strong>
     ，简化了 SEO 配置：
    </p>
    <ul>
     <li>
      ✅
      <code>
       metadata
      </code>
      API** 轻松设置
      <code>
       &lt;title&gt;
      </code>
      、
      <code>
       meta
      </code>
      、
      <code>
       canonical
      </code>
     </li>
     <li>
      ✅
      <code>
       robots.ts
      </code>
      自动生成
      <code>
       robots.txt
      </code>
      ，控制爬虫行为
     </li>
     <li>
      ✅
      <code>
       sitemap.ts
      </code>
      生成
      <code>
       sitemap.xml
      </code>
      ，加快搜索引擎索引
     </li>
     <li>
      ✅
      <strong>
       多语言
       <code>
        hreflang
       </code>
       轻松管理
      </strong>
      ，提高全球搜索排名
     </li>
    </ul>
    <p>
     利用 Next.js，你可以
     <strong>
      更轻松地管理 SEO，提升网站在搜索引擎中的可见度
     </strong>
     ！🚀
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e63:73646e2e6e65742f6368656e7a68756f6368656e373738382f:61727469636c652f64657461696c732f313435383837303338" class_="artid" style="display:none">
 </p>
</div>


