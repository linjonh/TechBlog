---
layout: post
title: "华为eNSP实验-OSPF单区域"
date: 2025-03-07 11:46:30 +0800
description: "OSPF（Open Shortest Path First）是一种链路状态路由协议，用于在IP网络中动态计算路由。OSPF单区域是指所有OSPF路由器都位于同一个区域（Area 0，也称为骨干区域）中的网络设计。"
keywords: "华为eNSP:实验 OSPF单区域"
categories: ['未分类']
tags: ['运维', '网络', '智能路由器', '华为']
artid: "146091297"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146091297
    alt: "华为eNSP实验-OSPF单区域"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146091297
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146091297
cover: https://bing.ee123.net/img/rand?artid=146091297
image: https://bing.ee123.net/img/rand?artid=146091297
img: https://bing.ee123.net/img/rand?artid=146091297
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     华为eNSP:实验 OSPF单区域
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     OSPF（Open Shortest Path First）是一种链路状态路由协议，用于在IP网络中动态计算路由。OSPF单区域是指所有OSPF路由器都位于同一个区域（Area 0，也称为骨干区域）中的网络设计。
    </p>
    <h3 id="%E4%B8%80%E3%80%81OSPF%E5%8D%95%E5%8C%BA%E5%9F%9F%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5" name="%E4%B8%80%E3%80%81OSPF%E5%8D%95%E5%8C%BA%E5%9F%9F%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5">
     一、OSPF单区域的基本概念
    </h3>
    <ol>
     <li>
      <p>
       <strong>
        区域（Area）
       </strong>
       <br/>
       OSPF通过划分区域来优化网络性能和管理。单区域意味着所有路由器都属于同一个区域（通常是Area 0）。
      </p>
     </li>
     <li>
      <p>
       <strong>
        骨干区域（Area 0）
       </strong>
       <br/>
       在OSPF中，Area 0是核心区域，所有其他区域（如果有）都必须直接或间接连接到Area 0。在单区域设计中，整个网络就是一个Area 0。
      </p>
     </li>
     <li>
      <p>
       <strong>
        链路状态数据库（LSDB）
       </strong>
       <br/>
       在单区域中，所有路由器共享相同的链路状态数据库（LSDB），这意味着每台路由器都知道整个网络的拓扑结构。
      </p>
     </li>
    </ol>
    <h3 id="%E3%80%81OSPF%E5%8D%95%E5%8C%BA%E5%9F%9F%E7%9A%84%E7%89%B9%E7%82%B9" name="%E3%80%81OSPF%E5%8D%95%E5%8C%BA%E5%9F%9F%E7%9A%84%E7%89%B9%E7%82%B9">
     、OSPF单区域的特点
    </h3>
    <ol>
     <li>
      <p>
       <strong>
        简单性
       </strong>
      </p>
      <ul>
       <li>
        <p>
         单区域设计适用于小型网络，配置和管理相对简单。
        </p>
       </li>
       <li>
        <p>
         不需要考虑区域间路由（Inter-Area Routing）的复杂性。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        一致性
       </strong>
      </p>
      <ul>
       <li>
        <p>
         所有路由器的LSDB一致，路由计算基于相同的网络拓扑信息。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        快速收敛
       </strong>
      </p>
      <ul>
       <li>
        <p>
         由于所有路由器都在同一个区域中，链路状态更新（LSU）能够快速传播，网络收敛速度较快。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        适用范围
       </strong>
      </p>
      <ul>
       <li>
        <p>
         适用于小型或中型网络，通常路由器数量较少（例如少于50台）。
        </p>
       </li>
      </ul>
     </li>
    </ol>
    <h3 id="%C2%A0" name="%C2%A0">
    </h3>
    <h3 id="%E5%AE%9E%E9%AA%8C%E6%8B%93%E6%89%91%EF%BC%9A" name="%E5%AE%9E%E9%AA%8C%E6%8B%93%E6%89%91%EF%BC%9A">
     实验拓扑：
    </h3>
    <p>
     <img alt="" height="178" src="https://i-blog.csdnimg.cn/direct/38b60b2b6a2d462c9e423e0ab98f7250.png" width="814"/>
    </p>
    <p>
    </p>
    <h3 id="%E5%AE%9E%E9%AA%8C%E9%85%8D%E7%BD%AE%EF%BC%9A" name="%E5%AE%9E%E9%AA%8C%E9%85%8D%E7%BD%AE%EF%BC%9A">
     实验配置：
    </h3>
    <blockquote>
     <p>
      AR1：
      <br/>
      [AR1]int g0/0/0
      <br/>
      [AR1-GigabitEthernet0/0/0]ip address 12.1.1.1 24
      <br/>
      [AR1-GigabitEthernet0/0/0]quit
      <br/>
      [AR1]int Loopback 0
      <br/>
      [AR1-LoopBack0]ip address 1.1.1.1 24
      <br/>
      [AR1-LoopBack0]quit
      <br/>
      [AR1]ospf router-id 1.1.1.1
      <br/>
      [AR1]ospf router-id 1.1.1.1
      <br/>
      [AR1-ospf-1]area 0
      <br/>
      [AR1-ospf-1-area-0.0.0.0]network 12.1.1.0 0.0.0.255
      <br/>
      [AR1-ospf-1-area-0.0.0.0]network 1.1.1.0 0.0.0.255
     </p>
    </blockquote>
    <blockquote>
     <p>
      AR2：
      <br/>
      [AR2]int g0/0/1
      <br/>
      [AR2-GigabitEthernet0/0/1]ip address 12.1.1.2 24
      <br/>
      [AR2-GigabitEthernet0/0/1]int g0/0/0
      <br/>
      [AR2-GigabitEthernet0/0/0]ip address 23.1.1.2 24
      <br/>
      [AR2-GigabitEthernet0/0/0]quit
      <br/>
      [AR2]int loopback 0
      <br/>
      [AR2-LoopBack0]ip address 2.2.2.2 24
      <br/>
      [AR2-LoopBack0]quit
      <br/>
      [AR2]ospf router-id 2.2.2.2
      <br/>
      [AR2-ospf-1]area 0
      <br/>
      [AR2-ospf-1-area-0.0.0.0]network 12.1.1.0 0.0.0.255
      <br/>
      [AR2-ospf-1-area-0.0.0.0]network 23.1.1.0 0.0.0.255
      <br/>
      [AR2-ospf-1-area-0.0.0.0]network 2.2.2.0 0.0.0.255
     </p>
    </blockquote>
    <blockquote>
     <p>
      AR3:
      <br/>
      [AR3]int g0/0/1
      <br/>
      [AR3-GigabitEthernet0/0/1]ip address 23.1.1.3 24
      <br/>
      [AR3-GigabitEthernet0/0/1]quit
      <br/>
      [AR3]int loopback 0
      <br/>
      [AR3-LoopBack0]ip address 3.3.3.3 24
      <br/>
      [AR3-LoopBack0]quit
      <br/>
      [AR3]ospf router-id 3.3.3.3
      <br/>
      [AR3-ospf-1]area 0
      <br/>
      [AR3-ospf-1-area-0.0.0.0]ne
      <br/>
      [AR3-ospf-1-area-0.0.0.0]network 23.1.1.0 0.0.0.255
      <br/>
      [AR3-ospf-1-area-0.0.0.0]network 3.3.3.0 0.0.0.255
      <br/>
     </p>
    </blockquote>
    <h4 id="%E5%AE%9E%E9%AA%8C%E8%B0%83%E7%A0%94%EF%BC%9A" name="%E5%AE%9E%E9%AA%8C%E8%B0%83%E7%A0%94%EF%BC%9A">
     实验调研：
    </h4>
    <p>
     在R1上查看当前设备所有的OSPF接口信息
    </p>
    <p>
     <img alt="" height="288" src="https://i-blog.csdnimg.cn/direct/c81fcff1379e470c9dc9faa0910a6c5e.png" width="614"/>
    </p>
    <p>
     OSPF的进程为1，Router ID为1.1.1.1；区域为0
    </p>
    <p>
     G0/0/0的开销为1，它是DR，网络类型为广播，MTU为1500，优先级为1
    </p>
    <p>
     DR为12.1.1.1      BDR为12.1.1.2
    </p>
    <p>
    </p>
    <p>
     在R1上查看当前设备的邻居状态
    </p>
    <p>
     <img alt="" height="218" src="https://i-blog.csdnimg.cn/direct/3d956c83b10f42e7a46b578adeed051f.png" width="597"/>
    </p>
    <p>
     邻居状态为Full,邻居为Master
    </p>
    <p>
    </p>
    <p>
     R1上查看当前设备的LSDB
    </p>
    <p>
     <img alt="" height="206" src="https://i-blog.csdnimg.cn/direct/f20dc9720ec24b09af45adbc466c2d1b.png" width="620">
     </img>
    </p>
    <p>
    </p>
    <p>
     在R1上查看当前设备的OSPF路由表
    </p>
    <p>
     <img alt="" height="250" src="https://i-blog.csdnimg.cn/direct/c539cda7adb84266aebe940f5d354c5d.png" width="619"/>
    </p>
    <p>
     最后开启以下命令，可以观察OSPF的状态机
    </p>
    <blockquote>
     <p>
      &lt;AR1&gt;terminal debugging               //使能终端显示Debug信息功能
      <br/>
      &lt;AR1&gt;terminal monitor                   //使能终端显示信息中心发生信息的功能
      <br/>
      &lt;AR1&gt;debugging ospf event          //用来查看OSPF协议工作过程中的所有事件
      <br/>
      &lt;AR1&gt;debugging ospf packet　　//用来查看OSPF协议工作过程中的所有报文
      <br/>
      &lt;AR1&gt;system-view
      <br/>
      [AR1]int g0/0/0
      <br/>
      [AR1-GigabitEthernet0/0/0]shutdown
      <br/>
      [AR1-GigabitEthernet0/0/0]quit
      <br/>
      [AR1]int g0/0/0
      <br/>
      [AR1-GigabitEthernet0/0/0]undo shutdown
      <br/>
      [AR1-GigabitEthernet0/0/0]quit
      <br/>
      [AR1]info-center enable
     </p>
    </blockquote>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330315f37393939373535312f:61727469636c652f64657461696c732f313436303931323937" class_="artid" style="display:none">
 </p>
</div>


