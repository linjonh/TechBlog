---
layout: post
title: "Ubuntu-下-nginx-1.24.0-源码分析-1"
date: 2025-03-08 14:04:27 +0800
description: "environ[i];"
keywords: "Ubuntu 下 nginx-1.24.0 源码分析 (1)"
categories: ['未分类']
tags: ['运维', 'Nginx']
artid: "146025081"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146025081
    alt: "Ubuntu-下-nginx-1.24.0-源码分析-1"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146025081
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146025081
cover: https://bing.ee123.net/img/rand?artid=146025081
image: https://bing.ee123.net/img/rand?artid=146025081
img: https://bing.ee123.net/img/rand?artid=146025081
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Ubuntu 下 nginx-1.24.0 源码分析 (1)
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h4>
     <strong>
      main
     </strong>
     函数在
    </h4>
    <blockquote>
     <h4>
      <span style="color:#0d0016">
       src\core\nginx.c
      </span>
     </h4>
    </blockquote>
    <hr/>
    <h4>
    </h4>
    <pre><code>int ngx_cdecl
main(int argc, char *const *argv)
{
    ngx_buf_t        *b;
    ngx_log_t        *log;
    ngx_uint_t        i;
    ngx_cycle_t      *cycle, init_cycle;
    ngx_conf_dump_t  *cd;
    ngx_core_conf_t  *ccf;

    ngx_debug_init();</code></pre>
    <h4>
     进入
     <strong>
      main
     </strong>
     函数
    </h4>
    <h4>
     最开始是局部变量的声明
    </h4>
    <h4>
     然后是
    </h4>
    <blockquote>
     <h4>
      <a class="link-info" href="https://blog.csdn.net/weixin_41812346/article/details/145423293" title="ngx_debug_init();">
       ngx_debug_init();
      </a>
     </h4>
    </blockquote>
    <hr/>
    <h4>
    </h4>
    <h4>
     接下来是 ：
    </h4>
    <pre><code>   if (ngx_strerror_init() != NGX_OK) {
        return 1;
    }</code></pre>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145424631" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_strerror_init()函数-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_strerror_init()函数-CSDN博客
      </a>
     </h4>
    </blockquote>
    <hr/>
    <h4>
    </h4>
    <h4>
     接下来是 ：
    </h4>
    <pre><code>    if (ngx_get_options(argc, argv) != NGX_OK) {
        return 1;
    }</code></pre>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145429733" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_get_options函数-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_get_options函数-CSDN博客
      </a>
     </h4>
    </blockquote>
    <h4>
     当前这次执行的是：
    </h4>
    <blockquote>
     <h4>
      sudo ./nginx
     </h4>
    </blockquote>
    <h4>
     除了 程序名 没有其他参数
    </h4>
    <h4>
     所以
    </h4>
    <blockquote>
     <h4>
      argc=1
     </h4>
    </blockquote>
    <h4>
     于是在 ngx_get_options 函数中
    </h4>
    <pre><code>static ngx_int_t
ngx_get_options(int argc, char *const *argv)
{
    u_char     *p;
    ngx_int_t   i;

    for (i = 1; i &lt; argc; i++) {

        p = (u_char *) argv[i];

        if (*p++ != '-') {
            ngx_log_stderr(0, "invalid option: \"%s\"", argv[i]);
            return NGX_ERROR;
        }

        while (*p) {

            switch (*p++) {

            case '?':
            case 'h':
                ngx_show_version = 1;
                ngx_show_help = 1;
                break;

            case 'v':
                ngx_show_version = 1;
                break;

            case 'V':
                ngx_show_version = 1;
                ngx_show_configure = 1;
                break;

            case 't':
                ngx_test_config = 1;
                break;

            case 'T':
                ngx_test_config = 1;
                ngx_dump_config = 1;
                break;

            case 'q':
                ngx_quiet_mode = 1;
                break;

            case 'p':
                if (*p) {
                    ngx_prefix = p;
                    goto next;
                }

                if (argv[++i]) {
                    ngx_prefix = (u_char *) argv[i];
                    goto next;
                }

                ngx_log_stderr(0, "option \"-p\" requires directory name");
                return NGX_ERROR;

            case 'e':
                if (*p) {
                    ngx_error_log = p;

                } else if (argv[++i]) {
                    ngx_error_log = (u_char *) argv[i];

                } else {
                    ngx_log_stderr(0, "option \"-e\" requires file name");
                    return NGX_ERROR;
                }

                if (ngx_strcmp(ngx_error_log, "stderr") == 0) {
                    ngx_error_log = (u_char *) "";
                }

                goto next;

            case 'c':
                if (*p) {
                    ngx_conf_file = p;
                    goto next;
                }

                if (argv[++i]) {
                    ngx_conf_file = (u_char *) argv[i];
                    goto next;
                }

                ngx_log_stderr(0, "option \"-c\" requires file name");
                return NGX_ERROR;

            case 'g':
                if (*p) {
                    ngx_conf_params = p;
                    goto next;
                }

                if (argv[++i]) {
                    ngx_conf_params = (u_char *) argv[i];
                    goto next;
                }

                ngx_log_stderr(0, "option \"-g\" requires parameter");
                return NGX_ERROR;

            case 's':
                if (*p) {
                    ngx_signal = (char *) p;

                } else if (argv[++i]) {
                    ngx_signal = argv[i];

                } else {
                    ngx_log_stderr(0, "option \"-s\" requires parameter");
                    return NGX_ERROR;
                }

                if (ngx_strcmp(ngx_signal, "stop") == 0
                    || ngx_strcmp(ngx_signal, "quit") == 0
                    || ngx_strcmp(ngx_signal, "reopen") == 0
                    || ngx_strcmp(ngx_signal, "reload") == 0)
                {
                    ngx_process = NGX_PROCESS_SIGNALLER;
                    goto next;
                }

                ngx_log_stderr(0, "invalid option: \"-s %s\"", ngx_signal);
                return NGX_ERROR;

            default:
                ngx_log_stderr(0, "invalid option: \"%c\"", *(p - 1));
                return NGX_ERROR;
            }
        }

    next:

        continue;
    }

    return NGX_OK;
}</code></pre>
    <h4>
     进入不了
     <span style="color:#0d0016">
      <strong>
       for
      </strong>
     </span>
     循环
    </h4>
    <h4>
     直接走到
    </h4>
    <pre><code>return NGX_OK;</code></pre>
    <h4>
     返回到
     <span style="background-color:#f3f3f4">
     </span>
     <span style="color:#be191c">
      <strong>
       <span style="background-color:#f3f3f4">
        main
       </span>
      </strong>
     </span>
     <span style="background-color:#f3f3f4">
     </span>
     函数中
    </h4>
    <hr/>
    <h4>
     接下来是 ：
    </h4>
    <pre><code>if (ngx_show_version) {
        ngx_show_version_info();

        if (!ngx_test_config) {
            return 0;
        }
    }</code></pre>
    <h4>
     <span style="color:#be191c">
      ngx_show_version
     </span>
     未设置，此时是 0
    </h4>
    <h4>
     于是跳过这段代码
    </h4>
    <hr/>
    <h4>
     接下来是 ：
    </h4>
    <pre><code>/* TODO */ ngx_max_sockets = -1;
</code></pre>
    <h4>
     初始化全局变量
     <span style="color:#be191c">
      <code>
       ngx_max_sockets
      </code>
     </span>
    </h4>
    <h4>
     <span style="color:#be191c">
      <code>
       ngx_max_sockets
      </code>
     </span>
     是一个全局变量，用于存储 Nginx 能够处理的最大文件描述符（socket）数量。
    </h4>
    <h4>
     <span style="color:#be191c">
      文件描述符
     </span>
     是操作系统用于管理打开的文件、socket 等资源的标识符。Nginx 作为一个高性能的 Web 服务器，需要处理大量的并发连接，因此文件描述符的数量对性能有重要影响
    </h4>
    <h4>
    </h4>
    <h4>
    </h4>
    <h4>
     <strong>
      初始值为
      <span style="color:#be191c">
       <code>
        -1
       </code>
      </span>
      的意义
     </strong>
    </h4>
    <ul>
     <li>
      <h4>
       将
       <span style="color:#be191c">
        <code>
         ngx_max_sockets
        </code>
       </span>
       初始化为
       <span style="color:#be191c">
        <code>
         -1
        </code>
       </span>
       表示在程序启动时，还没有确定实际的最大文件描述符数量。
      </h4>
     </li>
     <li>
      <h4>
       <span style="color:#be191c">
        <code>
         -1
        </code>
       </span>
       通常用作一个初始值或无效值，表示该变量
       <span style="color:#be191c">
        尚未被正确初始化或配置
       </span>
       。
      </h4>
     </li>
     <li>
      <h4>
       在后续的代码中，Nginx 会根据操作系统的限制和配置文件中的设置来更新
       <code>
        ngx_max_sockets
       </code>
       的值。
      </h4>
     </li>
    </ul>
    <hr/>
    <h4>
     接下来是 ：
    </h4>
    <pre><code>ngx_time_init();</code></pre>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145529158" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_time_init 函数-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_time_init 函数-CSDN博客
      </a>
     </h4>
    </blockquote>
    <hr/>
    <h4>
     接下来是 ：
    </h4>
    <pre><code>#if (NGX_PCRE)
    ngx_regex_init();
#endif</code></pre>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145631909" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_regex_init 函数-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_regex_init 函数-CSDN博客
      </a>
     </h4>
    </blockquote>
    <hr/>
    <h4>
     接下来是 ：
    </h4>
    <pre><code>    ngx_pid = ngx_getpid();
    ngx_parent = ngx_getppid();
</code></pre>
    <h4>
     获取当前进程的进程ID（
     <code>
      ngx_pid
     </code>
     ）和父进程的进程ID（
     <code>
      ngx_parent
     </code>
     ）。
    </h4>
    <h4>
     这在后续的进程管理中很有用。
    </h4>
    <h4>
     在
     <span style="color:#be191c">
      src/os/unix/ngx_process.h
     </span>
     中：
    </h4>
    <pre><code>#define ngx_getpid   getpid
#define ngx_getppid  getppid</code></pre>
    <blockquote>
     <h4>
      <code>
       getpid
      </code>
      和
      <code>
       getppid
      </code>
      是 C 语言中用于获取进程 ID 的函数，定义在
      <code>
       &lt;unistd.h&gt;
      </code>
      头文件中
     </h4>
     <h4>
     </h4>
     <h4>
      getpid()：获取当前进程的进程ID
      <br/>
      getppid():获取当前进程的父进程ID
     </h4>
     <h4>
      父进程是创建当前进程的进程（如通过fork()）。
      <br/>
      若父进程终止，子进程的PPID会被重置为init进程（PID=1）
     </h4>
    </blockquote>
    <hr/>
    <h4>
     接下来是：
    </h4>
    <pre><code>    log = ngx_log_init(ngx_prefix, ngx_error_log);
    if (log == NULL) {
        return 1;
    }</code></pre>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145634999" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_log_init 函数-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_log_init 函数-CSDN博客
      </a>
     </h4>
    </blockquote>
    <h4>
     此次调用
     <span style="color:#be191c">
      ngx_log_init
     </span>
     <span style="color:#0d0016">
      时
     </span>
    </h4>
    <h4>
     <span style="color:#be191c">
      prefix
     </span>
     <span style="color:#0d0016">
      和
     </span>
     <span style="color:#be191c">
      error_log
     </span>
     <span style="color:#0d0016">
      都还没有设置此时还是 null
     </span>
    </h4>
    <h4>
     进入
     <strong>
      <span style="color:#be191c">
       ngx_log_init
      </span>
     </strong>
    </h4>
    <h4>
     <span style="color:#0d0016">
      <strong>
       首先是
      </strong>
     </span>
    </h4>
    <pre><code>ngx_log_t *
ngx_log_init(u_char *prefix, u_char *error_log)
{
    u_char  *p, *name;
    size_t   nlen, plen;

    ngx_log.file = &amp;ngx_log_file;
    ngx_log.log_level = NGX_LOG_NOTICE;</code></pre>
    <ul>
     <li>
      <h4>
       将全局日志对象
       <code>
        ngx_log
       </code>
       的文件指针指向
       <code>
        ngx_log_file
       </code>
       。
      </h4>
     </li>
     <li>
      <h4>
       设置默认日志级别为
       <code>
        NGX_LOG_NOTICE
       </code>
       （通知级别）
      </h4>
     </li>
    </ul>
    <h4>
    </h4>
    <pre><code>    if (error_log == NULL) {
        error_log = (u_char *) NGX_ERROR_LOG_PATH;
    }

    name = error_log;
    nlen = ngx_strlen(name);</code></pre>
    <h4>
     此时
     <span style="color:#be191c">
      error_log
     </span>
     <span style="color:#0d0016">
      还是null
     </span>
    </h4>
    <h4>
     <span style="color:#0d0016">
      于是进入这个
     </span>
     <span style="color:#be191c">
      if
     </span>
     <span style="color:#0d0016">
      条件中
     </span>
    </h4>
    <h4>
     把默认值
     <span style="color:#be191c">
      NGX_ERROR_LOG_PATH
     </span>
     赋值给
     <span style="color:#be191c">
      error_log
     </span>
    </h4>
    <h4>
     <span style="color:#0d0016">
      这个默认值是在 执行
     </span>
     <span style="color:#be191c">
      configure
     </span>
     命令时定义的一个宏，它的值由
     <span style="color:#be191c">
      configure
     </span>
     命令的配置项
     <span style="color:#be191c">
      --error-log-path
     </span>
     指定
    </h4>
    <pre><code>    if (nlen == 0) {
        ngx_log_file.fd = ngx_stderr;
        return &amp;ngx_log;
    }

    p = NULL;</code></pre>
    <h4>
     <span style="color:#be191c">
      nlen
     </span>
     不是0
    </h4>
    <h4>
     跳过这个
     <span style="color:#be191c">
      if
     </span>
     条件
    </h4>
    <pre><code>if (name[0] != '/') {<!-- --></code></pre>
    <h4>
     检查路径是否以
     <strong>
      <span style="color:#be191c">
       <code>
        /
       </code>
      </span>
     </strong>
     开头
    </h4>
    <h4>
     是以
     <strong>
      <span style="color:#be191c">
       <code>
        /
       </code>
      </span>
     </strong>
     开头
    </h4>
    <h4>
     所以当前
     <span style="color:#be191c">
      name
     </span>
     已经是绝对路径了，不需要拼接前缀
    </h4>
    <pre><code>ngx_log_file.fd = ngx_open_file(name, NGX_FILE_APPEND,
                                    NGX_FILE_CREATE_OR_OPEN,
                                    NGX_FILE_DEFAULT_ACCESS);
</code></pre>
    <h4>
     以追加的方式打开
     <span style="color:#be191c">
      name
     </span>
     指向的 日志文件
    </h4>
    <h4>
     此时返回的
     <span style="color:#be191c">
      fd
     </span>
     <span style="color:#333333">
      是 4
     </span>
    </h4>
    <pre><code>    if (ngx_log_file.fd == NGX_INVALID_FILE) {
        ngx_log_stderr(ngx_errno,
                       "[alert] could not open error log file: "
                       ngx_open_file_n " \"%s\" failed", name);</code></pre>
    <h4>
     <span style="color:#be191c">
      NGX_INVALID_FILE
     </span>
     的值是
     <span style="color:#be191c">
      -1
     </span>
     <span style="color:#0d0016">
      无效的文件描述符，表示上一步的打开文件失败
     </span>
    </h4>
    <h4>
     <span style="color:#0d0016">
      现在这个条件不成立，跳过这段代码
     </span>
    </h4>
    <pre><code>   if (p) {
        ngx_free(p);
    }

    return &amp;ngx_log;</code></pre>
    <h4>
     由于之前条件不成立，所以 没有用到 p
    </h4>
    <h4>
     最后返回
     <span style="color:#be191c">
      ngx_log
     </span>
     的地址
    </h4>
    <hr/>
    <h4>
     回到
     <span style="color:#be191c">
      main
     </span>
     函数中
    </h4>
    <h4>
     接下来是：
    </h4>
    <pre><code>ngx_ssl_init(log);</code></pre>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145649141" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_ssl_init 函数-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_ssl_init 函数-CSDN博客
      </a>
     </h4>
    </blockquote>
    <hr/>
    <h4>
     接下来是：
    </h4>
    <pre><code>  ngx_memzero(&amp;init_cycle, sizeof(ngx_cycle_t));</code></pre>
    <h4>
     <span style="color:#333333">
      把
     </span>
     <span style="color:#be191c">
      init_cycle
     </span>
     <span style="color:#0d0016">
      的每个字节都初始化为 0
     </span>
    </h4>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145670439" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_cycle_t 类型-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_cycle_t 类型-CSDN博客
      </a>
     </h4>
    </blockquote>
    <pre><code>    init_cycle.log = log;</code></pre>
    <h4>
     将之前 初始化的 日志对象的地址 记录在
     <span style="color:#be191c">
      log
     </span>
     字段
    </h4>
    <pre><code>    ngx_cycle = &amp;init_cycle;</code></pre>
    <h4>
     <span style="color:#0d0016">
      现在
     </span>
     <span style="color:#be191c">
      ngx_cycle
     </span>
     <span style="color:#0d0016">
      是指向
     </span>
     <span style="color:#be191c">
      init_cycle
     </span>
     的指针了
    </h4>
    <hr/>
    <pre><code>   init_cycle.pool = ngx_create_pool(1024, log);</code></pre>
    <h4>
     创建一个内存池要求的内存大小是 1024 字节，然后将地址记录到
     <span style="color:#be191c">
      init_cycle
     </span>
     的
     <span style="color:#be191c">
      pool
     </span>
     字段进行管理
    </h4>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145680797" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_create_pool函数-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_create_pool函数-CSDN博客
      </a>
     </h4>
    </blockquote>
    <h4>
     <span style="color:#0d0016">
      进入
     </span>
     <span style="color:#be191c">
      ngx_create_pool
     </span>
    </h4>
    <pre><code>ngx_pool_t *
ngx_create_pool(size_t size, ngx_log_t *log)
{
    ngx_pool_t  *p;

    p = ngx_memalign(NGX_POOL_ALIGNMENT, size, log);
    if (p == NULL) {
        return NULL;
    }</code></pre>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145681355" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_memalign函数-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_memalign函数-CSDN博客
      </a>
     </h4>
    </blockquote>
    <h4>
     使用
     <span style="color:#be191c">
      ngx_memalign
     </span>
     <span style="color:#0d0016">
      来分配内存
     </span>
    </h4>
    <h4>
     <span style="color:#be191c">
      NGX_POOL_ALIGNMENT
     </span>
     <span style="color:#0d0016">
      是要求的对齐边界，值为 16
     </span>
    </h4>
    <h4>
     进入
     <span style="color:#be191c">
      ngx_memalign
     </span>
    </h4>
    <pre><code>void *
ngx_memalign(size_t alignment, size_t size, ngx_log_t *log)
{
    void  *p;
    int    err;

    err = posix_memalign(&amp;p, alignment, size);
</code></pre>
    <h4>
     调用
     <span style="color:#be191c">
      posix_memalign
     </span>
     来分配一块对齐的内存
    </h4>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145682873?sharetype=blogdetail&amp;sharerId=145682873&amp;sharerefer=PC&amp;sharesource=weixin_41812346&amp;spm=1011.2480.3001.8118" title="posix_memalign 函数-CSDN博客">
       posix_memalign 函数-CSDN博客
      </a>
     </h4>
    </blockquote>
    <h4>
     此次返回值为
     <span style="color:#be191c">
      0
     </span>
    </h4>
    <h4>
     也就是分配内存成功了
    </h4>
    <h4>
     <span style="color:#be191c">
      p=0x5aa55f9765a0
     </span>
    </h4>
    <h4>
     <span style="color:#333333">
      这个地址是按 16 对齐的
     </span>
    </h4>
    <pre><code>if (err) {
        ngx_log_error(NGX_LOG_EMERG, log, err,
                      "posix_memalign(%uz, %uz) failed", alignment, size);
        p = NULL;
    }</code></pre>
    <h4>
     条件不成立，跳过这段代码
    </h4>
    <h4>
    </h4>
    <pre><code>return p;</code></pre>
    <h4>
     把分配的地址返回到
    </h4>
    <h4>
     <span style="color:#be191c">
      ngx_create_pool
     </span>
     <span style="color:#0d0016">
      函数中
     </span>
    </h4>
    <hr/>
    <h4>
     回到
     <span style="color:#be191c">
      ngx_create_pool
     </span>
    </h4>
    <h4>
     接下来是：
    </h4>
    <pre><code>   if (p == NULL) {
        return NULL;
    }</code></pre>
    <h4>
     条件不成立，跳过这段代码
    </h4>
    <pre><code>    p-&gt;d.last = (u_char *) p + sizeof(ngx_pool_t);
    p-&gt;d.end = (u_char *) p + size;
    p-&gt;d.next = NULL;
    p-&gt;d.failed = 0;

    size = size - sizeof(ngx_pool_t);
    p-&gt;max = (size &lt; NGX_MAX_ALLOC_FROM_POOL) ? size : NGX_MAX_ALLOC_FROM_POOL;

    p-&gt;current = p;
    p-&gt;chain = NULL;
    p-&gt;large = NULL;
    p-&gt;cleanup = NULL;
    p-&gt;log = log;

    return p;</code></pre>
    <h4>
     赋值然后返回 内存池 地址
    </h4>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145680797" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_create_pool函数-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_create_pool函数-CSDN博客
      </a>
     </h4>
    </blockquote>
    <h4>
     <span style="color:#0d0016">
      当前
     </span>
     <span style="color:#be191c">
      size = 944 ， NGX_MAX_ALLOC_FROM_POOL = -1
     </span>
     <br/>
     <span style="color:#0d0016">
      所以
     </span>
     <span style="color:#be191c">
      p-&gt;max=944
     </span>
    </h4>
    <hr/>
    <h4>
     回到
     <span style="color:#be191c">
      main
     </span>
     函数中
    </h4>
    <h4>
     接下来是：
    </h4>
    <pre><code>   if (init_cycle.pool == NULL) {
        return 1;
    }</code></pre>
    <h4>
     条件不成立，跳过这段代码
    </h4>
    <pre><code>   if (ngx_save_argv(&amp;init_cycle, argc, argv) != NGX_OK) {
        return 1;
    }</code></pre>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145691385" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_save_argv函数-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_save_argv函数-CSDN博客
      </a>
     </h4>
    </blockquote>
    <hr/>
    <h4>
    </h4>
    <pre><code>    if (ngx_process_options(&amp;init_cycle) != NGX_OK) {
        return 1;
    }</code></pre>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145697458" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_process_options-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_process_options-CSDN博客
      </a>
     </h4>
    </blockquote>
    <h4>
     <span style="color:#be191c">
     </span>
     <span style="color:#0d0016">
      进入
     </span>
     <span style="color:#be191c">
      ngx_process_options
     </span>
    </h4>
    <pre><code>static ngx_int_t
ngx_process_options(ngx_cycle_t *cycle)
{
    u_char  *p;
    size_t   len;

    if (ngx_prefix) {<!-- --></code></pre>
    <h4>
     <span style="color:#be191c">
      ngx_prefix
     </span>
     <span style="color:#0d0016">
      还是 null
     </span>
    </h4>
    <h4>
     <span style="color:#0d0016">
      所以跳过这个
     </span>
     <span style="color:#be191c">
      if
     </span>
     <span style="color:#0d0016">
      代码段进入
     </span>
     <span style="color:#be191c">
      else
     </span>
    </h4>
    <h4>
     <span style="color:#0d0016">
      接下来是：
     </span>
    </h4>
    <pre><code>ngx_str_set(&amp;cycle-&gt;conf_prefix, NGX_CONF_PREFIX);</code></pre>
    <h4>
     将 默认的配置文件路径前缀设置给
     <span style="color:#be191c">
      cycle-&gt;conf_prefix
     </span>
    </h4>
    <pre><code>ngx_str_set(&amp;cycle-&gt;prefix, NGX_PREFIX);</code></pre>
    <h4>
     将 默认的路径前缀设置给
     <span style="color:#be191c">
      cycle-&gt;prefix
     </span>
    </h4>
    <pre><code>    if (ngx_conf_file) {
        cycle-&gt;conf_file.len = ngx_strlen(ngx_conf_file);
        cycle-&gt;conf_file.data = ngx_conf_file;

    } else {
        ngx_str_set(&amp;cycle-&gt;conf_file, NGX_CONF_PATH);
    }</code></pre>
    <h4>
     此次启动没有指定 配置文件路径
    </h4>
    <h4>
     <span style="color:#0d0016">
      所以
     </span>
     <span style="color:#be191c">
      ngx_conf_file
     </span>
     <span style="color:#0d0016">
      在这里还是
     </span>
     <span style="color:#be191c">
      null
     </span>
    </h4>
    <h4>
     <span style="color:#0d0016">
      进入
     </span>
     <span style="color:#be191c">
      else
     </span>
     <span style="color:#0d0016">
      中，将 默认的配置文件路径设置给
     </span>
     <span style="color:#be191c">
      cycle-&gt;conf_file
     </span>
     <span style="color:#0d0016">
      进行管理
     </span>
    </h4>
    <h4>
     <span style="color:#0d0016">
      接下来是：
     </span>
    </h4>
    <pre><code>    if (ngx_conf_full_name(cycle, &amp;cycle-&gt;conf_file, 0) != NGX_OK) {
        return NGX_ERROR;
    }</code></pre>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145717114" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_conf_full_name 函数-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_conf_full_name 函数-CSDN博客
      </a>
     </h4>
    </blockquote>
    <h4>
     <span style="color:#be191c">
      cycle-&gt;conf_file
     </span>
     保存的配置文件路径可能是 相对路径，需要 调用
     <span style="color:#be191c">
      ngx_conf_full_name
     </span>
     来拼接路径前缀 然后形成完成的路径
    </h4>
    <h4>
     进入
     <span style="color:#be191c">
      ngx_conf_full_name
     </span>
     中
    </h4>
    <pre><code>ngx_int_t
ngx_conf_full_name(ngx_cycle_t *cycle, ngx_str_t *name, ngx_uint_t conf_prefix)
{
    ngx_str_t  *prefix;

    prefix = conf_prefix ? &amp;cycle-&gt;conf_prefix : &amp;cycle-&gt;prefix;

    return ngx_get_full_name(cycle-&gt;pool, prefix, name);
}</code></pre>
    <h4>
     这里传进来的
     <span style="color:#be191c">
      conf_prefix
     </span>
     <span style="color:#0d0016">
      的值是
     </span>
     <span style="color:#be191c">
      0
     </span>
    </h4>
    <h4>
     <span style="color:#0d0016">
      所以
     </span>
     <span style="color:#be191c">
      prefix =  &amp;cycle-&gt;prefix;
     </span>
     <span style="color:#0d0016">
      选择
     </span>
     <span style="color:#be191c">
      cycle-&gt;prefix (/usr/local/nginx/)
     </span>
     <span style="color:#0d0016">
      作为配置文件路径前缀
     </span>
    </h4>
    <h4>
     <span style="color:#0d0016">
      然后调用
     </span>
     <span style="color:#be191c">
      ngx_get_full_name
     </span>
     <span style="color:#0d0016">
      来拼接路径
     </span>
    </h4>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145717458" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_get_full_name 函数-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_get_full_name 函数-CSDN博客
      </a>
     </h4>
    </blockquote>
    <h4>
     进入
     <span style="color:#be191c">
      ngx_get_full_name
     </span>
    </h4>
    <pre><code>ngx_int_t
ngx_get_full_name(ngx_pool_t *pool, ngx_str_t *prefix, ngx_str_t *name)
{
    size_t      len;
    u_char     *p, *n;
    ngx_int_t   rc;

    rc = ngx_test_full_name(name);

    if (rc == NGX_OK) {
        return rc;
    }</code></pre>
    <h4>
     调用
     <span style="color:#be191c">
      ngx_test_full_name
     </span>
     来判断
     <span style="color:#be191c">
      name
     </span>
     <span style="color:#0d0016">
      (/home/wsd/桌面/nginx/conf/nginx.conf)
     </span>
     <span style="color:#be191c">
     </span>
     是否是完整的路径
    </h4>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145728907?sharetype=blogdetail&amp;sharerId=145728907&amp;sharerefer=PC&amp;sharesource=weixin_41812346&amp;spm=1011.2480.3001.8118" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_test_full_name-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_test_full_name-CSDN博客
      </a>
     </h4>
    </blockquote>
    <h4>
     进入
     <span style="color:#be191c">
      ngx_test_full_name
     </span>
    </h4>
    <pre><code>static ngx_int_t
ngx_test_full_name(ngx_str_t *name)
{
#if (NGX_WIN32)
    u_char  c0, c1;

    c0 = name-&gt;data[0];

    if (name-&gt;len &lt; 2) {
        if (c0 == '/') {
            return 2;
        }

        return NGX_DECLINED;
    }

    c1 = name-&gt;data[1];

    if (c1 == ':') {
        c0 |= 0x20;

        if ((c0 &gt;= 'a' &amp;&amp; c0 &lt;= 'z')) {
            return NGX_OK;
        }

        return NGX_DECLINED;
    }

    if (c1 == '/') {
        return NGX_OK;
    }

    if (c0 == '/') {
        return 2;
    }

    return NGX_DECLINED;

#else

    if (name-&gt;data[0] == '/') {
        return NGX_OK;
    }

    return NGX_DECLINED;

#endif
}</code></pre>
    <h4>
     当前环境是 Ubuntu
     <span style="color:#be191c">
      #if (NGX_WIN32) 不成立
     </span>
    </h4>
    <h4>
     <span style="color:#0d0016">
      所以接下来执行的是：
     </span>
    </h4>
    <pre><code>    if (name-&gt;data[0] == '/') {
        return NGX_OK;
    }

    return NGX_DECLINED;</code></pre>
    <h4>
     条件成立
     <span style="color:#be191c">
      name
     </span>
     的第一个字符是
     <span style="color:#be191c">
      /
     </span>
    </h4>
    <h4>
     <span style="color:#333333">
      被认为是 绝对路径
     </span>
    </h4>
    <h4>
     <span style="color:#333333">
      返回
     </span>
     <span style="color:#be191c">
      NGX_OK
     </span>
    </h4>
    <hr/>
    <h4>
     回到
     <span style="color:#be191c">
      ngx_get_full_name
     </span>
    </h4>
    <pre><code>   rc = ngx_test_full_name(name);

    if (rc == NGX_OK) {
        return rc;
    }
</code></pre>
    <h4>
     <span style="color:#be191c">
      rc
     </span>
     得到的返回值是
     <span style="color:#be191c">
      NGX_OK
     </span>
    </h4>
    <h4>
     <span style="color:#0d0016">
      条件成立，把这个
     </span>
     <span style="color:#be191c">
      NGX_OK
     </span>
     <span style="color:#0d0016">
      返回到
     </span>
     <span style="color:#be191c">
      ngx_conf_full_name
     </span>
    </h4>
    <pre><code>return ngx_get_full_name(cycle-&gt;pool, prefix, name);</code></pre>
    <h4>
     这个结果继续向上返回到
     <span style="color:#be191c">
      ngx_process_options
     </span>
    </h4>
    <hr/>
    <h4>
     回到
     <span style="color:#be191c">
      ngx_process_options
     </span>
    </h4>
    <h4>
     <span style="color:#0d0016">
      接下来是：
     </span>
    </h4>
    <pre><code>if (ngx_conf_full_name(cycle, &amp;cycle-&gt;conf_file, 0) != NGX_OK) {
        return NGX_ERROR;
    }
</code></pre>
    <h4>
     <span style="color:#0d0016">
      于是 这里 调用
     </span>
     <span style="color:#be191c">
      ngx_conf_full_name
     </span>
     <span style="color:#0d0016">
      得到 返回值
     </span>
     <span style="color:#be191c">
      NGX_OK
     </span>
    </h4>
    <h4>
     <span style="color:#333333">
      条件不成立
     </span>
    </h4>
    <h4>
     <span style="color:#0d0016">
      接下来是：
     </span>
    </h4>
    <pre><code>   for (p = cycle-&gt;conf_file.data + cycle-&gt;conf_file.len - 1;
         p &gt; cycle-&gt;conf_file.data;
         p--)
    {
        if (ngx_path_separator(*p)) {
            cycle-&gt;conf_prefix.len = p - cycle-&gt;conf_file.data + 1;
            cycle-&gt;conf_prefix.data = cycle-&gt;conf_file.data;
            break;
        }
    }</code></pre>
    <h4>
     <span style="color:#be191c">
      cycle-&gt;conf_file.data
     </span>
     <span style="color:#333333">
      是配置文件路径，
     </span>
    </h4>
    <h4>
     <span style="color:#be191c">
      cycle-&gt;conf_file.data + cycle-&gt;conf_file.len - 1
     </span>
     <span style="color:#333333">
      指向这个路径字符串的最后一个字节
     </span>
    </h4>
    <h4>
     <span style="color:#333333">
      从最后一个字符向第一个字符遍历
     </span>
    </h4>
    <h4>
     <span style="color:#be191c">
      if (ngx_path_separator(*p)) {
     </span>
     <span style="color:#0d0016">
      判断当前这个字符是否是分隔符
     </span>
     <strong>
      <span style="color:#be191c">
       /
      </span>
     </strong>
    </h4>
    <h4>
     <span style="color:#0d0016">
      这个 分隔符后面是 配置文件的文件名，前面是配置文件的目录
     </span>
    </h4>
    <h4>
     将
     <span style="color:#be191c">
      cycle-&gt;conf_file.data
     </span>
     <span style="color:#0d0016">
      的地址赋给
     </span>
     <span style="color:#be191c">
      cycle-&gt;conf_prefix.data
     </span>
    </h4>
    <h4>
     <span style="color:#0d0016">
      从这个地址开始
     </span>
     <span style="color:#be191c">
      len
     </span>
     <span style="color:#0d0016">
      个字符是
     </span>
     <span style="color:#be191c">
     </span>
     <span style="color:#0d0016">
      配置文件所在的目录
     </span>
    </h4>
    <h4>
    </h4>
    <h4>
     于是
    </h4>
    <h4>
     <span style="color:#be191c">
      cycle-&gt;conf_file.data(0x5bfbfeaf3e50) = cycle-&gt;conf_prefix.data(0x5bfbfeaf3e50)
     </span>
    </h4>
    <h4>
     这2个地址一样
    </h4>
    <h4>
     <span style="color:#be191c">
      cycle-&gt;conf_file.len=38
      <br/>
      cycle-&gt;conf_file.data=/home/wsd/桌面/nginx/conf/nginx.conf
      <br/>
      <br/>
      cycle-&gt;conf_prefix.len=28
      <br/>
      cycle-&gt;conf_prefix.data=/home/wsd/桌面/nginx/conf/
     </span>
    </h4>
    <h4>
     <span style="color:#0d0016">
      就是
     </span>
     <span style="color:#be191c">
      cycle-&gt;conf_file.data
     </span>
     <span style="color:#0d0016">
      的前
     </span>
     <span style="color:#be191c">
      28
     </span>
     <span style="color:#0d0016">
      个字节
     </span>
    </h4>
    <h4>
    </h4>
    <h4>
     <span style="color:#0d0016">
      接下来是：
     </span>
    </h4>
    <pre><code>if (ngx_error_log) {
        cycle-&gt;error_log.len = ngx_strlen(ngx_error_log);
        cycle-&gt;error_log.data = ngx_error_log;

    } else {
        ngx_str_set(&amp;cycle-&gt;error_log, NGX_ERROR_LOG_PATH);
    }</code></pre>
    <h4>
     <span style="color:#0d0016">
      当前
     </span>
     <span style="color:#be191c">
      ngx_error_log=null
     </span>
     <span style="color:#333333">
      还没有设置它
     </span>
    </h4>
    <h4>
     <span style="color:#333333">
      所以进入
     </span>
     <span style="color:#be191c">
      else
     </span>
    </h4>
    <h4>
     <span style="color:#0d0016">
      把 默认值
     </span>
     <span style="color:#be191c">
      NGX_ERROR_LOG_PATH(/home/wsd/桌面/nginx/LOG/error.log)
     </span>
    </h4>
    <h4>
     设置给
     <span style="color:#be191c">
      cycle-&gt;error_log
     </span>
    </h4>
    <h4>
    </h4>
    <h4>
     <span style="color:#0d0016">
      接下来是：
     </span>
    </h4>
    <pre><code>    if (ngx_conf_params) {
        cycle-&gt;conf_param.len = ngx_strlen(ngx_conf_params);
        cycle-&gt;conf_param.data = ngx_conf_params;
    }</code></pre>
    <h4>
     <span style="color:#be191c">
      ngx_conf_params
     </span>
     没有设置是
     <span style="color:#be191c">
      null
     </span>
    </h4>
    <h4>
     所以跳过这段代码
    </h4>
    <pre><code>if (ngx_test_config) {
        cycle-&gt;log-&gt;log_level = NGX_LOG_INFO;
    }
</code></pre>
    <h4>
     <span style="color:#be191c">
      ngx_test_config
     </span>
     是
     <span style="color:#be191c">
      0
     </span>
    </h4>
    <h4>
     <span style="color:#333333">
      所以跳过这段代码
     </span>
    </h4>
    <pre><code>  return NGX_OK;</code></pre>
    <h4>
     返回结果
    </h4>
    <hr/>
    <h4>
     回到
     <span style="color:#be191c">
      main
     </span>
     函数中
    </h4>
    <h4>
     <span style="color:#0d0016">
      接下来是：
     </span>
    </h4>
    <pre><code>   if (ngx_os_init(log) != NGX_OK) {
        return 1;
    }</code></pre>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145757169" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_os_init 函数-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_os_init 函数-CSDN博客
      </a>
     </h4>
    </blockquote>
    <h4>
     进入
     <span style="color:#be191c">
      ngx_os_init
     </span>
    </h4>
    <pre><code>ngx_int_t
ngx_os_init(ngx_log_t *log)
{
    ngx_time_t  *tp;
    ngx_uint_t   n;
#if (NGX_HAVE_LEVEL1_DCACHE_LINESIZE)
    long         size;
#endif

#if (NGX_HAVE_OS_SPECIFIC_INIT)
    if (ngx_os_specific_init(log) != NGX_OK) {
        return NGX_ERROR;
    }
#endif</code></pre>
    <h4>
     <span style="color:#0d0016">
      调用
     </span>
     <span style="color:#be191c">
      ngx_os_specific_init
     </span>
     <span style="color:#0d0016">
      函数
     </span>
    </h4>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145758725?sharetype=blogdetail&amp;sharerId=145758725&amp;sharerefer=PC&amp;sharesource=weixin_41812346&amp;spm=1011.2480.3001.8118" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_os_specific_init函数-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_os_specific_init函数-CSDN博客
      </a>
     </h4>
    </blockquote>
    <h4>
     进入
     <span style="color:#be191c">
      ngx_os_specific_init
     </span>
     <span style="color:#0d0016">
     </span>
    </h4>
    <pre><code>ngx_int_t
ngx_os_specific_init(ngx_log_t *log)
{
    struct utsname  u;

    if (uname(&amp;u) == -1) {
        ngx_log_error(NGX_LOG_ALERT, log, ngx_errno, "uname() failed");
        return NGX_ERROR;
    }</code></pre>
    <h4>
     调用
     <span style="color:#be191c">
      uname
     </span>
     获取系统信息
    </h4>
    <h4>
     这次获得的系统信息如下：
    </h4>
    <blockquote>
     <h4>
      // 操作系统名称
     </h4>
     <h4>
      u.sysname=Linux
     </h4>
     <h4>
     </h4>
     <h4>
      //主机名
      <br/>
      u.nodename=wsd-vm
     </h4>
     <h4>
     </h4>
     <h4>
      //操作系统发行版本
      <br/>
      u.release=6.8.0-52-generic
     </h4>
     <h4>
     </h4>
     <h4>
      // 操作系统版本信息
      <br/>
      u.version=#53~22.04.1-Ubuntu SMP PREEMPT_DYNAMIC Wed Jan 15 19:18:46 UTC 2
     </h4>
     <h4>
     </h4>
     <h4>
      // 硬件架构
      <br/>
      u.machine=x86_64
     </h4>
    </blockquote>
    <h4>
     <span style="color:#0d0016">
      接下来是：
     </span>
    </h4>
    <pre><code>    (void) ngx_cpystrn(ngx_linux_kern_ostype, (u_char *) u.sysname,
                       sizeof(ngx_linux_kern_ostype));

    (void) ngx_cpystrn(ngx_linux_kern_osrelease, (u_char *) u.release,
                       sizeof(ngx_linux_kern_osrelease));</code></pre>
    <h4>
     复制
     <span style="color:#be191c">
      u.sysname
     </span>
     和
     <span style="color:#be191c">
      u.release
     </span>
     存储到全局变量
     <span style="color:#be191c">
      ngx_linux_kern_ostype
     </span>
     和
     <span style="color:#be191c">
      ngx_linux_kern_osrelease
     </span>
    </h4>
    <pre><code>   ngx_os_io = ngx_linux_io;

    return NGX_OK;</code></pre>
    <h4>
     <strong>
      <code>
       设置
       <span style="color:#be191c">
        ngx_os_io
       </span>
      </code>
      <span style="color:#be191c">
      </span>
     </strong>
    </h4>
    <h4>
     <strong>
      <span style="color:#333333">
       然后返回结果
      </span>
     </strong>
    </h4>
    <hr/>
    <h4>
     <span style="color:#0d0016">
      回到
     </span>
     <span style="color:#be191c">
      ngx_os_init
     </span>
    </h4>
    <h4>
     <span style="color:#0d0016">
      接下来是：
     </span>
    </h4>
    <pre><code>   if (ngx_init_setproctitle(log) != NGX_OK) {
        return NGX_ERROR;
    }</code></pre>
    <h4>
     调用
     <span style="color:#be191c">
      ngx_init_setproctitle
     </span>
    </h4>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145763055" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_init_setproctitle函数-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_init_setproctitle函数-CSDN博客
      </a>
     </h4>
    </blockquote>
    <h4>
     进入
     <span style="color:#be191c">
      ngx_init_setproctitle
     </span>
    </h4>
    <pre><code>ngx_int_t
ngx_init_setproctitle(ngx_log_t *log)
{
    u_char      *p;
    size_t       size;
    ngx_uint_t   i;

    size = 0;

    for (i = 0; environ[i]; i++) {
        size += ngx_strlen(environ[i]) + 1;
    }</code></pre>
    <h4>
     遍历 环境变量
    </h4>
    <h4>
     <span style="color:#be191c">
      ngx_strlen(environ[i]) + 1;
     </span>
    </h4>
    <h4>
     是当前这个环境变量占用的内存字节数量（字符串长度 + 字符串结束标志 '\0'）
    </h4>
    <h4>
     累加到
     <span style="color:#be191c">
      size
     </span>
     中，最终
     <span style="color:#be191c">
      size
     </span>
     的值是整个环境变量占据的字节数量
    </h4>
    <h4>
     这次的执行情况：
    </h4>
    <blockquote>
     <h4>
      i=0
      <br/>
      environ[0]="COLORTERM=truecolor"
      <br/>
      ngx_strlen(environ[0]) + 1  =20
      <br/>
      size=20
     </h4>
     <h4>
      i=1
      <br/>
      environ[1]="LANGUAGE=zh_CN:en"
      <br/>
      ngx_strlen(environ[1]) + 1  =18
      <br/>
      size=38
     </h4>
     <h4>
      i=2
      <br/>
      environ[2]="LC_ADDRESS=zh_CN.UTF-8"
      <br/>
      ngx_strlen(environ[2]) + 1  =23
      <br/>
      size=61
     </h4>
     <h4>
      i=3
      <br/>
      environ[3]="LC_NAME=zh_CN.UTF-8"
      <br/>
      ngx_strlen(environ[3]) + 1  =20
      <br/>
      size=81
     </h4>
     <h4>
      i=4
      <br/>
      environ[4]="LC_MONETARY=zh_CN.UTF-8"
      <br/>
      ngx_strlen(environ[4]) + 1  =24
      <br/>
      size=105
     </h4>
     <h4>
      i=5
      <br/>
      environ[5]="XAUTHORITY=/run/user/1000/.mutter-Xwaylandauth.SUZ122"
      <br/>
      ngx_strlen(environ[5]) + 1  =54
      <br/>
      size=159
     </h4>
     <h4>
      i=6
      <br/>
      environ[6]="LC_PAPER=zh_CN.UTF-8"
      <br/>
      ngx_strlen(environ[6]) + 1  =21
      <br/>
      size=180
     </h4>
     <h4>
      i=7
      <br/>
      environ[7]="LANG=zh_CN.UTF-8"
      <br/>
      ngx_strlen(environ[7]) + 1  =17
      <br/>
      size=197
     </h4>
     <h4>
      i=8
      <br/>
      environ[8]="LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:"
      <br/>
      ngx_strlen(environ[8]) + 1  =1519
      <br/>
      size=1716
     </h4>
     <h4>
      i=9
      <br/>
      environ[9]="XDG_CURRENT_DESKTOP=ubuntu:GNOME"
      <br/>
      ngx_strlen(environ[9]) + 1  =33
      <br/>
      size=1749
     </h4>
     <h4>
      i=10
      <br/>
      environ[10]="TERM=xterm-256color"
      <br/>
      ngx_strlen(environ[10]) + 1  =20
      <br/>
      size=1769
     </h4>
     <h4>
      i=11
      <br/>
      environ[11]="LC_IDENTIFICATION=zh_CN.UTF-8"
      <br/>
      ngx_strlen(environ[11]) + 1  =30
      <br/>
      size=1799
     </h4>
     <h4>
      i=12
      <br/>
      environ[12]="DISPLAY=:0"
      <br/>
      ngx_strlen(environ[12]) + 1  =11
      <br/>
      size=1810
     </h4>
     <h4>
      i=13
      <br/>
      environ[13]="LC_TELEPHONE=zh_CN.UTF-8"
      <br/>
      ngx_strlen(environ[13]) + 1  =25
      <br/>
      size=1835
     </h4>
     <h4>
      i=14
      <br/>
      environ[14]="LC_MEASUREMENT=zh_CN.UTF-8"
      <br/>
      ngx_strlen(environ[14]) + 1  =27
      <br/>
      size=1862
     </h4>
     <h4>
      i=15
      <br/>
      environ[15]="LC_TIME=zh_CN.UTF-8"
      <br/>
      ngx_strlen(environ[15]) + 1  =20
      <br/>
      size=1882
     </h4>
     <h4>
      i=16
      <br/>
      environ[16]="PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin"
      <br/>
      ngx_strlen(environ[16]) + 1  =76
      <br/>
      size=1958
     </h4>
     <h4>
      i=17
      <br/>
      environ[17]="LC_NUMERIC=zh_CN.UTF-8"
      <br/>
      ngx_strlen(environ[17]) + 1  =23
      <br/>
      size=1981
     </h4>
     <h4>
      i=18
      <br/>
      environ[18]="MAIL=/var/mail/root"
      <br/>
      ngx_strlen(environ[18]) + 1  =20
      <br/>
      size=2001
     </h4>
     <h4>
      i=19
      <br/>
      environ[19]="LOGNAME=root"
      <br/>
      ngx_strlen(environ[19]) + 1  =13
      <br/>
      size=2014
     </h4>
     <h4>
      i=20
      <br/>
      environ[20]="USER=root"
      <br/>
      ngx_strlen(environ[20]) + 1  =10
      <br/>
      size=2024
     </h4>
     <h4>
      i=21
      <br/>
      environ[21]="HOME=/root"
      <br/>
      ngx_strlen(environ[21]) + 1  =11
      <br/>
      size=2035
     </h4>
     <h4>
      i=22
      <br/>
      environ[22]="SHELL=/bin/bash"
      <br/>
      ngx_strlen(environ[22]) + 1  =16
      <br/>
      size=2051
     </h4>
     <h4>
      i=23
      <br/>
      environ[23]="SUDO_COMMAND=./nginx"
      <br/>
      ngx_strlen(environ[23]) + 1  =21
      <br/>
      size=2072
     </h4>
     <h4>
      i=24
      <br/>
      environ[24]="SUDO_USER=wsd"
      <br/>
      ngx_strlen(environ[24]) + 1  =14
      <br/>
      size=2086
     </h4>
     <h4>
      i=25
      <br/>
      environ[25]="SUDO_UID=1000"
      <br/>
      ngx_strlen(environ[25]) + 1  =14
      <br/>
      size=2100
     </h4>
     <h4>
      i=26
      <br/>
      environ[26]="SUDO_GID=1000"
      <br/>
      ngx_strlen(environ[26]) + 1  =14
      <br/>
      size=2114
     </h4>
    </blockquote>
    <h4>
     <span style="color:#0d0016">
      接下来是：
     </span>
    </h4>
    <pre><code>   p = ngx_alloc(size, log);
    if (p == NULL) {
        return NGX_ERROR;
    }</code></pre>
    <h4>
     为环境变量分配内存，环境变量将要迁移到新分配的内存中
    </h4>
    <h4>
     此次运行的情况：
    </h4>
    <blockquote>
     <h4>
      p = ngx_alloc(size=2114, log);
     </h4>
     <h4>
      p=0x654273b10f20
     </h4>
    </blockquote>
    <h4>
     <span style="color:#0d0016">
      接下来是：
     </span>
    </h4>
    <pre><code>    ngx_os_argv_last = ngx_os_argv[0];</code></pre>
    <h4>
     <span style="color:#be191c">
      <code>
       ngx_os_argv_last
      </code>
     </span>
     将用于标记命令行参数可用的边界
    </h4>
    <h4>
     <span style="color:#be191c">
      <code>
       ngx_os_argv[0]
      </code>
     </span>
     是存储参数的那片内存的首地址
    </h4>
    <h4>
    </h4>
    <h4>
     <span style="color:#0d0016">
      接下来是：
     </span>
    </h4>
    <pre><code>for (i = 0; ngx_os_argv[i]; i++) {
        if (ngx_os_argv_last == ngx_os_argv[i]) {
            ngx_os_argv_last = ngx_os_argv[i] + ngx_strlen(ngx_os_argv[i]) + 1;
        }
    }</code></pre>
    <h4>
     循环，每次循环获取下一个参数的首地址，直到这个地址为
     <span style="color:#be191c">
      null
     </span>
     ,
    </h4>
    <h4>
     <span style="color:#be191c">
      null
     </span>
     是标记，意味着到此为止，后面没有更多的参数了
    </h4>
    <h4>
     <span style="color:#be191c">
      ngx_os_argv[i]
     </span>
     是参数首地址，
     <span style="color:#be191c">
      ngx_strlen(ngx_os_argv[i])
     </span>
     是参数的长度，最后再
     <span style="color:#be191c">
      + 1
     </span>
     ，就越过了这个参数的最后一个字节成了下一个参数的最后一个字节
    </h4>
    <h4>
     所以下一次循环时
     <span style="color:#be191c">
      ngx_os_argv[i]
     </span>
     是下一个参数的首地址 等于 上一次循环被重新赋值的
     <span style="color:#be191c">
      <code>
       ngx_os_argv_last
      </code>
     </span>
    </h4>
    <h4>
     <span style="color:#333333">
      这样
     </span>
     <span style="color:#be191c">
      <code>
       ngx_os_argv_last
      </code>
     </span>
     的值在不断的向后移动，直到它等于存贮参数的内存的最后一个字节的下一个字节（也是环境变量的第一个字节）
    </h4>
    <h4>
     此次的执行情况是：
    </h4>
    <blockquote>
     <h4>
      i=0
      <br/>
      ngx_os_argv_last(0x7ffecc4747a6) == ngx_os_argv[0](0x7ffecc4747a6)
      <br/>
      ngx_os_argv_last(0x7ffecc4747ae) = ngx_os_argv[0] + ngx_strlen(ngx_os_argv[0])(7) + 1;
     </h4>
    </blockquote>
    <h4>
     因为此次运行时没有给命令行参数，所以 只有一个参数，也就是运行的程序名
    </h4>
    <h4>
    </h4>
    <h4>
     <span style="color:#0d0016">
      接下来是：
     </span>
    </h4>
    <pre><code>for (i = 0; environ[i]; i++) {
        if (ngx_os_argv_last == environ[i]) {

            size = ngx_strlen(environ[i]) + 1;
            ngx_os_argv_last = environ[i] + size;

            ngx_cpystrn(p, (u_char *) environ[i], size);
            environ[i] = (char *) p;
            p += size;
        }
    }</code></pre>
    <h4>
     现在
     <span style="color:#be191c">
      <code>
       ngx_os_argv_last
      </code>
     </span>
     等于环境变量的首地址
    </h4>
    <h4>
     循环逻辑与上一个循环相同
    </h4>
    <h4>
     <span style="color:#be191c">
      <code>
       ngx_os_argv_last
      </code>
     </span>
     逐渐向后移
    </h4>
    <h4>
     每次遍历还会将 环境变量依次迁移到新分配的内存
    </h4>
    <h4>
     此次的运行情况：
    </h4>
    <blockquote>
     <h4>
      i=0
      <br/>
      ngx_os_argv_last(=0x7ffde3e967ae) == environ[0](=0x7ffde3e967ae)
      <br/>
      size(=20) = ngx_strlen(environ[0])(=19) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e967c2) = environ[0](=0x7ffde3e967ae) + size(=20);
      <br/>
      ngx_cpystrn(0x62a807451f20, 0x7ffde3e967ae, 20);
      <br/>
      environ[0](=0x62a807451f20) = (char *) p(=0x62a807451f20);
      <br/>
      p(=0x62a807451f34) += size(=20);
     </h4>
     <h4>
     </h4>
     <h4>
      i=1
      <br/>
      ngx_os_argv_last(=0x7ffde3e967c2) == environ[1](=0x7ffde3e967c2)
      <br/>
      size(=18) = ngx_strlen(environ[1])(=17) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e967d4) = environ[1](=0x7ffde3e967c2) + size(=18);
      <br/>
      ngx_cpystrn(0x62a807451f34, 0x7ffde3e967c2, 18);
      <br/>
      environ[1](=0x62a807451f34) = (char *) p(=0x62a807451f34);
      <br/>
      p(=0x62a807451f46) += size(=18);
     </h4>
     <h4>
     </h4>
     <h4>
      i=2
      <br/>
      ngx_os_argv_last(=0x7ffde3e967d4) == environ[2](=0x7ffde3e967d4)
      <br/>
      size(=23) = ngx_strlen(environ[2])(=22) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e967eb) = environ[2](=0x7ffde3e967d4) + size(=23);
      <br/>
      ngx_cpystrn(0x62a807451f46, 0x7ffde3e967d4, 23);
      <br/>
      environ[2](=0x62a807451f46) = (char *) p(=0x62a807451f46);
      <br/>
      p(=0x62a807451f5d) += size(=23);
     </h4>
     <h4>
     </h4>
     <h4>
      i=3
      <br/>
      ngx_os_argv_last(=0x7ffde3e967eb) == environ[3](=0x7ffde3e967eb)
      <br/>
      size(=20) = ngx_strlen(environ[3])(=19) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e967ff) = environ[3](=0x7ffde3e967eb) + size(=20);
      <br/>
      ngx_cpystrn(0x62a807451f5d, 0x7ffde3e967eb, 20);
      <br/>
      environ[3](=0x62a807451f5d) = (char *) p(=0x62a807451f5d);
      <br/>
      p(=0x62a807451f71) += size(=20);
     </h4>
     <h4>
     </h4>
     <h4>
      i=4
      <br/>
      ngx_os_argv_last(=0x7ffde3e967ff) == environ[4](=0x7ffde3e967ff)
      <br/>
      size(=24) = ngx_strlen(environ[4])(=23) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e96817) = environ[4](=0x7ffde3e967ff) + size(=24);
      <br/>
      ngx_cpystrn(0x62a807451f71, 0x7ffde3e967ff, 24);
      <br/>
      environ[4](=0x62a807451f71) = (char *) p(=0x62a807451f71);
      <br/>
      p(=0x62a807451f89) += size(=24);
     </h4>
     <h4>
     </h4>
     <h4>
      i=5
      <br/>
      ngx_os_argv_last(=0x7ffde3e96817) == environ[5](=0x7ffde3e96817)
      <br/>
      size(=54) = ngx_strlen(environ[5])(=53) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e9684d) = environ[5](=0x7ffde3e96817) + size(=54);
      <br/>
      ngx_cpystrn(0x62a807451f89, 0x7ffde3e96817, 54);
      <br/>
      environ[5](=0x62a807451f89) = (char *) p(=0x62a807451f89);
      <br/>
      p(=0x62a807451fbf) += size(=54);
     </h4>
     <h4>
     </h4>
     <h4>
      i=6
      <br/>
      ngx_os_argv_last(=0x7ffde3e9684d) == environ[6](=0x7ffde3e9684d)
      <br/>
      size(=21) = ngx_strlen(environ[6])(=20) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e96862) = environ[6](=0x7ffde3e9684d) + size(=21);
      <br/>
      ngx_cpystrn(0x62a807451fbf, 0x7ffde3e9684d, 21);
      <br/>
      environ[6](=0x62a807451fbf) = (char *) p(=0x62a807451fbf);
      <br/>
      p(=0x62a807451fd4) += size(=21);
     </h4>
     <h4>
     </h4>
     <h4>
      i=7
      <br/>
      ngx_os_argv_last(=0x7ffde3e96862) == environ[7](=0x7ffde3e96862)
      <br/>
      size(=17) = ngx_strlen(environ[7])(=16) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e96873) = environ[7](=0x7ffde3e96862) + size(=17);
      <br/>
      ngx_cpystrn(0x62a807451fd4, 0x7ffde3e96862, 17);
      <br/>
      environ[7](=0x62a807451fd4) = (char *) p(=0x62a807451fd4);
      <br/>
      p(=0x62a807451fe5) += size(=17);
     </h4>
     <h4>
     </h4>
     <h4>
      i=8
      <br/>
      ngx_os_argv_last(=0x7ffde3e96873) == environ[8](=0x7ffde3e96873)
      <br/>
      size(=1519) = ngx_strlen(environ[8])(=1518) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e96e62) = environ[8](=0x7ffde3e96873) + size(=1519);
      <br/>
      ngx_cpystrn(0x62a807451fe5, 0x7ffde3e96873, 1519);
      <br/>
      environ[8](=0x62a807451fe5) = (char *) p(=0x62a807451fe5);
      <br/>
      p(=0x62a8074525d4) += size(=1519);
     </h4>
     <h4>
     </h4>
     <h4>
      i=9
      <br/>
      ngx_os_argv_last(=0x7ffde3e96e62) == environ[9](=0x7ffde3e96e62)
      <br/>
      size(=33) = ngx_strlen(environ[9])(=32) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e96e83) = environ[9](=0x7ffde3e96e62) + size(=33);
      <br/>
      ngx_cpystrn(0x62a8074525d4, 0x7ffde3e96e62, 33);
      <br/>
      environ[9](=0x62a8074525d4) = (char *) p(=0x62a8074525d4);
      <br/>
      p(=0x62a8074525f5) += size(=33);
     </h4>
     <h4>
     </h4>
     <h4>
      i=10
      <br/>
      ngx_os_argv_last(=0x7ffde3e96e83) == environ[10](=0x7ffde3e96e83)
      <br/>
      size(=20) = ngx_strlen(environ[10])(=19) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e96e97) = environ[10](=0x7ffde3e96e83) + size(=20);
      <br/>
      ngx_cpystrn(0x62a8074525f5, 0x7ffde3e96e83, 20);
      <br/>
      environ[10](=0x62a8074525f5) = (char *) p(=0x62a8074525f5);
      <br/>
      p(=0x62a807452609) += size(=20);
     </h4>
     <h4>
     </h4>
     <h4>
      i=11
      <br/>
      ngx_os_argv_last(=0x7ffde3e96e97) == environ[11](=0x7ffde3e96e97)
      <br/>
      size(=30) = ngx_strlen(environ[11])(=29) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e96eb5) = environ[11](=0x7ffde3e96e97) + size(=30);
      <br/>
      ngx_cpystrn(0x62a807452609, 0x7ffde3e96e97, 30);
      <br/>
      environ[11](=0x62a807452609) = (char *) p(=0x62a807452609);
      <br/>
      p(=0x62a807452627) += size(=30);
     </h4>
     <h4>
     </h4>
     <h4>
      i=12
      <br/>
      ngx_os_argv_last(=0x7ffde3e96eb5) == environ[12](=0x7ffde3e96eb5)
      <br/>
      size(=11) = ngx_strlen(environ[12])(=10) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e96ec0) = environ[12](=0x7ffde3e96eb5) + size(=11);
      <br/>
      ngx_cpystrn(0x62a807452627, 0x7ffde3e96eb5, 11);
      <br/>
      environ[12](=0x62a807452627) = (char *) p(=0x62a807452627);
      <br/>
      p(=0x62a807452632) += size(=11);
     </h4>
     <h4>
     </h4>
     <h4>
      i=13
      <br/>
      ngx_os_argv_last(=0x7ffde3e96ec0) == environ[13](=0x7ffde3e96ec0)
      <br/>
      size(=25) = ngx_strlen(environ[13])(=24) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e96ed9) = environ[13](=0x7ffde3e96ec0) + size(=25);
      <br/>
      ngx_cpystrn(0x62a807452632, 0x7ffde3e96ec0, 25);
      <br/>
      environ[13](=0x62a807452632) = (char *) p(=0x62a807452632);
      <br/>
      p(=0x62a80745264b) += size(=25);
     </h4>
     <h4>
     </h4>
     <h4>
      i=14
      <br/>
      ngx_os_argv_last(=0x7ffde3e96ed9) == environ[14](=0x7ffde3e96ed9)
      <br/>
      size(=27) = ngx_strlen(environ[14])(=26) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e96ef4) = environ[14](=0x7ffde3e96ed9) + size(=27);
      <br/>
      ngx_cpystrn(0x62a80745264b, 0x7ffde3e96ed9, 27);
      <br/>
      environ[14](=0x62a80745264b) = (char *) p(=0x62a80745264b);
      <br/>
      p(=0x62a807452666) += size(=27);
     </h4>
     <h4>
     </h4>
     <h4>
      i=15
      <br/>
      ngx_os_argv_last(=0x7ffde3e96ef4) == environ[15](=0x7ffde3e96ef4)
      <br/>
      size(=20) = ngx_strlen(environ[15])(=19) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e96f08) = environ[15](=0x7ffde3e96ef4) + size(=20);
      <br/>
      ngx_cpystrn(0x62a807452666, 0x7ffde3e96ef4, 20);
      <br/>
      environ[15](=0x62a807452666) = (char *) p(=0x62a807452666);
      <br/>
      p(=0x62a80745267a) += size(=20);
     </h4>
     <h4>
     </h4>
     <h4>
      i=16
      <br/>
      ngx_os_argv_last(=0x7ffde3e96f08) == environ[16](=0x7ffde3e96f08)
      <br/>
      size(=76) = ngx_strlen(environ[16])(=75) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e96f54) = environ[16](=0x7ffde3e96f08) + size(=76);
      <br/>
      ngx_cpystrn(0x62a80745267a, 0x7ffde3e96f08, 76);
      <br/>
      environ[16](=0x62a80745267a) = (char *) p(=0x62a80745267a);
      <br/>
      p(=0x62a8074526c6) += size(=76);
     </h4>
     <h4>
     </h4>
     <h4>
      i=17
      <br/>
      ngx_os_argv_last(=0x7ffde3e96f54) == environ[17](=0x7ffde3e96f54)
      <br/>
      size(=23) = ngx_strlen(environ[17])(=22) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e96f6b) = environ[17](=0x7ffde3e96f54) + size(=23);
      <br/>
      ngx_cpystrn(0x62a8074526c6, 0x7ffde3e96f54, 23);
      <br/>
      environ[17](=0x62a8074526c6) = (char *) p(=0x62a8074526c6);
      <br/>
      p(=0x62a8074526dd) += size(=23);
     </h4>
     <h4>
     </h4>
     <h4>
      i=18
      <br/>
      ngx_os_argv_last(=0x7ffde3e96f6b) == environ[18](=0x7ffde3e96f6b)
      <br/>
      size(=20) = ngx_strlen(environ[18])(=19) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e96f7f) = environ[18](=0x7ffde3e96f6b) + size(=20);
      <br/>
      ngx_cpystrn(0x62a8074526dd, 0x7ffde3e96f6b, 20);
      <br/>
      environ[18](=0x62a8074526dd) = (char *) p(=0x62a8074526dd);
      <br/>
      p(=0x62a8074526f1) += size(=20);
     </h4>
     <h4>
     </h4>
     <h4>
      i=19
      <br/>
      ngx_os_argv_last(=0x7ffde3e96f7f) == environ[19](=0x7ffde3e96f7f)
      <br/>
      size(=13) = ngx_strlen(environ[19])(=12) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e96f8c) = environ[19](=0x7ffde3e96f7f) + size(=13);
      <br/>
      ngx_cpystrn(0x62a8074526f1, 0x7ffde3e96f7f, 13);
      <br/>
      environ[19](=0x62a8074526f1) = (char *) p(=0x62a8074526f1);
      <br/>
      p(=0x62a8074526fe) += size(=13);
     </h4>
     <h4>
     </h4>
     <h4>
      i=20
      <br/>
      ngx_os_argv_last(=0x7ffde3e96f8c) == environ[20](=0x7ffde3e96f8c)
      <br/>
      size(=10) = ngx_strlen(environ[20])(=9) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e96f96) = environ[20](=0x7ffde3e96f8c) + size(=10);
      <br/>
      ngx_cpystrn(0x62a8074526fe, 0x7ffde3e96f8c, 10);
      <br/>
      environ[20](=0x62a8074526fe) = (char *) p(=0x62a8074526fe);
      <br/>
      p(=0x62a807452708) += size(=10);
     </h4>
     <h4>
     </h4>
     <h4>
      i=21
      <br/>
      ngx_os_argv_last(=0x7ffde3e96f96) == environ[21](=0x7ffde3e96f96)
      <br/>
      size(=11) = ngx_strlen(environ[21])(=10) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e96fa1) = environ[21](=0x7ffde3e96f96) + size(=11);
      <br/>
      ngx_cpystrn(0x62a807452708, 0x7ffde3e96f96, 11);
      <br/>
      environ[21](=0x62a807452708) = (char *) p(=0x62a807452708);
      <br/>
      p(=0x62a807452713) += size(=11);
     </h4>
     <h4>
     </h4>
     <h4>
      i=22
      <br/>
      ngx_os_argv_last(=0x7ffde3e96fa1) == environ[22](=0x7ffde3e96fa1)
      <br/>
      size(=16) = ngx_strlen(environ[22])(=15) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e96fb1) = environ[22](=0x7ffde3e96fa1) + size(=16);
      <br/>
      ngx_cpystrn(0x62a807452713, 0x7ffde3e96fa1, 16);
      <br/>
      environ[22](=0x62a807452713) = (char *) p(=0x62a807452713);
      <br/>
      p(=0x62a807452723) += size(=16);
     </h4>
     <h4>
     </h4>
     <h4>
      i=23
      <br/>
      ngx_os_argv_last(=0x7ffde3e96fb1) == environ[23](=0x7ffde3e96fb1)
      <br/>
      size(=21) = ngx_strlen(environ[23])(=20) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e96fc6) = environ[23](=0x7ffde3e96fb1) + size(=21);
      <br/>
      ngx_cpystrn(0x62a807452723, 0x7ffde3e96fb1, 21);
      <br/>
      environ[23](=0x62a807452723) = (char *) p(=0x62a807452723);
      <br/>
      p(=0x62a807452738) += size(=21);
     </h4>
     <h4>
     </h4>
     <h4>
      i=24
      <br/>
      ngx_os_argv_last(=0x7ffde3e96fc6) == environ[24](=0x7ffde3e96fc6)
      <br/>
      size(=14) = ngx_strlen(environ[24])(=13) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e96fd4) = environ[24](=0x7ffde3e96fc6) + size(=14);
      <br/>
      ngx_cpystrn(0x62a807452738, 0x7ffde3e96fc6, 14);
      <br/>
      environ[24](=0x62a807452738) = (char *) p(=0x62a807452738);
      <br/>
      p(=0x62a807452746) += size(=14);
     </h4>
     <h4>
     </h4>
     <h4>
      i=25
      <br/>
      ngx_os_argv_last(=0x7ffde3e96fd4) == environ[25](=0x7ffde3e96fd4)
      <br/>
      size(=14) = ngx_strlen(environ[25])(=13) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e96fe2) = environ[25](=0x7ffde3e96fd4) + size(=14);
      <br/>
      ngx_cpystrn(0x62a807452746, 0x7ffde3e96fd4, 14);
      <br/>
      environ[25](=0x62a807452746) = (char *) p(=0x62a807452746);
      <br/>
      p(=0x62a807452754) += size(=14);
     </h4>
     <h4>
     </h4>
     <h4>
      i=26
      <br/>
      ngx_os_argv_last(=0x7ffde3e96fe2) == environ[26](=0x7ffde3e96fe2)
      <br/>
      size(=14) = ngx_strlen(environ[26])(=13) + 1;
      <br/>
      ngx_os_argv_last(=0x7ffde3e96ff0) = environ[26](=0x7ffde3e96fe2) + size(=14);
      <br/>
      ngx_cpystrn(0x62a807452754, 0x7ffde3e96fe2, 14);
      <br/>
      environ[26](=0x62a807452754) = (char *) p(=0x62a807452754);
      <br/>
      p(=0x62a807452762) += size(=14);
     </h4>
    </blockquote>
    <h4>
     <span style="color:#0d0016">
      接下来是：
     </span>
    </h4>
    <pre><code>ngx_os_argv_last--;

    return NGX_OK;</code></pre>
    <h4>
     <span style="color:#be191c">
      ngx_os_argv_last
     </span>
     <span style="color:#0d0016">
      的值
     </span>
     <span style="color:#be191c">
      -1，
     </span>
     <span style="color:#333333">
      指向原来存放环境变量的那片内存的最后一个字节
     </span>
    </h4>
    <h4>
     然后返回
    </h4>
    <hr/>
    <h4>
     <span style="color:#0d0016">
      回到
     </span>
     <span style="color:#be191c">
      ngx_os_init
     </span>
    </h4>
    <h4>
     <span style="color:#0d0016">
      接下来是：
     </span>
    </h4>
    <pre><code>ngx_pagesize = getpagesize();</code></pre>
    <h4>
     获取 当前系统一页的大小是多少字节
    </h4>
    <h4>
     此次的情况
    </h4>
    <blockquote>
     <h4>
      ngx_pagesize=4096
     </h4>
    </blockquote>
    <pre><code>   ngx_cacheline_size = NGX_CPU_CACHE_LINE;</code></pre>
    <h4>
     存储 CPU 缓存行大小，默认值为
     <span style="color:#be191c">
      <code>
       NGX_CPU_CACHE_LINE
      </code>
     </span>
    </h4>
    <h4>
     目前的情况：
    </h4>
    <blockquote>
     <h4>
      ngx_cacheline_size=64
     </h4>
    </blockquote>
    <pre><code>for (n = ngx_pagesize; n &gt;&gt;= 1; ngx_pagesize_shift++) { /* void */ }</code></pre>
    <h4>
     计算页面大小的对数（
     <span style="color:#be191c">
      <code>
       ngx_pagesize_shift
      </code>
     </span>
     ），即页面大小是 2 的多少次幂。
    </h4>
    <h4>
     例如，4KB 的页面大小对应
     <code>
      ngx_pagesize_shift = 12
     </code>
    </h4>
    <h4>
     <span style="color:#0d0016">
      <code>
       此次的情况:
      </code>
     </span>
    </h4>
    <blockquote>
     <h4>
      <span style="color:#0d0016">
       <code>
        ngx_pagesize_shift=12
       </code>
      </span>
     </h4>
    </blockquote>
    <pre><code>  if (ngx_ncpu == 0) {
        ngx_ncpu = sysconf(_SC_NPROCESSORS_ONLN);
    }</code></pre>
    <h4>
     获取当前系统在线的 CPU 核心数
    </h4>
    <h4>
     此次的情况是：
    </h4>
    <blockquote>
     <h4>
      ngx_ncpu=2
     </h4>
    </blockquote>
    <h4>
    </h4>
    <pre><code>    if (ngx_ncpu &lt; 1) {
        ngx_ncpu = 1;
    }</code></pre>
    <h4>
     条件不成立，跳过这段代码
    </h4>
    <pre><code>    size = sysconf(_SC_LEVEL1_DCACHE_LINESIZE);
    if (size &gt; 0) {
        ngx_cacheline_size = size;
    }</code></pre>
    <h4>
     <strong>
      <span style="color:#be191c">
       <code>
        sysconf(_SC_LEVEL1_DCACHE_LINESIZE)
       </code>
      </span>
     </strong>
     ：获取一级缓存行大小
    </h4>
    <h4>
     成功就更新
     <span style="color:#be191c">
      ngx_cacheline_size
     </span>
     ，之前的值是默认值
    </h4>
    <h4>
     此次的情况：
    </h4>
    <h4>
     获取成功，但获得的值和默认值一样
    </h4>
    <blockquote>
     <h4>
      ngx_cacheline_size=64
     </h4>
    </blockquote>
    <h4>
    </h4>
    <h4>
     <span style="color:#0d0016">
      接下来是：
     </span>
    </h4>
    <pre><code>    ngx_cpuinfo();</code></pre>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145775260?sharetype=blogdetail&amp;sharerId=145775260&amp;sharerefer=PC&amp;sharesource=weixin_41812346&amp;spm=1011.2480.3001.8118" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_cpuinfo 函数-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_cpuinfo 函数-CSDN博客
      </a>
     </h4>
    </blockquote>
    <h4>
     <span style="color:#0d0016">
      接下来是：
     </span>
    </h4>
    <pre><code>    if (getrlimit(RLIMIT_NOFILE, &amp;rlmt) == -1) {
        ngx_log_error(NGX_LOG_ALERT, log, errno,
                      "getrlimit(RLIMIT_NOFILE) failed");
        return NGX_ERROR;
    }

    ngx_max_sockets = (ngx_int_t) rlmt.rlim_cur;</code></pre>
    <h4>
     获取文件描述符数量的限制
    </h4>
    <h4>
     此次的情况是：
    </h4>
    <blockquote>
     <h4>
      ngx_max_sockets=1024
     </h4>
    </blockquote>
    <h4>
    </h4>
    <pre><code>#if (NGX_HAVE_INHERITED_NONBLOCK || NGX_HAVE_ACCEPT4)
    ngx_inherited_nonblocking = 1;
#else
    ngx_inherited_nonblocking = 0;
#endif</code></pre>
    <h4>
     <span style="color:#be191c">
      <strong>
       <code>
        ngx_inherited_nonblocking
       </code>
      </strong>
     </span>
     ：全局变量，指示当前环境是否支持继承非阻塞套接字
    </h4>
    <h4>
     当前情况：
    </h4>
    <blockquote>
     <h4>
      ngx_inherited_nonblocking=1
     </h4>
    </blockquote>
    <h4>
    </h4>
    <pre><code>   tp = ngx_timeofday();
    srandom(((unsigned) ngx_pid &lt;&lt; 16) ^ tp-&gt;sec ^ tp-&gt;msec);

    return NGX_OK;</code></pre>
    <h4>
     获取当前的时间缓存 用来 设置随机数种子
    </h4>
    <h4>
     返回 NGX_OK
    </h4>
    <hr/>
    <h4>
    </h4>
    <h4>
     回到
     <span style="color:#be191c">
      main
     </span>
     函数中
    </h4>
    <h4>
     <span style="color:#0d0016">
      接下来是：
     </span>
    </h4>
    <pre><code>    if (ngx_crc32_table_init() != NGX_OK) {
        return 1;
    }</code></pre>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145789192" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_crc32_table_init 函数-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_crc32_table_init 函数-CSDN博客
      </a>
     </h4>
    </blockquote>
    <h4>
    </h4>
    <pre><code>   ngx_slab_sizes_init();</code></pre>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145789290" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_slab_sizes_init 函数-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_slab_sizes_init 函数-CSDN博客
      </a>
     </h4>
    </blockquote>
    <h4>
     <span style="color:#0d0016">
      进入
     </span>
     <span style="color:#be191c">
      ngx_slab_sizes_init
     </span>
    </h4>
    <pre><code>void
ngx_slab_sizes_init(void)
{
    ngx_uint_t  n;

    ngx_slab_max_size = ngx_pagesize / 2;
    ngx_slab_exact_size = ngx_pagesize / (8 * sizeof(uintptr_t));
    for (n = ngx_slab_exact_size; n &gt;&gt;= 1; ngx_slab_exact_shift++) {
        /* void */
    }
}</code></pre>
    <h4>
     此次的情况是：
    </h4>
    <blockquote>
     <h4>
      ngx_slab_max_size=2048
      <br/>
      ngx_slab_exact_size=64
      <br/>
      ngx_slab_exact_shift=6
     </h4>
    </blockquote>
    <hr/>
    <h4>
    </h4>
    <h4>
     回到
     <span style="color:#be191c">
      main
     </span>
     函数中
    </h4>
    <h4>
     <span style="color:#0d0016">
      接下来是：
     </span>
    </h4>
    <pre><code>   if (ngx_add_inherited_sockets(&amp;init_cycle) != NGX_OK) {
        return 1;
    }</code></pre>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145799077" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_add_inherited_sockets函数-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_add_inherited_sockets函数-CSDN博客
      </a>
     </h4>
    </blockquote>
    <h4>
     进入
     <span style="color:#be191c">
      ngx_add_inherited_sockets
     </span>
    </h4>
    <pre><code>static ngx_int_t
ngx_add_inherited_sockets(ngx_cycle_t *cycle)
{
    u_char           *p, *v, *inherited;
    ngx_int_t         s;
    ngx_listening_t  *ls;

    inherited = (u_char *) getenv(NGINX_VAR);</code></pre>
    <h4>
     此次
    </h4>
    <blockquote>
     <h4>
      inherited 是 null，没有需要继承的 套接字描述符
     </h4>
    </blockquote>
    <pre><code>    if (inherited == NULL) {
        return NGX_OK;
    }</code></pre>
    <h4>
     返回 NGX_OK
    </h4>
    <hr/>
    <h4>
     回到
     <span style="color:#be191c">
      main
     </span>
     函数中
    </h4>
    <h4>
     <span style="color:#0d0016">
      接下来是：
     </span>
    </h4>
    <pre><code>    if (ngx_preinit_modules() != NGX_OK) {
        return 1;
    }</code></pre>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145836228" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_preinit_modules 函数-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_preinit_modules 函数-CSDN博客
      </a>
     </h4>
    </blockquote>
    <h4>
     进入
     <span style="color:#be191c">
      ngx_preinit_modules
     </span>
    </h4>
    <pre><code>ngx_int_t
ngx_preinit_modules(void)
{
    ngx_uint_t  i;

    for (i = 0; ngx_modules[i]; i++) {
        ngx_modules[i]-&gt;index = i;
        ngx_modules[i]-&gt;name = ngx_module_names[i];
    }

    ngx_modules_n = i;
    ngx_max_module = ngx_modules_n + NGX_MAX_DYNAMIC_MODULES;

    return NGX_OK;
}</code></pre>
    <h4>
     进入循环，遍历
     <span style="color:#be191c">
      ngx_modules
     </span>
     <span style="color:#333333">
      数组
     </span>
    </h4>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/146093149?sharetype=blogdetail&amp;sharerId=146093149&amp;sharerefer=PC&amp;sharesource=weixin_41812346&amp;spm=1011.2480.3001.8118" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_modules-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_modules-CSDN博客
      </a>
     </h4>
    </blockquote>
    <h4>
     为每个模块的
     <span style="color:#be191c">
      index
     </span>
     和
     <span style="color:#be191c">
      name
     </span>
     字段赋值
    </h4>
    <h4>
     此次的情况是：
    </h4>
    <blockquote>
     <h4>
      ngx_modules[0]-&gt;index = 0
      <br/>
      ngx_modules[0]-&gt;name = ngx_core_module
      <br/>
      ngx_modules[1]-&gt;index = 1
      <br/>
      ngx_modules[1]-&gt;name = ngx_errlog_module
      <br/>
      ngx_modules[2]-&gt;index = 2
      <br/>
      ngx_modules[2]-&gt;name = ngx_conf_module
      <br/>
      ngx_modules[3]-&gt;index = 3
      <br/>
      ngx_modules[3]-&gt;name = ngx_openssl_module
      <br/>
      ngx_modules[4]-&gt;index = 4
      <br/>
      ngx_modules[4]-&gt;name = ngx_regex_module
      <br/>
      ngx_modules[5]-&gt;index = 5
      <br/>
      ngx_modules[5]-&gt;name = ngx_events_module
      <br/>
      ngx_modules[6]-&gt;index = 6
      <br/>
      ngx_modules[6]-&gt;name = ngx_event_core_module
      <br/>
      ngx_modules[7]-&gt;index = 7
      <br/>
      ngx_modules[7]-&gt;name = ngx_epoll_module
      <br/>
      ngx_modules[8]-&gt;index = 8
      <br/>
      ngx_modules[8]-&gt;name = ngx_http_module
      <br/>
      ngx_modules[9]-&gt;index = 9
      <br/>
      ngx_modules[9]-&gt;name = ngx_http_core_module
      <br/>
      ngx_modules[10]-&gt;index = 10
      <br/>
      ngx_modules[10]-&gt;name = ngx_http_log_module
      <br/>
      ngx_modules[11]-&gt;index = 11
      <br/>
      ngx_modules[11]-&gt;name = ngx_http_upstream_module
      <br/>
      ngx_modules[12]-&gt;index = 12
      <br/>
      ngx_modules[12]-&gt;name = ngx_http_v2_module
      <br/>
      ngx_modules[13]-&gt;index = 13
      <br/>
      ngx_modules[13]-&gt;name = ngx_http_static_module
      <br/>
      ngx_modules[14]-&gt;index = 14
      <br/>
      ngx_modules[14]-&gt;name = ngx_http_gzip_static_module
      <br/>
      ngx_modules[15]-&gt;index = 15
      <br/>
      ngx_modules[15]-&gt;name = ngx_http_autoindex_module
      <br/>
      ngx_modules[16]-&gt;index = 16
      <br/>
      ngx_modules[16]-&gt;name = ngx_http_index_module
      <br/>
      ngx_modules[17]-&gt;index = 17
      <br/>
      ngx_modules[17]-&gt;name = ngx_http_mirror_module
      <br/>
      ngx_modules[18]-&gt;index = 18
      <br/>
      ngx_modules[18]-&gt;name = ngx_http_try_files_module
      <br/>
      ngx_modules[19]-&gt;index = 19
      <br/>
      ngx_modules[19]-&gt;name = ngx_http_auth_basic_module
      <br/>
      ngx_modules[20]-&gt;index = 20
      <br/>
      ngx_modules[20]-&gt;name = ngx_http_access_module
      <br/>
      ngx_modules[21]-&gt;index = 21
      <br/>
      ngx_modules[21]-&gt;name = ngx_http_limit_conn_module
      <br/>
      ngx_modules[22]-&gt;index = 22
      <br/>
      ngx_modules[22]-&gt;name = ngx_http_limit_req_module
      <br/>
      ngx_modules[23]-&gt;index = 23
      <br/>
      ngx_modules[23]-&gt;name = ngx_http_geo_module
      <br/>
      ngx_modules[24]-&gt;index = 24
      <br/>
      ngx_modules[24]-&gt;name = ngx_http_map_module
      <br/>
      ngx_modules[25]-&gt;index = 25
      <br/>
      ngx_modules[25]-&gt;name = ngx_http_split_clients_module
      <br/>
      ngx_modules[26]-&gt;index = 26
      <br/>
      ngx_modules[26]-&gt;name = ngx_http_referer_module
      <br/>
      ngx_modules[27]-&gt;index = 27
      <br/>
      ngx_modules[27]-&gt;name = ngx_http_rewrite_module
      <br/>
      ngx_modules[28]-&gt;index = 28
      <br/>
      ngx_modules[28]-&gt;name = ngx_http_ssl_module
      <br/>
      ngx_modules[29]-&gt;index = 29
      <br/>
      ngx_modules[29]-&gt;name = ngx_http_proxy_module
      <br/>
      ngx_modules[30]-&gt;index = 30
      <br/>
      ngx_modules[30]-&gt;name = ngx_http_fastcgi_module
      <br/>
      ngx_modules[31]-&gt;index = 31
      <br/>
      ngx_modules[31]-&gt;name = ngx_http_uwsgi_module
      <br/>
      ngx_modules[32]-&gt;index = 32
      <br/>
      ngx_modules[32]-&gt;name = ngx_http_scgi_module
      <br/>
      ngx_modules[33]-&gt;index = 33
      <br/>
      ngx_modules[33]-&gt;name = ngx_http_grpc_module
      <br/>
      ngx_modules[34]-&gt;index = 34
      <br/>
      ngx_modules[34]-&gt;name = ngx_http_memcached_module
      <br/>
      ngx_modules[35]-&gt;index = 35
      <br/>
      ngx_modules[35]-&gt;name = ngx_http_empty_gif_module
      <br/>
      ngx_modules[36]-&gt;index = 36
      <br/>
      ngx_modules[36]-&gt;name = ngx_http_browser_module
      <br/>
      ngx_modules[37]-&gt;index = 37
      <br/>
      ngx_modules[37]-&gt;name = ngx_http_upstream_hash_module
      <br/>
      ngx_modules[38]-&gt;index = 38
      <br/>
      ngx_modules[38]-&gt;name = ngx_http_upstream_ip_hash_module
      <br/>
      ngx_modules[39]-&gt;index = 39
      <br/>
      ngx_modules[39]-&gt;name = ngx_http_upstream_least_conn_module
      <br/>
      ngx_modules[40]-&gt;index = 40
      <br/>
      ngx_modules[40]-&gt;name = ngx_http_upstream_random_module
      <br/>
      ngx_modules[41]-&gt;index = 41
      <br/>
      ngx_modules[41]-&gt;name = ngx_http_upstream_keepalive_module
      <br/>
      ngx_modules[42]-&gt;index = 42
      <br/>
      ngx_modules[42]-&gt;name = ngx_http_upstream_zone_module
      <br/>
      ngx_modules[43]-&gt;index = 43
      <br/>
      ngx_modules[43]-&gt;name = ngx_http_write_filter_module
      <br/>
      ngx_modules[44]-&gt;index = 44
      <br/>
      ngx_modules[44]-&gt;name = ngx_http_header_filter_module
      <br/>
      ngx_modules[45]-&gt;index = 45
      <br/>
      ngx_modules[45]-&gt;name = ngx_http_chunked_filter_module
      <br/>
      ngx_modules[46]-&gt;index = 46
      <br/>
      ngx_modules[46]-&gt;name = ngx_http_v2_filter_module
      <br/>
      ngx_modules[47]-&gt;index = 47
      <br/>
      ngx_modules[47]-&gt;name = ngx_http_range_header_filter_module
      <br/>
      ngx_modules[48]-&gt;index = 48
      <br/>
      ngx_modules[48]-&gt;name = ngx_http_gzip_filter_module
      <br/>
      ngx_modules[49]-&gt;index = 49
      <br/>
      ngx_modules[49]-&gt;name = ngx_http_postpone_filter_module
      <br/>
      ngx_modules[50]-&gt;index = 50
      <br/>
      ngx_modules[50]-&gt;name = ngx_http_ssi_filter_module
      <br/>
      ngx_modules[51]-&gt;index = 51
      <br/>
      ngx_modules[51]-&gt;name = ngx_http_charset_filter_module
      <br/>
      ngx_modules[52]-&gt;index = 52
      <br/>
      ngx_modules[52]-&gt;name = ngx_http_userid_filter_module
      <br/>
      ngx_modules[53]-&gt;index = 53
      <br/>
      ngx_modules[53]-&gt;name = ngx_http_headers_filter_module
      <br/>
      ngx_modules[54]-&gt;index = 54
      <br/>
      ngx_modules[54]-&gt;name = ngx_http_copy_filter_module
      <br/>
      ngx_modules[55]-&gt;index = 55
      <br/>
      ngx_modules[55]-&gt;name = ngx_http_range_body_filter_module
      <br/>
      ngx_modules[56]-&gt;index = 56
      <br/>
      ngx_modules[56]-&gt;name = ngx_http_not_modified_filter_module
      <br/>
      ngx_modules[57]-&gt;index = 57
      <br/>
      ngx_modules[57]-&gt;name = ngx_stream_module
      <br/>
      ngx_modules[58]-&gt;index = 58
      <br/>
      ngx_modules[58]-&gt;name = ngx_stream_core_module
      <br/>
      ngx_modules[59]-&gt;index = 59
      <br/>
      ngx_modules[59]-&gt;name = ngx_stream_log_module
      <br/>
      ngx_modules[60]-&gt;index = 60
      <br/>
      ngx_modules[60]-&gt;name = ngx_stream_proxy_module
      <br/>
      ngx_modules[61]-&gt;index = 61
      <br/>
      ngx_modules[61]-&gt;name = ngx_stream_upstream_module
      <br/>
      ngx_modules[62]-&gt;index = 62
      <br/>
      ngx_modules[62]-&gt;name = ngx_stream_write_filter_module
      <br/>
      ngx_modules[63]-&gt;index = 63
      <br/>
      ngx_modules[63]-&gt;name = ngx_stream_ssl_module
      <br/>
      ngx_modules[64]-&gt;index = 64
      <br/>
      ngx_modules[64]-&gt;name = ngx_stream_limit_conn_module
      <br/>
      ngx_modules[65]-&gt;index = 65
      <br/>
      ngx_modules[65]-&gt;name = ngx_stream_access_module
      <br/>
      ngx_modules[66]-&gt;index = 66
      <br/>
      ngx_modules[66]-&gt;name = ngx_stream_geo_module
      <br/>
      ngx_modules[67]-&gt;index = 67
      <br/>
      ngx_modules[67]-&gt;name = ngx_stream_map_module
      <br/>
      ngx_modules[68]-&gt;index = 68
      <br/>
      ngx_modules[68]-&gt;name = ngx_stream_split_clients_module
      <br/>
      ngx_modules[69]-&gt;index = 69
      <br/>
      ngx_modules[69]-&gt;name = ngx_stream_return_module
      <br/>
      ngx_modules[70]-&gt;index = 70
      <br/>
      ngx_modules[70]-&gt;name = ngx_stream_set_module
      <br/>
      ngx_modules[71]-&gt;index = 71
      <br/>
      ngx_modules[71]-&gt;name = ngx_stream_upstream_hash_module
      <br/>
      ngx_modules[72]-&gt;index = 72
      <br/>
      ngx_modules[72]-&gt;name = ngx_stream_upstream_least_conn_module
      <br/>
      ngx_modules[73]-&gt;index = 73
      <br/>
      ngx_modules[73]-&gt;name = ngx_stream_upstream_random_module
      <br/>
      ngx_modules[74]-&gt;index = 74
      <br/>
      ngx_modules[74]-&gt;name = ngx_stream_upstream_zone_module
     </h4>
    </blockquote>
    <h4>
     <span style="color:#be191c">
      ngx_modules_n
     </span>
     静态模块的总数
    </h4>
    <h4>
     <span style="color:#be191c">
      <strong>
       ngx_max_module
      </strong>
     </span>
     表示Nginx支持的最大模块数量
    </h4>
    <h4>
     <span style="color:#be191c">
      <strong>
       NGX_MAX_DYNAMIC_MODULES
      </strong>
     </span>
     动态加载模块的最大数量
    </h4>
    <blockquote>
     <h4>
      ngx_modules_n=75
      <br/>
      ngx_max_module(=203) = ngx_modules_n(75) + NGX_MAX_DYNAMIC_MODULES(128)
     </h4>
    </blockquote>
    <hr/>
    <h4>
    </h4>
    <h4>
     回到
     <span style="color:#be191c">
      main
     </span>
     函数中
    </h4>
    <h4>
     <span style="color:#0d0016">
      接下来是：
     </span>
    </h4>
    <pre><code>cycle = ngx_init_cycle(&amp;init_cycle);
    if (cycle == NULL) {
        if (ngx_test_config) {
            ngx_log_stderr(0, "configuration file %s test failed",
                           init_cycle.conf_file.data);
        }

        return 1;
    }</code></pre>
    <h4>
     调用
     <span style="color:#be191c">
      ngx_init_cycle
     </span>
    </h4>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/146095766?sharetype=blogdetail&amp;sharerId=146095766&amp;sharerefer=PC&amp;sharesource=weixin_41812346&amp;spm=1011.2480.3001.8118" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_init_cycle 函数-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_init_cycle 函数-CSDN博客
      </a>
     </h4>
    </blockquote>
    <h4>
     进入
     <span style="color:#be191c">
      ngx_init_cycle
     </span>
    </h4>
    <pre><code>ngx_cycle_t *
ngx_init_cycle(ngx_cycle_t *old_cycle)
{
    void                *rv;
    char               **senv;
    ngx_uint_t           i, n;
    ngx_log_t           *log;
    ngx_time_t          *tp;
    ngx_conf_t           conf;
    ngx_pool_t          *pool;
    ngx_cycle_t         *cycle, **old;
    ngx_shm_zone_t      *shm_zone, *oshm_zone;
    ngx_list_part_t     *part, *opart;
    ngx_open_file_t     *file;
    ngx_listening_t     *ls, *nls;
    ngx_core_conf_t     *ccf, *old_ccf;
    ngx_core_module_t   *module;
    char                 hostname[NGX_MAXHOSTNAMELEN];

    ngx_timezone_update();

    /* force localtime update with a new timezone */

    tp = ngx_timeofday();
    tp-&gt;sec = 0;

    ngx_time_update();</code></pre>
    <h4>
     更新时间
    </h4>
    <pre><code>   log = old_cycle-&gt;log;</code></pre>
    <h4>
     获取之前的
     <span style="color:#be191c">
      log
     </span>
     对象，暂时还是用它来记录 log
    </h4>
    <pre><code>   pool = ngx_create_pool(NGX_CYCLE_POOL_SIZE, log);
    if (pool == NULL) {
        return NULL;
    }
    pool-&gt;log = log;</code></pre>
    <h4>
     创建一个新的内存池，然后设置它使用的
     <span style="color:#be191c">
      log
     </span>
    </h4>
    <h4>
     此次的情况是：
    </h4>
    <blockquote>
     <h4>
      pool = ngx_create_pool(16384, log)
      <br/>
      pool= 0x5f33e4db67b0 （地址）
     </h4>
    </blockquote>
    <h4>
     接下来是：
    </h4>
    <pre><code>   cycle = ngx_pcalloc(pool, sizeof(ngx_cycle_t));
    if (cycle == NULL) {
        ngx_destroy_pool(pool);
        return NULL;
    }</code></pre>
    <h4>
     此次的情况是：
    </h4>
    <blockquote>
     <h4>
      cycle = ngx_pcalloc(pool, 648);
      <br/>
      cycle= 0x5c67408e7800
     </h4>
    </blockquote>
    <pre><code>    cycle-&gt;pool = pool;
    cycle-&gt;log = log;
    cycle-&gt;old_cycle = old_cycle;</code></pre>
    <pre><code>   cycle-&gt;conf_prefix.len = old_cycle-&gt;conf_prefix.len;
    cycle-&gt;conf_prefix.data = ngx_pstrdup(pool, &amp;old_cycle-&gt;conf_prefix);
    if (cycle-&gt;conf_prefix.data == NULL) {
        ngx_destroy_pool(pool);
        return NULL;
    }</code></pre>
    <h4>
     给字段赋值
    </h4>
    <h4>
     此次的情况是：
    </h4>
    <blockquote>
     <h4>
      cycle-&gt;conf_prefix.len =28
      <br/>
      cycle-&gt;conf_prefix.data=/home/wsd/桌面/nginx/conf/
     </h4>
    </blockquote>
    <pre><code>    cycle-&gt;prefix.len = old_cycle-&gt;prefix.len;
    cycle-&gt;prefix.data = ngx_pstrdup(pool, &amp;old_cycle-&gt;prefix);
    if (cycle-&gt;prefix.data == NULL) {
        ngx_destroy_pool(pool);
        return NULL;
    }</code></pre>
    <h4>
     此次的情况是:
    </h4>
    <blockquote>
     <h4>
      cycle-&gt;prefix.len = 17)
      <br/>
      cycle-&gt;prefix.data= /usr/local/nginx/
     </h4>
    </blockquote>
    <pre><code>    cycle-&gt;error_log.len = old_cycle-&gt;error_log.len;
    cycle-&gt;error_log.data = ngx_pnalloc(pool, old_cycle-&gt;error_log.len + 1);
    if (cycle-&gt;error_log.data == NULL) {
        ngx_destroy_pool(pool);
        return NULL;
    }
    ngx_cpystrn(cycle-&gt;error_log.data, old_cycle-&gt;error_log.data,
                old_cycle-&gt;error_log.len + 1);</code></pre>
    <h4>
     此次的情况是:
    </h4>
    <blockquote>
     <h4>
      cycle-&gt;error_log.len=36
     </h4>
     <h4>
      <span style="color:#333333">
       cycle-&gt;error_log.data=/home/wsd/桌面/nginx/LOG/error.log
      </span>
     </h4>
    </blockquote>
    <pre><code>   cycle-&gt;conf_file.len = old_cycle-&gt;conf_file.len;
    cycle-&gt;conf_file.data = ngx_pnalloc(pool, old_cycle-&gt;conf_file.len + 1);
    if (cycle-&gt;conf_file.data == NULL) {
        ngx_destroy_pool(pool);
        return NULL;
    }
    ngx_cpystrn(cycle-&gt;conf_file.data, old_cycle-&gt;conf_file.data,
                old_cycle-&gt;conf_file.len + 1);</code></pre>
    <h4>
     此次的情况是:
    </h4>
    <blockquote>
     <h4>
      cycle-&gt;conf_file.len=38
      <br/>
      cycle-&gt;conf_file.data=/home/wsd/桌面/nginx/conf/nginx.conf
     </h4>
    </blockquote>
    <pre><code>    cycle-&gt;conf_param.len = old_cycle-&gt;conf_param.len;
    cycle-&gt;conf_param.data = ngx_pstrdup(pool, &amp;old_cycle-&gt;conf_param);
    if (cycle-&gt;conf_param.data == NULL) {
        ngx_destroy_pool(pool);
        return NULL;
    }</code></pre>
    <h4>
     此次的情况是:
    </h4>
    <blockquote>
     <h4>
      cycle-&gt;conf_param.len=0
      <br/>
      cycle-&gt;conf_param.data 是 null
     </h4>
     <h4>
      运行时没有给命令行参数
     </h4>
    </blockquote>
    <pre><code>    n = old_cycle-&gt;paths.nelts ? old_cycle-&gt;paths.nelts : 10;</code></pre>
    <h4>
     此次的情况是:
    </h4>
    <blockquote>
     <h4>
      n = 0 ? 0 : 10;
      <br/>
      n=10
     </h4>
    </blockquote>
    <pre><code>    if (ngx_array_init(&amp;cycle-&gt;paths, pool, n, sizeof(ngx_path_t *))
        != NGX_OK)
    {
        ngx_destroy_pool(pool);
        return NULL;
    }</code></pre>
    <blockquote>
     <h4>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/145799938" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_array_init 函数-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_array_init 函数-CSDN博客
      </a>
     </h4>
    </blockquote>
    <pre><code>    ngx_memzero(cycle-&gt;paths.elts, n * sizeof(ngx_path_t *));</code></pre>
    <h4>
     将
     <span style="color:#be191c">
      <code>
       paths
      </code>
     </span>
     数组的前
     <span style="color:#be191c">
      <code>
       n
      </code>
     </span>
     个元素清零
    </h4>
    <pre><code>    if (ngx_array_init(&amp;cycle-&gt;config_dump, pool, 1, sizeof(ngx_conf_dump_t))
        != NGX_OK)
    {
        ngx_destroy_pool(pool);
        return NULL;
    }</code></pre>
    <h4>
     初始化数组
     <span style="color:#be191c">
      <code>
       config_dump
      </code>
     </span>
    </h4>
    <blockquote>
     <p>
      <a href="https://blog.csdn.net/weixin_41812346/article/details/146104723?sharetype=blogdetail&amp;sharerId=146104723&amp;sharerefer=PC&amp;sharesource=weixin_41812346&amp;spm=1011.2480.3001.8118" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_conf_dump_t-CSDN博客">
       Ubuntu 下 nginx-1.24.0 源码分析 - ngx_conf_dump_t-CSDN博客
      </a>
     </p>
    </blockquote>
    <pre><code>    ngx_rbtree_init(&amp;cycle-&gt;config_dump_rbtree, &amp;cycle-&gt;config_dump_sentinel,
                    ngx_str_rbtree_insert_value);</code></pre>
    <h4>
     <a href="https://blog.csdn.net/weixin_41812346/article/details/145904207" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_rbtree_init-CSDN博客">
      Ubuntu 下 nginx-1.24.0 源码分析 - ngx_rbtree_init-CSDN博客
     </a>
    </h4>
    <h4>
    </h4>
    <pre><code>   if (old_cycle-&gt;open_files.part.nelts) {
        n = old_cycle-&gt;open_files.part.nelts;
        for (part = old_cycle-&gt;open_files.part.next; part; part = part-&gt;next) {
            n += part-&gt;nelts;
        }

    } else {
        n = 20;
    }</code></pre>
    <h4>
    </h4>
    <h4>
     此次运行的情况是:
    </h4>
    <blockquote>
     <h4>
      old_cycle-&gt;open_files.part.nelts=0
     </h4>
     <h4>
      所以进入 else
      <br/>
      n=20
     </h4>
    </blockquote>
    <pre><code>if (ngx_list_init(&amp;cycle-&gt;open_files, pool, n, sizeof(ngx_open_file_t))
        != NGX_OK)
    {
        ngx_destroy_pool(pool);
        return NULL;
    }
</code></pre>
    <h4>
     初始化新周期的
     <span style="color:#be191c">
      <code>
       open_files
      </code>
     </span>
     列表。
    </h4>
    <h4>
     此次运行的情况是:
    </h4>
    <blockquote>
     <h4>
      ngx_list_init(&amp;cycle-&gt;open_files, pool, n
      <span style="color:#be191c">
       =20
      </span>
      , sizeof(ngx_open_file_t)
      <span style="color:#be191c">
       =40
      </span>
      )
     </h4>
    </blockquote>
    <pre><code>    if (old_cycle-&gt;shared_memory.part.nelts) {
        n = old_cycle-&gt;shared_memory.part.nelts;
        for (part = old_cycle-&gt;shared_memory.part.next; part; part = part-&gt;next)
        {
            n += part-&gt;nelts;
        }

    } else {
        n = 1;
    }</code></pre>
    <h4>
     设置新周期的
     <code>
      <span style="color:#be191c">
       shared_memory
      </span>
      的元素数量
     </code>
    </h4>
    <h4>
     此次运行的情况是:
    </h4>
    <blockquote>
     <h4>
      old_cycle-&gt;shared_memory.part.nelts=0
     </h4>
     <h4>
      所以 进入else
      <br/>
      n=1
     </h4>
    </blockquote>
    <pre><code>  if (ngx_list_init(&amp;cycle-&gt;shared_memory, pool, n, sizeof(ngx_shm_zone_t))
        != NGX_OK)
    {
        ngx_destroy_pool(pool);
        return NULL;
    }</code></pre>
    <h4>
     初始化
     <code>
      <span style="color:#be191c">
       shared_memory
      </span>
     </code>
    </h4>
    <h4>
     此次运行的情况是:
    </h4>
    <blockquote>
     <h4>
      <br/>
      ngx_list_init(&amp;cycle-&gt;shared_memory, pool, n
      <span style="color:#be191c">
       =1
      </span>
      , sizeof(ngx_shm_zone_t)
      <span style="color:#be191c">
       =88
      </span>
      )
     </h4>
    </blockquote>
    <pre><code>   n = old_cycle-&gt;listening.nelts ? old_cycle-&gt;listening.nelts : 10;</code></pre>
    <h4>
     此次运行的情况是:
    </h4>
    <blockquote>
     <h4>
      n(
      <span style="color:#be191c">
       =10
      </span>
      ) = old_cycle-&gt;listening.nelts(
      <span style="color:#be191c">
       =0
      </span>
      ) ? old_cycle-&gt;listening.nelts(
      <span style="color:#be191c">
       =0
      </span>
      ) :
      <span style="color:#be191c">
       10
      </span>
     </h4>
    </blockquote>
    <pre><code>  if (ngx_array_init(&amp;cycle-&gt;listening, pool, n, sizeof(ngx_listening_t))
        != NGX_OK)
    {
        ngx_destroy_pool(pool);
        return NULL;
    }</code></pre>
    <h4>
     初始化
     <span style="color:#be191c">
      <code>
       cycle-&gt;listening
      </code>
     </span>
     数组
    </h4>
    <h4>
     此次运行的情况是:
    </h4>
    <blockquote>
     <h4>
      ngx_array_init(&amp;cycle-&gt;listening, pool, n(
      <span style="color:#be191c">
       =10
      </span>
      ), sizeof(ngx_listening_t)(
      <span style="color:#be191c">
       =296
      </span>
      ))
     </h4>
    </blockquote>
    <pre><code>    ngx_memzero(cycle-&gt;listening.elts, n * sizeof(ngx_listening_t));</code></pre>
    <h4>
     将
     <span style="color:#be191c">
      <code>
       cycle-&gt;listening
      </code>
     </span>
     <span style="color:#333333">
      <code>
       的
      </code>
     </span>
     内存区域清
     <span style="color:#be191c">
      0
     </span>
    </h4>
    <pre><code>   ngx_queue_init(&amp;cycle-&gt;reusable_connections_queue);</code></pre>
    <pre><code>    cycle-&gt;conf_ctx = ngx_pcalloc(pool, ngx_max_module * sizeof(void *));
    if (cycle-&gt;conf_ctx == NULL) {
        ngx_destroy_pool(pool);
        return NULL;
    }</code></pre>
    <h3>
     从内存池
     <span style="color:#be191c">
      pool
     </span>
     中分配一个指针数组
     <span style="color:#be191c">
      conf_ctx
     </span>
     ，每个元素对应一个模块的配置结构指针。
    </h3>
    <hr/>
    <pre><code>    if (gethostname(hostname, NGX_MAXHOSTNAMELEN) == -1) {
        ngx_log_error(NGX_LOG_EMERG, log, ngx_errno, "gethostname() failed");
        ngx_destroy_pool(pool);
        return NULL;
    }</code></pre>
    <h3>
     调用
     <span style="color:#be191c">
      <code>
       gethostname()
      </code>
     </span>
     系统调用获取本地主机名，存储到
     <span style="color:#be191c">
      <code>
       hostname
      </code>
     </span>
     缓冲区。
    </h3>
    <pre><code>    hostname[NGX_MAXHOSTNAMELEN - 1] = '\0';
    cycle-&gt;hostname.len = ngx_strlen(hostname);</code></pre>
    <h3>
     确保
     <span style="color:#be191c">
      <code>
       hostname
      </code>
     </span>
     以
     <span style="color:#be191c">
      <code>
       \0
      </code>
     </span>
     结尾
    </h3>
    <h3>
     计算主机名的实际长度（不含终止符），存储到
     <span style="color:#be191c">
      <code>
       cycle-&gt;hostname.len
      </code>
     </span>
    </h3>
    <pre><code>    cycle-&gt;hostname.data = ngx_pnalloc(pool, cycle-&gt;hostname.len);
    if (cycle-&gt;hostname.data == NULL) {
        ngx_destroy_pool(pool);
        return NULL;
    }</code></pre>
    <h3>
     从内存池
     <span style="color:#be191c">
      <code>
       pool
      </code>
     </span>
     分配内存，存储主机名的副本
    </h3>
    <pre><code>    ngx_strlow(cycle-&gt;hostname.data, (u_char *) hostname, cycle-&gt;hostname.len);</code></pre>
    <h3>
     <strong>
      将主机名转换为全小写，存储到
      <span style="color:#be191c">
       cycle-&gt;hostname.data
      </span>
     </strong>
    </h3>
    <h4>
     此次运行的情况是:
    </h4>
    <blockquote>
     <h4>
      hostname=wsd-vm
      <br/>
      cycle-&gt;hostname.len=6
      <br/>
      cycle-&gt;hostname.data = ngx_pnalloc(pool, 6)
      <br/>
      cycle-&gt;hostname.data=0x6165d5b590d0 地址
      <br/>
      cycle-&gt;hostname.data = wsd-vm
     </h4>
    </blockquote>
    <pre><code>    if (ngx_cycle_modules(cycle) != NGX_OK) {
        ngx_destroy_pool(pool);
        return NULL;
    }</code></pre>
    <h4>
     调用
     <span style="color:#be191c">
      ngx_cycle_modules
     </span>
     初始化
     <span style="color:#be191c">
      cycle-&gt;modules
     </span>
     数组，该数组包含所有核心模块的指针
    </h4>
    <hr/>
    <pre><code>    for (i = 0; cycle-&gt;modules[i]; i++) {
        if (cycle-&gt;modules[i]-&gt;type != NGX_CORE_MODULE) {
            continue;
        }</code></pre>
    <h4>
     遍历所有核心模块
    </h4>
    <pre><code>module = cycle-&gt;modules[i]-&gt;ctx;</code></pre>
    <h4>
     获取核心模块的配置
    </h4>
    <pre><code>if (module-&gt;create_conf) {
            rv = module-&gt;create_conf(cycle);
            if (rv == NULL) {
                ngx_destroy_pool(pool);
                return NULL;
            }
            cycle-&gt;conf_ctx[cycle-&gt;modules[i]-&gt;index] = rv;
        }
    }</code></pre>
    <h4>
     <span style="color:#333333">
      调用模块的
     </span>
     <span style="color:#be191c">
      create_conf
     </span>
     <span style="color:#333333">
      方法创建默认配置结构，并将其存储到
     </span>
     <span style="color:#be191c">
      conf_ctx
     </span>
     <span style="color:#333333">
      数组的对应位置。
     </span>
    </h4>
    <p>
    </p>
    <h4>
     此次运行的情况是:
    </h4>
    <blockquote>
     <h4>
      i=0
      <br/>
      cycle-&gt;modules[0]-&gt;name = ngx_core_module
      <br/>
      cycle-&gt;modules[0]-&gt;type == NGX_CORE_MODULE
      <br/>
      module-&gt;create_conf = 0x5c9ee022c9b8
      <br/>
      cycle-&gt;conf_ctx[0] = 0x5c9f13b4c738
     </h4>
     <h4>
      i=1
      <br/>
      cycle-&gt;modules[1]-&gt;name = ngx_errlog_module
      <br/>
      cycle-&gt;modules[1]-&gt;type == NGX_CORE_MODULE
      <br/>
      module-&gt;create_conf = (nil)
     </h4>
     <h4>
      i=2
      <br/>
      cycle-&gt;modules[2]-&gt;name = ngx_conf_module
      <br/>
      cycle-&gt;modules[2]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=3
      <br/>
      cycle-&gt;modules[3]-&gt;name = ngx_openssl_module
      <br/>
      cycle-&gt;modules[3]-&gt;type == NGX_CORE_MODULE
      <br/>
      module-&gt;create_conf = 0x5c9ee02587ea
      <br/>
      cycle-&gt;conf_ctx[3] = 0x5c9f13b4c830
     </h4>
     <h4>
      i=4
      <br/>
      cycle-&gt;modules[4]-&gt;name = ngx_regex_module
      <br/>
      cycle-&gt;modules[4]-&gt;type == NGX_CORE_MODULE
      <br/>
      module-&gt;create_conf = 0x5c9ee0263174
      <br/>
      cycle-&gt;conf_ctx[4] = 0x5c9f13b4c838
     </h4>
     <h4>
      i=5
      <br/>
      cycle-&gt;modules[5]-&gt;name = ngx_events_module
      <br/>
      cycle-&gt;modules[5]-&gt;type == NGX_CORE_MODULE
      <br/>
      module-&gt;create_conf = (nil)
     </h4>
     <h4>
      i=6
      <br/>
      cycle-&gt;modules[6]-&gt;name = ngx_event_core_module
      <br/>
      cycle-&gt;modules[6]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=7
      <br/>
      cycle-&gt;modules[7]-&gt;name = ngx_epoll_module
      <br/>
      cycle-&gt;modules[7]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=8
      <br/>
      cycle-&gt;modules[8]-&gt;name = ngx_http_module
      <br/>
      cycle-&gt;modules[8]-&gt;type == NGX_CORE_MODULE
      <br/>
      module-&gt;create_conf = (nil)
     </h4>
     <h4>
      i=9
      <br/>
      cycle-&gt;modules[9]-&gt;name = ngx_http_core_module
      <br/>
      cycle-&gt;modules[9]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=10
      <br/>
      cycle-&gt;modules[10]-&gt;name = ngx_http_log_module
      <br/>
      cycle-&gt;modules[10]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=11
      <br/>
      cycle-&gt;modules[11]-&gt;name = ngx_http_upstream_module
      <br/>
      cycle-&gt;modules[11]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=12
      <br/>
      cycle-&gt;modules[12]-&gt;name = ngx_http_v2_module
      <br/>
      cycle-&gt;modules[12]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=13
      <br/>
      cycle-&gt;modules[13]-&gt;name = ngx_http_static_module
      <br/>
      cycle-&gt;modules[13]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=14
      <br/>
      cycle-&gt;modules[14]-&gt;name = ngx_http_gzip_static_module
      <br/>
      cycle-&gt;modules[14]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=15
      <br/>
      cycle-&gt;modules[15]-&gt;name = ngx_http_autoindex_module
      <br/>
      cycle-&gt;modules[15]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=16
      <br/>
      cycle-&gt;modules[16]-&gt;name = ngx_http_index_module
      <br/>
      cycle-&gt;modules[16]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=17
      <br/>
      cycle-&gt;modules[17]-&gt;name = ngx_http_mirror_module
      <br/>
      cycle-&gt;modules[17]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=18
      <br/>
      cycle-&gt;modules[18]-&gt;name = ngx_http_try_files_module
      <br/>
      cycle-&gt;modules[18]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=19
      <br/>
      cycle-&gt;modules[19]-&gt;name = ngx_http_auth_basic_module
      <br/>
      cycle-&gt;modules[19]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=20
      <br/>
      cycle-&gt;modules[20]-&gt;name = ngx_http_access_module
      <br/>
      cycle-&gt;modules[20]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=21
      <br/>
      cycle-&gt;modules[21]-&gt;name = ngx_http_limit_conn_module
      <br/>
      cycle-&gt;modules[21]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=22
      <br/>
      cycle-&gt;modules[22]-&gt;name = ngx_http_limit_req_module
      <br/>
      cycle-&gt;modules[22]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=23
      <br/>
      cycle-&gt;modules[23]-&gt;name = ngx_http_geo_module
      <br/>
      cycle-&gt;modules[23]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=24
      <br/>
      cycle-&gt;modules[24]-&gt;name = ngx_http_map_module
      <br/>
      cycle-&gt;modules[24]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=25
      <br/>
      cycle-&gt;modules[25]-&gt;name = ngx_http_split_clients_module
      <br/>
      cycle-&gt;modules[25]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=26
      <br/>
      cycle-&gt;modules[26]-&gt;name = ngx_http_referer_module
      <br/>
      cycle-&gt;modules[26]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=27
      <br/>
      cycle-&gt;modules[27]-&gt;name = ngx_http_rewrite_module
      <br/>
      cycle-&gt;modules[27]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=28
      <br/>
      cycle-&gt;modules[28]-&gt;name = ngx_http_ssl_module
      <br/>
      cycle-&gt;modules[28]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=29
      <br/>
      cycle-&gt;modules[29]-&gt;name = ngx_http_proxy_module
      <br/>
      cycle-&gt;modules[29]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=30
      <br/>
      cycle-&gt;modules[30]-&gt;name = ngx_http_fastcgi_module
      <br/>
      cycle-&gt;modules[30]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=31
      <br/>
      cycle-&gt;modules[31]-&gt;name = ngx_http_uwsgi_module
      <br/>
      cycle-&gt;modules[31]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=32
      <br/>
      cycle-&gt;modules[32]-&gt;name = ngx_http_scgi_module
      <br/>
      cycle-&gt;modules[32]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=33
      <br/>
      cycle-&gt;modules[33]-&gt;name = ngx_http_grpc_module
      <br/>
      cycle-&gt;modules[33]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=34
      <br/>
      cycle-&gt;modules[34]-&gt;name = ngx_http_memcached_module
      <br/>
      cycle-&gt;modules[34]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=35
      <br/>
      cycle-&gt;modules[35]-&gt;name = ngx_http_empty_gif_module
      <br/>
      cycle-&gt;modules[35]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=36
      <br/>
      cycle-&gt;modules[36]-&gt;name = ngx_http_browser_module
      <br/>
      cycle-&gt;modules[36]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=37
      <br/>
      cycle-&gt;modules[37]-&gt;name = ngx_http_upstream_hash_module
      <br/>
      cycle-&gt;modules[37]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=38
      <br/>
      cycle-&gt;modules[38]-&gt;name = ngx_http_upstream_ip_hash_module
      <br/>
      cycle-&gt;modules[38]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=39
      <br/>
      cycle-&gt;modules[39]-&gt;name = ngx_http_upstream_least_conn_module
      <br/>
      cycle-&gt;modules[39]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=40
      <br/>
      cycle-&gt;modules[40]-&gt;name = ngx_http_upstream_random_module
      <br/>
      cycle-&gt;modules[40]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=41
      <br/>
      cycle-&gt;modules[41]-&gt;name = ngx_http_upstream_keepalive_module
      <br/>
      cycle-&gt;modules[41]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=42
      <br/>
      cycle-&gt;modules[42]-&gt;name = ngx_http_upstream_zone_module
      <br/>
      cycle-&gt;modules[42]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=43
      <br/>
      cycle-&gt;modules[43]-&gt;name = ngx_http_write_filter_module
      <br/>
      cycle-&gt;modules[43]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=44
      <br/>
      cycle-&gt;modules[44]-&gt;name = ngx_http_header_filter_module
      <br/>
      cycle-&gt;modules[44]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=45
      <br/>
      cycle-&gt;modules[45]-&gt;name = ngx_http_chunked_filter_module
      <br/>
      cycle-&gt;modules[45]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=46
      <br/>
      cycle-&gt;modules[46]-&gt;name = ngx_http_v2_filter_module
      <br/>
      cycle-&gt;modules[46]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=47
      <br/>
      cycle-&gt;modules[47]-&gt;name = ngx_http_range_header_filter_module
      <br/>
      cycle-&gt;modules[47]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=48
      <br/>
      cycle-&gt;modules[48]-&gt;name = ngx_http_gzip_filter_module
      <br/>
      cycle-&gt;modules[48]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=49
      <br/>
      cycle-&gt;modules[49]-&gt;name = ngx_http_postpone_filter_module
      <br/>
      cycle-&gt;modules[49]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=50
      <br/>
      cycle-&gt;modules[50]-&gt;name = ngx_http_ssi_filter_module
      <br/>
      cycle-&gt;modules[50]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=51
      <br/>
      cycle-&gt;modules[51]-&gt;name = ngx_http_charset_filter_module
      <br/>
      cycle-&gt;modules[51]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=52
      <br/>
      cycle-&gt;modules[52]-&gt;name = ngx_http_userid_filter_module
      <br/>
      cycle-&gt;modules[52]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=53
      <br/>
      cycle-&gt;modules[53]-&gt;name = ngx_http_headers_filter_module
      <br/>
      cycle-&gt;modules[53]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=54
      <br/>
      cycle-&gt;modules[54]-&gt;name = ngx_http_copy_filter_module
      <br/>
      cycle-&gt;modules[54]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=55
      <br/>
      cycle-&gt;modules[55]-&gt;name = ngx_http_range_body_filter_module
      <br/>
      cycle-&gt;modules[55]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=56
      <br/>
      cycle-&gt;modules[56]-&gt;name = ngx_http_not_modified_filter_module
      <br/>
      cycle-&gt;modules[56]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=57
      <br/>
      cycle-&gt;modules[57]-&gt;name = ngx_stream_module
      <br/>
      cycle-&gt;modules[57]-&gt;type == NGX_CORE_MODULE
      <br/>
      module-&gt;create_conf = (nil)
     </h4>
     <h4>
      i=58
      <br/>
      cycle-&gt;modules[58]-&gt;name = ngx_stream_core_module
      <br/>
      cycle-&gt;modules[58]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=59
      <br/>
      cycle-&gt;modules[59]-&gt;name = ngx_stream_log_module
      <br/>
      cycle-&gt;modules[59]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=60
      <br/>
      cycle-&gt;modules[60]-&gt;name = ngx_stream_proxy_module
      <br/>
      cycle-&gt;modules[60]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=61
      <br/>
      cycle-&gt;modules[61]-&gt;name = ngx_stream_upstream_module
      <br/>
      cycle-&gt;modules[61]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=62
      <br/>
      cycle-&gt;modules[62]-&gt;name = ngx_stream_write_filter_module
      <br/>
      cycle-&gt;modules[62]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=63
      <br/>
      cycle-&gt;modules[63]-&gt;name = ngx_stream_ssl_module
      <br/>
      cycle-&gt;modules[63]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=64
      <br/>
      cycle-&gt;modules[64]-&gt;name = ngx_stream_limit_conn_module
      <br/>
      cycle-&gt;modules[64]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=65
      <br/>
      cycle-&gt;modules[65]-&gt;name = ngx_stream_access_module
      <br/>
      cycle-&gt;modules[65]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=66
      <br/>
      cycle-&gt;modules[66]-&gt;name = ngx_stream_geo_module
      <br/>
      cycle-&gt;modules[66]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=67
      <br/>
      cycle-&gt;modules[67]-&gt;name = ngx_stream_map_module
      <br/>
      cycle-&gt;modules[67]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=68
      <br/>
      cycle-&gt;modules[68]-&gt;name = ngx_stream_split_clients_module
      <br/>
      cycle-&gt;modules[68]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=69
      <br/>
      cycle-&gt;modules[69]-&gt;name = ngx_stream_return_module
      <br/>
      cycle-&gt;modules[69]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=70
      <br/>
      cycle-&gt;modules[70]-&gt;name = ngx_stream_set_module
      <br/>
      cycle-&gt;modules[70]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=71
      <br/>
      cycle-&gt;modules[71]-&gt;name = ngx_stream_upstream_hash_module
      <br/>
      cycle-&gt;modules[71]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=72
      <br/>
      cycle-&gt;modules[72]-&gt;name = ngx_stream_upstream_least_conn_module
      <br/>
      cycle-&gt;modules[72]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=73
      <br/>
      cycle-&gt;modules[73]-&gt;name = ngx_stream_upstream_random_module
      <br/>
      cycle-&gt;modules[73]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
     <h4>
      i=74
      <br/>
      cycle-&gt;modules[74]-&gt;name = ngx_stream_upstream_zone_module
      <br/>
      cycle-&gt;modules[74]-&gt;type != NGX_CORE_MODULE
      <br/>
      continue
     </h4>
    </blockquote>
    <h4>
     <span style="color:#333333">
      第一个模块是
     </span>
     <span style="color:#be191c">
      ngx_core_module
     </span>
    </h4>
    <h4>
     <span style="color:#333333">
      它的
     </span>
     <span style="color:#be191c">
      create_conf
     </span>
     <span style="color:#333333">
      存在
     </span>
    </h4>
    <h4>
     <a href="https://blog.csdn.net/weixin_41812346/article/details/146152144?sharetype=blogdetail&amp;sharerId=146152144&amp;sharerefer=PC&amp;sharesource=weixin_41812346&amp;spm=1011.2480.3001.8118" title="Ubuntu 下 nginx-1.24.0 源码分析 - ngx_core_module-CSDN博客">
      Ubuntu 下 nginx-1.24.0 源码分析 - ngx_core_module-CSDN博客
     </a>
    </h4>
    <hr/>
    <h4>
     进入
     <span style="color:#333333">
      它的
     </span>
     <span style="color:#be191c">
      create_conf
     </span>
    </h4>
    <h4>
     <a href="https://blog.csdn.net/weixin_41812346/article/details/146153231?sharetype=blogdetail&amp;sharerId=146153231&amp;sharerefer=PC&amp;sharesource=weixin_41812346&amp;spm=1011.2480.3001.8118" title="ngx_core_module_create_conf-CSDN博客">
      ngx_core_module_create_conf-CSDN博客
     </a>
    </h4>
    <h4>
    </h4>
    <hr/>
    <h4>
     第二个
     <span style="color:#be191c">
      NGX_CORE_MODULE
     </span>
     模块是
     <span style="color:#be191c">
      ngx_errlog_module
     </span>
    </h4>
    <h3>
     <a href="https://blog.csdn.net/weixin_41812346/article/details/146162787?sharetype=blogdetail&amp;sharerId=146162787&amp;sharerefer=PC&amp;sharesource=weixin_41812346&amp;spm=1011.2480.3001.8118" title="ngx_errlog_module-CSDN博客">
      ngx_errlog_module-CSDN博客
     </a>
    </h3>
    <h3>
     <span style="color:#333333">
      它的
     </span>
     <span style="color:#be191c">
      create_conf
     </span>
     <span style="color:#333333">
      是NULL
     </span>
     <br/>
    </h3>
    <hr/>
    <h4>
     下一个有
     <span style="color:#be191c">
      create_conf
     </span>
     <span style="color:#333333">
      的
     </span>
     <span style="color:#be191c">
      NGX_CORE_MODULE
     </span>
     模块
     <span style="color:#333333">
      是
     </span>
    </h4>
    <h4>
     <span style="color:#be191c">
      ngx_openssl_module
     </span>
    </h4>
    <h4>
    </h4>
    <h3>
     <a href="https://blog.csdn.net/weixin_41812346/article/details/146164346?sharetype=blogdetail&amp;sharerId=146164346&amp;sharerefer=PC&amp;sharesource=weixin_41812346&amp;spm=1011.2480.3001.8118" title="ngx_openssl_module-CSDN博客">
      ngx_openssl_module-CSDN博客
     </a>
    </h3>
    <h3>
     <a href="https://blog.csdn.net/weixin_41812346/article/details/146164500?sharetype=blogdetail&amp;sharerId=146164500&amp;sharerefer=PC&amp;sharesource=weixin_41812346&amp;spm=1011.2480.3001.8118" title="ngx_openssl_create_conf-CSDN博客">
      ngx_openssl_create_conf-CSDN博客
     </a>
    </h3>
    <hr/>
    <p>
    </p>
    <h4>
     下一个有
     <span style="color:#be191c">
      create_conf
     </span>
     <span style="color:#333333">
      的
     </span>
     <span style="color:#be191c">
      NGX_CORE_MODULE
     </span>
     模块
     <span style="color:#333333">
      是
     </span>
    </h4>
    <h3>
     <span style="color:#be191c">
      ngx_regex_module
     </span>
    </h3>
    <h4>
    </h4>
    <h3>
     <a href="https://blog.csdn.net/weixin_41812346/article/details/146164907?sharetype=blogdetail&amp;sharerId=146164907&amp;sharerefer=PC&amp;sharesource=weixin_41812346&amp;spm=1011.2480.3001.8118" title="ngx_regex_module-CSDN博客">
      ngx_regex_module-CSDN博客
     </a>
    </h3>
    <hr/>
    <h4>
    </h4>
    <h4>
    </h4>
    <h4>
     i=4
     <br/>
     cycle-&gt;modules[4]-&gt;name = ngx_regex_module
     <br/>
     cycle-&gt;modules[4]-&gt;type == NGX_CORE_MODULE
     <br/>
     module-&gt;create_conf = 0x5c9ee0263174
     <br/>
     cycle-&gt;conf_ctx[4] = 0x5c9f13b4c838
    </h4>
    <h4>
     i=5
     <br/>
     cycle-&gt;modules[5]-&gt;name = ngx_events_module
     <br/>
     cycle-&gt;modules[5]-&gt;type == NGX_CORE_MODULE
     <br/>
     module-&gt;create_conf = (nil)
    </h4>
    <h4>
     i=6
     <br/>
     cycle-&gt;modules[6]-&gt;name = ngx_event_core_module
     <br/>
     cycle-&gt;modules[6]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=7
     <br/>
     cycle-&gt;modules[7]-&gt;name = ngx_epoll_module
     <br/>
     cycle-&gt;modules[7]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=8
     <br/>
     cycle-&gt;modules[8]-&gt;name = ngx_http_module
     <br/>
     cycle-&gt;modules[8]-&gt;type == NGX_CORE_MODULE
     <br/>
     module-&gt;create_conf = (nil)
    </h4>
    <h4>
     i=9
     <br/>
     cycle-&gt;modules[9]-&gt;name = ngx_http_core_module
     <br/>
     cycle-&gt;modules[9]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=10
     <br/>
     cycle-&gt;modules[10]-&gt;name = ngx_http_log_module
     <br/>
     cycle-&gt;modules[10]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=11
     <br/>
     cycle-&gt;modules[11]-&gt;name = ngx_http_upstream_module
     <br/>
     cycle-&gt;modules[11]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=12
     <br/>
     cycle-&gt;modules[12]-&gt;name = ngx_http_v2_module
     <br/>
     cycle-&gt;modules[12]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=13
     <br/>
     cycle-&gt;modules[13]-&gt;name = ngx_http_static_module
     <br/>
     cycle-&gt;modules[13]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=14
     <br/>
     cycle-&gt;modules[14]-&gt;name = ngx_http_gzip_static_module
     <br/>
     cycle-&gt;modules[14]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=15
     <br/>
     cycle-&gt;modules[15]-&gt;name = ngx_http_autoindex_module
     <br/>
     cycle-&gt;modules[15]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=16
     <br/>
     cycle-&gt;modules[16]-&gt;name = ngx_http_index_module
     <br/>
     cycle-&gt;modules[16]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=17
     <br/>
     cycle-&gt;modules[17]-&gt;name = ngx_http_mirror_module
     <br/>
     cycle-&gt;modules[17]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=18
     <br/>
     cycle-&gt;modules[18]-&gt;name = ngx_http_try_files_module
     <br/>
     cycle-&gt;modules[18]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=19
     <br/>
     cycle-&gt;modules[19]-&gt;name = ngx_http_auth_basic_module
     <br/>
     cycle-&gt;modules[19]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=20
     <br/>
     cycle-&gt;modules[20]-&gt;name = ngx_http_access_module
     <br/>
     cycle-&gt;modules[20]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=21
     <br/>
     cycle-&gt;modules[21]-&gt;name = ngx_http_limit_conn_module
     <br/>
     cycle-&gt;modules[21]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=22
     <br/>
     cycle-&gt;modules[22]-&gt;name = ngx_http_limit_req_module
     <br/>
     cycle-&gt;modules[22]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=23
     <br/>
     cycle-&gt;modules[23]-&gt;name = ngx_http_geo_module
     <br/>
     cycle-&gt;modules[23]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=24
     <br/>
     cycle-&gt;modules[24]-&gt;name = ngx_http_map_module
     <br/>
     cycle-&gt;modules[24]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=25
     <br/>
     cycle-&gt;modules[25]-&gt;name = ngx_http_split_clients_module
     <br/>
     cycle-&gt;modules[25]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=26
     <br/>
     cycle-&gt;modules[26]-&gt;name = ngx_http_referer_module
     <br/>
     cycle-&gt;modules[26]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=27
     <br/>
     cycle-&gt;modules[27]-&gt;name = ngx_http_rewrite_module
     <br/>
     cycle-&gt;modules[27]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=28
     <br/>
     cycle-&gt;modules[28]-&gt;name = ngx_http_ssl_module
     <br/>
     cycle-&gt;modules[28]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=29
     <br/>
     cycle-&gt;modules[29]-&gt;name = ngx_http_proxy_module
     <br/>
     cycle-&gt;modules[29]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=30
     <br/>
     cycle-&gt;modules[30]-&gt;name = ngx_http_fastcgi_module
     <br/>
     cycle-&gt;modules[30]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=31
     <br/>
     cycle-&gt;modules[31]-&gt;name = ngx_http_uwsgi_module
     <br/>
     cycle-&gt;modules[31]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=32
     <br/>
     cycle-&gt;modules[32]-&gt;name = ngx_http_scgi_module
     <br/>
     cycle-&gt;modules[32]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=33
     <br/>
     cycle-&gt;modules[33]-&gt;name = ngx_http_grpc_module
     <br/>
     cycle-&gt;modules[33]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=34
     <br/>
     cycle-&gt;modules[34]-&gt;name = ngx_http_memcached_module
     <br/>
     cycle-&gt;modules[34]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=35
     <br/>
     cycle-&gt;modules[35]-&gt;name = ngx_http_empty_gif_module
     <br/>
     cycle-&gt;modules[35]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=36
     <br/>
     cycle-&gt;modules[36]-&gt;name = ngx_http_browser_module
     <br/>
     cycle-&gt;modules[36]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=37
     <br/>
     cycle-&gt;modules[37]-&gt;name = ngx_http_upstream_hash_module
     <br/>
     cycle-&gt;modules[37]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=38
     <br/>
     cycle-&gt;modules[38]-&gt;name = ngx_http_upstream_ip_hash_module
     <br/>
     cycle-&gt;modules[38]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=39
     <br/>
     cycle-&gt;modules[39]-&gt;name = ngx_http_upstream_least_conn_module
     <br/>
     cycle-&gt;modules[39]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=40
     <br/>
     cycle-&gt;modules[40]-&gt;name = ngx_http_upstream_random_module
     <br/>
     cycle-&gt;modules[40]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=41
     <br/>
     cycle-&gt;modules[41]-&gt;name = ngx_http_upstream_keepalive_module
     <br/>
     cycle-&gt;modules[41]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=42
     <br/>
     cycle-&gt;modules[42]-&gt;name = ngx_http_upstream_zone_module
     <br/>
     cycle-&gt;modules[42]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=43
     <br/>
     cycle-&gt;modules[43]-&gt;name = ngx_http_write_filter_module
     <br/>
     cycle-&gt;modules[43]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=44
     <br/>
     cycle-&gt;modules[44]-&gt;name = ngx_http_header_filter_module
     <br/>
     cycle-&gt;modules[44]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=45
     <br/>
     cycle-&gt;modules[45]-&gt;name = ngx_http_chunked_filter_module
     <br/>
     cycle-&gt;modules[45]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=46
     <br/>
     cycle-&gt;modules[46]-&gt;name = ngx_http_v2_filter_module
     <br/>
     cycle-&gt;modules[46]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=47
     <br/>
     cycle-&gt;modules[47]-&gt;name = ngx_http_range_header_filter_module
     <br/>
     cycle-&gt;modules[47]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=48
     <br/>
     cycle-&gt;modules[48]-&gt;name = ngx_http_gzip_filter_module
     <br/>
     cycle-&gt;modules[48]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=49
     <br/>
     cycle-&gt;modules[49]-&gt;name = ngx_http_postpone_filter_module
     <br/>
     cycle-&gt;modules[49]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=50
     <br/>
     cycle-&gt;modules[50]-&gt;name = ngx_http_ssi_filter_module
     <br/>
     cycle-&gt;modules[50]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=51
     <br/>
     cycle-&gt;modules[51]-&gt;name = ngx_http_charset_filter_module
     <br/>
     cycle-&gt;modules[51]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=52
     <br/>
     cycle-&gt;modules[52]-&gt;name = ngx_http_userid_filter_module
     <br/>
     cycle-&gt;modules[52]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=53
     <br/>
     cycle-&gt;modules[53]-&gt;name = ngx_http_headers_filter_module
     <br/>
     cycle-&gt;modules[53]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=54
     <br/>
     cycle-&gt;modules[54]-&gt;name = ngx_http_copy_filter_module
     <br/>
     cycle-&gt;modules[54]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=55
     <br/>
     cycle-&gt;modules[55]-&gt;name = ngx_http_range_body_filter_module
     <br/>
     cycle-&gt;modules[55]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=56
     <br/>
     cycle-&gt;modules[56]-&gt;name = ngx_http_not_modified_filter_module
     <br/>
     cycle-&gt;modules[56]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=57
     <br/>
     cycle-&gt;modules[57]-&gt;name = ngx_stream_module
     <br/>
     cycle-&gt;modules[57]-&gt;type == NGX_CORE_MODULE
     <br/>
     module-&gt;create_conf = (nil)
    </h4>
    <h4>
     i=58
     <br/>
     cycle-&gt;modules[58]-&gt;name = ngx_stream_core_module
     <br/>
     cycle-&gt;modules[58]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=59
     <br/>
     cycle-&gt;modules[59]-&gt;name = ngx_stream_log_module
     <br/>
     cycle-&gt;modules[59]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=60
     <br/>
     cycle-&gt;modules[60]-&gt;name = ngx_stream_proxy_module
     <br/>
     cycle-&gt;modules[60]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=61
     <br/>
     cycle-&gt;modules[61]-&gt;name = ngx_stream_upstream_module
     <br/>
     cycle-&gt;modules[61]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=62
     <br/>
     cycle-&gt;modules[62]-&gt;name = ngx_stream_write_filter_module
     <br/>
     cycle-&gt;modules[62]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=63
     <br/>
     cycle-&gt;modules[63]-&gt;name = ngx_stream_ssl_module
     <br/>
     cycle-&gt;modules[63]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=64
     <br/>
     cycle-&gt;modules[64]-&gt;name = ngx_stream_limit_conn_module
     <br/>
     cycle-&gt;modules[64]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=65
     <br/>
     cycle-&gt;modules[65]-&gt;name = ngx_stream_access_module
     <br/>
     cycle-&gt;modules[65]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=66
     <br/>
     cycle-&gt;modules[66]-&gt;name = ngx_stream_geo_module
     <br/>
     cycle-&gt;modules[66]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=67
     <br/>
     cycle-&gt;modules[67]-&gt;name = ngx_stream_map_module
     <br/>
     cycle-&gt;modules[67]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=68
     <br/>
     cycle-&gt;modules[68]-&gt;name = ngx_stream_split_clients_module
     <br/>
     cycle-&gt;modules[68]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=69
     <br/>
     cycle-&gt;modules[69]-&gt;name = ngx_stream_return_module
     <br/>
     cycle-&gt;modules[69]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=70
     <br/>
     cycle-&gt;modules[70]-&gt;name = ngx_stream_set_module
     <br/>
     cycle-&gt;modules[70]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=71
     <br/>
     cycle-&gt;modules[71]-&gt;name = ngx_stream_upstream_hash_module
     <br/>
     cycle-&gt;modules[71]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=72
     <br/>
     cycle-&gt;modules[72]-&gt;name = ngx_stream_upstream_least_conn_module
     <br/>
     cycle-&gt;modules[72]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=73
     <br/>
     cycle-&gt;modules[73]-&gt;name = ngx_stream_upstream_random_module
     <br/>
     cycle-&gt;modules[73]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <h4>
     i=74
     <br/>
     cycle-&gt;modules[74]-&gt;name = ngx_stream_upstream_zone_module
     <br/>
     cycle-&gt;modules[74]-&gt;type != NGX_CORE_MODULE
     <br/>
     continue
    </h4>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34313831323334362f:61727469636c652f64657461696c732f313436303235303831" class_="artid" style="display:none">
 </p>
</div>


