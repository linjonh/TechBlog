---
layout: post
title: "4个-Vue-mixin-的原理拆解"
date: 2025-03-16 12:47:16 +0800
description: "在 Vue2 中，存在一个冷门API， 那就是 mixin，反正我没怎么用过，哈哈。下面一起对 mixin 的原理进行拆解，重点是对比一下 Vue3 hook 的存在和妙用。"
keywords: "4个 Vue mixin 的原理拆解"
categories: ['未分类']
tags: ['前端', 'Vue', 'Javascript']
artid: "146293605"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146293605
    alt: "4个-Vue-mixin-的原理拆解"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146293605
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146293605
cover: https://bing.ee123.net/img/rand?artid=146293605
image: https://bing.ee123.net/img/rand?artid=146293605
img: https://bing.ee123.net/img/rand?artid=146293605
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     4个 Vue mixin 的原理拆解
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     大家好，我是大澈！一个喜欢结交朋友、喜欢编程技术和科技前沿的老程序员👨🏻‍💻，关注我，科技未来或许我能帮到你！
    </p>
    <p>
     在 Vue2 中，存在一个冷门API， 那就是 mixin，反正我没怎么用过，哈哈。
    </p>
    <p>
     下面一起对 mixin 的原理进行拆解，重点是对比一下 Vue3 hook 的存在和妙用。
    </p>
    <p>
     一、核心逻辑
    </p>
    <p>
     Vue 在创建组件实例时，Vue.mixin 或 局部mixin 会调用其内部的 mergeOptions 方法，将 mixin 选项和组件自身的选项合并起来。
    </p>
    <p>
     合并过程中，不同类型的选项（如 data、生命周期钩子、methods 等）采用不同的合并策略，确保各自的逻辑既不会互相覆盖又能协同工作。
    </p>
    <p>
     二、合并策略
    </p>
    <p>
     在选项合并过程中，Vue 对不同类型的选项采用了不同的策略。
    </p>
    <p>
     对于生命周期钩子，策略函数会将两者合并成一个数组，mixin 的先执行，组件的后执行。
    </p>
    <p>
     对于 data，调用两者各自的函数返回对象，并合并成一个对象，如果存在相同 key，组件中的定义会覆盖 mixin 中的定义。
    </p>
    <p>
     对于其它API，如 methods、computed、watch、props、directives、components、filters，分别合并成一个对象，如果存在相同 key，组件中的定义会覆盖 mixin 中的定义。
    </p>
    <p>
     三、优缺点
    </p>
    <p>
     优点：代码复用、简化三方库配置。
    </p>
    <p>
     缺点：命名冲突、全局污染。
    </p>
    <p>
     四、对比 Vue3 hook
    </p>
    <p>
     在 Composition API 中，你需要在组件的 setup 函数中明确调用并解构需要的 hook。
    </p>
    <p>
     这种方式使得组件依赖的逻辑和数据一目了然，不像 mixin 那样自动注入所有选项，避免了全局污染。
    </p>
    <p>
     独立的 hook 将逻辑封装在一个函数内，使得每个 hook 的功能单一且职责明确，避免了命名冲突。
    </p>
    <p>
     好了，今天要分享的内容就是这么多，联系和更多内容在绿色App搜【程序员大澈】，最后感谢朋友们给个点赞、分享、推荐，拜拜~
    </p>
   </div>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f37343830323431392f:61727469636c652f64657461696c732f313436323933363035" class_="artid" style="display:none">
 </p>
</div>


