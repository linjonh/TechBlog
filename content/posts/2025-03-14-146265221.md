---
layout: post
title: "dify-1.0.1-deepseek调用本地知识库"
date: 2025-03-14 19:19:45 +0800
description: "Dify 是一款开源的大语言模型(LLM) 应用开发平台。它融合了后端即服务（Backend as Service）和 LLMOps 的理念，使开发者可以快速搭建生产级的生成式 AI 应用。即使你是非技术人员，也能参与到 AI 应用的定义和数据运营过程中。由于 Dify 内置了构建 LLM 应用所需的关键技术栈，包括对数百个模型的支持、直观的 Prompt 编排界面、高质量的 RAG 引擎、稳健的 Agent 框架、灵活的流程编排，并同时提供了一套易用的界面和 API。"
keywords: "dify-1.0.1 + deepseek调用本地知识库"
categories: ['大模型']
tags: ['Ollama', 'Dify', 'Deepseek']
artid: "146265221"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146265221
    alt: "dify-1.0.1-deepseek调用本地知识库"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146265221
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146265221
cover: https://bing.ee123.net/img/rand?artid=146265221
image: https://bing.ee123.net/img/rand?artid=146265221
img: https://bing.ee123.net/img/rand?artid=146265221
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     dify-1.0.1 + deepseek调用本地知识库
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
    </p>
    <p>
    </p>
    <h3 id="%E4%B8%80%E3%80%81Dify%E7%9A%84%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3" name="%E4%B8%80%E3%80%81Dify%E7%9A%84%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3">
     一、Dify的参考文档
    </h3>
    <ol>
     <li>
      <a href="https://docs.dify.ai/zh-hans/guides/model-configuration" rel="nofollow" title="接入大模型 | Dify">
       接入大模型 | Dify
      </a>
     </li>
     <li>
      <a href="https://dify.ai/zh" rel="nofollow" title="https://dify.ai/zh">
       https://dify.ai/zh
      </a>
     </li>
    </ol>
    <h3 id="%C2%A0%E4%BA%8C%E3%80%81Ollama%E7%9A%84%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3" name="%C2%A0%E4%BA%8C%E3%80%81Ollama%E7%9A%84%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3">
     二、Ollama的参考文档
    </h3>
    <ol>
     <li>
      <a href="https://ollama.com/" rel="nofollow" title="https://ollama.com/">
       https://ollama.com/
      </a>
     </li>
     <li>
      <a href="https://ollama.com/library/deepseek-r1" rel="nofollow" title="deepseek-r1">
       deepseek-r1
      </a>
     </li>
    </ol>
    <h3 id="%E4%B8%89%E3%80%81%20%E5%90%AF%E5%8A%A8DIfy" name="%E4%B8%89%E3%80%81%20%E5%90%AF%E5%8A%A8DIfy">
     三、 启动DIfy
    </h3>
    <p>
     <a href="https://docs.dify.ai/zh-hans/getting-started/install-self-hosted/docker-compose" rel="nofollow" title="Docker Compose 部署 | Dify">
      Docker Compose 部署 | Dify
     </a>
    </p>
    <ol>
     <li>
      直接下载release版本的dify-1.0.1 ；
     </li>
     <li>
      进入 Dify 源代码的 Docker 目录： cd dify/docker；
     </li>
     <li>
      复制环境配置文件： cp .env.example .env；
      <pre><code>#最后添加以下代码，可以调用本地的知识库：
#Add Ollama
#启动自定义模型
CUSTOM_MODEL_ENABLED=true
#指定Ollama的API地址
OLLAMA_API_BASE_URL=host.docker.internal:11434</code></pre>
     </li>
     <li>
      <p>
       启动 Docker 容器
      </p>
      <p>
       根据你系统上的 Docker Compose 版本，选择合适的命令来启动容器。你可以通过
       <code>
        $ docker compose version
       </code>
       命令检查版本，详细说明请参考
       <a href="https://docs.docker.com/compose/#compose-v2-and-the-new-docker-compose-command" rel="nofollow" title="Docker 官方文档">
        Docker 官方文档
       </a>
       ：
       <img alt="" height="156" src="https://i-blog.csdnimg.cn/direct/553b8fad0d6644a298ad07e05fe9eb3b.png" width="759">
        运行命令后，你应该会看到类似以下的输出，显示所有容器的状态和端口映射：
        <img alt="" height="681" src="https://i-blog.csdnimg.cn/direct/0efc99bb60db42e7bde84ff06ba20fa2.png" width="792"/>
       </img>
      </p>
     </li>
     <li>
      <pre><code>自定义配置
编辑 .env 文件中的环境变量值。然后重新启动 Dify：

Copy
docker compose down
docker compose up -d
完整的环境变量集合可以在 docker/.env.example 中找到。</code></pre>
     </li>
    </ol>
    <p>
     <span style="color:#fe2c24">
      切记需要先启动Docker！！！！！
     </span>
    </p>
    <h3 id="%E5%9B%9B%E3%80%81Dify%E9%85%8D%E7%BD%AE%E7%95%8C%E9%9D%A2" name="%E5%9B%9B%E3%80%81Dify%E9%85%8D%E7%BD%AE%E7%95%8C%E9%9D%A2">
     四、Dify配置界面
    </h3>
    <p>
     1、打开
     <a href="http://localhost/apps" rel="nofollow" title="http://localhost/apps">
      http://localhost/apps
     </a>
    </p>
    <p>
     2、添加模型：地址与.env.最后的Ollama一致。
    </p>
    <p>
     <img alt="" height="921" src="https://i-blog.csdnimg.cn/direct/56b598fa435a4805a5db3776e6a2047b.png" width="643"/>
    </p>
    <p>
     3、显示添加的模型：
    </p>
    <p>
     <img alt="" height="1195" src="https://i-blog.csdnimg.cn/direct/79d0f80589bf436bab6b1d4bc1a44ec9.png" width="1096"/>
    </p>
    <h3 id="%E4%BA%94%E3%80%81%E6%9C%AC%E5%9C%B0%E7%9F%A5%E8%AF%86%E5%BA%93" name="%E4%BA%94%E3%80%81%E6%9C%AC%E5%9C%B0%E7%9F%A5%E8%AF%86%E5%BA%93">
     五、本地知识库
    </h3>
    <p>
     <img alt="" height="1279" src="https://i-blog.csdnimg.cn/direct/4fb39d19e5d347748aff8626e9ab470c.png" width="2551"/>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f7a68756c6f6e67313938342f:61727469636c652f64657461696c732f313436323635323231" class_="artid" style="display:none">
 </p>
</div>


