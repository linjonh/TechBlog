---
layout: post
title: "开发一个可以查询并显示数据库内容的微信小程序"
date: 2025-01-06 20:36:47 +0800
description: "使用微信开发者工具可以创建云数据库，并通过代码可以查询并在客户端显示数据库的内容。附：小程序一个功能"
keywords: "微信开发者工具连接本地数据库查询的数据怎么显示出来"
categories: ['未分类']
tags: ['无标签']
artid: "105672345"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=105672345
  alt: "开发一个可以查询并显示数据库内容的微信小程序"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=105672345
featuredImagePreview: https://bing.ee123.net/img/rand?artid=105672345
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     开发一个可以查询并显示数据库内容的微信小程序
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <div id="js_content">
     <p style="text-align: left">
      使用微信开发者工具可以创建云数据库，并通过代码可以查询并在客户端显示数据库的内容。
      <br/>
     </p>
     <p style="text-align: left">
      附：小程序一个功能页面有wxml(客户端呈现)，js(功能函数)，json，wxss(个性化处理)，这些是局部的文件。还有全局的文件如app.js和project.config.json。以上这些文件都需要用到。
     </p>
     <p style="text-align: left">
      <strong>
       一、创建云数据库
      </strong>
     </p>
     <p style="text-align: left">
      1. 在微信开发者的
      <strong>
       左上角
      </strong>
      点击“
      <strong>
       云开发
      </strong>
      ”，如图1。
      <strong>
       <br/>
      </strong>
     </p>
     <p style="text-align: center">
      <img src="https://i-blog.csdnimg.cn/blog_migrate/cf1575a82c279410b9a2fbf4ad54d2cf.png"/>
     </p>
     <p style="text-align: center">
      <strong>
      </strong>
      图1
      <br/>
     </p>
     <p style="text-align: left">
      2. 在弹出的界面中选择“
      <strong>
       数据库
      </strong>
      ”，如图2。
      <br/>
     </p>
     <p style="text-align: center">
      <img src="https://i-blog.csdnimg.cn/blog_migrate/e076ad7a0090464e79b56102f4e810a1.png"/>
     </p>
     <p style="text-align: center">
      图2
      <br/>
     </p>
     <p style="text-align: left">
      3.点击“
      <strong>
       +
      </strong>
      ”后会按照箭头顺序出现
      <strong>
       集合名
      </strong>
      (
      <strong>
       自己命名,
      </strong>
      如ccwl.)和
      <strong>
       记录ID
      </strong>
      (
      <strong>
       系统命名
      </strong>
      )，如图3。
     </p>
     <p style="text-align: center">
      <img src="https://i-blog.csdnimg.cn/blog_migrate/35ac48e8effd1c55691b610e10ca85de.png"/>
     </p>
     <p style="text-align: center">
      图3
      <br/>
     </p>
     <p style="text-align: left">
      4.在创建好数据库后，点击右上角的“
      <strong>
       设置
      </strong>
      ”，如图4。
     </p>
     <p style="text-align: center">
      <img src="https://i-blog.csdnimg.cn/blog_migrate/ed252a121f8496aedc77f6ec45e2ac1c.png"/>
     </p>
     <p style="text-align: center">
      图4
      <br/>
     </p>
     <p style="text-align: left">
      5. 在弹出的窗口中，要记住
      <strong>
       环境ID
      </strong>
      (如“
      <strong>
       exchange-nigx4
      </strong>
      ”)和刚才自己命名的
      <strong>
       集合名
      </strong>
      ，如图5。
     </p>
     <p style="text-align: center">
      <img src="https://i-blog.csdnimg.cn/blog_migrate/f8bfe326e2806c2a2115bb303e3131f7.png"/>
     </p>
     <p style="text-align: center">
      图5
      <br/>
     </p>
     <p style="text-align: left">
      <strong>
       二、客户端显示(wxml文件)
      </strong>
      <br/>
     </p>
     <p style="text-align: left">
      代码和注释：
     </p>
     <pre class="has"><code class="language-xml">&lt;view&gt;&lt;button bindtap="getData" type='primary'&gt;查询数据&lt;/button&gt;&lt;/view&gt; //建立名为getData的bingtap按钮，用以查询和返回数据。
&lt;view&gt;
  &lt;view wx:for="{<!-- -->{ne}}"&gt;      //将存储数据库返回值的ne输出
   &lt;view&gt;{<!-- -->{item.name}}&lt;/view&gt; //item.name表示姓名
   &lt;view&gt;{<!-- -->{item.age}}&lt;/view&gt;  //item.age表示年龄
   //可以根据自己的喜欢在数据库中加入自己喜欢的类别。
  &lt;/view&gt;
&lt;/view&gt;
//这里的view插件并没有个性化，可以使用class和wxss文件进行个性化。
</code></pre>
     <p style="text-align: left">
      <strong>
       三、后台控制(页面的js文件、app.js和project.config.json)
      </strong>
     </p>
     <p style="text-align: left">
      3.1 页面的js文件的代码和注释：
      <strong>
       <br/>
      </strong>
     </p>
     <pre class="has"><code class="language-javascript">const DB = wx.cloud.database().collection("ccwl")  //声明调用的数据库名称，将刚在自己命名的数据库名写入(如ccwl)
Page({
  //添加数据，开发者完成
  addData() {
    DB.add({
      data: {
        name: "chenchao",  //数据库的内容
        age: 25,
        ne: []
      },
      success(res) {
        console.log("添加成功", res)  //调试界面可以看到是否添加成功
      },
      fail(res) {
        console.log("添加失败", res)
      }
    })
  },
  //查询数据，用户使用
  getData() {
    DB.get({
      success: res =&gt; {
        console.log(res.data)
        this.setData({    //收集数据到ne中并返回
          ne: res.data
        })
      },
      fail(res) {
        console.log("查询失败", res)
      }
    })
  }
})

</code></pre>
<p style="text-align: left">
3.2 app.js 的代码和注释：
</p>
<pre class="has"><code class="language-css">App({
onLaunch: function () {
//云开发环境初始化
wx.cloud.init({
      env: "exchange-nigx4"    //初始化云服务，并将刚才的环境 ID 写入，如“exchange-nigx4”
})
}
})
</code></pre>
<p style="text-align: left">
3.3 project.config.json 的代码和注释：
</p>
<pre class="has"><code class="language-json">{
"description": "项目配置文件", //开发工具原有代码
  "cloudfunctionRoot": "cloud/",  //添加的代码，作用是调用云服务。
  **_还有其它的代码_**
  **_由于篇幅原因_**
  **_不予以展示_**
  }
</code></pre>
<p style="text-align: left">
<strong>
四、效果展示
</strong>
<br/>
</p>
<p style="text-align: left">
在 3.1 页面的 js 文件中，我们将“chenchao”和“25”写入，在点击“查询数据”后会显示。
<strong>
注意
</strong>
:
<strong>
</strong>
这里我加入了自己的个性化(背景色),可以在 wxss 文件中修改。
</p>
<p style="text-align: center">
<img src="https://i-blog.csdnimg.cn/blog_migrate/c81bacd705fcc0803fcd1d8083fe28c7.png"/>
</p>
<p style="text-align: left">
<strong>
五、视频演示
</strong>
</p>
<p style="text-align: left">
B 站视频链接：
</p>
<p>
https://www.bilibili.com/video/BV1ti4y1t7Qh/
</p>
<p>
<strong>
六、往期内容
</strong>
<br/>
</p>
<p>
<a href="https://blog.csdn.net/qq_36671997/article/details/105213348" rel="noopener noreferrer" target="_blank">
使用微信开发者工具制作小程序的基本方法
</a>
<strong>
<a href="http://mp.weixin.qq.com/s?__biz=MzIwMzUxMTg3NA%3D%3D&amp;chksm=96cf0369a1b88a7f8fafc92c01e0dd7074eb48d586f74eb0401b5d90117dfec5c212c3d96a6a&amp;idx=1&amp;mid=2247483972&amp;scene=21&amp;sn=73428407843b898c731943e7fbc87778#wechat_redirect" rel="nofollow">
</a>
<br/>
</strong>
</p>
<p>
<strong>
七、参考文献
</strong>
<br/>
</p>
<p style="text-align: left">
[1]  微信官方文档 《上手云数据库》
<br/>
</p>
<p style="text-align: left">
[2] weixin_30622181《微信小程序-获取云数据库某集合数据并显示在页面》 来源：CSDN
</p>
<p style="text-align: left">
[3]  编程小石头 《3 小时零基础入门微信小程序云开发，摆脱后台自己实现小程序后台服务器》 来源：哔哩哔哩
</p>
</div>

   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f33363637313939372f:61727469636c652f64657461696c732f313035363732333435" class_="artid" style="display:none">
 </p>
</div>
