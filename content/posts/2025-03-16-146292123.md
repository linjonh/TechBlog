---
layout: post
title: "有效的山脉数组-力扣941"
date: 2025-03-16 11:09:45 +0800
description: "给定一个整数数组arr，如果它是有效的山脉数组就返回true，否则返回false。让我们回顾一下，如果arrifalsefalsetrue。"
keywords: "有效的山脉数组 力扣941"
categories: ['双指针']
tags: ['算法', 'Leetcode', 'Java']
artid: "146292123"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146292123
    alt: "有效的山脉数组-力扣941"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146292123
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146292123
cover: https://bing.ee123.net/img/rand?artid=146292123
image: https://bing.ee123.net/img/rand?artid=146292123
img: https://bing.ee123.net/img/rand?artid=146292123
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     有效的山脉数组 力扣941
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2>
     一、题目
    </h2>
    <p>
     给定一个整数数组
     <code>
      arr
     </code>
     ，如果它是有效的山脉数组就返回
     <code>
      true
     </code>
     ，否则返回
     <code>
      false
     </code>
     。
    </p>
    <p>
     让我们回顾一下，如果
     <code>
      arr
     </code>
     满足下述条件，那么它是一个山脉数组：
    </p>
    <ul>
     <li>
      <code>
       arr.length &gt;= 3
      </code>
     </li>
     <li>
      在
      <code>
       0 &lt; i &lt; arr.length - 1
      </code>
      条件下，存在
      <code>
       i
      </code>
      使得：
      <ul>
       <li>
        <code>
         arr[0] &lt; arr[1] &lt; ... arr[i-1] &lt; arr[i]
        </code>
       </li>
       <li>
        <code>
         arr[i] &gt; arr[i+1] &gt; ... &gt; arr[arr.length - 1]
        </code>
       </li>
      </ul>
     </li>
    </ul>
    <p>
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="563" src="https://i-blog.csdnimg.cn/img_convert/d7a66909b23d873f3eaadccef51525ff.png" width="892"/>
    </p>
    <p>
    </p>
    <p>
     <strong>
      示例 1：
     </strong>
    </p>
    <pre><strong>输入：</strong>arr = [2,1]
<strong>输出：</strong>false
</pre>
    <p>
     <strong>
      示例 2：
     </strong>
    </p>
    <pre><strong>输入：</strong>arr = [3,5,5]
<strong>输出：</strong>false
</pre>
    <p>
     <strong>
      示例 3：
     </strong>
    </p>
    <pre><strong>输入：</strong>arr = [0,3,2,1]
<strong>输出：</strong>true</pre>
    <p>
    </p>
    <h2>
     二、思路
    </h2>
    <p>
     第一时间想到的是先找到数字的最大值的下标也就是山峰的位置，再分别判断左半和右半是否是严格递增和递减的。不过要注意数组单调的话也不是山脉数组。
    </p>
    <p>
     然后再想有没有别的方法更高效，看了大佬的思路发现可以用相向指针解决。
    </p>
    <p>
     <img alt="" height="477" src="https://i-blog.csdnimg.cn/direct/a07bcf30f57c443ea92925a8dda516d5.png" width="990"/>
    </p>
    <p>
     <img alt="" height="162" src="https://i-blog.csdnimg.cn/direct/b0f381e9df9143cbb96127109786e74c.png" width="1088">
     </img>
    </p>
    <h2>
     三、代码
    </h2>
    <p>
     遍历法：
    </p>
    <pre><code class="language-java">class Solution {
    public boolean validMountainArray(int[] arr) {
        if(arr.length &lt; 3) {
            return false;
        }
        //先找到数字的最大值的下标也就是山峰的位置
        int max = 0;
        int index = 0;
        for(int i = 0;i&lt; arr.length;i++) {
            if(arr[i] &gt; max) {
                max = arr[i];
                index = i;
            }
        }
        //单调的话也不是山峰
        if(index == arr.length - 1 || index == 0) {
            return false;
        }
        //再分别判断左半和右半是否是严格递增和递减的。
        for(int j = 0;j &lt; index;j++) {
            if(arr[j] &gt;= arr[j+1]) {
                return false;
            }
        }
        for(int j = index;j&lt;arr.length - 1;j++) {
            if(arr[j] &lt;= arr[j+1]) {
                return false;
            }
        }
        return true;
    }
}</code></pre>
    <p>
     双指针法：
    </p>
    <p>
    </p>
    <pre><code class="language-java">class Solution {
    public boolean validMountainArray(int[] arr) {
        if (arr.length &lt; 3) { // 此时，一定不是有效的山脉数组
            return false;
        }
        // 双指针
        int left = 0;
        int right = arr.length - 1;
        // 注意防止指针越界
        while (left + 1 &lt; arr.length &amp;&amp; arr[left] &lt; arr[left + 1]) {
            left++;
        }
        // 注意防止指针越界
        while (right &gt; 0 &amp;&amp; arr[right] &lt; arr[right - 1]) {
            right--;
        }
        // 如果left或者right都在起始位置，说明不是山峰
        if (left == right &amp;&amp; left != 0 &amp;&amp; right != arr.length - 1) {
            return true;
        }
        return false;
    }
}</code></pre>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f36353033313433322f:61727469636c652f64657461696c732f313436323932313233" class_="artid" style="display:none">
 </p>
</div>


