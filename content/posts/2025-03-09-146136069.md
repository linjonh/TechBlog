---
layout: post
title: "Maven"
date: 2025-03-09 18:06:05 +0800
description: "Maven 是一款用于管理和构建Java项目的工具 主要特性有。"
keywords: "Maven"
categories: ['未分类']
tags: ['Maven', 'Java']
artid: "146136069"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146136069
    alt: "Maven"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146136069
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146136069
cover: https://bing.ee123.net/img/rand?artid=146136069
image: https://bing.ee123.net/img/rand?artid=146136069
img: https://bing.ee123.net/img/rand?artid=146136069
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Maven
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="Maven_0">
     </a>
     Maven
    </h2>
    <p>
     Maven 是一款用于管理和构建Java项目的工具 主要特性有
    </p>
    <ol>
     <li>
      依赖管理
     </li>
     <li>
      项目构建
     </li>
     <li>
      统一项目结构
     </li>
    </ol>
    <h4>
     <a id="_8">
     </a>
     依赖管理
    </h4>
    <p>
     <strong>
      1). 使用maven前
     </strong>
    </p>
    <p>
     我们项目中要想使用某一个jar包，就需要把这个jar包从官方网站下载下来，然后再导入到项目中。然后在这个项目中，就可以使用这个jar包了。
    </p>
    <p>
     <strong>
      2). 使用maven后
     </strong>
    </p>
    <p>
     当使用maven进行项目依赖(jar包)管理，则很方便的可以解决这个问题。 我们只需要在maven项目的pom.xml文件中，比如说需要用到mybatis技术栈
    </p>
    <pre><code class="prism language-java"> <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>mybatis<span class="token operator">-</span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">1.3</span><span class="token number">.1</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
</code></pre>
    <p>
     在maven项目的配置文件中，加入上面这么一段配置信息之后，maven会自动的根据配置信息的描述，去下载对应的依赖。 然后在项目中，就可以直接使用了。
    </p>
    <h4>
     <a id="_28">
     </a>
     项目构建
    </h4>
    <p>
     Maven还提供了标准化的跨平台的自动化构建方式。
    </p>
    <p>
     在maven中 提供了一套系统的规定来帮助我们构建项目 编译 测试 打包 发布
    </p>
    <p>
     通过Maven中的命令，就可以很方便的完成项目的编译(compile)、测试(test)、打包(package)、发布(deploy) 等操作。
     <br/>
     而且这些操作都是跨平台的，也就是说无论你是Windows系统，还是Linux系统，还是Mac系统，这些命令都是支持的。
    </p>
    <h4>
     <a id="_37">
     </a>
     统一项目结构
    </h4>
    <p>
     Maven 还提供了标准、统一的项目结构 意味着，无论我们使用的是什么开发工具，只要是基于maven构建的java项目，最终的目录结构都是相同的，如图所示。 那这样呢，我们使用Eclipse、MyEclipse、IDEA创建的maven项目，就可以在各个开发工具直接直接导入使用了，更加方便、快捷。
    </p>
    <p>
     main目录下存放的是项目的源代码，test目录下存放的是项目的测试代码。 而无论是在main还是在test下，都有两个目录，一个是java，用来存放源代码文件；另一个是resources，用来存放配置文件。
    </p>
    <p>
     <strong>
      Maven就是一款管理和构建java项目的工具。
     </strong>
    </p>
    <h4>
     <a id="Maven_45">
     </a>
     Maven模型
    </h4>
    <ul>
     <li>
      项目对象模型 (Project Object Model)
     </li>
     <li>
      依赖管理模型(Dependency)
     </li>
     <li>
      构建生命周期/阶段(Build lifecycle &amp; phases)
     </li>
    </ul>
    <h4>
     <a id="Maven_51">
     </a>
     Maven仓库
    </h4>
    <p>
     仓库：用于存储资源，管理各种jar包
    </p>
    <blockquote>
     <p>
      仓库的本质就是一个目录(文件夹)，这个目录被用来存储开发中所有依赖(就是jar包)和插件
     </p>
    </blockquote>
    <p>
     Maven仓库分为：
    </p>
    <ul>
     <li>
      本地仓库：自己计算机上的一个目录(用来存储jar包)
     </li>
     <li>
      中央仓库：由Maven团队维护的全球唯一的。仓库地址：https://repo1.maven.org/maven2/
     </li>
     <li>
      远程仓库(私服)：一般由公司团队搭建的私有仓库
     </li>
    </ul>
    <p>
     当项目中使用坐标引入对应依赖jar包后，
    </p>
    <ul>
     <li>
      首先会查找本地仓库中是否有对应的jar包
      <ul>
       <li>
        如果有，则在项目直接引用
       </li>
       <li>
        如果没有，则去中央仓库中下载对应的jar包到本地仓库
       </li>
      </ul>
     </li>
     <li>
      如果还可以搭建远程仓库(私服)，将来jar包的查找顺序则变为： 本地仓库 --&gt; 远程仓库–&gt; 中央仓库
     </li>
    </ul>
    <h3>
     <a id="pom_71">
     </a>
     pom文件详解
    </h3>
    <p>
     POM (Project Object Model) ：指的是项目对象模型，用来描述当前的maven项目。
    </p>
    <pre><code class="prism language-java"><span class="token operator">&lt;</span>project xmlns<span class="token operator">=</span><span class="token string">"http://maven.apache.org/POM/4.0.0"</span> xmlns<span class="token operator">:</span>xsi<span class="token operator">=</span><span class="token string">"http://www.w3.org/2001/XMLSchema-instance"</span>
	xsi<span class="token operator">:</span>schemaLocation<span class="token operator">=</span><span class="token string">"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"</span><span class="token operator">&gt;</span>
	<span class="token generics"><span class="token punctuation">&lt;</span>modelVersion<span class="token punctuation">&gt;</span></span><span class="token number">4.0</span><span class="token number">.0</span><span class="token operator">&lt;</span><span class="token operator">/</span>modelVersion<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token class-name">Spring</span> <span class="token class-name">Boot</span> 启动父依赖 <span class="token operator">--</span><span class="token operator">&gt;</span>
	<span class="token generics"><span class="token punctuation">&lt;</span>parent<span class="token punctuation">&gt;</span></span>
		<span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
		<span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>parent<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
		<span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">2.5</span><span class="token number">.6</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>relativePath<span class="token operator">/</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>parent<span class="token operator">&gt;</span>
	<span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>com<span class="token punctuation">.</span>rabbiter<span class="token punctuation">.</span>sms<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
	<span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>student<span class="token operator">-</span>score<span class="token operator">-</span>backend<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
	<span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">0.0</span><span class="token number">.1</span><span class="token operator">-</span><span class="token constant">SNAPSHOT</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
	<span class="token generics"><span class="token punctuation">&lt;</span>name<span class="token punctuation">&gt;</span></span><span class="token class-name">StudentManagerSystemApi</span><span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
	<span class="token generics"><span class="token punctuation">&lt;</span>description<span class="token punctuation">&gt;</span></span><span class="token class-name">Demo</span> project <span class="token keyword">for</span> <span class="token class-name">Spring</span> <span class="token class-name">Boot</span><span class="token operator">&lt;</span><span class="token operator">/</span>description<span class="token operator">&gt;</span>

    <span class="token generics"><span class="token punctuation">&lt;</span>properties<span class="token punctuation">&gt;</span></span>
        <span class="token operator">&lt;</span>mybatis<span class="token operator">-</span>spring<span class="token operator">-</span>boot<span class="token operator">&gt;</span><span class="token number">1.2</span><span class="token number">.0</span><span class="token operator">&lt;</span><span class="token operator">/</span>mybatis<span class="token operator">-</span>spring<span class="token operator">-</span>boot<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>mysql<span class="token operator">-</span>connector<span class="token operator">&gt;</span><span class="token number">5.1</span><span class="token number">.39</span><span class="token operator">&lt;</span><span class="token operator">/</span>mysql<span class="token operator">-</span>connector<span class="token operator">&gt;</span>
		<span class="token generics"><span class="token punctuation">&lt;</span>java<span class="token punctuation">.</span>version<span class="token punctuation">&gt;</span></span><span class="token number">1.8</span><span class="token operator">&lt;</span><span class="token operator">/</span>java<span class="token punctuation">.</span>version<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>properties<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>project<span class="token operator">&gt;</span>
</code></pre>
    <p>
     <strong>
      pom文件详解：
     </strong>
    </p>
    <ul>
     <li>
      <code>
       &lt;project&gt;
      </code>
      ：pom文件的根标签，表示当前maven项目
     </li>
     <li>
      <code>
       &lt;modelVersion&gt;
      </code>
      ：声明项目描述遵循哪一个POM模型版本
      <ul>
       <li>
        虽然模型本身的版本很少改变，但它仍然是必不可少的。目前POM模型版本是4.0.0
       </li>
      </ul>
     </li>
     <li>
      坐标 ：
      <ul>
       <li>
        <code>
         &lt;groupId&gt;
        </code>
        <code>
         &lt;artifactId&gt;
        </code>
        <code>
         &lt;version&gt;
        </code>
       </li>
       <li>
        定位项目在本地仓库中的位置，由以上三个标签组成一个坐标
       </li>
      </ul>
     </li>
     <li>
      <code>
       &lt;maven.compiler.source&gt;
      </code>
      ：编译JDK的版本
     </li>
     <li>
      <code>
       &lt;maven.compiler.target&gt;
      </code>
      ：运行JDK的版本
     </li>
     <li>
      <code>
       &lt;project.build.sourceEncoding&gt;
      </code>
      : 设置项目的字符集
     </li>
    </ul>
    <h3>
     <a id="Maven_112">
     </a>
     Maven坐标
    </h3>
    <p>
     什么是坐标？
    </p>
    <ul>
     <li>
      Maven中的坐标是
      <strong>
       资源的唯一标识
      </strong>
      , 通过该坐标可以唯一定位资源位置
     </li>
     <li>
      使用坐标来定义项目或引入项目中需要的依赖
     </li>
    </ul>
    <p>
     Maven坐标主要组成：
    </p>
    <ul>
     <li>
      groupId：定义当前Maven项目隶属组织名称（通常是域名反写，例如：com.itheima）
     </li>
     <li>
      artifactId：定义当前Maven项目名称（通常是模块名称，例如 order-service、goods-service）
     </li>
     <li>
      version：定义当前项目版本号
      <ul>
       <li>
        SNAPSHOT: 功能不稳定、尚处于开发中的版本，即快照版本
       </li>
       <li>
        RELEASE: 功能趋于稳定、当前更新停止，可以用于发行的版本
       </li>
      </ul>
     </li>
    </ul>
    <pre><code class="prism language-java"><span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
			<span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>com<span class="token punctuation">.</span>auth0<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
			<span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>java<span class="token operator">-</span>jwt<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
			<span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">3.4</span><span class="token number">.0</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
</code></pre>
    <h3>
     <a id="_135">
     </a>
     依赖管理
    </h3>
    <ol>
     <li>
      基本配置
     </li>
    </ol>
    <p>
     依赖：指当前项目运行所需要的jar包。一个项目中可以引入多个依赖：
    </p>
    <p>
     例如：在当前工程中，我们需要用到logback来记录日志，此时就可以在maven工程的pom.xml文件中，引入logback的依赖。具体步骤如下：
    </p>
    <ol>
     <li>
      在pom.xml中编写
      <code>
       &lt;dependencies&gt;
      </code>
      标签
     </li>
     <li>
      在
      <code>
       &lt;dependencies&gt;
      </code>
      标签中使用
      <code>
       &lt;dependency&gt;
      </code>
      引入坐标
     </li>
     <li>
      定义坐标的
      <code>
       groupId
      </code>
      、
      <code>
       artifactId
      </code>
      、
      <code>
       version
      </code>
     </li>
    </ol>
    <pre><code>&lt;dependencies&gt;
    &lt;!-- 依赖 : spring-context --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework&lt;/groupId&gt;
        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
        &lt;version&gt;6.1.4&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;

</code></pre>
    <ol>
     <li>
      点击刷新按钮，引入最新加入的坐标
     </li>
    </ol>
    <p>
     刷新依赖：保证每一次引入新的依赖，或者修改现有的依赖配置，都可以加入最新的坐标
    </p>
    <p>
     <strong>
      排除依赖 指主动断开依赖的资源，被排除的资源无需指定版本。
     </strong>
    </p>
    <p>
     引入需要排除的依赖
    </p>
    <h3>
     <a id="_167">
     </a>
     生命周期
    </h3>
    <p>
     Maven的生命周期就是为了对所有的构建过程进行抽象和统一。 描述了一次项目构建，经历哪些阶段。Maven从大量项目和构建工具中学习和反思，然后总结了一套高度完美的，易扩展的项目构建生命周期。这个生命周期包含了项目的清理，初始化，编译，测试，打包，集成测试，验证，部署和站点生成等几乎所有构建步骤。
    </p>
    <ul>
     <li>
      clean：清理工作。
     </li>
     <li>
      default：核心工作。如：编译、测试、打包、安装、部署等。
     </li>
     <li>
      site：生成报告、发布站点等。
     </li>
    </ul>
    <p>
     每套生命周期包含一些阶段（phase），阶段是有顺序的，后面的阶段依赖于前面的阶段。
    </p>
    <p>
     我们看到这三套生命周期，里面有很多很多的阶段，这么多生命周期阶段，其实我们常用的并不多，主要关注以下几个：
    </p>
    <ul>
     <li>
      clean：移除上一次构建生成的文件
     </li>
     <li>
      compile：编译项目源代码
     </li>
     <li>
      test：使用合适的单元测试框架运行测试(junit)
     </li>
     <li>
      package：将编译后的文件打包，如：jar、war等
     </li>
     <li>
      install：安装项目到本地仓库
     </li>
    </ul>
    <p>
     Maven的生命周期是抽象的，这意味着生命周期本身不做任何实际工作。
     <strong>
      在Maven的设计中，实际任务（如源代码编译）都交由插件来完成。
     </strong>
    </p>
    <p>
     IDEA工具为了方便程序员使用maven生命周期，在右侧的maven工具栏中，已给出快速访问通道。
    </p>
    <ul>
     <li>
      生命周期的顺序是：
      <code>
       clean
      </code>
      --&gt;
      <code>
       validate
      </code>
      --&gt;
      <code>
       compile
      </code>
      --&gt;
      <code>
       test
      </code>
      --&gt;
      <code>
       package
      </code>
      --&gt;
      <code>
       verify
      </code>
      --&gt;
      <code>
       install
      </code>
      --&gt;
      <code>
       site
      </code>
      --&gt;
      <code>
       deploy
      </code>
     </li>
     <li>
      我们需要关注的就是：
      <code>
       clean
      </code>
      --&gt;
      <code>
       compile
      </code>
      --&gt;
      <code>
       test
      </code>
      --&gt;
      <code>
       package
      </code>
      --&gt;
      <code>
       install
      </code>
     </li>
    </ul>
    <p>
     **说明：**在同一套生命周期中，我们在执行后面的生命周期时，前面的生命周期都会执行。
    </p>
    <p>
     运行package生命周期时 clean不会运行，compile会运行。 因为compile与package属于同一套生命周期，而clean与package不属于同一套生命周期。
    </p>
    <p>
     在日常开发中，当我们要执行指定的生命周期时，有两种执行方式：
    </p>
    <ol>
     <li>
      在idea工具右侧的maven工具栏中，选择对应的生命周期，双击执行
     </li>
     <li>
      在DOS命令行中，通过maven命令执行
     </li>
    </ol>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323430355f38383431353237382f:61727469636c652f64657461696c732f313436313336303639" class_="artid" style="display:none">
 </p>
</div>


