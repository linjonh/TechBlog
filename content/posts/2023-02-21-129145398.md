---
arturl_encode: "68747470:733a2f2f626c6f672e6373646e2e6e65742f4949434f4f4d2f:61727469636c652f64657461696c732f313239313435333938"
layout: post
title: "å°ç¨‹åºå¯åŠ¨é¡µåŠ¨ç”»å®ç°"
date: 2023-02-21 17:13:06 +0800
description: "å¾®ä¿¡å°ç¨‹åºåˆšè¢«åŠ è½½æ—¶æ˜¯æœ‰è‡ªå·±é»˜è®¤åŠ¨ç”»çš„ï¼Œä½†æ˜¯è¿™ä¸ªåƒç¯‡ä¸€å¾‹ã€‚æˆ‘ä»¬å…¶å®å¯ä»¥åšä¸ªæ€§åŒ–çš„åŠ è½½ï¼Œå¸¦æ¥ä¸€ç‚¹ä¸ä¸€æ ·"
keywords: "å°ç¨‹åºå¼€å±åŠ¨ç”»"
categories: ['å¾®ä¿¡å°ç¨‹åºå¼€å‘']
tags: ['å¾®ä¿¡å°ç¨‹åº', 'å°ç¨‹åº']
artid: "129145398"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=129145398
    alt: "å°ç¨‹åºå¯åŠ¨é¡µåŠ¨ç”»å®ç°"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=129145398
featuredImagePreview: https://bing.ee123.net/img/rand?artid=129145398
---

# å°ç¨‹åºå¯åŠ¨é¡µåŠ¨ç”»å®ç°

> å¾®ä¿¡å°ç¨‹åºåˆšè¢«åŠ è½½æ—¶æ˜¯æœ‰è‡ªå·±é»˜è®¤åŠ¨ç”»çš„ï¼Œä½†æ˜¯è¿™ä¸ªåƒç¯‡ä¸€å¾‹ã€‚æˆ‘ä»¬å…¶å®å¯ä»¥åšä¸ªæ€§åŒ–çš„åŠ è½½ï¼Œå¸¦æ¥ä¸€ç‚¹ä¸ä¸€æ ·çš„æ„Ÿè§‰ã€‚æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š

å°ç¨‹åºåŠ è½½åŠ¨ç”»

> è¿™ä¸ªæ˜¯æ€ä¹ˆåšçš„å‘¢ï¼Ÿä½¿ç”¨çš„æ˜¯wx.createAnimation è¿™ä¸ªAPIï¼Œå…·ä½“å¦‚ä¸‹ï¼š

### [wx.createAnimation](https://developers.weixin.qq.com/miniprogram/dev/api/ui/animation/wx.createAnimation.html)

é¦–å…ˆæœ‰å¤§æ¦‚æ˜¯ä¸‹é¢çš„é¡µé¢ç»“æ„ï¼š

```html
<view class="progress_wrapper">
	<image src="../../static/home/slider.png" class="slider" animation="{{animationData}}"></image>
	<u-line-progress :percentage="percent" inactiveColor="rgba(0,0,0,.6)" activeColor="#fff"
	 class="p_bar"></u-line-progress>
	<view class="text-box">
		<text>åŠ è½½ä¸­...{{tweened.toFixed(0)}}%</text></br>
		<text>èµ„æºæ­£åœ¨ç–¯ç‹‚åŠ è½½ä¸­ï¼Œè¯·è€å¿ƒç­‰å¾…å“¦</text>
	</view>
</view>

```

åœ¨å°ç¨‹åºé¦–é¡µï¼ŒonLoadæ–¹æ³•ä¸­æ·»åŠ ä»£ç ï¼Œé¡µé¢åŠ è½½æ—¶è§¦å‘ã€‚

```js
Page({
  data: {
    animationData: {},
    percent: 0
  },
  onLoad: function(options) {
  	// éšè—tabBar
  	wx.hideTabBar()
	
	// è·å–è®¾å¤‡å®½åº¦å®šä½slider
	const info = wx.getSystemInfo()
	// åˆ›å»ºåŠ¨ç”»çš„æ–¹æ³•
	const animation = wx.createAnimation({
	      duration: 1000,
	        timingFunction: 'ease',
	    })
		
	// æŒ‰æ­¥éª¤æ‰§è¡ŒåŠ¨ç”» 1. è®©æ»‘å—ç§»åŠ¨åˆ°å¤§çº¦40%çš„ä½ç½®
	animation.translate((info.windowWidth-60)*0.4).step()
	//this.animationData = animation.export()
	//this.percent = 44
	this.setData({
		animationData: animation.export(),
		percent: 44
	})
		
	// å»¶æ—¶2ç§’ æ‰§è¡ŒåŠ¨ç”»2. è®©æ»‘å—ç§»åŠ¨åˆ°å¤§çº¦100%çš„ä½ç½®
	setTimeout(function() {
	  animation.translate(info.windowWidth-80).step()
	  //this.animationData = animation.export()
	  //this.percent = 100
	  this.setData({
		animationData: animation.export(),
		percent: 100
	  })
	}.bind(this), 2000)
  }
})

```

è¿™æ ·å°±èµ‹äºˆäº†å°ç¨‹åºä¸€äº›æ¸¸æˆçš„æ„Ÿè§‰ï¼Œä½ å­¦åºŸäº†å—ğŸ˜„

å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥æ‰«ç æŠŠç©ä¸€ä¸‹
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/f67e69369ba28919c75315fd57eb8701.jpeg#pic_center)