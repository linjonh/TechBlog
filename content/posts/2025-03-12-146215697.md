---
layout: post
title: "宇树ROS1开源模型在ROS2中Gazebo中仿真"
date: 2025-03-12 21:44:48 +08:00
description: "以GO1为例，在Ros2显示"
keywords: "宇树ROS1开源模型在ROS2中Gazebo中仿真"
categories: ['Gazebo']
tags: ['宇树', '仿真', 'Unitree', 'Go', 'Gazebo']
artid: "146215697"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146215697
    alt: "宇树ROS1开源模型在ROS2中Gazebo中仿真"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146215697
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146215697
cover: https://bing.ee123.net/img/rand?artid=146215697
image: https://bing.ee123.net/img/rand?artid=146215697
img: https://bing.ee123.net/img/rand?artid=146215697
---

# 宇树ROS1开源模型在ROS2中Gazebo中仿真
以GO1为例
### 1\. CMakelists.txt更新语法
cmake\_minimum\_required(VERSION 3.8)
project(go1\_description)
if(CMAKE\_COMPILER\_IS\_GNUCXX OR CMAKE\_CXX\_COMPILER\_ID MATCHES "Clang")
add\_compile\_options(-Wall -Wextra -Wpedantic)
endif()
# find dependencies
find\_package(ament\_cmake REQUIRED)
find\_package(rclcpp REQUIRED)
find\_package(std\_msgs REQUIRED)
find\_package(sensor\_msgs REQUIRED)
find\_package(gazebo\_ros REQUIRED)
find\_package(xacro REQUIRED)
# 安装URDF和Xacro文件
install(DIRECTORY
urdf/
DESTINATION share/${PROJECT\_NAME}/urdf
)
# 安装启动文件
install(DIRECTORY
launch/
DESTINATION share/${PROJECT\_NAME}/launch
)
ament\_package()
### 2\. packge.xml更新语法
xml version="1.0"?

go1\_description
0.0.0
The go1\_description package
unitree
TODO
ament\_cmake
rclcpp
std\_msgs
sensor\_msgs
gazebo\_ros
xacro
ament\_lint\_auto
ament\_lint\_common

ament\_cmake
### 3\. 新建launch文件
import os
from launch import LaunchDescription
from launch.actions import DeclareLaunchArgument, IncludeLaunchDescription
from launch.launch\_description\_sources import PythonLaunchDescriptionSource
from launch.substitutions import Command, LaunchConfiguration, PathJoinSubstitution
from launch\_ros.actions import Node
from ament\_index\_python.packages import get\_package\_share\_directory
def generate\_launch\_description():
pkg\_path = get\_package\_share\_directory('go1\_description')
# 使用xacro命令生成URDF
xacro\_file = os.path.join(pkg\_path, 'xacro', 'robot.xacro')
robot\_description = Command(['xacro ', xacro\_file])
# 启动Gazebo
gazebo = IncludeLaunchDescription(
PythonLaunchDescriptionSource([os.path.join(
get\_package\_share\_directory('gazebo\_ros'), 'launch', 'gazebo.launch.py'
)])
)
# 发布机器人状态
robot\_state\_publisher\_node = Node(
package='robot\_state\_publisher',
executable='robot\_state\_publisher',
output='both',
parameters=[{'robot\_description': robot\_description}]
)
# 在Gazebo中生成实体
spawn\_entity = Node(
package='gazebo\_ros',
executable='spawn\_entity.py',
arguments=['-topic', 'robot\_description', '-entity', 'my\_robot'],
output='screen'
)
return LaunchDescription([
DeclareLaunchArgument(
'world',
default\_value='worlds/empty.world'
),
gazebo,
robot\_state\_publisher\_node,
spawn\_entity,
])
### 4\. colcon编译包
cd ~/suo/unitree\_ros/robots/go1\_description
colcon build --packages-select go1\_description
source install/setup.bash
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/dec5eef5938c4fe094b2d868438f1007.png)
### 5\. 启动仿真
ros2 launch go1\_description spawn\_robot.launch.py
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/5e1ebfbab9044d02b0d0392b9b6eba1f.png)
### 6\. 最终效果
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/d63cf675350d40e480d5268c42800e04.png)