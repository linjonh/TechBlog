---
arturl_encode: "6874:7470733a2f2f626c6f672e6373646e2e6e65742f4a6d696c6b:2f61727469636c652f64657461696c732f3535303939313633"
layout: post
title: "H3C-CAS-介绍-基本概念"
date: 2024-09-14 11:00:01 +08:00
description: "目录目录基本概念H3C CAS 中的虚拟机虚拟机中的虚拟设备虚拟 CPU 的 3 种工作模式虚拟网卡"
keywords: "h3c cas"
categories: ['未分类']
tags: ['虚拟机', '数据中心', '交换机', '云计算', 'H']
artid: "55099163"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=55099163
  alt: "H3C-CAS-介绍-基本概念"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=55099163
featuredImagePreview: https://bing.ee123.net/img/rand?artid=55099163
---

# H3C CAS 介绍 & 基本概念

## 目录

* [目录](#目录)
* [基本概念](#基本概念)
* [H3C CAS 中的虚拟机](#h3c-cas-中的虚拟机)
  + [虚拟机中的虚拟设备](#虚拟机中的虚拟设备)
    - [虚拟 CPU 的 3 种工作模式](#虚拟-cpu-的-3-种工作模式)
    - [虚拟网卡的 3 种类型](#虚拟网卡的-3-种类型)
    - [虚拟磁盘的三种类型](#虚拟磁盘的三种类型)
    - [虚拟机辅助工具 CAS Tools](#虚拟机辅助工具-cas-tools)
  + [虚拟机外的虚拟设备](#虚拟机外的虚拟设备)
    - [虚拟交换机](#虚拟交换机)
  + [管理虚拟机](#管理虚拟机)

## 基本概念

**H3C CAS**
(云计算管理平台): 是面向数据中心推出的
*虚拟化和云计算*
管理软件. 包含了下列 4 大组件:

* **SSV**
  (用户自助服务门户): 构建以业务为中心的 “IT即服务” 模型.
* **CIC**
  (云业务管理中心): 将基础架构资源及其相关策略整合成数据中心资源池并按需计费, 是一个多租户的混合云架构.
* **CVK**
  (云虚拟化内核): 物理硬件之上的虚拟化 Kernel, 消除了上层虚拟机对硬件和驱动的依赖, 提高兼容性.
* **CVM**
  (云虚拟化管理系统): 对 DC 中含括的
  *计算/网络/存储*
  等硬件资源的软件虚拟化管理.

## H3C CAS 中的虚拟机

### 虚拟机中的虚拟设备

#### 虚拟 CPU 的 3 种工作模式

* **custom**
  : qemu 虚拟出的 CPU, CAS 缺省使用该模式, CPU 缺省为 qemu64 类型, 兼容性好,
  *但因支持的指令少,导致某些性能低(E.G. aes 加密等)*
  .
* **host-model**
  : 启动虚拟机前, 从 qemu 能够模拟出的 CPU 类型中选择一个和主机 CPU 最接近的型号,
  *迁移兼容性较差, amd 和 intel 之间不能迁移.*
* **host-passthrough**
  : 直接透传主机 CPU 型号和大部分功能给虚拟机, 迁移兼容性差,
  *只有在 CPU 特性完全相同的主机间才可以迁移, 同一厂商的不同代 CPU 间也不能迁移.*

#### 虚拟网卡的 3 种类型

* **普通网卡**
* **Intel1000 网卡**
* **VirtIO 网卡**
  : 是 CVK 虚拟化内核的软驱网卡, 可以提高虚拟机的网卡性能. Kernel 版本 2.6.25 以上的 Linux 系统默认安装了 VirtIO 驱动, 而 Windows 系统需要使用 CASTools 来安装 VirtIO 驱动.

#### 虚拟磁盘的三种类型

* **IDE 磁盘**
* **USB 磁盘**
  : USB 磁盘使用 USB 协议, 磁盘效率低下.
* **SCSI 磁盘**
  : Windows 系统默认没有 SCSI 磁盘驱动, 需要授权购买, 因此不建议使用 SCSI 磁盘.
* **VirtIO 磁盘**
  : Virtio 磁盘是经过优化的磁盘类型, 提高了磁盘的 I/O 性能, 其 I/O 性能优于 IDE.

#### 虚拟机辅助工具 CAS Tools

CAS Tools 作为 CAS CVM 的扩展, 能够获取虚拟机的
*CPU使用情况/内存使用情况/操作系统类型*
等信息. CAS Tools 包含在 CAS 安装光盘中, 安装完 CAS 后, 自动将 castools.iso 拷贝到
`/vms/isos/`
路径下. 该工具实现对虚拟机的控制与状态监控, 需要在虚拟机上额外安装该工具程序, 其在 Windows 中表现为一个 service, 在 Linux 中表现为一个 daemon, 与 CVM 之间通过 libvirtd 进行通信.

### 虚拟机外的虚拟设备

#### 虚拟交换机

* 用于完成虚拟机与外部网络之间、虚拟机与虚拟机之间的流量交换.
* 同一虚拟交换机可绑定多个不同的物理主机网卡做聚合,可自主选择负载均衡或者主备模式.

### 管理虚拟机

* **批量操作管理虚拟机**
* **修改单个虚拟机**
  : 能够修改
  *CPU/内存/网络/存储/网卡/Boot设备/加载驱动/USB/光驱*
* **链接克隆(一级软只读磁盘/二三级可读写硬磁盘)**
  : 链接克隆指的是对源虚拟机克隆时, 生成空白的磁盘文件, 并通过指针指向源虚拟机磁盘文件, 使用增量磁盘数据机制.
* **链接克隆虚拟机的克隆**
  : 对链接克隆产生的虚拟机进行克隆操作, 能够选择快速克隆或完全克隆.
* **链接克隆虚拟机的模板操作**
  : 对链接克隆产生的虚拟机克隆/转换为模板操作时, 会把一级、二级、三级磁盘镜像文件进行合并.
* **虚拟机模板**
  :
    
  + 克隆为模板: 原虚拟机不变,生成单独的模板文件
  + 转换为模板: 转换后原虚拟机不再存在
* **虚拟机备份**
  :
    
  + 全量备份
  + 增量备份: 备份上一次备份之后发生变化的数据
  + 差异备份: 备份上一次全量备份后发生变化的数据
* **虚拟机快照**
  :
    
  + 快照配置文件: 记录原虚拟机所有配置及快照时间
  + 快照内容: 存放在原虚拟机的磁盘文件内
* **虚拟机迁移**
  : 能够选择迁移主机或数据存储
* **虚拟机规则**
  : 虚拟机规则是集群中虚拟机
  *运行位置*
  的一种策略配置