---
layout: post
title: "python小游戏-移动木板"
date: 2024-07-08 16:02:16 +0800
description: "本文介绍了一个使用Python编写的移动木板小游戏"
keywords: "移动木板游戏"
categories: ['Python']
tags: ['游戏', 'Python', 'Pygame']
artid: "108940295"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=108940295
    alt: "python小游戏-移动木板"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=108940295
featuredImagePreview: https://bing.ee123.net/img/rand?artid=108940295
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     python小游戏-移动木板
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <div class="toc">
     <h4>
      文章目录
     </h4>
     <ul>
      <li>
       <a href="#_9" rel="nofollow">
        一、游戏简介
       </a>
      </li>
      <li>
       <a href="#_19" rel="nofollow">
        二、编写步骤
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#1_20" rel="nofollow">
          1.引入库
         </a>
        </li>
        <li>
         <a href="#2_38" rel="nofollow">
          2.初始化
         </a>
        </li>
        <li>
         <a href="#3_84" rel="nofollow">
          3.相关自定义函数
         </a>
        </li>
        <li>
         <a href="#4_123" rel="nofollow">
          4.相关自定义函数
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <hr color="#000000" size='1"'/>
    <h2>
     <a id="_9">
     </a>
     一、游戏简介
    </h2>
    <p>
     本游戏是通过python编写的小游戏，给初学者熟悉python编程语言抛砖引玉，希望有所帮助。
     <br/>
     成型的效果图如下：
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/aa3758a51489e80b73d564de06e464d2.png#pic_center">
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/eb5680ea4142f387bb186e97199ffa58.png#pic_center"/>
     </img>
    </p>
    <h2>
     <a id="_19">
     </a>
     二、编写步骤
    </h2>
    <h3>
     <a id="1_20">
     </a>
     1.引入库
    </h3>
    <p>
     <font color="#999AAA">
      代码如下：
     </font>
    </p>
    <pre><code class="prism language-c">###### AUTHOR<span class="token punctuation">:</span>破茧狂龙 ######
###### DATE<span class="token punctuation">:</span><span class="token number">20201002</span> ######
###### DESCRIPTION<span class="token punctuation">:</span>移动的木板 ######
import pygame
from pygame<span class="token punctuation">.</span>locals import <span class="token operator">*</span>
import sys
import time
import random
</code></pre>
    <h3>
     <a id="2_38">
     </a>
     2.初始化
    </h3>
    <p>
     <font color="#999AAA">
      代码如下：
     </font>
    </p>
    <pre><code class="prism language-c">pygame<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
BLACK <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> # 黑色
WHITE <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span> # 白色
bg_color <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">)</span>  # 背景颜色
red <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
green <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
bright_red <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
bright_green <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

smallText <span class="token operator">=</span> pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span><span class="token function">SysFont</span><span class="token punctuation">(</span><span class="token string">'SimHei'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span> #comicsansms
midlText <span class="token operator">=</span> pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span><span class="token function">SysFont</span><span class="token punctuation">(</span><span class="token string">'SimHei'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>

barsize <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>
SCREEN_SIZE <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">]</span>  # 屏幕大小
BALL_SIZE <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span>  # 球的尺寸
fontcolor <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">)</span>  # 定义字体的颜色

myimg <span class="token operator">=</span> r<span class="token string">"img\b1.jpg"</span>
background <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>myimg<span class="token punctuation">)</span> # 图片位置
background <span class="token operator">=</span> pygame<span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span>background<span class="token punctuation">,</span> SCREEN_SIZE<span class="token punctuation">)</span>

<span class="token macro property"># ball 初始位置</span>
ball_pos_x <span class="token operator">=</span> SCREEN_SIZE<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment">// 2 - BALL_SIZE[0] / 2</span>
ball_pos_y <span class="token operator">=</span> <span class="token number">0</span>

<span class="token macro property"># ball 移动方向</span>
ball_dir_y <span class="token operator">=</span> <span class="token number">1</span>  # <span class="token number">1</span><span class="token punctuation">:</span>down
ball_pos <span class="token operator">=</span> pygame<span class="token punctuation">.</span><span class="token function">Rect</span><span class="token punctuation">(</span>ball_pos_x<span class="token punctuation">,</span> ball_pos_y<span class="token punctuation">,</span> BALL_SIZE<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> BALL_SIZE<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span><span class="token function">Clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  # 定时器
screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span><span class="token function">set_mode</span><span class="token punctuation">(</span>SCREEN_SIZE<span class="token punctuation">)</span>
# 设置标题
pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span><span class="token function">set_caption</span><span class="token punctuation">(</span><span class="token string">'python小游戏-移动木板'</span><span class="token punctuation">)</span>
# 设置图标
image <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>myimg<span class="token punctuation">)</span>
pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span><span class="token function">set_icon</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span>
</code></pre>
    <hr color="#000000" size='1"'/>
    <h3>
     <a id="3_84">
     </a>
     3.相关自定义函数
    </h3>
    <p>
     <font color="#999AAA">
      代码如下：
     </font>
    </p>
    <pre><code class="prism language-c">###### 自定义函数 ######
def <span class="token function">button</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">,</span> ic<span class="token punctuation">,</span> ac<span class="token punctuation">,</span> action<span class="token operator">=</span>None<span class="token punctuation">)</span><span class="token punctuation">:</span>
    mouse <span class="token operator">=</span> pygame<span class="token punctuation">.</span>mouse<span class="token punctuation">.</span><span class="token function">get_pos</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    click <span class="token operator">=</span> pygame<span class="token punctuation">.</span>mouse<span class="token punctuation">.</span><span class="token function">get_pressed</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> x <span class="token operator">+</span> w <span class="token operator">&gt;</span> mouse<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> x and y <span class="token operator">+</span> h <span class="token operator">&gt;</span> mouse<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> y<span class="token punctuation">:</span>
        pygame<span class="token punctuation">.</span>draw<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span>screen<span class="token punctuation">,</span> ac<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> click<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span> and action <span class="token operator">!=</span> None<span class="token punctuation">:</span>
            <span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        pygame<span class="token punctuation">.</span>draw<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span>screen<span class="token punctuation">,</span> ic<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">)</span>
    textSurf<span class="token punctuation">,</span> textRect <span class="token operator">=</span> <span class="token function">text_objects</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> smallText<span class="token punctuation">)</span>
    textRect<span class="token punctuation">.</span>center <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token punctuation">(</span>w <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>y <span class="token operator">+</span> <span class="token punctuation">(</span>h <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    screen<span class="token punctuation">.</span><span class="token function">blit</span><span class="token punctuation">(</span>textSurf<span class="token punctuation">,</span> textRect<span class="token punctuation">)</span>

def <span class="token function">text_objects</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> font<span class="token punctuation">)</span><span class="token punctuation">:</span>
    textSurface <span class="token operator">=</span> font<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> True<span class="token punctuation">,</span> fontcolor<span class="token punctuation">)</span>
    <span class="token keyword">return</span> textSurface<span class="token punctuation">,</span> textSurface<span class="token punctuation">.</span><span class="token function">get_rect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

def <span class="token function">quitgame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    pygame<span class="token punctuation">.</span><span class="token function">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

def <span class="token function">message_diaplay</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">:</span>
    largeText <span class="token operator">=</span> pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span><span class="token function">SysFont</span><span class="token punctuation">(</span><span class="token string">'SimHei'</span><span class="token punctuation">,</span> <span class="token number">115</span><span class="token punctuation">)</span>
    TextSurf<span class="token punctuation">,</span> TextRect <span class="token operator">=</span> <span class="token function">text_objects</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> largeText<span class="token punctuation">)</span>
    TextRect<span class="token punctuation">.</span>center <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>screen<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>screen<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    screen<span class="token punctuation">.</span><span class="token function">blit</span><span class="token punctuation">(</span>TextSurf<span class="token punctuation">,</span> TextRect<span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    time<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token function">game_loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>


</code></pre>
    <hr color="#000000" size='1"'/>
    <h3>
     <a id="4_123">
     </a>
     4.相关自定义函数
    </h3>
    <p>
     <font color="#999AAA">
      代码如下：
     </font>
    </p>
    <pre><code class="prism language-c">
def <span class="token function">game_first_win</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    intro <span class="token operator">=</span> True
    <span class="token keyword">while</span> intro<span class="token punctuation">:</span>
        <span class="token keyword">for</span> event in pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span>type <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
                pygame<span class="token punctuation">.</span><span class="token function">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token function">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        screen<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>bg_color<span class="token punctuation">)</span>
        ###游戏名称
        TextSurf<span class="token punctuation">,</span> TextRect <span class="token operator">=</span> <span class="token function">text_objects</span><span class="token punctuation">(</span><span class="token string">'移动木板'</span><span class="token punctuation">,</span> midlText<span class="token punctuation">)</span>
        TextRect<span class="token punctuation">.</span>center <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>SCREEN_SIZE<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>SCREEN_SIZE<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">70</span> <span class="token punctuation">)</span><span class="token punctuation">)</span>
        screen<span class="token punctuation">.</span><span class="token function">blit</span><span class="token punctuation">(</span>TextSurf<span class="token punctuation">,</span> TextRect<span class="token punctuation">)</span>
        ###作者
        TextSurf_ZZ<span class="token punctuation">,</span> TextRect_ZZ <span class="token operator">=</span> <span class="token function">text_objects</span><span class="token punctuation">(</span><span class="token string">'AUTHOR:破茧狂龙'</span><span class="token punctuation">,</span> smallText<span class="token punctuation">)</span>
        TextRect_ZZ<span class="token punctuation">.</span>center <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>SCREEN_SIZE<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>SCREEN_SIZE<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        screen<span class="token punctuation">.</span><span class="token function">blit</span><span class="token punctuation">(</span>TextSurf_ZZ<span class="token punctuation">,</span> TextRect_ZZ<span class="token punctuation">)</span>
        <span class="token function">button</span><span class="token punctuation">(</span><span class="token string">"开始"</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> green<span class="token punctuation">,</span> bright_green<span class="token punctuation">,</span> game_loop<span class="token punctuation">)</span>
        <span class="token function">button</span><span class="token punctuation">(</span><span class="token string">"取消"</span><span class="token punctuation">,</span> <span class="token number">230</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> red<span class="token punctuation">,</span> bright_red<span class="token punctuation">,</span> quitgame<span class="token punctuation">)</span>
        pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        clock<span class="token punctuation">.</span><span class="token function">tick</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>

###### 移动的木板游戏类 ######
def <span class="token function">game_loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    pygame<span class="token punctuation">.</span>mouse<span class="token punctuation">.</span><span class="token function">set_visible</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  # 移动鼠标不可见
    ###变量###
    score <span class="token operator">=</span> <span class="token number">0</span> #分数
    count_O <span class="token operator">=</span> <span class="token number">0</span> #循环的次数变量<span class="token number">1</span> 用于统计等级
    count_N <span class="token operator">=</span> <span class="token number">0</span> #循环的次数变量<span class="token number">2</span> 用于统计等级
    c_level <span class="token operator">=</span> <span class="token number">1</span> #等级

    x_change <span class="token operator">=</span> <span class="token number">0</span> #移动的变量
    x <span class="token operator">=</span> SCREEN_SIZE<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment">// 2 - barsize[0] // 2</span>
    y <span class="token operator">=</span> SCREEN_SIZE<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> barsize<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>

    <span class="token macro property"># ball 初始位置</span>
    ball_pos_pz <span class="token operator">=</span> ball_pos
    <span class="token keyword">while</span> True<span class="token punctuation">:</span>
        bar_move_left <span class="token operator">=</span> False
        bar_move_right <span class="token operator">=</span> False
        ###当每次满X分后，升级等级
        <span class="token keyword">if</span> count_O <span class="token operator">!=</span> count_N and score <span class="token operator">%</span> <span class="token number">5</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            c_level <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span>
        count_O <span class="token operator">=</span> count_N
        ###### 获取键盘输入 ######
        <span class="token keyword">for</span> event in pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span>type <span class="token operator">==</span> QUIT<span class="token punctuation">:</span>  # 当按下关闭按键
                pygame<span class="token punctuation">.</span><span class="token function">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                sys<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  # 接收到退出事件后退出程序
            elif event<span class="token punctuation">.</span>type <span class="token operator">==</span> KEYDOWN<span class="token punctuation">:</span>
                ##按键盘Q键 暂停
                <span class="token keyword">if</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> pygame<span class="token punctuation">.</span>K_q<span class="token punctuation">:</span>
                    time<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
                ##左移动
                <span class="token keyword">if</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> pygame<span class="token punctuation">.</span>K_LEFT<span class="token punctuation">:</span>
                    bar_move_left <span class="token operator">=</span> True
                    x_change <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">30</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    bar_move_left <span class="token operator">=</span> False
                ##右移动
                <span class="token keyword">if</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> pygame<span class="token punctuation">.</span>K_RIGHT<span class="token punctuation">:</span>
                    bar_move_right <span class="token operator">=</span> True
                    x_change <span class="token operator">=</span> <span class="token operator">+</span><span class="token number">30</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    bar_move_right <span class="token operator">=</span> False
                <span class="token keyword">if</span> event<span class="token punctuation">.</span>key <span class="token operator">!=</span> pygame<span class="token punctuation">.</span>K_LEFT and event<span class="token punctuation">.</span>key <span class="token operator">!=</span> pygame<span class="token punctuation">.</span>K_RIGHT<span class="token punctuation">:</span>
                    bar_move_left <span class="token operator">=</span> False
                    bar_move_right <span class="token operator">=</span> False

            ##木板的位置移动
            <span class="token keyword">if</span> bar_move_left <span class="token operator">==</span> True and bar_move_right <span class="token operator">==</span> False<span class="token punctuation">:</span>
                x <span class="token operator">+</span><span class="token operator">=</span> x_change
            <span class="token keyword">if</span> bar_move_left <span class="token operator">==</span> False and bar_move_right <span class="token operator">==</span> True<span class="token punctuation">:</span>
                x <span class="token operator">+</span><span class="token operator">=</span> x_change

        ##填充背景
        screen<span class="token punctuation">.</span><span class="token function">blit</span><span class="token punctuation">(</span>background<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  # <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>代表图片位置起点x 轴  Y轴
        ##获取最新的木板位置，并渲染在前台
        bar_pos <span class="token operator">=</span> pygame<span class="token punctuation">.</span><span class="token function">Rect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> barsize<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> BALL_SIZE<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        bar_pos<span class="token punctuation">.</span>left <span class="token operator">=</span> x
        pygame<span class="token punctuation">.</span>draw<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span>screen<span class="token punctuation">,</span> WHITE<span class="token punctuation">,</span> bar_pos<span class="token punctuation">)</span>

        ## 球移动，并渲染在前台
        ball_pos_pz<span class="token punctuation">.</span>bottom <span class="token operator">+</span><span class="token operator">=</span> ball_dir_y <span class="token operator">*</span> <span class="token number">3</span>
        pygame<span class="token punctuation">.</span>draw<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span>screen<span class="token punctuation">,</span> WHITE<span class="token punctuation">,</span> ball_pos_pz<span class="token punctuation">)</span>

        ## 判断球是否落到板上
        <span class="token keyword">if</span> bar_pos<span class="token punctuation">.</span>top <span class="token operator">&lt;=</span> ball_pos_pz<span class="token punctuation">.</span>bottom and <span class="token punctuation">(</span>
                bar_pos<span class="token punctuation">.</span>left <span class="token operator">&lt;=</span> ball_pos_pz<span class="token punctuation">.</span>right and bar_pos<span class="token punctuation">.</span>right <span class="token operator">&gt;=</span> ball_pos_pz<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">:</span>
            score <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span>  # 分数每次加<span class="token number">1</span>
            count_N <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span>
        elif bar_pos<span class="token punctuation">.</span>top <span class="token operator">&lt;=</span> ball_pos_pz<span class="token punctuation">.</span>bottom and <span class="token punctuation">(</span>
                bar_pos<span class="token punctuation">.</span>left <span class="token operator">&gt;</span> ball_pos_pz<span class="token punctuation">.</span>right or bar_pos<span class="token punctuation">.</span>right <span class="token operator">&lt;</span> ball_pos_pz<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Game Over: "</span><span class="token punctuation">,</span> score<span class="token punctuation">)</span>
            <span class="token keyword">return</span> score

        ## 更新球下落的初始位置
        <span class="token keyword">if</span> bar_pos<span class="token punctuation">.</span>top <span class="token operator">&lt;=</span> ball_pos_pz<span class="token punctuation">.</span>bottom<span class="token punctuation">:</span>
            ball_x <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">randint</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> SCREEN_SIZE<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> BALL_SIZE<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            ball_pos_pz <span class="token operator">=</span> pygame<span class="token punctuation">.</span><span class="token function">Rect</span><span class="token punctuation">(</span>ball_x<span class="token punctuation">,</span> ball_pos_y<span class="token punctuation">,</span> BALL_SIZE<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> BALL_SIZE<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

        ######### 显示游戏等级 #########
        TextSurf_lev<span class="token punctuation">,</span> TextRect_lev <span class="token operator">=</span> <span class="token function">text_objects</span><span class="token punctuation">(</span><span class="token string">"等级 : "</span> <span class="token operator">+</span> <span class="token function">str</span><span class="token punctuation">(</span>c_level<span class="token punctuation">)</span><span class="token punctuation">,</span> smallText<span class="token punctuation">)</span>
        TextRect_lev<span class="token punctuation">.</span>center <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
        screen<span class="token punctuation">.</span><span class="token function">blit</span><span class="token punctuation">(</span>TextSurf_lev<span class="token punctuation">,</span> TextRect_lev<span class="token punctuation">)</span>

        ######### 显示分数结果 #########
        TextSurf_sco<span class="token punctuation">,</span> TextRect_sco <span class="token operator">=</span> <span class="token function">text_objects</span><span class="token punctuation">(</span><span class="token string">"分数 : "</span> <span class="token operator">+</span> <span class="token function">str</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">,</span> smallText<span class="token punctuation">)</span>
        TextRect_sco<span class="token punctuation">.</span>center <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
        screen<span class="token punctuation">.</span><span class="token function">blit</span><span class="token punctuation">(</span>TextSurf_sco<span class="token punctuation">,</span> TextRect_sco<span class="token punctuation">)</span>

        pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  # 更新软件界面显示
        clock<span class="token punctuation">.</span><span class="token function">tick</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>
</code></pre>
    <hr color="#000000" size='1"'/>
    # 三、完整的代码
    <p>
     <font color="#999AAA">
      代码如下：
     </font>
    </p>
    <pre><code class="prism language-c">###### AUTHOR<span class="token punctuation">:</span>破茧狂龙 ######
###### DATE<span class="token punctuation">:</span><span class="token number">20201002</span> ######
###### DESCRIPTION<span class="token punctuation">:</span>移动的木板 ######
import pygame
from pygame<span class="token punctuation">.</span>locals import <span class="token operator">*</span>
import sys
import time
import random

pygame<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
BLACK <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> # 黑色
WHITE <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span> # 白色
bg_color <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">)</span>  # 背景颜色
red <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
green <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
bright_red <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
bright_green <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

smallText <span class="token operator">=</span> pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span><span class="token function">SysFont</span><span class="token punctuation">(</span><span class="token string">'SimHei'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span> #comicsansms
midlText <span class="token operator">=</span> pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span><span class="token function">SysFont</span><span class="token punctuation">(</span><span class="token string">'SimHei'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>

barsize <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>
SCREEN_SIZE <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">]</span>  # 屏幕大小
BALL_SIZE <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span>  # 球的尺寸
fontcolor <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">)</span>  # 定义字体的颜色

myimg <span class="token operator">=</span> r<span class="token string">"img\b1.jpg"</span>
background <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>myimg<span class="token punctuation">)</span> # 图片位置
background <span class="token operator">=</span> pygame<span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span>background<span class="token punctuation">,</span> SCREEN_SIZE<span class="token punctuation">)</span>

<span class="token macro property"># ball 初始位置</span>
ball_pos_x <span class="token operator">=</span> SCREEN_SIZE<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment">// 2 - BALL_SIZE[0] / 2</span>
ball_pos_y <span class="token operator">=</span> <span class="token number">0</span>

<span class="token macro property"># ball 移动方向</span>
ball_dir_y <span class="token operator">=</span> <span class="token number">1</span>  # <span class="token number">1</span><span class="token punctuation">:</span>down
ball_pos <span class="token operator">=</span> pygame<span class="token punctuation">.</span><span class="token function">Rect</span><span class="token punctuation">(</span>ball_pos_x<span class="token punctuation">,</span> ball_pos_y<span class="token punctuation">,</span> BALL_SIZE<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> BALL_SIZE<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span><span class="token function">Clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  # 定时器
screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span><span class="token function">set_mode</span><span class="token punctuation">(</span>SCREEN_SIZE<span class="token punctuation">)</span>
# 设置标题
pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span><span class="token function">set_caption</span><span class="token punctuation">(</span><span class="token string">'python小游戏-移动木板'</span><span class="token punctuation">)</span>
# 设置图标
image <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>myimg<span class="token punctuation">)</span>
pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span><span class="token function">set_icon</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span>

###### 自定义函数 ######
def <span class="token function">button</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">,</span> ic<span class="token punctuation">,</span> ac<span class="token punctuation">,</span> action<span class="token operator">=</span>None<span class="token punctuation">)</span><span class="token punctuation">:</span>
    mouse <span class="token operator">=</span> pygame<span class="token punctuation">.</span>mouse<span class="token punctuation">.</span><span class="token function">get_pos</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    click <span class="token operator">=</span> pygame<span class="token punctuation">.</span>mouse<span class="token punctuation">.</span><span class="token function">get_pressed</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> x <span class="token operator">+</span> w <span class="token operator">&gt;</span> mouse<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> x and y <span class="token operator">+</span> h <span class="token operator">&gt;</span> mouse<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> y<span class="token punctuation">:</span>
        pygame<span class="token punctuation">.</span>draw<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span>screen<span class="token punctuation">,</span> ac<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> click<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span> and action <span class="token operator">!=</span> None<span class="token punctuation">:</span>
            <span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        pygame<span class="token punctuation">.</span>draw<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span>screen<span class="token punctuation">,</span> ic<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">)</span>
    textSurf<span class="token punctuation">,</span> textRect <span class="token operator">=</span> <span class="token function">text_objects</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> smallText<span class="token punctuation">)</span>
    textRect<span class="token punctuation">.</span>center <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token punctuation">(</span>w <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>y <span class="token operator">+</span> <span class="token punctuation">(</span>h <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    screen<span class="token punctuation">.</span><span class="token function">blit</span><span class="token punctuation">(</span>textSurf<span class="token punctuation">,</span> textRect<span class="token punctuation">)</span>

def <span class="token function">text_objects</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> font<span class="token punctuation">)</span><span class="token punctuation">:</span>
    textSurface <span class="token operator">=</span> font<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> True<span class="token punctuation">,</span> fontcolor<span class="token punctuation">)</span>
    <span class="token keyword">return</span> textSurface<span class="token punctuation">,</span> textSurface<span class="token punctuation">.</span><span class="token function">get_rect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

def <span class="token function">quitgame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    pygame<span class="token punctuation">.</span><span class="token function">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

def <span class="token function">message_diaplay</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">:</span>
    largeText <span class="token operator">=</span> pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span><span class="token function">SysFont</span><span class="token punctuation">(</span><span class="token string">'SimHei'</span><span class="token punctuation">,</span> <span class="token number">115</span><span class="token punctuation">)</span>
    TextSurf<span class="token punctuation">,</span> TextRect <span class="token operator">=</span> <span class="token function">text_objects</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> largeText<span class="token punctuation">)</span>
    TextRect<span class="token punctuation">.</span>center <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>screen<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>screen<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    screen<span class="token punctuation">.</span><span class="token function">blit</span><span class="token punctuation">(</span>TextSurf<span class="token punctuation">,</span> TextRect<span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    time<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token function">game_loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

def <span class="token function">game_first_win</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    intro <span class="token operator">=</span> True
    <span class="token keyword">while</span> intro<span class="token punctuation">:</span>
        <span class="token keyword">for</span> event in pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span>type <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
                pygame<span class="token punctuation">.</span><span class="token function">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token function">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        screen<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>bg_color<span class="token punctuation">)</span>
        ###游戏名称
        TextSurf<span class="token punctuation">,</span> TextRect <span class="token operator">=</span> <span class="token function">text_objects</span><span class="token punctuation">(</span><span class="token string">'移动木板'</span><span class="token punctuation">,</span> midlText<span class="token punctuation">)</span>
        TextRect<span class="token punctuation">.</span>center <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>SCREEN_SIZE<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>SCREEN_SIZE<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">70</span> <span class="token punctuation">)</span><span class="token punctuation">)</span>
        screen<span class="token punctuation">.</span><span class="token function">blit</span><span class="token punctuation">(</span>TextSurf<span class="token punctuation">,</span> TextRect<span class="token punctuation">)</span>
        ###作者
        TextSurf_ZZ<span class="token punctuation">,</span> TextRect_ZZ <span class="token operator">=</span> <span class="token function">text_objects</span><span class="token punctuation">(</span><span class="token string">'AUTHOR:破茧狂龙'</span><span class="token punctuation">,</span> smallText<span class="token punctuation">)</span>
        TextRect_ZZ<span class="token punctuation">.</span>center <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>SCREEN_SIZE<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>SCREEN_SIZE<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        screen<span class="token punctuation">.</span><span class="token function">blit</span><span class="token punctuation">(</span>TextSurf_ZZ<span class="token punctuation">,</span> TextRect_ZZ<span class="token punctuation">)</span>
        <span class="token function">button</span><span class="token punctuation">(</span><span class="token string">"开始"</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> green<span class="token punctuation">,</span> bright_green<span class="token punctuation">,</span> game_loop<span class="token punctuation">)</span>
        <span class="token function">button</span><span class="token punctuation">(</span><span class="token string">"取消"</span><span class="token punctuation">,</span> <span class="token number">230</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> red<span class="token punctuation">,</span> bright_red<span class="token punctuation">,</span> quitgame<span class="token punctuation">)</span>
        pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        clock<span class="token punctuation">.</span><span class="token function">tick</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>

###### 移动的木板游戏类 ######
def <span class="token function">game_loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    pygame<span class="token punctuation">.</span>mouse<span class="token punctuation">.</span><span class="token function">set_visible</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  # 移动鼠标不可见
    ###变量###
    score <span class="token operator">=</span> <span class="token number">0</span> #分数
    count_O <span class="token operator">=</span> <span class="token number">0</span> #循环的次数变量<span class="token number">1</span> 用于统计等级
    count_N <span class="token operator">=</span> <span class="token number">0</span> #循环的次数变量<span class="token number">2</span> 用于统计等级
    c_level <span class="token operator">=</span> <span class="token number">1</span> #等级

    x_change <span class="token operator">=</span> <span class="token number">0</span> #移动的变量
    x <span class="token operator">=</span> SCREEN_SIZE<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment">// 2 - barsize[0] // 2</span>
    y <span class="token operator">=</span> SCREEN_SIZE<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> barsize<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>

    <span class="token macro property"># ball 初始位置</span>
    ball_pos_pz <span class="token operator">=</span> ball_pos
    <span class="token keyword">while</span> True<span class="token punctuation">:</span>
        bar_move_left <span class="token operator">=</span> False
        bar_move_right <span class="token operator">=</span> False
        ###当每次满X分后，升级等级
        <span class="token keyword">if</span> count_O <span class="token operator">!=</span> count_N and score <span class="token operator">%</span> <span class="token number">5</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            c_level <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span>
        count_O <span class="token operator">=</span> count_N
        ###### 获取键盘输入 ######
        <span class="token keyword">for</span> event in pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span>type <span class="token operator">==</span> QUIT<span class="token punctuation">:</span>  # 当按下关闭按键
                pygame<span class="token punctuation">.</span><span class="token function">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                sys<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  # 接收到退出事件后退出程序
            elif event<span class="token punctuation">.</span>type <span class="token operator">==</span> KEYDOWN<span class="token punctuation">:</span>
                ##按键盘Q键 暂停
                <span class="token keyword">if</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> pygame<span class="token punctuation">.</span>K_q<span class="token punctuation">:</span>
                    time<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
                ##左移动
                <span class="token keyword">if</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> pygame<span class="token punctuation">.</span>K_LEFT<span class="token punctuation">:</span>
                    bar_move_left <span class="token operator">=</span> True
                    x_change <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">30</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    bar_move_left <span class="token operator">=</span> False
                ##右移动
                <span class="token keyword">if</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> pygame<span class="token punctuation">.</span>K_RIGHT<span class="token punctuation">:</span>
                    bar_move_right <span class="token operator">=</span> True
                    x_change <span class="token operator">=</span> <span class="token operator">+</span><span class="token number">30</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    bar_move_right <span class="token operator">=</span> False
                <span class="token keyword">if</span> event<span class="token punctuation">.</span>key <span class="token operator">!=</span> pygame<span class="token punctuation">.</span>K_LEFT and event<span class="token punctuation">.</span>key <span class="token operator">!=</span> pygame<span class="token punctuation">.</span>K_RIGHT<span class="token punctuation">:</span>
                    bar_move_left <span class="token operator">=</span> False
                    bar_move_right <span class="token operator">=</span> False

            ##木板的位置移动
            <span class="token keyword">if</span> bar_move_left <span class="token operator">==</span> True and bar_move_right <span class="token operator">==</span> False<span class="token punctuation">:</span>
                x <span class="token operator">+</span><span class="token operator">=</span> x_change
            <span class="token keyword">if</span> bar_move_left <span class="token operator">==</span> False and bar_move_right <span class="token operator">==</span> True<span class="token punctuation">:</span>
                x <span class="token operator">+</span><span class="token operator">=</span> x_change

        ##填充背景
        screen<span class="token punctuation">.</span><span class="token function">blit</span><span class="token punctuation">(</span>background<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  # <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>代表图片位置起点x 轴  Y轴
        ##获取最新的木板位置，并渲染在前台
        bar_pos <span class="token operator">=</span> pygame<span class="token punctuation">.</span><span class="token function">Rect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> barsize<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> BALL_SIZE<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        bar_pos<span class="token punctuation">.</span>left <span class="token operator">=</span> x
        pygame<span class="token punctuation">.</span>draw<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span>screen<span class="token punctuation">,</span> WHITE<span class="token punctuation">,</span> bar_pos<span class="token punctuation">)</span>

        ## 球移动，并渲染在前台
        ball_pos_pz<span class="token punctuation">.</span>bottom <span class="token operator">+</span><span class="token operator">=</span> ball_dir_y <span class="token operator">*</span> <span class="token number">3</span>
        pygame<span class="token punctuation">.</span>draw<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span>screen<span class="token punctuation">,</span> WHITE<span class="token punctuation">,</span> ball_pos_pz<span class="token punctuation">)</span>

        ## 判断球是否落到板上
        <span class="token keyword">if</span> bar_pos<span class="token punctuation">.</span>top <span class="token operator">&lt;=</span> ball_pos_pz<span class="token punctuation">.</span>bottom and <span class="token punctuation">(</span>
                bar_pos<span class="token punctuation">.</span>left <span class="token operator">&lt;=</span> ball_pos_pz<span class="token punctuation">.</span>right and bar_pos<span class="token punctuation">.</span>right <span class="token operator">&gt;=</span> ball_pos_pz<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">:</span>
            score <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span>  # 分数每次加<span class="token number">1</span>
            count_N <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span>
        elif bar_pos<span class="token punctuation">.</span>top <span class="token operator">&lt;=</span> ball_pos_pz<span class="token punctuation">.</span>bottom and <span class="token punctuation">(</span>
                bar_pos<span class="token punctuation">.</span>left <span class="token operator">&gt;</span> ball_pos_pz<span class="token punctuation">.</span>right or bar_pos<span class="token punctuation">.</span>right <span class="token operator">&lt;</span> ball_pos_pz<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Game Over: "</span><span class="token punctuation">,</span> score<span class="token punctuation">)</span>
            <span class="token keyword">return</span> score

        ## 更新球下落的初始位置
        <span class="token keyword">if</span> bar_pos<span class="token punctuation">.</span>top <span class="token operator">&lt;=</span> ball_pos_pz<span class="token punctuation">.</span>bottom<span class="token punctuation">:</span>
            ball_x <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">randint</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> SCREEN_SIZE<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> BALL_SIZE<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            ball_pos_pz <span class="token operator">=</span> pygame<span class="token punctuation">.</span><span class="token function">Rect</span><span class="token punctuation">(</span>ball_x<span class="token punctuation">,</span> ball_pos_y<span class="token punctuation">,</span> BALL_SIZE<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> BALL_SIZE<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

        ######### 显示游戏等级 #########
        TextSurf_lev<span class="token punctuation">,</span> TextRect_lev <span class="token operator">=</span> <span class="token function">text_objects</span><span class="token punctuation">(</span><span class="token string">"等级 : "</span> <span class="token operator">+</span> <span class="token function">str</span><span class="token punctuation">(</span>c_level<span class="token punctuation">)</span><span class="token punctuation">,</span> smallText<span class="token punctuation">)</span>
        TextRect_lev<span class="token punctuation">.</span>center <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
        screen<span class="token punctuation">.</span><span class="token function">blit</span><span class="token punctuation">(</span>TextSurf_lev<span class="token punctuation">,</span> TextRect_lev<span class="token punctuation">)</span>

        ######### 显示分数结果 #########
        TextSurf_sco<span class="token punctuation">,</span> TextRect_sco <span class="token operator">=</span> <span class="token function">text_objects</span><span class="token punctuation">(</span><span class="token string">"分数 : "</span> <span class="token operator">+</span> <span class="token function">str</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">,</span> smallText<span class="token punctuation">)</span>
        TextRect_sco<span class="token punctuation">.</span>center <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
        screen<span class="token punctuation">.</span><span class="token function">blit</span><span class="token punctuation">(</span>TextSurf_sco<span class="token punctuation">,</span> TextRect_sco<span class="token punctuation">)</span>

        pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  # 更新软件界面显示
        clock<span class="token punctuation">.</span><span class="token function">tick</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>

####程序执行顺序######
<span class="token function">game_first_win</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">game_loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
pygame<span class="token punctuation">.</span><span class="token function">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34343331333131352f:61727469636c652f64657461696c732f313038393430323935" class_="artid" style="display:none">
 </p>
</div>


