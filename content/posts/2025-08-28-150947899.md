---
layout: post
title: "Nginx-Certbot配置-HTTPS-SSL-证书简化版已测试"
date: 2025-08-28T11:45:32+0800
description: "本文介绍了使用Certbot工具为Nginx服务器配置HTTPS证书的完整流程。在已安装Nginx并开放80/443端口的前提下，通过yum安装Certbot及其Nginx插件，使用certbot --nginx -d yourdomain命令签发证书。文章还详细说明了证书续订方法：包括测试续订(--dry-run)、真实续订和自动续订配置（通过crontab计划任务每月自动执行续订并重载Nginx）。最后提醒签发后需重启Nginx使SSL配置生效。"
keywords: "Nginx + Certbot配置 HTTPS / SSL 证书(简化版已测试)"
categories: ['Shell']
tags: ['Ssl', 'Nginx', 'Https']
artid: "150947899"
arturl: "https://blog.csdn.net/m0_47460678/article/details/150947899"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=150947899
    alt: "Nginx-Certbot配置-HTTPS-SSL-证书简化版已测试"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=150947899
featuredImagePreview: https://bing.ee123.net/img/rand?artid=150947899
cover: https://bing.ee123.net/img/rand?artid=150947899
image: https://bing.ee123.net/img/rand?artid=150947899
img: https://bing.ee123.net/img/rand?artid=150947899
---



# Nginx + Certbot配置 HTTPS / SSL 证书(简化版已测试)



**前提条件：**  
1.已有域名  
2.Nginx 已安装并正在运行，且有对应的 Server 配置，在nginx.conf 中配置好80（http）  
3.防火墙开放 80 和 443 端口

```powershell
#安装certbot
yum install certbot -y

#安装python-certbot-nginx
yum install python-certbot-nginx -y

#签发证书，替换你的域名yourdomain
certbot --nginx -d yourdomain

#检查 Certbot 版本
certbot --version	

```

**重启nginx：**

```powershell
systemctl restart nginx

```

**测试 Certbot 自动续期：**

```powershell
certbot renew --dry-run

```

**真实续订（正式用）：**

```powershell
certbot renew

```

该命令会检查所有即将过期的证书，并尝试续订。注意：在使用完签发命令后，需重新nginx使站点ssl配置生效。

**自动续订（计划任务用）：**

```powershell
#该命令可以将续订命令添加到crontab计划任务中，以实现自动续订，并重启nginx。
certbot renew --quiet --renew-hook 'sudo systemctl reload nginx'

#假设crontab计划任务会在每月1号执行1次续订命令，并在续订后重载Nginx配置，具体示例如下。
0 0 1 * * certbot renew --quiet --renew-hook 'sudo systemctl reload nginx' > /dev/null 2>&1

```



