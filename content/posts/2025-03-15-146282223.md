---
layout: post
title: "rv1106上libwebsockets的编译"
date: 2025-03-15 17:26:20 +0800
description: "打开 luckfox-pico/sysdrv/source/buildroot/buildroot-2023.02.6/package/libwebsockets/libwebsockets.mk 文件，添加-DLWS_WITH_MINIMAL_EXAMPLES=ON。将从新编译好的rootfs镜像刷进去，重启rv1106摄像头，把例程scp上去。进入buildroot的配置界面，搜索libwebsockets，选中。例如，我想测试lws-minimal-ws-server这个程序，可以。"
keywords: "rk1106 单编译"
categories: ['未分类']
tags: ['Linux']
artid: "146282223"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146282223
    alt: "rv1106上libwebsockets的编译"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146282223
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146282223
cover: https://bing.ee123.net/img/rand?artid=146282223
image: https://bing.ee123.net/img/rand?artid=146282223
img: https://bing.ee123.net/img/rand?artid=146282223
---

# rv1106上libwebsockets的编译
#### 在buildroot中打开配置选项
$ ./build.sh buildrootconfig
进入buildroot的配置界面，搜索libwebsockets，选中。
#### 更改libwebsockets的配置文件
打开 luckfox-
pico/sysdrv/source/buildroot/buildroot-2023.02.6/package/libwebsockets/libwebsockets.mk
文件，添加-DLWS\_WITH\_MINIMAL\_EXAMPLES=ON
LIBWEBSOCKETS\_CONF\_OPTS = \
-DDISABLE\_WERROR=ON \
-DLWS\_WITHOUT\_TESTAPPS=ON \
-DLWS\_IPV6=ON \
-DLWS\_UNIX\_SOCK=ON \
-DLWS\_WITHOUT\_EXTENSIONS=OFF\
-DLWS\_WITH\_MINIMAL\_EXAMPLES=ON
这样会编译例程文件
#### 编译
./build.sh
重新编译
#### 测试
将从新编译好的rootfs镜像刷进去，重启rv1106摄像头，把例程scp上去
例如，我想测试lws-minimal-ws-server这个程序，可以
luckfox-pico/sysdrv/source/buildroot/buildroot-2023.02.6/output/build/libwebsockets-4.3.2/bin$ scp ./lws-minimal-ws-server root@192.168.9.163:/oem/usr/bin
luckfox-pico/sysdrv/source/buildroot/buildroot-2023.02.6/output/build/libwebsockets-4.3.2/bin$ scp -r ./mount-origin/ root@192.168.9.163:/oem/usr/bin
进入rv1106摄像头
[root@luckfox bin]# ./lws-minimal-ws-server
在手机浏览器用两个页面打开
192.168.9.163:7681
可以见到一个简易聊天室，能正常对话。