---
layout: post
title: "Hadoop系统完全分布式集群搭建方法"
date: 2025-01-16 23:01:32 +0800
description: "Hadoop系统分布式集群搭建方法 1. linux操作系统安装在每个节点上安装Linux操作系统（"
keywords: "如何搭建hadoop完全分布式集群"
categories: ['Hadoop']
tags: ['集群', '搭建方法', '完全分布式', 'Hadoop']
artid: "11470449"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=11470449
    alt: "Hadoop系统完全分布式集群搭建方法"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=11470449
featuredImagePreview: https://bing.ee123.net/img/rand?artid=11470449
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Hadoop系统完全分布式集群搭建方法
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p align="center">
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        Hadoop
       </span>
       系统分布式集群搭建方法
      </strong>
     </span>
    </p>
    <p>
     <strong>
      <span style="font-family:Times New Roman; font-size:14px">
      </span>
     </strong>
    </p>
    <p>
     记得以前学习hadoop时，互联网上有不少有关Hadoop环境搭建的方法，但很多语焉不详，步骤不清晰。下面是本人亲自搭建hadoop完全分布式系统环境的笔记，沉落硬盘已久，闲来无事，现整理后发到博客上，和博友共勉，希望对hadoop初学者有所帮助，欣喜不已！
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        1. linux
       </span>
       操作系统安装
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      在每个节点上安装
      <span style="font-family:Times New Roman">
       Linux
      </span>
      操作系统（
      <span style="font-family:Times New Roman">
       Centos6.3
      </span>
      ），安装时为各机器分别命名为
      <span style="font-family:Times New Roman">
       Master
      </span>
      ，
      <span style="font-family:Times New Roman">
       slave1
      </span>
      、
      <span style="font-family:Times New Roman">
       slave2
      </span>
      …。令主机名为
      <span style="font-family:Times New Roman">
       Master
      </span>
      的作为主节点，主机名为
      <span style="font-family:Times New Roman">
       slave1
      </span>
      、
      <span style="font-family:Times New Roman">
       slave2
      </span>
      …作为从节点。
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      如果是在已经安装好系统的集群中配置
      <span style="font-family:Times New Roman">
       hadoop
      </span>
      环境，且各机器的主机名命名无规律，这时最好按照下述方法修改主机名。
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        1.1
       </span>
       编辑各个机器的主机名：（将主从节点的主机名分别命名为
       <span style="font-family:Times New Roman">
        Master
       </span>
       ，
       <span style="font-family:Times New Roman">
        slave1
       </span>
       、
       <span style="font-family:Times New Roman">
        slave2…
       </span>
       ）
      </strong>
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <strong>
      <span style="font-family:Times New Roman; font-size:14px">
       [root@Centos ~]# vi /etc/hostname
      </span>
     </strong>
    </p>
    <p align="left" style="background:#e5e5e5">
     <strong>
      <span style="font-family:Times New Roman; font-size:14px">
       [root@Centos ~]# vi /etc/sysconfig/network
      </span>
     </strong>
    </p>
    <p>
     <strong>
      <span style="font-size:14px">
       注：如有必要，主从节点都需要修改，这样改的目的是容易规划集群中的机器。
      </span>
     </strong>
    </p>
    <p>
     <strong>
      <span style="font-family:Times New Roman; font-size:14px">
      </span>
     </strong>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        1.2
       </span>
       为所有主从节点设置静态
       <span style="font-family:Times New Roman">
        IP
       </span>
       （为所有机器配置好静态
       <span style="font-family:Times New Roman">
        IP
       </span>
       ）
      </strong>
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        1.2.1
       </span>
       修改网卡配置，编辑：
       <span style="font-family:Times New Roman">
        vi /etc/sysconfig/network-scripts/ifcfg-eth0
       </span>
      </strong>
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        1.2.2
       </span>
       修改网关配置，编辑：
       <span style="font-family:Times New Roman">
        vi /etc/sysconfig/network
       </span>
      </strong>
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        1.2.3
       </span>
       修改
       <span style="font-family:Times New Roman">
        DNS
       </span>
       配置，编辑：
       <span style="font-family:Times New Roman">
        vi /etc/resolv.conf
       </span>
      </strong>
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        1.2.4
       </span>
       重启网络服务，
       <span style="font-family:Times New Roman">
       </span>
       执行命令：
       <span style="font-family:Times New Roman">
        service network restart
       </span>
      </strong>
     </span>
    </p>
    <p>
     <strong>
      <span style="font-family:Times New Roman; font-size:14px">
      </span>
     </strong>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        2.
       </span>
       安装
       <span style="font-family:Times New Roman">
        SSH
       </span>
       并配置免密码
       <span style="font-family:Times New Roman">
        SSH
       </span>
       访问机制（重要）
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      如果安装
      <span style="font-family:Times New Roman">
       RHELS 6.0 ,
      </span>
      确保软件安装时把
      <span style="font-family:Times New Roman">
       SSH
      </span>
      选上；如果安装
      <span style="font-family:Times New Roman">
       Linux
      </span>
      时没有安装
      <span style="font-family:Times New Roman">
       SSH
      </span>
      ，则需要另行安装
      <span style="font-family:Times New Roman">
       SSH
      </span>
      。
     </span>
    </p>
    <p>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      <img alt="" src="https://img-blog.csdn.net/20130909100930953?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvem9sYWxhZA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast"/>
     </span>
    </p>
    <p>
     <strong>
      <span style="font-size:14px">
       配置为可以免密码登录主节点和从节点
       <span style="font-family:Times New Roman">
        :
       </span>
      </span>
     </strong>
    </p>
    <p>
     <span style="font-size:14px">
      首先查看在“当前用户”文件夹下是否存在
      <strong>
       <span style="font-family:Times New Roman">
        .ssh
       </span>
      </strong>
      文件夹（注意
      <span style="font-family:Times New Roman">
       ssh
      </span>
      前面有“
      <strong>
       <span style="font-family:Times New Roman">
        .
       </span>
      </strong>
      ”，这是一个隐藏文件夹）。输入命令查看此文件夹是否存在。
      <strong>
       一般来说，安装
       <span style="font-family:Times New Roman">
        SSH
       </span>
       时会自动在当前用户下创建这个隐藏文件夹，如果没有，可以手创建一个。）
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      下面的配置我是在主节点
      <strong>
       <span style="font-family:Times New Roman">
        Master
       </span>
      </strong>
      的
      <strong>
       <span style="color:red">
        <span style="font-family:Times New Roman">
         hadoop
        </span>
       </span>
      </strong>
      用户下进行的：
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      [hadoop@
      <strong>
       Master
      </strong>
      ~]
      <strong>
       # ls –a
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       发现
       <span style="font-family:Times New Roman">
        .ssh
       </span>
       文件夹已经存在。
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      接下来输入命令（注意下面命令中不是双引号，是两个单引号）：
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-size:14px">
      <strong>
       执行：
      </strong>
      <span style="font-family:Times New Roman">
       <strong>
        [
       </strong>
       hadoop
       <strong>
        @Master ~]# ssh-keygen -t  rsa
       </strong>
      </span>
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      Generating public/private rsa key pair.
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      Enter file in which to save the key (/home/hadoop/.ssh/id_rsa):
      <span style="color:red">
      </span>
      &amp;
     </span>
     <span style="color:red">
      按回车默认路径
     </span>
     <span style="color:red">
      <span style="font-family:Times New Roman">
       &amp;
      </span>
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      Created directory '/home/ hadoop /.ssh'.  &amp;
     </span>
     创建
     <span style="font-family:Times New Roman">
      / hadoop /.ssh
     </span>
     目录
     <span style="font-family:Times New Roman">
      &amp;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      Enter passphrase (empty for no passphrase):
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      Enter same passphrase again:
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      Your identification has been saved in/home / hadoop /.ssh/id_rsa.
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      Your public key has been saved in/home / hadoop /.ssh/id_rsa.pub.
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      The key fingerprint is:
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      c6:7e:57:59:0a:2d:85:49:23:cc:c4:58:ff:db:5b:38 root@master
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-size:14px">
      <strong>
       通过以上命令将在
       <span style="font-family:Times New Roman">
        /home/ hadoop /.ssh/
       </span>
       目录下生成
       <span style="font-family:Times New Roman">
        id_rsa
       </span>
       私钥和
       <span style="font-family:Times New Roman">
        id_rsa.pub
       </span>
       公钥
      </strong>
      。
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-size:14px">
      进入
      <span style="font-family:Times New Roman">
       / hadoop /.ssh
      </span>
      目录在
      <span style="font-family:Times New Roman">
       namenode
      </span>
      节点下做如下配置：
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      <strong>
       [hadoop @Master.ssh]# cat id_rsa.pub &gt; authorized_keys
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      至此，主节点配置完毕，可通过
      <span style="font-family:Times New Roman">
       ssh
      </span>
      本机
      <span style="font-family:Times New Roman">
       IP
      </span>
      测试是否需要密码登录。
     </span>
    </p>
    <p>
     <strong>
      <span style="font-size:14px">
       操作如图所示：说明配置无密码登录成功！
      </span>
     </strong>
    </p>
    <p>
     <img alt="" src="https://img-blog.csdn.net/20130909101045328?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvem9sYWxhZA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast"/>
    </p>
    <p align="left" style="background:#e5e5e5">
     <strong>
     </strong>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       然后配置从节点，将
       <span style="font-family:Times New Roman">
        authorized_keys
       </span>
       文件复制到所有从节点上：
       <span style="font-family:Times New Roman">
       </span>
      </strong>
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      <strong>
       <span style="color:red">
        [hadoop@Master
       </span>
       .ssh
       <span style="color:red">
        ]$ scp authorized_keys
       </span>
       [
      </strong>
     </span>
     <strong>
      <span style="color:red">
       从节点主机名或
      </span>
      <span style="color:red">
       <span style="font-family:Times New Roman">
        IP]:/home/hadoop/.ssh
       </span>
      </span>
     </strong>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       至此免密码登录各节点已配置完毕，可通过
       <span style="font-family:Times New Roman">
        ssh
       </span>
       各节点
       <span style="font-family:Times New Roman">
        IP
       </span>
       测试是否需要密码登录。
      </strong>
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        3.
       </span>
       安装
       <span style="font-family:Times New Roman">
        Java
       </span>
       （首先使用
       <span style="font-family:Times New Roman">
        [root@ Master ~]
       </span>
       <span style="font-family:Times New Roman">
        #arch
       </span>
       命令查看机器属于
       <span style="font-family:Times New Roman">
        32
       </span>
       位还是
       <span style="font-family:Times New Roman">
        64
       </span>
       位机）
      </strong>
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
     </span>
     （
     <span style="font-family:Times New Roman">
      1
     </span>
     ）查看系统默认安装的
     <span style="font-family:Times New Roman">
      JDK
     </span>
     ，命令：
     <span style="font-family:Times New Roman">
      java -version
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
       </span>
       （
       <span style="font-family:Times New Roman">
        2
       </span>
       ）
      </strong>
      下载和安装自己的
      <span style="font-family:Times New Roman">
       Jdk
      </span>
      ，将
      <span style="font-family:Times New Roman">
       jdk
      </span>
      安装在
      <strong>
       <span style="font-family:Times New Roman">
        /usr/java
       </span>
      </strong>
      目录下。
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      <strong>
       root
      </strong>
     </span>
     用户登陆，新建目录
     <strong>
      <span style="font-family:Times New Roman">
       mkdir  /usr/java
      </span>
     </strong>
     ，然后将
     <span style="font-family:Times New Roman">
      JDK
     </span>
     安装包
     <span style="font-family:Times New Roman">
      jdk-6u13-linux-i586.bin
     </span>
     <span style="color:red">
      复制到目录
     </span>
     <strong>
      <span style="color:red">
       <span style="font-family:Times New Roman">
        /usr/java
       </span>
      </span>
     </strong>
     <span style="color:red">
      下
     </span>
     ，
     <span style="color:red">
      进入该目录，执行安装命令“
     </span>
     <strong>
      <span style="color:red">
       <span style="font-family:Times New Roman">
        ./ jdk-6u13-linux-i586.bin
       </span>
      </span>
     </strong>
     <span style="color:red">
      ”，安装完成后将在目录下生成
     </span>
     <span style="color:red">
      <span style="font-family:Times New Roman">
       jdk
      </span>
     </span>
     <span style="color:red">
      的安装文件夹
     </span>
     <strong>
      <span style="color:red">
       <span style="font-family:Times New Roman">
        /jdk1.6.0_13
       </span>
      </span>
     </strong>
     <span style="color:red">
      。
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <span style="color:red">
       <span style="font-family:Times New Roman">
       </span>
      </span>
      <strong>
       （
       <span style="font-family:Times New Roman">
        3
       </span>
       ）删除默认安装的
       <span style="font-family:Times New Roman">
        jdk
       </span>
      </strong>
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      <strong>
      </strong>
     </span>
     查看
     <span style="font-family:Times New Roman">
      jdk
     </span>
     的版本号：
     <span style="font-family:Times New Roman">
      rpm -qa|grep  jdk
     </span>
     卸载：
     <span style="font-family:Times New Roman">
      yum -y remove
     </span>
    </p>
    <p>
     <strong>
      <span style="font-family:Times New Roman; font-size:14px">
      </span>
     </strong>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        4.
       </span>
       创建专门的
       <span style="font-family:Times New Roman">
        hadoop
       </span>
       用户（令
       <span style="font-family:Times New Roman">
        hadoop
       </span>
       集群中的所有机器都是在
       <span style="font-family:Times New Roman">
        hadoop
       </span>
       用户下工作！）
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      创建用户组：
      <span style="font-family:Times New Roman">
       hadoop
      </span>
      ，然后在此用户组下创建
      <span style="font-family:Times New Roman">
       hadoop
      </span>
      用户。可在安装系统的时候创建，也可以在安装好之后用如下命令创建：
     </span>
    </p>
    <p>
     <strong>
      <span style="font-family:Times New Roman; font-size:14px">
       [root@ Master ~]# groupadd  hadoop
      </span>
     </strong>
    </p>
    <p>
     <strong>
      <span style="font-family:Times New Roman; font-size:14px">
       [root@ Master ~]# useradd -g hadoop  -d /home/hadoop  hadoop
      </span>
     </strong>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      “hadoop”
     </span>
     是所创建的用户名
     <span style="font-family:Times New Roman">
      , -d
     </span>
     指明
     <span style="font-family:Times New Roman">
      “ hadoop”
     </span>
     用户的
     <span style="font-family:Times New Roman">
      home
     </span>
     目录是
     <span style="font-family:Times New Roman">
      /home/hadoop
     </span>
     ）
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      <strong>
       [root@ Master ~]# passwd hadoop
      </strong>
      [
     </span>
     给用户
     <span style="font-family:Times New Roman">
      hadoop
     </span>
     设置口令
     <span style="font-family:Times New Roman">
      ]
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      1).
     </span>
     在真实集群分布模式下，要求集群中所有节点使用相同的用户名，
     <strong>
      这是
      <span style="font-family:Times New Roman">
       hadoop
      </span>
      的基本要求。
     </strong>
     比如，可以使用“
     <span style="font-family:Times New Roman">
      hadoop”
     </span>
     作为所有节点上统一的用户名。
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      2).
     </span>
     并且要求在所有节点上安装的
     <span style="font-family:Times New Roman">
      hadoop
     </span>
     系统具有完全一致的目录结构。
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        5.
       </span>
       在主节点上解压安装
       <span style="font-family:Times New Roman">
        Hadoop
       </span>
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      —
     </span>
     <span style="font-size:14px">
      到
      <span style="font-family:Times New Roman">
       Hadoop
      </span>
      官网下载
      <span style="font-family:Times New Roman">
       hadoop-1.0.1.tar.gz
      </span>
      （本人使用的是此版本！）
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      —
     </span>
     <span style="font-size:14px">
      建立安装目录
     </span>
    </p>
    <p>
     <strong>
      <span style="font-family:Times New Roman; font-size:14px">
       [hadoop@ Master ~] $mkdir ~/hadoop_installs
      </span>
     </strong>
    </p>
    <p>
     <span style="font-size:14px">
      —
     </span>
     <span style="font-size:14px">
      <strong>
       把
       <span style="font-family:Times New Roman">
        hadoop-1.0.1.tar.gz
       </span>
       放在这里，然后解压：
      </strong>
     </span>
    </p>
    <p>
     <strong>
      <span style="font-family:Times New Roman; font-size:14px">
       [hadoop@ Master hadoop_installs]$ tar –zxvf hadoop-1.0.1.tar.gz
      </span>
     </strong>
    </p>
    <p>
     <span style="font-size:14px">
      解压安装完毕，可得
      <span style="font-family:Times New Roman">
       hadoop
      </span>
      的安装
      <strong>
       根目录
      </strong>
      为：
      <span style="font-family:Times New Roman">
       /home/hadoop/hadoop_installs/hadoop-1.0.1
      </span>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="color:red">
        注：这个过程仅需在主节点上完成，然后安装好的
       </span>
       <span style="color:red">
        <span style="font-family:Times New Roman">
         Hadoop
        </span>
       </span>
       <span style="color:red">
        系统在完成后续配置后可被复制到所有从节点
       </span>
       <span style="color:red">
        。
       </span>
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        6.
       </span>
       配置环境变量
       <span style="font-family:Times New Roman">
        (
       </span>
       每个节点都必须做）
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      —
     </span>
     <span style="font-size:14px">
      进入到“
      <span style="font-family:Times New Roman">
       <strong>
        <em>
         hadoop
        </em>
       </strong>
       <em>
        ”
       </em>
      </span>
      用户下
      <span style="font-family:Times New Roman">
       [root@Master ~]# su –
       <em>
        hadoop
       </em>
       [
      </span>
      注意中间的
      <span style="font-family:Times New Roman">
       ”-”
      </span>
      不要丢
      <span style="font-family:Times New Roman">
       ]
      </span>
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      <strong>
       [
       <em>
        hadoop
       </em>
       @ Master ~]$
       <span style="color:black">
        vi
       </span>
       ~/.bash_profile
      </strong>
     </span>
     <span style="color:red">
      （此修改方式仅对
     </span>
     <span style="color:red">
      <span style="font-family:Times New Roman">
       hadoop
      </span>
     </span>
     <span style="color:red">
      用户生效）
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
     </span>
     注：
     <span style="font-family:Times New Roman">
      [
      <em>
       root
      </em>
      @ Master ~]#
      <strong>
       <span style="color:black">
        vi
       </span>
       /etc/profile
      </strong>
     </span>
     <strong>
      这种修改方式是对本机所有用户生效！
     </strong>
    </p>
    <p>
     <span style="font-size:14px">
      设置如下环境变量：
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      export  JAVA_HOME=/usr/java/jdk1.6.0_13
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      export  JRE_HOME=/usr/java /jdk1.6.0_13/jre
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      export  CLASSPATH=
      <strong>
       .:
      </strong>
      $JAVA_HOME/lib
      <strong>
       :
      </strong>
      $JAVA_HOME/jre/lib
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      export  PATH=$JAVA_HOME/bin:$JAVA_HOME/jre/bin:$PATH
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      export  HADOOP_HOME=/home/hadoop/hadoop_installs/hadoop-1.0.1
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      export  PATH=$PATH:$JAVA_HOME/bin:$HADOOP_HOME/bin
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      在
      <span style="font-family:Times New Roman">
       vi
      </span>
      编辑器增加以上内容后保存退出，并执行以下命令使配置生效！
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      #chmod  +x  /etc/profile
     </span>
     ；增加执行权限
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      #source  /etc/profile
     </span>
     ；使配置生效！
    </p>
    <p>
     <span style="font-size:14px">
      配置完毕后，在命令行中输入：
      <strong>
       <span style="font-family:Times New Roman">
        java -version
       </span>
      </strong>
      ，如出现下列信息说明
      <span style="font-family:Times New Roman">
       java
      </span>
      环境安装成功。
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      java version "1.6.0_13"
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      Java(TM) SE Runtime Environment (build 1.6.0_13-b03)
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      Java HotSpot(TM) Server VM (build 16.3-b01, mixed mode)
     </span>
    </p>
    <p>
     <strong>
      <span style="font-family:Times New Roman; font-size:14px">
      </span>
     </strong>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        7.
       </span>
       在主节点上修改
       <span style="font-family:Times New Roman">
        hadoop
       </span>
       配置文件
      </strong>
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      Hadoop
     </span>
     的配置文件存放在
     <span style="font-family:Times New Roman">
      hadoop
     </span>
     安装目录下的
     <span style="font-family:Times New Roman">
      conf
     </span>
     目录中，主要有以下几个配置文件要修改：
    </p>
    <p>
     <span style="font-size:14px">
      —
     </span>
     <span style="font-family:Times New Roman; font-size:14px">
      conf/hadoop-env.sh
     </span>
     ：
     <span style="font-family:Times New Roman">
      Hadoop
     </span>
     环境变量设置
    </p>
    <p>
     <span style="font-size:14px">
      —
     </span>
     <span style="font-family:Times New Roman; font-size:14px">
      conf/core-site.xml
     </span>
     ：主要完成
     <span style="font-family:Times New Roman">
      NameNode
     </span>
     的
     <span style="font-family:Times New Roman">
      IP
     </span>
     和端口设置
    </p>
    <p>
     <span style="font-size:14px">
      —
     </span>
     <span style="font-family:Times New Roman; font-size:14px">
      conf/hdfs-site.xml
     </span>
     ：主要完成
     <span style="font-family:Times New Roman">
      HDFS
     </span>
     的数据块副本等参数设置
    </p>
    <p>
     <span style="font-size:14px">
      —
     </span>
     <span style="font-family:Times New Roman; font-size:14px">
      conf/mapred-site.xml
     </span>
     ：主要完成
     <span style="font-family:Times New Roman">
      JobTracker IP
     </span>
     和端口设置
    </p>
    <p>
     <span style="font-size:14px">
      —
     </span>
     <span style="font-family:Times New Roman; font-size:14px">
      conf/masters
     </span>
     ：完成
     <span style="font-family:Times New Roman">
      master
     </span>
     节点
     <span style="font-family:Times New Roman">
      IP
     </span>
     设置
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
       </span>
       进入
       <span style="font-family:Times New Roman">
        /home/hadoop/hadoop_install/hadoop-1.0.1/conf
       </span>
       ，配置
       <span style="font-family:Times New Roman">
        Hadoop
       </span>
       配置文件
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        7.1
       </span>
       配置
       <span style="font-family:Times New Roman">
        hadoop-env.sh
       </span>
       文件
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       打开文件命令：
      </strong>
      <span style="font-family:Times New Roman">
       vi hadoop-env.sh
       <strong>
       </strong>
      </span>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      添加
      <span style="font-family:Times New Roman">
       # set java environment
      </span>
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      export JAVA_HOME=/usr/java/jdk1.6.0_13
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      编辑后保存退出。
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        7.2
       </span>
       配置
       <span style="font-family:Times New Roman">
        core-site.xml
       </span>
      </strong>
     </span>
    </p>
    <p>
     <strong>
      <span style="font-family:Times New Roman; font-size:14px">
       [hadoop@Master conf]$ vi core-site.xml
      </span>
     </strong>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;?xml version="1.0"?&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;?xml-stylesheet type="text/xsl" href="configuration.xsl"?&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;!-- Put site-specific property overrides in this file. --&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;configuration&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;property&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;name&gt;fs.default.name&lt;/name&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;value&gt;hdfs://Master:9000
      <strong>
       /
      </strong>
      &lt;/value&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        //
       </span>
      </strong>
      注：
      <span style="font-family:Times New Roman">
       Master
      </span>
      为主节点主机名，
      <span style="font-family:Times New Roman">
       9000
      </span>
      后面的“
      <strong>
       <span style="color:red">
        <span style="font-family:Times New Roman">
         /
        </span>
       </span>
       <span style="color:red">
        ”
       </span>
      </strong>
      不能少
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;/property&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;property&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;value&gt;/tmp&lt;/value&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;/property&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;/configuration&gt;
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       说明：
      </strong>
      <span style="color:red">
       <span style="font-family:Times New Roman">
        hadoop
       </span>
      </span>
      <span style="color:red">
       分布式文件系统的两个重要的目录结构，一个是
      </span>
      <span style="color:red">
       <span style="font-family:Times New Roman">
        namenode
       </span>
      </span>
      <span style="color:red">
       上名字空间的存放地方，一个是
      </span>
      <span style="color:red">
       <span style="font-family:Times New Roman">
        datanode
       </span>
      </span>
      <span style="color:red">
       数据块的存放地方，还有一些其他的文件存放地方，这些存放地方都是基于
      </span>
      <span style="color:red">
       <span style="font-family:Times New Roman">
        hadoop.tmp.dir
       </span>
      </span>
      <span style="color:red">
       目录的，比如
      </span>
      <span style="color:red">
       <span style="font-family:Times New Roman">
        namenode
       </span>
      </span>
      <span style="color:red">
       的名字空间存放地方就是
      </span>
      <span style="color:red">
       <span style="font-family:Times New Roman">
        ${hadoop.tmp.dir}/dfs/name, datanode
       </span>
      </span>
      <span style="color:red">
       数据块的存放地方就是
      </span>
      <span style="color:red">
       <span style="font-family:Times New Roman">
        ${hadoop.tmp.dir}/dfs/data
       </span>
      </span>
      <span style="color:red">
       ，所以设置好
      </span>
      <span style="color:red">
       <span style="font-family:Times New Roman">
        hadoop.tmp.dir
       </span>
      </span>
      <span style="color:red">
       目录后，其他的重要目录都是在这个目录下面，这是一个根目录。在此设置的是
      </span>
      <span style="font-family:Times New Roman">
       <strong>
        <span style="color:red">
         /tmp
        </span>
       </strong>
       <span style="color:red">
        ,
       </span>
      </span>
      <span style="color:red">
       当然这个目录必须是存在的。
      </span>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        7.3
       </span>
       配置
       <span style="font-family:Times New Roman">
        hdfs-site.xml
       </span>
      </strong>
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      <strong>
       [hadoop@Master conf]
      </strong>
      $ vi  hdfs-site.xml
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;?xml version="1.0"?&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;?xml-stylesheet type="text/xsl" href="configuration.xsl"?&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;!-- Put site-specific property overrides in this file. --&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;configuration&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;property&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;name&gt;dfs.replication&lt;/name&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;value&gt;3&lt;/value&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;/property&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;/configuration&gt;
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        7.4
       </span>
       配置
       <span style="font-family:Times New Roman">
        mapred-site.xml
       </span>
      </strong>
     </span>
    </p>
    <p>
     <strong>
      <span style="font-family:Times New Roman; font-size:14px">
       [hadoop@Master conf]$ vi mapred-site.xml
      </span>
     </strong>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;?xml version="1.0"?&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;?xml-stylesheet type="text/xsl" href="configuration.xsl"?&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;!-- Put site-specific property overrides in this file. --&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;configuration&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;property&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;name&gt;mapred.job.tracker&lt;/name&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;value&gt;Master:9001&lt;/value&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;/property&gt;
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-family:Times New Roman; font-size:14px">
      &lt;/configuration&gt;
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        <span style="color:red">
         7.5
        </span>
       </span>
       配置
       <span style="font-family:Times New Roman">
        masters
       </span>
       文件和
       <span style="font-family:Times New Roman">
        slaves
       </span>
       文件
      </strong>
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        [hadoop@Master conf]$ vi masters
       </span>
       修改为主节点的主机名
      </strong>
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        [hadoop@Master conf]$ vi slaves
       </span>
       列出所有从节点的主机名
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <span style="color:red">
       注：这个过程仅需在
       <strong>
        主节点
       </strong>
       上进行，然后将随着主机上安装好的
      </span>
      <span style="color:red">
       <span style="font-family:Times New Roman">
        Hadoop
       </span>
      </span>
      <span style="color:red">
       目录一起复制到所有从节点
      </span>
     </span>
    </p>
    <p>
     <strong>
      <span style="font-family:Times New Roman; font-size:14px">
      </span>
     </strong>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        8.
       </span>
       复制
       <span style="font-family:Times New Roman">
        Hadoop
       </span>
       系统到所有从节点
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      将在主节点安装好的
      <span style="font-family:Times New Roman">
       Hadoop
      </span>
      系统目录复制到每一个从节点上：
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      <strong>
       [hadoop@ Master ~]
      </strong>
      $ scp -r /home/hadoop/hadoop-installs [
     </span>
     从节点主机名或
     <span style="font-family:Times New Roman">
      IP]:/home/hadoop/
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <span style="color:red">
       这样可以避免对每一个从节点重复进行
      </span>
      <span style="color:red">
       <span style="font-family:Times New Roman">
        Hadoop
       </span>
      </span>
      <span style="color:red">
       系统安装。
      </span>
     </span>
    </p>
    <p>
     <strong>
      <span style="font-family:Times New Roman; font-size:14px">
      </span>
     </strong>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        9.
       </span>
       在
       <span style="font-family:Times New Roman">
        NameNode
       </span>
       和
       <span style="font-family:Times New Roman">
        DataNode
       </span>
       节点上分别进行“主机名和
       <span style="font-family:Times New Roman">
        IP
       </span>
       解析”配置
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      修改每台机器的
      <strong>
       <span style="font-family:Times New Roman">
        /etc/hosts
       </span>
      </strong>
      设置：
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      —
     </span>
     <span style="font-size:14px">
      若为
      <span style="font-family:Times New Roman">
       NameNode
      </span>
      ，则需要在
      <span style="font-family:Times New Roman">
       hosts
      </span>
      文件中添加集群中所有节点的
      <span style="font-family:Times New Roman">
       IP
      </span>
      地址机器对应的主机名。示例：
     </span>
    </p>
    <p>
     <img alt="" src="https://img-blog.csdn.net/20130909101145750?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvem9sYWxhZA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast"/>
    </p>
    <p>
    </p>
    <p>
     <span style="font-size:14px">
      —
     </span>
     <span style="font-size:14px">
      若为
      <span style="font-family:Times New Roman">
       DataNode
      </span>
      ，则只需要在文件中添加本机和
      <span style="font-family:Times New Roman">
       NameNode
      </span>
      的
      <span style="font-family:Times New Roman">
       IP
      </span>
      地址及对应的主机名。
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        10.
       </span>
       格式化
       <span style="font-family:Times New Roman">
        <span style="color:red">
         NameNode
        </span>
       </span>
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      —
     </span>
     <span style="font-size:14px">
      执行
      <span style="font-family:Times New Roman">
       Hadoop
      </span>
      的
      <span style="font-family:Times New Roman">
       bin
      </span>
      文件夹中的格式化命令：
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      [hadoop@ Master ~]$ hadoop namenode -format
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
     </span>
     如果格式化成功，会返回一堆有关
     <span style="font-family:Times New Roman">
      NameNode
     </span>
     的启动信息，其中会有一句“
     <span style="font-family:Times New Roman">
      …. has been successfully formatted.”
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        11.
       </span>
       启动
       <span style="font-family:Times New Roman">
        HDFS
       </span>
       和
       <span style="font-family:Times New Roman">
        MapReduce
       </span>
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      —
     </span>
     <span style="font-size:14px">
      执行以下命令启动
      <span style="font-family:Times New Roman">
       HDFS
      </span>
      和
      <span style="font-family:Times New Roman">
       MapReduce
      </span>
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      [hadoop@ Master ~]$ start-all.sh
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      —
     </span>
     <span style="font-size:14px">
      用
      <span style="font-family:Times New Roman">
       JPS
      </span>
      命令检查一下是否正常启动：
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      [hadoop@ Master ~]$ jps
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      显示以下各进程信息则说明
      <span style="font-family:Times New Roman">
       HDFS
      </span>
      和
      <span style="font-family:Times New Roman">
       MapReduce
      </span>
      都已正常启动：
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      4706 JobTracker
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      4582 SecondaryNameNode
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      4278 NameNode
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      4413 DataNode
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      4853 TaskTracker
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      4889 Jps
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        12
       </span>
       查看集群状态
      </strong>
     </span>
    </p>
    <p align="left" style="background:#e5e5e5">
     <span style="font-size:14px">
      <strong>
       命令方式：
       <span style="font-family:Times New Roman">
        [hadoop@Master bin]$ hadoop dfsadmin –report
       </span>
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       浏览器方式：在
       <span style="font-family:Times New Roman">
        WEB
       </span>
       页面下查看
       <span style="font-family:Times New Roman">
        Hadoop
       </span>
       工作情况
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      输入部署
      <span style="font-family:Times New Roman">
       Hadoop
      </span>
      服务器的
      <strong>
       <span style="font-family:Times New Roman">
        IP
       </span>
       ：
       <span style="font-family:Times New Roman">
        http://IP:50070
       </span>
       ；
       <a href="http://ip:50030/" rel="nofollow noopener noreferrer" target="_blank">
        <span style="font-family:Times New Roman; color:#003366">
         http://IP:50030
        </span>
       </a>
       <span style="font-family:Times New Roman">
        .
       </span>
      </strong>
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        13.
       </span>
       运行测试
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      —
     </span>
     <span style="font-size:14px">
      在
      <span style="font-family:Times New Roman">
       Linux
      </span>
      文件系统下（如
      <span style="font-family:Times New Roman">
       /home/hadoop /test)
      </span>
      创建两个文本数据文件
      <span style="font-family:Times New Roman">
       :
      </span>
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      file1.txt
     </span>
     ：
     <span style="font-family:Times New Roman">
      hello hadoop hello world
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      file2.txt
     </span>
     ：
     <span style="font-family:Times New Roman">
      goodbye hadoop
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      —
     </span>
     <span style="font-size:14px">
      <strong>
       <span style="color:#323e32">
        在
       </span>
       <span style="color:#323e32">
        hdfs
       </span>
       <span style="color:#323e32">
        分布式文件系统
       </span>
      </strong>
      <span style="color:#323e32">
       创建目录
      </span>
      <span style="color:#323e32">
       input
      </span>
      <span style="color:#323e32">
       ：
      </span>
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      <strong>
       [hadoop@ Master ~]$ hadoop fs -mkdir input
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      —
     </span>
     <span style="font-size:14px">
      <strong>
       离开
       <span style="font-family:Times New Roman">
        hodoop
       </span>
       的安全模式：
      </strong>
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      <strong>
       [hadoop@Master ~]$ hadoop dfsadmin –safemode leave
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      —
     </span>
     <span style="font-size:14px">
      <strong>
       将文件复制到
       <span style="font-family:Times New Roman">
        HDFS
       </span>
       文件系统中的
       <span style="font-family:Times New Roman">
        input
       </span>
       文件夹下
      </strong>
      ：
      <span style="font-family:Times New Roman">
       (
      </span>
      下面命令二选一使用
      <span style="font-family:Times New Roman">
       )
      </span>
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      <strong>
       [hadoop@Master ~]$ hadoop  dfs  –copyFromLocal   ~/test/*   input
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        [hadoop@Master ~]$
       </span>
       <span style="color:#323e32">
        hadoop
       </span>
       fs  –put  ~/test/*  input
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      —
     </span>
     <span style="font-size:14px">
      运行
      <span style="font-family:Times New Roman">
       hadoop
      </span>
      安装包中自带的
      <span style="font-family:Times New Roman">
       WorldCount
      </span>
      程序进行测试：
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      <strong>
       [hadoop@Master ~]$
      </strong>
      hadoop jar hadoop-1.0.1-examples.jar  wordcount  input  output
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      注：其中
      <span style="font-family:Times New Roman">
       output
      </span>
      只能由程序创建，
      <strong>
       <span style="font-family:Times New Roman">
        HDFS
       </span>
       文件系统中
      </strong>
      不能事先存在
      <span style="font-family:Times New Roman">
       .
      </span>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      —
     </span>
     <span style="font-size:14px">
      <strong>
       <span style="color:#323e32">
        在
       </span>
       <span style="color:#323e32">
        查看执行结果
       </span>
       <span style="color:#323e32">
        :
       </span>
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        [hadoop@Master ~]
       </span>
       <span style="color:#323e32">
        hadoop dfs -cat output/*
       </span>
      </strong>
     </span>
    </p>
    <p>
     <strong>
      <span style="font-family:Times New Roman; font-size:14px">
      </span>
     </strong>
    </p>
    <p>
     <span style="font-size:14px">
      <strong>
       <span style="font-family:Times New Roman">
        14.
       </span>
       停止
       <span style="font-family:Times New Roman">
        HDFS
       </span>
       和
       <span style="font-family:Times New Roman">
        MapReduce
       </span>
      </strong>
     </span>
    </p>
    <p>
     <span style="font-size:14px">
      —
     </span>
     <span style="font-size:14px">
      执行以下命令启动
      <span style="font-family:Times New Roman">
       HDFS
      </span>
      和
      <span style="font-family:Times New Roman">
       MapReduce
      </span>
     </span>
    </p>
    <p>
     <span style="font-family:Times New Roman; font-size:14px">
      <strong>
       [hadoop@ Master ~]$ stop-all.sh
      </strong>
     </span>
    </p>
    <p>
     <strong>
      <span style="font-family:Times New Roman; font-size:14px">
      </span>
     </strong>
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470:733a2f2f626c6f672e6373646e2e6e65742f7a6f6c616c6164:2f61727469636c652f64657461696c732f3131343730343439" class_="artid" style="display:none">
 </p>
</div>


