---
layout: post
title: 2024-12-31-接口自动化测试面试题1
date: 2024-12-31 14:59:58 +0800
categories: ['未分类']
tags: ['无标签']
image:
  path: https://img-blog.csdnimg.cn/20190814144637847.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NhbmR5X3RzZV8x,size_16,color_FFFFFF,t_70,image/resize,m_fixed,h_150
  alt: 接口自动化测试面试题1
artid: 99452378
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=99452378
featuredImagePreview: https://bing.ee123.net/img/rand?artid=99452378
---
<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     接口自动化测试面试题（1）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     根据网络资料，总结了以下一些常见的接口测试面试题：
    </p>
    <ol>
     <li>
      为什么要做接口测试？
     </li>
     <li>
      接口测试能发现哪些问题？
     </li>
     <li>
      接口测试怎么测？
     </li>
     <li>
      用什么工具测接口？
     </li>
     <li>
      WebService接口是如何测试的？
     </li>
     <li>
      没有接口文档如何做接口测试？
     </li>
     <li>
      在接口测试过程中，上下游接口有数据依赖如何处理？
     </li>
     <li>
      依赖第三方数据的接口如何进行测试？
     </li>
     <li>
      当一个接口出现异常时，你是如何分析异常的？
     </li>
     <li>
      如何模拟弱网测试？
     </li>
     <li>
      如何分析一个bug是前端的还是后端的？
     </li>
    </ol>
    <h4>
     为什么要做接口测试
    </h4>
    <p>
     在讨论为什么要做接口测试之前，我们先稍微了解下接口是什么？
    </p>
    <p>
     接口可以很不准确的理解成是与资源打交道，这个资源可能是本系统的，也可能是其他系统的。
    </p>
    <p>
     举个例子，假如我们在开发1个bug管理系统，该系统需要拿到公司的所有开发和测试人员的信息，这样开发和测试人员不用注册都可以登录进去了，这应该很好理解。
    </p>
    <p>
     那么这些人员的信息储存在哪里呢？一般存储在hr系统里。现在的需求更加明确了，我们要到hr系统中去拿到人员信息，获取hr系统中的人员资源。
    </p>
    <p>
     怎么拿呢？很多种方式，可以直接把hr系统的数据库拷贝一份放到bug管理系统里，不过这样不好，因为数据的同步会有点麻烦；还可以直接连hr系统的数据库去查，这样也不太好，这样我们就需要了解hr系统的数据存储结构和逻辑，一旦hr系统的数据字段发生改变，bug管理系统也要去该，以便同步。
    </p>
    <p>
     比较好的做法是，hr系统暴露一些接口，通过这些接口去获取人员信息资源，这样bug系统就不需要关心hr系统的数据存储实现了。
    </p>
    <p>
     这些接口可能是这样的：
    </p>
    <ul>
     <li>
      登录的接口，提供人员的用户名和密码，去hr系统中判断该人员是否存在，如果存在验证用户名和密码，如果验证通过就返回1个token，该token就是这个人员的通行证，通过token可以登录到bug管理系统中去；
     </li>
     <li>
      获取人员信息的接口，返回该人员的职位：测试还是开发，以及用户名，昵称等信息；
     </li>
    </ul>
    <p>
     综上：接口可以理解成是不同系统或模块之间资源交流方式。
    </p>
    <p>
     接口测试实际上是黑盒测试，基本的测试思路是根据输入和输出判断被测系统或对象的逻辑。获取人员的信息，我需要把人员的用户名传给hr系统接口，这样hr系统的接口会返回给我用户的一些更加具体的信息。这里的输入是用户名，输出是用户的详细信息。
    </p>
    <p>
     既然是接口获取和操作资源的方式，而大部分系统和产品中，资源一般都是产品的核心，比如微信核心资源就是通讯录关系链和聊天记录等，因此资源是必测的。
    </p>
    <p>
     另外接口中大部分的内容是数据，通过数据的对比我们能推测到系统和产品的逻辑，测接口就是测逻辑。
    </p>
    <p>
     最后接口中的返回相对单纯，不像web页面，html代码中有太多ui的东西，ui最不稳定，变化太快，接口相对稳定一点点，但是里面的干扰信息更少，断言相对容易很多。
    </p>
    <p>
     请看以下一个案例，如下图一个提现功能
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/eab0850b1e5fd8b37457e8e7963a7e3b.png"/>
    </p>
    <p>
     比如这个输入框，平常拿到这个web页面，会对输入框做用例设计：
    </p>
    <ul>
     <li>
      输入一个负数（如：-100），点提交
     </li>
     <li>
      输入金额为0（如：0），点提交
     </li>
     <li>
      输入金额为0-100的数（如：20），点提交
     </li>
     <li>
      输入金额为100（如：100），点提交
     </li>
     <li>
      输入金额大于100（如：108），点提交
     </li>
     <li>
      输入1位小数（如：10.1），点提交
     </li>
     <li>
      输入2位小数（如：10.12），点提交
     </li>
     <li>
      输入3位小数（如：10.123），点提交
     </li>
    </ul>
    <p>
     按照这个等价类，边界值用例测完，页面上不能输入负数和大于3位数小数点，然后就可以上线了。
     <br/>
     然而。。。突然有一天数据库里面插入了一个提现金额为负数（-100），于是整个部门炸锅了，首先找到测试（背锅）去复现问题，测试在页面上反复输入负数，无法提交，认为没问题啊！
    </p>
    <p>
     首先前端开发对输入框是做了限制的，前端的web开发肯定没问题，这个锅前端开发MM不背。那么如果别人用户不通过你的web页面，直接发请求提交了呢？
     <br/>
     纳尼！！！不通过页面也能提交。。。这就是我们接下来要提到的接口测试了。
    </p>
    <h4>
     接口测试能发现哪些问题
    </h4>
    <p>
     这个问题其实回到起来很简单，只要做过接口测试的，总能发现几个BUG吧，把你平常发现的bug说2-3个就可以了。
     <br/>
     面试官出这个题，主要是想知道你是不是真的做过接口测试，毕竟现在很多小伙伴简历都是写的假的（你要不写估计面试机会都没有，没办法，为了生存，能理解）
     <br/>
     比如上面说的，提现输入框，在页面上输入负数，肯定是无法提交过去（前端页面会判断金额），如果我不走前端，直接用接口工具发请求，输入一个负数过去。
     <br/>
     （假设服务端没做提现金额数据判断）
     <br/>
     余额=当前余额（100）-提现金额（-100），那么提现-100，余额就变成200了，也就是越提现，余额越大了
    </p>
    <p>
     <strong>
      可以用接口工具去直接请求接口，也可以fiddler抓包，抓到接口后修改金额为负数
     </strong>
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/6df3e528255137bd0d28e5723eeb95c6.png"/>
    </p>
    <p>
     所以，接口测试的必要性就体现出来了：
     <br/>
     1.可以发现很多在页面上操作发现不了的bug
     <br/>
     2.检查系统的异常处理能力
     <br/>
     3.检查系统的安全性、稳定性
     <br/>
     4.前端随便变，接口测好了，后端不用变
     <br/>
     5.可以测试并发情况，一个账号，同时（大于2个请求）对最后一个商品下单，或不同账号，对最后一个商品下单
     <br/>
     6.可以修改请求参数，突破前端页面输入限制（如金额）
    </p>
    <h4>
     接口测试怎么测
    </h4>
    <ul>
     <li>
      通过性验证：首先肯定要保证这个接口功能是好使的，也就是正常的通过性测试，按照接口文档上的参数，正常传入，是否可以返回正确的结果。
     </li>
     <li>
      <p>
       参数组合：现在有一个操作商品的接口，有个字段type，传1的时候代表修改商品，商品id、商品名称、价格有一个是必传的，type传2的时候是删除商品，
       <br/>
       商品id是必传的，这样的，就要测参数组合了，type传1的时候，只传商品名称能不能修改成功，id、名称、价格都传的时候能不能修改成功。
      </p>
     </li>
     <li>
      <p>
       接口安全：
       <br/>
       1、绕过验证，比如说购买了一个商品，它的价格是300元，那我在提交订单时候，我把这个商品的价格改成3元，后端有没有做验证，更狠点，我把钱改成-3，是不是我的余额还要增加？
       <br/>
       2、绕过身份授权，比如说修改商品信息接口，那必须得是卖家才能修改，那我传一个普通用户，能不能修改成功，我传一个其他的卖家能不能修改成功
       <br/>
       3、参数是否加密，比如说我登陆的接口，用户名和密码是不是加密，如果不加密的话，别人拦截到你的请求，就能获取到你的信息了，加密规则是否容易破解。
       <br/>
       4、密码安全规则，密码的复杂程度校验
      </p>
     </li>
     <li>
      <p>
       异常验证：
       <br/>
       所谓异常验证，也就是我不按照你接口文档上的要求输入参数，来验证接口对异常情况的校验。比如说必填的参数不填，输入整数类型的，传入字符串类型，长度是10的，传11，总之就是你说怎么来，我就不怎么来，其实也就这三种，必传非必传、参数类型、入参长度。
      </p>
     </li>
     <li>
      <p>
       性能测试
       <br/>
       接口并发情况，如上面提到的：一个账号，同时（大于2个请求）对最后一个商品下单，或不同账号，对最后一个商品下单
       <br/>
       接口响应时间，响应时间太长了，肯定需要优化，一般都是毫秒级别
      </p>
     </li>
    </ul>
    <p>
     <img alt="" class="has" height="877" src="https://i-blog.csdnimg.cn/blog_migrate/a1f409bc8e3e2de607eaf4fd702d15ee.png" width="814"/>
    </p>
    <h4>
     用什么工具测接口
    </h4>
    <ul>
     <li>
      <a href="https://www.getpostman.com/" rel="nofollow">
       postman
      </a>
      ： 推荐。基本功能免费。最简单的基于http接口的调试和测试工具;
     </li>
     <li>
      <a href="http://jmeter.apache.org/" rel="nofollow">
       jmeter
      </a>
      ：后置处理器配合断言基本上可以满足接口测试需求，就是测试报告要做二次开发
     </li>
     <li>
      自己撸代码：推荐。配合类似xunit测试框架，基本可以满足一切需求；
      <a href="https://ke.qq.com/course/232868#tuin=1eb87ef" rel="nofollow">
       零基础实现python接口自动化视频教程，一起撸代码吧
      </a>
     </li>
     <li>
      <a href="https://www.soapui.org/" rel="nofollow">
       soapui
      </a>
      : 收费的；
     </li>
     <li>
      <a href="https://insomnia.rest/" rel="nofollow">
       insomnia
      </a>
      ：强力推荐。postman的弱化版，基本功能免费，重要的是工具代码开源，可以自己改；
     </li>
     <li>
      <a href="https://paw.cloud/" rel="nofollow">
       paw
      </a>
      : 强力推荐。mac上最强，淘宝买个授权好像就百把块钱；
     </li>
    </ul>
    <h4>
     WebService接口是如何测试的
    </h4>
    <p>
     webService接口用SoapUI
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/870a9aa12bc5ed24695f43ba49792d66.png"/>
    </p>
    <h4>
     没有接口文档如何做接口测试
    </h4>
    <p>
     没有接口文档，那还能咋办，瞎测呗！一个公司的开发流程里面，如果接口文档都没有，是无法展开接口测试的，你都不知道这个接口干什么的，也不知道具体每个字段代表什么意思，那还测啥呢？
     <br/>
     --当然，你肯定不能回答面试官不测(心理mmp，脸上笑嘻嘻)，接下来就是扯犊子时间
     <br/>
     1.没有接口文档，那就需要先跟开发沟通，然后整理接口文档（本来是开发写的，没办法，为了唬住面试官，先说自己整理了）
     <br/>
     2.没有接口文档，可以抓包看接口请求参数，然后不懂的跟开发沟通
    </p>
    <p>
     本题主要靠情商，通俗来说就是忽悠能力，先唬住面试官了再说，进去了也是瞎测测，随时做好背锅的准备
    </p>
    <h4>
     在接口测试过程中，上下游接口有数据依赖如何处理
    </h4>
    <p>
     用一个全局变量来处理依赖的数据，比如登录后返回token,其它接口都需要这个token,那就用全局变量来传token参数
    </p>
    <h4>
     依赖第三方数据的接口如何进行测试
    </h4>
    <p>
     这个标准答案是：mock
    </p>
    <p>
     接着面试官会问你，如果mock的，然后你就顺着坑继续挖，搭建mock服务，参考这篇
     <a href="https://www.cnblogs.com/yoyoketang/p/9348552.html" rel="nofollow">
      【https://www.cnblogs.com/yoyoketang/p/9348552.html】
     </a>
    </p>
    <h4>
     当一个接口出现异常时，你是如何分析异常的
    </h4>
    <p>
     1.抓包，用fiddler工具抓包，或者浏览器上f12,app上的话，那就用fiddler设置代理，去看请求报文和返回报文了
     <br/>
     2.查看后端日志，xhell连上服务器，查看日志
    </p>
    <h4>
     如何模拟弱网测试
    </h4>
    <p>
     fiddler和charles都可以模拟弱网测试，平常说的模拟丢包，也是模拟弱网测试
    </p>
    <h4>
     如何分析一个bug是前端还是后端的
    </h4>
    <p>
     平常提bug的时候，前端开发和后端开发总是扯皮，不承认是对方的bug
     <br/>
     这种情况很容易判断，先抓包看请求报文，对着接口文档，看请求报文有没问题，有问题就是前端发的数据不对
     <br/>
     请求报文没问题，那就看返回报文，返回的数据不对，那就是后端开发的问题咯
    </p>
   </div>
  </div>
 </article>
</div>


<p class="artid" style="display:none">68747470733a2f2f:626c6f672e6373646e2e6e65742f63616e64795f7473655f31:2f61727469636c652f64657461696c732f3939343532333738</p>
