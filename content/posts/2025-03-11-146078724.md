---
layout: post
title: "JVMå­¦ä¹ -ç±»æ–‡ä»¶ç»“æ„-ç±»åŠ è½½"
date: 2025-03-11 08:00:00 +0800
description: "ä½¿ç”¨åœºæ™¯æƒ³åŠ è½½é classpath éšæ„è·¯å¾„ä¸­çš„ç±»æ–‡ä»¶é€šè¿‡æ¥å£æ¥ä½¿ç”¨å®ç°ï¼Œå¸Œæœ›è§£è€¦æ—¶ï¼Œå¸¸ç”¨åœ¨æ¡†æ¶è®¾è®¡è¿™äº›ç±»å¸Œæœ›äºˆä»¥éš”ç¦»ï¼Œä¸åŒåº”ç”¨çš„åŒåç±»éƒ½å¯ä»¥åŠ è½½ï¼Œä¸å†²çªï¼Œå¸¸è§äº tomcat å®¹å™¨æ­¥éª¤ç»§æ‰¿ ClassLoader çˆ¶ç±»è¦éµä»åŒäº²å§”æ´¾æœºåˆ¶ï¼Œé‡å†™ ï¬ndClass æ–¹æ³•ä¸æ˜¯é‡å†™ loadClass æ–¹æ³•ï¼Œå¦åˆ™ä¸ä¼šèµ°åŒäº²å§”æ´¾æœºåˆ¶è¯»å–ç±»æ–‡ä»¶çš„å­—èŠ‚ç è°ƒç”¨çˆ¶ç±»çš„ deï¬neClass æ–¹æ³•æ¥åŠ è½½ç±»ä½¿ç”¨è€…è°ƒç”¨è¯¥ç±»åŠ è½½å™¨çš„ loadClass æ–¹æ³•ç ´ååŒäº²å§”æ´¾æ¨¡å¼ã€‚"
keywords: "JVMå­¦ä¹ -ç±»æ–‡ä»¶ç»“æ„ ç±»åŠ è½½"
categories: ['æœªåˆ†ç±»']
tags: ['å­¦ä¹ ', 'åç«¯', 'Jvm', 'Java']
artid: "146078724"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146078724
    alt: "JVMå­¦ä¹ -ç±»æ–‡ä»¶ç»“æ„-ç±»åŠ è½½"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146078724
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146078724
cover: https://bing.ee123.net/img/rand?artid=146078724
image: https://bing.ee123.net/img/rand?artid=146078724
img: https://bing.ee123.net/img/rand?artid=146078724
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     JVMå­¦ä¹ -ç±»æ–‡ä»¶ç»“æ„ ç±»åŠ è½½
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     ç±»åŠ è½½å’Œå­—èŠ‚ç æŠ€æœ¯
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/4f39eba4bf23446aa0152db3f139de90.png"/>
    </p>
    <p>
    </p>
    <h2>
     ä¸€.ç±»æ–‡ä»¶ç»“æ„
    </h2>
    <h4>
     ç¤ºä¾‹:
    </h4>
    <p>
     ä¸€ä¸ªç®€å•çš„ HelloWorld.java
    </p>
    <p>
     `package cn.itcast.jvm.t5;
    </p>
    <p>
     // HelloWorld ç¤ºä¾‹
    </p>
    <p>
     public class HelloWorld {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     System.out.println("hello world");
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <ul>
     <li>
      <p>
       æ‰§è¡Œ javac -parameters -d . HellowWorld.javaï¼ˆåŠ ä¸Š -parameters ä¼šä¿ç•™æ–¹æ³•ä¸­çš„åç§°ä¿¡æ¯ï¼‰
      </p>
     </li>
    </ul>
    <h4 style="background-color:transparent">
     ç¼–è¯‘ä¸º HelloWorld.class åæ˜¯è¿™ä¸ªæ ·å­çš„
    </h4>
    <p>
     `[root@localhost ~]# od -t xC HelloWorld.class
    </p>
    <p>
     0000000 ca fe ba be 00 00 00 34 00 23 0a 00 06 00 15 09
    </p>
    <p>
     0000020 00 16 00 17 08 00 18 0a 00 19 00 1a 07 00 1b 07
    </p>
    <p>
     0000040 00 1c 01 00 06 3c 69 6e 69 74 3e 01 00 03 28 29
    </p>
    <p>
     0000060 56 01 00 04 43 6f 64 65 01 00 0f 4c 69 6e 65 4e
    </p>
    <p>
     0000100 75 6d 62 65 72 54 61 62 6c 65 01 00 12 4c 6f 63
    </p>
    <p>
     0000120 61 6c 56 61 72 69 61 62 6c 65 54 61 62 6c 65 01
    </p>
    <p>
     0000140 00 04 74 68 69 73 01 00 1d 4c 63 6e 2f 69 74 63
    </p>
    <p>
     0000160 61 73 74 2f 6a 76 6d 2f 74 35 2f 48 65 6c 6c 6f
    </p>
    <p>
     0000200 57 6f 72 6c 64 3b 01 00 04 6d 61 69 6e 01 00 16
    </p>
    <p>
     0000220 28 5b 4c 6a 61 76 61 2f 6c 61 6e 67 2f 53 74 72
    </p>
    <p>
     0000240 69 6e 67 3b 29 56 01 00 04 61 72 67 73 01 00 13
    </p>
    <p>
     0000260 5b 4c 6a 61 76 61 2f 6c 61 6e 67 2f 53 74 72 69
    </p>
    <p>
     0000300 6e 67 3b 01 00 10 4d 65 74 68 6f 64 50 61 72 61
    </p>
    <p>
     0000320 6d 65 74 65 72 73 01 00 0a 53 6f 75 72 63 65 46
    </p>
    <p>
     0000340 69 6c 65 01 00 0f 48 65 6c 6c 6f 57 6f 72 6c 64
    </p>
    <p>
     0000360 2e 6a 61 76 61 0c 00 07 00 08 07 00 1d 0c 00 1e
    </p>
    <p>
     0000400 00 1f 01 00 0b 68 65 6c 6c 6f 20 77 6f 72 6c 64
    </p>
    <p>
     0000420 07 00 20 0c 00 21 00 22 01 00 1b 63 6e 2f 69 74
    </p>
    <p>
     0000440 63 61 73 74 2f 6a 76 6d 2f 74 35 2f 48 65 6c 6c
    </p>
    <p>
     0000460 6f 57 6f 72 6c 64 01 00 10 6a 61 76 61 2f 6c 61
    </p>
    <p>
     0000500 6e 67 2f 4f 62 6a 65 63 74 01 00 10 6a 61 76 61
    </p>
    <p>
     0000520 2f 6c 61 6e 67 2f 53 79 73 74 65 6d 01 00 03 6f
    </p>
    <p>
     0000540 75 74 01 00 15 4c 6a 61 76 61 2f 69 6f 2f 50 72
    </p>
    <p>
     0000560 69 6e 74 53 74 72 65 61 6d 3b 01 00 13 6a 61 76
    </p>
    <p>
     0000600 61 2f 69 6f 2f 50 72 69 6e 74 53 74 72 65 61 6d
    </p>
    <p>
     0000620 01 00 07 70 72 69 6e 74 6c 6e 01 00 15 28 4c 6a
    </p>
    <p>
     0000640 61 76 61 2f 6c 61 6e 67 2f 53 74 72 69 6e 67 3b
    </p>
    <p>
     0000660 29 56 00 21 00 05 00 06 00 00 00 00 00 02 00 01
    </p>
    <p>
     0000700 00 07 00 08 00 01 00 09 00 00 00 2f 00 01 00 01
    </p>
    <p>
     0000720 00 00 00 05 2a b7 00 01 b1 00 00 00 02 00 0a 00
    </p>
    <p>
     0000740 00 00 06 00 01 00 00 00 04 00 0b 00 00 00 0c 00
    </p>
    <p>
     0000760 01 00 00 00 05 00 0c 00 0d 00 00 00 09 00 0e 00
    </p>
    <p>
     0001000 0f 00 02 00 09 00 00 00 37 00 02 00 01 00 00 00
    </p>
    <p>
     0001020 09 b2 00 02 12 03 b6 00 04 b1 00 00 00 02 00 0a
    </p>
    <p>
     0001040 00 00 00 0a 00 02 00 00 00 06 00 08 00 07 00 0b
    </p>
    <p>
     0001060 00 00 00 0c 00 01 00 00 00 09 00 10 00 11 00 00
    </p>
    <p>
     0001100 00 12 00 00 00 05 01 00 10 00 00 00 01 00 13 00
    </p>
    <p>
     0001120 00 00 02 00 14`
    </p>
    <ul>
     <li>
      <h3>
       æ ¹æ® JVM è§„èŒƒï¼Œç±»æ–‡ä»¶ç»“æ„å¦‚ä¸‹
      </h3>
      <p>
       `ClassFile {
       <!-- -->
      </p>
      <p>
       u4 magic; //ï¼ˆé­”æœ¯ï¼‰
      </p>
      <p>
       u2 minor_version;//(å°ç‰ˆæœ¬å·)
      </p>
      <p>
       u2 major_version;//(ä¸»ç‰ˆæœ¬å·)
      </p>
      <p>
       u2 constant_pool_count;
      </p>
      <p>
       cp_info constant_pool[constant_pool_count-1];
      </p>
      <p>
       u2 access_flags;//(è®¿é—®ä¿®é¥°)
      </p>
      <p>
       u2 this_class;
      </p>
      <p>
       u2 super_class;//(çˆ¶ç±»ä¿¡æ¯)
      </p>
      <p>
       u2 interfaces_count;
      </p>
      <p>
       u2 interfaces[interfaces_count];//(æ¥å£ä¿¡æ¯)
      </p>
      <p>
       u2 fields_count;
      </p>
      <p>
       field_info fields[fields_count];//(ç±»ä¸­å˜é‡)
      </p>
      <p>
       u2 methods_count;
      </p>
      <p>
       method_info methods[methods_count];//(ç±»çš„æ–¹æ³•ä¿¡æ¯)
      </p>
      <p>
       u2 attributes_count;
      </p>
      <p>
       attribute_info attributes[attributes_count];//(ç±»çš„é™„åŠ å±æ€§ä¿¡æ¯)
      </p>
      <p>
       }`
      </p>
      <p>
       è§£é‡Šï¼šå‰é¢çš„u4ã€u2ä»£è¡¨çš„æ˜¯å­—èŠ‚æ•°
      </p>
      <p>
      </p>
     </li>
    </ul>
    <h3>
     1ï¼‰é­”æœ¯ï¼ˆæ‰€æœ‰æ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„ç‰¹å®šç±»å‹ç±»å‹ï¼‰
    </h3>
    <p>
     0~3 å­—èŠ‚ï¼Œè¡¨ç¤ºå®ƒæ˜¯å¦æ˜¯ã€classã€‘ç±»å‹çš„æ–‡ä»¶
    </p>
    <p>
     0000000 ca fe ba be 00 00 00 34 00 23 0a 00 06 00 15 09
    </p>
    <h3>
     2ï¼‰ç‰ˆæœ¬
    </h3>
    <p>
     4~7 å­—èŠ‚ï¼Œè¡¨ç¤ºç±»çš„ç‰ˆæœ¬ 00 34ï¼ˆ52ï¼‰ è¡¨ç¤ºæ˜¯ Java 8
    </p>
    <p>
     0000000 ca fe ba be 00 00 00 34 00 23 0a 00 06 00 15 09
    </p>
    <h3 style="background-color:transparent">
     3ï¼‰
     <strong>
      å¸¸é‡æ± 
     </strong>
    </h3>
    <table>
     <thead>
      <tr>
       <th>
        <strong>
         Constant Type
        </strong>
       </th>
       <th>
        <strong>
         Value
        </strong>
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        CONSTANT_Class
       </td>
       <td>
        7
       </td>
      </tr>
      <tr>
       <td>
        CONSTANT_Fieldref
       </td>
       <td>
        9
       </td>
      </tr>
      <tr>
       <td>
        CONSTANT_Methodrefï¼ˆæ–¹æ³•å¼•ç”¨çš„ä¿¡æ¯ï¼‰
       </td>
       <td>
        10
       </td>
      </tr>
      <tr>
       <td>
        CONSTANT_InterfaceMethodref
       </td>
       <td>
        11
       </td>
      </tr>
      <tr>
       <td>
        CONSTANT_String
       </td>
       <td>
        8
       </td>
      </tr>
      <tr>
       <td>
        CONSTANT_Integer
       </td>
       <td>
        3
       </td>
      </tr>
      <tr>
       <td>
        CONSTANT_Float
       </td>
       <td>
        4
       </td>
      </tr>
      <tr>
       <td>
        CONSTANT_Long
       </td>
       <td>
        5
       </td>
      </tr>
      <tr>
       <td>
        CONSTANT_Double
       </td>
       <td>
        6
       </td>
      </tr>
      <tr>
       <td>
        CONSTANT_NameAndType
       </td>
       <td>
        12
       </td>
      </tr>
      <tr>
       <td>
        CONSTANT_Utf8
       </td>
       <td>
        1
       </td>
      </tr>
      <tr>
       <td>
        CONSTANT_MethodHandle
       </td>
       <td>
        15
       </td>
      </tr>
      <tr>
       <td>
        CONSTANT_MethodType
       </td>
       <td>
        16
       </td>
      </tr>
      <tr>
       <td>
        CONSTANT_InvokeDynamic
       </td>
       <td>
        18
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     8~9 å­—èŠ‚ï¼Œè¡¨ç¤ºå¸¸é‡æ± é•¿åº¦ï¼Œ00 23 ï¼ˆ35ï¼‰ è¡¨ç¤ºå¸¸é‡æ± æœ‰ #1~#34é¡¹ï¼Œæ³¨æ„ #0 é¡¹ä¸è®¡å…¥ï¼Œä¹Ÿæ²¡æœ‰å€¼
    </p>
    <p>
     0000000 ca fe ba be 00 00 00 34 00 23 0a 00 06 00 15 09
    </p>
    <p>
    </p>
    <p>
     ç¬¬#1é¡¹ 0aï¼ˆ16è¿›åˆ¶è¡¨ç¤º10è¿›åˆ¶çš„10ï¼‰ è¡¨ç¤ºä¸€ä¸ª Method ä¿¡æ¯ï¼Œ00 06 å’Œ 00 15ï¼ˆ21ï¼‰ è¡¨ç¤ºå®ƒå¼•ç”¨äº†å¸¸é‡æ± ä¸­ #6 å’Œ #21 é¡¹æ¥è·å¾—
    </p>
    <p>
     è¿™ä¸ªæ–¹æ³•çš„ã€æ‰€å±ç±»ã€‘å’Œã€æ–¹æ³•åã€‘
    </p>
    <p>
     0000000 ca fe ba be 00 00 00 34 00 23 0a 00 06 00 15 09
    </p>
    <p>
     ç¬¬#2é¡¹ 09 è¡¨ç¤ºä¸€ä¸ª Field ä¿¡æ¯ï¼Œ00 16ï¼ˆ22ï¼‰å’Œ 00 17ï¼ˆ23ï¼‰ è¡¨ç¤ºå®ƒå¼•ç”¨äº†å¸¸é‡æ± ä¸­ #22 å’Œ # 23 é¡¹
    </p>
    <p>
     æ¥è·å¾—è¿™ä¸ªæˆå‘˜å˜é‡çš„ã€æ‰€å±ç±»ã€‘å’Œã€æˆå‘˜å˜é‡åã€‘
    </p>
    <p>
     0000000 ca fe ba be 00 00 00 34 00 23 0a 00 06 00 15 09
    </p>
    <p>
     0000020 00 16 00 17 08 00 18 0a 00 19 00 1a 07 00 1b 07
    </p>
    <p>
     ç¬¬#3é¡¹ 08 è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²å¸¸é‡åç§°ï¼Œ00 18ï¼ˆ24ï¼‰è¡¨ç¤ºå®ƒå¼•ç”¨äº†å¸¸é‡æ± ä¸­ #24 é¡¹
    </p>
    <p>
     0000020 00 16 00 17 08 00 18 0a 00 19 00 1a 07 00 1b 07
    </p>
    <p>
     ç¬¬#4é¡¹ 0a è¡¨ç¤ºä¸€ä¸ª Method ä¿¡æ¯ï¼Œ00 19ï¼ˆ25ï¼‰ å’Œ 00 1aï¼ˆ26ï¼‰ è¡¨ç¤ºå®ƒå¼•ç”¨äº†å¸¸é‡æ± ä¸­ #25 å’Œ #26
    </p>
    <p>
     é¡¹æ¥è·å¾—è¿™ä¸ªæ–¹æ³•çš„ã€æ‰€å±ç±»ã€‘å’Œã€æ–¹æ³•åã€‘
    </p>
    <p>
     0000020 00 16 00 17 08 00 18 0a 00 19 00 1a 07 00 1b 07ç¬¬#5é¡¹ 07 è¡¨ç¤ºä¸€ä¸ª Class ä¿¡æ¯ï¼Œ00 1bï¼ˆ27ï¼‰ è¡¨ç¤ºå®ƒå¼•ç”¨äº†å¸¸é‡æ± ä¸­ #27 é¡¹
    </p>
    <p>
     0000020 00 16 00 17 08 00 18 0a 00 19 00 1a 07 00 1b 07
    </p>
    <p>
     ç¬¬#6é¡¹ 07 è¡¨ç¤ºä¸€ä¸ª Class ä¿¡æ¯ï¼Œ00 1cï¼ˆ28ï¼‰ è¡¨ç¤ºå®ƒå¼•ç”¨äº†å¸¸é‡æ± ä¸­ #28 é¡¹
    </p>
    <p>
     0000020 00 16 00 17 08 00 18 0a 00 19 00 1a 07 00 1b 07
    </p>
    <p>
     0000040 00 1c 01 00 06 3c 69 6e 69 74 3e 01 00 03 28 29
    </p>
    <p>
     ç¬¬#7é¡¹ 01 è¡¨ç¤ºä¸€ä¸ª utf8 ä¸²ï¼Œ00 06 è¡¨ç¤ºé•¿åº¦ï¼Œ3c 69 6e 69 74 3e æ˜¯ã€ &lt;init&gt; ï¼ˆæ„é€ æ–¹æ³•ï¼‰ã€‘
    </p>
    <p>
     0000040 00 1c 01 00 06 3c 69 6e 69 74 3e 01 00 03 28 29
    </p>
    <p>
     ç¬¬#8é¡¹ 01 è¡¨ç¤ºä¸€ä¸ª utf8 ä¸²ï¼Œ00 03 è¡¨ç¤ºé•¿åº¦ï¼Œ28 29 56 æ˜¯ã€()Vã€‘å…¶å®å°±æ˜¯è¡¨ç¤ºæ— å‚ã€æ— è¿”å›å€¼
    </p>
    <p>
     0000040 00 1c 01 00 06 3c 69 6e 69 74 3e 01 00 03 28 29
    </p>
    <p>
     0000060 56 01 00 04 43 6f 64 65 01 00 0f 4c 69 6e 65 4e
    </p>
    <p>
     ç¬¬#9é¡¹ 01 è¡¨ç¤ºä¸€ä¸ª utf8 ä¸²ï¼Œ00 04 è¡¨ç¤ºé•¿åº¦ï¼Œ43 6f 64 65 æ˜¯ã€Codeã€‘
    </p>
    <p>
     0000060 56 01 00 04 43 6f 64 65 01 00 0f 4c 69 6e 65 4e
    </p>
    <p>
     ç¬¬#10é¡¹ 01 è¡¨ç¤ºä¸€ä¸ª utf8 ä¸²ï¼Œ00 0fï¼ˆ15ï¼‰ è¡¨ç¤ºé•¿åº¦ï¼Œ4c 69 6e 65 4e 75 6d 62 65 72 54 61 62 6c 65
    </p>
    <p>
     æ˜¯ã€LineNumberTableã€‘
    </p>
    <p>
     0000060 56 01 00 04 43 6f 64 65 01 00 0f 4c 69 6e 65 4e
    </p>
    <p>
     0000100 75 6d 62 65 72 54 61 62 6c 65 01 00 12 4c 6f 63
    </p>
    <p>
     ç¬¬#11é¡¹ 01 è¡¨ç¤ºä¸€ä¸ª utf8 ä¸²ï¼Œ00 12ï¼ˆ18ï¼‰ è¡¨ç¤ºé•¿åº¦ï¼Œ4c 6f 63 61 6c 56 61 72 69 61 62 6c 65 54 61
    </p>
    <p>
     62 6c 65æ˜¯ã€LocalVariableTableã€‘
    </p>
    <p>
     0000100 75 6d 62 65 72 54 61 62 6c 65 01 00 12 4c 6f 63
    </p>
    <p>
     0000120 61 6c 56 61 72 69 61 62 6c 65 54 61 62 6c 65 01
    </p>
    <p>
     ç¬¬#12é¡¹ 01 è¡¨ç¤ºä¸€ä¸ª utf8 ä¸²ï¼Œ00 04 è¡¨ç¤ºé•¿åº¦ï¼Œ74 68 69 73 æ˜¯ã€thisã€‘
    </p>
    <p>
     0000120 61 6c 56 61 72 69 61 62 6c 65 54 61 62 6c 65 01
    </p>
    <p>
     0000140 00 04 74 68 69 73 01 00 1d 4c 63 6e 2f 69 74 63
    </p>
    <p>
     ç¬¬#13é¡¹ 01 è¡¨ç¤ºä¸€ä¸ª utf8 ä¸²ï¼Œ00 1dï¼ˆ29ï¼‰ è¡¨ç¤ºé•¿åº¦ï¼Œæ˜¯ã€Lcn/itcast/jvm/t5/HelloWorld;ã€‘
    </p>
    <p>
     0000140 00 04 74 68 69 73 01 00 1d 4c 63 6e 2f 69 74 63
    </p>
    <p>
     0000160 61 73 74 2f 6a 76 6d 2f 74 35 2f 48 65 6c 6c 6f0000200 57 6f 72 6c 64 3b 01 00 04 6d 61 69 6e 01 00 16
    </p>
    <p>
     ç¬¬#14é¡¹ 01 è¡¨ç¤ºä¸€ä¸ª utf8 ä¸²ï¼Œ00 04 è¡¨ç¤ºé•¿åº¦ï¼Œ74 68 69 73 æ˜¯ã€mainã€‘
    </p>
    <p>
     0000200 57 6f 72 6c 64 3b 01 00 04 6d 61 69 6e 01 00 16
    </p>
    <p>
     ç¬¬#15é¡¹ 01 è¡¨ç¤ºä¸€ä¸ª utf8 ä¸²ï¼Œ00 16ï¼ˆ22ï¼‰ è¡¨ç¤ºé•¿åº¦ï¼Œæ˜¯ã€([Ljava/lang/String;)Vã€‘å…¶å®å°±æ˜¯å‚æ•°ä¸º
    </p>
    <p>
     å­—ç¬¦ä¸²æ•°ç»„ï¼Œæ— è¿”å›å€¼
    </p>
    <p>
     0000200 57 6f 72 6c 64 3b 01 00 04 6d 61 69 6e 01 00 16
    </p>
    <p>
     0000220 28 5b 4c 6a 61 76 61 2f 6c 61 6e 67 2f 53 74 72
    </p>
    <p>
     0000240 69 6e 67 3b 29 56 01 00 04 61 72 67 73 01 00 13
    </p>
    <p>
     ç¬¬#16é¡¹ 01 è¡¨ç¤ºä¸€ä¸ª utf8 ä¸²ï¼Œ00 04 è¡¨ç¤ºé•¿åº¦ï¼Œæ˜¯ã€argsã€‘
    </p>
    <p>
     0000240 69 6e 67 3b 29 56 01 00 04 61 72 67 73 01 00 13
    </p>
    <p>
     ç¬¬#17é¡¹ 01 è¡¨ç¤ºä¸€ä¸ª utf8 ä¸²ï¼Œ00 13ï¼ˆ19ï¼‰ è¡¨ç¤ºé•¿åº¦ï¼Œæ˜¯ã€[Ljava/lang/String;ã€‘
    </p>
    <p>
     0000240 69 6e 67 3b 29 56 01 00 04 61 72 67 73 01 00 13
    </p>
    <p>
     0000260 5b 4c 6a 61 76 61 2f 6c 61 6e 67 2f 53 74 72 69
    </p>
    <p>
     0000300 6e 67 3b 01 00 10 4d 65 74 68 6f 64 50 61 72 61
    </p>
    <p>
     ç¬¬#18é¡¹ 01 è¡¨ç¤ºä¸€ä¸ª utf8 ä¸²ï¼Œ00 10ï¼ˆ16ï¼‰ è¡¨ç¤ºé•¿åº¦ï¼Œæ˜¯ã€MethodParametersã€‘
    </p>
    <p>
     0000300 6e 67 3b 01 00 10 4d 65 74 68 6f 64 50 61 72 61
    </p>
    <p>
     0000320 6d 65 74 65 72 73 01 00 0a 53 6f 75 72 63 65 46
    </p>
    <p>
     ç¬¬#19é¡¹ 01 è¡¨ç¤ºä¸€ä¸ª utf8 ä¸²ï¼Œ00 0aï¼ˆ10ï¼‰ è¡¨ç¤ºé•¿åº¦ï¼Œæ˜¯ã€SourceFileã€‘
    </p>
    <p>
     0000320 6d 65 74 65 72 73 01 00 0a 53 6f 75 72 63 65 46
    </p>
    <p>
     0000340 69 6c 65 01 00 0f 48 65 6c 6c 6f 57 6f 72 6c 64
    </p>
    <p>
     ç¬¬#20é¡¹ 01 è¡¨ç¤ºä¸€ä¸ª utf8 ä¸²ï¼Œ00 0fï¼ˆ15ï¼‰ è¡¨ç¤ºé•¿åº¦ï¼Œæ˜¯ã€HelloWorld.javaã€‘
    </p>
    <p>
     0000340 69 6c 65 01 00 0f 48 65 6c 6c 6f 57 6f 72 6c 64
    </p>
    <p>
     0000360 2e 6a 61 76 61 0c 00 07 00 08 07 00 1d 0c 00 1e
    </p>
    <p>
     ç¬¬#21é¡¹ 0c è¡¨ç¤ºä¸€ä¸ª ã€å+ç±»å‹ã€‘ï¼Œ00 07 00 08 å¼•ç”¨äº†å¸¸é‡æ± ä¸­ #7 #8 ä¸¤é¡¹
    </p>
    <p>
     0000360 2e 6a 61 76 61 0c 00 07 00 08 07 00 1d 0c 00 1e
    </p>
    <p>
     ç¬¬#22é¡¹ 07 è¡¨ç¤ºä¸€ä¸ª Class ä¿¡æ¯ï¼Œ00 1dï¼ˆ29ï¼‰ å¼•ç”¨äº†å¸¸é‡æ± ä¸­ #29 é¡¹
    </p>
    <p>
     0000360 2e 6a 61 76 61 0c 00 07 00 08 07 00 1d 0c 00 1eç¬¬#23é¡¹ 0c è¡¨ç¤ºä¸€ä¸ª ã€å+ç±»å‹ã€‘ï¼Œ00 1eï¼ˆ30ï¼‰ 00 1f ï¼ˆ31ï¼‰å¼•ç”¨äº†å¸¸é‡æ± ä¸­ #30 #31 ä¸¤é¡¹
    </p>
    <p>
     0000360 2e 6a 61 76 61 0c 00 07 00 08 07 00 1d 0c 00 1e
    </p>
    <p>
     0000400 00 1f 01 00 0b 68 65 6c 6c 6f 20 77 6f 72 6c 64
    </p>
    <p>
     ç¬¬#24é¡¹ 01 è¡¨ç¤ºä¸€ä¸ª utf8 ä¸²ï¼Œ00 0fï¼ˆ15ï¼‰ è¡¨ç¤ºé•¿åº¦ï¼Œæ˜¯ã€hello worldã€‘
    </p>
    <p>
     0000400 00 1f 01 00 0b 68 65 6c 6c 6f 20 77 6f 72 6c 64
    </p>
    <p>
     ç¬¬#25é¡¹ 07 è¡¨ç¤ºä¸€ä¸ª Class ä¿¡æ¯ï¼Œ00 20ï¼ˆ32ï¼‰ å¼•ç”¨äº†å¸¸é‡æ± ä¸­ #32 é¡¹
    </p>
    <p>
     0000420 07 00 20 0c 00 21 00 22 01 00 1b 63 6e 2f 69 74
    </p>
    <p>
     ç¬¬#26é¡¹ 0c è¡¨ç¤ºä¸€ä¸ª ã€å+ç±»å‹ã€‘ï¼Œ00 21ï¼ˆ33ï¼‰ 00 22ï¼ˆ34ï¼‰å¼•ç”¨äº†å¸¸é‡æ± ä¸­ #33 #34 ä¸¤é¡¹
    </p>
    <p>
     0000420 07 00 20 0c 00 21 00 22 01 00 1b 63 6e 2f 69 74
    </p>
    <p>
     ç¬¬#27é¡¹ 01 è¡¨ç¤ºä¸€ä¸ª utf8 ä¸²ï¼Œ00 1bï¼ˆ27ï¼‰ è¡¨ç¤ºé•¿åº¦ï¼Œæ˜¯ã€cn/itcast/jvm/t5/HelloWorldã€‘
    </p>
    <p>
     0000420 07 00 20 0c 00 21 00 22 01 00 1b 63 6e 2f 69 74
    </p>
    <p>
     0000440 63 61 73 74 2f 6a 76 6d 2f 74 35 2f 48 65 6c 6c
    </p>
    <p>
     0000460 6f 57 6f 72 6c 64 01 00 10 6a 61 76 61 2f 6c 61
    </p>
    <p>
     ç¬¬#28é¡¹ 01 è¡¨ç¤ºä¸€ä¸ª utf8 ä¸²ï¼Œ00 10ï¼ˆ16ï¼‰ è¡¨ç¤ºé•¿åº¦ï¼Œæ˜¯ã€java/lang/Objectã€‘
    </p>
    <p>
     0000460 6f 57 6f 72 6c 64 01 00 10 6a 61 76 61 2f 6c 61
    </p>
    <p>
     0000500 6e 67 2f 4f 62 6a 65 63 74 01 00 10 6a 61 76 61
    </p>
    <p>
     ç¬¬#29é¡¹ 01 è¡¨ç¤ºä¸€ä¸ª utf8 ä¸²ï¼Œ00 10ï¼ˆ16ï¼‰ è¡¨ç¤ºé•¿åº¦ï¼Œæ˜¯ã€java/lang/Systemã€‘
    </p>
    <p>
     0000500 6e 67 2f 4f 62 6a 65 63 74 01 00 10 6a 61 76 61
    </p>
    <p>
     0000520 2f 6c 61 6e 67 2f 53 79 73 74 65 6d 01 00 03 6f
    </p>
    <p>
     ç¬¬#30é¡¹ 01 è¡¨ç¤ºä¸€ä¸ª utf8 ä¸²ï¼Œ00 03 è¡¨ç¤ºé•¿åº¦ï¼Œæ˜¯ã€outã€‘
    </p>
    <p>
     0000520 2f 6c 61 6e 67 2f 53 79 73 74 65 6d 01 00 03 6f
    </p>
    <p>
     0000540 75 74 01 00 15 4c 6a 61 76 61 2f 69 6f 2f 50 72
    </p>
    <p>
     ç¬¬#31é¡¹ 01 è¡¨ç¤ºä¸€ä¸ª utf8 ä¸²ï¼Œ00 15ï¼ˆ21ï¼‰ è¡¨ç¤ºé•¿åº¦ï¼Œæ˜¯ã€Ljava/io/PrintStream;ã€‘
    </p>
    <p>
     0000540 75 74 01 00 15 4c 6a 61 76 61 2f 69 6f 2f 50 72
    </p>
    <p>
     0000560 69 6e 74 53 74 72 65 61 6d 3b 01 00 13 6a 61 76
     <strong>
      Flag Name
     </strong>
    </p>
    <p>
     <strong>
      Value
     </strong>
    </p>
    <p>
     <strong>
      Interpretation
     </strong>
    </p>
    <p>
     ACC_PUBLIC
    </p>
    <p>
     0x0001
    </p>
    <p>
     Declared public ; may be accessed from outside its
    </p>
    <p>
     package.
    </p>
    <p>
     ACC_FINAL
    </p>
    <p>
     0x0010
    </p>
    <p>
     Declared final ; no subclasses allowed.
    </p>
    <p>
     ACC_SUPER
    </p>
    <p>
     0x0020
    </p>
    <p>
     Treat superclass methods specially when invoked by the
    </p>
    <p>
     <em>
      invokespecial
     </em>
     instruction.
    </p>
    <p>
     ACC_INTERFACE
    </p>
    <p>
     0x0200
    </p>
    <p>
     Is an interface, not a class.
    </p>
    <p>
     ACC_ABSTRACT
    </p>
    <p>
     0x0400
    </p>
    <p>
     Declared abstract ; must not be instantiated.
    </p>
    <p>
     ACC_SYNTHETIC
    </p>
    <p>
     0x1000
    </p>
    <p>
     Declared synthetic; not present in the source code.
    </p>
    <p>
     ACC_ANNOTATION
    </p>
    <p>
     0x2000
    </p>
    <p>
     Declared as an annotation type.
    </p>
    <p>
     ACC_ENUM
    </p>
    <p>
     0x4000
    </p>
    <p>
     Declared as an enum type.
    </p>
    <p>
     ç¬¬#32é¡¹ 01 è¡¨ç¤ºä¸€ä¸ª utf8 ä¸²ï¼Œ00 13ï¼ˆ19ï¼‰ è¡¨ç¤ºé•¿åº¦ï¼Œæ˜¯ã€java/io/PrintStreamã€‘
    </p>
    <p>
     0000560 69 6e 74 53 74 72 65 61 6d 3b 01 00 13 6a 61 76
    </p>
    <p>
     0000600 61 2f 69 6f 2f 50 72 69 6e 74 53 74 72 65 61 6d
    </p>
    <p>
     ç¬¬#33é¡¹ 01 è¡¨ç¤ºä¸€ä¸ª utf8 ä¸²ï¼Œ00 07 è¡¨ç¤ºé•¿åº¦ï¼Œæ˜¯ã€printlnã€‘
    </p>
    <p>
     0000620 01 00 07 70 72 69 6e 74 6c 6e 01 00 15 28 4c 6a
    </p>
    <p>
     ç¬¬#34é¡¹ 01 è¡¨ç¤ºä¸€ä¸ª utf8 ä¸²ï¼Œ00 15ï¼ˆ21ï¼‰ è¡¨ç¤ºé•¿åº¦ï¼Œæ˜¯ã€(Ljava/lang/String;)Vã€‘
    </p>
    <p>
     0000620 01 00 07 70 72 69 6e 74 6c 6e 01 00 15 28 4c 6a
    </p>
    <p>
     0000640 61 76 61 2f 6c 61 6e 67 2f 53 74 72 69 6e 67 3b
    </p>
    <p>
     0000660 29 56 00 21 00 05 00 06 00 00 00 00 00 02 00 01
    </p>
    <p>
    </p>
    <h3>
     4ï¼‰è®¿é—®æ ‡è¯†ä¸ç»§æ‰¿ä¿¡æ¯
    </h3>
    <p>
     21 è¡¨ç¤ºè¯¥ class æ˜¯ä¸€ä¸ªç±»ï¼Œå…¬å…±çš„
    </p>
    <p>
     0000660 29 56 00 21 00 05 00 06 00 00 00 00 00 02 00 01
    </p>
    <p>
     05 è¡¨ç¤ºæ ¹æ®å¸¸é‡æ± ä¸­ #5 æ‰¾åˆ°æœ¬ç±»å…¨é™å®šå
    </p>
    <p>
     0000660 29 56 00 21 00 05 00 06 00 00 00 00 00 02 00 01
    </p>
    <p>
     06 è¡¨ç¤ºæ ¹æ®å¸¸é‡æ± ä¸­ #6 æ‰¾åˆ°çˆ¶ç±»å…¨é™å®šå
    </p>
    <p>
     0000660 29 56 00 21 00 05 00 06 00 00 00 00 00 02 00 01
    </p>
    <p>
     è¡¨ç¤ºæ¥å£çš„æ•°é‡ï¼Œæœ¬ç±»ä¸º 0
    </p>
    <p>
     0000660 29 56 00 21 00 05 00 06 00 00 00 00 00 02 00 01
    </p>
    <h2>
     äºŒã€å­—èŠ‚ç æŒ‡ä»¤
    </h2>
    <h3>
     1.javapå·¥å…·
    </h3>
    <p>
     java ä¸­æä¾›äº† javap å·¥å…·æ¥åç¼–è¯‘ class æ–‡ä»¶
    </p>
    <pre>javap -v D:Demo.class</pre>
    <h3>
     2.å›¾è§£æ³•æ‰§è¡Œæµç¨‹
    </h3>
    <h4>
     1ï¼‰æºjavaä»£ç 
    </h4>
    <p>
     `package cn.itcast.jvm.t3.bytecode;
    </p>
    <p>
     /**
    </p>
    <p>
     * æ¼”ç¤º å­—èŠ‚ç æŒ‡ä»¤ å’Œ æ“ä½œæ•°æ ˆã€å¸¸é‡æ± çš„å…³ç³»
    </p>
    <p>
     */
    </p>
    <p>
     public class Demo3_1 {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     int a = 10;
    </p>
    <p>
     int b = Short.MAX_VALUE + 1;
    </p>
    <p>
     int c = a + b;
    </p>
    <p>
     System.out.println(c);
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <h4 style="background-color:transparent">
     2ï¼‰é€æ­¥åˆ†æ -æ¡ˆä¾‹ä¸€
    </h4>
    <h6 style="background-color:transparent">
     â‘ å¸¸é‡æ± è½½å…¥è¿è¡Œæ—¶å¸¸é‡æ± 
    </h6>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/f826fd4a1a844fb696215383e927916c.png"/>
    </p>
    <h6>
     â‘¡
     <strong>
      æ–¹æ³•å­—èŠ‚ç è½½å…¥æ–¹æ³•åŒº
     </strong>
    </h6>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/ad4e9f3bb5a44909afde6d3d11ccfcae.png"/>
    </p>
    <h6 style="background-color:transparent">
     â‘¢
     <strong>
      main
     </strong>
     <strong>
      çº¿ç¨‹å¼€å§‹è¿è¡Œï¼Œåˆ†é…æ ˆå¸§å†…å­˜
     </strong>
    </h6>
    <p>
     ï¼ˆæ“ä½œæ•°æ ˆçš„å®½åº¦æ˜¯å››ä¸ªå­—èŠ‚ï¼‰
    </p>
    <p>
     ï¼ˆstack=2ï¼Œlocals=4ï¼‰ å¯¹åº”æ“ä½œæ•°æ ˆæœ‰ 2 ä¸ªç©ºé—´ï¼ˆæ¯ä¸ªç©ºé—´ 4 ä¸ªå­—èŠ‚ï¼‰ï¼Œå±€éƒ¨å˜é‡è¡¨ä¸­æœ‰ 4 ä¸ªæ§½ä½ã€‚
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/5bd0b9eed42448f281c8a0a405335cc3.png"/>
    </p>
    <h6 style="background-color:transparent">
     â‘£
     <strong>
      æ‰§è¡Œå¼•æ“å¼€å§‹æ‰§è¡Œå­—èŠ‚ç 
     </strong>
    </h6>
    <p>
     ç„¶åæ‰§è¡Œå¼•æ“å¼€å§‹ä¸€è¡Œè¡Œè¯»å–æ–¹æ³•åŒºçš„ä»£ç ï¼Œæ‰§è¡Œ
    </p>
    <p>
     1.ç¬¬ä¸€è¡Œ
     <strong>
      bipush 10
     </strong>
    </p>
    <p>
     å°†ä¸€ä¸ª byte å‹å…¥æ“ä½œæ•°æ ˆï¼ˆå…¶é•¿åº¦ä¼šè¡¥é½ 4 ä¸ªå­—èŠ‚ï¼‰ï¼Œç±»ä¼¼çš„æŒ‡ä»¤è¿˜æœ‰
    </p>
    <p>
     sipush å°†ä¸€ä¸ª short å‹å…¥æ“ä½œæ•°æ ˆï¼ˆå…¶é•¿åº¦ä¼šè¡¥é½ 4 ä¸ªå­—èŠ‚ï¼‰
    </p>
    <p>
     ldc å°†ä¸€ä¸ª int å‹å…¥æ“ä½œæ•°æ ˆ
    </p>
    <p>
     ldc2_w å°†ä¸€ä¸ª long å‹å…¥æ“ä½œæ•°æ ˆï¼ˆåˆ†ä¸¤æ¬¡å‹å…¥ï¼Œå› ä¸º long æ˜¯ 8 ä¸ªå­—èŠ‚ï¼‰
    </p>
    <p>
     è¿™é‡Œå°çš„æ•°å­—éƒ½æ˜¯å’Œå­—èŠ‚ç æŒ‡ä»¤å­˜åœ¨ä¸€èµ·ï¼Œè¶…è¿‡ short èŒƒå›´çš„æ•°å­—å­˜å…¥äº†å¸¸é‡æ± 
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/53eedc73ada9415d8d7897e757675ff4.png"/>
    </p>
    <p>
     2.æ‰§è¡Œç¬¬äºŒè¡Œ
     <strong>
      istore_1
     </strong>
    </p>
    <p>
     å°†æ“ä½œæ•°æ ˆé¡¶æ•°æ®å¼¹å‡ºï¼Œå­˜å…¥å±€éƒ¨å˜é‡è¡¨çš„ slot 1
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/240a705dfd7f4581b2385b89c0ec4c18.png"/>
    </p>
    <p>
    </p>
    <p>
     3.
     <strong>
      ldc #3
     </strong>
    </p>
    <p>
     ä»å¸¸é‡æ± åŠ è½½ #3 æ•°æ®åˆ°æ“ä½œæ•°æ ˆ
    </p>
    <p>
     <strong>
      æ³¨æ„
     </strong>
     Short.MAX_VALUE æ˜¯ 32767ï¼Œæ‰€ä»¥ 32768 = Short.MAX_VALUE + 1 å®é™…æ˜¯åœ¨ç¼–è¯‘æœŸé—´è®¡ç®—
    </p>
    <p>
     å¥½çš„
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/fecf16a7d4554ed2a87765cdbf6dbf14.png"/>
    </p>
    <p>
     4.
     <strong>
      istore_2
     </strong>
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/1c220826859a4916b7377d92989003f8.png"/>
    </p>
    <p>
     5.
     <strong>
      iload_1
     </strong>
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/9ccecce2aa3a4419ac9c358d1602acbd.png"/>
    </p>
    <p>
     6ã€
     <strong>
      iload_2
     </strong>
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/0bef500411e846deb83938a33c58ef31.png"/>
    </p>
    <p>
     7.
     <strong>
      iadd
     </strong>
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/2722d6d2d48249c2941af94bc6a8cb18.png"/>
    </p>
    <p>
     8.
     <strong>
      istore_3
     </strong>
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/0e7b82a9e060439c8846b6232c7242c7.png"/>
    </p>
    <p>
     9ã€
     <strong>
      getstatic #4
     </strong>
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/21dbf9a903164229b05f78b7321f5e2e.png"/>
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/e17d4895fb1e4f45a579145785f409b2.png"/>
    </p>
    <p>
     10ã€
     <strong>
      iload_3
     </strong>
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/a97181ae96004c1195c2f6ae7b7940a7.png"/>
    </p>
    <p>
     11.
     <strong>
      invokevirtual #5
     </strong>
    </p>
    <p>
     æ‰¾åˆ°å¸¸é‡æ±  #5 é¡¹
    </p>
    <p>
     å®šä½åˆ°æ–¹æ³•åŒº java/io/PrintStream.println:(I)V æ–¹æ³•
    </p>
    <p>
     ç”Ÿæˆæ–°çš„æ ˆå¸§ï¼ˆåˆ†é… localsã€stackç­‰ï¼‰
    </p>
    <p>
     ä¼ é€’å‚æ•°ï¼Œæ‰§è¡Œæ–°æ ˆå¸§ä¸­çš„å­—èŠ‚ç 
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/2a47a51ba4f84a2792508dc3e39ba3c3.png"/>
    </p>
    <p>
    </p>
    <h4 style="background-color:transparent">
     3ï¼‰é€æ­¥åˆ†æ -æ¡ˆä¾‹äºŒ
    </h4>
    <p>
     javaæºä»£ç 
    </p>
    <p>
     `package cn.itcast.jvm.t3.bytecode;
    </p>
    <p>
     /**
    </p>
    <p>
     * ä»å­—èŠ‚ç è§’åº¦åˆ†æ a++ ç›¸å…³é¢˜ç›®
    </p>
    <p>
     */
    </p>
    <p>
     public class Demo3_2 {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     int a = 10;
    </p>
    <p>
     int b = a++ + ++a + a--;
    </p>
    <p>
     System.out.println(a);
    </p>
    <p>
     System.out.println(b);
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     åˆ†æï¼š
    </p>
    <p>
     æ³¨æ„ iinc æŒ‡ä»¤ï¼ˆä»£ç ä¸­çš„++ï¼‰æ˜¯ç›´æ¥åœ¨å±€éƒ¨å˜é‡ slot ä¸Šè¿›è¡Œè¿ç®—ï¼ˆå³ç›´æ¥åœ¨å±€éƒ¨å˜é‡è¡¨ä¸­æ‰§è¡Œçš„æ²¡æœ‰è¿›æ ˆï¼‰
    </p>
    <p>
     a++ å’Œ ++a çš„åŒºåˆ«æ˜¯å…ˆæ‰§è¡Œ iload è¿˜æ˜¯ å…ˆæ‰§è¡Œ iinc
    </p>
    <p>
    </p>
    <p>
     1.bipush 10 æŠŠ10å…ˆæ”¾å…¥æ“ä½œæ•°æ ˆä¸­
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/3817a428490449009decafd0bf53499d.png"/>
    </p>
    <p>
     2.istore 1 æŠŠ10å¼¹å‡ºæ¥ æ”¾å…¥1å·
    </p>
    <p>
     ç„¶åå¼€å§‹æ‰§è¡Œi++ ,è¦å…ˆiload å†è‡ªå¢
    </p>
    <p>
     iloadå…ˆæŠŠå€¼è¯»å…¥æ“ä½œæ•°æ ˆä¸­
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/ae4a0a0254d9499a9d6038f91c2c4718.png"/>
    </p>
    <p>
     æ‰§è¡Œè‡ªå¢ iinc ï¼Œæ­¤å‘½ä»¤æœ‰ä¸¤ä¸ªå‚æ•°ç¬¬ä¸€ä¸ªæ˜¯å¯¹é‚£ä¸ªæ§½ä½æ“ä½œç¬¬äºŒä¸ªè¡¨ç¤ºè‡ªå¢å‡ 
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/0ef1dfda453e417f83c005a7782db75d.png"/>
    </p>
    <p>
     iaddå‘½ä»¤åšåŠ æ³•ï¼ŒæŠŠæ ˆä¸­çš„ä¸¤ä¸ªæ•°å¼¹å‡º ç›¸åŠ å ç»“æœå†å‹å…¥å ä¸­
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/ac5cd956361041e7bb988bb7f1ccddf2.png"/>
    </p>
    <p>
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/0d203dd2471e41159efdbfab5cb3ac65.png"/>
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/a4d275ff1b814b1eb1f7fb62c467b900.png"/>
    </p>
    <h3 style="background-color:transparent">
     3.æ¡ä»¶åˆ¤æ–­æŒ‡ä»¤
    </h3>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/fb5f2ea953e9477f8a6bc0fbb2996c1c.png"/>
    </p>
    <p>
     å‡ ç‚¹è¯´æ˜ï¼š
    </p>
    <p>
     byteï¼Œshortï¼Œchar éƒ½ä¼šæŒ‰ int æ¯”è¾ƒï¼Œå› ä¸ºæ“ä½œæ•°æ ˆéƒ½æ˜¯ 4 å­—èŠ‚
    </p>
    <p>
     goto ç”¨æ¥è¿›è¡Œè·³è½¬åˆ°æŒ‡å®šè¡Œå·çš„å­—èŠ‚ç 
    </p>
    <p>
     ä¾‹å­ï¼š
    </p>
    <p>
     æºç ï¼š`public class Demo3_3 {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     int a = 0;
    </p>
    <p>
     if(a == 0) {
     <!-- -->
    </p>
    <p>
     a = 10;
    </p>
    <p>
     } else {
     <!-- -->
    </p>
    <p>
     a = 20;
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     å­—èŠ‚ç ï¼š
    </p>
    <p>
     `0: iconst_0
    </p>
    <p>
     1: istore_1
    </p>
    <p>
     2: iload_1
    </p>
    <p>
     3: ifne 12
    </p>
    <p>
     6: bipush 10
    </p>
    <p>
     8: istore_1
    </p>
    <p>
     9: goto 15
    </p>
    <p>
     12: bipush 20
    </p>
    <p>
     14: istore_1
    </p>
    <p>
     15: return`
    </p>
    <h3 style="background-color:transparent">
     4.å¾ªç¯æ§åˆ¶æŒ‡ä»¤
    </h3>
    <h5>
     1ï¼‰whileå¾ªç¯
    </h5>
    <p>
     ä¾‹ï¼š`public class Demo3_4 {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     int a = 0;
    </p>
    <p>
     while (a &lt; 10) {
     <!-- -->
    </p>
    <p>
     a++;
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     å­—èŠ‚ç ï¼š`0: iconst_0
    </p>
    <p>
     1: istore_1
    </p>
    <p>
     2: iload_1
    </p>
    <p>
     3: bipush 10
    </p>
    <p>
     5: if_icmpge 14
    </p>
    <p>
     8: iinc 1, 1
    </p>
    <p>
     11: goto 2
    </p>
    <p>
     14: return`
    </p>
    <h5>
     2ï¼‰do-whileå¾ªç¯
    </h5>
    <p>
     `public class Demo3_5 {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     int a = 0;
    </p>
    <p>
     do {
     <!-- -->
    </p>
    <p>
     a++;
    </p>
    <p>
     } while (a &lt; 10);
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     å­—èŠ‚ç ï¼š`0: iconst_0
    </p>
    <p>
     1: istore_1
    </p>
    <p>
     2: iinc 1, 1
    </p>
    <p>
     5: iload_1
    </p>
    <p>
     6: bipush 10
    </p>
    <p>
     8: if_icmplt 2
    </p>
    <p>
     11: return`
    </p>
    <h5>
     3ï¼‰forå¾ªç¯
    </h5>
    <p>
     `public class Demo3_6 {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     for (int i = 0; i &lt; 10; i++) {
     <!-- -->
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     å­—èŠ‚ç ï¼š
    </p>
    <p>
     `0: iconst_0
    </p>
    <p>
     1: istore_1
    </p>
    <p>
     2: iload_1
    </p>
    <p>
     3: bipush 10
    </p>
    <p>
     5: if_icmpge 14
    </p>
    <p>
     8: iinc 1, 1
    </p>
    <p>
     11: goto 2
    </p>
    <p>
     14: return`
    </p>
    <p>
     æ³¨ï¼šwhileå’Œforå¾ªç¯çš„å­—èŠ‚ç ä¸€æ ·çš„
    </p>
    <h5>
     <em>
      * ç»ƒä¹ 
     </em>
     *
    </h5>
    <p>
     è¯·ä»å­—èŠ‚ç è§’åº¦åˆ†æï¼Œä¸‹åˆ—ä»£ç è¿è¡Œçš„ç»“æœï¼š
    </p>
    <p>
     `public class Demo3_6_1 {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     int i = 0;
    </p>
    <p>
     int x = 0;
    </p>
    <p>
     while (i &lt; 10) {
     <!-- -->
    </p>
    <p>
     x = x++;
    </p>
    <p>
     i++;
    </p>
    <p>
     }
    </p>
    <p>
     System.out.println(x);
     <strong>
      // ç»“æœæ˜¯ 0
     </strong>
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <h3>
     5.æ„é€ æ–¹æ³•
    </h3>
    <h4>
     1ï¼‰cinit
    </h4>
    <p>
     &lt;cinit&gt;()V
    </p>
    <p>
     ä»£ç ï¼š
    </p>
    <p>
     `public class Demo3_8_1 {
     <!-- -->
    </p>
    <p>
     static int i = 10;
    </p>
    <p>
     static {
     <!-- -->
    </p>
    <p>
     i = 20;
    </p>
    <p>
     }
    </p>
    <p>
     static {
     <!-- -->
    </p>
    <p>
     i = 30;
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     ç¼–è¯‘å™¨ä¼šæŒ‰ä»ä¸Šè‡³ä¸‹çš„é¡ºåºï¼Œæ”¶é›†æ‰€æœ‰ static é™æ€ä»£ç å—å’Œé™æ€æˆå‘˜èµ‹å€¼çš„ä»£ç ï¼Œåˆå¹¶ä¸ºä¸€ä¸ªç‰¹æ®Šçš„æ–¹
    </p>
    <p>
     æ³• &lt;cinit&gt;()V ï¼š
    </p>
    <p>
     `0: bipush 10
    </p>
    <p>
     2: putstatic #2 // Field i:I
    </p>
    <p>
     5: bipush 20
    </p>
    <p>
     7: putstatic #2 // Field i:I
    </p>
    <p>
     10: bipush 30
    </p>
    <p>
     12: putstatic #2 // Field i:I
    </p>
    <p>
     15: return`
    </p>
    <p>
     &lt;cinit&gt;()V æ–¹æ³•ä¼šåœ¨ç±»åŠ è½½çš„åˆå§‹åŒ–é˜¶æ®µè¢«è°ƒç”¨
    </p>
    <h4>
     2ï¼‰init
    </h4>
    <p>
     &lt;init&gt;()V
    </p>
    <p>
     ä»£ç ï¼š
    </p>
    <p>
     `public class Demo3_8_2 {
     <!-- -->
    </p>
    <p>
     private String a = "s1";
    </p>
    <p>
     {
     <!-- -->
    </p>
    <p>
     b = 20;
    </p>
    <p>
     }
    </p>
    <p>
     private int b = 10;
    </p>
    <p>
     {
     <!-- -->
    </p>
    <p>
     a = "s2";
    </p>
    <p>
     }
    </p>
    <p>
     public Demo3_8_2(String a, int b) {
     <!-- -->
    </p>
    <p>
     this.a = a;
    </p>
    <p>
     this.b = b;
    </p>
    <p>
     }
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     Demo3_8_2 d = new Demo3_8_2("s3", 30);
    </p>
    <p>
     System.out.println(d.a);
    </p>
    <p>
     System.out.println(d.b);
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     ç¼–è¯‘å™¨ä¼šæŒ‰ä»ä¸Šè‡³ä¸‹çš„é¡ºåºï¼Œæ”¶é›†æ‰€æœ‰ {} ä»£ç å—å’Œæˆå‘˜å˜é‡èµ‹å€¼çš„ä»£ç ï¼Œå½¢æˆæ–°çš„æ„é€ æ–¹æ³•ï¼Œä½†åŸå§‹æ„
    </p>
    <p>
     é€ æ–¹æ³•å†…çš„ä»£ç æ€»æ˜¯åœ¨æœ€å
    </p>
    <p>
     `public cn.itcast.jvm.t3.bytecode.Demo3_8_2(java.lang.String, int);
    </p>
    <p>
     descriptor: (Ljava/lang/String;I)V
    </p>
    <p>
     flags: ACC_PUBLIC
    </p>
    <p>
     Code:
    </p>
    <p>
     stack=2, locals=3, args_size=3
    </p>
    <p>
     0: aload_0
    </p>
    <p>
     1: invokespecial #1 // super.&lt;init&gt;()V
    </p>
    <p>
     4: aload_0
    </p>
    <p>
     5: ldc #2 // &lt;- "s1"
    </p>
    <p>
     7: putfield #3 // -&gt; this.a
    </p>
    <p>
     10: aload_0
    </p>
    <p>
     11: bipush 20 // &lt;- 20
    </p>
    <p>
     13: putfield #4 // -&gt; this.b
    </p>
    <p>
     16: aload_0
    </p>
    <p>
     17: bipush 10 // &lt;- 10
    </p>
    <p>
     19: putfield #4 // -&gt; this.b
    </p>
    <p>
     22: aload_0
    </p>
    <p>
     23: ldc #5 // &lt;- "s2"
    </p>
    <p>
     25: putfield #3 // -&gt; this.a
    </p>
    <p>
     28: aload_0 // ------------------------------
    </p>
    <p>
     29: aload_1 // &lt;- slot 1(a) "s3" |
    </p>
    <p>
     30: putfield #3 // -&gt; this.a |
    </p>
    <p>
     33: aload_0 |
    </p>
    <p>
     34: iload_2 // &lt;- slot 2(b) 30 |
    </p>
    <p>
     35: putfield #4 // -&gt; this.b --------------------
    </p>
    <p>
     38: return
    </p>
    <p>
     LineNumberTable: ...
    </p>
    <p>
     LocalVariableTable:
    </p>
    <p>
     Start Length Slot Name Signature
    </p>
    <p>
     0 39 0 this Lcn/itcast/jvm/t3/bytecode/Demo3_8_2;
    </p>
    <p>
     0 39 1 a Ljava/lang/String;
    </p>
    <p>
     0 39 2 b I
    </p>
    <p>
     MethodParameters: ...`
    </p>
    <h3>
     6.æ–¹æ³•è°ƒç”¨
    </h3>
    <p>
     ç¤ºä¾‹ä»£ç ï¼š
    </p>
    <p>
     `public class Demo3_9 {
     <!-- -->
    </p>
    <p>
     public Demo3_9() { }
    </p>
    <p>
     private void test1() { }
    </p>
    <p>
     private final void test2() { }
    </p>
    <p>
     public void test3() { }
    </p>
    <p>
     public static void test4() { }
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     Demo3_9 d = new Demo3_9();
    </p>
    <p>
     d.test1();
    </p>
    <p>
     d.test2();
    </p>
    <p>
     d.test3();
    </p>
    <p>
     d.test4();
    </p>
    <p>
     Demo3_9.test4();
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     å¯¹åº”çš„å­—èŠ‚ç ï¼š
    </p>
    <p>
     `0: new #2 // class cn/itcast/jvm/t3/bytecode/Demo3_9
    </p>
    <p>
     3: dup
    </p>
    <p>
     4: invokespecial #3 // Method "&lt;init&gt;":()V
    </p>
    <p>
     7: astore_1
    </p>
    <p>
     8: aload_1
    </p>
    <p>
     9: invokespecial #4 // Method test1:()V
    </p>
    <p>
     12: aload_1
    </p>
    <p>
     13: invokespecial #5 // Method test2:()V
    </p>
    <p>
     16: aload_1
    </p>
    <p>
     17: invokevirtual #6 // Method test3:()V
    </p>
    <p>
     20: aload_1
    </p>
    <p>
     21: pop
    </p>
    <p>
     22: invokestatic #7 // Method test4:()V
    </p>
    <p>
     25: invokestatic #7 // Method test4:()V
    </p>
    <p>
     28: return`
    </p>
    <p>
     è§£é‡Šï¼šä¸åŒæ–¹æ³•åœ¨è°ƒç”¨æ—¶ï¼Œå¯¹åº”çš„è™šæ‹ŸæœºæŒ‡ä»¤æœ‰æ‰€åŒºåˆ«
    </p>
    <ul>
     <li>
      <p>
       ç§æœ‰ã€æ„é€ ã€è¢« final ä¿®é¥°çš„æ–¹æ³•ï¼Œåœ¨è°ƒç”¨æ—¶éƒ½ä½¿ç”¨ invokespecial æŒ‡ä»¤
      </p>
     </li>
     <li>
      <p>
       æ™®é€šæˆå‘˜æ–¹æ³•åœ¨è°ƒç”¨æ—¶ï¼Œä½¿ç”¨ invokevirtual æŒ‡ä»¤ã€‚å› ä¸ºç¼–è¯‘æœŸé—´æ— æ³•ç¡®å®šè¯¥æ–¹æ³•çš„å†…å®¹ï¼Œåªæœ‰åœ¨è¿è¡ŒæœŸé—´æ‰èƒ½ç¡®å®š
      </p>
     </li>
     <li>
      <p>
       é™æ€æ–¹æ³•åœ¨è°ƒç”¨æ—¶ä½¿ç”¨ invokestatic æŒ‡ä»¤
      </p>
     </li>
     <li>
      <p>
       new æ˜¯åˆ›å»ºã€å¯¹è±¡ã€‘ï¼Œç»™å¯¹è±¡åˆ†é…å †å†…å­˜ï¼Œæ‰§è¡ŒæˆåŠŸä¼šå°†ã€å¯¹è±¡å¼•ç”¨ã€‘å‹å…¥æ“ä½œæ•°
      </p>
     </li>
     <li>
      <p>
       dup æ˜¯èµ‹å€¼æ“ä½œæ•°æ ˆæ ˆé¡¶çš„å†…å®¹ï¼Œæœ¬ä¾‹å³ä¸ºã€å¯¹è±¡å¼•ç”¨ã€‘ï¼Œä¸ºä»€ä¹ˆéœ€è¦ä¸¤ä»½å¼•ç”¨å‘¢ï¼Œä¸€ä¸ªæ˜¯è¦é…
      </p>
     </li>
     <li>
      <p>
       åˆ invokespecial è°ƒç”¨è¯¥å¯¹è±¡çš„æ„é€ æ–¹æ³• "&lt;init&gt;":()V ï¼ˆä¼šæ¶ˆè€—æ‰æ ˆé¡¶ä¸€ä¸ªå¼•ç”¨ï¼‰ï¼Œå¦ä¸€ä¸ªè¦
      </p>
     </li>
     <li>
      <p>
       é…åˆ astore_1 èµ‹å€¼ç»™å±€éƒ¨å˜é‡
      </p>
     </li>
     <li>
      <p>
       æœ€ç»ˆæ–¹æ³•ï¼ˆfinalï¼‰ï¼Œç§æœ‰æ–¹æ³•ï¼ˆprivateï¼‰ï¼Œæ„é€ æ–¹æ³•éƒ½æ˜¯ç”± invokespecial æŒ‡ä»¤æ¥è°ƒç”¨ï¼Œå±äºé™
      </p>
     </li>
     <li>
      <p>
       æ€ç»‘å®š
      </p>
     </li>
     <li>
      <p>
       æ™®é€šæˆå‘˜æ–¹æ³•æ˜¯ç”± invokevirtual è°ƒç”¨ï¼Œå±äºåŠ¨æ€ç»‘å®šï¼Œå³æ”¯æŒå¤šæ€
      </p>
     </li>
     <li>
      <p>
       æˆå‘˜æ–¹æ³•ä¸é™æ€æ–¹æ³•è°ƒç”¨çš„å¦ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œæ‰§è¡Œæ–¹æ³•å‰æ˜¯å¦éœ€è¦ã€å¯¹è±¡å¼•ç”¨ã€‘
      </p>
     </li>
     <li>
      <p>
       æ¯”è¾ƒæœ‰æ„æ€çš„æ˜¯ d.test4(); æ˜¯é€šè¿‡ã€å¯¹è±¡å¼•ç”¨ã€‘è°ƒç”¨ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œå¯ä»¥çœ‹åˆ°åœ¨è°ƒç”¨
      </p>
     </li>
     <li>
      <p>
       invokestatic ä¹‹å‰æ‰§è¡Œäº† pop æŒ‡ä»¤ï¼ŒæŠŠã€å¯¹è±¡å¼•ç”¨ã€‘ä»æ“ä½œæ•°æ ˆå¼¹æ‰äº†ğŸ˜‚
      </p>
     </li>
     <li>
      <p>
       è¿˜æœ‰ä¸€ä¸ªæ‰§è¡Œ invokespecial çš„æƒ…å†µæ˜¯é€šè¿‡ super è°ƒç”¨çˆ¶ç±»æ–¹
      </p>
     </li>
    </ul>
    <h3>
     7.å¤šæ€çš„åŸç†
    </h3>
    <p>
     å› ä¸ºæ™®é€šæˆå‘˜æ–¹æ³•éœ€è¦åœ¨è¿è¡Œæ—¶æ‰èƒ½ç¡®å®šå…·ä½“çš„å†…å®¹ï¼Œæ‰€ä»¥è™šæ‹Ÿæœºéœ€è¦è°ƒç”¨ invokevirtual æŒ‡ä»¤ åœ¨æ‰§è¡Œ invokevirtual æŒ‡ä»¤æ—¶ï¼Œç»å†äº†ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤
    </p>
    <p>
     å…ˆé€šè¿‡æ ˆå¸§ä¸­å¯¹è±¡çš„å¼•ç”¨æ‰¾åˆ°å¯¹è±¡ â€‹ åˆ†æå¯¹è±¡å¤´ï¼Œæ‰¾åˆ°å¯¹è±¡å®é™…çš„ Class â€‹ Class ç»“æ„ä¸­æœ‰ vtable â€‹ æŸ¥è¯¢ vtable æ‰¾åˆ°æ–¹æ³•çš„å…·ä½“åœ°å€ â€‹ æ‰§è¡Œæ–¹æ³•çš„å­—èŠ‚ç 
    </p>
    <p>
     æ“ä½œï¼š
    </p>
    <p>
     <strong>
      1*
     </strong>
     *ï¼‰è¿è¡Œä»£ç **
    </p>
    <p>
     åœåœ¨ System.in.read() æ–¹æ³•ä¸Šï¼Œè¿™æ—¶è¿è¡Œ jps è·å–è¿›ç¨‹ id
    </p>
    <p>
     <strong>
      2*
     </strong>
     *ï¼‰è¿è¡Œ**
     <strong>
      HSDB
     </strong>
     <strong>
      å·¥å…·
     </strong>
    </p>
    <p>
     è¿›å…¥ JDK å®‰è£…ç›®å½•ï¼Œæ‰§è¡Œ
    </p>
    <p>
     java -cp ./lib/sa-jdi.jar sun.jvm.hotspot.HSDB
    </p>
    <p>
     è¿›å…¥å›¾å½¢ç•Œé¢ attach è¿›ç¨‹ id
    </p>
    <h3>
     8.å¼‚å¸¸å¤„ç†
    </h3>
    <h4>
     1ï¼‰
     <strong>
      try-catch
     </strong>
    </h4>
    <p>
     ä»£ç ï¼š
    </p>
    <p>
     `public class Demo3_11_1 {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     int i = 0;
    </p>
    <p>
     try {
     <!-- -->
    </p>
    <p>
     i = 10;
    </p>
    <p>
     } catch (Exception e) {
     <!-- -->
    </p>
    <p>
     i = 20;
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     å­—èŠ‚ç ï¼š
    </p>
    <p>
     `public static void main(java.lang.String[]);
    </p>
    <p>
     descriptor: ([Ljava/lang/String;)V
    </p>
    <p>
     flags: ACC_PUBLIC, ACC_STATIC
    </p>
    <p>
     Code:
    </p>
    <p>
     stack=1, locals=3, args_size=1
    </p>
    <p>
     0: iconst_0
    </p>
    <p>
     1: istore_1
    </p>
    <p>
     2: bipush 10
    </p>
    <p>
     4: istore_1
    </p>
    <p>
     5: goto 12
    </p>
    <p>
     8: astore_2
    </p>
    <p>
     9: bipush 20
    </p>
    <p>
     11: istore_1
    </p>
    <p>
     12: return
    </p>
    <p>
     Exception table:
    </p>
    <p>
     from to target type
    </p>
    <p>
     2 5 8 Class java/lang/Exception
    </p>
    <p>
     LineNumberTable: ...
    </p>
    <p>
     LocalVariableTable:
    </p>
    <p>
     Start Length Slot Name Signature
    </p>
    <p>
     9 3 2 e Ljava/lang/Exception;
    </p>
    <p>
     0 13 0 args [Ljava/lang/String;
    </p>
    <p>
     2 11 1 i I
    </p>
    <p>
     StackMapTable: ...
    </p>
    <p>
     MethodParameters: ...
    </p>
    <p>
     }`
    </p>
    <p>
     å¯ä»¥çœ‹å‡ºå¤šå‡ºäº†ä¸€ä¸ªä¸ª Exception table çš„ç»“æ„ï¼Œ[from, to) æ˜¯å‰é—­åå¼€çš„æ£€æµ‹èŒƒå›´ï¼Œä¸€æ—¦è¿™ä¸ªèŒƒå›´å†…çš„å­—èŠ‚ç æ‰§è¡Œå‡ºç°å¼‚å¸¸ï¼Œåˆ™é€šè¿‡ type åŒ¹é…å¼‚å¸¸ç±»å‹ï¼Œå¦‚æœä¸€è‡´ï¼Œè¿›å…¥ target æ‰€æŒ‡ç¤ºè¡Œå·
    </p>
    <p>
     8 è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤ astore_2 æ˜¯å°†å¼‚å¸¸å¯¹è±¡å¼•ç”¨å­˜å…¥å±€éƒ¨å˜é‡è¡¨çš„ slot 2 ä½ç½®
    </p>
    <h4>
     2ï¼‰
     <strong>
      å¤šä¸ª
     </strong>
     <strong>
      single-catch
     </strong>
     <strong>
      å—
     </strong>
    </h4>
    <p>
     ä»£ç ï¼š
    </p>
    <p>
     `public class Demo3_11_2 {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     int i = 0;
    </p>
    <p>
     try {å› ä¸ºå¼‚å¸¸å‡ºç°æ—¶ï¼Œåªèƒ½è¿›å…¥ Exception table ä¸­ä¸€ä¸ªåˆ†æ”¯ï¼Œæ‰€ä»¥å±€éƒ¨å˜é‡è¡¨ slot 2 ä½ç½®è¢«å…±ç”¨
    </p>
    <p>
     <strong>
      multi-catch
     </strong>
     <strong>
      çš„æƒ…å†µ
     </strong>
    </p>
    <p>
     i = 10;
    </p>
    <p>
     } catch (ArithmeticException e) {
     <!-- -->
    </p>
    <p>
     i = 30;
    </p>
    <p>
     } catch (NullPointerException e) {
     <!-- -->
    </p>
    <p>
     i = 40;
    </p>
    <p>
     } catch (Exception e) {
     <!-- -->
    </p>
    <p>
     i = 50;
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     å­—èŠ‚ç ï¼š
    </p>
    <p>
     `public static void main(java.lang.String[]);
    </p>
    <p>
     descriptor: ([Ljava/lang/String;)V
    </p>
    <p>
     flags: ACC_PUBLIC, ACC_STATIC
    </p>
    <p>
     Code:
    </p>
    <p>
     stack=1, locals=3, args_size=1
    </p>
    <p>
     0: iconst_0
    </p>
    <p>
     1: istore_1
    </p>
    <p>
     2: bipush 10
    </p>
    <p>
     4: istore_1
    </p>
    <p>
     5: goto 26
    </p>
    <p>
     8: astore_2
    </p>
    <p>
     9: bipush 30
    </p>
    <p>
     11: istore_1
    </p>
    <p>
     12: goto 26
    </p>
    <p>
     15: astore_2
    </p>
    <p>
     16: bipush 40
    </p>
    <p>
     18: istore_1
    </p>
    <p>
     19: goto 26
    </p>
    <p>
     22: astore_2
    </p>
    <p>
     23: bipush 50
    </p>
    <p>
     25: istore_1
    </p>
    <p>
     26: return
    </p>
    <p>
     Exception table:
    </p>
    <p>
     from to target type
    </p>
    <p>
     2 5 8 Class java/lang/ArithmeticException
    </p>
    <p>
     2 5 15 Class java/lang/NullPointerException
    </p>
    <p>
     2 5 22 Class java/lang/Exception
    </p>
    <p>
     LineNumberTable: ...
    </p>
    <p>
     LocalVariableTable:
    </p>
    <p>
     Start Length Slot Name Signature
    </p>
    <p>
     9 3 2 e Ljava/lang/ArithmeticException;
    </p>
    <p>
     16 3 2 e Ljava/lang/NullPointerException;
    </p>
    <p>
     23 3 2 e Ljava/lang/Exception;
    </p>
    <p>
     0 27 0 args [Ljava/lang/String;
    </p>
    <p>
     2 25 1 i I
    </p>
    <p>
     StackMapTable: ...
    </p>
    <p>
     MethodParameters: ...`
    </p>
    <p>
     å› ä¸ºå¼‚å¸¸å‡ºç°æ—¶ï¼Œåªèƒ½è¿›å…¥ Exception table ä¸­ä¸€ä¸ªåˆ†æ”¯ï¼Œæ‰€ä»¥å±€éƒ¨å˜é‡è¡¨ slot 2 ä½ç½®è¢«å…±ç”¨
    </p>
    <h4>
     3ï¼‰finally
    </h4>
    <p>
     ä»£ç ï¼š
    </p>
    <p>
     `public class Demo3_11_4 {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     int i = 0;
    </p>
    <p>
     try {
     <!-- -->
    </p>
    <p>
     i = 10;
    </p>
    <p>
     } catch (Exception e) {
     <!-- -->
    </p>
    <p>
     i = 20;
    </p>
    <p>
     } finally {
     <!-- -->
    </p>
    <p>
     i = 30;
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     å¯¹åº”å­—èŠ‚ç ï¼š
    </p>
    <p>
     `public static void main(java.lang.String[]);
    </p>
    <p>
     descriptor: ([Ljava/lang/String;)V
    </p>
    <p>
     flags: ACC_PUBLIC, ACC_STATIC
    </p>
    <p>
     Code:
    </p>
    <p>
     stack=1, locals=4, args_size=1
    </p>
    <p>
     0: iconst_0
    </p>
    <p>
     1: istore_1 // 0 -&gt; i
    </p>
    <p>
     2: bipush 10 // try --------------------------------------
    </p>
    <p>
     4: istore_1 // 10 -&gt; i |
    </p>
    <p>
     5: bipush 30 // finally |
    </p>
    <p>
     7: istore_1 // 30 -&gt; i |
    </p>
    <p>
     8: goto 27 // return -----------------------------------
    </p>
    <p>
     11: astore_2 // catch Exceptin -&gt; e ----------------------
    </p>
    <p>
     12: bipush 20 // |
    </p>
    <p>
     14: istore_1 // 20 -&gt; i |
    </p>
    <p>
     15: bipush 30 // finally |
    </p>
    <p>
     17: istore_1 // 30 -&gt; i |
    </p>
    <p>
     18: goto 27 // return -----------------------------------
    </p>
    <p>
     21: astore_3 // catch any -&gt; slot 3 ----------------------
    </p>
    <p>
     22: bipush 30 // finally |
    </p>
    <p>
     24: istore_1 // 30 -&gt; i |
    </p>
    <p>
     25: aload_3 // &lt;- slot 3 |
    </p>
    <p>
     26: athrow // throw ------------------------------------
    </p>
    <p>
     27: return
    </p>
    <p>
     Exception table:
    </p>
    <p>
     from to target type
    </p>
    <p>
     2 5 11 Class java/lang/Exception
    </p>
    <p>
     2 5 21 any // å‰©ä½™çš„å¼‚å¸¸ç±»å‹ï¼Œæ¯”å¦‚ Error
    </p>
    <p>
     11 15 21 any // å‰©ä½™çš„å¼‚å¸¸ç±»å‹ï¼Œæ¯”å¦‚ Error
    </p>
    <p>
     LineNumberTable: ...
    </p>
    <p>
     LocalVariableTable:
    </p>
    <p>
     Start Length Slot Name Signature
    </p>
    <p>
     12 3 2 e Ljava/lang/Exception;
    </p>
    <p>
     0 28 0 args [Ljava/lang/String;
    </p>
    <p>
     2 26 1 i I
    </p>
    <p>
     StackMapTable: ...
    </p>
    <p>
     MethodParameters: ...`
    </p>
    <p>
     æ¯ä¸ªåˆ†æ”¯éƒ½æ˜¯ä¸€ä¸ªï¼Œéƒ½ä¼šæ‰§è¡Œfinallyä¸­çš„ä»£ç ï¼Œè·Ÿåˆ†æ”¯ç»“æ„ç±»ä¼¼ã€‚try catch è¿˜æœ‰æœ¬èº«
    </p>
    <p>
     å¯ä»¥çœ‹åˆ° finally ä¸­çš„ä»£ç è¢«å¤åˆ¶äº† 3 ä»½ï¼Œåˆ†åˆ«æ”¾å…¥ try æµç¨‹ï¼Œcatch æµç¨‹ä»¥åŠ catch å‰©ä½™çš„å¼‚å¸¸ç±»å‹æµ
    </p>
    <p>
     ç¨‹
    </p>
    <h5>
     finallyé¢è¯•é¢˜1
    </h5>
    <p>
     é¢˜ç›®ï¼šä¸‹é¢çš„é¢˜ç›®è¾“å‡ºä»€ä¹ˆï¼Ÿ
    </p>
    <p>
     `public class Demo3_12_2 {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     int result = test();
    </p>
    <p>
     System.out.println(result);
    </p>
    <p>
     }
    </p>
    <p>
     public static int test() {
     <!-- -->
    </p>
    <p>
     try {
     <!-- -->
    </p>
    <p>
     return 10;
    </p>
    <p>
     } finally {
     <!-- -->
    </p>
    <p>
     return 20;
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     ç­”æ¡ˆ 20ï¼›
    </p>
    <p>
     è§£é‡Šï¼šå¯¹åº”çš„å­—èŠ‚ç å¦‚ä¸‹
    </p>
    <p>
     `public static int test();
    </p>
    <p>
     descriptor: ()I
    </p>
    <p>
     flags: ACC_PUBLIC, ACC_STATIC
    </p>
    <p>
     Code:
    </p>
    <p>
     stack=1, locals=2, args_size=0
    </p>
    <p>
     0: bipush 10 // &lt;- 10 æ”¾å…¥æ ˆé¡¶
    </p>
    <p>
     2: istore_0 // 10 -&gt; slot 0 (ä»æ ˆé¡¶ç§»é™¤äº†)
    </p>
    <p>
     3: bipush 20 // &lt;- 20 æ”¾å…¥æ ˆé¡¶
    </p>
    <p>
     5: ireturn // è¿”å›æ ˆé¡¶ int(20)
    </p>
    <p>
     6: astore_1 // catch any -&gt; slot 1
    </p>
    <p>
     7: bipush 20 // &lt;- 20 æ”¾å…¥æ ˆé¡¶
    </p>
    <p>
     9: ireturn // è¿”å›æ ˆé¡¶ int(20)
    </p>
    <p>
     Exception table:
    </p>
    <p>
     from to target type
    </p>
    <p>
     0 3 6 any
    </p>
    <p>
     LineNumberTable: ...
    </p>
    <p>
     StackMapTable: ...`
    </p>
    <ul>
     <li>
      <p>
       ç”±äº finally ä¸­çš„ ireturn è¢«æ’å…¥äº†æ‰€æœ‰å¯èƒ½çš„æµç¨‹ï¼Œå› æ­¤è¿”å›ç»“æœè‚¯å®šä»¥ finally çš„ä¸ºå‡†
      </p>
     </li>
     <li>
      <p>
       è‡³äºå­—èŠ‚ç ä¸­ç¬¬ 2 è¡Œï¼Œä¼¼ä¹æ²¡å•¥ç”¨ï¼Œä¸”ç•™ä¸ªä¼ç¬”ï¼Œçœ‹ä¸‹ä¸ªä¾‹å­
      </p>
     </li>
     <li>
      <p>
       è·Ÿä¸Šä¾‹ä¸­çš„ finally ç›¸æ¯”ï¼Œå‘ç°æ²¡æœ‰ athrow äº†ï¼Œè¿™å‘Šè¯‰æˆ‘ä»¬ï¼šå¦‚æœåœ¨ finally ä¸­å‡ºç°äº† returnï¼Œä¼šåæ‰å¼‚å¸¸ğŸ˜±ğŸ˜±ğŸ˜±ï¼Œå¯ä»¥è¯•ä¸€ä¸‹ä¸‹é¢çš„ä»£ç ï¼š
      </p>
      <p>
       `public class Demo3_12_1 {
       <!-- -->
      </p>
      <p>
       public static void main(String[] args) {
       <!-- -->
      </p>
      <p>
       int result = test();
      </p>
      <p>
       System.out.println(result);
      </p>
      <p>
       }
      </p>
      <p>
       public static int test() {
       <!-- -->
      </p>
      <p>
       try {int i = 1/0;
      </p>
      <p>
       return 10;
      </p>
      <p>
       } finally {
       <!-- -->
      </p>
      <p>
       return 20;
      </p>
      <p>
       }
      </p>
      <p>
       }
      </p>
      <p>
       }`
      </p>
      <p>
       æ‰§è¡Œæ˜¯ä¸ä¼šå‡ºç°ä»»ä½•å¼‚å¸¸çš„
      </p>
      <p>
      </p>
     </li>
    </ul>
    <h5>
     finallyé¢è¯•é¢˜1
    </h5>
    <p>
     é¢˜ç›®ï¼šä¸‹é¢çš„é¢˜ç›®è¾“å‡ºä»€ä¹ˆï¼Ÿ
    </p>
    <p>
     `public class Demo3_12_2 {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     int result = test();
    </p>
    <p>
     System.out.println(result);
    </p>
    <p>
     }
    </p>
    <p>
     public static int test() {
     <!-- -->
    </p>
    <p>
     int i = 10;
    </p>
    <p>
     try {
     <!-- -->
    </p>
    <p>
     return i;
    </p>
    <p>
     } finally {
     <!-- -->
    </p>
    <p>
     i = 20;
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     ç­”æ¡ˆè¾“å‡º10
    </p>
    <p>
     è§£æï¼šå¯¹åº”çš„å­—èŠ‚ç : `public static int test();
    </p>
    <p>
     descriptor: ()I
    </p>
    <p>
     flags: ACC_PUBLIC, ACC_STATIC
    </p>
    <p>
     Code:
    </p>
    <p>
     stack=1, locals=3, args_size=0
    </p>
    <p>
     0: bipush 10 // &lt;- 10 æ”¾å…¥æ ˆé¡¶
    </p>
    <p>
     2: istore_0 // 10 -&gt; i
    </p>
    <p>
     3: iload_0 // &lt;- i(10)
    </p>
    <p>
     4: istore_1 // 10 -&gt; slot 1ï¼Œæš‚å­˜è‡³ slot 1ï¼Œç›®çš„æ˜¯ä¸ºäº†å›ºå®šè¿”å›å€¼
    </p>
    <p>
     5: bipush 20 // &lt;- 20 æ”¾å…¥æ ˆé¡¶
    </p>
    <p>
     7: istore_0 // 20 -&gt; i
    </p>
    <p>
     8: iload_1 // &lt;- slot 1(10) è½½å…¥ slot 1 æš‚å­˜çš„å€¼
    </p>
    <p>
     9: ireturn // è¿”å›æ ˆé¡¶çš„ int(10)
    </p>
    <p>
     10: astore_2
    </p>
    <p>
     11: bipush 20
    </p>
    <p>
     13: istore_0
    </p>
    <p>
     14: aload_2
    </p>
    <p>
     15: athrow
    </p>
    <p>
     Exception table:
    </p>
    <p>
     from to target type
    </p>
    <p>
     3 5 10 any
    </p>
    <p>
     LineNumberTable: ...
    </p>
    <p>
     LocalVariableTable:
    </p>
    <p>
     Start Length Slot Name Signature
    </p>
    <p>
     3 13 0 i I
    </p>
    <p>
     StackMapTable: ...`
    </p>
    <h3>
     9.synchronized
    </h3>
    <p>
     public class Demo3_13 {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     Object lock = new Object();
    </p>
    <p>
     synchronized (lock) {
     <!-- -->
    </p>
    <p>
     System.out.println("ok");
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     å¯¹åº”å­—èŠ‚ç ï¼š
    </p>
    <p>
     `public static void main(java.lang.String[]);
    </p>
    <p>
     descriptor: ([Ljava/lang/String;)V
    </p>
    <p>
     flags: ACC_PUBLIC, ACC_STATIC
    </p>
    <p>
     Code:
    </p>
    <p>
     stack=2, locals=4, args_size=1
    </p>
    <p>
     0: new #2 // new Object
    </p>
    <p>
     3: dup
    </p>
    <p>
     4: invokespecial #1 // invokespecial &lt;init&gt;:()V
    </p>
    <p>
     7: astore_1 // lockå¼•ç”¨ -&gt; lock
    </p>
    <p>
     8: aload_1 // &lt;- lock ï¼ˆsynchronizedå¼€å§‹ï¼‰
    </p>
    <p>
     9: dup
    </p>
    <p>
     10: astore_2 // lockå¼•ç”¨ -&gt; slot 2
    </p>
    <p>
     11: monitorenter // monitorenter(lockå¼•ç”¨)
    </p>
    <p>
     12: getstatic #3 // &lt;- System.out
    </p>
    <p>
     15: ldc #4 // &lt;- "ok"
    </p>
    <p>
     17: invokevirtual #5 // invokevirtual println:
    </p>
    <p>
     (Ljava/lang/String;)V
    </p>
    <p>
     20: aload_2 // &lt;- slot 2(lockå¼•ç”¨)
    </p>
    <p>
     21: monitorexit // monitorexit(lockå¼•ç”¨)
    </p>
    <p>
     22: goto 30
    </p>
    <p>
     25: astore_3 // any -&gt; slot 3
    </p>
    <p>
     26: aload_2 // &lt;- slot 2(lockå¼•ç”¨)
    </p>
    <p>
     27: monitorexit // monitorexit(lockå¼•ç”¨)
    </p>
    <p>
     28: aload_3
    </p>
    <p>
     29: athrow
    </p>
    <p>
     30: return
    </p>
    <p>
     Exception table:
    </p>
    <p>
     from to target type
    </p>
    <p>
     12 22 25 any
    </p>
    <p>
     25 28 25 any
    </p>
    <p>
     LineNumberTable: ...
    </p>
    <p>
     LocalVariableTable:
    </p>
    <p>
     Start Length Slot Name Signature
    </p>
    <p>
     0 31 0 args [Ljava/lang/String;
    </p>
    <p>
     8 23 1 lock Ljava/lang/Object;
    </p>
    <p>
     StackMapTable: ...
    </p>
    <p>
     MethodParameters: ...`
    </p>
    <p>
     æ–¹æ³•çº§åˆ«çš„ synchronized ä¸ä¼šåœ¨å­—èŠ‚ç æŒ‡ä»¤ä¸­æœ‰æ‰€ä½“ç°
    </p>
    <h2>
     ä¸‰ã€ç¼–è¯‘æœŸé¢„å¤„ç†
    </h2>
    <p>
     æ‰€è°“çš„ è¯­æ³•ç³– ï¼Œå…¶å®å°±æ˜¯æŒ‡ java ç¼–è¯‘å™¨æŠŠ *.java æºç ç¼–è¯‘ä¸º *.class å­—èŠ‚ç çš„è¿‡ç¨‹ä¸­ï¼Œè‡ªåŠ¨ç”Ÿæˆ
    </p>
    <p>
     å’Œè½¬æ¢çš„ä¸€äº›ä»£ç ï¼Œä¸»è¦æ˜¯ä¸ºäº†å‡è½»ç¨‹åºå‘˜çš„è´Ÿæ‹…ï¼Œç®—æ˜¯ java ç¼–è¯‘å™¨ç»™æˆ‘ä»¬çš„ä¸€ä¸ªé¢å¤–ç¦åˆ©ï¼ˆç»™ç³–åƒ
    </p>
    <p>
     å˜›ï¼‰
    </p>
    <p>
     æ³¨æ„ï¼Œä»¥ä¸‹ä»£ç çš„åˆ†æï¼Œå€ŸåŠ©äº† javap å·¥å…·ï¼Œidea çš„åç¼–è¯‘åŠŸèƒ½ï¼Œidea æ’ä»¶ jclasslib ç­‰å·¥å…·ã€‚å¦å¤–ï¼Œ
    </p>
    <p>
     ç¼–è¯‘å™¨è½¬æ¢çš„ç»“æœç›´æ¥å°±æ˜¯ class å­—èŠ‚ç ï¼Œåªæ˜¯ä¸ºäº†ä¾¿äºé˜…è¯»ï¼Œç»™å‡ºäº† å‡ ä¹ç­‰ä»· çš„ java æºç æ–¹å¼ï¼Œå¹¶
    </p>
    <p>
     ä¸æ˜¯ç¼–è¯‘å™¨è¿˜ä¼šè½¬æ¢å‡ºä¸­é—´çš„ java æºç ï¼Œåˆ‡è®°ã€‚
    </p>
    <h3>
     1.
     <strong>
      é»˜è®¤æ„é€ å™¨
     </strong>
    </h3>
    <p>
     public class Candy1 {
     <!-- -->
    </p>
    <p>
     }
    </p>
    <p>
     ç¼–è¯‘æˆclassåçš„ä»£ç ï¼š
    </p>
    <p>
     public class Candy1 {
     <!-- -->
    </p>
    <p>
     // è¿™ä¸ªæ— å‚æ„é€ æ˜¯ç¼–è¯‘å™¨å¸®åŠ©æˆ‘ä»¬åŠ ä¸Šçš„
    </p>
    <p>
     public Candy1() {
     <!-- -->
    </p>
    <p>
     super(); // å³è°ƒç”¨çˆ¶ç±» Object çš„æ— å‚æ„é€ æ–¹æ³•ï¼Œå³è°ƒç”¨ java/lang/Object."
    </p>
    <p>
     &lt;init&gt;":()V
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <h3>
     <strong>
      2
     </strong>
     .
     <strong>
      è‡ªåŠ¨æ‹†è£…ç®±
     </strong>
    </h3>
    <p>
     è¿™ä¸ªç‰¹æ€§æ˜¯ JDK 5 å¼€å§‹åŠ å…¥çš„ï¼Œ ä»£ç ç‰‡æ®µ1 ï¼š
    </p>
    <p>
     `public class Candy2 {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     Integer x = 1;
    </p>
    <p>
     int y = x;
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     è¿™æ®µä»£ç åœ¨ JDK 5 ä¹‹å‰æ˜¯æ— æ³•ç¼–è¯‘é€šè¿‡çš„ï¼Œå¿…é¡»æ”¹å†™ä¸º ä»£ç ç‰‡æ®µ2 :
    </p>
    <p>
     `public class Candy2 {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     Integer x = Integer.valueOf(1);
    </p>
    <p>
     int y = x.intValue();
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <h3 style="background-color:transparent">
     <strong>
      3.
     </strong>
     <strong>
      æ³›å‹é›†åˆå–å€¼
     </strong>
    </h3>
    <p>
     æ³›å‹ä¹Ÿæ˜¯åœ¨ JDK 5 å¼€å§‹åŠ å…¥çš„ç‰¹æ€§ï¼Œä½† java åœ¨ç¼–è¯‘æ³›å‹ä»£ç åä¼šæ‰§è¡Œ æ³›å‹æ“¦é™¤ çš„åŠ¨ä½œï¼Œå³æ³›å‹ä¿¡æ¯
    </p>
    <p>
     åœ¨ç¼–è¯‘ä¸ºå­—èŠ‚ç ä¹‹åå°±ä¸¢å¤±äº†ï¼Œå®é™…çš„ç±»å‹éƒ½å½“åšäº† Object ç±»å‹æ¥å¤„ç†ï¼š
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/c7259a8201404c36acae465876d91e2f.png"/>
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/4bbe001fe92847a3a4d5c6aa4e80db1c.png"/>
    </p>
    <h3 style="background-color:transparent">
     <strong>
      4.
     </strong>
     <strong>
      å¯å˜å‚æ•°
     </strong>
    </h3>
    <p>
     å¯å˜å‚æ•°ä¹Ÿæ˜¯ JDK 5 å¼€å§‹åŠ å…¥çš„æ–°ç‰¹æ€§ï¼š
    </p>
    <p>
     `public class Candy4 {
     <!-- -->
    </p>
    <p>
     public static void foo(String... args) {
     <!-- -->
    </p>
    <p>
     String[] array = args; // ç›´æ¥èµ‹å€¼
    </p>
    <p>
     System.out.println(array);
    </p>
    <p>
     }
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     foo("hello", "world");
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     å¯å˜å‚æ•° String... args å…¶å®æ˜¯ä¸€ä¸ª String[] args ï¼Œä»ä»£ç ä¸­çš„èµ‹å€¼è¯­å¥ä¸­å°±å¯ä»¥çœ‹å‡ºæ¥ã€‚
    </p>
    <p>
     åŒæ · java ç¼–è¯‘å™¨ä¼šåœ¨ç¼–è¯‘æœŸé—´å°†ä¸Šè¿°ä»£ç å˜æ¢ä¸ºï¼š
    </p>
    <p>
     `public class Candy4 {
     <!-- -->
    </p>
    <p>
     public static void foo(String[] args) {
     <!-- -->
    </p>
    <p>
     String[] array = args; // ç›´æ¥èµ‹å€¼
    </p>
    <p>
     System.out.println(array);
    </p>
    <p>
     }
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     foo(new String[]{"hello", "world"});
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     <strong>
      æ³¨æ„
     </strong>
    </p>
    <p>
     å¦‚æœè°ƒç”¨äº† foo() åˆ™ç­‰ä»·ä»£ç ä¸º foo(new String[]{}) ï¼Œåˆ›å»ºäº†ä¸€ä¸ªç©ºçš„æ•°ç»„ï¼Œè€Œä¸ä¼šä¼ é€’
    </p>
    <p>
     null è¿›å»
    </p>
    <h3>
     5.
     <strong>
      foreach
     </strong>
     <strong>
      å¾ªç¯
     </strong>
    </h3>
    <p>
     ä»æ˜¯ JDK 5 å¼€å§‹å¼•å…¥çš„è¯­æ³•ç³–ï¼Œæ•°ç»„çš„å¾ªç¯ï¼š
    </p>
    <p>
     `public class Candy5_1 {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     int[] array = {1, 2, 3, 4, 5}; // æ•°ç»„èµ‹åˆå€¼çš„ç®€åŒ–å†™æ³•ä¹Ÿæ˜¯è¯­æ³•ç³–å“¦
    </p>
    <p>
     for (int e : array) {
     <!-- -->
    </p>
    <p>
     System.out.println(e);
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     ä¼šè¢«ç¼–è¯‘å™¨è½¬æ¢ä¸ºï¼š
    </p>
    <p>
     `public class Candy5_1 {
     <!-- -->
    </p>
    <p>
     public Candy5_1() {
     <!-- -->
    </p>
    <p>
     }
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     int[] array = new int[]{1, 2, 3, 4, 5};
    </p>
    <p>
     for(int i = 0; i &lt; array.length; ++i) {
     <!-- -->
    </p>
    <p>
     int e = array[i];
    </p>
    <p>
     System.out.println(e);
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     è€Œé›†åˆçš„å¾ªç¯ï¼š
    </p>
    <p>
     `public class Candy5_2 {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     List&lt;Integer&gt; list = Arrays.asList(1,2,3,4,5);
    </p>
    <p>
     for (Integer i : list) {
     <!-- -->
    </p>
    <p>
     System.out.println(i);
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     å®é™…è¢«ç¼–è¯‘å™¨è½¬æ¢ä¸ºå¯¹è¿­ä»£å™¨çš„è°ƒç”¨ï¼š
    </p>
    <p>
     `public class Candy5_2 {
     <!-- -->
    </p>
    <p>
     public Candy5_2() {
     <!-- -->
    </p>
    <p>
     }
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5);
    </p>
    <p>
     Iterator iter = list.iterator();
    </p>
    <p>
     while(iter.hasNext()) {
     <!-- -->
    </p>
    <p>
     Integer e = (Integer)iter.next();
    </p>
    <p>
     System.out.println(e);
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     <strong>
      æ³¨æ„
     </strong>
    </p>
    <p>
     foreach å¾ªç¯å†™æ³•ï¼Œèƒ½å¤Ÿé…åˆæ•°ç»„ï¼Œä»¥åŠæ‰€æœ‰å®ç°äº† Iterable æ¥å£çš„é›†åˆç±»ä¸€èµ·ä½¿ç”¨ï¼Œå…¶ä¸­
    </p>
    <p>
     Iterable ç”¨æ¥è·å–é›†åˆçš„è¿­ä»£å™¨ï¼ˆ Iterator ï¼‰
    </p>
    <h3>
     6.
     <strong>
      switch
     </strong>
     -
     <strong>
      å­—ç¬¦ä¸²
     </strong>
    </h3>
    <p>
     ä» JDK 7 å¼€å§‹ï¼Œswitch å¯ä»¥ä½œç”¨äºå­—ç¬¦ä¸²å’Œæšä¸¾ç±»ï¼Œè¿™ä¸ªåŠŸèƒ½å…¶å®ä¹Ÿæ˜¯è¯­æ³•ç³–ï¼Œä¾‹å¦‚ï¼š
    </p>
    <p>
     `public class Candy6_1 {
     <!-- -->
    </p>
    <p>
     public static void choose(String str) {
     <!-- -->
    </p>
    <p>
     switch (str) {
     <!-- -->
    </p>
    <p>
     case "hello": {
     <!-- -->
    </p>
    <p>
     System.out.println("h");
    </p>
    <p>
     break;
    </p>
    <p>
     }
    </p>
    <p>
     case "world": {
     <!-- -->
    </p>
    <p>
     System.out.println("w");
    </p>
    <p>
     break;
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     <strong>
      æ³¨æ„
     </strong>
    </p>
    <p>
     switch é…åˆ String å’Œæšä¸¾ä½¿ç”¨æ—¶ï¼Œå˜é‡ä¸èƒ½ä¸ºnullï¼ŒåŸå› åˆ†æå®Œè¯­æ³•ç³–è½¬æ¢åçš„ä»£ç åº”å½“è‡ªç„¶æ¸…
    </p>
    <p>
     æ¥š
    </p>
    <p>
     ä¼šè¢«ç¼–è¯‘å™¨è½¬æ¢ä¸ºï¼š
    </p>
    <p>
     `public class Candy6_1 {
     <!-- -->
    </p>
    <p>
     public Candy6_1() {
     <!-- -->
    </p>
    <p>
     }
    </p>
    <p>
     public static void choose(String str) {
     <!-- -->
    </p>
    <p>
     byte x = -1;
    </p>
    <p>
     switch(str.hashCode()) {
     <!-- -->
    </p>
    <p>
     case 99162322: // hello çš„ hashCode
    </p>
    <p>
     if (str.equals("hello")) {x = 0;
    </p>
    <p>
     }
    </p>
    <p>
     break;
    </p>
    <p>
     case 113318802: // world çš„ hashCode
    </p>
    <p>
     if (str.equals("world")) {
     <!-- -->
    </p>
    <p>
     x = 1;
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     switch(x) {
     <!-- -->
    </p>
    <p>
     case 0:
    </p>
    <p>
     System.out.println("h");
    </p>
    <p>
     break;
    </p>
    <p>
     case 1:
    </p>
    <p>
     System.out.println("w");
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     å¯ä»¥çœ‹åˆ°ï¼Œæ‰§è¡Œäº†ä¸¤é switchï¼Œç¬¬ä¸€éæ˜¯æ ¹æ®å­—ç¬¦ä¸²çš„ hashCode å’Œ equals å°†å­—ç¬¦ä¸²çš„è½¬æ¢ä¸ºç›¸åº”
    </p>
    <p>
     byte ç±»å‹ï¼Œç¬¬äºŒéæ‰æ˜¯åˆ©ç”¨ byte æ‰§è¡Œè¿›è¡Œæ¯”è¾ƒã€‚
    </p>
    <p>
     ä¸ºä»€ä¹ˆç¬¬ä¸€éæ—¶å¿…é¡»æ—¢æ¯”è¾ƒ hashCodeï¼Œåˆåˆ©ç”¨ equals æ¯”è¾ƒå‘¢ï¼ŸhashCode æ˜¯ä¸ºäº†æé«˜æ•ˆç‡ï¼Œå‡å°‘å¯
    </p>
    <p>
     èƒ½çš„æ¯”è¾ƒï¼›è€Œ equals æ˜¯ä¸ºäº†é˜²æ­¢ hashCode å†²çª(ä¸¤ä¸ªå­—ç¬¦ä¸²çš„hashcodeå¯èƒ½ä¸€æ ·ï¼Œåœ¨è¿›å…¥ç”¨equalsè¿›è¡Œæ¯”è¾ƒ)ï¼Œä¾‹å¦‚ BM å’Œ C. è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²çš„hashCodeå€¼éƒ½æ˜¯2123 .
    </p>
    <h3>
     7.
     <strong>
      switch
     </strong>
     -
     <strong>
      æšä¸¾
     </strong>
    </h3>
    <p>
     `enum Sex {
     <!-- -->
    </p>
    <p>
     MALE, FEMALE
    </p>
    <p>
     }`
    </p>
    <p>
     `public class Candy7 {
     <!-- -->
    </p>
    <p>
     public static void foo(Sex sex) {
     <!-- -->
    </p>
    <p>
     switch (sex) {
     <!-- -->
    </p>
    <p>
     case MALE:
    </p>
    <p>
     System.out.println("ç”·"); break;
    </p>
    <p>
     case FEMALE:
    </p>
    <p>
     System.out.println("å¥³"); break;
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     è½¬æ¢åä»£ç ï¼š
    </p>
    <p>
     `public class Candy7 {
     <!-- -->
    </p>
    <p>
     /**
    </p>
    <p>
     * å®šä¹‰ä¸€ä¸ªåˆæˆç±»ï¼ˆä»… jvm ä½¿ç”¨ï¼Œå¯¹æˆ‘ä»¬ä¸å¯è§ï¼‰
    </p>
    <p>
     * ç”¨æ¥æ˜ å°„æšä¸¾çš„ ordinal ä¸æ•°ç»„å…ƒç´ çš„å…³ç³»
    </p>
    <p>
     * æšä¸¾çš„ ordinal è¡¨ç¤ºæšä¸¾å¯¹è±¡çš„åºå·ï¼Œä» 0 å¼€å§‹
    </p>
    <p>
     * å³ MALE çš„ ordinal()=0ï¼ŒFEMALE çš„ ordinal()=1
    </p>
    <p>
     */
    </p>
    <p>
     static class $MAP {
     <!-- -->
    </p>
    <p>
     // æ•°ç»„å¤§å°å³ä¸ºæšä¸¾å…ƒç´ ä¸ªæ•°ï¼Œé‡Œé¢å­˜å‚¨caseç”¨æ¥å¯¹æ¯”çš„æ•°å­—
    </p>
    <p>
     static int[] map = new int[2];
    </p>
    <p>
     static {
     <!-- -->
    </p>
    <p>
     map[Sex.MALE.ordinal()] = 1;
    </p>
    <p>
     map[Sex.FEMALE.ordinal()] = 2;
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     public static void foo(Sex sex) {
     <!-- -->
    </p>
    <p>
     int x = $MAP.map[sex.ordinal()];
    </p>
    <p>
     switch (x) {
     <!-- -->
    </p>
    <p>
     case 1:
    </p>
    <p>
     System.out.println("ç”·");
    </p>
    <p>
     break;
    </p>
    <p>
     case 2:
    </p>
    <p>
     System.out.println("å¥³");
    </p>
    <p>
     break;
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <h3>
     8.
     <strong>
      æšä¸¾ç±»
     </strong>
    </h3>
    <p>
     JDK 7 æ–°å¢äº†æšä¸¾ç±»ï¼Œä»¥å‰é¢çš„æ€§åˆ«æšä¸¾ä¸ºä¾‹ï¼š
    </p>
    <p>
     `enum Sex {
     <!-- -->
    </p>
    <p>
     MALE, FEMALE
    </p>
    <p>
     }`
    </p>
    <p>
     è½¬æ¢åä»£ç ï¼š
    </p>
    <p>
     `public final class Sex extends Enum&lt;Sex&gt; {
     <!-- -->
    </p>
    <p>
     public static final Sex MALE;
    </p>
    <p>
     public static final Sex FEMALE;
    </p>
    <p>
     private static final Sex[] $VALUES;
    </p>
    <p>
     static {
     <!-- -->
    </p>
    <p>
     MALE = new Sex("MALE", 0);
    </p>
    <p>
     FEMALE = new Sex("FEMALE", 1);
    </p>
    <p>
     $VALUES = new Sex[]{MALE, FEMALE};
    </p>
    <p>
     }
    </p>
    <p>
     /**
    </p>
    <p>
     * Sole constructor. Programmers cannot invoke this constructor.
    </p>
    <p>
     * It is for use by code emitted by the compiler in response to
    </p>
    <p>
     * enum type declarations.
    </p>
    <p>
     *
    </p>
    <p>
     * @param name - The name of this enum constant, which is the identifier
    </p>
    <p>
     * used to declare it.
    </p>
    <p>
     * @param ordinal - The ordinal of this enumeration constant (its position
    </p>
    <p>
     * in the enum declaration, where the initial constant is
    </p>
    <p>
     assigned
    </p>
    <p>
     */
    </p>
    <p>
     private Sex(String name, int ordinal) {
     <!-- -->
    </p>
    <p>
     super(name, ordinal);
    </p>
    <p>
     }
    </p>
    <p>
     public static Sex[] values() {
     <!-- -->
    </p>
    <p>
     return $VALUES.clone();
    </p>
    <p>
     }
    </p>
    <p>
     public static Sex valueOf(String name) {
     <!-- -->
    </p>
    <p>
     return Enum.valueOf(Sex.class, name);
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <h3>
     9.
     <strong>
      try-with-resources
     </strong>
    </h3>
    <p>
     JDK 7 å¼€å§‹æ–°å¢äº†å¯¹éœ€è¦å…³é—­çš„èµ„æºå¤„ç†çš„ç‰¹æ®Šè¯­æ³• try-with-resources`ï¼š
    </p>
    <p>
     `try(èµ„æºå˜é‡ = åˆ›å»ºèµ„æºå¯¹è±¡){
     <!-- -->
    </p>
    <p>
     } catch( ) {
     <!-- -->
    </p>
    <p>
     }`
    </p>
    <p>
     å…¶ä¸­èµ„æºå¯¹è±¡éœ€è¦å®ç° AutoCloseable æ¥å£ï¼Œä¾‹å¦‚ InputStream ã€ OutputStream ã€
    </p>
    <p>
     Connection ã€ Statement ã€ ResultSet ç­‰æ¥å£éƒ½å®ç°äº† AutoCloseable ï¼Œä½¿ç”¨ try-with
    </p>
    <p>
     resources å¯ä»¥ä¸ç”¨å†™ finally è¯­å¥å—ï¼Œç¼–è¯‘å™¨ä¼šå¸®åŠ©ç”Ÿæˆå…³é—­èµ„æºä»£ç ï¼Œä¾‹å¦‚ï¼š
    </p>
    <p>
     `public class Candy9 {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     try(InputStream is = new FileInputStream("d:\1.txt")) {
     <!-- -->
    </p>
    <p>
     System.out.println(is);
    </p>
    <p>
     } catch (IOException e) {
     <!-- -->
    </p>
    <p>
     e.printStackTrace();
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     ä¼šè¢«è½¬æ¢ä¸ºï¼š
    </p>
    <p>
     `public class Candy9 {
     <!-- -->
    </p>
    <p>
     public Candy9() {
     <!-- -->
    </p>
    <p>
     }
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     try {
     <!-- -->
    </p>
    <p>
     InputStream is = new FileInputStream("d:\1.txt");
    </p>
    <p>
     Throwable t = null;
    </p>
    <p>
     try {
     <!-- -->
    </p>
    <p>
     System.out.println(is);
    </p>
    <p>
     } catch (Throwable e1) {
     <!-- -->
    </p>
    <p>
     // t æ˜¯æˆ‘ä»¬ä»£ç å‡ºç°çš„å¼‚å¸¸
    </p>
    <p>
     t = e1;
    </p>
    <p>
     throw e1;
    </p>
    <p>
     } finally {
     <!-- -->
    </p>
    <p>
     // åˆ¤æ–­äº†èµ„æºä¸ä¸ºç©º
    </p>
    <p>
     if (is != null) {
     <!-- -->
    </p>
    <p>
     // å¦‚æœæˆ‘ä»¬ä»£ç æœ‰å¼‚å¸¸
    </p>
    <p>
     if (t != null) {
     <!-- -->
    </p>
    <p>
     try {
     <!-- -->
    </p>
    <p>
     is.close();
    </p>
    <p>
     } catch (Throwable e2) {
     <!-- -->
    </p>
    <p>
     // å¦‚æœ close å‡ºç°å¼‚å¸¸ï¼Œä½œä¸ºè¢«å‹åˆ¶å¼‚å¸¸æ·»åŠ 
    </p>
    <p>
     t.addSuppressed(e2);
    </p>
    <p>
     }
    </p>
    <p>
     } else {
     <!-- -->
    </p>
    <p>
     // å¦‚æœæˆ‘ä»¬ä»£ç æ²¡æœ‰å¼‚å¸¸ï¼Œclose å‡ºç°çš„å¼‚å¸¸å°±æ˜¯æœ€å catch å—ä¸­çš„ e
    </p>
    <p>
     is.close();
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     } catch (IOException e) {
     <!-- -->
    </p>
    <p>
     e.printStackTrace();
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     ä¼šå¸®æˆ‘ä»¬è¿›è¡Œèµ„æºçš„é‡Šæ”¾ï¼Œè€Œä¸”é‡Šæ”¾æ›´è§„èŒƒï¼Œä¸ä¼šä¸¢å¤±å¼‚å¸¸ä¿¡æ¯
    </p>
    <h3>
     <strong>
      10
     </strong>
     .
     <strong>
      æ–¹æ³•é‡å†™æ—¶çš„æ¡¥æ¥æ–¹æ³•
     </strong>
    </h3>
    <p>
     æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæ–¹æ³•é‡å†™æ—¶å¯¹è¿”å›å€¼åˆ†ä¸¤ç§æƒ…å†µï¼š
    </p>
    <ul>
     <li>
      <p>
       çˆ¶å­ç±»çš„è¿”å›å€¼å®Œå…¨ä¸€è‡´
      </p>
     </li>
     <li>
      <p>
       å­ç±»è¿”å›å€¼å¯ä»¥æ˜¯çˆ¶ç±»è¿”å›å€¼çš„å­ç±»ï¼ˆæ¯”è¾ƒç»•å£ï¼Œè§ä¸‹é¢çš„ä¾‹å­ï¼‰
      </p>
     </li>
    </ul>
    <p>
     <code>
      class A { public Number m() { return 1; } } class B extends A { @Override // å­ç±» m æ–¹æ³•çš„è¿”å›å€¼æ˜¯ Integer æ˜¯çˆ¶ç±» m æ–¹æ³•è¿”å›å€¼ Number çš„å­ç±» public Integer m() { return 2; } }
     </code>
    </p>
    <p>
     å¯¹äºå­ç±»ï¼Œjava ç¼–è¯‘å™¨ä¼šåšå¦‚ä¸‹å¤„ç†ï¼š
    </p>
    <p>
     <code>
      class B extends A { public Integer m() { return 2; } // æ­¤æ–¹æ³•æ‰æ˜¯çœŸæ­£é‡å†™äº†çˆ¶ç±» public Number m() æ–¹æ³• public synthetic bridge Number m() { // è°ƒç”¨ public Integer m() return m(); } }
     </code>
    </p>
    <p>
     å…¶ä¸­æ¡¥æ¥æ–¹æ³•æ¯”è¾ƒç‰¹æ®Šï¼Œä»…å¯¹ java è™šæ‹Ÿæœºå¯è§ï¼Œå¹¶ä¸”ä¸åŸæ¥çš„ public Integer m() æ²¡æœ‰å‘½åå†²çªï¼Œå¯ä»¥ ç”¨ä¸‹é¢åå°„ä»£ç æ¥éªŒè¯ï¼š
    </p>
    <p>
     <code>
      public static void main(String[] args) { for(Method m : B.class.getDeclaredMethods()) { System.out.println(m); } }
     </code>
    </p>
    <p>
     ç»“æœï¼š
    </p>
    <p>
     <code>
      public java.lang.Integer cn.ali.jvm.test.B.m() public java.lang.Number cn.ali.jvm.test.B.m()
     </code>
    </p>
    <h3 style="background-color:transparent">
     11.
     <strong>
      åŒ¿åå†…éƒ¨ç±»
     </strong>
    </h3>
    <p>
     æºä»£ç ï¼š
    </p>
    <p>
     `public class Candy11 {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     Runnable runnable = new Runnable() {
     <!-- -->
    </p>
    <p>
     @Override
    </p>
    <p>
     public void run() {
     <!-- -->
    </p>
    <p>
     System.out.println("ok");
    </p>
    <p>
     }
    </p>
    <p>
     };
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     è½¬æ¢åä»£ç ï¼š
    </p>
    <p>
     `// é¢å¤–ç”Ÿæˆçš„ç±»
    </p>
    <p>
     final class Candy11$1 implements Runnable {
     <!-- -->
    </p>
    <p>
     Candy11$1() {
     <!-- -->
    </p>
    <p>
     }
    </p>
    <p>
     public void run() {
     <!-- -->
    </p>
    <p>
     System.out.println("ok");
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     `public class Candy11 {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     Runnable runnable = new Candy11$1();
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     å¼•ç”¨å±€éƒ¨å˜é‡çš„åŒ¿åå†…éƒ¨ç±»ï¼Œæºä»£ç ï¼š
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/bbef956677fd428b83d1da351ddf9a8d.png"/>
    </p>
    <p>
     <strong>
      æ³¨æ„
     </strong>
    </p>
    <p>
     è¿™åŒæ—¶è§£é‡Šäº†ä¸ºä»€ä¹ˆåŒ¿åå†…éƒ¨ç±»å¼•ç”¨å±€éƒ¨å˜é‡æ—¶ï¼Œå±€éƒ¨å˜é‡å¿…é¡»æ˜¯ final çš„ï¼šå› ä¸ºåœ¨åˆ›å»º
    </p>
    <p>
     Candy11$1 å¯¹è±¡æ—¶ï¼Œå°† x çš„å€¼èµ‹å€¼ç»™äº† Candy11$1 å¯¹è±¡çš„ val$x å±æ€§ï¼Œæ‰€ä»¥ x ä¸åº”è¯¥å†å‘ç”Ÿå˜
    </p>
    <p>
     åŒ–äº†ï¼Œå¦‚æœå˜åŒ–ï¼Œé‚£ä¹ˆ val$x å±æ€§æ²¡æœ‰æœºä¼šå†è·Ÿç€ä¸€èµ·å˜åŒ–
    </p>
    <h2>
     å››ã€ç±»åŠ è½½
    </h2>
    <h3>
     1ï¼‰åŠ è½½
    </h3>
    <p>
     å°†ç±»çš„å­—èŠ‚ç è½½å…¥æ–¹æ³•åŒºï¼ˆ1.8åä¸ºå…ƒç©ºé—´ï¼Œåœ¨æœ¬åœ°å†…å­˜ä¸­ï¼‰ä¸­ï¼Œå†…éƒ¨é‡‡ç”¨ C++ çš„ instanceKlass æè¿° java ç±»ï¼Œå®ƒçš„é‡è¦ ï¬eld æœ‰ï¼š
    </p>
    <ul>
     <li>
      <p>
       _java_mirror å³ java çš„ç±»é•œåƒï¼Œä¾‹å¦‚å¯¹ String æ¥è¯´ï¼Œå®ƒçš„é•œåƒç±»å°±æ˜¯ String.classï¼Œä½œç”¨æ˜¯æŠŠ klass æš´éœ²ç»™ java ä½¿ç”¨
      </p>
     </li>
     <li>
      <p>
       _super å³çˆ¶ç±»
      </p>
     </li>
     <li>
      <p>
       _ï¬elds å³æˆå‘˜å˜é‡
      </p>
     </li>
     <li>
      <p>
       _methods å³æ–¹æ³•
      </p>
     </li>
     <li>
      <p>
       _constants å³å¸¸é‡æ± 
      </p>
     </li>
     <li>
      <p>
       _class_loader å³ç±»åŠ è½½å™¨
      </p>
     </li>
     <li>
      <p>
       _vtable è™šæ–¹æ³•è¡¨
      </p>
     </li>
     <li>
      <p>
       _itable æ¥å£æ–¹æ³•
      </p>
     </li>
    </ul>
    <p>
     å¦‚æœè¿™ä¸ªç±»è¿˜æœ‰çˆ¶ç±»æ²¡æœ‰åŠ è½½ï¼Œå…ˆåŠ è½½çˆ¶ç±» åŠ è½½å’Œé“¾æ¥å¯èƒ½æ˜¯äº¤æ›¿è¿è¡Œçš„
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/ca5f5c14fda346e1a2ddf95819c4c3a6.png"/>
    </p>
    <ul>
     <li>
      <p>
       instanceKlassä¿å­˜åœ¨æ–¹æ³•åŒºã€‚JDK 8ä»¥åï¼Œæ–¹æ³•åŒºä½äºå…ƒç©ºé—´ä¸­ï¼Œè€Œå…ƒç©ºé—´åˆä½äºæœ¬åœ°å†…å­˜ä¸­
      </p>
     </li>
     <li>
      <p>
       _java_mirroråˆ™æ˜¯ä¿å­˜åœ¨å †å†…å­˜ä¸­
      </p>
     </li>
     <li>
      <p>
       InstanceKlasså’Œ*.class(JAVAé•œåƒç±»)äº’ç›¸ä¿å­˜äº†å¯¹æ–¹çš„åœ°å€
      </p>
     </li>
     <li>
      <p>
       ç±»çš„å¯¹è±¡åœ¨å¯¹è±¡å¤´ä¸­ä¿å­˜äº†*.classçš„åœ°å€ã€‚è®©å¯¹è±¡å¯ä»¥é€šè¿‡å…¶æ‰¾åˆ°æ–¹æ³•åŒºä¸­çš„instanceKlassï¼Œä»è€Œè·å–ç±»çš„å„ç§ä¿¡æ¯
      </p>
      <p>
       <strong>
        æ³¨æ„
       </strong>
      </p>
      <p>
       instanceKlass è¿™æ ·çš„ã€å…ƒæ•°æ®ã€‘æ˜¯å­˜å‚¨åœ¨æ–¹æ³•åŒºï¼ˆ1.8 åçš„å…ƒç©ºé—´å†…ï¼‰ï¼Œä½† _java_mirror
      </p>
      <p>
       æ˜¯å­˜å‚¨åœ¨å †ä¸­
      </p>
      <p>
       å¯ä»¥é€šè¿‡å‰é¢ä»‹ç»çš„ HSDB å·¥å…·æŸ¥çœ‹
      </p>
     </li>
    </ul>
    <h3 style="background-color:transparent">
     2ï¼‰è¿æ¥
    </h3>
    <h4>
     2.1éªŒè¯
    </h4>
    <p>
     éªŒè¯ç±»æ˜¯å¦ç¬¦åˆ JVMè§„èŒƒï¼Œå®‰å…¨æ€§æ£€æŸ¥ ç”¨ UE ç­‰æ”¯æŒäºŒè¿›åˆ¶çš„ç¼–è¾‘å™¨ä¿®æ”¹ HelloWorld.class çš„é­”æ•°ï¼Œåœ¨æ§åˆ¶å°è¿è¡Œ
    </p>
    <h4>
     2.2å‡†å¤‡
    </h4>
    <p>
     ä¸º static å˜é‡åˆ†é…ç©ºé—´ï¼Œè®¾ç½®é»˜è®¤å€¼
    </p>
    <ul>
     <li>
      <p>
       static å˜é‡åœ¨ JDK 7 ä¹‹å‰å­˜å‚¨äº instanceKlass æœ«å°¾ï¼Œä» JDK 7 å¼€å§‹ï¼Œå­˜å‚¨äº _java_mirror æœ«å°¾
      </p>
     </li>
     <li>
      <p>
       static å˜é‡åˆ†é…ç©ºé—´å’Œèµ‹å€¼æ˜¯ä¸¤ä¸ªæ­¥éª¤ï¼Œåˆ†é…ç©ºé—´åœ¨å‡†å¤‡é˜¶æ®µå®Œæˆï¼Œèµ‹å€¼åœ¨åˆå§‹åŒ–é˜¶æ®µå®Œæˆ
      </p>
     </li>
     <li>
      <p>
       å¦‚æœ static å˜é‡æ˜¯ final çš„åŸºæœ¬ç±»å‹ï¼Œä»¥åŠå­—ç¬¦ä¸²å¸¸é‡ï¼Œé‚£ä¹ˆç¼–è¯‘é˜¶æ®µå€¼å°±ç¡®å®šäº†ï¼Œèµ‹å€¼åœ¨å‡†å¤‡é˜¶æ®µå®Œæˆ
      </p>
     </li>
     <li>
      <p>
       å¦‚æœ static å˜é‡æ˜¯ final çš„ï¼Œä½†å±äºå¼•ç”¨ç±»å‹ï¼Œé‚£ä¹ˆèµ‹å€¼ä¹Ÿä¼šåœ¨åˆå§‹åŒ–é˜¶æ®µå®Œæˆå°†å¸¸é‡æ± ä¸­çš„ç¬¦å·å¼•ç”¨è§£æä¸ºç›´æ¥å¼•ç”¨
      </p>
     </li>
    </ul>
    <p>
     `public class Code_22_AnalysisTest {
     <!-- -->
    </p>
    <pre>public static void main(String[] args) throws ClassNotFoundException, IOException {
 Â   ClassLoader classLoader = Code_22_AnalysisTest.class.getClassLoader();
 Â   Class&lt;?&gt; c = classLoader.loadClass("cn.ali.jvm.test.C");
â€‹
 Â   // new C();
 Â   System.in.read();
}</pre>
    <p>
     }
    </p>
    <p>
     class C { D d = new D(); }
    </p>
    <p>
     class D {
     <!-- -->
    </p>
    <p>
     }`
    </p>
    <h4>
     2.3
     <strong>
      è§£æ
     </strong>
    </h4>
    <p>
     å°†å¸¸é‡æ± ä¸­çš„ç¬¦å·å¼•ç”¨è§£æä¸ºç›´æ¥å¼•ç”¨
    </p>
    <p>
     `package cn.xxxde.jvm.load;
    </p>
    <p>
     /**
    </p>
    <p>
     * è§£æçš„å«ä¹‰
    </p>
    <p>
     */
    </p>
    <p>
     public class Load2 {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) throws ClassNotFoundException,
    </p>
    <p>
     IOException {
     <!-- -->
    </p>
    <p>
     ClassLoader classloader = Load2.class.getClassLoader();
    </p>
    <p>
     // loadClass æ–¹æ³•ä¸ä¼šå¯¼è‡´ç±»çš„è§£æå’Œåˆå§‹åŒ–
    </p>
    <p>
     Class&lt;?&gt; c = classloader.loadClass("cn.itcast.jvm.t3.load.C");
    </p>
    <p>
     // new C();
    </p>
    <p>
     System.in.read();
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     class C {
     <!-- -->
    </p>
    <p>
     D d = new D();
    </p>
    <p>
     }
    </p>
    <p>
     class D {
     <!-- -->
    </p>
    <p>
     }`
    </p>
    <h3>
     3ï¼‰åˆå§‹åŒ–
    </h3>
    <p>
     &lt;cinit&gt;()v æ–¹æ³• åˆå§‹åŒ–å³è°ƒç”¨ &lt;cinit&gt;()V ï¼Œè™šæ‹Ÿæœºä¼šä¿è¯è¿™ä¸ªç±»çš„ã€æ„é€ æ–¹æ³•ã€çš„çº¿ç¨‹å®‰å…¨
    </p>
    <p>
     å‘ç”Ÿçš„æ—¶æœº æ¦‚æ‹¬å¾—è¯´ï¼Œç±»åˆå§‹åŒ–æ˜¯ã€æ‡’æƒ°çš„ã€‘
    </p>
    <ul>
     <li>
      <p>
       main æ–¹æ³•æ‰€åœ¨çš„ç±»ï¼Œæ€»ä¼šè¢«é¦–å…ˆåˆå§‹åŒ–
      </p>
     </li>
     <li>
      <p>
       é¦–æ¬¡è®¿é—®è¿™ä¸ªç±»çš„é™æ€å˜é‡æˆ–é™æ€æ–¹æ³•æ—¶
      </p>
     </li>
     <li>
      <p>
       å­ç±»åˆå§‹åŒ–ï¼Œå¦‚æœçˆ¶ç±»è¿˜æ²¡åˆå§‹åŒ–ï¼Œä¼šå¼•å‘
      </p>
     </li>
     <li>
      <p>
       å­ç±»è®¿é—®çˆ¶ç±»çš„é™æ€å˜é‡ï¼Œåªä¼šè§¦å‘çˆ¶ç±»çš„åˆå§‹åŒ–
      </p>
     </li>
     <li>
      <p>
       Class.forName
      </p>
     </li>
     <li>
      <p>
       new ä¼šå¯¼è‡´åˆå§‹åŒ–
      </p>
     </li>
    </ul>
    <p>
     ä¸ä¼šå¯¼è‡´ç±»åˆå§‹åŒ–çš„æƒ…å†µ
    </p>
    <ul>
     <li>
      <p>
       è®¿é—®ç±»çš„ static final é™æ€å¸¸é‡ï¼ˆåŸºæœ¬ç±»å‹å’Œå­—ç¬¦ä¸²ï¼‰ä¸ä¼šè§¦å‘åˆå§‹åŒ–
      </p>
     </li>
     <li>
      <p>
       ç±»å¯¹è±¡.class ä¸ä¼šè§¦å‘åˆå§‹åŒ–
      </p>
     </li>
     <li>
      <p>
       åˆ›å»ºè¯¥ç±»çš„æ•°ç»„ä¸ä¼šè§¦å‘åˆå§‹åŒ–
      </p>
     </li>
    </ul>
    <p>
     `public class Load1 { static { System.out.println("main init"); } public static void main(String[] args) throws ClassNotFoundException { // 1. é™æ€å¸¸é‡ï¼ˆåŸºæœ¬ç±»å‹å’Œå­—ç¬¦ä¸²ï¼‰ä¸ä¼šè§¦å‘åˆå§‹åŒ– // System.out.println(B.b); // 2. ç±»å¯¹è±¡.class ä¸ä¼šè§¦å‘åˆå§‹åŒ– // System.out.println(B.class); // 3. åˆ›å»ºè¯¥ç±»çš„æ•°ç»„ä¸ä¼šè§¦å‘åˆå§‹åŒ– // System.out.println(new B[0]); // 4. ä¸ä¼šåˆå§‹åŒ–ç±» Bï¼Œä½†ä¼šåŠ è½½ Bã€A // ClassLoader cl = Thread.currentThread().getContextClassLoader(); // cl.loadClass("cn.ali.jvm.test.classload.B"); // 5. ä¸ä¼šåˆå§‹åŒ–ç±» Bï¼Œä½†ä¼šåŠ è½½ Bã€A // ClassLoader c2 = Thread.currentThread().getContextClassLoader(); // Class.forName("cn.ali.jvm.test.classload.B", false, c2);
    </p>
    <pre> Â   // 1. é¦–æ¬¡è®¿é—®è¿™ä¸ªç±»çš„é™æ€å˜é‡æˆ–é™æ€æ–¹æ³•æ—¶</pre>
    <p>
     // System.out.println(A.a); // 2. å­ç±»åˆå§‹åŒ–ï¼Œå¦‚æœçˆ¶ç±»è¿˜æ²¡åˆå§‹åŒ–ï¼Œä¼šå¼•å‘ // System.out.println(B.c); // 3. å­ç±»è®¿é—®çˆ¶ç±»é™æ€å˜é‡ï¼Œåªè§¦å‘çˆ¶ç±»åˆå§‹åŒ– // System.out.println(B.a); // 4. ä¼šåˆå§‹åŒ–ç±» Bï¼Œå¹¶å…ˆåˆå§‹åŒ–ç±» A // Class.forName("cn.ali.jvm.test.classload.B"); }
    </p>
    <p>
     }
    </p>
    <p>
     class A { static int a = 0; static { System.out.println("a init"); } } class B extends A { final static double b = 5.0; static boolean c = false; static { System.out.println("b init"); } }`
    </p>
    <h3 style="background-color:transparent">
     4ï¼‰ç»ƒä¹ 
    </h3>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/78d43908db404b2dad8bd89010fa4a4b.png"/>
    </p>
    <h2>
     äº”ã€ç±»åŠ è½½å™¨ï¼ˆ
     <em>
      xxxde
     </em>
     eï¼‰
    </h2>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/4cd0e84d42fb4600b21396144f0f7389.png"/>
    </p>
    <p>
     ä»ä¸‹å¾€ä¸Šè¯¢é—®ï¼Œä»ä¸Šå¾€ä¸‹åŠ è½½
    </p>
    <h3 style="background-color:transparent">
     1.
     <strong>
      å¯åŠ¨ç±»åŠ è½½å™¨
     </strong>
    </h3>
    <p>
     ç”¨ Bootstrap ç±»åŠ è½½å™¨åŠ è½½ç±»å¹¶æ‰§è¡Œï¼š
    </p>
    <p>
     `package com.xxxde.jvm.t3.load;
    </p>
    <p>
     public class F {
     <!-- -->
    </p>
    <p>
     static {
     <!-- -->
    </p>
    <p>
     System.out.println("bootstrap F init");
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     `package com.xxxde.jvm.t3.load;
    </p>
    <p>
     public class Load5_1 {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) throws ClassNotFoundException {
     <!-- -->
    </p>
    <p>
     Class&lt;?&gt; aClass = Class.forName("cn.itcast.jvm.t3.load.F");
    </p>
    <p>
     System.out.println(aClass.getClassLoader());
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     è¾“å‡º
    </p>
    <p>
     `D:\jvm&gt;java -Xbootclasspath/a:. com.xxxde.jvm.t3.load.Load5
    </p>
    <p>
     bootstrap F init
    </p>
    <p>
     null`
    </p>
    <p>
     è§£é‡Šï¼š
    </p>
    <ul>
     <li>
      <p>
       -Xbootclasspath è¡¨ç¤ºè®¾ç½® bootclasspath
      </p>
     </li>
     <li>
      <p>
       å…¶ä¸­ /a:. è¡¨ç¤ºå°†å½“å‰ç›®å½•è¿½åŠ è‡³ bootclasspath ä¹‹å
      </p>
     </li>
     <li>
      <p>
       å¯ä»¥ç”¨è¿™ä¸ªåŠæ³•æ›¿æ¢æ ¸å¿ƒç±»
      </p>
      <ul>
       <li>
        <p>
         java -Xbootclasspath:&lt;new bootclasspath&gt;
        </p>
       </li>
       <li>
        <p>
         java -Xbootclasspath/a:&lt;è¿½åŠ è·¯å¾„&gt;
        </p>
       </li>
       <li>
        <p>
         java -Xbootclasspath/p:&lt;è¿½åŠ è·¯å¾„&gt;
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <h3>
     <strong>
      2
     </strong>
     <strong>
      æ‰©å±•ç±»åŠ è½½å™¨
     </strong>
    </h3>
    <p>
     å¦‚æœ classpath å’Œ JAVA_HOME/jre/lib/ext ä¸‹æœ‰åŒåç±»ï¼ŒåŠ è½½æ—¶ä¼šä½¿ç”¨æ‹“å±•ç±»åŠ è½½å™¨åŠ è½½ã€‚å½“åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨å‘ç°æ‹“å±•ç±»åŠ è½½å™¨å·²å°†è¯¥åŒåç±»åŠ è½½è¿‡äº†ï¼Œåˆ™ä¸ä¼šå†æ¬¡åŠ è½½ã€‚
    </p>
    <h3>
     3.åŒäº²å§”æ´¾æ¨¡å¼
    </h3>
    <p>
     åŒäº²å§”æ´¾æ¨¡å¼ï¼Œå³è°ƒç”¨ç±»åŠ è½½å™¨ClassLoader çš„ loadClass æ–¹æ³•æ—¶ï¼ŒæŸ¥æ‰¾ç±»çš„è§„åˆ™ã€‚
    </p>
    <p>
     <strong>
      æ³¨æ„
     </strong>
    </p>
    <p>
     è¿™é‡Œçš„åŒäº²ï¼Œç¿»è¯‘ä¸ºä¸Šçº§ä¼¼ä¹æ›´ä¸ºåˆé€‚ï¼Œå› ä¸ºå®ƒä»¬å¹¶æ²¡æœ‰ç»§æ‰¿å…³ç³»
    </p>
    <p>
     loadClassæºç ï¼š
    </p>
    <p>
     `protected Class&lt;?&gt; loadClass(String name, boolean resolve) throws ClassNotFoundException { synchronized (getClassLoadingLock(name)) { // é¦–å…ˆæŸ¥æ‰¾è¯¥ç±»æ˜¯å¦å·²ç»è¢«è¯¥ç±»åŠ è½½å™¨åŠ è½½è¿‡äº† Class&lt;?&gt; c = findLoadedClass(name); // å¦‚æœæ²¡æœ‰è¢«åŠ è½½è¿‡ if (c == null) { long t0 = System.nanoTime(); try { // çœ‹æ˜¯å¦è¢«å®ƒçš„ä¸Šçº§åŠ è½½å™¨åŠ è½½è¿‡äº† Extension çš„ä¸Šçº§æ˜¯Bootstarpï¼Œä½†å®ƒæ˜¾ç¤ºä¸ºnull if (parent != null) { c = parent.loadClass(name, false); } else { // çœ‹æ˜¯å¦è¢«å¯åŠ¨ç±»åŠ è½½å™¨åŠ è½½è¿‡ c = findBootstrapClassOrNull(name); } } catch (ClassNotFoundException e) { // ClassNotFoundException thrown if class not found // from the non-null parent class loader //æ•è·å¼‚å¸¸ï¼Œä½†ä¸åšä»»ä½•å¤„ç† }
    </p>
    <pre> Â  Â  Â   if (c == null) {
 Â  Â  Â  Â  Â   // å¦‚æœè¿˜æ˜¯æ²¡æœ‰æ‰¾åˆ°ï¼Œå…ˆè®©æ‹“å±•ç±»åŠ è½½å™¨è°ƒç”¨ findClass æ–¹æ³•å»æ‰¾åˆ°è¯¥ç±»ï¼Œå¦‚æœè¿˜æ˜¯æ²¡æ‰¾åˆ°ï¼Œå°±æŠ›å‡ºå¼‚å¸¸
 Â  Â  Â  Â  Â   // ç„¶åè®©åº”ç”¨ç±»åŠ è½½å™¨å»æ‰¾ classpath ä¸‹æ‰¾è¯¥ç±»
 Â  Â  Â  Â  Â   long t1 = System.nanoTime();
 Â  Â  Â  Â  Â   c = findClass(name);
â€‹
 Â  Â  Â  Â  Â   // è®°å½•æ—¶é—´
 Â  Â  Â  Â  Â   sun.misc.PerfCounter.getParentDelegationTime().addTime(t1 - t0);
 Â  Â  Â  Â  Â   sun.misc.PerfCounter.getFindClassTime().addElapsedTimeFrom(t1);
 Â  Â  Â  Â  Â   sun.misc.PerfCounter.getFindClasses().increment();
 Â  Â  Â   }
 Â   }
 Â   if (resolve) {
 Â  Â  Â   resolveClass(c);
 Â   }
 Â   return c;
}</pre>
    <p>
     }`
    </p>
    <h3>
     4.è‡ªå®šä¹‰ç±»åŠ è½½å™¨
    </h3>
    <p>
     <strong>
      ä½¿ç”¨åœºæ™¯
     </strong>
    </p>
    <ul>
     <li>
      <p>
       æƒ³åŠ è½½é classpath éšæ„è·¯å¾„ä¸­çš„ç±»æ–‡ä»¶
      </p>
     </li>
     <li>
      <p>
       é€šè¿‡æ¥å£æ¥ä½¿ç”¨å®ç°ï¼Œå¸Œæœ›è§£è€¦æ—¶ï¼Œå¸¸ç”¨åœ¨æ¡†æ¶è®¾è®¡
      </p>
     </li>
     <li>
      <p>
       è¿™äº›ç±»å¸Œæœ›äºˆä»¥éš”ç¦»ï¼Œä¸åŒåº”ç”¨çš„åŒåç±»éƒ½å¯ä»¥åŠ è½½ï¼Œä¸å†²çªï¼Œå¸¸è§äº tomcat å®¹å™¨
      </p>
     </li>
    </ul>
    <p>
     <strong>
      æ­¥éª¤
     </strong>
    </p>
    <ul>
     <li>
      <p>
       ç»§æ‰¿ ClassLoader çˆ¶ç±»
      </p>
     </li>
     <li>
      <p>
       è¦éµä»åŒäº²å§”æ´¾æœºåˆ¶ï¼Œé‡å†™ ï¬ndClass æ–¹æ³•
      </p>
     </li>
     <li>
      <p>
       ä¸æ˜¯é‡å†™ loadClass æ–¹æ³•ï¼Œå¦åˆ™ä¸ä¼šèµ°åŒäº²å§”æ´¾æœºåˆ¶
      </p>
     </li>
     <li>
      <p>
       è¯»å–ç±»æ–‡ä»¶çš„å­—èŠ‚ç 
      </p>
     </li>
     <li>
      <p>
       è°ƒç”¨çˆ¶ç±»çš„ deï¬neClass æ–¹æ³•æ¥åŠ è½½ç±»
      </p>
     </li>
     <li>
      <p>
       ä½¿ç”¨è€…è°ƒç”¨è¯¥ç±»åŠ è½½å™¨çš„ loadClass æ–¹æ³•
      </p>
     </li>
    </ul>
    <p>
     <strong>
      ç ´ååŒäº²å§”æ´¾æ¨¡å¼
     </strong>
    </p>
    <ul>
     <li>
      <p>
       åŒäº²å§”æ´¾æ¨¡å‹çš„ç¬¬ä¸€æ¬¡â€œè¢«ç ´åâ€å…¶å®å‘ç”Ÿåœ¨åŒäº²å§”æ´¾æ¨¡å‹å‡ºç°ä¹‹å‰â€”â€”å³JDK1.2é¢ä¸–ä»¥å‰çš„â€œè¿œå¤â€æ—¶ä»£
      </p>
      <ul>
       <li>
        <p>
         å»ºè®®ç”¨æˆ·é‡å†™findClass()æ–¹æ³•ï¼Œåœ¨ç±»åŠ è½½å™¨ä¸­çš„loadClass()æ–¹æ³•ä¸­ä¹Ÿä¼šè°ƒç”¨è¯¥æ–¹æ³•
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       åŒäº²å§”æ´¾æ¨¡å‹çš„ç¬¬äºŒæ¬¡â€œè¢«ç ´åâ€æ˜¯ç”±è¿™ä¸ªæ¨¡å‹è‡ªèº«çš„ç¼ºé™·å¯¼è‡´çš„
      </p>
      <ul>
       <li>
        <p>
         å¦‚æœæœ‰åŸºç¡€ç±»å‹åˆè¦è°ƒç”¨å›ç”¨æˆ·çš„ä»£ç ï¼Œæ­¤æ—¶ä¹Ÿä¼šç ´ååŒäº²å§”æ´¾æ¨¡å¼
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       åŒäº²å§”æ´¾æ¨¡å‹çš„ç¬¬ä¸‰æ¬¡â€œè¢«ç ´åâ€æ˜¯ç”±äºç”¨æˆ·å¯¹ç¨‹åºåŠ¨æ€æ€§çš„è¿½æ±‚è€Œå¯¼è‡´çš„
      </p>
      <ul>
       <li>
        <p>
         è¿™é‡Œæ‰€è¯´çš„â€œåŠ¨æ€æ€§â€æŒ‡çš„æ˜¯ä¸€äº›éå¸¸â€œçƒ­â€é—¨çš„åè¯ï¼šä»£ç çƒ­æ›¿æ¢ï¼ˆHot Swapï¼‰ã€æ¨¡å—çƒ­éƒ¨ç½²ï¼ˆHot Deploymentï¼‰ç­‰
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <h2>
     å…­ã€è¿è¡ŒæœŸä¼˜åŒ–
    </h2>
    <h3>
     1.
     <strong>
      å³æ—¶ç¼–è¯‘
     </strong>
    </h3>
    <h4 style="background-color:transparent">
     1.1
     <strong>
      åˆ†å±‚ç¼–è¯‘
     </strong>
    </h4>
    <p>
     ç¤ºä¾‹ä»£ç ï¼š
    </p>
    <p>
     `public class JIT1 {
     <!-- -->
    </p>
    <p>
     public static void main(String[] args) {
     <!-- -->
    </p>
    <p>
     for (int i = 0; i &lt; 200; i++) {
     <!-- -->
    </p>
    <p>
     long start = System.nanoTime();
    </p>
    <p>
     for (int j = 0; j &lt; 1000; j++) {
     <!-- -->
    </p>
    <p>
     new Object();
    </p>
    <p>
     }
    </p>
    <p>
     long end = System.nanoTime();
    </p>
    <p>
     System.out.printf("%d\t%d\n",i,(end - start));
    </p>
    <p>
     }
    </p>
    <p>
     }
    </p>
    <p>
     }`
    </p>
    <p>
     ç»“æœæ˜¯ï¼šåˆšå¼€å§‹æ˜¯5ä½æ•°åŸºæœ¬ä¸Šéƒ½å¤§äº50000ï¼Œåé¢æ…¢æ…¢å˜æˆä»¥ä¸€å¼€å¤´çš„å¤§æ¦‚50å·¦å³ï¼Œåœ¨130å¤šæ¬¡æ—¶å˜ä¸ºä¸‰ä½æ•°
    </p>
    <p>
     è§£é‡Šï¼š
    </p>
    <p>
     <strong>
      JVM å°†æ‰§è¡ŒçŠ¶æ€åˆ†æˆäº† 5 ä¸ªå±‚æ¬¡ï¼š
     </strong>
    </p>
    <ul>
     <li>
      <p>
       0 å±‚ï¼Œè§£é‡Šæ‰§è¡Œï¼ˆInterpreterï¼‰
      </p>
     </li>
     <li>
      <p>
       1 å±‚ï¼Œä½¿ç”¨ C1 å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘æ‰§è¡Œï¼ˆä¸å¸¦ profilingï¼‰
      </p>
     </li>
     <li>
      <p>
       2 å±‚ï¼Œä½¿ç”¨ C1 å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘æ‰§è¡Œï¼ˆå¸¦åŸºæœ¬çš„ profilingï¼‰
      </p>
     </li>
     <li>
      <p>
       3 å±‚ï¼Œä½¿ç”¨ C1 å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘æ‰§è¡Œï¼ˆå¸¦å®Œå…¨çš„ profilingï¼‰
      </p>
     </li>
     <li>
      <p>
       4 å±‚ï¼Œä½¿ç”¨ C2 å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘æ‰§è¡Œ
      </p>
     </li>
    </ul>
    <p>
     profiling æ˜¯æŒ‡åœ¨è¿è¡Œè¿‡ç¨‹ä¸­æ”¶é›†ä¸€äº›ç¨‹åºæ‰§è¡ŒçŠ¶æ€çš„æ•°æ®ï¼Œä¾‹å¦‚ã€æ–¹æ³•çš„è°ƒç”¨æ¬¡æ•°ã€‘ï¼Œã€å¾ªç¯çš„
    </p>
    <p>
     å›è¾¹æ¬¡æ•°ã€‘ç­‰
    </p>
    <p>
    </p>
    <p>
     <strong>
      å³æ—¶ç¼–è¯‘å™¨ï¼ˆJITï¼‰ä¸è§£é‡Šå™¨çš„åŒºåˆ«
     </strong>
    </p>
    <ul>
     <li>
      <p>
       è§£é‡Šå™¨æ˜¯å°†å­—èŠ‚ç è§£é‡Šä¸ºæœºå™¨ç ï¼Œä¸‹æ¬¡å³ä½¿é‡åˆ°ç›¸åŒçš„å­—èŠ‚ç ï¼Œä»ä¼šæ‰§è¡Œé‡å¤çš„è§£é‡Š
      </p>
     </li>
     <li>
      <p>
       JIT æ˜¯å°†ä¸€äº›å­—èŠ‚ç ç¼–è¯‘ä¸ºæœºå™¨ç ï¼Œå¹¶å­˜å…¥ Code Cacheï¼Œä¸‹æ¬¡é‡åˆ°ç›¸åŒçš„ä»£ç ï¼Œç›´æ¥æ‰§è¡Œï¼Œæ— éœ€
      </p>
     </li>
     <li>
      <p>
       å†ç¼–è¯‘
      </p>
     </li>
     <li>
      <p>
       è§£é‡Šå™¨æ˜¯å°†å­—èŠ‚ç è§£é‡Šä¸ºé’ˆå¯¹æ‰€æœ‰å¹³å°éƒ½é€šç”¨çš„æœºå™¨ç 
      </p>
     </li>
     <li>
      <p>
       JIT ä¼šæ ¹æ®å¹³å°ç±»å‹ï¼Œç”Ÿæˆå¹³å°ç‰¹å®šçš„æœºå™¨ç 
      </p>
     </li>
    </ul>
    <p>
     æ€»ï¼šå¯¹äºå æ®å¤§éƒ¨åˆ†çš„ä¸å¸¸ç”¨çš„ä»£ç ï¼Œæˆ‘ä»¬æ— éœ€è€—è´¹æ—¶é—´å°†å…¶ç¼–è¯‘æˆæœºå™¨ç ï¼Œè€Œæ˜¯é‡‡å–è§£é‡Šæ‰§è¡Œçš„æ–¹å¼è¿
    </p>
    <p>
     è¡Œï¼›å¦ä¸€æ–¹é¢ï¼Œå¯¹äºä»…å æ®å°éƒ¨åˆ†çš„çƒ­ç‚¹ä»£ç ï¼Œæˆ‘ä»¬åˆ™å¯ä»¥å°†å…¶ç¼–è¯‘æˆæœºå™¨ç ï¼Œä»¥è¾¾åˆ°ç†æƒ³çš„è¿è¡Œé€Ÿ
    </p>
    <p>
     åº¦ã€‚ æ‰§è¡Œæ•ˆç‡ä¸Šç®€å•æ¯”è¾ƒä¸€ä¸‹ Interpreter &lt; C1 &lt; C2ï¼Œæ€»çš„ç›®æ ‡æ˜¯å‘ç°çƒ­ç‚¹ä»£ç ï¼ˆhotspotåç§°çš„ç”±
    </p>
    <p>
     æ¥ï¼‰ï¼Œä¼˜åŒ–ä¹‹
    </p>
    <p>
    </p>
    <p>
     åˆšæ‰çš„ä¸€ç§ä¼˜åŒ–æ‰‹æ®µç§°ä¹‹ä¸ºã€é€ƒé€¸åˆ†æã€‘ï¼Œå‘ç°æ–°å»ºçš„å¯¹è±¡æ˜¯å¦é€ƒé€¸ã€‚å¯ä»¥ä½¿ç”¨ -XX:-
    </p>
    <p>
     DoEscapeAnalysis å…³é—­é€ƒé€¸åˆ†æï¼Œå†è¿è¡Œåˆšæ‰çš„ç¤ºä¾‹è§‚å¯Ÿç»“æœ
    </p>
    <hr/>
    <p>
     <strong>
      é€ƒé€¸åˆ†æ
     </strong>
     é€ƒé€¸åˆ†æï¼ˆEscape Analysisï¼‰ç®€å•æ¥è®²å°±æ˜¯ï¼ŒJava Hotspot è™šæ‹Ÿæœºå¯ä»¥åˆ†ææ–°åˆ›å»ºå¯¹è±¡çš„ä½¿ç”¨èŒƒå›´ï¼Œå¹¶å†³å®šæ˜¯å¦åœ¨ Java å †ä¸Šåˆ†é…å†…å­˜çš„ä¸€é¡¹æŠ€æœ¯
    </p>
    <p>
     <strong>
      é€ƒé€¸åˆ†æçš„ JVM å‚æ•°å¦‚ä¸‹ï¼š
     </strong>
    </p>
    <ul>
     <li>
      <p>
       å¼€å¯é€ƒé€¸åˆ†æï¼š-XX:+DoEscapeAnalysis
      </p>
     </li>
     <li>
      <p>
       å…³é—­é€ƒé€¸åˆ†æï¼š-XX:-DoEscapeAnalysis
      </p>
     </li>
     <li>
      <p>
       æ˜¾ç¤ºåˆ†æç»“æœï¼š-XX:+PrintEscapeAnalysis
      </p>
     </li>
     <li>
      <p>
       é€ƒé€¸åˆ†ææŠ€æœ¯åœ¨ Java SE 6u23+ å¼€å§‹æ”¯æŒï¼Œå¹¶é»˜è®¤è®¾ç½®ä¸ºå¯ç”¨çŠ¶æ€ï¼Œå¯ä»¥ä¸ç”¨é¢å¤–åŠ è¿™ä¸ªå‚æ•°
      </p>
     </li>
    </ul>
    <p>
     <strong>
      å¯¹è±¡é€ƒé€¸çŠ¶æ€
     </strong>
    </p>
    <p>
     <strong>
      å…¨å±€é€ƒé€¸ï¼ˆGlobalEscapeï¼‰
     </strong>
    </p>
    <ul>
     <li>
      <p>
       å³ä¸€ä¸ªå¯¹è±¡çš„ä½œç”¨èŒƒå›´é€ƒå‡ºäº†å½“å‰æ–¹æ³•æˆ–è€…å½“å‰çº¿ç¨‹ï¼Œæœ‰ä»¥ä¸‹å‡ ç§åœºæ™¯ï¼š
      </p>
      <ul>
       <li>
        <p>
         å¯¹è±¡æ˜¯ä¸€ä¸ªé™æ€å˜é‡
        </p>
       </li>
       <li>
        <p>
         å¯¹è±¡æ˜¯ä¸€ä¸ªå·²ç»å‘ç”Ÿé€ƒé€¸çš„å¯¹è±¡
        </p>
       </li>
       <li>
        <p>
         å¯¹è±¡ä½œä¸ºå½“å‰æ–¹æ³•çš„è¿”å›å€¼
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <p>
     <strong>
      å‚æ•°é€ƒé€¸ï¼ˆArgEscapeï¼‰
     </strong>
    </p>
    <ul>
     <li>
      <p>
       å³ä¸€ä¸ªå¯¹è±¡è¢«ä½œä¸ºæ–¹æ³•å‚æ•°ä¼ é€’æˆ–è€…è¢«å‚æ•°å¼•ç”¨ï¼Œä½†åœ¨è°ƒç”¨è¿‡ç¨‹ä¸­ä¸ä¼šå‘ç”Ÿå…¨å±€é€ƒé€¸ï¼Œè¿™ä¸ªçŠ¶æ€æ˜¯é€šè¿‡è¢«è°ƒæ–¹æ³•çš„å­—èŠ‚ç ç¡®å®šçš„
      </p>
     </li>
    </ul>
    <p>
     <strong>
      æ²¡æœ‰é€ƒé€¸
     </strong>
    </p>
    <ul>
     <li>
      <p>
       å³æ–¹æ³•ä¸­çš„å¯¹è±¡æ²¡æœ‰å‘ç”Ÿé€ƒé€¸
      </p>
     </li>
    </ul>
    <p>
     <strong>
      é€ƒé€¸åˆ†æä¼˜åŒ–
     </strong>
    </p>
    <ul>
     <li>
      <p>
       é’ˆå¯¹ä¸Šé¢ç¬¬ä¸‰ç‚¹ï¼Œå½“ä¸€ä¸ªå¯¹è±¡æ²¡æœ‰é€ƒé€¸æ—¶ï¼Œå¯ä»¥å¾—åˆ°ä»¥ä¸‹å‡ ä¸ªè™šæ‹Ÿæœºçš„ä¼˜åŒ–
      </p>
     </li>
    </ul>
    <p>
     <strong>
      é”æ¶ˆé™¤
     </strong>
     æˆ‘ä»¬çŸ¥é“çº¿ç¨‹åŒæ­¥é”æ˜¯éå¸¸ç‰ºç‰²æ€§èƒ½çš„ï¼Œå½“ç¼–è¯‘å™¨ç¡®å®šå½“å‰å¯¹è±¡åªæœ‰å½“å‰çº¿ç¨‹ä½¿ç”¨ï¼Œé‚£ä¹ˆå°±ä¼šç§»é™¤è¯¥å¯¹è±¡çš„åŒæ­¥é” ä¾‹å¦‚ï¼ŒStringBuffer å’Œ Vector éƒ½æ˜¯ç”¨ synchronized ä¿®é¥°çº¿ç¨‹å®‰å…¨çš„ï¼Œä½†å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå®ƒä»¬éƒ½åªæ˜¯åœ¨å½“å‰çº¿ç¨‹ä¸­ç”¨åˆ°ï¼Œè¿™æ ·ç¼–è¯‘å™¨å°±ä¼šä¼˜åŒ–ç§»é™¤æ‰è¿™äº›é”æ“ä½œ é”æ¶ˆé™¤çš„ JVM å‚æ•°å¦‚ä¸‹ï¼š
    </p>
    <ul>
     <li>
      <p>
       å¼€å¯é”æ¶ˆé™¤ï¼š-XX:+EliminateLocks
      </p>
     </li>
     <li>
      <p>
       å…³é—­é”æ¶ˆé™¤ï¼š-XX:-EliminateLocks
      </p>
     </li>
    </ul>
    <p>
     é”æ¶ˆé™¤åœ¨ JDK8 ä¸­éƒ½æ˜¯é»˜è®¤å¼€å¯çš„ï¼Œå¹¶ä¸”é”æ¶ˆé™¤éƒ½è¦å»ºç«‹åœ¨é€ƒé€¸åˆ†æçš„åŸºç¡€ä¸Š
    </p>
    <p>
     <strong>
      æ ‡é‡æ›¿æ¢
     </strong>
     é¦–å…ˆè¦æ˜ç™½æ ‡é‡å’Œèšåˆé‡ï¼ŒåŸºç¡€ç±»å‹å’Œå¯¹è±¡çš„å¼•ç”¨å¯ä»¥ç†è§£ä¸ºæ ‡é‡ï¼Œå®ƒä»¬ä¸èƒ½è¢«è¿›ä¸€æ­¥åˆ†è§£ã€‚è€Œèƒ½è¢«è¿›ä¸€æ­¥åˆ†è§£çš„é‡å°±æ˜¯èšåˆé‡ï¼Œæ¯”å¦‚ï¼šå¯¹è±¡ å¯¹è±¡æ˜¯èšåˆé‡ï¼Œå®ƒåˆå¯ä»¥è¢«è¿›ä¸€æ­¥åˆ†è§£æˆæ ‡é‡ï¼Œå°†å…¶æˆå‘˜å˜é‡åˆ†è§£ä¸ºåˆ†æ•£çš„å˜é‡ï¼Œè¿™å°±å«åšæ ‡é‡æ›¿æ¢ã€‚
    </p>
    <p>
     è¿™æ ·ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡æ²¡æœ‰å‘ç”Ÿé€ƒé€¸ï¼Œé‚£å‹æ ¹å°±ä¸ç”¨åˆ›å»ºå®ƒï¼Œåªä¼šåœ¨æ ˆæˆ–è€…å¯„å­˜å™¨ä¸Šåˆ›å»ºå®ƒç”¨åˆ°çš„æˆå‘˜æ ‡é‡ï¼ŒèŠ‚çœäº†å†…å­˜ç©ºé—´ï¼Œä¹Ÿæå‡äº†åº”ç”¨ç¨‹åºæ€§èƒ½ æ ‡é‡æ›¿æ¢çš„ JVM å‚æ•°å¦‚ä¸‹ï¼š
    </p>
    <ul>
     <li>
      <p>
       å¼€å¯æ ‡é‡æ›¿æ¢ï¼š-XX:+EliminateAllocations
      </p>
     </li>
     <li>
      <p>
       å…³é—­æ ‡é‡æ›¿æ¢ï¼š-XX:-EliminateAllocations
      </p>
     </li>
     <li>
      <p>
       æ˜¾ç¤ºæ ‡é‡æ›¿æ¢è¯¦æƒ…ï¼š-XX:+PrintEliminateAllocations
      </p>
     </li>
    </ul>
    <p>
     æ ‡é‡æ›¿æ¢åŒæ ·åœ¨ JDK8 ä¸­éƒ½æ˜¯é»˜è®¤å¼€å¯çš„ï¼Œå¹¶ä¸”éƒ½è¦å»ºç«‹åœ¨é€ƒé€¸åˆ†æçš„åŸºç¡€ä¸Š
    </p>
    <p>
     <strong>
      æ ˆä¸Šåˆ†é…
     </strong>
     å½“å¯¹è±¡æ²¡æœ‰å‘ç”Ÿé€ƒé€¸æ—¶ï¼Œè¯¥å¯¹è±¡å°±å¯ä»¥é€šè¿‡æ ‡é‡æ›¿æ¢åˆ†è§£æˆæˆå‘˜æ ‡é‡åˆ†é…åœ¨æ ˆå†…å­˜ä¸­ï¼Œå’Œæ–¹æ³•çš„ç”Ÿå‘½å‘¨æœŸä¸€è‡´ï¼Œéšç€æ ˆå¸§å‡ºæ ˆæ—¶é”€æ¯ï¼Œå‡å°‘äº† GC å‹åŠ›ï¼Œæé«˜äº†åº”ç”¨ç¨‹åºæ€§èƒ½
    </p>
    <h4>
     1.2æ–¹æ³•å†…è”
    </h4>
    <p>
     å¦‚æœå‘ç°æŸæ®µæ˜¯çƒ­ç‚¹æ–¹æ³•ï¼Œå¹¶ä¸”é•¿åº¦ä¸å¤ªé•¿æ—¶ï¼Œä¼šè¿›è¡Œå†…è”ï¼Œæ‰€è°“çš„å†…è”å°±æ˜¯æŠŠæ–¹æ³•å†…ä»£ç æ‹·è´ã€
    </p>
    <p>
     ç²˜è´´åˆ°è°ƒç”¨è€…çš„ä½ç½®è¿˜èƒ½å¤Ÿè¿›è¡Œå¸¸é‡æŠ˜å ï¼ˆconstant foldingï¼‰çš„ä¼˜åŒ–ã€‚
    </p>
    <p>
     ä¾‹å¦‚ï¼š
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/162c9e47f15c4dde8a55555650fb99e9.png"/>
    </p>
    <p>
     åœ¨æ‰§è¡Œ200å·¦å³å æ—¶é—´ä¼šä¸º0
    </p>
    <h4 style="background-color:transparent">
     1.3
     <strong>
      å­—æ®µä¼˜åŒ–
     </strong>
    </h4>
    <h3>
     2.åå°„ä¼˜åŒ–
    </h3>
    <pre>public class Reflect1 {
 Â  public static void foo() {
 Â  Â   System.out.println("foo...");
 Â  }
â€‹
 Â  public static void main(String[] args) throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {
 Â  Â   Method foo = Demo3.class.getMethod("foo");
 Â  Â   for(int i = 0; i&lt;=16; i++) {
 Â  Â  Â  Â  foo.invoke(null);
 Â  Â   }
 Â  }
}
â€‹</pre>
    <p>
     foo.invoke å‰é¢ 0 ~ 15 æ¬¡è°ƒç”¨ä½¿ç”¨çš„æ˜¯ MethodAccessor çš„ NativeMethodAccessorImpl å®ç° invoke æ–¹æ³•æºç 
    </p>
    <pre>@CallerSensitive
public Object invoke(Object obj, Object... args)
 Â   throws IllegalAccessException, IllegalArgumentException,
 Â  Â  Â  InvocationTargetException
{
 Â   if (!override) {
 Â  Â  Â   if (!Reflection.quickCheckMemberAccess(clazz, modifiers)) {
 Â  Â  Â  Â  Â   Class&lt;?&gt; caller = Reflection.getCallerClass();
 Â  Â  Â  Â  Â   checkAccess(caller, clazz, obj, modifiers);
 Â  Â  Â   }
 Â   }
 Â   //MethodAccessoræ˜¯ä¸€ä¸ªæ¥å£ï¼Œæœ‰3ä¸ªå®ç°ç±»ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæ˜¯æŠ½è±¡ç±»
 Â   MethodAccessor ma = methodAccessor; Â  Â  Â  Â  Â  Â  // read volatile
 Â   if (ma == null) {
 Â  Â  Â   ma = acquireMethodAccessor();
 Â   }
 Â   return ma.invoke(obj, args);
}
â€‹</pre>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/e1aea882eb0749718f2dd1a4187befd5.png"/>
    </p>
    <p>
     ä¼šç”± DelegatingMehodAccessorImpl å»è°ƒç”¨ NativeMethodAccessorImpl NativeMethodAccessorImpl æºç 
    </p>
    <pre>class NativeMethodAccessorImpl extends MethodAccessorImpl {
 Â   private final Method method;
 Â   private DelegatingMethodAccessorImpl parent;
 Â   private int numInvocations;
â€‹
 Â   NativeMethodAccessorImpl(Method var1) {
 Â  Â  Â   this.method = var1;
 Â   }
    
    //æ¯æ¬¡è¿›è¡Œåå°„è°ƒç”¨ï¼Œä¼šè®©numInvocationä¸ReflectionFactory.inflationThresholdçš„å€¼ï¼ˆ15ï¼‰è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶ä½¿ä½¿å¾—numInvocationçš„å€¼åŠ ä¸€
    //å¦‚æœnumInvocation&gt;ReflectionFactory.inflationThresholdï¼Œåˆ™ä¼šè°ƒç”¨æœ¬åœ°æ–¹æ³•invoke0æ–¹æ³•
 Â   public Object invoke(Object var1, Object[] var2) throws IllegalArgumentException, InvocationTargetException {
 Â  Â  Â   if (++this.numInvocations &gt; ReflectionFactory.inflationThreshold() &amp;&amp; !ReflectUtil.isVMAnonymousClass(this.method.getDeclaringClass())) {
 Â  Â  Â  Â  Â   MethodAccessorImpl var3 = (MethodAccessorImpl)(new MethodAccessorGenerator()).generateMethod(this.method.getDeclaringClass(), this.method.getName(), this.method.getParameterTypes(), this.method.getReturnType(), this.method.getExceptionTypes(), this.method.getModifiers());
 Â  Â  Â  Â  Â   this.parent.setDelegate(var3);
 Â  Â  Â   }
â€‹
 Â  Â  Â   return invoke0(this.method, var1, var2);
 Â   }
â€‹
 Â   void setParent(DelegatingMethodAccessorImpl var1) {
 Â  Â  Â   this.parent = var1;
 Â   }
â€‹
 Â   private static native Object invoke0(Method var0, Object var1, Object[] var2);
}
â€‹</pre>
    <pre>//ReflectionFactory.inflationThreshold()æ–¹æ³•çš„è¿”å›å€¼
private static int inflationThreshold = 15;
â€‹</pre>
    <ul>
     <li>
      <p>
       ä¸€å¼€å§‹ifæ¡ä»¶ä¸æ»¡è¶³ï¼Œå°±ä¼šè°ƒç”¨æœ¬åœ°æ–¹æ³• invoke0
      </p>
     </li>
     <li>
      <p>
       éšç€ numInvocation çš„å¢å¤§ï¼Œå½“å®ƒå¤§äº ReflectionFactory.inflationThreshold çš„å€¼ 16 æ—¶ï¼Œå°±ä¼šæœ¬åœ°æ–¹æ³•è®¿é—®å™¨æ›¿æ¢ä¸ºä¸€ä¸ªè¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆçš„è®¿é—®å™¨ï¼Œæ¥æé«˜æ•ˆç‡
      </p>
      <ul>
       <li style="text-align: center;">
        <p>
         è¿™æ—¶ä¼šä»åå°„è°ƒç”¨å˜ä¸ºæ­£å¸¸è°ƒç”¨ï¼Œå³ç›´æ¥è°ƒç”¨ Reflect1.foo()
        </p>
        <img alt="" src="https://i-blog.csdnimg.cn/direct/ebefdc8c03d645088b3e06aef405f8fa.png"/>
       </li>
      </ul>
     </li>
    </ul>
    <p>
     å·¥å…·ï¼š
     <a href="https://gitcode.com/gh_mirrors/ar/arthas?utm_source=highlight_word_gitcode&amp;word=arthas&amp;isLogin=1" title="GitCode - å…¨çƒå¼€å‘è€…çš„å¼€æºç¤¾åŒº,å¼€æºä»£ç æ‰˜ç®¡å¹³å°">
      GitCode - å…¨çƒå¼€å‘è€…çš„å¼€æºç¤¾åŒº,å¼€æºä»£ç æ‰˜ç®¡å¹³å°
     </a>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330325f37373432363533332f:61727469636c652f64657461696c732f313436303738373234" class_="artid" style="display:none">
 </p>
</div>


