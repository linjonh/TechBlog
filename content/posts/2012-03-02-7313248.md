---
layout: post
title: "java读取pdf文件内容"
date: 2012-03-02 17:48:35 +0800
description: "import java.io.File;    import java.io.FileOutputS"
keywords: "java pdfreader"
categories: ['Java']
tags: ['String', 'Output', 'Null', 'Java', 'Import', 'Exception']
artid: "7313248"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=7313248
    alt: "java读取pdf文件内容"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=7313248
featuredImagePreview: https://bing.ee123.net/img/rand?artid=7313248
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     java读取pdf文件内容
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     import java.io.File;
     <br/>
     import java.io.FileOutputStream;
     <br/>
     import java.io.OutputStreamWriter;
     <br/>
     import java.io.Writer;
     <br/>
     import java.net.MalformedURLException;
     <br/>
     import java.net.URL;
    </p>
    <p>
     import org.apache.pdfbox.pdmodel.PDDocument;
     <br/>
     import org.apache.pdfbox.util.PDFTextStripper;
    </p>
    <p>
     public class PdfReader {
     <br/>
     public void readFdf(String file) throws Exception {
     <br/>
     // 是否排序
     <br/>
     boolean sort = false;
     <br/>
     // pdf文件名
     <br/>
     String pdfFile = file;
     <br/>
     // 输入文本文件名称
     <br/>
     String textFile = null;
     <br/>
     // 编码方式
     <br/>
     String encoding = "UTF-8";
     <br/>
     // 开始提取页数
     <br/>
     int startPage = 1;
     <br/>
     // 结束提取页数
     <br/>
     int endPage = Integer.MAX_VALUE;
     <br/>
     // 文件输入流，生成文本文件
     <br/>
     Writer output = null;
     <br/>
     // 内存中存储的PDF Document
     <br/>
     PDDocument document = null;
     <br/>
     try {
     <br/>
     try {
     <br/>
     // 首先当作一个URL来装载文件，如果得到异常再从本地文件系统//去装载文件
     <br/>
     URL url = new URL(pdfFile);
     <br/>
     //注意参数已不是以前版本中的URL.而是File。
     <br/>
     document = PDDocument.load(pdfFile);
     <br/>
     // 获取PDF的文件名
     <br/>
     String fileName = url.getFile();
     <br/>
     // 以原来PDF的名称来命名新产生的txt文件
     <br/>
     if (fileName.length() &gt; 4) {
     <br/>
     File outputFile = new File(fileName.substring(0, fileName
     <br/>
     .length() - 4)
     <br/>
     + ".txt");
     <br/>
     textFile = outputFile.getName();
     <br/>
     }
     <br/>
     } catch (MalformedURLException e) {
     <br/>
     // 如果作为URL装载得到异常则从文件系统装载
     <br/>
     //注意参数已不是以前版本中的URL.而是File。
     <br/>
     document = PDDocument.load(pdfFile);
     <br/>
     if (pdfFile.length() &gt; 4) {
     <br/>
     textFile = pdfFile.substring(0, pdfFile.length() - 4)
     <br/>
     + ".txt";
     <br/>
     }
     <br/>
     }
     <br/>
     // 文件输入流，写入文件倒textFile
     <br/>
     output = new OutputStreamWriter(new FileOutputStream(textFile),
     <br/>
     encoding);
     <br/>
     // PDFTextStripper来提取文本
     <br/>
     PDFTextStripper stripper = null;
     <br/>
     stripper = new PDFTextStripper();
     <br/>
     // 设置是否排序
     <br/>
     stripper.setSortByPosition(sort);
     <br/>
     // 设置起始页
     <br/>
     stripper.setStartPage(startPage);
     <br/>
     // 设置结束页
     <br/>
     stripper.setEndPage(endPage);
     <br/>
     // 调用PDFTextStripper的writeText提取并输出文本
     <br/>
     stripper.writeText(document, output);
     <br/>
     } finally {
     <br/>
     if (output != null) {
     <br/>
     // 关闭输出流
     <br/>
     output.close();
     <br/>
     }
     <br/>
     if (document != null) {
     <br/>
     // 关闭PDF Document
     <br/>
     document.close();
     <br/>
     }
     <br/>
     }
     <br/>
     }
     <br/>
     /**
     <br/>
     * @param args
     <br/>
     */
     <br/>
     public static void main(String[] args) {
     <br/>
     // TODO Auto-generated method stub
     <br/>
     PdfReader pdfReader = new PdfReader();
     <br/>
     try {
     <br/>
     // 取得E盘下的SpringGuide.pdf的内容
     <br/>
     pdfReader.readFdf("d:\\b.pdf");
     <br/>
     } catch (Exception e) {
     <br/>
     e.printStackTrace();
     <br/>
     }
     <br/>
     }
     <br/>
    </p>
    <p>
     <br/>
     }
     <br/>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f77616e677869616f6a696e673132:332f61727469636c652f64657461696c732f37333133323438" class_="artid" style="display:none">
 </p>
</div>


