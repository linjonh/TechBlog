---
layout: post
title: "Linux-Vim-鼠标不能右键粘贴跨系统复制粘贴"
date: 2025-03-06 01:14:53 +0800
description: "……"
keywords: "linux vi 无法粘贴"
categories: ['Linux']
tags: ['Vim', 'Linux']
artid: "146054924"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146054924
    alt: "Linux-Vim-鼠标不能右键粘贴跨系统复制粘贴"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146054924
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146054924
cover: https://bing.ee123.net/img/rand?artid=146054924
image: https://bing.ee123.net/img/rand?artid=146054924
img: https://bing.ee123.net/img/rand?artid=146054924
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Linux | Vim 鼠标不能右键粘贴、跨系统复制粘贴
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     <strong>
      注：本文为 “ Vim 中鼠标右键粘贴、跨系统复制粘贴问题解决方案” 相关文章合辑
     </strong>
     。
    </p>
    <p>
     未整理去重。
    </p>
    <hr/>
    <h2>
     <a id="Linux_vim__5">
     </a>
     Linux 入门：vim 鼠标不能右键粘贴、跨系统复制粘贴
    </h2>
    <p>
     <em>
      foryouslgme 发布时间 2016 - 09 - 28 10:24:16
     </em>
    </p>
    <h4>
     <a id="Vim_10">
     </a>
     Vim基础
    </h4>
    <ol>
     <li>
      命令模式(command-mode)
     </li>
     <li>
      插入模式(insert-mode)
     </li>
     <li>
      可视模式(visual-mode)
     </li>
     <li>
      正常模式(normal-mode) （普通模式）
     </li>
    </ol>
    <ul>
     <li>
      正常模式
      <br/>
      正常模式主要用来浏览和修改文本内容的，一般的，打开Vim都是正常模式。
      <br/>
      <strong>
       进入正常模式：
      </strong>
      <code>
       在任何模式下，只要按下 Esc 键就可以返回正常模式
      </code>
     </li>
     <li>
      插入模式
      <br/>
      插入模式则用来修改文本的
      <br/>
      <strong>
       进入插入模式：
      </strong>
      <code>
       正常模式 + 插入符
      </code>
      ，如下插入符:
     </li>
    </ul>
    <blockquote>
     <p>
      <code>
       i
      </code>
      在光标所在字符前开始输入文字并进入插入模式
      <br/>
      <code>
       a
      </code>
      在光标所在字符后开始输入文字并进入插入模式
      <br/>
      <code>
       A
      </code>
      在行尾开始输入文字并进入插入模式。
      <br/>
      <code>
       o
      </code>
      (字母 o) 在光标所在行的下面单独开一新行来输入文字并进入插入模式
      <br/>
      <code>
       O
      </code>
      (大写字母 O) 在光标所在行的上面单独开一新行来输入文字并进入插入模式。
      <br/>
      <code>
       s
      </code>
      删除光标所在的字符并进入插入模式
      <br/>
      <code>
       I
      </code>
      在行首开始输入文字并进入插入模式。
      <br/>
      <code>
       S
      </code>
      删除光标所在行并进入插入模式
      <br/>
      <code>
       G
      </code>
      文章末尾
      <br/>
      <code>
       crtl + f
      </code>
      向下翻页
      <br/>
      <code>
       ctrl + b
      </code>
      向上翻页
     </p>
    </blockquote>
    <ul>
     <li>
      可视模式
      <br/>
      可视模式相当于高亮选取文本后的普通模式，可视模式具有子模式，以行为单位进行选取的可视行模式，使用“V”键进入和以块为单位进行选取的可视块模式，使用“Ctrl+v”键进入。
      <br/>
      <strong>
       进入可视模式：
      </strong>
      <code>
       正常模式 + ctrl + v|V
      </code>
     </li>
     <li>
      命令模式
      <br/>
      命令模式则多用于操作文本文件（而不是操作文本文件的内容），例如保存文件；或者用来改变编辑器本身的状态，例如设定多栏窗口、标签或者退出编辑器……
      <br/>
      <strong>
       进入命令模式：
      </strong>
      <code>
       按esc + : command
      </code>
      <br/>
      如：
      <code>
       :w
      </code>
      保存当前文件不退出，
      <code>
       :q!
      </code>
      强制退出，
      <code>
       :x
      </code>
      保存且退出
     </li>
    </ul>
    <h4>
     <a id="_44">
     </a>
     正题（不能右键粘贴设置方法）
    </h4>
    <p>
     用vim时，鼠标右键不能粘贴而是进入了visual模式，解决方法：
    </p>
    <p>
     <strong>
      方法一：
     </strong>
    </p>
    <pre><code class="prism language-bash">:set mouse-<span class="token operator">=</span>a
<span class="token number">1</span>
</code></pre>
    <p>
     <strong>
      方法二：
     </strong>
    </p>
    <blockquote>
     <p>
      编辑 ~/.vimrc 文件，加入如下代码：
     </p>
    </blockquote>
    <pre><code class="prism language-bash"><span class="token keyword">if</span> has<span class="token punctuation">(</span><span class="token string">'mouse'</span><span class="token punctuation">)</span> 
	<span class="token builtin class-name">set</span> mouse-<span class="token operator">=</span>a 
endif 
<span class="token number">123</span>
</code></pre>
    <p>
     <code>
      set mouse=a
     </code>
     【这个是用来开启鼠标功能的，a表示所有模式】
    </p>
    <h4>
     <a id="_68">
     </a>
     附
    </h4>
    <p>
     vi的三种模式:
     <code>
      命令模式
     </code>
     、
     <code>
      插入模式
     </code>
     、
     <code>
      可视模式
     </code>
     。鼠标可以启动于各种模式中:
    </p>
    <blockquote>
     <p>
      The mouse can be enabled for different modes:
      <br/>
      <code>
       n
      </code>
      Normal mode
      <br/>
      <code>
       v
      </code>
      Visual mode
      <br/>
      <code>
       i
      </code>
      Insert mode
      <br/>
      <code>
       c
      </code>
      Command-line mode
      <br/>
      <code>
       h
      </code>
      all previous modes when editing a help file
      <br/>
      <code>
       a
      </code>
      all previous modes
      <br/>
      <code>
       r
      </code>
      for |hit-enter| and |more-prompt| prompt
     </p>
    </blockquote>
    <blockquote>
     <p>
      Normally you would enable the mouse in all four modes with:
      <br/>
      <code>
       :set mouse=a
      </code>
      <br/>
      When the mouse is not enabled, the GUI will still use the mouse for
      <br/>
      modeless selection. This doesn’t move the text cursor.
     </p>
    </blockquote>
    <p>
     所以配置文件中的
     <code>
      set mouse=a
     </code>
     启动了所有模式，这样就屏蔽了鼠标右健功能。
    </p>
    <p>
     查看之前的复制内容
    </p>
    <p>
     <code>
      :reg
     </code>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/776293654b8dcb275e43c5179e351167.png" width="700">
      <br/>
      <code>
       &gt;&gt;&gt;&gt;&gt;&gt;
      </code>
      和
      <code>
       &lt;&lt;&lt;&lt;&lt;&lt;
      </code>
      等和
      <code>
       git
      </code>
      中的修改记录一样。
     </img>
    </p>
    <hr/>
    <h2>
     <a id="Vim_Vim__97">
     </a>
     Vim 配置#Vim 中使用鼠标功能
    </h2>
    <p>
     <em>
      马丁路德彬 发布时间 2017 - 02 - 10 11:53:47
     </em>
    </p>
    <h3>
     <a id="1_100">
     </a>
     1、简介
    </h3>
    <p>
     近期使用 vim 时，发现 vim 也可使用鼠标，本章主要介绍如何启用鼠标功能。
    </p>
    <h3>
     <a id="2_103">
     </a>
     2、打开鼠标功能
    </h3>
    <p>
     在命令模式下输入
     <code>
      :set mouse=a
     </code>
     。
    </p>
    <h3>
     <a id="3_106">
     </a>
     3、关闭鼠标功能
    </h3>
    <p>
     在命令模式下输入
     <code>
      :set mouse-=a
     </code>
     。
    </p>
    <h3>
     <a id="4_109">
     </a>
     4、鼠标模式
    </h3>
    <p>
     <code>
      ‘mouse’
     </code>
     的参数说明如下：
    </p>
    <pre><code>// n  普通模式
// v  可视模式
// i 插入模式
// c 命令行模式
// h 在帮助文件里，以上所有模式
// a 以上所有模式
// r 跳过|lit - enter|提示
// A 在可是模式下自动选择
</code></pre>
    <p>
     <code>
      'mouse'
     </code>
     的缺省值为空，即默认不使用鼠标。通常可使用
     <code>
      :set mouse=a
     </code>
     来启用鼠标（此设置等价于将
     <code>
      'mouse'
     </code>
     设为 “nvich”）。若只想在某些模式或特定任务中使用鼠标，需关注对应模式的字母，例如：
    </p>
    <ul>
     <li>
      <code>
       :set mouse=nv
      </code>
      ：使鼠标在普通模式和可视模式下可用。
     </li>
     <li>
      <code>
       :set mouse=h
      </code>
      ：使鼠标仅在帮助文件中可用（可通过 “g” 实现标签跳转）。
     </li>
    </ul>
    <p>
     鼠标能否在可视模式或选择模式下开始选择，取决于 “selectmode” 选项是否包含 “mouse”。
    </p>
    <h3>
     <a id="5_127">
     </a>
     5、解决鼠标模式右键不能粘贴问题
    </h3>
    <p>
     在设置了
     <code>
      'mouse'
     </code>
     选项（见上文）的情况下，使用鼠标和可视模式进行复制/粘贴的步骤如下：
    </p>
    <ol>
     <li>
      在文本的第一个字符上按鼠标左键，移动鼠标到文本的最后一个字母，然后释放左键。这将启动可视模式并高亮选择区域。
     </li>
     <li>
      按 “y” 将可视文本抽出到无名寄存器中。
     </li>
     <li>
      在要插入的位置上按鼠标左键。
     </li>
     <li>
      按鼠标中键（滚轮）进行粘贴。
     </li>
    </ol>
    <hr/>
    <h2>
     <a id="_vim__136">
     </a>
     解决配置 vim 之后不能鼠标右键复制问题
    </h2>
    <p>
     <em>
      路安在 发布时间：2022 - 05 - 21 12:31:30
     </em>
    </p>
    <h3>
     <a id="_139">
     </a>
     问题描述
    </h3>
    <p>
     配置完 vim 后，无法使用鼠标右键进行复制和粘贴，但从 vim 外复制的内容可通过鼠标右键粘贴。
    </p>
    <h3>
     <a id="_142">
     </a>
     解决问题过程
    </h3>
    <p>
     起初，尝试对
     <code>
      vimrc
     </code>
     文件中有关复制的命令进行注释和删除，但均未解决问题，
     <code>
      CTRL + c
     </code>
     、
     <code>
      ctrl + v
     </code>
     也无法使用。
     <br/>
     随后，搜索浏览网上解答，部分回答称选中需要复制的内容后按键盘上的
     <code>
      y
     </code>
     即可复制，但实际操作时，选中内容未复制成功且被
     <code>
      y
     </code>
     字母覆盖。
     <br/>
     最终，通过参考
     <a href="https://blog.csdn.net/victoryckl/article/details/8122012">
      https://blog.csdn.net/victoryckl/article/details/8122012
     </a>
     解决了问题。
    </p>
    <h3>
     <a id="_147">
     </a>
     解决方法
    </h3>
    <h4>
     <a id="_149">
     </a>
     常规复制粘贴
    </h4>
    <ol>
     <li>
      先将光标置于要粘贴的位置或空白处。
     </li>
     <li>
      找到要复制的语句，在键盘上一直按住
      <code>
       shift
      </code>
      ，再用鼠标左键选中，然后点击鼠标滑轮，选中的语句或内容将直接粘贴到光标所在位置，无需使用
      <code>
       crtl + V
      </code>
      。
     </li>
    </ol>
    <h4>
     <a id="_153">
     </a>
     跨界面复制粘贴
    </h4>
    <ol>
     <li>
      在 Vim 界面中，直接找到需要复制的语句，先按住
      <code>
       shift
      </code>
      ，再用鼠标左键选中。
     </li>
     <li>
      无需点击鼠标滑轮。
     </li>
     <li>
      切换到其他界面，通过鼠标右键进行粘贴。
     </li>
    </ol>
    <h3>
     <a id="_158">
     </a>
     总结
    </h3>
    <ul>
     <li>
      复制：按住
      <code>
       shift
      </code>
      ，再用鼠标左键选中。
     </li>
     <li>
      粘贴：点击鼠标滑轮，内容将直接粘贴到光标位置。
     </li>
    </ul>
    <hr/>
    <h2>
     <a id="Vim____164">
     </a>
     Vim 全局配置 / 设置鼠标模式
    </h2>
    <p>
     <em>
      BrandonPei 发布时间 2023 - 12 - 03 15:10
     </em>
    </p>
    <p>
     在新安装的 Linux（Debian）系统上，vim 一右击粘贴就进入 insert（Visual）模式。经查询，需设置
     <code>
      set mouse=
     </code>
     ，但每次设置较为麻烦，同时还想修改全局配色。
    </p>
    <h3>
     <a id="_169">
     </a>
     定位全局配置文件
    </h3>
    <p>
     有博客指出，在
     <code>
      /usr/share/vim/share/...
     </code>
     下有个
     <code>
      vimrc
     </code>
     文件，但不同系统或版本可能存在差异。一般先在
     <code>
      /usr/share/vim
     </code>
     目录下查找，在此找到了
     <code>
      /usr/share/vim/vimrc
     </code>
     文件，文件末尾有如下几行：
    </p>
    <pre><code class="prism language-vim">" Source a global configuration file if available
if filereadable("/etc/vim/vimrc.local")
    source /etc/vim/vimrc.local
endif
</code></pre>
    <p>
     由此可知，应修改
     <code>
      /etc/vim/vimrc.local
     </code>
     文件。分析为何设置
     <code>
      vimrc.local
     </code>
     而非直接修改原文件：vim 每次更新后可能修改默认配置，直接修改会在更新时产生冲突，而
     <code>
      local
     </code>
     表示本地配置，与上游 vim 配置无关。
    </p>
    <p>
     最终在
     <code>
      /etc/vim/vimrc.local
     </code>
     文件中添加如下内容：
    </p>
    <pre><code class="prism language-vim">set mouse=
colorscheme slate
</code></pre>
    <p>
     <strong>
      补充说明
     </strong>
     ：
     <br/>
     经实测，在上述位置添加
     <code>
      set mouse=
     </code>
     不会生效。
     <br/>
     参考
    </p>
    <ul>
     <li>
      vim 设置 mouse 行为不生效 - 简书
      <br/>
      <a href="https://www.jianshu.com/p/29744bae5f3d" rel="nofollow">
       https://www.jianshu.com/p/29744bae5f3d
      </a>
     </li>
    </ul>
    <p>
     可知，鼠标行为在
     <code>
      vimrc.local
     </code>
     之后加载。因此，有两种解决方法：
    </p>
    <ol>
     <li>
      <p>
       在
       <code>
        /etc/vim/vimrc.local
       </code>
       中添加
       <code>
        let skip_defaults_vim = 1
       </code>
       。
      </p>
     </li>
     <li>
      <p>
       在要用的 root 用户主目录下创建
       <code>
        .vimrc
       </code>
       文件，但这样会导致 root 用户没有代码高亮。
      </p>
      <p>
       解决办法是在
       <code>
        ~/.vimrc
       </code>
       中添加一句
       <code>
        source
       </code>
       ，即：
      </p>
     </li>
    </ol>
    <pre><code class="prism language-vim">source $VIMRUNTIME/defaults.vim
set mouse=""
</code></pre>
    <p>
     <strong>
      补充说明 2
     </strong>
     ：
     <br/>
     考虑到鼠标模式较为有用，可设置快捷键以便快速切换鼠标和非鼠标模式。在
     <code>
      /etc/vim/vimrc.local
     </code>
     中添加以下代码：
    </p>
    <pre><code class="prism language-vim">map &lt;F9&gt; &lt;ESC&gt;:call Mouse()&lt;CR&gt;
 
function Mouse()
    if has('mouse')
        if &amp;mouse==""
            :set mouse=a
            :echo "mouse enabled"
        else
            :set mouse=""
            :echo "mouse disabled"
        endif
    else
        :echo "no mouse"
    endif
endfunction
</code></pre>
    <p>
     上述代码中，
     <code>
      map
     </code>
     命令将 F9 按键绑定到
     <code>
      &lt;ESC&gt;:call Mouse()&lt;CR&gt;
     </code>
     。其中，
     <code>
      ESC
     </code>
     用于应对已进入 Visual 模式的情况，先退出该模式，再执行函数；
     <code>
      CR
     </code>
     表示换行，用于应用命令。函数中
     <code>
      &amp;mouse
     </code>
     表示获取 vim 中
     <code>
      mouse
     </code>
     选项的值。
    </p>
    <hr/>
    <h2>
     <a id="vim__mouse__224">
     </a>
     vim 设置 mouse 行为不生效
    </h2>
    <p>
     sarto 属地：陕西 发布时间 2021.04.01 10:00:56
    </p>
    <h3>
     <a id="vim__debina__228">
     </a>
     vim 在 debina 下的运行环境
    </h3>
    <p>
     在 vim 中输入
     <code>
      :echo $VIMRUNTIME
     </code>
     ，会显示
     <code>
      /usr/share/vim/vim81
     </code>
     ，此为 debian vim 运行环境的路径。
    </p>
    <h3>
     <a id="vim__vimrc__mouse__231">
     </a>
     vim 中在 vimrc 中修改 mouse 不生效的问题
    </h3>
    <p>
     在
     <code>
      vimrc
     </code>
     中设置
     <code>
      vimrc-=a
     </code>
     未生效，经查找发现，
     <code>
      /usr/share/vim/vim81/defaults.vim
     </code>
     中默认的鼠标行为影响了
     <code>
      vimrc
     </code>
     的配置。将该文件中如下代码：
    </p>
    <pre><code class="prism language-notranslate">78 if has('mouse')
79   set mouse=a
80 endif
</code></pre>
    <p>
     的
     <code>
      set mouse=a
     </code>
     改为
     <code>
      set mouse-=a
     </code>
     即可。
    </p>
    <p>
     最后编辑时间：2021.04.01 10:01:14
    </p>
    <hr/>
    <h2>
     <a id="vim__244">
     </a>
     vim 鼠标右键无法复制
    </h2>
    <p>
     <em>
      jeensung 发布时间 2010 - 12 - 14 20:20:32
     </em>
    </p>
    <p>
     修改
     <code>
      ～/.vimrc
     </code>
     文件后，发现鼠标右键无法复制文本。在配置文件（
     <code>
      ~/.vimrc
     </code>
     ）中发现如下内容：
    </p>
    <pre><code>11 " In many terminal emulators the mouse works just fine, thus enable it.
12 if has('mouse')
13     set mouse=a
14 endif
</code></pre>
    <p>
     在 vim 帮助文件中，关于鼠标模式有如下解释：
    </p>
    <pre><code>The mouse can be enabled for different modes:
        n    Normal mode
        v    Visual mode
        i    Insert mode
        c    Command - line mode
        h    all previous modes when editing a help file
        a    all previous modes
        r    for |hit - enter| and |more - prompt| prompt
Normally you would enable the mouse in all four modes with:
        :set mouse=a
When the mouse is not enabled, the GUI will still use the mouse for
modeless selection. This doesn't move the text cursor.
</code></pre>
    <p>
     可见，配置文件中的
     <code>
      set mouse=a
     </code>
     启用了所有模式，导致 vim 接管了鼠标控制。
    </p>
    <p>
     鼠标事件有程序处理和 X 处理两种方式。若由 X 负责处理，则是左键选择，中间粘贴。要让 vim 中由 X 负责处理，有以下两种方法：
    </p>
    <ol>
     <li>
      按住
      <code>
       shift
      </code>
      键进行选择，此时由 X 处理该选择，
      <code>
       copy
      </code>
      选项将启用。若松开
      <code>
       shift
      </code>
      键，则由 vim 处理该选择。
     </li>
     <li>
      在
      <code>
       .vimrc
      </code>
      中设置
      <code>
       set mouse=
      </code>
      （即清空），此时 vim 不再干涉鼠标选择，始终将处理权交给 X。这种情况下，鼠标处于无模式编辑状态，也可使用鼠标切换 vim 中的 tab 窗口，且 vim 中的编辑光标不会跟随鼠标。
     </li>
    </ol>
    <h3>
     <a id="_276">
     </a>
     参考链接
    </h3>
    <ul>
     <li>
      <p>
       Linux 入门：vim 鼠标不能右键粘贴、跨系统复制粘贴_vim 中当鼠标右键功能无法使用时，如何开启 - CSDN 博客
       <br/>
       -
       <a href="https://blog.csdn.net/foryouslgme/article/details/52688285">
        https://blog.csdn.net/foryouslgme/article/details/52688285
       </a>
      </p>
     </li>
     <li>
      <p>
       Vim 配置#Vim 中使用鼠标功能_zsh vim 鼠标插入模式 - CSDN 博客
       <br/>
       <a href="https://blog.csdn.net/qq_27968607/article/details/54966912">
        https://blog.csdn.net/qq_27968607/article/details/54966912
       </a>
      </p>
     </li>
     <li>
      <p>
       解决配置 vim 之后不能鼠标右键复制问题_vim 里的鼠标右键 - CSDN 博客
       <br/>
       <a href="https://blog.csdn.net/weixin_51622761/article/details/124895911">
        https://blog.csdn.net/weixin_51622761/article/details/124895911
       </a>
      </p>
     </li>
     <li>
      <p>
       Vim 鼠标配置详解 - CSDN 博客
       <br/>
       <a href="https://blog.csdn.net/victoryckl/article/details/8122012">
        https://blog.csdn.net/victoryckl/article/details/8122012
       </a>
      </p>
     </li>
     <li>
      <p>
       Vim 全局配置 / 设置鼠标模式 - BrandonPei - 博客园
       <br/>
       <a href="https://www.cnblogs.com/BrandonPei/p/17873231.html" rel="nofollow">
        https://www.cnblogs.com/BrandonPei/p/17873231.html
       </a>
      </p>
     </li>
     <li>
      <p>
       vim 设置 mouse 行为不生效 - 简书
       <br/>
       <a href="https://www.jianshu.com/p/29744bae5f3d" rel="nofollow">
        https://www.jianshu.com/p/29744bae5f3d
       </a>
      </p>
     </li>
     <li>
      <p>
       vim 鼠标右键无法复制_jeensung_新浪博客
       <br/>
       <a href="http://blog.sina.com.cn/s/blog_622d95080100ny94.html" rel="nofollow">
        http://blog.sina.com.cn/s/blog_622d95080100ny94.html
       </a>
      </p>
     </li>
    </ul>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f753031333636393931322f:61727469636c652f64657461696c732f313436303534393234" class_="artid" style="display:none">
 </p>
</div>


