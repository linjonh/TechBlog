---
layout: post
title: "VisionProVisionMaster-多模板匹配分类大球刀小球刀尖刀三角刀"
date: 2025-03-05 16:58:57 +0800
description: "介绍visionpro实现多模板匹配，visionmaster最基础的多模板匹配"
keywords: "visionmaster区分不同物体类型"
categories: ['Visionpro']
tags: ['机器学习', '开发语言', '图像处理', 'Visionpro', 'Visionmaster']
artid: "146046287"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146046287
    alt: "VisionProVisionMaster-多模板匹配分类大球刀小球刀尖刀三角刀"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146046287
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146046287
cover: https://bing.ee123.net/img/rand?artid=146046287
image: https://bing.ee123.net/img/rand?artid=146046287
img: https://bing.ee123.net/img/rand?artid=146046287
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     VisionPro、VisionMaster 多模板匹配分类（大球刀、小球刀、尖刀、三角刀）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2>
     VisionPro
    </h2>
    <p>
     <img alt="" height="558" src="https://i-blog.csdnimg.cn/direct/3295b37b891641c79aa3bc56e706cb33.png" width="1263"/>
    </p>
    <h2>
     VisionMaster
    </h2>
    <p>
     <img alt="" height="768" src="https://i-blog.csdnimg.cn/direct/5c00c0ddde0f4a4f83bb573f9f5cdb8a.png" width="1366"/>
    </p>
    <hr/>
    <h3>
     分类：大球刀、小球刀、尖刀、三角刀
    </h3>
    <p>
     <img alt="" height="492" src="https://i-blog.csdnimg.cn/direct/217271512a9b4407a51a708f8c1d30f5.png" width="629"/>
    </p>
    <h3>
     VisionPro  实现
    </h3>
    <h4>
     使用多模板匹配工具
    </h4>
    <p>
     <img alt="" height="451" src="https://i-blog.csdnimg.cn/direct/49047091c5e84144a5feebc74eba1bca.png" width="982"/>
    </p>
    <h4>
     设置参数
    </h4>
    <p>
     <img alt="" height="484" src="https://i-blog.csdnimg.cn/direct/5fa4f7f31c0e4c3cb12f9fdd6c11aaaa.png" width="750"/>
    </p>
    <p>
     <img alt="" height="484" src="https://i-blog.csdnimg.cn/direct/766e5e74afc14dceb1c27221d5cd062a.png" width="750"/>
    </p>
    <h4>
     小球刀
    </h4>
    <h4>
     <img alt="" height="506" src="https://i-blog.csdnimg.cn/direct/59f8069b49c7476788a5e0036761ab25.png" width="1023">
      大球刀
     </img>
    </h4>
    <p>
     <img alt="" height="506" src="https://i-blog.csdnimg.cn/direct/28e04aa9a5184827ad18899d1888e8ff.png" width="1023"/>
    </p>
    <h4>
     尖刀
    </h4>
    <h4>
     <img alt="" height="506" src="https://i-blog.csdnimg.cn/direct/5cc5516acb484ee990ca8f198201b541.png" width="1023"/>
    </h4>
    <h4>
     三角刀
    </h4>
    <p>
     <img alt="" height="506" src="https://i-blog.csdnimg.cn/direct/4b3bdd5012fa4e1eb2f75d66e4a989c9.png" width="1023"/>
    </p>
    <h4>
     <img alt="" height="484" src="https://i-blog.csdnimg.cn/direct/3044a7ba14bf4023b75be3c2328d1eeb.png" width="750"/>
    </h4>
    <p>
     <img alt="" height="484" src="https://i-blog.csdnimg.cn/direct/e2e98ec425064028943b8035fb998cd8.png" width="750"/>
    </p>
    <h4>
     右键添加终端
    </h4>
    <p>
     <img alt="" height="532" src="https://i-blog.csdnimg.cn/direct/1d30f5fcfb504fd4803bb1d3cf510904.png" width="1097"/>
    </p>
    <h4>
     代码实现
    </h4>
    <h5>
     1.声明文本显示
    </h5>
    <pre><code class="language-cs"> CogGraphicLabel label = new CogGraphicLabel();</code></pre>
    <h5>
     2.找到工具
    </h5>
    <pre><code class="language-cs">CogPMAlignMultiTool pma = mToolBlock.Tools["CogPMAlignMultiTool1"]as CogPMAlignMultiTool;</code></pre>
    <h5>
     3.声明类名
    </h5>
    <pre><code class="language-cs">   
    string s = pma.Results.PMAlignResults[0].ModelName;
    label.Alignment = CogGraphicLabelAlignmentConstants.TopLeft;
    label.SetXYText(10, 10, s);
    label.Color = CogColorConstants.Red;</code></pre>
    <h5>
     4.显示图片上
    </h5>
    <pre><code class="language-cs"> mToolBlock.AddGraphicToRunRecord(label, lastRecord, "CogPMAlignMultiTool1.InputImage", "");</code></pre>
    <h5>
     5.总体需要写的代码
    </h5>
    <pre><code class="language-cs">CogGraphicLabel label = new CogGraphicLabel();
CogPMAlignMultiTool pma = mToolBlock.Tools["CogPMAlignMultiTool1"]as CogPMAlignMultiTool;
string s = pma.Results.PMAlignResults[0].ModelName;
    label.Alignment = CogGraphicLabelAlignmentConstants.TopLeft;
    label.SetXYText(10, 10, s);
    label.Color = CogColorConstants.Red;
mToolBlock.AddGraphicToRunRecord(label, lastRecord, "CogPMAlignMultiTool1.InputImage", "");</code></pre>
    <h5>
     给大家放的cv代码
    </h5>
    <pre><code class="language-cs">#region namespace imports
using System;
using System.Collections;
using System.Drawing;
using System.IO;
using System.Windows.Forms;
using Cognex.VisionPro;
using Cognex.VisionPro.ToolBlock;
using Cognex.VisionPro3D;
using Cognex.VisionPro.PMAlign;
#endregion

public class CogToolBlockAdvancedScript : CogToolBlockAdvancedScriptBase
{
  #region Private Member Variables
  private Cognex.VisionPro.ToolBlock.CogToolBlock mToolBlock;
  #endregion
  CogGraphicLabel label = new CogGraphicLabel();
  /// &lt;summary&gt;
  /// Called when the parent tool is run.
  /// Add code here to customize or replace the normal run behavior.
  /// &lt;/summary&gt;
  /// &lt;param name="message"&gt;Sets the Message in the tool's RunStatus.&lt;/param&gt;
  /// &lt;param name="result"&gt;Sets the Result in the tool's RunStatus&lt;/param&gt;
  /// &lt;returns&gt;True if the tool should run normally,
  ///          False if GroupRun customizes run behavior&lt;/returns&gt;
  public override bool GroupRun(ref string message, ref CogToolResultConstants result)
  {
    // To let the execution stop in this script when a debugger is attached, uncomment the following lines.
    // #if DEBUG
    // if (System.Diagnostics.Debugger.IsAttached) System.Diagnostics.Debugger.Break();
    // #endif
    CogPMAlignMultiTool pma = mToolBlock.Tools["CogPMAlignMultiTool1"]as CogPMAlignMultiTool;

    // Run each tool using the RunTool function
    foreach(ICogTool tool in mToolBlock.Tools)
      mToolBlock.RunTool(tool, ref message, ref result);
   
    
    string s = pma.Results.PMAlignResults[0].ModelName;
    label.Alignment = CogGraphicLabelAlignmentConstants.TopLeft;
    label.SetXYText(10, 10, s);
    label.Color = CogColorConstants.Red;
    

    

    return false;
  }

  #region When the Current Run Record is Created
  /// &lt;summary&gt;
  /// Called when the current record may have changed and is being reconstructed
  /// &lt;/summary&gt;
  /// &lt;param name="currentRecord"&gt;
  /// The new currentRecord is available to be initialized or customized.&lt;/param&gt;
  public override void ModifyCurrentRunRecord(Cognex.VisionPro.ICogRecord currentRecord)
  {
  }
  #endregion

  #region When the Last Run Record is Created
  /// &lt;summary&gt;
  /// Called when the last run record may have changed and is being reconstructed
  /// &lt;/summary&gt;
  /// &lt;param name="lastRecord"&gt;
  /// The new last run record is available to be initialized or customized.&lt;/param&gt;
  public override void ModifyLastRunRecord(Cognex.VisionPro.ICogRecord lastRecord)
  {
    mToolBlock.AddGraphicToRunRecord(label, lastRecord, "CogPMAlignMultiTool1.InputImage", "");
  }
  #endregion

  #region When the Script is Initialized
  /// &lt;summary&gt;
  /// Perform any initialization required by your script here
  /// &lt;/summary&gt;
  /// &lt;param name="host"&gt;The host tool&lt;/param&gt;
  public override void Initialize(Cognex.VisionPro.ToolGroup.CogToolGroup host)
  {
    // DO NOT REMOVE - Call the base class implementation first - DO NOT REMOVE
    base.Initialize(host);


    // Store a local copy of the script host
    this.mToolBlock = ((Cognex.VisionPro.ToolBlock.CogToolBlock)(host));
  }
  #endregion

}

</code></pre>
    <hr/>
    <h3 style="background-color:transparent">
     VisionMaster 实现
    </h3>
    <p>
     <img alt="" height="360" src="https://i-blog.csdnimg.cn/direct/87f860429b564a758f2e117816ed90db.gif" width="640"/>
    </p>
    <p>
     <img alt="" height="768" src="https://i-blog.csdnimg.cn/direct/47f0bbbe7a82495d8548fc504b4b74ad.png" width="1366"/>
    </p>
    <p>
     <img alt="" height="768" src="https://i-blog.csdnimg.cn/direct/2746442020fe47458006040d99f92979.png" width="1366"/>
    </p>
    <p>
     <img alt="" height="768" src="https://i-blog.csdnimg.cn/direct/e94982cbbe9d409a90c6c719bc589c37.png" width="1366"/>
     <img alt="" height="420" src="https://i-blog.csdnimg.cn/direct/ea2095478e7f4649950f255a9ac61056.png" width="380"/>
     <img alt="" height="534" src="https://i-blog.csdnimg.cn/direct/13f141a564834b9cb7b307f981c228d1.png" width="820"/>
    </p>
    <p>
     <img alt="" height="768" src="https://i-blog.csdnimg.cn/direct/5a60101504674b36936af60da0085bdf.png" width="1366"/>
     <img alt="" height="768" src="https://i-blog.csdnimg.cn/direct/1aa62e0a47224358b03dd368529f81b3.png" width="1366"/>
     <img alt="" height="420" src="https://i-blog.csdnimg.cn/direct/fb58f86835b44d399ef147f19aef3bbd.png" width="380"/>
     <img alt="" height="768" src="https://i-blog.csdnimg.cn/direct/705f604e661840c7a511eb1643f08de0.png" width="1366"/>
    </p>
    <h4 style="background-color:transparent">
     点击运行，进行下面的操作
    </h4>
    <p>
     <img alt="" height="768" src="https://i-blog.csdnimg.cn/direct/e4ba84adb5e644edb00c33c8622bd48f.png" width="1366"/>
    </p>
    <p>
     <img alt="" height="420" src="https://i-blog.csdnimg.cn/direct/de86308d5db648079f9261f954c842af.png" width="380"/>
     <img alt="" height="420" src="https://i-blog.csdnimg.cn/direct/5ff4e8d8b9964456b6149f1136493f91.png" width="380"/>
     <img alt="" height="534" src="https://i-blog.csdnimg.cn/direct/4af42485e1db45728ef2fe53f1cdccf7.png" width="820"/>
     <img alt="" height="534" src="https://i-blog.csdnimg.cn/direct/8b5a9eb4e000446cb974cad2770287e2.png" width="820"/>
     <img alt="" height="534" src="https://i-blog.csdnimg.cn/direct/6856b11aaf4342ceaa052c639ab113f4.png" width="820"/>
     <img alt="" height="534" src="https://i-blog.csdnimg.cn/direct/6b251e9457694193a5524136945c9e15.png" width="820"/>
    </p>
    <p>
     <img alt="" height="768" src="https://i-blog.csdnimg.cn/direct/16418516e67e49b5a448fc538db73d4c.png" width="1366"/>
     <img alt="" height="768" src="https://i-blog.csdnimg.cn/direct/48e69cdacb234ceab9df0885fae6447a.png" width="1366"/>
     <img alt="" height="448" src="https://i-blog.csdnimg.cn/direct/740816c9746c4a30bbdc5d168956a229.png" width="680"/>
    </p>
    <p>
     <img alt="" height="448" src="https://i-blog.csdnimg.cn/direct/1bf3fcc251aa492882cfa43563cae6fc.png" width="680"/>
     <img alt="" height="448" src="https://i-blog.csdnimg.cn/direct/e4eb44485df840a4a3bfd3a47f41bd7b.png" width="680"/>
     <img alt="" height="448" src="https://i-blog.csdnimg.cn/direct/ae578c502a5541e2ad87b1bc5ec4ac69.png" width="680"/>
    </p>
    <p>
     <img alt="" height="448" src="https://i-blog.csdnimg.cn/direct/eb04eeca0b4f454c8893580f03fc51b4.png" width="680"/>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323430335f38383932333935332f:61727469636c652f64657461696c732f313436303436323837" class_="artid" style="display:none">
 </p>
</div>


