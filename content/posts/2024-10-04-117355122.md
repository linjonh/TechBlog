---
arturl_encode: "68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f32393533383439372f:61727469636c652f64657461696c732f313137333535313232"
layout: post
title: "harmonyos融合搜索,鸿蒙OS-融合搜索概述"
date: 2024-10-04 09:22:44 +08:00
description: "HarmonyOS 融合搜索为开发者提供搜索引擎级的全文搜索能力，可支持应用内搜索和系统全局搜索，为"
keywords: "融合搜索服务是什么软件"
categories: ['未分类']
tags: ['Harmonyos']
artid: "117355122"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=117355122
  alt: "harmonyos融合搜索,鸿蒙OS-融合搜索概述"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=117355122
featuredImagePreview: https://bing.ee123.net/img/rand?artid=117355122
---

# harmonyos融合搜索,鸿蒙OS 融合搜索概述

HarmonyOS 融合搜索为开发者提供搜索引擎级的全文搜索能力，可支持应用内搜索和系统全局搜索，为用户提供更加准确、高效的搜索体验。

基本概念

全文索引

记录字或词的位置和次数等属性，建立的倒排索引。

全文搜索

通过全文索引进行匹配查找结果的一种搜索引擎技术。

全局搜索

可以在系统全局统一的入口进行的搜索行为。

全局搜索应用

HarmonyOS 上提供全局搜索入口的应用，一般为桌面下拉框或悬浮搜索框。

索引源应用

通过融合搜索索引接口对其数据建立索引的应用。

可搜索配置

每个索引源应用应该提供一个包括应用包名、是否支持全局搜索等信息的可搜索实体，以便全局搜索应用发起搜索。

群组

经过认证的可信设备圈，可从账号模块获取群组 ID。

索引库

一种搜索引擎的倒排索引库，包含多个索引文件的整个目录构成一个索引库。

索引域

索引数据的字段名，比如一张图片有文件名、存储路径、大小、拍摄时间等，文件名就是其中的一个索引域。

索引属性

描述索引域的信息，包括索引类型、是否为主键、是否存储、是否支持分词等。

运作机制

索引源应用通过融合搜索接口设置可搜索实体，并为其数据内容构建全文索引。全局搜索应用接收用户发起的搜索请求，遍历支持全局搜索的可搜索实体，解析用户输入并构造查询条件，最后通过融合搜索接口获取各应用搜索结果。

图1 融合搜索运作示意图

![a182f6f47baffee94e7aa5ad418e6b56.png](https://i-blog.csdnimg.cn/blog_migrate/cd3cea92be51d94ed9cde964ebb0a7d4.png)

约束与限制

构建索引或者发起搜索前，索引源应用必须先设置索引属性，并且必须有且仅有一个索引域设置为主键，且主键索引域不能分词，索引和搜索都会使用到索引属性。

索引源应用的数据发生变动时，开发者应同步通过融合搜索索引接口更新索引，以保证索引和应用原始数据的一致性。

批量创建、更新、删除索引时，应控制单次待索引内容大小，建议分批创建索引，防止内存溢出。

分页搜索和分组搜索应控制每页返回结果数量，防止内存溢出。

构建和搜索本机索引时，应该使用提供的 SearchParameter.DEFAULT\_GROUP 作为群组 ID，分布式索引使用通过账号模块获取的群组ID。

搜索时需先创建搜索会话，并务必在搜索结束时关闭搜索会话，释放内存资源。

使用融合搜索服务接口需要在“config.json”配置文件中添加“ohos.permission.ACCESS\_SEARCH\_SERVICE”权限。

搜索时的 SearchParamter.DEVICE\_ID\_LIST 必须与创建索引时的deviceId一致。