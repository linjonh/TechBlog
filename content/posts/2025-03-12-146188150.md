---
layout: post
title: "pythonSTL-sys"
date: 2025-03-12 18:27:05 +0800
description: "`sys` 是 Python 标准库中的一个内置模块，它提供了许多与 Python 解释器和系统环境进行交互的功能。"
keywords: "python stl库"
categories: ['Python']
tags: ['运维', '服务器', 'Python']
artid: "146188150"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146188150
    alt: "pythonSTL-sys"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146188150
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146188150
cover: https://bing.ee123.net/img/rand?artid=146188150
image: https://bing.ee123.net/img/rand?artid=146188150
img: https://bing.ee123.net/img/rand?artid=146188150
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     pythonSTL---sys
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     <code>
      sys
     </code>
     是 Python 标准库中的一个内置模块，它提供了许多与 Python 解释器和系统环境进行交互的功能。
    </p>
    <h2>
     <a id="sys_1">
     </a>
     sys方法
    </h2>
    <h4>
     <a id="1__sys__2">
     </a>
     1. 导入
     <code>
      sys
     </code>
     模块
    </h4>
    <p>
     在使用
     <code>
      sys
     </code>
     库的功能之前，需要先导入它：
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> sys
</code></pre>
    <h4>
     <a id="2__sysargv_8">
     </a>
     2. 命令行参数 (
     <code>
      sys.argv
     </code>
     )
    </h4>
    <p>
     <code>
      sys.argv
     </code>
     是一个包含命令行参数的列表。其中，
     <code>
      sys.argv[0]
     </code>
     是脚本的名称，后续的元素是传递给脚本的参数。
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> sys

<span class="token comment"># 打印脚本名称</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"脚本名称: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

<span class="token comment"># 打印所有命令行参数</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> arg <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"参数 </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>i<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>arg<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
</code></pre>
    <p>
     假设将上述代码保存为
     <code>
      test.py
     </code>
     ，在命令行中运行
     <code>
      python test.py arg1 arg2
     </code>
     ，输出结果将显示脚本名称和传递的参数。
    </p>
    <h4>
     <a id="3_Python__22">
     </a>
     3. Python 解释器信息
    </h4>
    <h5>
     <a id="31_sysversion_24">
     </a>
     3.1
     <code>
      sys.version
     </code>
    </h5>
    <p>
     <code>
      sys.version
     </code>
     是一个字符串，包含了 Python 解释器的版本信息，如 Python 版本号、编译信息等。
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">print</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>version<span class="token punctuation">)</span>
</code></pre>
    <h5>
     <a id="32_sysversion_info_31">
     </a>
     3.2
     <code>
      sys.version_info
     </code>
    </h5>
    <p>
     <code>
      sys.version_info
     </code>
     是一个
     <code>
      namedtuple
     </code>
     ，包含了 Python 版本的主要信息，如主版本号、次版本号、微版本号等。
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">print</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>version_info<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"主版本号: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>sys<span class="token punctuation">.</span>version_info<span class="token punctuation">.</span>major<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"次版本号: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>sys<span class="token punctuation">.</span>version_info<span class="token punctuation">.</span>minor<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
</code></pre>
    <h4>
     <a id="4__syspath_40">
     </a>
     4. 系统路径 (
     <code>
      sys.path
     </code>
     )
    </h4>
    <p>
     <code>
      sys.path
     </code>
     是一个包含模块搜索路径的列表。Python 在导入模块时，会按照这个列表中的路径顺序进行搜索。
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> sys

<span class="token comment"># 打印系统路径</span>
<span class="token keyword">for</span> path <span class="token keyword">in</span> sys<span class="token punctuation">.</span>path<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span>

<span class="token comment"># 可以动态添加路径</span>
sys<span class="token punctuation">.</span>path<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">'/path/to/your/module'</span><span class="token punctuation">)</span>
</code></pre>
    <h4>
     <a id="5__Python__sysexit_53">
     </a>
     5. 退出 Python 解释器 (
     <code>
      sys.exit()
     </code>
     )
    </h4>
    <p>
     <code>
      sys.exit()
     </code>
     函数用于退出 Python 解释器。可以传递一个整数参数作为退出状态码，默认状态码为 0 表示正常退出。
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> sys

<span class="token keyword">try</span><span class="token punctuation">:</span>
    <span class="token comment"># 一些代码逻辑</span>
    result <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">/</span> <span class="token number">0</span>  <span class="token comment"># 模拟异常</span>
<span class="token keyword">except</span> ZeroDivisionError<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"发生除零错误，程序退出"</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment"># 以状态码 1 退出</span>

</code></pre>
    <h4>
     <a id="6__67">
     </a>
     6. 标准输入、输出和错误流
    </h4>
    <p>
     <code>
      sys
     </code>
     模块提供了对标准输入 (
     <code>
      sys.stdin
     </code>
     )、标准输出 (
     <code>
      sys.stdout
     </code>
     ) 和标准错误 (
     <code>
      sys.stderr
     </code>
     ) 的访问。
    </p>
    <h5>
     <a id="61__70">
     </a>
     6.1 标准输出重定向
    </h5>
    <pre><code class="prism language-python"><span class="token keyword">import</span> sys

<span class="token comment"># 保存原始的标准输出</span>
original_stdout <span class="token operator">=</span> sys<span class="token punctuation">.</span>stdout

<span class="token comment"># 打开一个文件以写入模式</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'output.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    <span class="token comment"># 将标准输出重定向到文件</span>
    sys<span class="token punctuation">.</span>stdout <span class="token operator">=</span> f
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"这行文本将被写入文件"</span><span class="token punctuation">)</span>

<span class="token comment"># 恢复标准输出</span>
sys<span class="token punctuation">.</span>stdout <span class="token operator">=</span> original_stdout
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"这行文本将显示在控制台"</span><span class="token punctuation">)</span>
</code></pre>
    <h5>
     <a id="62__88">
     </a>
     6.2 标准输入读取
    </h5>
    <pre><code class="prism language-python"><span class="token keyword">import</span> sys

<span class="token comment"># 从标准输入读取一行</span>
line <span class="token operator">=</span> sys<span class="token punctuation">.</span>stdin<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"你输入的内容是: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>line<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
</code></pre>
    <h4>
     <a id="7__sysgetrecursionlimit__syssetrecursionlimit_97">
     </a>
     7. 递归深度限制 (
     <code>
      sys.getrecursionlimit()
     </code>
     和
     <code>
      sys.setrecursionlimit()
     </code>
     )
    </h4>
    <p>
     Python 解释器对递归调用的深度有一个默认限制，以防止无限递归导致栈溢出。可以使用
     <code>
      sys.getrecursionlimit()
     </code>
     获取当前的递归深度限制，使用
     <code>
      sys.setrecursionlimit()
     </code>
     设置新的递归深度限制。
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> sys

<span class="token comment"># 获取当前递归深度限制</span>
current_limit <span class="token operator">=</span> sys<span class="token punctuation">.</span>getrecursionlimit<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"当前递归深度限制: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>current_limit<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

<span class="token comment"># 设置新的递归深度限制</span>
sys<span class="token punctuation">.</span>setrecursionlimit<span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span>
new_limit <span class="token operator">=</span> sys<span class="token punctuation">.</span>getrecursionlimit<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"新的递归深度限制: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>new_limit<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
</code></pre>
    <h4>
     <a id="8__sysplatform_112">
     </a>
     8. 平台信息 (
     <code>
      sys.platform
     </code>
     )
    </h4>
    <p>
     <code>
      sys.platform
     </code>
     是一个字符串，用于标识当前 Python 解释器运行的操作系统平台。
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> sys

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"当前操作系统平台: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>sys<span class="token punctuation">.</span>platform<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
</code></pre>
    <p>
     常见的平台标识符包括
     <code>
      'win32'
     </code>
     （Windows）、
     <code>
      'linux'
     </code>
     （Linux）、
     <code>
      'darwin'
     </code>
     （macOS）等。
    </p>
    <h4>
     <a id="9__sysmaxsize_121">
     </a>
     9. 最大整数值 (
     <code>
      sys.maxsize
     </code>
     )
    </h4>
    <p>
     <code>
      sys.maxsize
     </code>
     表示当前平台上 Python 解释器所能表示的最大整数值。
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> sys

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"最大整数值: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>sys<span class="token punctuation">.</span>maxsize<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
</code></pre>
    <h4>
     <a id="10__sysbuiltin_module_names_129">
     </a>
     10. 内置模块信息 (
     <code>
      sys.builtin_module_names
     </code>
     )
    </h4>
    <p>
     <code>
      sys.builtin_module_names
     </code>
     是一个包含所有内置模块名称的元组。
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> sys

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"所有内置模块名称:"</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> module_name <span class="token keyword">in</span> sys<span class="token punctuation">.</span>builtin_module_names<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>module_name<span class="token punctuation">)</span>
</code></pre>
    <h4>
     <a id="11__sysgetsizeof_139">
     </a>
     11. 内存使用信息 (
     <code>
      sys.getsizeof()
     </code>
     )
    </h4>
    <p>
     <code>
      sys.getsizeof()
     </code>
     函数用于返回对象占用的内存大小（以字节为单位）。
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> sys

my_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
list_size <span class="token operator">=</span> sys<span class="token punctuation">.</span>getsizeof<span class="token punctuation">(</span>my_list<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"列表占用的内存大小: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>list_size<span class="token punctuation">}</span></span><span class="token string"> 字节"</span></span><span class="token punctuation">)</span>
</code></pre>
    <hr/>
    <h2>
     <a id="os_150">
     </a>
     os模块常量
    </h2>
    <h3>
     <a id="_151">
     </a>
     一、平台标识常量
    </h3>
    <h4>
     <a id="1_osname_152">
     </a>
     1.
     <code>
      os.name
     </code>
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        值
       </th>
       <th>
        对应系统
       </th>
       <th>
        典型场景
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <code>
         posix
        </code>
       </td>
       <td>
        Linux/macOS
       </td>
       <td>
        判断是否支持 Unix 特性
       </td>
      </tr>
      <tr>
       <td>
        <code>
         nt
        </code>
       </td>
       <td>
        Windows
       </td>
       <td>
        处理路径分隔符差异
       </td>
      </tr>
      <tr>
       <td>
        <code>
         java
        </code>
       </td>
       <td>
        Jython 环境
       </td>
       <td>
        特殊运行环境检测
       </td>
      </tr>
     </tbody>
    </table>
    <pre><code class="prism language-python"><span class="token keyword">if</span> os<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">'posix'</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"正在类 Unix 系统运行"</span><span class="token punctuation">)</span>
</code></pre>
    <hr/>
    <h3>
     <a id="_166">
     </a>
     二、路径操作常量
    </h3>
    <h4>
     <a id="1__167">
     </a>
     1. 路径分隔符
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        常量
       </th>
       <th>
        值 (Win/Linux)
       </th>
       <th>
        作用
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <code>
         os.sep
        </code>
       </td>
       <td>
        <code>
         \
        </code>
        /
        <code>
         /
        </code>
       </td>
       <td>
        路径层级分隔符（推荐替代硬编码符号）
       </td>
      </tr>
      <tr>
       <td>
        <code>
         os.altsep
        </code>
       </td>
       <td>
        <code>
         /
        </code>
        /
        <code>
         None
        </code>
       </td>
       <td>
        备用分隔符（Win 兼容 Unix 路径）
       </td>
      </tr>
      <tr>
       <td>
        <code>
         os.extsep
        </code>
       </td>
       <td>
        <code>
         .
        </code>
       </td>
       <td>
        文件名与扩展名的分隔符
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
      跨平台路径构建示例
     </strong>
     ：
    </p>
    <pre><code class="prism language-python">config_path <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"data"</span><span class="token punctuation">,</span> <span class="token string">"config"</span><span class="token punctuation">,</span> <span class="token string">"app.yaml"</span><span class="token punctuation">]</span>
full_path <span class="token operator">=</span> os<span class="token punctuation">.</span>sep<span class="token punctuation">.</span>join<span class="token punctuation">(</span>config_path<span class="token punctuation">)</span>  <span class="token comment"># 自动适配系统分隔符</span>
</code></pre>
    <h4>
     <a id="2__180">
     </a>
     2. 路径组合符
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        常量
       </th>
       <th>
        值 (Win/Linux)
       </th>
       <th>
        应用场景
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <code>
         os.pathsep
        </code>
       </td>
       <td>
        <code>
         ;
        </code>
        /
        <code>
         :
        </code>
       </td>
       <td>
        环境变量多路径分隔符（PATH）
       </td>
      </tr>
      <tr>
       <td>
        <code>
         os.defpath
        </code>
       </td>
       <td>
        <code>
         .;/bin
        </code>
        / 类似值
       </td>
       <td>
        可执行文件默认搜索路径
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <h3>
     <a id="_188">
     </a>
     三、目录符号常量
    </h3>
    <table>
     <thead>
      <tr>
       <th>
        常量
       </th>
       <th>
        值
       </th>
       <th>
        功能说明
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <code>
         os.curdir
        </code>
       </td>
       <td>
        <code>
         .
        </code>
       </td>
       <td>
        表示当前目录
       </td>
      </tr>
      <tr>
       <td>
        <code>
         os.pardir
        </code>
       </td>
       <td>
        <code>
         ..
        </code>
       </td>
       <td>
        表示父目录
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
      路径解析示例
     </strong>
     ：
    </p>
    <pre><code class="prism language-python">parent_dir <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>abspath<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>os<span class="token punctuation">.</span>curdir<span class="token punctuation">,</span> os<span class="token punctuation">.</span>pardir<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
    <hr/>
    <h3>
     <a id="_201">
     </a>
     四、文件操作常量
    </h3>
    <h4>
     <a id="1__202">
     </a>
     1. 文件存在性及权限检查
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        常量
       </th>
       <th>
        二进制掩码
       </th>
       <th>
        用途
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <code>
         os.F_OK
        </code>
       </td>
       <td>
        0
       </td>
       <td>
        检查文件是否存在
       </td>
      </tr>
      <tr>
       <td>
        <code>
         os.R_OK
        </code>
       </td>
       <td>
        4
       </td>
       <td>
        检查读权限
       </td>
      </tr>
      <tr>
       <td>
        <code>
         os.W_OK
        </code>
       </td>
       <td>
        2
       </td>
       <td>
        检查写权限
       </td>
      </tr>
      <tr>
       <td>
        <code>
         os.X_OK
        </code>
       </td>
       <td>
        1
       </td>
       <td>
        检查执行权限
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
      权限验证代码
     </strong>
     ：
    </p>
    <pre><code class="prism language-python"><span class="token keyword">if</span> os<span class="token punctuation">.</span>access<span class="token punctuation">(</span><span class="token string">"/usr/bin/python"</span><span class="token punctuation">,</span> os<span class="token punctuation">.</span>X_OK<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"文件可执行"</span><span class="token punctuation">)</span>
</code></pre>
    <h4>
     <a id="2__osopen_216">
     </a>
     2. 文件打开模式（需配合
     <code>
      os.open
     </code>
     ）
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        常量
       </th>
       <th>
        功能说明
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <code>
         os.O_RDONLY
        </code>
       </td>
       <td>
        只读模式
       </td>
      </tr>
      <tr>
       <td>
        <code>
         os.O_WRONLY
        </code>
       </td>
       <td>
        只写模式
       </td>
      </tr>
      <tr>
       <td>
        <code>
         os.O_RDWR
        </code>
       </td>
       <td>
        读写模式
       </td>
      </tr>
      <tr>
       <td>
        <code>
         os.O_CREAT
        </code>
       </td>
       <td>
        文件不存在时创建
       </td>
      </tr>
      <tr>
       <td>
        <code>
         os.O_EXCL
        </code>
       </td>
       <td>
        与 O_CREAT 配合使用防覆盖
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
      文件创建示例
     </strong>
     ：
    </p>
    <pre><code class="prism language-python">fd <span class="token operator">=</span> os<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"data.log"</span><span class="token punctuation">,</span> os<span class="token punctuation">.</span>O_WRONLY <span class="token operator">|</span> os<span class="token punctuation">.</span>O_CREAT<span class="token punctuation">,</span> <span class="token number">0o644</span><span class="token punctuation">)</span>
</code></pre>
    <h4>
     <a id="3__230">
     </a>
     3. 文件指针定位
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        常量
       </th>
       <th>
        对应值
       </th>
       <th>
        描述
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <code>
         os.SEEK_SET
        </code>
       </td>
       <td>
        0
       </td>
       <td>
        文件起始位置
       </td>
      </tr>
      <tr>
       <td>
        <code>
         os.SEEK_CUR
        </code>
       </td>
       <td>
        1
       </td>
       <td>
        当前指针位置
       </td>
      </tr>
      <tr>
       <td>
        <code>
         os.SEEK_END
        </code>
       </td>
       <td>
        2
       </td>
       <td>
        文件末尾位置
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <h3>
     <a id="_239">
     </a>
     五、特殊设备常量
    </h3>
    <table>
     <thead>
      <tr>
       <th>
        常量
       </th>
       <th>
        路径 (Win/Linux)
       </th>
       <th>
        用途
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <code>
         os.devnull
        </code>
       </td>
       <td>
        <code>
         nul
        </code>
        /
        <code>
         /dev/null
        </code>
       </td>
       <td>
        空设备（丢弃输出）
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
      使用示例
     </strong>
     ：
    </p>
    <pre><code class="prism language-python"><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>devnull<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    sys<span class="token punctuation">.</span>stdout <span class="token operator">=</span> f  <span class="token comment"># 禁用标准输出</span>
</code></pre>
    <hr/>
    <h3>
     <a id="_252">
     </a>
     六、其他实用常量
    </h3>
    <table>
     <thead>
      <tr>
       <th>
        常量
       </th>
       <th>
        说明
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <code>
         os.linesep
        </code>
       </td>
       <td>
        系统换行符（
        <code>
         \n
        </code>
        /
        <code>
         \r\n
        </code>
        ）
       </td>
      </tr>
      <tr>
       <td>
        <code>
         os.supports_follow_symlinks
        </code>
       </td>
       <td>
        函数是否支持符号链接追踪
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <h3>
     <a id="_260">
     </a>
     综合应用场景
    </h3>
    <h4>
     <a id="_261">
     </a>
     跨平台路径处理模板
    </h4>
    <pre><code class="prism language-python"><span class="token keyword">import</span> os

<span class="token keyword">def</span> <span class="token function">safe_join</span><span class="token punctuation">(</span>base<span class="token punctuation">,</span> <span class="token operator">*</span>paths<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""跨平台安全路径拼接"""</span>
    full_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>abspath<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>base<span class="token punctuation">,</span> <span class="token operator">*</span>paths<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>full_path<span class="token punctuation">)</span><span class="token punctuation">:</span>
        os<span class="token punctuation">.</span>makedirs<span class="token punctuation">(</span>full_path<span class="token punctuation">,</span> exist_ok<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> full_path<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>os<span class="token punctuation">.</span>sep<span class="token punctuation">,</span> <span class="token string">'/'</span><span class="token punctuation">)</span>  <span class="token comment"># 统一为 Unix 风格路径</span>
</code></pre>
    <h4>
     <a id="_273">
     </a>
     权限检查工具函数
    </h4>
    <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">validate_permissions</span><span class="token punctuation">(</span>filepath<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""详细权限检查"""</span>
    checks <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">(</span>os<span class="token punctuation">.</span>F_OK<span class="token punctuation">,</span> <span class="token string">"存在性"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span>os<span class="token punctuation">.</span>R_OK<span class="token punctuation">,</span> <span class="token string">"可读性"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span>os<span class="token punctuation">.</span>W_OK<span class="token punctuation">,</span> <span class="token string">"可写性"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span>os<span class="token punctuation">.</span>X_OK<span class="token punctuation">,</span> <span class="token string">"可执行性"</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
    <span class="token keyword">for</span> flag<span class="token punctuation">,</span> desc <span class="token keyword">in</span> checks<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>desc<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token string">'√'</span> <span class="token keyword">if</span> os<span class="token punctuation">.</span>access<span class="token punctuation">(</span>filepath<span class="token punctuation">,</span> flag<span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token string">'×'</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
</code></pre>
    <hr/>
    <h3>
     <a id="_289">
     </a>
     注意事项
    </h3>
    <ol>
     <li>
      <p>
       <strong>
        平台差异性
       </strong>
       <br/>
       Windows 和 Linux 的常量表现不同，建议通过
       <code>
        os.path
       </code>
       模块函数代替直接操作常量
      </p>
     </li>
     <li>
      <p>
       <strong>
        常量只读性
       </strong>
       <br/>
       所有
       <code>
        os
       </code>
       模块常量均为只读，修改会触发
       <code>
        AttributeError
       </code>
      </p>
     </li>
     <li>
      <p>
       <strong>
        版本兼容
       </strong>
       <br/>
       Python 3.10+ 新增
       <code>
        os.O_TMPFILE
       </code>
       （Linux 专属）等常量，需注意版本差异
      </p>
     </li>
    </ol>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330315f38303037393634322f:61727469636c652f64657461696c732f313436313838313530" class_="artid" style="display:none">
 </p>
</div>


