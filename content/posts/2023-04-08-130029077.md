---
layout: post
title: "前端使用axios发送请求,后端使用RequestParam接收,前端报400附uniapp.request同类解决办法"
date: 2023-04-08 15:00:42 +0800
description: "前端使用axios发送请求,后端使用@RequestParam接收,前端报400_uni.reque"
keywords: "uni.request出现400"
categories: ['未分类']
tags: ['前端', 'Vue', 'Javascript']
artid: "130029077"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=130029077
  alt: "前端使用axios发送请求,后端使用RequestParam接收,前端报400附uniapp.request同类解决办法"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=130029077
featuredImagePreview: https://bing.ee123.net/img/rand?artid=130029077
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     前端使用axios发送请求,后端使用@RequestParam接收,前端报400（附uniapp.request()同类解决办法）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     我的前端使用的是axios发送请求，请求头默认的为
    </p>
    <p>
     <img alt="" height="112" src="https://i-blog.csdnimg.cn/blog_migrate/1158777bedc3fff024670ba70d7a0944.png" width="1015"/>
    </p>
    <p>
     后端使用
     <img alt="" height="111" src="https://i-blog.csdnimg.cn/blog_migrate/c38c5bbabb01d32eca9c8333f7e87c54.png" width="852">
      的是 @RequestParam接收参数。
     </img>
    </p>
    <p>
     前端发送请求为post。
    </p>
    <p>
     但是发送请求之后报错400，查了网上主要的解决办法有两种：
    </p>
    <p>
     1、使用FormData()传参
    </p>
    <p>
     <img alt="" height="377" src="https://i-blog.csdnimg.cn/blog_migrate/5e0c773231202ae7bd8a14267ced92a3.png" width="1187"/>
    </p>
    <p>
     但是我还是报错400。
    </p>
    <p>
     2、修改请求头
    </p>
    <p>
     <img alt="" height="174" src="https://i-blog.csdnimg.cn/blog_migrate/300def23f52db38a1562e728759a98e4.png" width="1090"/>
    </p>
    <p>
     但是因为我的axios是经过封装的，而且我其他的接口传参还是要用json的请求头，所以修改统一的请求头显然是不行的。
    </p>
    <p>
     于是我就想，修改统一的请求头不行，那我只修改这一个的呢？
    </p>
    <p>
     <img alt="" height="236" src="https://i-blog.csdnimg.cn/blog_migrate/3ed2d532f25d593367ae08a13f429458.png" width="1200">
      最后成功了！
     </img>
    </p>
    <p>
     <img alt="" height="196" src="https://i-blog.csdnimg.cn/blog_migrate/68f53aff41a605f2c5aa24571280193b.png" width="927"/>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
     ——————————————---------------------后续————————————————————
    </p>
    <p>
     这里我再说一下如果使用的是uniapp遇到相同的问题怎么办。
    </p>
    <p>
     uniapp的基础是vue，因此uniapp的uni.request()和vue的axios其实有相似之处的。官网给出的解释是：
    </p>
    <p>
     <img alt="" height="278" src="https://i-blog.csdnimg.cn/blog_migrate/0066639fe78b0891fdf6ea23920fbdc4.png" width="1200"/>
    </p>
    <p>
     那么，对于后端使用@RequestParam接收参数的Post请求，如果你是这样写前端请求接口的话就会报错400
    </p>
    <p>
     <img alt="" height="273" src="https://i-blog.csdnimg.cn/blog_migrate/28855e7d4492a7ae0f506791aac0af96.png" width="609"/>
    </p>
    <p>
     <img alt="" height="233" src="https://i-blog.csdnimg.cn/blog_migrate/caa44fcdbe3a96084b28afa6228bfc68.png" width="623"/>
    </p>
    <p>
     那么怎么办呢？
    </p>
    <p>
     排查顺序肯定是先从自己身上找问题，先检查前端的请求参数有没有写错，确认无误用postman测试一下接口，如果postman测试成功，那么就是前端请求头格式问题了。做法很简单，就是改前端的请求格式，如果你想自定义每一个请求头的格式，那么你可以这样写：
    </p>
    <p>
     request.js:
    </p>
    <p>
     <img alt="" height="615" src="https://i-blog.csdnimg.cn/blog_migrate/d6bb41b5bb85456622361e84b0fe9c4f.png" width="1200"/>
    </p>
    <p>
     api.js
    </p>
    <p>
     <img alt="" height="352" src="https://i-blog.csdnimg.cn/blog_migrate/6ddd3d1af632460464c7a732361aedc9.png" width="979"/>
    </p>
    <p>
     user.vue
    </p>
    <p>
     <img alt="" height="411" src="https://i-blog.csdnimg.cn/blog_migrate/4ad0ded13af3a0c45590ea71a9d960fb.png" width="648"/>
    </p>
    <p>
    </p>
    <p>
     最后请求成功
    </p>
    <p>
     <img alt="" height="842" src="https://i-blog.csdnimg.cn/blog_migrate/af68aecf7ed36706c1e580be798c6416.png" width="886"/>
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f434a42323032303831382f:61727469636c652f64657461696c732f313330303239303737" class_="artid" style="display:none">
 </p>
</div>
