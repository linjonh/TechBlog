---
layout: post
title: "HART通信协议应用指南"
date: 2024-04-23 17:05:39 +0800
description: "（HART产品的）用户能够充分完整地从HART功能的数字仪表上获取好处。采用HART协议的产品同时提"
keywords: "hart通信协议"
categories: ['Hart']
tags: ['网络协议', '嵌入式硬件', '单片机', 'Stm', 'C']
artid: "135952359"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=135952359
    alt: "HART通信协议应用指南"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=135952359
featuredImagePreview: https://bing.ee123.net/img/rand?artid=135952359
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     HART通信协议应用指南
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <div class="toc">
     <h4>
      HART工作原理
     </h4>
     <ul>
      <li>
       <ul>
        <li>
         <ul>
          <li>
           <a href="#_2" rel="nofollow">
            前言
           </a>
          </li>
         </ul>
        </li>
       </ul>
      </li>
      <li>
       <a href="#_Communication_Modes_4" rel="nofollow">
        一、通信模式 （Communication Modes）
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#1_5" rel="nofollow">
          1.主—从模式
         </a>
        </li>
        <li>
         <a href="#2_7" rel="nofollow">
          2.阵发模式
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#_Frequency_Shift_Keying_11" rel="nofollow">
        二、频移键控 （Frequency Shift Keying）
       </a>
      </li>
      <li>
       <a href="#HART_HART_Networks_16" rel="nofollow">
        三、HART网络 （HART Networks）
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#1POINTTOPOINT_18" rel="nofollow">
          1.点对点连接（POINT-TO-POINT）
         </a>
        </li>
        <li>
         <a href="#2MULTIDROP_21" rel="nofollow">
          2.多点连接（MULTIDROP）
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#HARTHART_Commands_25" rel="nofollow">
        四、HART命令（HART Commands）
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#1__UNIVERSAL_27" rel="nofollow">
          1.通用 命令 UNIVERSAL
         </a>
        </li>
        <li>
         <a href="#2_COMMON_PRACTICE_29" rel="nofollow">
          2.常用命令 COMMON PRACTICE
         </a>
        </li>
        <li>
         <a href="#3_DEVICE_SPECIFIC_31" rel="nofollow">
          3.设备特殊命令 DEVICE SPECIFIC
         </a>
        </li>
        <li>
         <a href="#4_SUMMARY_TABLE_33" rel="nofollow">
          4.命令汇总表 SUMMARY TABLE
         </a>
        </li>
        <li>
         <a href="#5HART_35" rel="nofollow">
          5.与HART仪表建立通信
         </a>
        </li>
        <li>
         <a href="#6_DEVICE_DESCRIPTIO_39" rel="nofollow">
          6.设备描述 DEVICE DESCRIPTIO
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <h4>
     <a id="_2">
     </a>
     前言
    </h4>
    <p>
     （HART产品的）用户能够充分完整地从HART功能的数字仪表上获取好处。采用HART协议的产品同时提供4-20毫安模拟量信号以及数字信号，其在应用上所表现出的柔性超出所有其它的通信技术。
    </p>
    <h2>
     <a id="_Communication_Modes_4">
     </a>
     一、通信模式 （Communication Modes）
    </h2>
    <h3>
     <a id="1_5">
     </a>
     1.主—从模式
    </h3>
    <p>
     HART是主从方式通信协议，这意味着在正常工作时，每一个从设备（现场仪表）的通信是由其主站通信设备发起的。每一个HART回路中可以有两个主站。第一个主站是通常意义的集散系统（DCS）、可编程逻辑控制器、或者个人PC。第二个主站可以是一个手持式终端或者另一台个人PC。从站设备包括变送器、执行机构、以及响应第一主站或第二主站的控制器。
    </p>
    <h3>
     <a id="2_7">
     </a>
     2.阵发模式
    </h3>
    <p>
     某些HART设备支持可选的阵发通信模式。阵发模式支持更快的通信速度（每秒种3-4次数据更新）。在阵发模式之下，主站通知从站连续地、使用广播方式传递标准的HART信息（比如、过程测量变量值）。主站将一直以此高速方式接收信息直至它通知从站停止广播。
     <br/>
     <strong>
      采用阵发模式将使得不止一个被动的HART设备在HART回路上“倾听”通信
     </strong>
    </p>
    <h2>
     <a id="_Frequency_Shift_Keying_11">
     </a>
     二、频移键控 （Frequency Shift Keying）
    </h2>
    <p>
     HART通信协议是基于贝尔 202电话语音通信标准，并且采用频移键控 frequency shift keying (FSK)原理。其数字信号由两种频率组成——1200赫兹和2200赫兹分别各自表示比特“1”和“0”。此两种频率的正弦波是叠加在直流（DC）模拟量信号电缆上，从而同时提供模拟及数字通信。由于FSK信号的平均幅值为零，就不产生对4-20毫安直流信号的影响。其数字通信信号的响应时间大约为每秒2-3次数据更新，而且做到不影响模拟信号。HART通信要求最小的回路阻抗为230欧姆。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/8b674312037a9b56a480ebd51e39dfa8.png"/>
    </p>
    <h2>
     <a id="HART_HART_Networks_16">
     </a>
     三、HART网络 （HART Networks）
    </h2>
    <p>
     HART设备的网络结构可以任意采用以下两种方式——点对点连接或者多点方式连接。
    </p>
    <h3>
     <a id="1POINTTOPOINT_18">
     </a>
     1.点对点连接（POINT-TO-POINT）
    </h3>
    <p>
     在点对点连接的方式中，传统的4-20毫安信号只是用来传递一个过程变量，而另外的过程变量、配置参数和其它类型的设备数据采用HART协议的数字方式传输（图2）。4-20毫安信号（变化）对HART信号没有任何影响，而且它依旧可以按平常的方式用以控制。HART数字通信信号允许（用户）使用第二个变量及其它数据从而到达操作、调试、维护和诊断的目的。
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/876b715ea033150194369336925e2630.png"/>
    </p>
    <h3>
     <a id="2MULTIDROP_21">
     </a>
     2.多点连接（MULTIDROP）
    </h3>
    <p>
     多点连接的工作模式仅仅要求两根线来连接，如有可能、可以有安全栅和一个供应多达15个现场设备的辅助电源（图3）。所有的过程变量都是以数字方式传输的。在多点连接模式下，所有现场仪表的地址都大于0，并且经过每个仪表的电流固定在最低值（通常为 4毫安）。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/90dc1e5ce51e335393a91557215c5a13.png"/>
    </p>
    <h2>
     <a id="HARTHART_Commands_25">
     </a>
     四、HART命令（HART Commands）
    </h2>
    <p>
     HART命令集为所有现场设备提供统一、一致的命令。此命令族包括3种类型的命令：通用命令universal、 常用操作命令 common practice和设备特殊命令 device specific （见表1）。主站应用程序可以为某个特殊应用的执行而使用任何必要的命令。
    </p>
    <h3>
     <a id="1__UNIVERSAL_27">
     </a>
     1.通用 命令 UNIVERSAL
    </h3>
    <p>
     任何采用HART协议的仪表必须认识并支持通用命令。通用命令可以对通常意义上仪表操作的信息进行访问（比如，阅读第一个过程变量的数值及单位）。
    </p>
    <h3>
     <a id="2_COMMON_PRACTICE_29">
     </a>
     2.常用命令 COMMON PRACTICE
    </h3>
    <p>
     常用命令所提供的功能为许多（但是并非所有）的HART仪表所采纳。
    </p>
    <h3>
     <a id="3_DEVICE_SPECIFIC_31">
     </a>
     3.设备特殊命令 DEVICE SPECIFIC
    </h3>
    <p>
     设备特殊命令规定了对每个现场仪表唯一的功能。这些命令用以访问此仪表设置和标定校验信息，以及有关此仪表制造的信息。属于设备特殊命令的信息是由仪表制造商提供。
    </p>
    <h3>
     <a id="4_SUMMARY_TABLE_33">
     </a>
     4.命令汇总表 SUMMARY TABLE
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/bb52aad53817c1e4440ccc91408c1e8e.png"/>
    </p>
    <h3>
     <a id="5HART_35">
     </a>
     5.与HART仪表建立通信
    </h3>
    <p>
     每台HART仪表提供一个38位长度的，包含有制造商ID号、设备类型号以及设备唯一标志符的地址。在仪表制造过程中，（生产商）将唯一的地址进行编码后写入每一台仪表。HART主设备必须了解现场仪表的地址来顺利地与之进行通信。主设备可通过发送下面两个命令中的任意一个，从而在从设备的响应中获取其地址信息：
    </p>
    <ul>
     <li>
      0号命令Command 0, 读取唯一标志符 ——0号命令是通信初始化的首选方法， 这是因为此命令使主设备能在没有用户介入的情况下获取每个从设备的地址。每个轮询地址（0～15）是用来获取每个设备的唯一地址。
     </li>
     <li>
      11号命令，读取位号来获取唯一标志符 ——如果在HART网络有超过15个仪表、或者HART网络的设备没有配置为唯一轮循地址的情况下，命令11是非常有帮助的。（当设备是独立供电而且是隔离的情况下，超过15个设备的多点HART网络是可能的。）11号命令要求用户提供（设备）位号来获取哪个（设备）需要被查询。
     </li>
    </ul>
    <h3>
     <a id="6_DEVICE_DESCRIPTIO_39">
     </a>
     6.设备描述 DEVICE DESCRIPTIO
    </h3>
    <p>
     某些HART主机应用程序使用设备描述 device descriptions (DD) 来获取HART现场设备中有关变量及功能的信息。设备描述（DD）包含了某个主机应用程序与现场仪表进行通信需要的所有完整信息。DD是使用HART设备描述语言Device Description Language (DDL)来书写的，
     <br/>
     它将主机应用程序所需的信息合并（形成）一个结构简单的文件。设备描述（文件）确定了仪表支持哪个常用命令以及其所有设备特殊命令的格式及结构。
    </p>
    <p>
     可以概略地说，HART现场仪表的设备描述（文件）其功能等效于计算机的打印机驱动程序。设备描述 DD（文件）消除了主机生产厂商需要为所有的用户端接口和驱动提供开发和支持的困扰。DD文件使用标准语言（为用户）提供了一幅描述仪表所有参数及其功能的画面。作为可选的项目，HART仪表厂商可提供其HART现场仪表的设备描述DD（文件）。如果选择提供DD，那么这个DD文件，按照每个仪表的规定步骤，为DD功能激活的主机应用程序之HART读写提供信息。
    </p>
    <p>
     HART仪表的DD源文件类似于C语言编写的程序。DD文件应提交给HART通信基金会（HCF）在其DD文件库进行注册。 每个提交的DD文件都需经过质量检测，用来验证提交的DD文件符合规范要求，验证其与已经注册的DD没有冲突，并且通过使用标准的HART主机应用程序验证其操作。HART通信基金会（HCF）的DD文件库是汇总的工具库，它是所有HART的DD文件的管理及分配的工具以促进诸如个人电脑或手操终端之类的主机应用程序的方便使用。
    </p>
    <p>
     一些主机应用程序需要某些额外的信息来决定屏幕显示格式和其他功能，这些信息是不包含在 DD 中的。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34353039373632362f:61727469636c652f64657461696c732f313335393532333539" class_="artid" style="display:none">
 </p>
</div>


