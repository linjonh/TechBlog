---
layout: post
title: "NodeJS学习笔记"
date: 2025-03-06 17:26:10 +0800
description: "2、查找运行的端口号，找到对应的进程ID。node中创建第一个应用（WEB服务）windos在dos下常用命令。3、根据进程ID找到对应的进程。1、加载http web模块。node repl开发模式。2、node操作删除数据库。1、php操作删除数据库。function函数。"
keywords: "NodeJS学习笔记"
categories: ['前端专题学习汇总']
tags: ['前端', 'Node']
artid: "146075555"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146075555
    alt: "NodeJS学习笔记"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146075555
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146075555
cover: https://bing.ee123.net/img/rand?artid=146075555
image: https://bing.ee123.net/img/rand?artid=146075555
img: https://bing.ee123.net/img/rand?artid=146075555
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     NodeJS学习笔记
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="NodeJS_0">
     </a>
     NodeJS软件安装
    </h3>
    <pre><code class="prism language-bash">node环境安装：
https://nodejs.org
安装好后的node通常在C:<span class="token punctuation">\</span>Program Files<span class="token punctuation">\</span>nodejs

验证安装是否成功
<span class="token function">node</span> <span class="token parameter variable">-v</span>
<span class="token function">npm</span> <span class="token parameter variable">-v</span> 
进入REPL模式命令行模式
<span class="token function">node</span>
</code></pre>
    <h3>
     <a id="NodeJSREPL_13">
     </a>
     NodeJS在REPL模式和编辑器使用
    </h3>
    <p>
     windos在dos下常用命令
    </p>
    <pre><code class="prism language-bash">windos命令：
<span class="token number">1</span>、cmd
dos系统

<span class="token number">2</span>、cls
清空屏幕

<span class="token number">3</span>、exit
退出dos

<span class="token number">4</span>、mkdir
创建命令

<span class="token number">5</span>、dir
查看文件

<span class="token number">6</span>、rmdir
删除目录

<span class="token number">7</span>、ipconfig
查看IP

<span class="token number">8</span>、ping
通讯测试

<span class="token number">9</span>、start http://www.baidu.com
打开浏览器

<span class="token number">10</span>、tasklist
查看进程

<span class="token number">11</span>、taskkill /f /im chrome.exe
关闭进程

<span class="token number">12</span>、cd
切换目录

<span class="token number">13</span>、netstat -ano<span class="token operator">|</span><span class="token function">find</span> <span class="token string">"8080"</span>
查看指定端口
</code></pre>
    <p>
     node repl开发模式
    </p>
    <pre><code class="prism language-bash">cmd下执行js文件
<span class="token function">node</span> index.js
</code></pre>
    <h3>
     <a id="NPM_63">
     </a>
     NPM国内镜像设置
    </h3>
    <pre><code class="prism language-bash"><span class="token number">1</span>、使用国内镜像源（靠谱，亲测可以下载mysql）
将 <span class="token function">npm</span> 的默认源替换为国内镜像源（如淘宝镜像），可以显著提升下载速度。
<span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npmmirror.com
验证是否生效：
<span class="token function">npm</span> config get registry
安装 mysql：
<span class="token function">npm</span> <span class="token function">install</span> mysql

<span class="token number">2</span>、使用 cnpm
cnpm 是淘宝镜像提供的 <span class="token function">npm</span> 客户端，默认使用淘宝镜像源，适合国内开发者。
<span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> cnpm <span class="token parameter variable">--registry</span><span class="token operator">=</span>https://registry.npmmirror.com
使用 cnpm 安装 mysql：
cnpm <span class="token function">install</span> mysql
</code></pre>
    <h3>
     <a id="NPMWEB_80">
     </a>
     NPM模块库、WEB应用和回调函数
    </h3>
    <p>
     npm常用命令
    </p>
    <pre><code class="prism language-bash"><span class="token number">1</span>、npm list
查看本地模块

<span class="token number">2</span>、npm <span class="token function">install</span> mysql
安装mysql模块

<span class="token number">3</span>、npm uninstall mysql
卸载mysql模块

<span class="token number">4</span>、npm root
本地模块根目录

<span class="token number">5</span>、npm root <span class="token parameter variable">-g</span>
本地服务器所有模块根目录

<span class="token number">6</span>、npm update mysql
升级指定npm包
</code></pre>
    <p>
     node中创建第一个应用（WEB服务）
     <br/>
     1、加载http web模块
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/5e9cf339a6f44e83bef52f6546d2b860.png"/>
    </p>
    <pre><code class="prism language-bash">安装模块
<span class="token function">npm</span> <span class="token function">install</span> express

//1、加载http web模块
const express <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
const app <span class="token operator">=</span> express<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app.get<span class="token punctuation">(</span><span class="token string">'/'</span>, <span class="token punctuation">(</span>req, res<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
    res.writeHead<span class="token punctuation">(</span><span class="token number">200</span>, <span class="token punctuation">{<!-- --></span> <span class="token string">'Content-Type'</span><span class="token builtin class-name">:</span> <span class="token string">'text/html;charset=utf-8'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res.write<span class="token punctuation">(</span><span class="token string">"&lt;h1&gt;测试123&lt;/h1&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res.send<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> // 使用 res.send<span class="token punctuation">(</span><span class="token punctuation">)</span> 发送响应
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app.listen<span class="token punctuation">(</span><span class="token number">666</span>, <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
    console.log<span class="token punctuation">(</span><span class="token string">'server is running'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     2、查找运行的端口号，找到对应的进程ID
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/43e8912beeca499bb6989d13ae05ea46.png">
      <br/>
      3、根据进程ID找到对应的进程
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/fa710724b29e48e8a91184cd6ffb4748.png">
       <br/>
       4、访问：
       <br/>
       http://localhost:666/
      </img>
     </img>
    </p>
    <p>
     node回调函数
     <br/>
     1、同步操作文件
    </p>
    <pre><code class="prism language-bash">// 加载fs file模块
const fs <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>
<span class="token function">file</span> <span class="token operator">=</span> <span class="token string">'test.txt'</span>
//开始读取文件
console.log<span class="token punctuation">(</span><span class="token string">'准备读取文件'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

//正在读取文件
data <span class="token operator">=</span> fs.readFileSync<span class="token punctuation">(</span>file<span class="token punctuation">)</span>
console.log<span class="token punctuation">(</span>data.toString<span class="token punctuation">(</span><span class="token punctuation">))</span>

//读取文件结束
console.log<span class="token punctuation">(</span><span class="token string">'程序执行结束'</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     2、异步操作文件
    </p>
    <pre><code class="prism language-bash">// 加载fs file模块
const fs <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>
<span class="token function">file</span> <span class="token operator">=</span> <span class="token string">'test.txt'</span>
//开始读取文件
console.log<span class="token punctuation">(</span><span class="token string">'准备读取文件'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

//正在读取文件
fs.readFile<span class="token punctuation">(</span>file,function<span class="token punctuation">(</span>err,data<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    console.log<span class="token punctuation">(</span>data.toString<span class="token punctuation">(</span><span class="token punctuation">))</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

//读取文件结束
console.log<span class="token punctuation">(</span><span class="token string">'程序执行结束'</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="Event_165">
     </a>
     Event事件、模块、函数和路由
    </h3>
    <p>
     event事件循环
    </p>
    <pre><code class="prism language-bash">const events <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'events'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> // 导入 events 模块
const evt <span class="token operator">=</span> new events.EventEmitter<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> // 初始化 EventEmitter 实例

<span class="token keyword">function</span> <span class="token function-name function">eventHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console.log<span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> // 事件处理函数
<span class="token punctuation">}</span>

evt.on<span class="token punctuation">(</span><span class="token string">'eventName'</span>, eventHandler<span class="token punctuation">)</span><span class="token punctuation">;</span> // 监听事件
evt.emit<span class="token punctuation">(</span><span class="token string">'eventName'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> // 触发事件
</code></pre>
    <p>
     模块系统
    </p>
    <pre><code class="prism language-bash"><span class="token comment">######show.js代码块</span>

// 自定义show模块
//函数里含有this，则该函数可以称为类
<span class="token keyword">function</span> <span class="token function-name function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    this.name <span class="token operator">=</span>  <span class="token string">'user1'</span><span class="token punctuation">;</span>
    this.say <span class="token operator">=</span> <span class="token function-name function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        console.log<span class="token punctuation">(</span><span class="token string">'my name is '</span> + this.name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

// 导出show模块，然后在index.js中引入使用
module.exports <span class="token operator">=</span> show<span class="token punctuation">;</span>


<span class="token comment">######index.js代码块使用</span>
const show <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'./show.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj <span class="token operator">=</span> new show<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj.say<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     function函数
    </p>
    <pre><code class="prism language-bash"><span class="token number">1</span>、常用函数
<span class="token keyword">function</span> <span class="token function-name function">aa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    console.log<span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token number">2</span>、匿名函数
aa <span class="token operator">=</span> <span class="token function-name function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    console.log<span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     路由
    </p>
    <pre><code class="prism language-bash">const http <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
const url <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

cs <span class="token operator">=</span> function<span class="token punctuation">(</span>req,res<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    res.writeHead<span class="token punctuation">(</span><span class="token number">200</span>,<span class="token punctuation">{<!-- --></span><span class="token string">'Content-Type'</span><span class="token builtin class-name">:</span><span class="token string">'text/plain;utf-8'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    uri <span class="token operator">=</span> req.url<span class="token punctuation">;</span>
    if<span class="token punctuation">(</span>uri <span class="token operator">!=</span> <span class="token string">'/favicon.ico'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
     
        //解析路由
        path <span class="token operator">=</span> url.parse<span class="token punctuation">(</span>uri,true<span class="token punctuation">)</span>.pathname<span class="token punctuation">;</span>
        switch<span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">case</span> <span class="token string">'/user/add'</span><span class="token builtin class-name">:</span>
                res.write<span class="token punctuation">(</span><span class="token string">'add'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token builtin class-name">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token string">'/user/list'</span><span class="token builtin class-name">:</span>
                res.write<span class="token punctuation">(</span><span class="token string">'list'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token builtin class-name">break</span><span class="token punctuation">;</span>
            default:
                res.write<span class="token punctuation">(</span><span class="token string">'404'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    res.end<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

http.createServer<span class="token punctuation">(</span>cs<span class="token punctuation">)</span>.listen<span class="token punctuation">(</span><span class="token number">8888</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="NodeJS_244">
     </a>
     NodeJS全局对象
    </h3>
    <pre><code class="prism language-bash">node全局对象：
console.log<span class="token punctuation">(</span>__filename<span class="token punctuation">)</span><span class="token punctuation">;</span>

console.log<span class="token punctuation">(</span>__dirname<span class="token punctuation">)</span><span class="token punctuation">;</span>

setTimeout<span class="token punctuation">(</span><span class="token function-name function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
console.log<span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>,1000<span class="token punctuation">)</span>

setTimeout<span class="token punctuation">(</span><span class="token function-name function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
console.log<span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>,1000<span class="token punctuation">)</span>

console.log<span class="token punctuation">(</span><span class="token punctuation">)</span>

计算程序执行时间
const start <span class="token operator">=</span> performance.now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
for<span class="token punctuation">(</span>let i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100000000</span><span class="token punctuation">;</span> i++<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    // 空循环
<span class="token punctuation">}</span>
const end <span class="token operator">=</span> performance.now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console.log<span class="token punctuation">(</span><span class="token variable"><span class="token variable">`</span>Execution time: $<span class="token punctuation">{<!-- --></span>end - start<span class="token punctuation">}</span> milliseconds<span class="token variable">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

查看进程相信信息
str <span class="token operator">=</span> process.version<span class="token punctuation">;</span>
str <span class="token operator">=</span> process.arch<span class="token punctuation">;</span>
console.log<span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="NodeJSGET_275">
     </a>
     NodeJS文件系统、GET请求和工具模块
    </h3>
    <p>
     文件系统
    </p>
    <pre><code class="prism language-bash"><span class="token number">1</span>、读文件内容
<span class="token number">1</span>）异步读取
readFile<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">##示例：</span>
//加载文件处理模块
const fs <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">file</span> <span class="token operator">=</span> <span class="token string">'test.txt'</span><span class="token punctuation">;</span>
//同步读取
fs.readFile<span class="token punctuation">(</span>file,function<span class="token punctuation">(</span>err,data<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    str <span class="token operator">=</span> data.toString<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console.log<span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console.log<span class="token punctuation">(</span><span class="token string">'读取文件内容'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token number">2</span>）同步阻塞读取
readFileSync<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">##示例：</span>
//加载文件处理模块
const fs <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">file</span> <span class="token operator">=</span> <span class="token string">'test.txt'</span><span class="token punctuation">;</span>
//同步读取
data  <span class="token operator">=</span> fs.readFileSync<span class="token punctuation">(</span>file<span class="token punctuation">)</span>
str <span class="token operator">=</span> data.toString<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console.log<span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token number">2</span>、写文件内容
const fs <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
const <span class="token function">file</span> <span class="token operator">=</span> <span class="token string">'test.txt'</span><span class="token punctuation">;</span>
const str <span class="token operator">=</span> <span class="token string">'\n11111'</span><span class="token punctuation">;</span>

fs.appendFile<span class="token punctuation">(</span>file, str, <span class="token string">'utf8'</span>, <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console.error<span class="token punctuation">(</span><span class="token string">'追加文件内容时出错:'</span>, err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        console.log<span class="token punctuation">(</span><span class="token string">'内容追加成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">3</span>、删除文件
unlink<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">##示例：</span>
const fs <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
const <span class="token function">file</span> <span class="token operator">=</span> <span class="token string">'test.txt'</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>fs.existsSync<span class="token punctuation">(</span>file<span class="token punctuation">))</span> <span class="token punctuation">{<!-- --></span>
    fs.unlink<span class="token punctuation">(</span>file, <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            console.error<span class="token punctuation">(</span><span class="token string">'删除文件时出错:'</span>, err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            console.log<span class="token punctuation">(</span><span class="token string">'文件删除成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
    console.log<span class="token punctuation">(</span><span class="token string">'文件不存在'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token number">4</span>、创建目录
mkdir<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">##示例：</span>
const fs <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
const <span class="token function">dir</span> <span class="token operator">=</span> <span class="token string">'myweb'</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fs.existsSync<span class="token punctuation">(</span>dir<span class="token punctuation">))</span> <span class="token punctuation">{<!-- --></span>
    fs.mkdir<span class="token punctuation">(</span>dir, <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            console.error<span class="token punctuation">(</span><span class="token string">'创建目录时出错:'</span>, err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            console.log<span class="token punctuation">(</span><span class="token string">'目录创建成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
    console.log<span class="token punctuation">(</span><span class="token string">'目录已存在'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token number">5</span>、删除目录
rmdir<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     get请求
    </p>
    <pre><code class="prism language-bash">http <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
url <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
querystring <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'querystring'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

cs <span class="token operator">=</span> function<span class="token punctuation">(</span>req,res<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    uri <span class="token operator">=</span> req.url
    if<span class="token punctuation">(</span>uri <span class="token operator">!=</span><span class="token string">'/favicon.ico'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        str <span class="token operator">=</span> url.parse<span class="token punctuation">(</span>uri<span class="token punctuation">)</span>.query<span class="token punctuation">;</span>
        json <span class="token operator">=</span> querystring.parse<span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console.log<span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
        res.write<span class="token punctuation">(</span>JSON.stringify<span class="token punctuation">(</span>json<span class="token punctuation">))</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    res.end<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

http.createServer<span class="token punctuation">(</span>cs<span class="token punctuation">)</span>.listen<span class="token punctuation">(</span><span class="token number">8000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console.log<span class="token punctuation">(</span><span class="token string">'server is running'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     工具模块
    </p>
    <pre><code class="prism language-bash"><span class="token comment">##os模块</span>
const os <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'os'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console.log<span class="token punctuation">(</span>os.platform<span class="token punctuation">(</span><span class="token punctuation">))</span>

<span class="token comment">##path模块</span>
const path <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
str <span class="token operator">=</span> <span class="token string">'/user/local/www/index.sh'</span><span class="token punctuation">;</span>
console.log<span class="token punctuation">(</span>path.extname<span class="token punctuation">(</span>str<span class="token punctuation">))</span>
</code></pre>
    <h3>
     <a id="_385">
     </a>
     实战
    </h3>
    <p>
     1、php操作删除数据库
     <br/>
     index.php
    </p>
    <pre><code class="prism language-bash"><span class="token operator">&lt;</span>?php
// 创建连接
<span class="token variable">$conn</span> <span class="token operator">=</span> new mysqli<span class="token punctuation">(</span><span class="token string">"localhost"</span>, <span class="token string">"root"</span>, <span class="token string">"root"</span>, <span class="token string">"myweb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
// 检查连接是否成功
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$conn</span>-<span class="token operator">&gt;</span>connect_error<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    die<span class="token punctuation">(</span><span class="token string">"连接失败: "</span> <span class="token builtin class-name">.</span> <span class="token variable">$conn</span>-<span class="token operator">&gt;</span>connect_error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

// 设置字符集
<span class="token variable">$conn</span>-<span class="token operator">&gt;</span>set_charset<span class="token punctuation">(</span><span class="token string">"utf8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

// 执行查询
<span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string">"SELECT * FROM user"</span><span class="token punctuation">;</span>
<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$conn</span>-<span class="token operator">&gt;</span>query<span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

// 检查查询结果
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$ret</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token builtin class-name">echo</span> <span class="token string">"查询失败: "</span> <span class="token builtin class-name">.</span> <span class="token variable">$conn</span>-<span class="token operator">&gt;</span>error<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

// 关闭连接
<span class="token variable">$conn</span>-<span class="token operator">&gt;</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
?<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html <span class="token assign-left variable">lang</span><span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta <span class="token assign-left variable">charset</span><span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">"viewport"</span> <span class="token assign-left variable">content</span><span class="token operator">=</span><span class="token string">"width=device-width, initial-scale=1.0"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Document<span class="token operator">&lt;</span>/title<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
        *<span class="token punctuation">{<!-- --></span>
            font-family: 微软雅黑<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span>/style<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>link <span class="token assign-left variable">rel</span><span class="token operator">=</span><span class="token string">"stylesheet"</span> <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">"https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"</span> <span class="token assign-left variable">integrity</span><span class="token operator">=</span><span class="token string">"sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"</span> <span class="token assign-left variable">crossorigin</span><span class="token operator">=</span><span class="token string">"anonymous"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script <span class="token assign-left variable">src</span><span class="token operator">=</span><span class="token string">"https://code.jquery.com/jquery-3.5.1.min.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script <span class="token assign-left variable">src</span><span class="token operator">=</span><span class="token string">"https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"</span> <span class="token assign-left variable">integrity</span><span class="token operator">=</span><span class="token string">"sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"</span> <span class="token assign-left variable">crossorigin</span><span class="token operator">=</span><span class="token string">"anonymous"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script <span class="token assign-left variable">src</span><span class="token operator">=</span><span class="token string">"https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"</span> <span class="token assign-left variable">integrity</span><span class="token operator">=</span><span class="token string">"sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF"</span> <span class="token assign-left variable">crossorigin</span><span class="token operator">=</span><span class="token string">"anonymous"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"container"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2 <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"page-header"</span><span class="token operator">&gt;</span>查看用户：<span class="token operator">&lt;</span>/h<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>
        <span class="token operator">&lt;</span>table <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"table table-bordered table-hover"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>编号<span class="token operator">&lt;</span>/th<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>用户名<span class="token operator">&lt;</span>/th<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>密码<span class="token operator">&lt;</span>/th<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>删除<span class="token operator">&lt;</span>/th<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>/tr<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>?php 
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token variable">$row</span> <span class="token operator">=</span> <span class="token variable">$ret</span>-<span class="token operator">&gt;</span>fetch_assoc<span class="token punctuation">(</span><span class="token punctuation">))</span> <span class="token punctuation">{<!-- --></span>
                <span class="token builtin class-name">echo</span> <span class="token string">"&lt;tr&gt;"</span><span class="token punctuation">;</span>
                <span class="token builtin class-name">echo</span> <span class="token string">"&lt;td&gt;"</span> <span class="token builtin class-name">.</span> <span class="token variable">$row</span><span class="token punctuation">[</span><span class="token string">"id"</span><span class="token punctuation">]</span> <span class="token builtin class-name">.</span> <span class="token string">"&lt;/td&gt;"</span><span class="token punctuation">;</span>
                <span class="token builtin class-name">echo</span> <span class="token string">"&lt;td&gt;"</span> <span class="token builtin class-name">.</span> <span class="token variable">$row</span><span class="token punctuation">[</span><span class="token string">"username"</span><span class="token punctuation">]</span> <span class="token builtin class-name">.</span> <span class="token string">"&lt;/td&gt;"</span><span class="token punctuation">;</span>
                <span class="token builtin class-name">echo</span> <span class="token string">"&lt;td&gt;"</span> <span class="token builtin class-name">.</span> <span class="token variable">$row</span><span class="token punctuation">[</span><span class="token string">"password"</span><span class="token punctuation">]</span> <span class="token builtin class-name">.</span> <span class="token string">"&lt;/td&gt;"</span><span class="token punctuation">;</span>
                <span class="token builtin class-name">echo</span> <span class="token string">"&lt;td&gt;&lt;a href='#' class='del' id='{<!-- --><span class="token variable">$row</span>['id']}'&gt;删除&lt;/&gt;&lt;/td&gt;"</span><span class="token punctuation">;</span>
                <span class="token builtin class-name">echo</span> <span class="token string">"&lt;/tr&gt;"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            ?<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>/table<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token variable"><span class="token variable">$(</span>'.del'<span class="token variable">)</span></span>.click<span class="token punctuation">(</span><span class="token function-name function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token builtin class-name">let</span> <span class="token function">id</span> <span class="token operator">=</span> <span class="token variable"><span class="token variable">$(</span>this<span class="token variable">)</span></span>.attr<span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token builtin class-name">let</span> row <span class="token operator">=</span> <span class="token variable"><span class="token variable">$(</span>this<span class="token variable">)</span></span>.closest<span class="token punctuation">(</span><span class="token string">'tr'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> // 保存当前行的引用
        $.get<span class="token punctuation">(</span><span class="token string">'del.php'</span>,<span class="token punctuation">{<!-- --></span>id:id<span class="token punctuation">}</span>,function<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            if<span class="token punctuation">(</span>data <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                row.hide<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token punctuation">}</span>else<span class="token punctuation">{<!-- --></span>
                alert<span class="token punctuation">(</span><span class="token string">'删除失败'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/html<span class="token operator">&gt;</span>
</code></pre>
    <p>
     del.php
    </p>
    <pre><code class="prism language-bash"><span class="token operator">&lt;</span>?php
// 创建连接
<span class="token variable">$conn</span> <span class="token operator">=</span> new mysqli<span class="token punctuation">(</span><span class="token string">"localhost"</span>, <span class="token string">"root"</span>, <span class="token string">"root"</span>, <span class="token string">"myweb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
// 检查连接是否成功
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$conn</span>-<span class="token operator">&gt;</span>connect_error<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    die<span class="token punctuation">(</span><span class="token string">"连接失败: "</span> <span class="token builtin class-name">.</span> <span class="token variable">$conn</span>-<span class="token operator">&gt;</span>connect_error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

// 设置字符集
<span class="token variable">$conn</span>-<span class="token operator">&gt;</span>set_charset<span class="token punctuation">(</span><span class="token string">"utf8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

// 执行查询
<span class="token variable">$id</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string">"DELETE FROM user WHERE id = {<!-- --><span class="token variable">$id</span>}"</span><span class="token punctuation">;</span>
<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$conn</span>-<span class="token operator">&gt;</span>query<span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

// 检查查询结果
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$ret</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token builtin class-name">echo</span> <span class="token string">"删除失败: "</span> <span class="token builtin class-name">.</span> <span class="token variable">$conn</span>-<span class="token operator">&gt;</span>error<span class="token punctuation">;</span>
<span class="token punctuation">}</span>else<span class="token punctuation">{<!-- --></span>
    <span class="token builtin class-name">echo</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

// 关闭连接
<span class="token variable">$conn</span>-<span class="token operator">&gt;</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre>
    <p>
     2、node操作删除数据库
     <br/>
     index.php
    </p>
    <pre><code class="prism language-bash"><span class="token operator">&lt;</span>?php
// 创建连接
<span class="token variable">$conn</span> <span class="token operator">=</span> new mysqli<span class="token punctuation">(</span><span class="token string">"localhost"</span>, <span class="token string">"root"</span>, <span class="token string">"root"</span>, <span class="token string">"myweb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
// 检查连接是否成功
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$conn</span>-<span class="token operator">&gt;</span>connect_error<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    die<span class="token punctuation">(</span><span class="token string">"连接失败: "</span> <span class="token builtin class-name">.</span> <span class="token variable">$conn</span>-<span class="token operator">&gt;</span>connect_error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

// 设置字符集
<span class="token variable">$conn</span>-<span class="token operator">&gt;</span>set_charset<span class="token punctuation">(</span><span class="token string">"utf8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

// 执行查询
<span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string">"SELECT * FROM user"</span><span class="token punctuation">;</span>
<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$conn</span>-<span class="token operator">&gt;</span>query<span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

// 检查查询结果
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$ret</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token builtin class-name">echo</span> <span class="token string">"查询失败: "</span> <span class="token builtin class-name">.</span> <span class="token variable">$conn</span>-<span class="token operator">&gt;</span>error<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

// 关闭连接
<span class="token variable">$conn</span>-<span class="token operator">&gt;</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
?<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html <span class="token assign-left variable">lang</span><span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta <span class="token assign-left variable">charset</span><span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">"viewport"</span> <span class="token assign-left variable">content</span><span class="token operator">=</span><span class="token string">"width=device-width, initial-scale=1.0"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Document<span class="token operator">&lt;</span>/title<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
        *<span class="token punctuation">{<!-- --></span>
            font-family: 微软雅黑<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span>/style<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>link <span class="token assign-left variable">rel</span><span class="token operator">=</span><span class="token string">"stylesheet"</span> <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">"https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"</span> <span class="token assign-left variable">integrity</span><span class="token operator">=</span><span class="token string">"sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"</span> <span class="token assign-left variable">crossorigin</span><span class="token operator">=</span><span class="token string">"anonymous"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script <span class="token assign-left variable">src</span><span class="token operator">=</span><span class="token string">"https://code.jquery.com/jquery-3.5.1.min.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script <span class="token assign-left variable">src</span><span class="token operator">=</span><span class="token string">"https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"</span> <span class="token assign-left variable">integrity</span><span class="token operator">=</span><span class="token string">"sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"</span> <span class="token assign-left variable">crossorigin</span><span class="token operator">=</span><span class="token string">"anonymous"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script <span class="token assign-left variable">src</span><span class="token operator">=</span><span class="token string">"https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"</span> <span class="token assign-left variable">integrity</span><span class="token operator">=</span><span class="token string">"sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF"</span> <span class="token assign-left variable">crossorigin</span><span class="token operator">=</span><span class="token string">"anonymous"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"container"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2 <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"page-header"</span><span class="token operator">&gt;</span>查看用户：<span class="token operator">&lt;</span>/h<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>
        <span class="token operator">&lt;</span>table <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"table table-bordered table-hover"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>编号<span class="token operator">&lt;</span>/th<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>用户名<span class="token operator">&lt;</span>/th<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>密码<span class="token operator">&lt;</span>/th<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>删除<span class="token operator">&lt;</span>/th<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>/tr<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>?php 
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token variable">$row</span> <span class="token operator">=</span> <span class="token variable">$ret</span>-<span class="token operator">&gt;</span>fetch_assoc<span class="token punctuation">(</span><span class="token punctuation">))</span> <span class="token punctuation">{<!-- --></span>
                <span class="token builtin class-name">echo</span> <span class="token string">"&lt;tr&gt;"</span><span class="token punctuation">;</span>
                <span class="token builtin class-name">echo</span> <span class="token string">"&lt;td&gt;"</span> <span class="token builtin class-name">.</span> <span class="token variable">$row</span><span class="token punctuation">[</span><span class="token string">"id"</span><span class="token punctuation">]</span> <span class="token builtin class-name">.</span> <span class="token string">"&lt;/td&gt;"</span><span class="token punctuation">;</span>
                <span class="token builtin class-name">echo</span> <span class="token string">"&lt;td&gt;"</span> <span class="token builtin class-name">.</span> <span class="token variable">$row</span><span class="token punctuation">[</span><span class="token string">"username"</span><span class="token punctuation">]</span> <span class="token builtin class-name">.</span> <span class="token string">"&lt;/td&gt;"</span><span class="token punctuation">;</span>
                <span class="token builtin class-name">echo</span> <span class="token string">"&lt;td&gt;"</span> <span class="token builtin class-name">.</span> <span class="token variable">$row</span><span class="token punctuation">[</span><span class="token string">"password"</span><span class="token punctuation">]</span> <span class="token builtin class-name">.</span> <span class="token string">"&lt;/td&gt;"</span><span class="token punctuation">;</span>
                <span class="token builtin class-name">echo</span> <span class="token string">"&lt;td&gt;&lt;a href='#' class='del' id='{<!-- --><span class="token variable">$row</span>['id']}'&gt;删除&lt;/&gt;&lt;/td&gt;"</span><span class="token punctuation">;</span>
                <span class="token builtin class-name">echo</span> <span class="token string">"&lt;/tr&gt;"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            ?<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>/table<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token variable"><span class="token variable">$(</span>'.del'<span class="token variable">)</span></span>.click<span class="token punctuation">(</span><span class="token function-name function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token builtin class-name">let</span> <span class="token function">id</span> <span class="token operator">=</span> <span class="token variable"><span class="token variable">$(</span>this<span class="token variable">)</span></span>.attr<span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token builtin class-name">let</span> row <span class="token operator">=</span> <span class="token variable"><span class="token variable">$(</span>this<span class="token variable">)</span></span>.closest<span class="token punctuation">(</span><span class="token string">'tr'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> // 保存当前行的引用
        $.getJSON<span class="token punctuation">(</span><span class="token string">'http://localhost:8888?cb=?'</span>, <span class="token punctuation">{<!-- --></span>id:id<span class="token punctuation">}</span>, function<span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            if<span class="token punctuation">(</span>json.ok <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                row.remove<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> // 删除当前行
            <span class="token punctuation">}</span>else<span class="token punctuation">{<!-- --></span>
                alert<span class="token punctuation">(</span><span class="token string">'删除失败'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/html<span class="token operator">&gt;</span>
</code></pre>
    <p>
     index.js
    </p>
    <pre><code class="prism language-bash">const http <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
const url <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
const querystring <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'querystring'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
const mysql <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'mysql'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

const cs <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>req, res<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    const uri <span class="token operator">=</span> req.url<span class="token punctuation">;</span> // 获取请求的 URL
    const parsedUrl <span class="token operator">=</span> url.parse<span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">;</span> // 解析 URL
    const json <span class="token operator">=</span> querystring.parse<span class="token punctuation">(</span>parsedUrl.query<span class="token punctuation">)</span><span class="token punctuation">;</span> // 解析查询字符串
    fname <span class="token operator">=</span> json.cb<span class="token punctuation">;</span>
    <span class="token function">id</span> <span class="token operator">=</span> json.id<span class="token punctuation">;</span>
    jsonstr <span class="token operator">=</span> fname + <span class="token string">'({"ok":"1"})'</span><span class="token punctuation">;</span>
    //连接操作数据库
    const connection <span class="token operator">=</span> mysql.createConnection<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        host: <span class="token string">'localhost'</span>,
        user: <span class="token string">'root'</span>,
        password: <span class="token string">'root'</span>,
        database: <span class="token string">'myweb'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    connection.connect<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    connection.query<span class="token punctuation">(</span><span class="token string">'DELETE FROM user WHERE id = ?'</span>, <span class="token punctuation">[</span>id<span class="token punctuation">]</span>, <span class="token keyword">function</span> <span class="token punctuation">(</span>error, rs, fields<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        if<span class="token punctuation">(</span>rs.affectedRows <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            res.write<span class="token punctuation">(</span>jsonstr<span class="token punctuation">)</span><span class="token punctuation">;</span>
            res.end<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    //关闭数据库
    connection.end<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

http.createServer<span class="token punctuation">(</span>cs<span class="token punctuation">)</span>.listen<span class="token punctuation">(</span><span class="token number">8888</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f33393231383436342f:61727469636c652f64657461696c732f313436303735353535" class_="artid" style="display:none">
 </p>
</div>


