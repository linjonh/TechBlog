---
arturl_encode: "687474:70733a2f2f626c6f672e6373646e2e6e65742f6468726d742f:61727469636c652f64657461696c732f313436313934343633"
layout: post
title: "è°ƒä¼˜æ¡ˆä¾‹ä¸€å †ç©ºé—´æ‰©å®¹æå‡ååé‡å®æˆ˜è®°å½•"
date: 2025-03-12 06:11:47 +08:00
description: "ğŸŒŸ è°ƒä¼˜çœŸè°›ï¼šç”¨æ•°æ®è¯´è¯ï¼é€šè¿‡é‡åŒ–æŒ‡æ ‡éªŒè¯æ¯æ¬¡è°ƒæ•´çš„åˆç†æ€§ï¼Œæ‰æ˜¯JVMè°ƒä¼˜çš„æ­£ç¡®å§¿åŠ¿~"
keywords: "è°ƒä¼˜æ¡ˆä¾‹ä¸€ï¼šå †ç©ºé—´æ‰©å®¹æå‡ååé‡å®æˆ˜è®°å½•"
categories: ['æœªåˆ†ç±»']
tags: ['è°ƒä¼˜', 'Jvm']
artid: "146194463"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146194463
    alt: "è°ƒä¼˜æ¡ˆä¾‹ä¸€å †ç©ºé—´æ‰©å®¹æå‡ååé‡å®æˆ˜è®°å½•"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146194463
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146194463
cover: https://bing.ee123.net/img/rand?artid=146194463
image: https://bing.ee123.net/img/rand?artid=146194463
img: https://bing.ee123.net/img/rand?artid=146194463
---

# è°ƒä¼˜æ¡ˆä¾‹ä¸€ï¼šå †ç©ºé—´æ‰©å®¹æå‡ååé‡å®æˆ˜è®°å½•

#### ğŸ“ è°ƒä¼˜æ¡ˆä¾‹ä¸€ï¼šå †ç©ºé—´æ‰©å®¹æå‡ååé‡å®æˆ˜è®°å½•

---

##### ğŸ”§ è°ƒä¼˜ç­–ç•¥ï¼šå †ç©ºé—´æ‰©å®¹ä¸‰éƒ¨æ›²

```sh
# åŸé…ç½®ï¼ˆ30MBå †ç©ºé—´ï¼‰
export CATALINA_OPTS="$CATALINA_OPTS -Xms30m -Xmx30m"

# æ–°é…ç½®ï¼ˆæ‰©å®¹è‡³120MBï¼‰
export CATALINA_OPTS="$CATALINA_OPTS -Xms120m -Xmx120m"

```

![image-20250312054534366](https://i-blog.csdnimg.cn/img_convert/d4341cc0ebe8168affe000853313d061.png)

---

##### ğŸ“Š æ•ˆæœéªŒè¯ï¼šç›‘æ§å·¥å…·ä¸‰ä»¶å¥—

1. **è¿›ç¨‹å®šä½**

   ```bash
   jps -l  # ğŸ¯ å¿«é€Ÿé”å®šTomcatè¿›ç¨‹

   ```

   ![image-20250312053514993](https://i-blog.csdnimg.cn/img_convert/4589bdbe0108f1b761c9bce1b9787abf.png)
2. **GCç›‘æ§**

   ```bash
   jstat -gc <pid>  # ğŸ” å®æ—¶è§‚æµ‹YoungGC/FullGC

   ```

   ![image-20250312053646065](https://i-blog.csdnimg.cn/img_convert/7c33b83138af9870c45ebd550a495eee.png)
3. **æ—¥å¿—åˆ†æ**

   ```bash
   tail -f gc.log  # ğŸ“œ è¿½è¸ªGCäº‹ä»¶è¯¦æƒ…

   ```

   ![image-20250312054234067](https://i-blog.csdnimg.cn/img_convert/4f4be1e3285aff5a7cd251b96ee3456a.png)

---

##### ğŸš€ æ€§èƒ½æå‡å¯¹æ¯”

| æŒ‡æ ‡ | è°ƒä¼˜å‰ | è°ƒä¼˜å | å¢ç›Š |
| --- | --- | --- | --- |
| å †å¤§å° | 30MB | 120MB | 4ï¸âƒ£å€ |
| ååé‡ | 306 | 330 | â†‘7.8% |
| GCé¢‘ç‡ | é«˜é¢‘ | ä½é¢‘ | ğŸ“‰ |

![image-20250312060635093](https://i-blog.csdnimg.cn/img_convert/db675ae1ebb55aaf030bc0c907252585.png)

---

##### ğŸ’¡ æ ¸å¿ƒç»éªŒ

1. **é»„é‡‘æ³•åˆ™**
   ï¼šå †ç©ºé—´æ‰©å®¹éœ€é…åˆç›‘æ§éªŒè¯ï¼Œé¿å…ç›²ç›®å¢å¤§
2. **å¹³è¡¡è‰ºæœ¯**
   ï¼š
   `Xmx`
   è®¾ç½®åº”å…¼é¡¾ç¡¬ä»¶èµ„æºä¸ä¸šåŠ¡éœ€æ±‚
3. **æŒç»­è§‚å¯Ÿ**
   ï¼šé€šè¿‡
   `jstat`
   +GCæ—¥å¿—å»ºç«‹é•¿æ•ˆç›‘æ§æœºåˆ¶

> ğŸŒŸ è°ƒä¼˜çœŸè°›ï¼šç”¨æ•°æ®è¯´è¯ï¼é€šè¿‡é‡åŒ–æŒ‡æ ‡éªŒè¯æ¯æ¬¡è°ƒæ•´çš„åˆç†æ€§ï¼Œæ‰æ˜¯JVMè°ƒä¼˜çš„æ­£ç¡®å§¿åŠ¿~