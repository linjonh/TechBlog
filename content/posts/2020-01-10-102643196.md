---
layout: post
title: 2020-01-10-C-重制植物大战僵尸Cocos2dx开源项目
date: 2020-01-10 17:11:32 +08:00
categories: ['“植物大战僵尸”游戏C++开发教程']
tags: ['游戏', '游戏开发', 'C']
image:
  path: https://img-blog.csdnimg.cn/20210223191500683.png?x-oss-process&#61;image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjMwMjQ2,size_16,color_FFFFFF,t_70
  alt: C-重制植物大战僵尸Cocos2dx开源项目
artid: 102643196
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=102643196
featuredImagePreview: https://bing.ee123.net/img/rand?artid=102643196
---

# C++ 重制植物大战僵尸（Cocos2dx开源项目）

## 游戏简介：

此游戏全部由哔哩哔哩"尔领尔亿"（LZ）独立制作完成。此游戏与当前可以见到的众多改版不同。此程序不是基于原版游戏的二次开发，而是从新从零开始制作。该程序使用Cocos2dx游戏开发框架以及C++语言制作完成。目前该程序的所有源代码已经开源到github以及gitee上。
  
此游戏目前已经有多种游戏模式。有着不同种类的游戏关卡、有着超过几百关数量的游戏关卡、有着超大地图（10\*18）的游戏模式、有着“锤僵尸”无尽版的游戏模式等等种类。此游戏使用的绝大部分图片、音乐、音效、字体等资源文件来源于原版一代、二代、以及三代的游戏资源，少部分收集于网络以及自己制作。
  
此程序使用原版游戏素材所以不得用于商业用途，否则后果自负。当你运行此游戏或者使用其源代码时则认为默认同意此协议，否则请退出游戏并删除。

由于游戏素材可能存在侵权问题，所以请勿用于商业用途，否则后果自负。 目前有43种僵尸和32种植物。由于是个人开发。程序测试不够彻底。如果你发现游戏的bug，请告诉我。（尽可能的详细说明，比如做了某些动作之后产生的某种bug，该bug出现的频率，该bug是否能够复现等信息，也可通过截图，视频等更直接的方式）

该游戏使用cocos2dx v3.16框架开发。课程业余小项目，不定期更新，持续更新。如果你感觉还行，请给一个star。如果你觉的哪里有问题也可以直接把问题提给我。qq：2117610943

---

## 项目教程合集

[本游戏项目从零开始开发教程专栏地址

![icon-default.png?t=N7T8](https://i-blog.csdnimg.cn/blog_migrate/003a2ce7eb50c2e24a8c624c260c5930.png)
http://t.csdnimg.cn/uzrnw](http://t.csdnimg.cn/uzrnw "本游戏项目从零开始开发教程专栏地址")

---

## 游戏链接：

**视频观看：
[【视频1】](https://www.bilibili.com/video/BV1kh411Q7W5?share_source=copy_web "【视频1】")

[【视频2】](https://www.bilibili.com/video/BV1Zv411J7FX "【视频2】")**

**代码下载：**

[Github下载

![icon-default.png?t=N7T8](https://i-blog.csdnimg.cn/blog_migrate/003a2ce7eb50c2e24a8c624c260c5930.png)
https://github.com/ErLinErYi/PlantsVsZombies](https://github.com/ErLinErYi/PlantsVsZombies "Github下载")

[GitHub - ErLinErYi/PlantsVsZombies: PlantsVsZombies game made by cocos2dx 3.16 (c++)

PlantsVsZombies game made by cocos2dx 3.16 (c++). Contribute to ErLinErYi/PlantsVsZombies development by creating an account on GitHub.

![icon-default.png?t=N7T8](https://i-blog.csdnimg.cn/blog_migrate/003a2ce7eb50c2e24a8c624c260c5930.png)
https://github.com/ErLinErYi/PlantsVsZombies](https://github.com/ErLinErYi/PlantsVsZombies "GitHub - ErLinErYi/PlantsVsZombies: PlantsVsZombies game made by cocos2dx 3.16 (c++)")
  

[Gitee下载

![icon-default.png?t=N7T8](https://i-blog.csdnimg.cn/blog_migrate/003a2ce7eb50c2e24a8c624c260c5930.png)
https://gitee.com/GITLZ/PlantsVsZombies](https://gitee.com/GITLZ/PlantsVsZombies "Gitee下载")

[PlantsVsZombies: 使用c++基于Cocos2dx V3.16 开发的植物大战僵尸游戏

![icon-default.png?t=N7T8](https://i-blog.csdnimg.cn/blog_migrate/003a2ce7eb50c2e24a8c624c260c5930.png)
https://gitee.com/GITLZ/PlantsVsZombies](https://gitee.com/GITLZ/PlantsVsZombies "PlantsVsZombies: 使用c++基于Cocos2dx V3.16 开发的植物大战僵尸游戏")

**官方网站：
[开源游戏下载地址

![icon-default.png?t=N7T8](https://i-blog.csdnimg.cn/blog_migrate/003a2ce7eb50c2e24a8c624c260c5930.png)
http://www.lzgd.xyz/web/index.html](http://www.lzgd.xyz/web/index.html "开源游戏下载地址")**

**关注作者：
[BiLiBiLi](https://space.bilibili.com/351783071 "BiLiBiLi")

[尔领尔亿的个人空间-尔领尔亿个人主页-哔哩哔哩视频

哔哩哔哩尔领尔亿的个人空间，提供尔领尔亿分享的视频、音频、文章、动态、收藏等内容，关注尔领尔亿账号，第一时间了解UP主动态。喜欢游戏开发的一名学生。不定时分享一些自己开发的游戏项目。

![icon-default.png?t=N7T8](https://i-blog.csdnimg.cn/blog_migrate/003a2ce7eb50c2e24a8c624c260c5930.png)
https://space.bilibili.com/351783071](https://space.bilibili.com/351783071 "尔领尔亿的个人空间-尔领尔亿个人主页-哔哩哔哩视频")**

---

## 项目类图：

![](https://i-blog.csdnimg.cn/blog_migrate/ac14ba7e9ff421b15380e214b52c6c83.png)

​

---

## 游戏画面截图：

![](https://i-blog.csdnimg.cn/blog_migrate/3081d269bdad6ab4143d12416c967425.png)

​

![](https://i-blog.csdnimg.cn/blog_migrate/96b994e47ca889e50ee7b83b997b64f5.png)

​

![](https://i-blog.csdnimg.cn/blog_migrate/3f7ea605296d2c22a62de30cb90d8cc8.png)

​

---

## 历史更新信息：

#### 2021.07.16

* 版本 1.3.3.1
* 【新增】新模式-我是僵尸无尽模式
* 【新增】新植物-胆小菇
* 【新增】新植物-模仿者
* 【新增】新植物-窝瓜
* 【新增】新植物-大喷菇
* 【新增】新增官方网站等一些链接
* 【新增】禁止不同设备之间共享存档的问题
* 【修复】1.3.3.0版本模仿者重叠种植的bug
* 【修复】雪人僵尸吃完大蒜后不能向前移动的bug
* 【修复】雪人僵尸遇到土豆雷闪退的bug
* 【修复】植物试炼场模式不能打开的问题
* 【修复】大地图噩梦模式34关僵尸出现错误的问题
* 【修复】射手类植物读取存档后第一次攻击不能发射子弹的bug
* 【修复】其他一些bug
* 【调整】磁力菇、三叶草、忧郁菇、气球僵尸替换高清贴图
* 【调整】金盏花冷却时间由30s缩短至10s
* 【调整】再次缩短锤僵尸后期一关僵尸出现的波数，15波->10波
* 【调整】缩短通关动画时间
* 【调整】调整锤僵尸模式解锁条件
* 【调整】取消窗口关闭显示
* 【调整】调整部分字体大小及颜色
* 【调整】调整猫尾草子弹大小及运动速度
* 【调整】加快植物试炼场模式中僵尸种类的出现速度
* 【调整】锤僵尸模式50关之后通关后小车会变成金币
* 【调整】提高锤僵尸模式僵尸死亡奖励金币的概率(%5->%30)
* 【调整】提高普通模式僵尸死亡奖励金币的概率(%5->%20)
* 【调整】大地图快速回收按钮由之前按一下回收一个调整为回收当前地图上所有
* 【调整】取消电脑版打开游戏会弹出网页的操作
* 【调整】小推车的阴影大小
* 【调整】部分植物的解锁条件

#### 2021.06.25

* 版本 1.3.2.0
* 【新增】植物南瓜头
* 【新增】植物三叶草
* 【新增】植物金盏花
* 【新增】植物磁力菇
* 【新增】手机版本在游戏中屏幕常亮
* 【新增】手机版本适配异形屏、刘海屏、水滴屏（仅限于系统版本大于等于9.0）
* 【修复】解锁金盏花导致闪退的bug
* 【修复】护盾破碎动画重复播放bug
* 【修复】闯关失败有概率不暂停的bug
* 【调整】剔除无用文件，减小体积
* 【调整】植物冰莴苣由单体冰冻调整成范围冰冻
* 【调整】音乐、音效的音量为零时，将停止音乐的播放。
* 【调整】锤僵尸模式解锁锤子所需关卡数调整
* 【调整】锤僵尸模式在一个关卡中，后期僵尸总波数由40波减少到15波
* 【调整】卡牌中植物图像的位置
* 【调整】在试炼场模式下向日葵，金盏花，向日葵等植物不能被选择
* 【调整】植物解锁的阳光数与金币数要求
* 【调整】取消随机播放选择背景音乐，一种模式设置为同一种背景音乐

#### 2021.05.14

* 版本 1.3.1.0
* 此版本更新新增一些内容，修复大量bug，具体改动请看下方：
* 【说明】该游戏是完全是个人重新自制版本，有着自己的一套游戏平衡规则，肯定与官方原版有很多方面不同，这是很正常的。请不要把这个游戏的属性与原版本相比较。
* 【新增】一种新模式：植物试炼场。在此模式下，目前所有的植物全部解锁。使用时所需要的阳光数量以及植物装填时间均为零。但是在此模式下关卡是无尽模式，只会记录出现的僵尸的波数。杀死的僵尸数量也不会被记录，而且没有金币奖励。在此模式下你可以试炼任何植物，但是该关卡不会存档。或许也可以在此关卡下帮助我寻找bug。如遇到bug请及时向我反馈。qq 群：926707238 官方网站：https://gitlz.gitee.io/lz
* 【新增】多种僵尸：气球僵尸等，数量太多请到游戏中查看。
* 【新增】大地图模式自己的关卡数据，该模式不再使用现代世界关卡数据。由于关卡数量较多，所以测试需要大量时间。目前该模式关卡难度尚未十分清楚，以后或根据反馈不断调整
* 【新增】新增多种小车，不同的地图使用不同小车
* 【新增】在冒险中新增快速下一波按钮
* 【新增】大地图模式新增自动收集阳光与金币按钮，如果出现金币或者阳光，按钮会闪烁提示
* 【新增】在全屏模式下，鼠标移到屏幕边缘时地图视角会自动移动
* 【新增】巨人僵尸走路音效
* 【新增】锤僵尸模式中锤到不同的僵尸发出不同的音效
* 【新增】选择关卡界面新增“简单、困难”模式说明文字
* 【修复】小车杀死僵尸的延迟问题
* 【修复】大嘴花遇到巨人僵尸后有概率卡住不动的bug
* 【修复】巨人僵尸遇到未出土的土豆雷时出现原地滑步的bug
* 【修复】巨人僵尸遇到地刺不攻击的bug
* 【修复】大地图困难模式崩溃的bug
* 【修复】大地图模式中僵尸吃大蒜可能导致僵尸移出地图的bug
* 【修复】部分植物子弹小概率能够穿透僵尸而不攻击僵尸的bug
* 【修复】冰莴苣图鉴中错误的说明
* 【修复】锤僵尸模式暂停后激活窗口音乐播放的bug
* 【修复】小鬼僵尸灰烬动画闪烁第一帧的bug
* 【修复】西瓜投手与冰瓜投手伤害判定范围错误的bug
* 【修复】有低概率出现僵尸遇到小推车后判定闯关失败的bug
* 【修复】大地图通关52关一直跳转音乐视频的bug
* 【修复】选择植物卡牌时有概率出现鼠标悬停无选中效果以及鼠标滑轮无效的bug
* 【修复】火豌豆不能恢复冰冻减速僵尸的bug
* 【修复】被冰冻僵尸死亡后恢复移动的bug
* 【修复】按钮在短时间内被快速多次点击可能产生的bug
* 【修复】某些音效不能播放或者播放时刻有问题的bug
* 【修复】在锤僵尸模式下加速后退出不能恢复原速度的bug
* 【修复】某些对话框出现或消失动画可能被玩家操作打断的bug
* 【修复】僵尸掉落的护盾与肢体大小不符合僵尸大小的bug
* 【调整】全面调整关卡数据，包括调整不同关卡的僵尸种类，每一种模式都会有不同的僵尸
* 【调整】全面减慢僵尸的移动速度，速度大约是之前一半
* 【调整】僵尸的移动动画
* 【调整】巨人僵尸贴图替换为二代
* 【调整】现代世界关卡难度，主要是降低前期难度，增加后期难度，之前的问题是前期太难而后期太过于简单
* 【调整】大地图模式选择关卡的全部贴图
* 【调整】大地图模式难度，僵尸血量翻4倍
* 【调整】锤僵尸模式难度。认为此模式简单的不要太过于自信自己的手速，没有通关几百关的不要下此模式过于简单的结论
* 【调整】取消大地图中的任务与玩法，如取消大地图中隐形僵尸，小僵尸，巨型僵尸等
* 【调整】主菜单按钮上文字，使其符合游戏玩法
* 【调整】调整之后寒冰豌豆射手将不能够减速带有盾牌之类的僵尸，除非盾牌被打掉
* 【调整】植物子弹击中僵尸后爆炸的位置
* 【调整】冰瓜投手由单个减速到范围减速
* 【调整】取消离子缘子弹爆炸大地颤动动画
* 【调整】离子缘植物子弹爆炸动画
* 【调整】火豌豆爆炸动画
* 【调整】火爆辣椒爆炸音效
* 【调整】金币动画
* 【调整】游戏中的部分动画
* 【调整】部分植物所需阳光数量以及装填时间
* 【调整】樱桃炸弹爆炸伤害范围由半径1.5格的圆改为以樱桃炸弹为中心的九个格子的范围
* 【调整】下载更新方式，删除百度网盘与腾讯微云下载，推荐使用下载器下载
* 【调整】樱桃炸弹，土豆雷，火爆辣椒等爆炸植物如果一次性不能杀死僵尸时，僵尸将出现被攻击高亮闪白效果
* 【调整】再次降低跳关要求
* 【调整】游戏加载背景图片
* 【优化】香蒲子弹运动速度、流畅度以及轨迹
* 【优化】忧郁菇攻击动画效果
* 【优化】菜单动画效果
* 【优化】创建存档名称时文字模糊的问题

#### 2021.04.02

* 版本：1.3.0.6
* 修复可能造成程序崩溃的bug
* 削弱部分关卡难度
* 降低部分植物所需阳光数
* 降低跳关要求

#### 2021.2.23

* 版本：1.3.0.1
* 新增11种植物：分别是 冰莴苣、大嘴花、寒冰豌豆射手、双胞向日葵、西瓜投手、变异火爆辣椒、三头豌豆射手、杨桃、冰瓜投手、香蒲、忧郁菇。
* 新增1种僵尸：红眼巨人僵尸（伽刚特尔）
* 新增2种游戏模式：锤僵尸（无尽版）、大地图模式（10\*18）
* 新增多种语言版本，玩家可以自己添加语言版本
* 新增游戏背景音乐
* 新增跳关，防止卡关
* 重构僵尸被攻击的判定算法
* 重构植物溅射伤害算法
* 优化加载时的流畅度
* 优化动画效果
* 优化音效
* 优化更新过程
* 优化其他"亿"点细节

#### 2020.6.19

* 版本PlantsVsZombies_1.2.0.3
* 禁止程序启动多个实例（由于启动多个实例可能会产生莫名奇妙的bug）
* 增加程序启动后自动优先选择高性能处理器运行(前提是电脑有多个图形处理器）
* 增加检测程序运行平均帧率，当平均帧率太低时会极大的影响游戏效果。当平均帧率太低会禁止程序的运行。
* 修复不同模式下存档混乱问题
* 修复优化其他一些问题

#### 2020.6.15

* 版本版本PlantsVsZombies_1.2.0.0
* 修复bug
* 增加新内容

#### 2020.6.13

* 版本版本PlantsVsZombies_1.1.9.5
* 增加垂直同步选项，如果出现画面撕裂开启垂直同步可以防止画面撕裂
* 修复存档显示错误的问题
* 优化其他一些问题

#### 2020.5.12

* 版本PlantsVsZombies_1.1.9.3
* 修复关卡中途存档的一些bug
* 修复奖杯获得的一些bug
* 修复植物全部自动解锁的bug
* 修改为在高帧率模式下游戏FPS与显示器的刷新率一致(使游戏流畅度在你的显示器上达到最大且防止画面撕裂）

#### 2020.5.09

* 版本PlantsVsZombies_1.1.8.2
* 增加关卡中途存档
* 增加银奖杯与金奖杯（通过简单模式获得银奖杯，通过困难模式获得金奖杯）
* 修复“强酸柠檬”对僵尸伤害值错误的问题
* 优化其他问题
* 下个版本可能增加无尽模式（由于无尽模式还在测试中，没有开放，开放后获得银奖杯才可以开启无尽。如果效果不好可能放弃无尽模式）
* 更新可能会损失一部分存档 (5月1日到5月9日之间的存档)

#### 2020.5.01

* 版本PlantsVsZombies_1.1.8.1
* 修复优化禁止后台运行产生的bug
* 僵尸掉落肢体护盾增加阴影
* 增加雪人僵尸
* 优化卷心菜投手投出卷心菜的抛物线
* 浮岛之间的连线加粗
* 优化存档问题
* 增加僵尸逼近房子时红色闪烁警告
* 增加其他一些内容
* 增加作弊代码（想想都不可能，洗洗睡吧）
* 优化程序的稳定性

#### 2020.4.18

* 版本PlantsVsZombies_1.1.7.4_200418_alpha
* 修复在游戏进入瞬间取消对该窗口的焦点后卡死闪退的问题
* 优化火炬树桩动画
* 优化程序的稳定性

#### 2020.4.17

* 版本PlantsVsZombies_1.1.7.3_200417_alpha
* 优化预览僵尸站位算法
* 优化植物僵尸被攻击的高亮动画
* 增加杀死僵尸金币随机奖励
* 修复普通豌豆过火后增加溅射伤害
* 修复闯关失败后可能出现卡死的bug
* 优化其他已知问题

#### 2020.4.14

* 版本PlantsVsZombies_1.1.7.200414_alpha
* 火豌豆增加溅射伤害
* 修复土豆雷爆炸动画贴图顺序错误的问题
* 游戏平衡性调整
* 僵尸与植物被攻击状态时闪黑效果替换为白色高亮
* 优化其他已知问题

#### 2020.4.09

* 版本PlantsVsZombies_1.1.7.200409_alpha
* 增加六种旗子僵尸
* 优化关卡僵尸出现比例
* 优化“直接下载”的下载速度
* 修复小鬼僵尸头部大小问题

#### 2020.4.07

* 版本PlantsVsZombies_1.1.6.200407_alpha
* 优化下载提醒

#### 2020.4.02

* 版本PlantsVsZombies_1.1.5.200402_alpha
* 增加版本更新提示，提供在游戏中更新下载
* 修复土豆雷被吃掉后其位置不能种植的bug

#### 2020.3.31

* 版本PlantsVsZombies_1.1.5.200331_alpha
* 修改植物种植错误不扣除阳光
* 修复窗口边缘亮边
* 修复阳光可能出现在边界的问题
* 修复鼠标点击植物卡片可能闪退的bug
* 修复在收取金币界面不能暂停的bug
* 修复土豆雷在爆炸瞬间其位置不能种植的问题
* 增加资源加载错误抛异常
* 调整僵尸掉落头部的大小不合适的问题
* 提升主菜单场景的画质
* 在帮助界面中增加更新信息

#### 2020.3.23

* 版本PlantsVsZombies_1.1.4.200323_alpha
* 修复主菜单点击鼠标产生音效的问题
* 优化游戏体验
* 优化金币数量
* 增加程序稳定性
* 优化其他问题

#### 2020.3.10

* 版本PlantsVsZombies_1.1.3.200310_alpha
* 增加植物爆炸视野颤动
* 增加攻击路障僵尸爆炸音效
* 优化离子缘爆炸伤害算法
* 修改阳光动画为二代
* 修复优化已知的其他问题

#### 2020.3.4

* 版本PlantsVsZombies_1.1.2.200304_alpha
* 资源包减小到之前的1/2~1/3之间
* 修复卷心菜投手有概率出现不攻击僵尸的bug
* 修改字体
* 修复优化已知的其他问题

#### 2020.2.29

* 版本PlantsVsZombies_1.1.1.300229_alpha
* 修复贴图错乱的问题

#### 2020.2.28

* 版本PlantsVsZombies_1.1.1.200228_alpha
* 增加植物“离子缘”
* 增加未解锁的植物
* 优化若干地方

#### 2020.2.23

* 版本为 PlantsVsZombies_1.1.1.200223_alpha
* **整个项目代码重构**
* 由于关卡较难，所以增加简单模式，困难模式保留（等着你突破）
* 增加植物“火爆辣椒”，“强酸柠檬”
* 若干项bug的修复

#### 2019.11.28

* 新增四种植物
* 统一植物画风，全部修改为二代画风
* 新增5种游戏模式
* 植物僵尸属性修改优化
* 新增多存档
* 新增按钮直接可以跳转到下载网页
* 修复其他已知问题

#### 2019.11.3

* 修复已知bug

#### 2019.11.2

* 更换修复游戏引擎，重新编译。
* 支持win7,win10等windows版本。
* 程序体积减小，打包成一个exe文件。

#### 2019.10.30

* 修复使用地刺后下一局必然崩溃的bug
* 修改地刺一次只能攻击一个僵尸的设定(现在可以同时攻击所有的在地刺上面的僵尸）
* 修复其他已知bug

#### 2019.10.27

* 修复土豆雷不能铲除的bug
* 修复修改名字可能出现闪退的bug
* 优化了一些其他的功能

#### 2019.10.19

* 第一个版本完成

#### 2019.7.2

* 开始写第一行代码

68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f34303633303234362f:61727469636c652f64657461696c732f313032363433313936