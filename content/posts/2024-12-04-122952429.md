---
layout: post
title: "字节跳动前端外包面试题"
date: 2024-12-04 13:00:41 +0800
description: "这篇博客分享了三道常见的JavaScript面试题，包括类中this的指向问题，正则表达式实现模板字"
keywords: "字节外包前端面试题"
categories: ['我的前端笔记', 'Js']
tags: ['面试', '前端', 'Javascript']
artid: "122952429"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=122952429
    alt: "字节跳动前端外包面试题"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=122952429
featuredImagePreview: https://bing.ee123.net/img/rand?artid=122952429
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     字节跳动前端外包面试题
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     分享一些面试题，助力大家找到好的工作，2022加油ヾ(◍°∇°◍)ﾉﾞ
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/f3134cb7eedfd8eda70d6854486e2187.jpeg#pic_center"/>
    </p>
    <p>
     习惯了平时vue的开发越来越不重视基础了，不出意外的被吊打了起来，凭借记忆大致还原考题。
    </p>
    <h4>
     <a id="1this_5">
     </a>
     1.this指向问题
    </h4>
    <pre><code class="prism language-javascript"><span class="token keyword">class</span> <span class="token class-name">Preson</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Jerry'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      name<span class="token operator">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span>
      <span class="token function">logName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Preson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">logName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     ps: 随便思考下logName改为箭头函数输出什么?
     <br/>
     这道题拆开来看其实恍然大悟
    </p>
    <pre><code class="prism language-javascript"><span class="token keyword">const</span> obj <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function">logName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// name: 'Tom'</span>
</code></pre>
    <p>
     这里如果logName改为箭头函数的话，this绑定的就是getName的this，也就是输出Jerry，对于长调用式的this指向问题，如果一下看不出来，不妨拆开试试，核心还是要明白每一步是否返回了新的对象。
    </p>
    <h4>
     <a id="2_35">
     </a>
     2.正则表达问题
    </h4>
    <pre><code class="prism language-javascript"><span class="token comment">// 编写render函数</span>
<span class="token comment">// 示例</span>
<span class="token keyword">const</span> template <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div&gt;{<!-- -->{ name }}&lt;span&gt;{<!-- -->{ age }}&lt;/span&gt;&lt;div&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> name<span class="token operator">:</span> <span class="token string">'singh'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">27</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">render</span><span class="token punctuation">(</span>template<span class="token punctuation">,</span> data<span class="token punctuation">)</span>
<span class="token comment">// `&lt;div&gt;singh&lt;span&gt;27&lt;/span&gt;&lt;div&gt;`</span>
</code></pre>
    <p>
     实现的思路是通过replace加正则表达式实现模板字符串替换，以下回答按着这个思路查阅MDN关于replace和正则表达式文档实现而来，没有百度或参考任何人关于render方法实现的博客，所以也不保证是对的。
     <br/>
     因为！从我手里失去的东西一定要自己拿回来。
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/780fec7be90a217808d5b806388b867b.jpeg#pic_center">
      <br/>
      根据文档得出replace方法第一个参数可以是字符串也可以是正则表达式，第二个参数可以是字符串或函数
     </img>
    </p>
    <blockquote>
     <p>
      str.replace(regexp|substr, newSubStr|function)
      <br/>
      一个用来创建新子字符串的函数，该函数的返回值将替换掉第一个参数匹配到的结果
      <br/>
      该方法并不改变调用它的字符串本身，而只是返回一个新的替换后的字符串。
      <br/>
      在进行全局的搜索替换时，正则表达式需包含 g 标志。
     </p>
    </blockquote>
    <p>
     也就是说replace方法第一个参数使用全局的正则表达式匹配双花括号，第二个参数function内处理匹配到的字符串，然后return出来就可以实现替换了。
     <br/>
     function参数如下：
     <br/>
     function(match: 匹配的字符串, P1: 正则表达式分组1,P2: 正则表达式分组2, …Pn, …rest: 用不到详自见文档): string
     <br/>
     ok 结果如下:
    </p>
    <pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">template<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  template<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">{<!-- -->{(.*?)}}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">match<span class="token punctuation">,</span> group</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>match<span class="token punctuation">)</span> 
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span> 
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/78a042089a9f95b44b7ac124e45b8395.png">
      <br/>
      接下来只要匹配data中的数据return出来即可
      <br/>
      完整代码如下:
     </img>
    </p>
    <pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">template<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> template<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">{<!-- -->{(.*?)}}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">match<span class="token punctuation">,</span> group</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> content <span class="token operator">=</span> group<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> data<span class="token punctuation">[</span>content<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> template <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div&gt;{<!-- -->{ name }}&lt;span&gt;{<!-- -->{ age }}&lt;/span&gt;&lt;div&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> name<span class="token operator">:</span> <span class="token string">'singh'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">27</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">render</span><span class="token punctuation">(</span>template<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// &lt;div&gt;singh&lt;span&gt;27&lt;/span&gt;&lt;div&gt;</span>
</code></pre>
    <h4>
     <a id="3promiseAll_88">
     </a>
     3.实现promiseAll方法
    </h4>
    <p>
     原题是怎么样已经忘了，总之需要实现与Promise.all方法行为一致，结果一致。
     <br/>
     这里我不仅忘了原题，也忘了我曾经写过手写promise的文章，也忘了怎么实现。
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/e58ff21f39091e37cced9236edb83e4d.jpeg#pic_center">
      <br/>
      重新分析需求，promiseAll方法的参数是一个数组，并且返回promise，所以可以先把架子搭出来
     </img>
    </p>
    <pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">promiseAll</span><span class="token punctuation">(</span><span class="token parameter">promiseArray</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> pAll <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>

  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> pAll
<span class="token punctuation">}</span>
</code></pre>
    <p>
     这个pAll的行为应该是当promiseArray所有数组都执行完.then()后，按原本的顺序返回一个结果数组，如果失败则进入catch()
     <br/>
     所有这当中我们需要:
     <br/>
     1.一个按顺序存储每一个promise.then结果的数组resStore
     <br/>
     2.一个索引值resStoreIndexe用于标注已完成的promise与resStore对应的数组下标关系
     <br/>
     3.一个计数器counter用于记录已完成的promise数量
     <br/>
     4.promiseArray的length，用于与计数器比较是否全部完成了
    </p>
    <pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">promiseAll</span><span class="token punctuation">(</span><span class="token parameter">promiseArray</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">let</span> _resolve<span class="token punctuation">,</span> _reject<span class="token punctuation">;</span>
  <span class="token keyword">const</span> resStore <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
      resStoreIndexe <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
      len <span class="token operator">=</span> promiseArray<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
      promise <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> pAll <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    _resolve <span class="token operator">=</span> resolve
    _reject <span class="token operator">=</span> reject
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  
  <span class="token keyword">while</span> <span class="token punctuation">(</span>promise <span class="token operator">=</span> promiseArray<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token operator">++</span>counter
        resStore<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> res
        <span class="token keyword">if</span> <span class="token punctuation">(</span>counter <span class="token operator">===</span> len<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token function">_resolve</span><span class="token punctuation">(</span>resStore<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>resStoreIndexe<span class="token punctuation">)</span>
    resStoreIndexe<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">return</span> pAll
<span class="token punctuation">}</span>
</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f34303731303937342f:61727469636c652f64657461696c732f313232393532343239" class_="artid" style="display:none">
 </p>
</div>


