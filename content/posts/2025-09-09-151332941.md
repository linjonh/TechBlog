---
layout: post
title: "在python中使用mysql的方法"
date: 2025-09-09T20:03:36+0800
description: "本文介绍了如何在Python中使用mysql.connector库操作MySQL数据库。主要内容包括：安装mysql-connector-python库；创建connection对象连接数据库并启动游标；执行SQL语句查询数据，使用fetchall()获取结果；进行增删改操作时需在关闭连接前用commit()确认修改；最后关闭游标和连接。通过示例代码展示了数据库连接、查询表数据以及插入新记录的操作流程。"
keywords: "在python中使用mysql的方法"
categories: ['Python']
tags: ['开发语言', 'Python', 'Mysql']
artid: "151332941"
arturl: "https://blog.csdn.net/2202_75369126/article/details/151332941"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=151332941
    alt: "在python中使用mysql的方法"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=151332941
featuredImagePreview: https://bing.ee123.net/img/rand?artid=151332941
cover: https://bing.ee123.net/img/rand?artid=151332941
image: https://bing.ee123.net/img/rand?artid=151332941
img: https://bing.ee123.net/img/rand?artid=151332941
---



# 在python中使用mysql的方法



在python中，可以通过调用 mysql.connector 库来实现对于mymql数据库的大部分操作。

首先，通过 pip 安装 mysql.connector 库到对应的环境：

```

pip install mysql-connector-python
```

之后，先进入mysql，记住要操作的数据库服务器的主机位置（本地or外部ip地址）、连接端口、用户名与用户密码（自己设置的），这里以本地服务器的数据库为例：

![](https://i-blog.csdnimg.cn/direct/e3b1d73bf05344dc82edb1edb20590a0.jpeg)

![](https://i-blog.csdnimg.cn/direct/653bdb365dd945f483614482fde8f369.jpeg)

        创建一个connection对象进行连接，将mysql的相关参数输入，同时也需要创建一个游标对象用于代码读取。

```

import mysql.connector

connection = mysql.connector.connect(host='localhost',
                                    port='3306',
                                    user='root',
                                    password='123') #连接到数据库
cursor = connection.cursor() #启动游标
```

后面就可以开始写sql语句进行对数据库的操作了，代码格式为：“cursor.execute("sql代码")。

同时，如要获取数据库的查询结果，需要使用 fetchall（）函数，这个函数会将数据库的查询结果保存在一个列表之中。这里以查询全部数据库的信息为例：

```

cursor.execute("show databases")
records = cursor.fetchall() #获取查询后的所有结果
for r in records:
    print(r)
```

输出结果如下：

![](https://i-blog.csdnimg.cn/direct/07be4684b6f24e7a9c97f1527354b90c.png)

也可以对数据库中的表进行查询：

```

cursor.execute("use exercise2") 
cursor.execute("select * from branch")
records = cursor.fetchall()
for r in records:
    print(r)
```

输出结果如下：

![](https://i-blog.csdnimg.cn/direct/dcf1d617938442b88381b2d17bda083b.png)

当对数据库的所有操作完成后，需要关闭游标以及服务器连接，才算完成全部的操作。

```

cursor.close()#关闭游标
connection.close()#关闭连接
```

特别注意的是，如需要对数据库的数据进行“增删改”等改变数据的操作，需要在关闭服务器连接前进行确定（多加一行确定修改数据的代码）：

```

cursor.execute("insert into branch values(5,'leader',null)") #执行添加数据操作
cursor.execute("select * from branch")
records = cursor.fetchall()
for r in records:
    print(r)

cursor.close()#关闭游标
connection.commit()#要对数据库进行除查询以外的其他操作时，需要在最后多加一个修改确认的代码。
connection.close()#关闭连接
```

至此，便可在python中使用mysql的数据库了。



