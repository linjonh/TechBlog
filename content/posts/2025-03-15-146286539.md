---
layout: post
title: "DataWhale大语言模型-大模型技术基础"
date: 2025-03-15 23:21:46 +0800
description: "跟着datawhale学习大模型"
keywords: "DataWhale大语言模型-大模型技术基础"
categories: ['大模型学习']
tags: ['语言模型', '自然语言处理', '人工智能']
artid: "146286539"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146286539
    alt: "DataWhale大语言模型-大模型技术基础"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146286539
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146286539
cover: https://bing.ee123.net/img/rand?artid=146286539
image: https://bing.ee123.net/img/rand?artid=146286539
img: https://bing.ee123.net/img/rand?artid=146286539
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     DataWhale大语言模型-大模型技术基础
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-tomorrow-night" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <p>
    </p>
    <h2>
     <a id="_1">
     </a>
     什么是大语言模型
    </h2>
    <ul>
     <li>
      定义:通常是指具有
      <strong>
       超大规模参数
      </strong>
      的预训练语言模型
     </li>
    </ul>
    <p>
     与传统的语言模型相比,大语言模型的构建过程涉及到更为复杂的训练方法,进而展现了强大的自然语言理解能力和复杂任务求解能力(通过文本生成的形式)
    </p>
    <ul>
     <li>
      架构:主要作为Transformer解码器的架构
     </li>
     <li>
      训练:训练的内容包括预训练(base model)和后训练(instruct model)
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/4f63106e8efe486ba510c8a9010ebd27.png"/>
     </li>
    </ul>
    <h3>
     <a id="_8">
     </a>
     预训练和后训练之间的对比
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/549ad041a78145eeafced1a7d78900d2.png"/>
    </p>
    <h3>
     <a id="Pretraining_10">
     </a>
     大模型预训练(Pre-training)
    </h3>
    <ul>
     <li>
      利用与下游任务无关的大规模数据进行模型参数的初始训练
     </li>
    </ul>
    <p>
     主要的工作任务可以分成以下步骤:
    </p>
    <ul>
     <li>
      <strong>
       解码器架构+预测下一个词
      </strong>
      :这是由于GPT系列模型的出圈,该方法得到了有效的验证,已经成为了主流的大语言模型的技术路径
     </li>
     <li>
      <strong>
       大量的高质量的数据
      </strong>
      :为了预训练大语言模型需要进行大规模的文本数据,所以数据的数量,数据质量都是十分关键的
     </li>
    </ul>
    <p>
     目前预训练的过程考虑各种细节,所以需要研发人员有丰富的训练经验和异常处理的能力,从而避免算力资源的浪费,提高模型预训练的成功几率
    </p>
    <h3>
     <a id="PostTraining_19">
     </a>
     大语言模型后训练(Post-Training)
    </h3>
    <p>
     这一步可以理解为将一个泛化能力很强的模型不断去精修某一门技术,达到完成指定任务的能力,这一过程可以理解为大模型的微调过程
     <br/>
     目前来讲比较常见的微调技术被称为
     <strong>
      指令微调SFT
     </strong>
    </p>
    <h4>
     <a id="Instruction_Tuning_22">
     </a>
     指令微调(Instruction Tuning)
    </h4>
    <ul>
     <li>
      使用输入与输出配对的指令数据对模型进行微调
     </li>
     <li>
      提升模型通过
      <strong>
       问答模式
      </strong>
      进行任务求解的能力
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/8020f88375b4430c901faf30e2a22678.png"/>
     </li>
    </ul>
    <h4>
     <a id="Human_Alignment_26">
     </a>
     人类对齐(Human Alignment)
    </h4>
    <p>
     除了要提升任务的解决能力,还需要将大语言模型与人类的期望,需求以及价值观对齐,这对于大模型的部署与应用具有重要的意义
    </p>
    <ul>
     <li>
      将大语言模型与人类的期望,需求以及价值观对齐
     </li>
     <li>
      基于人类反馈的强化学习对齐方法(RLHF)
     </li>
    </ul>
    <p>
     在RLHF算法当中,需要标注人员针对大语言模型所生成的多条输出进行
     <strong>
      偏好排序
     </strong>
     ,并使用偏好数据训练奖励模型,用于判断模型的输出质量
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/cc30989c24054826b95f9c0915cec92b.png"/>
    </p>
    <h3>
     <a id="_33">
     </a>
     扩展定律
    </h3>
    <ul>
     <li>
      通过扩展参数规模以及数据规模和计算算力,大语言模型的能力会出现显著的提升
     </li>
     <li>
      扩展定律在本次大模型的浪潮当中起到了至关重要的作用
      <br/>
      也就是说通过扩展带来的性能提升通常显著高于通过改进架构以及算法等方面所带来的改进,使得大语言模型的能力超越了小语言模型的能力
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/c16868a063894f70aa20575a3525fedb.png"/>
     </li>
    </ul>
    <h4>
     <a id="KM_38">
     </a>
     KM扩展定律
    </h4>
    <p>
     由OpenAI团队所提出,首次建立了神经语言模型性能与
     <strong>
      参数规模(N)
     </strong>
     ,**数据规模(D)
     <strong>
      和
     </strong>
     计算算力©**之间的幂律关系
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/8f9619cfda194e7ab6e01247edf51ad8.png">
      <br/>
      <span class="katex--inline">
       <span class="katex">
        <span class="katex-mathml">
         L 
        
       
         ( 
        
       
         ⋅ 
        
       
         ) 
        
       
      
        L(\cdot)
        </span>
        <span class="katex-html">
         <span class="base">
          <span class="strut" style="height: 1em; vertical-align: -0.25em;">
          </span>
          <span class="mord mathnormal">
           L
          </span>
          <span class="mopen">
           (
          </span>
          <span class="mord">
           ⋅
          </span>
          <span class="mclose">
           )
          </span>
         </span>
        </span>
       </span>
      </span>
      用来表示以
      <span class="katex--inline">
       <span class="katex">
        <span class="katex-mathml">
         n 
        
       
         a 
        
       
         t 
        
       
      
        nat
        </span>
        <span class="katex-html">
         <span class="base">
          <span class="strut" style="height: 0.6151em;">
          </span>
          <span class="mord mathnormal">
           na
          </span>
          <span class="mord mathnormal">
           t
          </span>
         </span>
        </span>
       </span>
      </span>
      (用来表示以
      <span class="katex--inline">
       <span class="katex">
        <span class="katex-mathml">
         e 
        
       
      
        e
        </span>
        <span class="katex-html">
         <span class="base">
          <span class="strut" style="height: 0.4306em;">
          </span>
          <span class="mord mathnormal">
           e
          </span>
         </span>
        </span>
       </span>
      </span>
      为底信息量的自然对数)为单位的交叉熵损失,其中
      <span class="katex--inline">
       <span class="katex">
        <span class="katex-mathml">
         N 
         
        
          c 
         
        
       
         , 
        
        
        
          D 
         
        
          c 
         
        
       
         , 
        
        
        
          C 
         
        
          c 
         
        
       
      
        N_c,D_c,C_c
        </span>
        <span class="katex-html">
         <span class="base">
          <span class="strut" style="height: 0.8778em; vertical-align: -0.1944em;">
          </span>
          <span class="mord">
           <span class="mord mathnormal" style="margin-right: 0.109em;">
            N
           </span>
           <span class="msupsub">
            <span class="vlist-t vlist-t2">
             <span class="vlist-r">
              <span class="vlist" style="height: 0.1514em;">
               <span class="" style="top: -2.55em; margin-left: -0.109em; margin-right: 0.05em;">
                <span class="pstrut" style="height: 2.7em;">
                </span>
                <span class="sizing reset-size6 size3 mtight">
                 <span class="mord mathnormal mtight">
                  c
                 </span>
                </span>
               </span>
              </span>
              <span class="vlist-s">
               ​
              </span>
             </span>
             <span class="vlist-r">
              <span class="vlist" style="height: 0.15em;">
               <span class="">
               </span>
              </span>
             </span>
            </span>
           </span>
          </span>
          <span class="mpunct">
           ,
          </span>
          <span class="mspace" style="margin-right: 0.1667em;">
          </span>
          <span class="mord">
           <span class="mord mathnormal" style="margin-right: 0.0278em;">
            D
           </span>
           <span class="msupsub">
            <span class="vlist-t vlist-t2">
             <span class="vlist-r">
              <span class="vlist" style="height: 0.1514em;">
               <span class="" style="top: -2.55em; margin-left: -0.0278em; margin-right: 0.05em;">
                <span class="pstrut" style="height: 2.7em;">
                </span>
                <span class="sizing reset-size6 size3 mtight">
                 <span class="mord mathnormal mtight">
                  c
                 </span>
                </span>
               </span>
              </span>
              <span class="vlist-s">
               ​
              </span>
             </span>
             <span class="vlist-r">
              <span class="vlist" style="height: 0.15em;">
               <span class="">
               </span>
              </span>
             </span>
            </span>
           </span>
          </span>
          <span class="mpunct">
           ,
          </span>
          <span class="mspace" style="margin-right: 0.1667em;">
          </span>
          <span class="mord">
           <span class="mord mathnormal" style="margin-right: 0.0715em;">
            C
           </span>
           <span class="msupsub">
            <span class="vlist-t vlist-t2">
             <span class="vlist-r">
              <span class="vlist" style="height: 0.1514em;">
               <span class="" style="top: -2.55em; margin-left: -0.0715em; margin-right: 0.05em;">
                <span class="pstrut" style="height: 2.7em;">
                </span>
                <span class="sizing reset-size6 size3 mtight">
                 <span class="mord mathnormal mtight">
                  c
                 </span>
                </span>
               </span>
              </span>
              <span class="vlist-s">
               ​
              </span>
             </span>
             <span class="vlist-r">
              <span class="vlist" style="height: 0.15em;">
               <span class="">
               </span>
              </span>
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
       </span>
      </span>
      是实验性常数数值,分别对应于非嵌入参数的数量,训练数据数量以及实际的算力开销
     </img>
    </p>
    <h4>
     <a id="Chinchilla_44">
     </a>
     Chinchilla扩展定律
    </h4>
    <p>
     由DeepMind团队所提出的另一种形式的扩展定律
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/dfe39e3766de4add9ff625b4f95e11fc.png">
      <br/>
      其中
      <span class="katex--inline">
       <span class="katex">
        <span class="katex-mathml">
         a 
        
       
      
        a
        </span>
        <span class="katex-html">
         <span class="base">
          <span class="strut" style="height: 0.4306em;">
          </span>
          <span class="mord mathnormal">
           a
          </span>
         </span>
        </span>
       </span>
      </span>
      和
      <span class="katex--inline">
       <span class="katex">
        <span class="katex-mathml">
         b 
        
       
      
        b
        </span>
        <span class="katex-html">
         <span class="base">
          <span class="strut" style="height: 0.6944em;">
          </span>
          <span class="mord mathnormal">
           b
          </span>
         </span>
        </span>
       </span>
      </span>
      决定了参数规模以及数据规模的资源分配优先级
     </img>
    </p>
    <ul>
     <li>
      当a&gt;b时,应该用更多的算力来提高参数规模
     </li>
     <li>
      当b&gt;a时,应该利用更多的算力来提高数据规模
     </li>
    </ul>
    <h4>
     <a id="_52">
     </a>
     深入讨论
    </h4>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/729eb8e9c824431690f66c38377ee78e.png">
      <br/>
      可预测扩展可以简单的理解为可以通过训练一个小模型去预测一个大模型的性能,这种方法其实很明显的问题就在于,模型的参数量大了的话那么很容易出现预测失败的问题
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/e9ad251bb79648e4bd225c8ddf0e31a5.png"/>
      <br/>
      由于扩展法制存在一定的局限性,当模型的大小超过一定规模的时候,需要提出以下方法–涌现能力
     </img>
    </p>
    <h2>
     <a id="_58">
     </a>
     涌现能力
    </h2>
    <p>
     非形式化的定义:在小型的模型当中并不存在但是在大模型当中出现的能力
     <br/>
     这里可以我认为(不严谨哈)可以这样说:
     <strong>
      量变所引起的质变
     </strong>
     ,由于模型的扩展超过一定的规模,使其能力得到了一定的提升(可以说是跃升)
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/52d93e352b114bfe88d4d855746c26c5.png"/>
    </p>
    <h3>
     <a id="_63">
     </a>
     代表性能力
    </h3>
    <p>
     也就是具有普遍性的一些能力
    </p>
    <h4>
     <a id="Instruction_Following_65">
     </a>
     指令遵循(Instruction Following)
    </h4>
    <ul>
     <li>
      大语言模型能够按照自然语言的指令来执行对应的任务
     </li>
     <li>
      可以通过高质量指令数据微调的方式习得一定的通用指令遵循能力
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/842e7576f4554dd7a1fc9c2281692545.png"/>
     </li>
    </ul>
    <h4>
     <a id="Incontext_Learning_69">
     </a>
     上下文学习(In-context Learning)
    </h4>
    <ul>
     <li>
      在提示当中为语言模型提供自然语言指令和任务示例,无需显式的训练或者梯度更新,仅通过输入文本的单词序列就能为测试样本生成预测的输出
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/4725d2995e00447c88e7cc657e01e6a7.png"/>
     </li>
    </ul>
    <h4>
     <a id="_72">
     </a>
     逐步推理
    </h4>
    <p>
     在大语言模型当中利用思维链的提示策略来加强推理性能
    </p>
    <ul>
     <li>
      在提示当中引入任务相关的中间推理步骤来加强复杂任务的求解,从而获得更加可靠的答案
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/1b749ff45e5644c7840e6c3c5c97ce90.png"/>
     </li>
    </ul>
    <h2>
     <a id="_77">
     </a>
     涌现能力与扩展定律的关系
    </h2>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/24f0fbf42f6142869c410f98a29a0cee.png"/>
    </p>
    <h2>
     <a id="_81">
     </a>
     参考资料
    </h2>
    <p>
     Datawhale学习链接:
     <a href="https://www.datawhale.cn/learn/content/107/3287" rel="nofollow">
      https://www.datawhale.cn/learn/content/107/3287
     </a>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f36323930343838332f:61727469636c652f64657461696c732f313436323836353339" class_="artid" style="display:none">
 </p>
</div>


