---
layout: post
title: "在-Ubuntu-上安装和配置-Docker-的完整指南"
date: 2025-03-13 13:04:26 +0800
description: "本指南介绍了如何在Ubuntu上安装和配置Docker，以及常用的Docker命令。希望这篇文章能帮助你更快上手Docker，并提升开发效率。"
keywords: "ubuntu安装docker compose"
categories: ['Linux']
tags: ['Ubuntu', 'Eureka', 'Docker']
artid: "146227890"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146227890
    alt: "在-Ubuntu-上安装和配置-Docker-的完整指南"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146227890
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146227890
cover: https://bing.ee123.net/img/rand?artid=146227890
image: https://bing.ee123.net/img/rand?artid=146227890
img: https://bing.ee123.net/img/rand?artid=146227890
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     在 Ubuntu 上安装和配置 Docker 的完整指南
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     Docker 是一个开源的平台，旨在简化应用程序的开发、部署和运行。通过将应用程序及其依赖项打包到容器中，Docker 确保应用程序可以在任何环境中一致地运行。
    </p>
    <h3>
     <a id="_2">
     </a>
     <strong>
      目录
     </strong>
    </h3>
    <ol>
     <li>
      <a href="#%E5%89%8D%E8%A8%80" rel="nofollow">
       前言
      </a>
     </li>
     <li>
      <a href="#%E5%AE%89%E8%A3%85%E5%89%8D%E7%9A%84%E5%87%86%E5%A4%87" rel="nofollow">
       安装前的准备
      </a>
     </li>
     <li>
      <a href="#%E5%AE%89%E8%A3%85-docker" rel="nofollow">
       安装 Docker
      </a>
      <ul>
       <li>
        <a href="#%E6%AD%A5%E9%AA%A4-1%E6%9B%B4%E6%96%B0%E5%8C%85%E7%B4%A2%E5%BC%95" rel="nofollow">
         步骤 1：更新包索引
        </a>
       </li>
       <li>
        <a href="#%E6%AD%A5%E9%AA%A4-2%E5%AE%89%E8%A3%85%E5%BF%85%E8%A6%81%E7%9A%84%E4%BE%9D%E8%B5%96%E5%8C%85" rel="nofollow">
         步骤 2：安装必要的依赖包
        </a>
       </li>
       <li>
        <a href="#%E6%AD%A5%E9%AA%A4-3%E6%B7%BB%E5%8A%A0-docker-%E7%9A%84%E5%AE%98%E6%96%B9-gpg-%E5%AF%86%E9%92%A5" rel="nofollow">
         步骤 3：添加 Docker 的官方 GPG 密钥
        </a>
       </li>
       <li>
        <a href="#%E6%AD%A5%E9%AA%A4-4%E6%B7%BB%E5%8A%A0-docker-%E7%9A%84-apt-%E4%BB%93%E5%BA%93" rel="nofollow">
         步骤 4：添加 Docker 的 APT 仓库
        </a>
       </li>
       <li>
        <a href="#%E6%AD%A5%E9%AA%A4-5%E6%9B%B4%E6%96%B0%E5%8C%85%E7%B4%A2%E5%BC%95" rel="nofollow">
         步骤 5：更新包索引
        </a>
       </li>
       <li>
        <a href="#%E6%AD%A5%E9%AA%A4-6%E5%AE%89%E8%A3%85-docker-ce-%E5%8F%8A%E7%9B%B8%E5%85%B3%E7%BB%84%E4%BB%B6" rel="nofollow">
         步骤 6：安装 Docker CE 及相关组件
        </a>
       </li>
       <li>
        <a href="#%E6%AD%A5%E9%AA%A4-7%E5%90%AF%E5%8A%A8%E5%B9%B6%E8%AE%BE%E7%BD%AE-docker-%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF%E5%8A%A8" rel="nofollow">
         步骤 7：启动并设置 Docker 开机自启动
        </a>
       </li>
       <li>
        <a href="#%E6%AD%A5%E9%AA%A4-8%E9%AA%8C%E8%AF%81-docker-%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F" rel="nofollow">
         步骤 8：验证 Docker 是否安装成功
        </a>
       </li>
      </ul>
     </li>
     <li>
      <a href="#%E9%85%8D%E7%BD%AE-docker" rel="nofollow">
       配置 Docker
      </a>
      <ul>
       <li>
        <a href="#%E5%B0%86%E5%BD%93%E5%89%8D%E7%94%A8%E6%88%B7%E6%B7%BB%E5%8A%A0%E5%88%B0-docker-%E7%94%A8%E6%88%B7%E7%BB%84" rel="nofollow">
         将当前用户添加到 Docker 用户组
        </a>
       </li>
       <li>
        <a href="#%E9%85%8D%E7%BD%AE%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F%E6%BA%90%E4%BB%A5%E5%8A%A0%E9%80%9F-docker-%E6%8B%89%E5%8F%96" rel="nofollow">
         配置国内镜像源以加速 Docker 拉取
        </a>
       </li>
      </ul>
     </li>
     <li>
      <a href="#%E5%B8%B8%E7%94%A8%E7%9A%84-docker-%E5%91%BD%E4%BB%A4" rel="nofollow">
       常用的 Docker 命令
      </a>
     </li>
     <li>
      <a href="#%E7%BB%93%E8%AE%BA" rel="nofollow">
       结论
      </a>
     </li>
    </ol>
    <hr/>
    <h3>
     <a id="_23">
     </a>
     <strong>
      前言
     </strong>
    </h3>
    <p>
     在现代软件开发中，容器化技术已成为主流。Docker 作为领先的容器化平台，提供了轻量级、可移植和自给自足的环境，使开发者能够更高效地构建和部署应用程序。
    </p>
    <hr/>
    <h3>
     <a id="_29">
     </a>
     <strong>
      提醒
     </strong>
    </h3>
    <p>
     版本更新会导致获取官方 GPG 密钥的方式失败，大家可以结合
     <a href="https://docs.docker.com/engine/install/ubuntu/#install-from-a-package" rel="nofollow">
      Docker 官方安装文档
     </a>
     一起配置。
    </p>
    <hr/>
    <h3>
     <a id="_34">
     </a>
     <strong>
      安装前的准备
     </strong>
    </h3>
    <p>
     在开始安装 Docker 之前，建议确保系统已更新，以避免可能的兼容性问题。
    </p>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token function">sudo</span> <span class="token function">apt</span> upgrade <span class="token parameter variable">-y</span>
</code></pre>
    <hr/>
    <h3>
     <a id="_Docker_45">
     </a>
     <strong>
      安装 Docker
     </strong>
    </h3>
    <p>
     以下是在 Ubuntu 上安装 Docker 的详细步骤：
    </p>
    <h4>
     <a id="_1_49">
     </a>
     <strong>
      步骤 1：更新包索引
     </strong>
    </h4>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> update
</code></pre>
    <h4>
     <a id="_2_55">
     </a>
     <strong>
      步骤 2：安装必要的依赖包
     </strong>
    </h4>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> apt-transport-https ca-certificates <span class="token function">curl</span> software-properties-common
</code></pre>
    <h4>
     <a id="_3_Docker__GPG__61">
     </a>
     <strong>
      步骤 3：添加 Docker 的官方 GPG 密钥
     </strong>
    </h4>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">install</span> <span class="token parameter variable">-m</span> 0755 <span class="token parameter variable">-d</span> /etc/apt/keyrings
<span class="token function">sudo</span> <span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://download.docker.com/linux/ubuntu/gpg <span class="token parameter variable">-o</span> /etc/apt/keyrings/docker.asc
<span class="token function">sudo</span> <span class="token function">chmod</span> a+r /etc/apt/keyrings/docker.asc
</code></pre>
    <p>
     如果上述命令失败，可以使用阿里云的 Docker 源：
    </p>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">install</span> <span class="token parameter variable">-m</span> 0755 <span class="token parameter variable">-d</span> /etc/apt/keyrings
<span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/keyrings/docker.asc <span class="token operator">&gt;</span> /dev/null
<span class="token function">sudo</span> <span class="token function">chmod</span> a+r /etc/apt/keyrings/docker.asc
</code></pre>
    <h4>
     <a id="_4_Docker__APT__77">
     </a>
     <strong>
      步骤 4：添加 Docker 的 APT 仓库
     </strong>
    </h4>
    <pre><code class="prism language-bash"><span class="token builtin class-name">echo</span> <span class="token punctuation">\</span>
  <span class="token string">"deb [arch=<span class="token variable"><span class="token variable">$(</span>dpkg --print-architecture<span class="token variable">)</span></span> signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \
  <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">.</span> /etc/os-release <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">${UBUNTU_CODENAME<span class="token operator">:-</span>$VERSION_CODENAME}</span>"</span><span class="token variable">)</span></span> stable"</span> <span class="token operator">|</span> <span class="token punctuation">\</span>
  <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/docker.list <span class="token operator">&gt;</span> /dev/null
</code></pre>
    <p>
     如果上述命令失败，可以使用阿里云的 Docker APT 仓库：
    </p>
    <pre><code class="prism language-bash"><span class="token builtin class-name">echo</span> <span class="token punctuation">\</span>
<span class="token string">"deb [arch=<span class="token variable"><span class="token variable">$(</span>dpkg --print-architecture<span class="token variable">)</span></span> signed-by=/etc/apt/keyrings/docker.asc] \
https://mirrors.aliyun.com/docker-ce/linux/ubuntu \
<span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">.</span> /etc/os-release <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token punctuation">\</span>"$<span class="token punctuation">{<!-- --></span>UBUNTU_CODENAME:-$VERSION_CODENAME<span class="token punctuation">}</span><span class="token punctuation">\</span>"<span class="token variable">)</span></span> stable"</span> <span class="token operator">|</span> <span class="token punctuation">\</span>
<span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/docker.list <span class="token operator">&gt;</span> /dev/null
</code></pre>
    <h4>
     <a id="_5_96">
     </a>
     <strong>
      步骤 5：更新包索引
     </strong>
    </h4>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> update
</code></pre>
    <h4>
     <a id="_6_Docker_CE__102">
     </a>
     <strong>
      步骤 6：安装 Docker CE 及相关组件
     </strong>
    </h4>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
</code></pre>
    <h4>
     <a id="_7_Docker__108">
     </a>
     <strong>
      步骤 7：启动并设置 Docker 开机自启动
     </strong>
    </h4>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> systemctl start <span class="token function">docker</span>
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span>
</code></pre>
    <h4>
     <a id="_8_Docker__115">
     </a>
     <strong>
      步骤 8：验证 Docker 是否安装成功
     </strong>
    </h4>
    <pre><code class="prism language-bash"><span class="token function">docker</span> <span class="token parameter variable">--version</span>
</code></pre>
    <hr/>
    <h3>
     <a id="_Docker_123">
     </a>
     <strong>
      配置 Docker
     </strong>
    </h3>
    <h4>
     <a id="_Docker__125">
     </a>
     <strong>
      将当前用户添加到 Docker 用户组
     </strong>
    </h4>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">usermod</span> <span class="token parameter variable">-aG</span> <span class="token function">docker</span> <span class="token environment constant">$USER</span>
</code></pre>
    <h4>
     <a id="_Docker__131">
     </a>
     <strong>
      配置国内镜像源以加速 Docker 拉取
     </strong>
    </h4>
    <p>
     <strong>
      示例（不可用，下方有阿里源加速器 ID 获取方式）：
     </strong>
    </p>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /etc/docker
</code></pre>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;</span><span class="token string">EOF
{
  "registry-mirrors": [
    "https://mirror.ccs.tencentyun.com",
    "https://hub-mirror.c.163.com",
    "https://docker.mirrors.ustc.edu.cn",
    "https://registry.cn-hangzhou.aliyuncs.com"
  ]
}
EOF</span>
</code></pre>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> systemctl daemon-reload
<span class="token function">sudo</span> systemctl restart <span class="token function">docker</span>
</code></pre>
    <p>
     阿里源加速器 ID 的获取方式，点击镜像加速器，获取操作文档：
     <a href="https://cr.console.aliyun.com/cn-shanghai/instances/mirrors" rel="nofollow">
      容器镜像服务
     </a>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/45e2824117814dc68b4f9af48c620081.png"/>
    </p>
    <hr/>
    <h3>
     <a id="_Docker__162">
     </a>
     <strong>
      常用的 Docker 命令
     </strong>
    </h3>
    <h4>
     <a id="_164">
     </a>
     <strong>
      镜像操作
     </strong>
    </h4>
    <pre><code class="prism language-bash"><span class="token function">docker</span> images
<span class="token function">docker</span> pull <span class="token operator">&lt;</span>image_name<span class="token operator">&gt;</span>
<span class="token function">docker</span> rmi <span class="token operator">&lt;</span>image_id<span class="token operator">&gt;</span>
</code></pre>
    <h4>
     <a id="_171">
     </a>
     <strong>
      容器操作
     </strong>
    </h4>
    <pre><code class="prism language-bash"><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span>
<span class="token function">docker</span> run <span class="token parameter variable">-it</span> ubuntu <span class="token function">bash</span>
<span class="token function">docker</span> stop <span class="token operator">&lt;</span>container_id<span class="token operator">&gt;</span>
<span class="token function">docker</span> <span class="token function">rm</span> <span class="token operator">&lt;</span>container_id<span class="token operator">&gt;</span>
</code></pre>
    <h4>
     <a id="_179">
     </a>
     <strong>
      网络和端口
     </strong>
    </h4>
    <pre><code class="prism language-bash"><span class="token function">docker</span> network <span class="token function">ls</span>
<span class="token function">docker</span> inspect <span class="token operator">&lt;</span>container_id<span class="token operator">&gt;</span>
</code></pre>
    <h4>
     <a id="Docker_Compose_185">
     </a>
     <strong>
      Docker Compose
     </strong>
    </h4>
    <pre><code class="prism language-bash"><span class="token function">docker</span> compose up <span class="token parameter variable">-d</span>
<span class="token function">docker</span> compose <span class="token function">ps</span>
<span class="token function">docker</span> compose down
</code></pre>
    <h4>
     <a id="_192">
     </a>
     <strong>
      系统资源管理
     </strong>
    </h4>
    <pre><code class="prism language-bash"><span class="token function">docker</span> stats
<span class="token function">docker</span> system prune <span class="token parameter variable">-a</span>
</code></pre>
    <hr/>
    <h3>
     <a id="_200">
     </a>
     <strong>
      结论
     </strong>
    </h3>
    <p>
     本指南介绍了如何在 Ubuntu 上安装和配置 Docker，以及常用的 Docker 命令。希望这篇文章能帮助你更快上手 Docker，并提升开发效率。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f35383634383839302f:61727469636c652f64657461696c732f313436323237383930" class_="artid" style="display:none">
 </p>
</div>


