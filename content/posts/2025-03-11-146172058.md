---
layout: post
title: "20250311-vue-Props1"
date: 2025-03-11 16:07:48 +0800
description: "一个组件需要显式声明它所接受的 props，这样 Vue 才能知道外部传入的哪些是 props，哪些是透传 attribute。对于以对象形式声明的每个属性，key 是 prop 的名称，而值则是该 prop 预期类型的构造函数。比如，如果要求一个 prop 的值是number类型，则可使用Number构造函数作为其声明的值。对象形式的 props 声明不仅可以一定程度上作为组件的文档，而且如果其他开发者在使用你的组件时传递了错误的类型，也会在浏览器控制台中抛出警告。"
keywords: "20250311-vue-Props1"
categories: ['未分类']
tags: ['前端', 'Vue', 'Javascript']
artid: "146172058"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146172058
    alt: "20250311-vue-Props1"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146172058
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146172058
cover: https://bing.ee123.net/img/rand?artid=146172058
image: https://bing.ee123.net/img/rand?artid=146172058
img: https://bing.ee123.net/img/rand?artid=146172058
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     20250311-vue-Props1
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2>
     Props 声明
    </h2>
    <p>
     一个组件需要显式声明它所接受的 props，这样 Vue 才能知道外部传入的哪些是 props，哪些是透传 attribute。
    </p>
    <p>
     props 需要使用 props 选项来定义：
    </p>
    <pre><code class="language-javascript">export default {
  props: ['foo'],
  created() {
    // props 会暴露到 `this` 上
    console.log(this.foo)
  }
}</code></pre>
    <p>
     除了使用字符串数组来声明 props 外，还可以使用对象的形式：
    </p>
    <pre><code class="language-javascript">export default {
  props: {
    title: String,
    likes: Number
  }
}</code></pre>
    <p>
     对于以对象形式声明的每个属性，key 是 prop 的名称，而值则是该 prop 预期类型的构造函数。比如，如果要求一个 prop 的值是
     <code>
      number
     </code>
     类型，则可使用
     <code>
      Number
     </code>
     构造函数作为其声明的值。
    </p>
    <p>
     对象形式的 props 声明不仅可以一定程度上作为组件的文档，而且如果其他开发者在使用你的组件时传递了错误的类型，也会在浏览器控制台中抛出警告。
    </p>
    <h2>
     传递 prop 的细节
    </h2>
    <h4>
     Prop 名字格式
    </h4>
    <p>
     如果一个 prop 的名字很长，应使用 camelCase 形式，因为它们是合法的 JS 标识符，可以直接在模板的表达式中使用，也可以避免在作为属性 key 名时必须加上引号。
    </p>
    <pre><code class="language-javascript">属性key名
export default {
  props: {
    greetingMessage: String
  }
}</code></pre>
    <pre><code class="language-html">模板表达式
&lt;span&gt;{<!-- -->{ greetingMessage }}&lt;/span&gt;</code></pre>
    <p>
     虽然理论上你也可以在向子组件传递 props 时使用 camelCase 形式，但实际上为了和 HTML attribute 对其，我们通常会将其写为 kebab-case 形式：
    </p>
    <pre><code class="language-javascript">&lt;MyComponent greeting-message="hello" /&gt;</code></pre>
    <p>
     组件名使用 PascalCase 提高了模板的可读性，能帮助区分 Vue 组件和原生 HTML 元素。然而对于传递 props 来说，使用 camelCase 并没有太多优势，推荐使用更贴近 HTML 的书写风格。
    </p>
    <h4>
     静态 vs. 动态 Props
    </h4>
    <p>
     静态值形式的 props：
    </p>
    <pre><code class="language-javascript">&lt;BlogPost title="My journey with Vue" /&gt;</code></pre>
    <p>
     使用 v-bind 或缩写 : 来进行动态绑定的 props：
    </p>
    <pre><code class="language-javascript">&lt;!-- 根据一个变量的值动态传入 --&gt;
&lt;BlogPost :title="post.title" /&gt;

&lt;!-- 根据一个更复杂表达式的值动态传入 --&gt;
&lt;BlogPost :title="post.title + ' by ' + post.author.name" /&gt;</code></pre>
    <h4>
     传递不同的值类型
    </h4>
    <p>
     在上述的两个例子中，我们只传入了字符串值，但实际上任何类型的值都可以作为 props 的值被传递。
    </p>
    <h6>
     Number
    </h6>
    <pre><code class="language-javascript">&lt;!-- 虽然 '42' 是个常量，我们还是需要使用 v-bind
因为这是一个 JS 表达式而不是一个字符串 --&gt;
&lt;BlogPost :likes="42" /&gt;

&lt;!-- 根据一个变量的值动态传入 --&gt;
&lt;BlogPost :likes="post.likes" /&gt;</code></pre>
    <h6>
     Boolean
    </h6>
    <pre><code class="language-javascript">&lt;!-- 仅写上 prop 但不传值，会隐式转换为 `true` --&gt;
&lt;BlogPost is-published /&gt;

&lt;!-- 虽然 `false` 是静态的值，我们还是需要使用 v-bind --&gt;
&lt;!-- 因为这是一个 JavaScript 表达式而不是一个字符串 --&gt;
&lt;BlogPost :is-published="false" /&gt;

&lt;!-- 根据一个变量的值动态传入 --&gt;
&lt;BlogPost :is-published="post.isPublished" /&gt;</code></pre>
    <h6>
     Array
    </h6>
    <pre><code class="language-javascript">&lt;!-- 虽然这个数组是个常量，我们还是需要使用 v-bind --&gt;
&lt;!-- 因为这是一个 JavaScript 表达式而不是一个字符串 --&gt;
&lt;BlogPost :comment-ids="[234, 266, 273]" /&gt;

&lt;!-- 根据一个变量的值动态传入 --&gt;
&lt;BlogPost :comment-ids="post.commentIds" /&gt;</code></pre>
    <h6>
     Object
    </h6>
    <pre><code class="language-javascript">&lt;!-- 虽然这个对象字面量是个常量，我们还是需要使用 v-bind --&gt;
&lt;!-- 因为这是一个 JavaScript 表达式而不是一个字符串 --&gt;
&lt;BlogPost
  :author="{
    name: 'Veronica',
    company: 'Veridian Dynamics'
  }"
 /&gt;

&lt;!-- 根据一个变量的值动态传入 --&gt;
&lt;BlogPost :author="post.author" /&gt;</code></pre>
    <h4>
     使用一个对象绑定多个 prop
    </h4>
    <p>
     如果你想要将一个对象的所有属性都当作 props 传入，你可以使用没有参数的 v-bind，即只使用 v-bind 而非 :prop-name。例如，这里有一个 post 对象：
    </p>
    <pre><code class="language-javascript">export default {
  data() {
    return {
      post: {
        id: 1,
        title: 'My Journey with Vue'
      }
    }
  }
}</code></pre>
    <p>
     以及下面的模板：
    </p>
    <pre><code class="language-javascript">&lt;BlogPost v-bind="post" /&gt;</code></pre>
    <p>
     而这实际上等价于：
    </p>
    <pre><code class="language-javascript">&lt;BlogPost :id="post.id" :title="post.title" /&gt;</code></pre>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f67:2e6373646e2e6e65742f7869657a6875616e677368756e762f:61727469636c652f64657461696c732f313436313732303538" class_="artid" style="display:none">
 </p>
</div>


