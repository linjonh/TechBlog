---
arturl_encode: "68747470733a2f2f626c6f:672e6373646e2e6e65742f626573745f7869616f6c6f6e672f:61727469636c652f64657461696c732f313131343635353436"
layout: post
title: "DIY一个1pA超微电流测试器,非常易懂"
date: 2023-01-04 22:13:43 +0800
description: "关注、星标公众号，直达精彩内容整理：张晓宇微电流在探索、测试、研究领域，用途广泛，是打开电子测试微观"
keywords: "pa 电流源"
categories: ['未分类']
tags: ['编程语言', '数据分析', '人工智能', 'Phpmyadmin', 'Microsoft']
artid: "111465546"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=111465546
  alt: "DIY一个1pA超微电流测试器,非常易懂"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=111465546
featuredImagePreview: https://bing.ee123.net/img/rand?artid=111465546
---

# DIY一个1pA超微电流测试器，非常易懂！

## **关注、星标公众号** ，直达精彩内容

整理：张晓宇

微电流在探索、测试、研究领域，用途广泛，是打开电子测试微观领域的一把钥匙。人类探索微观电流世界的过程从pA级到fA，再到aA，现已经进入单个电子时代。

人们往往认为，DIY一个1pA测试器是需要经历巨大挑战的。本文试图说明，通过适当的方法和传统而简单的成熟技术，不仅可以很好的解决了测试1pA的问题，同时可以把测试下限做到1fA以下，进入aA领域。

**电路图及说明**

用电池供电，微功耗设计；电池选9V，用低压差低功耗的HT7150三端稳压成5V，自耗电<4uA；

然后用双运放的一半，把5V分成±2.5V双电源，这部分耗电<22uA；R3和R4把-2.5V分压成100mV作为标准电压，由R5=100G提供测试用的1pA标准电流。这部分耗电5uA；

最后，双运放的另一半接成经典负反馈I-V转换电路，这部分耗电16uA；运放采用LMC6062AIN，很便宜的东西，典型Ib=10fA，典型Vos=100uV，耗电32uA；

运放也可以用LMC6042AIN，很便宜的东西，典型Ib=2fA，典型Vos=1000uV，耗电20uA；R6提供保护，不至于因偶然输入过压而导致运放损坏；

R7是反馈电阻，C4是反馈电容，用于抵消输入电容的影响，提高响应时间，同时也与R7一起提供一定的时间常数。

合计耗电<47uA，一节9V充电电池（350mAh）可以使用7000多个小时。如果换用LMC6042AIN，总耗电<35uA，电池可以使用10000小时。

![](https://i-blog.csdnimg.cn/blog_migrate/32b138328f76c68893b9441420889d66.png)
  
**仿真**

电路很简单，预期会很顺利，但实际上很艰难。大概是Multisim对于超高阻部分做的不好。

可以看到，仿真软件把主运放的Vos取了0.35mV，另外也肯定加入了Ib的影响，最后的输出有一点偏差，很正常。

![](https://i-blog.csdnimg.cn/blog_migrate/39b28def4e64673eb9f913d4c703442b.png)

**准备材料、元件**

除了个别元件比较难找外，其余都是很常见的。特殊的元件，主要是100G的电阻。

![](https://i-blog.csdnimg.cn/blog_migrate/0cb7f8be7e62e1436c81d11c33412527.png)
  
![](https://i-blog.csdnimg.cn/blog_migrate/a91efdfd8cb0edd48ec4efef504f058d.png)

**元件布局**

先裁减好万能板，主要元件排布一下。上边是电源，右下是输入，左下是输出。

![](https://i-blog.csdnimg.cn/blog_migrate/020a68641317b680ba6032a17639a394.png)

**制作输入隔离岛**

此处为关键部位，隔离岛需要高度绝缘。采用优质BNC插座，确认绝缘部分是特富龙材料，这是常见的最好的绝缘材料，电阻率可以超过10的15次方欧姆-厘米。

不仅如此，BNC插座的外皮，要强制在地电位，这样与中心导体的电位差就很小（<1mV），这样才能保证漏电不超过0.1fA。

![](https://i-blog.csdnimg.cn/blog_migrate/9f7596322690b0fc463bca4e41c12670.png)

**输入岛岛芯的制作**

这部分要实现良好的机械支撑和电气绝缘，同时要尽量减少体积以免不必要的输入电容和感染，这样就直接在中心导体上焊接成四叉，分别接输入、反馈电阻Rf、反馈电容Cf、运放输入/保护电阻。

![](https://i-blog.csdnimg.cn/blog_migrate/f21a8fddef6417be7694cb844b2a07f9.png)

**元件安装和焊接**

这部分没有啥特别的，常规做法。不过也比较麻烦，断断续续焊了两个小时，刚刚完成。标准电压源，不仅有0.1V，而且增加了10mV：

![](https://i-blog.csdnimg.cn/blog_migrate/78d76a97685892feda60790bcd4e43e2.png)

**反馈电容制作**

其实还没有焊接完成，发现运放的输出还没有接，反馈电容还没有位置，补做一个。

这个电容要求超低漏电、很小的容量，难于找到成品，只有自己做。用外径0.55、内径0.34的特富龙单芯双绞线8cm，加密双绞。测试一下，4.7pF，可以了。

![](https://i-blog.csdnimg.cn/blog_migrate/2d52a03c54643edadba4a6f2bb7a365c.png)

**安装基本完成**

又发现一个错误，电压源的地接错了，接到了-2.5V上去。改正后，装上大部分元件后：

![](https://i-blog.csdnimg.cn/blog_migrate/f7f2c8d84b118c0407acc44b1c930bb8.png)

**初步测试**

用Mengxin DIY手持6位半测试，不给予任何电流信号，即输入电流为零，只接上反馈电阻和反馈电容，零点貌似正常，不装盒时有干扰，装盒后大约为1.7mW，也就是17fA

![](https://i-blog.csdnimg.cn/blog_migrate/da733de1b33de8dec5396259339bafb9.png)

加上1pA内部电流后，输出大约是91.5mV，也就是915fA，正常。

![](https://i-blog.csdnimg.cn/blog_migrate/7c6140fff1e7143b72766032a1402248.png)

**初步采集**

仍然用Mengxin 6.5，测试时保存在内部MicroSD卡中，采集了零点和1pA信号，结果非常平稳，噪音非常小。至此，1pA超微电流测试仪DIY成功！

**运放的说明**
  
  
看照片，这些都是Ib超级微小的CMOS运放，由于输入级都是MOS管，因此Ib都非常小。尽管LMC6001很著名，但其用料和制作并没有什么特别的，只是出厂前进行了100%的测试，保证Ib<25fA而已。这些运放尽管Ib的指标值相差很大，但实际上相差不大，绝大多数都会低于典型值，或者Ib<10fA，因此可以基本随便选用，使用前测试一下，个别的淘汰即可。

我主推LMC6042A和LMC6062A的原因，就是低耗电。Ib小，电流噪音就自然小。这些运放的电流噪音的指标都低于0.2fA/√Hz。Ib小，受温度系数的影响就小。因此，超微电流测试，Ib是首要选择目标。

价格上，LMC6001A贵一些，其它都很便宜，尤其是图中的下面两款，很容易买到。

![](https://i-blog.csdnimg.cn/blog_migrate/361ff86c9c5d1628ff1f6b1bc2b2bafc.png)

其它的常用运放，还有一些金封的，例如ICH8500A、AD549LH、OPA128LM：

![](https://i-blog.csdnimg.cn/blog_migrate/242d3b6f084093c6ccf578680efda57f.png)

不过，根据国半，金封的Ib反而不如塑封的好，再由于价格贵，不推荐。

![](https://i-blog.csdnimg.cn/blog_migrate/1503344bc72c52e9e6c64361feea3ce6.png)

**超高阻的说明**
  
  
照片为我自己的测试过的所有100G的电阻。

A. 国产的100G真空电阻，有一定的电压系数，但低压下表现尚可，温漂也凑合。如果手头正好有这种电阻，可以用在此处的超微电流测试仪里。

B. 新近国产100G，红色漆皮，但表现很好。温度系数大约0.14%/C，电压系数很小，低压下表现也非常好。

C. 日本FINECHEM的 RH2HVS，误差只有1%（F），高压下（10V～1000V）表现也非常好，但就是低压下表现很差，介质吸收严重，一旦加压（例如开机时的5V）则难于恢复，会在很长一段时间内表现出开路有输出电压，电荷释放时间比较长。

D. 国产的片状电阻，名义上是RI80，也许是小厂的产品，非常垃圾的东西，电压系数超大，10V和100V下电阻能相差2倍以上，<1V下几乎要开路（电阻>10T），其表现类似一个稳压管，因此绝对不可以用在此处。另外，该电阻的极化存储现象也很严重。

![](https://i-blog.csdnimg.cn/blog_migrate/7c473b943a1fe1e470e781a031409206.png)

根据Johnson Noise理论，可以测试的最小电流受下列电流噪音公式约束：
  
I^2 = 4 \* k \* T \* B / R

其中k是玻尔兹曼常数，为1.38E-23，T是绝对温度，B是带宽，R是信号源内阻。

把常见的T=300度、B=1Hz、R=10MΩ带入，结果得到40.7fA。显然这个噪音对于微弱电流还是太大，要想改进，在常规场合（比如不能搞低温恒温）、测试速度确定的场合下，唯一我们能做的就是提高信号源内阻。如果R选择1GΩ，那么电流噪音就变成4.1fA了，减到了1/10。假如继续把R增大到100G，那么噪音极限就达到0.4fA了（2fApp，如图红圈所示）。

吉时利往往被公认为是国际微电流测试最高水平，其目前仍然是保持记录的静电计K642，里面的反馈电阻最大用到了12次方（1T），这与其0.08fArms的电流噪音指标是吻合的。理论上，如果进一步要其测试下限达到1E-17（10aArms，50aApp）也是可能的，只要提高信号源内阻到100T，同时要加大一些测试时间，如下图绿圈所示。因此可以看到，单从噪音从这一点看我们就需要超高阻。

![](https://i-blog.csdnimg.cn/blog_migrate/d67e736de917fea775c45e2788c909d8.png)

（本图来自吉时利低电平测试手册，并做了延伸）
  
  
内阻越高则电流噪音越低，这个概念与微电压的测试正好相反，因此有一些人转不过弯来，不想用高阻.

的确，内阻高则噪音大，但噪音是与内阻的半次方成正比的，量程、增益是与内阻的1次方成正比的，算下来还是需要选择高阻。无论是信号源的内阻，还是运放的反馈电阻，均受此规律制约。
  
  
**数据采集的说明**
  
  
数据采集，就是把微电流测试器的电压输出信号，转变成数字数据保存起来。简单一点的采集，要用到ADC，可以DIY，也有各种现成的采集卡、USB采集器可以买到。

但更方便的，是利用带有计算机接口的商品万用表。我最早用UNI-T的UT71，4位半表，具有RS232接口，带有程序；后来用Fluke 289，需要用FlukeView；在基准测试中，我一般用3458A加上GPIB卡，灵活、准确而功能强大。但在这里，我用了Mengxin DIY的手持6位半万用表，这表除了具有高精度、高分辨的特性外，还带有内置MicroSD写卡器，这样在采集的过程中不仅不需要交流供电，还可以脱离计算机，避免干扰。采集的数据为csv格式（逗号分隔文本）。

![](https://i-blog.csdnimg.cn/blog_migrate/dbcb14f3868d0f21ea2602f9b8e612ae.png)

数据能够采集下来，不仅可以长期无损保存，更可以后续做曲线、进行各种分析。我喜欢用Excel，在保存数据的同时，可以方便的求出平均值、最大最小值、标准差、阿伦方差等，更主要的，还可以作图。

![](https://i-blog.csdnimg.cn/blog_migrate/c7a4dd3793169c2e095979e624008923.png)

**用微电流源进行测试**

有人会问，自己DIY的微电流仪准吗？误差如何？如何校准？这个么，我这里正好有个WD-1直流微电流源，输出范围是0.01pA到110uA。

![](https://i-blog.csdnimg.cn/blog_migrate/3780c1747fdf6b439b3224fb4fb9c206.png)
  
![](https://i-blog.csdnimg.cn/blog_migrate/876267b475601b0297d1722e8c7ee839.png)

先装好输入BNC插座

![](https://i-blog.csdnimg.cn/blog_migrate/dc45f028e8dd4459f410950fa5284af1.png)
  
![](https://i-blog.csdnimg.cn/blog_migrate/785014df34b4dd1cfc3fff049936f4c3.png)

用这个WD-1输出1pA对DIY微电流仪进行测试，同时采集：

![](https://i-blog.csdnimg.cn/blog_migrate/0d8ceb19522fcac0558ef3a387ccb9ca.png)

从表的读数就可以看到，这次比较准了。开始不太准的原因是用的两个100G的电阻，一个偏大另一个偏小。

现在这个Rf是找了一个合适的换上去的。目前正在测试中，测完后我贴出结果。更新，结果出来了，出奇的好。

由于该微电流测试器只有一级，是反向的，因此正电流输入后读数为负。刚才测试的时候把WD-1的输出极性开关放到“-”的位置，输出就为正了。1pA曲线平直、噪音很低。选取最好的100个数计算标准差，为0.28fA，这可以认为就是有效值噪音。同样，选取100个计算峰峰值，仅为1.3fA。从灵敏度看，按噪音有效值的2倍计算，为0.6fA。

![](https://i-blog.csdnimg.cn/blog_migrate/a769e1ef0d079ad6d5b56d1faecfd4b3.png)

100fA的结果类似，直观看一下曲线：

![](https://i-blog.csdnimg.cn/blog_migrate/50606be0a8a9f8599ec272de84b31889.png)

标准差0.30fA，峰峰值1.38fA
  
  
那么，如何认定该测试仪的测试100fA的“精度”呢？是2.5%？还是什么别的？
  
无论如何，可以把这个叫做100fA测试器也是可以的。
  
  
至于为什么测试1pA还比100fA好一点，不得而知，也许是偶然的。无论如何，1pA和100fA的短期稳定性和重复性相近。用Cf=5pF、Rf=100G带入理论计算公式计算一下，得到电流噪音的理论值是0.29fArms，峰峰值是1.44fA，可以看到，我的测试已经达到了噪音理论值！要想再好是不可能的了，除非继续增大反馈电阻。
  
  
**如何衡量一个微电流测试器的好坏**
  
  
有人会说，那还不容易，用精度，或者准确度。
  
实际不然，计量界早不这么用了，人家用不确定度。
  
不确定度中包含了重复性、偏差，加上其它的，我这里罗列一下：
  
  
A、稳定性
  
  
稳定是准确的基础，没有稳定性就谈不上精确。比如今天测试一个值，明天测试变了，那还有精度可言吗？或者说，连续测试10次的结果变动很大，又如何准确测试？因此，测试器最重要的就是稳定性，表现在指针表不晃动，数字表的末位不跳动。

具体一点说，稳定性可以分为短期稳定性（短稳）和中长期稳定性。短稳主要由噪音和干扰决定，也可以认为是测试的重复性，可以由噪音的真有效值（rms值）表示，或者由变动的峰峰值表示，计算时可以用标准差，或者更精确一些用阿伦方差（Excel均支持）。

以前手工计算一般只取10个连续的测试值计算，用计算机采集后一般取100个连续值。峰峰值计算比较粗糙但很方便，一般是真有效值的5倍或6倍。中期稳定性一般由温度变化引起，长期稳定性一般由元件的老化引起，可以表示为每年变动百分之多少。
  
  
B、温度变化情况，或者叫温度系数。以每度变化百分之多少来衡量。对于I-V法的微弱电流测试仪，如果漏电能控制的很好，则温度系数主要由反馈电阻决定的。因此，若想减少温度的影响，那就要选择温度系数小的Rf。

超高阻的温漂一般比较大，要求高的可以选择氧化钌材料的高阻。另外，运放的Ib如果比较大，也会引起温漂。Vos的温漂对整体性能贡献不大。
  
  
C、最小分辨。对于指针表，是指最小档的最小刻度；对于数字表，一般是最灵敏量程的最末位数字代表的值。如果噪音太大，那么最小分辨往往没有意义。试想一下，一个数字表在最灵敏的量程下，末位两个数字总在因为噪音的原因在跳动，那最小分辨还有什么意思呢？谁还会去看最后一个数字？
  
  
D、灵敏度。灵敏度是度量一个微弱电流计的重要指标，可以认为，灵敏度为仪器能够分辨的输入改变的最小值，再小的输入信号会被噪音淹没，因此一般可以取噪音有效值的2倍。由于噪音的峰峰值大体上为噪音有效值的5倍，因此灵敏度也大体上等于噪音峰峰值的一半。

E、偏差。这个指标其实关系不大，有偏差校准一下就可以，或者知道了偏离多少，纠正一下即可。现在测试仪大多数字化了，数字零点改正、数字比例纠正是很容易的事情。
  
  
微电流测试器的校准，可以通过刚才的类似WD-1的微电流源进行，也可以用标准电压和标准高阻来进行。例如Keithley 6517的校准就是这样的。标准电压可以提供到非常好，例如Fluke 732B，可以精确的提供10V和1.018V电压。高阻标准电阻，例如采用成品的BZ17超高阻标准电阻。

![](https://i-blog.csdnimg.cn/blog_migrate/b487463d3192d309fb072e6454212b3c.png)
  
![](https://i-blog.csdnimg.cn/blog_migrate/8e378961e5624b36bb161f643ac0b4ca.png)

大部分静电运放的噪声电流均为0.1到0.2fA/√Hz之间，而新型、低噪音的7721怎么能一下子高出几十倍？因此我认为应该是0.1fA/√Hz，等价为2.5T的电阻的噪声。另一方面，超高的Rf也将因Ib而产生压降，例如5fA和1T将产生5mV的输出，所以也应该选取Ib尽可能小的。

来源：https://myoschain.com/blog/137395058906234882

**-END-**

|
****整理文章为传播相关技术，版权归原作者所有****
|

****| 如有侵权，请联系删除****
|

**往期好文合集**

[当电路与艺术相结合，美的让人窒息！](http://mp.weixin.qq.com/s?__biz=MzA4NTU3MjQ0OA%3D%3D&chksm=9fd74fcfa8a0c6d9488c19ccbd505a119238af850320bef77cf8b754f83840d47dc8247e1fba&idx=2&mid=2247492032&scene=21&sn=042abc5de06aa3b1293cdf6dff7033d0#wechat_redirect)

[必备！最全电路基础知识讲解！](http://mp.weixin.qq.com/s?__biz=MzA4NTU3MjQ0OA%3D%3D&chksm=9fd4b7afa8a33eb933130fe6308caffd3472e2eb4893adbac31cd66a5a8ef9dcffcfa8be2b3b&idx=2&mid=2247489952&scene=21&sn=413db5cb9a957450f0ced21ed51d8422#wechat_redirect)

[30种EMC标准电路分享，再不收藏就晚了！](http://mp.weixin.qq.com/s?__biz=MzA4NTU3MjQ0OA%3D%3D&chksm=9fd4b1eca8a338fa62a4a6856096042afd0d942e4b560e4bd4c0f4495dd6ba690fd3630d89d9&idx=2&mid=2247491555&scene=21&sn=69c3fd8485e3d901b5e7315b5101e8c2#wechat_redirect)

### 最 后

若觉得文章不错，
**转发分享**
，也是我们继续更新的动力。

****5T资源大放送！****


****包括但不限于：****
****C/C++，Linux，Python，Java，PHP，人工智能，PCB、FPGA、DSP、labview、单片机、等等****

****！****

******在公众号内回复「******
******更多资源******
******」，即可免费获取，**
期待你的关注~****

![](https://i-blog.csdnimg.cn/blog_migrate/b54422fb065a4fbdf0a8454fabdffe08.png)
![](https://i-blog.csdnimg.cn/blog_migrate/0d2182dc4369f401cafc2fef6b4524ea.png)