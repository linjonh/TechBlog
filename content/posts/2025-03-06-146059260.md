---
layout: post
title: "分发糖果力扣-135"
date: 2025-03-06 09:40:01 +0800
description: "比较右边的大于左边的情况 ratings【i】>ratings[i+1]，因为这里有i+1，所以遍历的时候是从下标为ratings.length-2的位置开始的。所以先从前往后，把下标为0的糖果数目先定为1，比较右边的大于左边的情况 ratings【i】>ratings[i-1]，因为这里有i-1，所以遍历的时候是从下标为1的位置开始的。糖果：            1     2    1     2     1      1      1。第三个孩子只得到 1 颗糖果，这满足题面中的两个条件。"
keywords: "分发糖果力扣--135"
categories: ['贪心算法', '算法']
tags: ['算法', '数据结构', 'Leetcode']
artid: "146059260"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146059260
    alt: "分发糖果力扣-135"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146059260
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146059260
cover: https://bing.ee123.net/img/rand?artid=146059260
image: https://bing.ee123.net/img/rand?artid=146059260
img: https://bing.ee123.net/img/rand?artid=146059260
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     分发糖果力扣--135
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <hr id="hr-toc" name="tableOfContents"/>
    <p>
    </p>
    <h2 id="%E9%A2%98%E7%9B%AE" name="%E9%A2%98%E7%9B%AE">
     题目
    </h2>
    <p>
     <code>
      n
     </code>
     个孩子站成一排。给你一个整数数组
     <code>
      ratings
     </code>
     表示每个孩子的评分。
    </p>
    <p>
     你需要按照以下要求，给这些孩子分发糖果：
    </p>
    <ul>
     <li>
      每个孩子至少分配到
      <code>
       1
      </code>
      个糖果。
     </li>
     <li>
      相邻两个孩子评分更高的孩子会获得更多的糖果。
     </li>
    </ul>
    <p>
     请你给每个孩子分发糖果，计算并返回需要准备的
     <strong>
      最少糖果数目
     </strong>
     。
    </p>
    <p>
    </p>
    <p>
     <strong>
      示例 1：
     </strong>
    </p>
    <pre><strong>输入：</strong>ratings = [1,0,2]
<strong>输出：</strong>5
<strong>解释：</strong>你可以分别给第一个、第二个、第三个孩子分发 2、1、2 颗糖果。
</pre>
    <p>
     <strong>
      示例 2：
     </strong>
    </p>
    <pre><strong>输入：</strong>ratings = [1,2,2]
<strong>输出：</strong>4
<strong>解释：</strong>你可以分别给第一个、第二个、第三个孩子分发 1、2、1 颗糖果。
     第三个孩子只得到 1 颗糖果，这满足题面中的两个条件。
</pre>
    <h2 id="%E6%80%9D%E8%B7%AF" name="%E6%80%9D%E8%B7%AF">
     思路
    </h2>
    <p>
     这道题每个数字要和左边的比较，也要和右边的比较，如果两边同时比较，会混淆
    </p>
    <p>
     所以先从前往后，把下标为0的糖果数目先定为1，比较右边的大于左边的情况 ratings【i】&gt;ratings[i-1]，因为这里有i-1，所以遍历的时候是从下标为1的位置开始的。
    </p>
    <p>
     ratings数组：1     2     2     5     4     3       2
    </p>
    <p>
     糖果：            1     2    1     2     1      1      1
    </p>
    <p>
     接着从后往前，比较左边大于右边的情况。比较右边的大于左边的情况 ratings【i】&gt;ratings[i+1]，因为这里有i+1，所以遍历的时候是从下标为ratings.length-2的位置开始的。
     <span style="background-color:#ffd900">
      为什么是从后往前呢？
     </span>
    </p>
    <p>
     rating[5]与rating[4]的比较 要利用上 rating[5]与rating[6]的比较结果，所以 要从后向前遍历。
    </p>
    <p>
     <span style="background-color:#ffd900">
      如果是从前往后，这个数组
     </span>
    </p>
    <p>
     ratings数组：1     2     2     5     4     3       2
    </p>
    <p>
     糖果右大于左1     2    1     2     1      1      1
    </p>
    <p>
     糖果右大于左                   2      2       2     1
    </p>
    <p>
     假如从5开始看，5&gt;4所以在4的1的基础上加1，变成2.....这么看就发现不对了，所以是从右边往前
    </p>
    <p>
     ratings数组：1     2     2     5     4     3       2
    </p>
    <p>
     糖果右大于左1     2    1     2     1      1      1
    </p>
    <p>
     糖果右大于左1      1    1     4     3       2     1
    </p>
    <p>
     现在有两组，要让他同时满足两边，所以是取最大值
     <strong>
      candyVec[i]只有取最大的才能既保持对左边candyVec[i - 1]的糖果多，也比右边candyVec[i + 1]的糖果多
     </strong>
     。
    </p>
    <p>
     ratings数组：1     2     2     5     4     3       2
    </p>
    <p>
     糖果满足：    1     2    1     4     3      2      1
    </p>
    <p>
     最后遍历这个数组输出结果即可
    </p>
    <p>
     <span style="background-color:#ffd900">
      有两边的情况通常情况下要分开考虑
     </span>
    </p>
    <h2 id="%E4%BB%A3%E7%A0%81" name="%E4%BB%A3%E7%A0%81">
     代码
    </h2>
    <pre><code class="language-java">class Solution {
    public int candy(int[] ratings) {
        int[] candy=new int[ratings.length];
        candy[0]=1;
        //从左往右遍历，右边孩子大于左边的情况
        for(int i=1;i&lt;ratings.length;i++){
            if(ratings[i]&gt;ratings[i-1]){
                candy[i]=candy[i-1]+1;
            }else{
                candy[i]=1;
            }
        }
        //从右往左遍历，左边孩子大于右边的情况
        for(int i=ratings.length-2;i&gt;=0;i--){
            if(ratings[i]&gt;ratings[i+1]){
                candy[i]=Math.max(candy[i+1]+1,candy[i]);
            }
        }
        int result=0;
        for(int c:candy){
            result+=c;
        }
        return result;
    }
}</code></pre>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330315f38303131333131332f:61727469636c652f64657461696c732f313436303539323630" class_="artid" style="display:none">
 </p>
</div>


