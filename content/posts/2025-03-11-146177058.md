---
layout: post
title: "LangChain教程-Agent-之-ZERO_SHOT_REACT_DESCRIPTION"
date: 2025-03-11 19:00:00 +0800
description: "零样本学习（Zero-Shot）：无需提供示例，LLM 通过工具的描述来决定如何使用它们。自适应推理（ReAct）：LLM 通过思考和行动循环决定调用哪个工具。工具可扩展：可以动态地向 Agent 添加新的工具。这种方式特别适用于开放域问答场景，例如查询天气、获取时间、计算数值等。"
keywords: "LangChain教程 - Agent -之 ZERO_SHOT_REACT_DESCRIPTION"
categories: ['Langchain']
tags: ['自然语言处理', '人工智能', 'Python', 'Prompt', 'Langchain', 'Javascript', 'Aigc']
artid: "146177058"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146177058
    alt: "LangChain教程-Agent-之-ZERO_SHOT_REACT_DESCRIPTION"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146177058
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146177058
cover: https://bing.ee123.net/img/rand?artid=146177058
image: https://bing.ee123.net/img/rand?artid=146177058
img: https://bing.ee123.net/img/rand?artid=146177058
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     LangChain教程 - Agent -之 ZERO_SHOT_REACT_DESCRIPTION
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     在构建智能 AI 助手时，我们希望模型能够智能地调用工具，以便提供准确的信息。LangChain 提供了
     <code>
      AgentType.ZERO_SHOT_REACT_DESCRIPTION
     </code>
     ，它结合了 ReAct（Reasoning + Acting）策略，使得 LLM 可以基于工具的描述智能选择合适的工具进行推理和执行。本文将介绍该类型 Agent 的核心原理，并通过示例展示其应用。
    </p>
    <h3>
     <a id="1_ZERO_SHOT_REACT_DESCRIPTION__2">
     </a>
     1. ZERO_SHOT_REACT_DESCRIPTION 简介
    </h3>
    <p>
     <code>
      AgentType.ZERO_SHOT_REACT_DESCRIPTION
     </code>
     采用了 ReAct 框架，主要特点包括：
    </p>
    <ul>
     <li>
      <strong>
       零样本学习（Zero-Shot）
      </strong>
      ：无需提供示例，LLM 通过工具的描述来决定如何使用它们。
     </li>
     <li>
      <strong>
       自适应推理（ReAct）
      </strong>
      ：LLM 通过思考和行动循环决定调用哪个工具。
     </li>
     <li>
      <strong>
       工具可扩展
      </strong>
      ：可以动态地向 Agent 添加新的工具。
     </li>
    </ul>
    <p>
     这种方式特别适用于开放域问答场景，例如查询天气、获取时间、计算数值等。
    </p>
    <h3>
     <a id="2__11">
     </a>
     2. 代码示例
    </h3>
    <p>
     下面是一个完整的
     <code>
      ZERO_SHOT_REACT_DESCRIPTION
     </code>
     示例，我们定义了两个工具：
    </p>
    <ul>
     <li>
      <code>
       get_weather(location: str)
      </code>
      : 获取指定城市的天气信息。
     </li>
     <li>
      <code>
       get_time(location: str)
      </code>
      : 获取指定城市的当前时间。
     </li>
    </ul>
    <p>
     然后，我们使用 LangChain 的
     <code>
      initialize_agent
     </code>
     方法初始化一个智能 Agent，并使用 Ollama LLM 作为后端大模型。
    </p>
    <h4>
     <a id="_19">
     </a>
     <strong>
      代码实现
     </strong>
    </h4>
    <pre><code class="prism language-python"><span class="token keyword">from</span> langchain<span class="token punctuation">.</span>agents <span class="token keyword">import</span> initialize_agent<span class="token punctuation">,</span> AgentType
<span class="token keyword">from</span> langchain<span class="token punctuation">.</span>tools <span class="token keyword">import</span> Tool
<span class="token keyword">from</span> langchain_ollama <span class="token keyword">import</span> OllamaLLM

<span class="token comment"># 定义工具</span>
<span class="token keyword">def</span> <span class="token function">get_weather</span><span class="token punctuation">(</span>location<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>location<span class="token punctuation">}</span></span><span class="token string"> 的天气是晴天，温度 25°C"</span></span>

<span class="token keyword">def</span> <span class="token function">get_time</span><span class="token punctuation">(</span>location<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>location<span class="token punctuation">}</span></span><span class="token string"> 的当前时间是 12:00 PM"</span></span>

weather_tool <span class="token operator">=</span> Tool<span class="token punctuation">(</span>
    name<span class="token operator">=</span><span class="token string">"get_weather"</span><span class="token punctuation">,</span>
    func<span class="token operator">=</span>get_weather<span class="token punctuation">,</span>
    description<span class="token operator">=</span><span class="token string">"获取城市天气信息，输入城市名称"</span>
<span class="token punctuation">)</span>

time_tool <span class="token operator">=</span> Tool<span class="token punctuation">(</span>
    name<span class="token operator">=</span><span class="token string">"get_time"</span><span class="token punctuation">,</span>
    func<span class="token operator">=</span>get_time<span class="token punctuation">,</span>
    description<span class="token operator">=</span><span class="token string">"获取城市当前时间，输入城市名称"</span>
<span class="token punctuation">)</span>

<span class="token comment"># 初始化 Agent</span>
llm <span class="token operator">=</span> OllamaLLM<span class="token punctuation">(</span>model<span class="token operator">=</span><span class="token string">"llama3:8b"</span><span class="token punctuation">,</span> temperature<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>

agent <span class="token operator">=</span> initialize_agent<span class="token punctuation">(</span>
    tools<span class="token operator">=</span><span class="token punctuation">[</span>weather_tool<span class="token punctuation">,</span> time_tool<span class="token punctuation">]</span><span class="token punctuation">,</span>
    llm<span class="token operator">=</span>llm<span class="token punctuation">,</span>
    agent<span class="token operator">=</span>AgentType<span class="token punctuation">.</span>ZERO_SHOT_REACT_DESCRIPTION<span class="token punctuation">,</span>
    verbose<span class="token operator">=</span><span class="token boolean">True</span>
<span class="token punctuation">)</span>

<span class="token comment"># 让 LLM 选择合适的工具</span>
response <span class="token operator">=</span> agent<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token string">"告诉我上海当前时间"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
</code></pre>
    <h4>
     <a id="_59">
     </a>
     <strong>
      代码解析
     </strong>
    </h4>
    <ol>
     <li>
      <p>
       <strong>
        定义工具
       </strong>
      </p>
      <ul>
       <li>
        <code>
         get_weather(location: str)
        </code>
        : 返回固定天气信息。
       </li>
       <li>
        <code>
         get_time(location: str)
        </code>
        : 返回固定时间信息。
       </li>
       <li>
        <code>
         Tool
        </code>
        结构体用于封装工具，包括名称、调用函数和描述。
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        初始化 LLM 和 Agent
       </strong>
      </p>
      <ul>
       <li>
        使用
        <code>
         OllamaLLM(model="llama3:8b", temperature=0)
        </code>
        作为 LLM。
       </li>
       <li>
        使用
        <code>
         initialize_agent
        </code>
        方法创建 Agent，并指定
        <code>
         AgentType.ZERO_SHOT_REACT_DESCRIPTION
        </code>
        。
       </li>
       <li>
        Agent 通过工具的
        <code>
         description
        </code>
        选择合适的工具。
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        运行 Agent
       </strong>
      </p>
      <ul>
       <li>
        Agent 接受用户输入
        <code>
         告诉我上海当前时间
        </code>
        ，然后决定调用
        <code>
         get_time
        </code>
        。
       </li>
       <li>
        最终输出
        <code>
         上海的当前时间是 12:00 PM
        </code>
        。
       </li>
      </ul>
     </li>
    </ol>
    <h3>
     <a id="3_AgentTypeZERO_SHOT_REACT_DESCRIPTION__74">
     </a>
     3. AgentType.ZERO_SHOT_REACT_DESCRIPTION 的核心机制
    </h3>
    <p>
     该 Agent 类型基于 ReAct 框架工作，流程如下：
    </p>
    <ol>
     <li>
      <p>
       <strong>
        模型解析用户输入
       </strong>
      </p>
      <ul>
       <li>
        LLM 读取用户的请求，如
        <code>
         告诉我上海当前时间
        </code>
        。
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        Agent 选择合适的工具
       </strong>
      </p>
      <ul>
       <li>
        LLM 根据工具的
        <code>
         description
        </code>
        确定使用
        <code>
         get_time
        </code>
        。
       </li>
       <li>
        生成相应的函数调用。
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        执行工具调用并返回结果
       </strong>
      </p>
      <ul>
       <li>
        Agent 执行
        <code>
         get_time("上海")
        </code>
        。
       </li>
       <li>
        返回
        <code>
         上海的当前时间是 12:00 PM
        </code>
        。
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        响应用户
       </strong>
      </p>
      <ul>
       <li>
        Agent 将结果输出给用户。
       </li>
      </ul>
     </li>
    </ol>
    <h3>
     <a id="4_ZERO_SHOT_REACT_DESCRIPTION__91">
     </a>
     4. ZERO_SHOT_REACT_DESCRIPTION 的应用场景
    </h3>
    <p>
     <code>
      AgentType.ZERO_SHOT_REACT_DESCRIPTION
     </code>
     适用于以下场景：
    </p>
    <ul>
     <li>
      <strong>
       问答系统
      </strong>
      ：基于多种工具提供智能问答，如天气查询、汇率转换、时间查询等。
     </li>
     <li>
      <strong>
       企业客服
      </strong>
      ：可以根据客户的输入选择合适的 API 调用，自动化处理查询。
     </li>
     <li>
      <strong>
       自动化任务执行
      </strong>
      ：如调用不同的数据库查询接口、自动化执行不同任务等。
     </li>
    </ul>
    <h3>
     <a id="5__98">
     </a>
     5. 结论
    </h3>
    <p>
     本文详细介绍了
     <code>
      AgentType.ZERO_SHOT_REACT_DESCRIPTION
     </code>
     ，并通过示例展示了如何在 LangChain 中使用它来创建智能 Agent。其主要优势包括零样本学习、自动推理与工具调用，适用于智能问答和自动化任务执行。希望本文能帮助你更好地理解和应用 LangChain 的 Agent 机制！
    </p>
    <p>
     参考
     <br/>
     <a href="https://blog.csdn.net/fenglingguitar/article/details/146056008">
      LangChain教程 - Agent - 支持 9 种 ReAct 交互
     </a>
     <br/>
     <a href="https://blog.csdn.net/fenglingguitar/article/details/146173469">
      J-LangChain - Agent - 0~1 编排一个 ReAct 反应链
     </a>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f67:2e6373646e2e6e65742f66656e676c696e676775697461722f:61727469636c652f64657461696c732f313436313737303538" class_="artid" style="display:none">
 </p>
</div>


