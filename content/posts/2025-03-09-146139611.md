---
arturl_encode: "68747470733a2f2f626c6f67:2e6373646e2e6e65742f696e6372656469626c65313032342f:61727469636c652f64657461696c732f313436313339363131"
layout: post
title: "Streamç‰¹æ€§è¸©å‘æƒ°æ€§æ‰§è¡Œä¸ä¿®æ”¹åŸå§‹æ•°æ®æº"
date: 2025-03-09 22:03:50 +08:00
description: "åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼ŒStream API æä¾›äº†ä¸€ç§é«˜æ•ˆä¸”æ˜“äºä½¿ç”¨çš„å·¥å…·é›†æ¥å¤„ç†é›†åˆæ•°æ®ã€‚æœ¬æ–‡ä¸»è¦è®²è§£ Stream çš„ä¸¤ä¸ªç‰¹æ€§ï¼šæƒ°æ€§æ‰§è¡Œï¼Œä¸ä¿®æ”¹åŸå§‹æ•°æ®æºã€‚ä¸ºä»€ä¹ˆè¯´è¿™ä¸¤ä¸ªã€è€Œä¸è®²ä¸‹å…¶ä»–çš„ç‰¹æ€§å‘¢ï¼Ÿä¸»è¦æ˜¯å› ä¸ºåœ¨å¼€å‘ä¸­å¦‚æœå¿½ç•¥è¿™ä¸¤ä¸ªç‰¹æ€§çš„è¯ï¼Œä½¿ç”¨ Stream å†™å‡ºæ¥çš„ä»£ç å°±å¯èƒ½ Bug å¤šå¤šå•Šï¼Œå› æ­¤åœ¨è¿™é‡Œç‰¹åˆ«å¼ºè°ƒä¸‹ã€‚"
keywords: "Streamç‰¹æ€§ï¼ˆè¸©å‘ï¼‰ï¼šæƒ°æ€§æ‰§è¡Œã€ä¸ä¿®æ”¹åŸå§‹æ•°æ®æº"
categories: ['Bug']
tags: ['Stream', 'Java']
artid: "146139611"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146139611
    alt: "Streamç‰¹æ€§è¸©å‘æƒ°æ€§æ‰§è¡Œä¸ä¿®æ”¹åŸå§‹æ•°æ®æº"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146139611
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146139611
cover: https://bing.ee123.net/img/rand?artid=146139611
image: https://bing.ee123.net/img/rand?artid=146139611
img: https://bing.ee123.net/img/rand?artid=146139611
---

# Streamç‰¹æ€§ï¼ˆè¸©å‘ï¼‰ï¼šæƒ°æ€§æ‰§è¡Œã€ä¸ä¿®æ”¹åŸå§‹æ•°æ®æº

åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼ŒStream API æä¾›äº†ä¸€ç§é«˜æ•ˆä¸”æ˜“äºä½¿ç”¨çš„å·¥å…·é›†æ¥å¤„ç†é›†åˆæ•°æ®ã€‚

æœ¬æ–‡ä¸»è¦è®²è§£ Stream çš„ä¸¤ä¸ªç‰¹æ€§ï¼š
**æƒ°æ€§æ‰§è¡Œ**
ï¼Œ
**ä¸ä¿®æ”¹åŸå§‹æ•°æ®æº**
ã€‚

ä¸ºä»€ä¹ˆè¯´è¿™ä¸¤ä¸ªã€è€Œä¸è®²ä¸‹å…¶ä»–çš„ç‰¹æ€§å‘¢ï¼Ÿä¸»è¦æ˜¯å› ä¸ºåœ¨å¼€å‘ä¸­å¦‚æœå¿½ç•¥è¿™ä¸¤ä¸ªç‰¹æ€§çš„è¯ï¼Œä½¿ç”¨ Stream å†™å‡ºæ¥çš„ä»£ç å°±å¯èƒ½ Bug å¤šå¤šå•Šï¼Œå› æ­¤åœ¨è¿™é‡Œç‰¹åˆ«å¼ºè°ƒä¸‹ã€‚

## 1.æƒ°æ€§æ‰§è¡Œ

### 1.1.è¯´æ˜

**æƒ°æ€§æ‰§è¡Œ**
æ„å‘³ç€ Stream çš„
**ä¸­é—´æ“ä½œ**
ï¼ˆintermediate operationsï¼Œå¦‚
`filter`
,
`map`
ï¼‰ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯åœ¨é‡åˆ°
**ç»ˆæ­¢æ“ä½œ**
ï¼ˆterminal operationsï¼Œå¦‚
`forEach`
,
`collect`
ï¼‰æ—¶æ‰ä¼šè§¦å‘ã€‚

### 1.2.åä¾‹

è€ƒè™‘ä»¥ä¸‹ä»£ç ï¼š

```java
List<String> words = Arrays.asList("apple", "banana", "cherry");
words.stream()
     .filter(word -> {
         System.out.println("Filtering: " + word);
         return word.startsWith("a");
     });

```

ä»¥ä¸Šä»£ç æ‰§è¡Œåå¹¶ä¸ä¼šæœ‰æ‰“å°è¾“å‡ºï¼Œè¿™æ˜¯å› ä¸ºå°½ç®¡è°ƒç”¨äº†ä¸­é—´æ“ä½œ filterï¼Œä½†æ˜¯ filter åå¹¶æ²¡æœ‰è°ƒç”¨ç»ˆæ­¢æ“ä½œçš„æ–¹æ³•ã€‚

### 1.3.æ­£ç¡®ä½¿ç”¨

**åº”è¯¥ä¹ æƒ¯æ€§åœ°åœ¨æµæ“ä½œçš„æœ€åï¼Œéƒ½è°ƒç”¨ä¸€ä¸ªç»ˆæ­¢æ“ä½œ**
ã€‚

ä¾‹å¦‚ï¼š

```java
words.stream()
     .filter(word -> word.startsWith("a"))
     .forEach(System.out::println);

```

#### 1.3.1.å¦‚ä½•åŒºåˆ†ä¸­é—´æ“ä½œå’Œç»ˆæ­¢æ“ä½œ

è¿™å…¶å®å¾ˆç®€å•ï¼Œ
**å¦‚æœä¸€ä¸ªæ–¹æ³•çš„è¿”å›ç»“æœä¸ºä¸€ä¸ªæ–°çš„æµ (Stream)ï¼Œé‚£ä¹ˆå®ƒæ˜¯ä¸­é—´æ“ä½œ**
ï¼Œå¦åˆ™å°±æ˜¯ç»ˆæ­¢æ“ä½œã€‚

## 2.ä¸ä¿®æ”¹åŸå§‹æ•°æ®æº

### 2.1.è¯´æ˜

**Stream çš„æ“ä½œå¹¶ä¸ä¼šæ”¹å˜åŸå§‹æ•°æ®ï¼ŒStream æ“ä½œéƒ½æ˜¯åŸºäºåŸå§‹æ•°æ®åˆ›å»ºæ–°çš„ç»“æœ**
ã€‚

### 2.2.åä¾‹

å‡è®¾æœ‰å¦‚ä¸‹ä»£ç ï¼š

```java
List<Integer> numbers = new ArrayList<>(Arrays.asList(1, 2, 3));
numbers.stream()
       .map(n -> n * 2)
       .collect(Collectors.toList());

System.out.println(numbers); // è¾“å‡º [1, 2, 3]

```

å¯èƒ½æœ‰äººä¼šé”™è¯¯åœ°è®¤ä¸ºï¼ŒStream æ“ä½œæ‰§è¡Œåï¼Œ
`numbers`
åˆ—è¡¨çš„å…ƒç´ ä¼šå‘ç”Ÿæ”¹å˜ï¼Œç„¶åå°±æŠŠ
`numbers`
ä½œä¸ºè®¡ç®—åçš„ç»“æœæ¥ç€å¾€ä¸‹æ‰§è¡Œé€»è¾‘ã€‚

ä½†å®é™…ä¸Šï¼ŒStream æ“ä½œçš„ç»“æœæ˜¯ç”Ÿæˆäº†ä¸€ä¸ªæ–°çš„é›†åˆï¼Œè€ŒåŸå§‹çš„é›†åˆ
`numbers`
ä¿æŒä¸å˜ã€‚

### 2.3.æ­£ç¡®ä½¿ç”¨

**åº”è¯¥ç”¨ä¸€ä¸ªæ–°å¯¹è±¡æ¥æ”¶ Stream æ“ä½œçš„ç»“æœ**
ï¼Œåç»­å¦‚æœéœ€è¦ä½¿ç”¨è®¡ç®—åçš„ç»“æœï¼Œä½¿ç”¨çš„åº”è¯¥æ˜¯è¿™ä¸ªæ–°çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯åŸå§‹çš„æ•°æ®é›†åˆã€‚

```java
List<Integer> numbers = new ArrayList<>(Arrays.asList(1, 2, 3));
List<Integer> doubledNumbers = numbers.stream()
                                      .map(n -> n * 2)
                                      .collect(Collectors.toList());
System.out.println(doubledNumbers); // è¾“å‡º [2, 4, 6]

```

åˆæˆ–è€…ï¼Œ
**å¯ä»¥ç›´æ¥ç”¨**
**Stream æ“ä½œçš„ç»“æœè¦†ç›–æ‰åŸå§‹çš„æ•°æ®å¯¹è±¡ã€‚**

```java
List<Integer> numbers = new ArrayList<>(Arrays.asList(1, 2, 3));
numbers = numbers.stream()
              .map(n -> n * 2)
              .collect(Collectors.toList());
System.out.println(numbers); // è¾“å‡º [2, 4, 6]

```

---

`å¦‚æœæœ‰å¸®åŠ©çš„è¯ï¼Œå¯ä»¥ç‚¹ä¸ªèµæ”¯æŒä¸€ä¸‹å˜›`
ğŸ™