---
layout: post
title: "Streamç‰¹æ€§è¸©å‘æƒ°æ€§æ‰§è¡Œä¸ä¿®æ”¹åŸå§‹æ•°æ®æº"
date: 2025-03-09 22:03:50 +0800
description: "åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼ŒStream API æä¾›äº†ä¸€ç§é«˜æ•ˆä¸”æ˜“äºä½¿ç”¨çš„å·¥å…·é›†æ¥å¤„ç†é›†åˆæ•°æ®ã€‚æœ¬æ–‡ä¸»è¦è®²è§£ Stream çš„ä¸¤ä¸ªç‰¹æ€§ï¼šæƒ°æ€§æ‰§è¡Œï¼Œä¸ä¿®æ”¹åŸå§‹æ•°æ®æºã€‚ä¸ºä»€ä¹ˆè¯´è¿™ä¸¤ä¸ªã€è€Œä¸è®²ä¸‹å…¶ä»–çš„ç‰¹æ€§å‘¢ï¼Ÿä¸»è¦æ˜¯å› ä¸ºåœ¨å¼€å‘ä¸­å¦‚æœå¿½ç•¥è¿™ä¸¤ä¸ªç‰¹æ€§çš„è¯ï¼Œä½¿ç”¨ Stream å†™å‡ºæ¥çš„ä»£ç å°±å¯èƒ½ Bug å¤šå¤šå•Šï¼Œå› æ­¤åœ¨è¿™é‡Œç‰¹åˆ«å¼ºè°ƒä¸‹ã€‚"
keywords: "Streamç‰¹æ€§ï¼ˆè¸©å‘ï¼‰ï¼šæƒ°æ€§æ‰§è¡Œã€ä¸ä¿®æ”¹åŸå§‹æ•°æ®æº"
categories: ['Bug']
tags: ['Stream', 'Java']
artid: "146139611"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146139611
    alt: "Streamç‰¹æ€§è¸©å‘æƒ°æ€§æ‰§è¡Œä¸ä¿®æ”¹åŸå§‹æ•°æ®æº"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146139611
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146139611
cover: https://bing.ee123.net/img/rand?artid=146139611
image: https://bing.ee123.net/img/rand?artid=146139611
img: https://bing.ee123.net/img/rand?artid=146139611
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Streamç‰¹æ€§ï¼ˆè¸©å‘ï¼‰ï¼šæƒ°æ€§æ‰§è¡Œã€ä¸ä¿®æ”¹åŸå§‹æ•°æ®æº
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼ŒStream API æä¾›äº†ä¸€ç§é«˜æ•ˆä¸”æ˜“äºä½¿ç”¨çš„å·¥å…·é›†æ¥å¤„ç†é›†åˆæ•°æ®ã€‚
    </p>
    <p>
     æœ¬æ–‡ä¸»è¦è®²è§£ Stream çš„ä¸¤ä¸ªç‰¹æ€§ï¼š
     <strong>
      æƒ°æ€§æ‰§è¡Œ
     </strong>
     ï¼Œ
     <strong>
      ä¸ä¿®æ”¹åŸå§‹æ•°æ®æº
     </strong>
     ã€‚
    </p>
    <p>
     ä¸ºä»€ä¹ˆè¯´è¿™ä¸¤ä¸ªã€è€Œä¸è®²ä¸‹å…¶ä»–çš„ç‰¹æ€§å‘¢ï¼Ÿä¸»è¦æ˜¯å› ä¸ºåœ¨å¼€å‘ä¸­å¦‚æœå¿½ç•¥è¿™ä¸¤ä¸ªç‰¹æ€§çš„è¯ï¼Œä½¿ç”¨ Stream å†™å‡ºæ¥çš„ä»£ç å°±å¯èƒ½ Bug å¤šå¤šå•Šï¼Œå› æ­¤åœ¨è¿™é‡Œç‰¹åˆ«å¼ºè°ƒä¸‹ã€‚
    </p>
    <h2 id="XoAZR">
     1.æƒ°æ€§æ‰§è¡Œ
    </h2>
    <h3 id="klrS0">
     1.1.è¯´æ˜
    </h3>
    <p>
     <strong>
      æƒ°æ€§æ‰§è¡Œ
     </strong>
     æ„å‘³ç€ Stream çš„
     <strong>
      ä¸­é—´æ“ä½œ
     </strong>
     ï¼ˆintermediate operationsï¼Œå¦‚
     <code>
      filter
     </code>
     ,
     <code>
      map
     </code>
     ï¼‰ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯åœ¨é‡åˆ°
     <strong>
      ç»ˆæ­¢æ“ä½œ
     </strong>
     ï¼ˆterminal operationsï¼Œå¦‚
     <code>
      forEach
     </code>
     ,
     <code>
      collect
     </code>
     ï¼‰æ—¶æ‰ä¼šè§¦å‘ã€‚
    </p>
    <h3 id="wz3Wb">
     1.2.åä¾‹
    </h3>
    è€ƒè™‘ä»¥ä¸‹ä»£ç ï¼š
    <pre><code class="prism language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> words <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token string">"banana"</span><span class="token punctuation">,</span> <span class="token string">"cherry"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
words<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>word <span class="token operator">-&gt;</span> <span class="token punctuation">{<!-- --></span>
         <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Filtering: "</span> <span class="token operator">+</span> word<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">return</span> word<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     ä»¥ä¸Šä»£ç æ‰§è¡Œåå¹¶ä¸ä¼šæœ‰æ‰“å°è¾“å‡ºï¼Œè¿™æ˜¯å› ä¸ºå°½ç®¡è°ƒç”¨äº†ä¸­é—´æ“ä½œ filterï¼Œä½†æ˜¯ filter åå¹¶æ²¡æœ‰è°ƒç”¨ç»ˆæ­¢æ“ä½œçš„æ–¹æ³•ã€‚
    </p>
    <h3 id="SpK8R">
     1.3.æ­£ç¡®ä½¿ç”¨
    </h3>
    <p>
     <strong>
      åº”è¯¥ä¹ æƒ¯æ€§åœ°åœ¨æµæ“ä½œçš„æœ€åï¼Œéƒ½è°ƒç”¨ä¸€ä¸ªç»ˆæ­¢æ“ä½œ
     </strong>
     ã€‚
    </p>
    <p>
     ä¾‹å¦‚ï¼š
    </p>
    <pre><code class="prism language-java">words<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>word <span class="token operator">-&gt;</span> word<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
     <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h4 id="Xhu4d">
     1.3.1.å¦‚ä½•åŒºåˆ†ä¸­é—´æ“ä½œå’Œç»ˆæ­¢æ“ä½œ
    </h4>
    <p>
     è¿™å…¶å®å¾ˆç®€å•ï¼Œ
     <strong>
      å¦‚æœä¸€ä¸ªæ–¹æ³•çš„è¿”å›ç»“æœä¸ºä¸€ä¸ªæ–°çš„æµ (Stream)ï¼Œé‚£ä¹ˆå®ƒæ˜¯ä¸­é—´æ“ä½œ
     </strong>
     ï¼Œå¦åˆ™å°±æ˜¯ç»ˆæ­¢æ“ä½œã€‚
    </p>
    <h2 id="wc3T9">
     2.ä¸ä¿®æ”¹åŸå§‹æ•°æ®æº
    </h2>
    <h3 id="PNOwL">
     2.1.è¯´æ˜
    </h3>
    <p>
     <strong>
      Stream çš„æ“ä½œå¹¶ä¸ä¼šæ”¹å˜åŸå§‹æ•°æ®ï¼ŒStream æ“ä½œéƒ½æ˜¯åŸºäºåŸå§‹æ•°æ®åˆ›å»ºæ–°çš„ç»“æœ
     </strong>
     ã€‚
    </p>
    <h3 id="Pf1ZG">
     2.2.åä¾‹
    </h3>
    å‡è®¾æœ‰å¦‚ä¸‹ä»£ç ï¼š
    <pre><code class="prism language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> numbers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
numbers<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
       <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>n <span class="token operator">-&gt;</span> n <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
       <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º [1, 2, 3]</span>
</code></pre>
    <p>
     å¯èƒ½æœ‰äººä¼šé”™è¯¯åœ°è®¤ä¸ºï¼ŒStream æ“ä½œæ‰§è¡Œåï¼Œ
     <code>
      numbers
     </code>
     åˆ—è¡¨çš„å…ƒç´ ä¼šå‘ç”Ÿæ”¹å˜ï¼Œç„¶åå°±æŠŠ
     <code>
      numbers
     </code>
     ä½œä¸ºè®¡ç®—åçš„ç»“æœæ¥ç€å¾€ä¸‹æ‰§è¡Œé€»è¾‘ã€‚
    </p>
    <p>
     ä½†å®é™…ä¸Šï¼ŒStream æ“ä½œçš„ç»“æœæ˜¯ç”Ÿæˆäº†ä¸€ä¸ªæ–°çš„é›†åˆï¼Œè€ŒåŸå§‹çš„é›†åˆ
     <code>
      numbers
     </code>
     ä¿æŒä¸å˜ã€‚
    </p>
    <h3 id="VbdkE">
     2.3.æ­£ç¡®ä½¿ç”¨
    </h3>
    <p>
     <strong>
      åº”è¯¥ç”¨ä¸€ä¸ªæ–°å¯¹è±¡æ¥æ”¶ Stream æ“ä½œçš„ç»“æœ
     </strong>
     ï¼Œåç»­å¦‚æœéœ€è¦ä½¿ç”¨è®¡ç®—åçš„ç»“æœï¼Œä½¿ç”¨çš„åº”è¯¥æ˜¯è¿™ä¸ªæ–°çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯åŸå§‹çš„æ•°æ®é›†åˆã€‚
    </p>
    <pre><code class="prism language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> numbers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> doubledNumbers <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                                      <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>n <span class="token operator">-&gt;</span> n <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
                                      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>doubledNumbers<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º [2, 4, 6]</span>
</code></pre>
    <p>
     åˆæˆ–è€…ï¼Œ
     <strong>
      å¯ä»¥ç›´æ¥ç”¨
     </strong>
     <strong>
      Stream æ“ä½œçš„ç»“æœè¦†ç›–æ‰åŸå§‹çš„æ•°æ®å¯¹è±¡ã€‚
     </strong>
    </p>
    <pre><code class="prism language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> numbers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
numbers <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>n <span class="token operator">-&gt;</span> n <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º [2, 4, 6]</span>
</code></pre>
    <hr/>
    <p>
     <code>
      å¦‚æœæœ‰å¸®åŠ©çš„è¯ï¼Œå¯ä»¥ç‚¹ä¸ªèµæ”¯æŒä¸€ä¸‹å˜›
     </code>
     ğŸ™
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f67:2e6373646e2e6e65742f696e6372656469626c65313032342f:61727469636c652f64657461696c732f313436313339363131" class_="artid" style="display:none">
 </p>
</div>


