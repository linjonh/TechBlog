---
layout: post
title: "RestControllerAdvice注解"
date: 2025-03-12 21:26:14 +0800
description: "RestControllerAdvice 是 Spring Framework（3.2+）和 Spring Boot 中用于全局处理控制器层异常和统一响应格式的注解。它结合了 @ControllerAdvice 和 @ResponseBody 的功能，能够拦截控制器方法抛出的异常，并以 JSON/XML 格式返回处理结果。捕获所有控制器（@RestController）抛出的异常，避免重复编写异常处理代码。统一处理参数校验（如 @Valid）失败时的错误响应。具体异常类型的处理器优先于通用异常处理器。"
keywords: "@RestControllerAdvice注解"
categories: ['Springboot']
tags: ['Spring', 'Java', 'Boot']
artid: "146215132"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146215132
    alt: "RestControllerAdvice注解"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146215132
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146215132
cover: https://bing.ee123.net/img/rand?artid=146215132
image: https://bing.ee123.net/img/rand?artid=146215132
img: https://bing.ee123.net/img/rand?artid=146215132
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     @RestControllerAdvice注解
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     @RestControllerAdvice
     <br/>
     @RestControllerAdvice 是 Spring Framework（3.2+）和 Spring Boot 中用于全局处理控制器层异常和统一响应格式的注解。它结合了 @ControllerAdvice 和 @ResponseBody 的功能，能够拦截控制器方法抛出的异常，并以 JSON/XML 格式返回处理结果。
     <br/>
     核心作用
     <br/>
     全局异常处理
     <br/>
     捕获所有控制器（@RestController）抛出的异常，避免重复编写异常处理代码。
     <br/>
     数据绑定与验证处理
     <br/>
     统一处理参数校验（如 @Valid）失败时的错误响应。
     <br/>
     数据预处理
     <br/>
     通过 @InitBinder 或 @ModelAttribute 对请求参数进行全局处理。
     <br/>
     基础用法示例
    </p>
    <pre><code class="prism language-python"><span class="token decorator annotation punctuation">@RestControllerAdvice</span>
public <span class="token keyword">class</span> <span class="token class-name">GlobalExceptionHandler</span> <span class="token punctuation">{<!-- --></span>

    <span class="token operator">//</span> 处理特定异常
    <span class="token decorator annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span>IllegalArgumentException<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    public ResponseEntity<span class="token operator">&lt;</span>ErrorResponse<span class="token operator">&gt;</span> handleIllegalArgument<span class="token punctuation">(</span>IllegalArgumentException ex<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        ErrorResponse error <span class="token operator">=</span> new ErrorResponse<span class="token punctuation">(</span><span class="token string">"参数错误"</span><span class="token punctuation">,</span> ex<span class="token punctuation">.</span>getMessage<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> ResponseEntity<span class="token punctuation">.</span>badRequest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>body<span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token operator">//</span> 处理所有未捕获的异常
    <span class="token decorator annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span>Exception<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    public ResponseEntity<span class="token operator">&lt;</span>ErrorResponse<span class="token operator">&gt;</span> handleGenericException<span class="token punctuation">(</span>Exception ex<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        ErrorResponse error <span class="token operator">=</span> new ErrorResponse<span class="token punctuation">(</span><span class="token string">"服务器错误"</span><span class="token punctuation">,</span> ex<span class="token punctuation">.</span>getMessage<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> ResponseEntity<span class="token punctuation">.</span>internalServerError<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>body<span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     关键注解解析
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/007022e3e2cd44d986c3d370316ed3ac.png#pic_center">
      <br/>
      注意事项
      <br/>
      包扫描范围
      <br/>
      确保 @RestControllerAdvice 类位于 Spring 组件扫描路径下。
      <br/>
      异常匹配优先级
      <br/>
      具体异常类型的处理器优先于通用异常处理器。
      <br/>
      响应内容协商
      <br/>
      支持根据请求的 Accept 头自动切换 JSON/XML 等格式（需配置对应转换器）。
      <br/>
      通过合理使用 @RestControllerAdvice，可以实现异常处理与业务逻辑解耦，显著提升代码可维护性和 API 一致性。
     </img>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c:6f672e6373646e2e6e65742f6c697579757a686f6e6763632f:61727469636c652f64657461696c732f313436323135313332" class_="artid" style="display:none">
 </p>
</div>


