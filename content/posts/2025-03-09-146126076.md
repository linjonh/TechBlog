---
arturl_encode: "68747470733a2f2f626c6f:672e6373646e2e6e65742f323330315f37393732343339342f:61727469636c652f64657461696c732f313436313236303736"
layout: post
title: "è“æ¡¥æ¯èµ°è¿·å®«BFSç®—æ³•"
date: 2025-03-09 01:22:53 +08:00
description: "G çš„æ¯ä¸ªæ ¼å­è¦ä¹ˆæ˜¯é“è·¯ï¼Œè¦ä¹ˆæ˜¯éšœç¢ç‰©ï¼ˆé“è·¯ç”¨ 11è¡¨ç¤ºï¼Œéšœç¢ç‰©ç”¨ 0 è¡¨ç¤ºï¼‰ã€‚å·²çŸ¥è¿·å®«çš„å…¥å£ä½ç½®ä¸º (x1â€‹,y1â€‹)ï¼Œå‡ºå£ä½ç½®ä¸º (x2â€‹,y2â€‹)ã€‚é—®ä»å…¥å£èµ°åˆ°å‡ºå£ï¼Œæœ€å°‘è¦èµ°å¤šå°‘ä¸ªæ ¼å­ã€‚æ¥ä¸‹æ¥è¾“å…¥ä¸€ä¸ª ğ‘Ã—ğ‘€NÃ—M çš„çŸ©é˜µã€‚è‹¥ Gi,jâ€‹=1 è¡¨ç¤ºå…¶ä¸ºé“è·¯ï¼Œå¦åˆ™è¡¨ç¤ºå…¶ä¸ºéšœç¢ç‰©ã€‚æœ€åä¸€è¡Œè¾“å…¥å››ä¸ªæ•´æ•° ğ‘¥1,ğ‘¦1,ğ‘¥2,ğ‘¦2è¡¨ç¤ºå…¥å£çš„ä½ç½®å’Œå‡ºå£çš„ä½ç½®ã€‚è¾“å…¥ç¬¬ 11 è¡ŒåŒ…å«ä¸¤ä¸ªæ­£æ•´æ•° N,Mï¼Œåˆ†åˆ«è¡¨ç¤ºè¿·å®«çš„å¤§å°ã€‚è¾“å‡ºä»…ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°è¡¨ç¤ºç­”æ¡ˆã€‚è‹¥æ— æ³•ä»å…¥å£åˆ°å‡ºå£ï¼Œåˆ™è¾“å‡º âˆ’1ï¼›"
keywords: "è“æ¡¥æ¯â€”èµ°è¿·å®«(BFSç®—æ³•)"
categories: ['ç®—æ³•ç«èµ›é¢˜ç›®è¶…è¯¦ç»†è§£æ']
tags: ['è“æ¡¥æ¯', 'ç®—æ³•', 'æ·±åº¦ä¼˜å…ˆ', 'å¹¿åº¦ä¼˜å…ˆ', 'å®½åº¦ä¼˜å…ˆ', 'C']
artid: "146126076"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146126076
    alt: "è“æ¡¥æ¯èµ°è¿·å®«BFSç®—æ³•"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146126076
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146126076
cover: https://bing.ee123.net/img/rand?artid=146126076
image: https://bing.ee123.net/img/rand?artid=146126076
img: https://bing.ee123.net/img/rand?artid=146126076
---

# è“æ¡¥æ¯â€”èµ°è¿·å®«(BFSç®—æ³•)

## é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªNÃ—MÂ çš„ç½‘æ ¼è¿·å®«Â Gã€‚GÂ çš„æ¯ä¸ªæ ¼å­è¦ä¹ˆæ˜¯é“è·¯ï¼Œè¦ä¹ˆæ˜¯éšœç¢ç‰©ï¼ˆé“è·¯ç”¨Â 11è¡¨ç¤ºï¼Œéšœç¢ç‰©ç”¨Â 0Â è¡¨ç¤ºï¼‰ã€‚

å·²çŸ¥è¿·å®«çš„å…¥å£ä½ç½®ä¸ºÂ (x1â€‹,y1â€‹)ï¼Œå‡ºå£ä½ç½®ä¸ºÂ (x2â€‹,y2â€‹)ã€‚é—®ä»å…¥å£èµ°åˆ°å‡ºå£ï¼Œæœ€å°‘è¦èµ°å¤šå°‘ä¸ªæ ¼å­ã€‚

#### è¾“å…¥æè¿°

è¾“å…¥ç¬¬Â 11Â è¡ŒåŒ…å«ä¸¤ä¸ªæ­£æ•´æ•° N,Mï¼Œåˆ†åˆ«è¡¨ç¤ºè¿·å®«çš„å¤§å°ã€‚

æ¥ä¸‹æ¥è¾“å…¥ä¸€ä¸ªÂ ğ‘Ã—ğ‘€NÃ—MÂ çš„çŸ©é˜µã€‚è‹¥ Gi,jâ€‹=1Â è¡¨ç¤ºå…¶ä¸ºé“è·¯ï¼Œå¦åˆ™è¡¨ç¤ºå…¶ä¸ºéšœç¢ç‰©ã€‚

æœ€åä¸€è¡Œè¾“å…¥å››ä¸ªæ•´æ•°Â ğ‘¥1,ğ‘¦1,ğ‘¥2,ğ‘¦2è¡¨ç¤ºå…¥å£çš„ä½ç½®å’Œå‡ºå£çš„ä½ç½®ã€‚

1â‰¤N,Mâ‰¤102ï¼Œ0â‰¤Gi,jâ€‹â‰¤1ï¼Œ1â‰¤x1â€‹,x2â€‹â‰¤Nï¼Œ1â‰¤y1â€‹,y2â€‹â‰¤Mã€‚

#### è¾“å‡ºæè¿°

è¾“å‡ºä»…ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°è¡¨ç¤ºç­”æ¡ˆã€‚

è‹¥æ— æ³•ä»å…¥å£åˆ°å‡ºå£ï¼Œåˆ™è¾“å‡ºÂ âˆ’1ï¼›

#### è¾“å…¥è¾“å‡ºæ ·ä¾‹

##### ç¤ºä¾‹ 1

> è¾“å…¥

```
5 5 
1 0 1 1 0
1 1 0 1 1 
0 1 0 1 1
1 1 1 1 1
1 0 0 0 1
1 1 5 5 

```

> è¾“å‡º

```
8

```

#### è¿è¡Œé™åˆ¶

* æœ€å¤§è¿è¡Œæ—¶é—´ï¼š1s
* æœ€å¤§è¿è¡Œå†…å­˜: 128M

### ä»£ç ä¸ºï¼š

```cpp
#include<iostream>
#include<algorithm>
#include<cstring>
#include<queue>
#define  x first
#define  y second
using namespace std;
typedef pair<int,int> PII;
const int N=1e2+10;
int n,m;
int x2,y2;//å‡ºå£çš„ä½ç½®
int g[N][N];//å­˜å‚¨åœ°å›¾
int dist[N][N];//æ¯ä¸ªç‚¹åˆ°èµ·ç‚¹çš„è·ç¦» 
queue<PII> q;//å­˜åæ ‡
int dx[4]={-1,1,0,0};
int dy[4]={0,0,-1,1};

int bfs(int x1,int y1)
{
  memset(dist,-1,sizeof dist);//åˆå§‹éƒ½ä¸º-1
  q.push({x1,y1});
  dist[x1][y1]=0;

  while(!q.empty()){
    auto Top=q.front();//å–å‡ºå¯¹å¤´
    q.pop();//å¼¹å‡ºå¯¹å¤´

    for(int i=0;i<4;i++)
    {
    int a=Top.x+dx[i];
    int b=Top.y+dy[i];//å…¥å£çš„ä½ç½®çš„ä¸‹ä¸€ä¸ªä½ç½®
    if(a<0||a>n||b<0||b>m) continue;//è¶Šç•Œ
    if(g[a][b]!=1) continue;//ä¸æ˜¯é“è·¯
   if(dist[a][b]>1) continue;
    q.push({a,b});

    dist[a][b]=dist[Top.x][Top.y]+1;

    if(a==x2&&b==y2) return dist[x2][y2];

    }
  }
 return -1;
}

int main()
{
  ios::sync_with_stdio(false);
  cin.tie(0);
  int x1,y1;//å…¥å£çš„ä½ç½®
  cin>>n>>m;
  for(int i=1;i<=n;i++)
  {
    for(int j=1;j<=m;j++)
    cin>>g[i][j];
  }
  cin>>x1>>y1>>x2>>y2;
  int res=bfs(x1,y1);
  cout<<res<<'\n';
  return 0;
}
```

### ä¼˜åŒ–åçš„ä»£ç ï¼ˆè¿è¡Œæ—¶é—´1msï¼‰ï¼š

```cpp
#include<iostream>
#include<algorithm>
#include<cstring>
#include<queue>
#define  x first
#define  y second
using namespace std;
typedef pair<int,int> PII;
const int N=1e2+10;
int n,m;
int x2,y2;//å‡ºå£çš„ä½ç½®
int g[N][N];//å­˜å‚¨åœ°å›¾
int dist[N][N];//æ¯ä¸ªç‚¹åˆ°èµ·ç‚¹çš„è·ç¦» 
queue<PII> q;//å­˜åæ ‡
int dx[4]={-1,1,0,0};
int dy[4]={0,0,-1,1};

int bfs(int x1,int y1)
{
  memset(dist,-1,sizeof dist);//åˆå§‹éƒ½ä¸º-1
  q.push({x1,y1});
  dist[x1][y1]=0;

  while(!q.empty()){
    auto Top=q.front();//å–å‡ºå¯¹å¤´
    q.pop();//å¼¹å‡ºå¯¹å¤´

    for(int i=0;i<4;i++)
    {
    int a=Top.x+dx[i];
    int b=Top.y+dy[i];//å…¥å£çš„ä½ç½®çš„ä¸‹ä¸€ä¸ªä½ç½®
    if(a<0||a>n||b<0||b>m) continue;//è¶Šç•Œ
    if(g[a][b]!=1) continue;//ä¸æ˜¯é“è·¯
   if(dist[a][b]>1) continue;
    q.push({a,b});

    dist[a][b]=dist[Top.x][Top.y]+1;

    if(a==x2&&b==y2) return dist[a][b];

    }
  }
 return -1;
}

int main()
{
  ios::sync_with_stdio(false);
  cin.tie(0);
  int x1,y1;//å…¥å£çš„ä½ç½®
  cin>>n>>m;
  for(int i=1;i<=n;i++)
  {
    for(int j=1;j<=m;j++)
    cin>>g[i][j];
  }
  cin>>x1>>y1>>x2>>y2;
  int res=bfs(x1,y1);
  cout<<res<<'\n';
  return 0;
}
```

![](https://i-blog.csdnimg.cn/direct/dd6db4b7e5174fbf9803f8277f08bec9.png)