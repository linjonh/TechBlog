---
layout: post
title: "C语言-第四章-数组3"
date: 2025-03-13 23:05:17 +0800
description: "针对代码 int a[5] = {1,2,3,4,5};数组名记录数组首地址（即a[0]的地址），元素连续分布。假设a[0]地址是0x1122 ，则 a[1]地址= a[0]的地址+int字节数(4)= 0x1122 + 4 = 0x1126，a[2]地址= a[1]地址 + int字节数(4)= 0x1126 + 4 = 0x112A，依次类推。"
keywords: "C语言 第四章 数组（3）"
categories: ['未分类']
tags: ['C', 'C']
artid: "146216248"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146216248
    alt: "C语言-第四章-数组3"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146216248
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146216248
cover: https://bing.ee123.net/img/rand?artid=146216248
image: https://bing.ee123.net/img/rand?artid=146216248
img: https://bing.ee123.net/img/rand?artid=146216248
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     C语言 第四章 数组（3）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <hr id="hr-toc" name="tableOfContents"/>
    <p>
    </p>
    <h2 name="%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%84">
     一维数组
    </h2>
    <hr/>
    <h3 id="%C2%A0%E5%86%85%E5%AD%98%E5%88%86%E6%9E%90" name="%C2%A0%E5%86%85%E5%AD%98%E5%88%86%E6%9E%90">
     内存分析
    </h3>
    <hr/>
    <h4 id="%C2%A0%C2%A0%E6%95%B0%E7%BB%84%E5%86%85%E5%AD%98%E5%9B%BE" name="%C2%A0%C2%A0%E6%95%B0%E7%BB%84%E5%86%85%E5%AD%98%E5%9B%BE">
     数组内存图
     <br/>
    </h4>
    <p>
     针对代码 int a[5] = {1,2,3,4,5};
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/4ac9cc46447e43ac8d94b034b6c7edf3.jpeg"/>
    </p>
    <p>
     <strong>
      注：
     </strong>
     数组名记录数组首地址（即a[0]的地址），元素连续分布。
    </p>
    <p>
     假设a[0]地址是0x1122 ，则 a[1]地址= a[0]的地址+int字节数(4)= 0x1122 + 4 = 0x1126，
    </p>
    <p>
     a[2]地址= a[1]地址 + int字节数(4)= 0x1126 + 4 = 0x112A，
    </p>
    <p>
     依次类推。
     <br/>
    </p>
    <h3 id="%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9" name="%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">
     注意事项
    </h3>
    <hr/>
    <p>
     <br/>
     C语言规定，数组变量一旦声明，数组名指向的地址不可更改。声明数组时，编译器自动分配内存地址并与数组名绑定。用大括号重新赋值不允许，如：
     <br/>
    </p>
    <hr/>
    <h4 id="%E9%94%99%E8%AF%AF%E4%B8%BE%E4%BE%8B1%EF%BC%9A%C2%A0" name="%E9%94%99%E8%AF%AF%E4%B8%BE%E4%BE%8B1%EF%BC%9A%C2%A0">
     错误举例1：
    </h4>
    <pre><code class="language-cs">int nums[5];

nums = {22, 37, 3490, 18, 95}; //（使用大括号赋值，必须在数组声明时赋值，否则编译报错）</code></pre>
    <hr/>
    <h4 id="%E9%94%99%E8%AF%AF%E4%B8%BE%E4%BE%8B2%EF%BC%9A" name="%E9%94%99%E8%AF%AF%E4%B8%BE%E4%BE%8B2%EF%BC%9A">
     错误举例2：
    </h4>
    <pre><code class="language-cs"> int nums[5] = {1, 2, 3, 4, 5};

nums = {6, 7, 8, 9, 10}; //（报错，更改数组地址）</code></pre>
    <h3 id="%C2%A0%20%E5%8F%98%E9%95%BF%E6%95%B0%E7%BB%84" name="%C2%A0%20%E5%8F%98%E9%95%BF%E6%95%B0%E7%BB%84">
     变长数组
    </h3>
    <hr/>
    <p>
     数组声明时，除用常量指定长度，也可用变量或表达式指定，即变长数组
    </p>
    <pre><code class="language-cs"> int n = 10;

 int arr[n]; 。//其特征是数组长度运行时确定，好处是无需开发时预估长度，可在运行时精准分配。
 

 int i = 10; 
 int a1[i]; </code></pre>
    <p>
     <strong>
      注：
     </strong>
     变长数组在C99标准引入，C11标准标记为可选特性，部分编译器可能不支持或有限制。
     <br/>
    </p>
    <h2 id="%C2%A0char%E5%9E%8B%E6%95%B0%E7%BB%84%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2" name="%C2%A0char%E5%9E%8B%E6%95%B0%E7%BB%84%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2">
     char型数组与字符串
    </h2>
    <hr/>
    <h3 id="%C2%A0char%E5%9E%8B%E6%95%B0%E7%BB%84" name="%C2%A0char%E5%9E%8B%E6%95%B0%E7%BB%84">
     char型数组
    </h3>
    <hr/>
    <p>
     字符型数组，即数组元素数据类型为字符型的数组。一方面，可看作普通数组，初始化及常用操作同前。
    </p>
    <p>
     例如：
    </p>
    <p>
     char arr[] = {'a','b','c','d'}; 。
    </p>
    <p>
     另一方面，字符型数组可用于存储字符串。
     <br/>
    </p>
    <h3 id="%C2%A0%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E4%BD%BF%E7%94%A8" name="%C2%A0%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E4%BD%BF%E7%94%A8">
     字符串的使用
    </h3>
    <hr/>
    <ul>
     <li>
      "helloworld"
     </li>
     <li>
      <p>
       "abc"
      </p>
     </li>
     <li>
      <p>
       "a"
      </p>
     </li>
     <li>
      <p>
       "123"
      </p>
     </li>
    </ul>
    <p>
     由双引号引起来的一串字符称为字符串字面值，简称字符串（String）。
    </p>
    <ul>
     <li>
      通常把""称为空串，即不包含任意字符的字符串；
     </li>
     <li>
      而" "则称为空格串，是包含一个空格字符的字符串，二者不能等同。
     </li>
    </ul>
    <p>
     C语言没有专门用于存储字符串的变量类型，字符串都被存储在char类型的数组中。
    </p>
    <p>
     在字符串结尾，C语言自动添加一个'\0'的转义字符作为字符串结束的标志，所以字符数组也必须以'\0'字符结束。
    </p>
    <hr/>
    <h4 id="%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A3%B0%E6%98%8E%E6%96%B9%E5%BC%8F1%EF%BC%9A%E6%A0%87%E5%87%86%E5%86%99%E6%B3%95" name="%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A3%B0%E6%98%8E%E6%96%B9%E5%BC%8F1%EF%BC%9A%E6%A0%87%E5%87%86%E5%86%99%E6%B3%95">
     字符串声明方式1：标准写法
    </h4>
    <pre><code class="language-cs">//显式以'\0'为最后一个字符元素结束
 char str[12] = {'h','e','l','l','o',' ','w','o','r','l','d','\0'};</code></pre>
    <p>
     <strong>
      注
     </strong>
     ：字符串写成数组的形式，是非常麻烦的，C语言提供了一种简化写法。双引号之中的字符，会被自动视为字符数组。
    </p>
    <hr/>
    <h4 id="%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A3%B0%E6%98%8E%E6%96%B9%E5%BC%8F2%EF%BC%9A%E7%AE%80%E5%8C%96%E5%86%99%E6%B3%95" name="%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A3%B0%E6%98%8E%E6%96%B9%E5%BC%8F2%EF%BC%9A%E7%AE%80%E5%8C%96%E5%86%99%E6%B3%95">
     字符串声明方式2：简化写法
    </h4>
    <pre><code class="language-cs">//自动在末尾添加'\0'字符
 char str1[12] = {"hello world"};   //注意使用双引号，非单引号
//或者
 char str2[12] = "hello world";   //可以省略一对{}来初始化数组元素</code></pre>
    <p>
     由于字符数组的长度可以让编译器自动计算，所以声明时可以省略字符数组的长度：
    </p>
    <pre><code class="language-cs"> char str1[] = {"hello world"}; 
//或者
 char str2[] = "hello world"; </code></pre>
    <p>
     <strong>
      注：
     </strong>
     双引号里面的字符串，不用自己添加结尾字符\0，C语言会自动添加。所以，代码中数组str1或注str2的元素依次为 'h','e','l','l','o',' ','w','o','r','l','d','\0'。
    </p>
    <p>
     对应的存储为每个存储单元大小为1个字节，示例图（包含字符和空格、空字符的存储示意）
     <br/>
     其中，数组由连续的存储单元组成，字符串中的字符被存储在相邻的存储单元中，每个单元存储一个字符。所以，上述两个数组的长度不是11，而是12
    </p>
    <h4 id="%E5%AE%9E%E4%BE%8B" name="%E5%AE%9E%E4%BE%8B">
     实例
    </h4>
    <pre><code class="language-cs"> #include "stdio.h"

int main() {

  //字符数组
    char arr[] = {[0]: 'a', [1]: 'b', [2]: 'c', [3]: 'd'};

    //字符串
    //C语言中 创建字符串方式1 标准写法
    //显式以'\0'为最后一个字符元素结束
    char str[12] = {[0]: 'h', [1]: 'e', [2]: 'l', [3]: 'l', [4]: 'o', [5]: ' ', [6]: 'w', [7]: 'o', [8]: 'r', [9]: 'l', [10]: 'd', [11]: '\0'};
    char name[5] = {[0]: 'j', [1]: 'i', [2]: 'm', [3]: '\0'};

//声明字符串方式2
    char str1[12] = {"hello world"};
    char str2[12] = "hello world";

    char str3[] = {"hello world"};
    char str4[] = "hello world";

    char name </code></pre>
    <h3 id="%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E9%95%BF%E5%BA%A6" name="%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E9%95%BF%E5%BA%A6">
     字符串的长度
    </h3>
    <hr/>
    <p>
     <strong>
      eg.
     </strong>
    </p>
    <p>
     char nation[10]={"China"};
     <br/>
     注：数组nation的前5个元素为:'C','h','i','n','a'，第6个元素为'\0'，后4个元素也自动设定为'\0'。
    </p>
    <pre><code class="language-cs">char[3]={"jim"};
   //字符串数组长度
printf("%d\n", sizeof(name)/ sizeof(char));
</code></pre>
    <p>
     注意：在计算字符串长度的时候，'\0' 是结束标志，不算作字符串内容。
     <br/>
     <strong>
      另一种计算长度方式（调用strlen()函数）
     </strong>
    </p>
    <pre><code class="language-cs">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;  //需要加载此头文件

int main() {
    char nation[10] = "china";
    printf("%d\n", strlen(nation));   //5
}
 </code></pre>
    <hr/>
    <h2 id="%C2%A0gets()%E4%B8%8Eputs()%E7%9A%84%E4%BD%BF%E7%94%A8" name="%C2%A0gets()%E4%B8%8Eputs()%E7%9A%84%E4%BD%BF%E7%94%A8">
     gets()与puts()的使用
    </h2>
    <hr/>
    <h3 id="gets()%EF%BC%9A" name="gets()%EF%BC%9A">
     gets()：
    </h3>
    <p>
     读取标准输入设备输入的字符串，直到遇到【Enter】键才结束。
    </p>
    <pre><code class="language-cs">char str[20];  //定义一个数组
gets(str);      //获取输入的字符串，存放到字符数组中</code></pre>
    <h4 id="%E4%B8%BE%E4%BE%8B%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E8%AF%BB%E5%86%99" name="%E4%B8%BE%E4%BE%8B%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E8%AF%BB%E5%86%99">
     举例：字符串的读写
     <br/>
    </h4>
    <pre><code class="language-cs">c   
int main() {
    char name[15];
    printf("enter your name:");
    gets(name);       //输入字符串至数组变量name
    puts(name);       //输出字符串
    return 0;
}</code></pre>
    <hr/>
    <h3 id="puts()%EF%BC%9A" name="puts()%EF%BC%9A">
     puts()：
    </h3>
    <p>
     在C语言中，puts() 是一个用于输出字符串的标准库函数，其原型定义在 &lt;stdio.h&gt; 头文件中。puts() 函数的作用是将一个字符串打印到标准输出控制台上。
    </p>
    <pre><code class="language-cs">int main() {

    char str1[] = "helloworld";//定义字符串
    puts(str1);//输出字符串

    return 0;
}
 </code></pre>
    <p>
     <strong>
      注：
     </strong>
     puts()函数只能用于输出字符串，而不能输出其他类型的数据。如果需要输出其他类型的数据，应使用printf() 函数。
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323430325f38393039343734362f:61727469636c652f64657461696c732f313436323136323438" class_="artid" style="display:none">
 </p>
</div>


