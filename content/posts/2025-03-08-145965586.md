---
layout: post
title: "Java网络编程初阶"
date: 2025-03-08 09:14:37 +0800
description: "这里我会介绍，网络编程会用到的网络相关知识，更全面次的网络知识，后期会发布的😊到现在为止，简单的TCP 和 UDP 的发送端和接收端就可以实现了还有进阶的，是放在练习里，在不久之后会更新。"
keywords: "Java网络编程初阶"
categories: ['杂谈Java']
tags: ['网络编程', '网络', 'Java']
artid: "145965586"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=145965586
    alt: "Java网络编程初阶"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=145965586
featuredImagePreview: https://bing.ee123.net/img/rand?artid=145965586
cover: https://bing.ee123.net/img/rand?artid=145965586
image: https://bing.ee123.net/img/rand?artid=145965586
img: https://bing.ee123.net/img/rand?artid=145965586
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Java网络编程初阶
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <hr id="hr-toc" name="tableOfContents"/>
    <blockquote>
     <p>
      前言
     </p>
     <p>
      本文介绍最初的java网络编程
     </p>
     <p>
      在后面会更新练习的内容，在练习的内容来更深入理解网络编程
     </p>
     <p>
      🏠我的主页：
      <a href="https://blog.csdn.net/qq_46987323?type=blog" title="我的主页">
       我的主页
      </a>
      <br/>
      📚系列专栏：
      <a href="https://blog.csdn.net/qq_46987323/category_12792757.html?spm=1001.2014.3001.5482" title="系列专栏">
       系列专栏
      </a>
     </p>
    </blockquote>
    <h2 id="%E4%B8%80%E3%80%81%20%E5%88%9D%E5%A7%8B%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B" name="%E4%B8%80%E3%80%81%20%E5%88%9D%E5%A7%8B%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B">
     一、 初始网络编程
    </h2>
    <p>
     网络编程顾名思义，就是在网络中的
     <strong>
      发送端
     </strong>
     和
     <strong>
      接收端
     </strong>
     进行通信
     <br/>
     用到网络就先了解一下网络
    </p>
    <h2 id="%E4%BA%8C%E3%80%81%20%E7%9B%B8%E5%85%B3%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86%E4%BB%8B%E7%BB%8D" name="%E4%BA%8C%E3%80%81%20%E7%9B%B8%E5%85%B3%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86%E4%BB%8B%E7%BB%8D">
     二、 相关网络知识介绍
    </h2>
    <p>
     这里我会介绍，网络编程
     <span style="color:#be191c">
      会用到的
     </span>
     网络相关知识，更全面次的网络知识，后期会发布的😊
    </p>
    <h3 id="1.%20%E7%BD%91%E7%BB%9C%E4%B8%89%E8%A6%81%E7%B4%A0" name="1.%20%E7%BD%91%E7%BB%9C%E4%B8%89%E8%A6%81%E7%B4%A0">
     1. 网络三要素
    </h3>
    <h4 id="1.1.%20IP" name="1.1.%20IP">
     1.1. IP
    </h4>
    <p>
     IP就是在广域网中
     <span style="color:#be191c">
      <strong>
       唯一标识
      </strong>
     </span>
     （ 是的，在广域网中可以通过IP知道用的是什么设备 ）
     <br/>
     在网络中，分为
    </p>
    <ol>
     <li>
      局域网
     </li>
     <li>
      城域网
     </li>
     <li>
      广域网
     </li>
    </ol>
    <p>
     所以这里强调的是在广域网中的唯一标识
    </p>
    <h5 id="1.1.1.%20IPv4" name="1.1.1.%20IPv4">
     1.1.1. IPv4
    </h5>
    <p>
     特点：点分十进制
     <br/>
     例如： 192.168.1.1
     <br/>
     特殊IP：127.0.0.1（表示本机IP）
     <br/>
     可以通过以下步骤查到本机ip
    </p>
    <ol>
     <li>
      <span style="color:#be191c">
       <strong>
        win + r
       </strong>
      </span>
     </li>
     <li>
      输入cmd
     </li>
    </ol>
    <p>
     <img alt="" height="228" src="https://i-blog.csdnimg.cn/direct/d66eb2229548492c8eb062276ce00db4.png" width="413"/>
    </p>
    <p>
     3. 输入
     <span style="color:#be191c">
      <strong>
       ipconfig
      </strong>
     </span>
    </p>
    <p>
     <img alt="" height="95" src="https://i-blog.csdnimg.cn/direct/e45208ea9d12439f9415e53110593638.png" width="300">
      <br/>
      <img alt="" height="123" src="https://i-blog.csdnimg.cn/direct/bca7fa8d7456407eb0db56f26cf5f728.png" width="400"/>
     </img>
    </p>
    <p>
     IPv4一共有4^32个，现在是已经用完了，但是我们在网络通信中，基本上还是用的IPv4
    </p>
    <h5 id="1.1.2.%20IPv6" name="1.1.2.%20IPv6">
     1.1.2. IPv6
    </h5>
    <p>
     因为IPv4用完了，现在很多地方都用了IPV6,之后也会变普遍的
     <br/>
     特点：冒分十六进制
     <br/>
     例如： 00-01-00-11-2E-83-2E-0E-28-C5-F8-3D-49-47
     <br/>
     有2^128个
    </p>
    <h4 id="1.2.%20%E7%AB%AF%E5%8F%A3%E5%8F%B7" name="1.2.%20%E7%AB%AF%E5%8F%A3%E5%8F%B7">
     1.2. 端口号
    </h4>
    <p>
     端口号：
     <strong>
      <span style="color:#be191c">
       应用程序
      </span>
     </strong>
     在
     <span style="color:#0d0016">
      设备
     </span>
     中的
     <strong>
      <span style="color:#be191c">
       唯一标识
      </span>
     </strong>
    </p>
    <p>
     这就和IP对应上了，可以这样理解
    </p>
    <ul>
     <li>
      IP 这台设备
     </li>
     <li>
      端口号 就是这台设备上的某个应用程序
     </li>
    </ul>
    <p>
     端口号的取值范围：0 ~ 65535
     <br/>
     其中，0 ~ 1023 之间的端口号用于一些知名的网络服务或应用
     <br/>
     我们使用 1024以上的端口号即可
    </p>
    <h4 id="1.3.%20%E5%8D%8F%E8%AE%AE" name="1.3.%20%E5%8D%8F%E8%AE%AE">
     1.3. 协议
    </h4>
    <p>
     协议：通信双方必须遵守的约定（规则）
     <br/>
     因为本次网络编程只会涉及两个协议：TCP、UDP
    </p>
    <h5 id="1.2.1.%20TCP" name="1.2.1.%20TCP">
     1.2.1. TCP
    </h5>
    <p>
     TCP（传输控制协议）
     <br/>
     是
     <span style="color:#be191c">
      面向连接
     </span>
     的
     <br/>
     特点：速度慢，没有大小限制，数据是安全的
     <br/>
     需要通信双方确立连接
     <br/>
     应用：下载软件，发送邮件（因为这些不能让数据丢失）
    </p>
    <h5 id="1.2.2.%20UDP" name="1.2.2.%20UDP">
     1.2.2. UDP
    </h5>
    <p>
     UDP（用户数据报协议）
     <br/>
     是面向无连接的
     <br/>
     特点：一次最多发送64KB，数据不安全，易丢失
     <br/>
     应用：打视频电话（反正就是卡一下而已）
     <br/>
     UDP是只管发，不管你有没有接收到
    </p>
    <p>
     接下来，就围绕网络三要素以及两个网络协议来分别讲解，网路编程的实现
    </p>
    <h2 id="%E4%B8%89%E3%80%81%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%9A%84%E5%AE%9E%E7%8E%B0" name="%E4%B8%89%E3%80%81%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%9A%84%E5%AE%9E%E7%8E%B0">
     三、网络编程的实现
    </h2>
    <h3 id="1.%20UDP%E7%9A%84%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%AE%9E%E7%8E%B0" name="1.%20UDP%E7%9A%84%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%AE%9E%E7%8E%B0">
     1. UDP的网络编程实现
    </h3>
    <h4 id="1.1.%20%E5%8F%91%E9%80%81%E7%AB%AF" name="1.1.%20%E5%8F%91%E9%80%81%E7%AB%AF">
     1.1. 发送端
    </h4>
    <p>
     步骤
    </p>
    <ol>
     <li>
      创建
      <strong>
       <span style="color:#be191c">
        DatagramSocket
       </span>
       <br/>
       <span style="color:#0d0016">
        绑定端口
        <br/>
        绑定端口，就是从这个端口发送数据
        <br/>
        没有端口，就是从任意端口发出
        <br/>
        因为是发出的数据，所以不用写
       </span>
      </strong>
     </li>
     <li>
      打包数据
      <br/>
      DatagramPacket
     </li>
     <li>
      发送数据
     </li>
     <li>
      释放资源
     </li>
    </ol>
    <p>
     DatagramPacket包含的4个内容
    </p>
    <p>
     <img alt="" height="305" src="https://i-blog.csdnimg.cn/direct/01e26f52019142f8bba7d6488c92528c.png" width="1080"/>
    </p>
    <pre><code class="language-java">//发送数据
//1. 创建DatagramSocket对象
DatagramSocket host;
try {
    // 绑定端口，就是从这个端口发送数据
    // 没有端口，就是从任意端口发出
    host = new DatagramSocket();
} catch (SocketException e) {
    throw new RuntimeException(e);
}

//2. 打包数据
String str = "欢迎来到艺杯羹的博客！";
// 转成字节数组
byte[] bytestr = str.getBytes();
//获取ip（电脑）对象地址
InetAddress address = InetAddress.getByName("192.168.1.50");
// 发送的端口号
int post = 8888;
// 打包数据中包含以下四个内容
// 1. 打包的字节数据
// 2. 打包的个数
// 3. 打包的地址
// 4. 打包的端口
DatagramPacket packet = new DatagramPacket(bytestr, bytestr.length, address, post);

//3. 发送数据
try {
    host.send(packet);
} catch (IOException e) {
    throw new RuntimeException(e);
}

//4.释放资源
host.close();
}</code></pre>
    <h4 id="1.2.%20%E6%8E%A5%E6%94%B6%E7%AB%AF" name="1.2.%20%E6%8E%A5%E6%94%B6%E7%AB%AF">
     1.2. 接收端
    </h4>
    <p>
     步骤
    </p>
    <ol>
     <li>
      创建
      <span style="color:#be191c">
       <strong>
        DatagramSocket
       </strong>
      </span>
      <br/>
      <span style="color:#333333">
       <strong>
        这里要指定接收的端口
        <br/>
        绑定的端口一定要跟发送的端口保持一致
       </strong>
      </span>
     </li>
     <li>
      接收数据包
     </li>
     <li>
      解析数据包
     </li>
     <li>
      释放资源
     </li>
    </ol>
    <p>
     <img alt="" height="106" src="https://i-blog.csdnimg.cn/direct/0868c0ad724a4d209d54170848739446.png" width="431"/>
    </p>
    <pre><code class="language-java">public static void main(String[] args) throws SocketException {
        // 创建Datagramsocket对象
        // 注意：
        //在接收的时候，一定要绑定端口
        //而且绑定的端口一定要跟发送的端口保持一致
        DatagramSocket receive = new DatagramSocket(8080);

        // 2.接收数据包
        // 因为是字节，所以就先弄一个字节数组来接收数据
        byte[] str = new byte[1024];
        // 创建接收的DatagramPacket包
        // 空号里的两个值是
        // 1. 存放到哪个字节数组
        // 2. 存放的长度
        DatagramPacket data = new DatagramPacket(str, str.length);
        try {
            // 接收数据
            receive.receive(data);
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
        
        // 3. 解析数据包
        // getData()返回发送来的数据
        byte[] data1 = data.getData();
        // 返回发送端的端口号
        int port = data.getPort();
        // 返回发送端的地址
        InetAddress address = data.getAddress();
        // 返回数据的长度
        int len = data.getLength();

        System.out.println("地址和端口为：" + address + "  " + port);
        System.out.println("接收的数据为" + new String(data1, 0, len) +"   " + "长度为:" + len);

        // 4. 释放资源
        receive.close();

    }</code></pre>
    <p>
     先自己实现一遍这个代码，再往后看😊
    </p>
    <h3 id="2.%20TCP%E7%9A%84%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%AE%9E%E7%8E%B0" name="2.%20TCP%E7%9A%84%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%AE%9E%E7%8E%B0">
     2. TCP的网络编程实现
    </h3>
    <p>
     TCP通信协议是一种
     <span style="color:#be191c">
      可靠
     </span>
     的网络协议，它在通信的两端各建立一个Socket对象
     <br/>
     在开始通信之前，要保证连接已经建立
     <br/>
     通过Socket产生的IO流来进行网络通信
    </p>
    <h4 id="1.1.%20%E5%AE%A2%E6%88%B7%E7%AB%AF" name="1.1.%20%E5%AE%A2%E6%88%B7%E7%AB%AF">
     1.1. 客户端
    </h4>
    <p>
     步骤
    </p>
    <ol>
     <li>
      建立IP和端口的连接
      <br/>
      这里要提供服务端的IP和端口
     </li>
     <li>
      获取输出流
      <br/>
      要通过 创建的socket的对象
      <br/>
      内部的getOutputStream()输出流函数
      <br/>
      通过write写数据
     </li>
     <li>
      关闭socket
      <br/>
     </li>
    </ol>
    <pre><code class="language-java">// 1.建立IP和端口的连接
Socket socket = new Socket("127.0.0.1", 8080);

//2.获取输出流
OutputStream out = socket.getOutputStream();
//写数据
 out.write("Hillo!!!".getBytes());

//3.关闭
out.close();</code></pre>
    <h4 id="1.2.%20%E6%9C%8D%E5%8A%A1%E7%AB%AF" name="1.2.%20%E6%9C%8D%E5%8A%A1%E7%AB%AF">
     1.2. 服务端
    </h4>
    <p>
     步骤
    </p>
    <ol>
     <li>
      创建ServerSocket对象
     </li>
     <li>
      同意接受 ,监听客户端的连接
     </li>
     <li>
      从连接同道中获取输入流读取对象
     </li>
     <li>
      释放
     </li>
    </ol>
    <pre><code class="language-java">//1.创建ServerSocket对象
ServerSocket server = new ServerSocket(8080);

//2.同意接受 ,监听客户端的连接
Socket socket = server.accept();

//3.从连接通道中获取输入流读取对象
InputStream input = socket.getInputStream();
int b;
while((b = input.read()) != -1){
   System.out.print((char)b);
}

//4.释放
socket.close();
server.close();</code></pre>
    <h5 id="1.2.1.%20%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98" name="1.2.1.%20%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98">
     1.2.1. 乱码问题
    </h5>
    <p>
     这是最简洁的代码，如果是中文，可能会出现乱码
     <br/>
     那么，现在来改进一下代码
    </p>
    <p>
     在第三步的位置，把接受的代码改成
    </p>
    <pre><code class="language-java">InputStream input = socket.getInputStream();
InputStreamReader ins = new InputStreamReader(input);
BufferedReader buffer = new BufferedReader(ins);

// 写成一行
BufferedReader buffer = new BufferedReader(new InputStreamReader(socket.getInputStream()));</code></pre>
    <h2 id="%E6%80%BB%E7%BB%93" name="%E6%80%BB%E7%BB%93">
     总结
    </h2>
    <p>
     <img alt="" height="1303" src="https://i-blog.csdnimg.cn/direct/5d8e7b175c0a4be5a7eb005f5e31d1f4.png" width="1085"/>
    </p>
    <p>
     到现在为止，简单的TCP 和 UDP 的发送端和接收端就可以实现了
    </p>
    <p>
     还有进阶的，是放在练习里，在不久之后会更新
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f34363938373332332f:61727469636c652f64657461696c732f313435393635353836" class_="artid" style="display:none">
 </p>
</div>


