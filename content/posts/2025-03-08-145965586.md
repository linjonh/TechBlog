---
arturl_encode: "68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f34363938373332332f:61727469636c652f64657461696c732f313435393635353836"
layout: post
title: "Javaç½‘ç»œç¼–ç¨‹åˆé˜¶"
date: 2025-03-08 09:14:37 +0800
description: "è¿™é‡Œæˆ‘ä¼šä»‹ç»ï¼Œç½‘ç»œç¼–ç¨‹ä¼šç”¨åˆ°çš„ç½‘ç»œç›¸å…³çŸ¥è¯†ï¼Œæ›´å…¨é¢æ¬¡çš„ç½‘ç»œçŸ¥è¯†ï¼ŒåæœŸä¼šå‘å¸ƒçš„ğŸ˜Šåˆ°ç°åœ¨ä¸ºæ­¢ï¼Œç®€å•çš„TCP å’Œ UDP çš„å‘é€ç«¯å’Œæ¥æ”¶ç«¯å°±å¯ä»¥å®ç°äº†è¿˜æœ‰è¿›é˜¶çš„ï¼Œæ˜¯æ”¾åœ¨ç»ƒä¹ é‡Œï¼Œåœ¨ä¸ä¹…ä¹‹åä¼šæ›´æ–°ã€‚"
keywords: "Javaç½‘ç»œç¼–ç¨‹åˆé˜¶"
categories: ['æ‚è°ˆJava']
tags: ['ç½‘ç»œç¼–ç¨‹', 'ç½‘ç»œ', 'Java']
artid: "145965586"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=145965586
    alt: "Javaç½‘ç»œç¼–ç¨‹åˆé˜¶"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=145965586
featuredImagePreview: https://bing.ee123.net/img/rand?artid=145965586
cover: https://bing.ee123.net/img/rand?artid=145965586
image: https://bing.ee123.net/img/rand?artid=145965586
img: https://bing.ee123.net/img/rand?artid=145965586
---

# Javaç½‘ç»œç¼–ç¨‹åˆé˜¶

---

> å‰è¨€
>
> æœ¬æ–‡ä»‹ç»æœ€åˆçš„javaç½‘ç»œç¼–ç¨‹
>
> åœ¨åé¢ä¼šæ›´æ–°ç»ƒä¹ çš„å†…å®¹ï¼Œåœ¨ç»ƒä¹ çš„å†…å®¹æ¥æ›´æ·±å…¥ç†è§£ç½‘ç»œç¼–ç¨‹
>
> ğŸ æˆ‘çš„ä¸»é¡µï¼š
> [æˆ‘çš„ä¸»é¡µ](https://blog.csdn.net/qq_46987323?type=blog "æˆ‘çš„ä¸»é¡µ")
>   
> ğŸ“šç³»åˆ—ä¸“æ ï¼š
> [ç³»åˆ—ä¸“æ ](https://blog.csdn.net/qq_46987323/category_12792757.html?spm=1001.2014.3001.5482 "ç³»åˆ—ä¸“æ ")

## ä¸€ã€ åˆå§‹ç½‘ç»œç¼–ç¨‹

ç½‘ç»œç¼–ç¨‹é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯åœ¨ç½‘ç»œä¸­çš„
**å‘é€ç«¯**
å’Œ
**æ¥æ”¶ç«¯**
è¿›è¡Œé€šä¿¡
  
ç”¨åˆ°ç½‘ç»œå°±å…ˆäº†è§£ä¸€ä¸‹ç½‘ç»œ

## äºŒã€ ç›¸å…³ç½‘ç»œçŸ¥è¯†ä»‹ç»

è¿™é‡Œæˆ‘ä¼šä»‹ç»ï¼Œç½‘ç»œç¼–ç¨‹
ä¼šç”¨åˆ°çš„
ç½‘ç»œç›¸å…³çŸ¥è¯†ï¼Œæ›´å…¨é¢æ¬¡çš„ç½‘ç»œçŸ¥è¯†ï¼ŒåæœŸä¼šå‘å¸ƒçš„ğŸ˜Š

### 1. ç½‘ç»œä¸‰è¦ç´ 

#### 1.1. IP

IPå°±æ˜¯åœ¨å¹¿åŸŸç½‘ä¸­
**å”¯ä¸€æ ‡è¯†**
ï¼ˆ æ˜¯çš„ï¼Œåœ¨å¹¿åŸŸç½‘ä¸­å¯ä»¥é€šè¿‡IPçŸ¥é“ç”¨çš„æ˜¯ä»€ä¹ˆè®¾å¤‡ ï¼‰
  
åœ¨ç½‘ç»œä¸­ï¼Œåˆ†ä¸º

1. å±€åŸŸç½‘
2. åŸåŸŸç½‘
3. å¹¿åŸŸç½‘

æ‰€ä»¥è¿™é‡Œå¼ºè°ƒçš„æ˜¯åœ¨å¹¿åŸŸç½‘ä¸­çš„å”¯ä¸€æ ‡è¯†

##### 1.1.1. IPv4

ç‰¹ç‚¹ï¼šç‚¹åˆ†åè¿›åˆ¶
  
ä¾‹å¦‚ï¼š 192.168.1.1
  
ç‰¹æ®ŠIPï¼š127.0.0.1ï¼ˆè¡¨ç¤ºæœ¬æœºIPï¼‰
  
å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤æŸ¥åˆ°æœ¬æœºip

1. **win + r**
2. è¾“å…¥cmd

![](https://i-blog.csdnimg.cn/direct/d66eb2229548492c8eb062276ce00db4.png)

3. è¾“å…¥
**ipconfig**

![](https://i-blog.csdnimg.cn/direct/e45208ea9d12439f9415e53110593638.png)
  
![](https://i-blog.csdnimg.cn/direct/bca7fa8d7456407eb0db56f26cf5f728.png)

IPv4ä¸€å…±æœ‰4^32ä¸ªï¼Œç°åœ¨æ˜¯å·²ç»ç”¨å®Œäº†ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨ç½‘ç»œé€šä¿¡ä¸­ï¼ŒåŸºæœ¬ä¸Šè¿˜æ˜¯ç”¨çš„IPv4

##### 1.1.2. IPv6

å› ä¸ºIPv4ç”¨å®Œäº†ï¼Œç°åœ¨å¾ˆå¤šåœ°æ–¹éƒ½ç”¨äº†IPV6,ä¹‹åä¹Ÿä¼šå˜æ™®éçš„
  
ç‰¹ç‚¹ï¼šå†’åˆ†åå…­è¿›åˆ¶
  
ä¾‹å¦‚ï¼šÂ 00-01-00-11-2E-83-2E-0E-28-C5-F8-3D-49-47
  
æœ‰2^128ä¸ª

#### 1.2. ç«¯å£å·

ç«¯å£å·ï¼š
**åº”ç”¨ç¨‹åº**
åœ¨
è®¾å¤‡
ä¸­çš„
**å”¯ä¸€æ ‡è¯†**

è¿™å°±å’ŒIPå¯¹åº”ä¸Šäº†ï¼Œå¯ä»¥è¿™æ ·ç†è§£

* IP è¿™å°è®¾å¤‡
* ç«¯å£å· å°±æ˜¯è¿™å°è®¾å¤‡ä¸Šçš„æŸä¸ªåº”ç”¨ç¨‹åº

ç«¯å£å·çš„å–å€¼èŒƒå›´ï¼š0 ~ 65535
  
å…¶ä¸­ï¼Œ0 ~ 1023 ä¹‹é—´çš„ç«¯å£å·ç”¨äºä¸€äº›çŸ¥åçš„ç½‘ç»œæœåŠ¡æˆ–åº”ç”¨
  
æˆ‘ä»¬ä½¿ç”¨ 1024ä»¥ä¸Šçš„ç«¯å£å·å³å¯

#### 1.3. åè®®

åè®®ï¼šé€šä¿¡åŒæ–¹å¿…é¡»éµå®ˆçš„çº¦å®šï¼ˆè§„åˆ™ï¼‰
  
å› ä¸ºæœ¬æ¬¡ç½‘ç»œç¼–ç¨‹åªä¼šæ¶‰åŠä¸¤ä¸ªåè®®ï¼šTCPã€UDP

##### 1.2.1. TCP

TCPï¼ˆä¼ è¾“æ§åˆ¶åè®®ï¼‰
  
æ˜¯
é¢å‘è¿æ¥
çš„
  
ç‰¹ç‚¹ï¼šé€Ÿåº¦æ…¢ï¼Œæ²¡æœ‰å¤§å°é™åˆ¶ï¼Œæ•°æ®æ˜¯å®‰å…¨çš„
  
éœ€è¦é€šä¿¡åŒæ–¹ç¡®ç«‹è¿æ¥
  
åº”ç”¨ï¼šä¸‹è½½è½¯ä»¶ï¼Œå‘é€é‚®ä»¶ï¼ˆå› ä¸ºè¿™äº›ä¸èƒ½è®©æ•°æ®ä¸¢å¤±ï¼‰

##### 1.2.2. UDP

UDPï¼ˆç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰
  
æ˜¯é¢å‘æ— è¿æ¥çš„
  
ç‰¹ç‚¹ï¼šä¸€æ¬¡æœ€å¤šå‘é€64KBï¼Œæ•°æ®ä¸å®‰å…¨ï¼Œæ˜“ä¸¢å¤±
  
åº”ç”¨ï¼šæ‰“è§†é¢‘ç”µè¯ï¼ˆåæ­£å°±æ˜¯å¡ä¸€ä¸‹è€Œå·²ï¼‰
  
UDPæ˜¯åªç®¡å‘ï¼Œä¸ç®¡ä½ æœ‰æ²¡æœ‰æ¥æ”¶åˆ°

æ¥ä¸‹æ¥ï¼Œå°±å›´ç»•ç½‘ç»œä¸‰è¦ç´ ä»¥åŠä¸¤ä¸ªç½‘ç»œåè®®æ¥åˆ†åˆ«è®²è§£ï¼Œç½‘è·¯ç¼–ç¨‹çš„å®ç°

## ä¸‰ã€ç½‘ç»œç¼–ç¨‹çš„å®ç°

### 1. UDPçš„ç½‘ç»œç¼–ç¨‹å®ç°

#### 1.1. å‘é€ç«¯

æ­¥éª¤

1. åˆ›å»º
   **DatagramSocket
     

   ç»‘å®šç«¯å£
     
   ç»‘å®šç«¯å£ï¼Œå°±æ˜¯ä»è¿™ä¸ªç«¯å£å‘é€æ•°æ®
     
   æ²¡æœ‰ç«¯å£ï¼Œå°±æ˜¯ä»ä»»æ„ç«¯å£å‘å‡º
     
   å› ä¸ºæ˜¯å‘å‡ºçš„æ•°æ®ï¼Œæ‰€ä»¥ä¸ç”¨å†™**
2. æ‰“åŒ…æ•°æ®
     
   DatagramPacket
3. å‘é€æ•°æ®
4. é‡Šæ”¾èµ„æº

DatagramPacketåŒ…å«çš„4ä¸ªå†…å®¹

![](https://i-blog.csdnimg.cn/direct/01e26f52019142f8bba7d6488c92528c.png)

```java
//å‘é€æ•°æ®
//1. åˆ›å»ºDatagramSocketå¯¹è±¡
DatagramSocket host;
try {
    // ç»‘å®šç«¯å£ï¼Œå°±æ˜¯ä»è¿™ä¸ªç«¯å£å‘é€æ•°æ®
    // æ²¡æœ‰ç«¯å£ï¼Œå°±æ˜¯ä»ä»»æ„ç«¯å£å‘å‡º
    host = new DatagramSocket();
} catch (SocketException e) {
    throw new RuntimeException(e);
}

//2. æ‰“åŒ…æ•°æ®
String str = "æ¬¢è¿æ¥åˆ°è‰ºæ¯ç¾¹çš„åšå®¢ï¼";
// è½¬æˆå­—èŠ‚æ•°ç»„
byte[] bytestr = str.getBytes();
//è·å–ipï¼ˆç”µè„‘ï¼‰å¯¹è±¡åœ°å€
InetAddress address = InetAddress.getByName("192.168.1.50");
// å‘é€çš„ç«¯å£å·
int post = 8888;
// æ‰“åŒ…æ•°æ®ä¸­åŒ…å«ä»¥ä¸‹å››ä¸ªå†…å®¹
// 1. æ‰“åŒ…çš„å­—èŠ‚æ•°æ®
// 2. æ‰“åŒ…çš„ä¸ªæ•°
// 3. æ‰“åŒ…çš„åœ°å€
// 4. æ‰“åŒ…çš„ç«¯å£
DatagramPacket packet = new DatagramPacket(bytestr, bytestr.length, address, post);

//3. å‘é€æ•°æ®
try {
    host.send(packet);
} catch (IOException e) {
    throw new RuntimeException(e);
}

//4.é‡Šæ”¾èµ„æº
host.close();
}
```

#### 1.2. æ¥æ”¶ç«¯

æ­¥éª¤

1. åˆ›å»º
   **DatagramSocket**
     

   **è¿™é‡Œè¦æŒ‡å®šæ¥æ”¶çš„ç«¯å£
     
   ç»‘å®šçš„ç«¯å£ä¸€å®šè¦è·Ÿå‘é€çš„ç«¯å£ä¿æŒä¸€è‡´**
2. æ¥æ”¶æ•°æ®åŒ…
3. è§£ææ•°æ®åŒ…
4. é‡Šæ”¾èµ„æº

![](https://i-blog.csdnimg.cn/direct/0868c0ad724a4d209d54170848739446.png)

```java
public static void main(String[] args) throws SocketException {
        // åˆ›å»ºDatagramsocketå¯¹è±¡
        // æ³¨æ„ï¼š
        //åœ¨æ¥æ”¶çš„æ—¶å€™ï¼Œä¸€å®šè¦ç»‘å®šç«¯å£
        //è€Œä¸”ç»‘å®šçš„ç«¯å£ä¸€å®šè¦è·Ÿå‘é€çš„ç«¯å£ä¿æŒä¸€è‡´
        DatagramSocket receive = new DatagramSocket(8080);

        // 2.æ¥æ”¶æ•°æ®åŒ…
        // å› ä¸ºæ˜¯å­—èŠ‚ï¼Œæ‰€ä»¥å°±å…ˆå¼„ä¸€ä¸ªå­—èŠ‚æ•°ç»„æ¥æ¥æ”¶æ•°æ®
        byte[] str = new byte[1024];
        // åˆ›å»ºæ¥æ”¶çš„DatagramPacketåŒ…
        // ç©ºå·é‡Œçš„ä¸¤ä¸ªå€¼æ˜¯
        // 1. å­˜æ”¾åˆ°å“ªä¸ªå­—èŠ‚æ•°ç»„
        // 2. å­˜æ”¾çš„é•¿åº¦
        DatagramPacket data = new DatagramPacket(str, str.length);
        try {
            // æ¥æ”¶æ•°æ®
            receive.receive(data);
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
        
        // 3. è§£ææ•°æ®åŒ…
        // getData()è¿”å›å‘é€æ¥çš„æ•°æ®
        byte[] data1 = data.getData();
        // è¿”å›å‘é€ç«¯çš„ç«¯å£å·
        int port = data.getPort();
        // è¿”å›å‘é€ç«¯çš„åœ°å€
        InetAddress address = data.getAddress();
        // è¿”å›æ•°æ®çš„é•¿åº¦
        int len = data.getLength();

        System.out.println("åœ°å€å’Œç«¯å£ä¸ºï¼š" + address + "  " + port);
        System.out.println("æ¥æ”¶çš„æ•°æ®ä¸º" + new String(data1, 0, len) +"   " + "é•¿åº¦ä¸º:" + len);

        // 4. é‡Šæ”¾èµ„æº
        receive.close();

    }
```

å…ˆè‡ªå·±å®ç°ä¸€éè¿™ä¸ªä»£ç ï¼Œå†å¾€åçœ‹ğŸ˜Š

### 2. TCPçš„ç½‘ç»œç¼–ç¨‹å®ç°

TCPé€šä¿¡åè®®æ˜¯ä¸€ç§
å¯é 
çš„ç½‘ç»œåè®®ï¼Œå®ƒåœ¨é€šä¿¡çš„ä¸¤ç«¯å„å»ºç«‹ä¸€ä¸ªSocketå¯¹è±¡
  
åœ¨å¼€å§‹é€šä¿¡ä¹‹å‰ï¼Œè¦ä¿è¯è¿æ¥å·²ç»å»ºç«‹
  
é€šè¿‡Socketäº§ç”Ÿçš„IOæµæ¥è¿›è¡Œç½‘ç»œé€šä¿¡

#### 1.1. å®¢æˆ·ç«¯

æ­¥éª¤

1. å»ºç«‹IPå’Œç«¯å£çš„è¿æ¥
     
   è¿™é‡Œè¦æä¾›æœåŠ¡ç«¯çš„IPå’Œç«¯å£
2. è·å–è¾“å‡ºæµ
     
   è¦é€šè¿‡ åˆ›å»ºçš„socketçš„å¯¹è±¡
     
   å†…éƒ¨çš„getOutputStream()è¾“å‡ºæµå‡½æ•°
     
   é€šè¿‡writeå†™æ•°æ®
3. å…³é—­socket

```java
// 1.å»ºç«‹IPå’Œç«¯å£çš„è¿æ¥
Socket socket = new Socket("127.0.0.1", 8080);

//2.è·å–è¾“å‡ºæµ
OutputStream out = socket.getOutputStream();
//å†™æ•°æ®
 out.write("Hillo!!!".getBytes());

//3.å…³é—­
out.close();
```

#### 1.2. æœåŠ¡ç«¯

æ­¥éª¤

1. åˆ›å»ºServerSocketå¯¹è±¡
2. åŒæ„æ¥å— ,ç›‘å¬å®¢æˆ·ç«¯çš„è¿æ¥
3. ä»è¿æ¥åŒé“ä¸­è·å–è¾“å…¥æµè¯»å–å¯¹è±¡
4. é‡Šæ”¾

```java
//1.åˆ›å»ºServerSocketå¯¹è±¡
ServerSocket server = new ServerSocket(8080);

//2.åŒæ„æ¥å— ,ç›‘å¬å®¢æˆ·ç«¯çš„è¿æ¥
Socket socket = server.accept();

//3.ä»è¿æ¥é€šé“ä¸­è·å–è¾“å…¥æµè¯»å–å¯¹è±¡
InputStream input = socket.getInputStream();
int b;
while((b = input.read()) != -1){
   System.out.print((char)b);
}

//4.é‡Šæ”¾
socket.close();
server.close();
```

##### 1.2.1. ä¹±ç é—®é¢˜

è¿™æ˜¯æœ€ç®€æ´çš„ä»£ç ï¼Œå¦‚æœæ˜¯ä¸­æ–‡ï¼Œå¯èƒ½ä¼šå‡ºç°ä¹±ç 
  
é‚£ä¹ˆï¼Œç°åœ¨æ¥æ”¹è¿›ä¸€ä¸‹ä»£ç 

åœ¨ç¬¬ä¸‰æ­¥çš„ä½ç½®ï¼ŒæŠŠæ¥å—çš„ä»£ç æ”¹æˆ

```java
InputStream input = socket.getInputStream();
InputStreamReader ins = new InputStreamReader(input);
BufferedReader buffer = new BufferedReader(ins);

// å†™æˆä¸€è¡Œ
BufferedReader buffer = new BufferedReader(new InputStreamReader(socket.getInputStream()));
```

## æ€»ç»“

![](https://i-blog.csdnimg.cn/direct/5d8e7b175c0a4be5a7eb005f5e31d1f4.png)

åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œç®€å•çš„TCP å’Œ UDP çš„å‘é€ç«¯å’Œæ¥æ”¶ç«¯å°±å¯ä»¥å®ç°äº†

è¿˜æœ‰è¿›é˜¶çš„ï¼Œæ˜¯æ”¾åœ¨ç»ƒä¹ é‡Œï¼Œåœ¨ä¸ä¹…ä¹‹åä¼šæ›´æ–°