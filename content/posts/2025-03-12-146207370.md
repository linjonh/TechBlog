---
arturl_encode: "68747470733a2f2f626c6f:672e6373646e2e6e65742f7869757975616e64617368656e2f:61727469636c652f64657461696c732f313436323037333730"
layout: post
title: "C-JObject-å¿«é€Ÿå®šä½èŠ‚ç‚¹å€¼"
date: 2025-03-12 15:55:16 +0800
description: "C#  JObject å¿«é€Ÿå®šä½èŠ‚ç‚¹å€¼"
keywords: "C# JObject å¿«é€Ÿå®šä½èŠ‚ç‚¹å€¼"
categories: ['æœªåˆ†ç±»']
tags: ['å¼€å‘è¯­è¨€', 'C']
artid: "146207370"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146207370
    alt: "C-JObject-å¿«é€Ÿå®šä½èŠ‚ç‚¹å€¼"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146207370
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146207370
cover: https://bing.ee123.net/img/rand?artid=146207370
image: https://bing.ee123.net/img/rand?artid=146207370
img: https://bing.ee123.net/img/rand?artid=146207370
---

# C# JObject å¿«é€Ÿå®šä½èŠ‚ç‚¹å€¼

### C# JObject å¿«é€Ÿå®šä½èŠ‚ç‚¹å€¼

å¿«é€Ÿè·å–
`JObject`
ä¸­çš„æŸä¸ªèŠ‚ç‚¹å€¼ï¼Œå¯ä»¥ä½¿ç”¨
`SelectToken`
æ–¹æ³•ï¼Œæ”¯æŒ JSONPath è¡¨è¾¾å¼ï¼Œéå¸¸æ–¹ä¾¿ã€‚ä¾‹å¦‚ï¼š

```csharp
using Newtonsoft.Json.Linq;
using System;

class Program
{
    static void Main()
    {
        string json = @"{
            'name': 'å¼ ä¸‰',
            'info': {
                'age': 25,
                'address': {
                    'city': 'æ·±åœ³',
                    'zip': '518000'
                }
            }
        }";

        JObject obj = JObject.Parse(json);

        // ç›´æ¥è·å–å€¼
        string name = obj["name"]?.ToString(); 
        string city = obj["info"]?["address"]?["city"]?.ToString();

        // ä½¿ç”¨ SelectToken (æ”¯æŒ JSONPath)
        string zip = obj.SelectToken("info.address.zip")?.ToString();

        Console.WriteLine($"å§“å: {name}, åŸå¸‚: {city}, é‚®ç¼–: {zip}");
    }
}

```

**å…³é”®ç‚¹**

* `obj["key"]`
  é€‚åˆç›´æ¥è®¿é—®ä¸€çº§æˆ–å¤šçº§å±æ€§ã€‚
* `obj.SelectToken("path")`
  æ”¯æŒ JSONPathï¼Œå¦‚
  `info.address.zip`
  ã€‚
* ä½¿ç”¨
  `?.ToString()`
  é¿å…
  `null`
  è®¿é—®å¼‚å¸¸ã€‚

è¿™ç§æ–¹æ³•ç®€å•é«˜æ•ˆï¼Œé€‚ç”¨äºå¤æ‚ JSON è§£æã€‚

### JObject æ¨¡ç³ŠåŒ¹é…å’Œå¤šå±‚çº§è‡ªåŠ¨åŒ¹é…

`SelectToken`
**æ”¯æŒæ¨¡ç³ŠåŒ¹é…**
å’Œ
**å¤šå±‚çº§è‡ªåŠ¨åŒ¹é…**
ï¼Œå¯ä»¥ä½¿ç”¨
`JSONPath`
è¯­æ³•ï¼Œæ¯”å¦‚
`..`
ï¼ˆé€’å½’æŸ¥æ‰¾ï¼‰å’Œ
`[*]`
ï¼ˆåŒ¹é…æ‰€æœ‰æ•°ç»„å…ƒç´ ï¼‰ã€‚
  
**ç¤ºä¾‹ 1ï¼šæ¨¡ç³ŠåŒ¹é…ï¼ˆé€’å½’æŸ¥æ‰¾ï¼‰**
  
å¦‚æœä½ ä¸ç¡®å®šæŸä¸ªå­—æ®µåœ¨å“ªä¸€å±‚ï¼Œå¯ä»¥ä½¿ç”¨
`..`
é€’å½’åŒ¹é…ï¼š

```csharp
using Newtonsoft.Json.Linq;
using System;

class Program
{
    static void Main()
    {
        string json = @"{
            'user': {
                'details': {
                    'name': 'å¼ ä¸‰',
                    'contact': {
                        'email': 'zhangsan@example.com'
                    }
                }
            }
        }";

        JObject obj = JObject.Parse(json);

        // é€’å½’æŸ¥æ‰¾ name
        string name = obj.SelectToken("..name")?.ToString();
        
        // é€’å½’æŸ¥æ‰¾ email
        string email = obj.SelectToken("..email")?.ToString();

        Console.WriteLine($"å§“å: {name}, é‚®ç®±: {email}");
    }
}

```

ğŸ”¹
`..name`
ç›´æ¥æ‰¾åˆ°
`name`
ï¼Œæ— è®ºå®ƒåœ¨å“ªä¸ªå±‚çº§ã€‚

ğŸ”¹
`..email`
é€’å½’æŸ¥æ‰¾
`email`
å­—æ®µã€‚

---

**ç¤ºä¾‹ 2ï¼šæ•°ç»„ä¸­çš„æ¨¡ç³ŠåŒ¹é…**
  
å¦‚æœ JSON é‡Œæœ‰æ•°ç»„ï¼Œæƒ³è·å–æ‰€æœ‰å…ƒç´ çš„æŸä¸ªå­—æ®µï¼Œå¯ä»¥ç”¨
`[*]`
ï¼š

```csharp
string json = @"{
    'users': [
        { 'id': 1, 'name': 'å¼ ä¸‰' },
        { 'id': 2, 'name': 'æå››' }
    ]
}";

JObject obj = JObject.Parse(json);

// è·å–æ‰€æœ‰ç”¨æˆ·çš„åå­—
var names = obj.SelectTokens("$.users[*].name");

foreach (var name in names)
{
    Console.WriteLine($"ç”¨æˆ·: {name}");
}

```

ğŸ”¹
`$.users[*].name`
åŒ¹é…
`users`
æ•°ç»„ä¸­çš„æ‰€æœ‰
`name`
å­—æ®µã€‚

---

**ç¤ºä¾‹ 3ï¼šæœªçŸ¥å±‚çº§ä¸­çš„å­—æ®µ**
  
å¦‚æœå­—æ®µçš„ä½ç½®ä¸ç¡®å®šï¼Œåˆå¯èƒ½åœ¨æ•°ç»„é‡Œï¼Œå¯ä»¥ç»“åˆ
`..`
å’Œ
`[*]`
ï¼š

```csharp
string json = @"{
    'data': {
        'users': [
            { 'info': { 'id': 1, 'name': 'å¼ ä¸‰' } },
            { 'info': { 'id': 2, 'name': 'æå››' } }
        ]
    }
}";

JObject obj = JObject.Parse(json);

// é€’å½’æŸ¥æ‰¾æ‰€æœ‰ name
var names = obj.SelectTokens("$..name");

foreach (var name in names)
{
    Console.WriteLine($"ç”¨æˆ·: {name}");
}

```

ğŸ”¹
`$..name`
é€’å½’æŸ¥æ‰¾
**æ‰€æœ‰å±‚çº§**
çš„
`name`
ã€‚

---

**æ€»ç»“**
  
âœ…
`..`
é€’å½’æŸ¥æ‰¾ï¼Œä¸ç®¡å­—æ®µåœ¨å“ªä¸€å±‚ã€‚

âœ…
`[*]`
éå†æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚

âœ…
`SelectTokens("$.path")`
å¯ä»¥è¿”å›
**å¤šä¸ªåŒ¹é…ç»“æœ**
ï¼Œè€Œ
`SelectToken("$.path")`
åªè¿”å›
**ç¬¬ä¸€ä¸ªåŒ¹é…çš„ç»“æœ**
ã€‚
  
è¿™æ ·å°±èƒ½
**å¿«é€Ÿã€çµæ´»åœ°åŒ¹é… JSON ç»“æ„**
ï¼Œä¸éœ€è¦æ‰‹åŠ¨éå† JSON äº†ï¼