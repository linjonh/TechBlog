---
layout: post
title: "配置安全网站"
date: 2025-03-10 17:29:17 +0800
description: "确定是Debian系统更新索引：apt update安装包：apt upgrade -y查看nginx状态：systemctl status nginx安装：nginx：apt install nginx启动：systemctl start nginx在/var/www/里面创建一个文件夹：mkdir aaa。"
keywords: "配置安全网站"
categories: ['未分类']
tags: ['腾讯云Nginx配置Ssl证书', '安全网站配置', '安全', '基础网站配置']
artid: "146159523"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146159523
    alt: "配置安全网站"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146159523
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146159523
cover: https://bing.ee123.net/img/rand?artid=146159523
image: https://bing.ee123.net/img/rand?artid=146159523
img: https://bing.ee123.net/img/rand?artid=146159523
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     配置安全网站
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="_0">
     </a>
     配置网站
    </h2>
    <ol>
     <li>
      <p>
       确定是Debian系统
      </p>
     </li>
     <li>
      <p>
       更新索引：apt update
      </p>
     </li>
     <li>
      <p>
       安装包：apt upgrade -y
      </p>
     </li>
     <li>
      <p>
       查看nginx状态：systemctl status nginx
      </p>
     </li>
     <li>
      <p>
       安装：nginx：apt install nginx
      </p>
     </li>
     <li>
      <p>
       启动：systemctl start nginx
      </p>
     </li>
     <li>
      <p>
       在/var/www/里面创建一个文件夹：mkdir aaa
      </p>
     </li>
     <li>
      <p>
       上传一个静态网页到nginx能访问的目录(aaa.kz07022.cn)：打开Open Git Bash here里面用【scp 要上传文件的本地电脑地址 root@域名:在/var/www/里面创建的文件夹名字】命令去上传
      </p>
     </li>
     <li>
      <p>
       在腾讯云里面给域名解析申请ssl证书
      </p>
     </li>
     <li>
      <p>
       找到SSL证书，点击下载证书——选择Nginx的那个压缩包
      </p>
     </li>
     <li>
      <p>
       cd /etc/nginx/ 到这儿去，在nginx文件夹下创建cert文件夹
      </p>
     </li>
     <li>
      <p>
       把ssl证书压缩包解压后上传到cert文件夹里面
      </p>
     </li>
     <li>
      <p>
       配置nginx:
      </p>
      <ul>
       <li>
        <p>
         进入：vim /etc/nginx/conf.d/aaa.conf
        </p>
       </li>
       <li>
        <p>
         配置：
        </p>
       </li>
       <li>
        <p>
         server {
         <!-- -->
         <br/>
         listen 443 ssl;
         <br/>
         server_name 域名;
        </p>
        <pre><code># 指定新证书路径
ssl_certificate /etc/nginx/ssl/new_subdomain.example.com/new_subdomain.crt;# ssl证书的路径
ssl_certificate_key /etc/nginx/ssl/new_subdomain.example.com/new_subdomain.key;# ssl证书的路径

# 可选：统一 SSL 配置（与旧域名保持一致）
ssl_protocols TLSv1.2 TLSv1.3;
ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256;
ssl_prefer_server_ciphers on;
ssl_session_cache shared:SSL:10m;
ssl_session_timeout 10m;

# 其他配置（如根目录、代理等）
root /var/www/aaa;
index index.html;
</code></pre>
        <p>
         }
        </p>
        <ul>
         <li>
          HTTP 强制跳转 HTTPS
         </li>
        </ul>
        <p>
         server {
         <!-- -->
         <br/>
         listen 80;
         <br/>
         server_name 域名;
         <br/>
         return 301 https://
         <span class="katex--inline">
          <span class="katex">
           <span class="katex-mathml">
            s 
            
           
             e 
            
           
             r 
            
           
             v 
            
           
             e 
            
            
            
              r 
             
            
              n 
             
            
           
             a 
            
           
             m 
            
           
             e 
            
           
          
            server_name
           </span>
           <span class="katex-html">
            <span class="base">
             <span class="strut" style="height: 0.5806em; vertical-align: -0.15em;">
             </span>
             <span class="mord mathnormal" style="margin-right: 0.0278em;">
              ser
             </span>
             <span class="mord mathnormal" style="margin-right: 0.0359em;">
              v
             </span>
             <span class="mord mathnormal">
              e
             </span>
             <span class="mord">
              <span class="mord mathnormal" style="margin-right: 0.0278em;">
               r
              </span>
              <span class="msupsub">
               <span class="vlist-t vlist-t2">
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.1514em;">
                  <span class="" style="top: -2.55em; margin-left: -0.0278em; margin-right: 0.05em;">
                   <span class="pstrut" style="height: 2.7em;">
                   </span>
                   <span class="sizing reset-size6 size3 mtight">
                    <span class="mord mathnormal mtight">
                     n
                    </span>
                   </span>
                  </span>
                 </span>
                 <span class="vlist-s">
                  ​
                 </span>
                </span>
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.15em;">
                  <span class="">
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
             <span class="mord mathnormal">
              am
             </span>
             <span class="mord mathnormal">
              e
             </span>
            </span>
           </span>
          </span>
         </span>
         request_uri;
         <br/>
         }
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       配置完检查一下：nginx -t
      </p>
     </li>
     <li>
      <p>
       没问题就重新加载：nginx -s reload
      </p>
     </li>
    </ol>
    <h2>
     <a id="_70">
     </a>
     成功网站
    </h2>
    <p>
     <a href="https://a.kz0702.cn" rel="nofollow">
      ok，现在来看成果
     </a>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330315f38313234373630362f:61727469636c652f64657461696c732f313436313539353233" class_="artid" style="display:none">
 </p>
</div>


