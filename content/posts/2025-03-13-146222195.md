---
layout: post
title: "深入理解-RTPRTCPRTMPRTSPHLS-及-live555-推拉流实现"
date: 2025-03-13 09:30:43 +0800
description: "流媒体技术在音视频传输中起着关键作用，其中 RTP、RTCP、RTMP、RTSP 和 HLS 是最常见的协议。本文将详细介绍它们的区别，并探讨为什么 HLS 逐渐取代 RTMP。此外，还将解析 RTSP 作为控制协议的作用，并讲解 live555 如何实现音视频的推流与拉流"
keywords: "深入理解 RTP、RTCP、RTMP、RTSP、HLS 及 live555 推拉流实现"
categories: ['音视频']
tags: ['网络协议', '笔记', '学习']
artid: "146222195"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146222195
    alt: "深入理解-RTPRTCPRTMPRTSPHLS-及-live555-推拉流实现"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146222195
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146222195
cover: https://bing.ee123.net/img/rand?artid=146222195
image: https://bing.ee123.net/img/rand?artid=146222195
img: https://bing.ee123.net/img/rand?artid=146222195
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     深入理解 RTP、RTCP、RTMP、RTSP、HLS 及 live555 推拉流实现
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     流媒体技术在音视频传输中起着关键作用，其中 RTP、RTCP、RTMP、RTSP 和 HLS 是最常见的协议。本文将详细介绍它们的区别，并探讨为什么 HLS 逐渐取代 RTMP。此外，还将解析 RTSP 作为控制协议的作用，并讲解 live555 如何实现音视频的推流与拉流
    </p>
    <hr/>
    <h3>
     <a id="1_RTPRTCPRTMPRTSPHLS__4">
     </a>
     <strong>
      1. RTP、RTCP、RTMP、RTSP、HLS 的区别
     </strong>
    </h3>
    <h4>
     <a id="11_RTPRealtime_Transport_Protocol_6">
     </a>
     <strong>
      1.1 RTP（Real-time Transport Protocol）
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       作用
      </strong>
      ：RTP 是一种实时传输协议，专门用于音视频数据的传输。
     </li>
     <li>
      <strong>
       传输方式
      </strong>
      ：通常基于 UDP，保证低延迟。
     </li>
     <li>
      <strong>
       特点
      </strong>
      ：
      <ul>
       <li>
        搭配 RTCP（控制协议）用于质量监测和同步。
       </li>
       <li>
        适用于实时通信，如 VoIP、视频会议、RTSP 直播等。
       </li>
      </ul>
     </li>
    </ul>
    <h4>
     <a id="12_RTCPRealtime_Transport_Control_Protocol_13">
     </a>
     <strong>
      1.2 RTCP（Real-time Transport Control Protocol）
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       作用
      </strong>
      ：RTCP 是 RTP 的控制协议，主要用于
      <strong>
       监测传输质量
      </strong>
      、
      <strong>
       统计数据
      </strong>
      和
      <strong>
       同步音视频
      </strong>
      。
     </li>
     <li>
      <strong>
       传输方式
      </strong>
      ：与 RTP 一起工作，通常在 RTP 端口号 +1 的端口上传输。
     </li>
     <li>
      <strong>
       特点
      </strong>
      ：
      <ul>
       <li>
        发送接收端的
        <strong>
         统计信息
        </strong>
        （丢包率、延迟、抖动等）。
       </li>
       <li>
        允许接收端反馈 QoS（服务质量），帮助发送端调整编码或速率。
       </li>
       <li>
        在视频会议中，RTCP 还可用于参与者管理（如报告活跃用户）。
       </li>
      </ul>
     </li>
    </ul>
    <h4>
     <a id="13_RTMPRealTime_Messaging_Protocol_21">
     </a>
     <strong>
      1.3 RTMP（Real-Time Messaging Protocol）
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       作用
      </strong>
      ：RTMP 是 Adobe 开发的协议，广泛用于 Flash 视频流。
     </li>
     <li>
      <strong>
       传输方式
      </strong>
      ：基于 TCP，保持稳定传输。
     </li>
     <li>
      <strong>
       特点
      </strong>
      ：
      <ul>
       <li>
        低延迟（通常在 1~3 秒）。
       </li>
       <li>
        适用于直播推流（如 OBS 直播到服务器）。
       </li>
       <li>
        需要服务器支持（如 Nginx-RTMP、Wowza）。
       </li>
      </ul>
     </li>
    </ul>
    <h4>
     <a id="14_RTSPRealTime_Streaming_Protocol_29">
     </a>
     <strong>
      1.4 RTSP（Real-Time Streaming Protocol）
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       作用
      </strong>
      ：RTSP 不是传输协议，而是
      <strong>
       流控制协议
      </strong>
      ，用于管理 RTP 传输。
     </li>
     <li>
      <strong>
       传输方式
      </strong>
      ：RTSP 控制流，RTP 负责音视频数据传输。
     </li>
     <li>
      <strong>
       特点
      </strong>
      ：
      <ul>
       <li>
        提供播放、暂停、快进等控制功能。
       </li>
       <li>
        主要用于监控、IP Camera 等场景。
       </li>
      </ul>
     </li>
    </ul>
    <h4>
     <a id="15_HLSHTTP_Live_Streaming_36">
     </a>
     <strong>
      1.5 HLS（HTTP Live Streaming）
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       作用
      </strong>
      ：HLS 是苹果开发的流媒体协议，基于 HTTP 进行音视频分片传输。
     </li>
     <li>
      <strong>
       传输方式
      </strong>
      ：HTTP + 分片（TS/M3U8）。
     </li>
     <li>
      <strong>
       特点
      </strong>
      ：
      <ul>
       <li>
        <strong>
         兼容性强
        </strong>
        ：适用于 Web、移动端。
       </li>
       <li>
        <strong>
         延迟较高
        </strong>
        （通常 10~30 秒）。
       </li>
       <li>
        <strong>
         支持 CDN 分发
        </strong>
        ，可用于大规模直播。
       </li>
      </ul>
     </li>
    </ul>
    <table>
     <thead>
      <tr>
       <th>
        协议
       </th>
       <th>
        作用
       </th>
       <th>
        传输方式
       </th>
       <th>
        主要应用
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        RTP
       </td>
       <td>
        传输音视频
       </td>
       <td>
        UDP
       </td>
       <td>
        视频会议、VoIP
       </td>
      </tr>
      <tr>
       <td>
        RTCP
       </td>
       <td>
        RTP 质量控制
       </td>
       <td>
        UDP
       </td>
       <td>
        统计、同步、QoS 反馈
       </td>
      </tr>
      <tr>
       <td>
        RTMP
       </td>
       <td>
        低延迟推流
       </td>
       <td>
        TCP
       </td>
       <td>
        直播（已被 HLS 取代）
       </td>
      </tr>
      <tr>
       <td>
        RTSP
       </td>
       <td>
        控制音视频流
       </td>
       <td>
        RTP/RTCP
       </td>
       <td>
        监控、IP Camera
       </td>
      </tr>
      <tr>
       <td>
        HLS
       </td>
       <td>
        HTTP 流播放
       </td>
       <td>
        HTTP
       </td>
       <td>
        视频点播、直播
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <h3>
     <a id="2__HLS__RTMP_54">
     </a>
     <strong>
      2. 为什么 HLS 能替代 RTMP？
     </strong>
    </h3>
    <p>
     RTMP 过去是直播的主流协议，但 HLS 逐渐取代了 RTMP，主要原因有：
    </p>
    <ol>
     <li>
      <strong>
       RTMP 依赖 Flash，而 Flash 已被淘汰。
      </strong>
     </li>
     <li>
      <strong>
       HLS 兼容性更强
      </strong>
      ，可直接在浏览器、iOS、Android 设备播放。
     </li>
     <li>
      <strong>
       HLS 支持 CDN 分发
      </strong>
      ，比 RTMP 更适合大规模直播。
     </li>
     <li>
      <strong>
       HLS 采用 HTTP 传输，不易被防火墙拦截
      </strong>
      。
     </li>
     <li>
      <strong>
       HLS 通过 Adaptive Bitrate（ABR）优化观看体验
      </strong>
      ，支持不同网络条件下的自适应码率。
     </li>
    </ol>
    <p>
     📌
     <strong>
      HLS 的唯一缺点是延迟较高（通常 10~30 秒），但低延迟 HLS（LL-HLS）已在优化这个问题。
     </strong>
    </p>
    <hr/>
    <h3>
     <a id="3_RTSP__67">
     </a>
     <strong>
      3. RTSP 作为控制协议的作用
     </strong>
    </h3>
    <h4>
     <a id="_RTSP_URL__rtsp__69">
     </a>
     <strong>
      为什么 RTSP URL 以
      <code>
       rtsp://
      </code>
      开头？
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       RTSP 主要用于向服务器请求流媒体内容
      </strong>
      ，就像
      <code>
       http://
      </code>
      表示用 HTTP 请求网页一样，
      <code>
       rtsp://
      </code>
      表示用 RTSP 请求流媒体。
     </li>
     <li>
      <strong>
       RTSP 负责建立、管理和控制流
      </strong>
      ，而不是直接传输数据。
     </li>
     <li>
      <strong>
       音视频流通常由 RTP（Real-time Transport Protocol） 负责
      </strong>
      ，RTSP 只是负责发送播放、暂停、停止等指令。
     </li>
    </ul>
    <p>
     👉
     <strong>
      RTSP 类似于 HTTP，但用于音视频流控制
     </strong>
     ，而 RTP 才是传输音视频数据的协议。
    </p>
    <hr/>
    <h3>
     <a id="4_RTSP__78">
     </a>
     <strong>
      4. RTSP 请求内容示例
     </strong>
    </h3>
    <p>
     RTSP 的交互方式和 HTTP 类似，采用
     <strong>
      文本指令
     </strong>
     来控制流媒体。
    </p>
    <h4>
     <a id="1_RTSP__81">
     </a>
     <strong>
      1. RTSP 会话建立
     </strong>
    </h4>
    <p>
     一个完整的 RTSP 会话通常包括：
    </p>
    <ol>
     <li>
      <strong>
       OPTIONS
      </strong>
      ：查询服务器支持的功能。
     </li>
     <li>
      <strong>
       DESCRIBE
      </strong>
      ：请求媒体描述信息（返回 SDP）。
     </li>
     <li>
      <strong>
       SETUP
      </strong>
      ：建立 RTP 传输通道。
     </li>
     <li>
      <strong>
       PLAY
      </strong>
      ：开始播放。
     </li>
     <li>
      <strong>
       PAUSE
      </strong>
      （可选）：暂停播放。
     </li>
     <li>
      <strong>
       TEARDOWN
      </strong>
      ：结束会话。
     </li>
    </ol>
    <hr/>
    <h4>
     <a id="2_RTSP__92">
     </a>
     <strong>
      2. RTSP 请求示例
     </strong>
    </h4>
    <p>
     假设我们要请求
     <code>
      rtsp://192.168.1.100:8554/live.sdp
     </code>
     的视频流：
    </p>
    <h5>
     <a id="1_OPTIONS_95">
     </a>
     <strong>
      (1) OPTIONS（查询服务器支持的指令）
     </strong>
    </h5>
    <pre><code class="prism language-plaintext">OPTIONS rtsp://192.168.1.100:8554/live.sdp RTSP/1.0
CSeq: 1
User-Agent: VLC/3.0.11
</code></pre>
    <p>
     📌
     <strong>
      作用
     </strong>
     ：客户端请求服务器支持的 RTSP 方法。
    </p>
    <h5>
     <a id="2_DESCRIBE_SDP__103">
     </a>
     <strong>
      (2) DESCRIBE（请求 SDP 媒体描述信息）
     </strong>
    </h5>
    <pre><code class="prism language-plaintext">DESCRIBE rtsp://192.168.1.100:8554/live.sdp RTSP/1.0
CSeq: 2
Accept: application/sdp
User-Agent: VLC/3.0.11
</code></pre>
    <p>
     📌
     <strong>
      作用
     </strong>
     ：请求流媒体的详细信息（返回 SDP）。
    </p>
    <p>
     服务器返回 SDP（Session Description Protocol）：
    </p>
    <pre><code class="prism language-plaintext">RTSP/1.0 200 OK
CSeq: 2
Content-Type: application/sdp
Content-Length: 250

v=0
o=- 2890844526 2890842807 IN IP4 192.168.1.100
s=Live Stream
m=video 5004 RTP/AVP 96
a=rtpmap:96 H264/90000
m=audio 5006 RTP/AVP 97
a=rtpmap:97 AAC/44100
</code></pre>
    <p>
     📌
     <strong>
      SDP 说明
     </strong>
     ：
    </p>
    <ul>
     <li>
      <code>
       m=video 5004 RTP/AVP 96
      </code>
      ：视频流通过
      <strong>
       RTP，端口 5004 传输
      </strong>
      ，格式是 H.264。
     </li>
     <li>
      <code>
       m=audio 5006 RTP/AVP 97
      </code>
      ：音频流通过
      <strong>
       RTP，端口 5006 传输
      </strong>
      ，格式是 AAC。
     </li>
    </ul>
    <p>
     👉
     <strong>
      RTP 负责音视频数据传输，RTSP 只是告诉客户端怎么获取这些流！
     </strong>
    </p>
    <hr/>
    <h5>
     <a id="3_SETUP_RTP__135">
     </a>
     <strong>
      (3) SETUP（建立 RTP 传输通道）
     </strong>
    </h5>
    <pre><code class="prism language-plaintext">SETUP rtsp://192.168.1.100:8554/live.sdp/trackID=0 RTSP/1.0
CSeq: 3
Transport: RTP/AVP;unicast;client_port=5004-5005
User-Agent: VLC/3.0.11
</code></pre>
    <p>
     📌
     <strong>
      作用
     </strong>
     ：告诉服务器客户端要用
     <strong>
      RTP 端口 5004-5005 接收音视频流
     </strong>
     。
    </p>
    <p>
     服务器响应：
    </p>
    <pre><code class="prism language-plaintext">RTSP/1.0 200 OK
CSeq: 3
Session: 12345678
Transport: RTP/AVP;unicast;client_port=5004-5005;server_port=6000-6001
</code></pre>
    <p>
     📌
     <strong>
      说明
     </strong>
     ：
    </p>
    <ul>
     <li>
      <strong>
       Session: 12345678
      </strong>
      ：会话 ID，后续请求必须带上。
     </li>
     <li>
      <strong>
       服务器 RTP 端口 6000-6001
      </strong>
      ，客户端接收端口 5004-5005。
     </li>
    </ul>
    <hr/>
    <h5>
     <a id="4_PLAY_157">
     </a>
     <strong>
      (4) PLAY（开始播放）
     </strong>
    </h5>
    <pre><code class="prism language-plaintext">PLAY rtsp://192.168.1.100:8554/live.sdp RTSP/1.0
CSeq: 4
Session: 12345678
Range: npt=0.000-
User-Agent: VLC/3.0.11
</code></pre>
    <p>
     📌
     <strong>
      作用
     </strong>
     ：告诉服务器
     <strong>
      开始发送 RTP 音视频流
     </strong>
     。
    </p>
    <p>
     服务器响应：
    </p>
    <pre><code class="prism language-plaintext">RTSP/1.0 200 OK
CSeq: 4
Session: 12345678
RTP-Info: url=rtsp://192.168.1.100:8554/live.sdp;seq=12345;rtptime=67890
</code></pre>
    <p>
     📌
     <strong>
      此时，服务器就会通过 RTP 端口 5004（视频）、5006（音频）开始发送数据
     </strong>
     。
    </p>
    <hr/>
    <h5>
     <a id="5_TEARDOWN_178">
     </a>
     <strong>
      (5) TEARDOWN（结束会话）
     </strong>
    </h5>
    <pre><code class="prism language-plaintext">TEARDOWN rtsp://192.168.1.100:8554/live.sdp RTSP/1.0
CSeq: 5
Session: 12345678
User-Agent: VLC/3.0.11
</code></pre>
    <p>
     📌
     <strong>
      作用
     </strong>
     ：关闭 RTP 传输，释放资源。
    </p>
    <hr/>
    <h4>
     <a id="RTSP_RTP__188">
     </a>
     <strong>
      RTSP 负责控制，RTP 负责传输
     </strong>
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        操作
       </th>
       <th>
        RTSP 作用
       </th>
       <th>
        RTP 作用
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <strong>
         OPTIONS
        </strong>
       </td>
       <td>
        查询服务器支持的功能
       </td>
       <td>
        -
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         DESCRIBE
        </strong>
       </td>
       <td>
        获取 SDP（描述音视频流信息）
       </td>
       <td>
        -
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         SETUP
        </strong>
       </td>
       <td>
        建立 RTP 传输通道
       </td>
       <td>
        -
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         PLAY
        </strong>
       </td>
       <td>
        请求播放音视频
       </td>
       <td>
        <strong>
         开始传输 RTP 音视频数据
        </strong>
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         PAUSE
        </strong>
       </td>
       <td>
        请求暂停
       </td>
       <td>
        <strong>
         停止传输 RTP
        </strong>
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         TEARDOWN
        </strong>
       </td>
       <td>
        关闭会话
       </td>
       <td>
        <strong>
         停止 RTP 传输
        </strong>
       </td>
      </tr>
     </tbody>
    </table>
    <ul>
     <li>
      <strong>
       RTSP 就像 HTTP，一种文本协议，用于请求和控制流媒体
      </strong>
      。
     </li>
     <li>
      <strong>
       RTP 才是真正的音视频数据传输协议
      </strong>
      。
     </li>
    </ul>
    <hr/>
    <h3>
     <a id="5_RTSP__RTCP__208">
     </a>
     <strong>
      5. RTSP 不能替代 RTCP 的原因
     </strong>
    </h3>
    <h4>
     <a id="1_RTSP__RTP__210">
     </a>
     <strong>
      1. RTSP 只负责会话控制，不监控 RTP 传输质量
     </strong>
    </h4>
    <p>
     RTSP 主要用于：
    </p>
    <ul>
     <li>
      <strong>
       建立流媒体会话
      </strong>
      （OPTIONS、DESCRIBE、SETUP、PLAY、PAUSE、TEARDOWN）。
     </li>
     <li>
      <strong>
       不负责 RTP 传输的质量监控
      </strong>
      ，它只是告诉服务器 “播放” 或 “暂停”，但
      <strong>
       不会反馈丢包、延迟等网络状态
      </strong>
      。
     </li>
    </ul>
    <p>
     而 RTCP 主要用于：
    </p>
    <ul>
     <li>
      <strong>
       监控 RTP 传输质量
      </strong>
      ，如丢包率、网络抖动、延迟变化等。
     </li>
     <li>
      <strong>
       接收端反馈 QoS 信息
      </strong>
      ，发送端可以根据 RTCP 数据调整比特率、编码方式等，优化流媒体体验。
     </li>
    </ul>
    <p>
     📌
     <strong>
      示例：如果网络出现丢包，RTSP 并不会告诉 RTP 传输链路，而 RTCP 会主动汇报网络状态，帮助优化流媒体传输。
     </strong>
    </p>
    <hr/>
    <h4>
     <a id="2_RTCP__RTP__RTSP__223">
     </a>
     <strong>
      2. RTCP 是 RTP 的一部分，而 RTSP 只是控制协议
     </strong>
    </h4>
    <p>
     RTCP 是 RTP 协议的控制协议，每个 RTP 连接都有一个对应的 RTCP 连接。例如：
    </p>
    <ul>
     <li>
      RTP 端口：5004
     </li>
     <li>
      RTCP 端口：5005 （通常为 RTP 端口 +1）
     </li>
    </ul>
    <p>
     <strong>
      RTCP 通过 UDP 传输，而 RTSP 通过 TCP 传输
     </strong>
     ，它们在协议栈中完全不同：
    </p>
    <pre><code class="prism language-plaintext">RTSP -&gt; TCP（用于流控制）
RTP -&gt; UDP（用于传输音视频数据）
RTCP -&gt; UDP（用于传输统计信息）
</code></pre>
    <p>
     📌
     <strong>
      示例：RTSP 只控制“播放”音视频，而 RTCP 监测“播放”时的网络质量，并提供反馈数据。
     </strong>
    </p>
    <hr/>
    <h4>
     <a id="3_RTCP__RTSP__239">
     </a>
     <strong>
      3. RTCP 提供音视频同步功能，而 RTSP 不能
     </strong>
    </h4>
    <ul>
     <li>
      RTCP 通过
      <code>
       Sender Report（SR）
      </code>
      和
      <code>
       Receiver Report（RR）
      </code>
      实现音视频同步，确保视频和音频不会出现时间错位问题。
     </li>
     <li>
      RTSP 仅仅是一个控制流协议，并不能提供这种时间同步功能。
     </li>
    </ul>
    <p>
     📌
     <strong>
      示例：如果音频比视频快 100ms，RTCP 反馈时间戳信息，播放端可进行同步调整，而 RTSP 不能。
     </strong>
    </p>
    <hr/>
    <p>
     📌
     <strong>
      结论：RTSP 负责控制播放，而 RTCP 负责优化 RTP 传输质量，两者不能互相替代！
     </strong>
     🚀
    </p>
    <h3>
     <a id="6_live555__251">
     </a>
     <strong>
      6. live555 推流与拉流实现
     </strong>
    </h3>
    <h4>
     <a id="1_live555__253">
     </a>
     <strong>
      1 live555 推流协议
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       RTSP 负责建立连接和控制流
      </strong>
      。
     </li>
     <li>
      <strong>
       RTP/RTCP 负责传输音视频数据
      </strong>
      。
     </li>
    </ul>
    <p>
     推流流程：
    </p>
    <ol>
     <li>
      <strong>
       RTSP ANNOUNCE
      </strong>
      ：声明流媒体信息。
     </li>
     <li>
      <strong>
       RTSP SETUP
      </strong>
      ：建立 RTP 传输。
     </li>
     <li>
      <strong>
       RTSP RECORD
      </strong>
      ：开始推流。
     </li>
     <li>
      <strong>
       RTP 传输音视频
      </strong>
      。
     </li>
    </ol>
    <p>
     示例（FFmpeg 推流到 live555）：
    </p>
    <pre><code class="prism language-shell">ffmpeg <span class="token parameter variable">-re</span> <span class="token parameter variable">-i</span> input.mp4 <span class="token parameter variable">-c:v</span> libx264 <span class="token parameter variable">-f</span> rtsp rtsp://localhost:8554/test
</code></pre>
    <hr/>
    <h4>
     <a id="2_live555__270">
     </a>
     <strong>
      2 live555 拉流协议
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       RTSP 负责流控制（OPTIONS、DESCRIBE、SETUP、PLAY）
      </strong>
      。
     </li>
     <li>
      <strong>
       RTP 传输音视频数据
      </strong>
      。
     </li>
    </ul>
    <p>
     拉流流程：
    </p>
    <ol>
     <li>
      <strong>
       RTSP DESCRIBE
      </strong>
      ：请求 SDP。
     </li>
     <li>
      <strong>
       RTSP SETUP
      </strong>
      ：建立 RTP 传输。
     </li>
     <li>
      <strong>
       RTSP PLAY
      </strong>
      ：开始播放，RTP 传输音视频。
     </li>
    </ol>
    <p>
     示例（FFmpeg 拉流）：
    </p>
    <pre><code class="prism language-shell">ffmpeg <span class="token parameter variable">-rtsp_transport</span> tcp <span class="token parameter variable">-i</span> rtsp://localhost:8554/test <span class="token parameter variable">-c</span> copy output.mp4
</code></pre>
    <p>
     📌
     <strong>
      live555 推流和拉流都基于 RTSP 控制，而 RTP 负责真正的音视频数据传输。
     </strong>
    </p>
    <hr/>
    <h3>
     <a id="7__288">
     </a>
     <strong>
      7. 总结
     </strong>
    </h3>
    <ul>
     <li>
      <strong>
       RTP 负责传输音视频数据，RTCP 负责质量控制，RTSP 负责流控制，RTMP 过去用于直播但已被 HLS 取代。
      </strong>
     </li>
     <li>
      <strong>
       HLS 兼容性强，适合大规模直播，虽然延迟较高，但 LL-HLS 正在优化。
      </strong>
     </li>
     <li>
      <strong>
       live555 主要通过 RTSP 控制流，RTP 进行音视频数据传输。
      </strong>
     </li>
    </ul>
    <p>
     🚀
     <strong>
      理解这些协议，有助于选择合适的流媒体技术，优化音视频传输体验！
     </strong>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c:6f672e6373646e2e6e65742f6c69757a68756f31333339362f:61727469636c652f64657461696c732f313436323232313935" class_="artid" style="display:none">
 </p>
</div>


