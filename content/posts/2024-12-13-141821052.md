---
layout: post
title: "你的APP也可以有自己的小程序"
date: 2024-12-13 17:43:20 +0800
description: "如何让开发好的微信小程序放在自己的 APP 里直接运行？如何在不同的应用中打开它？本文利用FinCl"
keywords: "app内嵌小程序"
categories: ['未分类']
tags: ['小程序', 'Notepad']
artid: "141821052"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=141821052
  alt: "你的APP也可以有自己的小程序"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=141821052
featuredImagePreview: https://bing.ee123.net/img/rand?artid=141821052
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     你的APP也可以有自己的小程序
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <div class="toc">
     <h4>
      文章目录
     </h4>
     <ul>
      <li>
       <a href="#_2" rel="nofollow">
        前言
       </a>
      </li>
      <li>
       <a href="#FinClip_7" rel="nofollow">
        什么是FinClip？
       </a>
      </li>
      <li>
       <a href="#FinClip__17" rel="nofollow">
        FinClip 小程序开发
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#_19" rel="nofollow">
          代码结构
         </a>
        </li>
        <li>
         <a href="#_42" rel="nofollow">
          开发工具
         </a>
        </li>
        <li>
         <a href="#_47" rel="nofollow">
          小程序管理
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#FinClip_52" rel="nofollow">
        应用集成FinClip小程序
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#_55" rel="nofollow">
          获取凭据
         </a>
        </li>
        <li>
         <a href="#SDK_61" rel="nofollow">
          集成SDK
         </a>
        </li>
        <li>
         <a href="#SDK_73" rel="nofollow">
          初始化SDK
         </a>
        </li>
        <li>
         <a href="#_101" rel="nofollow">
          应用中打开小程序
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#_140" rel="nofollow">
        总结
       </a>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <h2>
     <a id="_2">
     </a>
     前言
    </h2>
    <p>
     近几年小程序的发展，大家都有目共睹。其价值已经在全行业达到共识，但是大多数的企业小程序的能力都是依附互联网巨头，例如微信、支付宝、百度等，如果想要布局在多个平台，其限制和成本又是巨大的。那么，如何让开发好的微信小程序放在自己的 APP 里直接运行？如何在不同的应用中打开它？本文利用FinClip快速构建并部署一个跨平台小程序。
    </p>
    <h2>
     <a id="FinClip_7">
     </a>
     什么是FinClip？
    </h2>
    <p>
     FinClip是一款小程序平台，不论是移动 App，还是电脑、电视、车载主机等设备，在集成FinClip 小程序 SDK之后，都能快速获得运行小程序的能力。
    </p>
    <p>
     FinClip 兼容微信小程序语法，可以让小程序脱离微信环境快速运行在自有app中，打造自己的小程序专属生态，对于想要布局其他平台的企业来说非常友好。
    </p>
    <p>
     开发者不需要学习新的语法和框架，使用FinClip的 IDE、小程序管理后台、小程序开发文档、FinClip App就能低成本高质量地完成从开发测试，到预览部署的全部工作。以下是FinClip平台的组成。
    </p>
    <p>
     <img alt="" src="https://img-blog.csdnimg.cn/img_convert/394868353f22aa835b96fb6cb0fc04e1.png"/>
    </p>
    <h2>
     <a id="FinClip__17">
     </a>
     FinClip 小程序开发
    </h2>
    <h3>
     <a id="_19">
     </a>
     代码结构
    </h3>
    <p>
     FinClip小程序的结构是和微信小程序极度相似，这也是为什么可以兼容微信小程序语法的原因吧。
    </p>
    <p>
     一个小程序主体部分由三个文件组成，必须放在项目的根目录，如下：
    </p>
    <table>
     <thead>
      <tr>
       <th>
        文件
       </th>
       <th>
        必需
       </th>
       <th>
        作用
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        app.js
       </td>
       <td>
        是
       </td>
       <td>
        小程序逻辑
       </td>
      </tr>
      <tr>
       <td>
        app.json
       </td>
       <td>
        是
       </td>
       <td>
        小程序公共配置
       </td>
      </tr>
      <tr>
       <td>
        app.ftss
       </td>
       <td>
        是
       </td>
       <td>
        小程序公共样式表
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     一个小程序页面由四个文件组成，分别是：
    </p>
    <table>
     <thead>
      <tr>
       <th>
        文件类型
       </th>
       <th>
        必需
       </th>
       <th>
        作用
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        js
       </td>
       <td>
        是
       </td>
       <td>
        页面逻辑
       </td>
      </tr>
      <tr>
       <td>
        fxml
       </td>
       <td>
        是
       </td>
       <td>
        页面结构
       </td>
      </tr>
      <tr>
       <td>
        json
       </td>
       <td>
        否
       </td>
       <td>
        页面配置
       </td>
      </tr>
      <tr>
       <td>
        ftss
       </td>
       <td>
        否
       </td>
       <td>
        页面样式表
       </td>
      </tr>
     </tbody>
    </table>
    <h3>
     <a id="_42">
     </a>
     开发工具
    </h3>
    <p>
     跟其他小程序开发一样，FinClip也有自己的开发工具【FinClip Studio】。支持来自不同平台的小程序开发者完成小程序开发、调试、预览、上传等各类功能。还增加了小程序兼容性检查、小程序开发、真机调试预览、小程序一键转 App、小程序云开发等各类插件或能力。
    </p>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/direct/66941eef75d1492eab96277db24d7531.png"/>
    </p>
    <h3>
     <a id="_47">
     </a>
     小程序管理
    </h3>
    <p>
     小程序开发完成可以上传到管理平台，通过管理平台可以进行上下架、应用关联、版本管理、灰度发布、域名配置等操作。
     <br/>
     <img alt="" src="https://i-blog.csdnimg.cn/direct/417b2acb3f814c32b698e2265e08c972.png"/>
    </p>
    <h2>
     <a id="FinClip_52">
     </a>
     应用集成FinClip小程序
    </h2>
    <p>
     接下来看下 uni-app 如何集成 FinClip小程序。
    </p>
    <h3>
     <a id="_55">
     </a>
     获取凭据
    </h3>
    <p>
     集成 SDK 需要先在 FinClip 平台中创建应用并绑定小程序，获得每个应用专属的SDK KEY及SDK SECRET后，随后就可以在集成 SDK 时填写对应的参数。
    </p>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/direct/10fc29fa2e9041599cd58a4c766374d2.png"/>
    </p>
    <h3>
     <a id="SDK_61">
     </a>
     集成SDK
    </h3>
    <p>
     在 uni-app 中集成 FinClip 小程序，本质上是调用了 uni-app 中插件的能力进行实现。
    </p>
    <p>
     开发者可以从
     <a href="https://gitee.com/finclip/finclip-uniapp-demo" rel="nofollow">
      Gitee
     </a>
     获取插件SDK示例（finclip-uniapp-demonativeplugins/MopSdk）
    </p>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/direct/665d5e9acaf74f418d05b5bc543d6529.png"/>
    </p>
    <p>
     然后选择插件，并使用基座进行运行。
    </p>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/direct/4b42d8a0e2fc4064800a30d0ac4a3d37.png"/>
    </p>
    <h3>
     <a id="SDK_73">
     </a>
     初始化SDK
    </h3>
    <p>
     在使用小程序的API之前，需要先初始化插件SDK。只有SDK初始化成功之后，才能使用SDK提供的API，否则 API调用都会失败。初始化代码如下
    </p>
    <pre><code class="prism language-js">
    <span class="token keyword">const</span> MopSdk <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">requireNativePlugin</span><span class="token punctuation">(</span><span class="token string">'MopSdk'</span><span class="token punctuation">)</span>
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function-variable function">onLaunch</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            MopSdk<span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
                                <span class="token literal-property property">finStoreConfigs</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
                                    <span class="token string-property property">'sdkKey'</span><span class="token operator">:</span> <span class="token string">'22LyZEib0gLTQdU3MUauAa2CctUv+NxTLFWyPxC28y2gA4x+JWh7hhNS5aO52BFs'</span><span class="token punctuation">,</span>
                                    <span class="token string-property property">'sdkSecret'</span><span class="token operator">:</span> <span class="token string">'65146ffa924ecfdc'</span><span class="token punctuation">,</span>
                                    <span class="token string-property property">'apiServer'</span><span class="token operator">:</span> <span class="token string">'https://api.finclip.com'</span>
                                <span class="token punctuation">}</span><span class="token punctuation">]</span>
                             <span class="token punctuation">}</span><span class="token punctuation">,</span>
                             <span class="token punctuation">(</span><span class="token parameter">ret</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                                 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'App Launch Success'</span><span class="token punctuation">,</span> ret<span class="token punctuation">)</span>
                             <span class="token punctuation">}</span><span class="token punctuation">,</span>
                             <span class="token punctuation">(</span><span class="token parameter">ret</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
                                 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'App Launch Fail'</span><span class="token punctuation">,</span> ret<span class="token punctuation">)</span>
                             <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
</code></pre>
    <h3>
     <a id="_101">
     </a>
     应用中打开小程序
    </h3>
    <p>
     SDK初始化成功之后，就可以在应用中进行API的调用。在应用中打开小程序的代码如下
    </p>
    <pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"content"</span><span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>image <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"logo"</span> src<span class="token operator">=</span><span class="token string">"/static/logo.png"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>image<span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">"primary"</span> v<span class="token operator">-</span>on<span class="token operator">:</span>click<span class="token operator">=</span><span class="token string">"handleOpenMiniProgram"</span><span class="token operator">&gt;</span>打开小程序<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">const</span> MopSdk <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">requireNativePlugin</span><span class="token punctuation">(</span><span class="token string">'MopSdk'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Hello'</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
<span class="token function">handleOpenMiniProgram</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">const</span> apiServer <span class="token operator">=</span> <span class="token string">'https://api.finclip.com'</span>
<span class="token keyword">const</span> appId <span class="token operator">=</span> <span class="token string">'5eec56a41464cc0001852e9a'</span>
MopSdk<span class="token punctuation">.</span><span class="token function">openApplet</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>apiServer<span class="token punctuation">,</span>appId<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre>
<p>
FinClip SDK 还支持 iOS、Android、鸿蒙 HarmonyOS、Flutter、React Native 等端的集成，可以参考
<br/>
<a href="https://www.finclip.com/mop/document/runtime-sdk/ios/ios-intro.html" rel="nofollow">
FinClip 小程序 SDK
</a>
</p>
<h2>
<a id="_140">
</a>
总结
</h2>
<p>
FinClip 小程序强大的跨平台能力，可以为企业迅速搭建起覆盖多终端的业务布局，无缝融入各类应用场景。以 APP+小程序的方式，也可以实现业务功能的灵活部署和即时上线。对于开发者而言，FinClip 不仅大幅降低了各终端适配的复杂性与成本，还促进了小程序生态的多元化发展，绝对是一个利好的平台。
</p>

   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f32383331343433312f:61727469636c652f64657461696c732f313431383231303532" class_="artid" style="display:none">
 </p>
</div>
