---
layout: post
title: "企业日常工作中常用的-Linux-操作系统命令整理"
date: 2025-03-05 21:02:18 +0800
description: "熟练掌握 Linux 常用命令，不仅能大幅提升运维效率，还能在企业生产环境中快速排查问题、优化系统性能。持续整理中…"
keywords: "企业日常工作中常用的 Linux 操作系统命令整理"
categories: ['未分类']
tags: ['运维', '操作系统命令', 'Linux']
artid: "146052049"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146052049
    alt: "企业日常工作中常用的-Linux-操作系统命令整理"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146052049
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146052049
cover: https://bing.ee123.net/img/rand?artid=146052049
image: https://bing.ee123.net/img/rand?artid=146052049
img: https://bing.ee123.net/img/rand?artid=146052049
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     企业日常工作中常用的 Linux 操作系统命令整理
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="Linux__0">
     </a>
     Linux 操作系统命令整理
    </h2>
    <p>
     在企业级运维、开发和日常工作中，Linux 命令是绕不开的核心技能。不论是日志排查、进程管理，还是高效运维优化，掌握这些命令都能让你事半功倍！本篇文章整理了自己在日常工作中积累最常用的 Linux 命令，希望对你有帮助！
    </p>
    <h3>
     <a id="Linux__4">
     </a>
     Linux 查看相关常用命令
    </h3>
    <h4>
     <a id="_6">
     </a>
     查看连接数
    </h4>
    <pre><code class="prism language-bash"><span class="token function">netstat</span> <span class="token parameter variable">-n</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}'</span>
</code></pre>
    <p>
     示例
    </p>
    <pre><code>[root@centos ~]# netstat -n | awk '/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}'
ESTABLISHED 1075
FIN_WAIT2 1
TIME_WAIT 140
</code></pre>
    <h4>
     <a id="_TCP__19">
     </a>
     查看 TCP 连接
    </h4>
    <pre><code class="prism language-bash"><span class="token function">netstat</span> <span class="token parameter variable">-n</span> <span class="token operator">|</span> <span class="token function">grep</span> tcp
</code></pre>
    <p>
     示例
    </p>
    <pre><code>[root@centos ~]# netstat -n | grep tcp
tcp        0      0 192.168.100.1:5432      192.168.100.233:59446     ESTABLISHED
...
</code></pre>
    <h4>
     <a id="_31">
     </a>
     查看统计端口连接数
    </h4>
    <pre><code class="prism language-bash"><span class="token function">netstat</span> <span class="token parameter variable">-nat</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-i</span> <span class="token string">"443"</span> <span class="token operator">|</span> <span class="token function">wc</span> <span class="token parameter variable">-l</span>
</code></pre>
    <pre><code class="prism language-bash"><span class="token function">netstat</span> <span class="token parameter variable">-nat</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-i</span> <span class="token string">"80"</span> <span class="token operator">|</span> <span class="token function">wc</span> <span class="token parameter variable">-l</span>
</code></pre>
    <h4>
     <a id="_39">
     </a>
     查看目录下文件大小
    </h4>
    <p>
     直接在目录下执行
    </p>
    <pre><code class="prism language-bash"><span class="token function">du</span> <span class="token parameter variable">-sh</span> *
</code></pre>
    <h4>
     <a id="_45">
     </a>
     查看当前流量带宽
    </h4>
    <pre><code class="prism language-bash">nethogs
</code></pre>
    <p>
     示例
    </p>
    <pre><code>[root@centos ~]# nethogs
PID USER        PROGRAM 								DEV         SENT        RECEIVED     
22196 root  	sshd: root@pts/1 						eth0        0.521       0.053 KB/sec
1219  root 		/usr/local/qcloud/tat_agent/tat_agent 	eth0        0.011       0.011 KB/sec
10909 root      barad_agent 							eth0        0.000       0.000 KB/sec
</code></pre>
    <h4>
     <a id="_61">
     </a>
     查看目录下文件大小
    </h4>
    <pre><code class="prism language-bash">ll <span class="token parameter variable">-h</span> /opt/data/backup/
</code></pre>
    <p>
     示例
    </p>
    <pre><code>[root@localhost ~]# ll -h /opt/data/backup/
总用量 631M
-rwxrwxr-x 1 root root 4.4M 8月  16 09:59 database.bak
-rwxrwxr-x 1 root root 627M 8月  16 09:59 web.tar.gz
</code></pre>
    <h3>
     <a id="Linux__74">
     </a>
     Linux 修改相关常用命令
    </h3>
    <h4>
     <a id="Linux__76">
     </a>
     Linux 修改时间
    </h4>
    <p>
     修改具体时间
    </p>
    <pre><code class="prism language-bash"><span class="token function">date</span> <span class="token parameter variable">-s</span> <span class="token string">"2020-11-26 14:14:00"</span>
</code></pre>
    <p>
     修改日期
    </p>
    <pre><code class="prism language-bash"><span class="token function">date</span> <span class="token parameter variable">-s</span> <span class="token string">"2020-11-26"</span>
</code></pre>
    <h4>
     <a id="Linux__90">
     </a>
     Linux 修改用户密码
    </h4>
    <p>
     root 修改普通用户的密码
    </p>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">passwd</span> user_name
</code></pre>
    <p>
     然后连续两次输入新的用户密码即可；
    </p>
    <p>
     root 查看普通用户密码
    </p>
    <p>
     <strong>
      密码是无法被查看的，即使是 root 也不行
     </strong>
     ，因此普通用户要是遗忘了密码，可以参照上一步，让管理员使用 root 权限修改密码，然后再将新密码告知普通用户；
    </p>
    <p>
     普通用户修改自己的密码
    </p>
    <pre><code class="prism language-bash"><span class="token function">passwd</span>
</code></pre>
    <p>
     直接使用上述命令 passwd 即可，之后它会要求你输入原先的密码和新的密码。
    </p>
    <h4>
     <a id="Linux_IP_112">
     </a>
     Linux 租赁IP地址
    </h4>
    <p>
     在企业网络环境中，Linux 服务器通常通过 DHCP（Dynamic Host Configuration Protocol，动态主机配置协议） 获取 IP 地址。当网络发生变更，或者需要手动续租/重新获取 IP 地址时，我们可以使用以下命令来处理：
    </p>
    <pre><code class="prism language-bash">dhclient 
</code></pre>
    <p>
     如果网络有异常或者 dhclient 无法解决问题，可以尝试 systemctl restart network.service 彻底重启网络服务，确保 IP 地址重新获取。
    </p>
    <pre><code class="prism language-bash">systemctl restart network.service
</code></pre>
    <h4>
     <a id="Linux__122">
     </a>
     Linux 网卡文件位置
    </h4>
    <p>
     编辑以下网卡文件
    </p>
    <pre><code class="prism language-bash">/etc/sysconfig/network-scripts/ifcfg-ens33
</code></pre>
    <h4>
     <a id="Linux__128">
     </a>
     Linux 配置网关等信息
    </h4>
    <pre><code>BOOTPROTO=static
ONBOOT=yes
IPADDR=192.168.1.100
NETMASK=255.255.192.0
GATEWAY=192.168.1.254
DNS1=66.13.26.69
</code></pre>
    <h4>
     <a id="Linux__139">
     </a>
     Linux 修改网络地址重启服务
    </h4>
    <pre><code class="prism language-bash"><span class="token function">service</span> network restart
</code></pre>
    <h3>
     <a id="Linux__145">
     </a>
     Linux 常用系列命令
    </h3>
    <h4>
     <a id="netstat__147">
     </a>
     netstat 命令
    </h4>
    <h5>
     <a id="Linux__149">
     </a>
     查看网络端口情况（Linux 查看端口监听状态）
    </h5>
    <pre><code class="prism language-bash"><span class="token function">netstat</span> <span class="token parameter variable">-anutp</span>
</code></pre>
    <p>
     参数含义：
     <br/>
     -a 显示所有
     <br/>
     -n 以ip形式显示当前建立的有效连接和端口
     <br/>
     -u 显示UDP协议
     <br/>
     -t 显示TCP协议
     <br/>
     -p 显示对应PID与程序名
    </p>
    <h5>
     <a id="_161">
     </a>
     对查询结果进行过滤
    </h5>
    <pre><code class="prism language-bash"><span class="token function">netstat</span> <span class="token parameter variable">-antup</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token number">8443</span>
</code></pre>
    <p>
     查询结果
    </p>
    <pre><code>Protocol Recv-Q Send-Q	Local Address				Foregin Address				State		PID/Program name
tcp        0      0 	0.0.0.0:9443                0.0.0.0:*                   LISTEN      11641/nginx     
tcp        0      0 	:::9443                     :::*                        LISTEN      11641/nginx     
tcp       32      0 	::ffff:132.190.99.12:47728  ::ffff:132.190.99.12:9443   CLOSE_WAIT  23626/java
</code></pre>
    <p>
     查询进程信息
    </p>
    <pre><code>[root@localhost shell]# netstat -anp | grep 8443
tcp6       0      0 :::8443                 :::*                    LISTEN      10565/java
</code></pre>
    <h4>
     <a id="top__183">
     </a>
     top 命令
    </h4>
    <p>
     top -p 查看进程的详细情况
    </p>
    <pre><code>$ top -p 进程号
</code></pre>
    <pre><code>[root@centos121 ~]# top -p 80897
top - 14:02:42 up 19 days, 22:29,  7 users,  load average: 1.17, 1.47, 1.49
Tasks:   1 total,   0 running,   1 sleeping,   0 stopped,   0 zombie
%Cpu0  :   6.2/0.0     6[|                    ]     %Cpu1  :   0.0/6.2     6[|                    ]
%Cpu2  :   0.0/6.7     7[|                    ]     %Cpu3  :   0.0/0.0     0[                     ]
%Cpu4  :   0.0/6.7     7[|                    ]     %Cpu5  :   0.0/6.7     7[|                    ]
%Cpu6  :   0.0/0.0     0[                     ]     %Cpu7  :   0.0/0.0     0[                     ]
GiB Mem : 72.1/31.2     [                     ]
GiB Swap:  3.5/15.7     [                     ]

   PID USER      PR  NI    VIRT    RES  %CPU  %MEM     TIME+ S COMMAND                                
 80897 kafka     20   0   14.3g   2.1g  40.0   6.7 314:22.60 S /opt/kafka/bin/java -Xmx2G -Xm+ 
</code></pre>
    <h4>
     <a id="ps__206">
     </a>
     ps 命令
    </h4>
    <pre><code>[root@localhost ~]# ps -ef|grep Tomcat
root      2107     1 12  2021 ?        3-05:32:50 /usr/java/jdk1.8.0_134/jre/bin/java
</code></pre>
    <h4>
     <a id="lsof__213">
     </a>
     lsof 命令
    </h4>
    <p>
     <a href="https://www.jianshu.com/p/a3aa6b01b2e1" rel="nofollow">
      链接
     </a>
    </p>
    <p>
     使用 -i 显示所有连接
    </p>
    <h4>
     <a id="tar__219">
     </a>
     tar 命令
    </h4>
    <p>
     解压命令
    </p>
    <pre><code class="prism language-bash"><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> xxx.tar.gz
</code></pre>
    <p>
     压缩命令
    </p>
    <pre><code class="prism language-bash"><span class="token function">tar</span> <span class="token parameter variable">-cvf</span> xxx.tar.gz ROOT/
</code></pre>
    <h4>
     <a id="curl__233">
     </a>
     curl 命令
    </h4>
    <p>
     <a href="http://www.ruanyifeng.com/blog/2019/09/curl-reference.html" rel="nofollow">
      链接
     </a>
    </p>
    <h4>
     <a id="firewallcmd__237">
     </a>
     firewall-cmd 防火墙命令
    </h4>
    <p>
     centos 7 使用 firewall-cmd 相关命令来关闭防火墙
    </p>
    <h5>
     <a id="_241">
     </a>
     查看开放端口
    </h5>
    <pre><code class="prism language-bash">firewall-cmd --list-all
</code></pre>
    <h5>
     <a id="_247">
     </a>
     设置开放的端口号
    </h5>
    <pre><code class="prism language-bash">firewall-cmd --add-service<span class="token operator">=</span>http <span class="token parameter variable">--permanent</span>
<span class="token function">sudo</span> firewall-cmd --add-port<span class="token operator">=</span><span class="token number">80</span>/tcp <span class="token parameter variable">--permanent</span>
</code></pre>
    <h5>
     <a id="_254">
     </a>
     重启防火墙
    </h5>
    <pre><code class="prism language-bash">firewall-cmd <span class="token parameter variable">--reload</span>
</code></pre>
    <h4>
     <a id="iptables__260">
     </a>
     iptables 防火墙命令
    </h4>
    <h4>
     <a id="_262">
     </a>
    </h4>
    <h5>
     <a id="_80__264">
     </a>
     防火墙放开 80 端口
    </h5>
    <pre><code>[root@localhost html]# /sbin/iptables -I INPUT -p tcp --dport 80 -j ACCEPT
[root@localhost html]# /etc/init.d/iptables save
[root@localhost html]# /etc/init.d/iptables restart
</code></pre>
    <h5>
     <a id="_272">
     </a>
     查看防火墙信息
    </h5>
    <pre><code>/etc/init.d/iptables status
</code></pre>
    <h5>
     <a id="_278">
     </a>
     关闭防火墙服务
    </h5>
    <pre><code>/etc/init.d/iptables stop
</code></pre>
    <h5>
     <a id="_284">
     </a>
     删除一条防火墙规则
    </h5>
    <pre><code class="prism language-bash"><span class="token comment"># 查找所有规则</span>
iptables <span class="token parameter variable">-L</span> INPUT --line-numbers

<span class="token comment"># 删除一条规则</span>
iptables <span class="token parameter variable">-D</span> INPUT <span class="token number">11</span> <span class="token comment">#（注意，这个11是行号，是iptables -L INPUT --line-numbers 所打印出来的行号）</span>
</code></pre>
    <pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># iptables -L INPUT --line-numbers</span>
Chain INPUT <span class="token punctuation">(</span>policy ACCEPT<span class="token punctuation">)</span>
num  target     prot opt <span class="token builtin class-name">source</span>               destination         
<span class="token number">1</span>    ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:postgres
<span class="token number">2</span>    ACCEPT     all  --  anywhere             anywhere             state RELATED,ESTABLISHED

<span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># iptables -D INPUT 1</span>
</code></pre>
    <h5>
     <a id="_iptables_304">
     </a>
     重启 iptables
    </h5>
    <pre><code class="prism language-bash"><span class="token function">service</span> iptables save <span class="token operator">&amp;&amp;</span> <span class="token function">service</span> iptables restart
</code></pre>
    <h5>
     <a id="_IP__310">
     </a>
     指定开放 IP 和端口
    </h5>
    <pre><code class="prism language-bash">iptables <span class="token parameter variable">-A</span> INPUT <span class="token parameter variable">-p</span> tcp <span class="token parameter variable">-s</span> <span class="token number">192.168</span>.137.1,192.168.137.102 <span class="token parameter variable">--dport</span> <span class="token number">22</span> <span class="token parameter variable">-j</span> ACCEPT
</code></pre>
    <h5>
     <a id="_IP__22__316">
     </a>
     对所有 IP 禁止访问 22 端口
    </h5>
    <pre><code class="prism language-bash">iptables <span class="token parameter variable">-A</span> INPUT <span class="token parameter variable">-p</span> tcp <span class="token parameter variable">--dport</span> <span class="token number">22</span> <span class="token parameter variable">-j</span> REJECT
</code></pre>
    <h5>
     <a id="_5432__322">
     </a>
     对所有主机开放 5432 端口
    </h5>
    <pre><code class="prism language-bash">/sbin/iptables <span class="token parameter variable">-I</span> INPUT <span class="token parameter variable">-p</span> tcp <span class="token parameter variable">--dport</span> <span class="token number">5432</span> <span class="token parameter variable">-j</span> ACCEPT
</code></pre>
    <h3>
     <a id="__329">
     </a>
     📢 结语
    </h3>
    <p>
     熟练掌握 Linux 常用命令，不仅能大幅提升运维效率，还能在企业生产环境中快速排查问题、优化系统性能。持续整理中…
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f427261645f50695474372f:61727469636c652f64657461696c732f313436303532303439" class_="artid" style="display:none">
 </p>
</div>


