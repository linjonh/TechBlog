---
arturl_encode: "68747470733a2f2f62:6c6f672e6373646e2e6e65742f6c697562696e77797a62742f:61727469636c652f64657461696c732f313032393130373538"
layout: post
title: "vue3-ä¸åŒç¯å¢ƒå¼€å‘æµ‹è¯•ç”Ÿäº§æ‰“åŒ…é…ç½®"
date: 2024-12-18 23:50:51 +08:00
description: "Vue3ä¸åŒç¯å¢ƒï¼ˆå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ï¼‰æ‰“åŒ…é…ç½®éœ€æ±‚å®ç°åŸç†é…ç½®æ­¥éª¤åˆ›å»º3ä¸ª.envæ–‡ä»¶é…ç½®è„šæœ¬ä»£ç è°ƒç”¨"
keywords: "vue3 å¤šä¸ª envv"
categories: ['Web']
tags: ['ä¸åŒç¯å¢ƒæ‰“åŒ…', 'Vue']
artid: "102910758"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=102910758
    alt: "vue3-ä¸åŒç¯å¢ƒå¼€å‘æµ‹è¯•ç”Ÿäº§æ‰“åŒ…é…ç½®"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=102910758
featuredImagePreview: https://bing.ee123.net/img/rand?artid=102910758
---

# vue3 ä¸åŒç¯å¢ƒ(å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§)æ‰“åŒ…é…ç½®

#### Vue3ä¸åŒç¯å¢ƒï¼ˆå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ï¼‰æ‰“åŒ…é…ç½®

* + [éœ€æ±‚](#_2)
  + [å®ç°åŸç†](#_6)
  + [é…ç½®æ­¥éª¤](#_10)
  + - [åˆ›å»º3ä¸ª.envæ–‡ä»¶](#3env_12)
    - [é…ç½®è„šæœ¬](#_41)
    - [ä»£ç è°ƒç”¨](#_48)
  + [æ‰§è¡Œè„šæœ¬](#_52)
  + [å…¶ä»–](#_57)
  + [å‚è€ƒèµ„æ–™ï¼š](#_62)

### éœ€æ±‚

åœ¨Vue3.Xä¸­ï¼Œæ‰§è¡Œpackage.json Script è„šæœ¬å‘½ä»¤ï¼Œåœ¨é¡¹ç›®ä¸­é…ç½®ä¸åŒ(æœ¬åœ°ã€æµ‹è¯•ã€ç”Ÿäº§)ç¯å¢ƒçš„
**API URL**

### å®ç°åŸç†

åˆ›å»º.envæ–‡ä»¶ï¼Œåœ¨envæ–‡ä»¶ä¸­æ·»åŠ URL å¸¸é‡ï¼Œé…ç½®æ‰“åŒ…å‘½ä»¤å¯¹åº”çš„envæ–‡ä»¶ï¼Œè·å–ä¸åŒenvæ–‡ä»¶ä¸­å®šä¹‰URLå¸¸é‡å€¼ã€‚

### é…ç½®æ­¥éª¤

#### åˆ›å»º3ä¸ª.envæ–‡ä»¶

æ¯ä¸ªæ–‡ä»¶ä¸­æ·»åŠ 
VUE_APP_URL
å’Œ
VUE_APP_FLAG
å¸¸é‡
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/58e02f667d042335607be1d73aa24b56.png)
  
å¸¸é‡å®šä¹‰è§„èŒƒï¼šVUE_APP_[è‡ªå®šä¹‰name]

* **æ–‡ä»¶åï¼š.env**
  ã€æ‰“åŒ…ç”Ÿäº§ç¯å¢ƒã€‘

```
VUE_APP_URL=https://xxx.xxx.com
VUE_APP_FLAG = 'prod'

```

* **æ–‡ä»¶åï¼š.env.test**
  ã€æ‰“åŒ…æµ‹è¯•ç¯å¢ƒã€‘

æ–‡ä»¶ä¸­éœ€è¦é¢å¤–å¢åŠ ä¸€ä¸ª
`NODE_ENV = 'production'`
çš„å‚æ•°ï¼Œå¦åˆ™åœ¨package.jsonä¸­æ‰§è¡Œæµ‹è¯•è„šæœ¬å‘½ä»¤æ—¶ï¼Œä¸ä¼šå°†jså’Œcssæ–‡ä»¶æ‰“åŒ…è‡³distã€‚

```
NODE_ENV = 'production'
VUE_APP_URL=http://xxx.xx.xx.xxx:8085/wxpublic
VUE_APP_FLAG = 'test'

```

* **æ–‡ä»¶åï¼š.env.development**
  ã€æ‰“åŒ…æœ¬åœ°å¼€å‘ç¯å¢ƒã€‘

```
VUE_APP_URL=http://localhost:8088/wxpublic
VUE_APP_FLAG = 'dev'

```

#### é…ç½®è„šæœ¬

åœ¨package.jsonä¸­ï¼Œåœ¨scriptså¯¹è±¡ä¸­å¢åŠ testbuildè„šæœ¬ï¼Œå…¶ä¸­â€“mode
`test`
å‘½ä»¤å¯¹åº”æ–‡ä»¶åenv.
`test`
  
ä»£ç å¦‚ä¸‹ï¼š

```
"testbuild": "vue-cli-service build --mode test"

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/707fc2f87268dbe84a8fb77eb8b0bacb.png)

#### ä»£ç è°ƒç”¨

åœ¨ç½‘ç»œè¯·æ±‚æˆ–axiosä¸­ï¼Œè®¿é—®
`process.env.VUE_APP_URL`
å¾—åˆ°API BaseURL

### æ‰§è¡Œè„šæœ¬

å³é”®
**package.json**
æ–‡ä»¶ï¼Œç‚¹å‡»
show npm Scripts
èœå•ï¼ŒåŒå‡»å‘½ä»¤æ‰“åŒ…ä¸åŒç¯å¢ƒæ–‡ä»¶ã€‚
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/1f62001831dd21bb036436f647bc7450.png)

### å…¶ä»–

1ã€æœ¬æœºç¯å¢ƒï¼š@vue-cli3.12.1
  
2ã€IDEï¼šWebStorm2018.3.2

### å‚è€ƒèµ„æ–™ï¼š

ğŸ”—
  
[1]: https://cli.vuejs.org/zh/config/#publicpath
  
[2]: https://blog.csdn.net/qq_36407748/article/details/82050976
  
[2]: https://blog.csdn.net/qq_37055675/article/details/85047451
  
[3]: https://www.jianshu.com/p/9b6ccd14d184