---
layout: post
title: "åç«¯å¼€å‘é¢è¯•é¢˜æ¯æ—¥-3-é¢˜å…«"
date: 2025-03-07 10:01:58 +0800
description: "ğŸ“šä¸“æ ç®€ä»‹ï¼šåœ¨è¿™ä¸ªä¸“æ ä¸­ï¼Œæˆ‘å°†ä¼šåˆ†äº«åç«¯å¼€å‘é¢è¯•ä¸­å¸¸è§çš„é¢è¯•é¢˜ç»™å¤§å®¶~"
keywords: "ã€åç«¯å¼€å‘é¢è¯•é¢˜ã€‘æ¯æ—¥ 3 é¢˜ï¼ˆå…«ï¼‰"
categories: ['åç«¯å¼€å‘é¢è¯•ä¸“æ ']
tags: ['é¢è¯•', 'è´Ÿè½½å‡è¡¡', 'æ•°æ®åº“', 'åç«¯å¼€å‘', 'åç«¯', 'åˆ†å¸ƒå¼', 'Java']
artid: "146087408"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146087408
    alt: "åç«¯å¼€å‘é¢è¯•é¢˜æ¯æ—¥-3-é¢˜å…«"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146087408
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146087408
cover: https://bing.ee123.net/img/rand?artid=146087408
image: https://bing.ee123.net/img/rand?artid=146087408
img: https://bing.ee123.net/img/rand?artid=146087408
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     ã€åç«¯å¼€å‘é¢è¯•é¢˜ã€‘æ¯æ—¥ 3 é¢˜ï¼ˆå…«ï¼‰
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <blockquote>
     <p>
      âœä¸ªäººåšå®¢ï¼š
      <a href="https://blog.csdn.net/Newin2020">
       Pandaconda-CSDNåšå®¢
      </a>
      <br/>
      ğŸ“£ä¸“æ åœ°å€ï¼š
      <a href="https://blog.csdn.net/newin2020/category_12903849.html">
       https://blog.csdn.net/newin2020/category_12903849.html
      </a>
      <br/>
      ğŸ“šä¸“æ ç®€ä»‹ï¼šåœ¨è¿™ä¸ªä¸“æ ä¸­ï¼Œæˆ‘å°†ä¼šåˆ†äº«åç«¯å¼€å‘é¢è¯•ä¸­å¸¸è§çš„é¢è¯•é¢˜ç»™å¤§å®¶~
      <br/>
      â¤ï¸å¦‚æœæœ‰æ”¶è·çš„è¯ï¼Œæ¬¢è¿ç‚¹èµğŸ‘æ”¶è—ğŸ“ï¼Œæ‚¨çš„æ”¯æŒå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ğŸ’ª
     </p>
    </blockquote>
    <h2>
     <a id="1__5">
     </a>
     1. ç®€è¿°è´Ÿè½½å‡è¡¡çš„æ¦‚å¿µã€å¸¸è§ç®—æ³•åŠå…¶åœ¨åç«¯å¼€å‘ä¸­çš„åº”ç”¨åœºæ™¯
    </h2>
    <ul>
     <li>
      æ¦‚å¿µï¼šè´Ÿè½½å‡è¡¡æ˜¯ä¸€ç§å°†å·¥ä½œè´Ÿè½½åˆ†å¸ƒåˆ°å¤šä¸ªè®¡ç®—èµ„æºï¼ˆå¦‚æœåŠ¡å™¨ã€æ•°æ®åº“ç­‰ï¼‰ä¸Šçš„æŠ€æœ¯ï¼Œæ—¨åœ¨ä¼˜åŒ–èµ„æºä½¿ç”¨ã€æœ€å¤§åŒ–ååé‡ã€å‡å°‘å“åº”æ—¶é—´ï¼Œå¹¶é¿å…å•ä¸ªèµ„æºè¿‡è½½ã€‚é€šè¿‡è´Ÿè½½å‡è¡¡ï¼Œå¯ä»¥æé«˜ç³»ç»Ÿçš„å¯ç”¨æ€§ã€å¯é æ€§å’Œæ€§èƒ½ã€‚
     </li>
     <li>
      å¸¸è§ç®—æ³•
      <ul>
       <li>
        è½®è¯¢ç®—æ³•ï¼ˆRound Robinï¼‰ï¼šæŒ‰ç…§é¡ºåºä¾æ¬¡å°†è¯·æ±‚åˆ†é…ç»™åç«¯æœåŠ¡å™¨ï¼Œæ¯ä¸ªæœåŠ¡å™¨åœ¨ä¸€æ¬¡å¾ªç¯ä¸­å¤„ç†ä¸€ä¸ªè¯·æ±‚ã€‚ä¼˜ç‚¹æ˜¯å®ç°ç®€å•ï¼Œç¼ºç‚¹æ˜¯ä¸è€ƒè™‘æœåŠ¡å™¨çš„å®é™…è´Ÿè½½æƒ…å†µã€‚
       </li>
       <li>
        åŠ æƒè½®è¯¢ç®—æ³•ï¼ˆWeighted Round Robinï¼‰ï¼šä¸ºæ¯ä¸ªæœåŠ¡å™¨åˆ†é…ä¸€ä¸ªæƒé‡ï¼Œæƒé‡é«˜çš„æœåŠ¡å™¨ä¼šå¤„ç†æ›´å¤šçš„è¯·æ±‚ã€‚å¯ä»¥æ ¹æ®æœåŠ¡å™¨çš„ç¡¬ä»¶é…ç½®ã€æ€§èƒ½ç­‰å› ç´ æ¥è®¾ç½®æƒé‡ï¼Œæ›´åˆç†åœ°åˆ†é…è´Ÿè½½ã€‚
       </li>
       <li>
        éšæœºç®—æ³•ï¼ˆRandomï¼‰ï¼šéšæœºé€‰æ‹©ä¸€ä¸ªåç«¯æœåŠ¡å™¨æ¥å¤„ç†è¯·æ±‚ã€‚è¿™ç§ç®—æ³•ç®€å•ï¼Œä½†åŒæ ·æ²¡æœ‰è€ƒè™‘æœåŠ¡å™¨çš„è´Ÿè½½æƒ…å†µã€‚
       </li>
       <li>
        åŠ æƒéšæœºç®—æ³•ï¼ˆWeighted Randomï¼‰ï¼šç»“åˆäº†éšæœºç®—æ³•å’ŒåŠ æƒçš„æ€æƒ³ï¼Œæ ¹æ®æœåŠ¡å™¨çš„æƒé‡éšæœºé€‰æ‹©æœåŠ¡å™¨ï¼Œæƒé‡é«˜çš„æœåŠ¡å™¨è¢«é€‰ä¸­çš„æ¦‚ç‡æ›´å¤§ã€‚
       </li>
       <li>
        æœ€å°‘è¿æ¥ç®—æ³•ï¼ˆLeast Connectionsï¼‰ï¼šå°†è¯·æ±‚åˆ†é…ç»™å½“å‰è¿æ¥æ•°æœ€å°‘çš„æœåŠ¡å™¨ï¼Œèƒ½æ›´å¥½åœ°å¹³è¡¡æœåŠ¡å™¨çš„è´Ÿè½½ï¼Œå› ä¸ºè¿æ¥æ•°å°‘çš„æœåŠ¡å™¨é€šå¸¸è´Ÿè½½è¾ƒè½»ã€‚
       </li>
       <li>
        IP å“ˆå¸Œç®—æ³•ï¼ˆIP Hashï¼‰ï¼šæ ¹æ®å®¢æˆ·ç«¯çš„ IP åœ°å€è¿›è¡Œå“ˆå¸Œè®¡ç®—ï¼Œå°†ç›¸åŒ IP åœ°å€çš„è¯·æ±‚å§‹ç»ˆåˆ†é…åˆ°åŒä¸€å°æœåŠ¡å™¨ä¸Šã€‚é€‚ç”¨äºéœ€è¦ä¿æŒä¼šè¯ä¸€è‡´æ€§çš„åœºæ™¯ã€‚
       </li>
      </ul>
     </li>
     <li>
      åº”ç”¨åœºæ™¯
      <ul>
       <li>
        Web æœåŠ¡å™¨é›†ç¾¤ï¼šåœ¨å¤§å‹ç½‘ç«™ä¸­ï¼Œå°†ç”¨æˆ·çš„ HTTP è¯·æ±‚é€šè¿‡è´Ÿè½½å‡è¡¡å™¨åˆ†å‘åˆ°å¤šä¸ª Web æœåŠ¡å™¨ä¸Šï¼Œæé«˜ç½‘ç«™çš„å¹¶å‘å¤„ç†èƒ½åŠ›å’Œå“åº”é€Ÿåº¦ã€‚
       </li>
       <li>
        æ•°æ®åº“é›†ç¾¤ï¼šå¯¹äºæ•°æ®åº“è¯»å†™åˆ†ç¦»çš„æ¶æ„ï¼Œä½¿ç”¨è´Ÿè½½å‡è¡¡å™¨å°†è¯»è¯·æ±‚åˆ†å‘åˆ°å¤šä¸ªä»æ•°æ®åº“æœåŠ¡å™¨ä¸Šï¼Œå‡è½»ä¸»æ•°æ®åº“çš„è¯»å‹åŠ›ã€‚
       </li>
       <li>
        åˆ†å¸ƒå¼ç³»ç»Ÿï¼šåœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œè´Ÿè½½å‡è¡¡å™¨å¯ä»¥å°†å®¢æˆ·ç«¯çš„è¯·æ±‚åˆ†å‘åˆ°å¤šä¸ªå¾®æœåŠ¡å®ä¾‹ä¸Šï¼Œå®ç°æœåŠ¡çš„é«˜å¯ç”¨å’Œå¼¹æ€§ä¼¸ç¼©ã€‚
       </li>
      </ul>
     </li>
    </ul>
    <h2>
     <a id="2__Java__20">
     </a>
     2. åœ¨ Java ä¸­ï¼Œå¦‚ä½•å®ç°çº¿ç¨‹æ± ï¼Ÿ
    </h2>
    <p>
     åœ¨ Java ä¸­ï¼Œå¯ä»¥é€šè¿‡ java.util.concurrent åŒ…ä¸‹çš„ ThreadPoolExecutor ç±»æˆ–å…¶æä¾›çš„å·¥å‚æ–¹æ³•æ¥å®ç°çº¿ç¨‹æ± ã€‚ä»¥ä¸‹æ˜¯å‡ ç§å¸¸è§çš„å®ç°æ–¹å¼ï¼š
    </p>
    <ul>
     <li>
      ä½¿ç”¨ Executors å·¥å‚ç±»åˆ›å»ºçº¿ç¨‹æ± 
      <ul>
       <li>
        å›ºå®šå¤§å°çº¿ç¨‹æ± ï¼ˆFixedThreadPoolï¼‰ï¼šåˆ›å»ºä¸€ä¸ªå›ºå®šå¤§å°çš„çº¿ç¨‹æ± ï¼Œçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°é‡å§‹ç»ˆä¿æŒä¸å˜ã€‚
       </li>
      </ul>
      <pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">ExecutorService</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">Executors</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FixedThreadPoolExample</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// åˆ›å»ºä¸€ä¸ªå›ºå®šå¤§å°ä¸º 3 çš„çº¿ç¨‹æ± </span>
        <span class="token class-name">ExecutorService</span> executor <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newFixedThreadPool</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">final</span> <span class="token keyword">int</span> taskId <span class="token operator">=</span> i<span class="token punctuation">;</span>
            executor<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Task "</span> <span class="token operator">+</span> taskId <span class="token operator">+</span> <span class="token string">" is being executed by "</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        executor<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
     </li>
     <li>
      å•çº¿ç¨‹çº¿ç¨‹æ± ï¼ˆSingleThreadExecutorï¼‰ï¼šåˆ›å»ºä¸€ä¸ªåªæœ‰ä¸€ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ± ï¼Œä»»åŠ¡ä¼šæŒ‰ç…§æäº¤çš„é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚
     </li>
    </ul>
    <pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">ExecutorService</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">Executors</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SingleThreadExecutorExample</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// åˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹çº¿ç¨‹æ± </span>
        <span class="token class-name">ExecutorService</span> executor <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newSingleThreadExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">final</span> <span class="token keyword">int</span> taskId <span class="token operator">=</span> i<span class="token punctuation">;</span>
            executor<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Task "</span> <span class="token operator">+</span> taskId <span class="token operator">+</span> <span class="token string">" is being executed by "</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        executor<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      ç¼“å­˜çº¿ç¨‹æ± ï¼ˆCachedThreadPoolï¼‰ï¼šåˆ›å»ºä¸€ä¸ªå¯ç¼“å­˜çš„çº¿ç¨‹æ± ï¼Œå¦‚æœçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹åœ¨ 60 ç§’å†…æ²¡æœ‰è¢«ä½¿ç”¨ï¼Œä¼šè¢«è‡ªåŠ¨å›æ”¶ï¼›å½“æœ‰æ–°ä»»åŠ¡æäº¤æ—¶ï¼Œå¦‚æœæ²¡æœ‰å¯ç”¨çº¿ç¨‹ï¼Œä¼šåˆ›å»ºæ–°çš„çº¿ç¨‹ã€‚
     </li>
    </ul>
    <pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">ExecutorService</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">Executors</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CachedThreadPoolExample</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// åˆ›å»ºä¸€ä¸ªç¼“å­˜çº¿ç¨‹æ± </span>
        <span class="token class-name">ExecutorService</span> executor <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newCachedThreadPool</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">final</span> <span class="token keyword">int</span> taskId <span class="token operator">=</span> i<span class="token punctuation">;</span>
            executor<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Task "</span> <span class="token operator">+</span> taskId <span class="token operator">+</span> <span class="token string">" is being executed by "</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        executor<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      æ‰‹åŠ¨åˆ›å»º ThreadPoolExecutor çº¿ç¨‹æ± 
     </li>
    </ul>
    <pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomThreadPoolExample</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// æ‰‹åŠ¨åˆ›å»ºçº¿ç¨‹æ± </span>
        <span class="token class-name">ThreadPoolExecutor</span> executor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadPoolExecutor</span><span class="token punctuation">(</span>
                <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// æ ¸å¿ƒçº¿ç¨‹æ•°</span>
                <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">// æœ€å¤§çº¿ç¨‹æ•°</span>
                <span class="token number">60</span><span class="token punctuation">,</span> <span class="token comment">// çº¿ç¨‹ç©ºé—²æ—¶é—´</span>
                <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">LinkedBlockingQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">// ä»»åŠ¡é˜Ÿåˆ—</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">final</span> <span class="token keyword">int</span> taskId <span class="token operator">=</span> i<span class="token punctuation">;</span>
            executor<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Task "</span> <span class="token operator">+</span> taskId <span class="token operator">+</span> <span class="token string">" is being executed by "</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        executor<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="3__MongoDB__125">
     </a>
     3. åœ¨ MongoDB ä¸­ï¼Œå¦‚ä½•è¿›è¡Œæ•°æ®çš„å¤‡ä»½å’Œæ¢å¤ï¼Ÿ
    </h2>
    <ul>
     <li>
      å¤‡ä»½
      <ul>
       <li>
        ä½¿ç”¨ mongodump å·¥å…·ï¼šmongodump æ˜¯ MongoDB è‡ªå¸¦çš„å¤‡ä»½å·¥å…·ï¼Œå¯ç”¨äºå¤‡ä»½æ•´ä¸ªæ•°æ®åº“ã€æŒ‡å®šæ•°æ®åº“æˆ–æŒ‡å®šé›†åˆã€‚
        <ul>
         <li>
          å¤‡ä»½æ•´ä¸ª MongoDB å®ä¾‹ï¼š
         </li>
        </ul>
       </li>
      </ul>
     </li>
    </ul>
    <pre><code class="prism language-bash">mongodump <span class="token parameter variable">--host</span> <span class="token operator">&lt;</span>hostname<span class="token operator">&gt;</span> <span class="token parameter variable">--port</span> <span class="token operator">&lt;</span>port<span class="token operator">&gt;</span> <span class="token parameter variable">--out</span> <span class="token operator">&lt;</span>backup_directory<span class="token operator">&gt;</span>
</code></pre>
    <p>
     å…¶ä¸­ï¼Œ æ˜¯ MongoDB æœåŠ¡å™¨çš„ä¸»æœºåï¼Œ æ˜¯ç«¯å£å·ï¼Œ&lt;backup_directory&gt; æ˜¯å¤‡ä»½æ–‡ä»¶å­˜å‚¨çš„ç›®å½•ã€‚
    </p>
    <ul>
     <li>
      å¤‡ä»½æŒ‡å®šæ•°æ®åº“ï¼š
     </li>
    </ul>
    <pre><code class="prism language-bash">mongodump <span class="token parameter variable">--host</span> <span class="token operator">&lt;</span>hostname<span class="token operator">&gt;</span> <span class="token parameter variable">--port</span> <span class="token operator">&lt;</span>port<span class="token operator">&gt;</span> <span class="token parameter variable">--db</span> <span class="token operator">&lt;</span>database_name<span class="token operator">&gt;</span> <span class="token parameter variable">--out</span> <span class="token operator">&lt;</span>backup_directory<span class="token operator">&gt;</span>
</code></pre>
    <ul>
     <li>
      å¤‡ä»½æŒ‡å®šé›†åˆï¼š
     </li>
    </ul>
    <pre><code class="prism language-bash">mongodump <span class="token parameter variable">--host</span> <span class="token operator">&lt;</span>hostname<span class="token operator">&gt;</span> <span class="token parameter variable">--port</span> <span class="token operator">&lt;</span>port<span class="token operator">&gt;</span> <span class="token parameter variable">--db</span> <span class="token operator">&lt;</span>database_name<span class="token operator">&gt;</span> <span class="token parameter variable">--collection</span> <span class="token operator">&lt;</span>collection_name<span class="token operator">&gt;</span> <span class="token parameter variable">--out</span> <span class="token operator">&lt;</span>backup_directory<span class="token operator">&gt;</span>
</code></pre>
    <ul>
     <li>
      ä½¿ç”¨ MongoDB Atlas å¤‡ä»½åŠŸèƒ½ï¼ˆäº‘æœåŠ¡ï¼‰ï¼šå¦‚æœä½¿ç”¨ MongoDB Atlas äº‘æœåŠ¡ï¼Œå®ƒæä¾›äº†è‡ªåŠ¨å¤‡ä»½å’Œå¿«ç…§åŠŸèƒ½ï¼Œå¯ä»¥æ ¹æ®éœ€è¦è®¾ç½®å¤‡ä»½ç­–ç•¥ï¼Œå¦‚æ¯å¤©ã€æ¯å‘¨å¤‡ä»½ç­‰ã€‚
     </li>
     <li>
      æ¢å¤
      <ul>
       <li>
        ä½¿ç”¨ mongorestore å·¥å…·ï¼šmongorestore ç”¨äºå°† mongodump ç”Ÿæˆçš„å¤‡ä»½æ–‡ä»¶æ¢å¤åˆ° MongoDB ä¸­ã€‚
        <ul>
         <li>
          æ¢å¤æ•´ä¸ªå¤‡ä»½ï¼š
         </li>
        </ul>
       </li>
      </ul>
     </li>
    </ul>
    <pre><code class="prism language-bash">mongorestore <span class="token parameter variable">--host</span> <span class="token operator">&lt;</span>hostname<span class="token operator">&gt;</span> <span class="token parameter variable">--port</span> <span class="token operator">&lt;</span>port<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>backup_directory<span class="token operator">&gt;</span>
</code></pre>
    <ul>
     <li>
      æ¢å¤æŒ‡å®šé›†åˆï¼š
     </li>
    </ul>
    <pre><code class="prism language-bash">mongorestore <span class="token parameter variable">--host</span> <span class="token operator">&lt;</span>hostname<span class="token operator">&gt;</span> <span class="token parameter variable">--port</span> <span class="token operator">&lt;</span>port<span class="token operator">&gt;</span> <span class="token parameter variable">--db</span> <span class="token operator">&lt;</span>database_name<span class="token operator">&gt;</span> <span class="token parameter variable">--collection</span> <span class="token operator">&lt;</span>collection_name<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>backup_directory<span class="token operator">&gt;</span>/<span class="token operator">&lt;</span>database_name<span class="token operator">&gt;</span>/<span class="token operator">&lt;</span>collection_name<span class="token operator">&gt;</span>.bson
</code></pre>
    <p>
     åœ¨æ¢å¤æ•°æ®æ—¶ï¼Œéœ€è¦æ³¨æ„ç›®æ ‡æ•°æ®åº“çš„çŠ¶æ€å’Œæƒé™ï¼Œç¡®ä¿æœ‰è¶³å¤Ÿçš„æƒé™è¿›è¡Œæ¢å¤æ“ä½œã€‚åŒæ—¶ï¼Œå¦‚æœå¤‡ä»½æ–‡ä»¶æ˜¯åŠ å¯†çš„ï¼Œéœ€è¦æä¾›ç›¸åº”çš„è§£å¯†å¯†é’¥ã€‚
    </p>
   </div>
   <link href="./../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="./../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f4e6577696e323032302f:61727469636c652f64657461696c732f313436303837343038" class_="artid" style="display:none">
 </p>
</div>


