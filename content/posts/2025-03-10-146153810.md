---
arturl_encode: "68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f33343230323837332f:61727469636c652f64657461696c732f313436313533383130"
layout: post
title: "PostgreSQL-Ubuntu-ç³»ç»Ÿä¸‹PG15çš„å®‰è£…ä¸-PGVector-é…ç½®æŒ‡å—"
date: 2025-03-10 14:21:07 +08:00
description: "ğŸš€ æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†å¦‚ä½•åœ¨ Ubuntu ä¸Šå®‰è£… PostgreSQL 15 æ•°æ®åº“ï¼Œå¹¶é…ç½® PGVector æ’ä»¶ï¼ŒåŠ©åŠ›æœºå™¨å­¦ä¹ å’Œæ•°æ®åˆ†æã€‚"
keywords: "ã€PostgreSQLã€ Ubuntu ç³»ç»Ÿä¸‹PG15çš„å®‰è£…ä¸ PGVector é…ç½®æŒ‡å—"
categories: ['æ¶æ„ç²¾ç ”', 'Postgresql', 'Ai']
tags: ['æ•°æ®åº“', 'Ubuntu', 'Postgresql']
artid: "146153810"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146153810
    alt: "PostgreSQL-Ubuntu-ç³»ç»Ÿä¸‹PG15çš„å®‰è£…ä¸-PGVector-é…ç½®æŒ‡å—"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146153810
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146153810
cover: https://bing.ee123.net/img/rand?artid=146153810
image: https://bing.ee123.net/img/rand?artid=146153810
img: https://bing.ee123.net/img/rand?artid=146153810
---

# ã€PostgreSQLã€ Ubuntu ç³»ç»Ÿä¸‹PG15çš„å®‰è£…ä¸ PGVector é…ç½®æŒ‡å—

![](https://img-blog.csdnimg.cn/img_convert/977f67705d2beada1e90a652d5c3fc82.gif)

![](https://img-blog.csdnimg.cn/img_convert/760abeb2442685ce4545a460c03334d5.gif)

ğŸ“£è¯»å®Œè¿™ç¯‡æ–‡ç« é‡Œä½ èƒ½æ”¶è·åˆ°

1. ğŸ“¦ å­¦ä¼šå¦‚ä½•åœ¨ Ubuntu ä¸Šå®‰è£…æœ€æ–°çš„ PostgreSQL 15 æ•°æ®åº“ã€‚
2. ğŸ”‘ æŒæ¡ä¿®æ”¹ PostgreSQL ç®¡ç†å‘˜å¯†ç å’Œé…ç½®è¿œç¨‹è¿æ¥çš„æ–¹æ³•ã€‚
3. ğŸŒ äº†è§£å¦‚ä½•å¯ç”¨ PGVector æ’ä»¶ï¼Œå®ç°å‘é‡å­˜å‚¨å’Œå¤šç§è·ç¦»è®¡ç®—ã€‚
4. ğŸ› ï¸ å­¦ä¹  PostgreSQL çš„åŸºæœ¬é…ç½®ï¼ŒåŒ…æ‹¬é˜²ç«å¢™è®¾ç½®å’Œæ‰©å±•å®‰è£…ã€‚

![](https://i-blog.csdnimg.cn/img_convert/129deb4e9670e20ffa85996c7145ffbd.gif)

  
![](https://img-blog.csdnimg.cn/img_convert/760abeb2442685ce4545a460c03334d5.gif)

![](https://i-blog.csdnimg.cn/img_convert/129deb4e9670e20ffa85996c7145ffbd.gif)

## å‰è¨€

æœ¬æ–‡ä¸ºå¼€å‘è€…æä¾›äº†ä¸€ä»½è¯¦ç»†çš„æŒ‡å—ï¼Œä»‹ç»äº†å¦‚ä½•åœ¨ Ubuntu ç³»ç»Ÿä¸Šå®‰è£… PostgreSQL 15 æ•°æ®åº“ï¼Œå¹¶é…ç½® PGVector æ’ä»¶ã€‚ä»æ›´æ–°ç³»ç»Ÿè½¯ä»¶åŒ…ã€æ·»åŠ å®˜æ–¹ä»“åº“ï¼Œåˆ°å®‰è£… PostgreSQLã€ä¿®æ”¹ç®¡ç†å‘˜å¯†ç ã€å…è®¸è¿œç¨‹è¿æ¥ï¼Œå†åˆ°å®‰è£…å’Œå¯ç”¨ PGVector æ’ä»¶ï¼Œæ¯ä¸€æ­¥éƒ½é…æœ‰æ¸…æ™°çš„å‘½ä»¤å’Œè¯´æ˜ã€‚é€šè¿‡è¿™äº›æ­¥éª¤ï¼Œè¯»è€…å¯ä»¥å¿«é€Ÿæ­å»ºä¸€ä¸ªæ”¯æŒå‘é‡å­˜å‚¨å’ŒæŸ¥è¯¢çš„ PostgreSQL ç¯å¢ƒï¼Œä¸ºæœºå™¨å­¦ä¹ å’Œæ•°æ®åˆ†æé¡¹ç›®æ‰“ä¸‹åšå®åŸºç¡€ã€‚

![](https://img-blog.csdnimg.cn/img_convert/760abeb2442685ce4545a460c03334d5.gif)

## ä¸€ã€å®‰è£…PostgreSQL

### 1. æ›´æ–°ç³»ç»Ÿè½¯ä»¶åŒ…

åœ¨å®‰è£… PostgreSQL ä¹‹å‰ï¼Œå»ºè®®å…ˆæ›´æ–°ç³»ç»Ÿè½¯ä»¶åŒ…ï¼Œç¡®ä¿ç³»ç»Ÿå¤„äºæœ€æ–°çŠ¶æ€ï¼š

```bash
sudo apt update
sudo apt upgrade -y

```

---

### 2. æ·»åŠ  PostgreSQL å®˜æ–¹ä»“åº“

Ubuntu é»˜è®¤ä»“åº“ä¸­çš„ PostgreSQL ç‰ˆæœ¬å¯èƒ½ä¸æ˜¯æœ€æ–°çš„ã€‚ä¸ºäº†å®‰è£… PostgreSQL 15ï¼Œéœ€è¦æ·»åŠ å®˜æ–¹çš„ PostgreSQL ä»“åº“ï¼š

```bash
sudo sh -c 'echo "deb http://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)-pgdg main" > /etc/apt/sources.list.d/pgdg.list'
wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add -

```

---

### 3. å®‰è£… PostgreSQL 15

æ·»åŠ ä»“åº“åï¼Œæ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨å¹¶å®‰è£… PostgreSQL 15ï¼š

```bash
sudo apt update
sudo apt install -y postgresql-15 postgresql-client-15

```

---

### 4. éªŒè¯å®‰è£…

å®‰è£…å®Œæˆåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤éªŒè¯ PostgreSQL æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š

```bash
sudo systemctl status postgresql

```

å¦‚æœæœåŠ¡å·²å¯åŠ¨ï¼Œè¾“å‡ºåº”æ˜¾ç¤ºä¸º
`active (running)`
ã€‚

æ­¤å¤–ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ PostgreSQL çš„ç‰ˆæœ¬ï¼š

```bash
psql --version

```

è¾“å‡ºåº”æ˜¾ç¤ºä¸º
`psql (PostgreSQL) 15.x`
ã€‚

---

### 5. é…ç½® PostgreSQL

#### 5.1 ä¿®æ”¹ç®¡ç†å‘˜ç”¨æˆ·å¯†ç 

é»˜è®¤æƒ…å†µä¸‹ï¼ŒPostgreSQL åˆ›å»ºäº†ä¸€ä¸ªåä¸º
`postgres`
çš„ç”¨æˆ·ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤ä¿®æ”¹å…¶å¯†ç ï¼š

```bash
sudo -u postgres psql
ALTER USER postgres WITH PASSWORD 'your_new_password';
\q

```

#### 5.2å…è®¸è¿œç¨‹è¿æ¥

é»˜è®¤æƒ…å†µä¸‹ï¼ŒPostgreSQL åªå…è®¸æœ¬åœ°è¿æ¥ã€‚å¦‚æœéœ€è¦å…è®¸è¿œç¨‹è¿æ¥ï¼Œéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š

1. ä¿®æ”¹
   `postgresql.conf`
   æ–‡ä»¶ï¼š

```bash
sudo vim /etc/postgresql/15/main/postgresql.conf

```

æ‰¾åˆ°
`listen_addresses`
ï¼Œå–æ¶ˆæ³¨é‡Šå¹¶å°†å…¶å€¼æ”¹ä¸º
`'*'`
ï¼š

```plain
listen_addresses = '*'

```

1. ä¿®æ”¹
   `pg_hba.conf`
   æ–‡ä»¶ï¼š

```bash
sudo vim /etc/postgresql/15/main/pg_hba.conf

```

åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä»¥ä¸‹è¡Œä»¥å…è®¸æ‰€æœ‰ IP è¿æ¥ï¼š

```plain
host    all             all             0.0.0.0/0               md5

```

1. é‡å¯ PostgreSQL æœåŠ¡ä»¥åº”ç”¨æ›´æ”¹ï¼š

```bash
sudo systemctl restart postgresql

```

#### 5.3 é…ç½®é˜²ç«å¢™

å¦‚æœç³»ç»Ÿå¯ç”¨äº†é˜²ç«å¢™ï¼Œéœ€è¦å…è®¸ PostgreSQL çš„é»˜è®¤ç«¯å£ï¼ˆ5432ï¼‰é€šè¿‡ï¼š

```bash
sudo ufw allow 5432

```

---

### 6. ç™»å½• PostgreSQL

å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤åˆ‡æ¢åˆ°
`postgres`
ç”¨æˆ·å¹¶ç™»å½•åˆ° PostgreSQLï¼š

```bash
sudo -u postgres psql

```

åœ¨ PostgreSQL æç¤ºç¬¦ä¸‹ï¼Œå¯ä»¥æ‰§è¡Œ SQL å‘½ä»¤è¿›è¡Œæ•°æ®åº“æ“ä½œã€‚

![](https://img-blog.csdnimg.cn/img_convert/760abeb2442685ce4545a460c03334d5.gif)

## äºŒã€å®‰è£…PGVectoræ’ä»¶

### 1. å®‰è£… PGVector æ’ä»¶

PGVector æ˜¯ä¸€ä¸ª PostgreSQL æ‰©å±•ï¼Œæ”¯æŒå‘é‡å­˜å‚¨å’Œå¤šç§è·ç¦»è®¡ç®—ã€‚å®‰è£…æ­¥éª¤å¦‚ä¸‹ï¼š

```bash
sudo apt -y install postgresql-15-pgvector

```

---

### 2. é…ç½® PGVector

å®‰è£…å®Œæˆåï¼Œéœ€è¦åœ¨ PostgreSQL æ•°æ®åº“ä¸­å¯ç”¨ PGVector æ’ä»¶ã€‚ä»¥ä¸‹æ˜¯å…·ä½“æ­¥éª¤ï¼š

#### 2.1 è¿›å…¥ PostgreSQL å‘½ä»¤è¡Œ

åˆ‡æ¢åˆ° PostgreSQL ç”¨æˆ·å¹¶è¿›å…¥å‘½ä»¤è¡Œï¼š

```bash
sudo -u postgres psql

```

#### 2.2 å¯ç”¨ PGVector æ’ä»¶

åœ¨ PostgreSQL å‘½ä»¤è¡Œä¸­ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤å¯ç”¨ PGVector æ’ä»¶ï¼š

```sql
CREATE EXTENSION IF NOT EXISTS vector;

```

#### 2.3 æŸ¥çœ‹æ’ä»¶çŠ¶æ€

å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å·²å®‰è£…çš„æ‰©å±•åŠå…¶çŠ¶æ€ï¼š

```sql
-- æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„æ‰©å±•
SELECT * FROM pg_available_extensions;

-- æŸ¥çœ‹å½“å‰æ•°æ®åº“å®ä¾‹ä¸­å·²å®‰è£…å’Œå¯ç”¨çš„æ‰©å±•
SELECT * FROM pg_extension;

```

![](https://img-blog.csdnimg.cn/img_convert/760abeb2442685ce4545a460c03334d5.gif)

![](https://img-blog.csdnimg.cn/img_convert/4c035e87ab8e06b29fd76f2b06560c2c.gif)