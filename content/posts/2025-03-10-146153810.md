---
layout: post
title: "PostgreSQL-Ubuntu-ç³»ç»Ÿä¸‹PG15çš„å®‰è£…ä¸-PGVector-é…ç½®æŒ‡å—"
date: 2025-03-10 14:21:07 +0800
description: "ğŸš€ æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†å¦‚ä½•åœ¨ Ubuntu ä¸Šå®‰è£… PostgreSQL 15 æ•°æ®åº“ï¼Œå¹¶é…ç½® PGVector æ’ä»¶ï¼ŒåŠ©åŠ›æœºå™¨å­¦ä¹ å’Œæ•°æ®åˆ†æã€‚"
keywords: "ã€PostgreSQLã€ Ubuntu ç³»ç»Ÿä¸‹PG15çš„å®‰è£…ä¸ PGVector é…ç½®æŒ‡å—"
categories: ['æ¶æ„ç²¾ç ”', 'Postgresql', 'Ai']
tags: ['æ•°æ®åº“', 'Ubuntu', 'Postgresql']
artid: "146153810"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146153810
    alt: "PostgreSQL-Ubuntu-ç³»ç»Ÿä¸‹PG15çš„å®‰è£…ä¸-PGVector-é…ç½®æŒ‡å—"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146153810
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146153810
cover: https://bing.ee123.net/img/rand?artid=146153810
image: https://bing.ee123.net/img/rand?artid=146153810
img: https://bing.ee123.net/img/rand?artid=146153810
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     ã€PostgreSQLã€ Ubuntu ç³»ç»Ÿä¸‹PG15çš„å®‰è£…ä¸ PGVector é…ç½®æŒ‡å—
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     <img alt="" src="https://img-blog.csdnimg.cn/img_convert/977f67705d2beada1e90a652d5c3fc82.gif"/>
    </p>
    <p>
     <img alt="" src="https://img-blog.csdnimg.cn/img_convert/760abeb2442685ce4545a460c03334d5.gif"/>
    </p>
    <p>
     ğŸ“£è¯»å®Œè¿™ç¯‡æ–‡ç« é‡Œä½ èƒ½æ”¶è·åˆ°
    </p>
    <ol>
     <li>
      ğŸ“¦ å­¦ä¼šå¦‚ä½•åœ¨ Ubuntu ä¸Šå®‰è£…æœ€æ–°çš„ PostgreSQL 15 æ•°æ®åº“ã€‚
     </li>
     <li>
      ğŸ”‘ æŒæ¡ä¿®æ”¹ PostgreSQL ç®¡ç†å‘˜å¯†ç å’Œé…ç½®è¿œç¨‹è¿æ¥çš„æ–¹æ³•ã€‚
     </li>
     <li>
      ğŸŒ äº†è§£å¦‚ä½•å¯ç”¨ PGVector æ’ä»¶ï¼Œå®ç°å‘é‡å­˜å‚¨å’Œå¤šç§è·ç¦»è®¡ç®—ã€‚
     </li>
     <li>
      ğŸ› ï¸ å­¦ä¹  PostgreSQL çš„åŸºæœ¬é…ç½®ï¼ŒåŒ…æ‹¬é˜²ç«å¢™è®¾ç½®å’Œæ‰©å±•å®‰è£…ã€‚
     </li>
    </ol>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/img_convert/129deb4e9670e20ffa85996c7145ffbd.gif"/>
    </p>
    <p>
    </p>
    <br/>
    <img alt="" src="https://img-blog.csdnimg.cn/img_convert/760abeb2442685ce4545a460c03334d5.gif">
     <p>
     </p>
     <p>
      <img alt="" src="https://i-blog.csdnimg.cn/img_convert/129deb4e9670e20ffa85996c7145ffbd.gif"/>
     </p>
     <h2>
      <a id="font_stylecolorrgb6_6_7font_20">
      </a>
      å‰è¨€
     </h2>
     <p>
      æœ¬æ–‡ä¸ºå¼€å‘è€…æä¾›äº†ä¸€ä»½è¯¦ç»†çš„æŒ‡å—ï¼Œä»‹ç»äº†å¦‚ä½•åœ¨ Ubuntu ç³»ç»Ÿä¸Šå®‰è£… PostgreSQL 15 æ•°æ®åº“ï¼Œå¹¶é…ç½® PGVector æ’ä»¶ã€‚ä»æ›´æ–°ç³»ç»Ÿè½¯ä»¶åŒ…ã€æ·»åŠ å®˜æ–¹ä»“åº“ï¼Œåˆ°å®‰è£… PostgreSQLã€ä¿®æ”¹ç®¡ç†å‘˜å¯†ç ã€å…è®¸è¿œç¨‹è¿æ¥ï¼Œå†åˆ°å®‰è£…å’Œå¯ç”¨ PGVector æ’ä»¶ï¼Œæ¯ä¸€æ­¥éƒ½é…æœ‰æ¸…æ™°çš„å‘½ä»¤å’Œè¯´æ˜ã€‚é€šè¿‡è¿™äº›æ­¥éª¤ï¼Œè¯»è€…å¯ä»¥å¿«é€Ÿæ­å»ºä¸€ä¸ªæ”¯æŒå‘é‡å­˜å‚¨å’ŒæŸ¥è¯¢çš„ PostgreSQL ç¯å¢ƒï¼Œä¸ºæœºå™¨å­¦ä¹ å’Œæ•°æ®åˆ†æé¡¹ç›®æ‰“ä¸‹åšå®åŸºç¡€ã€‚
     </p>
     <p>
      <img alt="" src="https://img-blog.csdnimg.cn/img_convert/760abeb2442685ce4545a460c03334d5.gif"/>
     </p>
     <h2>
      <a id="PostgreSQL_25">
      </a>
      ä¸€ã€å®‰è£…PostgreSQL
     </h2>
     <h3>
      <a id="font_stylecolorrgb6_6_71_font_26">
      </a>
      1. æ›´æ–°ç³»ç»Ÿè½¯ä»¶åŒ…
     </h3>
     <p>
      åœ¨å®‰è£… PostgreSQL ä¹‹å‰ï¼Œå»ºè®®å…ˆæ›´æ–°ç³»ç»Ÿè½¯ä»¶åŒ…ï¼Œç¡®ä¿ç³»ç»Ÿå¤„äºæœ€æ–°çŠ¶æ€ï¼š
     </p>
     <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token function">sudo</span> <span class="token function">apt</span> upgrade <span class="token parameter variable">-y</span>
</code></pre>
     <hr/>
     <h3>
      <a id="font_stylecolorrgb6_6_72__PostgreSQL_font_36">
      </a>
      2. æ·»åŠ  PostgreSQL å®˜æ–¹ä»“åº“
     </h3>
     <p>
      Ubuntu é»˜è®¤ä»“åº“ä¸­çš„ PostgreSQL ç‰ˆæœ¬å¯èƒ½ä¸æ˜¯æœ€æ–°çš„ã€‚ä¸ºäº†å®‰è£… PostgreSQL 15ï¼Œéœ€è¦æ·»åŠ å®˜æ–¹çš„ PostgreSQL ä»“åº“ï¼š
     </p>
     <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">sh</span> <span class="token parameter variable">-c</span> <span class="token string">'echo "deb http://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)-pgdg main" &gt; /etc/apt/sources.list.d/pgdg.list'</span>
<span class="token function">wget</span> <span class="token parameter variable">--quiet</span> <span class="token parameter variable">-O</span> - https://www.postgresql.org/media/keys/ACCC4CF8.asc <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -
</code></pre>
     <hr/>
     <h3>
      <a id="font_stylecolorrgb6_6_73__PostgreSQL_15font_46">
      </a>
      3. å®‰è£… PostgreSQL 15
     </h3>
     <p>
      æ·»åŠ ä»“åº“åï¼Œæ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨å¹¶å®‰è£… PostgreSQL 15ï¼š
     </p>
     <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> postgresql-15 postgresql-client-15
</code></pre>
     <hr/>
     <h3>
      <a id="font_stylecolorrgb6_6_74_font_56">
      </a>
      4. éªŒè¯å®‰è£…
     </h3>
     <p>
      å®‰è£…å®Œæˆåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤éªŒè¯ PostgreSQL æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š
     </p>
     <pre><code class="prism language-bash"><span class="token function">sudo</span> systemctl status postgresql
</code></pre>
     <p>
      å¦‚æœæœåŠ¡å·²å¯åŠ¨ï¼Œè¾“å‡ºåº”æ˜¾ç¤ºä¸º
      <code>
       active (running)
      </code>
      ã€‚
     </p>
     <p>
      æ­¤å¤–ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ PostgreSQL çš„ç‰ˆæœ¬ï¼š
     </p>
     <pre><code class="prism language-bash">psql <span class="token parameter variable">--version</span>
</code></pre>
     <p>
      è¾“å‡ºåº”æ˜¾ç¤ºä¸º
      <code>
       psql (PostgreSQL) 15.x
      </code>
      ã€‚
     </p>
     <hr/>
     <h3>
      <a id="font_stylecolorrgb6_6_75__PostgreSQLfont_75">
      </a>
      5. é…ç½® PostgreSQL
     </h3>
     <h4>
      <a id="font_stylecolorrgb6_6_751_font_76">
      </a>
      5.1 ä¿®æ”¹ç®¡ç†å‘˜ç”¨æˆ·å¯†ç 
     </h4>
     <p>
      é»˜è®¤æƒ…å†µä¸‹ï¼ŒPostgreSQL åˆ›å»ºäº†ä¸€ä¸ªåä¸º
      <code>
       postgres
      </code>
      çš„ç”¨æˆ·ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤ä¿®æ”¹å…¶å¯†ç ï¼š
     </p>
     <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token parameter variable">-u</span> postgres psql
ALTER <span class="token environment constant">USER</span> postgres WITH PASSWORD <span class="token string">'your_new_password'</span><span class="token punctuation">;</span>
<span class="token punctuation">\</span>q
</code></pre>
     <h4>
      <a id="font_stylecolorrgb6_6_752font_85">
      </a>
      5.2å…è®¸è¿œç¨‹è¿æ¥
     </h4>
     <p>
      é»˜è®¤æƒ…å†µä¸‹ï¼ŒPostgreSQL åªå…è®¸æœ¬åœ°è¿æ¥ã€‚å¦‚æœéœ€è¦å…è®¸è¿œç¨‹è¿æ¥ï¼Œéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š
     </p>
     <ol>
      <li>
       ä¿®æ”¹
       <code>
        postgresql.conf
       </code>
       æ–‡ä»¶ï¼š
      </li>
     </ol>
     <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/postgresql/15/main/postgresql.conf
</code></pre>
     <p>
      æ‰¾åˆ°
      <code>
       listen_addresses
      </code>
      ï¼Œå–æ¶ˆæ³¨é‡Šå¹¶å°†å…¶å€¼æ”¹ä¸º
      <code>
       '*'
      </code>
      ï¼š
     </p>
     <pre><code class="prism language-plain">listen_addresses = '*'
</code></pre>
     <ol>
      <li>
       ä¿®æ”¹
       <code>
        pg_hba.conf
       </code>
       æ–‡ä»¶ï¼š
      </li>
     </ol>
     <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/postgresql/15/main/pg_hba.conf
</code></pre>
     <p>
      åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä»¥ä¸‹è¡Œä»¥å…è®¸æ‰€æœ‰ IP è¿æ¥ï¼š
     </p>
     <pre><code class="prism language-plain">host    all             all             0.0.0.0/0               md5
</code></pre>
     <ol>
      <li>
       é‡å¯ PostgreSQL æœåŠ¡ä»¥åº”ç”¨æ›´æ”¹ï¼š
      </li>
     </ol>
     <pre><code class="prism language-bash"><span class="token function">sudo</span> systemctl restart postgresql
</code></pre>
     <h4>
      <a id="font_stylecolorrgb6_6_753_font_120">
      </a>
      5.3 é…ç½®é˜²ç«å¢™
     </h4>
     <p>
      å¦‚æœç³»ç»Ÿå¯ç”¨äº†é˜²ç«å¢™ï¼Œéœ€è¦å…è®¸ PostgreSQL çš„é»˜è®¤ç«¯å£ï¼ˆ5432ï¼‰é€šè¿‡ï¼š
     </p>
     <pre><code class="prism language-bash"><span class="token function">sudo</span> ufw allow <span class="token number">5432</span>
</code></pre>
     <hr/>
     <h3>
      <a id="font_stylecolorrgb6_6_76__PostgreSQLfont_129">
      </a>
      6. ç™»å½• PostgreSQL
     </h3>
     <p>
      å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤åˆ‡æ¢åˆ°
      <code>
       postgres
      </code>
      ç”¨æˆ·å¹¶ç™»å½•åˆ° PostgreSQLï¼š
     </p>
     <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token parameter variable">-u</span> postgres psql
</code></pre>
     <p>
      åœ¨ PostgreSQL æç¤ºç¬¦ä¸‹ï¼Œå¯ä»¥æ‰§è¡Œ SQL å‘½ä»¤è¿›è¡Œæ•°æ®åº“æ“ä½œã€‚
     </p>
     <p>
      <img alt="" src="https://img-blog.csdnimg.cn/img_convert/760abeb2442685ce4545a460c03334d5.gif"/>
     </p>
     <h2>
      <a id="PGVector_142">
      </a>
      äºŒã€å®‰è£…PGVectoræ’ä»¶
     </h2>
     <h3>
      <a id="font_stylecolorrgb6_6_71__PGVector_font_143">
      </a>
      1. å®‰è£… PGVector æ’ä»¶
     </h3>
     <p>
      PGVector æ˜¯ä¸€ä¸ª PostgreSQL æ‰©å±•ï¼Œæ”¯æŒå‘é‡å­˜å‚¨å’Œå¤šç§è·ç¦»è®¡ç®—ã€‚å®‰è£…æ­¥éª¤å¦‚ä¸‹ï¼š
     </p>
     <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token parameter variable">-y</span> <span class="token function">install</span> postgresql-15-pgvector
</code></pre>
     <hr/>
     <h3>
      <a id="font_stylecolorrgb6_6_72__PGVectorfont_152">
      </a>
      2. é…ç½® PGVector
     </h3>
     <p>
      å®‰è£…å®Œæˆåï¼Œéœ€è¦åœ¨ PostgreSQL æ•°æ®åº“ä¸­å¯ç”¨ PGVector æ’ä»¶ã€‚ä»¥ä¸‹æ˜¯å…·ä½“æ­¥éª¤ï¼š
     </p>
     <h4>
      <a id="font_stylecolorrgb6_6_721__PostgreSQL_font_155">
      </a>
      2.1 è¿›å…¥ PostgreSQL å‘½ä»¤è¡Œ
     </h4>
     <p>
      åˆ‡æ¢åˆ° PostgreSQL ç”¨æˆ·å¹¶è¿›å…¥å‘½ä»¤è¡Œï¼š
     </p>
     <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token parameter variable">-u</span> postgres psql
</code></pre>
     <h4>
      <a id="font_stylecolorrgb6_6_722__PGVector_font_162">
      </a>
      2.2 å¯ç”¨ PGVector æ’ä»¶
     </h4>
     <p>
      åœ¨ PostgreSQL å‘½ä»¤è¡Œä¸­ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤å¯ç”¨ PGVector æ’ä»¶ï¼š
     </p>
     <pre><code class="prism language-sql"><span class="token keyword">CREATE</span> EXTENSION <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> vector<span class="token punctuation">;</span>
</code></pre>
     <h4>
      <a id="font_stylecolorrgb6_6_723_font_169">
      </a>
      2.3 æŸ¥çœ‹æ’ä»¶çŠ¶æ€
     </h4>
     <p>
      å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å·²å®‰è£…çš„æ‰©å±•åŠå…¶çŠ¶æ€ï¼š
     </p>
     <pre><code class="prism language-sql"><span class="token comment">-- æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„æ‰©å±•</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> pg_available_extensions<span class="token punctuation">;</span>

<span class="token comment">-- æŸ¥çœ‹å½“å‰æ•°æ®åº“å®ä¾‹ä¸­å·²å®‰è£…å’Œå¯ç”¨çš„æ‰©å±•</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> pg_extension<span class="token punctuation">;</span>
</code></pre>
     <p>
      <img alt="" src="https://img-blog.csdnimg.cn/img_convert/760abeb2442685ce4545a460c03334d5.gif"/>
     </p>
     <p>
      <img alt="" src="https://img-blog.csdnimg.cn/img_convert/4c035e87ab8e06b29fd76f2b06560c2c.gif"/>
     </p>
    </img>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f33343230323837332f:61727469636c652f64657461696c732f313436313533383130" class_="artid" style="display:none">
 </p>
</div>


