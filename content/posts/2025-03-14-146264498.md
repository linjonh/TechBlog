---
layout: post
title: "Javaé«˜çº§-04.åå°„-è·å–æˆå‘˜å˜é‡å’Œæ–¹æ³•å¯¹è±¡å¹¶ä½¿ç”¨"
date: 2025-03-14 20:21:47 +0800
description: "ã€ä»£ç ã€‘Javaé«˜çº§-04.åå°„-è·å–æˆå‘˜å˜é‡å’Œæ–¹æ³•å¯¹è±¡å¹¶ä½¿ç”¨ã€‚"
keywords: "Javaé«˜çº§-04.åå°„-è·å–æˆå‘˜å˜é‡å’Œæ–¹æ³•å¯¹è±¡å¹¶ä½¿ç”¨"
categories: ['Javase']
tags: ['å¼€å‘è¯­è¨€', 'åå°„', 'Javase', 'Java']
artid: "146264498"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146264498
    alt: "Javaé«˜çº§-04.åå°„-è·å–æˆå‘˜å˜é‡å’Œæ–¹æ³•å¯¹è±¡å¹¶ä½¿ç”¨"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146264498
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146264498
cover: https://bing.ee123.net/img/rand?artid=146264498
image: https://bing.ee123.net/img/rand?artid=146264498
img: https://bing.ee123.net/img/rand?artid=146264498
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Javaé«˜çº§-04.åå°„-è·å–æˆå‘˜å˜é‡å’Œæ–¹æ³•å¯¹è±¡å¹¶ä½¿ç”¨
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2>
     ä¸€.è·å–ç±»çš„æˆå‘˜å˜é‡
    </h2>
    <pre><code class="language-java">package com.njau.d2_reflect;



public class Cat {
    public static int a;
    public static final String COUNTRY = "ä¸­å›½";
    private String name;
    private int age;

    public Cat(String name, int age) {
        System.out.println("æœ‰å‚æ•°æ„é€ å™¨æ‰§è¡Œäº†ï¼");
        this.name = name;
        this.age = age;
    }

    public Cat() {
        System.out.println("æ— å‚æ„é€ å™¨æ‰§è¡Œäº†ï¼");
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    @Override
    public String toString() {
        return "Cat{" +
                "name='" + name + '\'' +
                ", age=" + age +
                '}';
    }
}
</code></pre>
    <p>
     <img alt="" height="601" src="https://i-blog.csdnimg.cn/direct/d1980ca462f148f68d5e89632eb783d6.png" width="1405"/>
    </p>
    <h4>
     * public Field[] getFields() Â  è·å–ç±»çš„å…¨éƒ¨æˆå‘˜å˜é‡ï¼ˆåªèƒ½è·å–publicä¿®é¥°çš„ï¼‰
     <br/>
     * public Field[] getDeclaredFields() Â è·å–ç±»çš„å…¨éƒ¨æˆå‘˜å˜é‡ï¼ˆåªè¦å­˜åœ¨å°±èƒ½æ‹¿åˆ°ï¼‰
     <br/>
     * public Field getField() Â  è·å–ç±»çš„æŸä¸ªæˆå‘˜å˜é‡ï¼ˆåªèƒ½è·å–publicä¿®é¥°çš„ï¼‰
     <br/>
     * public Field getDeclaredField() Â è·å–ç±»çš„å…¨éƒ¨æˆå‘˜å˜é‡ï¼ˆåªè¦å­˜åœ¨å°±èƒ½æ‹¿åˆ°ï¼‰
    </h4>
    <h4>
     è¿”å›å›æ¥çš„æ˜¯ä¸€ä¸ªFiledç±»å‹çš„å¯¹è±¡ã€‚å¯ä»¥ä½¿ç”¨æ•°ç»„æ¥æ”¶å¤šä¸ªã€‚
    </h4>
    <pre><code class="language-java">package com.njau.d2_reflect;

import org.junit.Test;

import java.lang.reflect.Field;

/**
 * ç›®æ ‡ï¼šæŒæ¡è·å–ç±»çš„æˆå‘˜å˜é‡
 * Classæä¾›äº†ä»ç±»ä¸­è·å–æˆå‘˜å˜é‡çš„æ–¹æ³•
 * public Field[] getFields()   è·å–ç±»çš„å…¨éƒ¨æˆå‘˜å˜é‡ï¼ˆåªèƒ½è·å–publicä¿®é¥°çš„ï¼‰
 * public Field[] getDeclaredFields()  è·å–ç±»çš„å…¨éƒ¨æˆå‘˜å˜é‡ï¼ˆåªè¦å­˜åœ¨å°±èƒ½æ‹¿åˆ°ï¼‰
 * public Field getField(String name)   è·å–ç±»çš„æŸä¸ªæˆå‘˜å˜é‡ï¼ˆåªèƒ½è·å–publicä¿®é¥°çš„ï¼‰
 * public Field getDeclaredField(String name)  è·å–ç±»çš„å…¨éƒ¨æˆå‘˜å˜é‡ï¼ˆåªè¦å­˜åœ¨å°±èƒ½æ‹¿åˆ°ï¼‰
 * è·å–åˆ°æˆå‘˜å˜é‡çš„ä½œç”¨ï¼šä¾ç„¶æ˜¯èµ‹å€¼ï¼Œå–å€¼
 * void set(Object obj,Object value)   èµ‹å€¼
 * Object get(Object obj)   å–å€¼
 * public void setAccessible(boolean flag)   è®¾ç½®ä¸ºtrueï¼Œè¡¨ç¤ºç¦æ­¢æ£€æŸ¥è®¿é—®æ§åˆ¶ï¼ˆæš´åŠ›åå°„ï¼‰
 */

public class Test3Field {
    @Test
    public void testGetFields() throws Exception {
        // 1ã€åå°„ç¬¬ä¸€æ­¥ï¼šé¦–å…ˆè·å–åˆ°ç±»Classå¯¹è±¡
        Class c = Cat.class;

        // 2ã€public Field[] getFields()   è·å–ç±»çš„å…¨éƒ¨æˆå‘˜å˜é‡ï¼ˆåªèƒ½è·å–publicä¿®é¥°çš„ï¼‰
//        Field[] fields = c.getFields();
        Field[] fields = c.getDeclaredFields();    // è·å–ç±»çš„å…¨éƒ¨æˆå‘˜å˜é‡ï¼ˆåªè¦å­˜åœ¨å°±èƒ½æ‹¿åˆ°ï¼‰

        for (Field field : fields) {
            System.out.println(field.getName() + "---&gt;" + field.getType());
        }

        // 3ã€public Field getField(String name)   è·å–ç±»çš„æŸä¸ªæˆå‘˜å˜é‡ï¼ˆåªèƒ½è·å–publicä¿®é¥°çš„ï¼‰
        Field fName = c.getDeclaredField("name");
        System.out.println(fName.getName() + "---&gt;" + fName.getType());    // name---&gt;class java.lang.String

        // 4ã€public Field getDeclaredField(String name)  è·å–ç±»çš„æŸä¸ªæˆå‘˜å˜é‡ï¼ˆåªè¦å­˜åœ¨å°±èƒ½æ‹¿åˆ°ï¼‰
        Field fAge = c.getDeclaredField("age");
        System.out.println(fAge.getName() + "---&gt;" + fAge.getType());   // age---&gt;int
    }
}
</code></pre>
    <p>
     <img alt="" height="345" src="https://i-blog.csdnimg.cn/direct/0d560780edd14716bc5f9cb73c8c0260.png" width="1104"/>
    </p>
    <h4>
     è·å–æˆå‘˜å˜é‡çš„ä½œç”¨ï¼šä¾ç„¶æ˜¯èµ‹å€¼ã€å–å€¼
     <img alt="" height="416" src="https://i-blog.csdnimg.cn/direct/35f4e8ac1d5f4c0b81b23c4a3a0bd93d.png" width="1405"/>
    </h4>
    <h4>
     ä½¿ç”¨setè¿›è¡Œèµ‹å€¼ï¼Œä½†æ˜¯èµ‹å€¼æ—¶å¿…é¡»è¦åˆ›å»ºå‡ºè¯¥ç±»çš„å®ä¾‹åŒ–å¯¹è±¡ï¼Œå¦åˆ™è¿™ä¸ªå€¼åˆèµ‹ç»™è°å‘¢ï¼ŸåŒæ ·çš„ï¼Œä½¿ç”¨getæ–¹æ³•æ—¶ä¹Ÿè¦ä¼ å…¥è¯¥ç±»çš„å®ä¾‹åŒ–å¯¹è±¡ï¼Œå¦åˆ™ä¸çŸ¥é“è·å–å“ªä¸ªå¯¹è±¡çš„æˆå‘˜å˜é‡å€¼ã€‚
    </h4>
    <h4>
     æ³¨æ„ï¼šæˆ‘ä»¬åœ¨è·å¾—æ„é€ å™¨å’Œæˆå‘˜å˜é‡çš„æ—¶å€™å‡ä¸ç”¨setAccessibleæ–¹æ³•ï¼Œè€Œæ˜¯åœ¨
     <span style="color:#fe2c24">
      ä½¿ç”¨
     </span>
     æ„é€ å™¨å®ä¾‹åŒ–å¯¹è±¡å’Œä½¿ç”¨æˆå‘˜å˜é‡èµ‹å€¼çš„æ—¶å€™ï¼Œå¯¹äºç§æœ‰çš„æ„é€ å™¨å’Œæˆå‘˜å˜é‡æ‰è¦ä½¿ç”¨setAccessibleæ–¹æ³•ã€‚æˆå‘˜æ–¹æ³•ä¹Ÿå’Œä¸Šè¿°ä¸€æ ·ã€‚
    </h4>
    <pre><code class="language-java">package com.njau.d2_reflect;

import org.junit.Test;

import java.lang.reflect.Field;

/**
 * ç›®æ ‡ï¼šæŒæ¡è·å–ç±»çš„æˆå‘˜å˜é‡
 * Classæä¾›äº†ä»ç±»ä¸­è·å–æˆå‘˜å˜é‡çš„æ–¹æ³•
 * public Field[] getFields()   è·å–ç±»çš„å…¨éƒ¨æˆå‘˜å˜é‡ï¼ˆåªèƒ½è·å–publicä¿®é¥°çš„ï¼‰
 * public Field[] getDeclaredFields()  è·å–ç±»çš„å…¨éƒ¨æˆå‘˜å˜é‡ï¼ˆåªè¦å­˜åœ¨å°±èƒ½æ‹¿åˆ°ï¼‰
 * public Field getField()   è·å–ç±»çš„æŸä¸ªæˆå‘˜å˜é‡ï¼ˆåªèƒ½è·å–publicä¿®é¥°çš„ï¼‰
 * public Field getDeclaredField()  è·å–ç±»çš„å…¨éƒ¨æˆå‘˜å˜é‡ï¼ˆåªè¦å­˜åœ¨å°±èƒ½æ‹¿åˆ°ï¼‰
 * è·å–åˆ°æˆå‘˜å˜é‡çš„ä½œç”¨ï¼šä¾ç„¶æ˜¯èµ‹å€¼ï¼Œå–å€¼
 * void set(Object obj,Object value)   èµ‹å€¼
 * Object get(Object obj)   å–å€¼
 * public void setAccessible(boolean flag)   è®¾ç½®ä¸ºtrueï¼Œè¡¨ç¤ºç¦æ­¢æ£€æŸ¥è®¿é—®æ§åˆ¶ï¼ˆæš´åŠ›åå°„ï¼‰
 */

public class Test3Field {
    @Test
    public void testGetFields() throws Exception {
        // 1ã€åå°„ç¬¬ä¸€æ­¥ï¼šé¦–å…ˆè·å–åˆ°ç±»Classå¯¹è±¡
        Class c = Cat.class;

        // 2ã€public Field[] getFields()   è·å–ç±»çš„å…¨éƒ¨æˆå‘˜å˜é‡ï¼ˆåªèƒ½è·å–publicä¿®é¥°çš„ï¼‰
//        Field[] fields = c.getFields();
        Field[] fields = c.getDeclaredFields();    // è·å–ç±»çš„å…¨éƒ¨æˆå‘˜å˜é‡ï¼ˆåªè¦å­˜åœ¨å°±èƒ½æ‹¿åˆ°ï¼‰

        for (Field field : fields) {
            System.out.println(field.getName() + "---&gt;" + field.getType());
        }

        // 3ã€public Field getField(String name)   è·å–ç±»çš„æŸä¸ªæˆå‘˜å˜é‡ï¼ˆåªèƒ½è·å–publicä¿®é¥°çš„ï¼‰
        Field fName = c.getDeclaredField("name");
        System.out.println(fName.getName() + "---&gt;" + fName.getType());    // name---&gt;class java.lang.String

        // 4ã€public Field getDeclaredField(String name)  è·å–ç±»çš„æŸä¸ªæˆå‘˜å˜é‡ï¼ˆåªè¦å­˜åœ¨å°±èƒ½æ‹¿åˆ°ï¼‰
        Field fAge = c.getDeclaredField("age");
        System.out.println(fAge.getName() + "---&gt;" + fAge.getType());   // age---&gt;int
    }

    @Test
    public void testSetAndGet() throws Exception {
        Class c = Cat.class;
        Cat cat = new Cat();
//        è·å–æŸä¸ªç±»çš„æˆå‘˜å˜é‡
        Field fName = c.getDeclaredField("name");
//        public void setAccessible(boolean flag)   è®¾ç½®ä¸ºtrueï¼Œè¡¨ç¤ºç¦æ­¢æ£€æŸ¥è®¿é—®æ§åˆ¶ï¼ˆæš´åŠ›åå°„ï¼‰
        fName.setAccessible(true);   // ç¦æ­¢è®¿é—®æ§åˆ¶æƒé™
//        void set(Object obj,Object value)   èµ‹å€¼
        fName.set(cat, "æ‹›è´¢çŒ«");
//        Object get(Object obj)   å–å€¼
        String name = (String) fName.get(cat);
        System.out.println(name);
        System.out.println(cat);

        Field fAge = c.getDeclaredField("age");
//        public void setAccessible(boolean flag)   è®¾ç½®ä¸ºtrueï¼Œè¡¨ç¤ºç¦æ­¢æ£€æŸ¥è®¿é—®æ§åˆ¶ï¼ˆæš´åŠ›åå°„ï¼‰
        fAge.setAccessible(true);
//        void set(Object obj,Object value)   èµ‹å€¼
        fAge.set(cat,3);
//        Object get(Object obj)   å–å€¼
        int age = (int) fAge.get(cat);
        System.out.println(age);
        System.out.println(cat);
    }
}
</code></pre>
    <h4>
     è°ƒç”¨getæ–¹æ³•æ—¶å¹¶ä¸çŸ¥é“è¿”å›çš„æˆå‘˜å˜é‡ç±»å‹ï¼Œå› æ­¤javaå®˜æ–¹ä¸ºæˆ‘ä»¬è®¾å®šäº†Objectç±»å‹ã€‚ä½†æ˜¯æˆ‘ä»¬è¦å°†å…¶è¿›è¡Œå¼ºåˆ¶è½¬æ¢ã€‚
     <img alt="" height="131" src="https://i-blog.csdnimg.cn/direct/19c93dd4cd0a49b6a0fdb5d8eb6c877c.png" width="410"/>
    </h4>
    <h2>
     äºŒ.è·å–ç±»çš„æˆå‘˜æ–¹æ³•
    </h2>
    <pre><code class="language-java">package com.njau.d2_reflect;



public class Cat {
    public static int a;
    public static final String COUNTRY = "ä¸­å›½";
    private String name;
    private int age;

    public Cat(String name, int age) {
        System.out.println("æœ‰å‚æ•°æ„é€ å™¨æ‰§è¡Œäº†ï¼");
        this.name = name;
        this.age = age;
    }

    public Cat() {
        System.out.println("æ— å‚æ„é€ å™¨æ‰§è¡Œäº†ï¼");
    }

    public String getName() {
        return name;
    }

    private void run() {
        System.out.println("ğŸ±è·‘çš„è´¼å¿«~~");
    }

    public void eat() {
        System.out.println("ğŸ±çˆ±åƒçŒ«ç²®~~");
    }

    // æ–¹æ³•çš„é‡è½½
    private String eat(String name) {
        return "ğŸ±çˆ±åƒ" + name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    @Override
    public String toString() {
        return "Cat{" +
                "name='" + name + '\'' +
                ", age=" + age +
                '}';
    }
}
</code></pre>
    <p>
     <img alt="" height="616" src="https://i-blog.csdnimg.cn/direct/57a10ed3f549486ba28e6a8e477d150d.png" width="1776"/>
    </p>
    <h4>
     * Method[] getMethods() Â  è·å–ç±»çš„å…¨éƒ¨æˆå‘˜æ–¹æ³•ï¼ˆåªèƒ½è·å–publicä¿®é¥°çš„ï¼‰
     <br/>
     * Method[] getDeclaredMethods() Â  è·å–ç±»çš„å…¨éƒ¨æˆå‘˜æ–¹æ³•ï¼ˆåªè¦å­˜åœ¨å°±èƒ½è·å–ï¼‰
     <br/>
     * Method[] getMethod(String name,Class&lt;?&gt; ... parameterTypes) Â  è·å–ç±»çš„æŸä¸ªæˆå‘˜æ–¹æ³•ï¼ˆåªèƒ½è·å–publicä¿®é¥°çš„ï¼‰
     <br/>
     * Method[] getDeclaredMethod(String name,Class&lt;?&gt; ... parameterTypes) Â  è·å–ç±»çš„æŸä¸ªæˆå‘˜æ–¹æ³•ï¼ˆåªè¦å­˜åœ¨å°±èƒ½è·å–ï¼‰
    </h4>
    <h4>
     é¦–å…ˆæˆ‘ä»¬è¦è·å–ç±»çš„æˆå‘˜æ–¹æ³•ï¼Œå°±è¦å…ˆè·å–ç±»å¯¹è±¡ã€‚å› æ­¤åå°„çš„ç¬¬ä¸€æ­¥æ°¸è¿œéƒ½æ˜¯è·å–ç±»å¯¹è±¡ã€‚
    </h4>
    <pre><code class="language-java">package com.njau.d2_reflect;

import org.junit.Test;

import java.lang.reflect.Method;

/**
 * ç›®æ ‡ï¼šè·å–ç±»çš„æˆå‘˜æ–¹æ³•
 * Method[] getMethods()   è·å–ç±»çš„å…¨éƒ¨æˆå‘˜æ–¹æ³•ï¼ˆåªèƒ½è·å–publicä¿®é¥°çš„ï¼‰
 * Method[] getDeclaredMethods()   è·å–ç±»çš„å…¨éƒ¨æˆå‘˜æ–¹æ³•ï¼ˆåªè¦å­˜åœ¨å°±èƒ½è·å–ï¼‰
 * Method[] getMethod(String name,Class&lt;?&gt; ... parameterTypes)   è·å–ç±»çš„æŸä¸ªæˆå‘˜æ–¹æ³•ï¼ˆåªèƒ½è·å–publicä¿®é¥°çš„ï¼‰
 * Method[] getDeclaredMethod(String name,Class&lt;?&gt; ... parameterTypes)   è·å–ç±»çš„æŸä¸ªæˆå‘˜æ–¹æ³•ï¼ˆåªè¦å­˜åœ¨å°±èƒ½è·å–ï¼‰
 * æˆå‘˜æ–¹æ³•çš„ä½œç”¨ï¼šä¾ç„¶æ˜¯æ‰§è¡Œ
 * public Object invoke(Object obj, Object ... args)   å‡ºå‘æŸä¸ªå¯¹è±¡çš„è¯¥æ–¹æ³•æ‰§è¡Œ  Object objä»£è¡¨ç±»çš„æŸä¸ªå®ä¾‹å¯¹è±¡
 * public void setAccessible(boolean flag)  è®¾ç½®ä¸ºtrueï¼Œè¡¨ç¤ºç¦æ­¢æ£€æŸ¥è®¿é—®æ§åˆ¶ï¼ˆæš´åŠ›åå°„ï¼‰
 */
public class Test4Method {
    @Test
    public void testGetDeclaredMethods() throws Exception {
        // 1ã€åå°„ç¬¬ä¸€æ­¥ï¼šé¦–å…ˆè·å–Classå¯¹è±¡
        Class c = Cat.class;

        // 2ã€è·å–ç±»çš„å…¨éƒ¨æˆå‘˜æ–¹æ³•
        Method[] methods = c.getDeclaredMethods();
        // 3ã€å¯¹æ‰€æœ‰æˆå‘˜æ–¹æ³•è¿›è¡Œéå†
        for (Method method : methods) {
            System.out.println(method.getName() + "---&gt;" + method.getParameterCount()
                    + "---&gt;" + method.getReturnType());
        }

        // 4ã€è·å¾—æŸä¸ªæˆå‘˜æ–¹æ³•
        Method run = c.getDeclaredMethod("run");
        System.out.println(run.getName() + "---&gt;" + run.getParameterCount()
                + "---&gt;" + run.getReturnType());  // run---&gt;0---&gt;void

        Method eat = c.getDeclaredMethod("eat",String.class);
        System.out.println(eat.getName() + "---&gt;" + eat.getParameterCount()
                + "---&gt;" + eat.getReturnType());  // eat---&gt;1---&gt;class java.lang.String
    }
}
</code></pre>
    <h4>
     æˆ‘ä»¬ä½¿ç”¨getDeclaredMethods()æ–¹æ³•æ¥è·å–ç±»ä¸­çš„å…¨éƒ¨å®ä¾‹å¯¹è±¡ã€‚ç„¶åç”¨Methodç±»å‹çš„æ•°æ®å¯¹å…¶è¿›è¡Œå°è£…ã€‚å°è£…åæˆ‘ä»¬è¿›è¡Œéå†ï¼Œåœ¨éå†æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ï¼š
    </h4>
    <h4>
     1.getName()æ–¹æ³•è·å¾—è¯¥æ–¹æ³•çš„æ–¹æ³•å
    </h4>
    <h4>
     2.getParameterCount()æ–¹æ³•è·å¾—è¯¥æ–¹æ³•çš„å‚æ•°ä¸ªæ•°
    </h4>
    <h4>
     3.getReturnType()æ–¹æ³•è·å¾—è¯¥æ–¹æ³•çš„è¿”å›å€¼ç±»å‹
    </h4>
    <h4>
     æˆ‘ä»¬ä½¿ç”¨getDeclaredMethod(String name,Class&lt;?&gt; ... parameterTypes)æ–¹æ³•æ¥è·å–ç±»ä¸­çš„æŒ‡å®šçš„å®ä¾‹å¯¹è±¡ã€‚å…¶ä¸­è¦è·å¾—æŒ‡å®šçš„æ–¹æ³•å—ï¼Œå°±è¦åœ¨nameå­—æ®µæŒ‡å®šæ–¹æ³•åï¼Œåœ¨Class&lt;?&gt; ... parameterTypeså­—æ®µæŒ‡å®šå‚æ•°ç±»å‹ã€‚
     <img alt="" height="268" src="https://i-blog.csdnimg.cn/direct/c6d7b2e552ab4802b434887e71d68793.png" width="972"/>
    </h4>
    <h4>
     é€šè¿‡åå°„è·å¾—æˆå‘˜æ–¹æ³•çš„ä½œç”¨ä¾ç„¶æ˜¯æ‰§è¡Œ
    </h4>
    <h4>
     <img alt="" height="373" src="https://i-blog.csdnimg.cn/direct/ab4ee46c35eb4a6db66cce61316b81f9.png" width="1772">
      * public Object invoke(Object obj, Object ... args) Â  å‡ºå‘æŸä¸ªå¯¹è±¡çš„è¯¥æ–¹æ³•æ‰§è¡Œ Â Object objä»£è¡¨ç±»çš„æŸä¸ªå®ä¾‹å¯¹è±¡
      <br/>
      * public void setAccessible(boolean flag) Â è®¾ç½®ä¸ºtrueï¼Œè¡¨ç¤ºç¦æ­¢æ£€æŸ¥è®¿é—®æ§åˆ¶ï¼ˆæš´åŠ›åå°„ï¼‰
     </img>
    </h4>
    <h4>
     æˆ‘ä»¬å¯ä»¥åœ¨è·å¾—æˆå‘˜æ–¹æ³•å¯¹è±¡åé€šè¿‡invokeæ–¹æ³•æ‰§è¡Œè¯¥æˆå‘˜æ–¹æ³•ã€‚ä½†æ˜¯åœ¨ä½¿ç”¨invokeæ–¹æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆè¦newä¸€ä¸ªè¯¥æ–¹æ³•æ‰€åœ¨ç±»çš„å®ä¾‹åŒ–å¯¹è±¡ï¼Œå› ä¸ºè¿™ä¸ªæˆå‘˜æ–¹æ³•æ˜¯è¯¥ç±»çš„æˆå‘˜æ–¹æ³•ï¼Œæ˜¯é€šè¿‡è¯¥ç±»çš„å®ä¾‹åŒ–å¯¹è±¡è¿›è¡Œè°ƒç”¨çš„ã€‚å› æ­¤è¦å…ˆå°†è¯¥ç±»å®ä¾‹åŒ–å¯¹è±¡å‡ºæ¥ï¼Œå†å°†è¯¥å¯¹è±¡ä¼ å…¥invokeæ–¹æ³•é‡Œæ‰èƒ½å¤Ÿè¿›è¡Œè°ƒç”¨ã€‚
    </h4>
    <pre><code class="language-java">package com.njau.d2_reflect;

import org.junit.Test;

import java.lang.reflect.Method;

/**
 * ç›®æ ‡ï¼šè·å–ç±»çš„æˆå‘˜æ–¹æ³•
 * Method[] getMethods()   è·å–ç±»çš„å…¨éƒ¨æˆå‘˜æ–¹æ³•ï¼ˆåªèƒ½è·å–publicä¿®é¥°çš„ï¼‰
 * Method[] getDeclaredMethods()   è·å–ç±»çš„å…¨éƒ¨æˆå‘˜æ–¹æ³•ï¼ˆåªè¦å­˜åœ¨å°±èƒ½è·å–ï¼‰
 * Method[] getMethod(String name,Class&lt;?&gt; ... parameterTypes)   è·å–ç±»çš„æŸä¸ªæˆå‘˜æ–¹æ³•ï¼ˆåªèƒ½è·å–publicä¿®é¥°çš„ï¼‰
 * Method[] getDeclaredMethod(String name,Class&lt;?&gt; ... parameterTypes)   è·å–ç±»çš„æŸä¸ªæˆå‘˜æ–¹æ³•ï¼ˆåªè¦å­˜åœ¨å°±èƒ½è·å–ï¼‰
 * æˆå‘˜æ–¹æ³•çš„ä½œç”¨ï¼šä¾ç„¶æ˜¯æ‰§è¡Œ
 * public Object invoke(Object obj, Object ... args)   å‡ºå‘æŸä¸ªå¯¹è±¡çš„è¯¥æ–¹æ³•æ‰§è¡Œ  Object objä»£è¡¨ç±»çš„æŸä¸ªå®ä¾‹å¯¹è±¡
 * public void setAccessible(boolean flag)  è®¾ç½®ä¸ºtrueï¼Œè¡¨ç¤ºç¦æ­¢æ£€æŸ¥è®¿é—®æ§åˆ¶ï¼ˆæš´åŠ›åå°„ï¼‰
 */
public class Test4Method {
    @Test
    public void testGetDeclaredMethods() throws Exception {
        // 1ã€åå°„ç¬¬ä¸€æ­¥ï¼šé¦–å…ˆè·å–Classå¯¹è±¡
        Class c = Cat.class;

        // 2ã€è·å–ç±»çš„å…¨éƒ¨æˆå‘˜æ–¹æ³•
        Method[] methods = c.getDeclaredMethods();
        // 3ã€å¯¹æ‰€æœ‰æˆå‘˜æ–¹æ³•è¿›è¡Œéå†
        for (Method method : methods) {
            System.out.println(method.getName() + "---&gt;" + method.getParameterCount()
                    + "---&gt;" + method.getReturnType());
        }

        // 4ã€è·å¾—æŸä¸ªæˆå‘˜æ–¹æ³•
        Method run = c.getDeclaredMethod("run");
        System.out.println(run.getName() + "---&gt;" + run.getParameterCount()
                + "---&gt;" + run.getReturnType());  // run---&gt;0---&gt;void

        Method eat = c.getDeclaredMethod("eat",String.class);
        System.out.println(eat.getName() + "---&gt;" + eat.getParameterCount()
                + "---&gt;" + eat.getReturnType());  // eat---&gt;1---&gt;class java.lang.String

        Cat cat = new Cat();  // åˆ›å»ºä¸€ä¸ªçŒ«å¯¹è±¡
        run.setAccessible(true);   // è¡¨ç¤ºç¦æ­¢æ£€æŸ¥è®¿é—®æ§åˆ¶ï¼ˆæš´åŠ›åå°„ï¼‰
        Object object = run.invoke(cat);  // ğŸ±è·‘çš„è´¼å¿«~~
        System.out.println(object);  // null  æ²¡æœ‰è¿”å›å€¼ï¼Œå°±æ˜¯null

        eat.setAccessible(true);
        String food = (String) eat.invoke(cat, "é±¼å„¿");
        System.out.println(food);
    }
}
</code></pre>
    <h4>
     æˆ‘ä»¬ä½¿ç”¨è·å–åˆ°çš„æˆå‘˜æ–¹æ³•å¯¹è±¡runè°ƒç”¨invokeæ–¹æ³•æ‰§è¡Œrunæ–¹æ³•ï¼Œåœ¨è°ƒç”¨invokeæ–¹æ³•å‰æˆ‘ä»¬å®ä¾‹åŒ–ä¸€ä¸ªCatç±»å¯¹è±¡catï¼Œå¹¶å°†è¯¥å¯¹è±¡ä¼ å…¥invokeæ–¹æ³•ä¸­ï¼Œåˆå› ä¸ºrunæ–¹æ³•æ²¡æœ‰å‚æ•°ï¼Œå› æ­¤ä¸éœ€è¦ä¼ é€’å‚æ•°ã€‚ä¹Ÿæ²¡æœ‰è¿”å›å€¼ï¼Œå› æ­¤è¿”å›å€¼ä¸ºnullã€‚javaå®˜æ–¹å¹¶ä¸çŸ¥é“æˆ‘ä»¬çš„æ–¹æ³•è¿”å›å€¼ç±»å‹æ˜¯ä»€ä¹ˆï¼Œå› æ­¤ç»Ÿä¸€ä½¿ç”¨Objectè¿›è¡Œæ¥æ”¶ã€‚
    </h4>
    <h4>
     åŒæ ·çš„ï¼Œåœ¨è°ƒç”¨eatçš„é‡è½½æ–¹æ³•æ—¶ï¼Œæœ‰ä¸€ä¸ªå‚æ•°Stringç±»å‹çš„ï¼Œå› æ­¤è¦ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ä¸”è¿”å›å€¼æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå› æ­¤è¦ä½¿ç”¨Stringç±»å‹çš„å˜é‡æ¥æ”¶å¹¶æ‰“å°å‡ºæ¥ã€‚
    </h4>
    <h4>
     å½“æˆ‘ä»¬åœ¨è°ƒç”¨invokeè¿›è¡Œæ–¹æ³•çš„æ‰§è¡Œæ—¶ï¼Œç”±äºæˆ‘ä»¬çš„æ–¹æ³•åœ¨å®šä¹‰æ—¶éƒ½æ˜¯ç”¨privateä¿®é¥°çš„ï¼Œå› æ­¤å†è°ƒç”¨invokeæ‰§è¡Œè¯¥æ–¹æ³•æ—¶ä¼šå‡ºç°æƒé™ä¸å¤Ÿï¼Œå› æ­¤è¦ä½¿ç”¨setAccessible()æ–¹æ³•å°†å…¶è®¾ç½®ä¸ºtrueã€‚æ‰èƒ½ä¿è¯æ­£å¸¸æ‰§è¡Œã€‚
     <img alt="" height="315" src="https://i-blog.csdnimg.cn/direct/76e27f70c31e414ca2ea196b47f621a6.png" width="1221"/>
    </h4>
    <h4>
     æ‰§è¡Œç»“æœï¼š
     <img alt="" height="294" src="https://i-blog.csdnimg.cn/direct/aff11f1c74d5419881b48b4d67b51079.png" width="1171"/>
    </h4>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f34353035353835362f:61727469636c652f64657461696c732f313436323634343938" class_="artid" style="display:none">
 </p>
</div>


