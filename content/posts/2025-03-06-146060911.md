---
layout: post
title: "部署RabbitMQ集群详细教程"
date: 2025-03-06 10:19:47 +0800
description: "下面是一份在 **Ubuntu** 环境下部署 **RabbitMQ** 集群的详细步骤说明，涉及主机名设置、Erlang & RabbitMQ 安装、管理插件启用、集群通信 Cookie 配置、节点加入集群、镜像队列策略设置以及集群验证等。为了演示方便，以下示例假设有三台主机，分别命名为 `rabbit1`, `rabbit2`, `rabbit3`，IP 地址分别为 `192.168.1.101`, `192.168.1.102`, `192.168.1.103`。请根据自己的实际环境进行修改。"
keywords: "部署RabbitMQ集群详细教程"
categories: ['网络运维', 'Shell', 'Linux']
tags: ['分布式', 'Ruby', 'Rabbitmq']
artid: "146060911"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146060911
    alt: "部署RabbitMQ集群详细教程"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146060911
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146060911
cover: https://bing.ee123.net/img/rand?artid=146060911
image: https://bing.ee123.net/img/rand?artid=146060911
img: https://bing.ee123.net/img/rand?artid=146060911
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     部署RabbitMQ集群详细教程
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="RabbitMQ_0">
     </a>
     部署RabbitMQ集群详细教程
    </h2>
    <p>
     下面是一份在
     <strong>
      Ubuntu
     </strong>
     环境下部署
     <strong>
      RabbitMQ
     </strong>
     集群的详细步骤说明，涉及主机名设置、Erlang &amp; RabbitMQ 安装、管理插件启用、集群通信 Cookie 配置、节点加入集群、镜像队列策略设置以及集群验证等。为了演示方便，以下示例假设有三台主机，分别命名为
     <code>
      rabbit1
     </code>
     ,
     <code>
      rabbit2
     </code>
     ,
     <code>
      rabbit3
     </code>
     ，IP 地址分别为
     <code>
      192.168.1.101
     </code>
     ,
     <code>
      192.168.1.102
     </code>
     ,
     <code>
      192.168.1.103
     </code>
     。请根据自己的实际环境进行修改。
    </p>
    <h3>
     <a id="_4">
     </a>
     <strong>
      环境准备
     </strong>
    </h3>
    <ul>
     <li>
      <strong>
       操作系统
      </strong>
      ：确保所有节点运行相同版本的操作系统（Linux 是最常见的选择）。
     </li>
     <li>
      <strong>
       主机名
      </strong>
      ：为每个节点配置唯一的主机名，确保可以通过 DNS 或
      <code>
       /etc/hosts
      </code>
      文件解析到 IP 地址。
     </li>
     <li>
      <strong>
       时间同步
      </strong>
      ：使用
      <code>
       ntp
      </code>
      或
      <code>
       chrony
      </code>
      服务同步时间。
     </li>
     <li>
      <strong>
       Erlang
      </strong>
      ：RabbitMQ 依赖 Erlang。确保所有节点安装相同版本的 Erlang。
     </li>
    </ul>
    <hr/>
    <h3>
     <a id="_12">
     </a>
     一、环境准备及主机名设置
    </h3>
    <p>
     RabbitMQ 使用主机名和 Erlang 的
     <code>
      nodename
     </code>
     区分节点，因此每个节点的主机名必须唯一。
    </p>
    <ol>
     <li>
      <p>
       <strong>
        修改主机名
       </strong>
       <br/>
       在每一台主机上执行以下命令，以设置相应的主机名：
      </p>
      <pre><code class="prism language-bash"><span class="token comment"># 以 rabbit1 为例</span>
<span class="token function">sudo</span> hostnamectl set-hostname rabbit1
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        修改 /etc/hosts 文件
       </strong>
       <br/>
       在每台机器的
       <code>
        /etc/hosts
       </code>
       中添加集群中所有节点的主机名与 IP 对应关系，示例如下（所有机器需要保持一致）：
      </p>
      <pre><code class="prism language-bash"><span class="token number">192.168</span>.1.101  rabbit1
<span class="token number">192.168</span>.1.102  rabbit2
<span class="token number">192.168</span>.1.103  rabbit3
</code></pre>
      <p>
       修改完成后，可以使用
       <code>
        ping rabbit2
       </code>
       、
       <code>
        ping rabbit3
       </code>
       等来测试是否能正常通过主机名访问。
      </p>
     </li>
     <li>
      <p>
       <strong>
        更新系统软件包索引
       </strong>
       <br/>
       在每台机器上执行：
      </p>
      <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> update
</code></pre>
     </li>
    </ol>
    <hr/>
    <h3>
     <a id="_Erlang__RabbitMQ_43">
     </a>
     二、安装 Erlang 和 RabbitMQ
    </h3>
    <p>
     RabbitMQ 依赖 Erlang 环境，所以我们需要先安装 Erlang，然后再安装 RabbitMQ。这里演示使用 Ubuntu 自带源或 RabbitMQ 官方源均可。
    </p>
    <h4>
     <a id="21__Ubuntu__47">
     </a>
     2.1 使用 Ubuntu 源（版本可能不是最新）
    </h4>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> erlang
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> rabbitmq-server
</code></pre>
    <h4>
     <a id="22__54">
     </a>
     2.2 启动并查看状态
    </h4>
    <p>
     安装完成后，RabbitMQ 会被自动启动并开机自启动。可以执行以下命令查看状态：
    </p>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> systemctl status rabbitmq-server
</code></pre>
    <p>
     如正常启动，会显示
     <code>
      active (running)
     </code>
     ，后续操作建议在每台节点上都保持服务处于启动状态。
    </p>
    <hr/>
    <h3>
     <a id="_66">
     </a>
     三、启用管理插件并创建管理员账号
    </h3>
    <p>
     RabbitMQ 集群部署完成后，我们通常需要启用管理插件（Management Plugin）来访问可视化管理界面，并创建管理员账号。
    </p>
    <ol>
     <li>
      <p>
       <strong>
        启用管理插件
       </strong>
       <br/>
       在每台 RabbitMQ 节点上执行：
      </p>
      <pre><code class="prism language-bash"><span class="token function">sudo</span> rabbitmq-plugins <span class="token builtin class-name">enable</span> rabbitmq_management
</code></pre>
      <p>
       启用之后，RabbitMQ 通常会在本地
       <code>
        15672
       </code>
       端口提供 HTTP 管理界面。例如，通过
       <code>
        http://192.168.1.101:15672
       </code>
       可以访问
       <code>
        rabbit1
       </code>
       的管理页面。
      </p>
     </li>
     <li>
      <p>
       <strong>
        创建管理员账号
       </strong>
       <br/>
       在每台节点上都可以执行（若已存在相同名称则会提示）：
      </p>
      <pre><code class="prism language-bash"><span class="token function">sudo</span> rabbitmqctl add_user admin StrongPassword
<span class="token function">sudo</span> rabbitmqctl set_user_tags admin administrator
<span class="token comment"># 设置该用户在 "/" 虚拟主机下的权限，授予全部读写权限</span>
<span class="token function">sudo</span> rabbitmqctl set_permissions <span class="token parameter variable">-p</span> / admin <span class="token string">".*"</span> <span class="token string">".*"</span> <span class="token string">".*"</span>
</code></pre>
      <blockquote>
       <p>
        <strong>
         注意
        </strong>
        ：请使用更强的密码进行生产环境部署，并按照需分配合适的权限或虚拟主机。
        <br/>
        不需要每台机器都创建用户，节点接入主节点后，用户可以同步使用。
       </p>
      </blockquote>
     </li>
    </ol>
    <hr/>
    <h3>
     <a id="_Cookie__90">
     </a>
     四、集群通信 Cookie 同步
    </h3>
    <p>
     RabbitMQ 集群依赖
     <strong>
      Erlang Cookie
     </strong>
     来进行节点间的验证与通信。在同一个集群中的所有节点必须使用相同的 Cookie。该 Cookie 默认保存在
     <code>
      /var/lib/rabbitmq/.erlang.cookie
     </code>
     文件中。
    </p>
    <ol>
     <li>
      <p>
       <strong>
        选择一台节点作为 Cookie 源
       </strong>
       <br/>
       通常以
       <code>
        rabbit1
       </code>
       为源。
      </p>
     </li>
     <li>
      <p>
       <strong>
        复制 Cookie 到其他节点
       </strong>
       <br/>
       在
       <code>
        rabbit1
       </code>
       上查看 Cookie：
      </p>
      <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">cat</span> /var/lib/rabbitmq/.erlang.cookie
</code></pre>
      <p>
       将内容复制，然后分别在
       <code>
        rabbit2
       </code>
       、
       <code>
        rabbit3
       </code>
       上执行：
      </p>
      <pre><code class="prism language-bash"><span class="token function">sudo</span> systemctl stop rabbitmq-server
<span class="token builtin class-name">echo</span> <span class="token string">"上一步复制的Cookie字符串"</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /var/lib/rabbitmq/.erlang.cookie
<span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">400</span> /var/lib/rabbitmq/.erlang.cookie
<span class="token function">sudo</span> <span class="token function">chown</span> rabbitmq:rabbitmq /var/lib/rabbitmq/.erlang.cookie
<span class="token function">sudo</span> systemctl start rabbitmq-server
</code></pre>
      <p>
       确保三台节点的 Cookie 完全一致，并且权限和拥有者正确，才能保证后续正常组建集群。
      </p>
     </li>
    </ol>
    <hr/>
    <h3>
     <a id="_114">
     </a>
     五、节点加入集群
    </h3>
    <p>
     下面以
     <code>
      rabbit1
     </code>
     作为主节点，先将
     <code>
      rabbit2
     </code>
     、
     <code>
      rabbit3
     </code>
     加入到
     <code>
      rabbit1
     </code>
     的集群中。
    </p>
    <ol>
     <li>
      <p>
       <strong>
        在
        <code>
         rabbit2
        </code>
        上执行：
       </strong>
      </p>
      <pre><code class="prism language-bash"><span class="token function">sudo</span> rabbitmqctl stop_app
<span class="token function">sudo</span> rabbitmqctl join_cluster rabbit@rabbit1
<span class="token function">sudo</span> rabbitmqctl start_app
</code></pre>
      <ul>
       <li>
        <code>
         rabbit@rabbit1
        </code>
        表示主机名是
        <code>
         rabbit1
        </code>
        ，Erlang 内部节点名称是
        <code>
         rabbit
        </code>
        。
       </li>
       <li>
        成功后会输出一串信息，表明已成功加入
        <code>
         rabbit1
        </code>
        所在的集群。
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        在
        <code>
         rabbit3
        </code>
        上执行：
       </strong>
      </p>
      <pre><code class="prism language-bash"><span class="token function">sudo</span> rabbitmqctl stop_app
<span class="token function">sudo</span> rabbitmqctl join_cluster rabbit@rabbit1
<span class="token function">sudo</span> rabbitmqctl start_app
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        查看集群状态
       </strong>
       <br/>
       可以在任意节点上运行以下命令查看集群状态：
      </p>
      <pre><code class="prism language-bash"><span class="token function">sudo</span> rabbitmqctl cluster_status
</code></pre>
      <p>
       若一切顺利，会看到类似如下输出，其中
       <code>
        running_nodes
       </code>
       中包含
       <code>
        rabbit@rabbit1
       </code>
       、
       <code>
        rabbit@rabbit2
       </code>
       、
       <code>
        rabbit@rabbit3
       </code>
       ：
      </p>
      <pre><code class="prism language-bash">Cluster status of <span class="token function">node</span> rabbit@rabbit1 <span class="token punctuation">..</span>.
Basics
Cluster name: rabbit@rabbit1
<span class="token punctuation">..</span>.

Running nodes are:
rabbit@rabbit1
rabbit@rabbit2
rabbit@rabbit3
<span class="token punctuation">..</span>.
</code></pre>
     </li>
    </ol>
    <hr/>
    <h3>
     <a id="HA_156">
     </a>
     六、设置镜像队列（HA）策略
    </h3>
    <p>
     为保证队列数据在集群节点之间进行复制，我们需要设置
     <strong>
      镜像队列策略
     </strong>
     。这里示例设置所有队列自动镜像到所有节点上，并自动同步。
    </p>
    <pre><code class="prism language-bash">
<span class="token function">sudo</span> rabbitmqctl set_policy ha-all <span class="token string">"^.*"</span> <span class="token string">'{"ha-mode":"all","ha-sync-mode":"automatic"}'</span> <span class="token parameter variable">--priority</span> <span class="token number">0</span> --apply-to queues
</code></pre>
    <ul>
     <li>
      <code>
       ha-mode: all
      </code>
      表示所有队列将镜像到集群中的所有节点。
     </li>
     <li>
      <code>
       ha-sync-mode: automatic
      </code>
      表示当新的节点加入时，会自动同步队列数据。
     </li>
     <li>
      <code>
       ^.*
      </code>
      是正则表达式，表示对名称匹配任意队列生效；如需针对特定队列或前缀，可自行修改。
     </li>
     <li>
      <code>
       --apply-to queues
      </code>
      表示将策略应用到队列。
     </li>
    </ul>
    <hr/>
    <h3>
     <a id="_172">
     </a>
     七、验证集群
    </h3>
    <ol>
     <li>
      <p>
       <strong>
        使用
        <code>
         rabbitmqctl cluster_status
        </code>
        命令查看集群健康状态
       </strong>
      </p>
      <pre><code class="prism language-bash"><span class="token function">sudo</span> rabbitmqctl cluster_status
</code></pre>
      <p>
       确认三个节点都在
       <code>
        running_nodes
       </code>
       列表里。
      </p>
     </li>
     <li>
      <p>
       <strong>
        访问管理界面进行验证
       </strong>
       <br/>
       在浏览器中分别访问三台机器的
       <code>
        http://&lt;节点IP或主机名&gt;:15672
       </code>
       ，使用前面创建的账号（如
       <code>
        admin
       </code>
       ）进行登录，查看集群信息、节点信息、队列信息等。
      </p>
     </li>
     <li>
      <p>
       <strong>
        测试队列高可用
       </strong>
      </p>
      <ul>
       <li>
        连接到其中一个节点，创建一个队列并发送消息。
       </li>
       <li>
        关闭该节点的 RabbitMQ 服务或者网络，使用另一个节点进行消费，验证消息是否正常可消费、数据是否依旧存在。
       </li>
      </ul>
     </li>
    </ol>
    <p>
     若一切无误，则说明 RabbitMQ 集群部署成功并具备了高可用能力。
    </p>
    <hr/>
    <h3>
     <a id="_191">
     </a>
     八、安装过程中遇到的问题
    </h3>
    <h4>
     <a id="1__194">
     </a>
     <strong>
      1. 用户访问被拒绝
     </strong>
    </h4>
    <p>
     以下日志行表明用户
     <code>
      guest
     </code>
     无法从远程登录管理界面：
    </p>
    <pre><code>HTTP access denied: user 'guest' - User can only log in via localhost
</code></pre>
    <p>
     <strong>
      原因
     </strong>
     ：RabbitMQ 默认配置限制
     <code>
      guest
     </code>
     用户只能从
     <code>
      localhost
     </code>
     登录。
    </p>
    <p>
     <strong>
      解决方法
     </strong>
    </p>
    <ol>
     <li>
      <strong>
       创建新用户
      </strong>
      <br/>
      为远程登录创建一个新的管理员用户：
      <pre><code class="prism language-bash"><span class="token function">sudo</span> rabbitmqctl add_user myadmin mypassword
<span class="token function">sudo</span> rabbitmqctl set_user_tags myadmin administrator
<span class="token function">sudo</span> rabbitmqctl set_permissions <span class="token parameter variable">-p</span> / myadmin <span class="token string">".*"</span> <span class="token string">".*"</span> <span class="token string">".*"</span>
</code></pre>
      替换
      <code>
       myadmin
      </code>
      和
      <code>
       mypassword
      </code>
      为你自己的用户名和密码。
     </li>
    </ol>
    <h4>
     <a id="2__211">
     </a>
     <strong>
      2. 安装日志查看
     </strong>
    </h4>
    <p>
     查看 RabbitMQ 日志文件，定位配置文件未加载的原因：
    </p>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">tail</span> <span class="token parameter variable">-f</span> /var/log/rabbitmq/rabbit@<span class="token variable"><span class="token variable">$(</span><span class="token function">hostname</span><span class="token variable">)</span></span>.log
</code></pre>
    <h4>
     <a id="3__218">
     </a>
     <strong>
      3. 检查监听端口
     </strong>
    </h4>
    <p>
     使用以下命令确认 RabbitMQ 是否在配置的端口上运行：
    </p>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">netstat</span> <span class="token parameter variable">-tlnp</span> <span class="token operator">|</span> <span class="token function">grep</span> beam
</code></pre>
    <h4>
     <a id="4__RabbitMQ__225">
     </a>
     <strong>
      4. 如何创建 RabbitMQ 配置文件
     </strong>
    </h4>
    <p>
     rabbitmq.conf 位于 /etc/rabbitmq/rabbitmq.conf，这是 RabbitMQ 的主配置文件，采用 INI 格式，用来定义更高级别的功能，如集群、插件、TLS、虚拟主机等。
    </p>
    <p>
     advanced.config 位于 /etc/rabbitmq/advanced.config，这是 RabbitMQ 的高级配置文件，采用 Erlang 的 term 语法，主要用于复杂的配置需求，例如队列策略、插件配置等。
    </p>
    <p>
     默认配置文件可能不存在，可以手动创建：
    </p>
    <ol>
     <li>
      <strong>
       创建配置文件
      </strong>
      <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">nano</span> /etc/rabbitmq/rabbitmq.conf
</code></pre>
     </li>
     <li>
      <strong>
       添加基础配置
      </strong>
      <br/>
      示例内容：
      <pre><code class="prism language-ini">## Basic configuration
listeners.tcp.default = 5672
management.listener.port = 15672
management.listener.ip = 0.0.0.0
</code></pre>
     </li>
     <li>
      <strong>
       保存文件并重启服务
      </strong>
      <pre><code class="prism language-bash"><span class="token function">sudo</span> systemctl restart rabbitmq-server
</code></pre>
     </li>
    </ol>
    <h4>
     <a id="5_Erlang__250">
     </a>
     <strong>
      5. Erlang 安装可能会失败，另一种安装方式
     </strong>
    </h4>
    <p>
     这种安装方式会安装最新版本的Erlang，需要注意RabbitMQ版本和Erlang版本的适配
    </p>
    <p>
     <strong>
      检查 Erlang 版本
     </strong>
    </p>
    <p>
     打开终端并运行以下命令：
    </p>
    <pre><code class="prism language-bash">erl <span class="token parameter variable">-version</span>
</code></pre>
    <p>
     或者：
    </p>
    <pre><code class="prism language-bash">erl
</code></pre>
    <p>
     如果 Erlang 已安装，命令会返回版本号或进入交互式 Erlang shell：
    </p>
    <pre><code>Erlang/OTP 25 [erts-13.1.5] ...
</code></pre>
    <p>
     按下
     <code>
      Ctrl+C
     </code>
     后，再按
     <code>
      a
     </code>
     退出 shell。
    </p>
    <p>
     *
     <strong>
      使用
      <code>
       ppa
      </code>
      仓库安装
     </strong>
    </p>
    <ol>
     <li>
      添加一个兼容的 PPA：
      <pre><code class="prism language-bash"><span class="token function">sudo</span> add-apt-repository ppa:rabbitmq/rabbitmq-erlang
</code></pre>
     </li>
     <li>
      更新包列表并安装 Erlang：
      <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> erlang
</code></pre>
     </li>
    </ol>
    <h4>
     <a id="6_RabbitMQ__282">
     </a>
     <strong>
      6. 配置RabbitMQ 节点名
     </strong>
    </h4>
    <p>
     RabbitMQ 的节点名通常以
     <code>
      rabbit@&lt;主机名&gt;
     </code>
     的形式表示。你可以通过配置
     <code>
      rabbitmq-env.conf
     </code>
     文件来设置节点名和监听地址。
    </p>
    <p>
     <strong>
      编辑环境配置文件
     </strong>
    </p>
    <p>
     在每个节点上编辑
     <code>
      /etc/rabbitmq/rabbitmq-env.conf
     </code>
     文件：
    </p>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">nano</span> /etc/rabbitmq/rabbitmq-env.conf
</code></pre>
    <p>
     内容如下：
    </p>
    <pre><code class="prism language-bash"><span class="token assign-left variable">NODENAME</span><span class="token operator">=</span>rabbit@node1       <span class="token comment"># 当前节点名称，需唯一</span>
<span class="token assign-left variable">NODE_IP_ADDRESS</span><span class="token operator">=</span><span class="token number">0.0</span>.0.0     <span class="token comment"># 监听所有网络接口</span>
<span class="token assign-left variable">NODE_PORT</span><span class="token operator">=</span><span class="token number">5672</span>              <span class="token comment"># AMQP 默认端口</span>
</code></pre>
    <p>
     根据节点分别设置：
    </p>
    <ul>
     <li>
      <code>
       node1
      </code>
      的
      <code>
       NODENAME
      </code>
      为
      <code>
       rabbit@node1
      </code>
     </li>
     <li>
      <code>
       node2
      </code>
      的
      <code>
       NODENAME
      </code>
      为
      <code>
       rabbit@node2
      </code>
     </li>
     <li>
      <code>
       node3
      </code>
      的
      <code>
       NODENAME
      </code>
      为
      <code>
       rabbit@node3
      </code>
     </li>
    </ul>
    <h4>
     <a id="7_RabbitMQ_303">
     </a>
     <strong>
      7. 安装指定版本的RabbitMQ
     </strong>
    </h4>
    <p>
     <code>
      sudo apt-get install -y rabbitmq-server
     </code>
     <br/>
     这个命令安装的
     <code>
      rabbitmq
     </code>
     版本可能不是最新的，可能会和Erlang版本不适配。
    </p>
    <p>
     关于RabbitMQ和Erlang的版本适配，详情需要参考：
     <br/>
     https://www.rabbitmq.com/docs/which-erlang
    </p>
    <p>
     这里介绍另一种指定版本的安装方式。官方文档参考：
     <br/>
     https://www.rabbitmq.com/docs/install-debian#manual-installation
    </p>
    <p>
     执行脚本
    </p>
    <pre><code># sync package metadata
sudo apt-get update
# install dependencies manually
sudo apt-get -y install logrotate init-system-helpers adduser

# download the package
sudo apt-get -y install wget
wget https://github.com/rabbitmq/rabbitmq-server/releases/download/v4.0.5/rabbitmq-server_4.0.5-1_all.deb

# install the package with dpkg
sudo dpkg -i rabbitmq-server_4.0.5-1_all.deb

rm rabbitmq-server_4.0.5-1_all.deb

</code></pre>
    <hr/>
    <h3>
     <a id="_335">
     </a>
     总结
    </h3>
    <p>
     在实际生产环境中，建议配合负载均衡（如 HAProxy、Nginx）或 Kubernetes 等容器化编排方案，以实现更灵活的集群管理与更高的可用性。同时，也可根据业务需求针对镜像队列策略进行更细化的调优与分配。
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/d2d38452669b4e469780bd06553117cd.jpeg#pic_center"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f6b616b615f62756b612f:61727469636c652f64657461696c732f313436303630393131" class_="artid" style="display:none">
 </p>
</div>


