---
layout: post
title: "isp图像处理-bayer-Binning"
date: 2025-08-31T17:22:12+0800
description: "摘要：文章介绍了CMOS传感器输出的Bayer Pattern数据格式及Sensor Binning原理，指出在录像模式下通过2x2像素合并输出。ISP处理中，传统的平均合并方法会导致清晰度损失较大，因此优化算法通过设置阈值来缓解清晰度下降，使Binning后的图像达到视觉可接受的效果。"
keywords: "isp图像处理--bayer Binning"
categories: ['未分类']
tags: ['接口隔离原则', '图像处理', '人工智能']
artid: "151048635"
arturl: "https://blog.csdn.net/zdz8889/article/details/151048635"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=151048635
    alt: "isp图像处理-bayer-Binning"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=151048635
featuredImagePreview: https://bing.ee123.net/img/rand?artid=151048635
cover: https://bing.ee123.net/img/rand?artid=151048635
image: https://bing.ee123.net/img/rand?artid=151048635
img: https://bing.ee123.net/img/rand?artid=151048635
---



# isp图像处理--bayer Binning



ISP Algorithm—Bayer Binning原理介绍

**一，简要介绍**

我们平时所看到的彩色图像每个像素有三个分量组成，分别为红绿蓝。而目前广泛用到的成像传感器为CMOS传感器，其输出的数据格式为每个像素点只有一个颜色分量，一般称为Bayer Pattern数据，格式如下图所示

![](https://i-blog.csdnimg.cn/direct/b34e85aa08954462949b3268afbad38a.png)

Bayer pattern Data

二, Sensor Binning

   众所周知，ISP Pipe一般承担两个主要功能，即拍照和录像；拍照时sensor一般输出full size数据；而录像时Sensor一般会按Binning mode输出，sensor 配置为binning mode输出时，以2x2 binning为例，是将同通道相邻2x2合成为一个像素输出，如下图所示

![](https://i-blog.csdnimg.cn/direct/5c7025cfc8c6434abbbd8ed813cfed05.png)

四个R得到一个R,4个Gr得到一个Gr,四个Gb得到一个Gb,4个B得到一个B;  常见做法是4个R取平均得到一个R

即![](https://i-blog.csdnimg.cn/direct/6d94f01ad1ee494fa7b5bf19f079a615.png)

,Gr/Gb/B类似操作。

* ISP Binning

在设计ISP Pipe时，在ISP Pipe比较靠前的位置也设计一个硬化的Binning 算法。以2倍Binning为例，大多数算法都是按Sensor 那种binning方法来设计（有些会取巧，比如只用一行Line Buffer就可完成bayer 域2x2 Binning操作）;但实际真实场景跑的时候，直接取平均往往会对清晰度损失比较大(因为Bayer域2倍binning,相当于yuv域4倍Binning)；故ISP Pipe中一般会采用基于Binning后，根据像素的绝对位置关系，设置不同的阈值来缓解清晰度过度损失（虽说也会有损失，但损失的清晰度比2x2要小很多），使最终Binning后的图像达到视觉勉强可接受的结果。

![](https://i-blog.csdnimg.cn/direct/aadfec5bd2d34cb1ad5d010f8246227e.png)

![](https://i-blog.csdnimg.cn/direct/71a98ffac63047a7b18ab85a9261ca6a.png)



