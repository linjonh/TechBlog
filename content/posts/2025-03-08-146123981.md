---
layout: post
title: "C第十节map和set的介绍与使用"
date: 2025-03-08 22:56:18 +0800
description: "本节主要介绍了map、set、multimap、multiset这四种容器的使用、核心特性与应用场景。"
keywords: "C++第十节：map和set的介绍与使用"
categories: ['C']
tags: ['开发语言', 'C']
artid: "146123981"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146123981
    alt: "C第十节map和set的介绍与使用"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146123981
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146123981
cover: https://bing.ee123.net/img/rand?artid=146123981
image: https://bing.ee123.net/img/rand?artid=146123981
img: https://bing.ee123.net/img/rand?artid=146123981
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     C++第十节：map和set的介绍与使用
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/bcf2f3ae1c4d4dc2b6c4d79e7f9b568a.gif"/>
    </p>
    <blockquote>
     <p>
      <span style="color:#0d0016">
       【本节要点】
      </span>
     </p>
     <ul>
      <li>
       <span style="color:#0d0016">
        1.关联式容器
       </span>
      </li>
      <li>
       <span style="color:#0d0016">
        2.键值对
       </span>
      </li>
      <li>
       <span style="color:#0d0016">
        3.map介绍与使用
       </span>
      </li>
      <li>
       <span style="color:#0d0016">
        4.set介绍与使用
       </span>
      </li>
      <li>
       <span style="color:#0d0016">
        5.multimap与multisedd的介绍与使用
       </span>
      </li>
     </ul>
    </blockquote>
    <h2 style="background-color:transparent">
     <span style="color:#0d0016">
      <strong>
       一、关联式容器：数据管理的核心利器
      </strong>
     </span>
    </h2>
    <blockquote>
     <p>
      <span style="color:#0d0016">
       关联式容器是STL中用于高效存储和检索键值对（key-value pair）
       <strong>
        的数据结构，其底层基于
       </strong>
       红黑树（Red-Black Tree）实现，具备以下特性：
      </span>
     </p>
     <ul>
      <li>
       <span style="color:#0d0016">
        <strong>
         有序性
        </strong>
        ：元素按**键（key）**自动排序（默认升序）。
       </span>
      </li>
      <li>
       <span style="color:#0d0016">
        <strong>
         对数时间复杂度
        </strong>
        ：插入、删除、查找操作均为
        <strong>
         O(logN)
        </strong>
        。
       </span>
      </li>
      <li>
       <span style="color:#0d0016">
        <strong>
         键的唯一性
        </strong>
        （仅Map和Set）：每个键唯一存在，Multimap和Multiset允许重复键。
       </span>
      </li>
     </ul>
    </blockquote>
    <blockquote>
     <p>
      <span style="color:#0d0016">
       <strong>
        应用场景
       </strong>
       ：
      </span>
     </p>
     <ul>
      <li>
       <span style="color:#0d0016">
        数据库索引（如MySQL的B+树索引）
       </span>
      </li>
      <li>
       <span style="color:#0d0016">
        配置参数映射（如INI文件解析）
       </span>
      </li>
      <li>
       <span style="color:#0d0016">
        单词频次统计
       </span>
      </li>
      <li>
       <span style="color:#0d0016">
        唯一元素集合管理
       </span>
      </li>
     </ul>
    </blockquote>
    <hr/>
    <h2>
     <span style="color:#0d0016">
      <strong>
       二、键值对（Key-Value Pair）
      </strong>
     </span>
    </h2>
    <p>
     <span style="color:#0d0016">
      <strong>
       概念
      </strong>
      键值对是关联式容器的核心单元，通过
      <strong>
       键（Key）快速定位值（Value）
      </strong>
      ，适用于“一对一”或“一对多”映射场景。
     </span>
    </p>
    <p>
     <span style="color:#0d0016">
      SGI-STL中关于键值对的定义：
     </span>
    </p>
    <pre><code class="language-cpp">template &lt;class T1, class T2&gt;
struct pair
{
    typedef T1 first_type;
    typedef T2 second_type;
    T1 first;
    T2 second;
    pair(): first(T1()), second(T2())
    {}
    pair(const T1&amp; a, const T2&amp; b): first(a), second(b)
    {}
};</code></pre>
    <hr/>
    <h2 style="background-color:transparent">
     <span style="color:#0d0016">
      <strong>
       三、Map：高效键值映射
      </strong>
     </span>
    </h2>
    <blockquote>
     <h3>
      <span style="color:#0d0016">
       <strong>
        3.1 核心特性
       </strong>
      </span>
     </h3>
     <ul>
      <li>
       <span style="color:#0d0016">
        <strong>
         唯一键
        </strong>
        ：每个键只能对应一个值。
       </span>
      </li>
      <li>
       <span style="color:#0d0016">
        <strong>
         自动排序
        </strong>
        ：元素按键升序存储（可自定义比较函数）。
       </span>
      </li>
     </ul>
     <p>
     </p>
    </blockquote>
    <h3>
     <span style="color:#0d0016">
      3.2
      <strong>
       map的构造
      </strong>
     </span>
    </h3>
    <p>
     <span style="color:#0d0016">
      <img alt="" height="131" src="https://i-blog.csdnimg.cn/direct/2b1db0e401214fc89f9e5dd7ff07824a.png" width="926"/>
     </span>
    </p>
    <h3>
     <span style="color:#0d0016">
      3.3
      <strong>
       map的迭代器
      </strong>
     </span>
    </h3>
    <p>
     <span style="color:#0d0016">
      <img alt="" height="407" src="https://i-blog.csdnimg.cn/direct/775de12ca8da48fa8e4fc5f083919c29.png" width="926"/>
     </span>
    </p>
    <h3>
     <span style="color:#0d0016">
      3.4
      <strong>
       map的容量与元素访问
      </strong>
     </span>
    </h3>
    <p>
     <span style="color:#0d0016">
      <img alt="" height="321" src="https://i-blog.csdnimg.cn/direct/f194ea15bc5d43e6943d4f83e56d8311.png" width="927"/>
     </span>
    </p>
    <h3>
     <span style="color:#0d0016">
      3.5.
      <strong>
       map中元素的修改
      </strong>
     </span>
    </h3>
    <p>
     <span style="color:#0d0016">
      <img alt="" height="702" src="https://i-blog.csdnimg.cn/direct/15b366f1ef6c4286a58285fb105358a6.png" width="671"/>
     </span>
    </p>
    <h3>
     <span style="color:#0d0016">
      3.6 map小结
     </span>
    </h3>
    <ul>
     <li>
      <span style="color:#0d0016">
       1. map中的的元素是键值对
      </span>
     </li>
     <li>
      <span style="color:#0d0016">
       2. map中的key是唯一的，并且不能修改
      </span>
     </li>
     <li>
      <span style="color:#0d0016">
       3. 默认按照小于的方式对key进行比较
      </span>
     </li>
     <li>
      <span style="color:#0d0016">
       4. map中的元素如果用迭代器去遍历，可以得到一个有序的序列
      </span>
     </li>
     <li>
      <span style="color:#0d0016">
       5. map的底层为平衡搜索树(红黑树)，查找效率比较高$O(log_2 N)$
      </span>
     </li>
     <li>
      <span style="color:#0d0016">
       6. 支持[]操作符，operator[]中实际进行插入查找。
      </span>
     </li>
    </ul>
    <hr/>
    <h2 style="background-color:transparent">
     <span style="color:#0d0016">
      <strong>
       四、Set：唯一元素集合
      </strong>
     </span>
    </h2>
    <h3>
     <span style="color:#0d0016">
      <strong>
       4.1 核心特性
      </strong>
     </span>
    </h3>
    <blockquote>
     <ul>
      <li>
       <span style="color:#0d0016">
        <strong>
         元素即键
        </strong>
        ：存储不重复的元素，仅支持按值查找。
       </span>
      </li>
      <li>
       <span style="color:#0d0016">
        <strong>
         自动去重
        </strong>
        ：插入重复元素无效。
       </span>
      </li>
     </ul>
    </blockquote>
    <hr/>
    <h3 style="background-color:transparent">
     <span style="color:#0d0016">
      4.2
      <strong>
       set的构造
      </strong>
     </span>
    </h3>
    <p>
     <span style="color:#0d0016">
      <img alt="" height="349" src="https://i-blog.csdnimg.cn/direct/fcbb6775b0944fd5924a436cdbdf94be.png" width="939"/>
     </span>
    </p>
    <h3 style="background-color:transparent">
     <span style="color:#0d0016">
      4.3
      <strong>
       set的迭代器
      </strong>
     </span>
    </h3>
    <p>
     <span style="color:#0d0016">
      <img alt="" height="607" src="https://i-blog.csdnimg.cn/direct/b74bbed579804be6842a54738cc4c157.png" width="924"/>
     </span>
    </p>
    <h3 style="background-color:transparent">
     <span style="color:#0d0016">
      4.4
      <strong>
       set的容量
      </strong>
     </span>
    </h3>
    <p>
     <span style="color:#0d0016">
      <img alt="" height="195" src="https://i-blog.csdnimg.cn/direct/9007c0d6ccea4fb184fea0481a1d314b.png" width="945"/>
     </span>
    </p>
    <h3 style="background-color:transparent">
     <span style="color:#0d0016">
      4.5
      <strong>
       set修改操作
      </strong>
     </span>
    </h3>
    <p>
     <span style="color:#0d0016">
      <img alt="" height="747" src="https://i-blog.csdnimg.cn/direct/ea80d545b6074e0ca42dbd151b38cd5d.png" width="824"/>
     </span>
    </p>
    <h3 style="background-color:transparent">
     <span style="color:#0d0016">
      <strong>
       4.6 应用场景
      </strong>
     </span>
    </h3>
    <ul>
     <li>
      <span style="color:#0d0016">
       用户ID去重
      </span>
     </li>
     <li>
      <span style="color:#0d0016">
       集合运算（如set_intersection、set_union）
      </span>
     </li>
    </ul>
    <hr/>
    <h2 style="background-color:transparent">
     <span style="color:#0d0016">
      <strong>
       五、Multimap与Multiset：支持重复键的扩展容器
      </strong>
     </span>
    </h2>
    <table>
     <tbody>
      <tr>
       <td>
        <p>
         <span style="color:#0d0016">
          容器
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          键是否唯一
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          值是否唯一
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          适用场景
         </span>
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         <span style="color:#0d0016">
          Multimap
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          否
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          是
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          邮件地址分组、学生课程映射
         </span>
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         <span style="color:#0d0016">
          Multiset
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          否
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          否
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          单词频次统计、学生成绩排名
         </span>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <table>
     <tbody>
      <tr>
       <td>
        <p>
         <span style="color:#0d0016">
          容器
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          插入/删除
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          查找
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          键是否唯一
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          是否允许修改键
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          适用场景
         </span>
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         <span style="color:#0d0016">
          Map
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          O(logN)
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          O(logN)
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          是
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          否
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          需要键值映射的场景
         </span>
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         <span style="color:#0d0016">
          Set
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          O(logN)
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          O(logN)
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          是
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          否
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          唯一元素集合管理
         </span>
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         <span style="color:#0d0016">
          Multimap
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          O(logN)
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          O(logN)
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          否
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          否
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          一对多映射（如用户-角色）
         </span>
        </p>
       </td>
      </tr>
      <tr>
       <td>
        <p>
         <span style="color:#0d0016">
          Multiset
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          O(logN)
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          O(logN)
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          否
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          否
         </span>
        </p>
       </td>
       <td>
        <p>
         <span style="color:#0d0016">
          允许重复的统计场景
         </span>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <span style="color:#0d0016">
      <strong>
       选型建议
      </strong>
      ：
     </span>
    </p>
    <ul>
     <li>
      <span style="color:#0d0016">
       若需
       <strong>
        键值映射
       </strong>
       且
       <strong>
        键唯一
       </strong>
       ，优先选择Map。
      </span>
     </li>
     <li>
      <span style="color:#0d0016">
       若仅需
       <strong>
        存储唯一元素
       </strong>
       ，使用Set。
      </span>
     </li>
     <li>
      <span style="color:#0d0016">
       若存在
       <strong>
        一对多关系
       </strong>
       ，选用Multimap（如用户-邮件地址）。
      </span>
     </li>
    </ul>
    <hr/>
    <h2 style="background-color:transparent">
    </h2>
    <h2 style="background-color:transparent">
     <span style="color:#0d0016">
      <strong>
       六、总结
      </strong>
     </span>
    </h2>
    <p>
     <span style="color:#0d0016">
      Map和Set作为基于红黑树的关联式容器，提供了平衡的时间复杂度和有序性保障，适用于需要高效查找和唯一性管理的场景。开发者需根据实际需求权衡有序性、唯一性及性能因素，灵活选择容器类型（Map vs unordered_map、Set vs Multiset），并合理使用API以避免潜在陷阱（如下标操作副作用）。深入理解其底层原理，有助于在复杂系统中设计高效的数据结构。
     </span>
    </p>
    <hr/>
    <p>
     以上就是关于
     <span style="color:#0d0016">
      <strong>
       树型结 构的关联式容器主总结
      </strong>
      ，如果有发现问题的小伙伴，请在评论区说出来哦。
      <strong>
       后面还会持续更新C++相关知识，感兴趣请持续关注我哦！！
      </strong>
     </span>
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/f41e3de4f3504faf88d114bb472e024a.gif"/>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f73687569627578696e676161612f:61727469636c652f64657461696c732f313436313233393831" class_="artid" style="display:none">
 </p>
</div>


