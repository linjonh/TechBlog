---
arturl_encode: "68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f35303737363432302f:61727469636c652f64657461696c732f313434363038303334"
layout: post
title: "Linuxç½‘ç»œåŸºç¡€æ¢ç´¢å¼€å¯ä½ çš„ç½‘ç»œä¹‹æ—…"
date: 2024-12-21 12:27:29 +08:00
description: "è¯¦ç»†è®²è§£äº†ç½‘ç»œåŸºç¡€æ¦‚å¿µï¼Œå¸¦é¢†è¯»è€…å¿«é€Ÿå…¥é—¨äº†è§£ç½‘ç»œé€šä¿¡åŸç†"
keywords: "ã€Linuxã€‘ç½‘ç»œåŸºç¡€æ¢ç´¢ï¼šå¼€å¯ä½ çš„ç½‘ç»œä¹‹æ—…"
categories: ['Linux']
tags: ['ç½‘ç»œ', 'æœåŠ¡å™¨', 'Linux']
artid: "144608034"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=144608034
    alt: "Linuxç½‘ç»œåŸºç¡€æ¢ç´¢å¼€å¯ä½ çš„ç½‘ç»œä¹‹æ—…"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=144608034
featuredImagePreview: https://bing.ee123.net/img/rand?artid=144608034
---

# ã€Linuxã€‘ç½‘ç»œåŸºç¡€æ¢ç´¢ï¼šå¼€å¯ä½ çš„ç½‘ç»œä¹‹æ—…

![](https://i-blog.csdnimg.cn/direct/d2fb21b1ee6743fca931495a42612e07.png#pic_center)

ğŸŒˆ
**ä¸ªäººä¸»é¡µï¼š
[Zfox\_](https://blog.csdn.net/weixin_50776420?type=blog)**
  
ğŸ”¥
**ç³»åˆ—ä¸“æ ï¼š
[Linux](https://blog.csdn.net/weixin_50776420/category_12753277.html?spm=1001.2014.3001.5482)**

![](https://i-blog.csdnimg.cn/direct/9f847edb50d9499e90b73ca82eff1413.gif)

#### ç›®å½•

* [ä¸€ï¼šğŸ”¥ è®¡ç®—æœºç½‘ç»œèƒŒæ™¯](#font_colorDarkOrchid__font_8)
* + [ğŸ¦‹ 1-1 ç½‘ç»œå‘å±•](#_11__10)
* [äºŒï¼šğŸ”¥ åˆè¯†åè®®](#font_colorDarkOrchid___font_36)
* + [ğŸ¦‹ 2-1 åè®®åˆ†å±‚](#_21__64)
  + - [åè®®åˆ†å±‚ vs. è½¯ä»¶åˆ†å±‚](#_vs__87)
  + [ğŸ¦‹ 2-2 OSIä¸ƒå±‚ç½‘ç»œæ¨¡å‹](#_22_OSI_100)
  + [ğŸ¦‹ 2-3 TCP/IP äº”å±‚(æˆ–å››å±‚)æ¨¡å‹](#_23_TCPIP__122)
* [ä¸‰ï¼šğŸ”¥ å†è¯†åè®®](#font_colorDarkOrchid___font_145)
* + [ğŸ¦‹ 3-1 ä¸ºä»€ä¹ˆè¦æœ‰ TCP/IP åè®®ï¼Ÿ](#_31__TCPIP__146)
  + [ğŸ¦‹ 3-2 ä»€ä¹ˆæ˜¯ TCP/IP åè®®ï¼Ÿ](#_32__TCPIP__156)
  + [ğŸ¦‹ 3-3 TCP/IP åè®®ä¸æ“ä½œç³»ç»Ÿçš„å…³ç³»(å®è§‚ä¸Šï¼Œ æ€ä¹ˆå®ç°çš„)](#_33_TCPIP___159)
  + [ğŸ¦‹ 3-4 æ‰€ä»¥ç©¶ç«Ÿä»€ä¹ˆæ˜¯åè®®ï¼Ÿ](#_34__162)
* [å››ï¼šğŸ”¥ ç½‘ç»œä¼ è¾“åŸºæœ¬æµç¨‹](#font_colorDarkOrchid___font_175)
* + [ğŸ¦‹ 4-1 å±€åŸŸç½‘(ä»¥å¤ªç½‘ä¸ºä¾‹)é€šä¿¡åŸç†](#_41__177)
  + - [4-1-1 è®¤è¯† MAC åœ°å€](#411__MAC__181)
    - [4-1-2 æ•°æ®åŒ…å°è£…å’Œåˆ†ç”¨](#412__224)
  + [ğŸ¦‹ 4-2 è·¨ç½‘ç»œä¼ è¾“æµç¨‹å›¾](#_42__237)
  + - [4-2-1 ç½‘ç»œä¸­çš„åœ°å€ç®¡ç† - è®¤è¯† IP åœ°å€](#421____IP__238)
* [äº”ï¼šğŸ”¥ Socket ç¼–ç¨‹é¢„å¤‡](#font_colorDarkOrchid_Socket__font_267)
* + [ğŸ¦‹ 5-1 ç†è§£æº IP åœ°å€å’Œç›®çš„ IP åœ°å€](#_51__IP__IP__268)
  + [ğŸ¦‹ 5-2 è®¤è¯†ç«¯å£å·](#_52__285)
  + - [5-2-1 ç«¯å£å·èŒƒå›´åˆ’åˆ†](#521__293)
    - [5-2-2 ç†è§£ "ç«¯å£å·" å’Œ "è¿›ç¨‹ ID"](#522_____ID_298)
    - [5-2-3 ç†è§£æºç«¯å£å·å’Œç›®çš„ç«¯å£å·](#523__305)
  + [ğŸ¦‹ 5-3 ç†è§£ socket](#_53__socket_308)
  + [ğŸ¦‹ 5-4 ä¼ è¾“å±‚çš„å…¸å‹ä»£è¡¨](#_54__315)
  + - [5-4-1 è®¤è¯† TCP åè®®](#541__TCP__320)
    - [5-4-2 è®¤è¯† UDP åè®®](#542__UDP__326)
  + [ğŸ¦‹ 5-5 ç½‘ç»œå­—èŠ‚åº](#_55__335)
  + [ğŸ¦‹ 5-6 socket ç¼–ç¨‹æ¥å£](#_56_socket__358)
  + - [5-6-1 socket å¸¸è§ API](#561_socket__API_359)
    - [5-6-2 sockaddr ç»“æ„](#562_sockaddr__378)
    - * [5-6-2-1 sockaddr ç»“æ„](#5621_sockaddr__388)
      * [5-6-2-2 sockaddr\_in ç»“æ„](#5622_sockaddr_in__391)
      * [5-6-2-3 in\_addr ç»“æ„](#5623_in_addr__399)
* [å…­ï¼šğŸ”¥ å…±å‹‰](#font_colorDarkOrchid__font_406)

## ä¸€ï¼šğŸ”¥ è®¡ç®—æœºç½‘ç»œèƒŒæ™¯

### ğŸ¦‹ 1-1 ç½‘ç»œå‘å±•

![](https://i-blog.csdnimg.cn/direct/26b3e67962184983808e1f35bc136fb4.png#pic_center)
  

ğŸ›œ
**ç½‘ç»œäº’è”: å¤šå°è®¡ç®—æœºè¿æ¥åœ¨ä¸€èµ·, å®Œæˆæ•°æ®å…±äº«;**

![](https://i-blog.csdnimg.cn/direct/9e0ee5f2c5314b61b5d3f92fdd0aea6d.png#pic_center)
  

**`å±€åŸŸç½‘ ï¼ˆLocal Area Networkï¼ŒLANï¼‰`
: è®¡ç®—æœºæ•°é‡æ›´å¤šäº†, é€šè¿‡äº¤æ¢æœºå’Œè·¯ç”±å™¨è¿æ¥åœ¨ä¸€èµ·ï¼›**
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/b26748841eac45d3a05d7e3c8190f619.png)

ğŸ“š
**`å¹¿åŸŸç½‘ ï¼ˆWide Area Networkï¼ŒWANï¼‰`
: å°†è¿œéš”åƒé‡Œçš„è®¡ç®—æœºéƒ½è¿åœ¨ä¸€èµ·;**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/0722dad221a4488ca92eeef1f2e63572.png)

**æ‰€è°“ â€œå±€åŸŸç½‘â€ å’Œ â€œå¹¿åŸŸç½‘â€ åªæ˜¯ä¸€ä¸ªç›¸å¯¹çš„æ¦‚å¿µ. æ¯”å¦‚, æˆ‘ä»¬æœ‰ â€œå¤©æœç‰¹è‰²â€ çš„å¹¿åŸŸç½‘, ä¹Ÿå¯ä»¥çœ‹åšä¸€ä¸ªæ¯”è¾ƒå¤§çš„å±€åŸŸç½‘.**

* **è®¡ç®—æœºæ˜¯äººçš„å·¥å…·ï¼Œ äººè¦ååŒå·¥ä½œï¼Œ æ³¨å®šäº†ç½‘ç»œçš„äº§ç”Ÿæ˜¯å¿…ç„¶çš„**

## äºŒï¼šğŸ”¥ åˆè¯†åè®®

* **"
  `åè®®`
  " æ˜¯ä¸€ç§çº¦å®š.**
* **æ‰“ç”µè¯çº¦å®šç”µè¯é“ƒå“çš„æ¬¡æ•°çš„çº¦å®š**
    
  ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/2233f60c50604db28533286f3f17b146.png)
    
  **è®¡ç®—æœºä¹‹é—´çš„ä¼ è¾“åª’ä»‹æ˜¯ å…‰ä¿¡å· å’Œ ç”µä¿¡å·. é€šè¿‡ â€œé¢‘ç‡â€ å’Œ â€œå¼ºå¼±â€ æ¥è¡¨ç¤º 0 å’Œ 1 è¿™æ ·çš„ä¿¡æ¯. è¦æƒ³ä¼ é€’å„ç§ä¸åŒçš„ä¿¡æ¯, å°±éœ€è¦çº¦å®šå¥½åŒæ–¹çš„æ•°æ®æ ¼å¼.**

> **ğŸ¯ æ€è€ƒ: åªè¦é€šä¿¡çš„ä¸¤å°ä¸»æœº, çº¦å®šå¥½åè®®å°±å¯ä»¥äº†ä¹ˆ?**
>
> * **å®šå¥½åè®®ï¼Œ ä½†æ˜¯ä½ ç”¨é¢‘ç‡è¡¨ç¤º 01ï¼Œ æˆ‘ç”¨å¼ºå¼±è¡¨ç¤º 01ï¼Œ å°±å¥½æ¯”æˆ‘ç”¨ä¸­å›½è¯ï¼Œ ä½ ç”¨è‘¡è„ç‰™è¯­ä¸€æ ·ï¼Œ è™½ç„¶å¤§å®¶å¯èƒ½éµå®ˆçš„ä¸€å¥—é€šä¿¡è§„åˆ™ï¼Œ ä½†æ˜¯è¯­è¨€ä¸åŒï¼Œå³æ˜¯è®¢å¥½äº†åŸºæœ¬çš„åè®®ï¼Œ ä¹Ÿæ˜¯æ— æ³•æ­£å¸¸é€šä¿¡çš„ã€‚**
>     
>     
>   **æ‰€ä»¥ï¼Œ å®Œå–„çš„åè®®ï¼Œ éœ€è¦æ›´å¤šæ›´ç»†è‡´çš„è§„å®šï¼Œ å¹¶è®©å‚ä¸çš„äººéƒ½è¦éµå®ˆã€‚**
> * **è®¡ç®—æœºç”Ÿäº§å‚å•†æœ‰å¾ˆå¤š;**
> * **è®¡ç®—æœºæ“ä½œç³»ç»Ÿ, ä¹Ÿæœ‰å¾ˆå¤š;**
> * **è®¡ç®—æœºç½‘ç»œç¡¬ä»¶è®¾å¤‡, è¿˜æ˜¯æœ‰å¾ˆå¤š;**
> * **å¦‚ä½•è®©è¿™äº›ä¸åŒå‚å•†ä¹‹é—´ç”Ÿäº§çš„è®¡ç®—æœºèƒ½å¤Ÿç›¸äº’é¡ºç•…çš„é€šä¿¡? å°±éœ€è¦æœ‰äººç«™å‡ºæ¥, çº¦å®šä¸€ä¸ªå…±åŒçš„æ ‡å‡†, å¤§å®¶éƒ½æ¥éµå®ˆ, è¿™å°±æ˜¯
>   `ç½‘ç»œåè®®`
>   ;**

ğŸ“š
**ç½‘ç»œåè®®çš„æ ¸å¿ƒä½œç”¨åŒ…æ‹¬ï¼š**

* **`æ ‡å‡†åŒ–`
  ï¼šä½¿ä¸åŒå‚å•†çš„è®¾å¤‡èƒ½å¤Ÿäº’è”äº’é€šã€‚**
* **`è§„èŒƒæ€§`
  ï¼šå®šä¹‰äº†æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­çš„è¡Œä¸ºã€‚**
* **`å¯é æ€§`
  ï¼šé€šè¿‡æ ¡éªŒå’Œé‡ä¼ æœºåˆ¶ï¼Œç¡®ä¿æ•°æ®æ­£ç¡®ä¼ è¾“ã€‚**

ğŸ“š
**ä¸¾ä¾‹ï¼š**

* **`HTTPåè®®`
  ï¼šå®šä¹‰äº†ç½‘é¡µæµè§ˆå™¨ä¸æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡è§„åˆ™ã€‚**
* **`TCPåè®®`
  ï¼šç¡®ä¿æ•°æ®åœ¨ä¼ è¾“ä¸­æ— é”™è¯¯ä¸”æŒ‰é¡ºåºåˆ°è¾¾ã€‚**

### ğŸ¦‹ 2-1 åè®®åˆ†å±‚

**ç½‘ç»œé€šä¿¡æ˜¯ä¸€ä¸ªå¤æ‚çš„è¿‡ç¨‹ï¼Œä¸ºäº†é™ä½è®¾è®¡éš¾åº¦å¹¶æé«˜æ•ˆç‡ï¼Œç½‘ç»œåè®®é€šå¸¸é‡‡ç”¨åˆ†å±‚è®¾è®¡çš„ç†å¿µã€‚åˆ†å±‚è®¾è®¡å°†å¤æ‚çš„é€šä¿¡ä»»åŠ¡åˆ’åˆ†ä¸ºè‹¥å¹²ç‹¬ç«‹çš„åŠŸèƒ½æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—ä¸“æ³¨äºç‰¹å®šä»»åŠ¡ã€‚**

![](https://i-blog.csdnimg.cn/direct/046edab52e694c1eb07950feed334114.png#pic_center)

* **åœ¨è¿™ä¸ªä¾‹å­ä¸­, æˆ‘ä»¬çš„"åè®®"åªæœ‰ä¸¤å±‚:è¯­è¨€å±‚ã€ é€šä¿¡è®¾å¤‡å±‚ã€‚**
* **ä½†æ˜¯å®é™…çš„ç½‘ç»œé€šä¿¡åè®®ï¼Œ è®¾è®¡çš„ä¼šæ›´åŠ å¤æ‚, éœ€è¦åˆ†æ›´å¤šçš„å±‚**
* **ä½†æ˜¯é€šè¿‡ä¸Šé¢çš„ç®€å•ä¾‹å­ï¼Œ æˆ‘ä»¬æ˜¯èƒ½ç†è§£ï¼Œ åˆ†å±‚å¯ä»¥å®ç°è§£è€¦åˆï¼Œ è®©è½¯ä»¶ç»´æŠ¤çš„æˆæœ¬æ›´ä½**

**åè®®åˆ†å±‚çš„ç‰¹ç‚¹ï¼š**

1. **`æ¨¡å—åŒ–è®¾è®¡`**
     
   **æ¯ä¸€å±‚å®Œæˆç‰¹å®šåŠŸèƒ½ï¼Œäº’ä¸å¹²æ‰°ã€‚ä¾‹å¦‚ï¼Œä¼ è¾“å±‚å…³æ³¨æ•°æ®çš„å¯é ä¼ è¾“ï¼Œè€Œç‰©ç†å±‚åˆ™è´Ÿè´£ä¿¡å·çš„ä¼ é€’ã€‚**
2. **`æ¥å£æ ‡å‡†åŒ–`**
     
   **å„å±‚ä¹‹é—´é€šè¿‡æ¥å£ä¼ é€’æ•°æ®å’Œä¿¡æ¯ï¼Œæ— éœ€äº†è§£å…¶ä»–å±‚çš„å…·ä½“å®ç°ã€‚ä¾‹å¦‚ï¼Œåº”ç”¨å±‚æ— éœ€å…³æ³¨åº•å±‚ç¡¬ä»¶å¦‚ä½•å·¥ä½œã€‚**
3. **`ä¾¿äºå¼€å‘ä¸ç»´æŠ¤`**
     
   **åè®®çš„åˆ†å±‚è®¾è®¡ä½¿å¾—å¼€å‘è€…å¯ä»¥ä¸“æ³¨äºæŸä¸€å±‚çš„ä¼˜åŒ–ï¼Œè€Œä¸å½±å“å…¶ä»–å±‚ã€‚**

#### åè®®åˆ†å±‚ vs. è½¯ä»¶åˆ†å±‚

åè®®åˆ†å±‚ä¸æ“ä½œç³»ç»Ÿçš„è½¯ä»¶åˆ†å±‚ç†å¿µç›¸ä¼¼ã€‚ä¾‹å¦‚ï¼Œåœ¨Linuxç³»ç»Ÿä¸­ï¼š

* **æ“ä½œç³»ç»Ÿçš„åˆ†å±‚åŒ…æ‹¬å†…æ ¸å±‚ã€ç¡¬ä»¶æŠ½è±¡å±‚å’Œç”¨æˆ·å±‚ã€‚**
* **åè®®çš„åˆ†å±‚åˆ™å¯¹åº”äº†ä»ç‰©ç†ä¼ è¾“åˆ°åº”ç”¨æœåŠ¡çš„ä¸åŒé˜¶æ®µã€‚**

äºŒè€…çš„å…±åŒç‚¹åœ¨äºé€šè¿‡åˆ†å±‚å®ç°å¤æ‚ä»»åŠ¡çš„ç®€åŒ–å’Œæ¨¡å—åŒ–ã€‚ä¾‹å¦‚ï¼š

* **åè®®åˆ†å±‚ï¼šç‰©ç†å±‚è´Ÿè´£ç”µä¿¡å·ä¼ è¾“ï¼Œä¼ è¾“å±‚ç¡®ä¿æ•°æ®å¯é åˆ°è¾¾ã€‚**
* **è½¯ä»¶åˆ†å±‚ï¼šé©±åŠ¨ç¨‹åºè´Ÿè´£ç¡¬ä»¶æ§åˆ¶ï¼Œç”¨æˆ·åº”ç”¨åªéœ€è°ƒç”¨æ¥å£ã€‚**

é€šè¿‡åˆ†å±‚è®¾è®¡ï¼Œç½‘ç»œåè®®ä¸ä»…å®ç°äº†å¤šå‚å•†è®¾å¤‡çš„äº’é€šï¼Œè¿˜ä¸ºLinuxç­‰æ“ä½œç³»ç»Ÿæä¾›äº†ç»“æ„åŒ–çš„ç½‘ç»œé€šä¿¡æ”¯æŒã€‚

### ğŸ¦‹ 2-2 OSIä¸ƒå±‚ç½‘ç»œæ¨¡å‹

**`OSIï¼ˆOpen Systems Interconnectionï¼‰`**
æ¨¡å‹æ˜¯å›½é™…æ ‡å‡†åŒ–ç»„ç»‡ï¼ˆISOï¼‰æå‡ºçš„ç½‘ç»œé€šä¿¡æ¡†æ¶ï¼Œæ˜¯ä¸€ç§ç†è®ºä¸Šçš„å‚è€ƒæ¨¡å‹ï¼Œç”¨äºå®šä¹‰ç½‘ç»œé€šä¿¡çš„ç»“æ„å’Œåˆ†å±‚ã€‚

OSI æ¨¡å‹å°†ç½‘ç»œé€šä¿¡åˆ’åˆ†ä¸ºä¸ƒä¸ªå±‚æ¬¡ï¼Œä»ç¡¬ä»¶ä¼ è¾“åˆ°åº”ç”¨æœåŠ¡ï¼Œå±‚ä¸å±‚ä¹‹é—´é€šè¿‡æ ‡å‡†æ¥å£äº¤äº’ã€‚å…¶æ ¸å¿ƒç›®çš„æ˜¯è§„èŒƒå’Œç®€åŒ–ä¸åŒè®¾å¤‡ã€åè®®ä¹‹é—´çš„é€šä¿¡ï¼Œä¿ƒè¿›äº’è”äº’é€šã€‚

å®ƒçš„æœ€å¤§ä¼˜ç‚¹æ˜¯å°†æœåŠ¡ã€ æ¥å£å’Œåè®®è¿™ä¸‰ä¸ªæ¦‚å¿µæ˜ç¡®åœ°åŒºåˆ†å¼€æ¥ï¼Œ æ¦‚å¿µæ¸…æ¥šï¼Œç†è®ºä¹Ÿæ¯”è¾ƒå®Œæ•´. é€šè¿‡ä¸ƒä¸ªå±‚æ¬¡åŒ–çš„ç»“æ„æ¨¡å‹ä½¿ä¸åŒçš„ç³»ç»Ÿä¸åŒçš„ç½‘ç»œä¹‹é—´å®ç°å¯é çš„é€šè®¯;

â€¢ ä½†æ˜¯, å®ƒæ—¢å¤æ‚åˆä¸å®ç”¨; æ‰€ä»¥æˆ‘ä»¬æŒ‰ç…§ TCP/IP å››å±‚æ¨¡å‹æ¥è®²è§£

| å±‚æ¬¡ | ä¸»è¦åŠŸèƒ½ | ç¤ºä¾‹åè®®/è®¾å¤‡ |
| --- | --- | --- |
| åº”ç”¨å±‚ | é¢å‘ç”¨æˆ·ï¼Œæä¾›ç½‘ç»œæœåŠ¡æ¥å£ï¼Œå¦‚æ–‡ä»¶ä¼ è¾“ã€é‚®ä»¶ã€è¿œç¨‹ç™»å½•ç­‰ã€‚ | HTTPã€FTPã€SMTP |
| è¡¨ç¤ºå±‚ | æ•°æ®æ ¼å¼çš„è½¬æ¢ã€åŠ å¯†ã€è§£å¯†å’Œå‹ç¼©ï¼Œç¡®ä¿ä¸åŒè®¾å¤‡ä¹‹é—´çš„æ•°æ®è¡¨ç¤ºä¸€è‡´ã€‚ | JPEGã€GIFã€TLS |
| ä¼šè¯å±‚ | ç®¡ç†ä¼šè¯å»ºç«‹ã€ç»´æŒå’Œæ–­å¼€ï¼Œå¦‚æ•°æ®åŒæ­¥å’Œä¼ è¾“æ§åˆ¶ã€‚ | NetBIOSã€RPC |
| ä¼ è¾“å±‚ | æä¾›ç«¯åˆ°ç«¯çš„å¯é æ•°æ®ä¼ è¾“å’Œé”™è¯¯æ£€æµ‹ï¼Œç¡®ä¿æ•°æ®å®Œæ•´åˆ°è¾¾ç›®æ ‡ç«¯ã€‚ | TCPã€UDP |
| ç½‘ç»œå±‚ | è´Ÿè´£è·¯ç”±å’Œé€»è¾‘åœ°å€ï¼ˆIPï¼‰çš„åˆ†é…ï¼Œç¡®ä¿æ•°æ®èƒ½è·¨ç½‘ç»œåˆ°è¾¾ç›®æ ‡è®¾å¤‡ã€‚ | IPã€ICMPã€IGRP |
| æ•°æ®é“¾è·¯å±‚ | è´Ÿè´£æ•°æ®å¸§çš„ç»„è£…ã€ä¼ è¾“ä¸é”™è¯¯æ£€æµ‹ï¼Œåœ¨å±€åŸŸç½‘ä¸­å®Œæˆæ•°æ®çš„æ­£ç¡®ä¼ è¾“ã€‚ | Ethernetã€PPPã€Wi-Fi |
| ç‰©ç†å±‚ | è´Ÿè´£æ¯”ç‰¹æµçš„ä¼ è¾“ï¼Œå®šä¹‰ç‰©ç†ä»‹è´¨ï¼ˆå¦‚å…‰çº¤ã€ç”µç¼†ï¼‰å’Œä¿¡å·è§„èŒƒï¼ˆå¦‚ç”µå‹ã€é¢‘ç‡ï¼‰ã€‚ | å…‰çº¤ã€ç½‘çº¿ã€æ— çº¿ä¿¡å· |

å…¶å®åœ¨ç½‘ç»œè§’åº¦ï¼Œ OSI å®šçš„åè®® 7 å±‚æ¨¡å‹å…¶å®éå¸¸å®Œå–„ï¼Œ ä½†æ˜¯åœ¨å®é™…æ“ä½œçš„è¿‡ç¨‹ä¸­ï¼Œ ä¼šè¯å±‚ã€ è¡¨ç¤ºå±‚æ˜¯ä¸å¯èƒ½æ¥å…¥åˆ°æ“ä½œç³»ç»Ÿä¸­çš„ï¼Œ æ‰€ä»¥åœ¨å·¥ç¨‹å®è·µä¸­ï¼Œ æœ€ç»ˆè½åœ°çš„æ˜¯ 5 å±‚åè®®ã€‚

* ä½†æ˜¯è¦ç†è§£ä¸Šé¢çš„è¯ï¼Œ éœ€è¦æˆ‘ä»¬å­¦ä¹ å®Œç½‘ç»œæ‰å¯ä»¥ç†è§£ï¼Œ è¿™é‡Œå°±çŸ¥é“å°±å¯ä»¥

### ğŸ¦‹ 2-3 TCP/IP äº”å±‚(æˆ–å››å±‚)æ¨¡å‹

TCP/IP æ˜¯ä¸€ç»„åè®®çš„ä»£åè¯ï¼Œ å®ƒè¿˜åŒ…æ‹¬è®¸å¤šåè®®ï¼Œ ç»„æˆäº† TCP/IP åè®®ç°‡.
  
TCP/IP é€šè®¯åè®®é‡‡ç”¨äº† 5 å±‚çš„å±‚çº§ç»“æ„ï¼Œ æ¯ä¸€å±‚éƒ½å‘¼å«å®ƒçš„ä¸‹ä¸€å±‚æ‰€æä¾›çš„ç½‘ç»œæ¥å®Œæˆè‡ªå·±çš„éœ€æ±‚

> * **`ç‰©ç†å±‚`
>   : è´Ÿè´£å…‰ / ç”µä¿¡å·çš„ä¼ é€’æ–¹å¼. æ¯”å¦‚ç°åœ¨ä»¥å¤ªç½‘é€šç”¨çš„ç½‘çº¿(åŒç» çº¿)ã€ æ—©æœŸä»¥å¤ªç½‘é‡‡ç”¨çš„çš„åŒè½´ç”µç¼†(ç°åœ¨ä¸»è¦ç”¨äºæœ‰çº¿ç”µè§†)ã€ å…‰çº¤, ç°åœ¨çš„ wifi æ— çº¿ç½‘ä½¿ç”¨ç”µç£æ³¢ç­‰éƒ½å±äºç‰©ç†å±‚çš„æ¦‚å¿µã€‚ ç‰©ç†å±‚çš„èƒ½åŠ›å†³å®šäº†æœ€å¤§ä¼ è¾“é€Ÿç‡ã€ ä¼ è¾“è·ç¦»ã€ æŠ—å¹²æ‰°æ€§ç­‰. é›†çº¿å™¨ (Hub) å·¥ä½œåœ¨ç‰©ç†å±‚.**
> * **`æ•°æ®é“¾è·¯å±‚`
>   : è´Ÿè´£è®¾å¤‡ä¹‹é—´çš„æ•°æ®å¸§çš„ä¼ é€å’Œè¯†åˆ«. ä¾‹å¦‚ç½‘å¡è®¾å¤‡çš„é©±åŠ¨ã€ å¸§åŒæ­¥(å°±æ˜¯è¯´ä»ç½‘çº¿ä¸Šæ£€æµ‹åˆ°ä»€ä¹ˆä¿¡å·ç®—ä½œæ–°å¸§çš„å¼€å§‹)ã€ å†²çªæ£€æµ‹(å¦‚æœæ£€æµ‹åˆ°å†²çªå°±è‡ªåŠ¨é‡å‘)ã€ æ•°æ®å·®é”™æ ¡éªŒç­‰å·¥ä½œ. æœ‰ä»¥å¤ªç½‘ã€ ä»¤ç‰Œç¯ç½‘, æ— çº¿ LAN ç­‰æ ‡å‡†. äº¤æ¢æœº (Switch) å·¥ä½œåœ¨æ•°æ®é“¾è·¯å±‚.**
> * **`ç½‘ç»œå±‚`
>   : è´Ÿè´£åœ°å€ç®¡ç†å’Œè·¯ç”±é€‰æ‹©. ä¾‹å¦‚åœ¨ IP åè®®ä¸­, é€šè¿‡ IP åœ°å€æ¥æ ‡è¯†ä¸€å°ä¸»æœº, å¹¶é€šè¿‡è·¯ç”±è¡¨çš„æ–¹å¼è§„åˆ’å‡ºä¸¤å°ä¸»æœºä¹‹é—´çš„æ•°æ®ä¼ è¾“çš„çº¿è·¯(è·¯ç”±). è·¯ç”±å™¨ (Router) å·¥ä½œåœ¨ç½‘è·¯å±‚.**
> * **`ä¼ è¾“å±‚`
>   : è´Ÿè´£ä¸¤å°ä¸»æœºä¹‹é—´çš„æ•°æ®ä¼ è¾“. å¦‚ä¼ è¾“æ§åˆ¶åè®® (TCP), èƒ½å¤Ÿç¡®ä¿æ•°æ®å¯é çš„ä»æºä¸»æœºå‘é€åˆ°ç›®æ ‡ä¸»æœº.**
> * **`åº”ç”¨å±‚`
>   : è´Ÿè´£åº”ç”¨ç¨‹åºé—´æ²Ÿé€šï¼Œå¦‚ç®€å•ç”µå­é‚®ä»¶ä¼ è¾“ï¼ˆSMTPï¼‰ã€æ–‡ä»¶ä¼ è¾“åè®®ï¼ˆFTPï¼‰ã€ç½‘ç»œè¿œç¨‹è®¿é—®åè®®ï¼ˆTelnetï¼‰ ç­‰. æˆ‘ä»¬çš„ç½‘ç»œç¼–ç¨‹ä¸»è¦å°±æ˜¯é’ˆå¯¹åº”ç”¨å±‚.**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/6cb6a47514ea46f09070df49d4fd4659.png)

ä¸€èˆ¬è€Œè¨€

* **å¯¹äºä¸€å°ä¸»æœº, å®ƒçš„æ“ä½œç³»ç»Ÿå†…æ ¸å®ç°äº†ä»ä¼ è¾“å±‚åˆ°ç‰©ç†å±‚çš„å†…å®¹;**
* **å¯¹äºä¸€å°è·¯ç”±å™¨, å®ƒå®ç°äº†ä»ç½‘ç»œå±‚åˆ°ç‰©ç†å±‚;**
* **å¯¹äºä¸€å°äº¤æ¢æœº, å®ƒå®ç°äº†ä»æ•°æ®é“¾è·¯å±‚åˆ°ç‰©ç†å±‚;**
* **å¯¹äºé›†çº¿å™¨, å®ƒåªå®ç°äº†ç‰©ç†å±‚;**
    
  ä½†æ˜¯å¹¶ä¸ç»å¯¹. å¾ˆå¤šäº¤æ¢æœºä¹Ÿå®ç°äº†ç½‘ç»œå±‚çš„è½¬å‘; å¾ˆå¤šè·¯ç”±å™¨ä¹Ÿå®ç°äº†éƒ¨åˆ†ä¼ è¾“å±‚çš„å†…å®¹(æ¯”å¦‚ç«¯å£è½¬å‘);

## ä¸‰ï¼šğŸ”¥ å†è¯†åè®®

### ğŸ¦‹ 3-1 ä¸ºä»€ä¹ˆè¦æœ‰ TCP/IP åè®®ï¼Ÿ

* é¦–å…ˆï¼Œ å³ä¾¿æ˜¯å•æœºï¼Œ ä½ çš„è®¡ç®—æœºå†…éƒ¨ï¼Œ å…¶å®éƒ½æ˜¯å­˜åœ¨åè®®çš„ï¼Œ æ¯”å¦‚ï¼š å…¶ä»–è®¾å¤‡å’Œå†…å­˜é€šä¿¡ï¼Œ ä¼šæœ‰å†…å­˜åè®®ã€‚ å…¶ä»–è®¾å¤‡å’Œç£ç›˜é€šä¿¡ï¼Œ ä¼šæœ‰ç£ç›˜ç›¸å…³çš„åè®®ï¼Œ æ¯”å¦‚ï¼šSATAï¼Œ IDEï¼Œ SCSI ç­‰ã€‚ åªä¸è¿‡æˆ‘ä»¬æ„ŸçŸ¥ä¸åˆ°ç½¢äº†ã€‚ è€Œä¸”è¿™äº›åè®®éƒ½åœ¨æœ¬åœ°ä¸»æœºå„è‡ªçš„ç¡¬ä»¶ä¸­ï¼Œ é€šä¿¡çš„æˆæœ¬ã€ é—®é¢˜æ¯”è¾ƒå°‘ã€‚
* å…¶æ¬¡ï¼Œ ç½‘ç»œé€šä¿¡æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯ä¸»æœºä¹‹é—´å˜è¿œäº†ã€‚ ä»»ä½•é€šä¿¡ç‰¹å¾çš„å˜åŒ–ï¼Œ ä¸€å®šä¼šå¸¦æ¥æ–°çš„é—®é¢˜ï¼Œ æœ‰é—®é¢˜å°±å¾—è§£å†³é—®é¢˜ï¼Œ æ‰€ä»¥éœ€è¦æ–°çš„åè®®å’¯ã€‚

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/fa8a84ba896f429db9659cf8c8423e63.png)

* **æ‰€ä»¥ï¼Œ ä¸ºä»€ä¹ˆè¦æœ‰ TCP/IP åè®®ï¼Ÿ æœ¬è´¨å°±æ˜¯é€šä¿¡ä¸»æœºè·ç¦»å˜è¿œäº†**

### ğŸ¦‹ 3-2 ä»€ä¹ˆæ˜¯ TCP/IP åè®®ï¼Ÿ

* **`TCP/IP åè®®çš„æœ¬è´¨æ˜¯ä¸€ç§è§£å†³æ–¹æ¡ˆ`**
* **`TCP/IP åè®®èƒ½åˆ†å±‚ï¼Œ å‰ææ˜¯å› ä¸ºé—®é¢˜ä»¬æœ¬èº«èƒ½åˆ†å±‚`**

### ğŸ¦‹ 3-3 TCP/IP åè®®ä¸æ“ä½œç³»ç»Ÿçš„å…³ç³»(å®è§‚ä¸Šï¼Œ æ€ä¹ˆå®ç°çš„)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/720117f4c8f64c8f9f8e3e6e45844827.png)

### ğŸ¦‹ 3-4 æ‰€ä»¥ç©¶ç«Ÿä»€ä¹ˆæ˜¯åè®®ï¼Ÿ

æˆªæ­¢åˆ°ç›®å‰ï¼Œ æˆ‘ä»¬è¿˜æ²¡æ¥è§¦è¿‡ä»»ä½•åè®®ï¼Œ ä½†æ˜¯å¦‚ä½•æœ´ç´ çš„ç†è§£åè®®ï¼Œ æˆ‘ä»¬å·²ç»å¯ä»¥è¯•è¯•äº†ã€‚

* OS æºä»£ç ä¸€èˆ¬éƒ½æ˜¯ç”¨ C/C++è¯­è¨€å†™çš„ã€‚
    
  ä¸‹é¢ï¼Œ ä»”ç»†çœ‹çœ‹ä¸‹é¢çš„å›¾

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/586072b731344f27a05ef3a97d065761.png)

å…³äºåè®®çš„æœ´ç´ ç†è§£ï¼š æ‰€è°“åè®®ï¼Œ å°±æ˜¯é€šä¿¡åŒæ–¹éƒ½è®¤è¯†çš„ç»“æ„åŒ–çš„æ•°æ®ç±»å‹

å› ä¸ºåè®®æ ˆæ˜¯åˆ†å±‚çš„ï¼Œ æ‰€ä»¥ï¼Œ æ¯å±‚éƒ½æœ‰åŒæ–¹éƒ½æœ‰åè®®ï¼Œ åŒå±‚ä¹‹é—´ï¼Œ äº’ç›¸å¯ä»¥è®¤è¯†å¯¹æ–¹çš„åè®®ã€‚

## å››ï¼šğŸ”¥ ç½‘ç»œä¼ è¾“åŸºæœ¬æµç¨‹

### ğŸ¦‹ 4-1 å±€åŸŸç½‘(ä»¥å¤ªç½‘ä¸ºä¾‹)é€šä¿¡åŸç†

* é¦–å…ˆå›ç­”ï¼Œ ä¸¤å°ä¸»æœºåœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ï¼Œ æ˜¯å¦èƒ½å¤Ÿç›´æ¥é€šä¿¡ï¼Ÿ æ˜¯çš„
* åŸç†ç±»ä¼¼ä¸Šè¯¾
* æ¯å°ä¸»æœºåœ¨å±€åŸŸç½‘ä¸Šï¼Œ è¦æœ‰å”¯ä¸€çš„æ ‡è¯†æ¥ä¿è¯ä¸»æœºçš„å”¯ä¸€æ€§ï¼š mac åœ°å€

#### 4-1-1 è®¤è¯† MAC åœ°å€

* **MAC åœ°å€ç”¨æ¥è¯†åˆ«æ•°æ®é“¾è·¯å±‚ä¸­ç›¸è¿çš„èŠ‚ç‚¹;**
* **é•¿åº¦ä¸º 48 ä½, åŠ 6 ä¸ªå­—èŠ‚. ä¸€èˆ¬ç”¨ 16 è¿›åˆ¶æ•°å­—åŠ ä¸Šå†’å·çš„å½¢å¼æ¥è¡¨ç¤º(ä¾‹å¦‚ : 08:00:27:03:fb:19)**
* **åœ¨ç½‘å¡å‡ºå‚æ—¶å°±ç¡®å®šäº†, ä¸èƒ½ä¿®æ”¹. mac åœ°å€é€šå¸¸æ˜¯å”¯ä¸€çš„(è™šæ‹Ÿæœºä¸­çš„ mac åœ°å€ä¸æ˜¯çœŸå®çš„ mac åœ°å€, å¯èƒ½ä¼šå†²çª; ä¹Ÿæœ‰äº›ç½‘å¡æ”¯æŒç”¨æˆ·é…ç½® mac åœ°å€).**

åé¢æˆ‘ä»¬è¯¦ç»†è°ˆè®ºæ•°æ®é“¾è·¯å±‚çš„æ—¶å€™ï¼Œ ä¼šè°ˆ mac å¸§åè®®ï¼Œ æ­¤å¤„æˆ‘ä»¬åšä¸€ä¸ªäº†è§£å³å¯ã€‚

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/4a86e6f6119547d68ab051932cc76d6d.png)

* ä»¥å¤ªç½‘ä¸­ï¼Œ ä»»ä½•æ—¶åˆ»ï¼Œ åªå…è®¸ä¸€å°æœºå™¨å‘ç½‘ç»œä¸­å‘é€æ•°æ®
* **å¦‚æœæœ‰å¤šå°åŒæ—¶å‘é€ï¼Œ ä¼šå‘ç”Ÿæ•°æ®å¹²æ‰°ï¼Œ æˆ‘ä»¬ç§°ä¹‹ä¸ºæ•°æ®ç¢°æ’**
* **æ‰€æœ‰å‘é€æ•°æ®çš„ä¸»æœºè¦è¿›è¡Œç¢°æ’æ£€æµ‹å’Œç¢°æ’é¿å…**
* **æ²¡æœ‰äº¤æ¢æœºçš„æƒ…å†µä¸‹ï¼Œ ä¸€ä¸ªä»¥å¤ªç½‘å°±æ˜¯ä¸€ä¸ªç¢°æ’åŸŸ**
* å±€åŸŸç½‘é€šä¿¡çš„è¿‡ç¨‹ä¸­ï¼Œ ä¸»æœºå¯¹æ”¶åˆ°çš„æŠ¥æ–‡ç¡®è®¤æ˜¯å¦æ˜¯å‘ç»™è‡ªå·±çš„ï¼Œ æ˜¯é€šè¿‡ç›®æ ‡ mac åœ°å€åˆ¤å®š
* è¿™é‡Œå¯ä»¥è¯•ç€ä»ç³»ç»Ÿè§’åº¦æ¥ç†è§£å±€åŸŸç½‘é€šä¿¡åŸç†

åˆæ­¥æ˜ç™½äº†å±€åŸŸç½‘é€šä¿¡åŸç†ï¼Œ å†æ¥çœ‹åŒä¸€ä¸ªç½‘æ®µå†…çš„ä¸¤å°ä¸»æœºè¿›è¡Œå‘é€æ¶ˆæ¯çš„è¿‡ç¨‹

![](https://i-blog.csdnimg.cn/direct/253fc1f2542c41f2b3628c8594e4a079.png#pic_center)
è€Œå…¶ä¸­æ¯å±‚éƒ½æœ‰åè®®ï¼Œ æ‰€ä»¥å½“æˆ‘è¿›è¡Œè¿›è¡Œä¸Šè¿°ä¼ è¾“æµç¨‹çš„æ—¶å€™ï¼Œ è¦è¿›è¡Œå°è£…å’Œè§£åŒ…

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/aefc41ab837347b79ee3bc1f5a2e3400.png)
  
ä¸‹é¢æˆ‘ä»¬æ˜ç¡®ä¸€ä¸‹æ¦‚å¿µ

![](https://i-blog.csdnimg.cn/direct/8abba175db764002ba9d26f58e089771.png#pic_center)
- \*\*
æŠ¥å¤´éƒ¨åˆ†ï¼Œ å°±æ˜¯å¯¹åº”åè®®å±‚çš„ç»“æ„ä½“å­—æ®µï¼Œ æˆ‘ä»¬ä¸€èˆ¬å«åš `æŠ¥å¤´`\*\* - \*\*é™¤äº†æŠ¥å¤´ï¼Œ å‰©ä¸‹çš„å«åš `æœ‰æ•ˆè½½è·`\*\* - \*\*æ•…ï¼Œ `æŠ¥æ–‡ = æŠ¥å¤´ + æœ‰æ•ˆè½½è·`\*\*

ç„¶åï¼Œ æˆ‘ä»¬åœ¨æ˜ç¡®ä¸€ä¸‹ä¸åŒå±‚çš„å®Œæ•´æŠ¥æ–‡çš„å«æ³•

> * **ä¸åŒçš„åè®®å±‚å¯¹æ•°æ®åŒ…æœ‰ä¸åŒçš„ç§°è°“, åœ¨
>   `ä¼ è¾“å±‚å«åš æ®µ(segment)`
>   , åœ¨
>   `ç½‘ç»œå±‚å«åš æ•°æ®æŠ¥ (datagram)`
>   , åœ¨
>   `é“¾è·¯å±‚å«åš å¸§(frame).`**
> * **åº”ç”¨å±‚æ•°æ®é€šè¿‡åè®®æ ˆå‘åˆ°ç½‘ç»œä¸Šæ—¶,æ¯å±‚åè®®éƒ½è¦åŠ ä¸Šä¸€ä¸ª æ•°æ®é¦–éƒ¨(header), ç§°ä¸º å°è£…(Encapsulation).**
> * **é¦–éƒ¨ä¿¡æ¯ä¸­åŒ…å«äº†ä¸€äº›ç±»ä¼¼äºé¦–éƒ¨æœ‰å¤šé•¿, è½½è·(payload) æœ‰å¤šé•¿, ä¸Šå±‚åè®®æ˜¯ä»€ä¹ˆç­‰ä¿¡æ¯.**
> * **`æ•°æ®å°è£…æˆå¸§åå‘åˆ°ä¼ è¾“ä»‹è´¨ä¸Š,åˆ°è¾¾ç›®çš„ä¸»æœºåæ¯å±‚åè®®å†å‰¥æ‰ç›¸åº”çš„é¦–éƒ¨,æ ¹æ®é¦–éƒ¨ä¸­çš„ "ä¸Šå±‚åè®®å­—æ®µ" å°†æ•°æ®äº¤ç»™å¯¹åº”çš„ä¸Šå±‚åè®®å¤„ç†`**

æœ€åï¼Œ åœ¨æ•´ä½“å¤ç›˜ä¸€ä¸‹ï¼š

![](https://i-blog.csdnimg.cn/direct/3878cb9c0c564b949d1a04a2052a7e9c.png#pic_center)

* **åœ¨ç½‘ç»œä¼ è¾“çš„è¿‡ç¨‹ä¸­ï¼Œ æ•°æ®ä¸æ˜¯ç›´æ¥å‘é€ç»™å¯¹æ–¹ä¸»æœºçš„ï¼Œ è€Œæ˜¯å…ˆè¦è‡ªå®šå‘ä¸‹å°†æ•°æ®äº¤ä»˜ç»™ä¸‹å±‚åè®®ï¼Œ æœ€åç”±åº•å±‚å‘é€ï¼Œ ç„¶åç”±å¯¹æ–¹ä¸»æœºçš„åº•å±‚æ¥è¿›è¡Œæ¥å—ï¼Œ åœ¨è‡ªåº•å‘ä¸Šè¿›è¡Œå‘ä¸Šäº¤ä»˜ï¼Œ ä¸‹é¢æ˜¯ä¸€å¼ ç¤ºæ„å›¾ã€‚**

#### 4-1-2 æ•°æ®åŒ…å°è£…å’Œåˆ†ç”¨

ä¸‹å›¾ä¸ºæ•°æ®å°è£…çš„è¿‡ç¨‹

![](https://i-blog.csdnimg.cn/direct/8e8dbd06b73e4a7b8e251ae4edd6e903.png#pic_center)
ä¸‹å›¾ä¸ºæ•°æ®åˆ†ç”¨çš„è¿‡ç¨‹
![](https://i-blog.csdnimg.cn/direct/615f8571570146faa7d8d2b111502c23.png#pic_center)
ä»ä»Šå¤©å¼€å§‹ï¼Œ æˆ‘ä»¬å­¦ä¹ ä»»ä½•åè®®ï¼Œ éƒ½è¦å…ˆå®è§‚ä¸Šå»ºç«‹è¿™æ ·çš„è®¤è¯†ï¼š 1. è¦å­¦ä¹ çš„åè®®ï¼Œ æ˜¯å¦‚ä½•åšåˆ°è§£åŒ…çš„ï¼Ÿ åªæœ‰æ˜ç¡®äº†è§£åŒ…ï¼Œ å°åŒ…ä¹Ÿå°±èƒ½ç†è§£ 2. è¦å­¦ä¹ çš„åè®®ï¼Œ æ˜¯å¦‚ä½•åšåˆ°å°†è‡ªå·±çš„æœ‰æ•ˆè½½è·ï¼Œ äº¤ä»˜ç»™ä¸Šå±‚åè®®çš„ï¼Ÿï¼ˆåˆ†ç”¨ï¼‰

### ğŸ¦‹ 4-2 è·¨ç½‘ç»œä¼ è¾“æµç¨‹å›¾

#### 4-2-1 ç½‘ç»œä¸­çš„åœ°å€ç®¡ç† - è®¤è¯† IP åœ°å€

IP åè®®æœ‰ä¸¤ä¸ªç‰ˆæœ¬, IPv4 å’Œ IPv6. æˆ‘ä»¬æ•´ä¸ªçš„åšå®¢, å‡¡æ˜¯æåˆ° IP åè®®, æ²¡æœ‰ç‰¹æ®Šè¯´æ˜çš„,é»˜è®¤éƒ½æ˜¯æŒ‡ IPv4

* IP åœ°å€æ˜¯åœ¨ IP åè®®ä¸­, ç”¨æ¥æ ‡è¯†ç½‘ç»œä¸­ä¸åŒä¸»æœºçš„åœ°å€;
* å¯¹äº IPv4 æ¥è¯´, IP åœ°å€æ˜¯ä¸€ä¸ª 4 å­—èŠ‚, 32 ä½çš„æ•´æ•°;
* æˆ‘ä»¬é€šå¸¸ä¹Ÿä½¿ç”¨ â€œç‚¹åˆ†åè¿›åˆ¶â€ çš„å­—ç¬¦ä¸²è¡¨ç¤º IP åœ°å€, ä¾‹å¦‚ 192.168.0.1 ; ç”¨ç‚¹åˆ†å‰²çš„æ¯ä¸€ä¸ªæ•°å­—è¡¨ç¤ºä¸€ä¸ªå­—èŠ‚, èŒƒå›´æ˜¯ 0 - 255;

ğŸ“š
**è·¨ç½‘æ®µçš„ä¸»æœºçš„æ•°æ®ä¼ è¾“. æ•°æ®ä»ä¸€å°è®¡ç®—æœºåˆ°å¦ä¸€å°è®¡ç®—æœºä¼ è¾“è¿‡ç¨‹ä¸­è¦ç»è¿‡ä¸€ä¸ªæˆ–å¤šä¸ªè·¯ç”±å™¨**

ä¸‹é¢æ˜¯ä¸€å¼ ç¤ºæ„å›¾
  
![](https://i-blog.csdnimg.cn/direct/4c59757575974599add3eb70655244b6.png#pic_center)
  
é¦–å…ˆç†è§£ä¸€ä¸‹ IP åœ°å€çš„æ„ä¹‰

* ä¸ºä»€ä¹ˆè¦å»ç›®æ ‡ä¸»æœºï¼Œ å…ˆè¦èµ°è·¯ç”±å™¨ï¼Ÿ
* ç›®çš„ IP çš„æ„ä¹‰

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/928262868d7b407c9c497dbb0956f72a.png)
  
ğŸ“š
**ç„¶åç»“åˆå°è£…ä¸è§£åŒ…ï¼Œ ä½“ç°è·¯ç”±å™¨è§£åŒ…å’Œé‡æ–°å°è£…çš„ç‰¹ç‚¹**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/7b70dac9d6964583a52f6c89f7c78f08.png)
  
å¯¹æ¯” IP åœ°å€å’Œ Mac åœ°å€çš„åŒºåˆ«

* **IP åœ°å€åœ¨æ•´ä¸ªè·¯ç”±è¿‡ç¨‹ä¸­ï¼Œ ä¸€ç›´ä¸å˜(ç›®å‰ï¼Œ æˆ‘ä»¬åªèƒ½è¿™æ ·è¯´æ˜ï¼Œ åé¢åœ¨ä¿®æ­£)**
* **Mac åœ°å€ä¸€ç›´åœ¨å˜**
* **ç›®çš„ IP æ˜¯ä¸€ç§é•¿è¿œç›®æ ‡ï¼Œ Mac æ˜¯ä¸‹ä¸€é˜¶æ®µç›®æ ‡ï¼Œ ç›®çš„ IP æ˜¯è·¯å¾„é€‰æ‹©çš„é‡è¦ä¾æ®ï¼Œ mac åœ°å€æ˜¯å±€åŸŸç½‘è½¬å‘çš„é‡è¦ä¾æ®**

æç‚¼ IP ç½‘ç»œçš„æ„ä¹‰å’Œç½‘ç»œé€šä¿¡çš„å®è§‚æµç¨‹
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/94640b67a3184b579bafc6ec6fbcb415.png)
  
**IP ç½‘ç»œå±‚å­˜åœ¨çš„æ„ä¹‰ï¼š æä¾›ç½‘ç»œè™šæ‹Ÿå±‚ï¼Œ è®©ä¸–ç•Œçš„æ‰€æœ‰ç½‘ç»œéƒ½æ˜¯ IP ç½‘ç»œï¼Œ å±è”½æœ€åº•å±‚ç½‘ç»œçš„å·®å¼‚**

## äº”ï¼šğŸ”¥ Socket ç¼–ç¨‹é¢„å¤‡

### ğŸ¦‹ 5-1 ç†è§£æº IP åœ°å€å’Œç›®çš„ IP åœ°å€

* IP åœ¨ç½‘ç»œä¸­ï¼Œ ç”¨æ¥æ ‡è¯†ä¸»æœºçš„å”¯ä¸€æ€§
* æ³¨æ„ï¼š åé¢æˆ‘ä»¬ä¼šè®² IP çš„åˆ†ç±»ï¼Œ åé¢ä¼šè¯¦ç»†é˜è¿° IP çš„ç‰¹ç‚¹

ä½†æ˜¯è¿™é‡Œè¦æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼š æ•°æ®ä¼ è¾“åˆ°ä¸»æœºæ˜¯ç›®çš„å—ï¼Ÿ ä¸æ˜¯çš„ã€‚ å› ä¸ºæ•°æ®æ˜¯ç»™äººç”¨çš„ã€‚ æ¯”å¦‚ï¼š èŠå¤©æ˜¯äººåœ¨èŠå¤©ï¼Œ ä¸‹è½½æ˜¯äººåœ¨ä¸‹è½½ï¼Œ æµè§ˆç½‘é¡µæ˜¯äººåœ¨æµè§ˆï¼Ÿ

ä½†æ˜¯äººæ˜¯æ€ä¹ˆçœ‹åˆ°èŠå¤©ä¿¡æ¯çš„å‘¢ï¼Ÿ æ€ä¹ˆæ‰§è¡Œä¸‹è½½ä»»åŠ¡å‘¢ï¼Ÿ æ€ä¹ˆæµè§ˆç½‘é¡µä¿¡æ¯å‘¢ï¼Ÿ é€šè¿‡å¯åŠ¨çš„ qqï¼Œ è¿…é›·ï¼Œ æµè§ˆå™¨ã€‚

è€Œå¯åŠ¨çš„ qqï¼Œ è¿…é›·ï¼Œ æµè§ˆå™¨éƒ½æ˜¯è¿›ç¨‹ã€‚ æ¢å¥è¯è¯´ï¼Œ è¿›ç¨‹æ˜¯äººåœ¨ç³»ç»Ÿä¸­çš„ä»£è¡¨ï¼Œ åªè¦æŠŠæ•°æ®ç»™è¿›ç¨‹ï¼Œ äººå°±ç›¸å½“äºå°±æ‹¿åˆ°äº†æ•°æ®ã€‚

**æ‰€ä»¥ï¼š æ•°æ®ä¼ è¾“åˆ°ä¸»æœºä¸æ˜¯ç›®çš„ï¼Œ è€Œæ˜¯æ‰‹æ®µã€‚ åˆ°è¾¾ä¸»æœºå†…éƒ¨ï¼Œ åœ¨äº¤ç»™ä¸»æœºå†…çš„è¿›ç¨‹ï¼Œæ‰æ˜¯ç›®çš„ã€‚**

ä½†æ˜¯ç³»ç»Ÿä¸­ï¼Œ åŒæ—¶ä¼šå­˜åœ¨éå¸¸å¤šçš„è¿›ç¨‹ï¼Œ å½“æ•°æ®åˆ°è¾¾ç›®æ ‡ä¸»æœºä¹‹åï¼Œ æ€ä¹ˆè½¬å‘ç»™ç›®æ ‡è¿›ç¨‹ï¼Ÿ è¿™å°±è¦åœ¨ç½‘ç»œçš„èƒŒæ™¯ä¸‹ï¼Œ åœ¨ç³»ç»Ÿä¸­ï¼Œ æ ‡è¯†ä¸»æœºçš„å”¯ä¸€æ€§ã€‚

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/8765e6cfe18a4bfbb3b6692cd74324c3.png)

### ğŸ¦‹ 5-2 è®¤è¯†ç«¯å£å·

ç«¯å£å·(port)æ˜¯ä¼ è¾“å±‚åè®®çš„å†…å®¹.

> * **ç«¯å£å·æ˜¯ä¸€ä¸ª 2 å­—èŠ‚ 16 ä½çš„æ•´æ•°;**
> * **ç«¯å£å·ç”¨æ¥æ ‡è¯†ä¸€ä¸ªè¿›ç¨‹, å‘Šè¯‰æ“ä½œç³»ç»Ÿ, å½“å‰çš„è¿™ä¸ªæ•°æ®è¦äº¤ç»™å“ªä¸€ä¸ªè¿›ç¨‹æ¥å¤„ç†;**
> * **IP åœ°å€ + ç«¯å£å·èƒ½å¤Ÿæ ‡è¯†ç½‘ç»œä¸Šçš„æŸä¸€å°ä¸»æœºçš„æŸä¸€ä¸ªè¿›ç¨‹;**
> * **ä¸€ä¸ªç«¯å£å·åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹å ç”¨**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/5b25ecc8e1e042658977e68ad00fe219.png)

#### 5-2-1 ç«¯å£å·èŒƒå›´åˆ’åˆ†

> * **`0 - 1023: çŸ¥åç«¯å£å·`
>   , HTTP, FTP, SSH ç­‰è¿™äº›å¹¿ä¸ºä½¿ç”¨çš„åº”ç”¨å±‚åè®®, ä»–ä»¬çš„ç«¯å£å·éƒ½æ˜¯å›ºå®šçš„.**
> * **`1024 - 65535`
>   : æ“ä½œç³»ç»ŸåŠ¨æ€åˆ†é…çš„ç«¯å£å·. å®¢æˆ·ç«¯ç¨‹åºçš„ç«¯å£å·, å°±æ˜¯ç”±æ“ä½œç³»ç»Ÿä»è¿™ä¸ªèŒƒå›´åˆ†é…çš„.**

#### 5-2-2 ç†è§£ â€œç«¯å£å·â€ å’Œ â€œè¿›ç¨‹ IDâ€

æˆ‘ä»¬ä¹‹å‰åœ¨å­¦ä¹ ç³»ç»Ÿç¼–ç¨‹çš„æ—¶å€™, å­¦ä¹ äº† pid è¡¨ç¤ºå”¯ä¸€ä¸€ä¸ªè¿›ç¨‹; æ­¤å¤„æˆ‘ä»¬çš„ç«¯å£å·ä¹Ÿæ˜¯å”¯ä¸€è¡¨ç¤ºä¸€ä¸ªè¿›ç¨‹. é‚£ä¹ˆè¿™ä¸¤è€…ä¹‹é—´æ˜¯æ€æ ·çš„å…³ç³»?

10086 ä¾‹å­
  
**å¦å¤–, ä¸€ä¸ªè¿›ç¨‹å¯ä»¥ç»‘å®šå¤šä¸ªç«¯å£å·; ä½†æ˜¯ä¸€ä¸ªç«¯å£å·ä¸èƒ½è¢«å¤šä¸ªè¿›ç¨‹ç»‘å®š;**

* **`è¿›ç¨‹ ID å±äºç³»ç»Ÿæ¦‚å¿µï¼Œ æŠ€æœ¯ä¸Šä¹Ÿå…·æœ‰å”¯ä¸€æ€§ï¼Œ ç¡®å®å¯ä»¥ç”¨æ¥æ ‡è¯†å”¯ä¸€çš„ä¸€ä¸ªè¿›ç¨‹ï¼Œ ä½†æ˜¯è¿™æ ·åšï¼Œ ä¼šè®©ç³»ç»Ÿè¿›ç¨‹ç®¡ç†å’Œç½‘ç»œå¼ºè€¦åˆï¼Œ å®é™…è®¾è®¡çš„æ—¶å€™ï¼Œ å¹¶æ²¡æœ‰é€‰æ‹©è¿™æ ·åšã€‚`**

#### 5-2-3 ç†è§£æºç«¯å£å·å’Œç›®çš„ç«¯å£å·

ğŸ“š
**ä¼ è¾“å±‚åè®®(TCP å’Œ UDP)çš„æ•°æ®æ®µä¸­æœ‰ä¸¤ä¸ªç«¯å£å·, åˆ†åˆ«å«åš æºç«¯å£å· å’Œ ç›®çš„ç«¯å£å·. å°±æ˜¯åœ¨æè¿° â€œæ•°æ®æ˜¯è°å‘çš„, è¦å‘ç»™è°â€;**

### ğŸ¦‹ 5-3 ç†è§£ socket

* **ç»¼ä¸Šï¼Œ IP åœ°å€ç”¨æ¥æ ‡è¯†äº’è”ç½‘ä¸­å”¯ä¸€çš„ä¸€å°ä¸»æœºï¼Œ port ç”¨æ¥æ ‡è¯†è¯¥ä¸»æœºä¸Šå”¯ä¸€çš„ä¸€ä¸ªç½‘ç»œè¿›ç¨‹**
* **IP+Port å°±èƒ½è¡¨ç¤ºäº’è”ç½‘ä¸­å”¯ä¸€çš„ä¸€ä¸ªè¿›ç¨‹**
* **æ‰€ä»¥ï¼Œ é€šä¿¡çš„æ—¶å€™ï¼Œ æœ¬è´¨æ˜¯ä¸¤ä¸ªäº’è”ç½‘è¿›ç¨‹ä»£è¡¨äººæ¥è¿›è¡Œé€šä¿¡ï¼Œ {srcIpï¼ŒsrcPortï¼Œ dstIpï¼Œ dstPort}è¿™æ ·çš„ 4 å…ƒç»„å°±èƒ½æ ‡è¯†äº’è”ç½‘ä¸­å”¯äºŒçš„ä¸¤ä¸ªè¿›ç¨‹**
* **æ‰€ä»¥ï¼Œ ç½‘ç»œé€šä¿¡çš„æœ¬è´¨ï¼Œ ä¹Ÿæ˜¯è¿›ç¨‹é—´é€šä¿¡**
* **æˆ‘ä»¬æŠŠ ip+port å«åšå¥—æ¥å­— socket**

### ğŸ¦‹ 5-4 ä¼ è¾“å±‚çš„å…¸å‹ä»£è¡¨

å¦‚æœæˆ‘ä»¬äº†è§£äº†ç³»ç»Ÿï¼Œ ä¹Ÿäº†è§£äº†ç½‘ç»œåè®®æ ˆï¼Œ æˆ‘ä»¬å°±ä¼šæ¸…æ¥šï¼Œ ä¼ è¾“å±‚æ˜¯å±äºå†…æ ¸çš„ï¼Œ é‚£ä¹ˆæˆ‘ä»¬è¦é€šè¿‡ç½‘ç»œåè®®æ ˆè¿›è¡Œé€šä¿¡ï¼Œ å¿…å®šè°ƒç”¨çš„æ˜¯ä¼ è¾“å±‚æä¾›çš„ç³»ç»Ÿè°ƒç”¨ï¼Œ æ¥è¿›è¡Œçš„ç½‘ç»œé€šä¿¡ã€‚
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/027924800885468fb84a7f85ec4a0026.png)

#### 5-4-1 è®¤è¯† TCP åè®®

**æ­¤å¤„æˆ‘ä»¬å…ˆå¯¹
`TCP(Transmission Control Protocol ä¼ è¾“æ§åˆ¶åè®®)`
æœ‰ä¸€ä¸ªç›´è§‚çš„è®¤è¯†; åé¢æˆ‘ä»¬å†è¯¦ç»†è®¨è®º TCP çš„ä¸€äº›ç»†èŠ‚é—®é¢˜.**

> * **ä¼ è¾“å±‚åè®®**
> * **æœ‰è¿æ¥**
> * **å¯é ä¼ è¾“**
> * **é¢å‘å­—èŠ‚æµ**

#### 5-4-2 è®¤è¯† UDP åè®®

**æ­¤å¤„æˆ‘ä»¬ä¹Ÿæ˜¯å¯¹
`UDP(User Datagram Protocol ç”¨æˆ·æ•°æ®æŠ¥åè®®)`
æœ‰ä¸€ä¸ªç›´è§‚çš„è®¤è¯†; åé¢å†è¯¦ç»†è®¨è®º.**

> * **ä¼ è¾“å±‚åè®®**
> * **æ— è¿æ¥**
> * **ä¸å¯é ä¼ è¾“**
> * **é¢å‘æ•°æ®æŠ¥**

å› ä¸ºæˆ‘ä»¬æš‚æ—¶è¿˜æ²¡æœ‰æ·±å…¥äº†è§£ tcpã€ udp åè®®ï¼Œ æ­¤å¤„åªåšäº†è§£å³å¯

### ğŸ¦‹ 5-5 ç½‘ç»œå­—èŠ‚åº

æˆ‘ä»¬å·²ç»çŸ¥é“,å†…å­˜ä¸­çš„å¤šå­—èŠ‚æ•°æ®ç›¸å¯¹äºå†…å­˜åœ°å€æœ‰å¤§ç«¯å’Œå°ç«¯ä¹‹åˆ†, ç£ç›˜æ–‡ä»¶ä¸­çš„å¤šå­—èŠ‚æ•°æ®ç›¸å¯¹äºæ–‡ä»¶ä¸­çš„åç§»åœ°å€ä¹Ÿæœ‰å¤§ç«¯å°ç«¯ä¹‹åˆ†, ç½‘ç»œæ•°æ®æµåŒæ ·æœ‰å¤§ç«¯å°ç«¯ä¹‹åˆ†. é‚£ä¹ˆå¦‚ä½•å®šä¹‰ç½‘ç»œæ•°æ®æµçš„åœ°å€å‘¢?

> * **å‘é€ä¸»æœºé€šå¸¸å°†å‘é€ç¼“å†²åŒºä¸­çš„æ•°æ®æŒ‰å†…å­˜åœ°å€ä»ä½åˆ°é«˜çš„é¡ºåºå‘å‡º;**
> * **æ¥æ”¶ä¸»æœºæŠŠä»ç½‘ç»œä¸Šæ¥åˆ°çš„å­—èŠ‚ä¾æ¬¡ä¿å­˜åœ¨æ¥æ”¶ç¼“å†²åŒºä¸­,ä¹Ÿæ˜¯æŒ‰å†…å­˜åœ°å€ä»ä½åˆ°é«˜çš„é¡ºåºä¿å­˜;**
> * **å› æ­¤,ç½‘ç»œæ•°æ®æµçš„åœ°å€åº”è¿™æ ·è§„å®š:å…ˆå‘å‡ºçš„æ•°æ®æ˜¯ä½åœ°å€,åå‘å‡ºçš„æ•°æ®æ˜¯é«˜åœ°å€.**
> * **`TCP / IP åè®®è§„å®š,ç½‘ç»œæ•°æ®æµåº”é‡‡ç”¨å¤§ç«¯å­—èŠ‚åº,å³ä½åœ°å€é«˜å­—èŠ‚.`**
> * **ä¸ç®¡è¿™å°ä¸»æœºæ˜¯å¤§ç«¯æœºè¿˜æ˜¯å°ç«¯æœº, éƒ½ä¼šæŒ‰ç…§è¿™ä¸ª TCP/IP è§„å®šçš„ç½‘ç»œå­—èŠ‚åºæ¥å‘é€/æ¥æ”¶æ•°æ®;**
> * **å¦‚æœå½“å‰å‘é€ä¸»æœºæ˜¯å°ç«¯, å°±éœ€è¦å…ˆå°†æ•°æ®è½¬æˆå¤§ç«¯; å¦åˆ™å°±å¿½ç•¥, ç›´æ¥å‘é€å³å¯**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/3ee259672269420a9c86914c2e86f50f.png)

**ğŸ¯ ä¸ºä½¿ç½‘ç»œç¨‹åºå…·æœ‰å¯ç§»æ¤æ€§,ä½¿åŒæ ·çš„ C ä»£ç åœ¨å¤§ç«¯å’Œå°ç«¯è®¡ç®—æœºä¸Šç¼–è¯‘åéƒ½èƒ½æ­£å¸¸è¿è¡Œ,å¯ä»¥è°ƒç”¨ä»¥ä¸‹åº“å‡½æ•°åšç½‘ç»œå­—èŠ‚åºå’Œä¸»æœºå­—èŠ‚åºçš„è½¬æ¢ã€‚**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/ebe6531deda44489b87efb59c713df3b.png)

> * **è¿™äº›å‡½æ•°åå¾ˆå¥½è®°,
>   `h è¡¨ç¤º host`
>   ,
>   `n è¡¨ç¤º network`
>   ,
>   `l è¡¨ç¤º 32 ä½é•¿æ•´æ•°`
>   ,
>   `s è¡¨ç¤º 16 ä½çŸ­æ•´æ•°`
>   ã€‚**
> * **ä¾‹å¦‚
>   `htonl è¡¨ç¤ºå°† 32 ä½çš„é•¿æ•´æ•°ä»ä¸»æœºå­—èŠ‚åºè½¬æ¢ä¸ºç½‘ç»œå­—èŠ‚åº`
>   , ä¾‹å¦‚å°† IP åœ°å€è½¬æ¢åå‡†å¤‡å‘é€ã€‚**
> * **å¦‚æœä¸»æœºæ˜¯å°ç«¯å­—èŠ‚åº, è¿™äº›å‡½æ•°å°†å‚æ•°åšç›¸åº”çš„å¤§å°ç«¯è½¬æ¢ç„¶åè¿”å›;**
> * **å¦‚æœä¸»æœºæ˜¯å¤§ç«¯å­—èŠ‚åº, è¿™äº›å‡½æ•°ä¸åšè½¬æ¢, å°†å‚æ•°åŸå°ä¸åŠ¨åœ°è¿”å›ã€‚**

### ğŸ¦‹ 5-6 socket ç¼–ç¨‹æ¥å£

#### 5-6-1 socket å¸¸è§ API

```cpp
// åˆ›å»º socket æ–‡ä»¶æè¿°ç¬¦ (TCP/UDP, å®¢æˆ·ç«¯ + æœåŠ¡å™¨)
int socket(int domain, int type, int protocol);

// ç»‘å®šç«¯å£å· (TCP/UDP, æœåŠ¡å™¨)
int bind(int socket, const struct sockaddr *address, socklen_t address_len);

// å¼€å§‹ç›‘å¬ socket (TCP, æœåŠ¡å™¨)
int listen(int socket, int backlog);

// æ¥æ”¶è¯·æ±‚ (TCP, æœåŠ¡å™¨)
int accept(int socket, struct sockaddr* address, socklen_t* address_len);

// å»ºç«‹è¿æ¥ (TCP, å®¢æˆ·ç«¯)
int connect(int sockfd, const struct sockaddr *addr, socklen_t addrlen);

```

#### 5-6-2 sockaddr ç»“æ„

**ğŸ¦ socket API æ˜¯ä¸€å±‚æŠ½è±¡çš„ç½‘ç»œç¼–ç¨‹æ¥å£,é€‚ç”¨äºå„ç§åº•å±‚ç½‘ç»œåè®®,å¦‚ IPv4ã€ IPv6, ä»¥åŠåé¢è¦è®²çš„ UNIX Domain Socket. ç„¶è€Œ, å„ç§ç½‘ç»œåè®®çš„åœ°å€æ ¼å¼å¹¶ä¸ç›¸åŒ.**

![](https://i-blog.csdnimg.cn/direct/c4d250b398c44e34afa2b282cb3efae9.png#pic_center)
> * **Pv4 å’Œ IPv6 çš„åœ°å€æ ¼å¼å®šä¹‰åœ¨ netinet / in.h ä¸­,IPv4 åœ°å€ç”¨ sockaddr\_in ç»“æ„ä½“è¡¨ç¤º,åŒ…æ‹¬ 16 ä½åœ°å€ç±»å‹, 16 ä½ç«¯å£å·å’Œ 32 ä½ IP åœ°å€.**
> * **IPv4ã€ IPv6 åœ°å€ç±»å‹åˆ†åˆ«å®šä¹‰ä¸ºå¸¸æ•°
>   `AF_INET`
>   ã€
>   `AF_INET6`
>   . è¿™æ ·,åªè¦å–å¾—æŸç§ sockaddr ç»“æ„ä½“çš„é¦–åœ°å€,ä¸éœ€è¦çŸ¥é“å…·ä½“æ˜¯å“ªç§ç±»å‹çš„ sockaddr ç»“æ„ä½“,å°±å¯ä»¥æ ¹æ®åœ°å€ç±»å‹å­—æ®µç¡®å®šç»“æ„ä½“ä¸­çš„å†…å®¹.**
> * **socket API å¯ä»¥éƒ½ç”¨
>   `struct sockaddr \*`
>   ç±»å‹è¡¨ç¤º, åœ¨ä½¿ç”¨çš„æ—¶å€™éœ€è¦å¼ºåˆ¶è½¬åŒ–æˆ
>   `sockaddr_in`
>   ; è¿™æ ·çš„å¥½å¤„æ˜¯ç¨‹åºçš„é€šç”¨æ€§, å¯ä»¥æ¥æ”¶ IPv4, IPv6, ä»¥åŠ UNIX Domain Socket å„ç§ç±»å‹çš„ sockaddr ç»“æ„ä½“æŒ‡é’ˆåšä¸ºå‚æ•°;**

##### 5-6-2-1 sockaddr ç»“æ„

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/e7fa608da5b24f00a1b917ddfb4317eb.png)

##### 5-6-2-2 sockaddr\_in ç»“æ„

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/66290a0ba7ae4bc8a72fa872c9e5e9af.png)
  
**è™½ç„¶ socket api çš„æ¥å£æ˜¯ sockaddr, ä½†æ˜¯æˆ‘ä»¬çœŸæ­£åœ¨åŸºäº IPv4 ç¼–ç¨‹æ—¶, ä½¿ç”¨çš„æ•°æ®ç»“æ„æ˜¯ sockaddr\_in; è¿™ä¸ªç»“æ„é‡Œä¸»è¦æœ‰ä¸‰éƒ¨åˆ†ä¿¡æ¯: åœ°å€ç±»å‹, ç«¯å£å·, IP åœ°å€ã€‚**

ğŸ“š
**å…¶ä¸­ï¼Œ
`__SOCKADDR_DOMMON`
æ˜¯ä¸€ä¸ªå® å³
`sin_family`**
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/9cdcd1dd80fe40ce9f42647338e0e99d.png)

##### 5-6-2-3 in\_addr ç»“æ„

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/450273a40a1641519d405bc6a4af1193.png)

* **in\_addr ç”¨æ¥è¡¨ç¤ºä¸€ä¸ª IPv4 çš„ IP åœ°å€. å…¶å®å°±æ˜¯ä¸€ä¸ª 32 ä½çš„æ•´æ•°;**

## å…­ï¼šğŸ”¥ å…±å‹‰

ä»¥ä¸Šå°±æ˜¯æˆ‘å¯¹
**`ã€Linuxã€‘çº¿ç¨‹åŒæ­¥ä¸äº’æ–¥`**
çš„ç†è§£ï¼Œè§‰å¾—è¿™ç¯‡åšå®¢å¯¹ä½ æœ‰å¸®åŠ©çš„ï¼Œå¯ä»¥ç‚¹èµæ”¶è—å…³æ³¨æ”¯æŒä¸€æ³¢~ğŸ˜‰
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/1c9d1ff0140a4e5685ff162c69851475.gif)