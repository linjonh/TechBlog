---
layout: post
title: "Git-初识Git-Git基本操作"
date: 2025-03-16 22:06:03 +0800
description: "通过新建或粘贴进目录的文件，并不能称之为向仓库中新增文件，而只是在。"
keywords: "【Git】--- 初识Git && Git基本操作"
categories: ['Git']
tags: ['Git']
artid: "146286485"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146286485
    alt: "Git-初识Git-Git基本操作"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146286485
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146286485
cover: https://bing.ee123.net/img/rand?artid=146286485
image: https://bing.ee123.net/img/rand?artid=146286485
img: https://bing.ee123.net/img/rand?artid=146286485
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【Git】--- 初识Git &amp;&amp; Git基本操作
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2 style="text-align:center">
     <span style="color:#a5a5a5">
      Welcome to 9ilk's Code World
     </span>
    </h2>
    <p style="text-align:center">
     <span style="color:#a5a5a5">
      <img alt="" src="https://img-blog.csdnimg.cn/direct/a50a22d51dca4ff4beeb1e31a29177aa.jpeg"/>
     </span>
    </p>
    <p>
    </p>
    <h3>
     (๑•́ ₃ •̀๑)
     <span style="color:#38d8f0">
      个人主页:
     </span>
     <span style="color:#a5a5a5">
      <a class="link-info" href="https://blog.csdn.net/2301_79448270?type=blog" title="9ilk">
       9ilk
      </a>
     </span>
    </h3>
    <h3>
     (๑•́ ₃ •̀๑)
     <span style="color:#38d8f0">
      文章专栏：
      <a class="link-info" href="https://blog.csdn.net/2301_79448270/category_12919408.html?spm=1001.2014.3001.5482" title="Git">
       Git
      </a>
     </span>
    </h3>
    <hr/>
    <blockquote>
     <p>
      <span style="color:#0d0016">
       本篇我们来初步认识Git企业级应用是什么，有什么用以及Git基本操作。
      </span>
     </p>
    </blockquote>
    <hr/>
    <h2>
     🏠 初始Git
    </h2>
    <h3>
     提出问题
    </h3>
    <p>
     在日常生活中，我们进行软件开发或日常文档维护，可能遇到以下问题：我们对文档进行多次修改，形成多个版本v1 v2 v3 v4... 长此以往我们的文档副本越来越多，每个版本都有各自内容，但最终只有一份会被我们采用，但我们想从不同版本汲取优点，面对这么多版本，我们是不清楚之前的每个版本的修改内容的，这并不方便我们进行维护，影响我们的开发效率。有什么解决方案吗？
    </p>
    <p>
    </p>
    <h2>
     解决方案
    </h2>
    <p>
     面对上面的问题，我们急需一个
     <strong>
      能记录每次修改以及版本迭代的管理系统
     </strong>
     ，这就需要引出
     <strong>
      版本控制器
     </strong>
     的概念，我们的
     <strong>
      Git
     </strong>
     就是当前主流的版本控制器。版本控制器，通俗讲就是
     <strong>
      能让你了解到一个文件的历史，以及它的发展过程的系统，即一个可以记录工程的每一次改动和版本迭代的管理系统，同时也方便多人协同作业。
     </strong>
    </p>
    <p>
     我们的主角Git是当前最主流的版本控制器，它
     <strong>
      可以控制电脑上所有格式的文件，例如doc execl dwg dgn等等。
     </strong>
     对于我们开发人员来说，Git最重要的就是可以帮助
     <strong>
      我们管理软件开发项目中的源代码文件
     </strong>
     ！
    </p>
    <h2 style="background-color:transparent">
     🏠 Git 安装
    </h2>
    <p>
     <strong>
      Centos:
     </strong>
    </p>
    <pre><code class="language-bash">git --version
sudo yum install git -y   </code></pre>
    <p>
     <strong>
      Ubuntu:
     </strong>
    </p>
    <pre><code class="language-bash">sudo apt-get remove git -y
git --version
sudo apt-get install git -y </code></pre>
    <p>
    </p>
    <h2>
     🏠 Git基本操作
    </h2>
    <h3>
     本地仓库创建
    </h3>
    <blockquote>
     <p>
      如果想使用Git管理文件，我们必须把这些文件放在Git仓库中，
      <strong>
       仓库是进⾏版本控制的⼀个⽂件⽬录。我们要想对⽂件进⾏版本控制，就必须先创建⼀个仓库出来
      </strong>
     </p>
    </blockquote>
    <p>
     先创建一个目录做测试：
    </p>
    <pre><code class="language-bash">mkdir gitcode</code></pre>
    <p id="u0169d962">
     <strong>
      创建Git本地仓库(
     </strong>
     <strong>
      注意命令要在⽂件⽬录下执行
     </strong>
     <strong>
      )：
     </strong>
    </p>
    <pre><code class="language-bash">git init</code></pre>
    <p>
     当创建成功我们可以看到以下提示：
    </p>
    <p>
     <img alt="" height="348" src="https://i-blog.csdnimg.cn/direct/343afcb78b89430c96ab9f5fedcf4fa7.png" width="1139"/>
    </p>
    <p>
     使用ls -a 命令我们发现，我们当前目录下多了个
     <strong>
      .git
     </strong>
     的隐藏目录，它是Git
     <strong>
      用来跟踪管理仓库的
     </strong>
     ，
     <strong>
      不要手动修改这个目录里面的文件，不然乱改会把Git仓库给破坏了
     </strong>
    </p>
    <p>
     <img alt="" height="884" src="https://i-blog.csdnimg.cn/direct/64ef6bf0ee5d4ad9b3218fcfd2a2cc3a.png" width="984"/>
    </p>
    <h3>
     本地仓库配置
    </h3>
    <p>
     将本地仓库创建好之后，我们最好对两个配置项email name进行配置。
    </p>
    <pre><code class="language-bash">git config [--global] user.name "Your Name"
git config [--global] user.email "email@example.com"
# 把 Your Name 改成你的昵称
# 把 email@example.com 改成邮箱的格式，只要格式正确即可</code></pre>
    <ul>
     <li>
      <strong>
       --global是一个可选项
      </strong>
      ，如果使用该选项，表示这
      <strong>
       台机器上所有的Git仓库都会使用这个配置
      </strong>
      。如果你希望在不同仓库中使用不同的name或e-mail，可以不要--global选项，但
      <strong>
       注意的是，执行命令时必须要在仓库里。
      </strong>
     </li>
    </ul>
    <p>
     <strong>
      查看配置
     </strong>
     ：
    </p>
    <pre><code class="language-bash">git config -l </code></pre>
    <p>
     <img alt="" height="321" src="https://i-blog.csdnimg.cn/direct/b66861e4252a447e89c37c75f5686e8c.png" width="1142"/>
    </p>
    <p>
     <strong>
      重置某个配置
     </strong>
     ：
    </p>
    <pre><code class="language-bash">git config [--global] --unset user.name</code></pre>
    <ul>
     <li>
      <strong>
       注意对于设置了--global选项的配置项，unset时需要带上--global
      </strong>
     </li>
    </ul>
    <p>
    </p>
    <h3>
     认识工作区，暂存区，版本库
    </h3>
    <pre><code class="language-bash">zhuang@VM-8-14-ubuntu:~/gitcode$ touch  ReadMe
zhuang@VM-8-14-ubuntu:~/gitcode$ ls
ReadMe</code></pre>
    <p>
     思考以下问题：当我们在gitcode下创建文件时，这个文件就会受到版本管理了吗？如果放在.git目录下呢？
    </p>
    <p>
     <strong>
      答案是无论放在它们两哪个都不会受到版本管理，而且我们之前也说过不允许在.git下手动修改，误操作可能会导致整个本地仓库出错。
     </strong>
    </p>
    <p>
     面对这个问题我们需要了解三个区域：
    </p>
    <ul>
     <li>
      <strong>
       工作区
      </strong>
      :是在电脑上你要写代码或文件的
      <strong>
       目录
      </strong>
      。对应我们的gitcode目录。
     </li>
     <li>
      <strong>
       暂存区
      </strong>
      :英文叫
      <strong>
       stage或index
      </strong>
      。一般存放在
      <strong>
       .git
      </strong>
      目录下的
      <strong>
       index文件(.git/index)中
      </strong>
      ,我们
      <br/>
      把暂存区有时也叫作索引(index)。
     </li>
     <li>
      <strong>
       版本库
      </strong>
      :又名仓库,英文名repository。工作区有一个隐藏目录录.
      <strong>
       git,它不算工作区,而
       <br/>
       是Git的版本库
      </strong>
      。这个版本库里面的所有文件都可以被Git管理起来,每个文件的修改、删除,Git
      <br/>
      都能跟踪,以便任何时刻都可以追踪历史,或者在将来某个时刻可以"还原"。
     </li>
    </ul>
    <p>
     工作区、暂存区、版本库三者的关系如下：
    </p>
    <p>
     <img alt="" height="719" src="https://i-blog.csdnimg.cn/direct/d8c2ed8599e34e48b75cff7e174b70be.png" width="1471"/>
    </p>
    <ul>
     <li>
      图中左侧为工作区，右侧为版本库。Git的版本库里存了很多东西，其中最重要的是暂存区。
     </li>
     <li>
      在创建Git版本库事，Git会为我们自动创建一个
      <strong>
       唯一的master分支
      </strong>
      ，以及
      <strong>
       指向master的一个指针叫HEAD。
      </strong>
     </li>
     <li>
      当执行
      <strong>
       git add
      </strong>
      操作时，会
      <strong>
       将工作区修改的内容保存到版本库的暂存区
      </strong>
      中，暂存区目录树的文件索引会被更新。注意：
      <strong>
       这里工作区修改的内容不仅仅指的是新增和修改，还有删除！
      </strong>
     </li>
     <li>
      版本库中还有一个模块，叫
      <strong>
       “对象库(objects)”，
      </strong>
      里面存储一堆
      <strong>
       git对象，维护git对象相当于维护了文件的所有版本，即进行了版本管理。
      </strong>
     </li>
     <li>
      当执行
      <strong>
       git commit
      </strong>
      操作时，会把
      <strong>
       暂存区的index树写到master分支下
      </strong>
      ，
      <strong>
       master分支会做相应的更新
      </strong>
      ，
      <strong>
       注意：git对象都存在objects里，因此暂存区存的是一个个git对象的索引，它是轻量级的一个区域
      </strong>
      。
     </li>
     <li>
      <strong>
       master指向的是当前分支，即最新commit，即最近的一个版本。
      </strong>
     </li>
    </ul>
    <blockquote>
     <p>
      <strong>
       总结
      </strong>
      ：通过新建或粘贴进目录的文件，并不能称之为向仓库中新增文件，而只是在
      <strong>
       工作区新增文件
      </strong>
      。必须通过两板斧
      <strong>
       git add
      </strong>
      和
      <strong>
       git commit
      </strong>
      才能将文件添加到仓库中进行管理。
     </p>
    </blockquote>
    <p>
     小细节：当我们刚创建完一个新目录，还没有git add时，是查看不了暂存区的，即.git目录下的index目录。
    </p>
    <p>
     <img alt="" height="853" src="https://i-blog.csdnimg.cn/direct/ea937dc5b2c8494cbab08f00e523bfc6.png" width="938"/>
    </p>
    <h3 style="background-color:transparent">
     添加文件
    </h3>
    <p>
     <span style="color:#1c7331">
      <strong>
       （1）场景一：
      </strong>
     </span>
    </p>
    <p>
     先在gitcode目录下创建一个文件ReadMe,给ReadMe文件添加内容：
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="93" id="u077af66f" src="https://i-blog.csdnimg.cn/img_convert/d187aab71d4a1e27d253002ae2a81341.png" width="662"/>
    </p>
    <p>
     <strong>
      git add : 添加内容进暂存区
     </strong>
    </p>
    <pre><code class="language-bash">git add ReadMe
</code></pre>
    <p>
     当然git add我们可以灵活使用：
    </p>
    <pre><code class="language-bash">git add [file1] [file2].. //添加一个或多个文件到暂存区
git add [dir] //添加指定目录到暂存区，包括子目录
git add . //添加当前目录下的所有文件
</code></pre>
    <p>
     <strong>
      git commit命令将暂存区内容添加到本地仓库：
     </strong>
    </p>
    <pre><code class="language-bash">git commit -m "ReadMe" //提交暂存区全部内容
git commit [file1] [file2]... -m "message"//当然也可以提交暂存区的指定文件</code></pre>
    <ul>
     <li>
      git commit 后面的
      <strong>
       -m 选项
      </strong>
      ，要跟上描述本次提交的message，由用户自己完成，这部分内容绝对不能省略，并要好好描述，它们用来记录你的提交细节，方便我们开放以及他人协作。
     </li>
    </ul>
    <p>
     我们一次性add和commit多个文件：
    </p>
    <pre><code class="language-bash">zhuang@VM-8-14-ubuntu:~/gitcode$ touch file1 file2 file3
zhuang@VM-8-14-ubuntu:~/gitcode$ git add file1
zhuang@VM-8-14-ubuntu:~/gitcode$ git add file2
zhuang@VM-8-14-ubuntu:~/gitcode$ git add file3
zhuang@VM-8-14-ubuntu:~/gitcode$ git commit -m "add 3 file"
[master e42d583] add 3 file
 3 files changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 file1
 create mode 100644 file2
 create mode 100644 file3</code></pre>
    <p>
     完成之后，我们可以使用
     <strong>
      git log命令显示从最近到最远的提交日志，并且可以看到我们commit时的日志消息
     </strong>
     ：
    </p>
    <p>
     <img alt="" height="322" src="https://i-blog.csdnimg.cn/direct/fd8fdd3552464863b1adc40946daafa7.png" width="1146"/>
    </p>
    <ul>
     <li>
      commit后跟着的一串字符串是我们每次提交的
      <strong>
       commit id(版本号)，Git的commit Id是一个SHA1计算出来的一个非常大的数字，用十六进制表示。
      </strong>
     </li>
    </ul>
    <p>
     <strong>
      如果嫌git log一次性输出信息太多，可以加上--pretty=oneline：
     </strong>
    </p>
    <p>
     <img alt="" height="96" src="https://i-blog.csdnimg.cn/direct/aa74734ad7224b19a7ae400b3aded7d4.png" width="1065"/>
    </p>
    <p>
     经过上面两次提交，我们查看.git目录下发生什么变化：
    </p>
    <p>
     <img alt="" height="791" src="https://i-blog.csdnimg.cn/direct/e9fc4b2005b24a0595782a6655c6f0e9.png" width="803"/>
    </p>
    <ul>
     <li>
      我们发现新增了
      <strong>
       暂存区index
      </strong>
      ,add后的内容就是添加到这里的。
     </li>
    </ul>
    <p>
     <img alt="" height="843" src="https://i-blog.csdnimg.cn/direct/7853d86c1b79491d8c43b99d2305e41f.png" width="2081"/>
    </p>
    <ul>
     <li>
      <strong>
       HEAD指针指向的就是默认master分支
      </strong>
     </li>
    </ul>
    <p>
     <img alt="" height="162" src="https://i-blog.csdnimg.cn/direct/771e5e46c2414607a92c6d9d14f63a0f.png" width="977"/>
    </p>
    <ul>
     <li>
      <strong>
       我们查看master,里面保存的其实就是当前最新的一个commit ID，即一个git对象。
      </strong>
     </li>
    </ul>
    <p>
     <strong>
      objects
     </strong>
     为Git的对象库，里面包含了创建的各种版本库对象以及内容，当执行
     <strong>
      git add命令时，暂存区的目录树被更新，同时工作区修改的文件内容被写入到对象库中的一个新对象中
     </strong>
     ，就位于".git/objects"目录下，我们可以观察下：
    </p>
    <p>
     <img alt="" height="692" src="https://i-blog.csdnimg.cn/direct/7eb6cc6ce05f48c7b682abf6a7b66eb8.png" width="2133"/>
    </p>
    <ul>
     <li>
      查找objects时，要将commit id分成两部分，其中前两位是文件夹名称，后38位是文件名称
     </li>
    </ul>
    <p>
     <img alt="" height="243" src="https://i-blog.csdnimg.cn/direct/6216c33fb28148cd8593d8f95d7a0f5b.png" width="1034"/>
    </p>
    <ul>
     <li>
      找到这个文件之后，一般不能直接看到里面是什么，该文件是经过
      <strong>
       SHA(安全哈希算法)
      </strong>
      加密过的文件，我们可以使用
      <strong>
       git cat-file -p + commit id
      </strong>
      来查看
     </li>
    </ul>
    <p>
     <img alt="" height="180" src="https://i-blog.csdnimg.cn/direct/5c28bc91381b417991f7b40a8b7c355d.png" width="1046"/>
    </p>
    <ul>
     <li>
      其中还有一行
      <strong>
       tree，
      </strong>
      我们可以使用同样方法查看
     </li>
    </ul>
    <p>
     <img alt="" height="95" src="https://i-blog.csdnimg.cn/direct/2ee107b15f4b40ec86932e5ac391b98a.png" width="1049"/>
    </p>
    <ul>
     <li>
      在查看ReadMe对应的commit ID，我们发现
      <strong>
       我们第二次提交时对其修改的内容被git记录下来
      </strong>
     </li>
    </ul>
    <blockquote>
     <p>
      总结：在本地的git仓库中，有几个文件或目录很特殊
     </p>
     <p>
      1. index : 暂存区，git add后会更新该内容
     </p>
     <p>
      2. HEAD：默认指向master分支的一个指针。
     </p>
     <p>
      3. refs/heads/master:文件保存当前master分支的最新commit id
     </p>
     <p>
      4. objects: 包含了创建的各种版本库对象及内容，可以简单理解为
      <strong>
       存放了git维护的所有修改。
      </strong>
     </p>
    </blockquote>
    <p>
     <strong>
      <span style="color:#1c7331">
       （2）场景2
      </span>
     </strong>
    </p>
    <p>
     <img alt="" height="261" src="https://i-blog.csdnimg.cn/direct/4b835b0b7a804a6e9d388ad98ceeb948.png" width="867"/>
    </p>
    <p>
     这里我们先创建file4，再创建file5，将file4进行add存放到暂存区，这里显示只有一个文件改变了，不应是新增了两个文件吗？
    </p>
    <p>
     我们应该弄清楚，git add只是将文件添加到暂存区，git commit是将暂存区内容添加到本地仓库中。我们并没有git add file5导致其没有在暂存区中维护，因此我们commit时只将已经在暂存区中的file4提交了，要想提交file5，只需对其再进行两板斧add commit即可。
    </p>
    <p>
     <img alt="" height="177" src="https://i-blog.csdnimg.cn/direct/36db2ad3278e48e986b304fd87781c1a.png" width="885"/>
    </p>
    <h3 style="background-color:transparent">
     修改文件
    </h3>
    <blockquote>
     <p>
      Git比其他版本控制系统设计得优秀，因为
      <strong>
       Git跟踪并管理的是修改，而非文件。
      </strong>
     </p>
     <p>
      我们之前说过，修改不仅仅是修改内容，新增一行，删除一行也是修改，甚至在工作区新增文件也是一个修改。
     </p>
    </blockquote>
    <p>
     我们在工作区对ReadMe文件内容进行修改：
    </p>
    <p>
     <img alt="" height="153" src="https://i-blog.csdnimg.cn/direct/9ac3510bf0eb41eba487831f503b98ea.png" width="507"/>
    </p>
    <p>
     此时仓库中的ReadMe和工作区中的ReadMe是不同的，我们可以使用
     <strong>
      git status 查看在你上次提交之后是否对文件有再次修改
     </strong>
     ：
    </p>
    <p>
     <img alt="" height="248" src="https://i-blog.csdnimg.cn/direct/58c0767e66974289b6b5f016b7e9dae6.png" width="1027"/>
    </p>
    <p>
     <strong>
      注
     </strong>
     ：
     <strong>
      git status只能查看哪个文件变化/修改，但不知道具体修改内容(对于大文件我们cat无法准确得知修改内容)
     </strong>
    </p>
    <p>
     我们可以使用git diff [file] 命令显示暂存区和工作区文件的差异，显示的格式正式Unix通用的diff格式
    </p>
    <pre><code class="language-bash">zhuang@VM-8-14-ubuntu:~/gitcode$ git diff ReadMe
diff --git a/ReadMe b/ReadMe //a是改动前 b是改动后
index 8d0e412..05fe86c 100644
--- a/ReadMe //改动前
+++ b/ReadMe //改动后
@@ -1 +1,2 @@   //-1代表改动前第一行内容 原文件在第1行开始，并且原文件只有1行内容。
 hello git      //+1,2表示改动后从第一行开始，连续两行的内容  新文件从第1行开始，并且新增了1行，使得现在有2行内容。
+hello world </code></pre>
    <p>
     <strong>
      也可以使用git diff HEAD -- [file]来查看版本库和工作区文件的区别
     </strong>
    </p>
    <p>
     <img alt="" height="524" src="https://i-blog.csdnimg.cn/direct/d75ab5a7246a470cb574cc3c42445c66.png" width="1021"/>
    </p>
    <p>
     此时我们把修改的ReadMe再git add会提示在暂存区修改了：
    </p>
    <p>
     <img alt="" height="186" src="https://i-blog.csdnimg.cn/direct/c13ae5e5ba2d489caa36b03757312ff5.png" width="797"/>
    </p>
    <p>
     此时再commit即可：
    </p>
    <p>
     <img alt="" height="206" src="https://i-blog.csdnimg.cn/direct/6e604df43e9244e098e25d84f8805224.png" width="914"/>
    </p>
    <p>
    </p>
    <h3 style="background-color:transparent">
     版本回退
    </h3>
    <blockquote>
     <p>
      我们知道Git能够管理文件的历史版本，这也是版本控制器重要的能力，如果有一天你发现之前工作的内容出现很大问题，
      <strong>
       需要在某个特定的历史版本重新开始，此时就需要版本回退。
      </strong>
     </p>
    </blockquote>
    <p>
     Git中用于版本回退的命令是
     <strong>
      git reset
     </strong>
     ，
     <strong>
      可以指定退回某一次提交的版本
     </strong>
     。
    </p>
    <p>
     我们之前的操作使得ReadMe存在两个版本，第一个版本只有一行内容Hello git，第二个版本新增了一行内容Hello world,git reset本质
     <strong>
      是将版本库
     </strong>
     中的内容进行
     <strong>
      回退
     </strong>
     ，而
     <strong>
      工作区和暂存区是否回退
     </strong>
     取决于它的
     <strong>
      三个选项：【--soft】【--mixed】【--hard】
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       --soft
      </strong>
      :
      <strong>
       参数对于⼯作区和暂存区的内容都不变，只是将版本库回退到某个指定版本。
      </strong>
      <strong>
      </strong>
     </li>
    </ul>
    <p>
     <img alt="" height="322" src="https://i-blog.csdnimg.cn/direct/8d6f67eabb5342f7846d102bb321cc3b.png" width="1049"/>
    </p>
    <ul>
     <li>
      --mixed选项:
      <strong>
       为默认选项，使⽤时可以不⽤带该参数。该参数将暂存区
      </strong>
      <strong>
       的内容退回为指定提交版本内容,工作区文件保持不变
      </strong>
     </li>
    </ul>
    <p>
     <img alt="" height="410" src="https://i-blog.csdnimg.cn/direct/3e3db27be3b64877ae6e167e40c17f22.png" width="938"/>
    </p>
    <ul>
     <li>
      --hard:
      <strong>
       参数将暂存区与⼯作区都退回到指定版本。切记⼯作区有未提交的代码时不要⽤这个命令，因为工作区会回滚
      </strong>
      <strong>
       ，你没有提交的代码就再也找不回了，所以
      </strong>
      <span style="color:#956fe7">
       <code>
        <strong>
         使⽤该参数前⼀定要慎重
        </strong>
        <strong>
        </strong>
       </code>
      </span>
     </li>
    </ul>
    <p>
     <img alt="" height="480" src="https://i-blog.csdnimg.cn/direct/3922b003283a4bcba0587c4e8df41a2c.png" width="891"/>
    </p>
    <p>
     我们使用--hard选项演示一下：
    </p>
    <p>
     <img alt="" height="484" src="https://i-blog.csdnimg.cn/direct/875b718ab1904e759f7780b604df2bdc.png" width="1059"/>
    </p>
    <p>
     我们发现我们的三个区域都回退了，如果我们想反悔，可以使用之前打印的commit ID复原出file1 file2 file3。
     <strong>
      但这样做的前提是commit ID没有被清除
     </strong>
    </p>
    <p>
     <img alt="" height="485" src="https://i-blog.csdnimg.cn/direct/729b1462a36b4a6baae596deea35c459.png" width="1140"/>
    </p>
    <p>
     如果commit id被清除了呢?此时我们还可以使用命令
     <strong>
      git reflog查看本地记录的每一次提交id进行reset
     </strong>
    </p>
    <p>
     <img alt="" height="368" src="https://i-blog.csdnimg.cn/direct/a245520041ed49d493b4c85fc1e78dc7.png" width="1061"/>
    </p>
    <p>
     注:这个55604d7其实是commit ID的一部分,也可以用来进行回退
    </p>
    <p>
     <img alt="" height="450" src="https://i-blog.csdnimg.cn/direct/3af2d6f1f55741a3a6f252d25c41fda4.png" width="1089"/>
    </p>
    <blockquote>
     <p>
      思考一个问题 : Git版本回退的速度是比较快的,为什么呢?
     </p>
    </blockquote>
    <p>
     <img alt="" height="743" src="https://i-blog.csdnimg.cn/direct/d8b8f09f18c243ee95d6a50643fb6663.png" width="1213"/>
    </p>
    <p id="u6af6369c">
     <strong>
      Git在内部有个指向当前分⽀（此处是master）的HEAD指针， refs/heads/master⽂件⾥保存当前 master 分⽀的最新 commit id 。当我们在回退版本的时候，Git仅仅是给refs/heads/master中存储⼀个特定的version
     </strong>
     <strong>
     </strong>
     。
    </p>
    <p>
    </p>
    <h3 style="background-color:transparent">
     撤销修改
    </h3>
    <p>
     <span style="color:#1c7331">
      <strong>
       （1）情况一：对于工作区的代码还没add
      </strong>
     </span>
    </p>
    <p>
     在原来基础上我们给ReadMe新增上一行内容：
    </p>
    <p>
     <img alt="" height="452" src="https://i-blog.csdnimg.cn/direct/345771403d4745b7a7a7cb6d005ff0a3.png" width="578"/>
    </p>
    <p>
     此时我们如果想撤销工作区的内容，可以使用
     <strong>
      git checkout -- 撤销的文件名：它其实就是帮我们将工作区文件回到最近一次add/commit的状态(注意加上两杠)
     </strong>
    </p>
    <p>
     <img alt="" height="384" src="https://i-blog.csdnimg.cn/direct/49c1bf6456d2471bb64ada4f63eb6896.png" width="870"/>
    </p>
    <p>
     <strong>
      当工作区的代码没有add时，我们可以使用两种方式进行撤销：
     </strong>
    </p>
    <p>
     <strong>
      1. 手动使用Vim工具撤销 --- 对于这种方式我们不推荐，如果代码写了几天但一直没有add，此时修改容易出错
     </strong>
    </p>
    <p>
     <strong>
      2.
     </strong>
     <strong>
      我们推荐使用git checkout -- [filename]
     </strong>
    </p>
    <p>
     <span style="color:#1c7331">
      <strong>
       （2）情况二：已经add，但是没有commit
      </strong>
     </span>
    </p>
    <p>
     我们先对ReadMe文件修改，新增一行内容，add之后使用git status查看状态：
    </p>
    <p>
     <img alt="" height="303" src="https://i-blog.csdnimg.cn/direct/4757a11206084d169b3be95b6750a8df.png" width="973"/>
    </p>
    <p>
     此时我们可以使用的
     <strong>
      git reset作用更详细来说是回退到版本库的当前版本，我们可以使用--mixed选项先将暂存区回退到版本库的当前版本，再使用git checkout对工作区进行撤销：
     </strong>
    </p>
    <p>
     <img alt="" height="731" src="https://i-blog.csdnimg.cn/direct/5d077e10dfbe447198bd2b83c8b2f167.png" width="1265"/>
    </p>
    <p>
     <strong>
      补充：
     </strong>
    </p>
    <pre><code class="language-bash">git reset --mixed HEAD ReadMe //回退到当前版本
git reset --mixed HEAD^ //回退到上个版本 ^^是回退到上上个版本</code></pre>
    <p id="u42dc271f">
     <span style="color:#1c7331">
      <strong>
       （3）情况3：已经add，也已经commit
      </strong>
     </span>
    </p>
    <p>
     此时版本库是最新版本，此时可以使用
     <strong>
      git rest的--hard选项将三个区域都回退
     </strong>
     ，但是
     <strong>
      前提
     </strong>
     是
     <strong>
      commit之后，没有push，撤销才有效。(实际公司开放跑的代码都是围绕远程仓库的，所以撤销主要目的是不影响远程仓库)，Push操作是将版本从版本库-&gt;远程仓库。
     </strong>
    </p>
    <p>
     演示：
    </p>
    <p>
     准备工作
    </p>
    <p>
     <img alt="" height="153" src="https://i-blog.csdnimg.cn/direct/aa0d636bec504ca1ab4416ca4d93beb4.png" width="1012"/>
    </p>
    <p>
     撤销
    </p>
    <p>
     <img alt="" height="237" src="https://i-blog.csdnimg.cn/direct/fe7af08c6ea3437ea00f3736805adea4.png" width="963"/>
    </p>
    <p>
    </p>
    <h3 style="background-color:transparent">
     删除文件
    </h3>
    <blockquote>
     <p id="ud56c6caa">
      <strong>
       rm是删除工作区的文件
      </strong>
      ,但对于
      <strong>
       本地仓库并没有删掉，
      </strong>
      实际应该怎么删除呢？
     </p>
    </blockquote>
    <p>
     <img alt="" height="528" src="https://i-blog.csdnimg.cn/direct/509521a31f024c7e8970d0f45c641e06.png" width="1106"/>
    </p>
    <p>
     此时就完成一个文件在工作区 暂存区 版本库的修改，我们总结一下删除文件的步骤：
    </p>
    <p>
     <strong>
      1. rm --- 删除工作区内容
     </strong>
    </p>
    <p>
     <strong>
      2. git add --- 提交工作区的变动
     </strong>
    </p>
    <p>
     <strong>
      3. git commit --- 更新到版本库
     </strong>
    </p>
    <p>
     <strong>
      git rm + 要删除文件 : 该命令帮我们删除工作区文件同时帮我们add，我们只需要commit即可
     </strong>
    </p>
    <p>
     <img alt="" height="344" src="https://i-blog.csdnimg.cn/direct/241f6df216114d8897472663b92696bc.png" width="1028"/>
    </p>
    <hr/>
    <blockquote>
     <p>
      总结一下：
     </p>
     <p>
      1. Git是一个版本控制器，跟踪的是版本的修改。
     </p>
     <p>
      2. git init 创建本地仓库
     </p>
     <p>
      3. git三板斧 ： git add -&gt; 工作目录放到暂存区 git commit 暂存区-&gt;版本库master git push 本地仓库-&gt;远程仓库
     </p>
     <p>
      4. 版本回退：git reset,存在三个选项--soft --mixed --hard
     </p>
     <p>
      5. 查看相关命令：git log 查看commit id , git status 查看仓库状态
     </p>
    </blockquote>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330315f37393434383237302f:61727469636c652f64657461696c732f313436323836343835" class_="artid" style="display:none">
 </p>
</div>


