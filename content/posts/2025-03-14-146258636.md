---
layout: post
title: "开源LMDB-操作工具lmcmd"
date: 2025-03-14 16:17:36 +0800
description: "本文介绍了 LMDB（一种高效的键值存储数据库）和基于 Python 开发的命令行工具 `lmcmd`。由于 LMDB 使用二进制文件存储，管理和调试不便，因此开发了 `lmcmd`，提供了类似 Redis 的命令行操作界面，支持数据库操作、数据导入导出和查找等功能。文章涵盖了 `lmcmd` 的安装、连接数据库和常用命令（如 `set`、`get`、`export` 等）示例。最后强调了开源工具的价值，鼓励用户反馈和改进。"
keywords: "开源:LMDB 操作工具:lmcmd"
categories: ['开源', 'Python']
tags: ['测试工具', '数据库', 'Python']
artid: "146258636"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146258636
    alt: "开源LMDB-操作工具lmcmd"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146258636
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146258636
cover: https://bing.ee123.net/img/rand?artid=146258636
image: https://bing.ee123.net/img/rand?artid=146258636
img: https://bing.ee123.net/img/rand?artid=146258636
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     开源:LMDB 操作工具:lmcmd
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
    </p>
    <h3>
     目录
    </h3>
    <ol>
     <li>
      <a href="https://chatgpt.com/c/67d3c883-67a0-800a-9945-84641bcec692#%E4%BB%80%E4%B9%88%E6%98%AF-lmdb" rel="nofollow" title="什么是 LMDB">
       什么是 LMDB
      </a>
     </li>
     <li>
      <a href="https://chatgpt.com/c/67d3c883-67a0-800a-9945-84641bcec692#%E4%B8%BA%E4%BB%80%E4%B9%88%E7%BC%96%E5%86%99-lmcmd" rel="nofollow" title="为什么编写 lmcmd">
       为什么编写 lmcmd
      </a>
     </li>
     <li>
      <a href="https://chatgpt.com/c/67d3c883-67a0-800a-9945-84641bcec692#%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95" rel="nofollow" title="安装方法">
       安装方法
      </a>
     </li>
     <li>
      <a href="https://chatgpt.com/c/67d3c883-67a0-800a-9945-84641bcec692#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8" rel="nofollow" title="如何使用">
       如何使用
      </a>
      <ul>
       <li>
        <a href="https://chatgpt.com/c/67d3c883-67a0-800a-9945-84641bcec692#%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93" rel="nofollow" title="连接数据库">
         连接数据库
        </a>
       </li>
       <li>
        <a href="https://chatgpt.com/c/67d3c883-67a0-800a-9945-84641bcec692#%E5%91%BD%E4%BB%A4%E5%88%97%E8%A1%A8" rel="nofollow" title="命令列表">
         命令列表
        </a>
       </li>
      </ul>
     </li>
     <li>
      <a href="https://chatgpt.com/c/67d3c883-67a0-800a-9945-84641bcec692#%E5%B0%8F%E7%BB%93" rel="nofollow" title="小结">
       小结
      </a>
     </li>
    </ol>
    <hr/>
    <h3>
     1. 什么是 LMDB
    </h3>
    <p>
     LMDB（Lightning Memory-Mapped Database）是一种高效的键值存储数据库，基于内存映射（memory-mapping）技术，提供快速的读写操作，特别适用于高性能和高并发访问的小型数据库应用。LMDB 具有以下特点：
    </p>
    <ul>
     <li>
      <strong>
       高效性
      </strong>
      ：内存映射文件方式提高了数据存取效率。
     </li>
     <li>
      <strong>
       事务性强
      </strong>
      ：支持多版本并发控制（MVCC），保证数据一致性。
     </li>
     <li>
      <strong>
       轻量级
      </strong>
      ：数据库文件为单个文件，存储高效，适合嵌入式系统或大规模数据存储。
     </li>
     <li>
      <strong>
       ACID 特性
      </strong>
      ：提供原子性、一致性、隔离性和持久性保障，确保数据的可靠性。
     </li>
    </ul>
    <p>
     LMDB 在机器学习、数据存储等场景中应用广泛，尤其适合需要快速存取的数据集和模型。
    </p>
    <hr/>
    <h3>
     2. 为什么编写
     <code>
      lmcmd
     </code>
    </h3>
    <p>
     在使用 LMDB 的过程中，我发现其存储文件为二进制格式，这使得数据库的管理和调试变得不那么方便。同时，我没有找到一个现成的管理工具来便捷地操作 LMDB 数据库（或许是有的，但没有找到）。这让我想到 Redis 提供的
     <code>
      redis-cli
     </code>
     工具，它通过命令行界面支持高效的数据库操作，极大地方便了调试和数据管理。
    </p>
    <p>
     因此，我决定模仿
     <code>
      redis-cli
     </code>
     的命令行风格，使用 Python 开发一个 LMDB 的命令行客户端工具——
     <span style="color:#fe2c24">
      <strong>
       <code>
        lmcmd
       </code>
      </strong>
     </span>
     。它是一个基于
     <strong>
      <span style="color:#ffd900">
       <span style="background-color:#fe2c24">
        Python 的交互式控制台
       </span>
      </span>
     </strong>
     ，支持对 LMDB 数据库进行基本的键值操作，数据导入导出，查找等功能。
    </p>
    <hr/>
    <h3>
     3. 安装方法
    </h3>
    <p>
     为了方便使用，我已经将
     <code>
      lmcmd
     </code>
     发布到 PyPI 网站(
     <a class="link-info" href="https://pypi.org/project/lmcmd/" rel="nofollow" title="项目地址">
      项目地址
     </a>
     )，您可以通过
     <code>
      pip
     </code>
     或
     <code>
      pip3
     </code>
     进行安装：
    </p>
    <pre><code>pip install lmcmd
</code></pre>
    <p>
     或者：
    </p>
    <pre><code>pip3 install lmcmd
</code></pre>
    <hr/>
    <h3>
     4. 如何使用
    </h3>
    <h4>
     连接数据库
    </h4>
    <p>
     <code>
      lmcmd
     </code>
     通过指定数据库文件夹路径来连接 LMDB 数据库。如果该数据库文件夹不存在，
     <code>
      lmcmd
     </code>
     会自动创建一个新的数据库。
    </p>
    <ul>
     <li>
      <strong>
       在命令行输入以下命令连接到指定数据库
      </strong>
      ：
     </li>
    </ul>
    <pre><code>lmcmd my_database
</code></pre>
    <ul>
     <li>
      <strong>
       或者通过指定完整路径来连接
      </strong>
      ：
     </li>
    </ul>
    <pre><code>lmcmd /path/to/my_database
</code></pre>
    <p>
     <img alt="" height="135" src="https://i-blog.csdnimg.cn/direct/03ca2a4c1f704d32aea04a04b861faf1.png" width="959"/>
    </p>
    <p>
     连接成功后,进入上述界面，您将进入命令行模式，开始执行数据库操作。
    </p>
    <h4>
     命令列表
    </h4>
    <p>
     以下是
     <code>
      lmcmd
     </code>
     提供的基本命令：
    </p>
    <ul>
     <li>
      <strong>
       <code>
        show
       </code>
      </strong>
      ：显示当前数据库名称。
     </li>
     <li>
      <strong>
       <code>
        set &lt;KEY&gt; &lt;VALUE&gt;
       </code>
      </strong>
      ：存储键值数据。
     </li>
     <li>
      <strong>
       <code>
        get &lt;KEY&gt;
       </code>
      </strong>
      ：检索指定键的值。
     </li>
     <li>
      <strong>
       <code>
        del &lt;KEY&gt;
       </code>
      </strong>
      ：删除指定的键。
     </li>
     <li>
      <strong>
       <code>
        list
       </code>
      </strong>
      ：列出数据库中的所有键值对。
     </li>
     <li>
      <strong>
       <code>
        export
       </code>
      </strong>
      ：将数据库数据导出为
      <code>
       export.json
      </code>
      文件。
     </li>
     <li>
      <strong>
       <code>
        import &lt;ID&gt; &lt;FILE_PATH&gt;
       </code>
      </strong>
      ：从 JSON 文件导入数据。
     </li>
     <li>
      <strong>
       <code>
        search &lt;VALUE&gt;
       </code>
      </strong>
      ：在数据库中查找包含指定值的键。
     </li>
    </ul>
    <h4>
     示例操作
    </h4>
    <p>
     在
     <code>
      lmcmd
     </code>
     命令行下执行以下操作：
    </p>
    <pre><code>&gt;&gt;&gt; set name Alice
Ok
&gt;&gt;&gt; get name
Alice
&gt;&gt;&gt; list
{name: Alice}
&gt;&gt;&gt; export
Data Exported to export.json
&gt;&gt;&gt; import id data.json
Data Imported!
&gt;&gt;&gt; show
Database: my_database
&gt;&gt;&gt; del name
Ok
&gt;&gt;&gt; list
(Empty)
&gt;&gt;&gt; search Alice
{name: Alice}
</code></pre>
    <p>
     这些命令与
     <code>
      redis-cli
     </code>
     的操作方式非常相似，因此用户可以快速上手。
    </p>
    <hr/>
    <h3>
     5. 小结
    </h3>
    <p>
     在开源的道路上，有许多小而功能强大的工具值得我们去开发。
     <code>
      lmcmd
     </code>
     这个工具虽然简单，但它为需要使用 LMDB 的开发者提供了极大的便利。无论是在调试、管理还是操作数据时，它都能提供更高效、更便捷的体验。
    </p>
    <p>
     如果在使用过程中您发现了任何问题或有改进建议，欢迎随时在评论区告知我。
    </p>
    <p>
     <strong>
      开源路上，砥砺前行。
     </strong>
    </p>
    <p>
     <strong>
      源码地址:
      <a class="link-info" href="https://github.com/Itodot/lmcmd" title="lmcmd">
       lmcmd
      </a>
     </strong>
    </p>
    <p>
     对
     <strong>
      区块链
     </strong>
     内容感兴趣可以查看我的专栏:
     <strong>
      <span contenteditable="false" tabindex="-1">
       <a href="https://blog.csdn.net/2202_75618418/category_12659718.html" rel="noopener noreferrer" target="_blank" title="小试牛刀-区块链">
        小试牛刀-区块链
       </a>
      </span>
     </strong>
     .
    </p>
    <p>
     <span style="color:#fe2c24">
      <strong>
       感谢您的关注和收藏！
      </strong>
     </span>
     <br/>
     <img alt="" height="643" src="https://i-blog.csdnimg.cn/blog_migrate/6ff05862ca25a4824ca547b76677698d.jpeg" width="660"/>
    </p>
   </div>
  </div>
  <div class="blog-vote-box" id="blogVoteBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323230325f37353631383431382f:61727469636c652f64657461696c732f313436323538363336" class_="artid" style="display:none">
 </p>
</div>


