---
layout: post
title: "ens33没有分配到IPV4问题"
date: 2025-03-14 19:06:14 +0800
description: "从你给出的错误信息来看，在执行命令时碰到问题，原因是ens33网络接口没有分配到 IPv4 地址。"
keywords: "ens33没有分配到IPV4问题"
categories: ['未分类']
tags: ['Linux']
artid: "146265386"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146265386
    alt: "ens33没有分配到IPV4问题"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146265386
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146265386
cover: https://bing.ee123.net/img/rand?artid=146265386
image: https://bing.ee123.net/img/rand?artid=146265386
img: https://bing.ee123.net/img/rand?artid=146265386
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     ens33没有分配到IPV4问题
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     方法一：手动为
     <code>
      ens33
     </code>
     接口分配 IP 地址
    </p>
    <p>
     你能够借助
     <code>
      ip
     </code>
     命令手动给
     <code>
      ens33
     </code>
     接口分配 IP 地址。不过这种方式在系统重启之后就会失效。
    </p>
    <h5>
     步骤
    </h5>
    <ol>
     <li>
      <p>
       <strong>
        查看网络信息
       </strong>
       <br/>
       先查看一下当前网络的子网信息，例如网关地址和子网掩码等，你可以通过路由器管理界面或者其他网络设备来获取这些信息。假设子网是
       <code>
        192.168.1.0/24
       </code>
       ，网关是
       <code>
        192.168.1.1
       </code>
       。
      </p>
     </li>
     <li>
      <p>
       <strong>
        分配 IP 地址
       </strong>
       <br/>
       运用
       <code>
        ip
       </code>
       命令为
       <code>
        ens33
       </code>
       分配一个 IP 地址，这里假设分配
       <code>
        192.168.1.100
       </code>
       ：
      </p>
      <pre><code>sudo ip addr add 192.168.1.100/24 dev ens33
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        激活接口
       </strong>
       <br/>
       激活
       <code>
        ens33
       </code>
       接口：
      </p>
      <pre><code>sudo ip link set ens33 up
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        设置网关
       </strong>
       <br/>
       设置默认网关：
      </p>
      <pre><code>sudo ip route add default via 192.168.1.1 dev ens33
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        再次执行
        <code>
         arp-scan
        </code>
        命令
       </strong>
      </p>
      <pre><code>sudo arp-scan --localnet
</code></pre>
     </li>
    </ol>
    <h4>
     方法二：通过
     <code>
      netplan
     </code>
     配置静态 IP 地址
    </h4>
    <p>
     <code>
      netplan
     </code>
     是 Ubuntu 系统里用于配置网络的工具，这种配置方式在系统重启之后仍然有效。
    </p>
    <h5>
     步骤
    </h5>
    <ol>
     <li>
      <p>
       <strong>
        编辑
        <code>
         netplan
        </code>
        配置文件
       </strong>
       <br/>
       一般来说，
       <code>
        netplan
       </code>
       配置文件存放在
       <code>
        /etc/netplan/
       </code>
       目录下，文件扩展名是
       <code>
        .yaml
       </code>
       。使用文本编辑器打开该文件，例如：
      </p>
      <pre><code>sudo nano /etc/netplan/00-installer-config.yaml
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        配置
        <code>
         ens33
        </code>
        接口
       </strong>
       <br/>
       把文件内容修改成如下示例：
      </p>
      <pre><code>network:
  version: 2
  renderer: networkd
  ethernets:
    ens33:
      addresses: [192.168.1.100/24]
      gateway4: 192.168.1.1
      nameservers:
        addresses: [8.8.8.8, 8.8.4.4]
</code></pre>
      <p>
       这里
       <code>
        addresses
       </code>
       是要分配给
       <code>
        ens33
       </code>
       的 IP 地址和子网掩码，
       <code>
        gateway4
       </code>
       是默认网关，
       <code>
        nameservers
       </code>
       是 DNS 服务器地址。
      </p>
     </li>
     <li>
      <p>
       <strong>
        应用配置
       </strong>
       <br/>
       保存文件之后，执行以下命令使配置生效：
      </p>
      <pre><code>sudo netplan apply
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        再次执行
        <code>
         arp-scan
        </code>
        命令
       </strong>
      </p>
      <pre><code>sudo arp-scan --localnet
</code></pre>
     </li>
    </ol>
    <h4>
     方法三：使用 DHCP 获取 IP 地址
    </h4>
    <p>
     如果网络中存在 DHCP 服务器，你可以通过 DHCP 来自动获取 IP 地址。
    </p>
    <h5>
     步骤
    </h5>
    <ol>
     <li>
      <p>
       <strong>
        编辑
        <code>
         netplan
        </code>
        配置文件
       </strong>
       <br/>
       打开
       <code>
        netplan
       </code>
       配置文件：
      </p>
      <pre><code>sudo nano /etc/netplan/00-installer-config.yaml
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        配置
        <code>
         ens33
        </code>
        接口使用 DHCP
       </strong>
       <br/>
       把文件内容修改成如下示例：
      </p>
      <pre><code>network:
  version: 2
  renderer: networkd
  ethernets:
    ens33:
      dhcp4: true
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        应用配置
       </strong>
       <br/>
       保存文件之后，执行以下命令使配置生效：
      </p>
      <pre><code>sudo netplan apply
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        再次执行
        <code>
         arp-scan
        </code>
        命令
       </strong>
      </p>
      <pre><code>sudo arp-scan --localnet
</code></pre>
     </li>
    </ol>
    <p>
     通过以上方法，你应该能够解决
     <code>
      ens33
     </code>
     接口没有分配 IPv4 地址的问题，从而正常执行
     <code>
      arp-scan
     </code>
     命令。
    </p>
   </div>
  </div>
 </article>
 <p alt="6874747073:3a2f2f626c6f672e6373646e2e6e65742f6c756f716963652f:61727469636c652f64657461696c732f313436323635333836" class_="artid" style="display:none">
 </p>
</div>


