---
layout: post
title: "flaskå®ç°mvcæ¨¡å¼"
date: 2025-03-06 21:15:26 +0800
description: "Flask é»˜è®¤æ˜¯ä¸€ä¸ªè½»é‡çº§æ¡†æ¶ï¼Œå¹¶ä¸å¼ºåˆ¶ä½¿ç”¨ MVC æ¨¡å¼ï¼Œä½†æˆ‘ä»¬å¯ä»¥æŒ‰ç…§ MVC ç»“æ„æ¥ç»„ç»‡ä»£ç ï¼Œä½¿é¡¹ç›®æ›´åŠ æ¸…æ™°å’Œå¯ç»´æŠ¤ã€‚è¿™æ ·ç»„ç»‡ä»£ç åï¼ŒFlask ä¹Ÿèƒ½éµå¾ª MVC æ¨¡å¼ï¼Œä½¿ä»£ç ç»“æ„æ¸…æ™°ã€æ˜“ç»´æŠ¤ï¼å……å½“ Controllerï¼Œä½¿å…¶ç¬¦åˆ MVC æ¨¡å¼ã€‚æ•°æ®åº“æ¨¡å‹ï¼ˆä½¿ç”¨ Flask-SQLAlchemyï¼‰å‰ç«¯ HTML æ¨¡æ¿ï¼ˆä½¿ç”¨ Jinja2ï¼‰Flask æœ¬èº«å¹¶æ²¡æœ‰ä¸¥æ ¼çš„ã€‚æ§åˆ¶å™¨ï¼ˆå®šä¹‰è·¯ç”±å’Œä¸šåŠ¡é€»è¾‘ï¼‰"
keywords: "flaskå®ç°mvcæ¨¡å¼"
categories: ['Python']
tags: ['Python', 'Mvc', 'Flask']
artid: "146080042"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146080042
    alt: "flaskå®ç°mvcæ¨¡å¼"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146080042
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146080042
cover: https://bing.ee123.net/img/rand?artid=146080042
image: https://bing.ee123.net/img/rand?artid=146080042
img: https://bing.ee123.net/img/rand?artid=146080042
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     flaskå®ç°mvcæ¨¡å¼
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     Flask é»˜è®¤æ˜¯ä¸€ä¸ªè½»é‡çº§æ¡†æ¶ï¼Œå¹¶ä¸å¼ºåˆ¶ä½¿ç”¨ MVC æ¨¡å¼ï¼Œä½†æˆ‘ä»¬å¯ä»¥æŒ‰ç…§ MVC ç»“æ„æ¥ç»„ç»‡ä»£ç ï¼Œä½¿é¡¹ç›®æ›´åŠ æ¸…æ™°å’Œå¯ç»´æŠ¤ã€‚
    </p>
    <hr/>
    <h3>
     <a id="Flask__MVC__4">
     </a>
     <strong>
      Flask å®ç° MVC æ¨¡å¼
     </strong>
    </h3>
    <p>
     Flask æœ¬èº«å¹¶æ²¡æœ‰ä¸¥æ ¼çš„
     <code>
      Controller
     </code>
     å±‚ï¼Œä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡
     <strong>
      è§†å›¾å‡½æ•°ï¼ˆView Functionsï¼‰
     </strong>
     å……å½“ Controllerï¼Œä½¿å…¶ç¬¦åˆ MVC æ¨¡å¼ã€‚
    </p>
    <h4>
     <a id="_7">
     </a>
     <strong>
      ç›®å½•ç»“æ„
     </strong>
    </h4>
    <pre><code class="prism language-plaintext">flask_mvc_app/
â”‚â”€â”€ app/
â”‚   â”œâ”€â”€ models.py        # Model (æ•°æ®åº“æ¨¡å‹)
â”‚   â”œâ”€â”€ views.py         # View (è§†å›¾é€»è¾‘)
â”‚   â”œâ”€â”€ controllers.py   # Controller (è·¯ç”± &amp; ä¸šåŠ¡é€»è¾‘)
â”‚   â”œâ”€â”€ templates/       # HTML æ¨¡æ¿ (Jinja2)
â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ static/          # é™æ€æ–‡ä»¶ (CSS, JS, images)
â”‚â”€â”€ app.py               # å…¥å£æ–‡ä»¶
â”‚â”€â”€ config.py            # é…ç½®æ–‡ä»¶
â”‚â”€â”€ requirements.txt     # ä¾èµ–åº“
</code></pre>
    <hr/>
    <h3>
     <a id="1_Model_24">
     </a>
     <strong>
      1. Modelï¼ˆæ¨¡å‹å±‚ï¼‰
     </strong>
    </h3>
    <p>
     æ•°æ®åº“æ¨¡å‹ï¼ˆä½¿ç”¨ Flask-SQLAlchemyï¼‰
    </p>
    <pre><code class="prism language-python"><span class="token comment"># app/models.py</span>
<span class="token keyword">from</span> flask_sqlalchemy <span class="token keyword">import</span> SQLAlchemy

db <span class="token operator">=</span> SQLAlchemy<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Product</span><span class="token punctuation">(</span>db<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token builtin">id</span> <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>Integer<span class="token punctuation">,</span> primary_key<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    name <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>String<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nullable<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    price <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>Float<span class="token punctuation">,</span> nullable<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    stock <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>Integer<span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__repr__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f"&lt;Product </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>self<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">&gt;"</span></span>
</code></pre>
    <hr/>
    <h3>
     <a id="2_Controller_44">
     </a>
     <strong>
      2. Controllerï¼ˆæ§åˆ¶å™¨å±‚ï¼‰
     </strong>
    </h3>
    <p>
     æ§åˆ¶å™¨ï¼ˆå®šä¹‰è·¯ç”±å’Œä¸šåŠ¡é€»è¾‘ï¼‰
    </p>
    <pre><code class="prism language-python"><span class="token comment"># app/controllers.py</span>
<span class="token keyword">from</span> flask <span class="token keyword">import</span> render_template
<span class="token keyword">from</span> app<span class="token punctuation">.</span>models <span class="token keyword">import</span> Product

<span class="token keyword">def</span> <span class="token function">get_products</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    products <span class="token operator">=</span> Product<span class="token punctuation">.</span>query<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">"index.html"</span><span class="token punctuation">,</span> products<span class="token operator">=</span>products<span class="token punctuation">)</span>
</code></pre>
    <hr/>
    <h3>
     <a id="3_View_58">
     </a>
     <strong>
      3. Viewï¼ˆè§†å›¾å±‚ï¼‰
     </strong>
    </h3>
    <p>
     å‰ç«¯ HTML æ¨¡æ¿ï¼ˆä½¿ç”¨ Jinja2ï¼‰
    </p>
    <pre><code class="prism language-html"><span class="token comment">&lt;!-- app/templates/index.html --&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>zh<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>å•†å“åˆ—è¡¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>å•†å“åˆ—è¡¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
        {% for product in products %}
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ product.name }} - Â¥{<!-- -->{ product.price }} (åº“å­˜: {<!-- -->{ product.stock }})<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        {% endfor %}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <hr/>
    <h3>
     <a id="4_Flask__81">
     </a>
     <strong>
      4. Flask å…¥å£æ–‡ä»¶
     </strong>
    </h3>
    <pre><code class="prism language-python"><span class="token comment"># app.py</span>
<span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask
<span class="token keyword">from</span> app<span class="token punctuation">.</span>models <span class="token keyword">import</span> db
<span class="token keyword">from</span> app<span class="token punctuation">.</span>controllers <span class="token keyword">import</span> get_products

app <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">[</span><span class="token string">"SQLALCHEMY_DATABASE_URI"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"sqlite:///products.db"</span>
db<span class="token punctuation">.</span>init_app<span class="token punctuation">(</span>app<span class="token punctuation">)</span>

<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> get_products<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    <span class="token keyword">with</span> app<span class="token punctuation">.</span>app_context<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        db<span class="token punctuation">.</span>create_all<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># åˆ›å»ºæ•°æ®åº“è¡¨</span>
    app<span class="token punctuation">.</span>run<span class="token punctuation">(</span>debug<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre>
    <hr/>
    <h3>
     <a id="_Flask_MVC__104">
     </a>
     <strong>
      è¿è¡Œ Flask MVC é¡¹ç›®
     </strong>
    </h3>
    <ol>
     <li>
      å®‰è£… Flask åŠå…¶æ‰©å±•ï¼š
      <pre><code class="prism language-bash">pip <span class="token function">install</span> flask flask-sqlalchemy
</code></pre>
     </li>
     <li>
      è¿è¡Œåº”ç”¨ï¼š
      <pre><code class="prism language-bash">python app.py
</code></pre>
     </li>
     <li>
      æ‰“å¼€æµè§ˆå™¨è®¿é—®
      <code>
       http://127.0.0.1:5000/
      </code>
      ï¼Œå³å¯çœ‹åˆ°å•†å“åˆ—è¡¨ã€‚
     </li>
    </ol>
    <hr/>
    <h3>
     <a id="_117">
     </a>
     <strong>
      æ€»ç»“
     </strong>
    </h3>
    <table>
     <thead>
      <tr>
       <th>
        å±‚æ¬¡
       </th>
       <th>
        Flask å®ç°æ–¹å¼
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <strong>
         Modelï¼ˆæ¨¡å‹ï¼‰
        </strong>
       </td>
       <td>
        <code>
         models.py
        </code>
        é‡Œå®šä¹‰æ•°æ®åº“æ¨¡å‹ï¼ˆä½¿ç”¨ Flask-SQLAlchemyï¼‰
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         Viewï¼ˆè§†å›¾ï¼‰
        </strong>
       </td>
       <td>
        <code>
         templates/
        </code>
        ç›®å½•ä¸­çš„ HTML æ¨¡æ¿
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         Controllerï¼ˆæ§åˆ¶å™¨ï¼‰
        </strong>
       </td>
       <td>
        <code>
         controllers.py
        </code>
        å¤„ç†è·¯ç”±é€»è¾‘ï¼Œè°ƒç”¨ Model å¹¶è¿”å› View
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     è¿™æ ·ç»„ç»‡ä»£ç åï¼ŒFlask ä¹Ÿèƒ½éµå¾ª MVC æ¨¡å¼ï¼Œä½¿ä»£ç ç»“æ„æ¸…æ™°ã€æ˜“ç»´æŠ¤ï¼ ğŸš€
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470:733a2f2f626c6f672e6373646e2e6e65742f6c79637768752f:61727469636c652f64657461696c732f313436303830303432" class_="artid" style="display:none">
 </p>
</div>


