---
arturl_encode: "68747470:733a2f2f626c6f672e6373646e2e6e65742f6c79637768752f:61727469636c652f64657461696c732f313436303830303432"
layout: post
title: "flaskå®ç°mvcæ¨¡å¼"
date: 2025-03-06 21:15:26 +08:00
description: "Flask é»˜è®¤æ˜¯ä¸€ä¸ªè½»é‡çº§æ¡†æ¶ï¼Œå¹¶ä¸å¼ºåˆ¶ä½¿ç”¨ MVC æ¨¡å¼ï¼Œä½†æˆ‘ä»¬å¯ä»¥æŒ‰ç…§ MVC ç»“æ„æ¥ç»„ç»‡ä»£ç ï¼Œä½¿é¡¹ç›®æ›´åŠ æ¸…æ™°å’Œå¯ç»´æŠ¤ã€‚è¿™æ ·ç»„ç»‡ä»£ç åï¼ŒFlask ä¹Ÿèƒ½éµå¾ª MVC æ¨¡å¼ï¼Œä½¿ä»£ç ç»“æ„æ¸…æ™°ã€æ˜“ç»´æŠ¤ï¼å……å½“ Controllerï¼Œä½¿å…¶ç¬¦åˆ MVC æ¨¡å¼ã€‚æ•°æ®åº“æ¨¡å‹ï¼ˆä½¿ç”¨ Flask-SQLAlchemyï¼‰å‰ç«¯ HTML æ¨¡æ¿ï¼ˆä½¿ç”¨ Jinja2ï¼‰Flask æœ¬èº«å¹¶æ²¡æœ‰ä¸¥æ ¼çš„ã€‚æ§åˆ¶å™¨ï¼ˆå®šä¹‰è·¯ç”±å’Œä¸šåŠ¡é€»è¾‘ï¼‰"
keywords: "flaskå®ç°mvcæ¨¡å¼"
categories: ['Python']
tags: ['Python', 'Mvc', 'Flask']
artid: "146080042"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146080042
    alt: "flaskå®ç°mvcæ¨¡å¼"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146080042
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146080042
cover: https://bing.ee123.net/img/rand?artid=146080042
image: https://bing.ee123.net/img/rand?artid=146080042
img: https://bing.ee123.net/img/rand?artid=146080042
---

# flaskå®ç°mvcæ¨¡å¼

Flask é»˜è®¤æ˜¯ä¸€ä¸ªè½»é‡çº§æ¡†æ¶ï¼Œå¹¶ä¸å¼ºåˆ¶ä½¿ç”¨ MVC æ¨¡å¼ï¼Œä½†æˆ‘ä»¬å¯ä»¥æŒ‰ç…§ MVC ç»“æ„æ¥ç»„ç»‡ä»£ç ï¼Œä½¿é¡¹ç›®æ›´åŠ æ¸…æ™°å’Œå¯ç»´æŠ¤ã€‚

---

### **Flask å®ç° MVC æ¨¡å¼**

Flask æœ¬èº«å¹¶æ²¡æœ‰ä¸¥æ ¼çš„
`Controller`
å±‚ï¼Œä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡
**è§†å›¾å‡½æ•°ï¼ˆView Functionsï¼‰**
å……å½“ Controllerï¼Œä½¿å…¶ç¬¦åˆ MVC æ¨¡å¼ã€‚

#### **ç›®å½•ç»“æ„**

```plaintext
flask_mvc_app/
â”‚â”€â”€ app/
â”‚   â”œâ”€â”€ models.py        # Model (æ•°æ®åº“æ¨¡å‹)
â”‚   â”œâ”€â”€ views.py         # View (è§†å›¾é€»è¾‘)
â”‚   â”œâ”€â”€ controllers.py   # Controller (è·¯ç”± & ä¸šåŠ¡é€»è¾‘)
â”‚   â”œâ”€â”€ templates/       # HTML æ¨¡æ¿ (Jinja2)
â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ static/          # é™æ€æ–‡ä»¶ (CSS, JS, images)
â”‚â”€â”€ app.py               # å…¥å£æ–‡ä»¶
â”‚â”€â”€ config.py            # é…ç½®æ–‡ä»¶
â”‚â”€â”€ requirements.txt     # ä¾èµ–åº“

```

---

### **1. Modelï¼ˆæ¨¡å‹å±‚ï¼‰**

æ•°æ®åº“æ¨¡å‹ï¼ˆä½¿ç”¨ Flask-SQLAlchemyï¼‰

```python
# app/models.py
from flask_sqlalchemy import SQLAlchemy

db = SQLAlchemy()

class Product(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    name = db.Column(db.String(100), nullable=False)
    price = db.Column(db.Float, nullable=False)
    stock = db.Column(db.Integer, default=0)

    def __repr__(self):
        return f"<Product {self.name}>"

```

---

### **2. Controllerï¼ˆæ§åˆ¶å™¨å±‚ï¼‰**

æ§åˆ¶å™¨ï¼ˆå®šä¹‰è·¯ç”±å’Œä¸šåŠ¡é€»è¾‘ï¼‰

```python
# app/controllers.py
from flask import render_template
from app.models import Product

def get_products():
    products = Product.query.all()
    return render_template("index.html", products=products)

```

---

### **3. Viewï¼ˆè§†å›¾å±‚ï¼‰**

å‰ç«¯ HTML æ¨¡æ¿ï¼ˆä½¿ç”¨ Jinja2ï¼‰

```html
<!-- app/templates/index.html -->
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>å•†å“åˆ—è¡¨</title>
</head>
<body>
    <h1>å•†å“åˆ—è¡¨</h1>
    <ul>
        {% for product in products %}
            <li>{{ product.name }} - Â¥{{ product.price }} (åº“å­˜: {{ product.stock }})</li>
        {% endfor %}
    </ul>
</body>
</html>

```

---

### **4. Flask å…¥å£æ–‡ä»¶**

```python
# app.py
from flask import Flask
from app.models import db
from app.controllers import get_products

app = Flask(__name__)
app.config["SQLALCHEMY_DATABASE_URI"] = "sqlite:///products.db"
db.init_app(app)

@app.route("/")
def index():
    return get_products()

if __name__ == "__main__":
    with app.app_context():
        db.create_all()  # åˆ›å»ºæ•°æ®åº“è¡¨
    app.run(debug=True)

```

---

### **è¿è¡Œ Flask MVC é¡¹ç›®**

1. å®‰è£… Flask åŠå…¶æ‰©å±•ï¼š

   ```bash
   pip install flask flask-sqlalchemy

   ```
2. è¿è¡Œåº”ç”¨ï¼š

   ```bash
   python app.py

   ```
3. æ‰“å¼€æµè§ˆå™¨è®¿é—®
   `http://127.0.0.1:5000/`
   ï¼Œå³å¯çœ‹åˆ°å•†å“åˆ—è¡¨ã€‚

---

### **æ€»ç»“**

| å±‚æ¬¡ | Flask å®ç°æ–¹å¼ |
| --- | --- |
| **Modelï¼ˆæ¨¡å‹ï¼‰** | `models.py` é‡Œå®šä¹‰æ•°æ®åº“æ¨¡å‹ï¼ˆä½¿ç”¨ Flask-SQLAlchemyï¼‰ |
| **Viewï¼ˆè§†å›¾ï¼‰** | `templates/` ç›®å½•ä¸­çš„ HTML æ¨¡æ¿ |
| **Controllerï¼ˆæ§åˆ¶å™¨ï¼‰** | `controllers.py` å¤„ç†è·¯ç”±é€»è¾‘ï¼Œè°ƒç”¨ Model å¹¶è¿”å› View |

è¿™æ ·ç»„ç»‡ä»£ç åï¼ŒFlask ä¹Ÿèƒ½éµå¾ª MVC æ¨¡å¼ï¼Œä½¿ä»£ç ç»“æ„æ¸…æ™°ã€æ˜“ç»´æŠ¤ï¼ ğŸš€