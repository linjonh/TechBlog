---
layout: post
title: "一个差劲的软件设计"
date: 2025-03-11 18:28:11 +0800
description: "本来在visual studio里添加一个控件特别简单，拖拽就行。但是，在这个项目里，想添加一个新的按钮，一打开Form文件，就自动修改了Form、.Designer和.resx文件，改了一些位置信息，导致控件错位，所以如果想添加新的控件，都不敢直接在Form上拖拽控件，而是在Designer.cs文件里，直接写新控件的代码，这样导致效率特别低，调个位置，得来回运行好几次才能调好。3. 修改和查找控件也比较难。在100多个控件里，想找个一个控件也并不容易。4. 有同样的功能写了2遍，维护也困难。"
keywords: "一个差劲的软件设计"
categories: ['未分类']
tags: ['开发语言', 'C']
artid: "146049351"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146049351
    alt: "一个差劲的软件设计"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146049351
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146049351
cover: https://bing.ee123.net/img/rand?artid=146049351
image: https://bing.ee123.net/img/rand?artid=146049351
img: https://bing.ee123.net/img/rand?artid=146049351
---

# 一个差劲的软件设计

项目概况：

之前自己设计并开发了一个用C#开发的上位机软件，整个软件只有一个Form，一个TabControl，3个TabControlPanel，总共100多个lable、textbox、ListBox等控件都放在这3个TabControlPanel里。

问题：

1\. Designer.cs文件特别大，接近1万行。

2\. 增加控件比较难。本来在visual
studio里添加一个控件特别简单，拖拽就行。但是，在这个项目里，想添加一个新的按钮，一打开Form文件，就自动修改了Form、.Designer和.resx文件，改了一些位置信息，导致控件错位，所以如果想添加新的控件，都不敢直接在Form上拖拽控件，而是在Designer.cs文件里，直接写新控件的代码，这样导致效率特别低，调个位置，得来回运行好几次才能调好。

3\. 修改和查找控件也比较难。在100多个控件里，想找个一个控件也并不容易。

4\. 有同样的功能写了2遍，维护也困难。

解决方案：

1\. 将页面都拆成多个的用户控件。

2\. 使用成熟的框架。如prism。通过Region切换。



