---
layout: post
title: "SpringMVC-二请求处理"
date: 2025-03-12 20:09:51 +0800
description: "<title>信息提交表单</title>主要信息账户："
keywords: "SpringMVC （二）请求处理"
categories: ['Ssm']
tags: ['Tomcat', 'Spring', 'Spring', 'Java', 'Idea', 'Ee', 'Boot']
artid: "146195322"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146195322
    alt: "SpringMVC-二请求处理"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146195322
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146195322
cover: https://bing.ee123.net/img/rand?artid=146195322
image: https://bing.ee123.net/img/rand?artid=146195322
img: https://bing.ee123.net/img/rand?artid=146195322
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     SpringMVC （二）请求处理
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <hr id="hr-toc" name="tableOfContents"/>
    <p>
    </p>
    <p>
     Spring MVC 是 Spring 框架中的一个核心模块，专门用于构建
     <strong>
      灵活、松耦合的 Web 应用程序
     </strong>
     。它基于经典的
     <strong>
      MVC（Model-View-Controller）设计模式
     </strong>
     ，但通过 Spring 的依赖注入（DI）和面向切面（AOP）等特性，简化了开发流程，提高了代码的可维护性。
    </p>
    <p>
     <strong>
      与传统 Servlet/JSP 对比
     </strong>
    </p>
    <table>
     <thead>
      <tr>
       <th>
        <strong>
         特性
        </strong>
       </th>
       <th>
        <strong>
         Spring MVC
        </strong>
       </th>
       <th>
        <strong>
         传统 Servlet/JSP
        </strong>
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <strong>
         耦合性
        </strong>
       </td>
       <td>
        低（基于接口和注解）
       </td>
       <td>
        高（直接依赖 Servlet API）
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         配置
        </strong>
       </td>
       <td>
        注解驱动，简化 XML/Java 配置
       </td>
       <td>
        需手动配置
        <code>
         web.xml
        </code>
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         测试
        </strong>
       </td>
       <td>
        易于单元测试（Mock 框架支持）
       </td>
       <td>
        测试复杂（依赖容器）
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         扩展性
        </strong>
       </td>
       <td>
        模块化设计，易于扩展
       </td>
       <td>
        扩展需手动管理
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         功能集成
        </strong>
       </td>
       <td>
        无缝集成 Spring 生态（如安全、事务）
       </td>
       <td>
        需自行整合其他库
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
      复习巩固前言JSON
     </strong>
    </p>
    <p>
     <img alt="" height="1051" src="https://i-blog.csdnimg.cn/direct/a085fbb379d745f8942fcbaa39166caf.png" width="2510"/>
    </p>
    <p>
     <strong>
      图示：
     </strong>
    </p>
    <p>
     <img alt="" height="1226" src="https://i-blog.csdnimg.cn/direct/0cff5f330ac4433ea3fc49eaaec96ef6.png" width="1473"/>
    </p>
    <h2 id="%E7%AB%A0%E8%8A%82%E7%AE%80%E4%BB%8B" name="%E7%AB%A0%E8%8A%82%E7%AE%80%E4%BB%8B">
     章节简介
    </h2>
    <h2 id="%E2%80%8B%E7%BC%96%E8%BE%91" name="%E2%80%8B%E7%BC%96%E8%BE%91">
     <img alt="" height="1059" src="https://i-blog.csdnimg.cn/direct/663594f7071b4739aa88aa26857999d8.png" width="1897"/>
    </h2>
    <h2 name="%E4%B8%80%20%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86%EF%BC%88%E5%88%9D%E7%BA%A7%EF%BC%89">
     <img alt="" height="1547" src="https://i-blog.csdnimg.cn/direct/4f660a2c66334d6ebd8725a00236a271.png" width="2714"/>
    </h2>
    <h2 id="%E4%B8%80%20%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86%EF%BC%88%E5%88%9D%E7%BA%A7%EF%BC%89" name="%E4%B8%80%20%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86%EF%BC%88%E5%88%9D%E7%BA%A7%EF%BC%89">
     一 请求处理（初级）
    </h2>
    <h4 id="eg%3A%E8%AF%B7%E6%B1%82%E5%A4%B4" name="eg%3A%E8%AF%B7%E6%B1%82%E5%A4%B4">
     eg:请求头
    </h4>
    <p>
     <strong>
      1 处理请求参数
     </strong>
    </p>
    <p>
     前端代码：
    </p>
    <pre><code class="language-java">&lt;!DOCTYPE html&gt;
&lt;html lang="zh-CN"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;信息提交表单&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h3&gt;信息采集&lt;/h3&gt;
&lt;!-- 指定提交地址为 /handle02  表单数据会附加在 URL 参数中--&gt;
&lt;form action="/handle02" method="get"&gt;
    &lt;fieldset&gt;
        &lt;legend&gt;主要信息&lt;/legend&gt;
        &lt;label for="account1"&gt;账户：&lt;/label&gt;
        &lt;input type="text" id="account1" name="account" value="" maxlength="10"&gt;&lt;br&gt;
        &lt;label&gt;密码：&lt;input type="password" id="password1" name="pw" maxlength="9"&gt;&lt;/label&gt;&lt;br&gt;
        &lt;label&gt;性别：
            &lt;input type="radio" name="gender" id="gender1" value="male" checked&gt; 男
            &lt;input type="radio" name="gender" value="female"&gt; 女
        &lt;/label&gt;&lt;br&gt;
        &lt;label&gt;爱好：
            &lt;input type="text" id="hobby" name="hobby"&gt;
            &lt;input type="checkbox" name="hobby" value="smoke"&gt; 抽烟
            &lt;input type="checkbox" name="hobby" value="drink"&gt; 喝酒
            &lt;input type="checkbox" name="hobby" value="perm"&gt; 烫头
        &lt;/label&gt;&lt;br&gt;
    &lt;/fieldset&gt;
    其他补充信息：&lt;br&gt;
    &lt;textarea name="other" cols="25" rows="2"&gt;&lt;/textarea&gt;&lt;br&gt;
    籍贯：
    &lt;select name="place"&gt;
        &lt;option value="鲁"&gt;山东省&lt;/option&gt;
        &lt;option value="皖"&gt;安徽省&lt;/option&gt;
        &lt;option value="粤"&gt;广东省&lt;/option&gt;
        &lt;option value="京" selected&gt;北京市&lt;/option&gt;
        &lt;option value="苏"&gt;江苏省&lt;/option&gt;
    &lt;/select&gt;&lt;br&gt;
    &lt;input type="hidden" name="hid" value="hahahahahahaha"&gt;
    &lt;input type="submit" value="确认"&gt;
    &lt;input type="reset" value="重置"&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
    <p>
     <strong>
      请求方法类：
     </strong>
    </p>
    <pre><code class="language-java">package org.example.spring04mvc.controller;

import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

import java.util.List;

@RestController
public class RequestTestController {

    @RequestMapping("/handle01")
    public String handleRequest(
            @RequestParam String account,
            @RequestParam String pw,
            @RequestParam String gender,
            @RequestParam List&lt;String&gt; hobby,
            @RequestParam(required = false) String other,
            @RequestParam String place,
            @RequestParam String hid
    ) {
        System.out.println("Account: " + account);
        System.out.println("Password: " + pw);
        System.out.println("Gender: " + gender);
        System.out.println("Hobbies: " + hobby);
        System.out.println("Place: " + place); // 自动处理URL编码（如"京"）
        if (other != null) {
            System.out.println("Other: " + other);
        }
        System.out.println("隐藏信息: " + hid);
        return "表单上传成功！";
    }


}
</code></pre>
    <p>
     <strong>
      Sprig项目启动页面展示
     </strong>
    </p>
    <p>
     <img alt="" height="814" src="https://i-blog.csdnimg.cn/direct/1245d16b115245a9b786554452e4f862.png" width="1568"/>
    </p>
    <p>
     个人控制台与浏览器展示：
    </p>
    <p>
     <img alt="" height="334" src="https://i-blog.csdnimg.cn/direct/46cbf5c0ab944998ab750b1296f243dd.png" width="1699"/>
    </p>
    <p>
     <img alt="" height="262" src="https://i-blog.csdnimg.cn/direct/128cb12ff57742ce8ba9f800da47682a.png" width="1131"/>
    </p>
    <h2 id="%E4%BA%8C%20%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89" name="%E4%BA%8C%20%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86%EF%BC%88%E8%BF%9B%E9%98%B6%EF%BC%89">
     二 请求处理（进阶）
    </h2>
    <h4 id="eg%3A%E8%AF%B7%E6%B1%82%E4%BD%93" name="eg%3A%E8%AF%B7%E6%B1%82%E4%BD%93">
     eg:请求体
    </h4>
    <p>
     <strong>
      前端代码：
     </strong>
    </p>
    <pre><code class="language-java">&lt;!DOCTYPE html&gt;
&lt;html lang="zh-CN"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;信息提交表单&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h3&gt;信息采集&lt;/h3&gt;
&lt;!-- 指定提交地址为 /handle02 表单数据会通过 HTTP 请求体（Body） 发送到服务器。 --&gt;
&lt;form action="/handle02" method="post"&gt;
    &lt;fieldset&gt;
        &lt;legend&gt;主要信息&lt;/legend&gt;
        &lt;label for="account1"&gt;账户：&lt;/label&gt;
        &lt;input type="text" id="account1" name="account" value="" maxlength="10"&gt;&lt;br&gt;
        &lt;label&gt;密码：&lt;input type="password" id="password1" name="pw" maxlength="9"&gt;&lt;/label&gt;&lt;br&gt;
        &lt;label&gt;性别：
            &lt;input type="radio" name="gender" id="gender1" value="male" checked&gt; 男
            &lt;input type="radio" name="gender" value="female"&gt; 女
        &lt;/label&gt;&lt;br&gt;
        &lt;label&gt;爱好：
            &lt;input type="text" id="hobby" name="hobby"&gt;
            &lt;input type="checkbox" name="hobby" value="smoke"&gt; 抽烟
            &lt;input type="checkbox" name="hobby" value="drink"&gt; 喝酒
            &lt;input type="checkbox" name="hobby" value="perm"&gt; 烫头
        &lt;/label&gt;&lt;br&gt;
    &lt;/fieldset&gt;
    其他补充信息：&lt;br&gt;
    &lt;textarea name="other" cols="25" rows="2"&gt;&lt;/textarea&gt;&lt;br&gt;
    籍贯：
    &lt;select name="place"&gt;
        &lt;option value="鲁"&gt;山东省&lt;/option&gt;
        &lt;option value="皖"&gt;安徽省&lt;/option&gt;
        &lt;option value="粤"&gt;广东省&lt;/option&gt;
        &lt;option value="京" selected&gt;北京市&lt;/option&gt;
        &lt;option value="苏"&gt;江苏省&lt;/option&gt;
    &lt;/select&gt;&lt;br&gt;
    &lt;input type="hidden" name="hid" value="hahahahahahaha"&gt;
    &lt;input type="submit" value="确认"&gt;
    &lt;input type="reset" value="重置"&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
    <p>
     <strong>
      封装：（可能由于版本问题@Data使用出错）
     </strong>
    </p>
    <pre><code class="language-java">package org.example.spring04mvc.bean;

import lombok.Data;

@Data
public class emailUsers {
    // 账号指定默认值
    private String account="zhangsan";
    private String pw;
    private String gender;
    private String hid;
    private String place;
    private String other;
    private String[] hobby;


}
</code></pre>
    <p>
     指定：
    </p>
    <pre><code class="language-java">package org.example.spring04mvc.controller;

import org.example.spring04mvc.bean.emailUsers;
import org.springframework.web.bind.annotation.*;

import java.util.List;

@RestController
public class RequestTestController {

    @RequestMapping("/handle01")
    public String handleRequest(
            @RequestParam String account,
            @RequestParam String pw,
            @RequestParam String gender,
            @RequestParam List&lt;String&gt; hobby,
            @RequestParam(required = false) String other,
            @RequestParam String place,
            @RequestParam String hid
    ) {
        System.out.println("Account: " + account);
        System.out.println("Password: " + pw);
        System.out.println("Gender: " + gender);
        System.out.println("Hobbies: " + hobby);
        System.out.println("Place: " + place); // 自动处理URL编码（如"京"）
        if (other != null) {
            System.out.println("Other: " + other);
        }
        System.out.println("隐藏信息: " + hid);
        return "表单上传成功！";
    }
    @RequestMapping("/handle02")
    public String handleRequest02(emailUsers emailUser){
        System.out.println(emailUser);
        return "表单上传成功！";
    }

}
</code></pre>
    <p>
     <strong>
      运行结果：
     </strong>
    </p>
    <p>
     <img alt="" height="471" src="https://i-blog.csdnimg.cn/direct/12b0224ecd584733a0d637e1d03d5f5e.png" width="1421"/>
    </p>
    <p>
     <img alt="" height="154" src="https://i-blog.csdnimg.cn/direct/371196c42bae419a9aca4e9b087a7e72.png" width="1295"/>
    </p>
    <h2 id="%E4%B8%89%20%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E5%A4%B4" name="%E4%B8%89%20%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E5%A4%B4">
     三 获取请求头
    </h2>
    <pre><code class="language-java">    @RequestMapping("/handle03")
    public String handleRequest03(@RequestHeader(value = "Host",defaultValue = "localhost") String host) {
        System.out.println(host);
        return "Ok" + host;
    }</code></pre>
    <h2 id="%E5%9B%9B%20%E8%8E%B7%E5%8F%96Cookie" name="%E5%9B%9B%20%E8%8E%B7%E5%8F%96Cookie">
     四 获取Cookie
    </h2>
    <pre><code class="language-java">    @RequestMapping("/handle04")
    public String handleRequest04(@CookieValue(value = "JSESSIONID",defaultValue = "") String sessionId) {
        System.out.println(sessionId);
        return "Ok" + sessionId;
    }</code></pre>
    <h2 id="%E4%BA%94%20%E7%BA%A7%E8%81%94%E5%B0%81%E8%A3%85" name="%E4%BA%94%20%E7%BA%A7%E8%81%94%E5%B0%81%E8%A3%85">
     五 级联封装
    </h2>
    <p>
     <img alt="" height="1150" src="https://i-blog.csdnimg.cn/direct/a2d64e39412140d792b2af1617116f7f.png" width="1877"/>
    </p>
    <h2 id="%E5%85%AD%20%E4%BD%BF%E7%94%A8%40RequestBoby%E5%B0%81%E8%A3%85JSON%E5%AF%B9%E8%B1%A1" name="%E5%85%AD%20%E4%BD%BF%E7%94%A8%40RequestBoby%E5%B0%81%E8%A3%85JSON%E5%AF%B9%E8%B1%A1">
     六 使用@RequestBoby封装JSON对象
    </h2>
    <p>
     代码实现：
    </p>
    <pre><code class="language-java">    //测试接收JSON数据,获取请求体json的数据，自动转为对象
    @RequestMapping("/handle06")
    public String handleRequest06(@RequestBody emailUsers emailUser) {
        System.out.println(emailUser);
        return "OK";
    }</code></pre>
    <pre><code class="language-java">    //将JSON对象以字符串接收
    @RequestMapping("/handle07")
    public String handleRequest07(@RequestBody String json) {
        System.out.println(json);
        return "OK";
    }</code></pre>
    <h2 id="%E4%B8%83%20%E6%96%87%E4%BB%B6%E7%9A%84%E4%B8%8A%E4%BC%A0" name="%E4%B8%83%20%E6%96%87%E4%BB%B6%E7%9A%84%E4%B8%8A%E4%BC%A0">
     七 文件的上传
    </h2>
    <pre><code class="language-java">    //接收文件上传表单
    @RequestMapping("/handle08")
    public String handleRequest08(emailUsers emailUser,
                                  @RequestParam("file") MultipartFile f1,
                                  @RequestParam("file2") MultipartFile[] f2) throws IOException {
        // 1获取原始文件名
        String originalFilename = f1.getOriginalFilename();
        // 2获取文件大小
        long size = f1.getSize();
        // 3获取文件流
        InputStream inputStream = f1.getInputStream();
        // 4文件保存
        f1.transferTo(new File("D:\\" + originalFilename));
        System.out.println(emailUser);
        return "OK";
    }</code></pre>
    <p>
     更改部分参数
    </p>
    <p>
     <img alt="" height="524" src="https://i-blog.csdnimg.cn/direct/3848faa3b5f84eefa7c313dcff77f951.png" width="1737"/>
    </p>
    <h2 id="%E5%85%AB%20%E8%8E%B7%E5%8F%96%E6%95%B4%E4%B8%AA%E8%AF%B7%E6%B1%82%20HttpEntity" name="%E5%85%AB%20%E8%8E%B7%E5%8F%96%E6%95%B4%E4%B8%AA%E8%AF%B7%E6%B1%82%20HttpEntity">
     八 获取整个请求 HttpEntity
    </h2>
    <p>
     <code>
      HttpEntity
     </code>
     是 Spring Framework 中用于表示
     <strong>
      HTTP 请求或响应实体
     </strong>
     的核心类，它封装了 HTTP 消息的
     <strong>
      头部（Headers）
     </strong>
     和
     <strong>
      正文（Body）
     </strong>
     ，常用于客户端和服务端之间的数据交互。以下是其核心特性和用法：
    </p>
    <hr/>
    <p>
     <strong>
      1. 核心功能
     </strong>
    </p>
    <ul>
     <li>
      <p>
       <strong>
        封装数据
       </strong>
       ：包含 HTTP 消息的
       <code>
        body
       </code>
       （如 JSON、XML、表单数据）和
       <code>
        headers
       </code>
       （如
       <code>
        Content-Type
       </code>
       、
       <code>
        Authorization
       </code>
       ）。
      </p>
     </li>
     <li>
      <p>
       <strong>
        支持泛型
       </strong>
       ：
       <code>
        HttpEntity&lt;T&gt;
       </code>
       允许指定正文内容的类型（如
       <code>
        String
       </code>
       、
       <code>
        byte[]
       </code>
       、
       <code>
        Map
       </code>
       或自定义对象）。
      </p>
     </li>
     <li>
      <p>
       <strong>
        不可变性
       </strong>
       ：创建后不可修改，若需变更需通过
       <code>
        HttpEntity
       </code>
       的构建方法生成新实例。
      </p>
     </li>
    </ul>
    <pre><code class="language-java">    // HttpEntity 封装请求头请求体，把整个请求拿过来封装
    @RequestMapping("/handle09")
    public String handleRequest09(HttpEntity&lt;String&gt; httpEntity){
        //拿到请求头
        HttpHeaders headers = httpEntity.getHeaders();
        //拿到请求体
        String body = httpEntity.getBody();

        return "OK";
    }</code></pre>
    <h2 id="%E4%B9%9D%20%E5%8E%9F%E7%94%9F%E8%AF%B7%E6%B1%82" name="%E4%B9%9D%20%E5%8E%9F%E7%94%9F%E8%AF%B7%E6%B1%82">
     九 原生请求
    </h2>
    <pre><code class="language-java">    //使用原生API
    @RequestMapping("/handle10")
    public String handleRequest10(HttpServletRequest request) throws IOException {
        //拿到请求头
        Enumeration&lt;String&gt; headerNames = request.getHeaderNames();
        //拿到请求体
        String body = request.getReader().readLine();

        return "OK";
    }</code></pre>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330325f37393834373833312f:61727469636c652f64657461696c732f313436313935333232" class_="artid" style="display:none">
 </p>
</div>


