---
layout: post
title: "使用AOP-Prometheus-node-exporter-grafana-实现Java系统的接口监控"
date: 2025-03-11 23:17:33 +0800
description: "本笔记适用于想要搭建业务系统监控能力的工程狮。此笔记适用的架构为单机部署方式，更倾向于一个小demo。"
keywords: "使用AOP + Prometheus + node-exporter + grafana 实现Java系统的接口监控"
categories: ['笔记', '教程']
tags: ['Prometheus', 'Java', 'Grafana']
artid: "146191683"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146191683
    alt: "使用AOP-Prometheus-node-exporter-grafana-实现Java系统的接口监控"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146191683
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146191683
cover: https://bing.ee123.net/img/rand?artid=146191683
image: https://bing.ee123.net/img/rand?artid=146191683
img: https://bing.ee123.net/img/rand?artid=146191683
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     使用AOP + Prometheus + node-exporter + grafana 实现Java系统的接口监控
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="AOP__Prometheus__nodeexporter__grafana_Java_0">
     </a>
     使用AOP + Prometheus + node-exporter + grafana 实现Java系统的接口监控
    </h2>
    <blockquote>
     <p>
      本笔记适用于想要搭建业务系统监控能力的工程狮。此笔记适用的架构为单机部署方式，更倾向于一个小demo，本笔记需要用到cocker。请提前准备！！
     </p>
    </blockquote>
    <h4>
     <a id="1_4">
     </a>
     1.监控的目的以及监控哪些内容？
    </h4>
    <p>
     ​
     <strong>
      在平常的业务需求中，我们通常需要一下两个方面的监控来全方位了解我们的系统：
     </strong>
    </p>
    <h4>
     <a id="11__8">
     </a>
     <strong>
      1.1 机器健康度监控
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       CPU使用率
      </strong>
      、
      <strong>
       内存使用率
      </strong>
      、
      <strong>
       磁盘IO
      </strong>
      、
      <strong>
       网络流量
      </strong>
     </li>
     <li>
      <strong>
       系统负载
      </strong>
      （Load Average）
     </li>
     <li>
      <strong>
       磁盘使用情况
      </strong>
     </li>
     <li>
      <strong>
       进程存活状态
      </strong>
     </li>
     <li>
      <strong>
       Docker容器状态
      </strong>
      （如果使用容器化）
     </li>
     <li>
      <strong>
       系统日志异常
      </strong>
     </li>
    </ul>
    <h4>
     <a id="12__17">
     </a>
     <strong>
      1.2 业务监控
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       请求QPS、TPS
      </strong>
      （吞吐量）
     </li>
     <li>
      <strong>
       请求响应时间（P99, P95, P50）
      </strong>
     </li>
     <li>
      <strong>
       HTTP状态码统计
      </strong>
     </li>
     <li>
      <strong>
       数据库查询耗时
      </strong>
     </li>
     <li>
      <strong>
       缓存命中率
      </strong>
     </li>
     <li>
      <strong>
       异常日志（如超时、错误）
      </strong>
     </li>
    </ul>
    <h4>
     <a id="2__26">
     </a>
     <strong>
      2. 我们要用到哪些软件来实现呢？
     </strong>
    </h4>
    <p>
     2.1 Prometheus 主要用来存储和查询监控数据。
     <br/>
     2.2 node Exporter 这个主要是用来采集服务器的CPU、内存、磁盘、网络指标等。（值得注意的是他基本不占什么内存）
     <br/>
     2.3 grafana 通过可视化的图标来展示服务的运行情况
     <br/>
     2.4 Java spring boot + Micrometer 实现业务监控
    </p>
    <h4>
     <a id="3_Prometheus__Grafana_33">
     </a>
     3.
     <strong>
      开始搭建Prometheus + Grafana
     </strong>
    </h4>
    <p>
     3.1 创建docker-compose.yml
    </p>
    <p>
     在本地创建一个文件夹
    </p>
    <pre><code class="prism language-cmd">mkdir monitoring-demo &amp;&amp; cd monitoring-demo
</code></pre>
    <p>
     3.2 创建docker-compose.yml
    </p>
    <pre><code class="prism language-yml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3'</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">prometheus</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> prom/prometheus
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> prometheus
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> ./prometheus.yml<span class="token punctuation">:</span>/etc/prometheus/prometheus.yml
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"9090:9090"</span>

  <span class="token key atrule">grafana</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> grafana/grafana
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> grafana
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"3000:3000"</span>

  <span class="token key atrule">node-exporter</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> prom/node<span class="token punctuation">-</span>exporter
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> node<span class="token punctuation">-</span>exporter
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"9100:9100"</span>

</code></pre>
    <p>
     在上面的文件中共创建了三个容器，并为他们开放了不同的端口分别是 9090、3000以及9100 其中node-exporter用来采集docker容器的资源。
    </p>
    <pre><code class="prism language-yml"><span class="token key atrule">volumes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> ./prometheus.yml<span class="token punctuation">:</span>/etc/prometheus/prometheus.yml
</code></pre>
    <p>
     这个主要是用来配置普罗米修斯的采集规则，在docker-compose.yml的平级目录中添加一个新的yml用来进行数据采集。
    </p>
    <pre><code class="prism language-yml"><span class="token key atrule">global</span><span class="token punctuation">:</span>
  <span class="token key atrule">scrape_interval</span><span class="token punctuation">:</span> 15s  <span class="token comment"># 全局抓取间隔</span>

<span class="token key atrule">scrape_configs</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">job_name</span><span class="token punctuation">:</span> <span class="token string">'prometheus'</span> <span class="token comment"># 监控 Prometheus 自己</span>
    <span class="token key atrule">static_configs</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">targets</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'localhost:9090'</span><span class="token punctuation">]</span>
  <span class="token punctuation">-</span> <span class="token key atrule">job_name</span><span class="token punctuation">:</span> <span class="token string">'node-exporter'</span> <span class="token comment"># 监控 Node Exporter</span>
    <span class="token key atrule">static_configs</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">targets</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'node-exporter:9100'</span><span class="token punctuation">]</span>
  <span class="token punctuation">-</span> <span class="token key atrule">job_name</span><span class="token punctuation">:</span> <span class="token string">'java-demo-app'</span> <span class="token comment"># Java 业务系统</span>
    <span class="token key atrule">metrics_path</span><span class="token punctuation">:</span> <span class="token string">'/actuator/prometheus'</span>
    <span class="token key atrule">static_configs</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">targets</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'host.docker.internal:8080'</span><span class="token punctuation">]</span>
</code></pre>
    <p>
     3.3 启动docker
     <br/>
     完成上面的操作后，就可以通过下面的命令来启动容器了
    </p>
    <pre><code class="prism language-bash"><span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span> <span class="token comment"># -d 不展示启动log，在后台启动</span>
</code></pre>
    <p>
     启动后：
    </p>
    <p>
     Prometheus 访问地址：http://localhost:9090
    </p>
    <p>
     Grafana 访问地址：http://localhost:3000（默认用户
     <code>
      admin/admin
     </code>
     ） Ps🗡 第一次访问会让你改默认密码
    </p>
    <blockquote>
     <p>
      一些知识点🛩 ：
     </p>
     <ol>
      <li>
       在普罗米修斯中可以通过简单的sql来查询已经上报的数据。可以通过 http://localhost:9090/query 这个路径来查询。如果你想要看到一些数据可以尝试查一下
       <strong>
        <code>
         node_cpu_seconds_total
        </code>
       </strong>
       这个信息，你大概可以看到一堆数据
      </li>
      <li>
       如果你没看到任何信息或者你想要看普罗米修斯正在从收集哪些应用的信息，可以通过 http://localhost:9090/targets 来进行查看，这里可以看到哪些应用在线或者离线
      </li>
     </ol>
    </blockquote>
    <h4>
     <a id="4_GrafanaPrometheus_112">
     </a>
     4.
     <strong>
      在Grafana中配置Prometheus数据源
     </strong>
    </h4>
    <p>
     访问Grafana http://localshot:3000
    </p>
    <p>
     Grafana 左侧菜单 →
     <strong>
      齿轮图标（Configuration） → Data Sources
     </strong>
    </p>
    <p>
     点击
     <strong>
      Add data source
     </strong>
    </p>
    <p>
     选择
     <strong>
      Prometheus
     </strong>
    </p>
    <p>
     填写
     <strong>
      URL
     </strong>
     ：http://prometheus:9090 这里为什么写prometheus:9090呢，是以为Grafana 和 Prometheus 在同一个docker网络下，所以可以直呼其名
    </p>
    <p>
     点击
     <strong>
      Save &amp; Test
     </strong>
     → 显示
     <code>
      Data source is working
     </code>
     ，表示连接成功！
    </p>
    <h4>
     <a id="5_Dashboard_126">
     </a>
     5.
     <strong>
      导入监控面板（Dashboard）
     </strong>
    </h4>
    <h5>
     <a id="_DashboardNode_Exporter_128">
     </a>
     导入现成的服务器监控 Dashboard（Node Exporter）
    </h5>
    <ol>
     <li>
      左侧 →
      <strong>
       Dashboard（四个方块图标） → Import
      </strong>
     </li>
     <li>
      输入
      <strong>
       Dashboard ID
      </strong>
      ：
      <code>
       1860
      </code>
     </li>
     <li>
      点击
      <strong>
       Load
      </strong>
     </li>
     <li>
      选择 Prometheus 数据源
     </li>
     <li>
      点击
      <strong>
       Import
      </strong>
     </li>
    </ol>
    <p>
     <strong>
      效果
     </strong>
     ：马上看到服务器 CPU、内存、磁盘、网络图表！
    </p>
    <h4>
     <a id="___138">
     </a>
     ✅ 到目前为止你所完成事情 每个组件的职责和意义
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        组件
       </th>
       <th>
        作用
       </th>
       <th>
        你做了什么
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        Docker
       </td>
       <td>
        快速构建环境
       </td>
       <td>
        装了 Docker，部署了容器
       </td>
      </tr>
      <tr>
       <td>
        Prometheus
       </td>
       <td>
        抓取指标，保存数据
       </td>
       <td>
        配了 prometheus.yml，启动服务
       </td>
      </tr>
      <tr>
       <td>
        Node Exporter
       </td>
       <td>
        提供主机指标
       </td>
       <td>
        启动了 node-exporter，暴露 9100
       </td>
      </tr>
      <tr>
       <td>
        Grafana
       </td>
       <td>
        数据展示和分析
       </td>
       <td>
        配了数据源、导入 Dashboard
       </td>
      </tr>
     </tbody>
    </table>
    <h4>
     <a id="6_Java_DEMO_147">
     </a>
     6.
     <strong>
      启动Java DEMO
     </strong>
    </h4>
    <ol>
     <li>
      创建一个maven项目，pom文件如下
     </li>
    </ol>
    <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>io.pivotal.spring.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-services-starter-service-registry<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>io.micrometer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>micrometer-registry-prometheus<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <ol start="2">
     <li>
      配置application.yml
     </li>
    </ol>
    <pre><code class="prism language-yml">  <span class="token key atrule">spring</span><span class="token punctuation">:</span>
    <span class="token key atrule">application</span><span class="token punctuation">:</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> demo
  <span class="token key atrule">server</span><span class="token punctuation">:</span>
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>
  <span class="token comment"># 以下内容主要是上报jvm的健康度</span>
  <span class="token key atrule">management</span><span class="token punctuation">:</span>
    <span class="token key atrule">endpoints</span><span class="token punctuation">:</span>
      <span class="token key atrule">web</span><span class="token punctuation">:</span>
        <span class="token key atrule">exposure</span><span class="token punctuation">:</span>
          <span class="token key atrule">include</span><span class="token punctuation">:</span> health<span class="token punctuation">,</span>info<span class="token punctuation">,</span>prometheus
    <span class="token key atrule">metrics</span><span class="token punctuation">:</span>
      <span class="token key atrule">tags</span><span class="token punctuation">:</span>
        <span class="token key atrule">application</span><span class="token punctuation">:</span> demo<span class="token punctuation">-</span>app
</code></pre>
    <ol start="3">
     <li>
      <p>
       启动Javademo项目，这个Java项目的jvm信息将会被上报给普罗米修斯。
      </p>
     </li>
     <li>
      <p>
       想要看看 jvm GC的情况？可以在仪表盘中导入这个json模板
      </p>
     </li>
    </ol>
    <pre><code class="prism language-json">     <span class="token punctuation">{<!-- --></span>
       <span class="token string-property property">"annotations"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
         <span class="token string-property property">"list"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
       <span class="token punctuation">}</span><span class="token punctuation">,</span>
       <span class="token string-property property">"panels"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
         <span class="token punctuation">{<!-- --></span>
           <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"stat"</span><span class="token punctuation">,</span>
           <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"GC 次数 (1m)"</span><span class="token punctuation">,</span>
           <span class="token string-property property">"datasource"</span><span class="token operator">:</span> <span class="token string">"prometheus-1"</span><span class="token punctuation">,</span>
           <span class="token string-property property">"targets"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
             <span class="token punctuation">{<!-- --></span>
               <span class="token string-property property">"expr"</span><span class="token operator">:</span> <span class="token string">"increase(jvm_gc_pause_seconds_count{application=\"demo-app\"}[1m])"</span><span class="token punctuation">,</span>
               <span class="token string-property property">"interval"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
               <span class="token string-property property">"legendFormat"</span><span class="token operator">:</span> <span class="token string">"GC 次数"</span><span class="token punctuation">,</span>
               <span class="token string-property property">"refId"</span><span class="token operator">:</span> <span class="token string">"A"</span>
             <span class="token punctuation">}</span>
           <span class="token punctuation">]</span><span class="token punctuation">,</span>
           <span class="token string-property property">"fieldConfig"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
             <span class="token string-property property">"defaults"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
               <span class="token string-property property">"unit"</span><span class="token operator">:</span> <span class="token string">"none"</span><span class="token punctuation">,</span>
               <span class="token string-property property">"thresholds"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                 <span class="token string-property property">"mode"</span><span class="token operator">:</span> <span class="token string">"absolute"</span><span class="token punctuation">,</span>
                 <span class="token string-property property">"steps"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                   <span class="token punctuation">{<!-- --></span>
                     <span class="token string-property property">"color"</span><span class="token operator">:</span> <span class="token string">"green"</span><span class="token punctuation">,</span>
                     <span class="token string-property property">"value"</span><span class="token operator">:</span> <span class="token keyword">null</span>
                   <span class="token punctuation">}</span><span class="token punctuation">,</span>
                   <span class="token punctuation">{<!-- --></span>
                     <span class="token string-property property">"color"</span><span class="token operator">:</span> <span class="token string">"yellow"</span><span class="token punctuation">,</span>
                     <span class="token string-property property">"value"</span><span class="token operator">:</span> <span class="token number">5</span>
                   <span class="token punctuation">}</span><span class="token punctuation">,</span>
                   <span class="token punctuation">{<!-- --></span>
                     <span class="token string-property property">"color"</span><span class="token operator">:</span> <span class="token string">"red"</span><span class="token punctuation">,</span>
                     <span class="token string-property property">"value"</span><span class="token operator">:</span> <span class="token number">10</span>
                   <span class="token punctuation">}</span>
                 <span class="token punctuation">]</span>
               <span class="token punctuation">}</span>
             <span class="token punctuation">}</span><span class="token punctuation">,</span>
             <span class="token string-property property">"overrides"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
           <span class="token punctuation">}</span><span class="token punctuation">,</span>
           <span class="token string-property property">"options"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
             <span class="token string-property property">"reduceOptions"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
               <span class="token string-property property">"calcs"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"lastNotNull"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
               <span class="token string-property property">"fields"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
               <span class="token string-property property">"values"</span><span class="token operator">:</span> <span class="token boolean">false</span>
             <span class="token punctuation">}</span><span class="token punctuation">,</span>
             <span class="token string-property property">"orientation"</span><span class="token operator">:</span> <span class="token string">"horizontal"</span><span class="token punctuation">,</span>
             <span class="token string-property property">"colorMode"</span><span class="token operator">:</span> <span class="token string">"value"</span><span class="token punctuation">,</span>
             <span class="token string-property property">"graphMode"</span><span class="token operator">:</span> <span class="token string">"none"</span><span class="token punctuation">,</span>
             <span class="token string-property property">"justifyMode"</span><span class="token operator">:</span> <span class="token string">"auto"</span>
           <span class="token punctuation">}</span><span class="token punctuation">,</span>
           <span class="token string-property property">"gridPos"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
             <span class="token string-property property">"h"</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
             <span class="token string-property property">"w"</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
             <span class="token string-property property">"x"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
             <span class="token string-property property">"y"</span><span class="token operator">:</span> <span class="token number">0</span>
           <span class="token punctuation">}</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token punctuation">{<!-- --></span>
           <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"stat"</span><span class="token punctuation">,</span>
           <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"GC 耗时 (1m)"</span><span class="token punctuation">,</span>
           <span class="token string-property property">"datasource"</span><span class="token operator">:</span> <span class="token string">"prometheus-1"</span><span class="token punctuation">,</span>
           <span class="token string-property property">"targets"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
             <span class="token punctuation">{<!-- --></span>
               <span class="token string-property property">"expr"</span><span class="token operator">:</span> <span class="token string">"increase(jvm_gc_pause_seconds_sum{application=\"demo-app\"}[1m])"</span><span class="token punctuation">,</span>
               <span class="token string-property property">"interval"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
               <span class="token string-property property">"legendFormat"</span><span class="token operator">:</span> <span class="token string">"GC 耗时 (秒)"</span><span class="token punctuation">,</span>
               <span class="token string-property property">"refId"</span><span class="token operator">:</span> <span class="token string">"B"</span>
             <span class="token punctuation">}</span>
           <span class="token punctuation">]</span><span class="token punctuation">,</span>
           <span class="token string-property property">"fieldConfig"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
             <span class="token string-property property">"defaults"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
               <span class="token string-property property">"unit"</span><span class="token operator">:</span> <span class="token string">"s"</span><span class="token punctuation">,</span>
               <span class="token string-property property">"thresholds"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                 <span class="token string-property property">"mode"</span><span class="token operator">:</span> <span class="token string">"absolute"</span><span class="token punctuation">,</span>
                 <span class="token string-property property">"steps"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                   <span class="token punctuation">{<!-- --></span>
                     <span class="token string-property property">"color"</span><span class="token operator">:</span> <span class="token string">"green"</span><span class="token punctuation">,</span>
                     <span class="token string-property property">"value"</span><span class="token operator">:</span> <span class="token keyword">null</span>
                   <span class="token punctuation">}</span><span class="token punctuation">,</span>
                   <span class="token punctuation">{<!-- --></span>
                     <span class="token string-property property">"color"</span><span class="token operator">:</span> <span class="token string">"yellow"</span><span class="token punctuation">,</span>
                     <span class="token string-property property">"value"</span><span class="token operator">:</span> <span class="token number">0.5</span>
                   <span class="token punctuation">}</span><span class="token punctuation">,</span>
                   <span class="token punctuation">{<!-- --></span>
                     <span class="token string-property property">"color"</span><span class="token operator">:</span> <span class="token string">"red"</span><span class="token punctuation">,</span>
                     <span class="token string-property property">"value"</span><span class="token operator">:</span> <span class="token number">1</span>
                   <span class="token punctuation">}</span>
                 <span class="token punctuation">]</span>
               <span class="token punctuation">}</span>
             <span class="token punctuation">}</span><span class="token punctuation">,</span>
             <span class="token string-property property">"overrides"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
           <span class="token punctuation">}</span><span class="token punctuation">,</span>
           <span class="token string-property property">"options"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
             <span class="token string-property property">"reduceOptions"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
               <span class="token string-property property">"calcs"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"lastNotNull"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
               <span class="token string-property property">"fields"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
               <span class="token string-property property">"values"</span><span class="token operator">:</span> <span class="token boolean">false</span>
             <span class="token punctuation">}</span><span class="token punctuation">,</span>
             <span class="token string-property property">"orientation"</span><span class="token operator">:</span> <span class="token string">"horizontal"</span><span class="token punctuation">,</span>
             <span class="token string-property property">"colorMode"</span><span class="token operator">:</span> <span class="token string">"value"</span><span class="token punctuation">,</span>
             <span class="token string-property property">"graphMode"</span><span class="token operator">:</span> <span class="token string">"none"</span><span class="token punctuation">,</span>
             <span class="token string-property property">"justifyMode"</span><span class="token operator">:</span> <span class="token string">"auto"</span>
           <span class="token punctuation">}</span><span class="token punctuation">,</span>
           <span class="token string-property property">"gridPos"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
             <span class="token string-property property">"h"</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
             <span class="token string-property property">"w"</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
             <span class="token string-property property">"x"</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
             <span class="token string-property property">"y"</span><span class="token operator">:</span> <span class="token number">0</span>
           <span class="token punctuation">}</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token punctuation">{<!-- --></span>
           <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"timeseries"</span><span class="token punctuation">,</span>
           <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"GC 次数趋势"</span><span class="token punctuation">,</span>
           <span class="token string-property property">"datasource"</span><span class="token operator">:</span> <span class="token string">"prometheus-1"</span><span class="token punctuation">,</span>
           <span class="token string-property property">"targets"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
             <span class="token punctuation">{<!-- --></span>
               <span class="token string-property property">"expr"</span><span class="token operator">:</span> <span class="token string">"rate(jvm_gc_pause_seconds_count{application=\"demo-app\"}[1m])"</span><span class="token punctuation">,</span>
               <span class="token string-property property">"interval"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
               <span class="token string-property property">"legendFormat"</span><span class="token operator">:</span> <span class="token string">"{<!-- -->{gc}}"</span><span class="token punctuation">,</span>
               <span class="token string-property property">"refId"</span><span class="token operator">:</span> <span class="token string">"C"</span>
             <span class="token punctuation">}</span>
           <span class="token punctuation">]</span><span class="token punctuation">,</span>
           <span class="token string-property property">"fieldConfig"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
             <span class="token string-property property">"defaults"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
               <span class="token string-property property">"unit"</span><span class="token operator">:</span> <span class="token string">"none"</span>
             <span class="token punctuation">}</span><span class="token punctuation">,</span>
             <span class="token string-property property">"overrides"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
           <span class="token punctuation">}</span><span class="token punctuation">,</span>
           <span class="token string-property property">"options"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
             <span class="token string-property property">"legend"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
               <span class="token string-property property">"displayMode"</span><span class="token operator">:</span> <span class="token string">"table"</span><span class="token punctuation">,</span>
               <span class="token string-property property">"placement"</span><span class="token operator">:</span> <span class="token string">"bottom"</span>
             <span class="token punctuation">}</span><span class="token punctuation">,</span>
             <span class="token string-property property">"tooltip"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
               <span class="token string-property property">"mode"</span><span class="token operator">:</span> <span class="token string">"single"</span>
             <span class="token punctuation">}</span>
           <span class="token punctuation">}</span><span class="token punctuation">,</span>
           <span class="token string-property property">"gridPos"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
             <span class="token string-property property">"h"</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
             <span class="token string-property property">"w"</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
             <span class="token string-property property">"x"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
             <span class="token string-property property">"y"</span><span class="token operator">:</span> <span class="token number">6</span>
           <span class="token punctuation">}</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token punctuation">{<!-- --></span>
           <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"timeseries"</span><span class="token punctuation">,</span>
           <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"GC 耗时趋势"</span><span class="token punctuation">,</span>
           <span class="token string-property property">"datasource"</span><span class="token operator">:</span> <span class="token string">"prometheus-1"</span><span class="token punctuation">,</span>
           <span class="token string-property property">"targets"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
             <span class="token punctuation">{<!-- --></span>
               <span class="token string-property property">"expr"</span><span class="token operator">:</span> <span class="token string">"rate(jvm_gc_pause_seconds_sum{application=\"demo-app\"}[1m])"</span><span class="token punctuation">,</span>
               <span class="token string-property property">"interval"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
               <span class="token string-property property">"legendFormat"</span><span class="token operator">:</span> <span class="token string">"{<!-- -->{gc}}"</span><span class="token punctuation">,</span>
               <span class="token string-property property">"refId"</span><span class="token operator">:</span> <span class="token string">"D"</span>
             <span class="token punctuation">}</span>
           <span class="token punctuation">]</span><span class="token punctuation">,</span>
           <span class="token string-property property">"fieldConfig"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
             <span class="token string-property property">"defaults"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
               <span class="token string-property property">"unit"</span><span class="token operator">:</span> <span class="token string">"s"</span>
             <span class="token punctuation">}</span><span class="token punctuation">,</span>
             <span class="token string-property property">"overrides"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
           <span class="token punctuation">}</span><span class="token punctuation">,</span>
           <span class="token string-property property">"options"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
             <span class="token string-property property">"legend"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
               <span class="token string-property property">"displayMode"</span><span class="token operator">:</span> <span class="token string">"table"</span><span class="token punctuation">,</span>
               <span class="token string-property property">"placement"</span><span class="token operator">:</span> <span class="token string">"bottom"</span>
             <span class="token punctuation">}</span><span class="token punctuation">,</span>
             <span class="token string-property property">"tooltip"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
               <span class="token string-property property">"mode"</span><span class="token operator">:</span> <span class="token string">"single"</span>
             <span class="token punctuation">}</span>
           <span class="token punctuation">}</span><span class="token punctuation">,</span>
           <span class="token string-property property">"gridPos"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
             <span class="token string-property property">"h"</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
             <span class="token string-property property">"w"</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
             <span class="token string-property property">"x"</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
             <span class="token string-property property">"y"</span><span class="token operator">:</span> <span class="token number">6</span>
           <span class="token punctuation">}</span>
         <span class="token punctuation">}</span>
       <span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token string-property property">"schemaVersion"</span><span class="token operator">:</span> <span class="token number">34</span><span class="token punctuation">,</span>
       <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"JVM GC 仪表盘"</span><span class="token punctuation">,</span>
       <span class="token string-property property">"timezone"</span><span class="token operator">:</span> <span class="token string">"browser"</span><span class="token punctuation">,</span>
       <span class="token string-property property">"version"</span><span class="token operator">:</span> <span class="token number">1</span>
     <span class="token punctuation">}</span>
     
</code></pre>
    <ol start="5">
     <li>
      想要实现controller和service接口的执行情况？ 通过aop来实现 这个aop可以上报所有接口
      <code>
       tp 999
      </code>
      <code>
       tp 99
      </code>
      <code>
       tp 50
      </code>
      的情况
     </li>
    </ol>
    <pre><code class="prism language-java">     <span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>micrometer<span class="token punctuation">.</span>core<span class="token punctuation">.</span>instrument<span class="token punctuation">.</span></span><span class="token class-name">MeterRegistry</span></span><span class="token punctuation">;</span>
     <span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>micrometer<span class="token punctuation">.</span>core<span class="token punctuation">.</span>instrument<span class="token punctuation">.</span></span><span class="token class-name">Timer</span></span><span class="token punctuation">;</span>
     <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>aspectj<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span><span class="token class-name">ProceedingJoinPoint</span></span><span class="token punctuation">;</span>
     <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>aspectj<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Around</span></span><span class="token punctuation">;</span>
     <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>aspectj<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Aspect</span></span><span class="token punctuation">;</span>
     <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
     
     <span class="token annotation punctuation">@Aspect</span>
     <span class="token annotation punctuation">@Component</span>
     <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MethodTimerAspect</span> <span class="token punctuation">{<!-- --></span>
     
         <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">MeterRegistry</span> meterRegistry<span class="token punctuation">;</span>
     
         <span class="token keyword">public</span> <span class="token class-name">MethodTimerAspect</span><span class="token punctuation">(</span><span class="token class-name">MeterRegistry</span> meterRegistry<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
             <span class="token keyword">this</span><span class="token punctuation">.</span>meterRegistry <span class="token operator">=</span> meterRegistry<span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
     
         <span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">"execution(* com.example..controller..*(..)) || execution(* com.example..service..*(..))"</span><span class="token punctuation">)</span>
         <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">timeMethods</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> pjp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{<!-- --></span>
             <span class="token class-name">String</span> className <span class="token operator">=</span> pjp<span class="token punctuation">.</span><span class="token function">getTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token class-name">String</span> methodName <span class="token operator">=</span> pjp<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token class-name">String</span> timerName <span class="token operator">=</span> <span class="token string">"method_execution_timer"</span><span class="token punctuation">;</span>
     
             <span class="token class-name">Timer<span class="token punctuation">.</span>Sample</span> sample <span class="token operator">=</span> <span class="token class-name">Timer</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span>meterRegistry<span class="token punctuation">)</span><span class="token punctuation">;</span>
     
             <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                 <span class="token keyword">return</span> pjp<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
                 sample<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span>
                         <span class="token class-name">Timer</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span>timerName<span class="token punctuation">)</span>
                                 <span class="token punctuation">.</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token string">"方法执行耗时统计"</span><span class="token punctuation">)</span>
                                 <span class="token punctuation">.</span><span class="token function">tags</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span> className<span class="token punctuation">,</span> <span class="token string">"method"</span><span class="token punctuation">,</span> methodName<span class="token punctuation">)</span>
                                 <span class="token punctuation">.</span><span class="token function">publishPercentiles</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.9</span><span class="token punctuation">,</span> <span class="token number">0.99</span><span class="token punctuation">,</span> <span class="token number">0.999</span><span class="token punctuation">)</span>
                                 <span class="token punctuation">.</span><span class="token function">publishPercentileHistogram</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                                 <span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>meterRegistry<span class="token punctuation">)</span>
                 <span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token punctuation">}</span>
         <span class="token punctuation">}</span>
     
     <span class="token punctuation">}</span>
     ```

     <span class="token number">6.</span> 如果你想要看看各个接口的执行情况，导入下面这个json模板可以看到

        ```json
        <span class="token punctuation">{<!-- --></span>
          <span class="token string">"annotations"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string">"list"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">"templating"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string">"list"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{<!-- --></span>
                <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"datasource"</span><span class="token punctuation">,</span>
                <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"datasource"</span><span class="token punctuation">,</span>
                <span class="token string">"query"</span><span class="token operator">:</span> <span class="token string">"prometheus"</span><span class="token punctuation">,</span>
                <span class="token string">"label"</span><span class="token operator">:</span> <span class="token string">"Prometheus 数据源"</span><span class="token punctuation">,</span>
                <span class="token string">"hide"</span><span class="token operator">:</span> <span class="token number">0</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">"panels"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{<!-- --></span>
              <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"stat"</span><span class="token punctuation">,</span>
              <span class="token string">"title"</span><span class="token operator">:</span> <span class="token string">"接口 TP999 延迟 (ms)"</span><span class="token punctuation">,</span>
              <span class="token string">"datasource"</span><span class="token operator">:</span> <span class="token string">"prometheus-1"</span><span class="token punctuation">,</span>
              <span class="token string">"targets"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{<!-- --></span>
                  <span class="token string">"expr"</span><span class="token operator">:</span> <span class="token string">"histogram_quantile(0.999, sum(rate(method_execution_time_bucket[1m])) by (le, method))"</span><span class="token punctuation">,</span>
                  <span class="token string">"legendFormat"</span><span class="token operator">:</span> <span class="token string">"{<!-- -->{method}}"</span><span class="token punctuation">,</span>
                  <span class="token string">"refId"</span><span class="token operator">:</span> <span class="token string">"A"</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token string">"fieldConfig"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string">"defaults"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                  <span class="token string">"unit"</span><span class="token operator">:</span> <span class="token string">"ms"</span><span class="token punctuation">,</span>
                  <span class="token string">"thresholds"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"mode"</span><span class="token operator">:</span> <span class="token string">"absolute"</span><span class="token punctuation">,</span>
                    <span class="token string">"steps"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                      <span class="token punctuation">{<!-- --></span> <span class="token string">"color"</span><span class="token operator">:</span> <span class="token string">"green"</span><span class="token punctuation">,</span> <span class="token string">"value"</span><span class="token operator">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                      <span class="token punctuation">{<!-- --></span> <span class="token string">"color"</span><span class="token operator">:</span> <span class="token string">"yellow"</span><span class="token punctuation">,</span> <span class="token string">"value"</span><span class="token operator">:</span> <span class="token number">1000</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                      <span class="token punctuation">{<!-- --></span> <span class="token string">"color"</span><span class="token operator">:</span> <span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token string">"value"</span><span class="token operator">:</span> <span class="token number">2000</span> <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token string">"overrides"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token string">"options"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string">"reduceOptions"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                  <span class="token string">"calcs"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"max"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token string">"fields"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
                  <span class="token string">"values"</span><span class="token operator">:</span> <span class="token boolean">false</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token string">"orientation"</span><span class="token operator">:</span> <span class="token string">"horizontal"</span><span class="token punctuation">,</span>
                <span class="token string">"colorMode"</span><span class="token operator">:</span> <span class="token string">"value"</span><span class="token punctuation">,</span>
                <span class="token string">"graphMode"</span><span class="token operator">:</span> <span class="token string">"none"</span><span class="token punctuation">,</span>
                <span class="token string">"justifyMode"</span><span class="token operator">:</span> <span class="token string">"auto"</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token string">"gridPos"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"h"</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token string">"x"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"y"</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span>
              <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"timeseries"</span><span class="token punctuation">,</span>
              <span class="token string">"title"</span><span class="token operator">:</span> <span class="token string">"接口 TP999 延迟趋势"</span><span class="token punctuation">,</span>
              <span class="token string">"datasource"</span><span class="token operator">:</span> <span class="token string">"prometheus-1"</span><span class="token punctuation">,</span>
              <span class="token string">"targets"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{<!-- --></span>
                  <span class="token string">"expr"</span><span class="token operator">:</span> <span class="token string">"histogram_quantile(0.999, sum(rate(method_execution_time_bucket[1m])) by (le, method))"</span><span class="token punctuation">,</span>
                  <span class="token string">"legendFormat"</span><span class="token operator">:</span> <span class="token string">"{<!-- -->{method}}"</span><span class="token punctuation">,</span>
                  <span class="token string">"refId"</span><span class="token operator">:</span> <span class="token string">"B"</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token string">"fieldConfig"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string">"defaults"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                  <span class="token string">"unit"</span><span class="token operator">:</span> <span class="token string">"ms"</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token string">"overrides"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token string">"options"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string">"legend"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                  <span class="token string">"displayMode"</span><span class="token operator">:</span> <span class="token string">"table"</span><span class="token punctuation">,</span>
                  <span class="token string">"placement"</span><span class="token operator">:</span> <span class="token string">"bottom"</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token string">"tooltip"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                  <span class="token string">"mode"</span><span class="token operator">:</span> <span class="token string">"single"</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token string">"gridPos"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"h"</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token string">"x"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"y"</span><span class="token operator">:</span> <span class="token number">6</span> <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span>
              <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"stat"</span><span class="token punctuation">,</span>
              <span class="token string">"title"</span><span class="token operator">:</span> <span class="token string">"接口 QPS"</span><span class="token punctuation">,</span>
              <span class="token string">"datasource"</span><span class="token operator">:</span> <span class="token string">"${datasource}"</span><span class="token punctuation">,</span>
              <span class="token string">"targets"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{<!-- --></span>
                  <span class="token string">"expr"</span><span class="token operator">:</span> <span class="token string">"sum(rate(http_server_requests_seconds_count[1m])) by (uri, method)"</span><span class="token punctuation">,</span>
                  <span class="token string">"legendFormat"</span><span class="token operator">:</span> <span class="token string">"{<!-- -->{uri}} {<!-- -->{method}}"</span><span class="token punctuation">,</span>
                  <span class="token string">"refId"</span><span class="token operator">:</span> <span class="token string">"C"</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token string">"fieldConfig"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string">"defaults"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                  <span class="token string">"unit"</span><span class="token operator">:</span> <span class="token string">"ops"</span><span class="token punctuation">,</span>
                  <span class="token string">"thresholds"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"mode"</span><span class="token operator">:</span> <span class="token string">"absolute"</span><span class="token punctuation">,</span>
                    <span class="token string">"steps"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                      <span class="token punctuation">{<!-- --></span> <span class="token string">"color"</span><span class="token operator">:</span> <span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token string">"value"</span><span class="token operator">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                      <span class="token punctuation">{<!-- --></span> <span class="token string">"color"</span><span class="token operator">:</span> <span class="token string">"yellow"</span><span class="token punctuation">,</span> <span class="token string">"value"</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                      <span class="token punctuation">{<!-- --></span> <span class="token string">"color"</span><span class="token operator">:</span> <span class="token string">"green"</span><span class="token punctuation">,</span> <span class="token string">"value"</span><span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token string">"overrides"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token string">"options"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string">"reduceOptions"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                  <span class="token string">"calcs"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"max"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token string">"fields"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
                  <span class="token string">"values"</span><span class="token operator">:</span> <span class="token boolean">false</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token string">"orientation"</span><span class="token operator">:</span> <span class="token string">"horizontal"</span><span class="token punctuation">,</span>
                <span class="token string">"colorMode"</span><span class="token operator">:</span> <span class="token string">"value"</span><span class="token punctuation">,</span>
                <span class="token string">"graphMode"</span><span class="token operator">:</span> <span class="token string">"none"</span><span class="token punctuation">,</span>
                <span class="token string">"justifyMode"</span><span class="token operator">:</span> <span class="token string">"auto"</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token string">"gridPos"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"h"</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token string">"x"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"y"</span><span class="token operator">:</span> <span class="token number">14</span> <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span>
              <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"timeseries"</span><span class="token punctuation">,</span>
              <span class="token string">"title"</span><span class="token operator">:</span> <span class="token string">"接口 QPS 趋势"</span><span class="token punctuation">,</span>
              <span class="token string">"datasource"</span><span class="token operator">:</span> <span class="token string">"prometheus-1"</span><span class="token punctuation">,</span>
              <span class="token string">"targets"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{<!-- --></span>
                  <span class="token string">"expr"</span><span class="token operator">:</span> <span class="token string">"sum(rate(http_server_requests_seconds_count[1m])) by (uri, method)"</span><span class="token punctuation">,</span>
                  <span class="token string">"legendFormat"</span><span class="token operator">:</span> <span class="token string">"{<!-- -->{uri}} {<!-- -->{method}}"</span><span class="token punctuation">,</span>
                  <span class="token string">"refId"</span><span class="token operator">:</span> <span class="token string">"D"</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token string">"fieldConfig"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string">"defaults"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                  <span class="token string">"unit"</span><span class="token operator">:</span> <span class="token string">"ops"</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token string">"overrides"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token string">"options"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string">"legend"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                  <span class="token string">"displayMode"</span><span class="token operator">:</span> <span class="token string">"table"</span><span class="token punctuation">,</span>
                  <span class="token string">"placement"</span><span class="token operator">:</span> <span class="token string">"bottom"</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token string">"tooltip"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                  <span class="token string">"mode"</span><span class="token operator">:</span> <span class="token string">"single"</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token string">"gridPos"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"h"</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token string">"x"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"y"</span><span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span>
              <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"stat"</span><span class="token punctuation">,</span>
              <span class="token string">"title"</span><span class="token operator">:</span> <span class="token string">"接口 5xx 错误数"</span><span class="token punctuation">,</span>
              <span class="token string">"datasource"</span><span class="token operator">:</span> <span class="token string">"prometheus-1"</span><span class="token punctuation">,</span>
              <span class="token string">"targets"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{<!-- --></span>
                  <span class="token string">"expr"</span><span class="token operator">:</span> <span class="token string">"sum(rate(http_server_requests_seconds_count{status=~\"5..\"}[1m])) by (uri, method)"</span><span class="token punctuation">,</span>
                  <span class="token string">"legendFormat"</span><span class="token operator">:</span> <span class="token string">"{<!-- -->{uri}} {<!-- -->{method}}"</span><span class="token punctuation">,</span>
                  <span class="token string">"refId"</span><span class="token operator">:</span> <span class="token string">"E"</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token string">"fieldConfig"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string">"defaults"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                  <span class="token string">"unit"</span><span class="token operator">:</span> <span class="token string">"short"</span><span class="token punctuation">,</span>
                  <span class="token string">"thresholds"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token string">"mode"</span><span class="token operator">:</span> <span class="token string">"absolute"</span><span class="token punctuation">,</span>
                    <span class="token string">"steps"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                      <span class="token punctuation">{<!-- --></span> <span class="token string">"color"</span><span class="token operator">:</span> <span class="token string">"green"</span><span class="token punctuation">,</span> <span class="token string">"value"</span><span class="token operator">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                      <span class="token punctuation">{<!-- --></span> <span class="token string">"color"</span><span class="token operator">:</span> <span class="token string">"yellow"</span><span class="token punctuation">,</span> <span class="token string">"value"</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                      <span class="token punctuation">{<!-- --></span> <span class="token string">"color"</span><span class="token operator">:</span> <span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token string">"value"</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token string">"overrides"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token string">"options"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string">"reduceOptions"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                  <span class="token string">"calcs"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"max"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token string">"fields"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
                  <span class="token string">"values"</span><span class="token operator">:</span> <span class="token boolean">false</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token string">"orientation"</span><span class="token operator">:</span> <span class="token string">"horizontal"</span><span class="token punctuation">,</span>
                <span class="token string">"colorMode"</span><span class="token operator">:</span> <span class="token string">"value"</span><span class="token punctuation">,</span>
                <span class="token string">"graphMode"</span><span class="token operator">:</span> <span class="token string">"none"</span><span class="token punctuation">,</span>
                <span class="token string">"justifyMode"</span><span class="token operator">:</span> <span class="token string">"auto"</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token string">"gridPos"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"h"</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token string">"x"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"y"</span><span class="token operator">:</span> <span class="token number">28</span> <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span>
              <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"timeseries"</span><span class="token punctuation">,</span>
              <span class="token string">"title"</span><span class="token operator">:</span> <span class="token string">"接口 5xx 错误数趋势"</span><span class="token punctuation">,</span>
              <span class="token string">"datasource"</span><span class="token operator">:</span> <span class="token string">"prometheus-1"</span><span class="token punctuation">,</span>
              <span class="token string">"targets"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{<!-- --></span>
                  <span class="token string">"expr"</span><span class="token operator">:</span> <span class="token string">"sum(rate(http_server_requests_seconds_count{status=~\"5..\"}[1m])) by (uri, method)"</span><span class="token punctuation">,</span>
                  <span class="token string">"legendFormat"</span><span class="token operator">:</span> <span class="token string">"{<!-- -->{uri}} {<!-- -->{method}}"</span><span class="token punctuation">,</span>
                  <span class="token string">"refId"</span><span class="token operator">:</span> <span class="token string">"F"</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token string">"fieldConfig"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string">"defaults"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                  <span class="token string">"unit"</span><span class="token operator">:</span> <span class="token string">"short"</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token string">"overrides"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token string">"options"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string">"legend"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                  <span class="token string">"displayMode"</span><span class="token operator">:</span> <span class="token string">"table"</span><span class="token punctuation">,</span>
                  <span class="token string">"placement"</span><span class="token operator">:</span> <span class="token string">"bottom"</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token string">"tooltip"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                  <span class="token string">"mode"</span><span class="token operator">:</span> <span class="token string">"single"</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token string">"gridPos"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"h"</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token string">"x"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"y"</span><span class="token operator">:</span> <span class="token number">34</span> <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token string">"title"</span><span class="token operator">:</span> <span class="token string">"接口 TP999 + QPS + 错误监控"</span><span class="token punctuation">,</span>
          <span class="token string">"timezone"</span><span class="token operator">:</span> <span class="token string">"browser"</span><span class="token punctuation">,</span>
          <span class="token string">"schemaVersion"</span><span class="token operator">:</span> <span class="token number">34</span><span class="token punctuation">,</span>
          <span class="token string">"version"</span><span class="token operator">:</span> <span class="token number">1</span>
        <span class="token punctuation">}</span>
        
</code></pre>
    <hr/>
    <blockquote>
     <p>
      ✅通过上面的步骤你应该就能实现业务接口的监控，后续微服务式监控可能还会更新 敬请期待…
     </p>
    </blockquote>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470:733a2f2f626c6f672e6373646e2e6e65742f4848573232332f:61727469636c652f64657461696c732f313436313931363833" class_="artid" style="display:none">
 </p>
</div>


