---
layout: post
title: "从需求文档到测试点基于-OCR-和智能接口的高效图片信息提取与分析"
date: 2025-03-12 00:51:17 +0800
description: "然而，随着项目规模的不断扩大，需求文档中的内容变得越来越复杂，特别是图片信息往往承载了核心的业务逻辑、流程图、UI 设计、表格说明以及潜在测试点。然而，手动逐页翻阅文档提取图片内容是一项耗时且容易忽略细节的工作，尤其当文档中图片数量较多时，效率问题尤为突出。自动化处理需求文档中的图片信息，不仅是测试工程师提升效率的重要手段，更是未来智能测试的必然趋势。为了帮助测试工程师高效、精准地提取图片信息，并结合智能分析技术实现测试点推理，本文将分享一套完整的技术解决方案。"
keywords: "从需求文档到测试点：基于 OCR 和智能接口的高效图片信息提取与分析"
categories: ['未分类']
tags: ['Python', 'Ocr']
artid: "146193385"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146193385
    alt: "从需求文档到测试点基于-OCR-和智能接口的高效图片信息提取与分析"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146193385
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146193385
cover: https://bing.ee123.net/img/rand?artid=146193385
image: https://bing.ee123.net/img/rand?artid=146193385
img: https://bing.ee123.net/img/rand?artid=146193385
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     从需求文档到测试点：基于 OCR 和智能接口的高效图片信息提取与分析
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     在软件测试的实际工作中，需求文档是测试工程师的重要工具。然而，随着项目规模的不断扩大，需求文档中的内容变得越来越复杂，特别是图片信息往往承载了核心的业务逻辑、流程图、UI 设计、表格说明以及潜在测试点。这些图片信息是测试计划和测试用例设计的关键，但手动解析这些内容不仅耗费时间，还容易遗漏重要细节。
    </p>
    <p>
     为了帮助测试工程师高效、精准地提取图片信息，并结合智能分析技术实现测试点推理，本文将分享一套完整的技术解决方案。我们将结合
     <strong>
      PaddleOCR
     </strong>
     和
     <strong>
      阿里云百联 deepseek-r1 接口
     </strong>
     ，构建一个从需求文档到测试点的自动化处理流程。通过这套流程，测试工程师可以轻松完成图片信息的提取、文字识别、测试点推理以及结果管理。
    </p>
    <hr/>
    <h3>
     <a id="1__8">
     </a>
     <strong>
      1. 为什么图片信息如此重要？
     </strong>
    </h3>
    <p>
     在现代软件测试中，需求文档中的图片往往包含了以下关键内容：
    </p>
    <ul>
     <li>
      <strong>
       流程图
      </strong>
      ：展示用户操作流程或系统的核心逻辑。
     </li>
     <li>
      <strong>
       UI 原型图
      </strong>
      ：定义界面布局、按钮交互逻辑或视觉设计要求。
     </li>
     <li>
      <strong>
       表格说明
      </strong>
      ：列出字段约束、输入输出规则或接口对接信息。
     </li>
     <li>
      <strong>
       测试点提示
      </strong>
      ：图片中可能直接或间接暗示功能点或需要验证的逻辑。
     </li>
    </ul>
    <p>
     这些内容对于测试工程师来说至关重要，直接影响测试用例的设计和测试覆盖率。然而，手动逐页翻阅文档提取图片内容是一项耗时且容易忽略细节的工作，尤其当文档中图片数量较多时，效率问题尤为突出。
    </p>
    <hr/>
    <h3>
     <a id="2__21">
     </a>
     <strong>
      2. 图片信息提取的挑战
     </strong>
    </h3>
    <p>
     尽管图片信息的重要性不言而喻，但其提取和分析存在以下技术挑战：
    </p>
    <ol>
     <li>
      <p>
       <strong>
        识别难度高
       </strong>
       <br/>
       图片中的文字可能因为模糊、噪声、复杂背景而难以识别，OCR （光学字符识别）技术需要足够的准确性来支持多语言和复杂内容。
      </p>
     </li>
     <li>
      <p>
       <strong>
        表格结构复杂
       </strong>
       <br/>
       表格中的内容需要保留结构化信息，且字段间的逻辑关系不能丢失。
      </p>
     </li>
     <li>
      <p>
       <strong>
        多语言支持
       </strong>
       <br/>
       在国际化项目中，图片可能包含中英文混合内容，OCR 必须支持多语言识别。
      </p>
     </li>
     <li>
      <p>
       <strong>
        错误处理和健壮性
       </strong>
       <br/>
       OCR 识别错误可能导致测试点推理失败，需要对结果进行自动校验和纠错。
      </p>
     </li>
     <li>
      <p>
       <strong>
        智能化分析不足
       </strong>
       <br/>
       仅仅识别文字内容并不足够，测试工程师需要从中推导出测试点，这需要结合上下文和业务逻辑进行智能化分析。
      </p>
     </li>
    </ol>
    <hr/>
    <h3>
     <a id="3__42">
     </a>
     <strong>
      3. 技术解决方案
     </strong>
    </h3>
    <p>
     为了解决上述问题，我们提出以下技术方案：
    </p>
    <ol>
     <li>
      <p>
       <strong>
        图片提取
       </strong>
       <br/>
       使用
       <code>
        python-docx
       </code>
       库，从需求文档中的目标标题下提取图片，确保处理的内容与测试相关。
      </p>
     </li>
     <li>
      <p>
       <strong>
        OCR 文字识别
       </strong>
       <br/>
       使用 PaddleOCR 进行文字识别，支持中英文混合内容、方向分类，并兼容复杂表格。
      </p>
     </li>
     <li>
      <p>
       <strong>
        错误处理与校验
       </strong>
       <br/>
       通过拼写检查和上下文规则，对 OCR 识别结果进行自动校正，提升健壮性。
      </p>
     </li>
     <li>
      <p>
       <strong>
        智能测试点推理
       </strong>
       <br/>
       将 OCR 结果传递给
       <strong>
        阿里云百联 deepseek-r1 接口
       </strong>
       ，通过智能分析引擎推导测试点。
      </p>
     </li>
     <li>
      <p>
       <strong>
        结果管理与输出
       </strong>
       <br/>
       将识别结果与测试点推理结果以结构化方式输出，便于进一步使用。
      </p>
     </li>
    </ol>
    <hr/>
    <h3>
     <a id="4__63">
     </a>
     <strong>
      4. 技术实现
     </strong>
    </h3>
    <p>
     以下是完整的技术实现，涵盖图片提取、OCR 识别、测试点推理和接口对接。
    </p>
    <h4>
     <a id="41__67">
     </a>
     <strong>
      4.1 提取需求文档中的图片
     </strong>
    </h4>
    <p>
     需求文档通常以
     <code>
      .docx
     </code>
     格式存储，图片嵌入在指定标题下。通过
     <code>
      python-docx
     </code>
     ，我们可以精准提取目标标题下的图片：
    </p>
    <pre><code class="prism language-python"><span class="token keyword">from</span> docx <span class="token keyword">import</span> Document
<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image
<span class="token keyword">from</span> io <span class="token keyword">import</span> BytesIO

<span class="token keyword">def</span> <span class="token function">extract_images_from_docx</span><span class="token punctuation">(</span>docx_file<span class="token punctuation">,</span> target_titles<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    从指定的 docx 文件中提取目标标题下的图片。
    :param docx_file: str - docx 文件路径
    :param target_titles: list - 目标标题列表
    :return: list - 提取的图片（以 PIL Image 格式返回）
    """</span>
    document <span class="token operator">=</span> Document<span class="token punctuation">(</span>docx_file<span class="token punctuation">)</span>
    images <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    capture_images <span class="token operator">=</span> <span class="token boolean">False</span>

    <span class="token keyword">for</span> paragraph <span class="token keyword">in</span> document<span class="token punctuation">.</span>paragraphs<span class="token punctuation">:</span>
        <span class="token comment"># 判断当前段落是否为目标标题</span>
        <span class="token keyword">if</span> paragraph<span class="token punctuation">.</span>style<span class="token punctuation">.</span>name<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">"Heading"</span><span class="token punctuation">)</span> <span class="token keyword">and</span> paragraph<span class="token punctuation">.</span>text<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">in</span> target_titles<span class="token punctuation">:</span>
            capture_images <span class="token operator">=</span> <span class="token boolean">True</span>
        <span class="token keyword">elif</span> paragraph<span class="token punctuation">.</span>style<span class="token punctuation">.</span>name<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">"Heading"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            capture_images <span class="token operator">=</span> <span class="token boolean">False</span>

        <span class="token comment"># 如果在目标标题下，提取图片</span>
        <span class="token keyword">if</span> capture_images<span class="token punctuation">:</span>
            <span class="token keyword">for</span> run <span class="token keyword">in</span> paragraph<span class="token punctuation">.</span>runs<span class="token punctuation">:</span>
                <span class="token keyword">if</span> run<span class="token punctuation">.</span>element<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'.//w:drawing'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                    <span class="token keyword">for</span> drawing <span class="token keyword">in</span> run<span class="token punctuation">.</span>element<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'.//w:blip/@r:embed'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                        rel <span class="token operator">=</span> document<span class="token punctuation">.</span>part<span class="token punctuation">.</span>rels<span class="token punctuation">[</span>drawing<span class="token punctuation">]</span>
                        image_data <span class="token operator">=</span> rel<span class="token punctuation">.</span>target_part<span class="token punctuation">.</span>blob
                        image <span class="token operator">=</span> Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>BytesIO<span class="token punctuation">(</span>image_data<span class="token punctuation">)</span><span class="token punctuation">)</span>
                        images<span class="token punctuation">.</span>append<span class="token punctuation">(</span>image<span class="token punctuation">)</span>

    <span class="token keyword">return</span> images
</code></pre>
    <h4>
     <a id="42__PaddleOCR__107">
     </a>
     <strong>
      4.2 使用 PaddleOCR 识别图片内容
     </strong>
    </h4>
    <p>
     PaddleOCR 是一种高精度的 OCR 解决方案，支持中英文内容、方向分类以及复杂表格的识别：
    </p>
    <pre><code class="prism language-python"><span class="token keyword">from</span> paddleocr <span class="token keyword">import</span> PaddleOCR
<span class="token keyword">import</span> cv2
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

<span class="token comment"># 初始化 PaddleOCR</span>
ocr <span class="token operator">=</span> PaddleOCR<span class="token punctuation">(</span>use_angle_cls<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> lang<span class="token operator">=</span><span class="token string">"ch"</span><span class="token punctuation">)</span>  <span class="token comment"># 中英文混合识别</span>

<span class="token keyword">def</span> <span class="token function">perform_ocr_with_paddle</span><span class="token punctuation">(</span>images<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    使用 PaddleOCR 对图片进行文字识别。
    :param images: list - PIL Image 对象列表
    :return: list - 每张图片的识别结果，按行分组的文本内容
    """</span>
    results <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> image <span class="token keyword">in</span> images<span class="token punctuation">:</span>
        <span class="token comment"># OCR 识别</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            <span class="token comment"># 将 PIL Image 转换为 OpenCV 格式</span>
            cv_image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>COLOR_RGB2BGR<span class="token punctuation">)</span>
            ocr_result <span class="token operator">=</span> ocr<span class="token punctuation">.</span>ocr<span class="token punctuation">(</span>cv_image<span class="token punctuation">,</span> cls<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

            <span class="token comment"># 提取文字</span>
            text_lines <span class="token operator">=</span> <span class="token punctuation">[</span>line<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">for</span> line <span class="token keyword">in</span> ocr_result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  <span class="token comment"># line[1][0] 是识别的文字</span>
            results<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>text_lines<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 每张图片的文本按行拼接</span>
        <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
            results<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"OCR 识别失败: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>e<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> results
</code></pre>
    <h4>
     <a id="43__deepseekr1__141">
     </a>
     <strong>
      4.3 将结果传递给阿里云百联 deepseek-r1 接口
     </strong>
    </h4>
    <p>
     为了实现更智能的分析，我们将 OCR 识别的结果传递给阿里云百联 deepseek-r1 接口，由其进行智能化测试点推理：
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> requests
<span class="token keyword">import</span> json

<span class="token keyword">def</span> <span class="token function">send_to_deepseek</span><span class="token punctuation">(</span>ocr_texts<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    将 OCR 识别结果发送到阿里云百联 deepseek-r1 接口。
    :param ocr_texts: list - OCR 识别的文字内容
    :return: list - deepseek 接口返回的结果
    """</span>
    <span class="token comment"># 初始化OpenAI客户端</span>
    client <span class="token operator">=</span> OpenAI<span class="token punctuation">(</span>
        <span class="token comment"># 如果没有配置环境变量，请用百炼API Key替换：api_key="sk-xxx"</span>
        api_key<span class="token operator">=</span><span class="token string">'sk-xxx'</span><span class="token punctuation">,</span>  <span class="token comment"># todo 此处需更换</span>
        base_url<span class="token operator">=</span><span class="token string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>
    <span class="token punctuation">)</span>

    reasoning_content <span class="token operator">=</span> <span class="token string">""</span>  <span class="token comment"># 定义完整思考过程</span>
    answer_content <span class="token operator">=</span> <span class="token string">""</span>  <span class="token comment"># 定义完整回复</span>
    is_answering <span class="token operator">=</span> <span class="token boolean">False</span>  <span class="token comment"># 判断是否结束思考过程并开始回复</span>

    <span class="token comment"># 创建聊天完成请求</span>
    completion <span class="token operator">=</span> client<span class="token punctuation">.</span>chat<span class="token punctuation">.</span>completions<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
        model<span class="token operator">=</span><span class="token string">"deepseek-r1"</span><span class="token punctuation">,</span>  <span class="token comment"># 此处以 deepseek-r1 为例，可按需更换模型名称</span>
        messages<span class="token operator">=</span><span class="token punctuation">[</span>
            <span class="token punctuation">{<!-- --></span><span class="token string">'role'</span><span class="token punctuation">:</span> <span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token string">'content'</span><span class="token punctuation">:</span> <span class="token string-interpolation"><span class="token string">f'识别内容： </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>ocr_texts<span class="token punctuation">}</span></span><span class="token string">， 提示词：</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>prompt_param<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        stream<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
        <span class="token comment"># 解除以下注释会在最后一个chunk返回Token使用量</span>
        <span class="token comment"># stream_options={<!-- --></span>
        <span class="token comment">#     "include_usage": True</span>
        <span class="token comment"># }</span>
    <span class="token punctuation">)</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\n"</span> <span class="token operator">+</span> <span class="token string">"="</span> <span class="token operator">*</span> <span class="token number">20</span> <span class="token operator">+</span> <span class="token string">"思考过程"</span> <span class="token operator">+</span> <span class="token string">"="</span> <span class="token operator">*</span> <span class="token number">20</span> <span class="token operator">+</span> <span class="token string">"\n"</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> chunk <span class="token keyword">in</span> completion<span class="token punctuation">:</span>
        <span class="token comment"># 如果chunk.choices为空，则打印usage</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> chunk<span class="token punctuation">.</span>choices<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\nUsage:"</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>chunk<span class="token punctuation">.</span>usage<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            delta <span class="token operator">=</span> chunk<span class="token punctuation">.</span>choices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>delta
            <span class="token comment"># 打印思考过程</span>
            <span class="token keyword">if</span> <span class="token builtin">hasattr</span><span class="token punctuation">(</span>delta<span class="token punctuation">,</span> <span class="token string">'reasoning_content'</span><span class="token punctuation">)</span> <span class="token keyword">and</span> delta<span class="token punctuation">.</span>reasoning_content <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span>delta<span class="token punctuation">.</span>reasoning_content<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">,</span> flush<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
                reasoning_content <span class="token operator">+=</span> delta<span class="token punctuation">.</span>reasoning_content
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token comment"># 开始回复</span>
                <span class="token keyword">if</span> delta<span class="token punctuation">.</span>content <span class="token operator">!=</span> <span class="token string">""</span> <span class="token keyword">and</span> <span class="token keyword">not</span> is_answering<span class="token punctuation">:</span>
                    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\n"</span> <span class="token operator">+</span> <span class="token string">"="</span> <span class="token operator">*</span> <span class="token number">20</span> <span class="token operator">+</span> <span class="token string">"完整回复"</span> <span class="token operator">+</span> <span class="token string">"="</span> <span class="token operator">*</span> <span class="token number">20</span> <span class="token operator">+</span> <span class="token string">"\n"</span><span class="token punctuation">)</span>
                    is_answering <span class="token operator">=</span> <span class="token boolean">True</span>
                <span class="token comment"># 打印回复过程</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span>delta<span class="token punctuation">.</span>content<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">,</span> flush<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
                answer_content <span class="token operator">+=</span> delta<span class="token punctuation">.</span>content
    <span class="token keyword">return</span> answer_content
</code></pre>
    <h4>
     <a id="44__203">
     </a>
     <strong>
      4.4 主流程
     </strong>
    </h4>
    <p>
     整合上述功能，形成完整的主流程：
    </p>
    <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 配置输入文件路径和目标标题</span>
    docx_file <span class="token operator">=</span> <span class="token string">"需求文档.docx"</span>  <span class="token comment"># 替换为实际文件路径</span>
    target_titles <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"功能需求"</span><span class="token punctuation">,</span> <span class="token string">"测试用例"</span><span class="token punctuation">]</span>  <span class="token comment"># 替换为实际标题</span>
    api_url <span class="token operator">=</span> <span class="token string">"https://deepseek.aliyun.com/api/v1/r1"</span>  <span class="token comment"># 替换为实际 deepseek 接口地址</span>
    api_key <span class="token operator">=</span> <span class="token string">"your_api_key_here"</span>  <span class="token comment"># 替换为实际 API Key</span>

    <span class="token comment"># 提取图片</span>
    images <span class="token operator">=</span> extract_images_from_docx<span class="token punctuation">(</span>docx_file<span class="token punctuation">,</span> target_titles<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> images<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"未找到任何图片，请检查标题是否正确。"</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>

    <span class="token comment"># OCR 识别</span>
    ocr_texts <span class="token operator">=</span> perform_ocr_with_paddle<span class="token punctuation">(</span>images<span class="token punctuation">)</span>

    <span class="token comment"># 发送到 deepseek 接口</span>
    deepseek_results <span class="token operator">=</span> send_to_deepseek<span class="token punctuation">(</span>ocr_texts<span class="token punctuation">,</span> api_url<span class="token punctuation">,</span> api_key<span class="token punctuation">)</span>

    <span class="token comment"># 输出结果</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> <span class="token punctuation">(</span>ocr_text<span class="token punctuation">,</span> result<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span><span class="token builtin">zip</span><span class="token punctuation">(</span>ocr_texts<span class="token punctuation">,</span> deepseek_results<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"\n图片 </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>i<span class="token punctuation">}</span></span><span class="token string"> 识别的文字内容："</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>ocr_text<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"\n图片 </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>i<span class="token punctuation">}</span></span><span class="token string"> 的 deepseek 返回结果："</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>result<span class="token punctuation">,</span> indent<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> ensure_ascii<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
    <hr/>
    <h3>
     <a id="5__237">
     </a>
     <strong>
      5. 效果与总结
     </strong>
    </h3>
    <p>
     通过本文提供的方案，测试工程师可以：
    </p>
    <ol>
     <li>
      <strong>
       高效提取图片信息
      </strong>
      ：无需手动逐页翻阅文档，自动提取指定标题下的图片。
     </li>
     <li>
      <strong>
       精准识别文字内容
      </strong>
      ：结合 PaddleOCR，支持中英文混合内容和复杂表格。
     </li>
     <li>
      <strong>
       智能测试点推理
      </strong>
      ：通过 deepseek 接口，将图片内容转化为有价值的测试点。
     </li>
     <li>
      <strong>
       提升工作效率
      </strong>
      ：显著减少人工操作时间，降低错误率。
     </li>
    </ol>
    <p>
     自动化处理需求文档中的图片信息，不仅是测试工程师提升效率的重要手段，更是未来智能测试的必然趋势。希望本文的解决方案能为您的工作带来实质性的帮助！
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34343837323637352f:61727469636c652f64657461696c732f313436313933333835" class_="artid" style="display:none">
 </p>
</div>


