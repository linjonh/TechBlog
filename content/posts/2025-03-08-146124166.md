---
layout: post
title: "用AI学编程4swift学习1"
date: 2025-03-08 22:41:07 +0800
description: "这段代码简要介绍了Swift中的一些基本及高级特性，包括但不限于变量声明、控制流、函数与闭包、类与结构体、枚举、协议与扩展、错误处理、泛型以及并发编程等。根据实际需求，你可以深入探索Swift的其他特性，比如属性观察者、下标脚本、内存管理（ARC）、高级模式匹配等。文件是一个非常庞大的任务，因为Swift是一种功能丰富的编程语言，涵盖了从基础语法到高级特性如泛型、协议扩展、错误处理、并发等。这个文件整合了 Swift 的主要语法和特性，并通过注释解释了每个部分的功能和用法。"
keywords: "用AI学编程4——swift学习1"
categories: ['未分类']
tags: ['学习', 'Swift', 'Ssh']
artid: "146124166"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146124166
    alt: "用AI学编程4swift学习1"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146124166
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146124166
cover: https://bing.ee123.net/img/rand?artid=146124166
image: https://bing.ee123.net/img/rand?artid=146124166
img: https://bing.ee123.net/img/rand?artid=146124166
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     用AI学编程4——swift学习1
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="swift_swift__swift_0">
     </a>
     一个swift文件， 整理出swift从入门到精通的所有知识点， 给出注释， 给出这样的swift文件
    </h2>
    <p>
     以下是一个整合了 Swift 从入门到精通的主要知识点的 Swift 文件，包含了基础语法、面向对象编程、异常处理、集合框架、多线程、Lambda 表达式等内容，并添加了注释以帮助理解：
    </p>
    <pre><code class="prism language-swift"><span class="token comment">/**
 * Swift 学习整合文件
 * 包含 Swift 从入门到精通的主要知识点，包括基础语法、面向对象编程、异常处理、集合框架、多线程、Lambda 表达式等
 * 每个部分都有详细的注释，帮助理解 Swift 的各种特性
 */</span>

<span class="token comment">// ================================ 一、基础语法 ================================</span>

<span class="token comment">// 1. 变量与常量</span>
<span class="token keyword">var</span> mutableVariable <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"Hello"</span></span> <span class="token comment">// 可变变量</span>
<span class="token keyword">let</span> immutableVariable <span class="token operator">=</span> <span class="token number">42</span> <span class="token comment">// 不可变常量</span>

<span class="token comment">// 2. 数据类型</span>
<span class="token keyword">let</span> integer<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">42</span>
<span class="token keyword">let</span> double<span class="token punctuation">:</span> <span class="token class-name">Double</span> <span class="token operator">=</span> <span class="token number">3.14</span>
<span class="token keyword">let</span> boolean<span class="token punctuation">:</span> <span class="token class-name">Bool</span> <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token keyword">let</span> character<span class="token punctuation">:</span> <span class="token class-name">Character</span> <span class="token operator">=</span> '<span class="token class-name">A</span>'
<span class="token keyword">let</span> string<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"Swift String"</span></span>

<span class="token comment">// 3. 运算符</span>
<span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token comment">// 加法</span>
<span class="token keyword">let</span> difference <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">-</span> <span class="token number">4</span> <span class="token comment">// 减法</span>
<span class="token keyword">let</span> product <span class="token operator">=</span> <span class="token number">6</span> <span class="token operator">*</span> <span class="token number">7</span> <span class="token comment">// 乘法</span>
<span class="token keyword">let</span> quotient <span class="token operator">=</span> <span class="token number">10.0</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token comment">// 除法</span>
<span class="token keyword">let</span> remainder <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">%</span> <span class="token number">3</span> <span class="token comment">// 取余</span>

<span class="token comment">// 4. 控制结构</span>
<span class="token comment">// if-else 语句</span>
<span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token number">18</span>
<span class="token keyword">if</span> age <span class="token operator">&gt;=</span> <span class="token number">18</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"已成年"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"未成年"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// for 循环</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..&lt;</span><span class="token number">5</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> terminator<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">" "</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// while 循环</span>
<span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">while</span> count <span class="token operator">&lt;</span> <span class="token number">3</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">print</span><span class="token punctuation">(</span>count<span class="token punctuation">,</span> terminator<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">" "</span></span><span class="token punctuation">)</span>
    count <span class="token operator">+=</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// ================================ 二、面向对象编程 ================================</span>

<span class="token comment">// 1. 类与对象</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">var</span> age<span class="token punctuation">:</span> <span class="token class-name">Int</span>

    <span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
        <span class="token keyword">self</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token punctuation">}</span>

    <span class="token keyword">func</span> <span class="token function-definition function">makeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">name</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> says Woof!"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> myDog <span class="token operator">=</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Buddy"</span></span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span>
myDog<span class="token punctuation">.</span><span class="token function">makeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 2. 继承</span>
<span class="token keyword">class</span> <span class="token class-name">GoldenRetriever</span><span class="token punctuation">:</span> <span class="token class-name">Dog</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">func</span> <span class="token function-definition function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">name</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> is fetching a ball!"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> golden <span class="token operator">=</span> <span class="token class-name">GoldenRetriever</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Max"</span></span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span>
golden<span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 3. 多态</span>
<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">func</span> <span class="token function-definition function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Meow!"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">func</span> <span class="token function-definition function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Woof!"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function-definition function">makeSound</span><span class="token punctuation">(</span>animal<span class="token punctuation">:</span> <span class="token class-name">Cat</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    animal<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function-definition function">makeSound</span><span class="token punctuation">(</span>animal<span class="token punctuation">:</span> <span class="token class-name">Dog</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    animal<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> cat <span class="token operator">=</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">makeSound</span><span class="token punctuation">(</span>animal<span class="token punctuation">:</span> cat<span class="token punctuation">)</span>
<span class="token function">makeSound</span><span class="token punctuation">(</span>animal<span class="token punctuation">:</span> dog<span class="token punctuation">)</span>

<span class="token comment">// ================================ 三、异常处理 ================================</span>

<span class="token comment">// 1. 抛出异常</span>
<span class="token keyword">enum</span> <span class="token class-name">FileError</span><span class="token punctuation">:</span> <span class="token class-name">Error</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">case</span> notFound
    <span class="token keyword">case</span> insufficientPermissions
    <span class="token keyword">case</span> unknownError
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function-definition function">readFile</span><span class="token punctuation">(</span>filename<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> filename<span class="token punctuation">.</span>isEmpty <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">throw</span> <span class="token class-name">FileError</span><span class="token punctuation">.</span>notFound
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> filename <span class="token operator">==</span> <span class="token string-literal"><span class="token string">"restricted.txt"</span></span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">throw</span> <span class="token class-name">FileError</span><span class="token punctuation">.</span>insufficientPermissions
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 正常读取文件逻辑</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 2. 捕获异常</span>
<span class="token keyword">do</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">try</span> <span class="token function">readFile</span><span class="token punctuation">(</span>filename<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"restricted.txt"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token class-name">FileError</span><span class="token punctuation">.</span>notFound <span class="token punctuation">{<!-- --></span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Error: File not found."</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token class-name">FileError</span><span class="token punctuation">.</span>insufficientPermissions <span class="token punctuation">{<!-- --></span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Error: Insufficient permissions to read the file."</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Error: </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">error</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">."</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// ================================ 四、集合框架 ================================</span>

<span class="token comment">// 1. 数组</span>
<span class="token keyword">var</span> fruits <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"Apple"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"Banana"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"Cherry"</span></span><span class="token punctuation">]</span>
fruits<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Date"</span></span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>fruits<span class="token punctuation">)</span>

<span class="token comment">// 2. 集合</span>
<span class="token keyword">var</span> colors <span class="token operator">=</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"Red"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"Green"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"Blue"</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span>
colors<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Yellow"</span></span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span>

<span class="token comment">// 3. 字典</span>
<span class="token keyword">var</span> scores <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"Math"</span></span><span class="token punctuation">:</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"English"</span></span><span class="token punctuation">:</span> <span class="token number">85</span><span class="token punctuation">]</span>
scores<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"Science"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">95</span>
<span class="token function">print</span><span class="token punctuation">(</span>scores<span class="token punctuation">)</span>

<span class="token comment">// ================================ 五、多线程 ================================</span>

<span class="token comment">// 1. 使用 GCD 创建线程</span>
<span class="token keyword">import</span> <span class="token class-name">Foundation</span>

<span class="token keyword">let</span> queue <span class="token operator">=</span> <span class="token class-name">DispatchQueue</span><span class="token punctuation">(</span>label<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"com.example.queue"</span></span><span class="token punctuation">)</span>
queue<span class="token punctuation">.</span><span class="token keyword">async</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Task running on background thread"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// ================================ 六、Lambda 表达式 ================================</span>

<span class="token comment">// 1. 闭包</span>
<span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> squaredNumbers <span class="token operator">=</span> numbers<span class="token punctuation">.</span>map <span class="token punctuation">{<!-- --></span> <span class="token short-argument">$0</span> <span class="token operator">*</span> <span class="token short-argument">$0</span> <span class="token punctuation">}</span>
<span class="token function">print</span><span class="token punctuation">(</span>squaredNumbers<span class="token punctuation">)</span>

<span class="token comment">// ================================ 七、枚举类型 ================================</span>

<span class="token comment">// 1. 枚举</span>
<span class="token keyword">enum</span> <span class="token class-name">CompassPoint</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">case</span> north
    <span class="token keyword">case</span> south
    <span class="token keyword">case</span> east
    <span class="token keyword">case</span> west
<span class="token punctuation">}</span>

<span class="token keyword">var</span> direction <span class="token operator">=</span> <span class="token class-name">CompassPoint</span><span class="token punctuation">.</span>west
direction <span class="token operator">=</span> <span class="token punctuation">.</span>east

<span class="token comment">// 2. 关联值</span>
<span class="token keyword">enum</span> <span class="token class-name">Barcode</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">case</span> <span class="token function">upc</span><span class="token punctuation">(</span><span class="token class-name">Int</span><span class="token punctuation">,</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> <span class="token class-name">Int</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token function">qrCode</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> productBarcode <span class="token operator">=</span> <span class="token class-name">Barcode</span><span class="token punctuation">.</span><span class="token function">upc</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">85909</span><span class="token punctuation">,</span> <span class="token number">51226</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
productBarcode <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token function">qrCode</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ABCDEFGHIJKLMNOP"</span></span><span class="token punctuation">)</span>

<span class="token comment">// ================================ 八、其他特性 ================================</span>

<span class="token comment">// 1. 静态导入</span>
<span class="token keyword">import</span> <span class="token class-name">Foundation</span>

<span class="token comment">// 2. 协议</span>
<span class="token keyword">protocol</span> <span class="token class-name">Drawable</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">func</span> <span class="token function-definition function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Circle</span><span class="token punctuation">:</span> <span class="token class-name">Drawable</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">func</span> <span class="token function-definition function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Drawing a circle"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> shape<span class="token punctuation">:</span> <span class="token class-name">Drawable</span> <span class="token operator">=</span> <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
shape<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// ================================ 主函数 ================================</span>

<span class="token keyword">func</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Running Swift learning file..."</span></span><span class="token punctuation">)</span>
    <span class="token comment">// 在这里可以添加测试代码，调用上述定义的函数和类</span>
<span class="token punctuation">}</span>

<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     这个文件整合了 Swift 的主要语法和特性，并通过注释解释了每个部分的功能和用法。你可以将这些代码复制到 Swift 开发环境中运行，通过实践来加深对 Swift 的理解。
    </p>
    <p>
     创建一个包含Swift从入门到精通所有知识点的
     <code>
      .swift
     </code>
     文件是一个非常庞大的任务，因为Swift是一种功能丰富的编程语言，涵盖了从基础语法到高级特性如泛型、协议扩展、错误处理、并发等。以下示例代码将涵盖一些关键概念，并附上注释帮助理解。请注意，由于篇幅限制，这里仅提供一些核心的概念和结构。
    </p>
    <pre><code class="prism language-swift"><span class="token comment">// MARK: - 基础数据类型与变量声明</span>

<span class="token keyword">import</span> <span class="token class-name">Foundation</span>

<span class="token comment">// 变量定义</span>
<span class="token keyword">var</span> greeting <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"Hello, playground"</span></span> <span class="token comment">// 使用 var 定义可变变量</span>
<span class="token keyword">let</span> constantGreeting <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"Goodbye!"</span></span> <span class="token comment">// 使用 let 定义不可变常量</span>

<span class="token comment">// 数据类型：Int, Double, String, Bool</span>
<span class="token keyword">var</span> age<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">28</span>
<span class="token keyword">let</span> height<span class="token punctuation">:</span> <span class="token class-name">Double</span> <span class="token operator">=</span> <span class="token number">1.75</span>
<span class="token keyword">let</span> name<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"Alice"</span></span>
<span class="token keyword">let</span> isStudent<span class="token punctuation">:</span> <span class="token class-name">Bool</span> <span class="token operator">=</span> <span class="token boolean">true</span>

<span class="token comment">// MARK: - 控制流</span>

<span class="token comment">// 条件语句 if-else</span>
<span class="token keyword">if</span> age <span class="token operator">&gt;</span> <span class="token number">18</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Adult"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Minor"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 循环</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">...</span><span class="token number">5</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 包含边界值的循环</span>
    <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> index <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">while</span> index <span class="token operator">&lt;</span> <span class="token number">5</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// while 循环</span>
    <span class="token function">print</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
    index <span class="token operator">+=</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

<span class="token comment">// MARK: - 函数与闭包</span>

<span class="token comment">// 函数定义</span>
<span class="token keyword">func</span> <span class="token function-definition function">greet</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">String</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"Hello, </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">name</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span>
<span class="token punctuation">}</span>

<span class="token comment">// 闭包表达式</span>
<span class="token keyword">let</span> sum<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">Int</span><span class="token punctuation">,</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> a<span class="token punctuation">,</span> b <span class="token keyword">in</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// MARK: - 类与结构体</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">}</span>
    
    <span class="token keyword">func</span> <span class="token function-definition function">introduce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"My name is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">name</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">struct</span> <span class="token class-name">Animal</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> type<span class="token punctuation">:</span> <span class="token class-name">String</span>
    
    <span class="token keyword">func</span> <span class="token function-definition function">sound</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">type</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> makes a sound"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// MARK: - 枚举与原始值</span>

<span class="token keyword">enum</span> <span class="token class-name">Direction</span><span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">case</span> north<span class="token punctuation">,</span> south<span class="token punctuation">,</span> east<span class="token punctuation">,</span> west
<span class="token punctuation">}</span>

<span class="token comment">// MARK: - 协议与扩展</span>

<span class="token keyword">protocol</span> <span class="token class-name">Speakable</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">func</span> <span class="token function-definition function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">extension</span> <span class="token class-name">String</span><span class="token punctuation">:</span> <span class="token class-name">Speakable</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">func</span> <span class="token function-definition function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// MARK: - 错误处理</span>

<span class="token keyword">enum</span> <span class="token class-name">PrinterError</span><span class="token punctuation">:</span> <span class="token class-name">Error</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">case</span> outOfPaper
    <span class="token keyword">case</span> noToner
    <span class="token keyword">case</span> onFire
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function-definition function">sendToPrinter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">throw</span> <span class="token class-name">PrinterError</span><span class="token punctuation">.</span>onFire
<span class="token punctuation">}</span>

<span class="token keyword">do</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">try</span> <span class="token function">sendToPrinter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token class-name">PrinterError</span><span class="token punctuation">.</span>onFire <span class="token punctuation">{<!-- --></span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Help, it's on fire!"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// MARK: - 泛型</span>

<span class="token keyword">func</span> <span class="token function-definition function">makeArray</span><span class="token operator">&lt;</span><span class="token class-name">Item</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>repeating item<span class="token punctuation">:</span> <span class="token class-name">Item</span><span class="token punctuation">,</span> numberOfTimes<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token class-name">Item</span><span class="token punctuation">]</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">Item</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..&lt;</span>numberOfTimes <span class="token punctuation">{<!-- --></span>
        result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result
<span class="token punctuation">}</span>

<span class="token comment">// MARK: - 并发</span>

<span class="token keyword">import</span> <span class="token class-name">Foundation</span>

<span class="token keyword">func</span> <span class="token function-definition function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Fetching data..."</span></span><span class="token punctuation">)</span>
    <span class="token comment">// 示例异步操作</span>
<span class="token punctuation">}</span>

<span class="token class-name">Task</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">await</span> <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 注意：此示例使用了 Swift 的 async/await 特性，需要在支持 Swift 5.5 或更新版本的环境中运行。</span>
</code></pre>
    <p>
     这段代码简要介绍了Swift中的一些基本及高级特性，包括但不限于变量声明、控制流、函数与闭包、类与结构体、枚举、协议与扩展、错误处理、泛型以及并发编程等。每个部分都有相应的注释来解释其用途和用法。根据实际需求，你可以深入探索Swift的其他特性，比如属性观察者、下标脚本、内存管理（ARC）、高级模式匹配等。此外，请确保你的开发环境正确配置了Swift编译器和必要的库，以便能够成功编译和运行这段代码。
    </p>
    <pre><code class="prism language-swift"><span class="token comment">// MARK: - 基础语法 </span>
<span class="token comment">// 参考[3]()[6]()[11]()</span>
 
<span class="token comment">// 1. 变量与常量 </span>
<span class="token keyword">var</span> score <span class="token operator">=</span> <span class="token number">90</span>       <span class="token comment">// 变量使用var声明（类型推断为Int）</span>
<span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"Swift"</span></span>   <span class="token comment">// 常量使用let声明（推荐优先使用）</span>
 
<span class="token comment">// 2. 类型标注与转换 </span>
<span class="token keyword">let</span> age<span class="token punctuation">:</span> <span class="token class-name">Double</span> <span class="token operator">=</span> <span class="token number">25</span>   <span class="token comment">// 显式类型标注 </span>
<span class="token keyword">let</span> text <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"2023"</span></span>
<span class="token keyword">let</span> year <span class="token operator">=</span> <span class="token class-name">Int</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token operator">!</span>  <span class="token comment">// 强制解包（需确保非nil）</span>
<span class="token keyword">let</span> piString <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token number">3.14</span><span class="token punctuation">)</span> <span class="token comment">// 类型转换 </span>
 
<span class="token comment">// 3. 字符串操作 </span>
<span class="token keyword">let</span> greeting <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"Hello, </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">name</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">!"</span></span>  <span class="token comment">// 字符串插值 </span>
<span class="token keyword">let</span> multiLine <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"""
                This is 
                multi-line 
                string 
                """</span></span>  <span class="token comment">// 多行字符串 </span>
 
<span class="token comment">// 4. 集合类型 </span>
<span class="token keyword">var</span> fruits <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"Apple"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"Orange"</span></span><span class="token punctuation">]</span> <span class="token comment">// 数组（可变）</span>
<span class="token keyword">let</span> colors<span class="token punctuation">:</span> <span class="token class-name">Set</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"Red"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"Blue"</span></span><span class="token punctuation">]</span> <span class="token comment">// 集合（无序唯一）</span>
<span class="token keyword">var</span> capitals <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"CN"</span></span><span class="token punctuation">:</span><span class="token string-literal"><span class="token string">"Beijing"</span></span><span class="token punctuation">]</span> <span class="token comment">// 字典 </span>
 
<span class="token comment">// MARK: - 控制流</span>
<span class="token comment">// 参考[3]()[6]()[12]()</span>
 
<span class="token comment">// 1. 条件语句 </span>
<span class="token keyword">if</span> age <span class="token operator">&gt;=</span> <span class="token number">18</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Adult"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Minor"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// 2. Switch高级匹配 </span>
<span class="token keyword">switch</span> score <span class="token punctuation">{<!-- --></span>
<span class="token keyword">case</span> <span class="token number">90</span><span class="token operator">...</span><span class="token number">100</span><span class="token punctuation">:</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"A"</span></span><span class="token punctuation">)</span>
<span class="token keyword">case</span> <span class="token keyword">let</span> x <span class="token keyword">where</span> x <span class="token operator">&gt;=</span> <span class="token number">60</span><span class="token punctuation">:</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Pass"</span></span><span class="token punctuation">)</span>
<span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token keyword">break</span> 
<span class="token punctuation">}</span>
 
<span class="token comment">// 3. 循环控制 </span>
<span class="token keyword">for</span> fruit <span class="token keyword">in</span> fruits <span class="token keyword">where</span> fruit<span class="token punctuation">.</span><span class="token function">hasPrefix</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"A"</span></span><span class="token punctuation">)</span>  <span class="token punctuation">{<!-- --></span>
    <span class="token function">print</span><span class="token punctuation">(</span>fruit<span class="token punctuation">)</span>  <span class="token comment">// 输出以A开头的水果 </span>
<span class="token punctuation">}</span>
 
<span class="token comment">// MARK: - 函数与闭包</span>
<span class="token comment">// 参考[3]()[5]()[9]()</span>
 
<span class="token comment">// 1. 函数定义 </span>
<span class="token keyword">func</span> <span class="token function-definition function">calculate</span><span class="token punctuation">(</span>a<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b 
<span class="token punctuation">}</span>
 
<span class="token comment">// 2. 闭包表达式 </span>
<span class="token keyword">let</span> sortedFruits <span class="token operator">=</span> fruits<span class="token punctuation">.</span>sorted  <span class="token punctuation">{<!-- --></span> <span class="token short-argument">$0</span> <span class="token operator">&gt;</span> <span class="token short-argument">$1</span> <span class="token punctuation">}</span>
 
<span class="token comment">// 3. 逃逸闭包 </span>
<span class="token keyword">var</span> completions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Void</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">func</span> <span class="token function-definition function">addCompletion</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> completion<span class="token punctuation">:</span> <span class="token attribute atrule">@escaping</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Void</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    completions<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>completion<span class="token punctuation">)</span> 
<span class="token punctuation">}</span>
 
<span class="token comment">// MARK: - 面向对象编程 </span>
<span class="token comment">// 参考[9]()[8]()[10]()</span>
 
<span class="token comment">// 1. 类与结构体</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token class-name">String</span> 
    <span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">self</span><span class="token punctuation">.</span>name  <span class="token operator">=</span> name <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">struct</span> <span class="token class-name">Point</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> x<span class="token punctuation">:</span> <span class="token class-name">Double</span> 
    <span class="token keyword">var</span> y<span class="token punctuation">:</span> <span class="token class-name">Double</span> 
<span class="token punctuation">}</span>
 
<span class="token comment">// 2. 协议与扩展 </span>
<span class="token keyword">protocol</span> <span class="token class-name">Drawable</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">func</span> <span class="token function-definition function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">extension</span> <span class="token class-name">Int</span><span class="token punctuation">:</span> <span class="token class-name">Drawable</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">func</span> <span class="token function-definition function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Drawing </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token keyword">self</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// MARK: - 高级特性 </span>
<span class="token comment">// 参考[5]()[9]()[10]()</span>
 
<span class="token comment">// 1. 泛型编程 </span>
<span class="token keyword">func</span> <span class="token function-definition function">swapValues</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> a<span class="token punctuation">:</span> <span class="token keyword">inout</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token omit keyword">_</span> b<span class="token punctuation">:</span> <span class="token keyword">inout</span> <span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> temp <span class="token operator">=</span> a 
    a <span class="token operator">=</span> b 
    b <span class="token operator">=</span> temp 
<span class="token punctuation">}</span>
 
<span class="token comment">// 2. 错误处理 </span>
<span class="token keyword">enum</span> <span class="token class-name">NetworkError</span><span class="token punctuation">:</span> <span class="token class-name">Error</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">case</span> timeout 
    <span class="token keyword">case</span> <span class="token function">serverError</span><span class="token punctuation">(</span>code<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">func</span> <span class="token function-definition function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token operator">-&gt;</span> <span class="token class-name">Data</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">throw</span> <span class="token class-name">NetworkError</span><span class="token punctuation">.</span>timeout  
<span class="token punctuation">}</span>
 
<span class="token keyword">do</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token keyword">try</span> <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token class-name">NetworkError</span><span class="token punctuation">.</span>timeout  <span class="token punctuation">{<!-- --></span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"请求超时"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// 3. 内存管理 </span>
<span class="token keyword">class</span> <span class="token class-name">DataLoader</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">deinit</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"实例被释放"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// MARK: - 异步编程（Swift 5.5+）</span>
<span class="token comment">// 参考[10]()[9]()</span>
 
<span class="token comment">// 1. async/await </span>
<span class="token keyword">func</span> <span class="token function-definition function">downloadImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token operator">-&gt;</span> <span class="token class-name">UIImage</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">try</span><span class="token operator">?</span> <span class="token keyword">await</span> <span class="token class-name">Task</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span>nanoseconds<span class="token punctuation">:</span>  <span class="token number">1_000_000_000</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token class-name">UIImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// 2. 异步序列 </span>
<span class="token keyword">func</span> <span class="token function-definition function">generateNumbers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token keyword">throws</span> <span class="token operator">-&gt;</span> <span class="token class-name">AsyncStream</span><span class="token operator">&lt;</span><span class="token class-name">Int</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">AsyncStream</span> <span class="token punctuation">{<!-- --></span> continuation <span class="token keyword">in</span> 
        <span class="token class-name">Task</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..&lt;</span><span class="token number">10</span> <span class="token punctuation">{<!-- --></span>
                continuation<span class="token punctuation">.</span><span class="token function">yield</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> 
                <span class="token keyword">try</span> <span class="token keyword">await</span> <span class="token class-name">Task</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span>nanoseconds<span class="token punctuation">:</span>  <span class="token number">500_000_000</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            continuation<span class="token punctuation">.</span><span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// MARK: - 项目实战技巧 </span>
<span class="token comment">// 参考[8]()[10]()</span>
 
<span class="token comment">// 1. CoreData集成 </span>
<span class="token comment">/*
 步骤：
 1. 创建.xcdatamodeld数据模型 
 2. 生成NSManagedObject子类 
 3. 使用NSPersistentContainer管理上下文 
*/</span>
 
<span class="token comment">// 2. SwiftUI声明式语法 </span>
<span class="token comment">/*
 struct ContentView: View {
    @State private var isActive = false 
    
    var body: some View {
        Button(action: { isActive.toggle()  }) {
            Text(isActive ? "Active" : "Inactive")
        }
    }
}
*/</span>
</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e63:73646e2e6e65742f416e616c6f67456c656374726f6e69632f:61727469636c652f64657461696c732f313436313234313636" class_="artid" style="display:none">
 </p>
</div>


