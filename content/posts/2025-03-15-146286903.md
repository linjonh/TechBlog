---
layout: post
title: "什么是-slot-scope怎么理解"
date: 2025-03-15 22:35:48 +0800
description: "但是，列表组件并不知道每一项数据应该如何渲染，因为渲染逻辑可能因业务需求不同而变化。：比如封装一个表单组件，父组件可以根据每一项表单字段的数据自定义渲染方式。，表格的每一行数据需要传递给父组件，父组件可以自定义每一行的渲染方式。：比如封装一个通用的列表组件，父组件可以根据每一项数据自定义渲染内容。：让子组件可以把数据传递给父组件，父组件可以根据数据自定义渲染内容。：当子组件需要渲染一些数据，但父组件需要控制具体的渲染方式时。，父组件可以根据这些数据自定义渲染内容。）传递给父组件，让父组件决定如何渲染。"
keywords: "什么是 slot-scope？怎么理解。"
categories: ['未分类']
tags: ['前端', 'Vue', 'Javascript']
artid: "146286903"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146286903
    alt: "什么是-slot-scope怎么理解"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146286903
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146286903
cover: https://bing.ee123.net/img/rand?artid=146286903
image: https://bing.ee123.net/img/rand?artid=146286903
img: https://bing.ee123.net/img/rand?artid=146286903
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     什么是 slot-scope？怎么理解。
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h4>
     1.
     <strong>
      什么是
      <code>
       slot-scope
      </code>
      ？
     </strong>
    </h4>
    <p>
     <code>
      slot-scope
     </code>
     是 Vue 2 中用于
     <strong>
      作用域插槽
     </strong>
     的语法。它的作用是让
     <strong>
      子组件
     </strong>
     可以把一些数据传递给
     <strong>
      父组件
     </strong>
     ，父组件可以根据这些数据自定义渲染内容。
    </p>
    <p>
     简单来说：
    </p>
    <ul>
     <li>
      <p>
       <strong>
        子组件
       </strong>
       ：负责提供数据。
      </p>
     </li>
     <li>
      <p>
       <strong>
        父组件
       </strong>
       ：负责根据数据渲染内容。
      </p>
     </li>
    </ul>
    <hr/>
    <h4>
     2.
     <strong>
      为什么需要
      <code>
       slot-scope
      </code>
      ？
     </strong>
    </h4>
    <p>
     想象一个场景：
    </p>
    <ul>
     <li>
      <p>
       你封装了一个列表组件（子组件），这个组件会接收一个数组（比如
       <code>
        todos
       </code>
       ），并用
       <code>
        v-for
       </code>
       循环渲染每一项。
      </p>
     </li>
     <li>
      <p>
       但是，列表组件并不知道每一项数据应该如何渲染，因为渲染逻辑可能因业务需求不同而变化。
      </p>
     </li>
     <li>
      <p>
       这时，你需要把每一项数据（比如
       <code>
        todo
       </code>
       ）传递给父组件，让父组件决定如何渲染。
      </p>
     </li>
    </ul>
    <p>
     这就是
     <code>
      slot-scope
     </code>
     的作用：
     <strong>
      子组件提供数据，父组件决定如何渲染
     </strong>
     。
    </p>
    <hr/>
    <h4>
     3.
     <strong>
      结合代码理解
     </strong>
    </h4>
    <h5>
     子组件（
     <code>
      todoList.vue
     </code>
     ）
    </h5>
    <pre><code class="hljs">&lt;template&gt;
  &lt;ul&gt;
    &lt;li v-for="todo in todos" :key="todo.id"&gt;
      &lt;!-- 通过 slot 把 todo 数据传递给父组件 --&gt;
      &lt;slot :todo="todo"&gt;&lt;/slot&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  props: {
    todos: {
      type: Array,
      required: true,
    },
  },
};
&lt;/script&gt;</code></pre>
    <ul>
     <li>
      <p>
       子组件接收一个
       <code>
        todos
       </code>
       数组，并通过
       <code>
        v-for
       </code>
       循环渲染每一项。
      </p>
     </li>
     <li>
      <p>
       在循环中，子组件通过
       <code>
        &lt;slot :todo="todo"&gt;&lt;/slot&gt;
       </code>
       把每一项
       <code>
        todo
       </code>
       数据传递给父组件。
      </p>
     </li>
    </ul>
    <hr/>
    <h5>
     父组件（
     <code>
      App.vue
     </code>
     ）
    </h5>
    <pre><code class="hljs">&lt;template&gt;
  &lt;todo-list :todos="todos"&gt;
    &lt;!-- 通过 slot-scope 接收子组件传递的 todo 数据 --&gt;
    &lt;template slot-scope="slotProps"&gt;
      &lt;span v-if="slotProps.todo.isComplete"&gt;✓&lt;/span&gt;
      &lt;span&gt;{<!-- -->{ slotProps.todo.text }}&lt;/span&gt;
    &lt;/template&gt;
  &lt;/todo-list&gt;
&lt;/template&gt;

&lt;script&gt;
import todoList from "./todoList";

export default {
  data() {
    return {
      todos: [
        { id: 0, text: "ziwei0", isComplete: false },
        { id: 1, text: "ziwei1", isComplete: true },
        { id: 2, text: "ziwei2", isComplete: false },
        { id: 3, text: "ziwei3", isComplete: false },
      ],
    };
  },
  components: {
    todoList,
  },
};
&lt;/script&gt;</code></pre>
    <ul>
     <li>
      <p>
       父组件通过
       <code>
        :todos="todos"
       </code>
       把
       <code>
        todos
       </code>
       数组传递给子组件。
      </p>
     </li>
     <li>
      <p>
       子组件通过
       <code>
        slot
       </code>
       把每一项
       <code>
        todo
       </code>
       数据传递回来。
      </p>
     </li>
     <li>
      <p>
       父组件通过
       <code>
        slot-scope="slotProps"
       </code>
       接收
       <code>
        todo
       </code>
       数据，并根据
       <code>
        todo.isComplete
       </code>
       和
       <code>
        todo.text
       </code>
       自定义渲染内容。
      </p>
     </li>
    </ul>
    <hr/>
    <h4>
     4.
     <strong>
      数据流动
     </strong>
    </h4>
    <ol>
     <li>
      <p>
       <strong>
        父组件
       </strong>
       把
       <code>
        todos
       </code>
       数组传递给
       <strong>
        子组件
       </strong>
       。
      </p>
     </li>
     <li>
      <p>
       <strong>
        子组件
       </strong>
       通过
       <code>
        v-for
       </code>
       循环
       <code>
        todos
       </code>
       ，并把每一项
       <code>
        todo
       </code>
       数据通过
       <code>
        slot
       </code>
       传递回
       <strong>
        父组件
       </strong>
       。
      </p>
     </li>
     <li>
      <p>
       <strong>
        父组件
       </strong>
       通过
       <code>
        slot-scope
       </code>
       接收
       <code>
        todo
       </code>
       数据，并决定如何渲染。
      </p>
     </li>
    </ol>
    <hr/>
    <h4>
     5.
     <strong>
      为什么不用
      <code>
       $emit
      </code>
      或
      <code>
       vuex
      </code>
      ？
     </strong>
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        <code>
         $emit
        </code>
       </strong>
       ：
       <code>
        $emit
       </code>
       是用来触发事件的，适合在某个特定时机（比如点击按钮）传递数据。但在列表渲染的场景中，
       <code>
        v-for
       </code>
       循环的每一项都需要传递数据，
       <code>
        $emit
       </code>
       无法满足这种需求。
      </p>
     </li>
     <li>
      <p>
       <strong>
        <code>
         vuex
        </code>
       </strong>
       ：
       <code>
        vuex
       </code>
       是全局状态管理工具，适合跨组件共享数据。但在这种父子组件通信的场景中，使用
       <code>
        vuex
       </code>
       会显得过于复杂，没有必要。
      </p>
     </li>
    </ul>
    <p>
     <code>
      slot-scope
     </code>
     是专门为这种场景设计的：
     <strong>
      子组件提供数据，父组件决定如何渲染
     </strong>
     。
    </p>
    <hr/>
    <h4>
     6.
     <strong>
      实际应用场景
     </strong>
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        表格组件
       </strong>
       ：比如 Element UI 的
       <code>
        el-table
       </code>
       ，表格的每一行数据需要传递给父组件，父组件可以自定义每一行的渲染方式。
      </p>
     </li>
     <li>
      <p>
       <strong>
        列表组件
       </strong>
       ：比如封装一个通用的列表组件，父组件可以根据每一项数据自定义渲染内容。
      </p>
     </li>
     <li>
      <p>
       <strong>
        表单组件
       </strong>
       ：比如封装一个表单组件，父组件可以根据每一项表单字段的数据自定义渲染方式。
      </p>
     </li>
    </ul>
    <hr/>
    <h4>
     7.
     <strong>
      总结
     </strong>
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        <code>
         slot-scope
        </code>
        的作用
       </strong>
       ：让子组件可以把数据传递给父组件，父组件可以根据数据自定义渲染内容。
      </p>
     </li>
     <li>
      <p>
       <strong>
        使用场景
       </strong>
       ：当子组件需要渲染一些数据，但父组件需要控制具体的渲染方式时。
      </p>
     </li>
     <li>
      <p>
       <strong>
        优点
       </strong>
       ：灵活、解耦、复用性强。
      </p>
     </li>
    </ul>
    <h4>
     8.
     <strong>
      Vue 3 中的替代方案
     </strong>
    </h4>
    <p>
     在 Vue 3 中，
     <code>
      slot-scope
     </code>
     被废弃，改为使用
     <code>
      v-slot
     </code>
     语法。例如：
    </p>
    <pre><code class="hljs">&lt;template v-slot:default="slotProps"&gt;
  &lt;span v-if="slotProps.todo.isComplete"&gt;✓&lt;/span&gt;
  &lt;span&gt;{<!-- -->{ slotProps.todo.text }}&lt;/span&gt;
&lt;/template&gt;</code></pre>
    <p>
     或者简写形式：
    </p>
    <pre><code class="hljs">&lt;template #default="{ todo }"&gt;
  &lt;span v-if="todo.isComplete"&gt;✓&lt;/span&gt;
  &lt;span&gt;{<!-- -->{ todo.text }}&lt;/span&gt;
&lt;/template&gt;
 </code></pre>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f67:2e6373646e2e6e65742f71696e675f746f6e675f746f6e672f:61727469636c652f64657461696c732f313436323836393033" class_="artid" style="display:none">
 </p>
</div>


