---
layout: post
title: "Go语言-语法基础3-变量常量运算符-变量"
date: 2025-03-16 19:02:44 +08:00
description: "var a int// 当前进程向内存申请一个名称为a变量，指定内存大小为int尺寸，内容为默认值。源码： 写好的给人看的代码程序： 编好的给机器执行的文件进程： 正在执行的程序数字类型intfloatbyterune为0string为空字符串\"\"， 注意区别 C 语言中没有这个类型complex为(0+0i)bool类型为falseerror类型为<nil>"
keywords: "Go语言--语法基础3--变量常量运算符--变量"
categories: ['未分类']
tags: ['开发语言', '后端', 'Golang']
artid: "146299380"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146299380
    alt: "Go语言-语法基础3-变量常量运算符-变量"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146299380
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146299380
cover: https://bing.ee123.net/img/rand?artid=146299380
image: https://bing.ee123.net/img/rand?artid=146299380
img: https://bing.ee123.net/img/rand?artid=146299380
---

# Go语言--语法基础3--变量常量运算符--变量
## 1、变量
变量是几乎所有编程语言中最基本的组成元素。从根本上说，变量相当于是对一块数据存储空间的命名，程序可以通过定义一个变量来申请一块数据存储空间，之后可以通过引用变量名来使用这块存储空间。Go
语言中的变量使用方式与 C 语言接近，但具备更大的灵活性。
声明变量的一般形式是使用`var`关键字：
var identifier type ⇒ var a int
type identifier ; ===>int a;
变量声明有如下三种：
#### 第一种 全定义，指定变量类型，声明后若不赋值，使用默认值。
var v_name v_type
比如：`var a int` // 当前进程向内存申请一个名称为`a`变量，指定内存大小为`int`尺寸，内容为默认值。
1. 源码： 写好的给人看的代码
2. 程序： 编好的给机器执行的文件
3. 进程： 正在执行的程序
Go 变量声明时候会给初始值 (默认值)：
1. 数字类型`int`、`float`、`byte`、`rune` 为`0`
2. `string`为空字符串`""` ， 注意区别 C 语言中没有这个类型
3. `complex`为`(0+0i)`
4. `bool`类型为`false`
5. `error`类型为``
#### 第二种 类型推导，根据值自行判定变量类型。
var v_name = value
比如：`var b = 10` // 当前进程向内存申请一个名称为`a`变量，并向该变量中存储`10`这个数字，内存尺寸自动匹配。
#### 第三种 简略声明，省略`var`， 注意`:=`左侧的变量不应该是已经声明过的，否则会导致编译错误。
使用操作符`:=`可以高效地创建一个新的变量，称之为初始化声明。`:=`不能被用在函数体外，也就是说，当你打算声明一个全局变量时，你只能使用`var`开头。
v_name := value
比如：`c := 10`
变量声明语句不需要使用分号作为结束符。与 C 语言相比，Go 语言摒弃了语句必须以分号作为语句结束标记的习惯。
`var`关键字的另一种用法是可以将若干个需要声明的变量放置在一起，免得程序员需要重复写`var`关键字，如下所示：
//类型不同的多个变量，同时声明
var (
v1 int
v2 string
)
//类型相同多个变量, 非全局变量
var vname1, vname2, vname3 type
vname1, vname2, vname3 = v1, v2, v3
var vname1, vname2, vname3 = v1, v2, v3 //和python很像,不需要显示声明类型，自动推断
vname1, vname2, vname3 := v1, v2, v3 //出现在:=左侧的变量不应该被声明过的，否则导致编译错误
//类型不同多个变量, 全局变量, 局部变量不能使用这种方式
#### 变量初始化：
对于声明变量时需要进行初始化的场景，`var`关键字可以保留，但不再是必要的元素，如下所示：
var v1 int = 10 // 正确的使用方式1
var v2 = 10 // 正确的使用方式2，编译器可以自动推导出v2的类型
v3 := 10 // 正确的使用方式3，编译器可以自动推导出v3的类型
以上三种用法的效果是完全一样的。与第一种用法相比，第三种用法需要输入的字符数大大减少，是懒程序员和聪明程序员的最佳选择。这里 Go 语言也引入了另一个 C
和 C++ 中没有的符号（冒号和等号的组合`:=`），用于明确表达同时进行变量声明和初始化的工作。
指定类型已不再是必需的，Go 编译器可以从初始化表达式的右值推导出该变量应该声明为哪种类型，这让 Go 语言看起来有点像动态类型语言，尽管 Go
语言实际上是不折不扣的强类型语言。
当然，出现在`:=`左侧的变量不应该是已经被声明过的，否则会导致编译错误，比如下面这个写法：
var i int
i := 2
会导致类似如下的编译错误：
no new variables on left side of :=
#### 变量赋值：
在 Go 语法中，变量初始化和变量赋值是两个不同的概念。下面为声明一个变量之后的赋值过程：
var v10 int //声明
v10 = 123 //赋值 没有使用，没有引用
Go 语言的变量赋值与多数语言一致，但 Go 语言中提供了 C/C++ 程序员期盼多年的多重赋值功能，比如下面这个交换`i`和`j`变量的语句：
i, j = j, i
C 语言中：在不支持多重赋值的语言中，交互两个变量的内容需要引入一个中间变量：
t = i; i = j; j = t;
多重赋值的特性在 Go 语言库的实现中也被使用得相当充分，在介绍函数的多重返回值时，将对其进行更加深入的介绍。总而言之，多重赋值功能让 Go 语言与
C/C++ 语言相比可以非常明显地减少代码行数。
#### 匿名变量：
我们在使用传统的强类型语言编程时，经常会出现这种情况，即在调用函数时为了获取一个值，却因为该函数返回多个值而不得不定义一堆没用的变量。在 Go
中这种情况可以通过结合使用多重返回和匿名变量来避免这种丑陋的写法，让代码看起来更加优雅。
假设`GetName()`函数的定义如下，它返回 3 个值，分别为`firstName`、`lastName`和`nickName`：
func GetName() (firstName, lastName, nickName string) {
return "May", "Chan", "Chibi Maruko"
}
若只想获得`nickName`，则函数调用语句可以用如下方式编写：
_, _, nickName := GetName()
这种用法可以让代码非常清晰，基本上屏蔽掉了可能混淆代码阅读者视线的内容，从而大幅降低沟通的复杂度和代码维护的难度。
#### 局部变量
在函数体内声明的变量称之为局部变量，它们的作用域只在函数体内，参数和返回值变量也是局部变量。
以下实例中`main()`函数使用了局部变量`a`，`b`，`c`：
package main
import "fmt"
func main() {
/* 声明局部变量 */
var a, b, c int
/* 初始化参数 */
a = 10
b = 20
c = a + b
fmt.Printf ("结果： a = %d, b = %d and c = %d\n", a, b, c)
}
以上实例执行输出结果为：
结果： a = 10, b = 20 and c = 30
#### 全局变量
在函数体外声明的变量称之为全局变量，全局变量可以在整个包甚至外部包（被导出后）使用。
全局变量可以在任何函数中使用，以下实例演示了如何使用全局变量：
package main
import "fmt"
/* 声明全局变量 */
var g int
func main() {
/* 声明局部变量 */
var a, b int
/* 初始化参数 */
a = 10
b = 20
g = a + b
fmt.Printf("结果： a = %d, b = %d and g = %d\n", a, b, g)
}
以上实例执行输出结果为：
结果： a = 10, b = 20 and g = 30
Go 语言程序中全局变量与局部变量名称可以相同，但是函数内的局部变量会被优先考虑。实例如下：
package main
import "fmt"
/* 声明全局变量 */
var g int = 20
func main() {
/* 声明局部变量 */
var g int = 10
fmt.Printf ("结果： g = %d\n", g)
}
以上实例执行输出结果为：
结果： g = 10