---
layout: post
title: "redis在ubuntu更新至最新版本-官方提供方法-查看版本和状态-查看数据库中数据"
date: 2025-03-10 10:26:41 +0800
description: "根据不同的需求，选择合适的命令来查看相关信息。: 查看 Redis 服务器的各种信息，如内存、持久化、客户端等。: 查看键的剩余生存时间（TTL，Time To Live）。: 查看键的剩余生存时间，以毫秒为单位。: 获取有序集合中指定范围内的成员。: 获取有序集合的基数（元素数量）。: 获取有序集合中指定成员的分数。: 查看 Redis 集群的信息。: 获取集合的基数（元素数量）。: 查看当前连接的客户端信息。: 查看指定键的内存使用情况。: 查看集群中所有节点的信息。: 查看当前数据库的键数量。"
keywords: "redis在ubuntu更新至最新版本-官方提供方法-查看版本和状态-查看数据库中数据"
categories: ['云服务器', 'Web']
tags: ['数据库', 'Ubuntu', 'Redis']
artid: "146146015"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146146015
    alt: "redis在ubuntu更新至最新版本-官方提供方法-查看版本和状态-查看数据库中数据"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146146015
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146146015
cover: https://bing.ee123.net/img/rand?artid=146146015
image: https://bing.ee123.net/img/rand?artid=146146015
img: https://bing.ee123.net/img/rand?artid=146146015
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     redis在ubuntu更新至最新版本-官方提供方法-查看版本和状态-查看数据库中数据
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <p>
    </p>
    <h2>
     <a id="1_1">
     </a>
     1.更新命令
    </h2>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> lsb-release <span class="token function">curl</span> gpg
<span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://packages.redis.io/gpg <span class="token operator">|</span> <span class="token function">sudo</span> gpg <span class="token parameter variable">--dearmor</span> <span class="token parameter variable">-o</span> /usr/share/keyrings/redis-archive-keyring.gpg
<span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">644</span> /usr/share/keyrings/redis-archive-keyring.gpg
<span class="token builtin class-name">echo</span> <span class="token string">"deb [signed-by=/usr/share/keyrings/redis-archive-keyring.gpg] https://packages.redis.io/deb <span class="token variable"><span class="token variable">$(</span>lsb_release <span class="token parameter variable">-cs</span><span class="token variable">)</span></span> main"</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/redis.list
<span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> redis
</code></pre>
    <h2>
     <a id="2redis_12">
     </a>
     2.启动redis
    </h2>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> redis-server
<span class="token function">sudo</span> systemctl start redis-server
<span class="token function">sudo</span> systemctl restart redis-server
</code></pre>
    <h2>
     <a id="3_20">
     </a>
     3.查看版本和状态
    </h2>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> systemctl status redis-server
redis-server <span class="token parameter variable">--version</span>
</code></pre>
    <h2>
     <a id="4rediscli_26">
     </a>
     4.redis-cli进入退出命令行
    </h2>
    <p>
     要进入 Redis 命令行界面（即 Redis CLI），你需要使用
     <code>
      redis-cli
     </code>
     工具。以下是具体步骤：
    </p>
    <h3>
     <a id="41__Redis__28">
     </a>
     4.1. 确保 Redis 已安装并运行
    </h3>
    <p>
     在进入 Redis 命令行之前，确保 Redis 服务器已经安装并在运行。你可以通过以下命令检查 Redis 是否正在运行：
    </p>
    <pre><code class="prism language-bash">redis-cli <span class="token function">ping</span>
</code></pre>
    <p>
     如果 Redis 服务器正在运行，你会收到
     <code>
      PONG
     </code>
     的响应。
    </p>
    <h3>
     <a id="42__Redis__37">
     </a>
     4.2. 进入 Redis 命令行
    </h3>
    <p>
     使用
     <code>
      redis-cli
     </code>
     命令进入 Redis 命令行界面：
    </p>
    <pre><code class="prism language-bash">redis-cli
</code></pre>
    <p>
     如果 Redis 服务器运行在默认的
     <code>
      localhost
     </code>
     和端口
     <code>
      6379
     </code>
     上，直接运行上述命令即可。
    </p>
    <h3>
     <a id="43__Redis__46">
     </a>
     4.3. 连接到远程 Redis 服务器
    </h3>
    <p>
     如果你的 Redis 服务器运行在远程主机上，或者使用了非默认的端口，你可以通过以下方式连接到 Redis 服务器：
    </p>
    <pre><code class="prism language-bash">redis-cli <span class="token parameter variable">-h</span> <span class="token operator">&lt;</span>hostname<span class="token operator">&gt;</span> <span class="token parameter variable">-p</span> <span class="token operator">&lt;</span>port<span class="token operator">&gt;</span> <span class="token parameter variable">-a</span> <span class="token operator">&lt;</span>password<span class="token operator">&gt;</span>
</code></pre>
    <ul>
     <li>
      <code>
       &lt;hostname&gt;
      </code>
      : Redis 服务器的主机名或 IP 地址。
     </li>
     <li>
      <code>
       &lt;port&gt;
      </code>
      : Redis 服务器的端口号（默认是 6379）。
     </li>
     <li>
      <code>
       &lt;password&gt;
      </code>
      : 如果 Redis 服务器设置了密码认证，使用
      <code>
       -a
      </code>
      参数指定密码。
     </li>
    </ul>
    <p>
     例如：
    </p>
    <pre><code class="prism language-bash">redis-cli <span class="token parameter variable">-h</span> <span class="token number">192.168</span>.1.100 <span class="token parameter variable">-p</span> <span class="token number">6379</span> <span class="token parameter variable">-a</span> mypassword
</code></pre>
    <h3>
     <a id="44__Redis__63">
     </a>
     4.4. 执行 Redis 命令
    </h3>
    <p>
     进入 Redis 命令行后，你可以直接输入 Redis 命令并查看结果。例如：
    </p>
    <pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SET mykey <span class="token string">"Hello, Redis!"</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> GET mykey
<span class="token string">"Hello, Redis!"</span>
</code></pre>
    <h3>
     <a id="45__Redis__73">
     </a>
     4.5. 退出 Redis 命令行
    </h3>
    <p>
     要退出 Redis 命令行界面，可以使用
     <code>
      QUIT
     </code>
     命令或按下
     <code>
      Ctrl + D
     </code>
     ：
    </p>
    <pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> QUIT
</code></pre>
    <h3>
     <a id="46__80">
     </a>
     4.6. 其他常用选项
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        <code>
         -n
        </code>
       </strong>
       : 选择数据库编号。Redis 默认有 16 个数据库（编号从 0 到 15），你可以通过
       <code>
        -n
       </code>
       参数选择特定的数据库。
      </p>
      <pre><code class="prism language-bash">redis-cli <span class="token parameter variable">-n</span> <span class="token number">1</span>
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        <code>
         --raw
        </code>
       </strong>
       : 以原始格式输出结果，避免对二进制数据进行转义。
      </p>
      <pre><code class="prism language-bash">redis-cli <span class="token parameter variable">--raw</span>
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        <code>
         --stat
        </code>
       </strong>
       : 实时查看 Redis 服务器的状态。
      </p>
      <pre><code class="prism language-bash">redis-cli <span class="token parameter variable">--stat</span>
</code></pre>
     </li>
    </ul>
    <p>
     通过这些步骤，你可以轻松进入 Redis 命令行界面，并执行各种 Redis 命令来管理和监控你的 Redis 数据库。
    </p>
    <h2>
     <a id="5_98">
     </a>
     5.命令行查看
    </h2>
    <p>
     Redis 提供了多种命令来查看和监控数据库的状态、键值对、内存使用情况等。以下是一些常用的查看命令：
    </p>
    <h3>
     <a id="51__102">
     </a>
     5.1. 查看键值对
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        KEYS pattern
       </strong>
       : 查找所有符合给定模式
       <code>
        pattern
       </code>
       的键。
      </p>
      <pre><code class="prism language-bash">KEYS *
</code></pre>
      <p>
       注意：
       <code>
        KEYS *
       </code>
       会返回所有键，但在生产环境中慎用，因为它会阻塞 Redis 服务器。
      </p>
     </li>
     <li>
      <p>
       <strong>
        SCAN cursor [MATCH pattern] [COUNT count]
       </strong>
       : 增量式地遍历键空间，适合在生产环境中使用。
      </p>
      <pre><code class="prism language-bash">SCAN <span class="token number">0</span> MATCH user:* COUNT <span class="token number">10</span>
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        TYPE key
       </strong>
       : 查看键的数据类型。
      </p>
      <pre><code class="prism language-bash">TYPE mykey
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        TTL key
       </strong>
       : 查看键的剩余生存时间（TTL，Time To Live）。
      </p>
      <pre><code class="prism language-bash">TTL mykey
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        PTTL key
       </strong>
       : 查看键的剩余生存时间，以毫秒为单位。
      </p>
      <pre><code class="prism language-bash">PTTL mykey
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        EXISTS key
       </strong>
       : 检查键是否存在。
      </p>
      <pre><code class="prism language-bash">EXISTS mykey
</code></pre>
     </li>
    </ul>
    <h3>
     <a id="52__134">
     </a>
     5.2. 查看字符串类型
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        GET key
       </strong>
       : 获取键的值。
      </p>
      <pre><code class="prism language-bash">GET mykey
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        STRLEN key
       </strong>
       : 获取字符串值的长度。
      </p>
      <pre><code class="prism language-bash">STRLEN mykey
</code></pre>
     </li>
    </ul>
    <h3>
     <a id="53__145">
     </a>
     5.3. 查看列表类型
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        LRANGE key start stop
       </strong>
       : 获取列表指定范围内的元素。
      </p>
      <pre><code class="prism language-bash">LRANGE mylist <span class="token number">0</span> <span class="token parameter variable">-1</span>
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        LLEN key
       </strong>
       : 获取列表的长度。
      </p>
      <pre><code class="prism language-bash">LLEN mylist
</code></pre>
     </li>
    </ul>
    <h3>
     <a id="54__156">
     </a>
     5.4. 查看集合类型
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        SMEMBERS key
       </strong>
       : 获取集合中的所有成员。
      </p>
      <pre><code class="prism language-bash">SMEMBERS myset
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        SCARD key
       </strong>
       : 获取集合的基数（元素数量）。
      </p>
      <pre><code class="prism language-bash">SCARD myset
</code></pre>
     </li>
    </ul>
    <h3>
     <a id="55__167">
     </a>
     5.5. 查看哈希类型
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        HGETALL key
       </strong>
       : 获取哈希中的所有字段和值。
      </p>
      <pre><code class="prism language-bash">HGETALL myhash
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        HLEN key
       </strong>
       : 获取哈希中字段的数量。
      </p>
      <pre><code class="prism language-bash">HLEN myhash
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        HKEYS key
       </strong>
       : 获取哈希中的所有字段。
      </p>
      <pre><code class="prism language-bash">HKEYS myhash
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        HVALS key
       </strong>
       : 获取哈希中的所有值。
      </p>
      <pre><code class="prism language-bash">HVALS myhash
</code></pre>
     </li>
    </ul>
    <h3>
     <a id="56__188">
     </a>
     5.6. 查看有序集合类型
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        ZRANGE key start stop [WITHSCORES]
       </strong>
       : 获取有序集合中指定范围内的成员。
      </p>
      <pre><code class="prism language-bash">ZRANGE myzset <span class="token number">0</span> <span class="token parameter variable">-1</span> WITHSCORES
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        ZCARD key
       </strong>
       : 获取有序集合的基数（元素数量）。
      </p>
      <pre><code class="prism language-bash">ZCARD myzset
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        ZSCORE key member
       </strong>
       : 获取有序集合中指定成员的分数。
      </p>
      <pre><code class="prism language-bash">ZSCORE myzset member1
</code></pre>
     </li>
    </ul>
    <h3>
     <a id="57__204">
     </a>
     5.7. 查看数据库信息
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        DBSIZE
       </strong>
       : 查看当前数据库的键数量。
      </p>
      <pre><code class="prism language-bash">DBSIZE
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        INFO [section]
       </strong>
       : 查看 Redis 服务器的各种信息，如内存、持久化、客户端等。
      </p>
      <pre><code class="prism language-bash">INFO memory
INFO keyspace
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        CONFIG GET parameter
       </strong>
       : 获取 Redis 配置参数的值。
      </p>
      <pre><code class="prism language-bash">CONFIG GET maxmemory
</code></pre>
     </li>
    </ul>
    <h3>
     <a id="58__221">
     </a>
     5.8. 查看客户端信息
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        CLIENT LIST
       </strong>
       : 查看当前连接的客户端信息。
      </p>
      <pre><code class="prism language-bash">CLIENT LIST
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        CLIENT GETNAME
       </strong>
       : 获取当前连接的名称。
      </p>
      <pre><code class="prism language-bash">CLIENT GETNAME
</code></pre>
     </li>
    </ul>
    <h3>
     <a id="59__232">
     </a>
     5.9. 查看慢查询日志
    </h3>
    <ul>
     <li>
      <strong>
       SLOWLOG GET [n]
      </strong>
      : 获取最近的慢查询日志。
      <pre><code class="prism language-bash">SLOWLOG GET <span class="token number">10</span>
</code></pre>
     </li>
    </ul>
    <h3>
     <a id="510__238">
     </a>
     5.10. 查看内存使用情况
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        MEMORY USAGE key
       </strong>
       : 查看指定键的内存使用情况。
      </p>
      <pre><code class="prism language-bash">MEMORY USAGE mykey
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        MEMORY STATS
       </strong>
       : 查看内存使用统计信息。
      </p>
      <pre><code class="prism language-bash">MEMORY STATS
</code></pre>
     </li>
    </ul>
    <h3>
     <a id="511__249">
     </a>
     5.11. 查看持久化信息
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        LASTSAVE
       </strong>
       : 获取最后一次成功保存到磁盘的时间戳。
      </p>
      <pre><code class="prism language-bash">LASTSAVE
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        INFO persistence
       </strong>
       : 查看持久化相关的信息。
      </p>
      <pre><code class="prism language-bash">INFO persistence
</code></pre>
     </li>
    </ul>
    <h3>
     <a id="512__260">
     </a>
     5.12. 查看复制信息
    </h3>
    <ul>
     <li>
      <strong>
       INFO replication
      </strong>
      : 查看主从复制的相关信息。
      <pre><code class="prism language-bash">INFO replication
</code></pre>
     </li>
    </ul>
    <h3>
     <a id="513__266">
     </a>
     5.13. 查看集群信息
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        CLUSTER INFO
       </strong>
       : 查看 Redis 集群的信息。
      </p>
      <pre><code class="prism language-bash">CLUSTER INFO
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        CLUSTER NODES
       </strong>
       : 查看集群中所有节点的信息。
      </p>
      <pre><code class="prism language-bash">CLUSTER NODES
</code></pre>
     </li>
    </ul>
    <p>
     这些命令可以帮助你更好地了解 Redis 的状态、性能和数据存储情况。根据不同的需求，选择合适的命令来查看相关信息。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f36373331363535302f:61727469636c652f64657461696c732f313436313436303135" class_="artid" style="display:none">
 </p>
</div>


