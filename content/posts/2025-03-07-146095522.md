---
layout: post
title: "uniapp使用蓝牙,usb,局域网,打印机打印"
date: 2025-03-07 14:41:03 +0800
description: "使用流程（支持安卓和iOS）引入SDK连接设备拼接模版tspl模版用例1（打印常用指令）tspl模版用例2（打印图片）cpcl模版用例1（打印常用指令）cpcl模版用例2（打印图片）esc模版用例1（打印常用指令）esc模版用例2（打印图片）开始打印安卓经典蓝牙API打开蓝牙扫描蓝牙连接蓝牙蓝牙写入停止蓝牙扫描关闭蓝牙蓝牙连接状态低功耗蓝牙API（支持安卓和iOS）打开蓝牙扫描蓝牙连接蓝牙蓝牙写入数据停止蓝牙扫描关闭蓝牙蓝牙连接状态安卓usb打印API打开usb扫描usb连接usbusb写入数据。"
keywords: "uniapp usb打印"
categories: ['未分类']
tags: ['App']
artid: "146095522"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146095522
    alt: "uniapp使用蓝牙,usb,局域网,打印机打印"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146095522
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146095522
cover: https://bing.ee123.net/img/rand?artid=146095522
image: https://bing.ee123.net/img/rand?artid=146095522
img: https://bing.ee123.net/img/rand?artid=146095522
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     uniapp使用蓝牙,usb,局域网,打印机打印
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="iOS_0">
     </a>
     使用流程（支持安卓和iOS）
    </h2>
    <h3>
     <a id="SDK_1">
     </a>
     引入SDK
    </h3>
    <p>
     引入原生插件包地址如下
     <br/>
     https://github.com/oldfive20250214/UniPrinterDemo
    </p>
    <h3>
     <a id="_5">
     </a>
     连接设备
    </h3>
    <p>
     安卓支持经典蓝牙、ble蓝牙、usb、局域网（参考API）
    </p>
    <p>
     iOS支持ble蓝牙、局域网（参考API）
    </p>
    <h3>
     <a id="_10">
     </a>
     拼接模版
    </h3>
    <p>
     声明对象
    </p>
    <p>
     const printer = uni.requireNativePlugin(“Printer”)
    </p>
    <h4>
     <a id="tspl1_15">
     </a>
     tspl模版用例1（打印常用指令）
    </h4>
    <pre><code class="prism language-java">printer<span class="token punctuation">.</span><span class="token function">addSize</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"width"</span><span class="token operator">:</span><span class="token number">75</span><span class="token punctuation">,</span><span class="token string">"height"</span><span class="token operator">:</span><span class="token number">135</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">addCls</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">addDirection</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"n"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"m"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">addGap</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"m"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"n"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">addText</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"x"</span><span class="token operator">:</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token string">"y"</span><span class="token operator">:</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token string">"font"</span><span class="token operator">:</span><span class="token string">"TSS16.BF2"</span><span class="token punctuation">,</span><span class="token string">"rotate"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"xMultiple"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"yMultiple"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"alignment"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"content"</span><span class="token operator">:</span><span class="token string">"16号字体"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">addBox</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"x"</span><span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">"y"</span><span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">"x_end"</span><span class="token operator">:</span><span class="token number">500</span><span class="token punctuation">,</span><span class="token string">"y_end"</span><span class="token operator">:</span><span class="token number">800</span><span class="token punctuation">,</span><span class="token string">"thickness"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"radius"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">addText</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"x"</span><span class="token operator">:</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token string">"y"</span><span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token string">"font"</span><span class="token operator">:</span><span class="token string">"TSS24.BF2"</span><span class="token punctuation">,</span><span class="token string">"rotate"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"xMultiple"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"yMultiple"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"alignment"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"content"</span><span class="token operator">:</span><span class="token string">"24号字体"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">addText</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"x"</span><span class="token operator">:</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token string">"y"</span><span class="token operator">:</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token string">"font"</span><span class="token operator">:</span><span class="token string">"TSS16.BF2"</span><span class="token punctuation">,</span><span class="token string">"rotate"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"xMultiple"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"yMultiple"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"alignment"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"content"</span><span class="token operator">:</span><span class="token string">"16号字体"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">addReverse</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"x"</span><span class="token operator">:</span><span class="token number">240</span><span class="token punctuation">,</span><span class="token string">"y"</span><span class="token operator">:</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token string">"width"</span><span class="token operator">:</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token string">"height"</span><span class="token operator">:</span><span class="token number">40</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">addBar</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"x"</span><span class="token operator">:</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token string">"y"</span><span class="token operator">:</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token string">"width"</span><span class="token operator">:</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token string">"height"</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">addBarcode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"x"</span><span class="token operator">:</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token string">"y"</span><span class="token operator">:</span><span class="token number">210</span><span class="token punctuation">,</span><span class="token string">"codeType"</span><span class="token operator">:</span><span class="token string">"128"</span><span class="token punctuation">,</span><span class="token string">"height"</span><span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token string">"style"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"rotation"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"narrow"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"wide"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"alignment"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"content"</span><span class="token operator">:</span><span class="token string">"test123456"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">addQRCode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"x"</span><span class="token operator">:</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token string">"y"</span><span class="token operator">:</span><span class="token number">350</span><span class="token punctuation">,</span><span class="token string">"eccLevel"</span><span class="token operator">:</span><span class="token string">"L"</span><span class="token punctuation">,</span><span class="token string">"cellWidth"</span><span class="token operator">:</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token string">"mode"</span><span class="token operator">:</span><span class="token string">"M"</span><span class="token punctuation">,</span><span class="token string">"rotate"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"model"</span><span class="token operator">:</span><span class="token string">"M1"</span><span class="token punctuation">,</span><span class="token string">"mask"</span><span class="token operator">:</span><span class="token string">"S3"</span><span class="token punctuation">,</span><span class="token string">"content"</span><span class="token operator">:</span><span class="token string">"test123456"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
printer<span class="token punctuation">.</span><span class="token function">addPrint</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"m"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"n"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


</code></pre>
    <h4>
     <a id="tspl2_34">
     </a>
     tspl模版用例2（打印图片）
    </h4>
    <pre><code class="prism language-java">printer<span class="token punctuation">.</span><span class="token function">addSize</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"width"</span><span class="token operator">:</span><span class="token number">75</span><span class="token punctuation">,</span><span class="token string">"height"</span><span class="token operator">:</span><span class="token number">135</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">addCls</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">addDirection</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"n"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"m"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">addGap</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"m"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"n"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">addBitmap</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"x"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"y"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"mode"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"base64"</span><span class="token operator">:</span>base64<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">addPrint</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"m"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"n"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre>
    <h4>
     <a id="cpcl1_45">
     </a>
     cpcl模版用例1（打印常用指令）
    </h4>
    <pre><code class="prism language-java">printer<span class="token punctuation">.</span><span class="token function">cpcl_addInit</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"height"</span><span class="token operator">:</span><span class="token number">600</span><span class="token punctuation">,</span><span class="token string">"copys"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">cpcl_addUnit</span><span class="token punctuation">(</span><span class="token string">"IN-DOTS"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">cpcl_addWidth</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">cpcl_setMag</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"w"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"h"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">cpcl_addText</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"cmd"</span><span class="token operator">:</span><span class="token string">"T"</span><span class="token punctuation">,</span><span class="token string">"font"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">,</span><span class="token string">"size"</span><span class="token operator">:</span><span class="token string">"0"</span><span class="token punctuation">,</span><span class="token string">"x"</span><span class="token operator">:</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token string">"y"</span><span class="token operator">:</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token string">"data"</span><span class="token operator">:</span><span class="token string">"24*24字体"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">cpcl_addText</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"cmd"</span><span class="token operator">:</span><span class="token string">"T"</span><span class="token punctuation">,</span><span class="token string">"font"</span><span class="token operator">:</span><span class="token string">"4"</span><span class="token punctuation">,</span><span class="token string">"size"</span><span class="token operator">:</span><span class="token string">"0"</span><span class="token punctuation">,</span><span class="token string">"x"</span><span class="token operator">:</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token string">"y"</span><span class="token operator">:</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token string">"data"</span><span class="token operator">:</span><span class="token string">"32*32字体"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">cpcl_setMag</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"w"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"h"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">cpcl_addText</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"cmd"</span><span class="token operator">:</span><span class="token string">"T"</span><span class="token punctuation">,</span><span class="token string">"font"</span><span class="token operator">:</span><span class="token string">"4"</span><span class="token punctuation">,</span><span class="token string">"size"</span><span class="token operator">:</span><span class="token string">"0"</span><span class="token punctuation">,</span><span class="token string">"x"</span><span class="token operator">:</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token string">"y"</span><span class="token operator">:</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token string">"data"</span><span class="token operator">:</span><span class="token string">"48*24字体"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">cpcl_setMag</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"w"</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">"h"</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">cpcl_addText</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"cmd"</span><span class="token operator">:</span><span class="token string">"T"</span><span class="token punctuation">,</span><span class="token string">"font"</span><span class="token operator">:</span><span class="token string">"4"</span><span class="token punctuation">,</span><span class="token string">"size"</span><span class="token operator">:</span><span class="token string">"0"</span><span class="token punctuation">,</span><span class="token string">"x"</span><span class="token operator">:</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token string">"y"</span><span class="token operator">:</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token string">"data"</span><span class="token operator">:</span><span class="token string">"72*72字体"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">cpcl_setMag</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"w"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"h"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">cpcl_addLine</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"startx"</span><span class="token operator">:</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token string">"starty"</span><span class="token operator">:</span><span class="token number">380</span><span class="token punctuation">,</span><span class="token string">"endx"</span><span class="token operator">:</span><span class="token number">250</span><span class="token punctuation">,</span><span class="token string">"endy"</span><span class="token operator">:</span><span class="token number">380</span><span class="token punctuation">,</span><span class="token string">"width"</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">cpcl_addBarcode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"isvb"</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">"codetype"</span><span class="token operator">:</span><span class="token string">"128"</span><span class="token punctuation">,</span><span class="token string">"width"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"radio"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">,</span><span class="token string">"height"</span><span class="token operator">:</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token string">"x"</span><span class="token operator">:</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token string">"y"</span><span class="token operator">:</span><span class="token number">390</span><span class="token punctuation">,</span><span class="token string">"data"</span><span class="token operator">:</span><span class="token string">"test123456"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">cpcl_addQrcode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"isVQ"</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">"codetype"</span><span class="token operator">:</span><span class="token string">"QR"</span><span class="token punctuation">,</span><span class="token string">"x"</span><span class="token operator">:</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token string">"y"</span><span class="token operator">:</span><span class="token number">450</span><span class="token punctuation">,</span><span class="token string">"m"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"n"</span><span class="token operator">:</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token string">"data1"</span><span class="token operator">:</span><span class="token string">"M"</span><span class="token punctuation">,</span><span class="token string">"data2"</span><span class="token operator">:</span><span class="token string">"A"</span><span class="token punctuation">,</span><span class="token string">"data3"</span><span class="token operator">:</span><span class="token string">"test123456"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">cpcl_form</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">cpcl_print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre>
    <h4>
     <a id="cpcl2_66">
     </a>
     cpcl模版用例2（打印图片）
    </h4>
    <pre><code class="prism language-java">printer<span class="token punctuation">.</span><span class="token function">cpcl_addInit</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"height"</span><span class="token operator">:</span><span class="token number">600</span><span class="token punctuation">,</span><span class="token string">"copys"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">cpcl_addUnit</span><span class="token punctuation">(</span><span class="token string">"IN-DOTS"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">cpcl_addWidth</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">cpcl_addBitmap</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"x"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"y"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"mode"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"base64"</span><span class="token operator">:</span>base64<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">cpcl_form</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">cpcl_print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre>
    <h4>
     <a id="esc1_77">
     </a>
     esc模版用例1（打印常用指令）
    </h4>
    <pre><code class="prism language-java">printer<span class="token punctuation">.</span><span class="token function">esc_addInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_addAlign</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_setCharSize</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"width"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"height"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_addText</span><span class="token punctuation">(</span><span class="token string">"打印机居中\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_addAlign</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_setCharSize</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"width"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"height"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_addText</span><span class="token punctuation">(</span><span class="token string">"打印机放大1-1\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_setCharSize</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"width"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"height"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_addText</span><span class="token punctuation">(</span><span class="token string">"打印机放大2-2\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_setCharSize</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"width"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"height"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_addLocation</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_addText</span><span class="token punctuation">(</span><span class="token string">"text1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_addLocation</span><span class="token punctuation">(</span><span class="token number">257</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_addText</span><span class="token punctuation">(</span><span class="token string">"text2\r\n\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_addText</span><span class="token punctuation">(</span><span class="token string">"width2条码宽度36mm\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_barCode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"width"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"height"</span><span class="token operator">:</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token string">"font"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"loc"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"m"</span><span class="token operator">:</span><span class="token number">73</span><span class="token punctuation">,</span><span class="token string">"data"</span><span class="token operator">:</span><span class="token string">"width2abcd"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_addText</span><span class="token punctuation">(</span><span class="token string">"\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_addText</span><span class="token punctuation">(</span><span class="token string">"width3条码宽度54mm\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_barCode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"width"</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">"height"</span><span class="token operator">:</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token string">"font"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"loc"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"m"</span><span class="token operator">:</span><span class="token number">73</span><span class="token punctuation">,</span><span class="token string">"data"</span><span class="token operator">:</span><span class="token string">"width3abcd"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_addText</span><span class="token punctuation">(</span><span class="token string">"\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_addText</span><span class="token punctuation">(</span><span class="token string">"SIZE-1二维码宽度3mm\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_qrCode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"size"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"data"</span><span class="token operator">:</span><span class="token string">"test123456"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_addText</span><span class="token punctuation">(</span><span class="token string">"\r\nSIZE-2-二维码宽度4mm\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_qrCode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"size"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"data"</span><span class="token operator">:</span><span class="token string">"test123456"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_addText</span><span class="token punctuation">(</span><span class="token string">"\r\nSIZE-3-二维码宽度7mm\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_qrCode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"size"</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">"data"</span><span class="token operator">:</span><span class="token string">"test123456"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_addText</span><span class="token punctuation">(</span><span class="token string">"\r\nSIZE-4-二维码宽度10mm\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_qrCode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"size"</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">"data"</span><span class="token operator">:</span><span class="token string">"test123456"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_addText</span><span class="token punctuation">(</span><span class="token string">"\r\nSIZE-5-二维码宽度13mm\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_qrCode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"size"</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">"data"</span><span class="token operator">:</span><span class="token string">"test123456"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_addText</span><span class="token punctuation">(</span><span class="token string">"\r\nSIZE-6-二维码宽度16mm\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_qrCode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"size"</span><span class="token operator">:</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token string">"data"</span><span class="token operator">:</span><span class="token string">"test123456"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_addText</span><span class="token punctuation">(</span><span class="token string">"\r\nSIZE-7-二维码宽度18mm\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_qrCode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"size"</span><span class="token operator">:</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token string">"data"</span><span class="token operator">:</span><span class="token string">"test123456"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_addText</span><span class="token punctuation">(</span><span class="token string">"\r\nSIZE-8-二维码宽度21mm\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_qrCode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"size"</span><span class="token operator">:</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token string">"data"</span><span class="token operator">:</span><span class="token string">"test123456"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_feed</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre>
    <h4>
     <a id="esc2_121">
     </a>
     esc模版用例2（打印图片）
    </h4>
    <pre><code class="prism language-java">printer<span class="token punctuation">.</span><span class="token function">esc_addInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_addBitmap</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"mode"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"base64"</span><span class="token operator">:</span>base64<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
printer<span class="token punctuation">.</span><span class="token function">esc_feed</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="_128">
     </a>
     开始打印
    </h3>
    <p>
     安卓支持经典蓝牙、ble蓝牙、usb、局域网（参考API）
    </p>
    <p>
     iOS支持ble蓝牙、局域网（参考API）
    </p>
    <h2>
     <a id="API_133">
     </a>
     安卓经典蓝牙API
    </h2>
    <h3>
     <a id="_134">
     </a>
     打开蓝牙
    </h3>
    <pre><code class="prism language-java">printer<span class="token punctuation">.</span><span class="token function">spp_openBluetoothAdapter</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
                                      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="_141">
     </a>
     扫描蓝牙
    </h3>
    <pre><code class="prism language-java">printer<span class="token punctuation">.</span><span class="token function">spp_startBluetoothDevicesDiscovery</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
                                                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="_148">
     </a>
     连接蓝牙
    </h3>
    <pre><code class="prism language-java">printer<span class="token punctuation">.</span><span class="token function">spp_getConnectDevice</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"address"</span><span class="token operator">:</span>adress<span class="token punctuation">}</span><span class="token punctuation">,</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="_155">
     </a>
     蓝牙写入
    </h3>
    <p>
     拿到数据后再写入拿到的数据
    </p>
    <pre><code class="prism language-java"><span class="token comment">//获取sdk生成的模版数据</span>
printer<span class="token punctuation">.</span><span class="token function">get_printData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>data<span class="token punctuation">.</span>base64<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//将写入模版数据的base64</span>
printer<span class="token punctuation">.</span><span class="token function">spp_writeData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"base64"</span><span class="token operator">:</span>base64<span class="token punctuation">}</span><span class="token punctuation">,</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     拼接好模版后直接写入
    </p>
    <pre><code class="prism language-java">printer<span class="token punctuation">.</span><span class="token function">spp_writeKmPrinterData</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
                                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="_179">
     </a>
     停止蓝牙扫描
    </h3>
    <pre><code class="prism language-java">printer<span class="token punctuation">.</span><span class="token function">spp_stopBluetoothDevicesDiscovery</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
                                               console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                               <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="_186">
     </a>
     关闭蓝牙
    </h3>
    <pre><code class="prism language-java">printer<span class="token punctuation">.</span><span class="token function">spp_closeBluetoothAdapter</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
                                               console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                               <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre>
    <h3>
     <a id="_194">
     </a>
     蓝牙连接状态
    </h3>
    <pre><code class="prism language-java">printer<span class="token punctuation">.</span><span class="token function">spp_isConnectClassicBT</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"address"</span><span class="token operator">:</span>address<span class="token punctuation">}</span><span class="token punctuation">,</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
                                               console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                               <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h2>
     <a id="APIiOS_203">
     </a>
     低功耗蓝牙API（支持安卓和iOS）
    </h2>
    <h3>
     <a id="_204">
     </a>
     打开蓝牙
    </h3>
    <pre><code class="prism language-java">
printer<span class="token punctuation">.</span><span class="token function">ble_openBluetoothAdapter</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
                                               console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                               <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="_212">
     </a>
     扫描蓝牙
    </h3>
    <pre><code class="prism language-java">printer<span class="token punctuation">.</span><span class="token function">ble_startBluetoothDevicesDiscovery</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
                                               console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                               <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="_219">
     </a>
     连接蓝牙
    </h3>
    <pre><code class="prism language-java">
printer<span class="token punctuation">.</span><span class="token function">ble_getConnectDevice</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"address"</span><span class="token operator">:</span>address<span class="token punctuation">}</span><span class="token punctuation">,</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
                                               console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                               <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="_227">
     </a>
     蓝牙写入数据
    </h3>
    <p>
     拿到数据后再写入拿到的数据
    </p>
    <pre><code class="prism language-java"><span class="token comment">//获取sdk生成的模版数据</span>
printer<span class="token punctuation">.</span><span class="token function">get_printData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>data<span class="token punctuation">.</span>base64<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//将写入模版数据的base64</span>
printer<span class="token punctuation">.</span><span class="token function">ble_writeData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"base64"</span><span class="token operator">:</span>base64<span class="token punctuation">}</span><span class="token punctuation">,</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="_247">
     </a>
     停止蓝牙扫描
    </h3>
    <pre><code class="prism language-java">printer<span class="token punctuation">.</span><span class="token function">ble_stopBluetoothDevicesDiscovery</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
                                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="_254">
     </a>
     关闭蓝牙
    </h3>
    <pre><code class="prism language-java">printer<span class="token punctuation">.</span><span class="token function">ble_closeBluetoothAdapter</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
                                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="_261">
     </a>
     蓝牙连接状态
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/** 状态对应以下数字
         * int STATE_CONNECTED = 2;
         * int STATE_CONNECTING = 1;
         * int STATE_DISCONNECTED = 0;
         * int STATE_DISCONNECTING = 3;
         */</span>
printer<span class="token punctuation">.</span><span class="token function">ble_connectState</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
                              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
                              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h2>
     <a id="usbAPI_274">
     </a>
     安卓usb打印API
    </h2>
    <h3>
     <a id="usb_275">
     </a>
     打开usb
    </h3>
    <pre><code class="prism language-java">printer<span class="token punctuation">.</span><span class="token function">usb_openUsb</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
                              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
                              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="usb_282">
     </a>
     扫描usb
    </h3>
    <pre><code class="prism language-java">
printer<span class="token punctuation">.</span><span class="token function">usb_starUsbDevicesDiscovery</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
                              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
                              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="usb_290">
     </a>
     连接usb
    </h3>
    <pre><code class="prism language-java">
printer<span class="token punctuation">.</span><span class="token function">usb_usbConnect</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"pid"</span><span class="token operator">:</span>pid<span class="token punctuation">,</span><span class="token string">"vid"</span><span class="token operator">:</span>vid<span class="token punctuation">}</span><span class="token punctuation">,</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
                              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
                              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="usb_298">
     </a>
     usb写入数据
    </h3>
    <p>
     拿到数据后再写入拿到的数据
    </p>
    <pre><code class="prism language-java"><span class="token comment">//获取sdk生成的模版数据</span>
printer<span class="token punctuation">.</span><span class="token function">get_printData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>data<span class="token punctuation">.</span>base64<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//将写入模版数据的base64</span>
printer<span class="token punctuation">.</span><span class="token function">usb_writeData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"base64"</span><span class="token operator">:</span>base64<span class="token punctuation">}</span><span class="token punctuation">,</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="usb_316">
     </a>
     usb读取数据
    </h3>
    <pre><code class="prism language-java">
printer<span class="token punctuation">.</span><span class="token function">usb_read</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
                                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="usb_324">
     </a>
     关闭usb连接
    </h3>
    <pre><code class="prism language-java">printer<span class="token punctuation">.</span><span class="token function">usb_close</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
                                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h2>
     <a id="APIiOS_335">
     </a>
     局域网打印API（支持安卓和iOS）
    </h2>
    <h3>
     <a id="_336">
     </a>
     连接打印机
    </h3>
    <p>
     局域网打印需要手机和打印机在同一个局域网内，手机去连接打印机的ip地址和端口
    </p>
    <pre><code class="prism language-java">printer<span class="token punctuation">.</span><span class="token function">net_connectScoket</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"host"</span><span class="token operator">:</span>host<span class="token punctuation">,</span><span class="token string">"port"</span><span class="token operator">:</span>port<span class="token punctuation">}</span><span class="token punctuation">,</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="_347">
     </a>
     发送数据
    </h3>
    <p>
     拿到数据后再写入拿到的数据
    </p>
    <pre><code class="prism language-java"><span class="token comment">//获取sdk生成的模版数据</span>
printer<span class="token punctuation">.</span><span class="token function">get_printData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>data<span class="token punctuation">.</span>base64<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//将写入模版数据的base64</span>
printer<span class="token punctuation">.</span><span class="token function">net_writeData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"base64"</span><span class="token operator">:</span>base64<span class="token punctuation">}</span><span class="token punctuation">,</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="_365">
     </a>
     断开连接
    </h3>
    <pre><code class="prism language-objectivec">printer<span class="token punctuation">.</span><span class="token function">net_closeScoket</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
                                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h2>
     <a id="TSPLAPIiOS_372">
     </a>
     TSPL指令API（支持安卓和iOS）
    </h2>
    <h3>
     <a id="_373">
     </a>
     指定画板版宽高
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 设置打印模版宽高
     * @param width 打印宽度单位 mm int
     * @param height 打印高度 mm int
     * @return
     */</span>
<span class="token function">addSize</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"width"</span><span class="token operator">:</span>width<span class="token punctuation">,</span><span class="token string">"height"</span><span class="token operator">:</span>height<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_384">
     </a>
     清空打印机画板缓存
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 清空打印机画板缓存
     * @return
     */</span>
<span class="token function">addCls</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_393">
     </a>
     指定打印浓度
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 指定打印浓度
     * @param n  范围1-15 String
     * @return
     */</span>
<span class="token function">addDensity</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_403">
     </a>
     指定打印速度
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 指定打印速度
     * @param n  范围1-8 String
     * @return
     */</span>
<span class="token function">addSpeed</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_413">
     </a>
     生成文本指令
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 生成TEXT指令
     * @param x 起始x坐标 int
     * @param y 起始y坐标 int
     * @param font 字体名称 String
     * @param rotate 旋转角度 int
     * @param xMultiple x倍数 int
     * @param yMultiple y倍数 int
     * @param alignment 对齐方式 默认0 int
     * @param content 打印内容 String
     * @return
     */</span>

<span class="token function">addText</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"x"</span><span class="token operator">:</span>x<span class="token punctuation">,</span><span class="token string">"y"</span><span class="token operator">:</span>y<span class="token punctuation">,</span><span class="token string">"font"</span><span class="token operator">:</span>font<span class="token punctuation">,</span><span class="token string">"rotate"</span><span class="token operator">:</span>rotate<span class="token punctuation">,</span><span class="token string">"xMultiple"</span><span class="token operator">:</span> xMultiple<span class="token punctuation">,</span><span class="token string">"yMultiple"</span><span class="token operator">:</span>yMultiple<span class="token punctuation">,</span><span class="token string">"alignment"</span><span class="token operator">:</span>alignment<span class="token punctuation">,</span><span class="token string">"content"</span><span class="token operator">:</span>content<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre>
    <h3>
     <a id="_432">
     </a>
     生成文本块
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * TEXT模块 支持换行
     * @param x 起始x坐标 int
     * @param y 起始y坐标 int
     * @param width  宽度，单位是点 int
     * @param height 高度，单位是点 int
     * @param font 字体名称 int
     * @param rotate 旋转角度 int
     * @param xMultiple x倍数 int
     * @param yMultiple y倍数 int
     * @param lineSpace 行间距 int
     * @param alignment 对齐 int
     * @param content 内容 String
     * @return
     */</span>
<span class="token keyword">public</span> <span class="token class-name">KmPrinter</span> <span class="token function">crtiBlock</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"x"</span><span class="token operator">:</span>x<span class="token punctuation">,</span><span class="token string">"y"</span><span class="token operator">:</span>y<span class="token punctuation">,</span><span class="token string">"width"</span><span class="token operator">:</span>width<span class="token punctuation">,</span><span class="token string">"height"</span><span class="token operator">:</span>height<span class="token punctuation">,</span><span class="token string">"font"</span><span class="token operator">:</span>font<span class="token punctuation">,</span><span class="token string">"rotate"</span><span class="token operator">:</span>rotate<span class="token punctuation">,</span><span class="token string">"xMultiple"</span><span class="token operator">:</span>xMultiple<span class="token punctuation">,</span><span class="token string">"yMultiple"</span><span class="token operator">:</span>yMultiple<span class="token punctuation">,</span><span class="token string">"lineSpace"</span><span class="token operator">:</span>lineSpace<span class="token punctuation">,</span><span class="token string">"alignment"</span><span class="token operator">:</span>alignment<span class="token punctuation">,</span><span class="token string">"content"</span><span class="token operator">:</span>content<span class="token punctuation">}</span><span class="token punctuation">)</span>


</code></pre>
    <h3>
     <a id="_454">
     </a>
    </h3>
    <h3>
     <a id="_455">
     </a>
     设置黑反打印区域
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 设置黑反打印区域
     * @param x 起点x
     * @param y 地点y
     * @param width 宽
     * @param height 高
     * @return
     */</span>
<span class="token function">addReverse</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> width<span class="token punctuation">,</span> <span class="token keyword">int</span> height<span class="token punctuation">}</span><span class="token punctuation">)</span> 
</code></pre>
    <h3>
     <a id="_468">
     </a>
     生成边框指令
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 生成边框指令
     * @param x x坐标起点
     * @param y y坐标起点
     * @param x_end x坐标结束点
     * @param y_end y坐标结束点
     * @param thickness 线条厚度
     * @param radius 边框弧度
     * @return
     */</span>
<span class="token function">addBox</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> x_end<span class="token punctuation">,</span> <span class="token keyword">int</span> y_end<span class="token punctuation">,</span> <span class="token keyword">int</span> thickness<span class="token punctuation">,</span> <span class="token keyword">int</span> radius<span class="token punctuation">}</span><span class="token punctuation">)</span> 
</code></pre>
    <h3>
     <a id="_483">
     </a>
     生成线条指令
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 生成线条指令
     * @param x 起始x坐标
     * @param y 起始y坐标
     * @param width 宽度
     * @param height 高度
     * @return
     */</span>
<span class="token function">addBar</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> width<span class="token punctuation">,</span> <span class="token keyword">int</span> height<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_496">
     </a>
     生成条码指令
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 生成条码指令
     * @param x x坐标
     * @param y y坐标
     * @param codeType 条码类型
     * @param height 条码高度
     * @param style 文字样式
     *                  0：不可见
     *                  1：可见居左
     *                  2：可见居中
     *                  3：可见居右
     * @param rotation 旋转角度
     * @param narrow 窄条宽度
     * @param wide 宽条长度
     * @param alignment 对齐方式
     * @param content 条码内容
     * @return
     */</span>
<span class="token function">addBarcode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token class-name">String</span> codeType<span class="token punctuation">,</span> <span class="token keyword">int</span> height<span class="token punctuation">,</span> <span class="token keyword">int</span> style<span class="token punctuation">,</span> <span class="token keyword">int</span> rotation<span class="token punctuation">,</span> <span class="token keyword">int</span> narrow<span class="token punctuation">,</span> <span class="token keyword">int</span> wide<span class="token punctuation">,</span> <span class="token keyword">int</span> alignment<span class="token punctuation">,</span> <span class="token class-name">String</span> content<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_519">
     </a>
     生成二维码指令
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 生成二维码指令
     * @param x 起始x坐标
     * @param y 起始y坐标
     * @param eccLevel  纠错等级 {7,15,25,30}
     * @param cellWidth 码元宽度[1-10]
     * @param mode  A:自动 M:手动
     * @param rotate 旋转角度
     * @param model  条码版本
     * M1:(默认)，原始版本
     * M2:增强版
     * @param mask 掩膜版的种类，控制二维码的样式 S[0-8] 默认为S7
     * @param content 二维码内容
     * @return
     */</span>
<span class="token function">addQRCode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token class-name">String</span> eccLevel<span class="token punctuation">,</span> <span class="token keyword">int</span> cellWidth<span class="token punctuation">,</span> <span class="token class-name">String</span> mode<span class="token punctuation">,</span> <span class="token keyword">int</span> rotate<span class="token punctuation">,</span> <span class="token class-name">String</span> model<span class="token punctuation">,</span> <span class="token class-name">String</span> mask<span class="token punctuation">,</span> <span class="token class-name">String</span> content<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_539">
     </a>
     生成图片指令
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 生成图片指令
     * @param x 图片x坐标
     * @param y 图片y坐标
     * @param mode 图片打印类型 0默认，正常打印  3，zlib压缩  4，zlib反白压缩
     * @param base64 图片的base64
     * @return
     */</span>
<span class="token function">addBitmap</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> mode<span class="token punctuation">,</span> <span class="token class-name">String</span> base64<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_552">
     </a>
     打印模版指令
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 打印模版
     * @param m 指定要打印多少套标签。
     * @param n 指定每个特定标签集应该打印多少份副本
     * @return
     */</span>
<span class="token function">addPrint</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> m<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h2>
     <a id="CPCLAPIiOS_565">
     </a>
     CPCL指令API（支持安卓和iOS）
    </h2>
    <h3>
     <a id="_566">
     </a>
     新建打印模版
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 新建打印模版
     * @param height 打印模版高度
     * @param copys  打印份数
     * @return
     */</span>
<span class="token function">cpcl_addInit</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> height<span class="token punctuation">,</span> <span class="token keyword">int</span> copys<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_577">
     </a>
     设置单位
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 设置单位
     * @param unit IN-INCHES 度量单位英寸
     *  IN-CENTIMETERS 度量单位厘米
     *  IN-MILLIMETERS 度量单位毫米
     *  IN-DOTS 度量单位为点
     * @return
     */</span>
<span class="token function">cpcl_addUnit</span><span class="token punctuation">(</span><span class="token class-name">String</span> unit<span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_592">
     </a>
     设置模版宽度
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 设置打印模版宽度
     * @param width
     * @return
     */</span>
<span class="token function">cpcl_addWidth</span><span class="token punctuation">(</span><span class="token keyword">int</span> width<span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_602">
     </a>
     设置字体宽高倍数
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 设置字体宽高倍数
     * @param w 宽度 1-3 1到3倍
     * @param h 高度 1-3 1到3倍
     * @return
     */</span>
<span class="token function">cpcl_setMag</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> w<span class="token punctuation">,</span> <span class="token keyword">int</span> h<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_615">
     </a>
     文本指令
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 文本指令
     * @param cmd 指令类型 (逆时针旋转角度) 默认不旋转
     * TEXT（或T）
     * TEXT90（或 T90）
     * TEXT180（或 T180）
     * TEXT270（或 T270）
     * @param font 0-6(根据打印机文档设置)
     * @param size 0-6(根据打印机文档设置)
     * @param x x坐标
     * @param y y坐标
     * @param data 打印数据
     * @return
     */</span>
<span class="token function">cpcl_addText</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token class-name">String</span> cmd<span class="token punctuation">,</span> <span class="token class-name">String</span> font<span class="token punctuation">,</span> <span class="token class-name">String</span> size<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token class-name">String</span> data<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_636">
     </a>
     线条指令
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 线条指令
     * @param startx 起点x坐标
     * @param starty 起点y坐标
     * @param endx  终点x坐标
     * @param endy 终点y坐标
     * @param width 线条宽度
     * @return
     */</span>
<span class="token function">cpcl_addLine</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> startx<span class="token punctuation">,</span> <span class="token keyword">int</span> starty<span class="token punctuation">,</span> <span class="token keyword">int</span> endx<span class="token punctuation">,</span> <span class="token keyword">int</span> endy<span class="token punctuation">,</span> <span class="token keyword">int</span> width<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_650">
     </a>
     黑反打印区域
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 黑反打印区域
     * @param startx 起点x坐标
     * @param starty 起点y坐标
     * @param endx 终点x坐标
     * @param endy 终点y坐标
     * @param width 黑反区域宽度
     * @return
     */</span>
<span class="token function">cpcl_addReverse</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> startx<span class="token punctuation">,</span> <span class="token keyword">int</span> starty<span class="token punctuation">,</span> <span class="token keyword">int</span> endx<span class="token punctuation">,</span> <span class="token keyword">int</span> endy<span class="token punctuation">,</span> <span class="token keyword">int</span> width<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_666">
     </a>
     条码指令
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 条码指令
     * @param isvb 0,1 默认0
     * BARCODE（B）：横向打印条形码。
     * VBARCODE(VB) ：纵向打印条形码
     * @param codetype 条码类型 默认 128
     * UPC-A： UPCA、UPCA2、UPCA5
     * UPC-E： UPCE、UPCE2、UPCE5
     * EAN/JAN-13： EAN13、EAN132、EAN135
     * EAN/JAN-8： EAN8、EAN82、EAN 85
     * Code 39： 39、39C、F39、F39C
     * Code 93/Ext.93： 93
     * Interleaved 2 of 5： I2OF5
     * Interleaved 2 of 5（带checksum）：I2OF5C
     * German Post Code： I2OF5G
     * Code 128（自动）： 128
     * UCC EAN 128： UCCEAN128
     * Codabar： CODABAR、CODABAR16
     * MSI/Plessy： MSI、MSI10、MSI1010、MSI1110
     * Postnet： POSTNET
     * FIM： FIM
     * @param width 窄条单位宽度 默认1
     * @param radio 宽条与窄条单位比例 默认1
     * @param height 条码单位高度
     * @param x x坐标
     * @param y y坐标
     * @param data 条码数据
     * @return
     */</span>
<span class="token function">cpcl_addBarcode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token keyword">boolean</span> isvb<span class="token punctuation">,</span> <span class="token class-name">String</span> codetype<span class="token punctuation">,</span> <span class="token keyword">int</span> width<span class="token punctuation">,</span> <span class="token class-name">String</span> radio<span class="token punctuation">,</span> <span class="token keyword">int</span> height<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token class-name">String</span> data<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_702">
     </a>
     二维码指令
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     *  二维码指令
     * @param isVQ isVQ 是否纵向
     * @param codetype 默认QR
     * @param x x坐标
     * @param y y坐标
     * @param m  选项是 1 或 2。QR Code Model 1 是原始ྟ规范，2增强版 默认1
     * @param n 模块单位宽度 1-32 默认6
     * @param data1 纠错等级 H/极高可高级别 Q/高可靠级别 M/标准级别 L/高密度级别 默认M
     * @param data2 字符模式 N数字 A字母数字 默认 A
     * @param data3 二维码内容 二维码内容
     * @return
     */</span>
<span class="token function">cpcl_addQrcode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token keyword">boolean</span> isVQ<span class="token punctuation">,</span> <span class="token class-name">String</span> codetype<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> m<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token class-name">String</span> data1<span class="token punctuation">,</span> <span class="token class-name">String</span> data2<span class="token punctuation">,</span> <span class="token class-name">String</span> data3<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_722">
     </a>
     图片指令
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 图片指令
     * @param x
     * @param y
     * @param mode 0:CG指令模式 1:EG指令模式 3:CG指令压缩模式
     * @param base64 图片的base64 
     * @return
     */</span>
<span class="token function">cpcl_addBitmap</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span><span class="token keyword">int</span> mode<span class="token punctuation">,</span> <span class="token class-name">String</span> base64<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_737">
     </a>
     打印机在一页打印结束后切换至下一页顶部
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 打印机在一页打印结束后切换至下一页顶部
     * @return
     */</span>
<span class="token function">cpcl_form</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_748">
     </a>
     打印模版
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 打印模版
     * @return
     */</span>
<span class="token function">cpcl_print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_757">
     </a>
     反向出纸打印模版
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 反向出纸打印模版
     * @return
     */</span>
<span class="token function">cpcl_poprint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <h2>
     <a id="ESCAPIiOS_768">
     </a>
     ESC指令API（支持安卓和iOS）
    </h2>
    <h3>
     <a id="_769">
     </a>
     打印机初始化
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 打印机初始化
     * @return
     */</span>
<span class="token function">esc_addInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_780">
     </a>
     设置绝对位置
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 设置绝对位置
     * @param n 单位dot
     * @return
     */</span>
<span class="token function">esc_addLocation</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_790">
     </a>
     文本指令
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 文本指令
     * @param text
     * @return
     */</span>
<span class="token function">esc_addText</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_802">
     </a>
     对齐方式
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 对齐方式
     * @param align 0左对齐 1居中 2右对齐
     * @return
     */</span>
<span class="token function">esc_addAlign</span><span class="token punctuation">(</span><span class="token keyword">int</span> align<span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_814">
     </a>
     设置字符倍宽倍高
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 设置字符倍宽倍高
     * @param width 0-7 分别是1-8倍 默认0正常
     * @param height 0-7 分别是1-8倍 默认0正常
     * @return
     */</span>
<span class="token function">esc_setCharSize</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> width<span class="token punctuation">,</span> <span class="token keyword">int</span> height<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_827">
     </a>
     打印条码
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 打印条码
     * @param width 条码宽度 2 ≤ n ≤ 6
     * @param height 条码高度 1 ≤ height ≤ 255
     * @param font 条码字体 0,48:标准 ASCII 码字符 (12 × 24) 1,49:压缩 ASCII 码字符 (9 × 17)
     * @param loc 条码位置显示0, 48:不打印 1, 49：条码上方 2, 50：条码下方 3, 51：条码上、下方都打印
     * @param m 条码类型 0 ≤ m ≤ 6 65 ≤ m ≤ 73 具体用法参考文档
     * @param data 条码数据
     * @return
     */</span>
<span class="token function">esc_barCode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> width<span class="token punctuation">,</span> <span class="token keyword">int</span> height<span class="token punctuation">,</span> <span class="token keyword">int</span> font<span class="token punctuation">,</span> <span class="token keyword">int</span> loc<span class="token punctuation">,</span> <span class="token keyword">int</span> m<span class="token punctuation">,</span> <span class="token class-name">String</span> data<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_844">
     </a>
     打印二维码
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 打印二维码
     * @param size 二维码大小 1-15
     * @param data 二维码数据
     * @return
     */</span>
<span class="token function">esc_qrCode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> size<span class="token punctuation">,</span> <span class="token class-name">String</span> data<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_857">
     </a>
     打印图片
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 打印图片
     * @param mode 默认0
     * @param base64 图片的base64
     * @return
     */</span>
<span class="token function">esc_addBitmap</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token keyword">int</span> mode<span class="token punctuation">,</span> <span class="token class-name">String</span> base64<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_870">
     </a>
     打印并走纸多行
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 打印并走纸多行
     * @param lines 1-255 走纸的行数
     * @return
     */</span>
<span class="token function">esc_feed</span><span class="token punctuation">(</span><span class="token keyword">int</span> lines<span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_882">
     </a>
     打印并走纸一行
    </h3>
    <pre><code class="prism language-java"><span class="token comment">/**
     * 打印并走纸一行
     * @return
     */</span>
<span class="token function">esc_print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f33323636363730312f:61727469636c652f64657461696c732f313436303935353232" class_="artid" style="display:none">
 </p>
</div>


