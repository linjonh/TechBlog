---
layout: post
title: "启动关闭数据库归档ARCHIVELOG模式"
date: 2025-02-26 11:16:10 +0800
description: "　Oracle数据库可以运行在2种模式下:归档模式(archivelog)和非归档模式(noarch"
keywords: "oracle 11g开启achivelog"
categories: ['Oracle']
tags: ['数据库', 'Sql', 'Oracle', 'Oracle', 'Database', 'Archive']
artid: "856699"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=856699
    alt: "启动关闭数据库归档ARCHIVELOG模式"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=856699
featuredImagePreview: https://bing.ee123.net/img/rand?artid=856699
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     启动/关闭数据库归档(ARCHIVELOG)模式
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    Oracle数据库可以运行在2种模式下:归档模式(archivelog)和非归档模式(noarchivelog)
    <br/>
    <br/>
    归档模式可以提高Oracle数据库的可恢复性，生产数据库都应该运行在此模式下，归档模式应该和相应的备份策略相结合，只有归档模式没有相应的备份策略只会带来麻烦。
    <br/>
    <br/>
    本文简单介绍如何启用和关闭数据库的归档模式。
    <br/>
    <br/>
    <strong>
     1.shutdown normal或shutdown immediate关闭数据库
    </strong>
    <br/>
    <br/>
    [oracle@jumper oracle]$ sqlplus "/ as sysdba"
    <br/>
    <br/>
    SQL*Plus: Release 9.2.0.4.0 - Production on Sat Oct 15 15:48:36 2005
    <br/>
    <br/>
    Copyright (c) 1982, 2002, Oracle Corporation.　All rights reserved.
    <br/>
    <br/>
    Connected to:
    <br/>
    Oracle9i Enterprise Edition Release 9.2.0.4.0 - Production
    <br/>
    With the Partitioning option
    <br/>
    JServer Release 9.2.0.4.0 - Production
    <br/>
    <br/>
    SQL&gt; shutdown immediate;
    <br/>
    Database closed.
    <br/>
    Database dismounted.
    <br/>
    ORACLE instance shut down.
    <br/>
    <br/>
    <strong>
     2.启动数据库到mount状态
    </strong>
    <br/>
    <br/>
    SQL&gt; startup mount;
    <br/>
    ORACLE instance started.
    <br/>
    <br/>
    Total System Global Area　101782828 bytes
    <br/>
    Fixed Size　　　　　　　　　 451884 bytes
    <br/>
    Variable Size　　　　　　　37748736 bytes
    <br/>
    Database Buffers　　　　　 62914560 bytes
    <br/>
    Redo Buffers　　　　　　　　 667648 bytes
    <br/>
    Database mounted.
    <br/>
    <br/>
    <strong>
     3.启用或停止归档模式
    </strong>
    <br/>
    <br/>
    如果要启用归档模式，此处使用
    <br/>
    <br/>
    alter database archivelog 命令。
    <br/>
    SQL&gt; alter database archivelog;
    <br/>
    Database altered.
    <br/>
    <br/>
    SQL&gt; alter database open;
    <br/>
    <br/>
    Database altered.
    <br/>
    <br/>
    SQL&gt; archive log list;
    <br/>
    Database log mode　　　　　　　Archive Mode
    <br/>
    Automatic archival　　　　　　 Enabled
    <br/>
    Archive destination　　　　　　/opt/oracle/oradata/conner/archive
    <br/>
    Oldest online log sequence　　 148
    <br/>
    Next log sequence to archive　 151
    <br/>
    Current log sequence　　　　　 151
    <br/>
    <br/>
    如果需要停止归档模式，此处使用：
    <br/>
    <br/>
    alter database noarchivelog 命令。
    <br/>
    SQL&gt; shutdown immediate;
    <br/>
    Database closed.
    <br/>
    Database dismounted.
    <br/>
    ORACLE instance shut down.
    <br/>
    SQL&gt; startup mount;
    <br/>
    ORACLE instance started.
    <br/>
    <br/>
    Total System Global Area　101782828 bytes
    <br/>
    Fixed Size　　　　　　　　　 451884 bytes
    <br/>
    Variable Size　　　　　　　37748736 bytes
    <br/>
    Database Buffers　　　　　 62914560 bytes
    <br/>
    Redo Buffers　　　　　　　　 667648 bytes
    <br/>
    Database mounted.
    <br/>
    SQL&gt; alter database noarchivelog;
    <br/>
    <br/>
    Database altered.
    <br/>
    <br/>
    SQL&gt; alter database open;
    <br/>
    <br/>
    Database altered.
    <br/>
    <br/>
    SQL&gt; archive log list;
    <br/>
    Database log mode　　　　　　　No Archive Mode
    <br/>
    Automatic archival　　　　　　 Enabled
    <br/>
    Archive destination　　　　　　/opt/oracle/oradata/conner/archive
    <br/>
    Oldest online log sequence　　 149
    <br/>
    Current log sequence　　　　　 152
    <br/>
    <br/>
    <strong>
     4.修改相应的初始化参数
    </strong>
    <br/>
    <br/>
    Oracle10g之前，你还需要修改初始化参数使数据库处于自动归档模式。
    <br/>
    <br/>
    在pfile/spfile中设置如下参数：
    <br/>
    <br/>
    log_archive_start = true
    <br/>
    <br/>
    重启数据库此参数生效，此时数据库处于自动归档模式。
    <br/>
    <br/>
    也可以在数据库启动过程中，手工执行：
    <br/>
    <br/>
    archive log start
    <br/>
    <br/>
    使数据库启用自动归档，但是重启后数据库仍然处于手工归档模式。
    <br/>
    <br/>
    从Oracle10g开始，log_archive_start参数已经废除
   </div>
  </div>
 </article>
 <p alt="687474:70733a2f2f626c6f672e6373646e2e6e65742f616e6e696379:62632f61727469636c652f64657461696c732f383536363939" class_="artid" style="display:none">
 </p>
</div>


