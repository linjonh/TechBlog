---
layout: post
title: "kotlin基础知识点汇总"
date: 2025-03-13 16:40:39 +0800
description: "Java 的写法Kotlin 的写法（Unit 跟 void 一样效果）// 在 Kotlin 可以省略 Unit 这种返回值通过以上几种函数的介绍，可以很方便优化kotlin中代码编写，整体看起来几个函数的作用很相似，但是各自又存在着不同。使用的场景有相同的地方比如run函数就是let和with的结合体。"
keywords: "kotlin基础知识点汇总"
categories: ['Android']
tags: ['开发语言', 'Python', 'Kotlin']
artid: "146235309"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146235309
    alt: "kotlin基础知识点汇总"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146235309
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146235309
cover: https://bing.ee123.net/img/rand?artid=146235309
image: https://bing.ee123.net/img/rand?artid=146235309
img: https://bing.ee123.net/img/rand?artid=146235309
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     kotlin基础知识点汇总
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <ul>
     <li>
      <a href="#%E5%AF%B9%E8%B1%A1" rel="nofollow">
       对象
      </a>
     </li>
     <li>
      <a href="#%E7%B1%BB" rel="nofollow">
       类
      </a>
     </li>
     <li>
      <a href="#%E7%BB%A7%E6%89%BF" rel="nofollow">
       继承
      </a>
     </li>
     <li>
      <a href="#%E5%8F%98%E9%87%8F" rel="nofollow">
       变量
      </a>
     </li>
     <li>
      <a href="#%E5%B8%B8%E9%87%8F" rel="nofollow">
       常量
      </a>
     </li>
     <li>
      <a href="#%E9%9D%99%E6%80%81%E5%B8%B8%E9%87%8F" rel="nofollow">
       静态常量
      </a>
     </li>
     <li>
      <a href="#%E5%AE%9A%E4%B9%89%E6%96%B9%E6%B3%95" rel="nofollow">
       定义方法
      </a>
     </li>
     <li>
      <a href="#%E9%87%8D%E8%BD%BD%E6%96%B9%E6%B3%95" rel="nofollow">
       重载方法
      </a>
     </li>
     <li>
      <a href="#%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" rel="nofollow">
       基本数据类型
      </a>
     </li>
     <li>
      <a href="#%E6%AF%94%E8%BE%83%E7%B1%BB%E5%9E%8B" rel="nofollow">
       比较类型
      </a>
     </li>
     <li>
      <a href="#%E8%BD%AC%E6%8D%A2%E7%AC%A6" rel="nofollow">
       转换符
      </a>
     </li>
     <li>
      <a href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%AF%94%E8%BE%83" rel="nofollow">
       字符串比较
      </a>
     </li>
     <li>
      <a href="#%E6%95%B0%E7%BB%84" rel="nofollow">
       数组
      </a>
     </li>
     <li>
      <a href="#%E5%BE%AA%E7%8E%AF" rel="nofollow">
       循环
      </a>
     </li>
     <li>
      <a href="#%E8%A7%92%E6%A0%87%E5%BE%AA%E7%8E%AF" rel="nofollow">
       角标循环
      </a>
     </li>
     <li>
      <a href="#%E9%AB%98%E7%BA%A7%E5%BE%AA%E7%8E%AF" rel="nofollow">
       高级循环
      </a>
     </li>
     <li>
      <a href="#%E5%88%A4%E6%96%AD%E5%99%A8" rel="nofollow">
       判断器
      </a>
     </li>
     <li>
      <a href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0" rel="nofollow">
       构造函数
      </a>
     </li>
     <li>
      <a href="#%E7%B1%BB%E5%88%9B%E5%BB%BA" rel="nofollow">
       类创建
      </a>
     </li>
     <li>
      <a href="#%E7%A7%81%E6%9C%89%E5%8C%96-set-%E6%96%B9%E6%B3%95" rel="nofollow">
       私有化 set 方法
      </a>
     </li>
     <li>
      <a href="#%E7%A7%81%E6%9C%89%E5%8C%96-get-%E6%96%B9%E6%B3%95" rel="nofollow">
       私有化 get 方法
      </a>
     </li>
     <li>
      <a href="#%E6%9E%9A%E4%B8%BE" rel="nofollow">
       枚举
      </a>
     </li>
     <li>
      <a href="#%E6%8E%A5%E5%8F%A3" rel="nofollow">
       接口
      </a>
     </li>
     <li>
      <a href="#%E5%8C%BF%E5%90%8D%E5%86%85%E9%83%A8%E7%B1%BB" rel="nofollow">
       匿名内部类
      </a>
     </li>
     <li>
      <a href="#%E5%86%85%E9%83%A8%E7%B1%BB" rel="nofollow">
       内部类
      </a>
     </li>
     <li>
      <a href="#%E5%86%85%E9%83%A8%E7%B1%BB%E8%AE%BF%E9%97%AE%E5%A4%96%E9%83%A8%E7%B1%BB%E5%90%8C%E5%90%8D%E5%8F%98%E9%87%8F" rel="nofollow">
       内部类访问外部类同名变量
      </a>
     </li>
     <li>
      <a href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB" rel="nofollow">
       抽象类
      </a>
     </li>
     <li>
      <a href="#%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F%E5%92%8C%E6%96%B9%E6%B3%95" rel="nofollow">
       静态变量和方法
      </a>
     </li>
     <li>
      <a href="#%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0" rel="nofollow">
       可变参数
      </a>
     </li>
     <li>
      <a href="#%E6%B3%9B%E5%9E%8B" rel="nofollow">
       泛型
      </a>
     </li>
     <li>
      <a href="#%E6%9E%84%E9%80%A0%E4%BB%A3%E7%A0%81%E5%9D%97" rel="nofollow">
       构造代码块
      </a>
     </li>
     <li>
      <a href="#%E9%9D%99%E6%80%81%E4%BB%A3%E7%A0%81%E5%9D%97" rel="nofollow">
       静态代码块
      </a>
     </li>
     <li>
      <a href="#%E6%96%B9%E6%B3%95%E4%BB%A3%E7%A0%81%E5%9D%97" rel="nofollow">
       方法代码块
      </a>
     </li>
     <li>
      <a href="#%E5%8F%AF%E8%A7%81%E4%BF%AE%E9%A5%B0%E7%AC%A6" rel="nofollow">
       可见修饰符
      </a>
     </li>
     <li>
      <a href="#%E6%97%A0%E9%9C%80-findViewById" rel="nofollow">
       无需 findViewById
      </a>
     </li>
     <li>
      <a href="#Lambda" rel="nofollow">
       Lambda
      </a>
     </li>
     <li>
      <a href="#%E5%87%BD%E6%95%B0%E5%8F%98%E9%87%8F" rel="nofollow">
       函数变量
      </a>
     </li>
     <li>
      <a href="#%E7%A9%BA%E5%AE%89%E5%85%A8" rel="nofollow">
       空安全
      </a>
     </li>
     <li>
      <a href="#%E6%96%B9%E6%B3%95%E6%94%AF%E6%8C%81%E6%B7%BB%E5%8A%A0%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0" rel="nofollow">
       方法支持添加默认参数
      </a>
     </li>
     <li>
      <a href="#%E7%B1%BB%E6%96%B9%E6%B3%95%E6%89%A9%E5%B1%95" rel="nofollow">
       类方法扩展
      </a>
     </li>
     <li>
      <a href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD" rel="nofollow">
       运算符重载
      </a>
     </li>
     <li>
      <a href="#%E6%89%A9%E5%B1%95%E5%87%BD%E6%95%B0" rel="nofollow">
       扩展函数
      </a>
      <ul>
       <li>
        <a href="#let-%E5%87%BD%E6%95%B0" rel="nofollow">
         let 函数
        </a>
       </li>
       <li>
        <a href="#with-%E5%87%BD%E6%95%B0" rel="nofollow">
         with 函数
        </a>
       </li>
       <li>
        <a href="#run-%E5%87%BD%E6%95%B0" rel="nofollow">
         run 函数
        </a>
       </li>
       <li>
        <a href="#apply-%E5%87%BD%E6%95%B0" rel="nofollow">
         apply 函数
        </a>
       </li>
       <li>
        <a href="#also-%E5%87%BD%E6%95%B0" rel="nofollow">
         also 函数
        </a>
       </li>
       <li>
        <a href="#%E6%80%BB%E7%BB%93" rel="nofollow">
         总结
        </a>
       </li>
      </ul>
     </li>
     <li>
      <a href="#%E5%8D%8F%E7%A8%8B" rel="nofollow">
       协程
      </a>
     </li>
    </ul>
    <h2>
     <a id="_50">
     </a>
     对象
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token class-name">MainActivity</span><span class="token punctuation">.</span><span class="token keyword">this</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">this</span><span class="token label symbol">@MainActivity</span>
</code></pre>
    <h2>
     <a id="_64">
     </a>
     类
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token class-name">MainActivity</span><span class="token punctuation">.</span><span class="token keyword">class</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin">MainActivity<span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">.</span>java
</code></pre>
    <h2>
     <a id="_78">
     </a>
     继承
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{<!-- --></span>
    
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法（在 Kotlin 中被继承类必须被 open 关键字修饰）
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">class</span> MainActivity <span class="token operator">:</span> <span class="token function">AppCompatActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_96">
     </a>
     变量
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">var</span> intent <span class="token operator">=</span> <span class="token function">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <h2>
     <a id="_110">
     </a>
     常量
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">final</span> <span class="token class-name">String</span> text <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">val</span> text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">""</span></span>
</code></pre>
    <h2>
     <a id="_124">
     </a>
     静态常量
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> text <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法（需要注意的是要把静态变量定义在类上方）
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">const</span> <span class="token keyword">val</span> text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">""</span></span>

<span class="token keyword">class</span> MainActivity <span class="token operator">:</span> <span class="token function">AppCompatActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_145">
     </a>
     定义方法
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法（Unit 跟 void 一样效果）
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">fun</span> <span class="token function">test</span><span class="token punctuation">(</span>message <span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span> Unit <span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>
<span class="token comment">// 在 Kotlin 可以省略 Unit 这种返回值</span>
<span class="token keyword">fun</span> <span class="token function">test</span><span class="token punctuation">(</span>message <span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_167">
     </a>
     重载方法
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> <span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">class</span> MainActivity <span class="token operator">:</span> <span class="token function">AppCompatActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_192">
     </a>
     基本数据类型
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> l <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">boolean</span> b <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> f <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> d <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token char">'A'</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">"text"</span><span class="token punctuation">;</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">var</span> i <span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">var</span> l <span class="token operator">:</span> Long <span class="token operator">=</span> <span class="token number">2</span>
<span class="token keyword">var</span> b <span class="token operator">:</span> Boolean <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token keyword">var</span> f <span class="token operator">:</span> Float <span class="token operator">=</span> <span class="token number">0F</span>
<span class="token keyword">var</span> d <span class="token operator">:</span> Double <span class="token operator">=</span> <span class="token number">0.0</span>
<span class="token keyword">var</span> c <span class="token operator">:</span> Char <span class="token operator">=</span> <span class="token char">'A'</span>
<span class="token keyword">var</span> s <span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"text"</span></span>
<span class="token comment">// 更简洁点可以这样，自动推倒类型</span>
<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">var</span> l <span class="token operator">=</span> <span class="token number">2</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token number">0F</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token number">0.0</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token char">'A'</span>
<span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"text"</span></span>
</code></pre>
    <h2>
     <a id="_226">
     </a>
     比较类型
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">""</span> <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">""</span></span> <span class="token keyword">is</span> String<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_244">
     </a>
     转换符
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">int</span> number <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"商品数量有%d"</span><span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">var</span> number <span class="token operator">=</span> <span class="token number">100</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"商品数量有</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token expression">number</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token comment">// 换种简洁的写法</span>
<span class="token keyword">var</span> number <span class="token operator">=</span> <span class="token number">100</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"商品数量有</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">number</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token comment">// 如果不想字符串被转义可以使用\$</span>
<span class="token keyword">var</span> number <span class="token operator">=</span> <span class="token number">100</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"商品数量有\$number"</span></span><span class="token punctuation">)</span>
</code></pre>
    <h2>
     <a id="_266">
     </a>
     字符串比较
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token string">"text"</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token string">"text"</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法（Kotlin 对字符串比较的写法进行优化了，其他类型对象对比还是要用 equals 方法）
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"text"</span></span>
<span class="token keyword">var</span> s2 <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"text"</span></span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>s1 <span class="token operator">==</span> s2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_288">
     </a>
     数组
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array1 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">float</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array2 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1f</span><span class="token punctuation">,</span> <span class="token number">2f</span><span class="token punctuation">,</span> <span class="token number">3f</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array3 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"1"</span><span class="token punctuation">,</span> <span class="token string">"2"</span><span class="token punctuation">,</span> <span class="token string">"3"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">val</span> array1 <span class="token operator">=</span> <span class="token function">intArrayOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">val</span> array2 <span class="token operator">=</span> <span class="token function">floatArrayOf</span><span class="token punctuation">(</span><span class="token number">1f</span><span class="token punctuation">,</span> <span class="token number">2f</span><span class="token punctuation">,</span> <span class="token number">3f</span><span class="token punctuation">)</span>
<span class="token keyword">val</span> array3 <span class="token operator">=</span> <span class="token function">arrayListOf</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"1"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"2"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"3"</span></span><span class="token punctuation">)</span>
</code></pre>
    <h2>
     <a id="_306">
     </a>
     循环
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"1"</span><span class="token punctuation">,</span> <span class="token string">"2"</span><span class="token punctuation">,</span> <span class="token string">"3"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">val</span> array <span class="token operator">=</span> <span class="token function">arrayListOf</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"1"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"2"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"3"</span></span><span class="token punctuation">)</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> array<span class="token punctuation">.</span>indices<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">println</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_328">
     </a>
     角标循环
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"1"</span><span class="token punctuation">,</span> <span class="token string">"2"</span><span class="token punctuation">,</span> <span class="token string">"3"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法（这种写法在 Kotlin 中称之为区间）
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">val</span> array <span class="token operator">=</span> <span class="token function">arrayListOf</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"1"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"2"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"3"</span></span><span class="token punctuation">)</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> <span class="token function">IntRange</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> array<span class="token punctuation">.</span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">println</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 换种更简洁的写法</span>
<span class="token keyword">val</span> array <span class="token operator">=</span> <span class="token function">arrayListOf</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"1"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"2"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"3"</span></span><span class="token punctuation">)</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">..</span>array<span class="token punctuation">.</span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">println</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 编译器提示要我们换种写法</span>
<span class="token keyword">val</span> array <span class="token operator">=</span> <span class="token function">arrayListOf</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"1"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"2"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"3"</span></span><span class="token punctuation">)</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> <span class="token number">1</span> until array<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">println</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_362">
     </a>
     高级循环
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"1"</span><span class="token punctuation">,</span> <span class="token string">"2"</span><span class="token punctuation">,</span> <span class="token string">"3"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> text <span class="token operator">:</span> array<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">val</span> array <span class="token operator">=</span> <span class="token function">arrayListOf</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"1"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"2"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"3"</span></span><span class="token punctuation">)</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span>text <span class="token keyword">in</span> array<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">println</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_384">
     </a>
     判断器
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token keyword">switch</span> <span class="token punctuation">(</span>count<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
    <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">1</span>

<span class="token keyword">when</span> <span class="token punctuation">(</span>count<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token number">0</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">println</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">..</span><span class="token number">2</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">println</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">println</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment">// 换种更简洁的写法</span>
<span class="token keyword">when</span> <span class="token punctuation">(</span>count<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token number">0</span> <span class="token operator">-&gt;</span> <span class="token function">println</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
    <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">..</span><span class="token number">2</span> <span class="token operator">-&gt;</span> <span class="token function">println</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
    <span class="token keyword">else</span> <span class="token operator">-&gt;</span> <span class="token function">println</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_431">
     </a>
     构造函数
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyView</span> <span class="token keyword">extends</span> <span class="token class-name">View</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">public</span> <span class="token class-name">MyView</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">MyView</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> <span class="token class-name">AttributeSet</span> attrs<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> attrs<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">MyView</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> <span class="token class-name">AttributeSet</span> attrs<span class="token punctuation">,</span> <span class="token keyword">int</span> defStyleAttr<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> attrs<span class="token punctuation">,</span> defStyleAttr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">class</span> MyView <span class="token operator">:</span> View <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">constructor</span><span class="token punctuation">(</span>context <span class="token operator">:</span> Context<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>

    <span class="token keyword">constructor</span><span class="token punctuation">(</span>context <span class="token operator">:</span> Context<span class="token punctuation">,</span> attrs <span class="token operator">:</span> AttributeSet<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> attrs<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>

    <span class="token keyword">constructor</span><span class="token punctuation">(</span>context <span class="token operator">:</span> Context<span class="token punctuation">,</span> attrs <span class="token operator">:</span> AttributeSet<span class="token operator">?</span><span class="token punctuation">,</span> defStyleAttr <span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> attrs<span class="token punctuation">,</span> defStyleAttr<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 换种更简洁的写法</span>
<span class="token keyword">class</span> MyView <span class="token operator">:</span> View <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">constructor</span><span class="token punctuation">(</span>context <span class="token operator">:</span> Context<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span>

    <span class="token keyword">constructor</span><span class="token punctuation">(</span>context <span class="token operator">:</span> Context<span class="token punctuation">,</span> attrs <span class="token operator">:</span> AttributeSet<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> attrs<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

    <span class="token keyword">constructor</span><span class="token punctuation">(</span>context <span class="token operator">:</span> Context<span class="token punctuation">,</span> attrs <span class="token operator">:</span> AttributeSet<span class="token operator">?</span><span class="token punctuation">,</span> defStyleAttr <span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> attrs<span class="token punctuation">,</span> defStyleAttr<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 只有一种构造函数的还可以这样写</span>
<span class="token keyword">class</span> <span class="token function">MyView</span><span class="token punctuation">(</span>context<span class="token operator">:</span> Context<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">View</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_484">
     </a>
     类创建
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>

    <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">int</span> age<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token class-name">Person</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"CurvedBowZhang"</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"ZJX"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"name: "</span> <span class="token operator">+</span> person<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">", age: "</span> <span class="token operator">+</span> person<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法（如果不想暴露成员变量的set方法，可以将 var 改成 val )
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">class</span> Person <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">var</span> name <span class="token operator">:</span> String<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> field
    <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>field <span class="token operator">=</span> value<span class="token punctuation">}</span>

    <span class="token keyword">var</span> age <span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> field
    <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>field <span class="token operator">=</span> value<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 换种更简洁的写法</span>
<span class="token keyword">class</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token keyword">var</span> name <span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">var</span> age <span class="token operator">:</span> Int<span class="token punctuation">)</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"CurvedBowZhang"</span></span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"ZJX"</span></span>
person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">50</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"name: {<!-- --></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">person</span></span><span class="token string">.name}, age: {<!-- --></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">person</span></span><span class="token string">.age}"</span></span><span class="token punctuation">)</span>
</code></pre>
    <h2>
     <a id="_set__542">
     </a>
     私有化 set 方法
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>

    <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">int</span> age<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">class</span> Person <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">var</span> name <span class="token operator">:</span> String<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">private</span> <span class="token keyword">set</span>

    <span class="token keyword">var</span> age <span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">private</span> <span class="token keyword">set</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_get__588">
     </a>
     私有化 get 方法
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>

    <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">int</span> age<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">class</span> Person <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">private</span> <span class="token keyword">var</span> name <span class="token operator">:</span> String<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span>

    <span class="token keyword">private</span> <span class="token keyword">var</span> age <span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_632">
     </a>
     枚举
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">enum</span> <span class="token class-name">Sex</span> <span class="token punctuation">{<!-- --></span>

    <span class="token function">MAN</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">WOMAN</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Sex</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> isMan<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">enum</span> <span class="token keyword">class</span> <span class="token function">Sex</span> <span class="token punctuation">(</span><span class="token keyword">var</span> isMan<span class="token operator">:</span> Boolean<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token function">MAN</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">WOMAN</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_654">
     </a>
     接口
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Callback</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">onFail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法（Kotlin接口方法里面是可以自己实现，这里就不再演示了）
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">interface</span> Callback <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">fun</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">fun</span> <span class="token function">onFail</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_674">
     </a>
     匿名内部类
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">new</span> <span class="token class-name">Callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onFail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">object</span><span class="token operator">:</span>Callback <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onFail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_708">
     </a>
     内部类
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyTask</span> <span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">class</span> MainActivity <span class="token operator">:</span> <span class="token function">AppCompatActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">inner</span> <span class="token keyword">class</span> MyTask <span class="token punctuation">{<!-- --></span>
        
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_732">
     </a>
     内部类访问外部类同名变量
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">"CurvedBowZhang"</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyTask</span> <span class="token punctuation">{<!-- --></span>

    <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">"ZJX"</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">"---"</span> <span class="token operator">+</span> <span class="token class-name">MainActivity</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"CurvedBowZhang"</span></span>

<span class="token keyword">inner</span> <span class="token keyword">class</span> MyTask <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"ZJX"</span></span>

    <span class="token keyword">fun</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string-literal singleline"><span class="token string">"---"</span></span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token label symbol">@MainActivity</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_764">
     </a>
     抽象类
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">BaseActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">abstract</span> <span class="token keyword">class</span> BaseActivity <span class="token operator">:</span> <span class="token function">AppCompatActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Runnable <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">abstract</span> <span class="token keyword">fun</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_784">
     </a>
     静态变量和方法
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code>public class ToastUtils {

    public static Toast sToast;

    public static void show() {
        sToast.show();
    }
}
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法（在 Kotlin 将这种方式称之为伴生对象）
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">companion</span> <span class="token keyword">object</span> ToastUtils <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">var</span> sToast <span class="token operator">:</span> Toast<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span>

    <span class="token keyword">fun</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        sToast<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_812">
     </a>
     可变参数
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> array<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">:</span> array<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        count <span class="token operator">+=</span> i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> count<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">fun</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">vararg</span> array<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token operator">:</span> Int <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token comment">//for (i in array) {<!-- --></span>
    <span class="token comment">//    count += i</span>
    <span class="token comment">//}</span>
    array<span class="token punctuation">.</span><span class="token function">forEach</span> <span class="token punctuation">{<!-- --></span>
        count <span class="token operator">+=</span> it
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> count
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_841">
     </a>
     泛型
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Bean</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>

    <span class="token class-name">T</span> data<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">Bean</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> t<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token class-name">Bean</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> bean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bean</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string">"666666"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">class</span> Bean<span class="token operator">&lt;</span>T <span class="token operator">:</span> Comparable<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>t<span class="token operator">:</span> T<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> <span class="token keyword">data</span> <span class="token operator">=</span> t
<span class="token punctuation">}</span>
<span class="token keyword">var</span> bean <span class="token operator">=</span> Bean<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"666666"</span></span><span class="token punctuation">)</span>
<span class="token comment">// 换种更简洁的写法</span>
<span class="token keyword">var</span> bean <span class="token operator">=</span> <span class="token function">Bean</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"666666"</span></span><span class="token punctuation">)</span>
</code></pre>
    <h2>
     <a id="_867">
     </a>
     构造代码块
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">int</span> number<span class="token punctuation">;</span>

    <span class="token punctuation">{<!-- --></span>
        number <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">class</span> MainActivity <span class="token operator">:</span> <span class="token function">AppCompatActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">var</span> number <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token keyword">init</span> <span class="token punctuation">{<!-- --></span>
        number <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_895">
     </a>
     静态代码块
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">static</span> <span class="token keyword">int</span> number<span class="token punctuation">;</span>

    <span class="token keyword">static</span> <span class="token punctuation">{<!-- --></span>
        number <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">class</span> MainActivity <span class="token operator">:</span> <span class="token function">AppCompatActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{<!-- --></span>
        
        <span class="token keyword">var</span> number <span class="token operator">=</span> <span class="token number">0</span>
        
        <span class="token keyword">init</span> <span class="token punctuation">{<!-- --></span>
            number <span class="token operator">=</span> <span class="token number">1</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_926">
     </a>
     方法代码块
    </h2>
    <blockquote>
     <p>
      Java 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      Kotlin 的写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">fun</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    run <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">var</span> a <span class="token operator">=</span><span class="token number">1</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_948">
     </a>
     可见修饰符
    </h2>
    <blockquote>
     <p>
      Java 的写法（默认为 default）
     </p>
    </blockquote>
    <table>
     <thead>
      <tr>
       <th align="center">
        修饰符
       </th>
       <th align="center">
        作用
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="center">
        public
       </td>
       <td align="center">
        所有类可见
       </td>
      </tr>
      <tr>
       <td align="center">
        protected
       </td>
       <td align="center">
        子类可见
       </td>
      </tr>
      <tr>
       <td align="center">
        default
       </td>
       <td align="center">
        同一包下的类可见
       </td>
      </tr>
      <tr>
       <td align="center">
        private
       </td>
       <td align="center">
        仅对自己类可见
       </td>
      </tr>
     </tbody>
    </table>
    <blockquote>
     <p>
      Kotlin 的写法（默认为 public）
     </p>
    </blockquote>
    <table>
     <thead>
      <tr>
       <th align="center">
        修饰符
       </th>
       <th align="center">
        作用
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="center">
        public
       </td>
       <td align="center">
        所有类可见
       </td>
      </tr>
      <tr>
       <td align="center">
        internal
       </td>
       <td align="center">
        同 Module 下的类可见
       </td>
      </tr>
      <tr>
       <td align="center">
        protected
       </td>
       <td align="center">
        子类可见
       </td>
      </tr>
      <tr>
       <td align="center">
        private
       </td>
       <td align="center">
        仅对自己类可见
       </td>
      </tr>
     </tbody>
    </table>
    <h2>
     <a id="_findViewById_968">
     </a>
     无需 findViewById
    </h2>
    <blockquote>
     <p>
      在布局中定义
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token operator">&lt;</span>TextView
    android<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string-literal singleline"><span class="token string">"@+id/tv_content"</span></span>
    android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string-literal singleline"><span class="token string">"wrap_content"</span></span>
    android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string-literal singleline"><span class="token string">"wrap_content"</span></span>
    android<span class="token operator">:</span>text<span class="token operator">=</span><span class="token string-literal singleline"><span class="token string">"Hello World!"</span></span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre>
    <blockquote>
     <p>
      直接设置 TextView 的文本
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin">tv_content<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"改变文本"</span></span>
</code></pre>
    <h2>
     <a id="Lambda_986">
     </a>
     Lambda
    </h2>
    <blockquote>
     <p>
      Lambda 表达式虽然在 Java JDK 已经加上了，但是没有普及开来，现在搭配 Kotlin 是一个不错的选择
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin">tv_content<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span>View<span class="token punctuation">.</span><span class="token function">OnClickListener</span><span class="token punctuation">(</span>

    <span class="token keyword">fun</span><span class="token punctuation">(</span>v <span class="token operator">:</span> View<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        v<span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>GONE
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
    <blockquote>
     <p>
      现在可以用 Lambda 表达式进行简化
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin">tv_content<span class="token punctuation">.</span><span class="token function">setOnClickListener</span> <span class="token punctuation">{<!-- --></span> v <span class="token operator">-&gt;</span> v<span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>GONE <span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_1005">
     </a>
     函数变量
    </h2>
    <blockquote>
     <p>
      在 Kotlin 语法中函数是可以作为变量进行传递的
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token keyword">fun</span><span class="token punctuation">(</span>number1 <span class="token operator">:</span> Int<span class="token punctuation">,</span> number2 <span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token operator">:</span> Int <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> number1 <span class="token operator">+</span> number2
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      使用这个函数变量
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">result</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
    <h2>
     <a id="_1021">
     </a>
     空安全
    </h2>
    <blockquote>
     <p>
      在 Java 不用强制我们处理空对象，所以常常会导致 NullPointerException 空指针出现，现在 Kotlin 对空对象进行了限定，必须在编译时处理对象是否为空的情况，不然会编译不通过
     </p>
    </blockquote>
    <blockquote>
     <p>
      在对象不可空的情况下，可以直接使用这个对象
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">fun</span> <span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> String <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token string-literal singleline"><span class="token string">"text"</span></span>
<span class="token punctuation">}</span>
</code></pre>
    <pre><code class="prism language-kotlin"><span class="token keyword">val</span> text <span class="token operator">=</span> <span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>text<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
</code></pre>
    <blockquote>
     <p>
      在对象可空的情况下，必须要判断对象是否为空
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">fun</span> <span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> String<span class="token operator">?</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>
</code></pre>
    <pre><code class="prism language-kotlin"><span class="token keyword">val</span> text <span class="token operator">=</span> <span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>text <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">print</span><span class="token punctuation">(</span>text<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
    <pre><code class="prism language-kotlin"><span class="token comment">// 如果不想判断是否为空，可以直接这样，如果 text 对象为空，则会报空指针异常，一般情况下不推荐这样使用</span>
<span class="token keyword">val</span> text <span class="token operator">=</span> <span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>text<span class="token operator">!!</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>
</code></pre>
    <pre><code class="prism language-kotlin"><span class="token comment">// 还有一种更好的处理方式，如果 text 对象为空则不会报错，但是 text.length 的结果会等于 null</span>
<span class="token keyword">val</span> text <span class="token operator">=</span> <span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>text<span class="token operator">?</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>
</code></pre>
    <h2>
     <a id="_1065">
     </a>
     方法支持添加默认参数
    </h2>
    <blockquote>
     <p>
      在 Java 上，我们可能会为了扩展某个方法而进行多次重载
     </p>
    </blockquote>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">toast</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">toast</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> text<span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token constant">LENGTH_SHORT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">toast</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">String</span> text<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">toast</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> text<span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token constant">LENGTH_SHORT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">toast</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">String</span> text<span class="token punctuation">,</span> <span class="token keyword">int</span> time<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> text<span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <pre><code class="prism language-java"><span class="token function">toast</span><span class="token punctuation">(</span><span class="token string">"弹个吐司"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">toast</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"弹个吐司"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">toast</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"弹个吐司"</span><span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token constant">LENGTH_LONG</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <blockquote>
     <p>
      但是在 Kotlin 上面，我们无需进行重载，可以直接在方法上面直接定义参数的默认值
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">fun</span> <span class="token function">toast</span><span class="token punctuation">(</span>context <span class="token operator">:</span> Context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> text <span class="token operator">:</span> String<span class="token punctuation">,</span> time <span class="token operator">:</span> Int <span class="token operator">=</span> Toast<span class="token punctuation">.</span>LENGTH_SHORT<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    Toast<span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> text<span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
    <pre><code class="prism language-kotlin"><span class="token function">toast</span><span class="token punctuation">(</span>text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"弹个吐司"</span></span><span class="token punctuation">)</span>
<span class="token function">toast</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"弹个吐司"</span></span><span class="token punctuation">)</span>
<span class="token function">toast</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"弹个吐司"</span></span><span class="token punctuation">,</span> Toast<span class="token punctuation">.</span>LENGTH_LONG<span class="token punctuation">)</span>
</code></pre>
    <h2>
     <a id="_1103">
     </a>
     类方法扩展
    </h2>
    <blockquote>
     <p>
      可以在不用继承的情况下对扩展原有类的方法，例如对 String 类进行扩展方法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">fun</span> String<span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> String <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token keyword">this</span> <span class="token operator">+</span> <span class="token string-literal singleline"><span class="token string">"CurvedBowZhang"</span></span>
<span class="token punctuation">}</span>
</code></pre>
    <pre><code class="prism language-kotlin"><span class="token comment">// 需要注意，handle 方法在哪个类中被定义，这种扩展只能在那个类里面才能使用</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"ZJX = "</span></span><span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
    <pre><code class="prism language-kotlin">ZJX <span class="token operator">=</span> CurvedBowZhang
</code></pre>
    <h2>
     <a id="_1122">
     </a>
     运算符重载
    </h2>
    <blockquote>
     <p>
      在 Kotlin 中使用运算符最终也会调用对象对应的方法，我们可以通过重写这些方法使得这个对象支持运算符，这里不再演示代码
     </p>
    </blockquote>
    <table>
     <thead>
      <tr>
       <th align="center">
        运算符
       </th>
       <th align="center">
        调用方法
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="center">
        +a
       </td>
       <td align="center">
        a.unaryPlus()
       </td>
      </tr>
      <tr>
       <td align="center">
        -a
       </td>
       <td align="center">
        a.unaryMinus()
       </td>
      </tr>
      <tr>
       <td align="center">
        !a
       </td>
       <td align="center">
        a.not()
       </td>
      </tr>
     </tbody>
    </table>
    <table>
     <thead>
      <tr>
       <th align="center">
        运算符
       </th>
       <th align="center">
        调用方法
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="center">
        a++
       </td>
       <td align="center">
        a.inc()
       </td>
      </tr>
      <tr>
       <td align="center">
        a–
       </td>
       <td align="center">
        a.dec()
       </td>
      </tr>
     </tbody>
    </table>
    <table>
     <thead>
      <tr>
       <th align="center">
        运算符
       </th>
       <th align="center">
        调用方法
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="center">
        a + b
       </td>
       <td align="center">
        a.plus(b)
       </td>
      </tr>
      <tr>
       <td align="center">
        a - b
       </td>
       <td align="center">
        a.minus(b)
       </td>
      </tr>
      <tr>
       <td align="center">
        a * b
       </td>
       <td align="center">
        a.times(b)
       </td>
      </tr>
      <tr>
       <td align="center">
        a / b
       </td>
       <td align="center">
        a.div(b)
       </td>
      </tr>
      <tr>
       <td align="center">
        a % b
       </td>
       <td align="center">
        a.rem(b), a.mod(b) (deprecated)
       </td>
      </tr>
      <tr>
       <td align="center">
        a…b
       </td>
       <td align="center">
        a.rangeTo(b)
       </td>
      </tr>
     </tbody>
    </table>
    <table>
     <thead>
      <tr>
       <th align="center">
        运算符
       </th>
       <th align="center">
        调用方法
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="center">
        a in b
       </td>
       <td align="center">
        b.contains(a)
       </td>
      </tr>
      <tr>
       <td align="center">
        a !in b
       </td>
       <td align="center">
        !b.contains(a)
       </td>
      </tr>
     </tbody>
    </table>
    <table>
     <thead>
      <tr>
       <th align="center">
        运算符
       </th>
       <th align="center">
        调用方法
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="center">
        a[i]
       </td>
       <td align="center">
        a.get(i)
       </td>
      </tr>
      <tr>
       <td align="center">
        a[i, j]
       </td>
       <td align="center">
        a.get(i, j)
       </td>
      </tr>
      <tr>
       <td align="center">
        a[i_1, …, i_n]
       </td>
       <td align="center">
        a.get(i_1, …, i_n)
       </td>
      </tr>
      <tr>
       <td align="center">
        a[i] = b
       </td>
       <td align="center">
        a.set(i, b)
       </td>
      </tr>
      <tr>
       <td align="center">
        a[i, j] = b
       </td>
       <td align="center">
        a.set(i, j, b)
       </td>
      </tr>
      <tr>
       <td align="center">
        a[i_1, …, i_n] = b
       </td>
       <td align="center">
        a.set(i_1, …, i_n, b)
       </td>
      </tr>
     </tbody>
    </table>
    <table>
     <thead>
      <tr>
       <th align="center">
        运算符
       </th>
       <th align="center">
        调用方法
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="center">
        a()
       </td>
       <td align="center">
        a.invoke()
       </td>
      </tr>
      <tr>
       <td align="center">
        a(i)
       </td>
       <td align="center">
        a.invoke(i)
       </td>
      </tr>
      <tr>
       <td align="center">
        a(i, j)
       </td>
       <td align="center">
        a.invoke(i, j)
       </td>
      </tr>
      <tr>
       <td align="center">
        a(i_1, …, i_n)
       </td>
       <td align="center">
        a.invoke(i_1, …, i_n)
       </td>
      </tr>
     </tbody>
    </table>
    <table>
     <thead>
      <tr>
       <th align="center">
        运算符
       </th>
       <th align="center">
        调用方法
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="center">
        a += b
       </td>
       <td align="center">
        a.plusAssign(b)
       </td>
      </tr>
      <tr>
       <td align="center">
        a -= b
       </td>
       <td align="center">
        a.minusAssign(b)
       </td>
      </tr>
      <tr>
       <td align="center">
        a *= b
       </td>
       <td align="center">
        a.timesAssign(b)
       </td>
      </tr>
      <tr>
       <td align="center">
        a /= b
       </td>
       <td align="center">
        a.divAssign(b)
       </td>
      </tr>
      <tr>
       <td align="center">
        a %= b
       </td>
       <td align="center">
        a.remAssign(b), a.modAssign(b) (deprecated)
       </td>
      </tr>
     </tbody>
    </table>
    <table>
     <thead>
      <tr>
       <th align="center">
        运算符
       </th>
       <th align="center">
        调用方法
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="center">
        a == b
       </td>
       <td align="center">
        a?.equals(b) ?: (b === null)
       </td>
      </tr>
      <tr>
       <td align="center">
        a != b
       </td>
       <td align="center">
        !(a?.equals(b) ?: (b === null))
       </td>
      </tr>
     </tbody>
    </table>
    <table>
     <thead>
      <tr>
       <th align="center">
        运算符
       </th>
       <th align="center">
        调用方法
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td align="center">
        a &gt; b
       </td>
       <td align="center">
        a.compareTo(b) &gt; 0
       </td>
      </tr>
      <tr>
       <td align="center">
        a &lt; b
       </td>
       <td align="center">
        a.compareTo(b) &lt; 0
       </td>
      </tr>
      <tr>
       <td align="center">
        a &gt;= b
       </td>
       <td align="center">
        a.compareTo(b) &gt;= 0
       </td>
      </tr>
      <tr>
       <td align="center">
        a &lt;= b
       </td>
       <td align="center">
        a.compareTo(b) &lt;= 0
       </td>
      </tr>
     </tbody>
    </table>
    <h2>
     <a id="_1188">
     </a>
     扩展函数
    </h2>
    <blockquote>
     <p>
      扩展函数是 Kotlin 用于简化一些代码的书写产生的，其中有 let、with、run、apply、also 五个函数
     </p>
    </blockquote>
    <h3>
     <a id="let__1192">
     </a>
     let 函数
    </h3>
    <blockquote>
     <p>
      在函数块内可以通过 it 指代该对象。返回值为函数块的最后一行或指定return表达式
     </p>
    </blockquote>
    <blockquote>
     <p>
      一般写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">val</span> text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"CurvedBowZhang"</span></span>
    <span class="token function">println</span><span class="token punctuation">(</span>text<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
    <span class="token keyword">val</span> result <span class="token operator">=</span> <span class="token number">1000</span>
    <span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      let 写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">val</span> result <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"CurvedBowZhang"</span></span><span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">println</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
        <span class="token number">1000</span>
    <span class="token punctuation">}</span>
    <span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      最常用的场景就是使用let函数处理需要针对一个可null的对象统一做判空处理
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin">mVideoPlayer<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">setVideoView</span><span class="token punctuation">(</span>activity<span class="token punctuation">.</span>course_video_view<span class="token punctuation">)</span>
mVideoPlayer<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">setControllerView</span><span class="token punctuation">(</span>activity<span class="token punctuation">.</span>course_video_controller_view<span class="token punctuation">)</span>
mVideoPlayer<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">setCurtainView</span><span class="token punctuation">(</span>activity<span class="token punctuation">.</span>course_video_curtain_view<span class="token punctuation">)</span>
</code></pre>
    <pre><code class="prism language-kotlin">mVideoPlayer<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{<!-- --></span>
   it<span class="token punctuation">.</span><span class="token function">setVideoView</span><span class="token punctuation">(</span>activity<span class="token punctuation">.</span>course_video_view<span class="token punctuation">)</span>
   it<span class="token punctuation">.</span><span class="token function">setControllerView</span><span class="token punctuation">(</span>activity<span class="token punctuation">.</span>course_video_controller_view<span class="token punctuation">)</span>
   it<span class="token punctuation">.</span><span class="token function">setCurtainView</span><span class="token punctuation">(</span>activity<span class="token punctuation">.</span>course_video_curtain_view<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      又或者是需要去明确一个变量所处特定的作用域范围内可以使用
     </p>
    </blockquote>
    <h3>
     <a id="with__1237">
     </a>
     with 函数
    </h3>
    <blockquote>
     <p>
      前面的几个函数使用方式略有不同，因为它不是以扩展的形式存在的。它是将某对象作为函数的参数，在函数块内可以通过 this 指代该对象。返回值为函数块的最后一行或指定return表达式
     </p>
    </blockquote>
    <blockquote>
     <p>
      定义 Person 类
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">class</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token keyword">var</span> name <span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">var</span> age <span class="token operator">:</span> Int<span class="token punctuation">)</span>
</code></pre>
    <blockquote>
     <p>
      一般写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"CurvedBowZhang"</span></span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name <span class="token operator">+</span> person<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token number">1000</span>
    <span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      with 写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">with</span><span class="token punctuation">(</span><span class="token function">Person</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"CurvedBowZhang"</span></span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> age<span class="token punctuation">)</span>
        <span class="token number">1000</span>
    <span class="token punctuation">}</span>
    <span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      适用于调用同一个类的多个方法时，可以省去类名重复，直接调用类的方法即可，经常用于Android中RecyclerView中onBinderViewHolder中，数据model的属性映射到UI上
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onBindViewHolder</span><span class="token punctuation">(</span>holder<span class="token operator">:</span> ViewHolder<span class="token punctuation">,</span> position<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">val</span> item <span class="token operator">=</span> <span class="token function">getItem</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token operator">?:</span> <span class="token keyword">return</span>
    holder<span class="token punctuation">.</span>nameView<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"姓名：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token expression">item<span class="token punctuation">.</span>name</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span></span>
    holder<span class="token punctuation">.</span>ageView<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"年龄：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token expression">item<span class="token punctuation">.</span>age</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span></span>
<span class="token punctuation">}</span>
</code></pre>
    <pre><code class="prism language-kotlin"><span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onBindViewHolder</span><span class="token punctuation">(</span>holder<span class="token operator">:</span> ViewHolder<span class="token punctuation">,</span> position<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">val</span> item <span class="token operator">=</span> <span class="token function">getItem</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token operator">?:</span> <span class="token keyword">return</span>
    <span class="token function">with</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        holder<span class="token punctuation">.</span>nameView<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"姓名：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">name</span></span><span class="token string">"</span></span>
        holder<span class="token punctuation">.</span>ageView<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"年龄：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">age</span></span><span class="token string">"</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="run__1290">
     </a>
     run 函数
    </h3>
    <blockquote>
     <p>
      实际上可以说是let和with两个函数的结合体，run函数只接收一个lambda函数为参数，以闭包形式返回，返回值为最后一行的值或者指定的return的表达式
     </p>
    </blockquote>
    <blockquote>
     <p>
      一般写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"CurvedBowZhang"</span></span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string-literal singleline"><span class="token string">"+"</span></span> <span class="token operator">+</span> person<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token number">1000</span>
<span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre>
    <blockquote>
     <p>
      run 写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"CurvedBowZhang"</span></span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> person<span class="token punctuation">.</span><span class="token function">run</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">name</span></span><span class="token string"> + </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">age</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token number">1000</span>
<span class="token punctuation">}</span>
<span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre>
    <blockquote>
     <p>
      适用于let,with函数任何场景。因为run函数是let,with两个函数结合体，准确来说它弥补了let函数在函数体内必须使用it参数替代对象，在run函数中可以像with函数一样可以省略，直接访问实例的公有属性和方法，另一方面它弥补了with函数传入对象判空问题，在run函数中可以像let函数一样做判空处理，这里还是借助 onBindViewHolder 案例进行简化
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onBindViewHolder</span><span class="token punctuation">(</span>holder<span class="token operator">:</span> ViewHolder<span class="token punctuation">,</span> position<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">val</span> item <span class="token operator">=</span> <span class="token function">getItem</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token operator">?:</span> <span class="token keyword">return</span>
    holder<span class="token punctuation">.</span>nameView<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"姓名：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token expression">item<span class="token punctuation">.</span>name</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span></span>
    holder<span class="token punctuation">.</span>ageView<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"年龄：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token expression">item<span class="token punctuation">.</span>age</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span></span>
<span class="token punctuation">}</span>
</code></pre>
    <pre><code class="prism language-kotlin"><span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onBindViewHolder</span><span class="token punctuation">(</span>holder<span class="token operator">:</span> ViewHolder<span class="token punctuation">,</span> position<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">val</span> item <span class="token operator">=</span> <span class="token function">getItem</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token operator">?:</span> <span class="token keyword">return</span>
    item<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">run</span> <span class="token punctuation">{<!-- --></span>
        holder<span class="token punctuation">.</span>nameView<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"姓名：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">name</span></span><span class="token string">"</span></span>
        holder<span class="token punctuation">.</span>ageView<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"年龄：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">age</span></span><span class="token string">"</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="apply__1334">
     </a>
     apply 函数
    </h3>
    <blockquote>
     <p>
      从结构上来看apply函数和run函数很像，唯一不同点就是它们各自返回的值不一样，run函数是以闭包形式返回最后一行代码的值，而apply函数的返回的是传入对象的本身
     </p>
    </blockquote>
    <blockquote>
     <p>
      一般写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">val</span> person <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"CurvedBowZhang"</span></span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"ZJX"</span></span>
person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">50</span>
</code></pre>
    <blockquote>
     <p>
      apply 写法
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">val</span> person <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"CurvedBowZhang"</span></span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span> <span class="token punctuation">{<!-- --></span>
    name <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"ZJX"</span></span>
    age <span class="token operator">=</span> <span class="token number">50</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      整体作用功能和run函数很像，唯一不同点就是它返回的值是对象本身，而run函数是一个闭包形式返回，返回的是最后一行的值。正是基于这一点差异它的适用场景稍微与run函数有点不一样。apply一般用于一个对象实例初始化的时候，需要对对象中的属性进行赋值。或者动态inflate出一个XML的View的时候需要给View绑定数据也会用到，这种情景非常常见。特别是在我们开发中会有一些数据model向View model转化实例化的过程中需要用到
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin">mRootView <span class="token operator">=</span> View<span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span>activity<span class="token punctuation">,</span> R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>example_view<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
mRootView<span class="token punctuation">.</span>tv_cancel<span class="token punctuation">.</span>paint<span class="token punctuation">.</span>isFakeBoldText <span class="token operator">=</span> <span class="token boolean">true</span>
mRootView<span class="token punctuation">.</span>tv_confirm<span class="token punctuation">.</span>paint<span class="token punctuation">.</span>isFakeBoldText <span class="token operator">=</span> <span class="token boolean">true</span>
mRootView<span class="token punctuation">.</span>seek_bar<span class="token punctuation">.</span>max <span class="token operator">=</span> <span class="token number">10</span>
mRootView<span class="token punctuation">.</span>seek_bar<span class="token punctuation">.</span>progress <span class="token operator">=</span> <span class="token number">0</span>
</code></pre>
    <blockquote>
     <p>
      使用 apply 函数后的代码是这样的
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin">mRootView <span class="token operator">=</span> View<span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span>activity<span class="token punctuation">,</span> R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>example_view<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span> <span class="token punctuation">{<!-- --></span>
   tv_cancel<span class="token punctuation">.</span>paint<span class="token punctuation">.</span>isFakeBoldText <span class="token operator">=</span> <span class="token boolean">true</span>
   tv_confirm<span class="token punctuation">.</span>paint<span class="token punctuation">.</span>isFakeBoldText <span class="token operator">=</span> <span class="token boolean">true</span>
   seek_bar<span class="token punctuation">.</span>max <span class="token operator">=</span> <span class="token number">10</span>
   seek_bar<span class="token punctuation">.</span>progress <span class="token operator">=</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      多层级判空问题
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">if</span> <span class="token punctuation">(</span>mSectionMetaData <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> mSectionMetaData<span class="token punctuation">.</span>questionnaire <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> mSectionMetaData<span class="token punctuation">.</span>section <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>mSectionMetaData<span class="token punctuation">.</span>questionnaire<span class="token punctuation">.</span>userProject <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">renderAnalysis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>mSectionMetaData<span class="token punctuation">.</span>section <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>mSectionMetaData<span class="token punctuation">.</span>section<span class="token punctuation">.</span>sectionArticles<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">fetchQuestionData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      kotlin的apply函数优化
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin">mSectionMetaData<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">apply</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">//mSectionMetaData不为空的时候操作mSectionMetaData</span>

<span class="token punctuation">}</span><span class="token operator">?</span><span class="token punctuation">.</span>questionnaire<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">apply</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">//questionnaire不为空的时候操作questionnaire</span>

<span class="token punctuation">}</span><span class="token operator">?</span><span class="token punctuation">.</span>section<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">apply</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">//section不为空的时候操作section</span>

<span class="token punctuation">}</span><span class="token operator">?</span><span class="token punctuation">.</span>sectionArticle<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">apply</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">//sectionArticle不为空的时候操作sectionArticle</span>

<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="also__1414">
     </a>
     also 函数
    </h3>
    <blockquote>
     <p>
      also函数的结构实际上和let很像唯一的区别就是返回值的不一样，let是以闭包的形式返回，返回函数体内最后一行的值，如果最后一行为空就返回一个Unit类型的默认值。而also函数返回的则是传入对象的本身
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">val</span> result <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"CurvedBowZhang"</span></span><span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">println</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
        <span class="token number">1000</span>
    <span class="token punctuation">}</span>
    <span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment">// 打印：1000</span>
<span class="token punctuation">}</span>
</code></pre>
    <pre><code class="prism language-kotlin"><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">val</span> result <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"CurvedBowZhang"</span></span><span class="token punctuation">.</span><span class="token function">also</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">println</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment">// 打印：CurvedBowZhang</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      适用于let函数的任何场景，also函数和let很像，只是唯一的不同点就是let函数最后的返回值是最后一行的返回值而also函数的返回值是返回当前的这个对象。一般可用于多个扩展函数链式调用
     </p>
    </blockquote>
    <h3>
     <a id="_1439">
     </a>
     总结
    </h3>
    <blockquote>
     <p>
      通过以上几种函数的介绍，可以很方便优化kotlin中代码编写，整体看起来几个函数的作用很相似，但是各自又存在着不同。使用的场景有相同的地方比如run函数就是let和with的结合体
     </p>
    </blockquote>
    <h2>
     <a id="_1443">
     </a>
     协程
    </h2>
    <blockquote>
     <p>
      子任务协作运行，优雅的处理异步问题解决方案
     </p>
    </blockquote>
    <blockquote>
     <p>
      协程实际上就是极大程度的复用线程，通过让线程满载运行，达到最大程度的利用CPU，进而提升应用性能
     </p>
    </blockquote>
    <blockquote>
     <p>
      在当前 app module 中配置环境和依赖（因为现在协程在 Kotlin 中是实验性的）
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin">kotlin <span class="token punctuation">{<!-- --></span>
    experimental <span class="token punctuation">{<!-- --></span>
        coroutines 'enable'
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

dependencies <span class="token punctuation">{<!-- --></span>
    implementation 'org<span class="token punctuation">.</span>jetbrains<span class="token punctuation">.</span>kotlinx<span class="token operator">:</span>kotlinx<span class="token operator">-</span>coroutines<span class="token operator">-</span>core<span class="token operator">:</span><span class="token number">0.20</span>'
    implementation 'org<span class="token punctuation">.</span>jetbrains<span class="token punctuation">.</span>kotlinx<span class="token operator">:</span>kotlinx<span class="token operator">-</span>coroutines<span class="token operator">-</span>android<span class="token operator">:</span><span class="token number">0.20</span>'
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      协程的三种启动方式
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin">runBlocking<span class="token operator">:</span>T     

launch<span class="token operator">:</span>Job

async<span class="token operator">/</span>await<span class="token operator">:</span>Deferred
</code></pre>
    <ul>
     <li>
      runBlocking
     </li>
    </ul>
    <blockquote>
     <p>
      runBlocking 的中文翻译：运行阻塞。说太多没用，直接用代码测试一下
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试是否为主线程"</span></span> <span class="token operator">+</span> <span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Looper<span class="token punctuation">.</span><span class="token function">getMainLooper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>thread<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试开始"</span></span><span class="token punctuation">)</span>
runBlocking <span class="token punctuation">{<!-- --></span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试是否为主线程"</span></span> <span class="token operator">+</span> <span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Looper<span class="token punctuation">.</span><span class="token function">getMainLooper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>thread<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试延迟开始"</span></span><span class="token punctuation">)</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">20000</span><span class="token punctuation">)</span> <span class="token comment">// 因为 Activity 最长响应时间为 15 秒</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试延迟结束"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试结束"</span></span><span class="token punctuation">)</span>
</code></pre>
    <pre><code class="prism language-kotlin"><span class="token number">17</span><span class="token operator">:</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">08.686</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试是否为主线程 <span class="token boolean">true</span>
<span class="token number">17</span><span class="token operator">:</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">08.686</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试开始
<span class="token number">17</span><span class="token operator">:</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">08.688</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试是否为主线程 <span class="token boolean">true</span>
<span class="token number">17</span><span class="token operator">:</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">08.688</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试延迟开始
<span class="token number">17</span><span class="token operator">:</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">28.692</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试延迟结束
<span class="token number">17</span><span class="token operator">:</span><span class="token number">02</span><span class="token operator">:</span><span class="token number">28.693</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试结束
</code></pre>
    <blockquote>
     <p>
      runBlocking 运行在主线程，过程中 App 出现过无响应提示，由此可见 runBlocking 和它的名称一样，真的会阻塞当前的线程，只有等 runBlocking 里面的代码执行完了才会执行 runBlocking 外面的代码
     </p>
    </blockquote>
    <ul>
     <li>
      launch
     </li>
    </ul>
    <blockquote>
     <p>
      launch 的中文翻译：启动。甭管这是啥，直接用代码测试
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试是否为主线程"</span></span> <span class="token operator">+</span> <span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Looper<span class="token punctuation">.</span><span class="token function">getMainLooper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>thread<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试开始"</span></span><span class="token punctuation">)</span>
launch <span class="token punctuation">{<!-- --></span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试是否为主线程"</span></span> <span class="token operator">+</span> <span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Looper<span class="token punctuation">.</span><span class="token function">getMainLooper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>thread<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试延迟开始"</span></span><span class="token punctuation">)</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">20000</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试延迟结束"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试结束"</span></span><span class="token punctuation">)</span>
</code></pre>
    <pre><code class="prism language-kotlin"><span class="token number">17</span><span class="token operator">:</span><span class="token number">19</span><span class="token operator">:</span><span class="token number">17.190</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试是否为主线程 <span class="token boolean">true</span>
<span class="token number">17</span><span class="token operator">:</span><span class="token number">19</span><span class="token operator">:</span><span class="token number">17.190</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试开始
<span class="token number">17</span><span class="token operator">:</span><span class="token number">19</span><span class="token operator">:</span><span class="token number">17.202</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试结束
<span class="token number">17</span><span class="token operator">:</span><span class="token number">19</span><span class="token operator">:</span><span class="token number">17.203</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试是否为主线程 <span class="token boolean">false</span>
<span class="token number">17</span><span class="token operator">:</span><span class="token number">19</span><span class="token operator">:</span><span class="token number">17.203</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试延迟开始
<span class="token number">17</span><span class="token operator">:</span><span class="token number">19</span><span class="token operator">:</span><span class="token number">37.223</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试延迟结束
</code></pre>
    <ul>
     <li>
      async
     </li>
    </ul>
    <blockquote>
     <p>
      async 的中文翻译：异步。还是老套路，直接上代码
     </p>
    </blockquote>
    <blockquote>
     <p>
      测试的时候是主线程，但是到了 launch 中就会变成子线程，这种效果类似 new Thread()，有木有？和 runBlocking 最不同的是 launch 没有执行顺序这个概念
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试是否为主线程"</span></span> <span class="token operator">+</span> <span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Looper<span class="token punctuation">.</span><span class="token function">getMainLooper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>thread<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试开始"</span></span><span class="token punctuation">)</span>
async <span class="token punctuation">{<!-- --></span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试是否为主线程"</span></span> <span class="token operator">+</span> <span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Looper<span class="token punctuation">.</span><span class="token function">getMainLooper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>thread<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试延迟开始"</span></span><span class="token punctuation">)</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">20000</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试延迟结束"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试结束"</span></span><span class="token punctuation">)</span>
</code></pre>
    <pre><code class="prism language-kotlin"><span class="token number">17</span><span class="token operator">:</span><span class="token number">29</span><span class="token operator">:</span><span class="token number">00.694</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试是否为主线程 <span class="token boolean">true</span>
<span class="token number">17</span><span class="token operator">:</span><span class="token number">29</span><span class="token operator">:</span><span class="token number">00.694</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试开始
<span class="token number">17</span><span class="token operator">:</span><span class="token number">29</span><span class="token operator">:</span><span class="token number">00.697</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试结束
<span class="token number">17</span><span class="token operator">:</span><span class="token number">29</span><span class="token operator">:</span><span class="token number">00.697</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试是否为主线程 <span class="token boolean">false</span>
<span class="token number">17</span><span class="token operator">:</span><span class="token number">29</span><span class="token operator">:</span><span class="token number">00.697</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试延迟开始
<span class="token number">17</span><span class="token operator">:</span><span class="token number">29</span><span class="token operator">:</span><span class="token number">20.707</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试延迟结束
</code></pre>
    <blockquote>
     <p>
      这结果不是跟 launch 一样么？那么这两个到底有什么区别呢？，让我们先看一段测试代码
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试是否为主线程"</span></span> <span class="token operator">+</span> <span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Looper<span class="token punctuation">.</span><span class="token function">getMainLooper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>thread<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试开始"</span></span><span class="token punctuation">)</span>
<span class="token keyword">val</span> async <span class="token operator">=</span> async <span class="token punctuation">{<!-- --></span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试是否为主线程"</span></span> <span class="token operator">+</span> <span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Looper<span class="token punctuation">.</span><span class="token function">getMainLooper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>thread<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试延迟开始"</span></span><span class="token punctuation">)</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">20000</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试延迟结束"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">return</span><span class="token label symbol">@async</span> <span class="token string-literal singleline"><span class="token string">"666666"</span></span>
<span class="token punctuation">}</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试结束"</span></span><span class="token punctuation">)</span>

runBlocking <span class="token punctuation">{<!-- --></span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试返回值："</span></span> <span class="token operator">+</span> async<span class="token punctuation">.</span><span class="token function">await</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
    <pre><code class="prism language-kotlin"><span class="token number">17</span><span class="token operator">:</span><span class="token number">50</span><span class="token operator">:</span><span class="token number">57.117</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试是否为主线程 <span class="token boolean">true</span>
<span class="token number">17</span><span class="token operator">:</span><span class="token number">50</span><span class="token operator">:</span><span class="token number">57.117</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试开始
<span class="token number">17</span><span class="token operator">:</span><span class="token number">50</span><span class="token operator">:</span><span class="token number">57.120</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试结束
<span class="token number">17</span><span class="token operator">:</span><span class="token number">50</span><span class="token operator">:</span><span class="token number">57.120</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试是否为主线程 <span class="token boolean">false</span>
<span class="token number">17</span><span class="token operator">:</span><span class="token number">50</span><span class="token operator">:</span><span class="token number">57.120</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试延迟开始
<span class="token number">17</span><span class="token operator">:</span><span class="token number">51</span><span class="token operator">:</span><span class="token number">17.131</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试延迟结束
<span class="token number">17</span><span class="token operator">:</span><span class="token number">51</span><span class="token operator">:</span><span class="token number">17.133</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试返回值：<span class="token number">666666</span>
</code></pre>
    <blockquote>
     <p>
      看到这里你是否懂了，async 和 launch 还是有区别的，async 可以有返回值，通过它的 await 方法进行获取，需要注意的是这个方法只能在协程的操作符中才能调用
     </p>
    </blockquote>
    <ul>
     <li>
      线程调度
     </li>
    </ul>
    <blockquote>
     <p>
      啥？协程有类似 RxJava 线程调度？先用 launch 试验一下
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试是否为主线程"</span></span> <span class="token operator">+</span> <span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Looper<span class="token punctuation">.</span><span class="token function">getMainLooper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>thread<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试开始"</span></span><span class="token punctuation">)</span>
<span class="token function">launch</span><span class="token punctuation">(</span>CommonPool<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 同学们，敲重点</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试是否为主线程"</span></span> <span class="token operator">+</span> <span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Looper<span class="token punctuation">.</span><span class="token function">getMainLooper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>thread<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试延迟开始"</span></span><span class="token punctuation">)</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">20000</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试延迟结束"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试结束"</span></span><span class="token punctuation">)</span>
</code></pre>
    <pre><code class="prism language-kotlin"><span class="token number">18</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">23.243</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试是否为主线程 <span class="token boolean">true</span>
<span class="token number">18</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">23.244</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试开始
<span class="token number">18</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">23.246</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试结束
<span class="token number">18</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">23.246</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试是否为主线程 <span class="token boolean">false</span>
<span class="token number">18</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">23.247</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试延迟开始
<span class="token number">18</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">43.256</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试延迟结束
</code></pre>
    <blockquote>
     <p>
      Q：这个跟刚刚的代码有什么不一样吗？
     </p>
    </blockquote>
    <blockquote>
     <p>
      A：假如一个网络请求框架维护了一个线程池，一个图片加载框架也维护了一个线程池…，你会发现其实这样不好的地方在于，这些线程池里面的线程没有被重复利用，于是乎协程主动维护了一个公共的线程池 CommonPool，很好的解决了这个问题
     </p>
    </blockquote>
    <blockquote>
     <p>
      Q：还有刚刚不是说能线程调度吗？为什么还是在子线程运行？
     </p>
    </blockquote>
    <blockquote>
     <p>
      A：因为我刚刚只用了 CommonPool 这个关键字，我再介绍另一个关键字 UI，光听名字就知道是啥了
     </p>
    </blockquote>
    <pre><code class="prism language-kotlin"><span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试是否为主线程"</span></span> <span class="token operator">+</span> <span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Looper<span class="token punctuation">.</span><span class="token function">getMainLooper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>thread<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试开始"</span></span><span class="token punctuation">)</span>
<span class="token function">launch</span><span class="token punctuation">(</span>UI<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试是否为主线程"</span></span> <span class="token operator">+</span> <span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Looper<span class="token punctuation">.</span><span class="token function">getMainLooper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>thread<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试延迟开始"</span></span><span class="token punctuation">)</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">20000</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试延迟结束"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"测试结束"</span></span><span class="token punctuation">)</span>
</code></pre>
    <pre><code class="prism language-kotlin"><span class="token number">18</span><span class="token operator">:</span><span class="token number">07</span><span class="token operator">:</span><span class="token number">20.181</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试是否为主线程 <span class="token boolean">true</span>
<span class="token number">18</span><span class="token operator">:</span><span class="token number">07</span><span class="token operator">:</span><span class="token number">20.181</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试开始
<span class="token number">18</span><span class="token operator">:</span><span class="token number">07</span><span class="token operator">:</span><span class="token number">20.186</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试结束
<span class="token number">18</span><span class="token operator">:</span><span class="token number">07</span><span class="token operator">:</span><span class="token number">20.192</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试是否为主线程 <span class="token boolean">true</span>
<span class="token number">18</span><span class="token operator">:</span><span class="token number">07</span><span class="token operator">:</span><span class="token number">20.192</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试延迟开始
<span class="token number">18</span><span class="token operator">:</span><span class="token number">07</span><span class="token operator">:</span><span class="token number">40.214</span> System<span class="token punctuation">.</span>out<span class="token operator">:</span> 测试延迟结束
</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f736a62323237343534303433322f:61727469636c652f64657461696c732f313436323335333039" class_="artid" style="display:none">
 </p>
</div>


