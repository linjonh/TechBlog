---
layout: post
title: "C语言函数和数组实践与应用开发简单的扫雷游戏"
date: 2025-03-16 21:03:41 +0800
description: "通过本次实践，我们不仅实现了经典的扫雷游戏，还学习了如何设计和实现一个简单的游戏。在实现过程中，我们使用了数组、函数、随机数生成等C语言知识，同时也体会到了模块化编程的好处。希望这篇文章能帮助你更好地理解扫雷游戏的实现过程，激发你对编程的兴趣。"
keywords: "【C语言】函数和数组实践与应用：开发简单的扫雷游戏"
categories: ['未分类']
tags: ['游戏', 'Java', 'C']
artid: "145366852"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=145366852
    alt: "C语言函数和数组实践与应用开发简单的扫雷游戏"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=145366852
featuredImagePreview: https://bing.ee123.net/img/rand?artid=145366852
cover: https://bing.ee123.net/img/rand?artid=145366852
image: https://bing.ee123.net/img/rand?artid=145366852
img: https://bing.ee123.net/img/rand?artid=145366852
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【C语言】函数和数组实践与应用：开发简单的扫雷游戏
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <p>
    </p>
    <h2>
     <a id="1_1">
     </a>
     1.扫雷游戏分析和设计
    </h2>
    <h3>
     <a id="11_3">
     </a>
     1.1扫雷游戏的功能说明（游戏规则）
    </h3>
    <blockquote>
     <p>
      1.使用控制台实现经典的扫雷游戏
      <br/>
      2.游戏可以通过菜单实现继续玩或者退出游戏
      <br/>
      3.扫雷的棋盘是9*9的格子
      <br/>
      4.默认随机布置10个雷
      <br/>
      5.可以排查雷
     </p>
    </blockquote>
    <ul>
     <li>
      如果位置不是雷，就显示周围有几个雷
     </li>
     <li>
      如果位置是雷，就炸死游戏结束
     </li>
     <li>
      把除10个雷之外的所有非雷都找出来，排雷成功，游戏结束
     </li>
    </ul>
    <p>
     <img alt="扫雷游戏界面" src="https://i-blog.csdnimg.cn/direct/492c9f76e0594fb1995cacef2df45357.png">
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/c1900eabc13a416d958cb187a69c9c88.png">
       <br/>
       C语言代码实现界面：
       <br/>
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/3dfe1418c63a437ebb35de9abe14424f.png">
        <br/>
        <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/d5a5e0d6851b4a44bd32b21f0c59c557.png">
         <br/>
         <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/725185342ced43d0a9d732161c6cc36a.png"/>
        </img>
       </img>
      </img>
     </img>
    </p>
    <h3>
     <a id="12_24">
     </a>
     1.2游戏的分析与设计
    </h3>
    <h4>
     <a id="121_25">
     </a>
     1.2.1游戏的分析
    </h4>
    <blockquote>
     <p>
      扫雷的过程中，布置的雷和排查出的雷的信息都需要存储，所以我们需要一定的数据结构来存储这些信息。
      <br/>
      因为我们需要在9x9的棋盘上布置雷的信息和排查雷，我们首先想到的就是创建一个9x9的数组来存放信息。
     </p>
    </blockquote>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/509b47a691db48c1b40ae2612ca0eaaf.png">
      <br/>
      那如果这个位置布置雷，我们就存放1，没有布置雷就存放0
     </img>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/fbbe3824cfff4af2b1707656144b71cf.png"/>
    </p>
    <p>
     假设我们排查(1,5)这个坐标时，我们访问周围的一圈8个黄色位置，统计周围雷的个数是1
     <br/>
     假设我们排查(8,6)这个坐标时，我们访问周围的一圈8个黄色位置，统计周围雷的个数时，最下面的三个坐标就会越界，为了防止越界，我们在设计的时候，给数组扩大一圈，雷还是布置在中间的9x9的坐标上，周围一圈不去布置雷就行，这样就解决了越界的问题。所以我们将存放数据的数组创建成11x11是比较合适。
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/babb8c6211be4dcbaeac6e1bc65ad5b1.png"/>
    </p>
    <blockquote>
     <p>
      再继续分析，我们在棋盘上布置了雷，棋盘上雷的信息“1
      <br/>
      湘曾的信息(0)假设我们排查了某个位置后，这个坐标处不是雷，这个坐标的周围有1个雷，那我们需要将排查出的雷的数量信息记录存储，并打印出来，作为排雷的重要参考信息的。那这个雷的个数信息存放在哪里呢?如果存放在布置雷的数组中，这样雷的信息和雷的个数信息就可能或产生混淆和打印上的困难。
      <br/>
      这里我们肯定有办法解决，比如:雷和非雷的信息不要使用数字，使用某些字符就行，这样就避免冲突了，但是这样做棋盘上有雷和非雷的信息，还有排查出的雷的个数信息，就比较混杂，不够方便。
      <br/>
      这里我们采用另外一种方案，我们专门给一个棋盘(对应一个数组mine)存放布置好的雷的信息，再给另外一个棋盘(对应另外一个数组show)存放排查出的雷的信息。这样就互不干扰了，把雷布置到mine数组，在mine数组中排查雷，排查出的数据存放在show数组，并且打印show数组的信息给后期排查参考。
      <br/>
      同时为了保持神秘，show数组开始时初始化为字符，为了保持两个数组的类型一致，可以使用同一套函数处理，mine数组最开始也初始化为字符’0’，布置雷改成’1’。如下:
     </p>
    </blockquote>
    <p>
     <img alt="左边是mine数组布置雷后的状态，右边是show输出初始化的状态" src="https://i-blog.csdnimg.cn/direct/ca54fbf163ef4f1ca1b9151231c829ef.png"/>
    </p>
    <p>
     对应的数组是
    </p>
    <pre><code class="prism language-c"><span class="token keyword">char</span> mine<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">//⽤来存放布置好的雷的信息</span>
<span class="token keyword">char</span> show<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">//⽤来存放排查出的雷的个数信息</span>
</code></pre>
    <h4>
     <a id="122__66">
     </a>
     1.2.2 文件结构设计
    </h4>
    <p>
     我们可以设计如下三个文件放入一个项目中进行
    </p>
    <pre><code class="prism language-c">test<span class="token punctuation">.</span>c <span class="token comment">//⽂件中写游戏的测试逻辑 </span>
game<span class="token punctuation">.</span>c <span class="token comment">//⽂件中写游戏中函数的实现等</span>
game<span class="token punctuation">.</span>h <span class="token comment">//⽂件中写游戏需要的数据类型和函数声明</span>
</code></pre>
    <h2>
     <a id="2__77">
     </a>
     2. 代码实现
    </h2>
    <h3>
     <a id="21_gameh_78">
     </a>
     2.1 game.h文件
    </h3>
    <pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;time.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EASY_COUNT</span> <span class="token expression"><span class="token number">10</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">ROW</span> <span class="token expression"><span class="token number">9</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">COL</span> <span class="token expression"><span class="token number">9</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">ROWS</span> <span class="token expression">ROW<span class="token operator">+</span><span class="token number">2</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">COLS</span> <span class="token expression">COL<span class="token operator">+</span><span class="token number">2</span></span></span>
<span class="token comment">// 初始化棋盘</span>
<span class="token keyword">void</span> <span class="token function">InitBoard</span><span class="token punctuation">(</span><span class="token keyword">char</span> board<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> rows<span class="token punctuation">,</span> <span class="token keyword">int</span> cols<span class="token punctuation">,</span> <span class="token keyword">char</span> set<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 打印棋盘</span>
<span class="token keyword">void</span> <span class="token function">DisplayBoard</span><span class="token punctuation">(</span><span class="token keyword">char</span> board<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 布置雷</span>
<span class="token keyword">void</span> <span class="token function">SetMine</span><span class="token punctuation">(</span><span class="token keyword">char</span> board<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 排查雷</span>
<span class="token keyword">void</span> <span class="token function">FindMine</span><span class="token punctuation">(</span><span class="token keyword">char</span> mine<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">char</span> show<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="22_gamec_99">
     </a>
     2.2 game.c文件
    </h3>
    <pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"game.h"</span></span>

<span class="token comment">// 初始化棋盘</span>
<span class="token keyword">void</span> <span class="token function">InitBoard</span><span class="token punctuation">(</span><span class="token keyword">char</span> board<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> rows<span class="token punctuation">,</span> <span class="token keyword">int</span> cols<span class="token punctuation">,</span> <span class="token keyword">char</span> set<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> rows<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> cols<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> set<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 打印棋盘</span>
<span class="token keyword">void</span> <span class="token function">DisplayBoard</span><span class="token punctuation">(</span><span class="token keyword">char</span> board<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"--------扫雷游戏-------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> col<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> row<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> col<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c "</span><span class="token punctuation">,</span> board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 布置雷</span>
<span class="token keyword">void</span> <span class="token function">SetMine</span><span class="token punctuation">(</span><span class="token keyword">char</span> board<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> count <span class="token operator">=</span> EASY_COUNT<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>count<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> row <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> col <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'1'</span><span class="token punctuation">;</span>
            count<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 获取周围雷的数量</span>
<span class="token keyword">int</span> <span class="token function">GetMineCount</span><span class="token punctuation">(</span><span class="token keyword">char</span> mine<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>mine<span class="token punctuation">[</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">+</span> mine<span class="token punctuation">[</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> mine<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> mine<span class="token punctuation">[</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span>
            mine<span class="token punctuation">[</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">+</span> mine<span class="token punctuation">[</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> mine<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> mine<span class="token punctuation">[</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">8</span> <span class="token operator">*</span> <span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 排查雷</span>
<span class="token keyword">void</span> <span class="token function">FindMine</span><span class="token punctuation">(</span><span class="token keyword">char</span> mine<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">char</span> show<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> win <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>win <span class="token operator">&lt;</span> row <span class="token operator">*</span> col <span class="token operator">-</span> EASY_COUNT<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入要排查的坐标:&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>x<span class="token punctuation">,</span> <span class="token operator">&amp;</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&gt;=</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> x <span class="token operator">&lt;=</span> row <span class="token operator">&amp;&amp;</span> y <span class="token operator">&gt;=</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> y <span class="token operator">&lt;=</span> col<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>mine<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'1'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"很遗憾，你被炸死了\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">DisplayBoard</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> ROW<span class="token punctuation">,</span> COL<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token function">GetMineCount</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
                show<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> count <span class="token operator">+</span> <span class="token char">'0'</span><span class="token punctuation">;</span>
                <span class="token function">DisplayBoard</span><span class="token punctuation">(</span>show<span class="token punctuation">,</span> ROW<span class="token punctuation">,</span> COL<span class="token punctuation">)</span><span class="token punctuation">;</span>
                win<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"坐标非法，重新输入\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>win <span class="token operator">==</span> row <span class="token operator">*</span> col <span class="token operator">-</span> EASY_COUNT<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"恭喜你，排雷成功\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">DisplayBoard</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> ROW<span class="token punctuation">,</span> COL<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="23_testc_181">
     </a>
     2.3 test.c文件
    </h3>
    <pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"game.h"</span></span>

<span class="token keyword">void</span> <span class="token function">menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"***********************\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"***** 1. play *****\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"***** 0. exit *****\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"***********************\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">game</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">char</span> mine<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// 存放布置好的雷</span>
    <span class="token keyword">char</span> show<span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// 存放排查出的雷的信息</span>
    <span class="token comment">// 初始化棋盘</span>
    <span class="token function">InitBoard</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> ROWS<span class="token punctuation">,</span> COLS<span class="token punctuation">,</span> <span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">InitBoard</span><span class="token punctuation">(</span>show<span class="token punctuation">,</span> ROWS<span class="token punctuation">,</span> COLS<span class="token punctuation">,</span> <span class="token char">'*'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 打印棋盘</span>
    <span class="token function">DisplayBoard</span><span class="token punctuation">(</span>show<span class="token punctuation">,</span> ROW<span class="token punctuation">,</span> COL<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 布置雷</span>
    <span class="token function">SetMine</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> ROW<span class="token punctuation">,</span> COL<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 排查雷</span>
    <span class="token function">FindMine</span><span class="token punctuation">(</span>mine<span class="token punctuation">,</span> show<span class="token punctuation">,</span> ROW<span class="token punctuation">,</span> COL<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> input <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">do</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请选择:&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>input<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
                <span class="token function">game</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"退出游戏\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">default</span><span class="token operator">:</span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"选择错误，重新选择\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="3__229">
     </a>
     3. 游戏运行效果
    </h2>
    <p>
     运行程序后，玩家可以通过输入坐标来排查雷。如果排查到雷，游戏结束；如果成功排查出所有非雷位置，游戏胜利。
    </p>
    <h2>
     <a id="4__231">
     </a>
     4. 游戏扩展
    </h2>
    <p>
     为了增加游戏的趣味性，我们可以进行以下扩展：
     <br/>
     提供不同难度的选择，例如9×9棋盘10个雷、16×16棋盘40个雷、30×16棋盘99个雷。
     <br/>
     如果排查位置不是雷且周围没有雷，可以展开周围的一片区域。
     <br/>
     增加标记雷的功能。
     <br/>
     添加排雷时间显示。
    </p>
    <h2>
     <a id="5__237">
     </a>
     5. 总结
    </h2>
    <p>
     通过本次实践，我们不仅实现了经典的扫雷游戏，还学习了如何设计和实现一个简单的游戏。在实现过程中，我们使用了数组、函数、随机数生成等C语言知识，同时也体会到了模块化编程的好处。希望这篇文章能帮助你更好地理解扫雷游戏的实现过程，激发你对编程的兴趣。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f436869615765695f4c65652f:61727469636c652f64657461696c732f313435333636383532" class_="artid" style="display:none">
 </p>
</div>


