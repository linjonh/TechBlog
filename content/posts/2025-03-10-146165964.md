---
layout: post
title: "KubernetsKubernetes-的基础知识,Pod是什么-和容器的关系多个容器如何在同一个-Pod-里协作"
date: 2025-03-10 22:46:21 +0800
description: "在同一个 Pod 里的容器，可以通过以下。，需要协作完成任务。，可以用于日志处理。"
keywords: "【Kubernets】Kubernetes 的基础知识，Pod是什么？ 和容器的关系？多个容器如何在同一个 Pod 里协作？"
categories: ['Kubernetes']
tags: ['容器', '云原生', 'Kubernetes']
artid: "146165964"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146165964
    alt: "KubernetsKubernetes-的基础知识,Pod是什么-和容器的关系多个容器如何在同一个-Pod-里协作"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146165964
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146165964
cover: https://bing.ee123.net/img/rand?artid=146165964
image: https://bing.ee123.net/img/rand?artid=146165964
img: https://bing.ee123.net/img/rand?artid=146165964
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【Kubernets】Kubernetes 的基础知识，Pod是什么？ 和容器的关系？多个容器如何在同一个 Pod 里协作？
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="1_Kubernetes__1">
     </a>
     <strong>
      1. Kubernetes 的核心概念
     </strong>
    </h3>
    <h4>
     <a id="1_Node_3">
     </a>
     <strong>
      (1) Node（节点）
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       定义
      </strong>
      ：Node 是 Kubernetes 集群中的工作机器，可以是物理机或虚拟机。
     </li>
     <li>
      <strong>
       类型
      </strong>
      ：
      <ul>
       <li>
        <strong>
         Master Node
        </strong>
        ：运行控制平面组件（如 API Server、Scheduler）。
       </li>
       <li>
        <strong>
         Worker Node
        </strong>
        ：运行应用负载（如 Pod）。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       关键组件
      </strong>
      ：
      <ul>
       <li>
        <strong>
         Kubelet
        </strong>
        ：负责与 Master Node 通信，管理 Pod 和容器。
       </li>
       <li>
        <strong>
         Kube Proxy
        </strong>
        ：负责网络代理和负载均衡。
       </li>
       <li>
        <strong>
         容器运行时
        </strong>
        ：负责运行容器（如 Docker、containerd）。
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="2_Namespace_15">
     </a>
     <strong>
      (2) Namespace（命名空间）
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       定义
      </strong>
      ：Namespace 是 Kubernetes 中用于隔离资源的虚拟集群。
     </li>
     <li>
      <strong>
       作用
      </strong>
      ：
      <ul>
       <li>
        将资源分组，便于管理。
       </li>
       <li>
        实现多租户环境下的资源隔离。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       常见 Namespace
      </strong>
      ：
      <ul>
       <li>
        <code>
         default
        </code>
        ：默认命名空间。
       </li>
       <li>
        <code>
         kube-system
        </code>
        ：Kubernetes 系统组件的命名空间。
       </li>
       <li>
        <code>
         kube-public
        </code>
        ：公共资源的命名空间。
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="3_Label__Selector_27">
     </a>
     <strong>
      (3) Label 和 Selector（标签和选择器）
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       Label
      </strong>
      ：
      <ul>
       <li>
        键值对，用于标识和分类资源（如 Pod、Service）。
       </li>
       <li>
        示例：
        <code>
         app=web
        </code>
        ,
        <code>
         env=prod
        </code>
        。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       Selector
      </strong>
      ：
      <ul>
       <li>
        用于根据 Label 选择资源。
       </li>
       <li>
        示例：选择所有
        <code>
         app=web
        </code>
        的 Pod。
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="4_Annotation_37">
     </a>
     <strong>
      (4) Annotation（注解）
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       定义
      </strong>
      ：Annotation 是附加到资源上的元数据，用于存储非标识性信息。
     </li>
     <li>
      <strong>
       作用
      </strong>
      ：
      <ul>
       <li>
        记录构建信息、版本号等。
       </li>
       <li>
        配置工具或库的行为。
       </li>
      </ul>
     </li>
     <li>
      示例：
      <code>
       build-version: v1.2.3
      </code>
      。
     </li>
    </ul>
    <hr/>
    <h3>
     <a id="2_Kubernetes__46">
     </a>
     <strong>
      2. Kubernetes 的核心资源
     </strong>
    </h3>
    <h4>
     <a id="1_Pod_48">
     </a>
     <strong>
      (1) Pod
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       定义
      </strong>
      ：Kubernetes 的最小调度单元，包含一个或多个容器。
     </li>
     <li>
      <strong>
       特点
      </strong>
      ：
      <ul>
       <li>
        共享网络和存储资源。
       </li>
       <li>
        生命周期短暂，通常由控制器（如 Deployment）管理。
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="2_Deployment_56">
     </a>
     <strong>
      (2) Deployment
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       定义
      </strong>
      ：用于定义 Pod 的副本数和更新策略。
     </li>
     <li>
      <strong>
       作用
      </strong>
      ：
      <ul>
       <li>
        确保指定数量的 Pod 副本始终运行。
       </li>
       <li>
        支持滚动更新和回滚。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       示例
      </strong>
      ：
      <pre><code class="prism language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> web<span class="token punctuation">-</span>app
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">3</span>
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> web
        <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx
</code></pre>
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="3_Service_78">
     </a>
     <strong>
      (3) Service
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       定义
      </strong>
      ：用于定义如何访问 Pod。
     </li>
     <li>
      <strong>
       作用
      </strong>
      ：
      <ul>
       <li>
        提供稳定的 IP 和 DNS 名称。
       </li>
       <li>
        实现负载均衡和服务发现。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       类型
      </strong>
      ：
      <ul>
       <li>
        <strong>
         ClusterIP
        </strong>
        ：集群内部访问。
       </li>
       <li>
        <strong>
         NodePort
        </strong>
        ：通过节点端口访问。
       </li>
       <li>
        <strong>
         LoadBalancer
        </strong>
        ：通过云提供商的负载均衡器访问。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       示例
      </strong>
      ：
      <pre><code class="prism language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Service
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> web<span class="token punctuation">-</span>service
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">app</span><span class="token punctuation">:</span> web
  <span class="token key atrule">ports</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">protocol</span><span class="token punctuation">:</span> TCP
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>
    <span class="token key atrule">targetPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
</code></pre>
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="4_ConfigMap__Secret_104">
     </a>
     <strong>
      (4) ConfigMap 和 Secret
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       ConfigMap
      </strong>
      ：
      <ul>
       <li>
        用于存储配置数据（如环境变量、配置文件）。
       </li>
       <li>
        示例：
        <pre><code class="prism language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> ConfigMap
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> app<span class="token punctuation">-</span>config
<span class="token key atrule">data</span><span class="token punctuation">:</span>
  <span class="token key atrule">log-level</span><span class="token punctuation">:</span> <span class="token string">"info"</span>
</code></pre>
       </li>
      </ul>
     </li>
     <li>
      <strong>
       Secret
      </strong>
      ：
      <ul>
       <li>
        用于存储敏感数据（如密码、密钥）。
       </li>
       <li>
        示例：
        <pre><code class="prism language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Secret
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> db<span class="token punctuation">-</span>secret
<span class="token key atrule">data</span><span class="token punctuation">:</span>
  <span class="token key atrule">username</span><span class="token punctuation">:</span> YWRtaW4=
  <span class="token key atrule">password</span><span class="token punctuation">:</span> MWYyZDFlMmU2N2Rm
</code></pre>
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h3>
     <a id="3_Kubernetes__131">
     </a>
     <strong>
      3. Kubernetes 的核心功能
     </strong>
    </h3>
    <h4>
     <a id="1__133">
     </a>
     <strong>
      (1) 自动扩展
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       Horizontal Pod Autoscaler (HPA)
      </strong>
      ：
      <ul>
       <li>
        根据 CPU 使用率或其他指标自动调整 Pod 的副本数。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       示例
      </strong>
      ：
      <pre><code class="prism language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> autoscaling/v2beta2
<span class="token key atrule">kind</span><span class="token punctuation">:</span> HorizontalPodAutoscaler
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> web<span class="token punctuation">-</span>app<span class="token punctuation">-</span>hpa
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">scaleTargetRef</span><span class="token punctuation">:</span>
    <span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
    <span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
    <span class="token key atrule">name</span><span class="token punctuation">:</span> web<span class="token punctuation">-</span>app
  <span class="token key atrule">minReplicas</span><span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token key atrule">maxReplicas</span><span class="token punctuation">:</span> <span class="token number">10</span>
  <span class="token key atrule">metrics</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">type</span><span class="token punctuation">:</span> Resource
    <span class="token key atrule">resource</span><span class="token punctuation">:</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> cpu
      <span class="token key atrule">target</span><span class="token punctuation">:</span>
        <span class="token key atrule">type</span><span class="token punctuation">:</span> Utilization
        <span class="token key atrule">averageUtilization</span><span class="token punctuation">:</span> <span class="token number">50</span>
</code></pre>
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="2__160">
     </a>
     <strong>
      (2) 自我修复
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       功能
      </strong>
      ：
      <ul>
       <li>
        自动重启失败的容器。
       </li>
       <li>
        替换不可用的 Pod。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       实现
      </strong>
      ：
      <ul>
       <li>
        通过控制器（如 Deployment、StatefulSet）确保 Pod 的期望状态。
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="3__169">
     </a>
     <strong>
      (3) 滚动更新和回滚
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       滚动更新
      </strong>
      ：
      <ul>
       <li>
        逐步替换旧版本的 Pod，确保应用不中断。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       回滚
      </strong>
      ：
      <ul>
       <li>
        回滚到之前的版本。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       示例
      </strong>
      ：
      <pre><code class="prism language-bash">kubectl <span class="token builtin class-name">set</span> image deployment/web-app <span class="token assign-left variable">web</span><span class="token operator">=</span>nginx:1.19
kubectl rollout undo deployment/web-app
</code></pre>
     </li>
    </ul>
    <hr/>
    <h3>
     <a id="4_Kubernetes__182">
     </a>
     <strong>
      4. Kubernetes 的常用命令
     </strong>
    </h3>
    <h4>
     <a id="1__184">
     </a>
     <strong>
      (1) 查看资源
     </strong>
    </h4>
    <ul>
     <li>
      查看 Pod：
      <pre><code class="prism language-bash">kubectl get pods
</code></pre>
     </li>
     <li>
      查看 Deployment：
      <pre><code class="prism language-bash">kubectl get deployments
</code></pre>
     </li>
    </ul>
    <h4>
     <a id="2__194">
     </a>
     <strong>
      (2) 创建资源
     </strong>
    </h4>
    <ul>
     <li>
      通过 YAML 文件创建：
      <pre><code class="prism language-bash">kubectl apply <span class="token parameter variable">-f</span> deployment.yaml
</code></pre>
     </li>
    </ul>
    <h4>
     <a id="3__200">
     </a>
     <strong>
      (3) 删除资源
     </strong>
    </h4>
    <ul>
     <li>
      删除 Pod：
      <pre><code class="prism language-bash">kubectl delete pod <span class="token operator">&lt;</span>pod-name<span class="token operator">&gt;</span>
</code></pre>
     </li>
    </ul>
    <h4>
     <a id="4__206">
     </a>
     <strong>
      (4) 查看日志
     </strong>
    </h4>
    <ul>
     <li>
      查看 Pod 日志：
      <pre><code class="prism language-bash">kubectl logs <span class="token operator">&lt;</span>pod-name<span class="token operator">&gt;</span>
</code></pre>
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="Pod_213">
     </a>
     <strong>
      Pod定义，和容器的关系
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       Pod 是 Kubernetes 中的最小部署单位
      </strong>
      ，它
      <strong>
       封装了一个或多个容器
      </strong>
      ，这些容器共享
      <strong>
       存储、网络、生命周期
      </strong>
      。
     </li>
     <li>
      <strong>
       Pod 是对容器的抽象
      </strong>
      ，它解决了单个容器无法满足的需求，比如
      <strong>
       多个进程协作、共享存储、共享网络
      </strong>
      。
     </li>
    </ul>
    <p>
     可以简单理解为：
    </p>
    <blockquote>
     <p>
      <strong>
       Pod 是一个“容器组”
      </strong>
      ，里面可以有
      <strong>
       1 个或多个容器
      </strong>
      ，但这些容器是
      <strong>
       相互依赖的
      </strong>
      ，需要协作完成任务。
     </p>
    </blockquote>
    <hr/>
    <h4>
     <a id="_Pod__222">
     </a>
     <strong>
      多个容器如何在同一个 Pod 里协作？
     </strong>
    </h4>
    <p>
     在同一个 Pod 里的容器，可以通过以下
     <strong>
      三种方式协作
     </strong>
     ：
    </p>
    <h5>
     <a id="1_Network_225">
     </a>
     <strong>
      1. 共享网络（Network）
     </strong>
    </h5>
    <ul>
     <li>
      <strong>
       Pod 里的所有容器共享同一个 IP 地址（Pod IP）
      </strong>
     </li>
     <li>
      容器之间可以用
      <code>
       localhost
      </code>
      直接通信
     </li>
     <li>
      适用于：
      <strong>
       一个主应用 + 辅助应用
      </strong>
      （如 Nginx + PHP）
     </li>
    </ul>
    <p>
     <strong>
      示例
     </strong>
    </p>
    <pre><code class="prism language-shell"><span class="token comment"># 在 Pod 里，两个容器可以这样通信：</span>
<span class="token function">curl</span> http://localhost:8080
</code></pre>
    <p>
     <strong>
      不需要跨 Pod 访问，容器间直接使用 localhost 访问
     </strong>
    </p>
    <hr/>
    <h5>
     <a id="2_Storage_239">
     </a>
     <strong>
      2. 共享存储（Storage）
     </strong>
    </h5>
    <ul>
     <li>
      Pod 内的容器可以共享
      <strong>
       Volume（存储卷）
      </strong>
      ，用于共享数据
     </li>
     <li>
      适用于：
      <strong>
       日志收集、数据缓存、共享配置等
      </strong>
     </li>
    </ul>
    <p>
     <strong>
      示例
     </strong>
    </p>
    <pre><code class="prism language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> shared<span class="token punctuation">-</span>volume<span class="token punctuation">-</span>pod
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> shared<span class="token punctuation">-</span>storage
      <span class="token key atrule">emptyDir</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>  <span class="token comment"># 共享存储</span>
  <span class="token key atrule">containers</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> app
      <span class="token key atrule">image</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>app
      <span class="token key atrule">volumeMounts</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> /data
          <span class="token key atrule">name</span><span class="token punctuation">:</span> shared<span class="token punctuation">-</span>storage
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> sidecar
      <span class="token key atrule">image</span><span class="token punctuation">:</span> log<span class="token punctuation">-</span>collector
      <span class="token key atrule">volumeMounts</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> /data
          <span class="token key atrule">name</span><span class="token punctuation">:</span> shared<span class="token punctuation">-</span>storage
</code></pre>
    <p>
     <strong>
      两个容器（app 和 log-collector）共享
      <code>
       /data
      </code>
      目录
     </strong>
     ，可以用于日志处理。
    </p>
    <hr/>
    <h5>
     <a id="3_Sidecar__269">
     </a>
     <strong>
      3. Sidecar 模式（辅助容器）
     </strong>
    </h5>
    <ul>
     <li>
      在同一个 Pod 里运行一个
      <strong>
       主容器
      </strong>
      和一个
      <strong>
       辅助容器（Sidecar）
      </strong>
     </li>
     <li>
      Sidecar 负责
      <strong>
       日志处理、监控、数据同步等任务
      </strong>
     </li>
     <li>
      适用于：
      <strong>
       日志收集、代理服务、自动更新等场景
      </strong>
     </li>
    </ul>
    <p>
     <strong>
      示例：日志收集
     </strong>
    </p>
    <pre><code class="prism language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> sidecar<span class="token punctuation">-</span>pod
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">containers</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> app
      <span class="token key atrule">image</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>app
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> log<span class="token punctuation">-</span>agent
      <span class="token key atrule">image</span><span class="token punctuation">:</span> fluentd
</code></pre>
    <p>
     <strong>
      Fluentd（日志收集器）和业务容器一起运行，专门处理日志
     </strong>
    </p>
    <hr/>
    <h4>
     <a id="_291">
     </a>
     <strong>
      总结
     </strong>
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        <strong>
         协作方式
        </strong>
       </th>
       <th>
        <strong>
         作用
        </strong>
       </th>
       <th>
        <strong>
         适用场景
        </strong>
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <strong>
         共享网络
        </strong>
       </td>
       <td>
        容器之间可以用
        <code>
         localhost
        </code>
        直接通信
       </td>
       <td>
        主应用 + 代理（如 Nginx + PHP）
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         共享存储
        </strong>
       </td>
       <td>
        共享 Volume 数据
       </td>
       <td>
        日志收集、数据缓存
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         Sidecar 模式
        </strong>
       </td>
       <td>
        辅助主容器
       </td>
       <td>
        日志收集、自动更新
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <h3>
     <a id="Pod__300">
     </a>
     <strong>
      Pod 中多容器协作的实际示例
     </strong>
    </h3>
    <h4>
     <a id="_1Web__302">
     </a>
     <strong>
      示例 1：Web 应用与日志收集
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       场景
      </strong>
      ：
      <ul>
       <li>
        一个 Web 应用需要将日志发送到集中式日志系统。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       Pod 配置
      </strong>
      ：
      <ul>
       <li>
        主容器：运行 Web 应用。
       </li>
       <li>
        Sidecar 容器：运行日志收集工具（如 Fluentd）。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       协作方式
      </strong>
      ：
      <ul>
       <li>
        Web 应用容器将日志写入共享存储卷。
       </li>
       <li>
        Sidecar 容器从共享存储卷读取日志并发送到日志系统。
       </li>
      </ul>
     </li>
    </ul>
    <h4>
     <a id="_2_312">
     </a>
     <strong>
      示例 2：数据预处理与应用
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       场景
      </strong>
      ：
      <ul>
       <li>
        一个应用需要处理大量数据，但数据需要先进行预处理。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       Pod 配置
      </strong>
      ：
      <ul>
       <li>
        Init 容器：运行数据预处理工具。
       </li>
       <li>
        主容器：运行应用。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       协作方式
      </strong>
      ：
      <ul>
       <li>
        Init 容器从远程存储下载数据并进行预处理。
       </li>
       <li>
        预处理完成后，主容器启动并使用处理后的数据。
       </li>
      </ul>
     </li>
    </ul>
    <h4>
     <a id="_3Web__322">
     </a>
     <strong>
      示例 3：Web 应用与代理
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       场景
      </strong>
      ：
      <ul>
       <li>
        一个 Web 应用需要通过代理访问外部服务。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       Pod 配置
      </strong>
      ：
      <ul>
       <li>
        主容器：运行 Web 应用。
       </li>
       <li>
        Sidecar 容器：运行代理（如 Envoy）。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       协作方式
      </strong>
      ：
      <ul>
       <li>
        Web 应用容器通过
        <code>
         localhost
        </code>
        访问代理容器。
       </li>
       <li>
        代理容器负责将请求转发到外部服务。
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <p>
     <a href="https://github.com/0voice">
      https://github.com/0voice
      <br/>
     </a>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f37343238323932362f:61727469636c652f64657461696c732f313436313635393634" class_="artid" style="display:none">
 </p>
</div>


