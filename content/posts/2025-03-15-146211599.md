---
layout: post
title: "在windows上通过idea搭建doris-fe的开发环境快速成功版"
date: 2025-03-15 10:00:00 +0800
description: "doris fe编译成功"
keywords: "在windows上通过idea搭建doris fe的开发环境（快速成功版）"
categories: ['Doris']
tags: ['Doris']
artid: "146211599"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146211599
    alt: "在windows上通过idea搭建doris-fe的开发环境快速成功版"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146211599
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146211599
cover: https://bing.ee123.net/img/rand?artid=146211599
image: https://bing.ee123.net/img/rand?artid=146211599
img: https://bing.ee123.net/img/rand?artid=146211599
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     在windows上通过idea搭建doris fe的开发环境（快速成功版）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-dracula" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="_0">
     </a>
     <strong>
      一、前置环境准备
     </strong>
    </h2>
    <h3>
     <a id="1_LinuxCentOS8412G50G_1">
     </a>
     <strong>
      1. 准备Linux环境，我起的虚机，使用CentOS8，4核、12G，磁盘50G
     </strong>
    </h3>
    <h4>
     <a id="11yum_2">
     </a>
     <strong>
      1.1.备份yum源
     </strong>
    </h4>
    <pre><code class="prism language-bash"><span class="token comment"># 系统下载连接：magnet:?xt=urn:btih:9DB46A612D04763AA7DB02A0FF63EDE2EA555867&amp;dn=CentOS-8.1.1911-x86_64-dvd1.iso</span>
<span class="token function">sudo</span> <span class="token function">mkdir</span> /etc/yum.repo.d/backup
<span class="token function">sudo</span> <span class="token function">mv</span> /etc/yum.repo.d/*.repo /etc/yum.repo.d/backup
<span class="token function">sudo</span> <span class="token function">vim</span> /etc/yum.repo.d/CentOS-Base.repo
</code></pre>
    <h4>
     <a id="12yum_9">
     </a>
     <strong>
      1.2.配置yum源
     </strong>
    </h4>
    <pre><code class="prism language-bash"><span class="token comment"># CentOS-Base.repo </span>
<span class="token punctuation">[</span>base<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>CentOS-<span class="token variable">$releasever</span> - Base - mirrors.aliyun.com
<span class="token comment">#failovermethod=priority</span>
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://mirrors.aliyun.com/centos/<span class="token variable">$releasever</span>/BaseOS/<span class="token variable">$basearch</span>/os/
        http://mirrors.aliyuncs.com/centos/<span class="token variable">$releasever</span>/BaseOS/<span class="token variable">$basearch</span>/os/
        http://mirrors.cloud.aliyuncs.com/centos/<span class="token variable">$releasever</span>/BaseOS/<span class="token variable">$basearch</span>/os/
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official
 
<span class="token comment">#additional packages that may be useful</span>
<span class="token punctuation">[</span>extras<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>CentOS-<span class="token variable">$releasever</span> - Extras - mirrors.aliyun.com
<span class="token comment">#failovermethod=priority</span>
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://mirrors.aliyun.com/centos/<span class="token variable">$releasever</span>/extras/<span class="token variable">$basearch</span>/os/
        http://mirrors.aliyuncs.com/centos/<span class="token variable">$releasever</span>/extras/<span class="token variable">$basearch</span>/os/
        http://mirrors.cloud.aliyuncs.com/centos/<span class="token variable">$releasever</span>/extras/<span class="token variable">$basearch</span>/os/
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official
 
<span class="token comment">#additional packages that extend functionality of existing packages</span>
<span class="token punctuation">[</span>centosplus<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>CentOS-<span class="token variable">$releasever</span> - Plus - mirrors.aliyun.com
<span class="token comment">#failovermethod=priority</span>
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://mirrors.aliyun.com/centos/<span class="token variable">$releasever</span>/centosplus/<span class="token variable">$basearch</span>/os/
        http://mirrors.aliyuncs.com/centos/<span class="token variable">$releasever</span>/centosplus/<span class="token variable">$basearch</span>/os/
        http://mirrors.cloud.aliyuncs.com/centos/<span class="token variable">$releasever</span>/centosplus/<span class="token variable">$basearch</span>/os/
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official
 
<span class="token punctuation">[</span>PowerTools<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>CentOS-<span class="token variable">$releasever</span> - PowerTools - mirrors.aliyun.com
<span class="token comment">#failovermethod=priority</span>
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://mirrors.aliyun.com/centos/<span class="token variable">$releasever</span>/PowerTools/<span class="token variable">$basearch</span>/os/
        http://mirrors.aliyuncs.com/centos/<span class="token variable">$releasever</span>/PowerTools/<span class="token variable">$basearch</span>/os/
        http://mirrors.cloud.aliyuncs.com/centos/<span class="token variable">$releasever</span>/PowerTools/<span class="token variable">$basearch</span>/os/
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official


<span class="token punctuation">[</span>AppStream<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>CentOS-<span class="token variable">$releasever</span> - AppStream - mirrors.aliyun.com
<span class="token comment">#failovermethod=priority</span>
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://mirrors.aliyun.com/centos/<span class="token variable">$releasever</span>/AppStream/<span class="token variable">$basearch</span>/os/
        http://mirrors.aliyuncs.com/centos/<span class="token variable">$releasever</span>/AppStream/<span class="token variable">$basearch</span>/os/
        http://mirrors.cloud.aliyuncs.com/centos/<span class="token variable">$releasever</span>/AppStream/<span class="token variable">$basearch</span>/os/
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official
</code></pre>
    <h4>
     <a id="13yum_63">
     </a>
     1.3.
     <strong>
      更新yum源
     </strong>
    </h4>
    <pre><code class="prism language-bash">yum clean all <span class="token operator">&amp;&amp;</span> yum makecache
</code></pre>
    <h4>
     <a id="14_68">
     </a>
     1.4.
     <strong>
      安装&amp;更新软件
     </strong>
    </h4>
    <pre><code class="prism language-bash">yum <span class="token function">install</span> <span class="token parameter variable">-y</span> automake bison flex boost-devel libevent-devel openssl-devel python3-devel autoconf libtool cmake ncurses-devel lzo-devel zlib-devel gcc-c++ maven <span class="token function">git</span> <span class="token function">make</span> systemd-devel orc-devel clang python2 <span class="token function">npm</span>
<span class="token comment"># 有些包默认的版本低，需要手动更新，比如libarchive</span>
yum update <span class="token parameter variable">-y</span>
<span class="token comment"># 更新完成后，要删除更细，新生成的repo，把CentOS-Base.repo恢复回来，再clean和makecache</span>
<span class="token function">rm</span> <span class="token parameter variable">-f</span> /etc/yum.repos.d/CentOS-Linux*
<span class="token function">mv</span> /etc/yum.repos.d/CentOS-Base.repo<span class="token punctuation">(</span>***自己替换<span class="token punctuation">)</span> /etc/yum.repos.d/CentOS-Base.repo
yum clean all <span class="token operator">&amp;&amp;</span> yum makecache
<span class="token comment"># python手动创建软连接</span>
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/bin/python2 /usr/bin/python
</code></pre>
    <h4>
     <a id="15fe_uinodejs102411820712_80">
     </a>
     1.5.
     <strong>
      编译fe ui需要升级node.js从10.24.1到18.20.7（12+）
     </strong>
    </h4>
    <pre><code class="prism language-bash"><span class="token comment"># 下载包</span>
https://nodejs.org/dist/v18.20.7/node-v18.20.7-linux-x64.tar.xz
<span class="token comment"># 解压和替换</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> ~/.npm/
<span class="token function">tar</span> <span class="token parameter variable">-xJf</span> node-v18.20.7-linux-x64.tar.xz
<span class="token comment"># 重新安装</span>
<span class="token builtin class-name">cd</span> /home/user/v18.20.7-linux-x64/lib/node_modules/npm
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /home/user/v18.20.7-linux-x64/bin/npm /usr/bin/npm
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /home/user/v18.20.7-linux-x64/bin/node /usr/bin/node
<span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> nrm
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /home/usr/v18.20.7-linux-x64/bin/nrm /usr/bin/nrm
</code></pre>
    <h4>
     <a id="16maven_95">
     </a>
     1.6.
     <strong>
      修改maven源
     </strong>
    </h4>
    <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/SETTINGS/1.0.0<span class="token punctuation">"</span></span>
          <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
          <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/SETTINGS/1.0.0 https://maven.apache.org/xsd/settings-1.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrors</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- 镜像：阿里云仓库代理 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>aliyun-central<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>https://maven.aliyun.com/repository/public<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>*,!cloudera-releases,!snapshots,!cloudera,!huawei-obs-sdk<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrors</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <p>
     <strong>
      验证maven源
     </strong>
    </p>
    <pre><code class="prism language-bash">mvn help:effective-settings
<span class="token comment"># 过程中 mvn 报错oom，添加以下参数</span>
    <span class="token comment"># ​-Xmx8192m：最大堆内存提升至8GB（根据物理内存调整）</span>
    <span class="token comment"># -XX:+UseG1GC：使用G1垃圾回收器优化内存回收效率</span>
<span class="token builtin class-name">echo</span> <span class="token string">'MAVEN_OPTS="-Xms4096m -Xmx8192m  -XX:MaxMetaspaceSize=1024m" -XX:+UseG1GC -XX:+HeapDumpOnOutOfMemoryError"'</span> <span class="token operator">&gt;&gt;</span> /usr/bin/mvn
</code></pre>
    <h3>
     <a id="2__119">
     </a>
     <strong>
      2. 部署
     </strong>
    </h3>
    <h4>
     <a id="21_120">
     </a>
     <strong>
      2.1下载源码和三方依赖
     </strong>
    </h4>
    <pre><code class="prism language-bash"><span class="token function">wget</span> https://github.com/apache/doris-thirdparty/releases/download/automation-2.0/doris-thirdparty-prebuilt-linux-x86_64.tar.xz
<span class="token function">wget</span> https://dist.apache.org/repos/dist/release/doris/2.1/2.1.8.1/apache-doris-2.1.8.1-src.tar.gz
</code></pre>
    <h4>
     <a id="22_125">
     </a>
     <strong>
      2.2解压源码和三方依赖
     </strong>
    </h4>
    <pre><code class="prism language-bash"><span class="token function">tar</span> <span class="token parameter variable">-xJvf</span> doris-thirdparty-prebuilt-linux-x86_64.tar.xz
<span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> apache-doris-2.1.8.1-src.tar.gz
<span class="token function">mv</span> apache-doris-2.1.8.1-src doris-2.1.8
<span class="token function">mv</span> installed doris-2.1.8/
</code></pre>
    <h3>
     <a id="3__132">
     </a>
     <strong>
      3. 编译
     </strong>
    </h3>
    <h4>
     <a id="31FE_133">
     </a>
     <strong>
      3.1先编译FE试试
     </strong>
    </h4>
    <pre><code class="prism language-bash">
<span class="token comment"># 进目录</span>
<span class="token builtin class-name">cd</span> doris-2.1.8/
<span class="token comment"># 先编译FE，记得先看看公网网络通不通，这一步需要连接公网</span>
<span class="token function">sh</span> build.sh <span class="token parameter variable">--fe</span>


</code></pre>
    <h3>
     <a id="4__146">
     </a>
     <strong>
      4. 有图有真相
     </strong>
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/174892cfb0f54dddb9da510774735c07.png">
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/0c85aceecd84455dba8f04b6ad5e0ede.png"/>
     </img>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e63:73646e2e6e65742f7a70665f3934303831303635333834322f:61727469636c652f64657461696c732f313436323131353939" class_="artid" style="display:none">
 </p>
</div>


