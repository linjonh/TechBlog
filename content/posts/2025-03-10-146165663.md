---
layout: post
title: "单机和微服务的区别,微服务有什么问题数据一致性问题怎么解决幂等问题怎么解决"
date: 2025-03-10 22:24:47 +0800
description: "这种方法常用在非关键业务场景。: 在设计 API 时，应优先考虑幂等性，例如使用 POST 请求时，能保证在相同的请求下，对同一资源的影响相同。通过合理的架构设计、技术选择和业务逻辑约束，可以有效地解决微服务架构面临的挑战，达到高可用、可扩展的系统目标。: 记录操作的状态和结果，对于重复请求，根据状态决定是否执行或返回结果，确保相同的请求结果一致。: 微服务的引入增加了系统的复杂性，包括服务发现、负载均衡、容错机制、监控和日志等。: 在微服务架构中，调试和监控变得更加困难，需要更完善的日志管理和监控工具。"
keywords: "单机和微服务的区别，微服务有什么问题？数据一致性问题怎么解决？幂等问题怎么解决？"
categories: ['未分类']
tags: ['架构', '微服务', '云原生']
artid: "146165663"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146165663
    alt: "单机和微服务的区别,微服务有什么问题数据一致性问题怎么解决幂等问题怎么解决"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146165663
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146165663
cover: https://bing.ee123.net/img/rand?artid=146165663
image: https://bing.ee123.net/img/rand?artid=146165663
img: https://bing.ee123.net/img/rand?artid=146165663
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     单机和微服务的区别，微服务有什么问题？数据一致性问题怎么解决？幂等问题怎么解决？
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h4>
     <a id="_0">
     </a>
     单机与微服务的区别
    </h4>
    <ol>
     <li>
      <p>
       <strong>
        架构模式
       </strong>
       :
      </p>
      <ul>
       <li>
        <strong>
         单机架构
        </strong>
        : 整个应用程序部署在一台机器上，通常是一个大型的单体应用。所有的功能模块紧密耦合，难以单独进行升级与扩展。
       </li>
       <li>
        <strong>
         微服务架构
        </strong>
        : 应用程序被拆分为一组小的、独立的服务，每个服务通过API进行通信。服务可以被独立开发、部署和扩展。
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        部署与扩展
       </strong>
       :
      </p>
      <ul>
       <li>
        <strong>
         单机架构
        </strong>
        : 任何变更都需重新部署整个应用，扩展通常需要增加更强的单一硬件。
       </li>
       <li>
        <strong>
         微服务架构
        </strong>
        : 每个服务可以独立部署，支持快速迭代与独立扩展，容易应对高并发请求。
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        技术栈
       </strong>
       :
      </p>
      <ul>
       <li>
        <strong>
         单机架构
        </strong>
        : 一般使用统一的技术栈。
       </li>
       <li>
        <strong>
         微服务架构
        </strong>
        : 各个服务可以使用不同的技术栈，适合不同的业务需求。
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        团队分工
       </strong>
       :
      </p>
      <ul>
       <li>
        <strong>
         单机架构
        </strong>
        ：团队通常较小，涉及多个领域。
       </li>
       <li>
        <strong>
         微服务架构
        </strong>
        ：团队可以围绕每个服务进行组织，各个团队之间相对独立。
       </li>
      </ul>
     </li>
    </ol>
    <h4>
     <a id="_18">
     </a>
     微服务面临的问题
    </h4>
    <ol>
     <li>
      <p>
       <strong>
        数据一致性
       </strong>
       : 微服务架构通常涉及多个服务和数据库，这使得保证数据一致性变得复杂。尤其是在分布式系统中，更新一个服务的状态可能需要涉及多个其他服务。
      </p>
     </li>
     <li>
      <p>
       <strong>
        网络延迟
       </strong>
       : 微服务之间的调用要通过网络进行，因此网络延迟可能成为性能瓶颈。相对于单体架构，微服务架构可能会引入更多的延迟。
      </p>
     </li>
     <li>
      <p>
       <strong>
        复杂性
       </strong>
       : 微服务的引入增加了系统的复杂性，包括服务发现、负载均衡、容错机制、监控和日志等。
      </p>
     </li>
     <li>
      <p>
       <strong>
        分布式调试与监控
       </strong>
       : 在微服务架构中，调试和监控变得更加困难，需要更完善的日志管理和监控工具。
      </p>
     </li>
     <li>
      <p>
       <strong>
        幂等性
       </strong>
       : 幂等性是指某个操作可以执行多次，但结果保持不变。微服务之间的调用需要确保幂等性，特别是在重试的情况下。
      </p>
     </li>
    </ol>
    <h4>
     <a id="_30">
     </a>
     数据一致性问题解决方案
    </h4>
    <ol>
     <li>
      <p>
       <strong>
        最终一致性
       </strong>
       : 允许系统在短时间内处于不一致状态，经过一段时间后，系统会自动将数据同步到一致状态。这种方法常用在非关键业务场景。
      </p>
     </li>
     <li>
      <p>
       <strong>
        分布式事务
       </strong>
       : 使用分布式事务管理器（如 Saga 模式 或 两阶段提交（2PC））来确保各个服务中的数据一致性。
      </p>
     </li>
     <li>
      <p>
       <strong>
        事件驱动架构
       </strong>
       : 通过发布/订阅模式发送事件，异步处理更新，达到数据的最终一致性。
      </p>
     </li>
    </ol>
    <h4>
     <a id="_38">
     </a>
     幂等问题解决方案
    </h4>
    <ol>
     <li>
      <p>
       <strong>
        唯一标识符
       </strong>
       : 在请求中加入唯一标识符（如 UUID），服务端根据唯一标识是否接收并处理请求，避免重复操作。
      </p>
     </li>
     <li>
      <p>
       <strong>
        状态记录
       </strong>
       : 记录操作的状态和结果，对于重复请求，根据状态决定是否执行或返回结果，确保相同的请求结果一致。
      </p>
     </li>
     <li>
      <p>
       <strong>
        设计接口
       </strong>
       : 在设计 API 时，应优先考虑幂等性，例如使用 POST 请求时，能保证在相同的请求下，对同一资源的影响相同。
      </p>
     </li>
    </ol>
    <p>
     通过合理的架构设计、技术选择和业务逻辑约束，可以有效地解决微服务架构面临的挑战，达到高可用、可扩展的系统目标。
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/d32797b6f77e44008af0efe583e2af04.png"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323530385f39303538303439322f:61727469636c652f64657461696c732f313436313635363633" class_="artid" style="display:none">
 </p>
</div>


