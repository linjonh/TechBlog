---
layout: post
title: "amis百度前端框架解决跨域问题"
date: 2023-01-15 15:26:25 +0800
description: "本文介绍了在前后端分离项目中，如何在同一个服务器上处理amis前端框架遇到的跨域问题。通过将后端服务"
keywords: "amis 跨域"
categories: ['新Ros专栏']
tags: ['运维', '跨域', '服务器', '前端', 'Amis']
artid: "128694728"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=128694728
    alt: "amis百度前端框架解决跨域问题"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=128694728
featuredImagePreview: https://bing.ee123.net/img/rand?artid=128694728
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     amis百度前端框架解决跨域问题
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     amis百度前端框架跨域问题
    </p>
    <p>
     前后端分离项目，两个项目在同一个服务器上
    </p>
    <p>
     nginx 服务器端口：9001
    </p>
    <p>
     后端服务端口：5001
    </p>
    <p>
     amis项目配置：
    </p>
    <p>
     api访问后端的 地址和端口：http://127.0.0.1:5001/api/user
    </p>
    <p>
     当前端访问后端时发生跨域问题：
    </p>
    <p>
     解决思路：nginx反向代理解决跨域
    </p>
    <p>
     配置nginx：
    </p>
    <pre><code>sudo gedit /etc/nginx/sites-enabled/default</code></pre>
    <pre><code>location ^~ /api/{

         proxy_pass http://127.0.0.1:5001/api/;

        }</code></pre>
    <p>
     解释： ^~ /api/ 匹配所有带 /api/ 路由的请求；
    </p>
    <pre>重启 nginx:
   </pre>
    <pre><code> sudo service nginx restart</code></pre>
    <p>
     amis项目重新配置：
    </p>
    <p>
     api访问后端的地址和端口：http://127.0.0.1:9001/api/user
    </p>
    <p>
     通过http://127.0.0.1:9001/api/user这个接口访问nginx，由nginx转发  http://127.0.0.1:5001/api//user 给后端服务器
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f31353230343137392f:61727469636c652f64657461696c732f313238363934373238" class_="artid" style="display:none">
 </p>
</div>


