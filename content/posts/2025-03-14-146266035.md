---
layout: post
title: "使用yolov8flask实现精美登录界面图片视频摄像头检测系统"
date: 2025-03-14 19:51:03 +0800
description: "这个是使用flask实现好看登录界面和友好的检测界面实现yolov8推理和展示，代码仅仅有2个html文件和一个python文件，真正做到了用最简洁的代码实现复杂功能。运行步骤： 安装好环境执行python login.py。"
keywords: "flask双目检测系统"
categories: ['深度学习']
tags: ['Yolo', 'Python', 'Flask']
artid: "146266035"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146266035
    alt: "使用yolov8flask实现精美登录界面图片视频摄像头检测系统"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146266035
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146266035
cover: https://bing.ee123.net/img/rand?artid=146266035
image: https://bing.ee123.net/img/rand?artid=146266035
img: https://bing.ee123.net/img/rand?artid=146266035
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     使用yolov8+flask实现精美登录界面+图片视频摄像头检测系统
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     这个是使用flask实现好看登录界面和友好的检测界面实现yolov8推理和展示，代码仅仅有2个html文件和一个python文件，真正做到了用最简洁的代码实现复杂功能。
    </p>
    <p>
     测试通过环境：
    </p>
    <p>
     windows x64
    </p>
    <p>
     anaconda3+python3.8
    </p>
    <p>
     ultralytics==8.3.81
    </p>
    <p>
     flask==1.1.2
    </p>
    <p>
     torch==2.3.0
    </p>
    <p>
     运行步骤： 安装好环境执行python login.py
    </p>
    <p>
     后端实现代码：
    </p>
    <pre><code class="hljs">from flask import Flask, render_template, request, redirect, url_for, session, flash, Response, jsonify
import os
from functools import wraps
from ultralytics import YOLO
import cv2
import numpy as np
import base64
import json

app = Flask(__name__)
app.secret_key = 'your_secret_key'  # 设置密钥用于session

# 初始化YOLOv8模型
model = YOLO('yolov8n.pt')  # 或使用其他版本如 yolov8s.pt, yolov8m.pt

# 登录验证装饰器
def login_required(f):
    @wraps(f)
    def decorated_function(*args, **kwargs):
        if 'logged_in' not in session:
            return redirect(url_for('login'))
        return f(*args, **kwargs)
    return decorated_function

# 登录路由
@app.route('/', methods=['GET', 'POST'])
@app.route('/login', methods=['GET', 'POST'])
def login():
    if request.method == 'POST':
        username = request.form['username']
        password = request.form['password']
        
        if username == 'admin' and password == 'admin':
            session['logged_in'] = True
            return redirect(url_for('detection'))
        else:
            flash('Invalid username or password!')
            
    return render_template('login.html')

# 目标检测路由
@app.route('/detection')
@login_required
def detection():
    return render_template('detection.html')

@app.route('/detect', methods=['POST'])
@login_required
def detect():
    try:
        data = request.json
        image_data = data['image'].split(',')[1]
        confidence = float(data['confidence'])
        iou = float(data['iou'])
        
        # 解码base64图像
        image_bytes = base64.b64decode(image_data)
        nparr = np.frombuffer(image_bytes, np.uint8)
        image = cv2.imdecode(nparr, cv2.IMREAD_COLOR)
        
        # 运行检测
        results = model(image, conf=confidence, iou=iou)[0]
        
        # 在图像上绘制检测结果
        for box in results.boxes:
            x1, y1, x2, y2 = map(int, box.xyxy[0])
            conf = float(box.conf[0])
            cls = int(box.cls[0])
            label = f'{results.names[cls]} {conf:.2f}'
            
            cv2.rectangle(image, (x1, y1), (x2, y2), (0, 255, 0), 2)
            cv2.putText(image, label, (x1, y1 - 10), cv2.FONT_HERSHEY_SIMPLEX, 0.5, (0, 255, 0), 2)
        
        # 将结果图像转换为base64
        _, buffer = cv2.imencode('.jpg', image)
        image_base64 = base64.b64encode(buffer).decode('utf-8')
        
        return jsonify({
            'success': True,
            'image': f'data:image/jpeg;base64,{image_base64}'
        })
        
    except Exception as e:
        return jsonify({
            'success': False,
            'error': str(e)
        })

@app.route('/detect_video_frame', methods=['POST'])
@login_required
def detect_video_frame():
    # 类似于detect路由，但专门处理视频帧
    # ... implementation similar to detect route ...
    pass

if __name__ == '__main__':
    app.run(debug=True)
</code></pre>
    <p>
     登录界面：
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/8e4dc809e0214b098db551e4ae6cfbab.jpeg"/>
    </p>
    <p>
     目标检测界面：
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/ed241d57d2c5461d9453020595c140e9.jpeg"/>
    </p>
    <p>
    </p>
   </div>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f626c:6f672e6373646e2e6e65742f464c313632333836333132392f:61727469636c652f64657461696c732f313436323636303335" class_="artid" style="display:none">
 </p>
</div>


