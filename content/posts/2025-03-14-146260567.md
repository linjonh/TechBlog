---
layout: post
title: "计算机图形学第二课笔记-二维变换的推导"
date: 2025-03-14 23:45:30 +0800
description: "然而x,y又是已知的，那不就是用已知的x,y去乘我们旋转的β角的cos和sin么，至此答案已经很清晰了，可以说这篇博客要说的已经说完了，您仅需初中知识就可以理解这一切，后续的剩下的推导也只是上述思考过程的重复，当然我们还是要写完这一切。我们终于白话完了，正文开始，在一个坐标系内一个点绕着原点o旋转一定的度数，旋转到新的一个点，求这个点在这个坐标系内的位置，也就是新的点位的x’的长度和y’的长度。最后我们把他写成矩阵的形式就是下面的式子，我们需要注意的是矩阵乘法并不满足交换律，so，我们不能调换位置。"
keywords: "《计算机图形学》第二课笔记-----二维变换的推导"
categories: ['Opengl']
tags: ['笔记', '学习']
artid: "146260567"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146260567
    alt: "计算机图形学第二课笔记-二维变换的推导"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146260567
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146260567
cover: https://bing.ee123.net/img/rand?artid=146260567
image: https://bing.ee123.net/img/rand?artid=146260567
img: https://bing.ee123.net/img/rand?artid=146260567
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     《计算机图形学》第二课笔记-----二维变换的推导
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <blockquote>
     <p>
      <strong>
       <code>
        前言：为什么这么突兀的把这一节内容放在了第二课，第一是因为我急于求成，第二是因为这一章节太重要了，这几乎是二维三维变换的最核心的东西，理解了这一章节内容，后面的就会像打通了任督二脉一样，so,那让我们开始吧，我们只用初中的知识把这一章说清楚
       </code>
      </strong>
     </p>
    </blockquote>
    <blockquote>
     <h3>
      <a id="_3">
      </a>
      所谓的二维变换核心的东西其实就是求一个点绕一个点旋转后的位置
     </h3>
    </blockquote>
    <blockquote>
     <p>
      <strong>
       让我们对这段话进行一些约束
      </strong>
      ，在一个去掉了Z轴的笛卡尔坐标系内，让我们再大白话点，在一个平面坐标系内，让我们再大白话点，就是小时候上数学课时候老师在黑板上化的那个一横一竖，上面一个箭头，前面一个箭头那种坐标系内
      <br/>
      我们终于白话完了，正文开始，在一个坐标系内一个点绕着原点o旋转一定的度数，旋转到新的一个点，求这个点在这个坐标系内的位置，也就是新的点位的x’的长度和y’的长度。
      <br/>
      结合下图描述了一个已知的点[x,y]，沿原点o旋转了β度到达了新的点[x’,y’],求[x’,y’]的位置
      <br/>
      我们需要了解的前提是[x,y]是已知的
      <br/>
      那么x’也可以写成r*cos(α+β),因为我们是绕原点旋转，等于在绕原点画圆，so，每一个半径都应该是相等的，记住这个前提，后面要用。
     </p>
    </blockquote>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/3c7396b782324b5eb0109cdd832343af.jpeg"/>
    </p>
    <blockquote>
     <p>
      <span class="katex--display">
       <span class="katex-display">
        <span class="katex">
         <span class="katex-mathml">
          x 
           
          
            ′ 
           
          
         
           = 
          
         
           r 
          
         
           ∗ 
          
         
           c 
          
         
           o 
          
         
           s 
          
         
           ( 
          
         
           α 
          
         
           + 
          
         
           β 
          
         
           ） 
          
         
        
          x'=r*cos(α+β）
         </span>
         <span class="katex-html">
          <span class="base">
           <span class="strut" style="height: 0.8019em;">
           </span>
           <span class="mord">
            <span class="mord mathnormal">
             x
            </span>
            <span class="msupsub">
             <span class="vlist-t">
              <span class="vlist-r">
               <span class="vlist" style="height: 0.8019em;">
                <span class="" style="top: -3.113em; margin-right: 0.05em;">
                 <span class="pstrut" style="height: 2.7em;">
                 </span>
                 <span class="sizing reset-size6 size3 mtight">
                  <span class="mord mtight">
                   <span class="mord mtight">
                    ′
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
           </span>
           <span class="mspace" style="margin-right: 0.2778em;">
           </span>
           <span class="mrel">
            =
           </span>
           <span class="mspace" style="margin-right: 0.2778em;">
           </span>
          </span>
          <span class="base">
           <span class="strut" style="height: 0.4653em;">
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0278em;">
            r
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
           <span class="mbin">
            ∗
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
          </span>
          <span class="base">
           <span class="strut" style="height: 1em; vertical-align: -0.25em;">
           </span>
           <span class="mord mathnormal">
            cos
           </span>
           <span class="mopen">
            (
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0037em;">
            α
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
           <span class="mbin">
            +
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
          </span>
          <span class="base">
           <span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;">
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0528em;">
            β
           </span>
           <span class="mord cjk_fallback">
            ）
           </span>
          </span>
         </span>
        </span>
       </span>
      </span>
      <br/>
      上面这个式子应该很好理解，如果不理解可以只补一下三角函数的cos 和 sin即可
     </p>
    </blockquote>
    <blockquote>
     <p>
      接下来我们展开这个式子，有人可能会在这里卡住一下，但这其实都是固定推导您只需复制展开前的式子问下一ai，他会说的比我清楚多了，总而言之如果您不想深究，不用理会为什么展开以后是这样子，直接过即可
      <br/>
      <span class="katex--display">
       <span class="katex-display">
        <span class="katex">
         <span class="katex-mathml">
          x 
           
          
            ′ 
           
          
         
           = 
          
         
           r 
          
         
           ∗ 
          
         
           c 
          
         
           o 
          
         
           s 
          
         
           α 
          
         
           ∗ 
          
         
           c 
          
         
           o 
          
         
           s 
          
         
           β 
          
         
           − 
          
         
           r 
          
         
           ∗ 
          
         
           s 
          
         
           i 
          
         
           n 
          
         
           α 
          
         
           ∗ 
          
         
           s 
          
         
           i 
          
         
           n 
          
         
           β 
          
         
        
          x'=r*cosα*cosβ-r*sinα*sinβ
         </span>
         <span class="katex-html">
          <span class="base">
           <span class="strut" style="height: 0.8019em;">
           </span>
           <span class="mord">
            <span class="mord mathnormal">
             x
            </span>
            <span class="msupsub">
             <span class="vlist-t">
              <span class="vlist-r">
               <span class="vlist" style="height: 0.8019em;">
                <span class="" style="top: -3.113em; margin-right: 0.05em;">
                 <span class="pstrut" style="height: 2.7em;">
                 </span>
                 <span class="sizing reset-size6 size3 mtight">
                  <span class="mord mtight">
                   <span class="mord mtight">
                    ′
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
           </span>
           <span class="mspace" style="margin-right: 0.2778em;">
           </span>
           <span class="mrel">
            =
           </span>
           <span class="mspace" style="margin-right: 0.2778em;">
           </span>
          </span>
          <span class="base">
           <span class="strut" style="height: 0.4653em;">
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0278em;">
            r
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
           <span class="mbin">
            ∗
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
          </span>
          <span class="base">
           <span class="strut" style="height: 0.4653em;">
           </span>
           <span class="mord mathnormal">
            cos
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0037em;">
            α
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
           <span class="mbin">
            ∗
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
          </span>
          <span class="base">
           <span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;">
           </span>
           <span class="mord mathnormal">
            cos
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0528em;">
            β
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
           <span class="mbin">
            −
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
          </span>
          <span class="base">
           <span class="strut" style="height: 0.4653em;">
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0278em;">
            r
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
           <span class="mbin">
            ∗
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
          </span>
          <span class="base">
           <span class="strut" style="height: 0.6595em;">
           </span>
           <span class="mord mathnormal">
            s
           </span>
           <span class="mord mathnormal">
            in
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0037em;">
            α
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
           <span class="mbin">
            ∗
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
          </span>
          <span class="base">
           <span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;">
           </span>
           <span class="mord mathnormal">
            s
           </span>
           <span class="mord mathnormal">
            in
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0528em;">
            β
           </span>
          </span>
         </span>
        </span>
       </span>
      </span>
     </p>
    </blockquote>
    <blockquote>
     <p>
      当我们观察展开的式子，这个时候神奇的事情发生了，r*cosα，不就是
      <span class="katex--display">
       <span class="katex-display">
        <span class="katex">
         <span class="katex-mathml">
          r 
          
          
          
            x 
           
          
            r 
           
          
         
        
          r\frac{x}{r}
         </span>
         <span class="katex-html">
          <span class="base">
           <span class="strut" style="height: 1.7936em; vertical-align: -0.686em;">
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0278em;">
            r
           </span>
           <span class="mord">
            <span class="mopen nulldelimiter">
            </span>
            <span class="mfrac">
             <span class="vlist-t vlist-t2">
              <span class="vlist-r">
               <span class="vlist" style="height: 1.1076em;">
                <span class="" style="top: -2.314em;">
                 <span class="pstrut" style="height: 3em;">
                 </span>
                 <span class="mord">
                  <span class="mord mathnormal" style="margin-right: 0.0278em;">
                   r
                  </span>
                 </span>
                </span>
                <span class="" style="top: -3.23em;">
                 <span class="pstrut" style="height: 3em;">
                 </span>
                 <span class="frac-line" style="border-bottom-width: 0.04em;">
                 </span>
                </span>
                <span class="" style="top: -3.677em;">
                 <span class="pstrut" style="height: 3em;">
                 </span>
                 <span class="mord">
                  <span class="mord mathnormal">
                   x
                  </span>
                 </span>
                </span>
               </span>
               <span class="vlist-s">
                ​
               </span>
              </span>
              <span class="vlist-r">
               <span class="vlist" style="height: 0.686em;">
                <span class="">
                </span>
               </span>
              </span>
             </span>
            </span>
            <span class="mclose nulldelimiter">
            </span>
           </span>
          </span>
         </span>
        </span>
       </span>
      </span>
      ,约分以后不就是x么
      <br/>
      我们再观察r*sinα，那不就是
      <span class="katex--display">
       <span class="katex-display">
        <span class="katex">
         <span class="katex-mathml">
          r 
          
          
          
            y 
           
          
            r 
           
          
         
        
          r\frac{y}{r}
         </span>
         <span class="katex-html">
          <span class="base">
           <span class="strut" style="height: 1.7936em; vertical-align: -0.686em;">
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0278em;">
            r
           </span>
           <span class="mord">
            <span class="mopen nulldelimiter">
            </span>
            <span class="mfrac">
             <span class="vlist-t vlist-t2">
              <span class="vlist-r">
               <span class="vlist" style="height: 1.1076em;">
                <span class="" style="top: -2.314em;">
                 <span class="pstrut" style="height: 3em;">
                 </span>
                 <span class="mord">
                  <span class="mord mathnormal" style="margin-right: 0.0278em;">
                   r
                  </span>
                 </span>
                </span>
                <span class="" style="top: -3.23em;">
                 <span class="pstrut" style="height: 3em;">
                 </span>
                 <span class="frac-line" style="border-bottom-width: 0.04em;">
                 </span>
                </span>
                <span class="" style="top: -3.677em;">
                 <span class="pstrut" style="height: 3em;">
                 </span>
                 <span class="mord">
                  <span class="mord mathnormal" style="margin-right: 0.0359em;">
                   y
                  </span>
                 </span>
                </span>
               </span>
               <span class="vlist-s">
                ​
               </span>
              </span>
              <span class="vlist-r">
               <span class="vlist" style="height: 0.686em;">
                <span class="">
                </span>
               </span>
              </span>
             </span>
            </span>
            <span class="mclose nulldelimiter">
            </span>
           </span>
          </span>
         </span>
        </span>
       </span>
      </span>
      ,约分以后那不就是y么
     </p>
    </blockquote>
    <blockquote>
     <p>
      然而x,y又是已知的，那不就是用已知的x,y去乘我们旋转的β角的cos和sin么，至此答案已经很清晰了，可以说这篇博客要说的已经说完了，您仅需初中知识就可以理解这一切，后续的剩下的推导也只是上述思考过程的重复，当然我们还是要写完这一切。
     </p>
    </blockquote>
    <blockquote>
     <p>
      <span class="katex--display">
       <span class="katex-display">
        <span class="katex">
         <span class="katex-mathml">
          x 
           
          
            ′ 
           
          
         
           = 
          
         
           x 
          
         
           ∗ 
          
         
           c 
          
         
           o 
          
         
           s 
          
         
           β 
          
         
           − 
          
         
           y 
          
         
           ∗ 
          
         
           s 
          
         
           i 
          
         
           n 
          
         
           β 
          
         
        
          x'=x*cosβ-y*sinβ
         </span>
         <span class="katex-html">
          <span class="base">
           <span class="strut" style="height: 0.8019em;">
           </span>
           <span class="mord">
            <span class="mord mathnormal">
             x
            </span>
            <span class="msupsub">
             <span class="vlist-t">
              <span class="vlist-r">
               <span class="vlist" style="height: 0.8019em;">
                <span class="" style="top: -3.113em; margin-right: 0.05em;">
                 <span class="pstrut" style="height: 2.7em;">
                 </span>
                 <span class="sizing reset-size6 size3 mtight">
                  <span class="mord mtight">
                   <span class="mord mtight">
                    ′
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
           </span>
           <span class="mspace" style="margin-right: 0.2778em;">
           </span>
           <span class="mrel">
            =
           </span>
           <span class="mspace" style="margin-right: 0.2778em;">
           </span>
          </span>
          <span class="base">
           <span class="strut" style="height: 0.4653em;">
           </span>
           <span class="mord mathnormal">
            x
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
           <span class="mbin">
            ∗
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
          </span>
          <span class="base">
           <span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;">
           </span>
           <span class="mord mathnormal">
            cos
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0528em;">
            β
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
           <span class="mbin">
            −
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
          </span>
          <span class="base">
           <span class="strut" style="height: 0.6597em; vertical-align: -0.1944em;">
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0359em;">
            y
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
           <span class="mbin">
            ∗
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
          </span>
          <span class="base">
           <span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;">
           </span>
           <span class="mord mathnormal">
            s
           </span>
           <span class="mord mathnormal">
            in
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0528em;">
            β
           </span>
          </span>
         </span>
        </span>
       </span>
      </span>
      <br/>
      <span class="katex--display">
       <span class="katex-display">
        <span class="katex">
         <span class="katex-mathml">
          y 
           
          
            ′ 
           
          
         
           = 
          
         
           x 
          
         
           ∗ 
          
         
           s 
          
         
           i 
          
         
           n 
          
         
           β 
          
         
           + 
          
         
           y 
          
         
           ∗ 
          
         
           c 
          
         
           o 
          
         
           s 
          
         
           β 
          
         
        
          y'=x*sinβ+y*cosβ
         </span>
         <span class="katex-html">
          <span class="base">
           <span class="strut" style="height: 0.9963em; vertical-align: -0.1944em;">
           </span>
           <span class="mord">
            <span class="mord mathnormal" style="margin-right: 0.0359em;">
             y
            </span>
            <span class="msupsub">
             <span class="vlist-t">
              <span class="vlist-r">
               <span class="vlist" style="height: 0.8019em;">
                <span class="" style="top: -3.113em; margin-right: 0.05em;">
                 <span class="pstrut" style="height: 2.7em;">
                 </span>
                 <span class="sizing reset-size6 size3 mtight">
                  <span class="mord mtight">
                   <span class="mord mtight">
                    ′
                   </span>
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
           </span>
           <span class="mspace" style="margin-right: 0.2778em;">
           </span>
           <span class="mrel">
            =
           </span>
           <span class="mspace" style="margin-right: 0.2778em;">
           </span>
          </span>
          <span class="base">
           <span class="strut" style="height: 0.4653em;">
           </span>
           <span class="mord mathnormal">
            x
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
           <span class="mbin">
            ∗
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
          </span>
          <span class="base">
           <span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;">
           </span>
           <span class="mord mathnormal">
            s
           </span>
           <span class="mord mathnormal">
            in
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0528em;">
            β
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
           <span class="mbin">
            +
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
          </span>
          <span class="base">
           <span class="strut" style="height: 0.6597em; vertical-align: -0.1944em;">
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0359em;">
            y
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
           <span class="mbin">
            ∗
           </span>
           <span class="mspace" style="margin-right: 0.2222em;">
           </span>
          </span>
          <span class="base">
           <span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;">
           </span>
           <span class="mord mathnormal">
            cos
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0528em;">
            β
           </span>
          </span>
         </span>
        </span>
       </span>
      </span>
     </p>
    </blockquote>
    <blockquote>
     <p>
      最后我们把他写成矩阵的形式就是下面的式子，我们需要注意的是矩阵乘法并不满足交换律，so，我们不能调换位置
     </p>
    </blockquote>
    <blockquote>
     <p>
      <span class="katex--display">
       <span class="katex-display">
        <span class="katex">
         <span class="katex-mathml">
          [ 
           
           
            
             
              
               
               
                 c 
                
               
                 o 
                
               
                 s 
                
               
                 β 
                
               
              
             
             
              
               
               
                 − 
                
               
                 s 
                
               
                 i 
                
               
                 n 
                
               
                 β 
                
               
              
             
            
            
             
              
               
               
                 s 
                
               
                 i 
                
               
                 n 
                
               
                 β 
                
               
              
             
             
              
               
               
                 c 
                
               
                 o 
                
               
                 s 
                
               
                 β 
                
               
              
             
            
           
          
            ] 
           
          
          
          
            [ 
           
           
            
             
              
              
                x 
               
              
             
            
            
             
              
              
                y 
               
              
             
            
           
          
            ] 
           
          
         
        
          \begin{bmatrix} cosβ &amp; -sinβ \\ sinβ &amp; cosβ \\ \end{bmatrix}\begin{bmatrix} x\\ y\\ \end{bmatrix}
         </span>
         <span class="katex-html">
          <span class="base">
           <span class="strut" style="height: 2.4em; vertical-align: -0.95em;">
           </span>
           <span class="minner">
            <span class="mopen delimcenter" style="top: 0em;">
             <span class="delimsizing size3">
              [
             </span>
            </span>
            <span class="mord">
             <span class="mtable">
              <span class="col-align-c">
               <span class="vlist-t vlist-t2">
                <span class="vlist-r">
                 <span class="vlist" style="height: 1.45em;">
                  <span class="" style="top: -3.61em;">
                   <span class="pstrut" style="height: 3em;">
                   </span>
                   <span class="mord">
                    <span class="mord mathnormal">
                     cos
                    </span>
                    <span class="mord mathnormal" style="margin-right: 0.0528em;">
                     β
                    </span>
                   </span>
                  </span>
                  <span class="" style="top: -2.41em;">
                   <span class="pstrut" style="height: 3em;">
                   </span>
                   <span class="mord">
                    <span class="mord mathnormal">
                     s
                    </span>
                    <span class="mord mathnormal">
                     in
                    </span>
                    <span class="mord mathnormal" style="margin-right: 0.0528em;">
                     β
                    </span>
                   </span>
                  </span>
                 </span>
                 <span class="vlist-s">
                  ​
                 </span>
                </span>
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.95em;">
                  <span class="">
                  </span>
                 </span>
                </span>
               </span>
              </span>
              <span class="arraycolsep" style="width: 0.5em;">
              </span>
              <span class="arraycolsep" style="width: 0.5em;">
              </span>
              <span class="col-align-c">
               <span class="vlist-t vlist-t2">
                <span class="vlist-r">
                 <span class="vlist" style="height: 1.45em;">
                  <span class="" style="top: -3.61em;">
                   <span class="pstrut" style="height: 3em;">
                   </span>
                   <span class="mord">
                    <span class="mord">
                     −
                    </span>
                    <span class="mord mathnormal">
                     s
                    </span>
                    <span class="mord mathnormal">
                     in
                    </span>
                    <span class="mord mathnormal" style="margin-right: 0.0528em;">
                     β
                    </span>
                   </span>
                  </span>
                  <span class="" style="top: -2.41em;">
                   <span class="pstrut" style="height: 3em;">
                   </span>
                   <span class="mord">
                    <span class="mord mathnormal">
                     cos
                    </span>
                    <span class="mord mathnormal" style="margin-right: 0.0528em;">
                     β
                    </span>
                   </span>
                  </span>
                 </span>
                 <span class="vlist-s">
                  ​
                 </span>
                </span>
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.95em;">
                  <span class="">
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
            <span class="mclose delimcenter" style="top: 0em;">
             <span class="delimsizing size3">
              ]
             </span>
            </span>
           </span>
           <span class="mspace" style="margin-right: 0.1667em;">
           </span>
           <span class="minner">
            <span class="mopen delimcenter" style="top: 0em;">
             <span class="delimsizing size3">
              [
             </span>
            </span>
            <span class="mord">
             <span class="mtable">
              <span class="col-align-c">
               <span class="vlist-t vlist-t2">
                <span class="vlist-r">
                 <span class="vlist" style="height: 1.45em;">
                  <span class="" style="top: -3.61em;">
                   <span class="pstrut" style="height: 3em;">
                   </span>
                   <span class="mord">
                    <span class="mord mathnormal">
                     x
                    </span>
                   </span>
                  </span>
                  <span class="" style="top: -2.41em;">
                   <span class="pstrut" style="height: 3em;">
                   </span>
                   <span class="mord">
                    <span class="mord mathnormal" style="margin-right: 0.0359em;">
                     y
                    </span>
                   </span>
                  </span>
                 </span>
                 <span class="vlist-s">
                  ​
                 </span>
                </span>
                <span class="vlist-r">
                 <span class="vlist" style="height: 0.95em;">
                  <span class="">
                  </span>
                 </span>
                </span>
               </span>
              </span>
             </span>
            </span>
            <span class="mclose delimcenter" style="top: 0em;">
             <span class="delimsizing size3">
              ]
             </span>
            </span>
           </span>
          </span>
         </span>
        </span>
       </span>
      </span>
     </p>
    </blockquote>
    <blockquote>
     <p>
      <strong>
       <code>
        当然我们需要注意，当前我们讨论的是逆时针旋转这种情况，顺时针的推到过程在下下张图
       </code>
      </strong>
     </p>
    </blockquote>
    <blockquote>
     <p>
      <strong>
       那么剩下的顺时针推导我们就不写这么详细了，因为一切已经不言自明了，下一节我们就去到代码层面去实现它，平移我们也就不在此解释了，因为那些比这个容易理解的多。
      </strong>
     </p>
    </blockquote>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/c7e15bb282d44f7783308588a307b668.png"/>
    </p>
    <blockquote>
     <p>
      原因如上，顺时针的推导就不赘述了
     </p>
    </blockquote>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/ffbe9f7c2e9b43ebaff54ad3121b52aa.png"/>
    </p>
    <blockquote>
     <h3>
      <a id="UIc_qt5qt5opengl_49">
      </a>
      现在我们来到代码层面，UI框架选择c++ qt5，因为我更熟悉这个框架，而且如果我们仅仅知识为了演示二维变换的推导，qt5足够了，主要原因还是我足够熟悉。不用opengl是因为我们像尽其可能的展示细节，而不是直接调用显卡为我们实现好的接口。
     </h3>
    </blockquote>
    <blockquote>
     <p>
      头文件
     </p>
    </blockquote>
    <pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">TWOCUBE_1_H </span><span class="token comment">// 防止头文件被重复包含</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">TWOCUBE_1_H</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QWidget&gt;</span> <span class="token comment">// 包含QWidget类，用于创建窗口</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QTimer&gt;</span>  <span class="token comment">// 包含QTimer类，用于定时器功能</span></span>

<span class="token comment">// TwoCube_1类继承自QWidget，用于创建自定义窗口</span>
<span class="token keyword">class</span> <span class="token class-name">TwoCube_1</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QWidget</span></span>
<span class="token punctuation">{<!-- --></span>
    Q_OBJECT <span class="token comment">// 启用Qt的元对象系统，支持信号和槽机制</span>

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token comment">// 构造函数，参数为父窗口指针</span>
    <span class="token function">TwoCube_1</span><span class="token punctuation">(</span>QWidget<span class="token operator">*</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 析构函数</span>
    <span class="token operator">~</span><span class="token function">TwoCube_1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">protected</span><span class="token operator">:</span>
    <span class="token comment">// 重写paintEvent函数，用于处理窗口的绘制事件</span>
    <span class="token keyword">void</span> <span class="token function">paintEvent</span><span class="token punctuation">(</span>QPaintEvent<span class="token operator">*</span> event<span class="token punctuation">)</span> <span class="token keyword">override</span><span class="token punctuation">;</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    QList<span class="token operator">&lt;</span>QPointF<span class="token operator">&gt;</span> rectPoints<span class="token punctuation">;</span>  <span class="token comment">// 用于存储矩形的顶点坐标（2D坐标）</span>
    <span class="token keyword">int</span> angle <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>              <span class="token comment">// 旋转角度，初始化为0</span>

    <span class="token keyword">float</span> rWidth <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span>         <span class="token comment">// 矩形的宽度</span>
    <span class="token keyword">float</span> rHeight <span class="token operator">=</span> <span class="token number">180</span><span class="token punctuation">;</span>        <span class="token comment">// 矩形的高度</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// TWOCUBE_1_H // 结束头文件定义</span></span>

</code></pre>
    <blockquote>
     <p>
      cpp文件
     </p>
    </blockquote>
    <pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"twocube_1.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QPainter&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QDebug&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cmath&gt;</span></span>

<span class="token comment">// 构造函数，初始化窗口和矩形点集</span>
<span class="token class-name">TwoCube_1</span><span class="token double-colon punctuation">::</span><span class="token function">TwoCube_1</span><span class="token punctuation">(</span>QWidget<span class="token operator">*</span> parent<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">QWidget</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 设置窗口的最小大小为800x800</span>
    <span class="token function">setMinimumSize</span><span class="token punctuation">(</span><span class="token number">800</span><span class="token punctuation">,</span> <span class="token number">800</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 初始化矩形的四个顶点坐标</span>
    rectPoints<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">QPointF</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// 左上角</span>
    rectPoints<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">QPointF</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>rHeight<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 左下角</span>
    rectPoints<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">QPointF</span><span class="token punctuation">(</span>rWidth<span class="token punctuation">,</span>rHeight<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 右下角</span>
    rectPoints<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">QPointF</span><span class="token punctuation">(</span>rWidth<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 右上角</span>

    <span class="token comment">// 创建定时器用于动画效果</span>
    QTimer<span class="token operator">*</span> timer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTimer</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 连接定时器的timeout信号到lambda表达式，每16ms触发一次</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>timer<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QTimer<span class="token double-colon punctuation">::</span>timeout<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        angle <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// 每次更新角度减少1度，顺时针旋转</span>
        <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 触发重绘事件</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    timer<span class="token operator">-&gt;</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 定时器每16ms触发一次，约60fps</span>
<span class="token punctuation">}</span>

<span class="token comment">// 析构函数</span>
<span class="token class-name">TwoCube_1</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">TwoCube_1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 析构函数为空，没有需要释放的资源</span>
<span class="token punctuation">}</span>

<span class="token comment">// 重写paintEvent函数，处理窗口的绘制事件</span>
<span class="token keyword">void</span> <span class="token class-name">TwoCube_1</span><span class="token double-colon punctuation">::</span><span class="token function">paintEvent</span><span class="token punctuation">(</span>QPaintEvent <span class="token operator">*</span>event<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    QPainter <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 创建QPainter对象，用于绘制</span>

    <span class="token comment">// 将绘制原点移动到窗口中心</span>
    painter<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 设置画笔颜色为黑色，线宽为1</span>
    painter<span class="token punctuation">.</span><span class="token function">setPen</span><span class="token punctuation">(</span><span class="token function">QPen</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>black<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 绘制X轴和Y轴</span>
    painter<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// X轴</span>
    painter<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Y轴</span>

    <span class="token comment">// 用于存储旋转后的矩形顶点</span>
    QList<span class="token operator">&lt;</span>QPointF<span class="token operator">&gt;</span> tempRectPoints<span class="token punctuation">;</span>

    <span class="token comment">// 对矩形的每个顶点进行旋转变换</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> rectPoints<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">float</span> x <span class="token operator">=</span> rectPoints<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 获取当前顶点的X坐标</span>
        <span class="token keyword">float</span> y <span class="token operator">=</span> rectPoints<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 获取当前顶点的Y坐标</span>

        <span class="token comment">// 计算旋转后的新坐标</span>
        <span class="token keyword">float</span> newX <span class="token operator">=</span> x <span class="token operator">*</span> <span class="token function">cos</span><span class="token punctuation">(</span>angle <span class="token operator">*</span> M_PI <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span> <span class="token operator">+</span> y <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span>angle <span class="token operator">*</span> M_PI <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">float</span> newY <span class="token operator">=</span> <span class="token operator">-</span>x <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span>angle <span class="token operator">*</span> M_PI <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span> <span class="token operator">+</span> y <span class="token operator">*</span> <span class="token function">cos</span><span class="token punctuation">(</span>angle <span class="token operator">*</span> M_PI <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 更新旋转后的坐标</span>
        x <span class="token operator">=</span> newX<span class="token punctuation">;</span>
        y <span class="token operator">=</span> newY<span class="token punctuation">;</span>

        <span class="token comment">// 将旋转后的点添加到临时列表中</span>
        QPointF <span class="token function">tempPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        tempRectPoints<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>tempPoint<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 设置画笔颜色为绿色，线宽为5</span>
    painter<span class="token punctuation">.</span><span class="token function">setPen</span><span class="token punctuation">(</span><span class="token function">QPen</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>green<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 绘制旋转后的矩形</span>
    painter<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span>tempRectPoints<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> tempRectPoints<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 左边</span>
    painter<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span>tempRectPoints<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> tempRectPoints<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 下边</span>
    painter<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span>tempRectPoints<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> tempRectPoints<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 右边</span>
    painter<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span>tempRectPoints<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> tempRectPoints<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 上边</span>
<span class="token punctuation">}</span>

</code></pre>
    <blockquote>
     <p>
      最后放上一张效果图
      <br/>
      <code>
       我们演示使用的是顺时针旋转，在一个定时器内每个16ms角度自身减1，重新触发绘制，这里一定要注意，一定是角度递减才是顺时针旋转，才能套用顺时针旋转的算法，让我们把代码摘出来再捋一遍
      </code>
     </p>
    </blockquote>
    <blockquote>
     <p>
      这行代码代表顺时针旋转
     </p>
    </blockquote>
    <pre><code class="prism language-cpp">angle <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// 每次更新角度减少1度，顺时针旋转</span>
</code></pre>
    <blockquote>
     <p>
      这段代码就是套用了顺时针旋转的算法，里面做了角度转弧度的处理，因为大部分编程语言只认弧度
     </p>
    </blockquote>
    <pre><code class="prism language-cpp"><span class="token comment">// 计算旋转后的新坐标</span>
        <span class="token keyword">float</span> newX <span class="token operator">=</span> x <span class="token operator">*</span> <span class="token function">cos</span><span class="token punctuation">(</span>angle <span class="token operator">*</span> M_PI <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span> <span class="token operator">+</span> y <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span>angle <span class="token operator">*</span> M_PI <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">float</span> newY <span class="token operator">=</span> <span class="token operator">-</span>x <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span>angle <span class="token operator">*</span> M_PI <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span> <span class="token operator">+</span> y <span class="token operator">*</span> <span class="token function">cos</span><span class="token punctuation">(</span>angle <span class="token operator">*</span> M_PI <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/a424ed61bbc24ccf95888f0287d0bce7.gif"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34323438353733322f:61727469636c652f64657461696c732f313436323630353637" class_="artid" style="display:none">
 </p>
</div>


