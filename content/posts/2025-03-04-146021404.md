---
arturl_encode: "68747470733a2f:2f626c6f672e6373646e2e6e65742f6778797964733532312f:61727469636c652f64657461696c732f313436303231343034"
layout: post
title: "计算机网络软考"
date: 2025-03-04 21:36:39 +0800
description: "自上而下的封装数据，自下而上的解封装数据，实现数据的传输。"
keywords: "计算机网络软考"
categories: ['未分类']
tags: ['计算机网络', '网络']
artid: "146021404"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146021404
    alt: "计算机网络软考"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146021404
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146021404
cover: https://bing.ee123.net/img/rand?artid=146021404
image: https://bing.ee123.net/img/rand?artid=146021404
img: https://bing.ee123.net/img/rand?artid=146021404
---

# 计算机网络软考

## 1.物理层

### 1.两个主机之间发送数据的过程

自上而下的封装数据，自下而上的解封装数据，实现数据的传输

![](https://i-blog.csdnimg.cn/direct/53335b6ad0144541b41fd891db05d617.png)

### 2.数据、信号、码元

码元就是数字通信里用来表示信息的基本信号单元。比如在二进制中，用高电平代表 “1”、低电平代表 “0”，这 “1” 和 “0” 就是码元。

![](https://i-blog.csdnimg.cn/direct/8ef83f2715b446759ad9f9876349bac3.png)

### 3.编码与调制

信道可以分为传送模拟信号的模拟信道和传送数字信号的数字信道两大类。

数据转为数字信号过程叫编码，吧数字信号还原成数字数据叫解码

数据转为模拟信号的过程叫调制，把模拟信号还原成数字数据叫解调

#### 编码方式

![](https://i-blog.csdnimg.cn/direct/ac7f0d8934904cce8d60ed1a20b70ca2.png)

#### 调制方式

![](https://i-blog.csdnimg.cn/direct/deb48ec8332f466a811cc1ddb46805ec.png)

### 4.奈氏准则

w是带宽

![](https://i-blog.csdnimg.cn/direct/3065b6c823e341bba93a61899766998a.png)

![](https://i-blog.csdnimg.cn/direct/478942110d424a03bddb0f3f12e5bea9.png)

### 5.香农公式

![](https://i-blog.csdnimg.cn/direct/9e0542c2107143329d51a701a835a728.png)

![](https://i-blog.csdnimg.cn/direct/779a6755549544578e4184ba9231caad.png)

### 6.异步传输和同步传输

* **异步传输**
  ：是一种面向字符的传输方式，以字符为单位进行数据传输。每个字符都有自己的起始位和停止位，字符之间的传输间隔是不固定的，即字符可以随机地在信道上出现，发送方和接收方不需要严格的时钟同步。
* **同步传输**
  ：是一种面向比特流的传输方式，数据以连续的比特流形式进行传输，发送方和接收方需要保持严格的时钟同步，以确保数据能够被正确地接收和解析。

![](https://i-blog.csdnimg.cn/direct/422eb0a64abb4b6b8e135868e8b4c060.png)

### 7.单工、半双工、全双工

![](https://i-blog.csdnimg.cn/direct/7212bfe52ce24628a221a45cec24ae78.png)

### 8.双绞线

![](https://i-blog.csdnimg.cn/direct/df1f786ffc9042679c2f475ceba9cb09.png)

![](https://i-blog.csdnimg.cn/direct/a17fe88d85fe4bac80c04b112633ae10.png)

### 9.光纤接口

![](https://i-blog.csdnimg.cn/direct/2518054589444fe499ccad304a8d74c9.png)

### 10.信道复用

频分复用

时分复用

统计时分复用

波分复用

##### 码分复用：码分多址

![](https://i-blog.csdnimg.cn/direct/2559cd5b0f574d0d97180cfa02ea4e6d.png)

### 11.带宽

* **在通信领域**
  ：带宽指的是信号所占据的频带宽度，单位是赫兹（Hz）。它表示了通信线路或信号能够传输的频率范围。比如，在传统的电话线路中，语音信号的带宽通常限制在 300Hz - 3400Hz，这意味着电话线路主要传输这个频率范围内的声音信号。
* **在计算机网络领域**
  ：带宽是指在单位时间内（通常为一秒）网络设备或链路能够传输的数据量，单位是比特每秒（bps），常见的还有 Kbps、Mbps、Gbps 等。例如，一条带宽为 100Mbps 的网络线路，理论上每秒可以传输 100 兆比特的数据。

### 12.数字传输系统

同步光纤网：SONET时分复用（用于远距离传输）51.84M

同步数字系列：SDH时分复用（高容错）155.52M

光传送网：OTN波分复用，核心

分组传送网：PTN分组交换，汇聚接入

OTN+PTN联合组网架构

### 13.互联网接入技术

互联网接入技术解决的就是最终用户接入本地ISP“最后一公里”的问题。

1. 电话网拨号接入:电话网拨号接入、数字用户线接入、光纤同轴混合网接入、光纤接入、以太网接入和无线接入。
2. 数字用户线接入ADSL:用数字技术对现有的模拟电话用户线进行改造，使它能够承载宽带业务.频分复用 FDM
3. 光纤同轴混合网接入:把原有线电视网中的同轴电缆主干部分改换为光纤(光纤+同轴电缆、机顶盒、Cable Modem)
4. 光纤接入：EPON/GPON、OLT/ONU、下行波长1490nm/采用广播技术，上行波长1310mm/采用TDMA技术

![](https://i-blog.csdnimg.cn/direct/d0ae9474763b461d8bd80faae6768b02.png)

下行采用广播技术，上行采用时分复用

![](https://i-blog.csdnimg.cn/direct/304be3a5343f4f25be3d5806a9c6b545.png)

## 2.数据链路层

### 1.MTU

![](https://i-blog.csdnimg.cn/direct/65e7723ce7e74f278aefd879aa364bc5.png)

### 2.ppp协议

面向字节的

![](https://i-blog.csdnimg.cn/direct/d98cc4be6ac74671b3e729d90d7b967d.png)

![](https://i-blog.csdnimg.cn/direct/3cbe40dee0904fb68ddce7af4a755f73.png)

PPP（Point-to-Point Protocol）协议是一种广泛应用于点对点链路的数据链路层协议，以下为你更完整地介绍：

#### 协议组成

* **链路控制协议（LCP）**
  + 主要用于建立、配置、维护和终止点到点的连接。它负责协商链路的参数，如最大传输单元（MTU），即链路层一次可以传输的最大数据量；还有是否进行压缩、采用何种认证方式等。
  + 还具备对链路进行测试的功能，像通过发送测试帧来检测链路的通断和质量，以确保链路的可靠性，为后续数据传输提供稳定的链路基础。
* **网络控制协议（NCP）**
  + 用于建立和配置不同的网络层协议，使得 PPP 链路可以支持多种网络层协议，如 IP、IPX、AppleTalk 等。
  + 针对每种网络层协议都有相应的 NCP，例如 IP 控制协议（IPCP）用于配置和管理 IP 协议相关的参数，包括 IP 地址的分配、子网掩码的设置等；IPX 控制协议用于处理 Novell NetWare 网络中的 IPX 协议相关配置。
* **身份验证协议**
  + **密码验证协议（PAP）**
    ：通过两次握手进行身份验证，用户名和密码以明文形式传输。在验证时，客户端向服务器发送包含用户名和密码的验证请求，服务器根据本地数据库或认证服务器进行验证并返回结果。这种方式简单但安全性较低，容易被窃取用户名和密码。
  + **挑战握手验证协议（CHAP）**
    ：CHAP 通过三次握手进行身份验证，其安全性更高。首先，服务器向客户端发送一个挑战消息，其中包含一个随机数（挑战值）。客户端收到挑战消息后，使用共享密钥对挑战值和自己的密码进行哈希运算，生成一个响应值，然后将响应值发送给服务器。服务器接收到响应值后，也使用相同的共享密钥对挑战值和客户端的密码进行哈希运算，得到一个预期的响应值，将接收到的响应值与预期的响应值进行对比，如果两者相等，则认证成功，否则认证失败。在整个过程中，密码不会以明文形式在链路上传输，并且每次认证时的挑战值都是随机的，防止了重放攻击。

#### 工作原理

* **链路建立阶段**
  + 当两台设备之间的物理链路接通后，PPP 协议首先进入链路建立阶段。
  + 双方通过 LCP 发送配置请求和响应报文，协商链路的参数。例如，双方会就链路是否要进行流量控制、差错控制等功能进行协商，确定最终采用的链路配置方案。若协商一致，链路进入认证阶段。
* **认证阶段（可选）**
  + 如果链路配置中需要进行认证，那么在这个阶段，一方设备会向另一方设备发送认证请求。
  + 若采用 PAP 认证，客户端直接发送用户名和密码；若采用 CHAP 认证，则根据服务器发送的挑战消息进行相应处理并返回响应。认证通过，链路进入网络层协议配置阶段；认证失败，链路将被终止。
* **网络层协议配置阶段**
  + 认证通过后，双方使用 NCP 来配置网络层协议参数。
  + 以 IPCP 为例，会协商分配 IP 地址、确定是否使用动态主机配置协议（DHCP）等，使得设备可以在链路上进行网络层的数据传输。
* **数据传输阶段**
  + 完成上述阶段后，PPP 链路就可以进行数据传输了。
  + 数据被封装在 PPP 帧中进行传输，PPP 帧包含了地址字段、控制字段、协议字段等，协议字段用于标识封装的数据属于哪种网络层协议，如 0x0021 表示 IP 协议数据。
* **链路终止阶段**
  + 当数据传输完成或出现异常情况时，PPP 协议会进入链路终止阶段。
  + 通过 LCP 发送终止请求和响应报文，关闭链路连接，释放相关资源，如端口、内存缓冲区等。

### 3.HDLC协议（比特）

#### 1.帧

HDLC（High-Level Data Link Control）协议是一种面向比特的数据链路层协议，其帧类型主要有信息帧（I 帧）、监控帧（S 帧）和无编号帧（U 帧），以下是关于它们的详细介绍：

**信息帧（I 帧）**

* **功能**
  + 主要用于传输用户数据，同时也可以对已接收的数据进行确认。在连续发送多个信息帧时，通过帧中的序列号可以保证数据的有序传输，接收方可以根据序列号对乱序的帧进行排序，确保数据的完整性和正确性。
* **格式**
  + **比特位**
    ：一般包含 8 个比特位的帧起始标志和结束标志，用于标识帧的开始和结束。地址字段通常为 8 比特，用于标识发送方和接收方的地址。控制字段一般为 8 比特，其中包含了帧的类型标识、序列号等信息。信息字段长度可变，用于承载用户要传输的数据，其最大长度取决于具体的应用场景和链路配置。帧校验序列（FCS）一般为 16 比特或 32 比特，用于检测帧在传输过程中是否发生错误。
* **应用场景**
  + 在文件传输、视频流传输等大量数据传输的场景中，信息帧发挥着关键作用。比如在网络视频会议中，视频和音频数据会被分割成多个信息帧进行传输，接收端通过对这些信息帧的接收、排序和重组，还原出完整的视频和音频信号，实现实时的音视频通信。

**监控帧（S 帧）**

* **功能**
  + 主要用于流量控制和差错控制。它可以对信息帧的传输进行监控，向发送方反馈接收方的接收状态，告知发送方是否可以继续发送数据，以及是否有数据传输错误等情况。
* **格式**
  + **比特位**
    ：监控帧的帧起始标志、结束标志、地址字段和帧校验序列与信息帧类似。控制字段中的某些比特位用于表示监控帧的具体功能，如接收就绪（RR）、接收未就绪（RNR）、拒绝（REJ）等。
* **应用场景**
  + 当网络出现拥塞或者接收方处理能力有限时，监控帧就会发挥作用。例如，接收方可以通过发送 RNR 监控帧告知发送方暂时停止发送数据，待接收方处理完已接收的数据后，再发送 RR 监控帧通知发送方可以继续发送，从而实现流量控制，避免数据丢失或网络拥塞加剧。

**无编号帧（U 帧）**

* **功能**
  + 主要用于提供链路控制功能，如链路的建立、拆除、复位等操作，还可以用于一些特殊的控制命令和响应。
* **格式**
  + **比特位**
    ：无编号帧的帧起始标志、结束标志、地址字段和帧校验序列同样与信息帧相似。控制字段中的某些比特位组合用于表示不同的无编号帧功能，如 SABM（置异步平衡模式）命令用于建立链路连接，DISC（拆除链路）命令用于断开链路连接等。
* **应用场景**
  + 在网络设备启动时，会通过发送无编号帧来建立与其他设备之间的链路连接，进行初始化操作。在通信结束后，也会发送相应的无编号帧来拆除链路，释放资源。比如在路由器之间建立连接时，就会使用 SABM 等无编号帧来协商链路参数，建立起可靠的通信链路。

#### 2.字段

HDLC 协议的帧由多个字段组成，主要包括标志字段（F）、地址字段（A）、控制字段（C）、信息字段（I）和帧校验序列字段（FCS），以下是对这些字段的详细介绍：

1. **标志字段（F）**
   * **作用**
     ：用于标识帧的开始和结束，使接收方能够准确地识别帧的边界。
   * **内容**
     ：固定为 6 位的二进制序列 “01111110”。在帧的传输过程中，发送方会在帧的开头和结尾都添加这个标志字段，接收方通过检测这个特定的序列来确定帧的起始和终止位置。
2. **地址字段（A）**
   * **作用**
     ：主要用于在多点连接的链路中标识帧的发送方和接收方地址，以便实现数据的正确传输和接收。
   * **内容**
     ：通常为 8 位二进制数，在扩展帧格式中可扩展为 16 位或更多位。对于点到点链路，地址字段可能并不严格区分发送方和接收方地址，但在多点链路中，它能够明确指定数据的源地址和目的地址，确保数据准确无误地到达目标设备。
3. **控制字段（C）**
   * **作用**
     ：用于表示帧的类型、
     序号
     、确认信息以及其他控制信息，是 HDLC 协议中最关键的字段之一，它决定了帧的功能和操作。
   * **内容**
     ：通常为 8 位。不同的帧类型（信息帧 I、监控帧 S、无编号帧 U）在控制字段的编码方式上有所不同。如信息帧的控制字段包含发送序列号（N (S)）和接收序列号（N (R)），用于实现数据的有序传输和确认；监控帧的控制字段用于表示流量控制和差错控制信息；无编号帧的控制字段则用于表示链路控制命令和响应。
4. **信息字段（I）**
   * **作用**
     ：用于承载用户要传输的实际数据。
   * **内容**
     ：长度可变，理论上可以传输任意长度的数据，但在实际应用中，受链路层 MTU（最大传输单元）等因素的限制，信息字段的长度通常有一定的上限。例如，在以太网中使用 HDLC 封装时，信息字段的长度一般不超过 1500 字节。
5. **帧校验序列字段（FCS）**
   * **作用**
     ：用于检测帧在传输过程中是否发生了错误，保证数据的完整性和准确性。
   * **内容**
     ：通常为 16 位或 32 位的二进制序列，采用循环冗余校验（CRC）算法生成。发送方在发送帧之前，会根据帧中的其他字段计算出一个 FCS 值，并将其添加到帧的末尾。接收方在接收到帧后，会采用相同的算法对接收的帧进行计算，并将计算结果与接收到的 FCS 值进行比较。如果两者相等，则认为帧在传输过程中没有发生错误；否则，就认为帧出现了错误，需要进行重传或其他错误处理。

### 4.ARQ自动重传

![](https://i-blog.csdnimg.cn/direct/d8a937dc087b46e3aaef37e5472d4046.png)

![](https://i-blog.csdnimg.cn/direct/0b4ba666e2c94a19a752e43c9b2a66da.png)
![](https://i-blog.csdnimg.cn/direct/0d05a51326a94aaeb6d767aa79aa5ee9.png)

![](https://i-blog.csdnimg.cn/direct/8ebaed126d864bfe86552ec2dc3ecf5f.png)

#### 1.回退n帧GBN

![](https://i-blog.csdnimg.cn/direct/beafd79703624683bf4e18b845ac53d5.png)

#### 2.选择重传SR

![](https://i-blog.csdnimg.cn/direct/8d963f8177cf4946b156e8737ba1e072.png)

#### 3.超时重传时间

##### 1.RTO

![](https://i-blog.csdnimg.cn/direct/56b7ce7a72f040f48de85249bf36fc19.png)

##### 2.RTTD

![](https://i-blog.csdnimg.cn/direct/f3f4864735c146d685a137d9c5609bf0.png)

### 5.vlan

#### 1.vlan标签

vlan id 12bit

![](https://i-blog.csdnimg.cn/direct/fe7e9f06ce0a4f708c928bddbedbda3f.png)

#### 2.接口类型

![](https://i-blog.csdnimg.cn/direct/b1b3454831ef4e4ca6f097bcd516b1fc.png)

#### 3.vlan划分标准

![](https://i-blog.csdnimg.cn/direct/3ce328a12936457cb114a9552a576b0f.png)

#### 4.配置vlan的命令

![](https://i-blog.csdnimg.cn/direct/d4022d867a8648c0a172800309ab6363.png)

### 6.VLAN高级

#### 1.vlan聚合super vlan和sub vlan

![](https://i-blog.csdnimg.cn/direct/bf4cfdafd4024a7ab25fca3a70a314d5.png)

#### 2.MUX vlan

只能和主vlan通信

![](https://i-blog.csdnimg.cn/direct/d0db2eacfb334af28e1b17a90382aa23.png)

#### 3.QINQ

![](https://i-blog.csdnimg.cn/direct/cf3829ec585c49ff817d75143d7df678.png)

#### 4.GVRP协议

![](https://i-blog.csdnimg.cn/direct/01d0e2f7fefc4baabbbf68b94a0d081e.png)

5.VXLAN

![](https://i-blog.csdnimg.cn/direct/f45c8bdc82c5497e876e9e907c5bb5e2.png)

1. **作用不同**
   ：VLAN 聚合主要节省 IP 地址，让子 VLAN 间三层互通；MUX VLAN 控制同一 VLAN 内用户互访；QinQ 拓展 VLAN 数量，实现用户 VLAN 透传；VLAN 内二层隔离防止同一 VLAN 内端口间非法通信；GVRP 自动管理 VLAN 配置；VXLAN 构建大的虚拟网络。
2. **应用场景不同**
   ：VLAN 聚合用于 IP 资源紧张的园区网；MUX VLAN 在企业网常见；QinQ 适用于运营商网络；VLAN 内二层隔离在对安全隔离要求高的场景使用；GVRP 用于多交换机自动配置 VLAN；VXLAN 适用于数据中心大规模虚拟化场景。
3. **实现方式不同**
   ：VLAN 聚合靠主、子 VLAN 关联；MUX VLAN 基于主从 VLAN 关系；QinQ 靠加双层 VLAN 标签；VLAN 内二层隔离用端口设置、策略等；GVRP 通过协议报文交互；VXLAN 是将 MAC 帧封装在 UDP 里 。

### 7.STP

#### 1.stp的选举原则

![](https://i-blog.csdnimg.cn/direct/0c2db9ee6205406da460ac4364f0005c.png)

![](https://i-blog.csdnimg.cn/direct/90632cf8c26e485fa1a59dd5820bcb20.png)

#### 2.BPDU

![](https://i-blog.csdnimg.cn/direct/ce092db805c24fdf9ea6dd07194e68dd.png)

#### 3.stp接口状态

![](https://i-blog.csdnimg.cn/direct/edddfcc799c343a285cb59dbad92daa3.png)

#### 4.RSTP

在 STP 的基础上进行了优化，旨在更快地检测到网络拓扑的变化，并迅速恢复网络连接，减少网络中断时间。

* **端口状态和角色**
  ：RSTP 简化了端口状态，将 STP 的 5 种端口状态（阻塞、监听、学习、转发、禁用）简化为 3 种（丢弃、学习、转发），同时引入了新的端口角色，如替代端口（Alternate Port）和备份端口（Backup Port）。替代端口是根端口的备份，当根端口失效时可以快速切换；备份端口是指定端口的备份。
* **快速切换机制**
  ：当网络拓扑发生变化时，RSTP 通过握手机制和快速迁移机制，能够在更短的时间内重新计算生成树。例如，当一个边缘端口（直接连接终端设备的端口）检测到有设备接入时，该端口可以立即进入转发状态，无需经过 STP 的监听和学习阶段。
* **BPDU 处理**
  ：RSTP 的 BPDU 格式与 STP 有所不同，并且采用了更频繁的 BPDU 发送机制，使得交换机能够更快地感知网络拓扑的变化。

#### 5.mstp

将多个 VLAN 映射到不同的生成树实例中，每个实例独立运行生成树算法，从而实现不同 VLAN 在不同的生成树拓扑下进行数据转发，既可以实现负载均衡，又能保证网络的可靠性。

三者之间的关系是，RSTP 是 STP 的快速收敛版本，而 MSTP 则是在 RSTP 基础上进一步扩展，以支持多实例和负载均衡等功能，它们共同为构建可靠、高效的网络提供了有力的支持。

## 3.网络层

### 1.软件定义网络SDN

![](https://i-blog.csdnimg.cn/direct/53fabdc8dab640f7a77559bc21ae2f54.png)