---
layout: post
title: "逐梦DBALinux版本-MySQL的安装"
date: 2025-03-09 20:28:31 +0800
description: "说明： --initialize 选项默认以“安全”模式来初始化，则会为 root 用户生成一个密码并将该密码标记为过期，登录后你需要设置一个新的密码。检查/tmp临时目录权限：由于mysql安装过程中，会通过mysql用户在/tmp目录下新建tmp_db文件，所以请给/tmp较大的权限。通过 mysql -hlocalhost -P3306 -uroot -p 进行登录，在Enter password：录入初始化密码。修改密码：因为初始化密码默认是过期的，所以查看数据库会报错。启动MySQL，查看状态。"
keywords: "逐梦DBA：Linux版本 MySQL的安装"
categories: ['Mysql']
tags: ['Mysql', 'Linux', 'Dba']
artid: "146138051"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146138051
    alt: "逐梦DBALinux版本-MySQL的安装"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146138051
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146138051
cover: https://bing.ee123.net/img/rand?artid=146138051
image: https://bing.ee123.net/img/rand?artid=146138051
img: https://bing.ee123.net/img/rand?artid=146138051
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     逐梦DBA：Linux版本 MySQL的安装
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2 style="margin-left:0px; margin-right:0px; text-align:left">
     <span style="color:#000000">
      <strong>
       一、下载MySQL指定版本
      </strong>
     </span>
    </h2>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="color:#000000">
      <span style="color:#3370ff">
       1.
      </span>
      打开官网下载地址：https://www.mysql.com
     </span>
    </p>
    <p>
     <img alt="" height="252" src="https://i-blog.csdnimg.cn/direct/f9691c80b26e4deea3264b7feae37fef.png" width="552"/>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="color:#000000">
      <span style="color:#3370ff">
       2.
      </span>
      进入社区版下载
     </span>
    </p>
    <p>
     <img alt="" height="260" src="https://i-blog.csdnimg.cn/direct/5e83807a3dad449baf4d80d03fc3ba5d.png" width="552"/>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="color:#000000">
      <span style="color:#3370ff">
       3.
      </span>
      点击 MySQL Community Server
     </span>
    </p>
    <p>
     <img alt="" height="361" src="https://i-blog.csdnimg.cn/direct/dbdedfcc8efb4913a6b2124207338c2f.png" width="552"/>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="color:#000000">
      <span style="color:#3370ff">
       4.
      </span>
      在General Availability(GA) Releases中选择适合的版本
     </span>
    </p>
    <p>
     <img alt="" height="501" src="https://i-blog.csdnimg.cn/direct/e126911e9d2d4a63920f19f479f03649.png" width="552"/>
    </p>
    <p>
     <img alt="" height="124" src="https://i-blog.csdnimg.cn/direct/15972f8f0b04477d868e671d00707e85.png" width="552"/>
    </p>
    <h2 style="margin-left:0px; margin-right:0px; text-align:left">
     <span style="color:#000000">
      <strong>
       二、CentOS7下检查MySQL依赖
      </strong>
     </span>
    </h2>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="color:#000000">
      <span style="color:#3370ff">
       1.
      </span>
      检查/tmp临时目录权限：由于mysql安装过程中，会通过mysql用户在/tmp目录下新建tmp_db文件，所以请给/tmp较大的权限。
     </span>
    </p>
    <pre><code class="language-bash">chmod -R 777 /tmp</code></pre>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="color:#000000">
      <span style="color:#3370ff">
       2.
      </span>
      安装前，检查依赖
     </span>
    </p>
    <pre><code class="language-bash">rpm -qa|grep libaio
rpm -qa|grep net-tools</code></pre>
    <p>
     <img alt="" height="103" src="https://i-blog.csdnimg.cn/direct/0616cef7c4c9452f994521c07bf46c4f.png" width="481"/>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="color:#000000">
      <span style="color:#3370ff">
       3.
      </span>
      将安装程序拷贝到/opt目录下，执行以下命令
     </span>
    </p>
    <pre><code class="language-bash">rpm -ivh mysql-community-common-8.0.25-1.el7.x86_64.rpm
rpm -ivh mysql-community-client-plugins-8.0.25-1.el7.x86_64.rpm
rpm -ivh mysql-community-libs-8.0.25-1.el7.x86_64.rpm
rpm -ivh mysql-community-client-8.0.25-1.el7.x86_64.rpm
rpm -ivh mysql-community-server-8.0.25-1.el7.x86_64.rpm</code></pre>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="color:#000000">
      <strong>
       注意:
      </strong>
      如在检查工作时，没有检查mysql依赖环境在安装mysql-community-server会报错
     </span>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="color:#000000">
      <span style="color:#3370ff">
       •
      </span>
      rpm 是Redhat Package Manage缩写，通过RPM的管理，用户可以把源代码包装成以rpm为扩展名的文件形式，易于安装。
     </span>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="color:#000000">
      <span style="color:#3370ff">
       •
      </span>
      -i , --install 安装软件包
     </span>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="color:#000000">
      <span style="color:#3370ff">
       •
      </span>
      -v , --verbose 提供更多的详细信息输出
     </span>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="color:#000000">
      <span style="color:#3370ff">
       •
      </span>
      -h , --hash 软件包安装的时候列出哈希标记 (和 -v 一起使用效果更好)，展示进度条
     </span>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="color:#000000">
      <strong>
       安装过程中可能的报错信息：
      </strong>
     </span>
    </p>
    <p>
     <img alt="" height="65" src="https://i-blog.csdnimg.cn/direct/7fe7157677a84dda9962b080571bc218.png" width="552"/>
    </p>
    <pre><code class="language-bash">yum remove mysql-libs 解决，清除之前安装过的依赖即可</code></pre>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="color:#000000">
      <span style="color:#3370ff">
       4.
      </span>
      查看MySQL版本
     </span>
    </p>
    <pre><code class="language-bash">mysql --version
#或
mysqladmin --version</code></pre>
    <p>
     <img alt="" height="191" src="https://i-blog.csdnimg.cn/direct/65acb5b5f6cd40189265cf25338d74f2.png" width="552"/>
    </p>
    <h2 style="margin-left:0px; margin-right:0px; text-align:left">
     <span style="color:#000000">
      <strong>
       三、服务的初始化
      </strong>
     </span>
    </h2>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="color:#000000">
      <span style="color:#3370ff">
       1.
      </span>
      为了保证数据库目录与文件的所有者为 mysql 登录用户，如果你是以 root 身份运行 mysql 服务，需要执行下面的命令初始化：
     </span>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="color:#000000">
      说明： --initialize 选项默认以“安全”模式来初始化，则会为 root 用户生成一个密码并将该密码标记为过期，登录后你需要设置一个新的密码。生成的临时密码会往日志中记录一份。
     </span>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="color:#000000">
      <span style="color:#3370ff">
       2.
      </span>
      <strong>
       查看临时密码：
      </strong>
     </span>
    </p>
    <pre><code class="language-bash">cat /var/log/mysqld.log</code></pre>
    <p>
     <img alt="" height="66" src="https://i-blog.csdnimg.cn/direct/94f47e09f8af4065893e989de095a417.png" width="552"/>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="color:#000000">
      <span style="color:#3370ff">
       3.
      </span>
      启动MySQL，查看状态
     </span>
    </p>
    <pre><code class="language-bash">#加不加.service后缀都可以
启动：systemctl start mysqld.service
关闭：systemctl stop mysqld.service
重启：systemctl restart mysqld.service
查看状态：systemctl status mysqld.service</code></pre>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="color:#000000">
      <span style="color:#3370ff">
       4.
      </span>
      设置MySQL自启动
     </span>
    </p>
    <pre><code class="language-bash"># 查看服务是否为自启动
systemctl list-unit-files|grep mysqld.service
# 设置为自启动
systemctl enable mysqld.service
# 关闭自启动
systemctl disable mysqld.service</code></pre>
    <p>
     <img alt="" height="226" src="https://i-blog.csdnimg.cn/direct/22ccecfc5bdc4257a2b5a377d90f830a.png" width="552"/>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="color:#000000">
      <strong>
       3.4 MySQL的登录
      </strong>
     </span>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="color:#000000">
      <span style="color:#3370ff">
       1.
      </span>
      通过 mysql -hlocalhost -P3306 -uroot -p 进行登录，在Enter password：录入初始化密码
     </span>
    </p>
    <p>
     <img alt="" height="224" src="https://i-blog.csdnimg.cn/direct/0bf0243d5d1946879b1c5c117cebefeb.png" width="552"/>
    </p>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="color:#000000">
      <span style="color:#3370ff">
       2.
      </span>
      修改密码：因为初始化密码默认是过期的，所以查看数据库会报错
     </span>
    </p>
    <pre><code class="language-bash">ALTER USER 'root'@'localhost' IDENTIFIED BY 'new_password';</code></pre>
    <p style="margin-left:0; margin-right:0; text-align:left">
     <span style="color:#000000">
      5.7版本之后（不含5.7），mysql加入了全新的密码安全机制。设置新密码太简单会报错。改为复杂的密码即可。
     </span>
    </p>
    <p>
     <img alt="" height="76" src="https://i-blog.csdnimg.cn/direct/a584923628654e469a7735bd27d02fa1.png" width="552"/>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f37353032323430382f:61727469636c652f64657461696c732f313436313338303531" class_="artid" style="display:none">
 </p>
</div>


