---
layout: post
title: "计算机网络深入解析-HTTP-请求中的-header-类型Cookie-的概念特点和应用场景登录和用户认证"
date: 2025-03-10 10:52:28 +0800
description: "【计算机网络】深入解析 HTTP 请求中的 header 类型：Cookie 的概念、特点和应用场景：登录和用户认证"
keywords: "【计算机网络】深入解析 HTTP 请求中的 header 类型：Cookie 的概念、特点和应用场景：登录和用户认证"
categories: ['计算机网络']
tags: ['计算机网络', '网络协议', '网络', 'Http', 'Fiddler', 'Cookie']
artid: "146146751"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146146751
    alt: "计算机网络深入解析-HTTP-请求中的-header-类型Cookie-的概念特点和应用场景登录和用户认证"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146146751
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146146751
cover: https://bing.ee123.net/img/rand?artid=146146751
image: https://bing.ee123.net/img/rand?artid=146146751
img: https://bing.ee123.net/img/rand?artid=146146751
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【计算机网络】深入解析 HTTP 请求中的 header 类型：Cookie 的概念、特点和应用场景：登录和用户认证
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/a9d3553301c848ff9cad6aa4116248ea.gif#pic_center"/>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/1a7dc94b7b7c4fa490afaaf931e6558f.png"/>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/cd5abfb0ba1c49128b69f4ebb5922bac.gif#pic_center"/>
    </p>
    <hr/>
    <h2>
     <a id="font_color__redfont_facefont_size6strongstrongfontfontfont_font_color__redfont_facefont_size6strong_HTTP_strongfontfontfontfont_color__redfont_facefont_size6strongheaderstrongfontfontfont_18">
     </a>
     <font color="red">
      <font face="华文行楷">
       <font size="6">
        <strong>
         网络原理—
        </strong>
       </font>
      </font>
     </font>
     <font color="red">
      <font face="华文楷体">
       <font size="6">
        <strong>
         HTTP
        </strong>
       </font>
      </font>
     </font>
     <font color="red">
      <font face="华文行楷">
       <font size="6">
        <strong>
         请求“报头”(header)
        </strong>
       </font>
      </font>
     </font>
    </h2>
    <hr/>
    <h3>
     <a id="font_color__greefont_facefont_size6strongCookie_strongfontfontfont_21">
     </a>
     <font color="gree">
      <font face="华文楷体">
       <font size="6">
        <strong>
         Cookie 是什么
        </strong>
       </font>
      </font>
     </font>
    </h3>
    <hr/>
    <blockquote>
     <p>
      HTTP报头中的Cookie，用大白话来说，就像你
      <code>
       去餐厅吃饭时拿到的一张会员卡
      </code>
      ：
     </p>
     <hr/>
     <p>
      <strong>
       初次访问 (清除该网站的所有 Cookie 后重新访问该网站，效果相同)
      </strong>
      ：
     </p>
     <ul>
      <li>
       当你第一次访问一个网站（比如某购物网站），
       <code>
        服务器
       </code>
       想记住你（比如你的登录状态、购物车）。
      </li>
      <li>
       但服务器
       <code>
        没法直接在你电脑上存东西
       </code>
       ，于是它说：“
       <code>
        浏览器
       </code>
       ，帮我记个
       <code>
        小纸条
       </code>
       吧！”这个“小纸条”就是Cookie。
      </li>
     </ul>
     <hr/>
     <p>
      <strong>
       服务员发卡（Set-Cookie）
      </strong>
      ：
     </p>
     <ul>
      <li>
       服务器通过HTTP响应的
       <code>
        Set-Cookie
       </code>
       头，把信息塞给
       <code>
        浏览器
       </code>
       。比如：
       <br/>
       <code>
        Set-Cookie: user_id=12345; Expires=周五; Secure
       </code>
      </li>
      <li>
       这相当于
       <code>
        餐厅
       </code>
       给你一张
       <code>
        会员卡
       </code>
       ，卡上写：“用户ID是12345，有效期到周五，且只能在本店安全通道使用”。
      </li>
     </ul>
     <hr/>
     <p>
      <strong>
       自动出示会员卡（Cookie请求头）
      </strong>
      ：
     </p>
     <ul>
      <li>
       之后每次你再访问这个网站，
       <code>
        浏览器会自动在HTTP请求头里带上这个 Cookie
       </code>
       ，像进餐厅时主动亮出会员卡。
      </li>
      <li>
       服务器一看：“哦，是用户12345，直接显示他的购物车！”
      </li>
     </ul>
     <hr/>
     <p>
      <strong>
       Cookie能存啥
      </strong>
      ：
     </p>
     <ul>
      <li>
       <strong>
        小数据
       </strong>
       ：
       <ul>
        <li>
         比如用户名、语言设置、浏览记录。
        </li>
       </ul>
      </li>
      <li>
       <strong>
        关键ID
       </strong>
       ：
       <ul>
        <li>
         比如登录后的会话ID（像会员卡号，服务器靠它查你的详细信息）。
        </li>
       </ul>
      </li>
     </ul>
     <hr/>
     <p>
      <strong>
       Cookie的安全细节
      </strong>
      ：
     </p>
     <ul>
      <li>
       <strong>
        过期时间
       </strong>
       ：
       <ul>
        <li>
         可以是“关浏览器就失效”（会话Cookie），或设定具体日期（比如记住登录30天）。
        </li>
       </ul>
      </li>
      <li>
       <strong>
        Secure
       </strong>
       ：
       <ul>
        <li>
         只通过HTTPS加密连接传输（防窃听）。
        </li>
       </ul>
      </li>
      <li>
       <strong>
        HttpOnly
       </strong>
       ：
       <ul>
        <li>
         禁止JavaScript读取（防XSS攻击偷Cookie）。
        </li>
       </ul>
      </li>
      <li>
       <strong>
        作用范围
       </strong>
       ：
       <ul>
        <li>
         指定域名（比如只给
         <code>
          .example.com
         </code>
         ）和路径（比如
         <code>
          /shop
         </code>
         目录下才发送）。
        </li>
       </ul>
      </li>
     </ul>
     <hr/>
     <p>
      <strong>
       举个实际例子
      </strong>
      ：
     </p>
     <ul>
      <li>
       你登录微博，服务器返回
       <code>
        Set-Cookie: session_id=abc123; HttpOnly; Secure
       </code>
       。
      </li>
      <li>
       之后你刷主页、发微博，
       <code>
        浏览器每次请求都悄悄带上
       </code>
       <code>
        Cookie: session_id=abc123
       </code>
       。
      </li>
      <li>
       服务器通过
       <code>
        abc123
       </code>
       查到你是张三，直接展示你的关注和私信。
      </li>
     </ul>
     <hr/>
     <p>
      <strong>
       注意事项
      </strong>
      ：
     </p>
     <ul>
      <li>
       Cookie存在你电脑里，别让坏人偷走（比如通过
       <code>
        恶意链接盗取会话Cookie，就能冒充你
       </code>
       ）。
      </li>
      <li>
       网站要合理设置
       <code>
        Secure
       </code>
       和
       <code>
        HttpOnly
       </code>
       ，用户也要警惕不明网站。
      </li>
     </ul>
     <hr/>
     <p>
      <strong>
       总结
      </strong>
      ：
     </p>
     <ul>
      <li>
       <code>
        Cookie 就是网站让你的浏览器帮忙记的小纸条
       </code>
       ，下次访问该网站时自动带上，让服务器认出你。
      </li>
      <li>
       它像会员卡、临时身份证，是
       <code>
        维持登录状态、记录偏好的关键工具
       </code>
       ，但也要注意安全保管！
      </li>
     </ul>
    </blockquote>
    <hr/>
    <h3>
     <a id="font_color__greefont_facefont_size6strongCookie_strongfontfontfont_95">
     </a>
     <font color="gree">
      <font face="华文楷体">
       <font size="6">
        <strong>
         Cookie 的特点
        </strong>
       </font>
      </font>
     </font>
    </h3>
    <hr/>
    <table>
     <tbody>
      <tr>
       <td bgcolor="pink">
        <font color="red">
         <font face="华文楷体">
          <font size="4">
           <strong>
            Cookie 轻量化与兼容性
           </strong>
          </font>
         </font>
        </font>
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/89da697df4084a2794862738cf632d40.png"/>
    </p>
    <ul>
     <li>
      <strong>
       文本格式
      </strong>
      ：
      <ul>
       <li>
        Cookie以
        <code>
         键值对形式
        </code>
        存储
        <code>
         纯文本
        </code>
        ，确保跨平台兼容性。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       容量限制
      </strong>
      ：
      <ul>
       <li>
        单个Cookie大小通常不超过
        <code>
         4KB
        </code>
        ，单个域名下Cookie数量受限（如50条），避免过度占用资源。
       </li>
      </ul>
     </li>
    </ul>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/70088718d63a4a598a765ab2c1ce3767.png"/>
    </p>
    <hr/>
    <table>
     <tbody>
      <tr>
       <td bgcolor="pink">
        <font color="red">
         <font face="华文楷体">
          <font size="4">
           <strong>
            Cookie 作用域控制
           </strong>
          </font>
         </font>
        </font>
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <p>
     通过
     <code>
      Domain
     </code>
     和
     <code>
      Path
     </code>
     属性限制Cookie的生效范围：
    </p>
    <hr/>
    <ul>
     <li>
      <strong>
       Domain
      </strong>
      ：
      <ul>
       <li>
        指定 Cookie 可发送的域名；
       </li>
       <li>
        每个
        <code>
         不同的域名
        </code>
        下都可以有不同的 Cookie，不同网站之间的 Cookie 并不冲突；
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <ul>
     <li>
      <strong>
       Path
      </strong>
      ：
      <ul>
       <li>
        限定仅特定路径下的请求携带Cookie（如
        <code>
         /user
        </code>
        路径）；
       </li>
      </ul>
     </li>
    </ul>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/46f6448df2494cff9d2428dfe4956426.png"/>
    </p>
    <hr/>
    <table>
     <tbody>
      <tr>
       <td bgcolor="pink">
        <font color="red">
         <font face="华文楷体">
          <font size="4">
           <strong>
            Cookie 客户端存储与自动传输
           </strong>
          </font>
         </font>
        </font>
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <ul>
     <li>
      Cookie的核心设计是通过
      <code>
       客户端（浏览器）
      </code>
      存储
      <code>
       少量数据
      </code>
      （如用户标识符）；
     </li>
    </ul>
    <blockquote>
     <p>
      Cookie 中
      <code>
       存储了一个字符串
      </code>
      ；
     </p>
     <ul>
      <li>
       <p>
        这个数据可能是
        <code>
         客户端(网页)
        </code>
        自行通过
        <code>
         JS
        </code>
        写入的；
       </p>
      </li>
      <li>
       <p>
        也可能来自于
        <code>
         服务器
        </code>
        （服务器在
        <code>
         HTTP响应
        </code>
        的header中，通过
        <code>
         Set-Cookie
        </code>
        字段给浏览器返回数据）；
       </p>
      </li>
     </ul>
    </blockquote>
    <hr/>
    <p>
     我们先打开一个浏览器搜索页面，并且清空 Cookie ：
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/d5c805386fd447aaa2a1bc0dcde4dc73.png"/>
    </p>
    <hr/>
    <p>
     清空 fiddler 中的左侧 HTTP 请求/响应结果，再刷新页面，查看 fiddler 新抓包的请求和响应结果：
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/80c0507d035d451b9454932549e3cbdb.png"/>
    </p>
    <hr/>
    <p>
     我们可以看到，在
     <code>
      响应结果
     </code>
     中显示的
     <code>
      Set-Cookie
     </code>
     的
     <code>
      key=value
     </code>
     ，和浏览器中的
     <code>
      Cookie
     </code>
     相对应，说明
     <code>
      服务器
     </code>
     通过
     <code>
      Set-Cookie响应头
     </code>
     设置Cookie：
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/8ff0427884844a3f81e430af11fbd5a7.png"/>
    </p>
    <hr/>
    <p>
     浏览器在后续请求中
     <code>
      自动回传
     </code>
     ，形成“
     <code>
      请求-响应-携带
     </code>
     ”的闭环：
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/ea0d927cb10b4f13a06f99def4e68a81.png"/>
    </p>
    <p>
     在后续请求中，Cookie 会
     <code>
      自动附加到HTTP头部
     </code>
     （
     <code>
      Cookie
     </code>
     头）。
    </p>
    <hr/>
    <table>
     <tbody>
      <tr>
       <td bgcolor="pink">
        <font color="red">
         <font face="华文楷体">
          <font size="4">
           <strong>
            cookie 的灵活性 (生命周期管理)
           </strong>
          </font>
         </font>
        </font>
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <ul>
     <li>
      <strong>
       会话Cookie
      </strong>
      ：默认在浏览器关闭后失效。
     </li>
     <li>
      <strong>
       持久Cookie
      </strong>
      ：可以灵活通过
      <code>
       Expires
      </code>
      或
      <code>
       Max-Age
      </code>
      设置过期时间，实现长期状态保留（如“记住登录”）。
     </li>
    </ul>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/34784cb4ed9541b7a25df563ae4a4283.png"/>
    </p>
    <hr/>
    <table>
     <tbody>
      <tr>
       <td bgcolor="pink">
        <font color="red">
         <font face="华文楷体">
          <font size="4">
           <strong>
            清除 Cookie 的方法
           </strong>
          </font>
         </font>
        </font>
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/e04bacb7d89246f7883d941f0ba03a0f.png"/>
    </p>
    <p>
     或者
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/1f99eed23cfb4e9b8beab912b5c038c2.png"/>
    </p>
    <hr/>
    <h3>
     <a id="font_color__greefont_facefont_size6strongCookie__strongfontfontfont_208">
     </a>
     <font color="gree">
      <font face="华文楷体">
       <font size="6">
        <strong>
         Cookie 的应用场景：登录和用户认证 (以码云为例)
        </strong>
       </font>
      </font>
     </font>
    </h3>
    <hr/>
    <h4>
     <a id="font_color__bluefont_facefont_size6strong1_Cookiestrongfontfontfont_212">
     </a>
     <font color="blue">
      <font face="华文楷体">
       <font size="6">
        <strong>
         (1)在码云页面上，清除 Cookie
        </strong>
       </font>
      </font>
     </font>
    </h4>
    <hr/>
    <p>
     为了方便观察，先清除掉之前登陆的 Cookie ；
    </p>
    <p>
     在码云页面上，点击 URL 左侧的图标，选择 Cookie
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/f971772160964e1c8240bcfce4a2b4e2.png"/>
    </p>
    <hr/>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/abdd18a85a30484e995122a873d3f3e3.png"/>
    </p>
    <p>
     清除 Cookie 后，再次刷新页面，Cookie 会重新从
     <code>
      服务器
     </code>
     加载回来：
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/c0e93c03b7c744499fc55b236583ba66.png"/>
    </p>
    <hr/>
    <h4>
     <a id="font_color__bluefont_facefont_size6strong2_strongfontfontfont_235">
     </a>
     <font color="blue">
      <font face="华文楷体">
       <font size="6">
        <strong>
         (2) 登陆操作
        </strong>
       </font>
      </font>
     </font>
    </h4>
    <hr/>
    <table>
     <tbody>
      <tr>
       <td bgcolor="pink">
        <font color="red">
         <font face="华文楷体">
          <font size="4">
           <strong>
            登陆请求
           </strong>
          </font>
         </font>
        </font>
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/3ae5a0fb4d624e01900fe394c9d73221.png"/>
    </p>
    <hr/>
    <table>
     <tbody>
      <tr>
       <td bgcolor="pink">
        <font color="red">
         <font face="华文楷体">
          <font size="4">
           <strong>
            登陆响应
           </strong>
          </font>
         </font>
        </font>
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/0f1403c338a24c8dac1b8cb051095cde.png"/>
    </p>
    <blockquote>
     <p>
      可以看到，响应中包含了3个
      <code>
       Set-Cookie
      </code>
      属性.
     </p>
     <p>
      其中我们重点关注第三个，里面包含了一个
      <code>
       gitee-session-n
      </code>
      这样的属性，属性值是一串很长的加密之后的信息；
     </p>
     <p>
      这个信息就是
      <code>
       用户当前登陆的身份标识
      </code>
      ，也称为"
      <code>
       令牌(token)
      </code>
      "
     </p>
    </blockquote>
    <hr/>
    <h4>
     <a id="font_color__bluefont_facefont_size6strong3_strongfontfontfont_263">
     </a>
     <font color="blue">
      <font face="华文楷体">
       <font size="6">
        <strong>
         (3) 访问其他页面
        </strong>
       </font>
      </font>
     </font>
    </h4>
    <hr/>
    <p>
     登陆成功之后，此时可以看到后续访问码云的其他页面 (比如个人主页)，
     <code>
      请求
     </code>
     中就都会带着刚才获取到的
     <code>
      Cookie 信息
     </code>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/1969448c83ad4439b30db8a3f4042589.png"/>
    </p>
    <blockquote>
     <ul>
      <li>
       <p>
        请求你中的 Cookie 字段也包含了一个
        <code>
         gitee-session-n
        </code>
        属性，里面的值和刚才服务器返回的值相同；
       </p>
      </li>
      <li>
       <p>
        后续只要访问 gitee 这个网站，就会一直带着这个令牌，直到
        <code>
         令牌过期/下次重新登陆
        </code>
       </p>
      </li>
     </ul>
    </blockquote>
    <hr/>
    <h4>
     <a id="font_color__bluefont_facefont_size6strong4_strongfontfontfont_278">
     </a>
     <font color="blue">
      <font face="华文楷体">
       <font size="6">
        <strong>
         (4) 理解登陆过程
        </strong>
       </font>
      </font>
     </font>
    </h4>
    <hr/>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/86a07491de844872a5299e3b3aab068f.png"/>
    </p>
    <hr/>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/0b6cfe9d7b3e47a79546ebeda7da71c6.png"/>
    </p>
    <blockquote>
     <p>
      这个过程和
      <code>
       去医院看病
      </code>
      很相似：
     </p>
     <ol>
      <li>
       <p>
        到了医院先挂号：挂号时候需要提供身份证，同时得到了一张"就诊卡"，这个
        <code>
         就诊卡(sessionId)
        </code>
        就相当于患者的
        <code>
         "令牌"
        </code>
        ；
       </p>
      </li>
      <li>
       <p>
        后续去各个科室进行检查，诊断，开药等操作，都不必再出示身份证了，只要凭就诊卡即可识别出当前患者的身份.
       </p>
      </li>
      <li>
       <p>
        看完病了之后，不想要就诊卡了，就可以注销这个卡；
       </p>
      </li>
      <li>
       <p>
        此时患者的
        <code>
         身份
        </code>
        和
        <code>
         就诊卡
        </code>
        的关联就销毁了；(类似于网站的注销操作)
       </p>
      </li>
      <li>
       <p>
        又来看病，可以办一张新的就诊卡，此时就得到了一个新的"令牌"
       </p>
      </li>
     </ol>
    </blockquote>
    <hr/>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/a9d3553301c848ff9cad6aa4116248ea.gif#pic_center"/>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/cd5abfb0ba1c49128b69f4ebb5922bac.gif#pic_center"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323430325f38343931363239362f:61727469636c652f64657461696c732f313436313436373531" class_="artid" style="display:none">
 </p>
</div>


