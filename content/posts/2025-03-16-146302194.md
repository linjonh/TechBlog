---
layout: post
title: "Leetcode-1278.Palindrome-Partitioning-IV-CJava"
date: 2025-03-16 21:56:21 +0800
description: "Given a string s, return true if it is possible to split the string s into three non-empty palindromic substrings. Otherwise, return false.​​​​​"
keywords: "Leetcode-1278.Palindrome Partitioning IV [C++][Java]"
categories: ['Leetcode']
tags: ['动态规划', 'Leetcode', 'Java', 'C']
artid: "146302194"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146302194
    alt: "Leetcode-1278.Palindrome-Partitioning-IV-CJava"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146302194
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146302194
cover: https://bing.ee123.net/img/rand?artid=146302194
image: https://bing.ee123.net/img/rand?artid=146302194
img: https://bing.ee123.net/img/rand?artid=146302194
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Leetcode-1278.Palindrome Partitioning IV [C++][Java]
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <hr id="hr-toc" name="tableOfContents"/>
    <p>
    </p>
    <p>
     <a class="has-card" href="https://leetcode.com/problems/palindrome-partitioning-iv/description/" rel="nofollow" title="Leetcode-1278.Palindrome Partitioning IV">
      <span class="link-card-box" contenteditable="false">
       <span class="link-title">
        Leetcode-1278.Palindrome Partitioning IV
       </span>
       <span class="link-link">
        <img class="link-link-icon" src="https://csdnimg.cn/release/blog_editor_html/release2.3.8/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=P1C7">
         https://leetcode.com/problems/palindrome-partitioning-iv/description/
        </img>
       </span>
      </span>
     </a>
     <a class="has-card" href="https://leetcode.cn/problems/palindrome-partitioning-iv/description/" rel="nofollow" title="1745. 分割回文串 IV - 力扣（LeetCode）">
      <span class="link-card-box" contenteditable="false">
       <span class="link-title">
        1745. 分割回文串 IV - 力扣（LeetCode）
       </span>
       <span class="link-desc">
        1745. 分割回文串 IV - 给你一个字符串 s ，如果可以将它分割成三个 非空 回文子字符串，那么返回 true ，否则返回 false 。当一个字符串正着读和反着读是一模一样的，就称其为 回文字符串 。 示例 1：输入：s = "abcbdd"输出：true解释："abcbdd" = "a" + "bcb" + "dd"，三个子字符串都是回文的。示例 2：输入：s = "bcbddxy"输出：false解释：s 没办法被分割成 3 个回文子字符串。 提示： * 3 &lt;= s.length &lt;= 2000 * s 只包含小写英文字母。
       </span>
       <span class="link-link">
        <img class="link-link-icon" src="https://csdnimg.cn/release/blog_editor_html/release2.3.8/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=P1C7">
         https://leetcode.cn/problems/palindrome-partitioning-iv/description/
        </img>
       </span>
      </span>
     </a>
    </p>
    <h2 id="%E4%B8%80%E3%80%81%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0" name="%E4%B8%80%E3%80%81%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0">
     一、题目描述
    </h2>
    <p>
     Given a string
     <code>
      s
     </code>
     , return
     <code>
      true
     </code>
     <em>
      if it is possible to split the string
     </em>
     <code>
      s
     </code>
     <em>
      into three
      <strong>
       non-empty
      </strong>
      palindromic substrings. Otherwise, return
     </em>
     <code>
      false
     </code>
     .​​​​​
    </p>
    <p>
     A string is said to be palindrome if it the same string when reversed.
    </p>
    <p>
    </p>
    <p>
     <strong>
      Example 1:
     </strong>
    </p>
    <pre><strong>Input:</strong> s = "abcbdd"
<strong>Output:</strong> true
<strong>Explanation: </strong>"abcbdd" = "a" + "bcb" + "dd", and all three substrings are palindromes.
</pre>
    <p>
     <strong>
      Example 2:
     </strong>
    </p>
    <pre><strong>Input:</strong> s = "bcbddxy"
<strong>Output:</strong> false
<strong>Explanation: </strong>s cannot be split into 3 palindromes.
</pre>
    <p>
     <strong>
      Constraints:
     </strong>
    </p>
    <ul>
     <li>
      <code>
       3 &lt;= s.length &lt;= 2000
      </code>
     </li>
     <li>
      <code>
       s
      </code>
      ​​​​​​ consists only of lowercase English letters.
     </li>
    </ul>
    <p>
    </p>
    <h2 id="%E4%BA%8C%E3%80%81%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF" name="%E4%BA%8C%E3%80%81%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF">
     二、解题思路
    </h2>
    <ul>
     <li>
      <p>
       时间复杂度：O(n^2)
      </p>
     </li>
     <li>
      <p>
       空间复杂度：O(n^2)。
      </p>
     </li>
    </ul>
    <h3 id="%E3%80%90C%2B%2B%E3%80%91" name="%E3%80%90C%2B%2B%E3%80%91">
     【C++】
    </h3>
    <pre><code class="language-cpp">class Solution {
public:
    bool checkPartitioning(string s) {
        vector&lt;vector&lt;bool&gt;&gt; isPalindrome(s.size(), vector&lt;bool&gt;(s.size(), true));
        for (int l = s.size() - 1; l &gt;= 0; --l) {
            for (int r = l + 1; r &lt; s.size(); ++r) {
                isPalindrome[l][r] = (s[l] == s[r]) &amp;&amp; isPalindrome[l + 1][r - 1];
            }
        }
        for (int ml = 1; ml &lt; s.size() - 1; ++ml) {
            if (isPalindrome[0][ml - 1]) {
                for (int mr = ml; mr &lt; s.size() - 1; ++mr) {
                    if (isPalindrome[ml][mr] &amp;&amp; isPalindrome[mr + 1][s.size() - 1]) {
                        return true;
                    }
                }
            }
        }
        return false;
    }
};</code></pre>
    <p>
     isPalindrome的优势：
    </p>
    <ul>
     <li name="%E3%80%90Java%E3%80%91">
      内存局部性更优：按行从右向左填充，每次循环访问相邻内存地址，符合CPU缓存预取机制。
     </li>
     <li name="%E3%80%90Java%E3%80%91">
      分支预测友好：无额外条件判断（如 length == 1），减少分支预测失败的开销。
     </li>
     <li name="%E3%80%90Java%E3%80%91">
      初始化效率高：直接初始化所有元素为 true，仅需覆盖非回文区域，减少冗余操作。
     </li>
    </ul>
    <h3 id="%E3%80%90Java%E3%80%91" name="%E3%80%90Java%E3%80%91">
     【Java】
    </h3>
    <pre><code class="language-java">class Solution {
    public boolean checkPartitioning(String s) {
        boolean[][] isPalindrome = new boolean[s.length()][s.length()];
        for (int l = s.length() - 1; l &gt;= 0; --l) {
            for (int r = l; r &lt; s.length(); ++r) {
                isPalindrome[l][r] = (l == r)
                    ? true
                    : (s.charAt(l) == s.charAt(r)) &amp;&amp; (l + 1 == r || isPalindrome[l + 1][r - 1]);
            }
        }
        for (int ml = 1; ml &lt; s.length() - 1; ++ml) {
            if (isPalindrome[0][ml - 1]) {
                for (int mr = ml; mr &lt; s.length() - 1; ++mr) {
                    if (isPalindrome[ml][mr] &amp;&amp; isPalindrome[mr + 1][s.length() - 1]) {
                        return true;
                    }
                }
            }
        }
        return false;
    }
}</code></pre>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f31353731313139352f:61727469636c652f64657461696c732f313436333032313934" class_="artid" style="display:none">
 </p>
</div>


