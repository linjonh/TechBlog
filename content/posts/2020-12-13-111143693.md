---
layout: post
title: "C新大陆物联网云平台的连接简易理解版"
date: 2020-12-13 20:51:46 +0800
description: "文章目录前言：一、pandas是什么？二、使用步骤1.引入库2.读入数据总结提示：文章写完后，目录可"
keywords: "c# 物联设备如何接入"
categories: ['学习分享']
tags: ['程序人生', '物联网', 'C']
artid: "111143693"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=111143693
    alt: "C新大陆物联网云平台的连接简易理解版"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=111143693
featuredImagePreview: https://bing.ee123.net/img/rand?artid=111143693
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     C#新大陆物联网云平台的连接（简易理解版）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <div class="toc">
     <h4>
      文章目录
     </h4>
     <ul>
      <li>
       <a href="#_5" rel="nofollow">
        前言
       </a>
      </li>
      <li>
       <a href="#SDKAPI_9" rel="nofollow">
        一、简单了解SDK和API的区别？
       </a>
      </li>
      <li>
       <a href="#_20" rel="nofollow">
        二、使用步骤
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#1_21" rel="nofollow">
          1.引入库
         </a>
        </li>
        <li>
         <a href="#2_31" rel="nofollow">
          2.代码实现：
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <br/>
    <p>
    </p>
    <hr color="#000000" size='1"'/>
    <h2>
     <a id="_5">
     </a>
     前言
    </h2>
    <p>
     这篇文章只是用于对新大陆物联网连接的原理、步骤的初步理解，并不作为最终实现。
    </p>
    <hr color="#000000" size='1"'/>
    <h2>
     <a id="SDKAPI_9">
     </a>
     一、简单了解SDK和API的区别？
    </h2>
    <p>
     <font color="#999AAA">
      有一杯密封饮料，它的名字叫做“SDK”。
      <br/>
      饮料上插着吸管，吸管的名字叫“API”。
      <br/>
      把你叫做“XX系统”。
      <br/>
      如果你想喝到SDK里的饮料（让系统拥有SDK中的功能），你必须通过API这根吸管来实现（通过API连接你的系统和SDK工具包），否则你就喝不到饮料。
      <br/>
      所以：
      <br/>
      SDK＝放着你想要的软件功能的软件包
      <br/>
      API＝SDK上唯一的接口
     </font>
    </p>
    <h2>
     <a id="_20">
     </a>
     二、使用步骤
    </h2>
    <h3>
     <a id="1_21">
     </a>
     1.引入库
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/3d9c50954d44eee0a760e2b2fce32b9d.jpeg"/>
    </p>
    <p>
     <font color="#999AAA">
      引入：
     </font>
    </p>
    <pre><code class="prism language-csharp"><span class="token keyword">using</span> NLECloudSDK<span class="token punctuation">;</span>
<span class="token keyword">using</span> Newtonsoft<span class="token punctuation">.</span>Json<span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="2_31">
     </a>
     2.代码实现：
    </h3>
    <pre><code class="prism language-csharp"><span class="token keyword">namespace</span> WpfCLoud
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">partial</span> <span class="token keyword">class</span> <span class="token class-name">MainWindow</span> <span class="token punctuation">:</span> <span class="token class-name">Window</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">NLECloudAPI</span> api <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NLECloudAPI</span> <span class="token punctuation">(</span><span class="token string">"http://api.nlecloud.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 传入api接口</span>
        <span class="token class-name">AccountLoginDTO</span> dto <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AccountLoginDTO</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 账户登录数据传输对象（DTO：数据传输对象）</span>
        <span class="token keyword">string</span> Token <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span><span class="token comment">// 定义全局变量存储Token登录令牌</span>
        <span class="token keyword">dynamic</span> Data<span class="token punctuation">;</span><span class="token comment">// 定义全部泛变量用于接收返回的Json(【从网页返回的数据】Json:数据超轻量级的数据交换格式)</span>
        <span class="token keyword">string</span> <span class="token keyword">value</span><span class="token punctuation">;</span><span class="token comment">// 数值</span>
        <span class="token keyword">public</span> MainWindow <span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
        	InitializeComponent <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 			dto<span class="token punctuation">.</span>Account <span class="token operator">=</span> <span class="token string">"1111111111"</span><span class="token punctuation">;</span><span class="token comment">// 像登录传输数据类中的变量写入云平台的账号		</span>
			dto<span class="token punctuation">.</span>Password <span class="token operator">=</span> <span class="token string">"aaaaaaaaaa"</span><span class="token punctuation">;</span><span class="token comment">// 向登录传输类中的变量写入云平台的密码</span>
			dto<span class="token punctuation">.</span>IsRememberMe <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span><span class="token comment">//rememberMe</span>
			Data <span class="token operator">=</span> api<span class="token punctuation">.</span>UserLogin <span class="token punctuation">(</span>dto<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 换取Token</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>Data<span class="token punctuation">.</span>IsSuccess <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
	        <span class="token comment">// 解析返回Json数据，提取Token令牌</span>
			Token <span class="token operator">=</span> Data<span class="token punctuation">.</span>ResultObj<span class="token punctuation">.</span>AccessToken<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">// 获取数据，设备ID、传感器标识名api，登录令牌（Token）</span>
		Data <span class="token operator">=</span> api<span class="token punctuation">.</span>GetSensorInfo <span class="token punctuation">(</span><span class="token number">173736</span><span class="token punctuation">,</span> <span class="token string">"z_humidity"</span><span class="token punctuation">,</span> Token<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// sensorData穿过来的数据</span>
		<span class="token keyword">string</span> SensorData <span class="token operator">=</span> Data<span class="token punctuation">.</span>ResultObj<span class="token punctuation">.</span>Value<span class="token punctuation">.</span>ToString <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 如果没获取到值这里会报错！</span>
		<span class="token keyword">value</span> <span class="token operator">=</span> SensorData<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">//按钮事件</span>
	<span class="token keyword">private</span> <span class="token keyword">void</span> bt_get_Click <span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> <span class="token class-name">RoutedEventArgs</span> e<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
	    <span class="token comment">// 让label显示出来获取到的值</span>
   		label<span class="token punctuation">.</span>Content <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre>
    <hr color="#000000" size='1"'/>
    <p>
     进一步学习链接云平台的操作请点击这里：
     <a href="https://blog.csdn.net/weixin_43871650/article/details/105049523?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522160786283819215668871583%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=160786283819215668871583&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_v2~rank_v29-1-105049523.nonecase&amp;utm_term=C#%E6%96%B0%E5%A4%A7%E9%99%86%E7%89%A9%E8%81%94%E7%BD%91%E9%93%BE%E6%8E%A5&amp;spm=1018.2118.3001.4449">
      link
     </a>
    </p>
    <p>
     <font color="#999AAA">
      我本可以忍受黑暗，如果我不曾见过光明
      <br/>
      可如今，太阳将我的寂寞照得更荒凉。
     </font>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f35303935373337332f:61727469636c652f64657461696c732f313131313433363933" class_="artid" style="display:none">
 </p>
</div>


