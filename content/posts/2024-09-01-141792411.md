---
layout: post
title: "2024三掌柜赠书活动第二十七期Kubernetes企业级云原生运维实战"
date: 2024-09-01 23:56:48 +0800
description: "然而，由于Kubernetes功能丰富且复杂，涉及到操作系统、网"
keywords: "kubernetes企业级云原生运维实战"
categories: ['未分类']
tags: ['运维', '云原生', 'Kubernetes']
artid: "141792411"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=141792411
    alt: "2024三掌柜赠书活动第二十七期Kubernetes企业级云原生运维实战"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=141792411
featuredImagePreview: https://bing.ee123.net/img/rand?artid=141792411
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     2024三掌柜赠书活动第二十七期：Kubernetes企业级云原生运维实战
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2>
     目录
    </h2>
    <p id="%E5%89%8D%E8%A8%80-toc" style="margin-left:0px;">
     <a href="#%E5%89%8D%E8%A8%80" rel="nofollow">
      前言
     </a>
    </p>
    <p id="Kubernetes%E7%AE%80%E4%BB%8B-toc" style="margin-left:0px;">
     <a href="#Kubernetes%E7%AE%80%E4%BB%8B" rel="nofollow">
      Kubernetes简介
     </a>
    </p>
    <p id="%E4%BC%81%E4%B8%9A%E7%BA%A7%E4%BA%91%E5%8E%9F%E7%94%9F%E8%BF%90%E7%BB%B4%E6%8C%91%E6%88%98-toc" style="margin-left:0px;">
     <a href="#%E4%BC%81%E4%B8%9A%E7%BA%A7%E4%BA%91%E5%8E%9F%E7%94%9F%E8%BF%90%E7%BB%B4%E6%8C%91%E6%88%98" rel="nofollow">
      企业级云原生运维挑战
     </a>
    </p>
    <p id="%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98%E7%AD%96%E7%95%A5-toc" style="margin-left:0px;">
     <a href="#%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98%E7%AD%96%E7%95%A5" rel="nofollow">
      运维实战策略
     </a>
    </p>
    <p id="1.%20%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2%E4%B8%8E%E9%85%8D%E7%BD%AE-toc" style="margin-left:80px;">
     <a href="#1.%20%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2%E4%B8%8E%E9%85%8D%E7%BD%AE" rel="nofollow">
      1. 集群部署与配置
     </a>
    </p>
    <p id="2.%20%E5%AE%89%E5%85%A8%E6%80%A7%E4%BF%9D%E9%9A%9C-toc" style="margin-left:80px;">
     <a href="#2.%20%E5%AE%89%E5%85%A8%E6%80%A7%E4%BF%9D%E9%9A%9C" rel="nofollow">
      2. 安全性保障
     </a>
    </p>
    <p id="3.%20%E7%9B%91%E6%8E%A7%E4%B8%8E%E6%97%A5%E5%BF%97%E7%AE%A1%E7%90%86-toc" style="margin-left:80px;">
     <a href="#3.%20%E7%9B%91%E6%8E%A7%E4%B8%8E%E6%97%A5%E5%BF%97%E7%AE%A1%E7%90%86" rel="nofollow">
      3. 监控与日志管理
     </a>
    </p>
    <p id="4.%20%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4-toc" style="margin-left:80px;">
     <a href="#4.%20%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4" rel="nofollow">
      4. 自动化运维
     </a>
    </p>
    <p id="5.%20%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96-toc" style="margin-left:80px;">
     <a href="#5.%20%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" rel="nofollow">
      5. 性能优化
     </a>
    </p>
    <p id="6.%20%E6%88%90%E6%9C%AC%E6%8E%A7%E5%88%B6-toc" style="margin-left:80px;">
     <a href="#6.%20%E6%88%90%E6%9C%AC%E6%8E%A7%E5%88%B6" rel="nofollow">
      6. 成本控制
     </a>
    </p>
    <p id="%E5%85%B3%E4%BA%8E%E3%80%8AKubernetes%E4%BC%81%E4%B8%9A%E7%BA%A7%E4%BA%91%E5%8E%9F%E7%94%9F%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98%E3%80%8B-toc" style="margin-left:0px;">
     <a href="#%E5%85%B3%E4%BA%8E%E3%80%8AKubernetes%E4%BC%81%E4%B8%9A%E7%BA%A7%E4%BA%91%E5%8E%9F%E7%94%9F%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98%E3%80%8B" rel="nofollow">
      关于《Kubernetes企业级云原生运维实战》
     </a>
    </p>
    <p id="%E7%BC%96%E8%BE%91%E6%8E%A8%E8%8D%90-toc" style="margin-left:0px;">
     <a href="#%E7%BC%96%E8%BE%91%E6%8E%A8%E8%8D%90" rel="nofollow">
      编辑推荐
     </a>
    </p>
    <p id="%E5%86%85%E5%AE%B9%E7%AE%80%E4%BB%8B-toc" style="margin-left:0px;">
     <a href="#%E5%86%85%E5%AE%B9%E7%AE%80%E4%BB%8B" rel="nofollow">
      内容简介
     </a>
    </p>
    <p id="%E4%BD%9C%E8%80%85%E7%AE%80%E4%BB%8B-toc" style="margin-left:0px;">
     <a href="#%E4%BD%9C%E8%80%85%E7%AE%80%E4%BB%8B" rel="nofollow">
      作者简介
     </a>
    </p>
    <p id="%E5%9B%BE%E4%B9%A6%E7%9B%AE%E5%BD%95-toc" style="margin-left:0px;">
     <a href="#%E5%9B%BE%E4%B9%A6%E7%9B%AE%E5%BD%95" rel="nofollow">
      图书目录
     </a>
    </p>
    <p id="%E4%B9%A6%E4%B8%AD%E5%89%8D%E8%A8%80%2F%E5%BA%8F%E8%A8%80-toc" style="margin-left:0px;">
     <a href="#%E4%B9%A6%E4%B8%AD%E5%89%8D%E8%A8%80%2F%E5%BA%8F%E8%A8%80" rel="nofollow">
      书中前言/序言
     </a>
    </p>
    <p id="%E3%80%8AKubernetes%E4%BC%81%E4%B8%9A%E7%BA%A7%E4%BA%91%E5%8E%9F%E7%94%9F%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98%E3%80%8B%E5%85%A8%E4%B9%A6%E9%80%9F%E8%A7%88-toc" style="margin-left:0px;">
     <a href="#%E3%80%8AKubernetes%E4%BC%81%E4%B8%9A%E7%BA%A7%E4%BA%91%E5%8E%9F%E7%94%9F%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98%E3%80%8B%E5%85%A8%E4%B9%A6%E9%80%9F%E8%A7%88" rel="nofollow">
      《Kubernetes企业级云原生运维实战》全书速览
     </a>
    </p>
    <p id="%E7%BB%93%E6%9D%9F%E8%AF%AD-toc" style="margin-left:0px;">
     <a href="#%E7%BB%93%E6%9D%9F%E8%AF%AD" rel="nofollow">
      结束语
     </a>
    </p>
    <hr id="hr-toc"/>
    <p>
    </p>
    <h2 id="%E5%89%8D%E8%A8%80">
     前言
    </h2>
    <blockquote>
     <p>
      在当今互联网时代，Kubernetes已经成为新一代的基础设施标准，如何设计一个高效、稳定、安全的Kubernetes容器云平台成为了行业的重要课题。如果有从事多年DevOps领域的实践者和教育者，肯定希望运维人员能够更专注于业务架构，而不是被困扰于基础设施的繁琐管理。如今，容器技术的尘埃落定，使得这一期望成为现实。目前Kubernetes容器化运维以及DevOps和云原生建设成为运维工作重中之重。然而，由于Kubernetes功能丰富且复杂，涉及到操作系统、网络、存储、调度、分布式等各个方面的知识，这使得许多初学者在面对Kubernetes时，要么知识储备不足，要么杂乱无章，不知从何下手的困扰，很难真正地“掌握”这门主流技术！那么本文就来分享一下关于Kubernetes云原生运维实战相关的内容。
     </p>
    </blockquote>
    <h2 id="Kubernetes%E7%AE%80%E4%BB%8B">
     Kubernetes简介
    </h2>
    <p>
     Kubernetes是一个开源的容器编排平台，用于自动化部署、扩展和管理容器化应用程序。它支持多种容器运行时，包括Docker、containerd、CRI-O等。Kubernetes的核心特性包括服务发现、负载均衡、自愈、自动扩缩容、存储编排、密钥和配置管理等。
    </p>
    <h2 id="%E4%BC%81%E4%B8%9A%E7%BA%A7%E4%BA%91%E5%8E%9F%E7%94%9F%E8%BF%90%E7%BB%B4%E6%8C%91%E6%88%98">
     企业级云原生运维挑战
    </h2>
    <p>
     关于企业级云原生运维的挑战有很多，这里列举一些有代表性的来分享。
    </p>
    <ol>
     <li>
      复杂性管理：Kubernetes的架构包括多个组件，比如API服务器、调度器、控制器管理器等，每个组件都可能成为故障点。
     </li>
     <li>
      安全性：需要确保集群和运行中的应用安全，包括网络策略、Pod安全策略、RBAC权限控制等。
     </li>
     <li>
      高可用性：企业级应用要求Kubernetes集群具备高可用性，需要跨多个数据中心部署。
     </li>
     <li>
      性能优化：需要监控和优化集群性能，确保资源合理分配，避免资源争抢。
     </li>
     <li>
      成本控制：在满足性能需求的同时，还需要控制资源使用成本。
     </li>
    </ol>
    <h2 id="%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98%E7%AD%96%E7%95%A5">
     运维实战策略
    </h2>
    <p>
     接着再来分享一下关于运维实战中的策略，这里也是列举一些有代表性的方面。
    </p>
    <h4 id="1.%20%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2%E4%B8%8E%E9%85%8D%E7%BD%AE">
     1. 集群部署与配置
    </h4>
    <ul>
     <li>
      选择合适的部署工具：如kubeadm、Kops、Kubespray等。
     </li>
     <li>
      配置高可用性：使用多个控制平面节点，配置负载均衡和故障转移机制。
     </li>
     <li>
      网络配置：选择合适的网络插件，如Calico、Flannel、Weave等，确保网络策略的实施。
     </li>
    </ul>
    <h4 id="2.%20%E5%AE%89%E5%85%A8%E6%80%A7%E4%BF%9D%E9%9A%9C">
     2. 安全性保障
    </h4>
    <ul>
     <li>
      实施RBAC：基于角色的访问控制，确保用户和组只有执行其任务所需的权限。
     </li>
     <li>
      使用网络策略：限制Pod之间的通信，只允许必要的流量。
     </li>
     <li>
      定期安全审计：使用工具如Sonobuoy进行集群的安全审计。
     </li>
    </ul>
    <h4 id="3.%20%E7%9B%91%E6%8E%A7%E4%B8%8E%E6%97%A5%E5%BF%97%E7%AE%A1%E7%90%86">
     3. 监控与日志管理
    </h4>
    <ul>
     <li>
      监控系统：使用Prometheus和Grafana监控集群和应用的性能指标。
     </li>
     <li>
      日志管理：集成Elasticsearch、Fluentd和Kibana（EFK）堆栈，集中管理和分析日志。
     </li>
    </ul>
    <h4 id="4.%20%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4">
     4. 自动化运维
    </h4>
    <ul>
     <li>
      CI/CD集成：与Jenkins、GitLab CI等持续集成和持续部署工具集成，实现自动化部署。
     </li>
     <li>
      自动化故障恢复：利用Kubernetes的自愈特性，结合监控系统实现自动故障恢复。
     </li>
    </ul>
    <h4 id="5.%20%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96">
     5. 性能优化
    </h4>
    <ul>
     <li>
      资源限制与请求：为Pod设置合理的资源限制和请求，避免资源争抢。
     </li>
     <li>
      调度策略：根据业务需求和资源状况，制定合理的调度策略。
     </li>
    </ul>
    <h4 id="6.%20%E6%88%90%E6%9C%AC%E6%8E%A7%E5%88%B6">
     6. 成本控制
    </h4>
    <ul>
     <li>
      资源优化：定期审查资源使用情况，优化资源分配。
     </li>
     <li>
      按需扩缩：根据负载自动扩缩集群，减少资源浪费。
     </li>
    </ul>
    <h2 id="%E5%85%B3%E4%BA%8E%E3%80%8AKubernetes%E4%BC%81%E4%B8%9A%E7%BA%A7%E4%BA%91%E5%8E%9F%E7%94%9F%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98%E3%80%8B">
     关于《Kubernetes企业级云原生运维实战》
    </h2>
    <p>
     接下来给大家推荐一本关于Kubernetes的书籍，这是一本关于如何用Kubernetes运维的干货图书，一经上市就登上了当当“计算机与互联网”图书排行榜前列。本书从Kubernetes原理剖析讲起到实战技巧，助企业在日常云原生运维实战工作中轻松维护！另外，关注本文博主，点赞+收藏本文，且在本文评论区评论“入手Kubernetes”，将选取三名幸运读者送出纸质版《Kubernetes企业级云原生运维实战》一本，截止时间：2024.09.09。入手《Kubernetes企业级云原生运维实战》传送门：
     <a href="https://item.jd.com/14227279.html" rel="nofollow" title="https://item.jd.com/14227279.html">
      https://item.jd.com/14227279.html
     </a>
     ，个人觉得这本书非常的不错，是一本不可多得的好书，值得拥有去学习。年薪30W！这本书真心建议运维人冲一冲，工资高前景好！
    </p>
    <p class="img-center">
     <img alt="" height="800" src="https://i-blog.csdnimg.cn/direct/359e8cc55d6541079fbfa6ebbf6cdfed.png" width="800"/>
    </p>
    <h2 id="%E7%BC%96%E8%BE%91%E6%8E%A8%E8%8D%90">
     编辑推荐
    </h2>
    <blockquote>
     <p>
      14年DevOps大厂运维专家，手把手全面指导容器云平台建设，助力打造高效企业级平台。
     </p>
    </blockquote>
    <h2 id="%E5%86%85%E5%AE%B9%E7%AE%80%E4%BB%8B">
     内容简介
    </h2>
    <blockquote>
     <p>
      本书是一本实用性很强的Kubernetes运维实战指南，旨在为容器云平台的建设、应用和运维过程提供全面的指导。作者结合丰富的生产环境经验，深入探讨作为一名Kubernetes工程师 的核心技能，包括部署、存储、网络、安全、日志、监控、CI/CD等方面的技术。本书结合大量的实际案例，深入解析各个知识点，帮助读者更轻松地理解Kubernetes，并掌握在真实应用场景中的使用方法、技巧以及工作原理。通过学习本书，读者可以熟练运用这些知识来构建高效、稳定、安全的企业级Kubernetes容器平台，提高自身的运维能力和竞争力。
     </p>
     <p>
     </p>
     <p>
      本书适用于云计算工程师、运维工程师、DevOps工程师、开发工程师、测试工程师、架构师以及备考CKA认证人员，也适合作为高等院校计算机专业云计算及容器技术方面的教材和教学参考书。
     </p>
    </blockquote>
    <h2 id="%E4%BD%9C%E8%80%85%E7%AE%80%E4%BB%8B">
     作者简介
    </h2>
    <blockquote>
     <p>
      李振良 14年DevOps相关工作经验及7年培训经验；国内早一批K8s布道者；曾担任奇虎360公司高级DevOps工程师，K8s运维架构师，Linux集群架构专家；曾负责近千台服务器，主导从0到1实现亿级PV中大型网站架构、K8s容器平台建设、开发运维管理平台等十多个项目，积累了丰富项目实战经验。专注于Linux、Python、Golang、Docker、Kubernetes、DevOps、云原生等技术。
     </p>
    </blockquote>
    <h2 id="%E5%9B%BE%E4%B9%A6%E7%9B%AE%E5%BD%95">
     图书目录
    </h2>
    <blockquote>
     <p>
      第1章  Kubernetes概述 1
     </p>
     <p>
      1.1  容器技术概述 1
     </p>
     <p>
      1.2  Kubernetes介绍 3
     </p>
     <p>
      1.3  Kubernetes架构与组件 4
     </p>
     <p>
      1.4  Kubernetes核心资源 5
     </p>
     <p>
      1.5  本章小结 6
     </p>
     <p>
      第2章  Kubernetes快速入门 7
     </p>
     <p>
      2.1  Kubernetes集群部署 7
     </p>
     <p>
      2.1.1  准备服务器环境 7
     </p>
     <p>
      2.1.2  系统初始化配置 8
     </p>
     <p>
      2.1.3  安装Docker 10
     </p>
     <p>
      2.1.4  安装cri-docker 10
     </p>
     <p>
      2.1.5  安装kubeadm和kubelet 11
     </p>
     <p>
      2.1.6  部署Master节点 12
     </p>
     <p>
      2.1.7  部署Node节点 14
     </p>
     <p>
      2.1.8  部署网络插件 14
     </p>
     <p>
      2.1.9  部署Dashboard 16
     </p>
     <p>
      2.1.10  清空Kubernetes环境 18
     </p>
     <p>
      2.2  部署第一个应用程序 18
     </p>
     <p>
      2.2.1  通过Dashboard部署应用程序 18
     </p>
     <p>
      2.2.2  通过kubectl命令行部署应用程序 20
     </p>
     <p>
      2.2.3  通过定义资源文件部署应用程序 21
     </p>
     <p>
      2.3  kubectl管理工具 23
     </p>
     <p>
      2.3.1  kubectl子命令概要 23
     </p>
     <p>
      2.3.2  kubectl工具常用操作 28
     </p>
     <p>
      2.4  本章小结 30
     </p>
     <p>
      第3章  Pod资源对象 31
     </p>
     <p>
      3.1  Pod存在的意义 31
     </p>
     <p>
      3.2  Pod实现原理 32
     </p>
     <p>
      3.2.1  容器之间网络通信 32
     </p>
     <p>
      3.2.2  容器之间文件共享 35
     </p>
     <p>
      3.3  Pod资源常见字段及值类型 37
     </p>
     <p>
      3.4  Pod管理常用命令 38
     </p>
     <p>
      3.5  容器运行命令与参数 39
     </p>
     <p>
      3.5.1  command 39
     </p>
     <p>
      3.5.2  args 40
     </p>
     <p>
      3.6  镜像拉取策略 40
     </p>
     <p>
      3.7  声明端口 41
     </p>
     <p>
      3.8  容器健康检查 42
     </p>
     <p>
      3.8.1  存活探针 42
     </p>
     <p>
      3.8.2  就绪探针 44
     </p>
     <p>
      3.8.3  启动探针 46
     </p>
     <p>
      3.8.4  tcpSocket和exec检查方法 47
     </p>
     <p>
      3.9  容器资源配额 49
     </p>
     <p>
      3.9.1  资源请求与资源限制 49
     </p>
     <p>
      3.9.2  资源请求对Pod调度的影响 51
     </p>
     <p>
      3.9.3  理想的资源配额是多少 52
     </p>
     <p>
      3.9.4  服务质量 53
     </p>
     <p>
      3.10  容器环境变量 55
     </p>
     <p>
      3.11  初始化容器 56
     </p>
     <p>
      3.12  容器生命周期回调 58
     </p>
     <p>
      3.12.1  postStart 59
     </p>
     <p>
      3.12.2  preStop 60
     </p>
     <p>
      3.13  Pod生命周期 61
     </p>
     <p>
      3.13.1  创建Pod 61
     </p>
     <p>
      3.13.2  启动Pod 62
     </p>
     <p>
      3.13.3  销毁Pod 62
     </p>
     <p>
      3.14  本章小结 63
     </p>
     <p>
      第4章  工作负载资源对象 64
     </p>
     <p>
      4.1  工作负载资源概述 64
     </p>
     <p>
      4.2  Deployment 64
     </p>
     <p>
      4.2.1  获取源代码 65
     </p>
     <p>
      4.2.2  构建镜像 66
     </p>
     <p>
      4.2.3  推送镜像到镜像仓库 67
     </p>
     <p>
      4.2.4  部署应用 68
     </p>
     <p>
      4.2.5  应用升级 71
     </p>
     <p>
      4.2.6  应用回滚 74
     </p>
     <p>
      4.2.7  应用扩容与缩容 77
     </p>
     <p>
      4.2.8  应用下线 77
     </p>
     <p>
      4.2.9  实现灰度发布 77
     </p>
     <p>
      4.3  DaemonSet 79
     </p>
     <p>
      4.4  Job与CronJob 83
     </p>
     <p>
      4.4.1  Job 83
     </p>
     <p>
      4.4.2  ConJob 84
     </p>
     <p>
      4.5  本章小结 86
     </p>
     <p>
      第5章  Service资源对象 87
     </p>
     <p>
      5.1  Service概述 87
     </p>
     <p>
      5.2  Service定义 87
     </p>
     <p>
      5.3  Service公开类型 90
     </p>
     <p>
      5.3.1  ClusterIP 90
     </p>
     <p>
      5.3.2  NodePort 91
     </p>
     <p>
      5.3.3  LoadBalancer 93
     </p>
     <p>
      5.3.4  ExternalName 94
     </p>
     <p>
      5.4  Endpoints对象 95
     </p>
     <p>
      5.5  Service服务发现 97
     </p>
     <p>
      5.5.1  环境变量 97
     </p>
     <p>
      5.5.2  DNS 97
     </p>
     <p>
      5.6  Service代理模式 102
     </p>
     <p>
      5.6.1  iptables 102
     </p>
     <p>
      5.6.2  ipvs 104
     </p>
     <p>
      5.7  生产环境架构 107
     </p>
     <p>
      5.8  本章小结 108
     </p>
     <p>
      第6章  Ingress资源对象 109
     </p>
     <p>
      6.1  Ingress概述 109
     </p>
     <p>
      6.2  Ingress控制器部署 110
     </p>
     <p>
      6.3  Ingress对外公开HTTP服务 110
     </p>
     <p>
      6.4  基于请求路径转发不同服务 113
     </p>
     <p>
      6.5  Ingress配置HTTPS 114
     </p>
     <p>
      6.6  Ingress自定义配置 115
     </p>
     <p>
      6.6.1  增加代理超时时间 115
     </p>
     <p>
      6.6.2  设置客户端请求体大小 116
     </p>
     <p>
      6.6.3  重定向 116
     </p>
     <p>
      6.6.4  会话保持 117
     </p>
     <p>
      6.6.5  自定义规则 117
     </p>
     <p>
      6.7  Ingress灰度发布 118
     </p>
     <p>
      6.7.1  基于权重的流量切分 119
     </p>
     <p>
      6.7.2  基于客户端请求的流量切分 124
     </p>
     <p>
      6.7.3  常见发布策略总结 128
     </p>
     <p>
      6.8  Ingress工作原理 128
     </p>
     <p>
      6.9  生产环境架构 129
     </p>
     <p>
      6.10  本章小结 131
     </p>
     <p>
      第7章  Kubernetes存储管理 132
     </p>
     <p>
      7.1  卷 132
     </p>
     <p>
      7.1.1  emptyDir 132
     </p>
     <p>
      7.1.2  hostPath 134
     </p>
     <p>
      7.1.3  nfs 136
     </p>
     <p>
      7.1.4  容器存储接口 139
     </p>
     <p>
      7.2  持久卷 140
     </p>
     <p>
      7.2.1  创建PV 141
     </p>
     <p>
      7.2.2  创建PVC 142
     </p>
     <p>
      7.2.3  Pod使用PVC 143
     </p>
     <p>
      7.2.4  PV动态供给 144
     </p>
     <p>
      7.2.5  PV生命周期 148
     </p>
     <p>
      7.3  内置存储对象 149
     </p>
     <p>
      7.3.1  ConfigMap 149
     </p>
     <p>
      7.3.2  Secret 153
     </p>
     <p>
      7.3.3  配置文件自动重新加载方案 156
     </p>
     <p>
      7.4  本章小结 156
     </p>
     <p>
      第8章  有状态应用管理 157
     </p>
     <p>
      8.1  StatefulSet工作负载资源 157
     </p>
     <p>
      8.1.1  稳定的网络标识符 157
     </p>
     <p>
      8.1.2  稳定的独享存储 160
     </p>
     <p>
      8.2  MySQL主从复制集群实践 162
     </p>
     <p>
      8.2.1  MySQL集群拓扑规划 162
     </p>
     <p>
      8.2.2  MySQL集群容器化实现 163
     </p>
     <p>
      8.2.3  MySQL Slave扩展与缩减 167
     </p>
     <p>
      8.2.4  MySQL版本升级与回滚 170
     </p>
     <p>
      8.3  Operator 170
     </p>
     <p>
      8.3.1  Operator介绍 170
     </p>
     <p>
      8.3.2  自定义资源定义 171
     </p>
     <p>
      8.3.3  控制器 173
     </p>
     <p>
      8.3.4  MySQL Operator 174
     </p>
     <p>
      8.4  本章小结 178
     </p>
     <p>
      第9章  Kubernetes调度管理 179
     </p>
     <p>
      9.1  节点选择器 179
     </p>
     <p>
      9.2  节点亲和性 180
     </p>
     <p>
      9.3  Pod亲和性和反亲和性 184
     </p>
     <p>
      9.3.1  亲和性 184
     </p>
     <p>
      9.3.2  反亲和性 186
     </p>
     <p>
      9.4  污点与容忍 187
     </p>
     <p>
      9.4.1  污点 187
     </p>
     <p>
      9.4.2  容忍 188
     </p>
     <p>
      9.5  nodeName 190
     </p>
     <p>
      9.6  本章小结 190
     </p>
     <p>
      第10章  Kubernetes安全配置 192
     </p>
     <p>
      10.1  Kubernetes API访问控制 192
     </p>
     <p>
      10.1.1  Kubernetes安全框架 192
     </p>
     <p>
      10.1.2  RBAC介绍 193
     </p>
     <p>
      10.1.3  面向用户授权案例1 195
     </p>
     <p>
      10.1.4  面向用户授权案例2 202
     </p>
     <p>
      10.1.5  内置集群角色 204
     </p>
     <p>
      10.1.6  面向应用程序授权案例 204
     </p>
     <p>
      10.2  Pod安全上下文 207
     </p>
     <p>
      10.2.1  容器以普通用户运行 208
     </p>
     <p>
      10.2.2  容器启用特权 209
     </p>
     <p>
      10.2.3  容器设置只读文件系统 210
     </p>
     <p>
      10.3  网络策略 210
     </p>
     <p>
      10.3.1  网络策略实现 210
     </p>
     <p>
      10.3.2  网络策略资源 211
     </p>
     <p>
      10.3.3  默认策略 212
     </p>
     <p>
      10.3.4  Pod级别限制 213
     </p>
     <p>
      10.3.5  命名空间级别限制 214
     </p>
     <p>
      10.3.6  细粒度限制 215
     </p>
     <p>
      10.3.7  IP段限制 216
     </p>
     <p>
      10.3.8  出站流量限制 217
     </p>
     <p>
      10.4  本章小结 218
     </p>
     <p>
      第11章  Kubernetes网络插件之Calico 219
     </p>
     <p>
      11.1  Docker网络模型 219
     </p>
     <p>
      11.1.1  容器之间以及容器与宿主机之间的通信 219
     </p>
     <p>
      11.1.2  容器访问外部网络 221
     </p>
     <p>
      11.1.3  外部网络访问容器 221
     </p>
     <p>
      11.2  Kubernetes网络模型 222
     </p>
     <p>
      11.3  Calico介绍 224
     </p>
     <p>
      11.4  Calico部署 226
     </p>
     <p>
      11.5  calicoctl管理工具 226
     </p>
     <p>
      11.6  Calico工作模式 227
     </p>
     <p>
      11.6.1  覆盖网络：VXLAN模式 229
     </p>
     <p>
      11.6.2  覆盖网络：IPIP模式 233
     </p>
     <p>
      11.6.3  路由网络：BGP模式 235
     </p>
     <p>
      11.6.4  工作模式优缺点 236
     </p>
     <p>
      11.7  路由反射器 237
     </p>
     <p>
      11.8  本章小结 240
     </p>
     <p>
      第12章  Kubernetes部署利器Helm 241
     </p>
     <p>
      12.1  Helm介绍 241
     </p>
     <p>
      12.2  Helm安装 241
     </p>
     <p>
      12.3  Helm命令概述 242
     </p>
     <p>
      12.4  Helm基本使用 243
     </p>
     <p>
      12.4.1  制作Chart 243
     </p>
     <p>
      12.4.2  安装Chart 246
     </p>
     <p>
      12.4.3  更新Release 248
     </p>
     <p>
      12.4.4  回滚Release 249
     </p>
     <p>
      12.4.5  卸载Release 249
     </p>
     <p>
      12.5  深入理解Chart模板 249
     </p>
     <p>
      12.5.1  缩进函数 250
     </p>
     <p>
      12.5.2  toYaml函数 250
     </p>
     <p>
      12.5.3  条件判断 251
     </p>
     <p>
      12.5.4  循环 252
     </p>
     <p>
      12.5.5  变量作用域 253
     </p>
     <p>
      12.5.6  读取文件 254
     </p>
     <p>
      12.5.7  自定义模板 255
     </p>
     <p>
      12.6  自建Chart仓库 257
     </p>
     <p>
      12.6.1  搭建Chart仓库服务器 257
     </p>
     <p>
      12.6.2  推送本地Chart到远程仓库 257
     </p>
     <p>
      12.6.3  通过远程仓库安装Chart 258
     </p>
     <p>
      12.7  公共Chart仓库 258
     </p>
     <p>
      12.7.1  部署MySQL集群 259
     </p>
     <p>
      12.7.2  部署Redis集群 262
     </p>
     <p>
      12.8  本章小结 263
     </p>
     <p>
      第13章  基于Jenkins的CI/CD平台 265
     </p>
     <p>
      13.1  CI/CD简介 265
     </p>
     <p>
      13.1.1  持续集成 265
     </p>
     <p>
      13.1.2  持续交付和持续部署 266
     </p>
     <p>
      13.2  CI/CD流程设计 267
     </p>
     <p>
      13.3  相关软件环境准备 267
     </p>
     <p>
      13.3.1  部署GitLab代码仓库 268
     </p>
     <p>
      13.3.2  部署Harbor镜像仓库 269
     </p>
     <p>
      13.3.3  部署Jenkins发布系统 271
     </p>
     <p>
      13.4  Jenkins初体验 275
     </p>
     <p>
      13.4.1  流程设计 275
     </p>
     <p>
      13.4.2  提交代码 275
     </p>
     <p>
      13.4.3  创建项目 278
     </p>
     <p>
      13.4.4  项目配置 278
     </p>
     <p>
      13.4.5  验证与测试 281
     </p>
     <p>
      13.5  Jenkins参数化构建 283
     </p>
     <p>
      13.6  Jenkins主从架构 284
     </p>
     <p>
      13.7  Jenkins Pipeline 287
     </p>
     <p>
      13.7.1  Pipeline语法 287
     </p>
     <p>
      13.7.2  基于Kubernetes动态创建代理 288
     </p>
     <p>
      13.7.3  常用指令 292
     </p>
     <p>
      13.7.4  片段生成器 296
     </p>
     <p>
      13.8  案例：Pipeline实现网站项目的自动发布 297
     </p>
     <p>
      13.8.1  Pipeline脚本基本结构 297
     </p>
     <p>
      13.8.2  拉取代码阶段 299
     </p>
     <p>
      13.8.3  代码编译阶段 302
     </p>
     <p>
      13.8.4  构建镜像阶段 303
     </p>
     <p>
      13.8.5  部署到K8s集群阶段 306
     </p>
     <p>
      13.8.6  反馈阶段 309
     </p>
     <p>
      13.8.7  验证与测试 311
     </p>
     <p>
      13.9  Argo CD增强持续交付 316
     </p>
     <p>
      13.9.1  Argo CD部署 317
     </p>
     <p>
      13.9.2  Argo CD实践 319
     </p>
     <p>
      13.10  本章小结 323
     </p>
     <p>
      第14章  基于Prometheus Grafana的监控平台 324
     </p>
     <p>
      14.1  Prometheus和Grafana简介 324
     </p>
     <p>
      14.2  Prometheus架构 324
     </p>
     <p>
      14.3  部署Prometheus和Grafana 326
     </p>
     <p>
      14.3.1  部署Prometheus 326
     </p>
     <p>
      14.3.2  部署Grafana 327
     </p>
     <p>
      14.3.3  在Grafana中添加Prometheus作为数据源 328
     </p>
     <p>
      14.4  Prometheus监控案例 329
     </p>
     <p>
      14.4.1  监控Linux服务器 329
     </p>
     <p>
      14.4.2  监控Docker服务器 332
     </p>
     <p>
      14.4.3  监控MySQL服务器 334
     </p>
     <p>
      14.4.4  监控应用程序 336
     </p>
     <p>
      14.5  Alertmanager告警通知 342
     </p>
     <p>
      14.5.1  部署Alertmanager 342
     </p>
     <p>
      14.5.2  Prometheus指向Alertmanager 344
     </p>
     <p>
      14.5.3  定义告警规则 344
     </p>
     <p>
      14.5.4  企业微信告警通知 349
     </p>
     <p>
      14.5.5  自定义告警内容模板 351
     </p>
     <p>
      14.6  Prometheus监控Kubernetes 353
     </p>
     <p>
      14.6.1  Prometheus服务发现简介 353
     </p>
     <p>
      14.6.2  Kubernetes关注的指标 354
     </p>
     <p>
      14.6.3  在Kubernetes中搭建Prometheus监控系统 355
     </p>
     <p>
      14.6.4  监控Node 356
     </p>
     <p>
      14.6.5  监控Pod 363
     </p>
     <p>
      14.6.6  监控资源对象 366
     </p>
     <p>
      14.6.7  监控Service和Ingress对象 368
     </p>
     <p>
      14.6.8  监控集群中应用程序 371
     </p>
     <p>
      14.6.9  监控Kubernetes组件 374
     </p>
     <p>
      14.7  本章小结 383
     </p>
     <p>
      第15章  基于ELK Stack的日志管理平台 384
     </p>
     <p>
      15.1  ELK Stack简介 384
     </p>
     <p>
      15.2  部署Elasticsearch和Kibana 386
     </p>
     <p>
      15.3  Nginx日志收集案例 387
     </p>
     <p>
      15.3.1  部署Filebeat 387
     </p>
     <p>
      15.3.2  Kibana查看索引 388
     </p>
     <p>
      15.3.3  创建数据视图 389
     </p>
     <p>
      15.4  数据处理管道Logstash 391
     </p>
     <p>
      15.4.1  部署Logstash 391
     </p>
     <p>
      15.4.2  定义数据处理规则 393
     </p>
     <p>
      15.4.3  配置Filebeat发送到Logstash 395
     </p>
     <p>
      15.5  Kibana仪表板 396
     </p>
     <p>
      15.5.1  PV统计 397
     </p>
     <p>
      15.5.2  PV趋势图 398
     </p>
     <p>
      15.5.3  客户端IP TOP10 399
     </p>
     <p>
      15.5.4  URI TOP10 401
     </p>
     <p>
      15.5.5  HTTP状态码分布 401
     </p>
     <p>
      15.6  收集Kubernetes集群中的应用日志 403
     </p>
     <p>
      15.6.1  如何收集这些日志 403
     </p>
     <p>
      15.6.2  在Kubernetes中搭建ELK 日志系统 404
     </p>
     <p>
      15.6.3  收集Pod日志 405
     </p>
     <p>
      15.6.4  收集Pod中的日志文件 410
     </p>
     <p>
      15.7  本章小结 415
     </p>
    </blockquote>
    <h2 id="%E4%B9%A6%E4%B8%AD%E5%89%8D%E8%A8%80%2F%E5%BA%8F%E8%A8%80">
     书中前言/序言
    </h2>
    <blockquote>
     <p>
      在当今互联网时代，Kubernetes已经成为新一代的基础设施标准，如何设计一个高效、稳定、安全的Kubernetes容器云平台成为行业的重要课题。
     </p>
     <p>
      作为从事多年DevOps领域的实践者和教育者，我一直希望着运维人员能够更多地专注于业务架构，而不是被烦琐的基础设施管理所困扰。如今，容器技术的尘埃落定，使得这一期望成为现实。
     </p>
     <p>
      目前Kubernetes容器化运维以及DevOps和云原生建设成为运维工作重中之重。然而，由于Kubernetes功能丰富且复杂，涉及操作系统、网络、存储、调度、分布式等各个方面的知识，这使得许多初学者在面对Kubernetes时，要么知识储备不足，要么不知该怎么学，很难真正地“掌握”这门主流技术！
     </p>
     <p>
      本书旨在帮助您成为一名合格的Kubernetes工程师，并提升您的职场竞争力。本书将深入浅出地解读Kubernetes的方方面面，从基础概念到实际应用，再到项目案例，从简单操作到复杂场景，一步步引导您进入Kubernetes的世界，从而获得在真实场景中解决问题的能力，成为Kubernetes领域的专业人才。
     </p>
     <p>
      本书内容
     </p>
     <p>
      本书分为15章，每一章都有多个实操案例，帮助读者更好地理解和运用所学的知识。
     </p>
     <p>
      第1章：讲解容器技术的优势、容器编排系统出现的背景和Kubernetes的概念、功能和集群架构。
     </p>
     <p>
      第2章：讲解Kubernetes的集群搭建和部署应用程序的多种方式，以及kubectl工具的基本用法和常用操作命令。
     </p>
     <p>
      第3章：讲解Pod资源的概念、设计模式、基本管理、常用功能配置和生命周期管     理等。
     </p>
     <p>
      第4章：讲解管理Pod的工作负载资源Deployment、DaemonSet、Job和CronJob，以及它们在不同应用场景中的应用和特点。
     </p>
     <p>
      第5章：讲解Service资源的概念、功能、公开类型和实现原理，以及Service在生产环境中的架构。
     </p>
     <p>
      第6章：讲解Ingress资源的概念、Ingress控制器部署、对外公开HTTP/HTTPS服务、自定义配置、灰度发布和实现原理，以及Ingress在生产环境中的架构。
     </p>
     <p>
      第7章：讲解卷和持久卷（PV与PVC）出现的背景和意义，如何为Pod提供存储服务。
     </p>
     <p>
      第8章：讲解StatefulSet资源如何管理有状态应用程序和实践，以及Operator的工作机制。
     </p>
     <p>
      第9章：讲解Kubernetes常用的调度策略，将Pod调度到预期的节点上。
     </p>
     <p>
      第10章：讲解Kubernetes安全方面的配置，包括RBAC授权访问、Pod安全上下文以提高Pod安全和网络策略资源限制网络通信的实践。
     </p>
     <p>
      第11章：讲解Kubernetes引入网络插件的背景，深入剖析Calico的工作原理以及管理方法。
     </p>
     <p>
      第12章：讲解Helm的概念、基本使用、Chart模板以及Chart仓库。
     </p>
     <p>
      第13章：重点讲解如何基于Jenkins构建一套CI/CD平台，以及Jenkins的核心功能和使用方法。
     </p>
     <p>
      第14章：重点讲解如何基于Prometheus Grafana构建一套监控平台，以及Prometheus的核心功能和使用方法。
     </p>
     <p>
      第15章：重点讲解如何基于ELK Stack构建一套日志管理平台，以及ELK Stack的核心功能和使用方法。
     </p>
     <p>
      本书特点
     </p>
     <p>
      ?实战导向：本书采用“重实操、轻理论”的实战模式，强调读者通过实际操作来学习，边学变练。
     </p>
     <p>
      ?由浅入深：从基础概念出发，逐步深入解读Kubernetes的各个层面。通过渐进式的学习路径，读者可以轻松地对Kubernetes有全面理解。
     </p>
     <p>
      ?丰富的案例和架构图：通过丰富的案例和架构图，读者可以更好地将所学的知识应用到实际工作中。
     </p>
     <p>
      ?强调方法和技巧：着重介绍在使用Kubernetes过程中的实际操作方法和技巧，使读者可以学到更多的实战经验，提高在实战中的应用水平。
     </p>
     <p>
      读者服务
     </p>
     <p>
      读者可扫描封底的二维码访问本书专享资源官网或代码仓库获取案例实战源码、软件包及其他学习资料，也可以加入读者群，下载最新的学习资源或反馈书中的问题。
     </p>
     <p>
      勘误和支持
     </p>
     <p>
      本书在编写过程中历经多次勘校、查证，力求减少差错，尽善尽美，但由于作者水平有限，书中难免存在疏漏之处，欢迎读者批评指正，也欢迎读者来信一起探讨。
     </p>
     <p>
      编者
     </p>
    </blockquote>
    <h2 id="%E3%80%8AKubernetes%E4%BC%81%E4%B8%9A%E7%BA%A7%E4%BA%91%E5%8E%9F%E7%94%9F%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98%E3%80%8B%E5%85%A8%E4%B9%A6%E9%80%9F%E8%A7%88">
     《Kubernetes企业级云原生运维实战》全书速览
    </h2>
    <p class="img-center">
     <img alt="" height="1200" src="https://i-blog.csdnimg.cn/direct/276ff6d6abb84e39ac790f002367eb57.png" width="750"/>
    </p>
    <p>
    </p>
    <h2 id="%E7%BB%93%E6%9D%9F%E8%AF%AD">
     结束语
    </h2>
    <p>
     通过上文对Kubernetes云原生运维实战的详细介绍，我们可以看到Kubernetes云原生运维是企业日常运维中的核心，同时Kubernetes企业级云原生运维也是一个复杂但至关重要的领域。通过实施上文介绍的策略，企业可以确保其Kubernetes集群的稳定性、安全性和性能。随着云原生技术的不断发展，运维实践也需要不断进化，以适应新的挑战和需求。在运维的道路上，没有一劳永逸的解决方案，只有不断学习、实践和优化的过程，希望通过本文的分享，能够帮助更多的企业在云原生时代中稳健前行。
    </p>
   </div>
  </div>
 </article>
 <p alt="6874747073:3a2f2f626c6f672e6373646e2e6e65742f4343313939315f2f:61727469636c652f64657461696c732f313431373932343131" class_="artid" style="display:none">
 </p>
</div>


