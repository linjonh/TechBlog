---
layout: post
title: "React-ç»„ä»¶çš„æ–°æ—§ç”Ÿå‘½å‘¨æœŸ"
date: 2025-03-11 17:43:34 +0800
description: "â¤React-ç»„ä»¶çš„æ–°æ—§ç”Ÿå‘½å‘¨æœŸ1ã€ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ¦‚è¿°.????ç”Ÿå‘½å‘¨æœŸå«ä¹‰ï¼šä»ç»„ä»¶å‡ºç”Ÿåˆ°æ›´æ–°ã€æ”¹å˜ã€é”€æ¯(åˆ›å»º\\æ›´æ–°\\é”€æ¯)çš„æ•´ä¸ªé˜¶æ®µã€‚????ç”Ÿå‘½å‘¨æœŸçš„é’©å­å‡½æ•°å«ä¹‰ï¼šç»„ä»¶çš„æ¯ä¸ªé˜¶æ®µéƒ½ä¼´éšç€ä¸€äº›æ–¹æ³•ï¼Œå°±æ˜¯ç”Ÿå‘½å‘¨æœŸçš„é’©å­å‡½æ•°,æˆ‘ä»¬å°±æ˜¯é€šè¿‡æ§åˆ¶è¿™äº›ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä»è€Œæ§åˆ¶ç»„ä»¶ã€‚????ç”Ÿå‘½å‘¨æœŸæ„ä¹‰ï¼šç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæœ‰åŠ©äºç†è§£ç»„ä»¶çš„è¿è¡Œ..."
keywords: "â¤React-ç»„ä»¶çš„æ–°æ—§ç”Ÿå‘½å‘¨æœŸ"
categories: ['æœªåˆ†ç±»']
tags: ['å‰ç«¯æ¡†æ¶', 'å‰ç«¯', 'React', 'Javascript', 'Ecmascript']
artid: "146194347"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146194347
    alt: "React-ç»„ä»¶çš„æ–°æ—§ç”Ÿå‘½å‘¨æœŸ"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146194347
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146194347
cover: https://bing.ee123.net/img/rand?artid=146194347
image: https://bing.ee123.net/img/rand?artid=146194347
img: https://bing.ee123.net/img/rand?artid=146194347
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     â¤React-ç»„ä»¶çš„æ–°æ—§ç”Ÿå‘½å‘¨æœŸ
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <div class="article-content-wrap" style="font-size: 16px;">
     <div class="artical-content-bak main-content">
      <div class="con artical-content editor-preview-side" id="markdownContent">
       <h3 class="markdown-h" id="h0">
        <a id="React_1">
        </a>
        â¤React-ç»„ä»¶çš„æ–°æ—§ç”Ÿå‘½å‘¨æœŸ
       </h3>
       <h4 class="markdown-h" id="h1">
        <a id="1_4">
        </a>
        1ã€ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ¦‚è¿°.
       </h4>
       <h5 class="markdown-h" id="h2">
        <a id="_6">
        </a>
        ğŸ‘‰
        <code>
         ç”Ÿå‘½å‘¨æœŸ
        </code>
        å«ä¹‰ï¼š
       </h5>
       <p>
        ä»ç»„ä»¶å‡ºç”Ÿåˆ°æ›´æ–°ã€æ”¹å˜ã€é”€æ¯(åˆ›å»º\æ›´æ–°\é”€æ¯)çš„æ•´ä¸ªé˜¶æ®µã€‚
       </p>
       <h5 class="markdown-h" id="h3">
        <a id="_10">
        </a>
        ğŸ‘‰
        <code>
         ç”Ÿå‘½å‘¨æœŸçš„é’©å­å‡½æ•°
        </code>
        å«ä¹‰ï¼š
       </h5>
       <p>
        ç»„ä»¶çš„æ¯ä¸ªé˜¶æ®µéƒ½ä¼´éšç€ä¸€äº›æ–¹æ³•ï¼Œå°±æ˜¯ç”Ÿå‘½å‘¨æœŸçš„é’©å­å‡½æ•°,æˆ‘ä»¬å°±æ˜¯é€šè¿‡æ§åˆ¶è¿™äº›ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä»è€Œæ§åˆ¶ç»„ä»¶ã€‚
       </p>
       <h5 class="markdown-h" id="h4">
        <a id="_14">
        </a>
        ğŸ‘‰
        <code>
         ç”Ÿå‘½å‘¨æœŸ
        </code>
        æ„ä¹‰ï¼š
       </h5>
       <p>
        ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæœ‰åŠ©äºç†è§£ç»„ä»¶çš„è¿è¡Œæ–¹å¼ã€å®Œæˆæ›´å¤æ‚çš„ç»„ä»¶åŠŸèƒ½ã€åˆ†æç»„ä»¶é”™è¯¯åŸå› 
       </p>
       <h5 class="markdown-h" id="h5">
        <a id="TIPS_18">
        </a>
        ğŸ‘‰
        <code>
         TIPS
        </code>
       </h5>
       <p>
        åªæœ‰ç±»ç»„ä»¶æ‰æœ‰ç”Ÿå‘½å‘¨æœŸ
       </p>
       <h4 class="markdown-h" id="h6">
        <a id="2__22">
        </a>
        2ã€ ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªé˜¶æ®µ
       </h4>
       <p>
        1.æ¯ä¸ªé˜¶æ®µçš„æ‰§è¡Œæ—¶æœº
       </p>
       <p>
        2ã€æ¯ä¸ªé˜¶æ®µé’©å­å‡½æ•°çš„æ‰§è¡Œé¡ºåº
       </p>
       <p>
        3ã€æ¯ä¸ªé˜¶æ®µé’©å­å‡½æ•°çš„ä½œç”¨
       </p>
       <h5 class="markdown-h" id="h7">
        <a id="_30">
        </a>
        ğŸ‘‰ä¸»è¦é˜¶æ®µ
       </h5>
       <p>
        ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸»è¦åˆ†ä¸ºä¸‰ä¸ªä¸»è¦é˜¶æ®µï¼š
       </p>
       <p>
        <code>
         æŒ‚è½½(Mounting)ã€
        </code>
       </p>
       <p>
        <code>
         æ›´æ–°(Updating)ã€
        </code>
       </p>
       <p>
        <code>
         å¸è½½(Unmounting)
        </code>
       </p>
       <blockquote>
        <p>
         ç”Ÿå‘½å‘¨æœŸå›¾
         <img alt="â¤React-ç»„ä»¶çš„æ–°æ—§ç”Ÿå‘½å‘¨æœŸ_é’©å­å‡½æ•°" src="https://i-blog.csdnimg.cn/img_convert/61f238aed2e80dfae401cc09ebf1dcc4.png" style="outline: none;"/>
        </p>
       </blockquote>
       <h5 class="markdown-h" id="h8">
        <a id="__44">
        </a>
        ğŸ‘‰ åˆ›å»ºæ—¶
       </h5>
       <ol>
        <li>
         åˆ›å»ºæ—¶(æŒ‚è½½é˜¶æ®µ)
        </li>
       </ol>
       <div class="code-toolbar">
        <div class="hljs-cto">
         <div class="operation_box">
          <button class="copy_btn disable">
           ç™»å½•åå¤åˆ¶
          </button>
          <a class="downloadCode" title="ç™»å½•åä¸€é”®ä¸‹è½½å…¨æ–‡ä»£ç ">
           <i class="iconblog blogimport">
           </i>
          </a>
         </div>
         <pre class="has" tabindex="0"><code class="language-js" id="code_id_0">æ‰§è¡Œæ—¶æœºï¼šç»„ä»¶åˆ›å»ºæ—¶(é¡µé¢åŠ è½½æ—¶)</code></pre>
         <ul class="pre-numbering">
          <li>
           1.
          </li>
         </ul>
        </div>
       </div>
       <p>
        æ‰§è¡Œé¡ºåºï¼š
        <img alt="â¤React-ç»„ä»¶çš„æ–°æ—§ç”Ÿå‘½å‘¨æœŸ_åˆå§‹åŒ–_02" src="https://i-blog.csdnimg.cn/img_convert/10dc0dc9d4d7e1b66adca79d9db34a88.png" style="outline: none;"/>
       </p>
       <h5 class="markdown-h" id="h9">
        <a id="_54">
        </a>
        ğŸ‘‰é’©å­å‡½æ•°
       </h5>
       <table>
        <thead>
         <tr>
          <th>
           é’©å­å‡½æ•°
          </th>
          <th>
           è§¦å‘æ—¶æœº
          </th>
          <th>
           ä½œç”¨
          </th>
         </tr>
        </thead>
        <tbody>
         <tr>
          <td>
           <strong>
            constructor
           </strong>
          </td>
          <td>
           åˆ›å»ºç»„ä»¶æ—¶ï¼Œæœ€å…ˆæ‰§è¡Œ
          </td>
          <td>
           1. åˆå§‹åŒ– state
           <br/>
           2. ä¸ºäº‹ä»¶å¤„ç†ç¨‹åºç»‘å®š this
          </td>
         </tr>
         <tr>
          <td>
           <strong>
            render
           </strong>
          </td>
          <td>
           æ¯æ¬¡ç»„ä»¶æ¸²æŸ“éƒ½ä¼šè§¦å‘
          </td>
          <td>
           1. æ¸²æŸ“ UI(æ³¨æ„ï¼šä¸èƒ½è°ƒç”¨
           <code>
            setState()
           </code>
           )
          </td>
         </tr>
         <tr>
          <td>
           <strong>
            componentDidMount
           </strong>
          </td>
          <td>
           ç»„ä»¶æŒ‚è½½(å®Œæˆ DOM æ¸²æŸ“)å
          </td>
          <td>
           1. å‘é€ç½‘ç»œè¯·æ±‚
           <br/>
           2. DOM æ“ä½œ
          </td>
         </tr>
        </tbody>
       </table>
       <h5 class="markdown-h" id="h10">
        <a id="_62">
        </a>
        ğŸ‘‰ä½¿ç”¨ç¤ºä¾‹
       </h5>
       <div class="code-toolbar">
        <div class="hljs-cto">
         <div class="operation_box">
          <button class="copy_btn disable">
           ç™»å½•åå¤åˆ¶
          </button>
          <a class="downloadCode" title="ç™»å½•åä¸€é”®ä¸‹è½½å…¨æ–‡ä»£ç ">
           <i class="iconblog blogimport">
           </i>
          </a>
         </div>
         <pre class="has" tabindex="0"><code class="language-js" id="code_id_1"><span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// åˆå§‹åŒ– state</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// å¤„ç† this æŒ‡å‘é—®é¢˜</span>
    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">'ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼šconstructor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 1. è¿›è¡Œ DOM æ“ä½œ</span>
  <span class="token comment">// 2. å‘é€ ajax è¯·æ±‚ï¼Œè·å–è¿œç¨‹æ•°æ®</span>
  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">'ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼šcomponentDidMount'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// è¿™é‡Œå¯ä»¥è¿›è¡Œ AJAX è¯·æ±‚ç­‰æ“ä½œ</span>
    <span class="token comment">// const title = document.getElementById('title');</span>
    <span class="token comment">// console.log(title);</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// é”™è¯¯æ¼”ç¤ºï¼ï¼ï¼ä¸è¦åœ¨ render ä¸­è°ƒç”¨ setState</span>
    <span class="token comment">// this.setState({ count: 1 });  // **é”™è¯¯**ï¼šä¸è¦åœ¨ render ä¸­è°ƒç”¨ setStateï¼</span>

    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">'ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼šrender'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token literal-property property">Count</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
          Increment
        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> MyComponent<span class="token punctuation">;</span>
</code></pre>
         <ul class="pre-numbering">
          <li>
           1.
          </li>
          <li>
           2.
          </li>
          <li>
           3.
          </li>
          <li>
           4.
          </li>
          <li>
           5.
          </li>
          <li>
           6.
          </li>
          <li>
           7.
          </li>
          <li>
           8.
          </li>
          <li>
           9.
          </li>
          <li>
           10.
          </li>
          <li>
           11.
          </li>
          <li>
           12.
          </li>
          <li>
           13.
          </li>
          <li>
           14.
          </li>
          <li>
           15.
          </li>
          <li>
           16.
          </li>
          <li>
           17.
          </li>
          <li>
           18.
          </li>
          <li>
           19.
          </li>
          <li>
           20.
          </li>
          <li>
           21.
          </li>
          <li>
           22.
          </li>
          <li>
           23.
          </li>
          <li>
           24.
          </li>
          <li>
           25.
          </li>
          <li>
           26.
          </li>
          <li>
           27.
          </li>
          <li>
           28.
          </li>
          <li>
           29.
          </li>
          <li>
           30.
          </li>
          <li>
           31.
          </li>
          <li>
           32.
          </li>
          <li>
           33.
          </li>
          <li>
           34.
          </li>
          <li>
           35.
          </li>
          <li>
           36.
          </li>
          <li>
           37.
          </li>
          <li>
           38.
          </li>
         </ul>
        </div>
       </div>
       <h5 class="markdown-h" id="h11">
        <a id="_106">
        </a>
        ğŸ‘‰æ›´æ–°æ—¶
       </h5>
       <h6 class="markdown-h" id="h12">
        <a id="_107">
        </a>
        æ›´æ–°çš„ä¸‰ç§æƒ…å†µ
       </h6>
       <div class="code-toolbar">
        <div class="hljs-cto">
         <div class="operation_box">
          <button class="copy_btn disable">
           ç™»å½•åå¤åˆ¶
          </button>
          <a class="downloadCode" title="ç™»å½•åä¸€é”®ä¸‹è½½å…¨æ–‡ä»£ç ">
           <i class="iconblog blogimport">
           </i>
          </a>
         </div>
         <pre class="has" tabindex="0"><code class="language-js" id="code_id_2"><span class="token operator">-</span> <span class="token operator">**</span>æ‰§è¡Œæ—¶æœº<span class="token operator">**</span>ï¼š
  <span class="token number">1.</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">setState()</span><span class="token template-punctuation string">`</span></span>
  <span class="token number">2.</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">forceUpdate()</span><span class="token template-punctuation string">`</span></span>
  <span class="token number">3.</span> ç»„ä»¶æ¥æ”¶åˆ°æ–°çš„ <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">props</span><span class="token template-punctuation string">`</span></span>
</code></pre>
         <ul class="pre-numbering">
          <li>
           1.
          </li>
          <li>
           2.
          </li>
          <li>
           3.
          </li>
          <li>
           4.
          </li>
         </ul>
        </div>
       </div>
       <ul>
        <li>
         <strong>
          è¯´æ˜
         </strong>
         ï¼šä»¥ä¸Šä¸‰è€…ä»»æ„ä¸€ç§å˜åŒ–ï¼Œç»„ä»¶å°±ä¼šé‡æ–°æ¸²æŸ“ã€‚
        </li>
       </ul>
       <h6 class="markdown-h" id="h13">
        <a id="_117">
        </a>
        <strong>
         æ‰§è¡Œé¡ºåº
        </strong>
       </h6>
       <table>
        <thead>
         <tr>
          <th>
           é’©å­å‡½æ•°
          </th>
          <th>
           è§¦å‘æ—¶æœº
          </th>
          <th>
           ä½œç”¨
          </th>
         </tr>
        </thead>
        <tbody>
         <tr>
          <td>
           <strong>
            render()
           </strong>
          </td>
          <td>
           æ¯æ¬¡ç»„ä»¶æ¸²æŸ“éƒ½ä¼šè§¦å‘
          </td>
          <td>
           æ¸²æŸ“ UI(ä¸æŒ‚è½½é˜¶æ®µæ˜¯åŒä¸€ä¸ª
           <code>
            render
           </code>
           )
          </td>
         </tr>
         <tr>
          <td>
           <strong>
            componentDidUpdate()
           </strong>
          </td>
          <td>
           ç»„ä»¶æ›´æ–°(å®Œæˆ DOM æ¸²æŸ“)å
          </td>
          <td>
           1. å‘é€ç½‘ç»œè¯·æ±‚
           <br/>
           2. DOM æ“ä½œ
           <br/>
           æ³¨æ„ï¼šå¦‚æœè¦
           <code>
            setState()
           </code>
           ï¼Œå¿…é¡»æ”¾åœ¨ä¸€ä¸ª
           <code>
            if
           </code>
           æ¡ä»¶ä¸­
          </td>
         </tr>
        </tbody>
       </table>
       <h6 class="markdown-h" id="h14">
        <a id="_124">
        </a>
        ğŸ‘‰ä½¿ç”¨ç¤ºä¾‹
       </h6>
       <div class="code-toolbar">
        <div class="hljs-cto">
         <div class="operation_box">
          <button class="copy_btn disable">
           ç™»å½•åå¤åˆ¶
          </button>
          <a class="downloadCode" title="ç™»å½•åä¸€é”®ä¸‹è½½å…¨æ–‡ä»£ç ">
           <i class="iconblog blogimport">
           </i>
          </a>
         </div>
         <pre class="has" tabindex="0"><code class="language-js" id="code_id_3"><span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">'--å­ç»„ä»¶--ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼šrender'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token literal-property property">ç»Ÿè®¡è±†è±†è¢«æ‰“çš„æ¬¡æ•°</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>count<span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token parameter">prevProps</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">'--å­ç»„ä»¶--ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼šcomponentDidUpdate'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// æ­£ç¡®åšæ³•ï¼šåœ¨æ¡ä»¶ä¸­è°ƒç”¨ setState</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prevProps<span class="token punctuation">.</span>count <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// å¯ä»¥åœ¨è¿™é‡Œè°ƒç”¨ setStateï¼Œä½†éœ€è¦ç¡®ä¿ä¸ä¼šå¯¼è‡´æ— é™å¾ªç¯</span>
      <span class="token comment">// this.setState({});</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// é”™è¯¯æ¼”ç¤ºï¼ï¼ï¼</span>
    <span class="token comment">// ç›´æ¥è°ƒç”¨ setState ä¼šå¯¼è‡´é€’å½’æ›´æ–°</span>
    <span class="token comment">// this.setState({});</span>

    <span class="token comment">// è·å– DOM</span>
    <span class="token keyword">const</span> title <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>title<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
         <ul class="pre-numbering">
          <li>
           1.
          </li>
          <li>
           2.
          </li>
          <li>
           3.
          </li>
          <li>
           4.
          </li>
          <li>
           5.
          </li>
          <li>
           6.
          </li>
          <li>
           7.
          </li>
          <li>
           8.
          </li>
          <li>
           9.
          </li>
          <li>
           10.
          </li>
          <li>
           11.
          </li>
          <li>
           12.
          </li>
          <li>
           13.
          </li>
          <li>
           14.
          </li>
          <li>
           15.
          </li>
          <li>
           16.
          </li>
          <li>
           17.
          </li>
          <li>
           18.
          </li>
          <li>
           19.
          </li>
          <li>
           20.
          </li>
          <li>
           21.
          </li>
          <li>
           22.
          </li>
          <li>
           23.
          </li>
          <li>
           24.
          </li>
          <li>
           25.
          </li>
          <li>
           26.
          </li>
          <li>
           27.
          </li>
         </ul>
        </div>
       </div>
       <div class="code-toolbar">
        <div class="hljs-cto">
         <div class="operation_box">
          <button class="copy_btn disable">
           ç™»å½•åå¤åˆ¶
          </button>
          <a class="downloadCode" title="ç™»å½•åä¸€é”®ä¸‹è½½å…¨æ–‡ä»£ç ">
           <i class="iconblog blogimport">
           </i>
          </a>
         </div>
         <pre class="has" tabindex="0"><code class="language-js" id="code_id_4"><span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token parameter">prevProps</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">'--å­ç»„ä»¶--ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼šcomponentDidUpdate'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// æ¯”è¾ƒæ›´æ–°å‰åçš„ props æ˜¯å¦ç›¸åŒï¼Œå†³å®šæ˜¯å¦é‡æ–°æ¸²æŸ“ç»„ä»¶</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ä¸Šä¸€æ¬¡çš„props:'</span><span class="token punctuation">,</span> prevProps<span class="token punctuation">,</span> <span class="token string">', å½“å‰çš„props:'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// å¦‚æœ count å‘ç”Ÿå˜åŒ–ï¼Œæ›´æ–°çŠ¶æ€</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>prevProps<span class="token punctuation">.</span>count <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å‡è®¾ä½ æƒ³å°† count çŠ¶æ€é‡ç½®ä¸º 0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
         <ul class="pre-numbering">
          <li>
           1.
          </li>
          <li>
           2.
          </li>
          <li>
           3.
          </li>
          <li>
           4.
          </li>
          <li>
           5.
          </li>
          <li>
           6.
          </li>
          <li>
           7.
          </li>
          <li>
           8.
          </li>
          <li>
           9.
          </li>
          <li>
           10.
          </li>
          <li>
           11.
          </li>
         </ul>
        </div>
       </div>
       <h6 class="markdown-h" id="h15">
        <a id="_171">
        </a>
        ç»„ä»¶çš„å‡½æ•°å‘¨æœŸ
       </h6>
       <p>
        render ç”Ÿå‘½å‘¨æœŸæ¸²æŸ“ componenetDidUpdate() ç”Ÿå‘½å‘¨æœŸæ›´æ–°
       </p>
       <p>
        <strong>
         æ³¨æ„éƒ¨åˆ†ï¼š
        </strong>
       </p>
       <p>
        seState åº”è¯¥æ”¾åœ¨åˆ¤æ–­if é‡Œé¢ajaxçš„è¯·æ±‚éƒ¨åˆ†åº”è¯¥æ”¾åœ¨è¿™é‡Œ
       </p>
       <div class="code-toolbar">
        <div class="hljs-cto">
         <div class="operation_box">
          <button class="copy_btn disable">
           ç™»å½•åå¤åˆ¶
          </button>
          <a class="downloadCode" title="ç™»å½•åä¸€é”®ä¸‹è½½å…¨æ–‡ä»£ç ">
           <i class="iconblog blogimport">
           </i>
          </a>
         </div>
         <pre class="has" tabindex="0"><code class="language-js" id="code_id_5"><span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">'--å­ç»„ä»¶--ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼šrender'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token literal-property property">ç»Ÿè®¡è±†è±†è¢«æ‰“çš„æ¬¡æ•°</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">'--å­ç»„ä»¶--ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼šcomponentDidUpdate'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// è·å– DOM å…ƒç´ </span>
    <span class="token keyword">const</span> title <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>title<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‰“å° h1 å…ƒç´ çš„å†…å®¹</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Counter<span class="token punctuation">;</span>
</code></pre>
         <ul class="pre-numbering">
          <li>
           1.
          </li>
          <li>
           2.
          </li>
          <li>
           3.
          </li>
          <li>
           4.
          </li>
          <li>
           5.
          </li>
          <li>
           6.
          </li>
          <li>
           7.
          </li>
          <li>
           8.
          </li>
          <li>
           9.
          </li>
          <li>
           10.
          </li>
          <li>
           11.
          </li>
          <li>
           12.
          </li>
          <li>
           13.
          </li>
          <li>
           14.
          </li>
          <li>
           15.
          </li>
          <li>
           16.
          </li>
         </ul>
        </div>
       </div>
       <h5 class="markdown-h" id="h16">
        <a id="_197">
        </a>
        ğŸ‘‰ç»„ä»¶å¸è½½æ—¶(å¸è½½é˜¶æ®µ)
       </h5>
       <p>
        <code>
         æ‰§è¡Œæ—¶é—´ï¼šç»„ä»¶ä»é¡µé¢ä¹‹ä¸­æ¶ˆå¤±æ—¶
        </code>
       </p>
       <table>
        <thead>
         <tr>
          <th>
           é’©å­å‡½æ•°
          </th>
          <th>
           è§¦å‘æ—¶æœº
          </th>
          <th>
           ä½œç”¨
          </th>
         </tr>
        </thead>
        <tbody>
         <tr>
          <td>
           <strong>
            componentWillUnmount
           </strong>
          </td>
          <td>
           ç»„ä»¶å¸è½½(ä»é¡µé¢ä¸­æ¶ˆå¤±)
          </td>
          <td>
           æ‰§è¡Œæ¸…ç†å·¥ä½œ(æ¯”å¦‚ï¼šæ¸…ç†å®šæ—¶å™¨ç­‰)
          </td>
         </tr>
        </tbody>
       </table>
       <ul>
        <li>
         componentDidMount(){}ç»„ä»¶çš„æŒ‚è½½é˜¶æ®µ
        </li>
        <li>
         componentWillUnmount(){}ç»„ä»¶çš„å¸è½½é˜¶æ®µ
        </li>
       </ul>
       <p>
        <code>
         ç»„ä»¶çš„æŒ‚è½½é˜¶æ®µæ‰§è¡Œçš„ä¸€äº›æ–¹æ³•å¯ä»¥åœ¨ç»„ä»¶çš„å¸è½½é˜¶æ®µé™¤å»
        </code>
       </p>
       <div class="code-toolbar">
        <div class="hljs-cto">
         <div class="operation_box">
          <button class="copy_btn disable">
           ç™»å½•åå¤åˆ¶
          </button>
          <a class="downloadCode" title="ç™»å½•åä¸€é”®ä¸‹è½½å…¨æ–‡ä»£ç ">
           <i class="iconblog blogimport">
           </i>
          </a>
         </div>
         <pre class="has" tabindex="0"><code class="language-js" id="code_id_6"><span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// å¼€å¯å®šæ—¶å™¨</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>timerId <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å®šæ—¶å™¨æ­£åœ¨æ‰§è¡Œ~'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token literal-property property">ç»Ÿè®¡è±†è±†è¢«æ‰“çš„æ¬¡æ•°</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">'ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°: componentWillUnmount'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// æ¸…ç†å®šæ—¶å™¨</span>
    <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timerId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
         <ul class="pre-numbering">
          <li>
           1.
          </li>
          <li>
           2.
          </li>
          <li>
           3.
          </li>
          <li>
           4.
          </li>
          <li>
           5.
          </li>
          <li>
           6.
          </li>
          <li>
           7.
          </li>
          <li>
           8.
          </li>
          <li>
           9.
          </li>
          <li>
           10.
          </li>
          <li>
           11.
          </li>
          <li>
           12.
          </li>
          <li>
           13.
          </li>
          <li>
           14.
          </li>
          <li>
           15.
          </li>
          <li>
           16.
          </li>
          <li>
           17.
          </li>
          <li>
           18.
          </li>
         </ul>
        </div>
       </div>
       <h4 class="markdown-h" id="h17">
        <a id="3react_15__233">
        </a>
        3ã€æ—§ç‰ˆæœ¬-ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°(react 15 å¯ç›´æ¥è·³è¿‡)
       </h4>
       <p>
        <img alt="â¤React-ç»„ä»¶çš„æ–°æ—§ç”Ÿå‘½å‘¨æœŸ_åˆå§‹åŒ–_03" src="https://i-blog.csdnimg.cn/img_convert/80764f9be2021cb828481e8e61575bf8.png" style="outline: none;"/>
       </p>
       <p>
        æˆ‘ä»¬å¯ä»¥æ¥çœ‹çœ‹React15 çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°
       </p>
       <p>
        (1)
        <code>
         constructor()
        </code>
        : ES6 ç±»ä¸­çš„æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–ä½¿ç”¨(æ¯”å¦‚åˆå§‹åŒ–ç»„ä»¶çŠ¶æ€(state)ç»‘å®šäº‹ä»¶å¤„ç†å™¨ï¼›),ç»„ä»¶å®ä¾‹åŒ–æ—¶è°ƒç”¨
       </p>
       <p>
        (2)
        <code>
         componentWillReceiveProps()
        </code>
        : ä¸€èˆ¬ä½¿ç”¨éƒ½æ˜¯ä¼ å€¼
        <code>
         componentWillReceiveProps(nextProps)
        </code>
       </p>
       <ul>
        <li>
         <strong>
          å·²åºŸå¼ƒ
         </strong>
         ï¼šè¿™ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°å°±æ˜¯åœ¨ç»„ä»¶å³å°†æ¥æ”¶æ–°çš„å±æ€§æ—¶è¢«è°ƒç”¨(æ—§ç‰ˆæœ¬Reactä¸­å°±æ˜¯æ›´æ–°ç”¨)ã€‚å¯ä»¥åœ¨è¿™é‡Œæ¯”è¾ƒæ–°æ—§å±æ€§ï¼Œç„¶åæ›´æ–°ç»„ä»¶çš„çŠ¶æ€;
        </li>
       </ul>
       <p>
        (3)
        <code>
         shouldComponentUpdate(nextProps, nextState)
        </code>
        : ç»„ä»¶æ¥æ”¶åˆ°æ–°çš„å±æ€§æˆ–è€…çŠ¶æ€æ—¶ï¼Œåœ¨æ›´æ–°ç»„ä»¶ä¹‹å‰è°ƒç”¨
        <code>
         shouldComponentUpdate()
        </code>
        å‡½æ•°ã€‚
       </p>
       <p>
        æ ¹æ®æ–°çš„å±æ€§å’ŒçŠ¶æ€åˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°æ¸²æŸ“ç»„ä»¶(æ€§èƒ½ä¼˜åŒ–å¸¸ç”¨)
       </p>
       <p>
        (4)
        <code>
         componentWillMount()
        </code>
        :
       </p>
       <ul>
        <li>
         <strong>
          å·²åºŸå¼ƒ
         </strong>
         ï¼šæ–°ç‰ˆæœ¬ä¸å†æ¨èä½¿ç”¨ã€‚ åœ¨ç»„ä»¶å³å°†è¢«æŒ‚è½½åˆ° DOM ä¸­æ—¶è¢«è°ƒç”¨,å¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨
         <code>
          constructor()
         </code>
         æˆ–è€…
         <code>
          componentDidMount()
         </code>
         æ¥æ›¿ä»£ã€‚
        </li>
       </ul>
       <p>
        (5)
        <code>
         componentWillUpdate(nextProps, nextState)
        </code>
        :
        <strong>
         å·²åºŸå¼ƒ
        </strong>
        ï¼šæ–°ç‰ˆæœ¬ä¸å†æ¨è,åœ¨ç»„ä»¶å³å°†è¢«æ›´æ–°ä¹‹å‰è¢«è°ƒç”¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç»„ä»¶å³å°†æ›´æ–°ä¹‹å‰æ§åˆ¶ç»„ä»¶ã€‚
       </p>
       <p>
        (6)
        <code>
         componentDidUpdate()
        </code>
        : ç»„ä»¶ç¬¬ä¸€æ¬¡è¢«æ¸²æŸ“åˆ° DOM ä¸­ä¹‹åè¢«è°ƒç”¨ã€‚æˆ‘ä»¬å¯ä»¥è¿›è¡Œä¸€äº›åˆå§‹åŒ–çš„æ“ä½œï¼Œè·å–è¿œç¨‹æ•°æ®ã€è®¢é˜…äº‹ä»¶ç­‰
       </p>
       <p>
        (7)
        <code>
         render()
        </code>
        :
        <code>
         render()
        </code>
        <code>
         æœ€é‡è¦
        </code>
        çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¹‹ä¸€,è¿”å›è™šæ‹Ÿ DOM å…ƒç´ ï¼Œæ¸²æŸ“ç»„ä»¶å¤–è§‚å’Œç»“æ„.
       </p>
       <p>
        (8)
        <code>
         componentWillUnmount()
        </code>
        : åœ¨ç»„ä»¶å³å°†è¢«é”€æ¯å’Œä» DOM ä¸­ç§»é™¤ä¹‹å‰è¢«è°ƒç”¨,å°±ç±»ä¼¼ç ¸é—¨åœ¨vueé”€æ¯ä¹‹å‰ä¸€æ ·ï¼Œå¯ä»¥å–æ¶ˆè®¢é˜…ã€æ¸…é™¤å®šæ—¶å™¨ã€‚
       </p>
       <h4 class="markdown-h" id="h18">
        <a id="4_react_16__260">
        </a>
        4ã€
        <code>
         é‡è¦
        </code>
        - æ–°ç‰ˆæœ¬-ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°(react 16 )
       </h4>
       <h5 class="markdown-h" id="h19">
        <a id="1_constructor_264">
        </a>
        (1) constructor
       </h5>
       <p>
        åœ¨ç±»ç»„ä»¶åˆ›å»ºå®ä¾‹æ—¶è°ƒç”¨ï¼Œåˆå§‹åŒ–çš„æ—¶å€™æ‰§è¡Œä¸€æ¬¡ï¼Œå¯ä»¥åœ¨ç»„ä»¶è¿›è¡Œåˆå§‹åŒ–æ—¶å€™æ§åˆ¶ç»„ä»¶ã€‚
       </p>
       <p>
        ä¸å®šä¹‰
        <code>
         constructor
        </code>
        ï¼ŒReact ä¼šè‡ªåŠ¨ä¸ºç»„ä»¶åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„
        <code>
         constructor
        </code>
       </p>
       <p>
        æˆ‘ä»¬æ¥å†™ä¸€ä¸ªç®€å•çš„
        <code>
         ç±»ç»„ä»¶
        </code>
        çœ‹çœ‹
       </p>
       <div class="code-toolbar">
        <div class="hljs-cto">
         <div class="operation_box">
          <button class="copy_btn disable">
           ç™»å½•åå¤åˆ¶
          </button>
          <a class="downloadCode" title="ç™»å½•åä¸€é”®ä¸‹è½½å…¨æ–‡ä»£ç ">
           <i class="iconblog blogimport">
           </i>
          </a>
         </div>
         <pre class="has" tabindex="0"><code class="language-js" id="code_id_7"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token comment">// ç”Ÿå‘½å‘¨æœŸ</span>
<span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">props</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//superä½œç”¨ ï¼š ä¼ é€’props,æ‰èƒ½åœ¨æ¥ä¸‹æ¥çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œè·å–åˆ°props</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'constructor-ç”Ÿå‘½å‘¨æœŸ'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"App"</span> id<span class="token operator">=</span><span class="token string">'link'</span><span class="token operator">&gt;</span>constructor<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Demo<span class="token punctuation">;</span>
</code></pre>
         <ul class="pre-numbering">
          <li>
           1.
          </li>
          <li>
           2.
          </li>
          <li>
           3.
          </li>
          <li>
           4.
          </li>
          <li>
           5.
          </li>
          <li>
           6.
          </li>
          <li>
           7.
          </li>
          <li>
           8.
          </li>
          <li>
           9.
          </li>
          <li>
           10.
          </li>
          <li>
           11.
          </li>
          <li>
           12.
          </li>
          <li>
           13.
          </li>
          <li>
           14.
          </li>
         </ul>
        </div>
       </div>
       <div class="code-toolbar">
        <div class="hljs-cto">
         <div class="operation_box">
          <button class="copy_btn disable">
           ç™»å½•åå¤åˆ¶
          </button>
          <a class="downloadCode" title="ç™»å½•åä¸€é”®ä¸‹è½½å…¨æ–‡ä»£ç ">
           <i class="iconblog blogimport">
           </i>
          </a>
         </div>
         <pre class="has" tabindex="0"><code class="language-js" id="code_id_8">constructor<span class="token operator">-</span>ç”Ÿå‘½å‘¨æœŸ
</code></pre>
         <ul class="pre-numbering">
          <li>
           1.
          </li>
         </ul>
        </div>
       </div>
       <p>
        ä½œç”¨
       </p>
       <div class="code-toolbar">
        <div class="hljs-cto">
         <div class="operation_box">
          <button class="copy_btn disable">
           ç™»å½•åå¤åˆ¶
          </button>
          <a class="downloadCode" title="ç™»å½•åä¸€é”®ä¸‹è½½å…¨æ–‡ä»£ç ">
           <i class="iconblog blogimport">
           </i>
          </a>
         </div>
         <pre class="has" tabindex="0"><code class="language-js" id="code_id_9"><span class="token operator">-</span>   åˆå§‹åŒ– state ï¼Œè·å–è·¯ç”±ä¸­çš„å‚æ•°ï¼Œç»„ä»¶ä¼ å€¼èµ‹å€¼ç»™ stateç­‰ ã€‚
<span class="token operator">-</span>   ç»‘å®šç±»ç»„ä»¶äº‹ä»¶ï¼Œç»‘å®š <span class="token keyword">this</span> ã€èŠ‚æµï¼Œé˜²æŠ–ã€‚
<span class="token operator">-</span>   å¯¹ç±»ç»„ä»¶è¿›è¡Œç”Ÿå‘½å‘¨æœŸçš„åŠ«æŒï¼Œæ¸²æŸ“åŠ«æŒç­‰ã€‚
</code></pre>
         <ul class="pre-numbering">
          <li>
           1.
          </li>
          <li>
           2.
          </li>
          <li>
           3.
          </li>
         </ul>
        </div>
       </div>
       <div class="code-toolbar">
        <div class="hljs-cto">
         <div class="operation_box">
          <button class="copy_btn disable">
           ç™»å½•åå¤åˆ¶
          </button>
          <a class="downloadCode" title="ç™»å½•åä¸€é”®ä¸‹è½½å…¨æ–‡ä»£ç ">
           <i class="iconblog blogimport">
           </i>
          </a>
         </div>
         <pre class="has" tabindex="0"><code class="language-js" id="code_id_10"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token comment">// 01  åˆå§‹åŒ–çŠ¶æ€</span>
<span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">props</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">,</span><span class="token string">'props'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'constructor-ç”Ÿå‘½å‘¨æœŸ'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//åˆå§‹åŒ–çŠ¶æ€</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token operator">=</span><span class="token punctuation">{<!-- --></span> 
            <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'alien'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Demo<span class="token punctuation">;</span>


<span class="token comment">// 02 **ç»‘å®šäº‹ä»¶å¤„ç†å™¨**</span>
<span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>handleClick <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
 <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">name</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'handleClick'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token number">03</span> <span class="token operator">**</span>åˆå§‹åŒ–å¼•ç”¨<span class="token operator">**</span>
<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> 
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">this</span><span class="token punctuation">.</span>myRef <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre>
         <ul class="pre-numbering">
          <li>
           1.
          </li>
          <li>
           2.
          </li>
          <li>
           3.
          </li>
          <li>
           4.
          </li>
          <li>
           5.
          </li>
          <li>
           6.
          </li>
          <li>
           7.
          </li>
          <li>
           8.
          </li>
          <li>
           9.
          </li>
          <li>
           10.
          </li>
          <li>
           11.
          </li>
          <li>
           12.
          </li>
          <li>
           13.
          </li>
          <li>
           14.
          </li>
          <li>
           15.
          </li>
          <li>
           16.
          </li>
          <li>
           17.
          </li>
          <li>
           18.
          </li>
          <li>
           19.
          </li>
          <li>
           20.
          </li>
          <li>
           21.
          </li>
          <li>
           22.
          </li>
          <li>
           23.
          </li>
          <li>
           24.
          </li>
          <li>
           25.
          </li>
          <li>
           26.
          </li>
          <li>
           27.
          </li>
          <li>
           28.
          </li>
          <li>
           29.
          </li>
          <li>
           30.
          </li>
          <li>
           31.
          </li>
          <li>
           32.
          </li>
          <li>
           33.
          </li>
          <li>
           34.
          </li>
          <li>
           35.
          </li>
          <li>
           36.
          </li>
          <li>
           37.
          </li>
          <li>
           38.
          </li>
         </ul>
        </div>
       </div>
       <h5 class="markdown-h" id="h20">
        <a id="2_getDerivedStateFromProps_react_16__340">
        </a>
        (2) getDerivedStateFromProps (react 16 æ–°å¢)
       </h5>
       <div class="code-toolbar">
        <div class="hljs-cto">
         <div class="operation_box">
          <button class="copy_btn disable">
           ç™»å½•åå¤åˆ¶
          </button>
          <a class="downloadCode" title="ç™»å½•åä¸€é”®ä¸‹è½½å…¨æ–‡ä»£ç ">
           <i class="iconblog blogimport">
           </i>
          </a>
         </div>
         <pre class="has" tabindex="0"><code class="language-js" id="code_id_11"><span class="token function">getDerivedStateFromProps</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">,</span>prevState<span class="token punctuation">)</span>
<span class="token comment">// nextProps çˆ¶ç»„ä»¶æ–°ä¼ é€’çš„ props ;</span>
<span class="token comment">// prevState ç»„ä»¶åœ¨æ­¤æ¬¡æ›´æ–°å‰çš„ state</span>
</code></pre>
         <ul class="pre-numbering">
          <li>
           1.
          </li>
          <li>
           2.
          </li>
          <li>
           3.
          </li>
          <li>
           4.
          </li>
         </ul>
        </div>
       </div>
       <p>
        ç»„ä»¶æ›´æ–°æ‰§è¡ŒåŒ…æ‹¬(propså˜åŒ–ï¼ŒsetStateã€forceUpdate)
       </p>
       <p>
        <code>
         æ³¨æ„ç‚¹
        </code>
       </p>
       <p>
        getDerivedStateFromProps è¢«å®šä¹‰ä¸º static æ–¹æ³• â€”â€” static æ–¹æ³•å†…éƒ¨æ‹¿ä¸åˆ°ç»„ä»¶å®ä¾‹çš„ this
       </p>
       <p>
        ä»»ä½•æ“ä½œ this.fetch()ä¹‹ç±»çš„éƒ½ä¸å¯ä»¥åœ¨é‡Œå–é¢ä½¿ç”¨
       </p>
       <p>
        åœ¨ç»„ä»¶çš„æ“ä½œä¹‹ä¸­å¤§è‡´å½’ä¸ºä¸¤ç±»
       </p>
       <ul>
        <li>
         <strong>
          åŸºäº props æ›´æ–°çŠ¶æ€
         </strong>
        </li>
       </ul>
       <div class="code-toolbar">
        <div class="hljs-cto">
         <div class="operation_box">
          <button class="copy_btn disable">
           ç™»å½•åå¤åˆ¶
          </button>
          <a class="downloadCode" title="ç™»å½•åä¸€é”®ä¸‹è½½å…¨æ–‡ä»£ç ">
           <i class="iconblog blogimport">
           </i>
          </a>
         </div>
         <pre class="has" tabindex="0"><code class="language-js" id="code_id_12"><span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">static</span> <span class="token function">getDerivedStateFromProps</span><span class="token punctuation">(</span><span class="token parameter">nextProps<span class="token punctuation">,</span> prevState</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// å¦‚æœæ¥æ”¶åˆ°æ–°çš„å€¼ï¼Œæ›´æ–°çŠ¶æ€</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nextProps<span class="token punctuation">.</span>value <span class="token operator">!==</span> prevState<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> nextProps<span class="token punctuation">.</span>value
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// ä¸æ›´æ–°çŠ¶æ€</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre>
         <ul class="pre-numbering">
          <li>
           1.
          </li>
          <li>
           2.
          </li>
          <li>
           3.
          </li>
          <li>
           4.
          </li>
          <li>
           5.
          </li>
          <li>
           6.
          </li>
          <li>
           7.
          </li>
          <li>
           8.
          </li>
          <li>
           9.
          </li>
          <li>
           10.
          </li>
          <li>
           11.
          </li>
          <li>
           12.
          </li>
          <li>
           13.
          </li>
          <li>
           14.
          </li>
          <li>
           15.
          </li>
          <li>
           16.
          </li>
          <li>
           17.
          </li>
          <li>
           18.
          </li>
          <li>
           19.
          </li>
         </ul>
        </div>
       </div>
       <ul>
        <li>
         <strong>
          æ§åˆ¶å†…éƒ¨çŠ¶æ€
         </strong>
        </li>
       </ul>
       <div class="code-toolbar">
        <div class="hljs-cto">
         <div class="operation_box">
          <button class="copy_btn disable">
           ç™»å½•åå¤åˆ¶
          </button>
          <a class="downloadCode" title="ç™»å½•åä¸€é”®ä¸‹è½½å…¨æ–‡ä»£ç ">
           <i class="iconblog blogimport">
           </i>
          </a>
         </div>
         <pre class="has" tabindex="0"><code class="language-js" id="code_id_13"><span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">isFocused</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">static</span> <span class="token function">getDerivedStateFromProps</span><span class="token punctuation">(</span><span class="token parameter">nextProps<span class="token punctuation">,</span> prevState</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nextProps<span class="token punctuation">.</span>autoFocus <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>prevState<span class="token punctuation">.</span>isFocused<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">isFocused</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre>
         <ul class="pre-numbering">
          <li>
           1.
          </li>
          <li>
           2.
          </li>
          <li>
           3.
          </li>
          <li>
           4.
          </li>
          <li>
           5.
          </li>
          <li>
           6.
          </li>
          <li>
           7.
          </li>
          <li>
           8.
          </li>
          <li>
           9.
          </li>
          <li>
           10.
          </li>
          <li>
           11.
          </li>
          <li>
           12.
          </li>
          <li>
           13.
          </li>
          <li>
           14.
          </li>
          <li>
           15.
          </li>
          <li>
           16.
          </li>
          <li>
           17.
          </li>
          <li>
           18.
          </li>
         </ul>
        </div>
       </div>
       <h5 class="markdown-h" id="h21">
        <a id="3_render_405">
        </a>
        (3 )render
       </h5>
       <p>
        æ¸²æŸ“æ—¶æ“ä½œå…ƒç´ 
       </p>
       <h5 class="markdown-h" id="h22">
        <a id="4componentDidMount_408">
        </a>
        (4)componentDidMount
       </h5>
       <div class="code-toolbar">
        <div class="hljs-cto">
         <div class="operation_box">
          <button class="copy_btn disable">
           ç™»å½•åå¤åˆ¶
          </button>
          <a class="downloadCode" title="ç™»å½•åä¸€é”®ä¸‹è½½å…¨æ–‡ä»£ç ">
           <i class="iconblog blogimport">
           </i>
          </a>
         </div>
         <pre class="has" tabindex="0"><code class="language-js" id="code_id_14"><span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
ç»„ä»¶æŒ‚è½½åˆ° <span class="token constant">DOM</span> åç«‹å³è¢«è°ƒç”¨ï¼Œè·Ÿä¸Šé¢ä½œç”¨ä¸€æ ·ï¼Œè¿›è¡Œæ•°æ®è·å–ã€è®¢é˜…äº‹ä»¶ç­‰åˆå§‹åŒ–å·¥ä½œ
</code></pre>
         <ul class="pre-numbering">
          <li>
           1.
          </li>
          <li>
           2.
          </li>
         </ul>
        </div>
       </div>
       <h5 class="markdown-h" id="h23">
        <a id="5shouldComponentUpdate_414">
        </a>
        (5)shouldComponentUpdate
       </h5>
       <p>
        å°±æ˜¯åˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°æ¸²æŸ“ç»„ä»¶ï¼Œä¸»è¦ä¾èµ–ä¼ å…¥çš„props æˆ– state æ¥å†³å®šæ˜¯å¦æ›´æ–°ç»„ä»¶
       </p>
       <div class="code-toolbar">
        <div class="hljs-cto">
         <div class="operation_box">
          <button class="copy_btn disable">
           ç™»å½•åå¤åˆ¶
          </button>
          <a class="downloadCode" title="ç™»å½•åä¸€é”®ä¸‹è½½å…¨æ–‡ä»£ç ">
           <i class="iconblog blogimport">
           </i>
          </a>
         </div>
         <pre class="has" tabindex="0"><code class="language-js" id="code_id_15"><span class="token function">shouldComponentUpdate</span><span class="token punctuation">(</span><span class="token parameter">newProps<span class="token punctuation">,</span>newState<span class="token punctuation">,</span>nextContext</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token comment">// å‚æ•°å«ä¹‰ (æ–°çš„ æ—§çš„ æ›´æ–°çš„)</span>
</code></pre>
         <ul class="pre-numbering">
          <li>
           1.
          </li>
          <li>
           2.
          </li>
         </ul>
        </div>
       </div>
       <h5 class="markdown-h" id="h24">
        <a id="6getSnapshotBeforeUpdate_422">
        </a>
        (6)getSnapshotBeforeUpdate
       </h5>
       <p>
        ç»„ä»¶æ›´æ–° DOM ä¹‹å‰è¢«è°ƒç”¨(å¦‚æ»šåŠ¨ä½ç½®çš„ä½¿ç”¨)
       </p>
       <div class="code-toolbar">
        <div class="hljs-cto">
         <div class="operation_box">
          <button class="copy_btn disable">
           ç™»å½•åå¤åˆ¶
          </button>
          <a class="downloadCode" title="ç™»å½•åä¸€é”®ä¸‹è½½å…¨æ–‡ä»£ç ">
           <i class="iconblog blogimport">
           </i>
          </a>
         </div>
         <pre class="has" tabindex="0"><code class="language-js" id="code_id_16"><span class="token function">getSnapshotBeforeUpdate</span><span class="token punctuation">(</span><span class="token parameter">prevProps<span class="token punctuation">,</span> prevState</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> 
<span class="token comment">// è¿”å›æ»šåŠ¨ä½ç½® return this.myRef.current.scrollHeight; </span>

<span class="token comment">// prevPropsæ›´æ–°å‰çš„props   preStateæ›´æ–°å‰çš„stateï¼›</span>
<span class="token punctuation">}</span>
<span class="token comment">// å‚æ•°å«ä¹‰ (æ–°çš„ æ—§çš„ æ›´æ–°çš„)</span>
</code></pre>
         <ul class="pre-numbering">
          <li>
           1.
          </li>
          <li>
           2.
          </li>
          <li>
           3.
          </li>
          <li>
           4.
          </li>
          <li>
           5.
          </li>
          <li>
           6.
          </li>
         </ul>
        </div>
       </div>
       <p>
        æ³¨æ„ç‚¹ï¼š
       </p>
       <ul>
        <li>
         <code>
          getSnapshotBeforeUpdate
         </code>
         å¿…é¡»ä¸
         <code>
          componentDidUpdate
         </code>
         ä¸€èµ·ä½¿ç”¨ï¼Œå› ä¸ºå®ƒçš„è¿”å›å€¼ä¼šä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ä¼ é€’ç»™
         <code>
          componentDidUpdate
         </code>
         ã€‚
        </li>
        <li>
         æˆ‘ä»¬åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä¸ä½¿ç”¨,å®ƒä¸»è¦ç”¨äºå¤„ç†ä¸€äº›å¤„ç†å¤æ‚çš„ UI åŠ¨ç”»æˆ–éœ€è¦æ‰‹åŠ¨ä¿å­˜å’Œæ¢å¤æŸäº› DOM çŠ¶æ€çš„æƒ…å†µã€‚
        </li>
       </ul>
       <h5 class="markdown-h" id="h25">
        <a id="7componentDidUpdate_439">
        </a>
        (7)componentDidUpdate
       </h5>
       <p>
        ç»„ä»¶æ›´æ–°(re-render)å®Œæˆä¹‹åè¢«è°ƒç”¨
       </p>
       <div class="code-toolbar">
        <div class="hljs-cto">
         <div class="operation_box">
          <button class="copy_btn disable">
           ç™»å½•åå¤åˆ¶
          </button>
          <a class="downloadCode" title="ç™»å½•åä¸€é”®ä¸‹è½½å…¨æ–‡ä»£ç ">
           <i class="iconblog blogimport">
           </i>
          </a>
         </div>
         <pre class="has" tabindex="0"><code class="language-js" id="code_id_17"><span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token parameter">prevProps<span class="token punctuation">,</span> prevState<span class="token punctuation">,</span> snapshot</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token comment">// æ›´æ–°ä¹‹å‰çš„ props æ›´æ–°ä¹‹å‰çš„ prevState  æ›´æ–°ä¹‹å‰çš„ DOM ä¿¡æ¯   </span>
<span class="token comment">// æ“ä½œå¯èƒ½ä¼šè§¦å‘é¢å¤–çš„ç»„ä»¶æ›´æ–°ï¼Œå› æ­¤éœ€è¦è°¨æ…å¤„ç†ï¼Œä»¥é¿å…é™·å…¥æ— é™å¾ªç¯</span>
</code></pre>
         <ul class="pre-numbering">
          <li>
           1.
          </li>
          <li>
           2.
          </li>
          <li>
           3.
          </li>
         </ul>
        </div>
       </div>
       <h5 class="markdown-h" id="h26">
        <a id="8_componentWillUnmount_448">
        </a>
        (8) componentWillUnmount
       </h5>
       <p>
        ç»„ä»¶é”€æ¯é˜¶æ®µå”¯ä¸€æ‰§è¡Œçš„ç”Ÿå‘½å‘¨æœŸ
       </p>
       <p>
        componentDidMount è®¾ç½®å®šæ—¶å™¨ï¼ŒcomponentWillUnmountæ¸…æ¥šå®šæ—¶å™¨
       </p>
       <div class="code-toolbar">
        <div class="hljs-cto">
         <div class="operation_box">
          <button class="copy_btn disable">
           ç™»å½•åå¤åˆ¶
          </button>
          <a class="downloadCode" title="ç™»å½•åä¸€é”®ä¸‹è½½å…¨æ–‡ä»£ç ">
           <i class="iconblog blogimport">
           </i>
          </a>
         </div>
         <pre class="has" tabindex="0"><code class="language-js" id="code_id_18"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token comment">// ç”Ÿå‘½å‘¨æœŸ</span>
<span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">,</span><span class="token string">'props'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'constructor-ç”Ÿå‘½å‘¨æœŸ'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//åˆå§‹åŒ–çŠ¶æ€</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token operator">=</span><span class="token punctuation">{<!-- --></span> 
            <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'componentDidMount'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>interval <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'componentWillUnmount'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Timer<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Demo<span class="token punctuation">;</span>
</code></pre>
         <ul class="pre-numbering">
          <li>
           1.
          </li>
          <li>
           2.
          </li>
          <li>
           3.
          </li>
          <li>
           4.
          </li>
          <li>
           5.
          </li>
          <li>
           6.
          </li>
          <li>
           7.
          </li>
          <li>
           8.
          </li>
          <li>
           9.
          </li>
          <li>
           10.
          </li>
          <li>
           11.
          </li>
          <li>
           12.
          </li>
          <li>
           13.
          </li>
          <li>
           14.
          </li>
          <li>
           15.
          </li>
          <li>
           16.
          </li>
          <li>
           17.
          </li>
          <li>
           18.
          </li>
          <li>
           19.
          </li>
          <li>
           20.
          </li>
          <li>
           21.
          </li>
          <li>
           22.
          </li>
          <li>
           23.
          </li>
          <li>
           24.
          </li>
          <li>
           25.
          </li>
          <li>
           26.
          </li>
          <li>
           27.
          </li>
          <li>
           28.
          </li>
          <li>
           29.
          </li>
          <li>
           30.
          </li>
          <li>
           31.
          </li>
          <li>
           32.
          </li>
          <li>
           33.
          </li>
          <li>
           34.
          </li>
          <li>
           35.
          </li>
          <li>
           36.
          </li>
         </ul>
        </div>
       </div>
       <p>
        è¾“å‡ºç»“æœï¼š
       </p>
       <div class="code-toolbar">
        <div class="hljs-cto">
         <div class="operation_box">
          <button class="copy_btn disable">
           ç™»å½•åå¤åˆ¶
          </button>
          <a class="downloadCode" title="ç™»å½•åä¸€é”®ä¸‹è½½å…¨æ–‡ä»£ç ">
           <i class="iconblog blogimport">
           </i>
          </a>
         </div>
         <pre class="has" tabindex="0"><code class="language-js" id="code_id_19"><span class="token number">48</span> alien
</code></pre>
         <ul class="pre-numbering">
          <li>
           1.
          </li>
         </ul>
        </div>
       </div>
       <p>
        åˆ·æ–°ä»¥åç»„ä»¶é‡æ–°é”€æ¯åˆ›å»ºå®šæ—¶å™¨
       </p>
       <h4 class="markdown-h" id="h27">
        <a id="6React_499">
        </a>
        6ã€(å‡½æ•°å¼ç»„ä»¶)Reactå£°æ˜å‘¨æœŸå‡½æ•°
       </h4>
       <p>
        éœ€è¦æ³¨æ„çš„æ˜¯ï¼š
       </p>
       <p>
        Reactå‡½æ•°å¼ç»„ä»¶ä¸­ï¼Œæ²¡æœ‰åƒç±»ç»„ä»¶é‚£æ ·æ˜ç¡®çš„å£°æ˜å‘¨æœŸå‡½æ•°ï¼Œå¯ä»¥é€šè¿‡ React Hookså®ç°ç±»ä¼¼çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°
       </p>
       <p>
        å¸¸ç”¨çš„ React Hooks åŠå…¶å¯¹åº”çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°
       </p>
       <div class="code-toolbar">
        <div class="hljs-cto">
         <div class="operation_box">
          <button class="copy_btn disable">
           ç™»å½•åå¤åˆ¶
          </button>
          <a class="downloadCode" title="ç™»å½•åä¸€é”®ä¸‹è½½å…¨æ–‡ä»£ç ">
           <i class="iconblog blogimport">
           </i>
          </a>
         </div>
         <pre class="has" tabindex="0"><code class="language-js" id="code_id_20"><span class="token number">1.</span>  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">useState</span><span class="token template-punctuation string">`</span></span><span class="token operator">:</span> ç”¨äºå£°æ˜çŠ¶æ€å˜é‡ï¼Œç±»ä¼¼äºç±»ç»„ä»¶ä¸­çš„ <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">state</span><span class="token template-punctuation string">`</span></span>
<span class="token number">1.</span>  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">useEffect</span><span class="token template-punctuation string">`</span></span><span class="token operator">:</span> åœ¨ç»„ä»¶æ¸²æŸ“åæ‰§è¡Œå‰¯ä½œç”¨æ“ä½œï¼Œç±»ä¼¼äºç±»ç»„ä»¶ä¸­çš„ <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">componentDidMount</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">componentDidUpdate</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">componentWillUnmount</span><span class="token template-punctuation string">`</span></span>
<span class="token number">1.</span>  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">useContext</span><span class="token template-punctuation string">`</span></span><span class="token operator">:</span> ç”¨äºè®¿é—® React çš„ä¸Šä¸‹æ–‡ï¼Œç±»ä¼¼äºç±»ç»„ä»¶ä¸­çš„ <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">static contextType</span><span class="token template-punctuation string">`</span></span> æˆ– <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Context.Consumer</span><span class="token template-punctuation string">`</span></span>
<span class="token number">1.</span>  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">useReducer</span><span class="token template-punctuation string">`</span></span><span class="token operator">:</span> ç”¨äºåº”å¯¹å¤æ‚çš„çŠ¶æ€ç®¡ç†é€»è¾‘ï¼Œç±»ä¼¼äºç±»ç»„ä»¶ä¸­çš„ <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">setState</span><span class="token template-punctuation string">`</span></span>
<span class="token number">1.</span>  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">useRef</span><span class="token template-punctuation string">`</span></span><span class="token operator">:</span> åˆ›å»ºä¸€ä¸ªå¯å˜çš„ ref å¯¹è±¡ï¼Œç±»ä¼¼äºç±»ç»„ä»¶ä¸­çš„ <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">createRef</span><span class="token template-punctuation string">`</span></span>
</code></pre>
         <ul class="pre-numbering">
          <li>
           1.
          </li>
          <li>
           2.
          </li>
          <li>
           3.
          </li>
          <li>
           4.
          </li>
          <li>
           5.
          </li>
         </ul>
        </div>
       </div>
       <p>
        Hooks éƒ½å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­å®ç°ç±»ä¼¼äºç±»ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„åŠŸèƒ½
       </p>
      </div>
     </div>
    </div>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34333933323838362f:61727469636c652f64657461696c732f313436313934333437" class_="artid" style="display:none">
 </p>
</div>


