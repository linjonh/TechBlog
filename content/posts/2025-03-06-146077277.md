---
layout: post
title: "Cå­¦ä¹ åæ ‡å‡†,C11-å’Œ-C14,C17,C20"
date: 2025-03-06 18:54:30 +0800
description: "è¿™æ®µä»£ç åƒ**â€œæ™ºèƒ½å¨æˆ¿ç‚¹å•â€**â€”â€”ä¸»çº¿ç¨‹ä¸‹å•åç»§ç»­å¹²æ´»ï¼Œåç¨‹é»˜é»˜è®¡æ—¶å¤„ç†ï¼Œæœ€åäº¤ä»˜ç»“æœï¼Œé«˜æ•ˆåˆ©ç”¨ç­‰å¾…æ—¶é—´ï¼ğŸ•’ğŸ‘¨ğŸ³å’Œ å…³é”®å­—ã€‚"
keywords: "c++ ç›®å‰æœ€æ–°æ ‡å‡†"
categories: ['æœªåˆ†ç±»']
tags: ['å­¦ä¹ ', 'C', 'C']
artid: "146077277"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146077277
    alt: "Cå­¦ä¹ åæ ‡å‡†,C11-å’Œ-C14,C17,C20"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146077277
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146077277
cover: https://bing.ee123.net/img/rand?artid=146077277
image: https://bing.ee123.net/img/rand?artid=146077277
img: https://bing.ee123.net/img/rand?artid=146077277
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     C++å­¦ä¹ (å)(æ ‡å‡†,C++11 å’Œ C++14,C++17,C++20)
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2 id="c-standards" style="margin-left:.625rem; margin-right:0; text-align:start">
     <strong>
      <span style="color:var(--tw-prose-headings)">
       <span style="background-color:#ffffff">
        C++ æ ‡å‡†
       </span>
      </span>
     </strong>
    </h2>
    <p style="margin-left:.5rem; margin-right:0; text-align:start">
     <span style="color:#374151">
      <span style="background-color:#ffffff">
       C++ æ ‡å‡†æ˜¯ä¸€ç»„å®šä¹‰è¯­è¨€åŠŸèƒ½ã€è¯­æ³•å’Œè¯­ä¹‰çš„è§„åˆ™å’Œå‡†åˆ™ã€‚å›½é™…æ ‡å‡†åŒ–ç»„ç»‡ ï¼ˆISOï¼‰ è´Ÿè´£ç»´æŠ¤å’Œæ›´æ–° C++ æ ‡å‡†ã€‚è¿™äº›æ ‡å‡†çš„ä¸»è¦ç›®çš„æ˜¯ç¡®ä¿è·¨å¤šä¸ªå¹³å°å’Œç¼–è¯‘å™¨çš„ä¸€è‡´æ€§ã€æ•ˆç‡å’Œå¯ç»´æŠ¤æ€§ã€‚
      </span>
     </span>
    </p>
    <p style="margin-left:.5rem; margin-right:0; text-align:start">
     <span style="color:#374151">
      <span style="background-color:#ffffff">
       ä»¥ä¸‹æ˜¯è¿„ä»Šä¸ºæ­¢å‘å¸ƒçš„ä¸åŒ C++ æ ‡å‡†çš„ç®€è¦æ‘˜è¦ï¼š
      </span>
     </span>
    </p>
    <ul style="margin-left:0; margin-right:0">
     <li>
      <p style="margin-left:.5rem; margin-right:0">
       <strong>
        C++98/C++03
       </strong>
       ï¼šC++ çš„ç¬¬ä¸€ä¸ªæ ‡å‡†åŒ–ç‰ˆæœ¬ï¼Œå¼•å…¥äº†è®¸å¤šåŠŸèƒ½ï¼Œå¦‚æ¨¡æ¿ã€å¼‚å¸¸å’Œæ ‡å‡†æ¨¡æ¿åº“ ï¼ˆSTLï¼‰ã€‚C++03 æ˜¯å¯¹ C++98 çš„æ¬¡è¦æ›´æ–°ï¼Œä¿®å¤äº†ä¸€äº›é”™è¯¯å¹¶æ”¹è¿›äº†æ€§èƒ½ã€‚
      </p>
     </li>
     <li>
      <p style="margin-left:.5rem; margin-right:0">
       <strong>
        C++11
       </strong>
       ï¼šå¯¹è¯­è¨€çš„é‡å¤§å‡çº§ï¼Œå¼•å…¥äº†ä»¥ä¸‹åŠŸèƒ½ï¼š
      </p>
      <ul style="margin-left:.75em; margin-right:.75em">
       <li>
        Lambda è¡¨è¾¾å¼ï¼š
       </li>
      </ul>
      <pre class="has" style="margin-left:0; margin-right:0"><code class="language-astro-code">auto sum = [](int a, int b) -&gt; int { return a + b; };</code></pre>
      <ul style="margin-left:.75em; margin-right:.75em">
       <li>
        åŸºäºèŒƒå›´çš„ for å¾ªç¯ï¼š
       </li>
      </ul>
      <pre class="has" style="margin-left:0; margin-right:0"><code class="language-astro-code">std::vector&lt;int&gt; numbers = {1, 2, 3, 4};
for (int num : numbers) {
    std::cout &lt;&lt; num &lt;&lt; std::endl;
}</code></pre>
      <ul style="margin-left:.75em; margin-right:.75em">
       <li>
        æ™ºèƒ½æŒ‡é’ˆï¼ˆå¦‚ å’Œ ï¼‰ã€‚
        <code>
         std::shared_ptr
        </code>
        <code>
         std::unique_ptr
        </code>
       </li>
      </ul>
     </li>
     <li>
      <p style="margin-left:.5rem; margin-right:0">
       <strong>
        C++14
       </strong>
       ï¼šå¯¹ C++11 è¿›è¡Œäº†ä¸€æ¬¡æ¬¡è¦æ›´æ–°ï¼Œå…¶ä¸­æ·»åŠ äº†å¦‚ä¸‹åŠŸèƒ½ï¼š
      </p>
      <ul style="margin-left:.75em; margin-right:.75em">
       <li>
        é€šç”¨ lambda è¡¨è¾¾å¼ï¼š
       </li>
      </ul>
      <pre class="has" style="margin-left:0; margin-right:0"><code class="language-astro-code">auto generic_sum = [](auto a, auto b) { return a + b; };</code></pre>
      <ul style="margin-left:.75em; margin-right:.75em">
       <li>
        äºŒè¿›åˆ¶æ–‡æœ¬ï¼š
       </li>
      </ul>
      <pre class="has" style="margin-left:0; margin-right:0"><code class="language-astro-code">int binary_number = 0b1010;</code></pre>
     </li>
     <li>
      <p style="margin-left:.5rem; margin-right:0">
       <strong>
        C++17
       </strong>
       ï¼šå¦ä¸€ä¸ªé‡å¤§æ›´æ–°ï¼Œå¼•å…¥äº†å¦‚ä¸‹åŠŸèƒ½ï¼š
      </p>
      <ul style="margin-left:.75em; margin-right:.75em">
       <li>
        <code>
         if
        </code>
        å’Œåˆå§‹å€¼è®¾å®šé¡¹ï¼š
        <code>
         switch
        </code>
       </li>
      </ul>
      <pre class="has" style="margin-left:0; margin-right:0"><code class="language-astro-code">if (auto it = my_map.find(key); it != my_map.end()) {
    // use 'it' here
}
</code></pre>
      <ul style="margin-left:.75em; margin-right:.75em">
       <li>
        ç»“æ„åŒ–ç»‘å®šï¼š
       </li>
      </ul>
      <pre class="has" style="margin-left:0; margin-right:0"><code class="language-astro-code">std::map&lt;std::string, int&gt; my_map = {<!-- -->{"A", 1}, {"B", 2}};
for (const auto&amp; [key, value] : my_map) {
    // use 'key' and 'value' here
}</code></pre>
     </li>
     <li>
      <p style="margin-left:.5rem; margin-right:0">
       <strong>
        C++20
       </strong>
       ï¼šè¯¥è¯­è¨€çš„æœ€æ–°é‡å¤§æ›´æ–°ï¼Œå…·æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š
      </p>
      <ul style="margin-left:.75em; margin-right:.75em">
       <li>
        æ¦‚å¿µï¼š
       </li>
      </ul>
      <pre class="has" style="margin-left:0; margin-right:0"><code class="language-astro-code">template&lt;typename T&gt;
concept Addable = requires(T a, T b) {
    { a + b } -&gt; std::same_as&lt;T&gt;;
};</code></pre>
      <ul style="margin-left:.75em; margin-right:.75em">
       <li>
        èŒƒå›´ï¼š
       </li>
      </ul>
      <pre class="has" style="margin-left:0; margin-right:0"><code class="language-astro-code">std::vector&lt;int&gt; numbers = {1, 2, 3, 4};
auto doubled = numbers | std::views::transform([](int n) { return n * 2; });</code></pre>
      <ul style="margin-left:.75em; margin-right:.75em">
       <li>
        åç¨‹ç­‰ã€‚
       </li>
      </ul>
     </li>
    </ul>
    <p style="margin-left:.5rem; margin-right:0; text-align:start">
     <span style="color:#374151">
      <span style="background-color:#ffffff">
       è¯·è®°ä½ï¼Œè¦ä½¿ç”¨è¿™äº›è¯­è¨€åŠŸèƒ½ï¼Œæ‚¨å¯èƒ½éœ€è¦å°†ç¼–è¯‘å™¨é…ç½®ä¸ºä½¿ç”¨ç‰¹å®šçš„ C++ æ ‡å‡†ç‰ˆæœ¬ã€‚ä¾‹å¦‚ï¼Œå¯¹äº GCC æˆ– Clangï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ ã€ ã€ æˆ– æ ‡å¿—ã€‚
       <code>
        -std=c++11
       </code>
       <code>
        -std=c++14
       </code>
       <code>
        -std=c++17
       </code>
       <code>
        -std=c++20
       </code>
      </span>
     </span>
    </p>
    <h2 id="c11-and-c14">
     C++11 å’Œ C++14
    </h2>
    <p>
     <strong>
      C++11
     </strong>
     C++11 æ ‡å‡†ï¼Œä¹Ÿç§°ä¸º C++0xï¼Œäº 2011 å¹´ 9 æœˆæ­£å¼å‘å¸ƒã€‚å®ƒå¼•å…¥äº†å‡ é¡¹æ–°çš„è¯­è¨€åŠŸèƒ½å’Œæ”¹è¿›ï¼ŒåŒ…æ‹¬ï¼š
    </p>
    <ul>
     <li>
      <p>
       <strong>
        Auto
       </strong>
       ï¼šå…è®¸ç¼–è¯‘å™¨æ ¹æ®å˜é‡çš„åˆå§‹åŒ–è¡¨è¾¾å¼æ¨æ–­å˜é‡ç±»å‹ã€‚
      </p>
      <pre><code>auto integer = 42; // integer is of int type
auto floating = 3.14; // floating is of double type
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        åŸºäºèŒƒå›´çš„ for å¾ªç¯
       </strong>
       ï¼šæä¾›ç±»ä¼¼äº foreach çš„è¯­ä¹‰ï¼Œç”¨äºè¿­ä»£å®¹å™¨æˆ–æ•°ç»„ã€‚
      </p>
      <pre><code>std::vector&lt;int&gt; numbers {1, 2, 3, 4};
for (int number : numbers) {
    std::cout &lt;&lt; number &lt;&lt; std::endl;
}
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        Lambda å‡½æ•°
       </strong>
       ï¼šå…è®¸æ›´è½»æ¾åœ°åˆ›å»ºå‡½æ•°å¯¹è±¡çš„åŒ¿åå‡½æ•°ã€‚
      </p>
      <pre><code>auto add = [](int a, int b) -&gt; int { return a + b; };
int sum = add(42, 13); // sum is equal to 55
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        nullptr
       </strong>
       ï¼šä¸€ä¸ªè¡¨ç¤º null æŒ‡é’ˆçš„æ–°å…³é”®å­—ï¼Œæ¯”ä½¿ç”¨æ–‡æœ¬ '0' æˆ– â€œNULLâ€ æ›´ç±»å‹å®‰å…¨ã€‚
      </p>
      <pre><code>int *ptr = nullptr;
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        çº¿ç¨‹æ”¯æŒåº“
       </strong>
       ï¼šæä¾›ä¸€ç§ä½¿ç”¨çº¿ç¨‹å’Œè·¨çº¿ç¨‹åŒæ­¥æ•°æ®è®¿é—®çš„æ ‡å‡†æ–¹æ³•ã€‚
      </p>
      <pre><code>std::thread t([]() { std::cout &lt;&lt; "Hello from another thread\n"; });
t.join();
</code></pre>
     </li>
    </ul>
    <p>
     <strong>
      C++14
     </strong>
     C++14 æ ‡å‡†äº 2014 å¹´ 12 æœˆæ­£å¼å‘å¸ƒï¼Œä½œä¸º C++11 çš„å°å‹æ‰©å±•ï¼Œæ›´ä¾§é‡äºå¾®è°ƒè¯­è¨€åŠŸèƒ½å’Œä¿®å¤é—®é¢˜ã€‚å¼•å…¥çš„ä¸€äº›æ–°åŠŸèƒ½ï¼š
    </p>
    <ul>
     <li>
      <p>
       <strong>
        é€šç”¨ Lambdaï¼š
       </strong>
       å…è®¸ä½¿ç”¨ 'auto' ç±»å‹å ä½ç¬¦å£°æ˜ lambda å‡½æ•°å‚æ•°ã€‚
      </p>
      <pre><code>auto add = [](auto a, auto b) { return a + b; };
auto sum_i = add(42, 13); // Still works with integers
auto sum_f = add(3.14, 2.72); // Now works with doubles too
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        Binary Literalsï¼ˆäºŒè¿›åˆ¶æ–‡æœ¬ï¼‰ï¼š
       </strong>
       å…è®¸æ‚¨å°†æ•´æ•°ä½œä¸ºäºŒè¿›åˆ¶æ–‡æœ¬è¾“å…¥ï¼Œä»¥æé«˜å¯è¯»æ€§ã€‚
      </p>
      <pre><code>int b = 0b110101; // Decimal value is 53
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        decltypeï¼ˆautoï¼‰ï¼š
       </strong>
       æ¨å¯¼å˜é‡çš„ç±»å‹ä»¥åŒ¹é…åˆå§‹åŒ–å˜é‡æ—¶ä½¿ç”¨çš„è¡¨è¾¾å¼çš„ç±»å‹ã€‚
      </p>
      <pre><code>auto func = [](auto a, auto b) { return a * b; };
decltype(auto) result = func(5, 3.14); // decltype(auto) deduces to "double"
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        å˜é‡æ¨¡æ¿
       </strong>
       ï¼šå…è®¸æ‚¨ä½¿ç”¨æ¨¡æ¿å‚æ•°å®šä¹‰å˜é‡ã€‚
      </p>
      <pre><code>template &lt;typename T&gt;
constexpr T pi = T(3.1415926535897932385);
float r = pi&lt;float&gt;; // Instantiated as a float
double d = pi&lt;double&gt;; // Instantiated as a double</code></pre>
     </li>
    </ul>
    <p>
    </p>
    <h2 id="c20">
     C++20
    </h2>
    <p>
     C++20 æ˜¯ C++ ç¼–ç¨‹è¯­è¨€çš„æœ€æ–°æ ‡å‡†ï¼Œå®ƒä¸ºè¯­è¨€å¸¦æ¥äº†é‡å¤§æ”¹è¿›å’Œæ–°åŠŸèƒ½ã€‚æ­¤ç‰ˆæœ¬æ—¨åœ¨ä¿ƒè¿›æ›´å¥½çš„è½¯ä»¶å¼€å‘å®è·µï¼Œå¹¶ä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿç¼–å†™æ›´é«˜æ•ˆã€å¯è¯»å’Œå¯ç»´æŠ¤çš„ä»£ç ã€‚
    </p>
    <p>
     ä»¥ä¸‹æ˜¯ C++20 ä¸­å¼•å…¥çš„ä¸€äº›å…³é”®åŠŸèƒ½ï¼š
    </p>
    <h3 id="concepts">
     æ¦‚å¿µ
    </h3>
    <p>
     æ¦‚å¿µæ˜¯ä¸€ç§å¯¹æ¨¡æ¿å‚æ•°å¼ºåˆ¶å®æ–½ç‰¹å®šè¦æ±‚çš„æ–¹æ³•ï¼Œå…è®¸æ‚¨ç¼–å†™æ›´å…·è¡¨ç°åŠ›å’Œå¯ç†è§£æ€§çš„ä»£ç ã€‚å®ƒä»¬æ”¹è¿›äº†ä½¿ç”¨æ¨¡æ¿æ—¶çš„é”™è¯¯æ¶ˆæ¯ï¼Œå¹¶ç¡®ä¿æ¨¡æ¿å‚æ•°æ»¡è¶³ç‰¹å®šæ¡ä»¶ã€‚
    </p>
    <pre><code>template &lt;typename T&gt;
concept Addable = requires (T a, T b) {
    { a + b } -&gt; std::same_as&lt;T&gt;;
};

template &lt;Addable T&gt;
T add(T a, T b) {
    return a + b;
}
</code></pre>
    <h3 id="ranges">
     èŒƒå›´
    </h3>
    <p>
     èŒƒå›´æä¾›äº†ä¸€ç§å¤„ç†å€¼åºåˆ—çš„æ–°æ–¹æ³•ï¼Œå¢å¼ºäº†æ ‡å‡†åº“ç®—æ³•çš„åŠŸèƒ½å’Œè¡¨ç°åŠ›ã€‚åŸºäºèŒƒå›´çš„ç®—æ³•ä½¿ä½¿ç”¨åºåˆ—å˜å¾—æ›´åŠ å®¹æ˜“å’Œæ–¹ä¾¿ã€‚
    </p>
    <pre><code>#include &lt;algorithm&gt;
#include &lt;iostream&gt;
#include &lt;ranges&gt;
#include &lt;vector&gt;

int main() {
    std::vector&lt;int&gt; numbers = { 1, 2, 3, 4, 5 };

    auto even_numbers = numbers | std::views::filter([](int n) { return n % 2 == 0; });

    for (int n : even_numbers) {
        std::cout &lt;&lt; n &lt;&lt; ' ';
    }
}
</code></pre>
    <h3 id="coroutines">
     åç¨‹
    </h3>
    <p>
     åç¨‹æ˜¯ä¸€ç§ç¼–å†™å¼‚æ­¥å’Œå¹¶å‘ä»£ç çš„æ–°æ–¹æ³•ï¼Œå…·æœ‰æ›´é«˜çš„å¯è¯»æ€§ã€‚å®ƒä»¬å…è®¸æš‚åœå’Œæ¢å¤å‡½æ•°ï¼Œä½¿æ‚¨èƒ½å¤Ÿç¼–å†™æ›´é«˜æ•ˆã€æ— é˜»å¡çš„ä»£ç ã€‚
    </p>
    <pre><code>#include &lt;coroutine&gt;
#include &lt;iostream&gt;
#include &lt;future&gt;

std::future&lt;int&gt; async_value(int value) {
    co_await std::chrono::seconds(1);
    co_return value * 2;
}

int main() {
    auto result = async_value(42);
    std::cout &lt;&lt; "Result: " &lt;&lt; result.get() &lt;&lt; std::endl;
}</code></pre>
    <p>
     æˆ‘ä»¬å¯ä»¥ç”¨**â€œå®šæ—¶çƒ¹é¥ªä»»åŠ¡â€**çš„æ¯”å–»æ¥ç†è§£è¿™æ®µä»£ç çš„å¼‚æ­¥åç¨‹æœºåˆ¶ï¼š
    </p>
    <hr/>
    <h4>
     <strong>
      ä»£ç æ‹†è§£
     </strong>
    </h4>
    <h5>
     1.
     <strong>
      åˆ›å»ºå®šæ—¶çƒ¹é¥ªä»»åŠ¡ï¼ˆåç¨‹å‡½æ•°ï¼‰
     </strong>
    </h5>
    <p>
    </p>
    <pre><code class="hljs">std::future&lt;int&gt; async_value(int value) {
    co_await std::chrono::seconds(1); // æš‚åœ1ç§’ï¼ˆå®šæ—¶å™¨ï¼‰
    co_return value * 2;              // è¿”å›ç»“æœï¼ˆå®Œæˆçƒ¹é¥ªï¼‰
}</code></pre>
    <pre></pre>
    <ul>
     <li>
      <p>
       <strong>
        <code>
         co_await
        </code>
       </strong>
       ï¼š
       <br/>
       åƒç»™å¨æˆ¿è®¾å®šä¸€ä¸ª
       <strong>
        å®šæ—¶å™¨
       </strong>
       ï¼Œåœ¨ç­‰å¾…çš„1ç§’é’Ÿé‡Œï¼Œå¨å¸ˆï¼ˆä¸»çº¿ç¨‹ï¼‰å¯ä»¥å»åšå…¶ä»–äº‹æƒ…ï¼ˆä¸é˜»å¡ï¼‰ã€‚
      </p>
     </li>
     <li>
      <p>
       <strong>
        <code>
         co_return
        </code>
       </strong>
       ï¼š
       <br/>
       å®šæ—¶å™¨å“åï¼Œè‡ªåŠ¨ç»§ç»­æ‰§è¡Œï¼Œè¿”å›åŠ å·¥åçš„ç»“æœï¼ˆæŠŠåŸæ–™
       <code>
        value
       </code>
       ç¿»å€ï¼‰ã€‚
      </p>
     </li>
    </ul>
    <hr/>
    <h5>
     2.
     <strong>
      å¯åŠ¨ä»»åŠ¡å¹¶è·å–ç»“æœ
     </strong>
    </h5>
    <p>
    </p>
    <pre><code class="hljs">int main() {
    auto result = async_value(42);       // å¼€å§‹çƒ¹é¥ªï¼ˆå¯åŠ¨åç¨‹ï¼‰
    std::cout &lt;&lt; "Result: " &lt;&lt; result.get() &lt;&lt; std::endl; // ç­‰å¾…ç»“æœ
}</code></pre>
    <pre></pre>
    <ul>
     <li>
      <p>
       <strong>
        <code>
         result.get()
        </code>
       </strong>
       ï¼š
       <br/>
       ç›¸å½“äº
       <strong>
        ç­‰å¾…å¨å¸ˆå®Œæˆçƒ¹é¥ª
       </strong>
       ï¼Œå¦‚æœç»“æœè¿˜æ²¡å‡†å¤‡å¥½ï¼ˆå®šæ—¶æœªåˆ°ï¼‰ï¼Œä¸»çº¿ç¨‹ä¼šåœ¨è¿™é‡Œæš‚åœç­‰å¾…ã€‚
      </p>
     </li>
    </ul>
    <hr/>
    <h4>
     <strong>
      ç±»æ¯”åœºæ™¯
     </strong>
    </h4>
    <p>
     æƒ³è±¡ä½ è®©æ™ºèƒ½å¨æˆ¿åšèœï¼š
    </p>
    <ol>
     <li>
      <p>
       <strong>
        ä¸‹è¾¾æŒ‡ä»¤
       </strong>
       ï¼š
       <br/>
       <code>
        async_value(42)
       </code>
       ç›¸å½“äºè¯´ï¼šâ€œæŠŠ42å…‹é£Ÿæå¤„ç†ä¸€ä¸‹ï¼Œ1å°æ—¶åç»™æˆ‘ç»“æœâ€ã€‚
      </p>
     </li>
     <li>
      <p>
       <strong>
        å¼‚æ­¥ç­‰å¾…
       </strong>
       ï¼š
       <br/>
       å¨æˆ¿å®šæ—¶å™¨å¼€å§‹å€’è®¡æ—¶ï¼Œä½ å¯ä»¥å»åˆ·æ‰‹æœºï¼ˆä¸»çº¿ç¨‹ä¸é˜»å¡ï¼‰ã€‚
      </p>
     </li>
     <li>
      <p>
       <strong>
        è·å–ç»“æœ
       </strong>
       ï¼š
       <br/>
       1å°æ—¶åï¼Œä½ è°ƒç”¨
       <code>
        result.get()
       </code>
       å–å›åŠ å·¥å¥½çš„84å…‹æˆå“ã€‚
      </p>
     </li>
    </ol>
    <hr/>
    <h4>
     <strong>
      å…³é”®çŸ¥è¯†ç‚¹
     </strong>
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        ä»£ç éƒ¨åˆ†
       </th>
       <th>
        ä½œç”¨
       </th>
       <th>
        ç±»æ¯”
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <code>
         std::future&lt;int&gt;
        </code>
       </td>
       <td>
        è¡¨ç¤ºæœªæ¥å°†è·å¾—ä¸€ä¸ªæ•´æ•°ç»“æœ
       </td>
       <td>
        çƒ¹é¥ªè®¢å•å‡­æ®
       </td>
      </tr>
      <tr>
       <td>
        <code>
         co_await
        </code>
       </td>
       <td>
        æš‚åœåç¨‹ï¼Œè®©å‡ºçº¿ç¨‹èµ„æº
       </td>
       <td>
        è®¾å®šå¨æˆ¿å®šæ—¶å™¨
       </td>
      </tr>
      <tr>
       <td>
        <code>
         co_return
        </code>
       </td>
       <td>
        åç¨‹å®Œæˆæ—¶è¿”å›ç»“æœ
       </td>
       <td>
        å¨å¸ˆäº¤ä»˜æˆå“
       </td>
      </tr>
      <tr>
       <td>
        <code>
         result.get()
        </code>
       </td>
       <td>
        é˜»å¡ç­‰å¾…ç»“æœ
       </td>
       <td>
        ç­‰å¾…å¨å¸ˆå®Œæˆ
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <h4>
     <strong>
      å®é™…æ‰§è¡Œæµç¨‹
     </strong>
    </h4>
    <ol>
     <li>
      <p>
       è°ƒç”¨
       <code>
        async_value(42)
       </code>
       å¯åŠ¨åç¨‹ï¼š
      </p>
      <ul>
       <li>
        <p>
         é‡åˆ°
         <code>
          co_await
         </code>
         â†’ æš‚åœåç¨‹ï¼Œå¯åŠ¨1ç§’å®šæ—¶å™¨ã€‚
        </p>
       </li>
       <li>
        <p>
         <strong>
          ç«‹åˆ»è¿”å›
         </strong>
         <code>
          future
         </code>
         å¯¹è±¡ï¼ˆæ­¤æ—¶ç»“æœå°šæœªå‡†å¤‡å¥½ï¼‰ã€‚
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       ä¸»çº¿ç¨‹æ‰§è¡Œ
       <code>
        result.get()
       </code>
       ï¼š
      </p>
      <ul>
       <li>
        <p>
         å¦‚æœ1ç§’æœªåˆ° â†’ ä¸»çº¿ç¨‹
         <strong>
          é˜»å¡ç­‰å¾…
         </strong>
         ã€‚
        </p>
       </li>
       <li>
        <p>
         1ç§’åå®šæ—¶å™¨è§¦å‘ â†’ åç¨‹æ¢å¤ï¼Œè®¡ç®—
         <code>
          42*2=84
         </code>
         å¹¶å­˜å…¥
         <code>
          future
         </code>
         ã€‚
        </p>
       </li>
       <li>
        <p>
         ä¸»çº¿ç¨‹è·å¾—ç»“æœï¼Œè¾“å‡º
         <code>
          Result: 84
         </code>
         ã€‚
        </p>
       </li>
      </ul>
     </li>
    </ol>
    <hr/>
    <h4>
     <strong>
      æ³¨æ„äº‹é¡¹
     </strong>
    </h4>
    <ol>
     <li>
      <p>
       <strong>
        åç¨‹ä¾èµ–
       </strong>
       ï¼šéœ€è¦ C++20 æˆ–æ›´é«˜æ ‡å‡†ï¼Œä¸”ç¼–è¯‘å™¨æ”¯æŒåç¨‹ï¼ˆå¦‚ GCC11+/Clang14+ï¼‰ã€‚
      </p>
     </li>
     <li>
      <p>
       <strong>
        ä¸å®Œå…¨æ˜¯å¤šçº¿ç¨‹
       </strong>
       ï¼šåç¨‹çš„æš‚åœ/æ¢å¤åœ¨å•çº¿ç¨‹å†…ä¹Ÿå¯å®ç°ï¼ˆæœ¬ä¾‹é€šè¿‡å®šæ—¶å™¨æ¼”ç¤ºå¼‚æ­¥ï¼Œå®é™…å¯èƒ½æ¶‰åŠçº¿ç¨‹æ± ï¼‰ã€‚
      </p>
     </li>
     <li>
      <p>
       <strong>
        é”™è¯¯å¤„ç†
       </strong>
       ï¼šçœŸå®åœºæ™¯éœ€å¤„ç†åç¨‹ä¸­å¯èƒ½çš„å¼‚å¸¸ï¼ˆæœ¬ä¾‹æœªå±•ç¤ºï¼‰ã€‚
      </p>
     </li>
    </ol>
    <hr/>
    <h4>
     <strong>
      ä¸€å¥è¯æ€»ç»“
     </strong>
    </h4>
    <p>
     è¿™æ®µä»£ç åƒ**â€œæ™ºèƒ½å¨æˆ¿ç‚¹å•â€**â€”â€”ä¸»çº¿ç¨‹ä¸‹å•åç»§ç»­å¹²æ´»ï¼Œåç¨‹é»˜é»˜è®¡æ—¶å¤„ç†ï¼Œæœ€åäº¤ä»˜ç»“æœï¼Œé«˜æ•ˆåˆ©ç”¨ç­‰å¾…æ—¶é—´ï¼ ğŸ•’ğŸ‘¨ğŸ³
    </p>
    <h3 id="the-constexpr-and-consteval-keywords" style="margin-left:.75rem; margin-right:0; text-align:start">
     <strong>
      <span style="color:var(--tw-prose-headings)">
       <span style="background-color:#ffffff">
        å’Œ å…³é”®å­—
        <code>
         constexpr
        </code>
        <code>
         consteval
        </code>
       </span>
      </span>
     </strong>
    </h3>
    <p style="margin-left:.5rem; margin-right:0; text-align:start">
     <span style="color:#374151">
      <span style="background-color:#ffffff">
       å’Œ éƒ½ä¸ç¼–è¯‘æ—¶è¯„ä¼°æœ‰å…³ã€‚æ ‡è®°ä¸º çš„å‡½æ•°å¯ä»¥åœ¨ç¼–è¯‘æ—¶æˆ–è¿è¡Œæ—¶æ‰§è¡Œï¼Œè€Œæ ‡è®°ä¸º çš„å‡½æ•°åªèƒ½åœ¨ç¼–è¯‘æ—¶æ‰§è¡Œã€‚
       <code>
        constexpr
       </code>
       <code>
        consteval
       </code>
       <code>
        constexpr
       </code>
       <code>
        consteval
       </code>
      </span>
     </span>
    </p>
    <pre class="has" style="margin-left:0; margin-right:0; text-align:start"><code class="language-astro-code">constexpr int add(int a, int b) {
    return a + b;
}

consteval int square(int x) {
    return x * x;
}

int main() {
    constexpr int result1 = add(3, 4);   // evaluated at compile-time
    int result2 = add(5, 6);             // evaluated at runtime
    constexpr int result3 = square(7);   // evaluated at compile-time
}</code></pre>
    <p style="margin-left:.5rem; margin-right:0; text-align:start">
     <span style="color:#374151">
      <span style="background-color:#ffffff">
       è¿™äº›åªæ˜¯ C++20 æ ‡å‡†çš„ä¸€äº›äº®ç‚¹ã€‚å®ƒè¿˜åŒ…æ‹¬è®¸å¤šå…¶ä»–åŠŸèƒ½å’Œæ”¹è¿›ï¼Œä¾‹å¦‚ç»“æ„åŒ–ç»‘å®šã€æ”¹è¿›çš„ lambda å’Œæ–°çš„æ ‡å‡†åº“ç»„ä»¶ã€‚æ€»ä½“è€Œè¨€ï¼ŒC++20 ä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿæ›´è½»æ¾åœ°ç¼–å†™å¹²å‡€ã€é«˜æ•ˆä¸”å¯Œæœ‰è¡¨ç°åŠ›çš„ä»£ç ã€‚
      </span>
     </span>
     <br/>
    </p>
    <p style="margin-left:.5rem; margin-right:0; text-align:start">
    </p>
    <p>
     æˆ‘ä»¬å¯ä»¥ç”¨**â€œå»ºç­‘è®¾è®¡â€
     <strong>
      å’Œ
     </strong>
     â€œæ–½å·¥é˜¶æ®µâ€**çš„æ¯”å–»æ¥ç†è§£è¿™ä¸¤ä¸ªå…³é”®å­—ï¼š
    </p>
    <hr/>
    <h4>
     <strong>
      æ ¸å¿ƒåŒºåˆ«
     </strong>
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        å…³é”®å­—
       </th>
       <th>
        ä½œç”¨é˜¶æ®µ
       </th>
       <th>
        æ¯”å–»
       </th>
       <th>
        çµæ´»æ€§
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <strong>
         <code>
          constexpr
         </code>
        </strong>
       </td>
       <td>
        <strong>
         ç¼–è¯‘æ—¶ æˆ– è¿è¡Œæ—¶
        </strong>
       </td>
       <td>
        è®¾è®¡è“å›¾ï¼ˆå¯è°ƒæ•´ï¼‰
       </td>
       <td>
        çµæ´»ï¼Œèƒ½é€‚åº”ä¸åŒé˜¶æ®µ
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         <code>
          consteval
         </code>
        </strong>
       </td>
       <td>
        <strong>
         ä»…ç¼–è¯‘æ—¶
        </strong>
       </td>
       <td>
        è®¾è®¡è§„èŒƒï¼ˆå¿…é¡»ç¡®å®šï¼‰
       </td>
       <td>
        ä¸¥æ ¼ï¼Œä»…è®¾è®¡é˜¶æ®µ
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <h4>
     <strong>
      è¯¦ç»†è§£é‡Š
     </strong>
    </h4>
    <h5>
     1.
     <strong>
      <code>
       constexpr
      </code>
      ï¼ˆçµæ´»çš„åŒé¢æ‰‹ï¼‰
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       <strong>
        åŠŸèƒ½
       </strong>
       ï¼šå¯ä»¥ç”¨äºç¼–è¯‘æ—¶è®¡ç®—ï¼Œä¹Ÿå¯ä»¥åœ¨è¿è¡Œæ—¶å½“æ™®é€šå‡½æ•°è°ƒç”¨ã€‚
      </p>
     </li>
     <li>
      <p>
       <strong>
        åœºæ™¯
       </strong>
       ï¼š
      </p>
      <ul>
       <li>
        <p>
         ç¼–è¯‘æ—¶ï¼šæ¯”å¦‚è®¡ç®—æ•°ç»„é•¿åº¦ã€æ¨¡æ¿å‚æ•°ç­‰éœ€è¦æå‰ç¡®å®šçš„å€¼ã€‚
        </p>
       </li>
       <li>
        <p>
         è¿è¡Œæ—¶ï¼šå½“è¾“å…¥å‚æ•°åªèƒ½åœ¨è¿è¡Œæ—¶ç¡®å®šæ—¶ï¼Œè‡ªåŠ¨é™çº§ä¸ºæ™®é€šå‡½æ•°ã€‚
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <p>
     <strong>
      ä»£ç ç¤ºä¾‹
     </strong>
     ï¼š
    </p>
    <pre><code class="hljs">constexpr int å¹³æ–¹(int x) {
    return x * x;
}

int main() {
    constexpr int a = å¹³æ–¹(5);  // ç¼–è¯‘æ—¶è®¡ç®—ï¼ˆè®¾è®¡é˜¶æ®µç¡®å®šï¼‰
    int b = å¹³æ–¹(10);           // è¿è¡Œæ—¶è®¡ç®—ï¼ˆæ–½å·¥é˜¶æ®µæ‰§è¡Œï¼‰
}</code></pre>
    <pre></pre>
    <hr/>
    <h5>
     2.
     <strong>
      <code>
       consteval
      </code>
      ï¼ˆä¸¥æ ¼çš„ç¼–è¯‘æ—¶è­¦å¯Ÿï¼‰
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       <strong>
        åŠŸèƒ½
       </strong>
       ï¼šå¼ºåˆ¶å‡½æ•°
       <strong>
        å¿…é¡»åœ¨ç¼–è¯‘æ—¶æ‰§è¡Œ
       </strong>
       ï¼Œå¦åˆ™ç›´æ¥æŠ¥é”™ã€‚
      </p>
     </li>
     <li>
      <p>
       <strong>
        åœºæ™¯
       </strong>
       ï¼š
      </p>
      <ul>
       <li>
        <p>
         å¿…é¡»ç¡®ä¿æŸä¸ªå€¼åœ¨ç¼–è¯‘æ—¶ç¡®å®šï¼ˆå¦‚æ¨¡æ¿å…ƒç¼–ç¨‹ä¸­çš„å¸¸é‡ï¼‰ã€‚
        </p>
       </li>
       <li>
        <p>
         é¿å…è¿è¡Œæ—¶å¼€é”€ï¼Œç¡®ä¿ä¼˜åŒ–ã€‚
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <p>
     <strong>
      ä»£ç ç¤ºä¾‹
     </strong>
     ï¼š
    </p>
    <pre><code class="hljs">consteval int ç«‹æ–¹(int x) {
    return x * x * x;
}

int main() {
    constexpr int a = ç«‹æ–¹(3); // åˆæ³•ï¼ˆç¼–è¯‘æ—¶è®¡ç®—ï¼‰
    int b = ç«‹æ–¹(5);           // âŒ ç¼–è¯‘é”™è¯¯ï¼ˆä¸èƒ½åœ¨è¿è¡Œæ—¶è°ƒç”¨ï¼ï¼‰
}</code></pre>
    <pre></pre>
    <hr/>
    <h4>
     <strong>
      å¯¹æ¯”åœºæ™¯
     </strong>
    </h4>
    <p>
     å‡è®¾ä½ æ˜¯ä¸€ä¸ªå»ºç­‘å¸ˆï¼š
    </p>
    <ul>
     <li>
      <p>
       <strong>
        <code>
         constexpr
        </code>
       </strong>
       åƒå¯è°ƒèŠ‚çš„
       <strong>
        è“å›¾å·¥å…·
       </strong>
       ï¼š
      </p>
      <ul>
       <li>
        <p>
         å¯ä»¥åœ¨è®¾è®¡é˜¶æ®µï¼ˆç¼–è¯‘æ—¶ï¼‰è®¡ç®—æˆ¿é—´é¢ç§¯ã€‚
        </p>
       </li>
       <li>
        <p>
         ä¹Ÿå¯ä»¥åœ¨æ–½å·¥æ—¶ï¼ˆè¿è¡Œæ—¶ï¼‰æ ¹æ®ç°åœºæµ‹é‡ä¸´æ—¶è®¡ç®—ã€‚
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        <code>
         consteval
        </code>
       </strong>
       åƒä¸¥æ ¼çš„
       <strong>
        è®¾è®¡è§„èŒƒæ£€æŸ¥å™¨
       </strong>
       ï¼š
      </p>
      <ul>
       <li>
        <p>
         å¿…é¡»åœ¨è®¾è®¡é˜¶æ®µç¡®å®šæ‰€æœ‰å‚æ•°ï¼ˆå¦‚æ‰¿é‡å¢™ä½ç½®ï¼‰ã€‚
        </p>
       </li>
       <li>
        <p>
         æ–½å·¥é˜¶æ®µä¸å…è®¸ä¸´æ—¶ä¿®æ”¹ï¼Œå¦åˆ™ç›´æ¥åœå·¥ï¼
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h4>
     <strong>
      ä¸ºä»€ä¹ˆéœ€è¦
      <code>
       consteval
      </code>
      ï¼Ÿ
     </strong>
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        å®‰å…¨å¼ºåˆ¶
       </strong>
       ï¼šç¡®ä¿æŸäº›å…³é”®è®¡ç®—ï¼ˆå¦‚åŠ å¯†å¯†é’¥ç”Ÿæˆï¼‰ä¸ä¼šæ³„éœ²åˆ°è¿è¡Œæ—¶ã€‚
      </p>
     </li>
     <li>
      <p>
       <strong>
        ä¼˜åŒ–ä¿è¯
       </strong>
       ï¼šç¼–è¯‘æ—¶è®¡ç®—çš„ç»“æœå¯ç›´æ¥å†…è”ï¼Œæå‡æ€§èƒ½ã€‚
      </p>
     </li>
     <li>
      <p>
       <strong>
        é”™è¯¯å‰ç½®
       </strong>
       ï¼šåœ¨ç¼–è¯‘é˜¶æ®µå‘ç°é—®é¢˜ï¼Œé¿å…è¿è¡Œæ—¶å´©æºƒã€‚
      </p>
     </li>
    </ul>
    <hr/>
    <h4>
     <strong>
      ä¸€å¥è¯æ€»ç»“
     </strong>
    </h4>
    <ul>
     <li>
      <p>
       <code>
        constexpr
       </code>
       ï¼š
       <strong>
        çµæ´»å¤šé¢æ‰‹
       </strong>
       ï¼Œç¼–è¯‘æ—¶å’Œè¿è¡Œæ—¶éƒ½èƒ½å¹²æ´»ã€‚
      </p>
     </li>
     <li>
      <p>
       <code>
        consteval
       </code>
       ï¼š
       <strong>
        ä¸¥æ ¼æ£€æŸ¥å‘˜
       </strong>
       ï¼Œåªå…è®¸ç¼–è¯‘æ—¶å¹²æ´»ï¼ ğŸ”§âš¡
      </p>
     </li>
    </ul>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f736f6c6f6d6f6e7a772f:61727469636c652f64657461696c732f313436303737323737" class_="artid" style="display:none">
 </p>
</div>


