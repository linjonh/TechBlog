---
layout: post
title: "Linux-docker关于docker启动出错的解决方法"
date: 2025-03-10 16:23:45 +0800
description: "就是。"
keywords: "【Linux docker】关于docker启动出错的解决方法。"
categories: ['未分类']
tags: ['Linux', 'Java', 'Docker']
artid: "146157005"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146157005
    alt: "Linux-docker关于docker启动出错的解决方法"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146157005
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146157005
cover: https://bing.ee123.net/img/rand?artid=146157005
image: https://bing.ee123.net/img/rand?artid=146157005
img: https://bing.ee123.net/img/rand?artid=146157005
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【Linux docker】关于docker启动出错的解决方法。
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h3>
     无论遇到什么docker启动不了的问题
    </h3>
    <p>
     就是
    </p>
    <pre><code>查看docker状态

sytemctl status docker

查看docker日志

sudo journalctl -u docker.service

查看docker三个配置文件（可能是配置的时候格式错误）：/etc/docker/daemon.json（如果存在） /etc/systemd/system/docker.service， /etc/systemd/system/docker.service.d/

看看daemon.json是不是镜像配置没加逗号呀，或者最后一个加了个逗号什么的


cd /
作用：切换到系统的根目录（root directory）。
目标目录：根目录是所有文件和目录的起点，用斜杠 / 表示。
特点：根目录是所有用户共享的目录，包含系统级的配置文件和目录结构。
示例：执行 cd / 后，无论当前处于哪个目录，都会切换到根目录

cd 文件名


重启

systemctl restart daemon-reload

重启docker

systemctl restart docker</code></pre>
    <h3>
     好了进入我问题的痛苦解决过程
    </h3>
    <p>
    </p>
    <h3>
     首先是查看docker状态
    </h3>
    <pre><code>sytemctl status docker</code></pre>
    <p>
    </p>
    <h4>
     问题
    </h4>
    <p>
     <strong>
      Job for docker.service failed because the control process exited with error code.
      <br/>
      See "systemctl status docker.service" and "journalctl -xe" for details.
     </strong>
     <br/>
    </p>
    <h4>
     /etc/systemd/system/docker.service.d/override.conf:1: Invalid section header '[Service]ExecStart='
    </h4>
    <p>
     <img alt="" height="164" src="https://i-blog.csdnimg.cn/direct/ac79765c4daf439e85b10aaf0c75f486.png" width="1549"/>
    </p>
    <p>
     原因格式错误，到文件 /etc/systemd/system/docker.service.d/ 里的override.conf里看文件情况
    </p>
    <pre><code>cd /etc/systemd/system/docker.service.d/</code></pre>
    <p>
     ![image-20250310144758956](C:\Users\LX\AppData\Roaming\Typora\typora-user-images\image-20250310144758956.png
    </p>
    <p>
     <img alt="" height="170" src="https://i-blog.csdnimg.cn/direct/741435ad97ea411c9881ff8e782c0bb3.png" width="1244"/>
    </p>
    <p>
     解决
    </p>
    <p>
     <img alt="" height="215" src="https://i-blog.csdnimg.cn/direct/6dc0ca17e79a487cab427ea626768174.png" width="1340"/>
    </p>
    <p>
     然后保存文件，执行下面命令重新加载 systemctl 配置
    </p>
    <pre><code>systemctl restart daemon-reload
</code></pre>
    <p>
     重启Docker容器
    </p>
    <pre><code>systemctl restart docker</code></pre>
    <p>
     发现还是不行查看日志后
    </p>
    <p>
     查看docker日志
    </p>
    <pre><code>sudo journalctl -u docker.service</code></pre>
    <p>
    </p>
    <h4>
     docker.service: Main process exited, code=exited, status=1/FAILURE3月 10 14:54:48 localhost.localdomain systemd[1]: docker.service: Failed with result 'exit-code'.
    </h4>
    <p>
    </p>
    <p>
     <img alt="" height="116" src="https://i-blog.csdnimg.cn/direct/ad26628297614d17991735527e29cc3c.png" width="1554"/>
    </p>
    <p>
    </p>
    <p>
     <strong>
      检查配置文件
     </strong>
     ： 确保
     <code>
      /etc/docker/daemon.json
     </code>
     （如果存在）中的配置是正确的。同时，检查
     <code>
      /etc/systemd/system/docker.service
     </code>
     和
     <code>
      /etc/systemd/system/docker.service.d/
     </code>
     目录下的任何覆盖文件，确保它们没有引入错误的配置。
    </p>
    <p>
    </p>
    <p>
     一气之下删除了docker.service（这个文件得到/etc/systemd/system/这文件里后输入ls找）
    </p>
    <pre><code>cd /

cd /etc/systemd/system/

ls

vim docker.service</code></pre>
    <p>
     清空，
    </p>
    <p>
     更新完该更新的
    </p>
    <pre><code>systemctl daemon-reload

systemctl restart docker</code></pre>
    <p>
     然后
    </p>
    <h4>
     又出错了
    </h4>
    <p>
     <img alt="" height="171" src="https://i-blog.csdnimg.cn/direct/4662f7322dfa4a10a34612a1961033fc.png" width="1548"/>
    </p>
    <p>
    </p>
    <p>
     Failed to restart docker.service: Unit docker.service is masked." 表示 Docker 服务单元（unit）已被系统标记为“masked”。在 systemd 中，当一个服务单元被标记为 masked 时，它就不能被启动，因为 systemd 实际上已经禁用了这个单元文件。
    </p>
    <p>
     解决
    </p>
    <ol>
     <li>
      <p>
       <strong>
        取消屏蔽 Docker 服务
       </strong>
       ： 使用
       <code>
        systemctl unmask
       </code>
       命令来取消对 Docker 服务的屏蔽。
      </p>
      <pre><code> sudo systemctl unmask docker.service</code></pre>
      <p>
       这个命令会创建一个到 Docker 服务单元文件的符号链接，允许 systemd 管理它。
      </p>
     </li>
    </ol>
    <ol>
     <li>
      <p>
       <strong>
        尝试重新启动 Docker 服务
       </strong>
       ： 一旦服务被取消屏蔽，您就可以尝试重新启动 Docker 服务了。
      </p>
      <pre><code> sudo systemctl restart docker.service</code></pre>
      <p>
      </p>
     </li>
    </ol>
    <p>
     又又又出错了
    </p>
    <h4>
     Job for docker.service failed because the control process exited with error code. See "systemctl status docker.service" and "journalctl -xe" for details.
    </h4>
    <p>
    </p>
    <p>
     <img alt="" height="168" src="https://i-blog.csdnimg.cn/direct/2758ca4654254b788de9371d6647af50.png" width="1230"/>
    </p>
    <p>
    </p>
    <p>
     不知道怎么搞了，索性直接把docker.service的内容全删了
    </p>
    <pre><code>vim   docker.service</code></pre>
    <p>
     把docker.service.d下面的文件全删了
    </p>
    <pre><code>rm -f 文件名</code></pre>
    <p>
     然后
    </p>
    <pre><code>sudo systemctl unmask docker.service

sudo systemctl restart docker.service</code></pre>
    <p>
     没想到可以了，也是山重水复疑无路，柳暗花明又一村。
    </p>
    <p>
     <img alt="" height="170" src="https://i-blog.csdnimg.cn/direct/d29d7a8a3e874f6f9631f04ec4744f82.png" width="889"/>
    </p>
    <p>
     <img alt="" height="473" src="https://i-blog.csdnimg.cn/direct/54456e4f06394d9f8fdba8a04bb171be.png" width="1566"/>
    </p>
    <p>
    </p>
    <h2>
     Cheer on
    </h2>
    <p>
    </p>
    <p>
     学会静下心下来一步一步的发现错误，纠正错误恐怕是最好的姿态。人生从来就是以失败为主题，所有你能做的只有不畏惧失败。希望程序不出bug，新手配置一些东西的时候可以一路顺风，那都是不切实际的幻想；遇到困难就头大，就想逃，就思绪混乱，我想大部分人都有这种想法，只是有些人只是想，但是会丢掉这种不好的想法，而有些人却真正去逃避了；如果你曾经逃避了，那现在你能做到不去逃避了吗，什么时候都来得及，但是最好就是现在。
    </p>
    <p>
     --------雄关漫道真如铁，而今迈步从头越
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f36333130373832332f:61727469636c652f64657461696c732f313436313537303035" class_="artid" style="display:none">
 </p>
</div>


