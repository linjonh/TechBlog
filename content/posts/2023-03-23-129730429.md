---
layout: post
title: "UPD原理及网络过程"
date: 2023-03-23 14:39:07 +0800
description: "UPD协议是一种无连接、快速、轻量级的传输协议，在实时应用场景下具有广泛应用。了解UPD原理及其在网"
keywords: "upd"
categories: ['未分类']
tags: ['网络', 'Udp', 'Tcp']
artid: "129730429"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=129730429
  alt: "UPD原理及网络过程"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=129730429
featuredImagePreview: https://bing.ee123.net/img/rand?artid=129730429
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     UPD原理及网络过程
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-dracula" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="UPD_1">
     </a>
     UPD原理及网络过程
    </h2>
    <blockquote>
     <p>
      UPD协议是一种无连接、快速、轻量级的传输协议，在实时应用场景下具有广泛应用。了解UPD原理及其在网络中的通信过程对于开发实时应用程序非常重要。
     </p>
    </blockquote>
    <h3>
     <a id="1_UPD_3">
     </a>
     1. UPD原理
    </h3>
    <p>
     UPD（User Datagram Protocol）是一种无连接的传输协议，它不保证数据包的可靠性和顺序性，但具有传输速度快、开销小等优点。UPD协议是TCP/IP协议族中的一员，常用于音视频传输、游戏等实时应用场景。
    </p>
    <p>
     UPD协议的数据包格式如下：
    </p>
    <pre><code>+------+------------+------------------+
| 头部 | 数据长度   | 数据             |
+------+------------+------------------+
</code></pre>
    <p>
     其中头部包含源端口号、目标端口号、数据包长度和校验和等信息。数据长度指的是数据部分的长度，不包括头部。校验和用于检查数据包是否被篡改。
    </p>
    <p>
     UPD协议不会对数据进行分段和重组，因此一个UDP数据包的大小不能超过64KB。如果需要传输更大的数据，可以将其分成多个小块进行传输。
    </p>
    <h3>
     <a id="2__19">
     </a>
     2. 网络过程
    </h3>
    <p>
     UPD协议在网络中的通信过程如下：
    </p>
    <ol>
     <li>
      发送方将要发送的数据封装成UDP数据包，并指定目标IP地址和端口号。
     </li>
     <li>
      发送方将UDP数据包发送到本地网络接口。
     </li>
     <li>
      网络接口将UDP数据包封装成IP数据报，并添加源IP地址和目标IP地址等信息。
     </li>
     <li>
      IP层将IP数据报发送到目标主机。
     </li>
     <li>
      目标主机接收到IP数据报后，将其交给UDP层处理。
     </li>
     <li>
      UDP层解析出UDP头部信息，并检查校验和是否正确。
     </li>
     <li>
      如果校验和正确，则将UDP头部信息中指定端口号对应的应用程序处理该UDP数据包。
     </li>
    </ol>
    <p>
     由于UPD协议不保证可靠性，因此在实际应用中需要考虑丢包、重复、乱序等问题，并采取相应措施进行处理。例如，在音视频传输中可以采用前向纠错技术来提高可靠性；在游戏中可以采用心跳机制来检测连接状态并重新发送丢失的消息。
    </p>
    <div class="mermaid sequence-diagram">
     <svg height="358" id="mermaid-svg-8PR9J3Hz2txYFbx7" style="max-width: 201.375px;" viewbox="-8 -8 201.375 358" width="100%" xmlns="http://www.w3.org/2000/svg">
      <style>
       #mermaid-svg-8PR9J3Hz2txYFbx7 {font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-svg-8PR9J3Hz2txYFbx7 .error-icon{fill:#552222;}#mermaid-svg-8PR9J3Hz2txYFbx7 .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-8PR9J3Hz2txYFbx7 .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-8PR9J3Hz2txYFbx7 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-8PR9J3Hz2txYFbx7 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-8PR9J3Hz2txYFbx7 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-8PR9J3Hz2txYFbx7 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-8PR9J3Hz2txYFbx7 .marker{fill:#333333;stroke:#333333;}#mermaid-svg-8PR9J3Hz2txYFbx7 .marker.cross{stroke:#333333;}#mermaid-svg-8PR9J3Hz2txYFbx7 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-8PR9J3Hz2txYFbx7 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg-8PR9J3Hz2txYFbx7 .cluster-label text{fill:#333;}#mermaid-svg-8PR9J3Hz2txYFbx7 .cluster-label span{color:#333;}#mermaid-svg-8PR9J3Hz2txYFbx7 .label text,#mermaid-svg-8PR9J3Hz2txYFbx7 span{fill:#333;color:#333;}#mermaid-svg-8PR9J3Hz2txYFbx7 .node rect,#mermaid-svg-8PR9J3Hz2txYFbx7 .node circle,#mermaid-svg-8PR9J3Hz2txYFbx7 .node ellipse,#mermaid-svg-8PR9J3Hz2txYFbx7 .node polygon,#mermaid-svg-8PR9J3Hz2txYFbx7 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg-8PR9J3Hz2txYFbx7 .node .label{text-align:center;}#mermaid-svg-8PR9J3Hz2txYFbx7 .node.clickable{cursor:pointer;}#mermaid-svg-8PR9J3Hz2txYFbx7 .arrowheadPath{fill:#333333;}#mermaid-svg-8PR9J3Hz2txYFbx7 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg-8PR9J3Hz2txYFbx7 .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg-8PR9J3Hz2txYFbx7 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-svg-8PR9J3Hz2txYFbx7 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-svg-8PR9J3Hz2txYFbx7 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg-8PR9J3Hz2txYFbx7 .cluster text{fill:#333;}#mermaid-svg-8PR9J3Hz2txYFbx7 .cluster span{color:#333;}#mermaid-svg-8PR9J3Hz2txYFbx7 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-8PR9J3Hz2txYFbx7 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}
      </style>
      <g>
       <g class="output">
        <g class="clusters">
        </g>
        <g class="edgePaths">
         <g class="edgePath LS-A LE-B" id="L-A-B" style="opacity: 1;">
          <path class="path" d="M96.6875,54L96.6875,58.166666666666664C96.6875,62.333333333333336,96.6875,70.66666666666667,96.6875,79C96.6875,87.33333333333333,96.6875,95.66666666666667,96.6875,99.83333333333333L96.6875,104" marker-end="url(#arrowhead36)" style="fill:none">
          </path>
          <defs>
           <marker id="arrowhead36" markerheight="6" markerunits="strokeWidth" markerwidth="8" orient="auto" refx="9" refy="5" viewbox="0 0 10 10">
            <path class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;">
            </path>
           </marker>
          </defs>
         </g>
         <g class="edgePath LS-B LE-C" id="L-B-C" style="opacity: 1;">
          <path class="path" d="M96.6875,150L96.6875,154.16666666666666C96.6875,158.33333333333334,96.6875,166.66666666666666,96.6875,175C96.6875,183.33333333333334,96.6875,191.66666666666666,96.6875,195.83333333333334L96.6875,200" marker-end="url(#arrowhead37)" style="fill:none">
          </path>
          <defs>
           <marker id="arrowhead37" markerheight="6" markerunits="strokeWidth" markerwidth="8" orient="auto" refx="9" refy="5" viewbox="0 0 10 10">
            <path class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;">
            </path>
           </marker>
          </defs>
         </g>
         <g class="edgePath LS-C LE-D" id="L-C-D" style="opacity: 1;">
          <path class="path" d="M96.6875,246L96.6875,250.16666666666666C96.6875,254.33333333333334,96.6875,262.6666666666667,96.6875,271C96.6875,279.3333333333333,96.6875,287.6666666666667,96.6875,291.8333333333333L96.6875,296" marker-end="url(#arrowhead38)" style="fill:none">
          </path>
          <defs>
           <marker id="arrowhead38" markerheight="6" markerunits="strokeWidth" markerwidth="8" orient="auto" refx="9" refy="5" viewbox="0 0 10 10">
            <path class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;">
            </path>
           </marker>
          </defs>
         </g>
        </g>
        <g class="edgeLabels">
         <g class="edgeLabel" style="opacity: 1;" transform="">
          <g class="label" transform="translate(0,0)">
           <rect height="0" rx="0" ry="0" width="0">
           </rect>
           <foreignobject height="0" width="0">
            <div style="display: inline-block; white-space: nowrap;">
             <span class="edgeLabel L-LS-A' L-LE-B" id="L-L-A-B">
             </span>
            </div>
           </foreignobject>
          </g>
         </g>
         <g class="edgeLabel" style="opacity: 1;" transform="">
          <g class="label" transform="translate(0,0)">
           <rect height="0" rx="0" ry="0" width="0">
           </rect>
           <foreignobject height="0" width="0">
            <div style="display: inline-block; white-space: nowrap;">
             <span class="edgeLabel L-LS-B' L-LE-C" id="L-L-B-C">
             </span>
            </div>
           </foreignobject>
          </g>
         </g>
         <g class="edgeLabel" style="opacity: 1;" transform="">
          <g class="label" transform="translate(0,0)">
           <rect height="0" rx="0" ry="0" width="0">
           </rect>
           <foreignobject height="0" width="0">
            <div style="display: inline-block; white-space: nowrap;">
             <span class="edgeLabel L-LS-C' L-LE-D" id="L-L-C-D">
             </span>
            </div>
           </foreignobject>
          </g>
         </g>
        </g>
        <g class="nodes">
         <g class="node default" id="flowchart-A-18" style="opacity: 1;" transform="translate(96.6875,31)">
          <rect class="label-container" height="46" rx="0" ry="0" width="97.109375" x="-48.5546875" y="-23">
          </rect>
          <g class="label" transform="translate(0,0)">
           <g transform="translate(-38.5546875,-13)">
            <foreignobject height="26" width="77.109375">
             <div style="display: inline-block; white-space: nowrap;">
              UDP数据包
             </div>
            </foreignobject>
           </g>
          </g>
         </g>
         <g class="node default" id="flowchart-B-19" style="opacity: 1;" transform="translate(96.6875,127)">
          <rect class="label-container" height="46" rx="0" ry="0" width="177.375" x="-88.6875" y="-23">
          </rect>
          <g class="label" transform="translate(0,0)">
           <g transform="translate(-78.6875,-13)">
            <foreignobject height="26" width="157.375">
             <div style="display: inline-block; white-space: nowrap;">
              发送方IP地址和端口号
             </div>
            </foreignobject>
           </g>
          </g>
         </g>
         <g class="node default" id="flowchart-C-21" style="opacity: 1;" transform="translate(96.6875,223)">
          <rect class="label-container" height="46" rx="0" ry="0" width="177.375" x="-88.6875" y="-23">
          </rect>
          <g class="label" transform="translate(0,0)">
           <g transform="translate(-78.6875,-13)">
            <foreignobject height="26" width="157.375">
             <div style="display: inline-block; white-space: nowrap;">
              接收方IP地址和端口号
             </div>
            </foreignobject>
           </g>
          </g>
         </g>
         <g class="node default" id="flowchart-D-23" style="opacity: 1;" transform="translate(96.6875,319)">
          <rect class="label-container" height="46" rx="0" ry="0" width="132" x="-66" y="-23">
          </rect>
          <g class="label" transform="translate(0,0)">
           <g transform="translate(-56,-13)">
            <foreignobject height="26" width="112">
             <div style="display: inline-block; white-space: nowrap;">
              接收方应用程序
             </div>
            </foreignobject>
           </g>
          </g>
         </g>
        </g>
       </g>
      </g>
     </svg>
    </div>
    <h3>
     <a id="3__41">
     </a>
     3. 总结
    </h3>
    <p>
     总之，UPD是一种快速而简单的传输协议，在实时应用程序中具有广泛应用。但需要注意的是，由于其不保证可靠性和顺序性，在某些情况下可能会导致数据丢失或混乱。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f33343230383834342f:61727469636c652f64657461696c732f313239373330343239" class_="artid" style="display:none">
 </p>
</div>
