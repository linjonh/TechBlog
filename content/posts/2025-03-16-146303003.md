---
layout: post
title: "项目经历-笔记"
date: 2025-03-16 23:08:06 +0800
description: "整理项目经验涉及到相关的技术模型。"
keywords: "项目经历-笔记"
categories: ['人脸识别']
tags: ['笔记']
artid: "146303003"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146303003
    alt: "项目经历-笔记"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146303003
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146303003
cover: https://bing.ee123.net/img/rand?artid=146303003
image: https://bing.ee123.net/img/rand?artid=146303003
img: https://bing.ee123.net/img/rand?artid=146303003
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     项目经历-笔记
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <blockquote>
     <p>
      整理项目经验涉及到相关的技术模型
     </p>
    </blockquote>
    <p>
    </p>
    <p>
    </p>
    <h2>
     <a id="_4">
     </a>
     一、人脸识别
    </h2>
    <h3>
     <a id="1_InsightFace_5">
     </a>
     1 InsightFace
    </h3>
    <h4>
     <a id="11_SCRFD_6">
     </a>
     1.1 SCRFD
    </h4>
    <blockquote>
     <p>
      人脸检测的模型 输入是图像 输出是检测到的目标位置和相关信息（如关键点、置信度等）
     </p>
    </blockquote>
    <pre><code class="prism language-python">加载方式
self<span class="token punctuation">.</span>detector <span class="token operator">=</span> SCRFD<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>assets_dir<span class="token punctuation">,</span> <span class="token string">'det_10g.onnx'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
self<span class="token punctuation">.</span>detector<span class="token punctuation">.</span>prepare<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
调用方式
<span class="token comment"># 检测人脸并获取关键点</span>
bboxes<span class="token punctuation">,</span> kpss <span class="token operator">=</span> self<span class="token punctuation">.</span>detector<span class="token punctuation">.</span>autodetect<span class="token punctuation">(</span>image<span class="token punctuation">,</span> max_num<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     bboxes的检测框结果 x1 y1 x2 y2 conf
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/6527de51c389476582d41f173a1ee677.png">
      <br/>
      kpss中包含每个人脸的关键点位置。每个关键点位置是一个二维坐标，表示脸部不同部位（如眼睛、鼻子、嘴巴等）的坐标
     </img>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/1d54934e3b864c2b839293da6a4a352d.png">
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/667505dafa234f6f8cd1e5ed6b0063a9.png"/>
     </img>
    </p>
    <h4>
     <a id="12_ArcFaceONNX_26">
     </a>
     1.2 ArcFaceONNX
    </h4>
    <blockquote>
     <p>
      初始化和运行 ArcFace 模型来进行人脸特征提取
     </p>
    </blockquote>
    <pre><code class="prism language-python">加载方式
model_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>assets_dir<span class="token punctuation">,</span> <span class="token string">'w600k_r50.onnx'</span><span class="token punctuation">)</span>
self<span class="token punctuation">.</span>rec <span class="token operator">=</span> ArcFaceONNX<span class="token punctuation">(</span>model_path<span class="token punctuation">)</span>
self<span class="token punctuation">.</span>rec<span class="token punctuation">.</span>prepare<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
调用方式
feat <span class="token operator">=</span> self<span class="token punctuation">.</span>rec<span class="token punctuation">.</span>get<span class="token punctuation">(</span>image<span class="token punctuation">,</span> kps<span class="token punctuation">)</span>
</code></pre>
    <p>
     该方法接收一个图像 img 和关键点 kps，首先通过 face_align.norm_crop 进行人脸对齐处理（基于关键点），然后调用 get_feat 方法提取图像的特征嵌入（embedding），最后将特征进行扁平化并返回。
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/e7779e53083f4110b983edab462be279.png"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34353938383234322f:61727469636c652f64657461696c732f313436333033303033" class_="artid" style="display:none">
 </p>
</div>


