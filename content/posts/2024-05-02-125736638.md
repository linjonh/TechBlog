---
arturl_encode: "68747470733a2f2f626c:6f672e6373646e2e6e65742f5477696e6b6c655f736f6e652f:61727469636c652f64657461696c732f313235373336363338"
layout: post
title: "å¾®ä¿¡å°ç¨‹åºå®ç°ä¸€ä¸ªæ‰‹åŠ¿å›¾æ¡ˆé”ç»„ä»¶"
date: 2024-05-02 16:24:51 +08:00
description: "æ‰‹æœºçš„æ‰‹åŠ¿å›¾æ¡ˆè§£é”åŠŸèƒ½å¤§å®¶éƒ½ç”¨è¿‡å—ï¼Ÿç”¨è¿‡çš„åŒå­¦ç”¨æ²¡æœ‰æƒ³è¿‡è‡ªå·±å»å®ç°ä¸€ä¸ªç±»ä¼¼çš„åŠŸèƒ½ç»„ä»¶å‘¢ï¼Ÿç»§ä¸Šæ¬¡ä½¿ç”¨v"
keywords: "å°ç¨‹åº æ‰‹åŠ¿å¯†ç  å®ä¾‹"
categories: ['æœªåˆ†ç±»']
tags: ['å¾®ä¿¡å°ç¨‹åº', 'å°ç¨‹åº', 'å‰ç«¯']
artid: "125736638"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=125736638
  alt: "å¾®ä¿¡å°ç¨‹åºå®ç°ä¸€ä¸ªæ‰‹åŠ¿å›¾æ¡ˆé”ç»„ä»¶"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=125736638
featuredImagePreview: https://bing.ee123.net/img/rand?artid=125736638
---

# å¾®ä¿¡å°ç¨‹åºå®ç°ä¸€ä¸ªæ‰‹åŠ¿å›¾æ¡ˆé”ç»„ä»¶

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/ffa9e127e02e890c3b076c3315974d90.png#pic_center)

### è¯´åœ¨å‰é¢

> ğŸˆç°åœ¨å¤§éƒ¨åˆ†çš„äººéƒ½å–œæ¬¢ä½¿ç”¨æ‰‹åŠ¿å›¾æ¡ˆé”æ¥ä½œä¸ºæ‰‹æœºçš„é”å±ï¼Œä¹‹å‰æˆ‘ä¹Ÿå†™è¿‡ä¸€ç¯‡ä½¿ç”¨vueå°è£…çš„æ‰‹åŠ¿å›¾æ¡ˆé”ç»„ä»¶ï¼Œæƒ³äº†è§£çš„å¯ä»¥æˆ³è¿™é‡Œ->
> [ã€Švueå°è£…ä¸€ä¸ªå›¾æ¡ˆæ‰‹åŠ¿é”ç»„ä»¶ã€‹](https://juejin.cn/post/7103699272436023332)
> ã€‚é‚£ä¹ˆæ€ä¹ˆåœ¨å¾®ä¿¡å°ç¨‹åºä¸­å®ç°è¿™ç§æ‰‹åŠ¿é”å±çš„æ•ˆæœçš„å‘¢ï¼Ÿæ¥ä¸‹æ¥è®©æˆ‘ä»¬ä¸€èµ·æ¥å®ç°ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºä¸­å¯ä»¥ä½¿ç”¨çš„æ‰‹åŠ¿é”å±ç»„ä»¶å§ï¼

### ç»„ä»¶è®¾è®¡

> æˆ‘ä»¬ä¸»è¦ä»é¡µé¢å±•ç¤ºæ•ˆæœå’Œäº¤äº’æ•ˆæœæ¥è¿›è¡Œå…·ä½“åˆ†æï¼š

#### 1ã€é¡µé¢æ•ˆæœ

##### 1.1 ä¹å®«æ ¼åœ†ç‚¹æ’åˆ—

ä½¿ç”¨flexå¸ƒå±€å’Œflex-wrapæ•ˆæœï¼Œä½¿9ä¸ªåœ†ç‚¹å¯ä»¥å‡åŒ€æ’åˆ—ã€‚

* wxml

```html
<view
    id="{{JAppsLockId + 'lock'}}"
    class="j-apps-lock"
>
    <view class="j-apps-lock-cells">
        <view
            class="j-apps-lock-cell"
            wx:for="{{size * size}}"
            wx:key="index"
            data-id="{{index}}"
            style="border:{{showBorder[index] ? '1px solid gray' : '1px solid transparent'}}"
        >
            <view
                id="{{'point-' + index}}"
                class="j-apps-lock-point"
                data-id="{{index}}"
            ></view>
        </view>
    </view>
</view>

```

* wxss

```css
.j-apps-lock {
  position: relative;
  margin: auto;
}
.j-apps-lock-cells {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-around;
}
.j-apps-lock-cell {
  display: flex;
  border-radius: 50%;
  justify-content: center;
  width: 26vw;
  height: 26vw;
  margin-top: 2vw;
}
.j-apps-lock-point {
  width: 40%;
  height: 40%;
  justify-content: center;
  background-color: rgb(187, 183, 183);
  display: flex;
  margin: auto;
  border-radius: 50%;
  position: relative;
}

```

##### 1.2 åˆ’åŠ¨é€‰ä¸­åœˆåœˆæ•ˆæœ

åªéœ€è¦åŠ¨æ€åˆ¤æ–­å½“å‰åœˆåœˆæ˜¯å¦è¢«é€‰ä¸­ï¼ŒåŠ¨æ€ä¿®æ”¹styleå±æ€§å³å¯:
`border:{
{showBorder[index] ? '1px solid gray' : '1px solid transparent'}}`

```html
<view
    class="j-apps-lock-cell"
    wx:for="{{size * size}}"
    wx:key="index"
    data-id="{{index}}"
    style="border:{{showBorder[index] ? '1px solid gray' : '1px solid transparent'}}"
>
...
</view>

```

#### 2ã€äº¤äº’æ•ˆæœ

##### 2.1 ç›‘å¬è§¦å±åˆ’è¿‡åœ†ç‚¹

æˆ‘ä»¬å¯ä»¥å¯¹æ•´ä¸ªç»„ä»¶ç•Œé¢è¿›è¡Œä¸€ä¸ªè§¦å±ç›‘å¬ï¼Œåˆ¤æ–­åæ ‡æ˜¯å¦ç»è¿‡æŸä¸€ä¸ªåœ†ç‚¹çš„åæ ‡ï¼Œå¦‚æœæ˜¯ï¼Œå¯ä»¥å°†å½“å‰åœ†ç‚¹æ ‡è®°ä¸ºé€‰ä¸­çŠ¶æ€ã€‚

* wxml

```html
<view
    id="j-apps-lock-body"
    class="j-apps-lock-body"
    bindtouchstart="mousedown"
    bindtouchmove="mouseover"
    bindtouchend="mouseup"
>
...
</view>

```

* js

```javascript
mousedown(e){
  this.clearPoint();
  if(this.data.points.length == 0) this.getPoints();
},
mouseover(e){
  let points = this.data.points;
  let x = e.touches[0].pageX;
  let y = e.touches[0].pageY;
  let id = '';
  let showBorder = this.data.showBorder;
  for(let i = 0; i < points.length; i++){
    const p = points[i];
    if(x >= p.left && x <= p.right && y <= p.bottom && y >= p.top){
      id = p.dataset.id;
      showBorder[i] = true;
      break;
    }
  }
  let chooseList = this.data.chooseList;
  if(isNaN(parseInt(id)) || chooseList.includes(id)) return;
  chooseList.push(id);
  this.setData({
    chooseList:chooseList,
    showBorder:showBorder
  })
},

```

##### 2.2 åŠ¨ä½œç»“æŸè¿”å›åŠ¨ä½œè½¨è¿¹

åœ¨æ‰‹æŒ‡ç¦»å¼€æ‰‹æœºå±å¹•ï¼ŒåŠè§¦å±äº‹ä»¶ç»“æŸè§¦å‘mouseupäº‹ä»¶çš„æ—¶å€™ï¼Œå°†é€‰ä¸­çš„åœˆåœˆåæ ‡é¡ºåºä¼ é€’ç»™çˆ¶ç»„ä»¶ï¼Œè¿™é‡Œæˆ‘å¯¹åœˆåœˆçš„åæ ‡å®šä¹‰å¦‚ä¸‹ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥æ ¹æ®å®é™…æƒ…å†µè‡ªå·±å®šä¹‰ï¼š
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/42cf1917244ccde0d8a9ae2815b4c81f.png#pic_center)

```javascript
mouseup(){
  this.triggerEvent("getPassword", {chooseList:this.data.chooseList});
},

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/e1da51193e64ad4f3b2afeb7cd481b2a.png#pic_center)

æ‰€ä»¥ä¸Šå›¾çš„å›¾æ¡ˆæ»‘åŠ¨è½¨è¿¹è¿”å›çš„ç‚¹é›†æ•°ç»„åº”è¯¥ä¸ºï¼š

```javascript
    [1,2,3,6,9,8,7,4,5]

```

### æ ¸å¿ƒä»£ç è¯¦è§£

#### 1ã€å¾®ä¿¡å°ç¨‹åºè·å–domå®ä¾‹å¯¹è±¡

åœ¨è¿›è¡Œç‚¹åæ ‡åˆ¤æ–­çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦è·å–åˆ°æ¯ä¸€ä¸ªç‚¹çš„åæ ‡èŒƒå›´ï¼Œä½†æ˜¯åœ¨å¾®ä¿¡å°ç¨‹åºä¸­æˆ‘ä»¬ä¸èƒ½ç›´æ¥åŒdocument.getElementbyIdå»è·å–åˆ°æˆ‘ä»¬éœ€è¦çš„å®ä¾‹å¯¹è±¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯¥æ€ä¹ˆè·å–åˆ°éœ€è¦çš„å¯¹è±¡ï¼Œå¹¶å¾—åˆ°å…¶ç›¸åº”çš„åæ ‡èŒƒå›´å‘¢ï¼Ÿ

##### 1.1 wx.createSelectorQuery()

æˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€ä¸‹wx.createSelectorQuery()è¿™ä¸ªapi

* åŠŸèƒ½

> è¿”å›ä¸€ä¸ª SelectorQuery å¯¹è±¡å®ä¾‹ã€‚åœ¨è‡ªå®šä¹‰ç»„ä»¶æˆ–åŒ…å«è‡ªå®šä¹‰ç»„ä»¶çš„é¡µé¢ä¸­ï¼Œåº”ä½¿ç”¨
> `this.createSelectorQuery()`
> æ¥ä»£æ›¿ã€‚

é€šè¿‡æŸ¥é˜…å®˜æ–¹æ–‡æ¡£ï¼Œæˆ‘ä»¬å‘ç°å¯ä»¥é€šè¿‡
`wx.createSelectorQuery()`
æ¥è·å–åˆ°é¡µé¢ä¸Šçš„å®ä¾‹å¯¹è±¡ï¼Œè¿™é‡Œæˆ‘ä»¬æ˜¯åœ¨å°ç¨‹åºç»„ä»¶ä¸­ä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥ä½¿ç”¨
`this.createSelectorQuery()`
æ¥è·å–ã€‚

```javascript
getPoints(){
  const query = this.createSelectorQuery();
  let id = '.j-apps-lock-point'
  query.selectAll(id).boundingClientRect((res)=>{
    this.setData({
      points:res
    })
  }).exec()
},

```

#### 2ã€åˆ¤æ–­æ˜¯å¦æ˜¯å¦åˆ’è¿‡ç‚¹ä½

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/10435990dc04945acaa77b5f6947a53c.png#pic_center)

å‰é¢æˆ‘ä»¬è·å–çš„ç‚¹ä½çš„domå®ä¾‹åœ¨è¿™é‡Œå°±å¯ä»¥æ´¾ä¸Šç”¨åœºäº†ï¼Œå¾®ä¿¡å°ç¨‹åºè¿”å›çš„å®ä¾‹å¯¹è±¡ä¸­ä¼šåŒ…å«è¿™å‡ ä¸ªå±æ€§ï¼š

* leftï¼šå®ä¾‹å¯¹è±¡æœ€å·¦ç«¯åæ ‡
* rightï¼šå®ä¾‹å¯¹è±¡æœ€å³ç«¯åæ ‡
* topï¼šå®ä¾‹å¯¹è±¡æœ€é¡¶ç«¯åæ ‡
* bottomï¼šå®ä¾‹å¯¹è±¡æœ€åº•ç«¯åæ ‡
    
  è¿™é‡Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªæ–¹æ³•æ¥åˆ¤æ–­ï¼š

##### 2.1 æ­£æ–¹å½¢åŒºåŸŸåˆ¤æ–­

æˆ‘ä»¬å¯ä»¥ç›´æ¥æ ¹æ®å®ä¾‹å¯¹è±¡çš„å››ä¸ªç«¯ç‚¹åæ ‡æ¥è¿›è¡Œä¸€ä¸ªæ­£æ–¹å½¢çš„å¤§è‡´ä½ç½®åŒ¹é…ï¼Œè¿™æ ·å¾—å‡ºæ¥çš„ç»“æœä¼šæœ‰å°‘è®¸è¯¯å·®ï¼Œä½†ä¹Ÿä¸ä¼šæœ‰å¾ˆå¤§çš„å½±å“ï¼š
`x >= p.left && x <= p.right && y <= p.bottom && y >= p.top`

```javascript
mouseover(e){
  //å‰é¢è·å–çš„åœˆåœˆå®ä¾‹å¯¹è±¡é›†åˆ
  let points = this.data.points;
  //å½“å‰è§¦å±åæ ‡
  let x = e.touches[0].pageX;
  let y = e.touches[0].pageY;
  let id = '';
  let showBorder = this.data.showBorder;
  //åˆ¤æ–­æ˜¯å¦åˆ’è¿‡æŸä¸€ä¸ªåœˆåœˆ
  for(let i = 0; i < points.length; i++){
    const p = points[i];
    if(x >= p.left && x <= p.right && y <= p.bottom && y >= p.top){
      id = p.dataset.id;
      showBorder[i] = true;
      break;
    }
  }
  //è®°å½•åœˆåœˆé€‰ä¸­çŠ¶æ€
  let chooseList = this.data.chooseList;
  if(isNaN(parseInt(id)) || chooseList.includes(id)) return;
  chooseList.push(id);
  this.setData({
    chooseList:chooseList,
    showBorder:showBorder
  })
},

```

##### 2.2 åœ†å½¢åŒºåŸŸåˆ¤æ–­

æˆ‘ä»¬ä¹Ÿå¯ä»¥æ ¹æ®ç‚¹å®ä¾‹å¯¹è±¡çš„ç«¯ç‚¹å¾—å‡ºå…¶åœ†çš„æ–¹ç¨‹ï¼Œæˆ‘ä»¬åªéœ€è¦å°†åæ ‡ä»£å…¥æ–¹ç¨‹åˆ¤æ–­æ˜¯å¦ä½äºåœ†å†…å³å¯ï¼š
  
`(x1-x)^2 + (y1-y)^2 <= r^2`
  
æ‰€ä»¥æˆ‘ä»¬éœ€è¦è®¡ç®—å‡ºåœˆåœˆçš„åœ†å¿ƒåæ ‡å’ŒåŠå¾„å³å¯ï¼š

```javascript
const r = (p.right - p.left) / 2;
const x1 = (p.left + p.right) / 2;
const y1 = (p.top + p.bottom) / 2;

```

```javascript
mouseover(e){
  let points = this.data.points;
  let x = e.touches[0].pageX;
  let y = e.touches[0].pageY;
  let id = '';
  let showBorder = this.data.showBorder;
  for(let i = 0; i < points.length; i++){
    const p = points[i];
    const r = (p.right - p.left) / 2;
    const x1 = (p.left + p.right) / 2;
    const y1 = (p.top + p.bottom) / 2;
    if(Math.pow(x1 - x,2) + Math.pow(y1 - y,2) <= Math.pow(r,2)){
      id = p.dataset.id;
      showBorder[i] = true;
      break;
    }
  }
  let chooseList = this.data.chooseList;
  if(isNaN(parseInt(id)) || chooseList.includes(id)) return;
  chooseList.push(id);
  this.setData({
    chooseList:chooseList,
    showBorder:showBorder
  })
},

```

### æºç åœ°å€

è¯¥ç»„ä»¶æ˜¯æˆ‘åœ¨è‡ªå·±çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ä¸­ä½¿ç”¨åˆ°çš„ï¼Œæºç å¯ä»¥åˆ°è¯¥é¡¹ç›®æŸ¥çœ‹å…·ä½“ä»£ç ï¼Œåœ°å€å¦‚ä¸‹ï¼š
  
[å¾®ä¿¡å°ç¨‹åºæ‰‹åŠ¿å›¾æ¡ˆé”ç»„ä»¶æºç ](https://gitee.com/zheng_yongtao/me-and-my-doodle/tree/master/miniprogram/components/appLock)

> å…·ä½“ä½ç½®å¦‚ä¸‹

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/a478ca754e300ade3e071e49caa48f65.png#pic_center)

### å¾€æœŸç²¾å½©

[vueå°è£…ä¸€ä¸ªå›¾æ¡ˆæ‰‹åŠ¿é”ç»„ä»¶](https://juejin.cn/post/7103699272436023332)

[vueå°è£…ä¸€ä¸ªå¼¹å¹•ç»„ä»¶](https://juejin.cn/post/7087599645387391012)

[ä¸ºäº†å­¦ï¼ˆmoï¼‰ä¹ ï¼ˆyuï¼‰ï¼Œæˆ‘ç«Ÿå¼€å‘äº†è¿™æ ·ä¸€ä¸ªæ’ä»¶](https://juejin.cn/post/7050900019355844622 "https://juejin.cn/post/7050900019355844622")

[ç¨‹åºå‘˜çš„æµªæ¼«ä¹‹â€”â€”æƒ…ä¾£æ—¥å¸¸å°ç¨‹åº](https://juejin.cn/post/7001710354141020173 "https://juejin.cn/post/7001710354141020173")

[JavaScriptåŒå‘é“¾è¡¨å®ç°LRUç¼“å­˜ç®—æ³•](https://juejin.cn/post/7056680695682301965 "https://juejin.cn/post/7056680695682301965")

[JavaScriptåŒå‘é“¾è¡¨å®ç°LFUç¼“å­˜ç®—æ³•](https://juejin.cn/post/7056422914563768334 "https://juejin.cn/post/7056422914563768334")

[JavaScriptå®ç°å‰ç¼€æ ‘](https://juejin.cn/post/7060075737516081166 "https://juejin.cn/post/7060075737516081166")

[vueç®€å•å®ç°è¯äº‘å›¾ç»„ä»¶](https://juejin.cn/post/7063366122766073869 "https://juejin.cn/post/7063366122766073869")

[vue + echartså®ç°ä¸­å›½åœ°å›¾çœä»½ä¸‹é’»è”åŠ¨](https://juejin.cn/post/7082686310166560799 "https://juejin.cn/post/7082686310166560799")

[ä½¿ç”¨å­¦è¿‡çš„ç®—æ³•åšä¸ªæ¸¸æˆå¾ˆé…·çš„å¥½å—](https://juejin.cn/post/7085933111308976158 "https://juejin.cn/post/7085933111308976158")

### è¯´åœ¨åé¢

> ğŸ‰è¿™é‡Œæ˜¯
> [JYeontu](https://link.juejin.cn?target=http%3A%2F%2Fjyeontu.xyz%2FJYeontuBlog%2F%23%2Fhome "https://link.juejin.cn?target=http%3A%2F%2Fjyeontu.xyz%2FJYeontuBlog%2F%23%2Fhome")
> ï¼Œå–œæ¬¢ç®—æ³•ï¼ŒGDCPCæ‰“è¿‡å¡ï¼›çƒ­çˆ±ç¾½æ¯›çƒï¼Œå¤§è¿ä¼šæ‰“è¿‡é…±æ²¹ã€‚æ¯•ä¸šä¸€å¹´ï¼Œä¸¤å¹´å‰ç«¯å¼€å‘ç»éªŒï¼Œç›®å‰æ‹…ä»»H5å‰ç«¯å¼€å‘ï¼Œç®—æ³•ä¸šä½™çˆ±å¥½è€…,æœ‰ç©ºä¼šåˆ·åˆ·ç®—æ³•é¢˜ï¼Œå¹³æ—¶å–œæ¬¢æ‰“æ‰“ç¾½æ¯›çƒğŸ¸ ï¼Œä¹Ÿå–œæ¬¢å†™äº›ä¸œè¥¿ï¼Œæ—¢ä¸ºè‡ªå·±è®°å½•ğŸ“‹ï¼Œä¹Ÿå¸Œæœ›å¯ä»¥å¯¹å¤§å®¶æœ‰é‚£ä¹ˆä¸€ä¸¢ä¸¢çš„å¸®åŠ©ï¼Œå†™çš„ä¸å¥½æœ›å¤šå¤šè°…è§£ğŸ™‡ï¼Œå†™é”™çš„åœ°æ–¹æœ›æŒ‡å‡ºï¼Œå®šä¼šè®¤çœŸæ”¹è¿›ğŸ˜Šï¼Œåœ¨æ­¤è°¢è°¢å¤§å®¶çš„æ”¯æŒï¼Œæˆ‘ä»¬ä¸‹æ–‡å†è§ğŸ™Œã€‚