---
layout: post
title: "新知实验室TRTC腾讯实时音视频动手实验"
date: 2024-06-06 14:26:48 +0800
description: "TUIPusher & TUIPlayer 是 Web 端开源的含 UI 直播互动组件。TUIPus"
keywords: "【新知实验室】TRTC腾讯实时音视频动手实验"
categories: ['未分类']
tags: ['腾讯云', '实时音视频', '云计算']
artid: "128053971"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=128053971
  alt: "新知实验室TRTC腾讯实时音视频动手实验"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=128053971
featuredImagePreview: https://bing.ee123.net/img/rand?artid=128053971
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【新知实验室】TRTC腾讯实时音视频动手实验
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="_0">
     </a>
     一、产品概述
    </h3>
    <p>
     https://cloud.tencent.com/document/product/647/16788
    </p>
    <h3>
     <a id="_2">
     </a>
     二、基本的一些概念
    </h3>
    <p>
     <strong>
      应用
     </strong>
     <br/>
     TRTC 通过应用的形式来管理不同的业务或项目。您可以在 TRTC 控制台 给不同的业务或项目分别创建不同的应用，从而实现业务或项目数据的隔离。每个腾讯云账号最多可以创建100个 TRTC 应用。
     <br/>
     <strong>
      SDKAppID
     </strong>
     <br/>
     SDKAppID（应用标识/应用 ID）是腾讯云后台用来区分不同 TRTC 应用的唯一标识，在 TRTC 控制台 创建应用时自动生成。不同 SDKAppID 之间的数据不互通。
     <br/>
     <strong>
      UserID
     </strong>
     <br/>
     UserID（用户标识）用于在一个 TRTC 应用中唯一标识一个用户。
     <br/>
     用户标识是用户登录开发者业务系统的帐号在腾讯云上的映射。通常情况下，开发者可直接使用用户名作为 UserID。
     <br/>
     取值范围长度建议不超过32字节。请使用英文字符、数字或下划线，不能全为数字，区分大小写。
     <br/>
     <strong>
      房间
     </strong>
     <br/>
     房间是一个音视频空间，同一房间内的用户可以互相接收对方的实时音视频数据。
     <br/>
     TRTC 使用房间这个虚拟的概念，用于用户之间的相互隔离。
     <br/>
     只有在同一个房间里的用户才可以相互接收音视频。
     <br/>
     一个用户同一时间只能在一个房间内。如果要进入另一个房间，必须从前一个房间内退出。
    </p>
    <blockquote>
     <p>
      注意 第一个加入房间的用户为当前房间的所有者，但该用户无法主动解散房间。 通话模式下：所有用户都主动退房时，后台立即解散房间。
      <br/>
      直播模式下：最后一个退房的用户是主播角色时，后台立即解散房间；最后一个退房的用户是观众角色时，后台等待10分钟后解散房间。
      <br/>
      如果房间内的单个用户异常掉线，90秒后服务端会将该用户清理出当前房间。如果房间内的所有用户都异常掉线，90秒后服务端会自动解散当前房间。用户异常掉线等待时长会被纳入计费用时统计。
      <br/>
      当用户要加入的房间不存在时，TRTC 后台会自动创建一个房间。
     </p>
    </blockquote>
    <p>
     <strong>
      RoomID
     </strong>
     <br/>
     RoomID（房间号/房间ID）用于在一个 TRTC 应用中唯一标识一个房间。RoomID 是由开发者自行维护和分配的一个 uint32 范围内的数字，取值区间：1 - 4294967295。
     <br/>
     <strong>
      UserSig
     </strong>
     <br/>
     UserSig（用户签名）是腾讯云设计的一种安全保护签名，用于对一个用户进行登录鉴权认证，确认用户是否真实，阻止恶意攻击者盗用您的云服务使用权。详情请参见 UserSig 相关问题 文档。
     <br/>
     <strong>
      推送
     </strong>
     <br/>
     推送指用户将本地的音视频数据上传给 TRTC 服务端的操作，对应“推流”。
     <br/>
     <strong>
      订阅
     </strong>
     <br/>
     订阅指用户向 TRTC 服务端请求拉取指定用户音视频数据的操作，对应“拉流”。
     <br/>
     <strong>
      角色
     </strong>
     <br/>
     TRTC 支持 主播（TRTCRoleAnchor）和 观众（TRTCRoleAudience）两种角色，二者区别在于：
     <br/>
     主播角色既支持向服务端推送自己的音视频数据，也支持从服务端订阅并播放其他主播角色的音视频数据。
     <br/>
     观众角色仅支持从服务端订阅并播放主播角色的音视频数据。
     <br/>
     在通话模式下，所有进房用户都是主播角色。在直播模式下，您可以根据实际业务场景将进房用户分为主播和观众两种角色，同一个用户可以随时切换角色。
     <br/>
     <strong>
      CDN 直播观看
     </strong>
     <br/>
     CDN 直播观看，又称 “CDN 旁路直播”。TRTC 在云端使用旁路转码集群，将 TRTC 所使用的 UDP 协议转换为标准的直播 RTMP 协议，把 TRTC 的音视频数据推送到标准的云直播系统中，再经由 CDN 进行分发，从而实现 CDN 直播观看。详情请参见 实现 CDN 直播观看 文档。
     <br/>
     <strong>
      云端录制
     </strong>
     <br/>
     TRTC 采用旁路推流的方式使用 云直播 的能力为您提供全程的云端录制功能（即录音/录像），并将录制下来的文件存储到 云点播 平台，保证录制过程的可靠性和实时性。详情请参见 云端录制与回放 文档。
     <br/>
     <strong>
      云端混流转码
     </strong>
     <br/>
     在 CDN 直播观看和云端录制等应用场景中，可能需要将 TRTC 房间里的多路音视频流混合成一路，您可以使用 TRTC 云服务后台的 MCU 混流转码集群来完成该项工作。MCU 集群能将多路音视频流进行按需混合，并将最终生成的视频流分发给直播 CDN 和云端录制系统。详情请参见 云端混流转码 文档。
     <br/>
     <strong>
      哑终端
     </strong>
     <br/>
     哑终端作为观众进入房间拉流时不会被其他 SDK 感知到（远端收不到哑终端的进出房事件通知）。
    </p>
    <h3>
     <a id="demo_45">
     </a>
     三、demo实验
    </h3>
    <p>
     1、在腾讯
     <strong>
      实时音视频
     </strong>
     模块创建应用
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/d87280993ed9f61b5e39369cd1c5bbec.png">
      <br/>
      2、创建之后得到应用的
      <strong>
       SDKAppID
      </strong>
      和
      <strong>
       SDKSecretKey
      </strong>
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/12e730c69c1c7d7d2251d9db06c4a931.png">
       <br/>
       3、快速上手上有适配各个平台的demo，直接下载
       <br/>
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/0e5d123c9874285f1821583bddffc201.png"/>
      </img>
     </img>
    </p>
    <p>
     4、以web程序为例子
     <br/>
     解压 第一步 中下载的源码包，找到并打开/base-js/js/debug/GenerateTestUserSig.js
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/bf122a59aaa86b9992871a3d8042791b.png">
      <br/>
      5、适配到自己的项目中就可以了，测试
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/eea74d9c0482fbb51815f5bde4b6dd45.png">
       <br/>
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/276991fb967ee0ecec3a1fca1aa7e134.png">
        <br/>
        测试完成，后期页面调整
        <br/>
        <strong>
         兄弟们别攻击我
        </strong>
       </img>
      </img>
     </img>
    </p>
    <p>
     <a href="https://gitee.com/torchstar/RuoYi-fast0402" rel="nofollow">
      https://gitee.com/torchstar/RuoYi-fast0402
     </a>
    </p>
    <p>
     都是黄泉预约客，何必难为每一天，执念太强，无法豁然。
    </p>
   </div>
   <link href="./../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="./../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f33363238363136312f:61727469636c652f64657461696c732f313238303533393731" class_="artid" style="display:none">
 </p>
</div>
