---
arturl_encode: "68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f37353139373930362f:61727469636c652f64657461696c732f313436313538313938"
layout: post
title: "æ•°æ®ç»“æ„å•å¾ªç¯é“¾è¡¨clist"
date: 2025-03-13 11:12:11 +0800
description: "å•å¾ªç¯é“¾è¡¨æ˜¯ä¸€ç§çº¿æ€§æ•°æ®ç»“æ„ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼šæ•°æ®åŸŸï¼šå­˜å‚¨æ•°æ®å…ƒç´ ã€‚æŒ‡é’ˆåŸŸï¼šå­˜å‚¨æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆã€‚ä¸æ™®é€šå•é“¾è¡¨ä¸åŒçš„æ˜¯ï¼Œå•å¾ªç¯é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆæŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯ NULLã€‚è¿™ç§ç¯çŠ¶ç»“æ„ä½¿å¾—å•å¾ªç¯é“¾è¡¨åœ¨æŸäº›åœºæ™¯ä¸‹å…·æœ‰ç‹¬ç‰¹çš„ä¼˜åŠ¿ã€‚"
keywords: "æ•°æ®ç»“æ„â€”â€”å•å¾ªç¯é“¾è¡¨clist"
categories: ['æ•°æ®ç»“æ„']
tags: ['æ•°æ®ç»“æ„']
artid: "146158198"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146158198
    alt: "æ•°æ®ç»“æ„å•å¾ªç¯é“¾è¡¨clist"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146158198
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146158198
cover: https://bing.ee123.net/img/rand?artid=146158198
image: https://bing.ee123.net/img/rand?artid=146158198
img: https://bing.ee123.net/img/rand?artid=146158198
---

# æ•°æ®ç»“æ„â€”â€”å•å¾ªç¯é“¾è¡¨clist

> å‰è¨€ï¼šå¤§å®¶å¥½ğŸ˜ï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»äº†æ•°æ®ç»“æ„â€”â€”å•å¾ªç¯é“¾è¡¨clist

---

## ä¸€ã€å•å¾ªç¯é“¾è¡¨ **çš„å®šä¹‰**

![](https://i-blog.csdnimg.cn/direct/f87f90b1254f4149acb2ce7957f6513b.png)

å•å¾ªç¯é“¾è¡¨æ˜¯ä¸€ç§çº¿æ€§æ•°æ®ç»“æ„ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼š

1. **æ•°æ®åŸŸ**
   ï¼šå­˜å‚¨æ•°æ®å…ƒç´ ã€‚
2. **æŒ‡é’ˆåŸŸ**
   ï¼šå­˜å‚¨æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆã€‚

ä¸æ™®é€šå•é“¾è¡¨ä¸åŒçš„æ˜¯ï¼Œ
å•å¾ªç¯é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆæŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯
`NULL`
ã€‚è¿™ç§ç¯çŠ¶ç»“æ„ä½¿å¾—å•å¾ªç¯é“¾è¡¨åœ¨æŸäº›åœºæ™¯ä¸‹å…·æœ‰ç‹¬ç‰¹çš„ä¼˜åŠ¿ã€‚

## äºŒã€å•å¾ªç¯é“¾è¡¨ **çš„æ“ä½œ**

### 2.1 å®šä¹‰

```
typedef int ELEM_TYPE;
//å•å¾ªç¯é“¾è¡¨çš„æœ‰æ•ˆèŠ‚ç‚¹çš„ç»“æ„ä½“è®¾è®¡
typedef struct CNode
{
    ELEM_TYPE data;//æ•°æ®åŸŸ
    struct CNode* next;//æŒ‡é’ˆåŸŸ(ä¿å­˜ä¸‹ä¸€ä¸ªæœ‰æ•ˆèŠ‚ç‚¹çš„åœ°å€)
}CNode, * PCNode;
```

### 2.2 åˆå§‹åŒ–

![](https://i-blog.csdnimg.cn/direct/eee40c38c77549e08f8d2aad8c1c3ae0.png)

```
void Init_CList(CNode* plist)
{
	plist->next = plist;//æŒ‡é’ˆåŸŸæŒ‡å‘è‡ªèº«
}
```

> * `plist->next = plist
>   ;`
>   ï¼šå°†å¤´èŠ‚ç‚¹çš„
>   `next`
>   æŒ‡é’ˆæŒ‡å‘å®ƒè‡ªå·±ã€‚
>
>   + **ç›®çš„**
>     ï¼š
>     å½¢æˆä¸€ä¸ªç©ºçš„ç¯çŠ¶ç»“æ„ã€‚
>   + **æ„ä¹‰**
>     ï¼šåœ¨å•å¾ªç¯é“¾è¡¨ä¸­ï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„
>     `next`
>     æŒ‡é’ˆä¼šæŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œè€Œå½“é“¾è¡¨ä¸ºç©ºæ—¶ï¼Œå¤´èŠ‚ç‚¹çš„
>     `next`
>     æŒ‡é’ˆä¹ŸæŒ‡å‘å®ƒè‡ªå·±ï¼Œè¡¨ç¤ºé“¾è¡¨ä¸­æ²¡æœ‰å…¶ä»–èŠ‚ç‚¹ã€‚

### 2.3 æ’å…¥

#### 2.3.1 å¤´æ’

![](https://i-blog.csdnimg.cn/direct/6eb6b8d70a2e4a3bbfc29edd27418c29.png)

```
bool Insert_head(CNode* plist, ELEM_TYPE val)
{
	//0.assert
	assert(plist != NULL);
	if (plist == NULL)
	{
		return false;
	}

	//1.è´­ä¹°æ–°èŠ‚ç‚¹
	CNode* pnewnode = (CNode*)malloc(sizeof(CNode));
	if (pnewnode == NULL)
		exit(1);
	pnewnode->data = val;

	//2.æ‰¾åˆ°åˆé€‚çš„å¾…æ’å…¥ä½ç½®
	//å› ä¸ºæ˜¯å¤´æ’ æ¯”è¾ƒç‰¹æ®Šï¼Œå°±æ˜¯æ’å…¥åœ¨è¾…åŠ©èŠ‚ç‚¹çš„åè¾¹

	//3.æ’å…¥
	pnewnode->next = plist->next;
	plist->next = pnewnode;

	return true;
}
```

#### 2.3.2 å°¾æ’

![](https://i-blog.csdnimg.cn/direct/a6dff51eab1d413f8bc87f3a798850fe.png)

```
bool Insert_tail(CNode* plist, ELEM_TYPE val)
{
	//0.assert
	assert(plist != NULL);

	//1.è´­ä¹°æ–°èŠ‚ç‚¹
	CNode* pnewnode = (CNode*)malloc(sizeof(CNode));
	if (pnewnode == NULL)
		exit(1);
	pnewnode->data = val;

	//2.æ‰¾åˆ°åˆé€‚çš„å¾…æ’å…¥ä½ç½®
	//å°¾æ’ï¼Œéœ€è¦è®©ä¸´æ—¶æŒ‡é’ˆpï¼Œåœåœ¨å½“å‰çš„å°¾ç»“ç‚¹å¤„
	CNode* p = plist;
	while (p->next != plist)
	{
		p = p->next;
	}

	//3.æ’å…¥(ä¸¤è¡Œä»£ç )
	pnewnode->next = p->next;
	p->next = pnewnode;

	return true;
}
```

> * ä»å¤´èŠ‚ç‚¹å¼€å§‹ï¼Œé€šè¿‡å¾ªç¯æ‰¾åˆ°é“¾è¡¨çš„å°¾èŠ‚ç‚¹ã€‚
> * **æ¡ä»¶**
>   ï¼š
>   `p->next != plist`
>
>   ï¼Œè¯´æ˜å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸æ˜¯å¤´èŠ‚ç‚¹ï¼Œå³å½“å‰èŠ‚ç‚¹ä¸æ˜¯å°¾èŠ‚ç‚¹ã€‚
> * å½“å¾ªç¯ç»“æŸæ—¶ï¼Œ
>   `p`
>
>   æŒ‡å‘å°¾èŠ‚ç‚¹
>   ã€‚
> * **`pnewnode->next = p->next;`**
>   ï¼šå°†æ–°èŠ‚ç‚¹çš„
>   `next`
>   æŒ‡é’ˆæŒ‡å‘å¤´èŠ‚ç‚¹ï¼ˆå› ä¸ºå°¾èŠ‚ç‚¹çš„
>   `next`
>   æŒ‡å‘å¤´èŠ‚ç‚¹ï¼‰ã€‚
> * **`p->next = pnewnode;`**
>   ï¼šå°†å°¾èŠ‚ç‚¹çš„
>   `next`
>   æŒ‡é’ˆæŒ‡å‘æ–°èŠ‚ç‚¹ï¼Œå®Œæˆæ’å…¥æ“ä½œã€‚

#### 2.3.3 æŒ‰ä½ç½®æ’

### 2.4 åˆ é™¤

#### 2.4.1 å¤´åˆ 

![](https://i-blog.csdnimg.cn/direct/2fbbc9fe01b147f1aa6344acf7f45a4d.png)

```
bool Del_head(CNode* plist)
{
	//0.å®‰å…¨æ€§å¤„ç†
	assert(plist != NULL);
	if (plist == NULL)
		return false;

	//1.å¯¹å•å¾ªç¯é“¾è¡¨åˆ¤ç©º
	if (Is_Empty(plist))
		return false;

	//2.éœ€è¦ä¸€ä¸ªä¸´æ—¶æŒ‡é’ˆqæŒ‡å‘å¾…åˆ é™¤èŠ‚ç‚¹
	//å› ä¸ºæ˜¯å¤´åˆ ï¼Œæ‰€ä»¥å¾…åˆ é™¤èŠ‚ç‚¹å°±æ˜¯ç¬¬ä¸€ä¸ªæœ‰æ•ˆå€¼èŠ‚ç‚¹
	CNode* q = plist->next;

	//3.å†éœ€è¦ä¸€ä¸ªä¸´æ—¶æŒ‡é’ˆpæŒ‡å‘å¾…åˆ é™¤èŠ‚ç‚¹çš„å‰é©±(ä¸Šä¸€ä¸ªèŠ‚ç‚¹)
	//å› ä¸ºæ˜¯å¤´åˆ ,æ‰€ä»¥è¿™é‡Œçš„pç”¨è¾…åŠ©èŠ‚ç‚¹plistä»£æ›¿å³å¯

	//4.è·¨è¶ŠæŒ‡å‘+é‡Šæ”¾
	plist->next = q->next;
	free(q);
	q = NULL;

	return true;
}

```

> * å®šä¹‰ä¸€ä¸ªä¸´æ—¶æŒ‡é’ˆ
>   `q`
>   ï¼ŒæŒ‡å‘ç¬¬ä¸€ä¸ªæœ‰æ•ˆèŠ‚ç‚¹ï¼ˆå³å¤´èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹Â ï¼‰
> * **`plist->next = q->next;`**
>   ï¼šå°†å¤´èŠ‚ç‚¹çš„
>   `next`
>   æŒ‡é’ˆæŒ‡å‘
>   `q`
>   çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå³è·¨è¶Š
>   `q`
>   èŠ‚ç‚¹ã€‚
> * **`free(q);`**
>   ï¼šé‡Šæ”¾
>   `q`
>   èŠ‚ç‚¹çš„å†…å­˜ã€‚
> * **`q = NULL;`**
>   ï¼šå°†
>   `q`
>   æŒ‡é’ˆç½®ä¸º
>   `NULL`
>   ï¼Œé¿å…é‡æŒ‡é’ˆã€‚

#### 2.4.2 å°¾åˆ 

![](https://i-blog.csdnimg.cn/direct/5c5ab1515b54474cbda6c726c8d44b72.png)

```
bool Del_tail(CNode* plist)
{
	//0.å®‰å…¨æ€§å¤„ç†
	assert(plist != NULL);
	if (plist == NULL)
		return false;

	//1.å¯¹å•å¾ªç¯é“¾è¡¨åˆ¤ç©º
	if (Is_Empty(plist))
		return false;

	//2.éœ€è¦ä¸€ä¸ªä¸´æ—¶æŒ‡é’ˆqæŒ‡å‘å¾…åˆ é™¤èŠ‚ç‚¹
	CNode* q = plist;
	for (; q->next != plist; q = q->next);

	//3.å†éœ€è¦ä¸€ä¸ªä¸´æ—¶æŒ‡é’ˆpæŒ‡å‘å¾…åˆ é™¤èŠ‚ç‚¹çš„å‰é©±(ä¸Šä¸€ä¸ªèŠ‚ç‚¹)
	CNode* p = plist;
	for (; p->next != q; p = p->next);


	//4.è·¨è¶ŠæŒ‡å‘+é‡Šæ”¾
	p->next = q->next;
	free(q);
	q = NULL;

	return true;
}
```

#### 2.4.3 æŒ‰ä½ç½®åˆ 

![](https://i-blog.csdnimg.cn/direct/ae743219106e44ad9cc50961995f32ee.png)

```
bool Del_pos(CNode* plist, int pos)
{
	//0.å®‰å…¨æ€§å¤„ç†
	assert(plist != NULL);
	if (plist == NULL)
		return false;
	assert(pos >= 0 && pos < Get_length(plist));

	//1.å¯¹å•å¾ªç¯é“¾è¡¨åˆ¤ç©º
	if (Is_Empty(plist))
		return false;

	//2.éœ€è¦ä¸€ä¸ªä¸´æ—¶æŒ‡é’ˆqæŒ‡å‘å¾…åˆ é™¤èŠ‚ç‚¹
	//3.å†éœ€è¦ä¸€ä¸ªä¸´æ—¶æŒ‡é’ˆpæŒ‡å‘å¾…åˆ é™¤èŠ‚ç‚¹çš„å‰é©±(ä¸Šä¸€ä¸ªèŠ‚ç‚¹)

	CNode* p = plist;
	for (int i = 0; i < pos; i++)
		p = p->next;
	CNode* q = p->next;


	//4.è·¨è¶ŠæŒ‡å‘+é‡Šæ”¾
	p->next = q->next;
	free(q);
	q = NULL;

	return true;
}
```

#### 2.4.4 æŒ‰å€¼åˆ 

```

//8.æŒ‰å€¼åˆ (åˆ é™¤å€¼valå‡ºç°çš„ç¬¬ä¸€æ¬¡çš„åœ°æ–¹)
bool Del_val(CNode* plist, ELEM_TYPE val)
{
	//0.å®‰å…¨æ€§å¤„ç†
	assert(plist != NULL);
	if (plist == NULL)
		return false;

	//1.å¯¹å•å¾ªç¯é“¾è¡¨åˆ¤ç©º
	if (Is_Empty(plist))
		return false;

	//2.éœ€è¦ä¸€ä¸ªä¸´æ—¶æŒ‡é’ˆqæŒ‡å‘å¾…åˆ é™¤èŠ‚ç‚¹
	//é€šè¿‡Searchå»æ‰¾ä¸€ä¸‹ï¼Œvalå€¼å‡ºç°çš„ç¬¬ä¸€æ¬¡çš„ä½ç½®
	CNode* q = Search(plist, val);
	if (q == NULL)
		return false;

	//3.å†æ‰¾åˆ°å¾…åˆ é™¤èŠ‚ç‚¹çš„å‰é©±ï¼Œç”¨pæŒ‡å‘
	CNode* p = plist;
	for (; p->next != q; p = p->next);

	//4.è·¨è¶ŠæŒ‡å‘+é‡Šæ”¾
	p->next = q->next;
	free(q);
	q = NULL;

	return true;
}


//8.5 æŒ‰å€¼åˆ (åˆ é™¤å€¼valå‡ºç°çš„æ‰€æœ‰çš„åœ°æ–¹)
bool Del_val_all(CNode* plist, ELEM_TYPE val)
{
	CNode* p = plist;
	CNode* q = plist;

	while (p->next != plist)
	{
		q = p->next;
		if (q->data == val)
		{
			p->next = q->next;
			free(q);
			q = NULL;
		}
		else
		{
			p = q;
		}
	}

	return true;
}
```

### 2.5 å…¶ä½™ä»£ç 

```
//9.æŸ¥æ‰¾(æŸ¥æ‰¾å€¼valå‡ºç°çš„ç¬¬ä¸€æ¬¡çš„åœ°æ–¹)
CNode* Search(CNode* plist, ELEM_TYPE val)
{
	for (CNode* p = plist->next; p != plist; p = p->next)
	{
		if (p->data == val)
		{
			return p;
		}
	}
	return NULL;
}

//10.æ¸…ç©º
void Clear(CNode* plist)
{
	Destroy1(plist);
}

//11.é”€æ¯1(éœ€è¦è¾…åŠ©èŠ‚ç‚¹å‚ä¸è¿›æ¥)
void Destroy1(CNode* plist)
{
	while (plist->next != plist)
	{
		CNode* p = plist->next;
		plist->next = p->next;
		free(p);
		p = NULL;
	}

}

//12.é”€æ¯2(ä¸éœ€è¦è¾…åŠ©èŠ‚ç‚¹å‚ä¸è¿›æ¥)
void Destroy2(CNode* plist)
{
	//0.assert  head
	//1.ç”³è¯·æŒ‡é’ˆpï¼Œè®©å…¶ä¿å­˜è¾…åŠ©èŠ‚ç‚¹çš„æŒ‡é’ˆåŸŸ
	CNode* p = plist->next;

	//2.ç”³è¯·æŒ‡é’ˆqï¼Œå…ˆä¸ç»™qèµ‹å€¼
	CNode* q = NULL;

	//3.åå¤é€šè¿‡på’Œqæ‰“é…åˆï¼Œå»é”€æ¯åç»­èŠ‚ç‚¹
	while (p != plist)
	{
		q = p->next;
		free(p);
		p = q;
	}

	//4.èŠ‚ç‚¹å…¨éƒ¨é”€æ¯å®Œæ¯•ï¼Œåˆ«å¿˜äº†æŠŠè¾…åŠ©èŠ‚ç‚¹çš„æŒ‡é’ˆåŸŸå¤„ç†ä¸€ä¸‹
	plist->next = plist;
}

//13.åˆ¤ç©º 
bool Is_Empty(CNode* plist)
{
	return plist->next == plist;
}

//14.è·å–æœ‰æ•ˆå€¼é•¿åº¦
int Get_length(CNode* plist)
{
	int count = 0;
	for (CNode* p = plist->next; p != plist; p = p->next)
	{
		count++;
	}
	return count;
}

//15.æ‰“å°
void Show(CNode* plist)
{
	for (CNode* p = plist->next; p != plist; p = p->next)
	{
		printf("%d ", p->data);
	}
	printf("\n");
}

```

### 2.6 ä¸»å‡½æ•°æµ‹è¯•ä»£ç 

```
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>
#include "clist.h"


å•å¾ªç¯é“¾è¡¨çš„æµ‹è¯•ç”¨ä¾‹
int main()
{
	CNode head;
	Init_CList(&head);
	Insert_head(&head, 100);
	Insert_tail(&head, 200);
	Insert_head(&head, 300);
	Insert_tail(&head, 400);
	Show(&head);


	Del_head(&head);
	Show(&head);
	Del_tail(&head);
	Show(&head);
	Del_pos(&head, 1);
	Show(&head);
	Del_val(&head, 100);
	Show(&head);

	Insert_tail(&head, 1);
	Insert_tail(&head, 2);
	Insert_tail(&head, 1);
	Insert_tail(&head, 4);
	Insert_tail(&head, 1);
	Show(&head);
	
		Del_val_all(&head, 1);
		Show(&head);
		return 0;
}
```