---
arturl_encode: "68747470733a2f2f62:6c6f672e6373646e2e6e65742f626f797a68616f7469616e2f:61727469636c652f64657461696c732f313436323239363539"
layout: post
title: "æ·±å…¥è§£æ-React-æœ€æ–°ç‰¹æ€§é©æ–°åº”ç”¨ä¸æœ€ä½³å®è·µ"
date: 2025-03-13 14:12:37 +08:00
description: "React ä½œä¸ºå‰ç«¯å¼€å‘çš„æ ¸å¿ƒæŠ€æœ¯ä¹‹ä¸€ï¼Œè¿‘å¹´æ¥ä¸æ–­æ¨å‡ºï¼Œä»åˆ°ï¼Œéƒ½åœ¨ä¸æ–­æå‡å¼€å‘ä½“éªŒå’Œåº”ç”¨æ€§èƒ½ã€‚æœ¬æ–‡å°†æ·±å…¥è§£æï¼ŒåŒ…æ‹¬ç­‰ï¼Œå¹¶é€šè¿‡ç”ŸåŠ¨çš„ç¤ºä¾‹å±•ç¤ºä¸åŒæ–¹æ³•çš„å¼‚åŒï¼Œå¸®åŠ©å¼€å‘è€…æŒæ¡ React ç”Ÿæ€çš„æœ€æ–°è¿›å±•ã€‚"
keywords: "æ·±å…¥è§£æ React æœ€æ–°ç‰¹æ€§ï¼šé©æ–°ã€åº”ç”¨ä¸æœ€ä½³å®è·µ"
categories: ['å‰ç«¯', 'Reactnative']
tags: ['å‰ç«¯æ¡†æ¶', 'å‰ç«¯', 'React']
artid: "146229659"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146229659
    alt: "æ·±å…¥è§£æ-React-æœ€æ–°ç‰¹æ€§é©æ–°åº”ç”¨ä¸æœ€ä½³å®è·µ"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146229659
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146229659
cover: https://bing.ee123.net/img/rand?artid=146229659
image: https://bing.ee123.net/img/rand?artid=146229659
img: https://bing.ee123.net/img/rand?artid=146229659
---

# æ·±å…¥è§£æ React æœ€æ–°ç‰¹æ€§ï¼šé©æ–°ã€åº”ç”¨ä¸æœ€ä½³å®è·µ

## æ·±å…¥è§£æ React æœ€æ–°ç‰¹æ€§ï¼šé©æ–°ã€åº”ç”¨ä¸æœ€ä½³å®è·µ

### 1. å¼•è¨€

React ä½œä¸ºå‰ç«¯å¼€å‘çš„æ ¸å¿ƒæŠ€æœ¯ä¹‹ä¸€ï¼Œè¿‘å¹´æ¥ä¸æ–­æ¨å‡º
**æ–°çš„ API å’Œä¼˜åŒ–æœºåˆ¶**
ï¼Œä»
**Concurrent Renderingï¼ˆå¹¶å‘æ¨¡å¼ï¼‰**
åˆ°
**Server Componentsï¼ˆæœåŠ¡å™¨ç»„ä»¶ï¼‰**
ï¼Œéƒ½åœ¨ä¸æ–­æå‡å¼€å‘ä½“éªŒå’Œåº”ç”¨æ€§èƒ½ã€‚

æœ¬æ–‡å°†æ·±å…¥è§£æ
**React æœ€æ–°ç‰¹æ€§**
ï¼ŒåŒ…æ‹¬
**React 18 å¹¶å‘æ¨¡å¼ã€useTransitionã€useDeferredValueã€React Server Componentsã€è‡ªåŠ¨æ‰¹å¤„ç†ï¼ˆAutomatic Batchingï¼‰**
ç­‰ï¼Œå¹¶é€šè¿‡ç”ŸåŠ¨çš„ç¤ºä¾‹å±•ç¤ºä¸åŒæ–¹æ³•çš„å¼‚åŒï¼Œå¸®åŠ©å¼€å‘è€…æŒæ¡ React ç”Ÿæ€çš„æœ€æ–°è¿›å±•ã€‚

---

### 2. React æœ€æ–°ç‰¹æ€§ä¸€è§ˆ

| **ç‰¹æ€§** | **ä¸»è¦æ”¹è¿›** |
| --- | --- |
| **Concurrent Renderingï¼ˆå¹¶å‘æ¨¡å¼ï¼‰** | æé«˜ UI å“åº”é€Ÿåº¦ï¼Œä¼˜åŒ–é«˜è´Ÿè½½åœºæ™¯ |
| **Automatic Batchingï¼ˆè‡ªåŠ¨æ‰¹å¤„ç†ï¼‰** | å¤šä¸ªçŠ¶æ€æ›´æ–°è‡ªåŠ¨åˆå¹¶ï¼Œæé«˜æ€§èƒ½ |
| **useTransition** | æ§åˆ¶ UI è¿‡æ¸¡çŠ¶æ€ï¼Œæé«˜äº¤äº’ä½“éªŒ |
| **useDeferredValue** | å»¶è¿Ÿè®¡ç®—å¤æ‚çŠ¶æ€ï¼Œå‡å°‘å¡é¡¿ |
| **React Server Components** | æœåŠ¡å™¨æ¸²æŸ“éƒ¨åˆ† UIï¼Œå‡å°‘å‰ç«¯è´Ÿæ‹… |

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é€šè¿‡
**å®é™…ä»£ç ç¤ºä¾‹**
è§£ææ¯ä¸ªç‰¹æ€§çš„ä½¿ç”¨æ–¹å¼ã€‚

---

### 3. Concurrent Renderingï¼ˆå¹¶å‘æ¨¡å¼ï¼‰

#### ğŸš€ Vue 2 vs Vue 3 çš„ç±»æ¯”ï¼š

React å¹¶å‘æ¨¡å¼ç±»ä¼¼ Vue3 é‡‡ç”¨çš„
**å¼‚æ­¥æ›´æ–°ç­–ç•¥**
ï¼Œå…è®¸ UI ä»»åŠ¡
**å¯ä¸­æ–­ã€å¯æ¢å¤**
ï¼Œä»è€Œä¼˜åŒ–äº¤äº’æµç•…åº¦ã€‚

#### ğŸ›  ç¤ºä¾‹ï¼šé˜»å¡ vs å¹¶å‘æ¸²æŸ“

##### ä¼ ç»Ÿ Reactï¼ˆé˜»å¡æ¸²æŸ“ï¼‰

```jsx
import { useState } from "react";

function App() {
  const [text, setText] = useState("");
  
  const handleChange = (e) => {
    setText(e.target.value);
    heavyComputation(); // è€—æ—¶ä»»åŠ¡å¯¼è‡´ UI å¡é¡¿
  };

  return <input value={text} onChange={handleChange} />;
}

```

##### React 18 å¹¶å‘æ¸²æŸ“ï¼ˆæ—  UI å¡é¡¿ï¼‰

```jsx
import { useState, startTransition } from "react";

function App() {
  const [text, setText] = useState("");

  const handleChange = (e) => {
    setText(e.target.value);
    startTransition(() => {
      heavyComputation(); // UI æ›´æ–°ä¸ä¼šå¡é¡¿
    });
  };

  return <input value={text} onChange={handleChange} />;
}

```

**ğŸ“Œ å…³é”®ä¸åŒç‚¹ï¼š**

* `startTransition`
  è®© React çŸ¥é“
  `heavyComputation()`
  ä»»åŠ¡æ˜¯
  **éç´§æ€¥ä»»åŠ¡**
  ï¼Œå…è®¸ UI
  **ä¼˜å…ˆæ›´æ–°**
  ã€‚
* ä¼ ç»Ÿ React ä¸­ï¼Œæ‰€æœ‰ä»»åŠ¡éƒ½ä¼š
  **åŒæ­¥æ‰§è¡Œ**
  ï¼Œå¯¼è‡´è¾“å…¥æ¡†å¡é¡¿ã€‚

---

### 4. Automatic Batchingï¼ˆè‡ªåŠ¨æ‰¹å¤„ç†ï¼‰

#### ğŸ›  ç¤ºä¾‹ï¼šReact 17 vs React 18 çŠ¶æ€æ›´æ–°

##### React 17ï¼ˆä¸ä¼šè‡ªåŠ¨åˆå¹¶çŠ¶æ€æ›´æ–°ï¼‰

```jsx
function App() {
  const [count, setCount] = useState(0);
  const [message, setMessage] = useState("Hello");

  function handleClick() {
    setCount(count + 1);
    setMessage("Updated");
    console.log(count); // ä»ç„¶æ˜¯æ—§å€¼ï¼
  }

  return <button onClick={handleClick}>Click me</button>;
}

```

åœ¨ React 17 ä¸­ï¼Œ
`setCount`
å’Œ
`setMessage`
ä¼šè§¦å‘
**ä¸¤æ¬¡é‡æ–°æ¸²æŸ“**
ã€‚

##### React 18ï¼ˆè‡ªåŠ¨åˆå¹¶æ‰¹å¤„ç†ï¼‰

```jsx
function App() {
  const [count, setCount] = useState(0);
  const [message, setMessage] = useState("Hello");

  function handleClick() {
    setCount(count + 1);
    setMessage("Updated");
    console.log(count); // React 18 ä¸­ï¼Œæ›´æ–°å count ä¹Ÿæ˜¯æ–°å€¼ï¼
  }

  return <button onClick={handleClick}>Click me</button>;
}

```

**ğŸ“Œ å…³é”®ä¸åŒç‚¹ï¼š**

* **React 18 è‡ªåŠ¨åˆå¹¶
  `setState`
  è°ƒç”¨**
  ï¼Œå‡å°‘ä¸å¿…è¦çš„æ¸²æŸ“ï¼Œæé«˜æ€§èƒ½ã€‚
* **å¼€å‘è€…æ— éœ€æ‰‹åŠ¨ä½¿ç”¨
  `ReactDOM.unstable_batchedUpdates`
  è¿›è¡Œä¼˜åŒ–ã€‚**

---

### 5. useTransitionï¼šä¼˜åŒ– UI è¿‡æ¸¡æ•ˆæœ

#### ğŸ›  ç¤ºä¾‹ï¼šæœç´¢è¾“å…¥æ¡†ä¼˜åŒ–

##### æ²¡æœ‰ `useTransition` ï¼ŒUI å¡é¡¿

```jsx
function Search() {
  const [query, setQuery] = useState("");
  const [results, setResults] = useState([]);

  function handleChange(e) {
    setQuery(e.target.value);
    setResults(expensiveSearch(e.target.value)); // è®¡ç®—é‡å¤§ï¼Œå¯¼è‡´ UI å¡é¡¿
  }

  return <input value={query} onChange={handleChange} />;
}

```

##### ä½¿ç”¨ `useTransition` ï¼Œé¿å… UI å¡é¡¿

```jsx
import { useTransition } from "react";

function Search() {
  const [query, setQuery] = useState("");
  const [results, setResults] = useState([]);
  const [isPending, startTransition] = useTransition();

  function handleChange(e) {
    setQuery(e.target.value);
    startTransition(() => {
      setResults(expensiveSearch(e.target.value));
    });
  }

  return <input value={query} onChange={handleChange} />;
}

```

**ğŸ“Œ å…³é”®ä¸åŒç‚¹ï¼š**

* `useTransition`
  è®© React è¯†åˆ«
  `setResults`
  æ˜¯
  **ä½ä¼˜å…ˆçº§ä»»åŠ¡**
  ï¼Œä¸ä¼šå½±å“ UI æ›´æ–°ã€‚
* `isPending`
  å¯ç”¨äºæ˜¾ç¤º
  **åŠ è½½çŠ¶æ€**
  ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚

---

### 6. React Server Componentsï¼ˆæœåŠ¡å™¨ç»„ä»¶ï¼‰

#### ğŸ›  ç¤ºä¾‹ï¼šå‰ç«¯ vs æœåŠ¡å™¨ç»„ä»¶

##### ä¼ ç»Ÿ React ç»„ä»¶ï¼ˆå‰ç«¯è®¡ç®—è´Ÿæ‹…å¤§ï¼‰

```jsx
function UserProfile({ userId }) {
  const [user, setUser] = useState(null);

  useEffect(() => {
    fetch(`/api/user/${userId}`).then((res) => res.json()).then(setUser);
  }, [userId]);

  return <div>{user?.name}</div>;
}

```

##### React Server Componentsï¼ˆæœåŠ¡å™¨ç«¯é¢„æ¸²æŸ“ï¼‰

```jsx
export async function UserProfile({ userId }) {
  const user = await fetch(`/api/user/${userId}`).then(res => res.json());
  return <div>{user.name}</div>;
}

```

**ğŸ“Œ å…³é”®ä¸åŒç‚¹ï¼š**

* **æœåŠ¡å™¨ç»„ä»¶ä¸ä¼šä¸‹è½½åˆ°å®¢æˆ·ç«¯ï¼Œå‡å°‘å‰ç«¯è´Ÿæ‹…ã€‚**
* **é€‚ç”¨äºæ•°æ®å¯†é›†å‹åº”ç”¨ï¼Œå¦‚ CMSã€ä»ªè¡¨ç›˜ã€‚**

---

### 7. ç»“è®º

* **React 18 ä¸»è¦ä¼˜åŒ–ç‚¹ï¼š**
  UI å¹¶å‘æ¸²æŸ“ã€è‡ªåŠ¨æ‰¹å¤„ç†ã€ä¼˜åŒ–çŠ¶æ€æ›´æ–°ã€‚
* **`useTransition`
  å’Œ
  `useDeferredValue`
  è§£å†³ UI å¡é¡¿é—®é¢˜ï¼Œæé«˜äº¤äº’ä½“éªŒã€‚**
* **React Server Components å‡å°‘å‰ç«¯è®¡ç®—ï¼Œæé«˜åº”ç”¨å“åº”é€Ÿåº¦ã€‚**

React æ­£åœ¨ä¸æ–­ä¼˜åŒ–
**æ€§èƒ½ä¸å¼€å‘ä½“éªŒ**
ï¼Œå¦‚æœä½ è¿˜æœªå‡çº§ React 18ï¼Œä¸å¦¨å°è¯•è¿™äº›æ–°ç‰¹æ€§ï¼Œå¸¦æ¥æ›´ä¸æ»‘çš„å‰ç«¯ä½“éªŒï¼