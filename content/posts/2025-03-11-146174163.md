---
layout: post
title: "ubuntu20.04-使用linuxdeployqt打包一个QT程序"
date: 2025-03-11 13:56:58 +0800
description: "再刚刚的文件夹下打开一个新的终端，创建两个脚本一个pack.sh 一个以你可执行文件名字为名的脚本。我下载好了，适合大家的直接拿，已经改好名位linuxdeployqt。(1)创建一个文件夹，把刚生成可执行文件复制到可执行文件下。linuxdeployqt的github网址。ubuntu 打包一个QT程序。就在desktop文件下加入。"
keywords: "ubuntu20.04 使用linuxdeployqt打包一个QT程序"
categories: ['未分类']
tags: ['数据库', '开发语言', 'Qt']
artid: "146174163"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146174163
    alt: "ubuntu20.04-使用linuxdeployqt打包一个QT程序"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146174163
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146174163
cover: https://bing.ee123.net/img/rand?artid=146174163
image: https://bing.ee123.net/img/rand?artid=146174163
img: https://bing.ee123.net/img/rand?artid=146174163
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     ubuntu20.04 使用linuxdeployqt打包一个QT程序
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     <span style="color:#e6b223">
      <strong>
       问题描述
      </strong>
     </span>
     :
     <strong>
      <span style="color:#ff9900">
       ubuntu 打包一个QT程序
      </span>
     </strong>
    </p>
    <p>
     <strong>
      <span style="color:#fe2c24">
       解决方法：
      </span>
     </strong>
    </p>
    <p>
     <strong>
      1.安装linuxdeployqt
     </strong>
    </p>
    <p>
     <strong>
      <span style="color:#956fe7">
       linuxdeployqt的github网址
      </span>
     </strong>
     ：
     <strong>
      <a href="https://github.com/probonopd/linuxdeployqt/releases" title="linuxdeplyoqt">
       linuxdeplyoqt
      </a>
     </strong>
    </p>
    <p>
     我下载好了，适合大家的直接拿，已经改好名字为linuxdeployqt
    </p>
    <p>
     <span style="color:#98c091">
      <strong>
       链接: https://pan.baidu.com/s/1r25aVwRAh-sx4ksadj6NXg?pwd=buvk 提取码: buvk
      </strong>
     </span>
    </p>
    <p>
     <strong>
      (1)修改权限
     </strong>
    </p>
    <pre><code>sudo chmod a+x linuxdeployqt
</code></pre>
    <p>
     <strong>
      (2)拷贝系统目录下
     </strong>
    </p>
    <pre><code>sudo cp linuxdeployqt /usr/local/bin/
</code></pre>
    <p>
     <strong>
      (3)验证
     </strong>
    </p>
    <pre><code>linuxdeployqt -version
</code></pre>
    <p>
     <strong>
      2.生成可执行文件
     </strong>
    </p>
    <p>
     <strong>
      (1).pro加入代码
     </strong>
    </p>
    <pre><code>TEMPLATE = app #这生成一个exe
QMAKE_LFLAGS += -no-pie</code></pre>
    <p>
     <span style="color:#fe2c24">
      <strong>
       注意事项：代码放在.pro文件末端
      </strong>
     </span>
    </p>
    <p>
     <strong>
      (2)选择release，没有就添加
     </strong>
    </p>
    <p>
     <img alt="" height="649" src="https://i-blog.csdnimg.cn/direct/7bec79504f084976a69177ca60a2c24a.jpeg" width="615"/>
    </p>
    <p>
     <strong>
      (3)最后生成可执行文件,文件属性是executable
     </strong>
    </p>
    <p>
     <img alt="" height="474" src="https://i-blog.csdnimg.cn/direct/8c36cae3eeeb4af6b72ed071d833855a.png" width="472"/>
    </p>
    <p>
     <strong>
      3.正式打包
     </strong>
    </p>
    <p>
     (1)创建一个文件夹，把刚生成可执行文件复制到可执行文件下
    </p>
    <p>
     <strong>
      （我创建的文件夹是execute）
     </strong>
    </p>
    <p>
     <img alt="" height="214" src="https://i-blog.csdnimg.cn/direct/2f748ebe4c8d478097ceb793e656ba9a.png" width="497"/>
    </p>
    <p>
     <strong>
      (2)在文件夹下，打开终端执行代码
     </strong>
    </p>
    <pre><code>linuxdeployqt untitled2 -appimage
</code></pre>
    <p>
     这时候可能会报这个
     <strong>
      <span style="color:#fe2c24">
       错误
      </span>
     </strong>
    </p>
    <p>
     <img alt="" height="41" src="https://i-blog.csdnimg.cn/direct/200e53d7a47a4052aa7e42644d561f91.png" width="401"/>
    </p>
    <p>
     就在desktop文件下加入
    </p>
    <pre><code>Categories=Application;
</code></pre>
    <p>
     再重新执行
    </p>
    <pre><code>linuxdeployqt untitled2 -appimage
</code></pre>
    <p>
     生成文件
    </p>
    <p>
     <img alt="" height="394" src="https://i-blog.csdnimg.cn/direct/f8e9331df1dd4a409aa861b488122764.png" width="818"/>
    </p>
    <p>
     <strong>
      4.执行脚本-拷贝依赖库
     </strong>
    </p>
    <p>
     再刚刚的文件夹下打开一个新的终端，创建两个脚本一个pack.sh 一个以你可执行文件名字为名的脚本
    </p>
    <p>
     输入
    </p>
    <pre><code> gedit pack.sh
</code></pre>
    <p>
     写入
    </p>
    <pre><code>#!/bin/sh  
exe="untitled2" #程序名称
des="/home/wxw/QT/build-untitled2-unknown-Release/execute" #创建文件夹的位置
deplist=$(ldd $exe | awk  '{if (match($3,"/")){ printf("%s "),$3 } }')  
cp $deplist $des
</code></pre>
    <p>
     再输入
    </p>
    <pre><code> gedit untitled.sh
#以可执行文件命名</code></pre>
    <p>
     写入
    </p>
    <pre><code>#!/bin/sh  
appname=`basename $0 | sed s,\.sh$,,`  
dirname=`dirname $0`  
tmp="${dirname#?}"  
if [ "${dirname%$tmp}" != "/" ]; then  
dirname=$PWD/$dirname  
fi  
LD_LIBRARY_PATH=$dirname  
export LD_LIBRARY_PATH  
$dirname/$appname "$@"
</code></pre>
    <p>
     终端执行
    </p>
    <pre><code>chmod a+x pack.sh
sudo ./pack.sh
</code></pre>
    <p>
     <span style="color:#4da8ee">
      <strong>
       就此完成了，Done
      </strong>
     </span>
    </p>
    <p>
     <img alt="" height="794" src="https://i-blog.csdnimg.cn/direct/4c411b3e8bd5487b8582e9f390a210d7.png" width="801"/>
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f35313635303639362f:61727469636c652f64657461696c732f313436313734313633" class_="artid" style="display:none">
 </p>
</div>


