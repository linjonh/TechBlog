---
layout: post
title: "Redis篇环境搭建"
date: 2025-03-10 16:37:18 +0800
description: "Windows系统中启动Redis，直接双击redis-server.exe即可启动Redis服务，redis服务默认端口号为6379。双击 redis-cli.exe 即可启动Redis客户端，默认连接的是本地的Redis服务，而且不需要认证即可连接成功。前面我们已经启动了Redis服务，默认情况下Redis启动后是在前台运行，而且客户端不需要密码就可以连接到。如果没有指定，就说明可以接受。通过 redis-cli 可以连接到本地的Redis服务，默认情况下不需要认证即可连接成功。"
keywords: "redis 4.0 安装"
categories: ['面试', '阿里巴巴', '学习路线']
tags: ['缓存', '数据库', 'Redis']
artid: "146157847"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146157847
    alt: "Redis篇环境搭建"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146157847
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146157847
cover: https://bing.ee123.net/img/rand?artid=146157847
image: https://bing.ee123.net/img/rand?artid=146157847
img: https://bing.ee123.net/img/rand?artid=146157847
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Redis篇（环境搭建）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     <strong>
      目录
     </strong>
    </p>
    <p>
     <a href="#ip7um" rel="nofollow">
      一、安装包
     </a>
    </p>
    <p>
     <a href="#W2N9m" rel="nofollow">
      1. Windows版下载地址
     </a>
    </p>
    <p>
     <a href="#VEIpU" rel="nofollow">
      2. Linux版下载地址
     </a>
    </p>
    <p>
     <a href="#l6Gja" rel="nofollow">
      二、安装Redis
     </a>
    </p>
    <p>
     <a href="#WTmxP" rel="nofollow">
      1. 在Linux中安装Redis
     </a>
    </p>
    <p>
     <a href="#r6hnv" rel="nofollow">
      2. 在Windows中安装Redis
     </a>
    </p>
    <p>
     <a href="#LPeCg" rel="nofollow">
      3. 细节问题
     </a>
    </p>
    <p>
     <a href="#srfV5" rel="nofollow">
      三、Redis服务启动
     </a>
    </p>
    <p>
     <a href="#w30hS" rel="nofollow">
      1. 默认启动
     </a>
    </p>
    <p>
     <a href="#zd3Jx" rel="nofollow">
      2. 指定配置启动
     </a>
    </p>
    <p>
     <a href="#Ca56n" rel="nofollow">
      3. 开机自启
     </a>
    </p>
    <p>
     <a href="#IA2VW" rel="nofollow">
      四、Redis服务停止
     </a>
    </p>
    <p>
     <a href="#XGNOU" rel="nofollow">
      1. Linux系统中启动和停止Redis
     </a>
    </p>
    <p>
     <a href="#E8gY5" rel="nofollow">
      2. Windows系统中启动和停止Redis
     </a>
    </p>
    <p>
     <a href="#NVTUb" rel="nofollow">
      五、配置文件
     </a>
    </p>
    <p>
     <a href="#ZX5EM" rel="nofollow">
      1. 实现客户端认证登录
     </a>
    </p>
    <p>
     <a href="#fQWrO" rel="nofollow">
      背景
     </a>
    </p>
    <p>
     <a href="#i8NgQ" rel="nofollow">
      位置
     </a>
    </p>
    <p>
     <a href="#IIUcc" rel="nofollow">
      修改
     </a>
    </p>
    <p>
     <a href="#nMTQg" rel="nofollow">
      六、桌面客户端
     </a>
    </p>
    <p>
     <a href="#wqgRd" rel="nofollow">
      1. 命令行客户端
     </a>
    </p>
    <p>
     <a href="#zOXvK" rel="nofollow">
      2. 图形化桌面客户端
     </a>
    </p>
    <p>
     <a href="#SQggQ" rel="nofollow">
      2.1. 安装
     </a>
    </p>
    <p>
     <a href="#J2h7O" rel="nofollow">
      2.2. 建立连接
     </a>
    </p>
    <p>
     <a href="#dFNnx" rel="nofollow">
      3. 编程客户端
     </a>
    </p>
    <hr/>
    <h3>
     <a id="_58">
     </a>
     一、安装包
    </h3>
    <h4>
     <a id="1_Windowshttpsgithubcommicrosoftarchiveredisreleases_Windows_61">
     </a>
     1.
     <a href="https://github.com/microsoftarchive/redis/releases" title="Windows版下载地址">
      Windows版下载地址
     </a>
    </h4>
    <p>
     <img alt="" src="https://img-blog.csdnimg.cn/img_convert/64ba53752e8f9484d3eb77fd0daf7739.png"/>
    </p>
    <h4>
     <a id="2_Linuxhttpsdownloadredisioreleases_Linux_65">
     </a>
     2.
     <a href="https://download.redis.io/releases/" rel="nofollow" title="Linux版下载地址">
      Linux版下载地址
     </a>
    </h4>
    <p>
     <img alt="" src="https://img-blog.csdnimg.cn/img_convert/65f95867a3ef123393f661d5c1165f6f.png"/>
    </p>
    <h3>
     <a id="Redis_69">
     </a>
     二、安装Redis
    </h3>
    <h4>
     <a id="1_LinuxRedis_72">
     </a>
     1. 在Linux中安装Redis
    </h4>
    <p>
     步骤一：将Redis安装包上传到Linux
    </p>
    <p>
     步骤二：解压安装包，命令：tar -zxvf redis-4.0.0.tar.gz -C /usr/local
    </p>
    <p>
     步骤三：安装Redis的依赖环境gcc，命令：yum install gcc-c++
    </p>
    <p>
     步骤四：进入/usr/local/redis-4.0.0，进行编译，命令：make
    </p>
    <p>
     步骤五：进入redis的src目录进行安装，命令：make install
    </p>
    <p>
     步骤四&amp;步骤五结合：make &amp;&amp; make install（指的是编译且安装）
    </p>
    <p>
     如果没有出错，应该就安装成功了
    </p>
    <p>
     注意：
    </p>
    <ul>
     <li>
      <p>
       make install默认安装到/usr/local/bin目录下
      </p>
     </li>
     <li>
      <p>
       如果想要指定安装路径，需要添加PREFIX参数
      </p>
      <p>
       make PREFIX=/usr/local/redis/ install
      </p>
     </li>
     <li>
      <p>
       记得创建安装目录
      </p>
      <p>
       mkdir -p /usr/local/redis
      </p>
     </li>
    </ul>
    <p>
     安装后重点文件说明：
    </p>
    <pre><code>/usr/local/redis-4.0.0/src/redis-server：Redis服务启动脚本

/usr/local/redis-4.0.0/src/redis-cli：Redis客户端脚本

/usr/local/redis-4.0.0/redis.conf：Redis配置文件

/usr/local/redis-4.0.0/redis-sentinel：是redis的哨兵启动脚本
</code></pre>
    <p>
     Redis-cli：客户端
    </p>
    <p>
     Redis-server：服务器端
    </p>
    <h4>
     <a id="2_WindowsRedis_113">
     </a>
     2. 在Windows中安装Redis
    </h4>
    <p>
     Redis的Windows版属于绿色软件，直接解压即可使用，解压后目录结构如下：
    </p>
    <p>
     <img alt="" src="https://img-blog.csdnimg.cn/img_convert/c11fc70f718a7386174f596a3cecc0c1.png"/>
    </p>
    <h4>
     <a id="3__119">
     </a>
     3. 细节问题
    </h4>
    <p>
     大多数企业都是基于Linux服务器来部署项目，而且Redis官方也没有提供Windows版本的安装包。
    </p>
    <p>
     因此我们会基于Linux系统来安装Redis.
    </p>
    <p>
     此处选择的Linux版本为CentOS 7.
    </p>
    <p>
     Redis是基于C语言编写的，因此首先需要安装 Redis 所需要的 gcc 依赖：
    </p>
    <pre><code>yum install -y gcc tcl
</code></pre>
    <p>
     上面演示的是 Redis4 的安装，现在一般安装 Redis6，反正类似。
    </p>
    <h3>
     <a id="Redis_133">
     </a>
     三、Redis服务启动
    </h3>
    <p>
     redis的启动方式有很多种，例如：
    </p>
    <ul>
     <li>
      默认启动
     </li>
     <li>
      指定配置启动
     </li>
     <li>
      开机自启
     </li>
    </ul>
    <h4>
     <a id="1__142">
     </a>
     1. 默认启动
    </h4>
    <p>
     安装完成后，在任意目录输入redis-server命令即可启动Redis：
    </p>
    <pre><code>redis-server
</code></pre>
    <p>
     如图：
    </p>
    <p>
     <img alt="" src="https://img-blog.csdnimg.cn/img_convert/57660e1cb9cd4b5d4c61a2b06759aab3.png"/>
    </p>
    <p>
     这种启动属于前台启动，会阻塞整个会话窗口，窗口关闭或者按下CTRL + C则Redis停止。不推荐使用。
    </p>
    <h4>
     <a id="2__154">
     </a>
     2. 指定配置启动
    </h4>
    <p>
     如果要让Redis以后台方式启动，则必须修改Redis配置文件，
    </p>
    <p>
     就在我们之前解压的redis安装包下（/usr/local/src/redis-6.2.6），名字叫redis.conf：
    </p>
    <p>
     <img alt="" src="https://img-blog.csdnimg.cn/img_convert/9b976a048ad3aebef7895ff9c130e9ad.png"/>
    </p>
    <p>
     我们先将这个配置文件备份一份：
    </p>
    <pre><code>cp redis.conf redis.conf.bck
</code></pre>
    <p>
     然后修改redis.conf文件中的一些配置：
    </p>
    <pre><code># 允许访问的地址，默认是127.0.0.1，会导致只能在本地访问。修改为0.0.0.0则可以在任意IP访问，生产环境不要设置为0.0.0.0
bind 0.0.0.0
# 守护进程，修改为yes后即可后台运行
daemonize yes 
# 密码，设置后访问Redis必须输入密码
requirepass 123321
</code></pre>
    <p>
     Redis的其它常见配置：
    </p>
    <pre><code># 监听的端口
port 6379
# 工作目录，默认是当前目录，也就是运行redis-server时的命令，日志、持久化等文件会保存在这个目录
dir .
# 数据库数量，设置为1，代表只使用1个库，默认有16个库，编号0~15
databases 1
# 设置redis能够使用的最大内存
maxmemory 512mb
# 日志文件，默认为空，不记录日志，可以指定日志文件名
logfile "redis.log"
</code></pre>
    <p>
     启动Redis：
    </p>
    <pre><code># 进入redis安装目录 
cd /usr/local/src/redis-6.2.6
# 启动
redis-server redis.conf
</code></pre>
    <p>
     停止服务：
    </p>
    <pre><code># 利用redis-cli来执行 shutdown 命令，即可停止 Redis 服务，
# 因为之前配置了密码，因此需要通过 -u 来指定密码
redis-cli -u 123321 shutdown
</code></pre>
    <h4>
     <a id="3__201">
     </a>
     3. 开机自启
    </h4>
    <p>
     我们也可以通过配置来实现开机自启。
    </p>
    <p>
     首先，新建一个系统服务文件：
    </p>
    <pre><code>vi /etc/systemd/system/redis.service
</code></pre>
    <p>
     内容如下：
    </p>
    <pre><code>[Unit]
Description=redis-server
After=network.target

[Service]
Type=forking
ExecStart=/usr/local/bin/redis-server /usr/local/src/redis-6.2.6/redis.conf
PrivateTmp=true

[Install]
WantedBy=multi-user.target
</code></pre>
    <p>
     然后重载系统服务：
    </p>
    <pre><code>systemctl daemon-reload
</code></pre>
    <p>
     现在，我们可以用下面这组命令来操作redis了：
    </p>
    <pre><code># 启动
systemctl start redis
# 停止
systemctl stop redis
# 重启
systemctl restart redis
# 查看状态
systemctl status redis
</code></pre>
    <p>
     执行下面的命令，可以让redis开机自启：
    </p>
    <pre><code>systemctl enable redis
</code></pre>
    <h3>
     <a id="Redis_242">
     </a>
     四、Redis服务停止
    </h3>
    <h4>
     <a id="1_LinuxRedis_245">
     </a>
     1. Linux系统中启动和停止Redis
    </h4>
    <p>
     执行Redis服务启动脚本文件 ./redis-server
    </p>
    <p>
     <img alt="" src="https://img-blog.csdnimg.cn/img_convert/3793d47eb9aaed03f0bb82699857e43e.png"/>
    </p>
    <p>
     通过启动日志可以看到，Redis默认端口号为 6379。
    </p>
    <p>
     Ctrl + C 停止Redis服务
    </p>
    <p>
     通过 redis-cli 可以连接到本地的Redis服务，默认情况下不需要认证即可连接成功。
    </p>
    <p>
     退出客户端可以输入 exit 或者 quit 命令。
    </p>
    <h4>
     <a id="2_WindowsRedis_259">
     </a>
     2. Windows系统中启动和停止Redis
    </h4>
    <p>
     Windows系统中启动Redis，直接双击redis-server.exe即可启动Redis服务，redis服务默认端口号为6379
    </p>
    <p>
     <img alt="" src="https://img-blog.csdnimg.cn/img_convert/23c94c9d54111e8aa3e934bd2b88005f.png"/>
    </p>
    <p>
     Ctrl + C 停止Redis服务
    </p>
    <p>
     双击 redis-cli.exe 即可启动Redis客户端，默认连接的是本地的Redis服务，而且不需要认证即可连接成功。
    </p>
    <p>
     <img alt="" src="https://img-blog.csdnimg.cn/img_convert/173f5031b8cee32aba69d4a188786a24.png"/>
    </p>
    <p>
     退出客户端可以输入 exit 或者 quit 命令。
    </p>
    <h3>
     <a id="_273">
     </a>
     五、配置文件
    </h3>
    <h4>
     <a id="1__276">
     </a>
     1. 实现客户端认证登录
    </h4>
    <h5>
     <a id="_278">
     </a>
     背景
    </h5>
    <p>
     前面我们已经启动了Redis服务，默认情况下Redis启动后是在前台运行，而且客户端不需要密码就可以连接到
    </p>
    <p>
     Redis服务。如果我们希望Redis服务启动后是在后台运行，同时希望客户端认证通过后才能连接到Redis服务，应
    </p>
    <p>
     该如果做呢？
    </p>
    <p>
     此时就需要修改Redis的配置文件：
    </p>
    <h5>
     <a id="_288">
     </a>
     位置
    </h5>
    <ul>
     <li>
      Linux系统中Redis配置文件：REDIS_HOME/redis.conf
     </li>
     <li>
      Windows系统中Redis配置文件：REDIS_HOME/redis.windows.conf
     </li>
    </ul>
    <h5>
     <a id="_293">
     </a>
     修改
    </h5>
    <ol>
     <li>
      <strong>
       通过修改Redis配置文件可以进行如下配置
      </strong>
     </li>
    </ol>
    <p>
     1. 设置Redis服务后台运行
    </p>
    <p>
     将配置文件中的 daemonize 配置项改为yes，默认值为no。
    </p>
    <p>
     注意：Windows版的Redis不支持后台运行。
    </p>
    <p>
     2. 设置Redis服务密码
    </p>
    <p>
     将配置文件中的 # requirepass foobared 配置项取消注释，默认为注释状态。
    </p>
    <p>
     foobared为密码，可以根据情况自己指定。
    </p>
    <p>
     3. 设置允许客户端远程连接Redis服务
    </p>
    <p>
     Redis服务默认只能客户端本地连接，不允许客户端远程连接。
    </p>
    <p>
     将配置文件中的 bind 127.0.0.1 配置项注释掉。
    </p>
    <p>
     <strong>
      解释说明
     </strong>
    </p>
    <p>
     1. Redis配置文件中 #表示注释
    </p>
    <p>
     2. Redis配置文件中的配置项前面不能有空格，需要顶格写
    </p>
    <p>
     3. daemonize：用来指定redis是否要用守护线程的方式启动，设置成yes时，代表开启守护进程模式。
    </p>
    <p>
     在该模式下，redis会在后台运行
    </p>
    <p>
     4. requirepass：设置Redis的连接密码
    </p>
    <p>
     5. bind：如果指定了bind，则说明只允许来自指定网卡的Redis请求。如果没有指定，就说明可以接受
    </p>
    <p>
     来自任意一个网卡的Redis请求。
    </p>
    <p>
     注意：修改配置文件后需要重启Redis服务配置才能生效，并且启动Redis服务时需要显示的指定配置文件：
    </p>
    <ol>
     <li>
      <strong>
       修改配置完毕，再次启动连接Redis服务
      </strong>
     </li>
    </ol>
    <p>
     1. Linux中启动Redis服务
    </p>
    <pre><code># 进入Redis安装目录
cd /usr/local/redis-4.0.0
# 启动Redis服务，指定使用的配置文件
./src/redis-server ./redis.conf
</code></pre>
    <p>
     2. Windows中启动Redis服务
    </p>
    <p>
     <img alt="" src="https://img-blog.csdnimg.cn/img_convert/3d1b1c63bdb3a182de3ff2e613432f9b.png"/>
    </p>
    <p>
     由于Redis配置文件中开启了认证校验，即客户端连接时需要提供密码，此时客户端连接方式变为：
    </p>
    <p>
     <img alt="" src="https://img-blog.csdnimg.cn/img_convert/69bf0c183e591fb372a2a9c63ecb219c.png"/>
    </p>
    <p>
     解释说明：
    </p>
    <pre><code>-h：指定连接的Redis服务的ip地址

-p：指定连接的Redis服务的端口号

-a：指定连接的Redis服务的密码
</code></pre>
    <h3>
     <a id="_358">
     </a>
     六、桌面客户端
    </h3>
    <p>
     安装完成Redis，我们就可以操作Redis，实现数据的CRUD了。
    </p>
    <p>
     这需要用到Redis客户端，包括：
    </p>
    <ul>
     <li>
      命令行客户端
     </li>
     <li>
      图形化桌面客户端
     </li>
     <li>
      编程客户端
     </li>
    </ul>
    <h4>
     <a id="1__369">
     </a>
     1. 命令行客户端
    </h4>
    <p>
     我们安装的时候，就是命令行客户端
    </p>
    <p>
     Redis安装完成后就自带了命令行客户端：redis-cli，使用方式如下：
    </p>
    <pre><code>redis-cli [options] [commonds]
</code></pre>
    <p>
     其中常见的options有：
    </p>
    <ul>
     <li>
      -h 127.0.0.1：指定要连接的redis节点的IP地址，默认是127.0.0.1
     </li>
     <li>
      -p 6379：指定要连接的redis节点的端口，默认是6379
     </li>
     <li>
      a 123321：指定redis的访问密码
     </li>
    </ul>
    <p>
     其中的commonds就是Redis的操作命令，例如：
    </p>
    <ul>
     <li>
      ping：与redis服务端做心跳测试，服务端正常会返回pong
     </li>
    </ul>
    <p>
     不指定commond时，会进入redis-cli的交互控制台：
    </p>
    <p>
     <img alt="" src="https://img-blog.csdnimg.cn/img_convert/4681d0c7bbc5b1932471a1143de56a33.png"/>
    </p>
    <h4>
     <a id="2__391">
     </a>
     2. 图形化桌面客户端
    </h4>
    <p>
     GitHub上的大神编写了Redis的图形化桌面客户端，地址：
     <a href="https://github.com/uglide/RedisDesktopManager" title="GitHub - RedisInsight/RedisDesktopManager">
      GitHub - RedisInsight/RedisDesktopManager
     </a>
    </p>
    <p>
     不过该仓库提供的是RedisDesktopManager的源码，并未提供windows安装包。
    </p>
    <p>
     在下面这个仓库可以找到安装包：
     <a href="https://github.com/lework/RedisDesktopManager-Windows/releases" title="Releases · lework/RedisDesktopManager-Windows · GitHub">
      Releases · lework/RedisDesktopManager-Windows · GitHub
     </a>
    </p>
    <h5>
     <a id="21__399">
     </a>
     2.1. 安装
    </h5>
    <p>
     在本人提供的资料中可以找到Redis的图形化桌面客户端：
    </p>
    <p>
     <img alt="" src="https://img-blog.csdnimg.cn/img_convert/87cc1bdcbc02555c8c62e948227955be.png"/>
    </p>
    <p>
     解压缩后，运行安装程序即可安装：
    </p>
    <p>
     <img alt="" src="https://img-blog.csdnimg.cn/img_convert/a2ffc4ac3c3aa549565cab3436308f42.png"/>
    </p>
    <p>
     安装完成后，在安装目录下找到rdm.exe文件：
    </p>
    <p>
     <img alt="" src="https://img-blog.csdnimg.cn/img_convert/47818ce9401fbae2ea5cb38cdd34dbc1.png"/>
    </p>
    <p>
     双击即可运行：
    </p>
    <p>
     <img alt="" src="https://img-blog.csdnimg.cn/img_convert/0b1e478edacc7f0ca09de036daa60e71.png"/>
    </p>
    <p>
     <img alt="" src="https://img-home.csdnimg.cn/images/20230724024159.png?origin_url=images%5Cimage-20230321193200918.png&amp;pos_id=UKSmh9KX"/>
    </p>
    <h5>
     <a id="22__419">
     </a>
     2.2. 建立连接
    </h5>
    <p>
     点击左上角的连接到Redis服务器按钮：
    </p>
    <p>
     <img alt="" src="https://img-blog.csdnimg.cn/img_convert/06813a7304f38caa14298d3133be9f45.png"/>
    </p>
    <p>
     在弹出的窗口中填写Redis服务信息：
    </p>
    <p>
     <img alt="" src="https://img-blog.csdnimg.cn/img_convert/74d3c4ef64cf82e9197f9bb2f87509d1.png"/>
    </p>
    <p>
     点击确定后，在左侧菜单会出现这个链接：
    </p>
    <p>
     <img alt="" src="https://img-blog.csdnimg.cn/img_convert/4450054dd0b883924123d06334d3d9ab.png"/>
    </p>
    <p>
     点击即可建立连接了。
    </p>
    <p>
     <img alt="" src="https://img-blog.csdnimg.cn/img_convert/60ce272994b19a851479714c0d1497db.png"/>
    </p>
    <p>
     Redis默认有16个仓库，编号从0至15. 通过配置文件可以设置仓库数量，但是不超过16，并且不能自定义仓库名
    </p>
    <p>
     称。如果是基于redis-cli连接Redis服务，可以通过select命令来选择数据库：
    </p>
    <pre><code># 选择 0号库
select 0
</code></pre>
    <h4>
     <a id="3__444">
     </a>
     3. 编程客户端
    </h4>
    <p>
     未了解
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f37343832343438332f:61727469636c652f64657461696c732f313436313537383437" class_="artid" style="display:none">
 </p>
</div>


