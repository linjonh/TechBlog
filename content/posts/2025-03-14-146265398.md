---
arturl_encode: "68747470733a2f2f626c6f:672e6373646e2e6e65742f323330315f38303031353930372f:61727469636c652f64657461696c732f313436323635333938"
layout: post
title: "YOLOv11-ç›®æ ‡æ£€æµ‹"
date: 2025-03-14 20:09:29 +08:00
description: "æœ¬æ–‡ç« ä¸å†èµ˜è¿°anacondaçš„ä¸‹è½½ä»¥åŠè™šæ‹Ÿç¯å¢ƒçš„é…ç½®ï¼Œåšä¸»ä½¿ç”¨çš„pythonç‰ˆæœ¬ä¸º3.8ã€‚"
keywords: "YOLOv11 ç›®æ ‡æ£€æµ‹"
categories: ['æœªåˆ†ç±»']
tags: ['ç›®æ ‡æ£€æµ‹', 'äººå·¥æ™ºèƒ½', 'Yolo']
artid: "146265398"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146265398
    alt: "YOLOv11-ç›®æ ‡æ£€æµ‹"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146265398
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146265398
cover: https://bing.ee123.net/img/rand?artid=146265398
image: https://bing.ee123.net/img/rand?artid=146265398
img: https://bing.ee123.net/img/rand?artid=146265398
---

# YOLOv11 ç›®æ ‡æ£€æµ‹

æœ¬æ–‡ç« ä¸å†èµ˜è¿°anacondaçš„ä¸‹è½½ä»¥åŠè™šæ‹Ÿç¯å¢ƒçš„é…ç½®ï¼Œåšä¸»ä½¿ç”¨çš„pythonç‰ˆæœ¬ä¸º3.8

## 1.è·å–YOLOv11çš„æºå·¥ç¨‹æ–‡ä»¶

é“¾æ¥ï¼š
[GitHub - ultralytics/ultralytics: Ultralytics YOLO11 ğŸš€](https://github.com/ultralytics/ultralytics "GitHub - ultralytics/ultralytics: Ultralytics YOLO11 ğŸš€")

![](https://i-blog.csdnimg.cn/direct/0c60765e78614df0b26a0c467c98e5c0.png)

ç›´æ¥ä¸‹è½½è§£å‹

## 2.éœ€è¦è‡ªå·±å‡†å¤‡çš„æ–‡ä»¶

æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼šçº¢æ¡†éƒ¨åˆ†çš„æ–‡ä»¶éœ€è¦è‡ªå·±è¡¥å……ï¼ˆè§ä¸‹æ–‡ï¼‰

![](https://i-blog.csdnimg.cn/direct/357ecf18e616424992ca2964289efe30.png)

yolo11n.pt ï¼ˆè¿˜æ˜¯åœ¨åŒä¸€ä¸ªé“¾æ¥ä¸‹ï¼‰

![](https://i-blog.csdnimg.cn/direct/0d0f9f6c0a164756b7f21bfaf4b4a896.png)

my_train.py

```python
import warnings
warnings.filterwarnings('ignore')
from ultralytics import YOLO

if __name__ == '__main__':
    model = YOLO('ultralytics/cfg/models/11/yolo11.yaml')
    model.load('yolo11n.pt') # loading pretrain weights
    model.train(data='E:/pytroch/YOLO/yolov11/ultralytics-main-250314/ultralytics-main/my_Data.yaml',
                imgsz=640,
                epochs=100,
                batch=32,
                workers=8,
                #close_mosaic=10,
                device='cpu',
                #device='0',
                optimizer='SGD', # using SGD
                #project='runs/train',
                #name='exp',
                amp=False,
                cache=False,  # æœåŠ¡å™¨å¯è®¾ç½®ä¸ºTrueï¼Œè®­ç»ƒé€Ÿåº¦å˜å¿«
                )

```

.yamlçš„è·¯å¾„è¦ä½¿ç”¨ç»å¯¹è·¯å¾„

my_predictå›¾åƒæ¨ç†.py (ä¹‹åå¯æ¢æˆè‡ªå·±è®­ç»ƒçš„æ¨¡å‹)

```python
from ultralytics import YOLO

# Load a pre-trained YOLO model (adjust model type as needed)
model = YOLO("yolo11n.pt")  # n, s, m, l, x versions available

# Perform object detection on an image
results = model.predict(source="1.jpg")  # Can also use video, directory, URL, etc.

# Display the results
results[0].show()  # Show the first image results
```

my_predictå®æ—¶æ¨ç†.pyÂ (ä¹‹åå¯æ¢æˆè‡ªå·±è®­ç»ƒçš„æ¨¡å‹)

```python
from ultralytics import YOLO
import cv2
import numpy as np
import time

# åŠ è½½æ¨¡å‹
model = YOLO("yolo11n.pt")

# æ‰“å¼€è§†é¢‘æ–‡ä»¶
#video_path = "720p.mp4"  # æ›¿æ¢ä¸ºä½ çš„è§†é¢‘è·¯å¾„
#cap = cv2.VideoCapture(video_path)
cap = cv2.VideoCapture(0) #ä½¿ç”¨å¤–ç½®USBæ‘„åƒå¤´

# æ£€æŸ¥è§†é¢‘æ˜¯å¦æ‰“å¼€æˆåŠŸ
if not cap.isOpened():
    print("Error: Cannot open video file.")
    exit()

# è·å–è§†é¢‘ä¿¡æ¯
fps = int(cap.get(cv2.CAP_PROP_FPS))
print(f"Video FPS: {fps}")

# è·å–è§†é¢‘å®½é«˜
frame_width = int(cap.get(cv2.CAP_PROP_FRAME_WIDTH))
frame_height = int(cap.get(cv2.CAP_PROP_FRAME_HEIGHT))

# å®æ—¶æ¨ç†å¹¶æ˜¾ç¤ºç»“æœ
while True:
    start_time = time.time()  # è®°å½•å¸§å¤„ç†å¼€å§‹æ—¶é—´

    ret, frame = cap.read()
    if not ret:
        break  # è§†é¢‘ç»“æŸ

    # æ¨¡å‹æ¨ç†
    results = model(frame)  # å¯¹å½“å‰å¸§è¿›è¡Œæ¨ç†

    for r in results:
        # ç»˜åˆ¶æ£€æµ‹ç»“æœå›¾åƒ
        im_array = r.plot()  # å¸¦é¢„æµ‹ç»“æœçš„å›¾åƒ (BGR æ ¼å¼)

        # æ£€æŸ¥æ˜¯å¦æœ‰å®ä¾‹åˆ†å‰²æ©ç 
        if r.masks is not None:
            # è®¡ç®—æ€»åƒç´ å æ¯”
            total_pixels = frame_width * frame_height  # å›¾åƒæ€»åƒç´ æ•°
            masks = r.masks.data.cpu().numpy()  # è·å–å®ä¾‹åˆ†å‰²çš„æ©ç 
            total_object_pixels = np.sum(masks)  # æ‰€æœ‰ç‰©ä½“çš„åƒç´ æ€»å’Œ
            total_percentage = (total_object_pixels / total_pixels) * 100  # ç™¾åˆ†æ¯”è®¡ç®—

            # åœ¨å›¾åƒå·¦ä¸Šè§’ç»˜åˆ¶ç™¾åˆ†æ¯”ä¿¡æ¯
            text = f"Total percentage: {total_percentage:.2f}%"
        else:
            text = "No objects detected"  # æ²¡æœ‰æ£€æµ‹åˆ°ç‰©ä½“æ—¶çš„æç¤ºä¿¡æ¯

        font = cv2.FONT_HERSHEY_SIMPLEX
        font_scale = 1.2
        color = (0, 0, 255)
        thickness = 2
        position = (20, 40)  # æ–‡æœ¬ä½ç½® (x, y)
        im_array = cv2.putText(im_array, text, position, font, font_scale, color, thickness)

        # æ˜¾ç¤ºå½“å‰å¸§çš„æ¨ç†ç»“æœ
        cv2.imshow("Inference", im_array)

    # è®¡ç®—å¸§ç‡
    elapsed_time = time.time() - start_time
    print(f"Processing time per frame: {elapsed_time:.2f} seconds ({1/elapsed_time:.2f} FPS)")

    # æŒ‰ 'q' é”®é€€å‡º
    if cv2.waitKey(1) & 0xFF == ord('q'):
        break

# é‡Šæ”¾èµ„æº
cap.release()
cv2.destroyAllWindows()

```

my_Data.yaml

```python
train: my_Dataset\train # train images (relative to 'path') 128 images
val: my_Dataset\val  # val images (relative to 'path') 128 images
test: my_Dataset\test

nc: 4

# Classes
names: ['recycle','hazardous','foodWaste','other']
```

è·¯å¾„ä¸ºæ•°æ®é›†çš„è·¯å¾„ï¼ˆè§ä¸‹æ–‡ï¼‰

namesçš„ç±»åˆ«é¡ºåºï¼šä¸labelsæ ‡ç­¾ä¸€è‡´å³å¯

![](https://i-blog.csdnimg.cn/direct/0eaff04b624544a49bc0d9cc7dbd73fa.png)

my_Datasetå­˜æ”¾æ•°æ®é›†ï¼ˆæ•°æ®é›†æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼‰

```python
my_Dataset
|
|
|
---->Â test

Â  Â  Â  Â  ---->images

Â  Â  Â  Â  Â  Â  Â  Â  Â Â Â Â Â 1.jpg

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 2.jpg

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â€¦â€¦

Â  Â  Â  Â  ---->labels

Â  Â  Â  Â  Â  Â  Â  Â  Â Â Â Â Â 1.txt

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 2.txt

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â€¦â€¦

----> train

Â  Â  Â  Â  ---->images

Â  Â  Â  Â  Â  Â  Â  Â  Â Â Â Â Â 3.jpg

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 4.jpg

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â€¦â€¦

Â  Â  Â  Â  ---->labels

Â  Â  Â  Â  Â  Â  Â  Â  Â Â Â Â Â 3.txt

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 4.txt

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â€¦â€¦

----> val

Â  Â  Â  Â  ---->images

Â  Â  Â  Â  Â  Â  Â  Â  Â Â Â Â  5.jpg

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 6.jpg

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â€¦â€¦

Â  Â  Â  Â  ---->labels

Â  Â  Â  Â  Â  Â  Â  Â  Â Â Â Â  5.txt

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 6.txt

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â€¦â€¦
```

## 3.æ¨¡å‹è®­ç»ƒ

åœ¨æ‰€æœ‰æ–‡ä»¶é…ç½®å¥½åè¿è¡Œmy_train.py

![](https://i-blog.csdnimg.cn/direct/ba7422b3d81a40bb97f5c136eb6f494b.png)

### å…³äºè®­ç»ƒå‚æ•°çš„è®¾ç½®ï¼š

ç¿»è¯‘ç½®:
[Configuration - Ultralytics YOLO Docs](https://docs.ultralytics.com/usage/cfg/#train-settings "Configuration - Ultralytics YOLO Docs")

YOLO æ¨¡å‹çš„è®­ç»ƒè®¾ç½®åŒ…å«è®­ç»ƒè¿‡ç¨‹ä¸­ä½¿ç”¨çš„å„ç§è¶…å‚æ•°å’Œé…ç½®ã€‚è¿™äº›è®¾ç½®ä¼šå½±å“æ¨¡å‹çš„æ€§èƒ½ã€é€Ÿåº¦å’Œå‡†ç¡®æ€§ã€‚å…³é”®è®­ç»ƒè®¾ç½®åŒ…æ‹¬æ‰¹é‡å¤§å°ã€å­¦ä¹ ç‡ã€åŠ¨é‡å’Œæƒé‡è¡°å‡ã€‚æ­¤å¤–ï¼Œä¼˜åŒ–å™¨ã€æŸå¤±å‡½æ•°å’Œè®­ç»ƒæ•°æ®é›†ç»„åˆçš„é€‰æ‹©ä¹Ÿä¼šå½±å“è®­ç»ƒè¿‡ç¨‹ã€‚ä»”ç»†è°ƒæ•´å’Œè¯•éªŒè¿™äº›è®¾ç½®å¯¹äºä¼˜åŒ–æ€§èƒ½è‡³å…³é‡è¦ã€‚

| å‚æ•°Argument | ç±»å‹  Type | é»˜è®¤å€¼  Default | æè¿°  Description |
| --- | --- | --- | --- |
| `model` | `str` | `None` | æŒ‡å®šç”¨äºè®­ç»ƒçš„æ¨¡å‹æ–‡ä»¶ã€‚æ¥å— .pt é¢„è®­ç»ƒæ¨¡å‹æˆ– .yaml é…ç½®æ–‡ä»¶çš„è·¯å¾„ã€‚å¯¹äºå®šä¹‰æ¨¡å‹ç»“æ„æˆ–åˆå§‹åŒ–æƒé‡è‡³å…³é‡è¦ã€‚  Specifies the model file for training. Accepts a path to either a `.pt` pretrained model or a `.yaml` configuration file. Essential for defining the model structure or initializing weights. |
| `data` | `str` | `None` | æ•°æ®é›†é…ç½®æ–‡ä»¶çš„è·¯å¾„ï¼ˆä¾‹å¦‚ï¼Œcoco8.yamlï¼‰ã€‚è¯¥æ–‡ä»¶åŒ…å«ç‰¹å®šäºæ•°æ®é›†çš„å‚æ•°ï¼ŒåŒ…æ‹¬è®­ç»ƒå’ŒéªŒè¯æ•°æ®çš„è·¯å¾„ã€ç±»åå’Œç±»æ•°ã€‚  Path to the dataset configuration file (e.g., `coco8.yaml` ). This file contains dataset-specific parameters, including paths to training and [validation data](https://www.ultralytics.com/glossary/validation-data "validation data") , class names, and number of classes. |
| `epochs` | `int` | `100` | â€‹è®­ç»ƒ epoch çš„æ€»æ•°ã€‚æ¯ä¸ª epoch è¡¨ç¤ºæ•´ä¸ªæ•°æ®é›†çš„å®Œæ•´ä¼ é€’ã€‚è°ƒæ•´æ­¤å€¼å¯èƒ½ä¼šå½±å“è®­ç»ƒæŒç»­æ—¶é—´å’Œæ¨¡å‹æ€§èƒ½ã€‚  Total number of training epochs. Each [epoch](https://www.ultralytics.com/glossary/epoch "epoch") represents a full pass over the entire dataset. Adjusting this value can affect training duration and model performance. |
| `time` | `float` | `None` | æœ€å¤§è®­ç»ƒæ—¶é—´ï¼ˆå°æ—¶ï¼‰ã€‚å¦‚æœè®¾ç½®ï¼Œè¿™å°†è¦†ç›– epochs å‚æ•°ï¼Œä»è€Œå…è®¸è®­ç»ƒåœ¨æŒ‡å®šçš„æŒç»­æ—¶é—´åè‡ªåŠ¨åœæ­¢ã€‚é€‚ç”¨äºæ—¶é—´å—é™çš„è®­ç»ƒåœºæ™¯ã€‚  Maximum training time in hours. If set, this overrides the `epochs` argument, allowing training to automatically stop after the specified duration. Useful for time-constrained training scenarios. |
| `patience` | `int` | `100` | â€‹åœ¨æå‰åœæ­¢è®­ç»ƒä¹‹å‰ï¼Œåœ¨éªŒè¯æŒ‡æ ‡æ²¡æœ‰æ”¹å–„çš„æƒ…å†µä¸‹ç­‰å¾…çš„epochsæ•°ã€‚é€šè¿‡åœ¨æ€§èƒ½åœæ»æ—¶åœæ­¢è®­ç»ƒæ¥å¸®åŠ©é˜²æ­¢è¿‡åº¦æ‹Ÿåˆã€‚  Number of epochs to wait without improvement in validation metrics before early stopping the training. Helps prevent [overfitting](https://www.ultralytics.com/glossary/overfitting "overfitting") by stopping training when performance plateaus. |
| `batch` | `int` | `16` | å…·æœ‰ä¸‰ç§æ¨¡å¼ï¼šè®¾ç½®ä¸ºæ•´æ•°ï¼ˆä¾‹å¦‚ï¼Œbatch=16ï¼‰ã€GPU å†…å­˜åˆ©ç”¨ç‡ä¸º 60% çš„è‡ªåŠ¨æ¨¡å¼ ï¼ˆbatch=-1ï¼‰ æˆ–å…·æœ‰æŒ‡å®šåˆ©ç”¨ç‡åˆ†æ•°çš„è‡ªåŠ¨æ¨¡å¼ ï¼ˆbatch=0.70ï¼‰ã€‚  [Batch size](https://www.ultralytics.com/glossary/batch-size "Batch size") , with three modes: set as an integer (e.g., `batch=16` ), auto mode for 60% GPU memory utilization ( `batch=-1` ), or auto mode with specified utilization fraction ( `batch=0.70` ). |
| `imgsz` | `int` or `list` | `640` | ç”¨äºè®­ç»ƒçš„ç›®æ ‡å›¾åƒå¤§å°ã€‚åœ¨è¾“å…¥åˆ°æ¨¡å‹ä¹‹å‰ï¼Œæ‰€æœ‰å›¾åƒéƒ½ä¼šè°ƒæ•´åˆ°æ­¤å°ºå¯¸ã€‚å½±å“æ¨¡å‹ç²¾åº¦å’Œè®¡ç®—å¤æ‚åº¦ã€‚  Target image size for training. All images are resized to this dimension before being fed into the model. Affects model [accuracy](https://www.ultralytics.com/glossary/accuracy "accuracy") and computational complexity. |
| `save` | `bool` | `True` | æ”¯æŒä¿å­˜è®­ç»ƒæ£€æŸ¥ç‚¹å’Œæœ€ç»ˆæ¨¡å‹æƒé‡ã€‚å¯¹äºæ¢å¤è®­ç»ƒæˆ–æ¨¡å‹éƒ¨ç½²éå¸¸æœ‰ç”¨ã€‚  Enables saving of training checkpoints and final model weights. Useful for resuming training or [model deployment](https://www.ultralytics.com/glossary/model-deployment "model deployment") . |
| `save_period` | `int` | `-1` | ä¿å­˜æ¨¡å‹æ£€æŸ¥ç‚¹çš„é¢‘ç‡ï¼Œä»¥ epoch ä¸ºå•ä½æŒ‡å®šã€‚å€¼ä¸º -1 å°†ç¦ç”¨æ­¤åŠŸèƒ½ã€‚å¯¹äºåœ¨é•¿æ—¶é—´è®­ç»ƒæœŸé—´ä¿å­˜ä¸´æ—¶æ¨¡å‹å¾ˆæœ‰ç”¨ã€‚  Frequency of saving model checkpoints, specified in epochs. A value of -1 disables this feature. Useful for saving interim models during long training sessions. |
| `cache` | `bool` | `False` | å¯ç”¨æ•°æ®é›†å›¾åƒåœ¨å†…å­˜ ï¼ˆTrue/ramï¼‰ã€ç£ç›˜ ï¼ˆdiskï¼‰ ä¸Šçš„ç¼“å­˜ï¼Œæˆ–ç¦ç”¨æ•°æ®é›†å›¾åƒç¼“å­˜ ï¼ˆFalseï¼‰ã€‚é€šè¿‡å‡å°‘ç£ç›˜ I/O æ¥æé«˜è®­ç»ƒé€Ÿåº¦ï¼Œä½†ä»£ä»·æ˜¯å†…å­˜ä½¿ç”¨é‡å¢åŠ ã€‚  Enables caching of dataset images in memory ( `True` / `ram` ), on disk ( `disk` ), or disables it ( `False` ). Improves training speed by reducing disk I/O at the cost of increased memory usage. |
| `device` | `int` or `str` or `list` | `None` | æŒ‡å®šç”¨äºè®­ç»ƒçš„è®¡ç®—è®¾å¤‡ï¼šå•ä¸ª GPU ï¼ˆdevice=0ï¼‰ã€å¤šä¸ª GPU ï¼ˆdevice=0,1ï¼‰ã€CPU ï¼ˆdevice=cpuï¼‰ æˆ– Apple Silicon çš„ MPS ï¼ˆdevice=mpsï¼‰ã€‚  Specifies the computational device(s) for training: a single GPU ( `device=0` ), multiple GPUs ( `device=0,1` ), CPU ( `device=cpu` ), or MPS for Apple silicon ( `device=mps` ). |
| `workers` | `int` | `8` | ç”¨äºæ•°æ®åŠ è½½çš„å·¥ä½œçº¿ç¨‹æ•°ï¼ˆå¦‚æœæ˜¯å¤š GPU è®­ç»ƒï¼Œåˆ™æŒ‰ RANK è®¡ç®—ï¼‰ã€‚å½±å“æ•°æ®é¢„å¤„ç†å’Œé¦ˆé€åˆ°æ¨¡å‹çš„é€Ÿåº¦ï¼Œåœ¨å¤š GPU è®¾ç½®ä¸­ç‰¹åˆ«æœ‰ç”¨ã€‚  Number of worker threads for data loading (per `RANK` if Multi-GPU training). Influences the speed of data preprocessing and feeding into the model, especially useful in multi-GPU setups. |
| `project` | `str` | `None` | ä¿å­˜è®­ç»ƒè¾“å‡ºçš„é¡¹ç›®ç›®å½•çš„åç§°ã€‚å…è®¸æœ‰åºåœ°å­˜å‚¨ä¸åŒçš„å®éªŒã€‚  Name of the project directory where training outputs are saved. Allows for organized storage of different experiments. |
| `name` | `str` | `None` | è®­ç»ƒè¿è¡Œçš„åç§°ã€‚ç”¨äºåœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸­åˆ›å»ºå­ç›®å½•ï¼Œç”¨äºå­˜å‚¨è®­ç»ƒæ—¥å¿—å’Œè¾“å‡ºã€‚  Name of the training run. Used for creating a subdirectory within the project folder, where training logs and outputs are stored. |
| `exist_ok` | `bool` | `False` | å¦‚æœä¸º Trueï¼Œåˆ™å…è®¸è¦†ç›–ç°æœ‰ project/name ç›®å½•ã€‚å¯¹äºè¿­ä»£å®éªŒå¾ˆæœ‰ç”¨ï¼Œæ— éœ€æ‰‹åŠ¨æ¸…é™¤ä»¥å‰çš„è¾“å‡ºã€‚  If True, allows overwriting of an existing project/name directory. Useful for iterative experimentation without needing to manually clear previous outputs. |
| `pretrained` | `bool` | `True` | ç¡®å®šæ˜¯å¦ä»é¢„è®­ç»ƒçš„æ¨¡å‹å¼€å§‹è®­ç»ƒã€‚å¯ä»¥æ˜¯å¸ƒå°”å€¼æˆ–æŒ‡å‘è¦ä»ä¸­åŠ è½½æƒé‡çš„ç‰¹å®šæ¨¡å‹çš„å­—ç¬¦ä¸²è·¯å¾„ã€‚æé«˜è®­ç»ƒæ•ˆç‡å’Œæ¨¡å‹æ€§èƒ½ã€‚  Determines whether to start training from a pretrained model. Can be a boolean value or a string path to a specific model from which to load weights. Enhances training efficiency and model performance. |
| `optimizer` | `str` | `'auto'` | é€‰æ‹©ç”¨äºè®­ç»ƒçš„ä¼˜åŒ–å™¨ã€‚é€‰é¡¹åŒ…æ‹¬ SGDã€Adamã€AdamWã€NAdamã€RAdamã€RMSProp ç­‰ï¼Œæˆ– autoï¼Œç”¨äºæ ¹æ®æ¨¡å‹é…ç½®è‡ªåŠ¨é€‰æ‹©ã€‚å½±å“æ”¶æ•›é€Ÿåº¦å’Œç¨³å®šæ€§ã€‚  Choice of optimizer for training. Options include `SGD` , `Adam` , `AdamW` , `NAdam` , `RAdam` , `RMSProp` etc., or `auto` for automatic selection based on model configuration. Affects convergence speed and stability. |
| `seed` | `int` | `0` | è®¾ç½®ç”¨äºè®­ç»ƒçš„éšæœºç§å­ï¼Œç¡®ä¿ç»“æœåœ¨å…·æœ‰ç›¸åŒé…ç½®çš„è¿è¡Œä¸­çš„å¯é‡å¤æ€§ã€‚  Sets the random seed for training, ensuring reproducibility of results across runs with the same configurations. |
| `deterministic` | `bool` | `True` | å¼ºåˆ¶ä½¿ç”¨ç¡®å®šæ€§ç®—æ³•ï¼Œç¡®ä¿å¯é‡ç°æ€§ï¼Œä½†ç”±äºå¯¹éç¡®å®šæ€§ç®—æ³•çš„é™åˆ¶ï¼Œå¯èƒ½ä¼šå½±å“æ€§èƒ½å’Œé€Ÿåº¦ã€‚  Forces deterministic algorithm use, ensuring reproducibility but may affect performance and speed due to the restriction on non-deterministic algorithms. |
| `single_cls` | `bool` | `False` | åœ¨è®­ç»ƒæœŸé—´ï¼Œå°†å¤šç±»æ•°æ®é›†ä¸­çš„æ‰€æœ‰ç±»è§†ä¸ºå•ä¸ªç±»ã€‚å¯¹äºäºŒå…ƒåˆ†ç±»ä»»åŠ¡æˆ–ä¸“æ³¨äºå¯¹è±¡å­˜åœ¨è€Œä¸æ˜¯åˆ†ç±»æ—¶éå¸¸æœ‰ç”¨ã€‚  Treats all classes in multi-class datasets as a single class during training. Useful for binary classification tasks or when focusing on object presence rather than classification. |
| `classes` | `list[int]` | `None` | æŒ‡å®šè¦è®­ç»ƒçš„ç±» ID åˆ—è¡¨ã€‚å¯¹äºåœ¨è®­ç»ƒæœŸé—´ç­›é€‰å¹¶ä»…å…³æ³¨æŸäº›ç±»å¾ˆæœ‰ç”¨ã€‚  Specifies a list of class IDs to train on. Useful for filtering out and focusing only on certain classes during training. |
| `rect` | `bool` | `False` | å¯ç”¨çŸ©å½¢è®­ç»ƒï¼Œä¼˜åŒ–æ‰¹é‡åˆæˆä»¥å®ç°æœ€å°‘çš„å¡«å……ã€‚å¯ä»¥æé«˜æ•ˆç‡å’Œé€Ÿåº¦ï¼Œä½†å¯èƒ½ä¼šå½±å“æ¨¡å‹å‡†ç¡®æ€§ã€‚  Enables rectangular training, optimizing batch composition for minimal padding. Can improve efficiency and speed but may affect model accuracy. |
| `multi_scale` | `bool` | `False` | é€šè¿‡åœ¨è®­ç»ƒæœŸé—´å°† imgsz å¢åŠ /å‡å°‘ 0.5 å€æ¥å®ç°å¤šå°ºåº¦è®­ç»ƒã€‚åœ¨æ¨ç†è¿‡ç¨‹ä¸­ä½¿ç”¨å¤šä¸ª imgsz è®­ç»ƒæ¨¡å‹ä»¥ä½¿å…¶æ›´å‡†ç¡®ã€‚  Enables multi-scale training by increasing/decreasing `imgsz` by upto a factor of `0.5` during training. Trains the model to be more accurate with multiple `imgsz` during inference. |
| `cos_lr` | `bool` | `False` | åˆ©ç”¨ä½™å¼¦å­¦ä¹ é€Ÿç‡è°ƒåº¦å™¨ï¼Œåœ¨å†å…ƒä¸ŠæŒ‰ç…§ä½™å¼¦æ›²çº¿è°ƒæ•´å­¦ä¹ é€Ÿç‡ã€‚æœ‰åŠ©äºç®¡ç†å­¦ä¹ ç‡ä»¥å®ç°æ›´å¥½çš„æ”¶æ•›ã€‚  Utilizes a cosine [learning rate](https://www.ultralytics.com/glossary/learning-rate "learning rate") scheduler, adjusting the learning rate following a cosine curve over epochs. Helps in managing learning rate for better convergence. |
| `close_mosaic` | `int` | `10` | åœ¨æœ€åNä¸ªæ—¶æœŸç¦ç”¨é©¬èµ›å…‹æ•°æ®å¢å¼ºï¼Œä»¥åœ¨å®Œæˆå‰ç¨³å®šè®­ç»ƒã€‚è®¾ç½®ä¸º0å°†ç¦ç”¨æ­¤åŠŸèƒ½ã€‚   Disables mosaic [data augmentation](https://www.ultralytics.com/glossary/data-augmentation "data augmentation") in the last N epochs to stabilize training before completion. Setting to 0 disables this feature. |
| `resume` | `bool` | `False` | ä»ä¸Šæ¬¡ä¿å­˜çš„æ£€æŸ¥ç‚¹æ¢å¤è®­ç»ƒã€‚è‡ªåŠ¨åŠ è½½æ¨¡å‹æƒé‡ã€ä¼˜åŒ–å™¨çŠ¶æ€å’Œ epoch è®¡æ•°ï¼Œæ— ç¼ç»§ç»­è®­ç»ƒã€‚  Resumes training from the last saved checkpoint. Automatically loads model weights, optimizer state, and epoch count, continuing training seamlessly. |
| `amp` | `bool` | `True` | æ”¯æŒè‡ªåŠ¨æ··åˆç²¾åº¦ï¼ˆAMPï¼‰è®­ç»ƒï¼Œå‡å°‘å†…å­˜ä½¿ç”¨ï¼Œå¹¶å¯èƒ½åŠ å¿«è®­ç»ƒé€Ÿåº¦ï¼ŒåŒæ—¶å¯¹å‡†ç¡®æ€§çš„å½±å“æœ€å°ã€‚  Enables Automatic [Mixed Precision](https://www.ultralytics.com/glossary/mixed-precision "Mixed Precision") (AMP) training, reducing memory usage and possibly speeding up training with minimal impact on accuracy. |
| `fraction` | `float` | `1.0` | æŒ‡å®šç”¨äºè®­ç»ƒçš„æ•°æ®é›†çš„åˆ†æ•°ã€‚å…è®¸å¯¹å®Œæ•´æ•°æ®é›†çš„å­é›†è¿›è¡Œè®­ç»ƒï¼Œè¿™å¯¹äºå®éªŒæˆ–èµ„æºæœ‰é™æ—¶éå¸¸æœ‰ç”¨ã€‚  Specifies the fraction of the dataset to use for training. Allows for training on a subset of the full dataset, useful for experiments or when resources are limited. |
| `profile` | `bool` | `False` | åœ¨è®­ç»ƒæœŸé—´å¯ç”¨ ONNX å’Œ TensorRT é€Ÿåº¦åˆ†æï¼Œæœ‰åŠ©äºä¼˜åŒ–æ¨¡å‹éƒ¨ç½²ã€‚  Enables profiling of ONNX and TensorRT speeds during training, useful for optimizing model deployment. |
| `freeze` | `int` or `list` | `None` | å†»ç»“æ¨¡å‹çš„å‰Nå±‚æˆ–æŒ‰ç´¢å¼•æŒ‡å®šçš„å±‚ï¼Œå‡å°‘å¯è®­ç»ƒå‚æ•°çš„æ•°é‡ã€‚æœ‰åŠ©äºå¾®è°ƒæˆ–è¿ç§»å­¦ä¹ ã€‚  Freezes the first N layers of the model or specified layers by index, reducing the number of trainable parameters. Useful for fine-tuning or [transfer learning](https://www.ultralytics.com/glossary/transfer-learning "transfer learning") . |
| `lr0` | `float` | `0.01` | åˆå§‹å­¦ä¹ ç‡ï¼ˆå³ SGD=1E-2ï¼ŒAdam=1E-3ï¼‰ã€‚è°ƒæ•´æ­¤å€¼å¯¹äºä¼˜åŒ–è¿‡ç¨‹è‡³å…³é‡è¦ï¼Œå®ƒä¼šå½±å“æ¨¡å‹æƒé‡çš„æ›´æ–°é€Ÿåº¦ã€‚  Initial learning rate (i.e. `SGD=1E-2` , `Adam=1E-3` ) . Adjusting this value is crucial for the optimization process, influencing how rapidly model weights are updated. |
| `lrf` | `float` | `0.01` | æœ€ç»ˆå­¦ä¹ ç‡å åˆå§‹å­¦ä¹ ç‡çš„åˆ†æ•° = ï¼ˆlr0 * lrfï¼‰ï¼Œä¸è°ƒåº¦å™¨ç»“åˆä½¿ç”¨ï¼Œä»¥éšæ—¶é—´è°ƒæ•´å­¦ä¹ ç‡ã€‚  Final learning rate as a fraction of the initial rate = ( `lr0 * lrf` ), used in conjunction with schedulers to adjust the learning rate over time. |
| `momentum` | `float` | `0.937` | â€‹SGD çš„åŠ¨é‡å› å­æˆ– Adam ä¼˜åŒ–å™¨çš„ beta1ï¼Œå½±å“å½“å‰æ›´æ–°ä¸­è¿‡å»æ¢¯åº¦çš„åˆå¹¶ã€‚  Momentum factor for SGD or beta1 for [Adam optimizers](https://www.ultralytics.com/glossary/adam-optimizer "Adam optimizers") , influencing the incorporation of past gradients in the current update. |
| `weight_decay` | `float` | `0.0005` | L2æ­£åˆ™åŒ–é¡¹ï¼Œæƒ©ç½šå¤§æƒé‡ä»¥é˜²æ­¢è¿‡åº¦æ‹Ÿåˆã€‚  L2 [regularization](https://www.ultralytics.com/glossary/regularization "regularization") term, penalizing large weights to prevent overfitting. |
| `warmup_epochs` | `float` | `3.0` | å­¦ä¹ ç‡é¢„çƒ­çš„ epoch æ•°ï¼Œé€æ¸å°†å­¦ä¹ ç‡ä»ä½å€¼æé«˜åˆ°åˆå§‹å­¦ä¹ ç‡ï¼Œä»¥å°½æ—©ç¨³å®šè®­ç»ƒã€‚  Number of epochs for learning rate warmup, gradually increasing the learning rate from a low value to the initial learning rate to stabilize training early on. |
| `warmup_momentum` | `float` | `0.8` | é¢„çƒ­é˜¶æ®µçš„åˆå§‹åŠ¨é‡ï¼Œåœ¨é¢„çƒ­æœŸé—´é€æ¸é€‚åº”è®¾å®šçš„åŠ¨é‡ã€‚  Initial momentum for warmup phase, gradually adjusting to the set momentum over the warmup period. |
| `warmup_bias_lr` | `float` | `0.1` | é¢„çƒ­é˜¶æ®µåå·®å‚æ•°çš„å­¦ä¹ ç‡ï¼Œæœ‰åŠ©äºç¨³å®šåˆå§‹ epoch ä¸­çš„æ¨¡å‹è®­ç»ƒã€‚  Learning rate for bias parameters during the warmup phase, helping stabilize model training in the initial epochs. |
| `box` | `float` | `7.5` | æŸå¤±å‡½æ•°ä¸­ box loss åˆ†é‡çš„æƒé‡ï¼Œå½±å“å¯¹å‡†ç¡®é¢„æµ‹è¾¹ç•Œæ¡†åæ ‡çš„é‡è§†ç¨‹åº¦ã€‚  Weight of the box loss component in the [loss function](https://www.ultralytics.com/glossary/loss-function "loss function") , influencing how much emphasis is placed on accurately predicting [bounding box](https://www.ultralytics.com/glossary/bounding-box "bounding box") coordinates. |
| `cls` | `float` | `0.5` | åˆ†ç±»æŸå¤±åœ¨æ€»æŸå¤±å‡½æ•°ä¸­çš„æƒé‡ï¼Œå½±å“ç›¸å¯¹äºå…¶ä»–åˆ†é‡çš„æ­£ç¡®ç±»åˆ«é¢„æµ‹çš„é‡è¦æ€§ã€‚  Weight of the classification loss in the total loss function, affecting the importance of correct class prediction relative to other components. |
| `dfl` | `float` | `1.5` | åˆ†å¸ƒç„¦ç‚¹æŸå¤±çš„æƒé‡ï¼Œç”¨äºæŸäº› YOLO ç‰ˆæœ¬ä»¥è¿›è¡Œç²¾ç»†åˆ†ç±»ã€‚  Weight of the distribution focal loss, used in certain YOLO versions for fine-grained classification. |
| `pose` | `float` | `12.0` | ä¸ºå§¿åŠ¿ä¼°è®¡è®­ç»ƒçš„æ¨¡å‹ä¸­å§¿åŠ¿æŸå¤±çš„æƒé‡ï¼Œå½±å“å¯¹å‡†ç¡®é¢„æµ‹å§¿åŠ¿å…³é”®ç‚¹çš„é‡è§†ã€‚  Weight of the pose loss in models trained for pose estimation, influencing the emphasis on accurately predicting pose keypoints. |
| `kobj` | `float` | `2.0` | å§¿æ€ä¼°è®¡æ¨¡å‹ä¸­å…³é”®ç‚¹å®¢ä½“æŸå¤±çš„æƒé‡ï¼Œå¹³è¡¡æ£€æµ‹ç½®ä¿¡åº¦å’Œå§¿æ€å‡†ç¡®æ€§ã€‚  Weight of the keypoint objectness loss in pose estimation models, balancing detection confidence with pose accuracy. |
| `nbs` | `int` | `64` | æŸå¤±æ ‡å‡†åŒ–çš„æ ‡ç§°æ‰¹é‡ã€‚  Nominal batch size for normalization of loss. |
| `overlap_mask` | `bool` | `True` | ç¡®å®šæ˜¯åº”å°†å¯¹è±¡æ©ç åˆå¹¶åˆ°å•ä¸ªæ©ç ä¸­è¿›è¡Œè®­ç»ƒï¼Œè¿˜æ˜¯ä¸ºæ¯ä¸ªå¯¹è±¡ä¿æŒå•ç‹¬ã€‚åœ¨é‡å çš„æƒ…å†µä¸‹ï¼Œåœ¨åˆå¹¶è¿‡ç¨‹ä¸­ï¼Œè¾ƒå°çš„è’™ç‰ˆå°†è¦†ç›–åœ¨è¾ƒå¤§çš„è’™ç‰ˆä¹‹ä¸Šã€‚  Determines whether object masks should be merged into a single mask for training, or kept separate for each object. In case of overlap, the smaller mask is overlaid on top of the larger mask during merge. |
| `mask_ratio` | `int` | `4` | åˆ†å‰²æ©ç çš„ä¸‹é‡‡æ ·ç‡ï¼Œå½±å“è®­ç»ƒæœŸé—´ä½¿ç”¨çš„æ©ç çš„åˆ†è¾¨ç‡ã€‚  Downsample ratio for segmentation masks, affecting the resolution of masks used during training. |
| `dropout` | `float` | `0.0` | åˆ†ç±»ä»»åŠ¡ä¸­æ­£åˆ™åŒ–çš„ dropout rateï¼Œé˜²æ­¢åœ¨è®­ç»ƒæœŸé—´é€šè¿‡éšæœºçœç•¥å•å…ƒæ¥è¿‡åº¦æ‹Ÿåˆã€‚  Dropout rate for regularization in classification tasks, preventing overfitting by randomly omitting units during training. |
| `val` | `bool` | `True` | åœ¨è®­ç»ƒæœŸé—´å¯ç”¨éªŒè¯ï¼Œå…è®¸åœ¨å•ç‹¬çš„æ•°æ®é›†ä¸Šå®šæœŸè¯„ä¼°æ¨¡å‹æ€§èƒ½ã€‚  Enables validation during training, allowing for periodic evaluation of model performance on a separate dataset. |
| `plots` | `bool` | `False` | ç”Ÿæˆå¹¶ä¿å­˜è®­ç»ƒå’ŒéªŒè¯æŒ‡æ ‡çš„å›¾ä»¥åŠé¢„æµ‹ç¤ºä¾‹ï¼Œæä¾›å¯¹æ¨¡å‹æ€§èƒ½å’Œå­¦ä¹ è¿›åº¦çš„å¯è§†åŒ–è§è§£ã€‚  Generates and saves plots of training and validation metrics, as well as prediction examples, providing visual insights into model performance and learning progression. |

## 4.æ¨¡å‹æ¨ç†

è®­ç»ƒç»“æœä¿å­˜åœ¨æ–‡ä»¶å¤¹runsä¸­

![](https://i-blog.csdnimg.cn/direct/5d206e606e8143898609918854d81937.png)

å°†my_predictå®æ—¶æ¨ç†.py çš„æ¨¡å‹æ¢æˆè‡ªå·±è®­ç»ƒçš„æ¨¡å‹å¹¶è¿è¡Œ