---
layout: post
title: "LabVIEW-cRIO中CSV文件的读取"
date: 2025-03-12 08:12:34 +0800
description: "通过上述方法，可在LabVIEW cRIO中高效读取CSV文件，适用于参数配置、数据记录等场景。尽管无法直接在cRIO中弹出文件对话框，但通过主机端选择+传输的方案，仍能实现灵活的文件管理。在LabVIEW cRIO中读取CSV文件，需通过文件传输、路径配置、数据解析等步骤实现。本文详细说明如何通过代码读取本地存储的CSV文件，并探讨直接通过对话框选择文件的可行性及替代方案。若读取失败，检查文件路径、分隔符格式及内存占用（大文件需分块读取）。：在cRIO中固定文件存储路径，通过程序逻辑动态加载最新文件。"
keywords: "LabVIEW cRIO中CSV文件的读取"
categories: ['Labview']
tags: ['Labview', 'Crio']
artid: "146194994"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146194994
    alt: "LabVIEW-cRIO中CSV文件的读取"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146194994
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146194994
cover: https://bing.ee123.net/img/rand?artid=146194994
image: https://bing.ee123.net/img/rand?artid=146194994
img: https://bing.ee123.net/img/rand?artid=146194994
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     LabVIEW cRIO中CSV文件的读取
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     在LabVIEW cRIO中读取CSV文件，需通过文件传输、路径配置、数据解析等步骤实现。本文详细说明如何通过代码读取本地存储的CSV文件，并探讨直接通过对话框选择文件的可行性及替代方案。
    </p>
    <hr/>
    <h4>
     <strong>
      一、CSV文件传输至cRIO本地存储
     </strong>
    </h4>
    <h5>
     <strong>
      1. 使用NI MAX文件管理
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       <strong>
        步骤
       </strong>
       ：
      </p>
      <ol>
       <li>
        <p>
         打开NI MAX（Measurement &amp; Automation Explorer）。
        </p>
       </li>
       <li>
        <p>
         连接目标cRIO设备，进入
         <strong>
          “文件”
         </strong>
         选项卡。
        </p>
       </li>
       <li>
        <p>
         选择路径（如
         <code>
          /c/
         </code>
         ），点击
         <strong>
          “上传”
         </strong>
         按钮，将本地CSV文件（如
         <code>
          sample.csv
         </code>
         ）传输至指定目录（如
         <code>
          /c/data/sample.csv
         </code>
         ）。
        </p>
       </li>
      </ol>
     </li>
    </ul>
    <h5>
     <strong>
      2. 使用FTP工具（推荐）
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       <strong>
        步骤
       </strong>
       ：
      </p>
      <ol>
       <li>
        <p>
         使用FileZilla等FTP客户端，连接cRIO的IP地址（端口21）。
        </p>
       </li>
       <li>
        <p>
         登录后，将文件上传至目标路径（如
         <code>
          /c/data/
         </code>
         ）。
        </p>
       </li>
      </ol>
     </li>
     <li>
      <p>
       <strong>
        优势
       </strong>
       ：支持批量上传，适合大型文件或多文件场景。
      </p>
     </li>
     <li>
      <p>
      </p>
      <p class="img-center">
       <img alt=" " height="1123" id="0.7679606651067543" src="https://i-blog.csdnimg.cn/img_convert/173633c0a9c66715c277be9dba0b2638.png" width="1965"/>
      </p>
     </li>
    </ul>
    <hr/>
    <h4>
     <strong>
      二、LabVIEW代码实现CSV读取
     </strong>
    </h4>
    <h5>
     <strong>
      1. 核心VI与流程
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       <strong>
        前面板控件
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         输入：文件路径（如
         <code>
          /c/data/sample.csv
         </code>
         ）。
        </p>
       </li>
       <li>
        <p>
         输出：二维数组（数据内容）、错误信息。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        程序框图步骤
       </strong>
       ：
      </p>
      <ol>
       <li>
        <p>
         <strong>
          路径构建
         </strong>
         ：
        </p>
        <ul>
         <li>
          <p>
           使用
           <strong>
            <code>
             Build Path.vi
            </code>
           </strong>
           （路径：
           <code>
            Programming -&gt; File I/O -&gt; Advanced File -&gt; Build Path
           </code>
           ），输入基路径（如
           <code>
            /c/
           </code>
           ）和子路径（如
           <code>
            data/sample.csv
           </code>
           ），生成完整路径。
          </p>
         </li>
        </ul>
       </li>
       <li>
        <p>
         <strong>
          打开文件
         </strong>
         ：
        </p>
        <ul>
         <li>
          <p>
           使用
           <strong>
            <code>
             Open/Create/Replace File.vi
            </code>
           </strong>
           （路径：
           <code>
            Programming -&gt; File I/O -&gt; Open/Create/Replace File
           </code>
           ），模式设为
           <code>
            open existing
           </code>
           ，权限设为
           <code>
            read-only
           </code>
           。
          </p>
         </li>
        </ul>
       </li>
       <li>
        <p>
         <strong>
          读取数据
         </strong>
         ：
        </p>
        <ul>
         <li>
          <p>
           <strong>
            方法1（完整读取）
           </strong>
           ：
           <br/>
           使用
           <strong>
            <code>
             Read Delimited Spreadsheet.vi
            </code>
           </strong>
           （路径：
           <code>
            Programming -&gt; File I/O -&gt; Read Delimited Spreadsheet
           </code>
           ），设置分隔符为逗号（
           <code>
            ,
           </code>
           ），格式字符串为
           <code>
            %f
           </code>
           （数值）或
           <code>
            %s
           </code>
           （字符串），输出二维数组。
          </p>
         </li>
         <li>
          <p>
           <strong>
            方法2（逐行读取）
           </strong>
           ：
           <br/>
           在While循环中结合
           <strong>
            <code>
             Read From Text File.vi
            </code>
           </strong>
           和
           <strong>
            <code>
             Spreadsheet String To Array.vi
            </code>
           </strong>
           ，分块处理大型文件。
          </p>
         </li>
        </ul>
       </li>
       <li>
        <p>
         <strong>
          关闭文件
         </strong>
         ：
        </p>
        <ul>
         <li>
          <p>
           使用
           <strong>
            <code>
             Close File.vi
            </code>
           </strong>
           释放资源。
          </p>
         </li>
        </ul>
       </li>
       <li>
        <p>
         <strong>
          错误处理
         </strong>
         ：
        </p>
        <ul>
         <li>
          <p>
           串联错误簇，通过
           <strong>
            <code>
             Simple Error Handler.vi
            </code>
           </strong>
           显示具体错误（如文件不存在、权限不足）。
          </p>
         </li>
        </ul>
       </li>
      </ol>
     </li>
    </ul>
    <h5>
     <strong>
      2. 参数配置示例
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       <strong>
        <code>
         Read Delimited Spreadsheet.vi
        </code>
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         <code>
          delimiter
         </code>
         ：
         <code>
          ,
         </code>
        </p>
       </li>
       <li>
        <p>
         <code>
          format string
         </code>
         ：
         <code>
          %f
         </code>
         （数值类型）
        </p>
       </li>
       <li>
        <p>
         <code>
          number of rows
         </code>
         ：
         <code>
          -1
         </code>
         （读取全部行）
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h4>
     <strong>
      三、通过对话框选择文件的可行性分析
     </strong>
    </h4>
    <h5>
     <strong>
      1. cRIO限制
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       <strong>
        实时系统无图形界面
       </strong>
       ：cRIO运行LabVIEW Real-Time系统，不支持直接弹出文件对话框。
      </p>
     </li>
     <li>
      <p>
       <strong>
        替代方案
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         <strong>
          主机端选择+传输
         </strong>
         ：在PC端LabVIEW程序中通过
         <strong>
          <code>
           File Dialog
          </code>
         </strong>
         控件选择文件，再通过FTP或网络共享传输至cRIO。
        </p>
       </li>
       <li>
        <p>
         <strong>
          预定义路径+动态加载
         </strong>
         ：在cRIO中固定文件存储路径，通过程序逻辑动态加载最新文件。
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <h5>
     <strong>
      2. 主机端对话框实现示例
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       <strong>
        步骤
       </strong>
       ：
      </p>
      <ol>
       <li>
        <p>
         在PC端LabVIEW程序中使用
         <strong>
          <code>
           File Dialog
          </code>
         </strong>
         控件（路径：
         <code>
          Programming -&gt; Dialog &amp; User Interface -&gt; File Dialog
         </code>
         ），设置文件类型过滤为
         <code>
          .csv
         </code>
         。
        </p>
       </li>
       <li>
        <p>
         将选中文件通过FTP上传至cRIO的
         <code>
          /c/data/
         </code>
         目录。
        </p>
       </li>
       <li>
        <p>
         cRIO程序读取该路径下的文件。
        </p>
       </li>
      </ol>
     </li>
    </ul>
    <hr/>
    <h4>
     <strong>
      四、实际应用场景
     </strong>
    </h4>
    <h5>
     <strong>
      案例：传感器校准参数加载
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       <strong>
        需求
       </strong>
       ：cRIO启动时自动加载校准参数文件（
       <code>
        /c/calibration/calib_params.csv
       </code>
       ）。
      </p>
     </li>
     <li>
      <p>
       <strong>
        实现
       </strong>
       ：
      </p>
      <ol>
       <li>
        <p>
         使用
         <strong>
          <code>
           Read Delimited Spreadsheet.vi
          </code>
         </strong>
         读取CSV文件。
        </p>
       </li>
       <li>
        <p>
         将二维数组传递至校准算法VI。
        </p>
       </li>
      </ol>
     </li>
     <li>
      <p>
       <strong>
        优势
       </strong>
       ：参数修改只需更新CSV文件，无需重新编译代码。
      </p>
     </li>
    </ul>
    <hr/>
    <h4>
     <strong>
      五、注意事项
     </strong>
    </h4>
    <ol>
     <li>
      <p>
       <strong>
        实时性
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         避免在高速循环中频繁读取文件，建议在初始化阶段一次性加载数据。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        路径规范
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         cRIO采用Linux系统，路径严格区分大小写（如
         <code>
          /c/
         </code>
         不能写为
         <code>
          /C/
         </code>
         ）。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        权限管理
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         确保文件权限允许LabVIEW进程访问（NI MAX中默认用户为
         <code>
          admin
         </code>
         ）。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        错误排查
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         若读取失败，检查文件路径、分隔符格式及内存占用（大文件需分块读取）。
        </p>
       </li>
      </ul>
     </li>
    </ol>
    <hr/>
    <h4>
     <strong>
      总结
     </strong>
    </h4>
    <p>
     通过上述方法，可在LabVIEW cRIO中高效读取CSV文件，适用于参数配置、数据记录等场景。尽管无法直接在cRIO中弹出文件对话框，但通过主机端选择+传输的方案，仍能实现灵活的文件管理。
    </p>
    <p>
    </p>
   </div>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470:733a2f2f626c6f672e6373646e2e6e65742f626a6379636b2f:61727469636c652f64657461696c732f313436313934393934" class_="artid" style="display:none">
 </p>
</div>


