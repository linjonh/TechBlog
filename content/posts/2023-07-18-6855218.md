---
layout: post
title: "一个按照包含字符串为条件搜索文件的perl程序"
date: 2023-07-18 14:04:03 +0800
description: "#! perl -wuse File::Find;if ($#ARGV != 0) {\tprint "
keywords: "perl 找出特定字符串的文件"
categories: ['未分类']
tags: ['String', 'Search', 'Perl', 'File']
artid: "6855218"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=6855218
  alt: "一个按照包含字符串为条件搜索文件的perl程序"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=6855218
featuredImagePreview: https://bing.ee123.net/img/rand?artid=6855218
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     一个按照包含字符串为条件搜索文件的perl程序
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <pre><code class="language-plain">#! perl -w

use File::Find;

if ($#ARGV != 0) {
print "Invalid Usage:\n";
print "Usage: perl browse_string.pl &lt;str&gt;\n";
exit;
}

$searchStr = shift @ARGV;

@files = ();

@directories_to_search = (".");
find(\&amp;wanted, @directories_to_search);
foreach $file (@files) {
	if (-d $file) {
	}
	else {
		open FILE, "&lt;".$file or die "cannot open file ".$file."\n";

    	while (&lt;FILE&gt;) {
    		if (/$searchStr/) {
    			print "$file\n";
    			last;
    		}
    	}
    	close FILE;
    }

}

sub wanted {
@files = (@files, $File::Find::name);
}</code></pre>
<p>
<br/>
用法："perl program.pl &lt;string&gt;"
</p>
<p>
搜索目录及子目录，如果文件中包含该字符串，则打印该文件。
</p>

   </div>
  </div>
 </article>
 <p alt="6874747073:3a2f2f626c6f672e6373646e2e6e65742f686f75686f757a68:652f61727469636c652f64657461696c732f36383535323138" class_="artid" style="display:none">
 </p>
</div>
