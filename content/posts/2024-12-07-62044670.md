---
layout: post
title: "kettle的数据库连接"
date: 2024-12-07 10:18:14 +0800
description: "在使用kettle，查询2个数据库中的表作为输入，输出到另外表中问题描述在mysql数据库中存在de"
keywords: "kettle outer join"
categories: ['Kettle']
tags: ['Kettle']
artid: "62044670"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=62044670
    alt: "kettle的数据库连接"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=62044670
featuredImagePreview: https://bing.ee123.net/img/rand?artid=62044670
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     kettle的数据库连接
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3 id="在使用kettle查询2个数据库中的表作为输入输出到另外表中">
     在使用kettle，查询2个数据库中的表作为输入，输出到另外表中
    </h3>
    <h5 id="问题描述">
     问题描述
    </h5>
    <pre><code>在mysql数据库中存在dept(部门表)，在oracle数据库中存在emp(员工表)，需要执行(SELECT d.*,e.* FROM dept d,emp e WHERE d.id=e.id;) 的操作进行查询。
</code></pre>
    <h5 id="使用kettle的查询数据库连接来完成">
     使用kettle的“查询”&gt;“数据库连接”来完成
    </h5>
    <p>
     <img alt="事例图片" src="http://i.imgur.com/suZyHpz.png" title=""/>
    </p>
    <h4 id="mysql-的-dept-与oracle-emp的表结构deptid与-empid进行关联">
     mysql 的 dept 与oracle emp的表结构(dept.id与 emp.id进行关联)
    </h4>
    <pre><code>mysql

mysql&gt; desc dept;
+----------+--------------+------+-----+---------+----------------+
| Field    | Type         | Null | Key | Default | Extra          |
+----------+--------------+------+-----+---------+----------------+
| ID       | int(11)      | NO   | PRI | NULL    | auto_increment |
| DEPTNAME | varchar(255) | YES  |     | NULL    |                |
+----------+--------------+------+-----+---------+----------------+
oracle emp

SQL&gt; desc emp;
Name  Type          Nullable Default Comments 
----- ------------- -------- ------- -------- 
EID   INTEGER       Y                         
ENAME VARCHAR2(255) Y                         
ID    INTEGER       Y    
</code></pre>
    <h4 id="1表输入-dept">
     1：表输入 dept
    </h4>
    <p>
     <img alt="mysql表输入" src="http://i.imgur.com/nD8PTgb.png" title=""/>
    </p>
    <h4 id="2oracle表输入">
     2：oracle表输入
    </h4>
    <p>
     <img alt="" src="http://i.imgur.com/o13LNQB.png" title="">
     </img>
    </p>
    <pre><code>1：Parameter参数字段取的是第一个表输入的字段。
2： 如果勾选了“Outer join” 默认是进行了左连接，类似以sql的SELECT d.* ,e.* FROM dept d LEFT JOIN emp e ON d.Id=e.id;
</code></pre>
    <h4 id="3-表输出">
     3： 表输出
    </h4>
    <pre><code>选中需要的字段进行输出
</code></pre>
    <p>
     <img alt="" src="http://i.imgur.com/Xm4b0mh.png" title=""/>
    </p>
    <h4 id="4结果">
     4：结果
    </h4>
    <p>
     <img alt="" src="http://i.imgur.com/cz2msHN.png" title=""/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f75303132383438373039:2f61727469636c652f64657461696c732f3632303434363730" class_="artid" style="display:none">
 </p>
</div>


