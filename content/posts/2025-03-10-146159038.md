---
layout: post
title: "Spring-Boot-整合-MyBatis-与-PostgreSQL-实战指南"
date: 2025-03-10 17:14:09 +0800
description: "在包下精心构建与数据库表结构对应的实体类，例如创建User@Data此处借助 Lombok 的@Data注解简化了常规的getsetequalshashCode等方法编写，若未引入 Lombok，需手动生成这些方法。于包内创建UserMapper接口，用@Mapper@Mapper。"
keywords: "Spring Boot 整合 MyBatis 与 PostgreSQL 实战指南"
categories: ['面试', '阿里巴巴', '学习路线']
tags: ['Spring', 'Postgresql', 'Mybatis', 'Boot']
artid: "146159038"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146159038
    alt: "Spring-Boot-整合-MyBatis-与-PostgreSQL-实战指南"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146159038
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146159038
cover: https://bing.ee123.net/img/rand?artid=146159038
image: https://bing.ee123.net/img/rand?artid=146159038
img: https://bing.ee123.net/img/rand?artid=146159038
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Spring Boot 整合 MyBatis 与 PostgreSQL 实战指南
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h5>
     <a id="Spring_Boot__MyBatis__PostgreSQL__4">
     </a>
     Spring Boot 整合 MyBatis 与 PostgreSQL 实战指南
    </h5>
    <ul>
     <li>
      <ul>
       <li>
        <a href="#_4" rel="nofollow">
         一、环境搭建与准备
        </a>
       </li>
       <li>
        <a href="#_Spring_Boot__10" rel="nofollow">
         二、创建 Spring Boot 项目
        </a>
       </li>
       <li>
        <a href="#_MyBatis__14" rel="nofollow">
         三、数据源与 MyBatis 配置
        </a>
       </li>
       <li>
        <a href="#_Mapper__34" rel="nofollow">
         四、实体类与 Mapper 接口定义
        </a>
       </li>
       <li>
        <a href="#_Mapper_XML__64" rel="nofollow">
         五、编写 Mapper XML 文件
        </a>
       </li>
       <li>
        <a href="#_85" rel="nofollow">
         六、业务层与控制层实现
        </a>
       </li>
       <li>
        <a href="#_143" rel="nofollow">
         七、测试与验证
        </a>
       </li>
      </ul>
     </li>
    </ul>
    <p>
     在当今的企业级 Java 开发场景中，Spring Boot 凭借其便捷的配置、快速启动能力，结合强大的持久层框架 MyBatis 以及开源关系型数据库 PostgreSQL，能够高效构建出稳定且高性能的应用系统。本文将详细介绍如何一步步完成这三者的无缝整合，助力开发者快速上手项目开发。
    </p>
    <h4>
     <a id="_16">
     </a>
     一、环境搭建与准备
    </h4>
    <ol>
     <li>
      <strong>
       JDK 安装
      </strong>
      ：确保本地环境已安装 JDK 8 及以上版本，通过在命令行输入
      <code>
       java -version
      </code>
      来验证安装情况及版本信息，确保 JDK 环境变量正确配置，以便后续项目编译与运行。
     </li>
     <li>
      <strong>
       Maven 配置
      </strong>
      ：安装并配置好 Maven，这是 Java 项目依赖管理与构建的利器。可在
      <code>
       settings.xml
      </code>
      文件中设置国内镜像源，如阿里云镜像，加速依赖包的下载速度，减少项目初始化时间。
     </li>
     <li>
      <strong>
       PostgreSQL 数据库安装
      </strong>
      ：前往 PostgreSQL 官方网站下载对应操作系统的安装包，依安装向导完成数据库服务的安装。安装过程中需牢记设置的超级用户（通常为 postgres）密码，后续连接数据库时会用到。创建好项目所需的数据库实例，例如名为
      <code>
       your_database
      </code>
      ，并记录下连接地址，格式一般为
      <code>
       jdbc:postgresql://localhost:5432/your_database
      </code>
      ，其中
      <code>
       5432
      </code>
      为默认端口号，依实际配置调整。
     </li>
    </ol>
    <h4>
     <a id="_Spring_Boot__22">
     </a>
     二、创建 Spring Boot 项目
    </h4>
    <p>
     借助 Spring Initializr 快速搭建项目基础架构，多数主流集成开发环境（如 IDEA、Eclipse 等）均内置此功能。创建新项目时，勾选
     <code>
      Web
     </code>
     、
     <code>
      MyBatis Framework
     </code>
     以及
     <code>
      PostgreSQL Driver
     </code>
     依赖项，Spring Initializr 会自动生成包含必要目录结构与初始配置文件的项目骨架，关键目录有
     <code>
      src/main/java
     </code>
     （用于存放 Java 源代码）、
     <code>
      src/main/resources
     </code>
     （放置配置文件、静态资源以及 MyBatis 的映射文件等）。
    </p>
    <h4>
     <a id="_MyBatis__26">
     </a>
     三、数据源与 MyBatis 配置
    </h4>
    <p>
     在
     <code>
      src/main/resources/application.properties
     </code>
     文件中精确配置 PostgreSQL 数据源信息：
    </p>
    <pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/your_database
spring.datasource.username=postgres
spring.datasource.password=your_password
spring.datasource.driver-class-name=org.postgresql.Driver
</code></pre>
    <p>
     注意将
     <code>
      your_password
     </code>
     替换为实际数据库密码，确保连接配置准确无误。
    </p>
    <p>
     紧接着配置 MyBatis，设置实体类别名扫描包路径，方便在 XML 映射文件中简洁引用实体类，同时指定 Mapper XML 文件的位置：
    </p>
    <pre><code>mybatis.type-aliases-package=com.example.demo.entity
mybatis.mapper-locations=classpath:mapper/*.xml
</code></pre>
    <h4>
     <a id="_Mapper__44">
     </a>
     四、实体类与 Mapper 接口定义
    </h4>
    <p>
     在
     <code>
      com.example.demo.entity
     </code>
     包下精心构建与数据库表结构对应的实体类，例如创建
     <code>
      User
     </code>
     实体类：
    </p>
    <pre><code>import lombok.Data;

@Data
public class User {
    private Long id;
    private String name;
    private Integer age;
}
</code></pre>
    <p>
     此处借助 Lombok 的
     <code>
      @Data
     </code>
     注解简化了常规的
     <code>
      get
     </code>
     、
     <code>
      set
     </code>
     、
     <code>
      equals
     </code>
     、
     <code>
      hashCode
     </code>
     等方法编写，若未引入 Lombok，需手动生成这些方法。
    </p>
    <p>
     于
     <code>
      com.example.demo.mapper
     </code>
     包内创建
     <code>
      UserMapper
     </code>
     接口，用
     <code>
      @Mapper
     </code>
     注解标记（若 Spring Boot 启动类所在包及其子包下的 Mapper 接口，可省略该注解，Spring 会自动扫描），定义数据库操作方法，像查询所有用户的方法签名：
    </p>
    <pre><code>import com.example.demo.entity.User;
import org.apache.ibatis.annotations.Mapper;
import java.util.List;

@Mapper
public interface UserMapper {
    List&lt;User&gt; getAllUsers();
}
</code></pre>
    <h4>
     <a id="_Mapper_XML__72">
     </a>
     五、编写 Mapper XML 文件
    </h4>
    <p>
     在
     <code>
      src/main/resources/mapper
     </code>
     目录下新建
     <code>
      UserMapper.xml
     </code>
     ，精心编写 SQL 语句与
     <code>
      UserMapper
     </code>
     接口方法相呼应：
    </p>
    <pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;
&lt;mapper namespace="com.example.demo.mapper.UserMapper"&gt;
    &lt;select id="getAllUsers" resultMap="BaseResultMap"&gt;
        SELECT * FROM users_table
    &lt;/select&gt;
    &lt;resultMap id="BaseResultMap" type="com.example.demo.entity.User"&gt;
        &lt;id property="id" column="id"/&gt;
        &lt;result property="name" column="name"/&gt;
        &lt;result property="age" column="age"/&gt;
    &lt;/resultMap&gt;
&lt;/mapper&gt;
</code></pre>
    <p>
     需留意
     <code>
      SELECT
     </code>
     语句中的表名
     <code>
      users_table
     </code>
     要与实际数据库中的表名一致，
     <code>
      resultMap
     </code>
     精准映射数据库列与实体类属性。
    </p>
    <h4>
     <a id="_92">
     </a>
     六、业务层与控制层实现
    </h4>
    <p>
     业务层
     <code>
      com.example.demo.service
     </code>
     包定义
     <code>
      UserService
     </code>
     接口及具体实现类
     <code>
      UserServiceImpl
     </code>
     ，业务逻辑层负责协调数据访问层（Mapper）与控制层间交互，在实现类中通过
     <code>
      @Autowired
     </code>
     注解注入
     <code>
      UserMapper
     </code>
     实例：
    </p>
    <pre><code>import com.example.demo.entity.User;
import java.util.List;

public interface UserService {
    List&lt;User&gt; getAllUsers();
}


import com.example.demo.mapper.UserMapper;
import com.example.demo.entity.User;
import org.springframework.stereotype.Service;
import java.util.List;
import javax.annotation.Resource;

@Service
public class UserServiceImpl implements UserService {
    @Resource
    private UserMapper userMapper;

    @Override
    public List&lt;User&gt; getAllUsers() {
        return userMapper.getAllUsers();
    }
}
</code></pre>
    <p>
     控制层
     <code>
      com.example.demo.controller
     </code>
     包创建
     <code>
      UserController
     </code>
     ，利用
     <code>
      @RestController
     </code>
     与
     <code>
      @RequestMapping
     </code>
     注解对外暴露
    </p>
    <pre><code>import com.example.demo.entity.User;
import com.example.demo.service.UserService;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;
import java.util.List;
import javax.annotation.Resource;

@RestController
@RequestMapping("/users")
public class UserController {
    @Resource
    private UserService userService;

    @GetMapping
    public List&lt;User&gt; getUsers() {
        return userService.getAllUsers();
    }
}
</code></pre>
    <h4>
     <a id="_145">
     </a>
     七、测试与验证
    </h4>
    <p>
     启动 Spring Boot 项目主类
     <code>
      DemoApplication
     </code>
     ，待项目成功启动后，在浏览器或 Postman 等工具中访问
     <code>
      http://localhost:8080/users
     </code>
     （端口号依
     <code>
      application.properties
     </code>
     中
     <code>
      server.port
     </code>
     配置而定，路径依
     <code>
      @RequestMapping
     </code>
     设定），若数据库
     <code>
      your_database
     </code>
     的
     <code>
      users_table
     </code>
     表中有数据，此时应能看到以 JSON 格式返回的用户信息列表，这意味着整合大功告成。
    </p>
    <p>
     后续可依据项目实际需求进一步拓展复杂业务逻辑，深入探索 MyBatis 的高级特性如动态 SQL、缓存机制，以及 Spring Boot 的诸多实用功能，像安全认证、性能调优等，持续优化应用系统性能与功能完整性，开启高效稳健的后端开发征程。
    </p>
    <p>
     上述代码片段仅为基础整合示例，实际项目开发中需紧密贴合业务场景灵活调整优化，愿此教程成为您技术进阶路上的得力助手。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f62727264675f736566672f:61727469636c652f64657461696c732f313436313539303338" class_="artid" style="display:none">
 </p>
</div>


