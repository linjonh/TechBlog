---
layout: post
title: 2024-12-12-åä¸ºäº‘äº‘è€€äº‘æœåŠ¡å™¨Lå®ä¾‹è¯„æµ‹centos7.9-é…ç½®pythonè™šæ‹Ÿç¯å¢ƒ-è¿è¡Œdjango
date: 2024-12-12 11:02:47 +08:00
categories: ['Web']
tags: ['Python', 'åä¸º', 'æœåŠ¡å™¨', 'Django', 'åä¸ºäº‘äº‘è€€æœåŠ¡å™¨Lå®ä¾‹']
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=133238305
  alt: åä¸ºäº‘äº‘è€€äº‘æœåŠ¡å™¨Lå®ä¾‹è¯„æµ‹centos7.9-é…ç½®pythonè™šæ‹Ÿç¯å¢ƒ-è¿è¡Œdjango
artid: 133238305
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=133238305
featuredImagePreview: https://bing.ee123.net/img/rand?artid=133238305
---

# åä¸ºäº‘äº‘è€€äº‘æœåŠ¡å™¨Lå®ä¾‹è¯„æµ‹ï½œcentos7.9 é…ç½®pythonè™šæ‹Ÿç¯å¢ƒ è¿è¡Œdjango

#### æ–‡ç« ç›®å½•

* + [â­å‰è¨€](#_4)
  + [â­å®‰è£…python](#python_29)
  + - [ğŸ’– wgetä¸‹è½½](#x1F496_wget_36)
    - [ğŸ’– é€‰æ‹©å®‰è£…ä½ç½®](#x1F496__42)
  + [â­pipå®‰è£…è™šæ‹Ÿç¯å¢ƒ](#pip_56)
  + - [ğŸ’– pip3å®‰è£… virtualenv](#x1F496__pip3_virtualenv_58)
    - [ğŸ’– åˆ›å»ºç›®å½•å­˜æ”¾pythonè™šæ‹Ÿç¯å¢ƒ](#x1F496__python_67)
  + [â­å®‰è£…django](#django_87)
  + - [ğŸ’– æŒ‡å®šç«¯å£è¿è¡Œdjango](#x1F496__django_92)
    - [ğŸ’– è¿œç¨‹è®¿é—®](#x1F496___150)
  + [â­æ€»ç»“](#_190)
  + [â­ç»“æŸ](#_228)

  
![huawei-logo](https://i-blog.csdnimg.cn/blog_migrate/7b7568bc78a92d771034420f2675a390.png)

![yma16-logo](https://i-blog.csdnimg.cn/blog_migrate/3c822665b8199f151b94601d552d1d31.gif#pic_center)

### â­å‰è¨€

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯yma16ï¼Œæœ¬æ–‡åˆ†äº«å…³äºåä¸ºäº‘äº‘è€€äº‘æœåŠ¡å™¨Lå®ä¾‹è¯„æµ‹ï½œcentos7.9é…ç½®pythonè™šæ‹Ÿç¯å¢ƒ è¿è¡Œdjangoã€‚
  
**è¯¥ç³»åˆ—å¾€æœŸæ–‡ç« **
  
[åä¸ºäº‘äº‘è€€äº‘æœåŠ¡å™¨Lå®ä¾‹è¯„æµ‹ï½œåˆå§‹åŒ–centosé•œåƒåˆ°å®‰è£…nginxéƒ¨ç½²å‰ç«¯vueã€reacté¡¹ç›®](https://yma16.blog.csdn.net/article/details/132867324)
  
[åä¸ºäº‘äº‘è€€äº‘æœåŠ¡å™¨Lå®ä¾‹è¯„æµ‹ï½œcentos7.9åœ¨çº¿ä½¿ç”¨cloudShellä¸‹è½½rpmè§£å‹åŒ…å®‰è£…mysqlå¹¶å¼€å¯è¿œç¨‹è®¿é—®](https://blog.csdn.net/qq_38870145/article/details/132956148)
  
[åä¸ºäº‘äº‘è€€äº‘æœåŠ¡å™¨Lå®ä¾‹è¯„æµ‹ï½œcentos7.9é…ç½®javaç¯å¢ƒå˜é‡å®‰è£…tomcat éƒ¨ç½²warå’Œjar](https://blog.csdn.net/qq_38870145/article/details/133228687)
  
**pythonå‰æ™¯**
  
ä»¥ä¸‹æ˜¯Pythonå‘å±•è¶‹åŠ¿ï¼š

1. Pythonçš„ä½¿ç”¨ç‡è¶Šæ¥è¶Šé«˜ï¼šPythonæ˜¯ç›®å‰æœ€å—æ¬¢è¿çš„ç¼–ç¨‹è¯­è¨€ä¹‹ä¸€ã€‚å®ƒè¢«å¹¿æ³›åº”ç”¨äºå„ç§é¢†åŸŸï¼Œä¾‹å¦‚ï¼šæ•°æ®ç§‘å­¦ã€äººå·¥æ™ºèƒ½ã€æœºå™¨å­¦ä¹ ã€Webå¼€å‘ç­‰ã€‚
2. Pythonçš„ç¤¾åŒºæ­£åœ¨ä¸æ–­å£®å¤§ï¼šPythonæ‹¥æœ‰ä¸€ä¸ªåºå¤§çš„ç¤¾åŒºï¼Œå…¶ä¸­æœ‰æˆåƒä¸Šä¸‡çš„å¼€å‘è€…ç§¯æå‚ä¸å¼€æºé¡¹ç›®ã€æä¾›è§£å†³æ–¹æ¡ˆå’Œæ”¯æŒã€‚è¿™ä½¿å¾—Pythonæˆä¸ºä¸€ä¸ªéå¸¸æ´»è·ƒçš„ç¤¾åŒºï¼Œèƒ½å¤Ÿä¸æ–­åœ°æé«˜å¼€å‘è€…çš„æŠ€èƒ½å’ŒçŸ¥è¯†ã€‚
3. Pythonçš„å·¥å…·å’Œæ¡†æ¶è¶Šæ¥è¶Šå¤šï¼šPythonæ‹¥æœ‰å¤§é‡çš„å·¥å…·å’Œæ¡†æ¶ï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥æ›´å¿«é€Ÿã€æ›´é«˜æ•ˆåœ°å®Œæˆé¡¹ç›®ï¼Œä»è€Œå‡å°‘é‡å¤æ€§çš„å·¥ä½œå’Œé”™è¯¯ç‡ã€‚
4. Pythonå¯¹Webå¼€å‘çš„æ”¯æŒï¼šPythonå¯¹Webå¼€å‘çš„æ”¯æŒéå¸¸å¥½ï¼Œå¤§é‡çš„Webæ¡†æ¶ï¼Œå¦‚Djangoã€Flaskã€Tornadoç­‰ï¼Œä½¿å¾—Webå¼€å‘å˜å¾—æ›´åŠ å®¹æ˜“å’Œé«˜æ•ˆã€‚
5. Pythonçš„äººå·¥æ™ºèƒ½å’Œæœºå™¨å­¦ä¹ æ”¯æŒï¼šPythonåœ¨äººå·¥æ™ºèƒ½å’Œæœºå™¨å­¦ä¹ é¢†åŸŸæ‹¥æœ‰å¹¿æ³›çš„åº”ç”¨ï¼Œå¦‚TensorFlowã€PyTorchç­‰æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œä½¿å¾—äººå·¥æ™ºèƒ½å’Œæœºå™¨å­¦ä¹ çš„å¼€å‘æ›´åŠ ä¾¿æ·å’Œé«˜æ•ˆã€‚
6. Pythonçš„è·¨å¹³å°ç‰¹æ€§ï¼šPythonæ˜¯ä¸€ç§è·¨å¹³å°è¯­è¨€ï¼Œå¯ä»¥åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿå’Œå¹³å°ä¸Šè¿è¡Œï¼Œå¹¶ä¸”æ”¯æŒå¤šç§ç¡¬ä»¶æ¶æ„ã€‚

æ€»ä¹‹ï¼ŒPythonå…·æœ‰å¾ˆå¼ºçš„é€‚åº”æ€§å’Œçµæ´»æ€§ï¼Œéšç€äººå·¥æ™ºèƒ½ã€æœºå™¨å­¦ä¹ å’ŒWebå¼€å‘çš„å¤§åŠ›å‘å±•ï¼ŒPythonçš„æœªæ¥å‘å±•å‰æ™¯éå¸¸å¹¿é˜”ã€‚
  
**djangoæ˜¯ä»€ä¹ˆ**
  
Djangoæ˜¯ä¸€ä¸ªç”¨äºWebå¼€å‘çš„é«˜çº§Python Webæ¡†æ¶ã€‚å®ƒéµå¾ªMVCï¼ˆModel-View-Controllerï¼‰æ¶æ„æ¨¡å¼ï¼Œä½¿å¼€å‘è€…èƒ½å¤Ÿè½»æ¾åœ°æ„å»ºé«˜æ•ˆä¸”æ˜“äºç»´æŠ¤çš„Webåº”ç”¨ç¨‹åºã€‚Djangoæä¾›äº†è®¸å¤šå·¥å…·å’Œåº“ï¼Œç®€åŒ–äº†Webåº”ç”¨ç¨‹åºçš„å¼€å‘å’Œç»´æŠ¤è¿‡ç¨‹ï¼ŒåŒ…æ‹¬ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰ï¼Œè·¯ç”±ï¼Œæ¨¡æ¿å¼•æ“å’Œè¡¨å•å¤„ç†ç­‰ã€‚Djangoè¿˜æ”¯æŒå¯å¤ç”¨çš„åº”ç”¨ç¨‹åºï¼Œä½¿å¤šä¸ªWebåº”ç”¨ç¨‹åºä¹‹é—´çš„ä»£ç å…±äº«å˜å¾—æ›´åŠ å®¹æ˜“ã€‚

### â­å®‰è£…python

æ§åˆ¶å°ï¼š
<https://console.huaweicloud.com/ecm/>
  
åä¸ºäº‘äº‘è€€æœåŠ¡å™¨é€‰æ‹©è¿œç¨‹ç™»å½•è¿›å…¥cloudShellã€‚
  
![huawei-cloudShell](https://i-blog.csdnimg.cn/blog_migrate/8e002de0dfe3c5195d6f9f0c6cf53bd0.png)

é€‰æ‹© pythonç‰ˆæœ¬ä¸‹è½½ï¼š
<https://www.python.org/downloads/>

#### ğŸ’– wgetä¸‹è½½

ä¸‹è½½taråŒ…è§£å‹

```bash
$ wget https://www.python.org/ftp/python/3.7.6/Python-3.7.6.tgz
$ tar -zxvf Python-3.7.6.tgz

```

#### ğŸ’– é€‰æ‹©å®‰è£…ä½ç½®

åˆ›å»º /usr/local/python3ç›®å½•ç”¨äºå®‰è£…python3ï¼Œln -s å»ºç«‹è½¯é“¾æ¥ï¼ˆä¸ªäººç†è§£ç›¸å½“äºwindowså¿«æ·æ–¹å¼ï¼‰

```bash
$ yum install readline-devel
$ mkdir -p /usr/local/python3
$ ./configure --prefix=/usr/local/python3
$ make && make install
$ ln -s /usr/local/python3/bin/python3.7 /usr/bin/python3
$ ln -s /usr/local/python3/bin/pip3.7 /usr/bin/pip3

```

å®‰è£…æˆåŠŸï¼ŒæŸ¥çœ‹python3ç‰ˆæœ¬
`python3 -V`
  
![python-v](https://i-blog.csdnimg.cn/blog_migrate/50f866bf7deaeb8f7dfe639cbce77df2.png)

### â­pipå®‰è£…è™šæ‹Ÿç¯å¢ƒ

virtualenvæ˜¯Pythonçš„ä¸€ä¸ªå·¥å…·ï¼Œå®ƒå¯ä»¥åˆ›å»ºç‹¬ç«‹çš„Pythonç¯å¢ƒã€‚ä½¿ç”¨virtualenvå¯ä»¥åœ¨åŒä¸€å°è®¡ç®—æœºä¸Šåˆ›å»ºå¤šä¸ªç‹¬ç«‹çš„Pythonç¯å¢ƒï¼Œæ¯ä¸ªç¯å¢ƒå¯ä»¥å®‰è£…ä¸åŒç‰ˆæœ¬çš„Pythonå’ŒPythonåº“ï¼Œé¿å…äº†ä¸åŒé¡¹ç›®ä¹‹é—´Pythonåº“ä¹‹é—´çš„ç‰ˆæœ¬å†²çªã€‚è¿™å¯¹äºPythonçš„å¼€å‘è€…æ¥è¯´éå¸¸æœ‰ç”¨ã€‚

#### ğŸ’– pip3å®‰è£… virtualenv

pip3å®‰è£… åè¿›è¡Œè½¯é“¾æ¥

```bash
$ pip3 install virtualenv
$ $ ln -s /usr/local/python3/bin/virtualenv /usr/bin/virtualenv

```

å®‰è£…æˆåŠŸï¼
  
![install](https://i-blog.csdnimg.cn/blog_migrate/89a0d113a515cec86d6687b249a1d2e1.png)

#### ğŸ’– åˆ›å»ºç›®å½•å­˜æ”¾pythonè™šæ‹Ÿç¯å¢ƒ

é…ç½®è™šæ‹Ÿç¯å¢ƒåˆ°æŒ‡å®šç›®å½•/python_virtualï¼Œé…ç½®pywebçš„è™šæ‹Ÿpythonç¯å¢ƒ

```bash
$ mkdir -p /python_virtual
$ cd /python_virtual
$ virtualenv --python=/usr/bin/python3 pyweb

```

![virtual](https://i-blog.csdnimg.cn/blog_migrate/a9d8d7c00cb935f4ad82ebc696929c0b.png)

è¿›å…¥è™šæ‹Ÿç¯å¢ƒ

```bash
$ cd /python_virtual/pyweb/bin
$ source activate

```

é€€å‡ºè™šæ‹Ÿç¯å¢ƒ

```bash
$ deactivate

```

### â­å®‰è£…django

å®‰è£… django

```bash
$pip3 install django

```

#### ğŸ’– æŒ‡å®šç«¯å£è¿è¡Œdjango

è™šæ‹Ÿç¯å¢ƒä¸‹åˆ›å»ºdjango_projectsåˆå§‹åŒ–djangoçš„mysiteé¡¹ç›®

```bash
$ mkdir -p /django_projects
$ cd /django_projects/
$ django-admin startproject mysite
$ cd mysite/

```

![start-app](https://i-blog.csdnimg.cn/blog_migrate/28bdecd551d52bbda546029f2fb5e9ef.png)
å¦‚æœsqliteç‰ˆæœ¬ä½å‡çº§slite
  
<https://www.sqlite.org/download.html>

```bash
$ cd /usr/local/src
$ wget http://www.sqlite.org/2021/sqlite-autoconf-3360000.tar.gz
$ tar -zxvf sqlite-autoconf-3360000.tar.gz
$ cd sqlite-autoconf-3360000
$ ./configure --prefix=/usr/local/sqlite
$ make && make install


```

æ›¿æ¢ç‰ˆæœ¬

```bash
$ mv /usr/bin/sqlite3 /usr/bin/sqlite3_bak
$ cd /usr/local/sqlite/bin/
$ ln -s sqlite3 /usr/bin/sqlite3
$ vim /etc/profile
#æ·»åŠ å†…å®¹
export LD_LIBRARY_PATH="/usr/local/sqlite/lib"

```

![sqlite](https://i-blog.csdnimg.cn/blog_migrate/ba2e4f18b8b1ded6a65b181e61c293c6.png)
  
æ•°æ®è¿ç§» migrate

```bash
$ python manage.py migrate
$ python manage.py makemigrations

```

![migrate](https://i-blog.csdnimg.cn/blog_migrate/808a6f53e6a475db9070caf6c6035cac.png)
  
æŒ‡å®šç«¯å£è¿è¡Œ
  
localhostæœ¬åœ°è¿è¡Œï¼Œæ”¹ä¸º0å¯ä»¥è®©å±€åŸŸç½‘è®¿é—®

```bash
$ python manage.py runserver localhost:8000
$ python manage.py runserver 0:8000

```

è¿è¡ŒæˆåŠŸï¼
  
![port-server](https://i-blog.csdnimg.cn/blog_migrate/148dfccc397acef243af1d262d21bb05.png)

nginx proxy_passä»£ç†django
  
nginx.conf ä»£ç†djangoæœåŠ¡

```bash
# ä»£ç† django
location /django-back{
		proxy_pass http://localhost:8000;
	}

```

![ngin proxy](https://i-blog.csdnimg.cn/blog_migrate/9ed355f5a5a487e67932031d26f3a9ed.png)

#### ğŸ’– è¿œç¨‹è®¿é—®

è¿œç¨‹è®¿é—® ip:80/django-backè¿›å…¥djangoçš„è·¯ç”±
  
![router](https://i-blog.csdnimg.cn/blog_migrate/1a458ecd190536babd3e5c685c54fe23.png)
  
æ—¥å¿—
  
![router-path](https://i-blog.csdnimg.cn/blog_migrate/931999a3af424453bba5486079282388.png)
  
å› ä¸ºæ²¡æœ‰é…ç½®è·¯ç”±æ‰€ä»¥404 not foundè¿™æ˜¯æ­£å¸¸ç°è±¡
  
åœ¨cloudShellæ·»åŠ è·¯ç”±
  
![router-url](https://i-blog.csdnimg.cn/blog_migrate/b1e9d94afa26ad4f7ccc3932d3c7f3ff.png)
  
url.py

```python
from django.contrib import admin
from django.urls import path
from django.http import JsonResponse

def index(request):
    return JsonResponse({
        'code':200,
        'data':'welcome to django appplication!'
    })


urlpatterns = [
    path('admin/', admin.site.urls),
    path('django-back/', index,name='index'),
]


```

è®¿é—®è¿”å›jsonæˆåŠŸï¼Œæ˜¾ç¤º

```bash
{
  "code": 200,
  "data": "welcome to django appplication!"
}

```

<http://121.36.66.2/django-back/>
  
![home](https://i-blog.csdnimg.cn/blog_migrate/775de2a94388dcea9aecb9118421a9bb.png)

### â­æ€»ç»“

pip3 install å®‰è£… æ…¢å¯ä»¥è€ƒè™‘åˆ‡æ¢é•œåƒ
  
å¸¸ç”¨pipé•œåƒ

> æ¸…åï¼šhttps://pypi.tuna.tsinghua.edu.cn/simple/
>   
> é˜¿é‡Œäº‘ï¼šhttp://mirrors.aliyun.com/pypi/simple/
>   
> ä¸­å›½ç§‘æŠ€å¤§å­¦ï¼šhttps://pypi.mirrors.ustc.edu.cn/simple/
>   
> åä¸­ç§‘æŠ€å¤§å­¦ï¼šhttp://pypi.hustunique.com/simple/
>   
> ä¸Šæµ·äº¤é€šå¤§å­¦ï¼šhttps://mirror.sjtu.edu.cn/pypi/web/simple/
>   
> è±†ç“£ï¼šhttp://pypi.douban.com/simple/

ç”¨æ³•

```bash
$ pip3 install -i é•œåƒsimpleç½‘å€ --trusted-host é•œåƒåŸŸå æ‰€éœ€è¦å®‰è£…çš„åº“å

```

djangoçš„æœåŠ¡æ¸²æŸ“jsonå¯ä»¥ç”¨nginxçš„proxy_passæŠ›å‡ºå»
  
**pythonè™šæ‹Ÿç¯å¢ƒçš„ä¼˜åŠ¿**
  
è™šæ‹Ÿç¯å¢ƒæ˜¯ä¸€ä¸ªéš”ç¦»çš„Pythonç¯å¢ƒï¼Œå¯ä»¥é¿å…åœ¨åŒä¸€ç³»ç»Ÿä¸Šå®‰è£…çš„PythonåŒ…ä¹‹é—´å‘ç”Ÿå†²çªï¼Œä»è€Œæä¾›æ›´å¥½çš„åº”ç”¨ç¨‹åºéš”ç¦»å’Œå¼€å‘ç¯å¢ƒç®¡ç†ã€‚ä»¥ä¸‹æ˜¯è™šæ‹Ÿç¯å¢ƒPythonçš„å¥½å¤„ï¼š

1. é˜²æ­¢Pythonè½¯ä»¶åŒ…ä¹‹é—´çš„å†²çªï¼Œä¿æŒPythonç¯å¢ƒçš„å¹²å‡€å’Œæ•´æ´ã€‚
2. åœ¨å¤šä¸ªé¡¹ç›®ä¹‹é—´ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„PythonåŒ…ï¼Œè€Œä¸å½±å“å…¶ä»–é¡¹ç›®çš„è¿è¡Œã€‚
3. å®‰è£…æ–°çš„PythonåŒ…æˆ–æ›´æ–°ç°æœ‰çš„PythonåŒ…æ—¶ï¼Œä¸ä¼šå½±å“å…¨å±€Pythonç¯å¢ƒã€‚
4. æ–¹ä¾¿Pythonå¼€å‘äººå‘˜å…±äº«ç¯å¢ƒï¼Œå°¤å…¶æ˜¯åœ¨å›¢é˜Ÿåˆä½œä¸­ã€‚
5. å¿«é€Ÿæ¸…ç†è™šæ‹Ÿç¯å¢ƒï¼Œå¯ä»¥æ–¹ä¾¿åœ°å¸è½½è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…çš„è½¯ä»¶åŒ…ï¼Œä»¥èŠ‚çœç£ç›˜ç©ºé—´ã€‚

è™šæ‹Ÿç¯å¢ƒå¯ä»¥ä½¿ç”¨Pythonå†…ç½®çš„venvæ¨¡å—åˆ›å»ºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹å·¥å…·å¦‚Condaã€virtualenvå’ŒPipenvåˆ›å»ºã€‚

**åä¸ºäº‘äº‘è€€äº‘æœåŠ¡å™¨Lå®ä¾‹æ­å»ºè¿‡ç¨‹èµ„æºæ¶ˆè€—**
  
æŸ¥çœ‹æ§åˆ¶å°ï¼Œcpuçš„ä½¿ç”¨ç‡ä¹Ÿéå¸¸ä½ï¼Œè¯´æ˜é…ç½®python djangoå¯¹æœåŠ¡å™¨æŸè€—å¾ˆå°‘ã€‚
  
![console-data](https://i-blog.csdnimg.cn/blog_migrate/5c4ffebfb14c754a0a51601f98f210ee.png)
  
æ€åŠ¿æ„ŸçŸ¥æœåŠ¡å™¨çš„è¿è¡ŒçŠ¶æ€ï¼Œååˆ†ç›´è§‚ï¼Œä¸€ç›®äº†ç„¶ã€‚

### â­ç»“æŸ

æœ¬æ–‡åˆ†äº«åˆ°è¿™ç»“æŸï¼Œå¦‚æœ‰é”™è¯¯æˆ–è€…ä¸è¶³ä¹‹å¤„æ¬¢è¿æŒ‡å‡ºï¼
  
![earth](https://i-blog.csdnimg.cn/blog_migrate/9e39227e4c039fce5ffc7a16f1329046.png)

> ğŸ‘ ç‚¹èµï¼Œæ˜¯æˆ‘åˆ›ä½œçš„åŠ¨åŠ›ï¼
>   
> â­ï¸ æ”¶è—ï¼Œæ˜¯æˆ‘åŠªåŠ›çš„æ–¹å‘ï¼
>   
> âœï¸ è¯„è®ºï¼Œæ˜¯æˆ‘è¿›æ­¥çš„è´¢å¯Œï¼
>   
> ğŸ’– æœ€åï¼Œæ„Ÿè°¢ä½ çš„é˜…è¯»ï¼

68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f33383837303134352f:61727469636c652f64657461696c732f313333323338333035