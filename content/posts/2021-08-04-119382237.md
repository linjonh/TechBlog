---
layout: post
title: "阿里云马涛什么是操作系统的云原生"
date: 2021-08-04 13:49:52 +0800
description: "简介：云原生已经成为IT界最流行的一个定语，似乎不谈云原生就out了，但什么才是真正的云原生？注：本"
keywords: "云原生操作系统 是什么"
categories: ['云栖号技术分享']
tags: ['云原生', 'Serverless']
artid: "119382237"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=119382237
    alt: "阿里云马涛什么是操作系统的云原生"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=119382237
featuredImagePreview: https://bing.ee123.net/img/rand?artid=119382237
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     阿里云马涛：什么是操作系统的云原生？
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     <strong>
      简介：
     </strong>
     云原生已经成为IT界最流行的一个定语，似乎不谈云原生就out了，但什么才是真正的云原生？
    </p>
    <p>
     注：本文作者马涛，阿里云智能研究员、阿里巴巴集团内核团队创始人之一、阿里云基础软件部操作系统团队负责人。先后在ORACLE、阿里巴巴负责Linux以及操作系统内核相关的研发工作。十五年以上操作系统和内核相关研发经验，国内知名Linux内核研发人员，在文件系统、内存管理、通用块设备层等方面均有深厚的积累，多次受邀在国内外知名Linux操作系统以及内核相关会议上发表讲座。
    </p>
    <p style="text-align:center;">
     <img alt="640 (1).png" src="https://i-blog.csdnimg.cn/blog_migrate/1858406ff5ccb4a9a576a4fb4f9b862c.png"/>
    </p>
    <p>
     现在我们在各个场合可以看到各种各样的“云原生XXX”，云原生已经成为IT界最流行的一个定语，似乎不谈云原生就out了。但什么才是真正的云原生？把老的技术跑在云上就可以了么？貌似不太行！用阿里云高级研究员蒋江伟的一句话来定义——“因云而生才是云原生”。简单来说，一个产品或者技术要能真正加上云原生这个定语，一定要
     <strong>
      有因云而生的创新和演进
     </strong>
     ，所以想加上云原生这个定语可不是容易的。如果各位读者感兴趣，可以上网搜索文章“阿里云蒋江伟：什么是真正的云原生？”
    </p>
    <p>
     今天，我就毛遂自荐来讲讲
     <strong>
      云原生操作系统
     </strong>
     。
    </p>
    <p>
     大家可能比较好奇，操作系统不是所有用电脑的人每天都在使用的玩意么？“操作系统原理”不是一般计算机系同学的第一门艰深的专业课么？现在最流行的操作系统Linux不是1991年就由Linus Torvalds大神创立了么？以上问题的答案都是肯定的，那么，这么一个颇为传统的系统软件也可以云原生了么？对，操作系统也要与时俱进！所以，今天我站在操作系统的角度，来谈谈这个颇为传统的系统软件是如何因云而生、因云而变，成为“云原生操作系统”的。
    </p>
    <p>
     在展开讲技术之前，我先简单介绍一下自己。我是从2006年开始与操作系统结缘的，最开始是在Oracle从事操作系统的开发工作，2010年加入淘宝核心系统做操作系统，作为阿里最早一批做操作系统的同学，从淘宝到阿里云一直坚守在操作系统领域，一路参与和见证了操作系统在阿里因云而生的演进发展。虽然淘宝也是一家互联网公司，但是淘宝的操作系统和传统的操作系统其实区别并不大。一切因云而生的改变从我2012年从淘宝转入阿里云开始。
    </p>
    <p>
     那个时候，阿里云的操作系统和淘宝的有区别么？客观来说区别不大。唯一的一点点区别：在淘宝，操作系统是淘宝的一个基础组件；而在阿里云，操作系统和虚拟化成为了第一代云计算的基石，这是操作系统和云的第一次亲密接触。
    </p>
    <p>
     2000年左右，VMware和Xen虚拟化技术相继出现，操作系统通过将
     <strong>
      物理资源虚拟化
     </strong>
     达到
     <strong>
      提高资源利用率和灵活调度
     </strong>
     的目的，最终催生了云计算的诞生。早期的AWS、阿里云都是利用这一技术提供虚拟主机的服务。这是云原生么，是因云而生的么？当然不是。首先这些云厂商大都是在线下硬件上实现一个虚拟化层（hypervisor），把原来直接操控硬件的操作系统架到hypervisor上运行，然后服务器物理资源层面的抽象和管理都由hypervisor重新实现。那么，这个事情线下能做么？绝对可以，所以显然这不符合云原生的定义。虽说这是云的开端，但这不是云原生的。
    </p>
    <p>
     时间来到了2013年，操作系统和云的第二次亲密接触源于容器的诞生和发展
     <strong>
      。
     </strong>
     与虚拟机的服务器资源虚拟化不同，容器是操作系统虚拟化，在技术栈上上升了一层——通过内核里实现的cgroup和namespace等技术为不同应用提供轻量、隔离的运行环境。2013年docker的横空出世，
     <strong>
      使得应用容器的打包分发变得非常简单易用
     </strong>
     ，随后k8s等容器编排技术的出现，容器生态系统得到了快速的普及和发展，容器也迅速成为应用打包分发和开发测试的主流形态，逐渐成为云计算的主要运行单元。
    </p>
    <p style="text-align:center;">
     <img alt="IMG_1918.png" src="https://i-blog.csdnimg.cn/blog_migrate/9c5eaac0c131d416f77cede7d07f70a4.png"/>
    </p>
    <p>
     这就是CNCF定义的云原生了，但它只是“狭义”的，操作系统在这个“狭义”云原生中起到了很大的作用，但其实它并不是真正意义上的“因云而生的”，也没有在云上体现任何革命性的技术革新。
    </p>
    <p>
     不过仔细观察一下上图，我们可以发现——容器在安全方面的不足在云上成为了一个大问题。一方面传统的操作系统对于容器之间的干扰问题没有很好的解决方案，另一方面容器之间还存在彼此攻击，共享一些关键资源等非常严重的安全问题。机会总是留给有准备的人，此时的操作系统终于需要因云而变、为云演进了。我们基于操作系统实现了轻量级虚拟化和应用内核等技术，打造了一种全新的安全的容器，我们称之为
     <strong>
      安全沙箱容器
     </strong>
     。
    </p>
    <p>
     沙箱容器在解决容器安全隔离问题的同时，仍然保留容器完整的技术生态和体验，可以跟普通容器无缝的混合使用。这是操作系统在容器场景上因云而生的一个重要演进，至此
     <strong>
      操作系统完成了“因云而生”的漂亮转型，成为一个云原生操作系统
     </strong>
     。目前这套系统已经服务于阿里集团各个云原生相关业务，也通过阿里云上各种容器实例产品服务于我们的云客户。
    </p>
    <p style="text-align:center;">
     <img alt="IMG_1919.png" src="https://i-blog.csdnimg.cn/blog_migrate/5e043c362f27e71257a6537ba5e9edd4.png"/>
    </p>
    <p>
     故事到这里还没有结束。面向未来的云原生，操作系统如何继续“因云而与众不同”呢？这就不得不提云原生中另外一个趋势Serverless
     <strong>
      。
     </strong>
    </p>
    <p>
     2019年，UC伯克利大学预测Serverless将会逐渐取代Serverful计算，成为云时代的新计算范式。随着云原生理念的推广以及各种云原生技术的不断发展，Serverless计算的趋势在加速。在这种新场景中，用户只需要专注于应用和业务逻辑，更多的通用功能、资源和系统能力都下沉到云，用户不需要提前规划容量，不需要运维底层系统，可以真正像用水、用电一样按需使用按需付费，Serverless将大幅提升云的生产效率。
    </p>
    <p style="text-align:center;">
     <img alt="IMG_1920.png" src="https://i-blog.csdnimg.cn/blog_migrate/bb2ce83787eb0758e4f471766c24a4f8.png"/>
    </p>
    <p>
     背景介绍完，问题也来了—— Serverless和操作系统有啥关系呢？我认为要构建好Serverless服务，操作系统一定不能缺席。由于Serverless场景下服务边界的上移，对用户来说应用容器或函数代码之下的系统就是一个整体，用户不再感知底层系统的技术栈分层。这个变化给技术垂直整合创造了条件。我们认为云原生的操作系统需要进行整体性的全栈优化和重塑，这样才能为Serverless提供更优的底层系统能力，基础运行环境、资源弹性、高效执行等能力也将因此得到极大的释放。
    </p>
    <p style="text-align:center;">
     <img alt="IMG_1921.png" src="https://i-blog.csdnimg.cn/blog_migrate/2eacc92b5aaa725f47413c1587a0bcf4.png"/>
    </p>
    <p>
     如果说在容器和K8S时代操作系统是“因云而演进”，那么到了Serverless时代，我们则要彻底创造出一个全新的云原生操作系统。通过底层系统全栈技术的协同融合，为云原生平台和应用提供高效和创新的云原生系统服务。这次变革和创新的力度对于传统操作系统而言是前所未有的，但是我们坚信，操作系统一定会为云而改变，为云而重生。在阿里内部，我们给这样的云原生操作系统起了一个响亮的名字——
     <strong>
      “袋鼠”
     </strong>
     。
    </p>
    <p style="text-align:center;">
     <img alt="IMG_1922.png" src="https://i-blog.csdnimg.cn/blog_migrate/c2d244c52b102cac61f564ab72bb6ba7.png"/>
    </p>
    <p>
     多年之后，也许大学课程“操作系统原理”里的内容会因为这次变革而发生翻天覆地的改变，但我们坚信，这就是云带给我们这一代操作系统研发人员的使命：重新定义操作系统。只有通过因云而生的技术创新打造出来的操作系统，才是真正的云原生操作系统。
    </p>
    <p>
     <a href="http://click.aliyun.com/m/1000287365/" rel="nofollow">
      原文链接
     </a>
     <br/>
     本文为阿里云原创内容，未经允许不得转载。
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c:6f672e6373646e2e6e65742f79756e7169696e73696768742f:61727469636c652f64657461696c732f313139333832323337" class_="artid" style="display:none">
 </p>
</div>


