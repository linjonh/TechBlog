---
layout: post
title: "如何解决-Apache-直接显示-PHP-源码问题-"
date: 2025-03-14 09:20:43 +0800
description: "在设置 web 服务器时，您可能会遇到浏览器直接显示原始 PHP 代码的问题。这通常意味着您的服务器没有正确处理 PHP 文件。让我们看看为什么会发生这种情况，以及如何在基于 Debian 和 RHEL 的系统上修复它。"
keywords: "如何解决 Apache 直接显示 PHP 源码问题 ？"
categories: ['未分类']
tags: ['Php', 'Apache']
artid: "146248906"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146248906
    alt: "如何解决-Apache-直接显示-PHP-源码问题-"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146248906
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146248906
cover: https://bing.ee123.net/img/rand?artid=146248906
image: https://bing.ee123.net/img/rand?artid=146248906
img: https://bing.ee123.net/img/rand?artid=146248906
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     如何解决 Apache 直接显示 PHP 源码问题 ？
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     <img alt="Apache Displaying Plain-text PHP Code" src="https://i-blog.csdnimg.cn/img_convert/2406f73be446fd1c78f514fcf9017c79.png"/>
    </p>
    <p>
     在设置 web 服务器时，您可能会遇到浏览器直接显示原始 PHP 代码的问题。这通常意味着您的服务器没有正确处理 PHP 文件。让我们看看为什么会发生这种情况，以及如何在基于 Debian 和 RHEL 的系统上修复它。
    </p>
    <h4>
     <a id="_4">
     </a>
     可能的原因
    </h4>
    <ul>
     <li>
      PHP 模块没有在 Apache 中正确安装或配置。
     </li>
     <li>
      Apache 配置中
      <strong>
       .php
      </strong>
      文件没有链接到 PHP 模块。
     </li>
     <li>
      <strong>
       .htaccess
      </strong>
      文件中有错误。
     </li>
    </ul>
    <h4>
     <a id="1__PHP_10">
     </a>
     1. 安装配置 PHP
    </h4>
    <p>
     首先，确保安装了 PHP 和 Apache PHP 模块。
    </p>
    <ul>
     <li>
      <strong>
       On Debian-based Systems
      </strong>
     </li>
    </ul>
    <pre><code>sudo apt update
sudo apt install php libapache2-mod-php
</code></pre>
    <ul>
     <li>
      <strong>
       On RHEL-based Systems
      </strong>
     </li>
    </ul>
    <pre><code>sudo yum install php php-common
sudo yum install php-fpm
</code></pre>
    <p>
     确保已启用 PHP 模块，替换
     <strong>
      X.X
     </strong>
     为您的 PHP 版本，如
     <strong>
      8.2
     </strong>
     。
    </p>
    <pre><code>sudo a2enmod phpX.X
</code></pre>
    <h4>
     <a id="_PHP__Apache__34">
     </a>
     检查 PHP 文件的 Apache 配置
    </h4>
    <p>
     您的 Apache 配置应该告诉服务器使用 PHP 模块处理
     <strong>
      .php
     </strong>
     文件。
    </p>
    <p>
     <strong>
      On Debian-based Systems
     </strong>
    </p>
    <p>
     编辑 apache2.conf 配置文件
    </p>
    <pre><code>sudo nano /etc/apache2/apache2.conf
</code></pre>
    <p>
     确保包含以下内容：
    </p>
    <pre><code class="prism language-apacheconf">&lt;FilesMatch ".+\.php$"&gt;
    SetHandler application/x-httpd-php
&lt;/FilesMatch&gt;
</code></pre>
    <ul>
     <li>
      <p>
       <strong>
        On RHEL-based Systems
       </strong>
      </p>
      <p>
       编辑 httpd.conf 配置文件
      </p>
      <pre><code>sudo nano /etc/httpd/conf/httpd.conf
</code></pre>
     </li>
    </ul>
    <p>
     确保包含以下内容：
    </p>
    <pre><code class="prism language-apacheconf">&lt;FilesMatch ".+\.php$"&gt;
    SetHandler application/x-httpd-php
&lt;/FilesMatch&gt;
</code></pre>
    <h4>
     <a id="3__htaccess__70">
     </a>
     3. 检查 .htaccess 文件
    </h4>
    <p>
     如果你使用
     <strong>
      .htaccess
     </strong>
     文件，检查可能会阻止 PHP 文件正常运行的指令。查找包含
     <strong>
      php_value
     </strong>
     或
     <strong>
      php_flag
     </strong>
     这样的行，并确保它们被正确设置或临时注释掉以进行测试。
    </p>
    <h4>
     <a id="4__Apache_74">
     </a>
     4. 重启 Apache
    </h4>
    <p>
     保存更改后，重新启动 Apache 服务
    </p>
    <p>
     On Debian-based Systems
    </p>
    <pre><code>sudo systemctl restart apache2
</code></pre>
    <p>
     On RHEL-based Systems
    </p>
    <pre><code>sudo systemctl restart httpd
</code></pre>
    <h4>
     <a id="5__90">
     </a>
     5. 检查文件扩展名
    </h4>
    <p>
     确保 PHP 文件的扩展名为
     <strong>
      .php
     </strong>
     ，Apache 只在文件扩展名正确的情况下将文件作为 PHP 处理。
    </p>
    <h4>
     <a id="6__94">
     </a>
     6. 检查错误日志
    </h4>
    <p>
     查看 Apache 错误日志以寻找线索
    </p>
    <p>
     On Debian-based Systems
    </p>
    <pre><code>sudo tail /var/log/apache2/error.log
</code></pre>
    <p>
     On RHEL-based Systems:
    </p>
    <pre><code>sudo tail /var/log/httpd/error_log
</code></pre>
    <h4>
     <a id="_110">
     </a>
     我的开源项目
    </h4>
    <p>
     <a href="https://www.koogua.com" rel="nofollow">
      <img alt="酷瓜云课堂-在线教育解决方案" src="https://i-blog.csdnimg.cn/img_convert/09472f49fc25f5c50ae34c58d91eecc0.png"/>
     </a>
    </p>
    <ul>
     <li>
      <a href="https://gitee.com/koogua/course-tencent-cloud" rel="nofollow">
       course-tencent-cloud（酷瓜云课堂 - gitee仓库）
      </a>
     </li>
     <li>
      <a href="https://github.com/xiaochong0302/course-tencent-cloud">
       course-tencent-cloud（酷瓜云课堂 - github仓库）
      </a>
     </li>
    </ul>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f7869616f63686f6e67303330322f:61727469636c652f64657461696c732f313436323438393036" class_="artid" style="display:none">
 </p>
</div>


