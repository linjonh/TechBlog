---
layout: post
title: "从零开始学习单片机18"
date: 2025-08-30T22:08:30+0800
description: "不使用外部时钟时，选用第一个两个引脚PD0和PD1接的是外部有源的晶振，或者是其他芯片输入的时钟信号时，选择第二个；选择外部高速时钟和内部低速时钟（内部没有接晶振），HCLK选择72兆的频率，其他暂时不做修改，这样就完成了时钟源的设置。Debug支持多种模式，Serial Wire模式只需要两个引脚就可以烧录调试，其他的模式需要的I引脚较多，所以板卡选择Serial Wire模式。内部时钟源包括LSI（低速时钟）和HSI（高速时钟），使用内部时钟源就需要将图中的一二处勾选。"
keywords: "从零开始学习单片机18"
categories: ['未分类']
tags: ['嵌入式硬件', '学习', '单片机']
artid: "151025431"
arturl: "https://blog.csdn.net/yu2930305596/article/details/151025431"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=151025431
    alt: "从零开始学习单片机18"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=151025431
featuredImagePreview: https://bing.ee123.net/img/rand?artid=151025431
cover: https://bing.ee123.net/img/rand?artid=151025431
image: https://bing.ee123.net/img/rand?artid=151025431
img: https://bing.ee123.net/img/rand?artid=151025431
---



# 从零开始学习单片机18

**使用STM32CubeMX创建工程**

选择对应芯片后创建工程，首先设置时钟源

内部时钟源包括LSI（低速时钟）和HSI（高速时钟），使用内部时钟源就需要将图中的一二处勾选

![](https://i-blog.csdnimg.cn/direct/ac9e2d820dbd43e39967c0882e8c27a5.png)

HCLK是芯片运行时的评率，虽然下面标的最大为72，但是用内部时钟源最大只能为64兆

![](https://i-blog.csdnimg.cn/direct/28899edbfcfc4e8d90a3d17de1af2c01.png)

要配置外部时钟HSE（高速时钟）、LSE（低速时钟）

![](https://i-blog.csdnimg.cn/direct/289097c9ad68439e9e48a5dae5829fe5.png)

不使用外部时钟时，选用第一个两个引脚PD0和PD1接的是外部有源的晶振，或者是其他芯片输入的时钟信号时，选择第二个；两个引脚PD0和PD1接的是无源的时钟，或者是晶体晶振时，选择第三种。低速时钟暂不使用，因为电路板目前没有接低速的晶振。

外部高速时钟选择第三个，低速时钟不动，会发现HCLK最大能为72兆了。选择外部高速时钟和内部低速时钟（内部没有接晶振），HCLK选择72兆的频率，其他暂时不做修改，这样就完成了时钟源的设置

![](https://i-blog.csdnimg.cn/direct/4db925105d5e40ec99b5a270cc0598c0.png)

配置烧录调试模式

Debug支持多种模式，Serial Wire模式只需要两个引脚就可以烧录调试，其他的模式需要的I引脚较多，所以板卡选择Serial Wire模式

![](https://i-blog.csdnimg.cn/direct/2705c1c786bb4f3a9833039e35ff2a61.png)

文件的配置，在这里选择文件的名字和地址，IDE选择MDK-ARM

![](https://i-blog.csdnimg.cn/direct/b81b4fe5206840219193dc729ff8af04.png)

第一栏：配置代码的生成的方式，为了快速编译，选择第二个只复制GPIO的库

第二栏：为了使用了多个外设时，每个外设都能有单独的文件生成，工程更加精细，勾选第一个

其他的不做改动

![](https://i-blog.csdnimg.cn/direct/afbe31e8a6e44e09af4d95c5885232d9.png)

所有都配置好后点击【GENERATE CODE】，生成工程代码，打开工程后编译，无误则代表生成成功

![](https://i-blog.csdnimg.cn/direct/0960cf1cdebd40c8b37c0e6e1e384e78.png)



