---
layout: post
title: "C语言系列C语言内存函数"
date: 2025-03-16 12:48:26 +0800
description: "本文详细探讨了C语言中几个核心内存操作函数的使用方法和原理，包括memcpymemmovememset和memcmp。这些函数是处理内存数据的基本工具，广泛应用于高效的内存管理、数据复制、初始化和比较等场景。memcpymemcpymemmovememset和memcmp是C语言中处理内存数据的基础函数，掌握它们的使用方法对于进行高效的内存操作至关重要。memcpy和memmove都用于内存复制，但memmove能够安全地处理内存重叠情况。memset用于设置内存内容，而memcmp用于比较内存区域。"
keywords: "【C语言系列】C语言内存函数"
categories: ['C', 'C']
tags: ['算法', '开发语言', 'Visual', 'Studio', 'C']
artid: "146275504"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146275504
    alt: "C语言系列C语言内存函数"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146275504
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146275504
cover: https://bing.ee123.net/img/rand?artid=146275504
image: https://bing.ee123.net/img/rand?artid=146275504
img: https://bing.ee123.net/img/rand?artid=146275504
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【C语言系列】C语言内存函数
    </h1>
   </div>
  </div>
 </div>
 <a data-report-click='{"spm":"1001.2101.3001.8632"}' data-report-query="spm=1001.2101.3001.8632" data-report-view='{"spm":"1001.2101.3001.8632"}' href="https://activity.csdn.net/writing?id=10858" id="creatActivityHref" style="display:block;margin-top:16px;font-size:16px;color:#5094d5;font-weight:500" target="_blank">
  #新星杯·14天创作挑战营·第9期#
 </a>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <p>
    </p>
    <h2>
     <a id="memcpy_1">
     </a>
     一、memcpy使用和模拟实现
    </h2>
    <p>
     要理解memcpy的使用和模拟实现首先要看看其函数原型，函数原型如下：
    </p>
    <pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token operator">*</span> <span class="token function">memcpy</span> <span class="token punctuation">(</span> <span class="token keyword">void</span> <span class="token operator">*</span> destination<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span> source<span class="token punctuation">,</span> <span class="token class-name">size_t</span> num <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="11memcpy_6">
     </a>
     1.1memcpy函数
    </h3>
    <p>
     memcpy —— 针对内存块拷贝，
     <mark>
      包含头文件&lt;string.h&gt;
     </mark>
     <br/>
     1.这个函数遇到’\0’的时候并不会停下来。
     <br/>
     2.函数memcpy从source的位置开始向后复制num个字节的数据到destination指向的内存位置。
     <br/>
     3.如果source和destination有任何的重叠，复制的结果都是未定义的。
     <br/>
     下面我们看看它的使用举例：
    </p>
    <pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">int</span> arr1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> arr2<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">memcpy</span><span class="token punctuation">(</span>arr2<span class="token punctuation">,</span>arr1<span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>arr2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     运行结果如下图：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/f24b4d0042f24aa5ac00f22d27c38217.png"/>
    </p>
    <h3>
     <a id="12memcpy_30">
     </a>
     1.2memcpy函数的模拟实现
    </h3>
    <p>
     下面我们来进行memcpy函数的模拟实现：
     <br/>
     代码如下：
    </p>
    <pre><code class="prism language-c"><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">my_memcpy</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span>dest<span class="token punctuation">,</span><span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">*</span>src<span class="token punctuation">,</span><span class="token class-name">size_t</span> num<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">void</span><span class="token operator">*</span>ret <span class="token operator">=</span> dest<span class="token punctuation">;</span>
<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//memcpy函数拷贝完成后，会返回目标空间的起始地址</span>
<span class="token function">assert</span><span class="token punctuation">(</span>dest <span class="token operator">&amp;&amp;</span> src<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>num<span class="token operator">--</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>dest <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>src<span class="token punctuation">;</span>
src <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>src <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
dest <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>dest <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="memmove_48">
     </a>
     二、memmove使用和模拟实现
    </h2>
    <p>
     要理解memmove的使用和模拟实现首先要看看其函数原型，函数原型如下：
    </p>
    <pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token operator">*</span> <span class="token function">memmove</span> <span class="token punctuation">(</span> <span class="token keyword">void</span> <span class="token operator">*</span> destination<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span> source<span class="token punctuation">,</span> <span class="token class-name">size_t</span> num <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="21memmove_53">
     </a>
     2.1memmove函数
    </h3>
    <p>
     注：
     <mark>
      包含头文件&lt;string.h&gt;
     </mark>
     <br/>
     1.和memcpy的差别就是memmove函数处理的源内存块和目标内存块是可以重叠的。
     <br/>
     2.如果源空间和目标空间出现重叠，就使用memmove函数处理。
     <br/>
     下面我们看看它的使用举例：
    </p>
    <pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">memmove</span><span class="token punctuation">(</span>arr <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span>arr<span class="token punctuation">,</span><span class="token number">5</span> <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     运行结果如下图：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/34a1079009954ca0b9b29cda8356aa07.png"/>
    </p>
    <h3>
     <a id="22memmove_75">
     </a>
     2.2memmove函数的模拟实现
    </h3>
    <p>
     下面我们来进行memmove函数的模拟实现：
     <br/>
     <mark>
      memmove函数拷贝完成后，会返回目标空间的起始地址。
     </mark>
     <br/>
     代码如下：
    </p>
    <pre><code class="prism language-c"><span class="token keyword">void</span><span class="token operator">*</span><span class="token function">my_memmove</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span>dest<span class="token punctuation">,</span><span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">*</span>src<span class="token punctuation">,</span><span class="token class-name">size_t</span> num<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span><span class="token comment">//前 ——&gt; 后</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>dest <span class="token operator">&lt;</span> src<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">while</span><span class="token punctuation">(</span>num<span class="token operator">--</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token function">assert</span><span class="token punctuation">(</span>dest <span class="token operator">&amp;&amp;</span> src<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span><span class="token operator">*</span>ret <span class="token operator">=</span> dest<span class="token punctuation">;</span>
<span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>dest <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>src<span class="token punctuation">;</span>
dest <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>dest <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
src <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>src <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span>
<span class="token punctuation">{<!-- --></span><span class="token comment">//后 ——&gt; 前</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>num<span class="token operator">--</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>dest <span class="token operator">+</span> num<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>src <span class="token operator">+</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="memset_103">
     </a>
     三、memset函数的使用
    </h2>
    <p>
     要理解memset的使用和模拟实现首先要看看其函数原型，函数原型如下：
    </p>
    <pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token operator">*</span> <span class="token function">memset</span> <span class="token punctuation">(</span> <span class="token keyword">void</span> <span class="token operator">*</span> ptr<span class="token punctuation">,</span> <span class="token keyword">int</span> value<span class="token punctuation">,</span> <span class="token class-name">size_t</span> num <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="32memset_108">
     </a>
     3.2memset函数及使用
    </h3>
    <p>
     注：
     <mark>
      包含头文件&lt;string.h&gt;
     </mark>
     <br/>
     memset是用来设置内存的，将内存中的值以字节为单位设置成想要的内容。
     <br/>
     memset函数的使用代码如下：
    </p>
    <pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">char</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span>
<span class="token function">memset</span><span class="token punctuation">(</span>arr <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token char">'y'</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     运行结果如下图：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/6d3e3fa409e5480088cf3ff6c62cdd7d.png"/>
    </p>
    <pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">memset</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//以字节为单位设置的</span>
<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     运行结果如下图：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/594e2d130e2f400a92e6143114bf69e7.png"/>
    </p>
    <h2>
     <a id="memcmp_142">
     </a>
     四、memcmp函数的使用
    </h2>
    <p>
     要理解memcmp的使用和模拟实现首先要看看其函数原型，函数原型如下：
    </p>
    <pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">memcmp</span> <span class="token punctuation">(</span> <span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span> ptr1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span> ptr2<span class="token punctuation">,</span> <span class="token class-name">size_t</span> num <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="41memcmp_147">
     </a>
     4.1memcmp函数及使用
    </h3>
    <p>
     注：
     <mark>
      包含头文件&lt;string.h&gt;
     </mark>
     <br/>
     memcmp —— 完成内存块的比较
     <br/>
     比较从ptr1和ptr2指针指向的位置开始，向后的num个字节内容。
     <br/>
     返回值如下图：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/db4e9530452941ab81e88f55ddf48d63.png">
      <br/>
      memcmp函数的使用代码如下：
     </img>
    </p>
    <pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">int</span> arr1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> arr2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">memcmp</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span>arr2<span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>ret<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//-1</span>
<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     运行结果如下图：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/a1f0fb76dd4244ef848f81c1c3d94464.png"/>
    </p>
    <h2>
     <a id="_168">
     </a>
     五、总结
    </h2>
    <p>
     本文详细探讨了C语言中几个核心内存操作函数的使用方法和原理，包括
     <code>
      memcpy
     </code>
     、
     <code>
      memmove
     </code>
     、
     <code>
      memset
     </code>
     和
     <code>
      memcmp
     </code>
     。这些函数是处理内存数据的基本工具，广泛应用于高效的内存管理、数据复制、初始化和比较等场景。
    </p>
    <h4>
     <a id="memcpy__171">
     </a>
     <code>
      memcpy
     </code>
     函数
    </h4>
    <p>
     <code>
      memcpy
     </code>
     函数的原型为
     <code>
      void *memcpy(void *destination, const void *source, size_t num)
     </code>
     ，其主要功能是将指定数量的字节从源内存块复制到目标内存块。
     <code>
      memcpy
     </code>
     的使用前提是源内存和目标内存区域
     <strong>
      不重叠
     </strong>
     ，因为该函数并不处理内存重叠的情况。在实际应用中，
     <code>
      memcpy
     </code>
     主要用于对非重叠内存区域的快速复制。
    </p>
    <p>
     在模拟实现中，
     <code>
      memcpy
     </code>
     通过逐字节复制数据，通过指针递增和内存访问完成复制操作。模拟代码展示了如何通过简单的循环结构，逐步将源地址的数据传输到目标地址。
    </p>
    <h4>
     <a id="memmove__176">
     </a>
     <code>
      memmove
     </code>
     函数
    </h4>
    <p>
     与
     <code>
      memcpy
     </code>
     相似，
     <code>
      memmove
     </code>
     也用于内存块的复制，但其不同之处在于，
     <code>
      memmove
     </code>
     可以
     <strong>
      处理内存重叠
     </strong>
     的情况。其函数原型为
     <code>
      void *memmove(void *destination, const void *source, size_t num)
     </code>
     。在源和目标内存区域重叠的情况下，
     <code>
      memmove
     </code>
     会根据内存区域的相对位置决定从前向后还是从后向前复制数据，从而保证数据正确传输。
    </p>
    <p>
     <code>
      memmove
     </code>
     的实现逻辑包括对内存重叠情况的判断：若目标地址小于源地址，则从前向后复制；若目标地址大于源地址，则从后向前复制，确保数据的正确迁移。
    </p>
    <h4>
     <a id="memset__181">
     </a>
     <code>
      memset
     </code>
     函数
    </h4>
    <p>
     <code>
      memset
     </code>
     函数的原型为
     <code>
      void *memset(void *ptr, int value, size_t num)
     </code>
     ，其功能是将内存中的指定字节区域初始化为指定的值。该函数广泛应用于内存初始化、清零或者填充操作。例如，在清空数组或设置内存为特定的字节值时，
     <code>
      memset
     </code>
     是非常有效的工具。
    </p>
    <p>
     示例代码展示了如何通过
     <code>
      memset
     </code>
     将字符串和整数数组的部分内容设置为指定值。需要注意的是，
     <code>
      memset
     </code>
     按字节处理内存，因此对于多字节类型的数据，可能会产生不可预期的效果。
    </p>
    <h4>
     <a id="memcmp__186">
     </a>
     <code>
      memcmp
     </code>
     函数
    </h4>
    <p>
     <code>
      memcmp
     </code>
     函数的原型为
     <code>
      int memcmp(const void *ptr1, const void *ptr2, size_t num)
     </code>
     ，用于比较两块内存区域的内容。函数通过逐字节对比两块内存，从而判断其内容是否相同。返回值为零表示两块内存完全相同，非零值则表示两块内存存在差异。
     <code>
      memcmp
     </code>
     常用于内存内容的差异比较或判断两个内存块是否相等。
    </p>
    <h4>
     <a id="_189">
     </a>
     总结
    </h4>
    <p>
     <code>
      memcpy
     </code>
     、
     <code>
      memmove
     </code>
     、
     <code>
      memset
     </code>
     和
     <code>
      memcmp
     </code>
     是C语言中处理内存数据的基础函数，掌握它们的使用方法对于进行高效的内存操作至关重要。
     <code>
      memcpy
     </code>
     和
     <code>
      memmove
     </code>
     都用于内存复制，但
     <code>
      memmove
     </code>
     能够安全地处理内存重叠情况。
     <code>
      memset
     </code>
     用于设置内存内容，而
     <code>
      memcmp
     </code>
     用于比较内存区域。理解这些函数的应用场景及其内部实现，有助于程序员在进行内存操作时避免潜在的错误，提升程序的性能和稳定性。
    </p>
    <p>
     本文通过模拟实现这些函数，进一步深入剖析了其实现原理，帮助读者在实际编程中更灵活地运用这些内存操作函数，理解其背后的机制，并优化内存管理和数据处理策略。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-vote-box" id="blogVoteBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330315f38303137393735302f:61727469636c652f64657461696c732f313436323735353034" class_="artid" style="display:none">
 </p>
</div>


