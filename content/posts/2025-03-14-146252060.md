---
arturl_encode: "68747470733a2f2f:626c6f672e6373646e2e6e65742f753031333430303331342f:61727469636c652f64657461696c732f313436323532303630"
layout: post
title: "LinuxUbuntuDocker-安装中文版GitLab-compose"
date: 2025-03-14 11:40:17 +0800
description: "vim docker-compose.yml   # vim  命令   若没有这个docker-compose.yml 文件则 创建同时打开，有则 直接打开。因为linux 自己安装软件 不成名的规定 一般放在   》》/usr/local 中。在  /usr/local 目录  创建  gitlab    文件夹。因gitlab 启动 要配置，稍微有点慢。稍微等一会  在访问。》》访问直接跳转到修改 超级管理员密码的界面了。如果gitlab启动不了  可以看下面日志。》》用超级管理员登录。"
keywords: "Linux》Ubuntu》Docker ＞＞安装中文版GitLab compose"
categories: ['未分类']
tags: ['Ubuntu', 'Linux', 'Docker']
artid: "146252060"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146252060
    alt: "LinuxUbuntuDocker-安装中文版GitLab-compose"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146252060
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146252060
cover: https://bing.ee123.net/img/rand?artid=146252060
image: https://bing.ee123.net/img/rand?artid=146252060
img: https://bing.ee123.net/img/rand?artid=146252060
---

# Linux》Ubuntu》Docker ＞＞安装中文版GitLab compose

### 创建文件夹

因为linux 自己安装软件 不成名的规定 一般放在 》》/usr/local 中
  
在 /usr/local 目录 创建 gitlab 文件夹

> cd /usr/local
>   
> mkdir gitlab
>   
> cd gitlab

![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/28560b0c0d9a4a0eaccd56695e2ae6a1.png)

### 创建 docker-compose.yml 文件

> vim docker-compose.yml # vim 命令 若没有这个docker-compose.yml 文件则 创建同时打开，有则 直接打开

```csharp
services:
  web:
    # 镜像名 CE 是社区版  zh  中文  
    image: 'twang2218/gitlab-ce-zh'
    # 表示无论何时容器停止，Docker 都会自动重启该容器。这种策略适用于那些必须始终运行的服务，以确保服务的连续性和高可用性。
    restart: always
    # 如果有域名推荐用域名
    hostname: 'Linux的IP地址'
    environment:
      # 时区  Time Zone
      TZ: 'Asia/Shanghai' 
      GITLAB_OMNIBUS_CONFIG: |
        external_url 'http://上面的IP地址'
        # Linux一般通过工具远程连接的（xshell等）是通过SSH协议，这个协议默认端口22，为了避免冲突，所以此处设置2222
        gitlab_rails['gitlab_shell_ssh_port'] = '2222'
        # 内部的端口
        unicorn['port'] ='8888'
        nginx['listen_port'] = '80'
        # =====  可以配置邮箱===============
        # gitlab_rails['smtp_enable']= true
        # gitlab_rails['smtp_address']= "smtp.exmail.qq.com"
        # gitlab_rails['smtp_port']= 465
        # gitlab_rails['smtp_user_name']= "发送邮件的邮箱"
        # gitlab_rails['smtp_password']= "邮箱的密码"
        # gitlab_rails['smtp_authentication']= "login"
        # gitlab_rails['smtp_enable_starttls_auto']= true
        # gitlab_rails['smtp_tls']= true
        # gitlab_rails['gitlab_email_from']= "上面的邮箱"
    ports:
      - '80:80'
      - '443:443'
      - '2222:22'
    volumes:
      - ./config:/etc/gitlab
      - ./data:/var/opt/gitlab
      - ./logs:/var/log/gitlab





```

![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/b85c84806d83408184fe11242894cd83.png)
  
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/dc91f233b9b3418189642c07a1956c78.png)
  
》》访问直接跳转到修改 超级管理员密码的界面了
  
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/3ff3e54e13054dd7940581ac87d4b028.png)
  
》》用超级管理员登录
  
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/a726d2204d6d409fab45a53c1619dd86.png)

### 启动 gitlab

> docker compose up -d

因gitlab 启动 要配置，稍微有点慢。 稍微等一会 在访问

> http://IP/

![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/c3601dd7b2e04fcabef51257c5af345a.png)

### gitlab 日志

docker logs -f 容器 ID
  
如果gitlab启动不了 可以看下面日志
  
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/d0b6c578b74844fd985cd603577521aa.png)