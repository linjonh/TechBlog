---
layout: post
title: "正则表达式复习"
date: 2025-03-10 11:50:31 +0800
description: "一、[]: 一个字符集合。二、{}: 重复次数。三、特殊符号。四、(): 分组。五、代码示例。六、注意"
keywords: "正则表达式(复习)"
categories: ['大数据']
tags: ['正则表达式', '大数据', 'Python']
artid: "146149542"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146149542
    alt: "正则表达式复习"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146149542
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146149542
cover: https://bing.ee123.net/img/rand?artid=146149542
image: https://bing.ee123.net/img/rand?artid=146149542
img: https://bing.ee123.net/img/rand?artid=146149542
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     正则表达式(复习)
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <p>
    </p>
    <blockquote>
     <p>
      正则表达式(regular expression)描述了一种字符串匹配的模式（pattern），可以用来检查一个串是否含有某种子串、将匹配的子串替换或者从某个串中取出符合某个条件的子串等。
     </p>
    </blockquote>
    <h3>
     <a id="__4">
     </a>
     一、[]: 一个字符集合
    </h3>
    <blockquote>
     <p>
      <code>
       []
      </code>
      被称为字符类，用于定义一个字符集合，匹配该集合中任意一个字符。
      <br/>
      在方括号内列出所有可能匹配的字符，正则表达式会匹配方括号中任意一个字符。
     </p>
    </blockquote>
    <table>
     <thead>
      <tr>
       <th>
        特殊符号
       </th>
       <th>
        含义
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        -
       </td>
       <td>
        来表示一个字符范围
       </td>
      </tr>
      <tr>
       <td>
        ^
       </td>
       <td>
        表示排除方括号中指定的字符，例如：[ ^0-9] 非数字
       </td>
      </tr>
      <tr>
       <td>
        \d
       </td>
       <td>
        [0-9]
       </td>
      </tr>
      <tr>
       <td>
        \D
       </td>
       <td>
        [^0-9]
       </td>
      </tr>
      <tr>
       <td>
        \w
       </td>
       <td>
        [a-zA-Z0-9_]
       </td>
      </tr>
      <tr>
       <td>
        \W
       </td>
       <td>
        [^a-zA-Z0-9_]
       </td>
      </tr>
      <tr>
       <td>
        \s
       </td>
       <td>
        匹配任意空白字符，包括空格、制表符、换行符等
       </td>
      </tr>
      <tr>
       <td>
        \S
       </td>
       <td>
        匹配任意非空白字符
       </td>
      </tr>
      <tr>
       <td>
        \b
       </td>
       <td>
        单词边界，匹配单词的开始或结束位置，例如：
        <code>
         \bcat\b
        </code>
        匹配独立的单词
        <code>
         cat
        </code>
        ，而不会匹配
        <code>
         category
        </code>
        中的
        <code>
         cat
        </code>
       </td>
      </tr>
      <tr>
       <td>
        \B
       </td>
       <td>
        非单词边界，匹配不在单词开始或结束的位置，例如：
        <code>
         \Bing\B
        </code>
        对于
        <code>
         string
        </code>
        中的
        <code>
         ing
        </code>
        会匹配，而对于
        <code>
         sing
        </code>
        则不匹配
       </td>
      </tr>
     </tbody>
    </table>
    <h3>
     <a id="__22">
     </a>
     二、{}: 重复次数
    </h3>
    <blockquote>
     <p>
      <code>
       {}
      </code>
      被称为量词，用于指定前面的元素（字符、字符类或分组）出现的次数。
     </p>
    </blockquote>
    <table>
     <thead>
      <tr>
       <th>
        特殊符号
       </th>
       <th>
        含义
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        +
       </td>
       <td>
        {1, } 1次以上
       </td>
      </tr>
      <tr>
       <td>
        *
       </td>
       <td>
        {0,} 0次以上
       </td>
      </tr>
      <tr>
       <td>
        ?
       </td>
       <td>
        {0,1} 0次或1次、注：跟在
        <code>
         *
        </code>
        、
        <code>
         +
        </code>
        、
        <code>
         {}
        </code>
        等后面时，表示非贪婪匹配
       </td>
      </tr>
      <tr>
       <td>
        .
       </td>
       <td>
        匹配任意一个字符（换行除外）
       </td>
      </tr>
     </tbody>
    </table>
    <h3>
     <a id="_33">
     </a>
     三、特殊符号
    </h3>
    <table>
     <thead>
      <tr>
       <th>
        特殊符号
       </th>
       <th>
        含义
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        ^
       </td>
       <td>
        匹配开始的字符串
       </td>
      </tr>
      <tr>
       <td>
        $
       </td>
       <td>
        匹配结尾的字符串
       </td>
      </tr>
      <tr>
       <td>
        \
       </td>
       <td>
        转译符，例如：
        <code>
         \.
        </code>
        匹配
        <code>
         .
        </code>
        、
        <code>
         \d
        </code>
        匹配任意数字（等价于
        <code>
         [0-9]
        </code>
        ）
       </td>
      </tr>
      <tr>
       <td>
        |
       </td>
       <td>
        或者。例如：[a|b]
       </td>
      </tr>
     </tbody>
    </table>
    <h3>
     <a id="__42">
     </a>
     四、(): 分组
    </h3>
    <blockquote>
     <ol>
      <li>
       分组，将多个字符组合成一个整体
      </li>
      <li>
       创建捕获组，保存匹配内容
      </li>
      <li>
       创建非捕获组（
       <code>
        (?:)
       </code>
       ）
      </li>
      <li>
       反向引用（
       <code>
        \数字
       </code>
       ）
      </li>
     </ol>
    </blockquote>
    <ol>
     <li>
      分组，将多个字符组合成一个整体
     </li>
    </ol>
    <pre><code class="prism language-python"><span class="token keyword">import</span> re

<span class="token comment"># 匹配连续出现两次的 "ab"</span>
pattern <span class="token operator">=</span> <span class="token string">r'(ab){2}'</span>
text <span class="token operator">=</span> <span class="token string">'abababc'</span>
result <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> text<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> 	 <span class="token comment"># ['ab']</span>
</code></pre>
    <ol start="2">
     <li>
      创建捕获组，保存匹配内容
     </li>
    </ol>
    <pre><code class="prism language-python"><span class="token keyword">import</span> re

<span class="token comment"># 匹配日期，格式为 "年-月-日"，并捕获年、月、日</span>
pattern <span class="token operator">=</span> <span class="token string">r'(\d{4})-(\d{2})-(\d{2})'</span>
text <span class="token operator">=</span> <span class="token string">'Today is 2024-10-15.'</span>
result <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> text<span class="token punctuation">)</span>
<span class="token keyword">if</span> result<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Full match:"</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>	<span class="token comment"># Full match: 2024-10-15</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Year:"</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>			<span class="token comment"># Year: 2024</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Month:"</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>		<span class="token comment"># Month: 10</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Day:"</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>			<span class="token comment"># Day: 15</span>
</code></pre>
    <ol start="3">
     <li>
      创建非捕获组（
      <code>
       (?:)
      </code>
      ）
     </li>
    </ol>
    <pre><code class="prism language-python"><span class="token keyword">import</span> re

<span class="token comment"># 使用非捕获组匹配 "abc" 或 "def" 后面跟着一个数字</span>
pattern <span class="token operator">=</span> <span class="token string">r'(?:abc|def)\d'</span>
text <span class="token operator">=</span> <span class="token string">'abc1 def2 ghi3'</span>
result <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> text<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> 		<span class="token comment"># ['abc1', 'def2']</span>
</code></pre>
    <ol start="4">
     <li>
      反向引用（
      <code>
       \数字
      </code>
      ）
     </li>
    </ol>
    <pre><code class="prism language-python"><span class="token keyword">import</span> re

<span class="token comment"># 匹配连续出现两次相同的单词</span>
pattern <span class="token operator">=</span> <span class="token string">r'(\b\w+\b)\s+\1'</span>
text <span class="token operator">=</span> <span class="token string">'hello hello world'</span>
result <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> text<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> 		<span class="token comment"># ['hello']</span>
</code></pre>
    <h3>
     <a id="python_101">
     </a>
     五、python代码示例
    </h3>
    <p>
     在
     <code>
      Python
     </code>
     中，使用
     <code>
      re
     </code>
     模块来实现正则表达式。
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> re
regex <span class="token operator">=</span> <span class="token string">'a'</span>
string <span class="token operator">=</span> <span class="token string">'abc'</span>

<span class="token comment"># 1. re.search(regex, string)</span>
<span class="token comment"># 检查这个字符串string是否匹配正则表达式</span>
<span class="token keyword">if</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>regex<span class="token punctuation">,</span> string<span class="token punctuation">)</span> <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
	<span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>	<span class="token comment"># abc</span>

<span class="token comment"># 2. results = re.findall(regex, string)</span>
<span class="token comment"># 匹配带正则表达式的那部分字符串</span>
string <span class="token operator">=</span> <span class="token string">'2014 was a good year, but 2025 will be better!'</span>
years <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'[1-2][0-9]{3}'</span><span class="token punctuation">,</span> string<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>years<span class="token punctuation">)</span>	<span class="token comment"># ['2014', '2025']</span>

<span class="token comment"># 3. result.group(0)</span>
<span class="token comment"># 分组提取，见上面分组</span>
</code></pre>
    <h3>
     <a id="_125">
     </a>
     六、注意
    </h3>
    <p>
     正则表达式里使用
     <code>
      \
     </code>
     作为转义字符
    </p>
    <p>
     假如你需要匹配文本中的字符
     <code>
      \
     </code>
     ，name编程语言表示的正则表达式需要4个反斜杠
     <code>
      \\\\
     </code>
     ，前两个和后两个分别用于在编程语言中转义成反斜杠，转换成两个反斜杠后再在正则表达式中转义成一个反斜杠。Python中的原生字符串很好的解决了这个问题，这个例子中的正则表达式可以使用
     <code>
      r"\\"
     </code>
     表示。同样，匹配一个数字的
     <code>
      "\\d"
     </code>
     可以写成
     <code>
      r"\d"
     </code>
     ，不需要再担心是否漏写了反斜杠，写出来的表达式也更直观。
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> re

<span class="token keyword">if</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">"\\\\"</span><span class="token punctuation">,</span> <span class="token string">"I have one nee\dle"</span><span class="token punctuation">)</span> <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Match"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Not Match"</span><span class="token punctuation">)</span>
</code></pre>
    <pre><code class="prism language-python"><span class="token keyword">import</span> re

<span class="token keyword">if</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r"\\"</span><span class="token punctuation">,</span> <span class="token string">"I have one nee\dle"</span><span class="token punctuation">)</span> <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Match"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Not Match"</span><span class="token punctuation">)</span>
</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f37343239323239312f:61727469636c652f64657461696c732f313436313439353432" class_="artid" style="display:none">
 </p>
</div>


