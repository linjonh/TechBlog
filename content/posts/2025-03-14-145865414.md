---
layout: post
title: "栈数据结构应用解析常见算法题详细解答-Leetcode"
date: 2025-03-14 11:43:56 +0800
description: "栈是一种后进先出（LIFO）的数据结构，广泛应用于解决涉及回溯、优先级运算、括号匹配等问题。常见的栈算法题包括删除相邻重复字符、比较含退格符的字符串、基本计算器运算、字符串解码以及验证栈序列等。这些问题的解决通常通过模拟栈的操作，如压栈、弹栈等，来动态地处理元素。栈能够有效地模拟递归、处理运算符优先级、以及在字符串处理中完成重复、合并等操作。掌握栈的基本操作和策略可以帮助高效地解决许多算法问题，尤其在涉及动态状态更新和复杂数据结构时，栈是一个非常有用的工具。"
keywords: "【栈数据结构应用解析：常见算法题详细解答】—— Leetcode"
categories: ['算法题']
tags: ['算法', '数据结构', 'Leetcode']
artid: "145865414"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=145865414
    alt: "栈数据结构应用解析常见算法题详细解答-Leetcode"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=145865414
featuredImagePreview: https://bing.ee123.net/img/rand?artid=145865414
cover: https://bing.ee123.net/img/rand?artid=145865414
image: https://bing.ee123.net/img/rand?artid=145865414
img: https://bing.ee123.net/img/rand?artid=145865414
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【栈数据结构应用解析：常见算法题详细解答】—— Leetcode
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <p>
    </p>
    <h2>
     <a id="_1">
     </a>
     栈的模拟实现
    </h2>
    <pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">1e5</span> <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token comment">// 创建栈</span>
<span class="token keyword">int</span> stk<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">,</span> n<span class="token punctuation">;</span>

<span class="token comment">// 进栈 - 本质就是顺序表里面的尾插</span>
<span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    stk<span class="token punctuation">[</span><span class="token operator">++</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 出栈 - 顺序表的尾删操作</span>
<span class="token keyword">void</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    n<span class="token operator">--</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 查询栈顶元素</span>
<span class="token keyword">int</span> <span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> stk<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 判断是否为空</span>
<span class="token keyword">bool</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> n <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 查询有效元素的个数</span>
<span class="token keyword">int</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> n<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 当栈不为空的时候</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// while(!empty()) </span>
    <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="httpsleetcodecnproblemsremovealladjacentduplicatesinstring_62">
     </a>
     <a href="https://leetcode.cn/problems/remove-all-adjacent-duplicates-in-string/" rel="nofollow">
      删除字符串中的所有相邻重复项
     </a>
    </h2>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/be254002c0cc481bae258abf43d88784.png"/>
    </p>
    <ul>
     <li>
      思路：我们通过模拟栈遍历字符串 s，逐个字符处理。当遇到当前字符和 ret（结果字符串）末尾的字符相同时，说明这两个字符相同且相邻，因此可以将末尾的字符移除（使用 pop_back()），实现删除重复字符的效果。否则，将当前字符添加到 ret 的末尾。最终返回 ret 作为结果。这个方法有效地将相邻的重复字符一一删除，直到整个字符串处理完成。
     </li>
    </ul>
    <pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> 
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    string <span class="token function">removeDuplicates</span><span class="token punctuation">(</span>string s<span class="token punctuation">)</span> 
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 创建一个空的字符串 ret 用于存储结果</span>
        string ret<span class="token punctuation">;</span>

        <span class="token comment">// 遍历输入字符串 s 中的每一个字符</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch <span class="token operator">:</span> s<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 如果 ret 非空，并且 ret 的最后一个字符等于当前字符</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>ret<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> ret<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> ch<span class="token punctuation">)</span> 
                <span class="token comment">// 移除 ret 末尾的字符（即删除相邻的重复字符）</span>
                ret<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">else</span> 
                <span class="token comment">// 否则，将当前字符添加到 ret 末尾</span>
                ret <span class="token operator">+=</span> ch<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 返回最终去重后的字符串</span>
        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
    <h2>
     <a id="httpsleetcodecnproblemsbackspacestringcomparedescription_93">
     </a>
     <a href="https://leetcode.cn/problems/backspace-string-compare/description/" rel="nofollow">
      比较含退格的字符串
     </a>
    </h2>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/c2618812c1614839a32e9c2b632e4d19.png"/>
    </p>
    <ul>
     <li>
      思路：本题要求我们比较两个字符串 s 和 t 在应用退格符 # 后是否相同。退格符 # 表示删除字符串中前一个有效字符。如果遇到 #，我们就模拟删除操作，即当字符串非空时，删除最后一个有效字符。最终通过比较处理后的两个字符串来判断它们是否相等。此方法是通过两个字符串 s1 和 s2 来分别存储 s 和 t 经过退格操作后的结果，最后直接比较这两个字符串。
     </li>
    </ul>
    <pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> 
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">bool</span> <span class="token function">backspaceCompare</span><span class="token punctuation">(</span>string s<span class="token punctuation">,</span> string t<span class="token punctuation">)</span> 
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 创建两个空字符串 s1 和 s2 用于存储去除退格符后的结果</span>
        string s1<span class="token punctuation">,</span> s2<span class="token punctuation">;</span>

        <span class="token comment">// 遍历字符串 s 处理退格符</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch <span class="token operator">:</span> s<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>ch <span class="token operator">==</span> <span class="token char">'#'</span><span class="token punctuation">)</span> <span class="token comment">// 如果遇到退格符</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 如果 s1 非空</span>
                <span class="token punctuation">{<!-- --></span>
                    s1<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 删除 s1 最后一个字符</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> 
            <span class="token keyword">else</span> s1 <span class="token operator">+=</span> ch<span class="token punctuation">;</span> <span class="token comment">// 否则，将当前字符添加到 s1</span>
        <span class="token punctuation">}</span> 

        <span class="token comment">// 遍历字符串 t 处理退格符</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch <span class="token operator">:</span> t<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>ch <span class="token operator">==</span> <span class="token char">'#'</span><span class="token punctuation">)</span> <span class="token comment">// 如果遇到退格符</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>s2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 如果 s2 非空</span>
                <span class="token punctuation">{<!-- --></span>
                    s2<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 删除 s2 最后一个字符</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> 
            <span class="token keyword">else</span> s2 <span class="token operator">+=</span> ch<span class="token punctuation">;</span> <span class="token comment">// 否则，将当前字符添加到 s2</span>
        <span class="token punctuation">}</span> 

        <span class="token comment">// 比较两个处理后的字符串是否相同</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>s2 <span class="token operator">==</span> s1<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
    <h2>
     <a id="httpsleetcodecnproblemsbasiccalculatorii_139">
     </a>
     <a href="https://leetcode.cn/problems/basic-calculator-ii/" rel="nofollow">
      基本计算器||
     </a>
    </h2>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/b60e3b8e1240498f9e32fde76936b82f.png"/>
    </p>
    <ul>
     <li>
      思路：这道题目要求我们计算一个字符串表示的算式，支持加、减、乘、除四种基本运算，并且按照优先级顺序处理。为了正确计算，我们需要用栈来处理运算符的优先级。基本的思路如下：
     </li>
    </ul>
    <ol>
     <li>
      遍历字符串：我们遍历字符串的每一个字符，遇到空格时跳过，遇到数字时读取完整的数字，遇到运算符时处理当前运算，并记录当前运算符。
     </li>
     <li>
      使用栈存储中间结果：对于加法和减法，我们将结果加入栈中；对于乘法和除法，我们需要在栈顶进行计算（因为乘法和除法的优先级更高）。
     </li>
     <li>
      最终计算：计算完所有数字和运算符后，栈中的值就是我们需要的结果，将栈中的值加和得到最终答案。
     </li>
    </ol>
    <pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> 
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">calculate</span><span class="token punctuation">(</span>string s<span class="token punctuation">)</span> 
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 使用栈来存储计算中的结果</span>
        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> st<span class="token punctuation">;</span>
        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> n <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 初始操作符为 '+', 表示第一个数字为正数</span>
        <span class="token keyword">char</span> op <span class="token operator">=</span> <span class="token char">'+'</span><span class="token punctuation">;</span>
        
        <span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> n<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 跳过空格</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">' '</span><span class="token punctuation">)</span> i<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token comment">// 如果是数字，读取整个数字</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token char">'0'</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token char">'9'</span><span class="token punctuation">)</span> 
            <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">int</span> tmp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                <span class="token comment">// 读取整个数字</span>
                <span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token char">'0'</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token char">'9'</span><span class="token punctuation">)</span>
                    tmp <span class="token operator">=</span> tmp <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token comment">// 根据当前运算符执行相应的操作</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>op <span class="token operator">==</span> <span class="token char">'+'</span><span class="token punctuation">)</span> 
                    st<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 加法：将数字压入栈</span>
                <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>op <span class="token operator">==</span> <span class="token char">'-'</span><span class="token punctuation">)</span> 
                    st<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token operator">-</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 减法：将数字的相反数压入栈</span>
                <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>op <span class="token operator">==</span> <span class="token char">'*'</span><span class="token punctuation">)</span> 
                    st<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*=</span> tmp<span class="token punctuation">;</span> <span class="token comment">// 乘法：栈顶元素与当前数字相乘</span>
                <span class="token keyword">else</span> 
                    st<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/=</span> tmp<span class="token punctuation">;</span> <span class="token comment">// 除法：栈顶元素与当前数字相除</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span> 
            <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 如果是运算符，更新当前操作符</span>
                op <span class="token operator">=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
                i<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        
        <span class="token comment">// 计算栈中所有数字的和</span>
        <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> ch <span class="token operator">:</span> st<span class="token punctuation">)</span> 
            ret <span class="token operator">+=</span> ch<span class="token punctuation">;</span>

        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
    <h2>
     <a id="httpsleetcodecnproblemsdecodestring_196">
     </a>
     <a href="https://leetcode.cn/problems/decode-string/" rel="nofollow">
      字符串解码
     </a>
    </h2>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/1ac1474717a348f8b5bf15375f3c194d.png"/>
    </p>
    <ul>
     <li>
      思路：这道题目要求解码一个类似 “3[a2[c]]” 的字符串。通过递归或栈的方式，可以逐步处理字符串中的数字、字母和括号。基本思路如下：
     </li>
    </ul>
    <p>
     栈的使用：我们使用两个栈来辅助解码：
    </p>
    <ul>
     <li>
      st 栈用于存储解码过程中的中间字符串。
      <br/>
      nums 栈用于存储数字（即每次遇到数字时，记录数字，表示该数字代表后续括号中的字符串重复次数）。
      <br/>
      数字处理：当我们遇到数字时，我们会计算出当前数字（可能是多位数），并将其压入 nums 栈。
      <br/>
      左括号 [ 处理：当我们遇到左括号时，表示一个新的子字符串的开始，此时将当前已处理的字符串压入 st 栈，开始处理新的一段字符串。
      <br/>
      右括号 ] 处理：当我们遇到右括号时，表示当前子字符串的结束。此时，弹出 st 栈顶的字符串和 nums 栈顶的数字。数字 k 代表当前子字符串应该重复的次数。我们将字符串重复 k 次后，合并到栈顶的字符串。
      <br/>
      字母处理：当我们遇到字母时，将其直接添加到栈顶的字符串中。
     </li>
    </ul>
    <p>
     最后，栈中存储的是解码后的字符串，返回栈顶的字符串即为最终结果。
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> 
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    string <span class="token function">decodeString</span><span class="token punctuation">(</span>string s<span class="token punctuation">)</span> 
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 栈 st 用于存储解码过程中的中间字符串，栈 nums 用于存储数字</span>
        stack<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> st<span class="token punctuation">;</span>
        stack<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> nums<span class="token punctuation">;</span>
        
        st<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 初始栈顶为空字符串</span>
        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> n <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> n<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 处理数字：获取一个完整的数字（可能是多位数）</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token char">'0'</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token char">'9'</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">int</span> tmp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                <span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token char">'0'</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token char">'9'</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    tmp <span class="token operator">=</span> tmp <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                nums<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将数字压入 nums 栈</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// 处理左括号 '['，表示进入一个新的子字符串</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'['</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                i<span class="token operator">++</span><span class="token punctuation">;</span>
                string tmp <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
                <span class="token comment">// 读取子字符串中的字母</span>
                <span class="token keyword">while</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token char">'a'</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token char">'z'</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    tmp <span class="token operator">+=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
                    i<span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                st<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将字母子串压入栈中</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// 处理右括号 ']'，表示子字符串结束，进行重复操作</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">']'</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                string tmp <span class="token operator">=</span> st<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                st<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 弹出栈顶字符串（当前子字符串）</span>
                <span class="token keyword">int</span> k <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                nums<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 弹出栈顶数字（重复次数）</span>

                <span class="token comment">// 重复当前子字符串 k 次，并合并到栈顶字符串中</span>
                <span class="token keyword">while</span><span class="token punctuation">(</span>k<span class="token operator">--</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    st<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+=</span> tmp<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                i<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// 处理下一个字符</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// 处理字母，直接添加到栈顶字符串</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{<!-- --></span>
                string tmp<span class="token punctuation">;</span>
                <span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token char">'a'</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token char">'z'</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    tmp <span class="token operator">+=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
                    i<span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                st<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+=</span> tmp<span class="token punctuation">;</span> <span class="token comment">// 将字母添加到栈顶字符串中</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">return</span> st<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 最终返回栈顶的解码结果</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
    <h2>
     <a id="httpsleetcodecnproblemsvalidatestacksequences_280">
     </a>
     <a href="https://leetcode.cn/problems/validate-stack-sequences/" rel="nofollow">
      验证栈序列
     </a>
    </h2>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/17f99edcea72447daef0f4059fc34943.png"/>
    </p>
    <ul>
     <li>
      思路：
     </li>
     <li>
      模拟栈的操作：
      <br/>
      我们遍历 pushed 序列，将每个元素压入栈中。
      <br/>
      每次压栈后，检查栈顶元素是否与 popped[j] 相等。如果相等，说明栈顶元素可以被弹出，接着弹出栈顶元素，并将 j 增加。
      <br/>
      一直进行上述操作，直到遍历完整个 pushed 序列。
     </li>
     <li>
      最终判断：
      <br/>
      如果遍历完 pushed 序列后，栈为空，且 j 达到了 popped 序列的末尾，说明 popped 是可能的弹出序列。
      <br/>
      如果栈不为空，或者 j 没有达到 popped 的末尾，则说明不可能通过栈操作生成 popped。
     </li>
    </ul>
    <pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> 
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">bool</span> <span class="token function">validateStackSequences</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> pushed<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> popped<span class="token punctuation">)</span> 
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> n <span class="token operator">=</span> popped<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// i 是 pushed 的索引，j 是 popped 的索引</span>
        stack<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> st<span class="token punctuation">;</span>  <span class="token comment">// 栈，用于模拟压栈和弹栈操作</span>
        
        <span class="token comment">// 遍历 pushed 序列</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> n<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            st<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>pushed<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 将当前元素压入栈中</span>
            
            <span class="token comment">// 检查栈顶元素是否等于 popped[j]</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>st<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> st<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> popped<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                st<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 如果栈顶元素等于 popped[j]，则弹出栈顶</span>
                j<span class="token operator">++</span><span class="token punctuation">;</span>  <span class="token comment">// 更新 popped 序列的索引</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        
        <span class="token comment">// 如果栈为空，且所有元素都能匹配成功，则返回 true</span>
        <span class="token keyword">return</span> st<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     栈算法的核心思路：
    </p>
    <ul>
     <li>
      栈的模拟：栈是后进先出的数据结构，适用于回溯、优先级运算、括号匹配等问题。
     </li>
     <li>
      运算符优先级处理：在处理加减乘除等运算时，栈帮助我们按照优先级进行操作，确保高优先级操作先被计算。
     </li>
     <li>
      递归与回溯：栈模拟递归过程，通过将中间状态压栈来解决字符串解码等问题。
     </li>
     <li>
      动态修改栈顶元素：栈可以通过操作栈顶元素来完成许多复杂的任务，如删除、合并、重复等。
     </li>
    </ul>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-vote-box" id="blogVoteBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f5a57575f7a68616e6777772f:61727469636c652f64657461696c732f313435383635343134" class_="artid" style="display:none">
 </p>
</div>


