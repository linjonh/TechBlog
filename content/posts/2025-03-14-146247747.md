---
layout: post
title: "IDEA插件开发IntelliJ-IDEA-插件开发指南"
date: 2025-03-14 07:18:55 +0800
description: "IntelliJ IDEA 是 JetBrains 开发的一款强大的 IDE，支持插件扩展，使其更具灵活性。构建插件，实现各种自定义功能，比如代码自动生成、重构增强、代码检查等。🚀 你还希望插件实现哪些。"
keywords: "【IDEA插件开发】IntelliJ IDEA 插件开发指南"
categories: ['插件开发', 'Java']
tags: ['Java', 'Idea', 'Ide']
artid: "146247747"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146247747
    alt: "IDEA插件开发IntelliJ-IDEA-插件开发指南"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146247747
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146247747
cover: https://bing.ee123.net/img/rand?artid=146247747
image: https://bing.ee123.net/img/rand?artid=146247747
img: https://bing.ee123.net/img/rand?artid=146247747
---

# 【IDEA插件开发】IntelliJ IDEA 插件开发指南

### **IntelliJ IDEA 插件开发指南**

IntelliJ IDEA 是 JetBrains 开发的一款强大的 IDE，支持插件扩展，使其更具灵活性。你可以使用 **Java** 和
**Maven** 构建插件，实现各种自定义功能，比如代码自动生成、重构增强、代码检查等。

* * *

### **1\. IDEA 插件开发概述**

#### **1.1 什么是 IDEA 插件**

  * **插件（Plugin）** 是一种扩展 **IDEA** 的方式，允许开发者添加新功能、增强现有功能或集成外部工具。
  * JetBrains 提供了 **IntelliJ Platform SDK** ，用于开发插件。

#### **1.2 为什么开发 IDEA 插件**

  * **提高开发效率** ：自动化重复任务，例如 Javadoc 生成、代码格式化等。
  * **增强 IDE 功能** ：添加新工具，如定制代码检查、快捷操作。
  * **集成第三方工具** ：如数据库管理、API 调试、Git 扩展等。
  * **商业化插件** ：在 JetBrains Marketplace 发布插件，甚至可以收费。

#### **1.3 IDEA 插件开发者路径**

  1. **掌握 Java 基础**
     * 面向对象编程
     * 反射、注解、Lambda 表达式
  2. **熟悉 IntelliJ Platform**
     * 了解 **IntelliJ Platform SDK** 结构
     * 学习 **PSI（Program Structure Interface）**
  3. **掌握 IDEA 插件 API**
     * `AnAction`（操作）
     * `PsiElement`（代码解析）
     * `Editor`（文本编辑）
     * `Notification`（通知）
  4. **使用 Maven 构建插件**
     * 依赖 **IntelliJ Platform SDK**
     * 使用 **maven-compiler-plugin** 、**idea-plugin**
  5. **发布到 JetBrains Marketplace**
     * 生成插件 ZIP
     * 注册 **JetBrains 开发者账号**
     * 提交审核

* * *

### **2\. 使用 Maven 构建 IDEA 插件**

#### **2.1 创建 Maven 插件项目**

    
    
    mvn archetype:generate -DgroupId=com.example.coolplugin \
        -DartifactId=cool-java-plugin \
        -DarchetypeArtifactId=maven-archetype-quickstart \
        -DinteractiveMode=false
    

#### **2.2 修改`pom.xml`**

    
    
    <project>
        <modelVersion>4.0.0</modelVersion>
        <groupId>com.example.coolplugin</groupId>
        <artifactId>cool-java-plugin</artifactId>
        <version>1.0-SNAPSHOT</version>
    
        <properties>
            <maven.compiler.source>17</maven.compiler.source>
            <maven.compiler.target>17</maven.compiler.target>
            <intellij.version>2023.2</intellij.version>
        </properties>
    
        <dependencies>
            <dependency>
                <groupId>com.jetbrains.intellij.platform</groupId>
                <artifactId>core</artifactId>
                <version>${intellij.version}</version>
                <scope>provided</scope>
            </dependency>
        </dependencies>
    
        <build>
            <plugins>
                <plugin>
                    <groupId>org.jetbrains.intellij</groupId>
                    <artifactId>idea-plugin</artifactId>
                    <version>1.3.0</version>
                    <configuration>
                        <intellijVersion>${intellij.version}</intellijVersion>
                    </configuration>
                </plugin>
            </plugins>
        </build>
    </project>
    

* * *

### **3\. 编写 Java 代码**

#### **3.1 目录结构**

    
    
    cool-java-plugin
    ├── src
    │   ├── main
    │   │   ├── java/com/example/coolplugin
    │   │   │   ├── GenerateJavaDocAction.java  // 生成 Javadoc
    │   │   ├── resources/META-INF/plugin.xml  // 插件注册
    

#### **3.2 创建`GenerateJavaDocAction.java`**

    
    
    package com.example.coolplugin;
    
    import com.intellij.openapi.actionSystem.AnAction;
    import com.intellij.openapi.actionSystem.AnActionEvent;
    import com.intellij.openapi.editor.Editor;
    import com.intellij.openapi.editor.Document;
    import com.intellij.openapi.project.Project;
    import com.intellij.psi.*;
    
    public class GenerateJavaDocAction extends AnAction {
    
        @Override
        public void actionPerformed(AnActionEvent event) {
            Editor editor = event.getData(com.intellij.openapi.actionSystem.CommonDataKeys.EDITOR);
            Project project = event.getProject();
            if (editor == null || project == null) return;
    
            PsiFile psiFile = event.getData(com.intellij.openapi.actionSystem.CommonDataKeys.PSI_FILE);
            if (!(psiFile instanceof PsiJavaFile)) {
                return;
            }
    
            PsiElement element = psiFile.findElementAt(editor.getCaretModel().getOffset());
            if (element == null || !(element.getParent() instanceof PsiMethod)) {
                return;
            }
    
            PsiMethod method = (PsiMethod) element.getParent();
            Document document = editor.getDocument();
            int offset = method.getTextOffset();
            String javadoc = generateJavadoc(method);
            document.insertString(offset, javadoc);
        }
    
        private String generateJavadoc(PsiMethod method) {
            StringBuilder sb = new StringBuilder();
            sb.append("/**\n * ").append(method.getName()).append("\n");
            for (PsiParameter param : method.getParameterList().getParameters()) {
                sb.append(" * @param ").append(param.getName()).append(" ").append(param.getType().getPresentableText()).append("\n");
            }
            if (!method.getReturnType().equals(PsiType.VOID)) {
                sb.append(" * @return ").append(method.getReturnType().getPresentableText()).append("\n");
            }
            sb.append(" */\n");
            return sb.toString();
        }
    }
    

* * *

### **4\. 配置`plugin.xml`**

📂 `src/main/resources/META-INF/plugin.xml`

    
    
    <idea-plugin>
        <id>com.example.coolplugin</id>
        <name>Cool Java Plugin</name>
        <version>1.0.0</version>
        <vendor email="your_email@example.com">Your Name</vendor>
    
        <actions>
            <action id="com.example.coolplugin.GenerateJavaDocAction"
                    class="com.example.coolplugin.GenerateJavaDocAction"
                    text="Generate Javadoc"
                    description="Automatically generates Javadoc for Java methods">
                <add-to-group group-id="EditorPopupMenu" anchor="first"/>
            </action>
        </actions>
    </idea-plugin>
    

* * *

### **5\. 运行 & 测试**

#### **5.1 使用 Maven 运行**

    
    
    mvn clean package
    

生成插件 JAR 包：

    
    
    target/cool-java-plugin-1.0-SNAPSHOT.jar
    

#### **5.2 在 IDEA 中调试**

    
    
    mvn install && mvn idea:run
    

📌 **测试步骤**

  1. 右键 Java 方法，点击 `Generate Javadoc`
  2. Javadoc 自动插入

* * *

### **6\. 发布到 JetBrains Marketplace**

#### **6.1 生成 ZIP**

    
    
    mvn package
    

插件文件位置：

    
    
    target/cool-java-plugin-1.0-SNAPSHOT.zip
    

#### **6.2 发布**

  1. 注册 **JetBrains 账号**
  2. 进入 **[插件市场](https://plugins.jetbrains.com/)**
  3. 上传 `cool-java-plugin-1.0-SNAPSHOT.zip`
  4. **等待审核**

* * *

### **7\. 总结**

  * ✅ **基于 Maven 构建**
  * ✅ **代码优化，增强可读性**
  * ✅ **实现 Javadoc 生成功能**
  * ✅ **支持 IDEA 插件市场发布**

🚀 你还希望插件实现哪些 **酷炫功能** ？欢迎讨论！



