---
layout: post
title: å‰ç«¯å·¥ç¨‹åŒ–åŸºäºVue.js-3.0çš„è®¾è®¡ä¸å®è·µ
date: 2024-08-25 23:36:56 +08:00
categories: ['å‰ç«¯']
tags: ['å‰ç«¯', 'Vue', 'Javascript']
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=139795274
    alt: å‰ç«¯å·¥ç¨‹åŒ–åŸºäºVue.js-3.0çš„è®¾è®¡ä¸å®è·µ
artid: 139795274
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=139795274
featuredImagePreview: https://bing.ee123.net/img/rand?artid=139795274
---

# å‰ç«¯å·¥ç¨‹åŒ–ï¼šåŸºäºVue.js 3.0çš„è®¾è®¡ä¸å®è·µ

> * **ğŸ’‚ ä¸ªäººç½‘ç«™:ã€
>   [æ‘¸é±¼æ¸¸æˆ](https://haiyong.site/moyu)
>   ã€‘ã€
>   [ç¥çº§ä»£ç èµ„æºç½‘ç«™](https://code.haiyong.site)
>   ã€‘ã€
>   [å·¥å…·å¤§å…¨](https://tools.haiyong.site/)
>   ã€‘**
> * **ğŸ¤Ÿ ä¸€ç«™å¼è½»æ¾æ„å»ºå°ç¨‹åºã€Webç½‘ç«™ã€ç§»åŠ¨åº”ç”¨ï¼šğŸ‘‰
>   [æ³¨å†Œåœ°å€](https://cloud.memfiredb.com/auth/login?from=5VkUHt)**
> * **ğŸ¤Ÿ åŸºäºWebç«¯æ‰“é€ çš„ï¼šğŸ‘‰
>   [è½»é‡åŒ–å·¥å…·åˆ›ä½œå¹³å°](https://sso.mapmost.com/#/login?source_inviter=ryIXGCHG)**
> * **ğŸ’… æƒ³å¯»æ‰¾å…±åŒå­¦ä¹ äº¤æµï¼Œæ‘¸é±¼åˆ’æ°´çš„å°ä¼™ä¼´ï¼Œè¯·ç‚¹å‡»ã€
>   [å…¨æ ˆæŠ€æœ¯äº¤æµç¾¤](https://haiyong.site/chat/)
>   ã€‘**

å‰ç«¯å·¥ç¨‹åŒ–æ˜¯ç°ä»£Webå¼€å‘çš„é‡è¦è¶‹åŠ¿ï¼Œæ—¨åœ¨é€šè¿‡æ ‡å‡†åŒ–ã€æ¨¡å—åŒ–å’Œè‡ªåŠ¨åŒ–çš„æ‰‹æ®µï¼Œæé«˜å¼€å‘æ•ˆç‡ã€ä»£ç è´¨é‡å’Œé¡¹ç›®å¯ç»´æŠ¤æ€§ã€‚Vue.js 3.0ï¼Œä½œä¸ºä¸€æ¬¾ç°ä»£çš„å‰ç«¯æ¡†æ¶ï¼Œä»¥å…¶æ€§èƒ½ä¼˜å¼‚ã€æ˜“ç”¨æ€§å¼ºå’Œçµæ´»æ€§é«˜çš„ç‰¹ç‚¹ï¼Œæˆä¸ºå‰ç«¯å·¥ç¨‹åŒ–å®è·µä¸­çš„é‡è¦å·¥å…·ã€‚æœ¬æ–‡å°†æ¢è®¨åŸºäºVue.js 3.0çš„å‰ç«¯å·¥ç¨‹åŒ–è®¾è®¡ä¸å®è·µï¼Œæ¶µç›–é¡¹ç›®ç»“æ„ã€ç»„ä»¶åŒ–å¼€å‘ã€çŠ¶æ€ç®¡ç†ã€æ€§èƒ½ä¼˜åŒ–ã€è‡ªåŠ¨åŒ–æµ‹è¯•å’ŒæŒç»­é›†æˆç­‰æ–¹é¢ã€‚

### ä¸€ã€é¡¹ç›®ç»“æ„è®¾è®¡

ä¸€ä¸ªè‰¯å¥½çš„é¡¹ç›®ç»“æ„èƒ½å¤Ÿæ˜¾è‘—æé«˜å¼€å‘æ•ˆç‡å’Œå¯ç»´æŠ¤æ€§ã€‚åŸºäºVue.js 3.0çš„é¡¹ç›®ç»“æ„å¯ä»¥å‚è€ƒä»¥ä¸‹è®¾è®¡ï¼š

```js
my-vue-project/
â”œâ”€â”€ public/                 # é™æ€èµ„æºç›®å½•
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ favicon.ico
â”œâ”€â”€ src/                    # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ assets/             # é™æ€èµ„æº
â”‚   â”œâ”€â”€ components/         # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ router/             # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ store/              # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ views/              # é¡µé¢è§†å›¾
â”‚   â”œâ”€â”€ App.vue             # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.js             # å…¥å£æ–‡ä»¶
â”œâ”€â”€ .env                    # ç¯å¢ƒå˜é‡é…ç½®
â”œâ”€â”€ .gitignore              # Gitå¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ babel.config.js         # Babelé…ç½®
â”œâ”€â”€ package.json            # é¡¹ç›®ä¾èµ–é…ç½®
â””â”€â”€ vue.config.js           # Vue CLIé…ç½®

```

### äºŒã€ç»„ä»¶åŒ–å¼€å‘

Vue.js 3.0å¼•å…¥äº†Composition APIï¼Œä½¿å¾—ç»„ä»¶é€»è¾‘çš„ç»„ç»‡æ›´åŠ çµæ´»å’Œå¯é‡ç”¨ã€‚ä»¥ä¸‹æ˜¯ç»„ä»¶åŒ–å¼€å‘çš„ä¸€äº›æœ€ä½³å®è·µï¼š

#### 1. ç»„ä»¶æ‹†åˆ†

å°†é¡µé¢åˆ’åˆ†ä¸ºå¤šä¸ªå°ç»„ä»¶ï¼Œæ¯ä¸ªç»„ä»¶åªå…³æ³¨å•ä¸€åŠŸèƒ½ã€‚è¿™æ ·å¯ä»¥æé«˜ç»„ä»¶çš„å¯ç»´æŠ¤æ€§å’Œå¤ç”¨æ€§ã€‚

```vue
<!-- Header.vue -->
<template>
  <header>
    <h1>My App</h1>
  </header>
</template>

<script>
export default {
  name: 'Header',
};
</script>

<style scoped>
/* æ ·å¼ä»£ç  */
</style>

```

#### 2. ç»„åˆç»„ä»¶

é€šè¿‡ç»„åˆå¤šä¸ªå°ç»„ä»¶æ„å»ºå¤æ‚çš„é¡µé¢ç»“æ„ã€‚

```vue
<!-- Home.vue -->
<template>
  <div>
    <Header />
    <main>
      <!-- é¡µé¢å†…å®¹ -->
    </main>
    <Footer />
  </div>
</template>

<script>
import Header from '@/components/Header.vue';
import Footer from '@/components/Footer.vue';

export default {
  name: 'Home',
  components: {
    Header,
    Footer,
  },
};
</script>

```

#### 3. ä½¿ç”¨Composition API

Composition APIæä¾›äº†æ›´å¥½çš„é€»è¾‘å¤ç”¨å’Œç»„ç»‡æ–¹å¼ã€‚

```vue
<!-- ExampleComponent.vue -->
<template>
  <div>{{ message }}</div>
</template>

<script>
import { ref } from 'vue';

export default {
  setup() {
    const message = ref('Hello, Vue 3.0!');
    return { message };
  },
};
</script>

```

### ä¸‰ã€çŠ¶æ€ç®¡ç†

åœ¨å¤æ‚çš„åº”ç”¨ä¸­ï¼Œåˆç†çš„çŠ¶æ€ç®¡ç†æ˜¯å¿…ä¸å¯å°‘çš„ã€‚Vue 3.0æ¨èä½¿ç”¨Vuex 4.0æ¥ç®¡ç†åº”ç”¨çŠ¶æ€ã€‚

#### VuexçŠ¶æ€ç®¡ç†

```javascript
// store/index.js
import { createStore } from 'vuex';

const store = createStore({
  state: {
    count: 0,
  },
  mutations: {
    increment(state) {
      state.count++;
    },
  },
  actions: {
    increment({ commit }) {
      commit('increment');
    },
  },
  getters: {
    doubleCount(state) {
      return state.count * 2;
    },
  },
});

export default store;

```

åœ¨ç»„ä»¶ä¸­ä½¿ç”¨Vuexï¼š

```vue
<!-- Counter.vue -->
<template>
  <div>
    <p>{{ count }}</p>
    <button @click="increment">Increment</button>
  </div>
</template>

<script>
import { mapState, mapActions } from 'vuex';

export default {
  computed: {
    ...mapState(['count']),
  },
  methods: {
    ...mapActions(['increment']),
  },
};
</script>

```

### å››ã€æ€§èƒ½ä¼˜åŒ–

æ€§èƒ½ä¼˜åŒ–æ˜¯æå‡ç”¨æˆ·ä½“éªŒçš„é‡è¦ç¯èŠ‚ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›åŸºäºVue.js 3.0çš„æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼š

#### 1. æ‡’åŠ è½½ç»„ä»¶

é€šè¿‡è·¯ç”±æ‡’åŠ è½½å‡å°‘åˆå§‹åŠ è½½æ—¶é—´ã€‚

```javascript
// router/index.js
import { createRouter, createWebHistory } from 'vue-router';

const routes = [
  {
    path: '/',
    name: 'Home',
    component: () => import('@/views/Home.vue'),
  },
  // å…¶ä»–è·¯ç”±
];

const router = createRouter({
  history: createWebHistory(),
  routes,
});

export default router;

```

#### 2. ä½¿ç”¨åŠ¨æ€å¯¼å…¥

æŒ‰éœ€åŠ è½½èµ„æºï¼Œå‡å°‘ä¸å¿…è¦çš„èµ„æºåŠ è½½ã€‚

```javascript
// åœ¨éœ€è¦çš„åœ°æ–¹ä½¿ç”¨åŠ¨æ€å¯¼å…¥
const component = () => import('@/components/MyComponent.vue');

```

#### 3. é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“

ä½¿ç”¨Vue 3.0çš„å“åº”æ€§ç³»ç»Ÿï¼Œç¡®ä¿åªæœ‰å¿…è¦çš„æ•°æ®å˜åŒ–ä¼šè§¦å‘ç»„ä»¶æ›´æ–°ã€‚

### äº”ã€è‡ªåŠ¨åŒ–æµ‹è¯•

è‡ªåŠ¨åŒ–æµ‹è¯•æ˜¯ä¿è¯ä»£ç è´¨é‡çš„é‡è¦æ‰‹æ®µã€‚å¯ä»¥ä½¿ç”¨Jestè¿›è¡Œå•å…ƒæµ‹è¯•å’Œç»„ä»¶æµ‹è¯•ã€‚

#### 1. å®‰è£…Jest

```bash
npm install --save-dev jest vue-jest babel-jest @vue/test-utils

```

#### 2. ç¼–å†™æµ‹è¯•ç”¨ä¾‹

```javascript
// tests/unit/example.spec.js
import { shallowMount } from '@vue/test-utils';
import HelloWorld from '@/components/HelloWorld.vue';

describe('HelloWorld.vue', () => {
  it('renders props.msg when passed', () => {
    const msg = 'new message';
    const wrapper = shallowMount(HelloWorld, {
      props: { msg },
    });
    expect(wrapper.text()).toMatch(msg);
  });
});

```

#### 3. è¿è¡Œæµ‹è¯•

```bash
npm run test

```

### å…­ã€æŒç»­é›†æˆä¸éƒ¨ç½²

æŒç»­é›†æˆï¼ˆCIï¼‰å’ŒæŒç»­éƒ¨ç½²ï¼ˆCDï¼‰æ˜¯ç°ä»£å¼€å‘æµç¨‹çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚å¯ä»¥ä½¿ç”¨GitHub Actionsæ¥å®ç°è‡ªåŠ¨åŒ–æ„å»ºå’Œéƒ¨ç½²ã€‚

#### 1. é…ç½®GitHub Actions

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º
`.github/workflows/ci.yml`
æ–‡ä»¶ï¼š

```yaml
name: CI

on: [push, pull_request]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Install dependencies
      run: npm install
    - name: Run tests
      run: npm run test
    - name: Build
      run: npm run build

```

#### 2. è‡ªåŠ¨åŒ–éƒ¨ç½²

å¯ä»¥é›†æˆåˆ°CI/CDæµç¨‹ä¸­ï¼Œå®ç°æ¯æ¬¡ä»£ç æäº¤åè‡ªåŠ¨éƒ¨ç½²ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨
`gh-pages`
éƒ¨ç½²é™æ€ç½‘ç«™ã€‚

```yaml
name: Deploy to GitHub Pages

on:
  push:
    branches:
      - main

jobs:
  deploy:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Install and Build
      run: |
        npm install
        npm run build
    - name: Deploy
      uses: peaceiris/actions-gh-pages@v3
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        publish_dir: ./dist

```

é€šè¿‡è¿™äº›æ­¥éª¤ï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºä¸€ä¸ªåŸºäºVue.js 3.0çš„å‰ç«¯å·¥ç¨‹åŒ–é¡¹ç›®ï¼Œå®ç°é«˜æ•ˆå¼€å‘ã€ä¼˜è´¨ä»£ç å’Œè‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚å‰ç«¯å·¥ç¨‹åŒ–ä¸ä»…æå‡äº†å¼€å‘ä½“éªŒï¼Œä¹Ÿå¤§å¤§æé«˜äº†é¡¹ç›®çš„å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ã€‚

### â­ï¸ å¥½ä¹¦æ¨è

**ã€Šå‰ç«¯å·¥ç¨‹åŒ–ï¼šåŸºäºVue.js 3.0çš„è®¾è®¡ä¸å®è·µã€‹**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/023c9fab6d29009ffacafd72be0b80a5.png)

ã€å†…å®¹ç®€ä»‹ã€‘

æœ¬ä¹¦ä»¥Vue.jsçš„3.0ç‰ˆæœ¬ä¸ºæ ¸å¿ƒæŠ€æœ¯æ ˆï¼Œå›´ç»•â€œå‰ç«¯å·¥ç¨‹åŒ–â€å’ŒTypeScriptçš„çŸ¥è¯†ç‚¹å±•å¼€è®²è§£ï¼Œæ ¹æ®ç¬”è€…å¤šå¹´çš„å‰ç«¯å¼€å‘å’Œä¸€çº¿å›¢é˜Ÿç®¡ç†ç»éªŒï¼Œå°†Vue 3çš„çŸ¥è¯†ç‚¹æŒ‰ç…§å·¥ç¨‹å¸ˆåšé¡¹ç›®çš„å®æ–½é¡ºåºæ¢³ç†æˆç« ï¼Œä¸€æ­¥ä¸€æ­¥å¸®åŠ©è¯»è€…è¿›è¡Œå‰ç«¯å·¥ç¨‹åŒ–å’ŒVue 3çš„å¼€å‘ã€‚ä»å‰ç«¯å·¥ç¨‹åŒ–å¼€å§‹åˆ°TypeScriptè¯­è¨€çš„å­¦ä¹ ï¼Œå†åˆ°ä½¿ç”¨TypeScriptå¼€å‘Vue 3é¡¹ç›®ï¼Œé€šè¿‡å¾ªåºæ¸è¿›çš„å­¦ä¹ è¿‡ç¨‹æå‡è¯»è€…åœ¨å‰ç«¯å·¥ç¨‹åŒ–é¢†åŸŸçš„å®æˆ˜èƒ½åŠ›ã€‚

ğŸ“š äº¬ä¸œè´­ä¹°é“¾æ¥ï¼š
[ã€Šå‰ç«¯å·¥ç¨‹åŒ–ï¼šåŸºäºVue.js 3.0çš„è®¾è®¡ä¸å®è·µã€‹](https://item.jd.com/13952512.html)