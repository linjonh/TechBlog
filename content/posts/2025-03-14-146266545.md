---
layout: post
title: "Vue3学习笔记"
date: 2025-03-14 20:21:41 +0800
description: "1. 什么是hook?–本质是一个函数，把setup函数中使用的Composition APl行了封装。"
keywords: "Vue3学习笔记"
categories: ['未分类']
tags: ['笔记', '学习']
artid: "146266545"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146266545
    alt: "Vue3学习笔记"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146266545
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146266545
cover: https://bing.ee123.net/img/rand?artid=146266545
image: https://bing.ee123.net/img/rand?artid=146266545
img: https://bing.ee123.net/img/rand?artid=146266545
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Vue3学习笔记
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="Vite_0">
     </a>
     Vite构建工具
    </h3>
    <p>
     优点：
    </p>
    <ol>
     <li>
      <p>
       开发环境中，无需打包操作，可快速的冷启动：Vite 启动开发服务器时无需打包，不用分析模块依赖和编译，而是利用浏览器原生支持 ES 模块的特性，当浏览器请求所需模块时再进行编译，实现按需动态编译。
      </p>
     </li>
     <li>
      <p>
       轻量快速的热重载(HMR)：当某个模块内容改变时，Vite 让浏览器重新请求该模块即可，无需像 Webpack 那样重新编译该模块的所有依赖，无论应用程序大小如何，都能实现极快的模块热重载。
      </p>
     </li>
     <li>
      <p>
       真正的按需编译，不再等待整个应用编译完成。
      </p>
      <p>
       通过Vite创建一个Vue3的项目代码如下：
      </p>
     </li>
    </ol>
    <pre><code class="prism language-js">npm init vite<span class="token operator">-</span>app 项目名称
</code></pre>
    <p>
     注意：Vue3的组件中的中可以没有根标签了（即Vue2中必须有的
    </p>
    <div>
    </div>
    标签）
    <p>
    </p>
    <h3>
     <a id="Setup_20">
     </a>
     Setup配置项的使用：
    </h3>
    <p>
     1.概念：是Vue3.0中一个新的配置项，值为一个函数。
     <br/>
     2.setup是所有Composition API(组合API)“ 表演的舞台”3.组件中所用到的:数据、方法等等，均要配置在setup中。
     <br/>
     4.setup函数的两种返回值:
    </p>
    <pre><code>1.若返回一个对象，则对象中的属性、方法,在模板中均可以直接使用。(重点关注!)
2.若返回一个渲染函数:则可以自定义渲染内容。（了解)
</code></pre>
    <p>
     5.注意点:
    </p>
    <pre><code> 1.尽量不要与Vue2.x配置混用
       a.Vue2.x配置(data、methos、computed..)中可以访问到setup中的属性、方法.

       b.但在setup中不能访问到Vue2.x配置(data、methos、computed...)。
       c. 如果有重名，setup优先。
2.setup不能是一个async函数，因为返回值不再是return的对象,而是promise,模板看不到return对象中的属性。
</code></pre>
    <h3>
     <a id="ref_38">
     </a>
     ref函数的使用：
    </h3>
    <pre><code>作用: 定义一个响应式的数据，即ref对象
语法:
    A.const xxx = ref(initValue)
    B.创建一个包含响应式数据的引用对象(reference对象)9
    C.JS中操作数据: xxx.value
    D.模板中读取数据: 不需要.value，直接:&lt;div&gt;{<!-- -->{xxx}}&lt;/div&gt;
</code></pre>
    <p>
     备注:
     <br/>
     接收的数据可以是:基本类型、也可以是对象类型:
     <br/>
     基本类型的数据:响应式依然是靠 0bject.defineProperty()的get与set 完成的。
    </p>
    <pre><code>对象类型的数据:内部“求助”了Vue3.0中的一个新函数---reactive 函数。
</code></pre>
    <p>
     APP.vue问价代码如下：
    </p>
    <pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>姓名：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>name<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>年纪：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>age<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>工种：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>job<span class="token punctuation">.</span>type<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>薪资：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>job<span class="token punctuation">.</span>salary<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button @click<span class="token punctuation">.</span>once<span class="token operator">=</span><span class="token string">"changeInfo"</span><span class="token operator">&gt;</span>点击修改姓名年纪<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>ref<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'App'</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
      <span class="token comment">//数据</span>
      <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">)</span>
      <span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span>
      <span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'true'</span><span class="token punctuation">)</span>
      <span class="token keyword">let</span> job <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'前端工程师'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">salary</span><span class="token operator">:</span> <span class="token string">'30k'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token comment">//方法</span>
      <span class="token keyword">function</span> <span class="token function">changeInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        name<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'李四'</span><span class="token punctuation">,</span>
        age<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'30k'</span><span class="token punctuation">,</span>
        job<span class="token punctuation">.</span>value<span class="token punctuation">.</span>type <span class="token operator">=</span><span class="token string">'后端工程师'</span>
        job<span class="token punctuation">.</span>value<span class="token punctuation">.</span>salary <span class="token operator">=</span><span class="token string">'20k'</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
         <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'按钮只能点击一次'</span><span class="token punctuation">)</span>
          flag<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token operator">!</span>flag<span class="token punctuation">.</span>value
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token comment">//返回setup中的数据和方法</span>
      <span class="token keyword">return</span><span class="token punctuation">{<!-- --></span>
        name<span class="token punctuation">,</span>
        age<span class="token punctuation">,</span>
        job<span class="token punctuation">,</span>
        changeInfo<span class="token punctuation">,</span>
        flag
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

</code></pre>
    <h3>
     <a id="reactive__102">
     </a>
     reactive 函数
    </h3>
    <ul>
     <li>
      <p>
       作用: 定义一个对象类型的响应式数据(
       <strong>
        基本类型不要用它，要用 ref 函数
       </strong>
       )
      </p>
     </li>
     <li>
      <p>
       语法:const 代理对象=reactive(源对象)接收一个对象(或数组)，返回一个代理对象(proxy实例对象)
      </p>
     </li>
     <li>
      <p>
       reactive定义的响应式数据是“深层次的”。
      </p>
     </li>
     <li>
      <p>
       内部基于 ES6 的 Proxy 实现，通过代理对象操作源对象内部数据进行操作
      </p>
     </li>
    </ul>
    <p>
     App.vue实例代码如下：
    </p>
    <pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>姓名：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>p<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>年纪：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>p<span class="token punctuation">.</span>age<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>工种：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>p<span class="token punctuation">.</span>job<span class="token punctuation">.</span>type<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>薪资：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>p<span class="token punctuation">.</span>job<span class="token punctuation">.</span>salary<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>c的值为：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>p<span class="token punctuation">.</span>job<span class="token punctuation">.</span>a<span class="token punctuation">.</span>b<span class="token punctuation">.</span>c<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>爱好为：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>p<span class="token punctuation">.</span>hobby<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button @click<span class="token punctuation">.</span>once<span class="token operator">=</span><span class="token string">"changeInfo"</span><span class="token operator">&gt;</span>点击修改姓名年纪<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>ref<span class="token punctuation">,</span>reactive<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'App'</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
      <span class="token comment">//数据</span>
     <span class="token comment">/* let name = ref('张三')
      let age = ref(18)
      let flag = ref('true')
      let hobby = reactive(['上学','吃饭','打豆豆'])
      let job = reactive({
        type: '前端工程师',
        salary: '30k',
        a:{
          b:{
            c:666
          }

        }
      })*/</span>
      <span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'true'</span><span class="token punctuation">)</span>
      <span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'张三'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">,</span>
        <span class="token literal-property property">hobby</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'上学'</span><span class="token punctuation">,</span><span class="token string">'吃饭'</span><span class="token punctuation">,</span><span class="token string">'打豆豆'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">job</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'前端工程师'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">salary</span><span class="token operator">:</span> <span class="token string">'30k'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">a</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">b</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
              <span class="token literal-property property">c</span><span class="token operator">:</span><span class="token number">666</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
        <span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>
      <span class="token comment">//方法</span>
      <span class="token keyword">function</span> <span class="token function">changeInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        p<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'李四'</span><span class="token punctuation">,</span>
        p<span class="token punctuation">.</span>age<span class="token operator">=</span> <span class="token string">'30k'</span><span class="token punctuation">,</span>
        p<span class="token punctuation">.</span>job<span class="token punctuation">.</span>type <span class="token operator">=</span><span class="token string">'后端工程师'</span>
        p<span class="token punctuation">.</span>job<span class="token punctuation">.</span>salary <span class="token operator">=</span><span class="token string">'20k'</span>
        p<span class="token punctuation">.</span>job<span class="token punctuation">.</span>a<span class="token punctuation">.</span>b<span class="token punctuation">.</span>c<span class="token operator">=</span><span class="token number">111</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
         <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'按钮只能点击一次'</span><span class="token punctuation">)</span>
          flag<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token operator">!</span>flag<span class="token punctuation">.</span>value
          <span class="token punctuation">}</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>p<span class="token punctuation">.</span>hobby<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
          p<span class="token punctuation">.</span>hobby<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> p<span class="token punctuation">.</span>hobby<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span>i
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token comment">//返回setup中的数据和方法</span>
      <span class="token keyword">return</span><span class="token punctuation">{<!-- --></span>
        name<span class="token punctuation">,</span>
        p<span class="token punctuation">,</span>
        flag<span class="token punctuation">,</span>
        changeInfo
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

</code></pre>
    <p>
     <strong>
      reactive函数与ref函数对比
     </strong>
     :
    </p>
    <p>
     。从定义数据角度对比:
     <br/>
     ref用来定义:基本类型数据。
     <br/>
     reactive用来定义:对象(或数组)类型数据，
     <br/>
     备注:ref也可以用来定义对象(或数组)类型数据,它内部会自动通过reactive 转为代理对象.
    </p>
    <p>
     从原理角度对比:
     <br/>
     ref通过 object.defineProperty()的 get 与 set 来实现响应式(数据劫持)。
     <br/>
     reactive通过使用Proxy来实现响应式(数据劫持),并通过Reflect操作源对象内部的数据。
    </p>
    <p>
     从使用角度对比:
     <br/>
     ref定义的数据:操作数据需要.value，读取数据时模板中直接读取不需要.value。
    </p>
    <pre><code>    reactive定义的数据:操作数据与读取数据:均不需要.value。
</code></pre>
    <p>
     <strong>
      setup函数两个需要注意的点为：
     </strong>
    </p>
    <ul>
     <li>
      <p>
       setup执行的时机
       <br/>
       。在beforeCreate之前执行一次，this是undefined。
      </p>
     </li>
     <li>
      <p>
       setup的参数
       <br/>
       。props:值为对象，包含:组件外部传递过来，且组件内部声明接收了的属性。
       <br/>
       。context:上下文对象
       <br/>
       atrs:值为对象，包含:组件外部传递过来，但没有在props配置中声明的属性,相当于 this.attrs.
       <br/>
       slots:收到的插槽内容,相当于 this.
       <span class="katex--inline">
        <span class="katex">
         <span class="katex-mathml">
          s 
          
         
           l 
          
         
           o 
          
         
           t 
          
         
           s 
          
         
           e 
          
         
           m 
          
         
           i 
          
         
           t 
          
         
           : 
          
         
           分发自定义事件的函数 
          
         
           , 
          
         
           相当于 
          
         
           t 
          
         
           h 
          
         
           i 
          
         
           s 
          
         
           . 
          
         
        
          slots emit: 分发自定义事件的函数,相当于 this.
         </span>
         <span class="katex-html">
          <span class="base">
           <span class="strut" style="height: 0.6944em;">
           </span>
           <span class="mord mathnormal">
            s
           </span>
           <span class="mord mathnormal" style="margin-right: 0.0197em;">
            l
           </span>
           <span class="mord mathnormal">
            o
           </span>
           <span class="mord mathnormal">
            t
           </span>
           <span class="mord mathnormal">
            se
           </span>
           <span class="mord mathnormal">
            mi
           </span>
           <span class="mord mathnormal">
            t
           </span>
           <span class="mspace" style="margin-right: 0.2778em;">
           </span>
           <span class="mrel">
            :
           </span>
           <span class="mspace" style="margin-right: 0.2778em;">
           </span>
          </span>
          <span class="base">
           <span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;">
           </span>
           <span class="mord cjk_fallback">
            分发自定义事件的函数
           </span>
           <span class="mpunct">
            ,
           </span>
           <span class="mspace" style="margin-right: 0.1667em;">
           </span>
           <span class="mord cjk_fallback">
            相当于
           </span>
           <span class="mord mathnormal">
            t
           </span>
           <span class="mord mathnormal">
            hi
           </span>
           <span class="mord mathnormal">
            s
           </span>
           <span class="mord">
            .
           </span>
          </span>
         </span>
        </span>
       </span>
       emit
      </p>
     </li>
    </ul>
    <p>
     <strong>
      computed计算属性函数
     </strong>
    </p>
    <p>
     1.与vue2.x版本中的功能一致
    </p>
    <pre><code>写法为：
</code></pre>
    <pre><code class="prism language-js"><span class="token keyword">import</span><span class="token punctuation">{<!-- --></span>computed<span class="token punctuation">}</span><span class="token keyword">from</span>"vue
<span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token comment">//计属性-简写</span>
<span class="token keyword">let</span> fullName <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span><span class="token keyword">return</span> person<span class="token punctuation">.</span>firstName <span class="token operator">+</span><span class="token string">''</span><span class="token operator">+</span> person<span class="token punctuation">.</span>lastName
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">//计算属性一完整</span>
<span class="token keyword">let</span> fullName <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> person<span class="token punctuation">.</span>firstName <span class="token operator">++</span> person<span class="token punctuation">.</span>lastName
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> nameArr <span class="token operator">=</span>value<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span>
        person<span class="token punctuation">.</span>firstName <span class="token operator">=</span> nameArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        person<span class="token punctuation">.</span>lastName <span class="token operator">=</span> nameArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     代码示例demo.vue组件如下：
    </p>
    <pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>姓名：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>person<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>年纪：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>person<span class="token punctuation">.</span>age<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">"slt"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>信息是：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>person<span class="token punctuation">.</span>message<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>学校是：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>person<span class="token punctuation">.</span>school<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"changeInfo"</span><span class="token operator">&gt;</span>点击显示信息<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>hr<span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>全部信息是：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>person<span class="token punctuation">.</span>fullName<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
 <span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>reactive<span class="token punctuation">,</span>computed<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
    <span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{<!-- --></span>
      <span class="token comment">// eslint-disable-next-line vue/multi-word-component-names</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'demo'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">props</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token string">'msg'</span><span class="token punctuation">,</span>
            <span class="token string">'school'</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">emits</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'showMSG'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span>context</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
            <span class="token literal-property property">message</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span>
            <span class="token literal-property property">school</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span>

        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token comment">//计算属性，传入函数（此时为简写形式，没有考虑计算属性被修改的情况）</span>
        <span class="token comment">//person.fullName = computed(()=&gt;{return person.name + '-' + person.school})</span>


      person<span class="token punctuation">.</span>fullName <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>  <span class="token comment">//考虑了计算属性被修改的情况</span>
          <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> person<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'-'</span> <span class="token operator">+</span> person<span class="token punctuation">.</span>school
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            person<span class="token punctuation">.</span>Name <span class="token operator">=</span>value<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
            person<span class="token punctuation">.</span>school <span class="token operator">=</span>value<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token keyword">function</span> <span class="token function">changeInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            person<span class="token punctuation">.</span>message <span class="token operator">=</span> props<span class="token punctuation">.</span>msg
            person<span class="token punctuation">.</span>school <span class="token operator">=</span> props<span class="token punctuation">.</span>school
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>
            context<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'showMSG'</span><span class="token punctuation">,</span><span class="token string">'jjjj'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
          person<span class="token punctuation">,</span>
          changeInfo
        <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre>
    <p>
     <strong>
      watch函数
     </strong>
    </p>
    <p>
     1.与Vue2.x中watch配置功能一致
     <br/>
     2.两个小“坑”:
     <br/>
     监视reactive定义的响应式数据时：oldValue无法正确获取，强制开启了深度监视(deep配置失效)。
    </p>
    <pre><code>    监视reactive定义的响应式数据中某个属性时:deep配置有效。
</code></pre>
    <p>
     代码示例demo01.vue如下:
    </p>
    <pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>值是：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>sum<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>msg<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"sum++"</span><span class="token operator">&gt;</span>点击sum<span class="token operator">++</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"shouMessage"</span><span class="token operator">&gt;</span>点击msg修改<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>hr<span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>姓名：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>person<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>年纪：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>person<span class="token punctuation">.</span>age<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>薪水：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>person<span class="token punctuation">.</span>job<span class="token punctuation">.</span>salary<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"person.name +='-'"</span><span class="token operator">&gt;</span>点击姓名改<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"person.age +=1"</span><span class="token operator">&gt;</span>点击年纪改<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"person.job.salary++"</span><span class="token operator">&gt;</span>加薪<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>reactive<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> watch<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// eslint-disable-next-line vue/multi-word-component-names</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"demo01"</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> msg <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">"你好世界"</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'李四'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">,</span>
      <span class="token literal-property property">job</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">salary</span><span class="token operator">:</span><span class="token number">50</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">//情况一：监视ref所定义的一个响应式数据</span>
  <span class="token comment">/*  watch(sum,(newValue,oldValue)=&gt;{
      console.log("sum被修改了",newValue,oldValue)
    })
*/</span>
    <span class="token comment">//情况三：监视reactive所定义的一个响应式数据，注意：1.此处无法正确的获得oldValue。2.强制开启了深度监视</span>

    <span class="token function">watch</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span>oldValue</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"姓名年纪是："</span><span class="token punctuation">,</span>newValue<span class="token punctuation">,</span>oldValue<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//监视整个对象，默认开启deep</span>

    <span class="token comment">//情况四：监视reactive所定义的一个响应式数据中的某个属性</span>

  <span class="token comment">/*  watch(()=&gt;{person.name},(newValue,oldValue)=&gt;{
      console.log('person的name变化了',newValue,oldValue)
    })*/</span>

    <span class="token comment">//情况五:深度监视对象</span>
    <span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>person<span class="token punctuation">.</span>job<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span>oldValue</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'person的name变化了'</span><span class="token punctuation">,</span>newValue<span class="token punctuation">,</span>oldValue<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">deep</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//此处由于监视的是reactive中定义的对象中的某个属性，所以deep配置有效</span>
    <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//只要该箭头函数中用到的都会被自动监视，即该函数监视所有数据  </span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

   <span class="token keyword">function</span> <span class="token function">shouMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
     msg<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">"张三"</span>
   <span class="token punctuation">}</span>
    <span class="token comment">//情况二：监视ref多定义的多个响应式数据</span>

 <span class="token comment">/*   watch([sum,msg],(newValue,oldValue)=&gt;{
      console.log("sum的值是" + newValue[0], "msg的值是" + newValue[1],"以前的值是"+oldValue[0] + oldValue[1])
    },{immediate:true})*/</span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      sum<span class="token punctuation">,</span>
      msg<span class="token punctuation">,</span>
    shouMessage<span class="token punctuation">,</span>
      person
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style scoped<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre>
    <p>
     <strong>
      watchEffect函数
     </strong>
    </p>
    <p>
     。watch的套路是：既要指明监视的属性，也要指明监视的回调
     <br/>
     。waichEtec的喜路是:不用指明监投哪个属性，监视的回调中用到个属性，那监投哪个属性，
     <br/>
     。watchEffect有点像compued:
     <br/>
     。但computed注重的计算出来的值(回调函数的返回值)，所以必须要写返回值。
     <br/>
     。而watcheEffect更注量的是过程(回调函数的函数体)，所以不用写返回值。
    </p>
    <p>
     <strong>
      自定义hook函数
     </strong>
     <br/>
     1. 什么是hook?–本质是一个函数，把setup函数中使用的Composition APl行了封装。
    </p>
    <pre><code>   2. 类似于vue2.x中的mixin。
   3.自定义hook的优势: 复用代码,让setup中的逻辑更清楚易懂。
</code></pre>
    <p>
     代码demo02.vue示例如下：
    </p>
    <pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>当前鼠标的坐标是：<span class="token constant">X</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>point<span class="token punctuation">.</span>pointX<span class="token punctuation">}</span><span class="token punctuation">}</span>  <span class="token constant">Y</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>point<span class="token punctuation">.</span>pointY<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>

<span class="token keyword">import</span> usePoint <span class="token keyword">from</span> <span class="token string">"../hooks/usePoint"</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// eslint-disable-next-line vue/multi-word-component-names</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"demo02"</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> point <span class="token operator">=</span> <span class="token function">usePoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span><span class="token punctuation">{<!-- --></span>
      point
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style scoped<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre>
    <p>
     usePoint.js文件代码如下：
    </p>
    <pre><code class="prism language-js"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>onBeforeUnmount<span class="token punctuation">,</span> onMounted<span class="token punctuation">,</span> reactive<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> point <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">pointX</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pointY</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">function</span> <span class="token function">geyXY</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        point<span class="token punctuation">.</span>pointX <span class="token operator">=</span> event<span class="token punctuation">.</span>clientX
        point<span class="token punctuation">.</span>pointY <span class="token operator">=</span> event<span class="token punctuation">.</span>clientY

    <span class="token punctuation">}</span>
    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
        window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span>geyXY<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">onBeforeUnmount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
        window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span>geyXY<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> point
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      toRef与toRefs函数
     </strong>
     <br/>
     作用:创建一个ref对象，其value值指向另一个对象中的某个属性!
     <br/>
     语法:const name =toRef(person,‘name’)
    </p>
    <p>
     应用:要将响应式对象中的某个属性单独提供给外部使用时。
     <br/>
     扩展:toRefs与toRef功能一致，但可以批量创建多个ref对象，语法:toRefs(person)
    </p>
    <p>
     示例demo03的代码如下：
    </p>
    <pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>person对象的数据是：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>person<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>姓名：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>name<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>年纪：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>person<span class="token punctuation">.</span>age<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>薪水：<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>salary<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"person.name +='-'"</span><span class="token operator">&gt;</span>点击姓名改<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"person.age +=1"</span><span class="token operator">&gt;</span>点击年纪改<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"person.job.salary++"</span><span class="token operator">&gt;</span>加薪<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>reactive<span class="token punctuation">,</span>  toRef<span class="token punctuation">,</span>toRefs<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// eslint-disable-next-line vue/multi-word-component-names</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"demo03"</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'李四'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
      <span class="token literal-property property">job</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">salary</span><span class="token operator">:</span> <span class="token number">50</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
     person<span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token function">toRef</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//返回出常用的属性</span>
      <span class="token literal-property property">salary</span><span class="token operator">:</span> <span class="token function">toRef</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>job<span class="token punctuation">,</span><span class="token string">"salary"</span><span class="token punctuation">)</span> <span class="token punctuation">,</span><span class="token comment">//返回出常用的属性</span>
      <span class="token operator">...</span><span class="token function">toRefs</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span> <span class="token comment">//自动解析person的所有属性并交出去</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style scoped<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre>
    <p>
     <strong>
      readonly与shallowReadonly函数
     </strong>
     <br/>
     1.readonly: 让一个响应式数据变为只读的(深只读)
     <br/>
     2.shallowReadonly:让一个响应式数据变为只读的(浅只读)
     <br/>
     3.应用场景: 不希望数据被修改时。
    </p>
    <p>
     <strong>
      toRaw与markRaw函数
     </strong>
     <br/>
     toRaw:
     <br/>
     。作用:将一个由 reactive 生成的响应式对象转为普通对象。
     <br/>
     。使用场景:用于读取响应式对象对应的普通对象，对这个普通对象的所有操作，不会引起页面更新
     <br/>
     markRaw:
     <br/>
     。作用:标记一个对象，使其永远不会再成为响应式对象。
     <br/>
     。应用场景:
     <br/>
     1.有些值不应被设置为响应式的，例如复杂的第三方类库等。
     <br/>
     2.当渲染具有不可变数据源的大列表时，跳过响应式转换可以提高性能。
    </p>
    <p>
     <strong>
      customRef自定义Ref
     </strong>
    </p>
    <p>
     作用：创建一个自定义的ref，并对其依赖项跟踪和更新触发进行显示控制，同时可借助定时器实现防抖效果。
    </p>
    <p>
     App.Vue示例代码如下
    </p>
    <pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"text"</span> v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"keyword"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>keyword<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>customRef<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'App'</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
      <span class="token keyword">function</span> <span class="token function">myRef</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> timer
          <span class="token keyword">return</span> <span class="token function">customRef</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">track<span class="token punctuation">,</span>trigger</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span><span class="token punctuation">{<!-- --></span>
              <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token function">track</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//追踪数据的变化</span>
                <span class="token keyword">return</span> value
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token function">set</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
                timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
                  value <span class="token operator">=</span> newValue <span class="token comment">//跟新值</span>
                  <span class="token function">trigger</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//通知vue重新解析模板</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>

              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">let</span> keyword <span class="token operator">=</span> <span class="token function">myRef</span><span class="token punctuation">(</span><span class="token string">'你好世界'</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span><span class="token punctuation">{<!-- --></span>
        keyword
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

</code></pre>
    <p>
     <strong>
      provide与inject函数
     </strong>
    </p>
    <pre><code>作用:实现**祖孙**组件间通信
套路:父组件有一个 provide选项来提供数据，后代组件有一个 inject 选项来开始使用这些数据
</code></pre>
    <p>
     具体写法:
    </p>
    <p>
     祖组件中：
    </p>
    <pre><code class="prism language-js"><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    lwt car <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'宝马'</span><span class="token punctuation">,</span><span class="token literal-property property">price</span><span class="token operator">:</span><span class="token string">'40w'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">'car'</span><span class="token punctuation">,</span>car<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     孙组件中：
    </p>
    <pre><code class="prism language-js"><span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span>context</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> car <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">'car'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>car<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     son.vue组件代码如下：
    </p>
    <pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>我是son组件<span class="token punctuation">,</span>收到的数据是<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>car<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>inject<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// eslint-disable-next-line vue/multi-word-component-names</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"son"</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> car <span class="token operator">=</span><span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">'car'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">//return返回时要带上大括号，否则模板收不到数据</span>
      car
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style scoped<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre>
    <p>
     App.vue组件代码如下：
    </p>
    <pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>我是App组件，我这里的car是<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>car<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>son<span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> reactive<span class="token punctuation">,</span>provide<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> son <span class="token keyword">from</span> <span class="token string">"@/components/son"</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'App'</span><span class="token punctuation">,</span>
    <span class="token comment">// eslint-disable-next-line vue/no-unused-components</span>
    <span class="token literal-property property">components</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>son<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
     <span class="token keyword">let</span> car <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
       <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'宝马'</span><span class="token punctuation">,</span>
       <span class="token literal-property property">price</span><span class="token operator">:</span><span class="token string">'60w'</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">'car'</span><span class="token punctuation">,</span>car<span class="token punctuation">)</span>
      <span class="token keyword">return</span><span class="token punctuation">{<!-- --></span>
        car
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>


</code></pre>
    <p>
     <strong>
      Teleport标签的使用
     </strong>
    </p>
    <p>
     概念：是一种能够将我们的组件html结构移动到指定位置的技术
    </p>
    <pre><code class="prism language-j">&lt;teleport to="移动位置"&gt;
    &lt;div v-if="isShow" class="mask"&gt;
        &lt;div class="dialog"&gt;
        &lt;h3&gt;我是一个弹窗&lt;/h3&gt;
        &lt;button @click="isShow = false"&gt;关闭弹窗&lt;/button&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/teleport&gt;
</code></pre>
    <p>
     代码示例如:
    </p>
    <pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>我是App组件，我这里的car是<span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>car<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"isshow = true"</span><span class="token operator">&gt;</span>点我显示弹窗<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>teleport to<span class="token operator">=</span><span class="token string">"body"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div v<span class="token operator">-</span>show<span class="token operator">=</span><span class="token string">"isshow"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"color"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"text"</span> placeholder<span class="token operator">=</span><span class="token string">"请输入名称"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"text"</span> placeholder<span class="token operator">=</span><span class="token string">"请输入密码"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>内容一<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>内容二<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>内容三<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"isshow = false"</span><span class="token operator">&gt;</span>点我关闭弹窗<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>teleport<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>son<span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> ref<span class="token punctuation">,</span>reactive<span class="token punctuation">,</span>provide<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> son <span class="token keyword">from</span> <span class="token string">"@/components/son"</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'App'</span><span class="token punctuation">,</span>
    <span class="token comment">// eslint-disable-next-line vue/no-unused-components</span>
    <span class="token literal-property property">components</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>son<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
     <span class="token keyword">let</span> car <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
       <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'宝马'</span><span class="token punctuation">,</span>
       <span class="token literal-property property">price</span><span class="token operator">:</span><span class="token string">'60w'</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">let</span> isshow <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
      <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">'car'</span><span class="token punctuation">,</span>car<span class="token punctuation">)</span>
      <span class="token keyword">return</span><span class="token punctuation">{<!-- --></span>
        car<span class="token punctuation">,</span>
        isshow
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
<span class="token punctuation">.</span>color<span class="token punctuation">{<!-- --></span>
  background<span class="token operator">-</span>color<span class="token operator">:</span> #42b983<span class="token punctuation">;</span>
  text<span class="token operator">-</span>align<span class="token operator">:</span> center<span class="token punctuation">;</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> 300px<span class="token punctuation">;</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> 300px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>

  <span class="token literal-property property">width</span><span class="token operator">:</span> 300px<span class="token punctuation">;</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> 300px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>

</code></pre>
    <p>
     suspense标签的使用
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/6424ad0c6049420bb04678e95f08ed0b.png#pic_center"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f35373039333131352f:61727469636c652f64657461696c732f313436323636353435" class_="artid" style="display:none">
 </p>
</div>


