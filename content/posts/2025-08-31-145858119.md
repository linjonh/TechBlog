---
layout: post
title: "æ·±å…¥å‰–æKafkaåˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—æ¶æ„å¥¥ç§˜ä¹‹Springbooté›†æˆKafka"
date: 2025-08-31T15:00:18+0800
description: "å…¶å®åœ¨å•æœºæœåŠ¡ä¸‹ï¼ŒKafkaå·²ç»å…·å¤‡äº†éå¸¸é«˜çš„æ€§èƒ½ï¼ŒTPSèƒ½å¤Ÿè¾¾åˆ°ç™¾ä¸‡çº§ï¼Œä½†æ˜¯å®é™…å·¥ä½œä¸­ä½¿ç”¨ï¼Œå•æœºæ­å»ºçš„Kafkaæœ‰å¾ˆå¤§çš„å±€é™æ€§ã€‚"
keywords: "ã€Šæ·±å…¥å‰–æKafkaåˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—æ¶æ„å¥¥ç§˜ã€‹ä¹‹Springbooté›†æˆKafka"
categories: ['æœªåˆ†ç±»']
tags: ['æ¶æ„', 'åˆ†å¸ƒå¼', 'Kafka']
artid: "145858119"
arturl: "https://blog.csdn.net/shsjssnn/article/details/145858119"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=145858119
    alt: "æ·±å…¥å‰–æKafkaåˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—æ¶æ„å¥¥ç§˜ä¹‹Springbooté›†æˆKafka"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=145858119
featuredImagePreview: https://bing.ee123.net/img/rand?artid=145858119
cover: https://bing.ee123.net/img/rand?artid=145858119
image: https://bing.ee123.net/img/rand?artid=145858119
img: https://bing.ee123.net/img/rand?artid=145858119
---



# ã€Šæ·±å…¥å‰–æKafkaåˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—æ¶æ„å¥¥ç§˜ã€‹ä¹‹Springbooté›†æˆKafka



![](https://img-blog.csdnimg.cn/direct/2d95dedc1e3c4fd387ab0376ee99e652.gif)

**ğŸ¼ä¸ªäººä¸»é¡µï¼š**[ã€Yå°å¤œã€‘](https://blog.csdn.net/shsjssnn?type=blog "ã€Yå°å¤œã€‘")

**ğŸ˜ä½œè€…ç®€ä»‹ï¼šä¸€ä½åŒéå­¦æ ¡çš„å¤§ä¸‰å­¦ç”Ÿï¼Œç¼–ç¨‹çˆ±å¥½è€…ï¼Œ**

**ä¸“æ³¨äºåŸºç¡€å’Œå®æˆ˜åˆ†äº«ï¼Œæ¬¢è¿ç§ä¿¡å’¨è¯¢ï¼**

**ğŸ†å…¥é—¨ä¸“æ ï¼šğŸ‡ã€**[MySQL](https://blog.csdn.net/shsjssnn/category_12433907.html?spm=1001.2014.3001.5482 "MySQL")ï¼Œ[Javaweb](https://blog.csdn.net/shsjssnn/category_12603064.html?spm=1001.2014.3001.5482 "Javaweb")ï¼Œ[Rust](https://blog.csdn.net/shsjssnn/category_12572899.html "Rust")ï¼Œ[python](https://blog.csdn.net/shsjssnn/category_12463990.html "python")ã€‘

**ğŸˆçƒ­é—¨ä¸“æ ï¼šğŸŠã€**[Springboot](https://blog.csdn.net/shsjssnn/category_12679147.html "Springboot")ï¼Œ[Redis](https://blog.csdn.net/shsjssnn/category_12839505.html "Redis")ï¼Œ[Springsecurity](https://blog.csdn.net/shsjssnn/category_12858055.html "Springsecurity")ï¼Œ[Docker](https://blog.csdn.net/shsjssnn/category_12879572.html "Docker")ï¼Œ[AI](https://blog.csdn.net/shsjssnn/category_12799666.html "AI")ã€‘

***æ„Ÿè°¢æ‚¨çš„ç‚¹èµã€å…³æ³¨ã€è¯„è®ºã€æ”¶è—ã€æ˜¯å¯¹æˆ‘æœ€å¤§çš„è®¤å¯å’Œæ”¯æŒï¼â¤ï¸***

![](https://img-blog.csdnimg.cn/direct/c66a63db064845efa9cb6fb9caea3032.gif)













---

## â€‹ğŸˆä¸ºä»€ä¹ˆè¦ä½¿ç”¨é›†ç¾¤ï¼Ÿ

![](https://i-blog.csdnimg.cn/direct/ac66882c6c074bbfa4b728eb12d66fea.png)

Â Â Â Â Â Â Â Â å…¶å®åœ¨å•æœºæœåŠ¡ä¸‹ï¼ŒKafkaå·²ç»å…·å¤‡äº†éå¸¸é«˜çš„æ€§èƒ½ï¼ŒTPSèƒ½å¤Ÿè¾¾åˆ°ç™¾ä¸‡çº§ï¼Œä½†æ˜¯å®é™…å·¥ä½œä¸­ä½¿ç”¨ï¼Œå•æœºæ­å»ºçš„Kafkaæœ‰å¾ˆå¤§çš„å±€é™æ€§ã€‚

**ä¸€æ–¹é¢ï¼šæ¶ˆæ¯å¤ªå¤šï¼Œéœ€è¦åˆ†å¼€æ”¾**

**å¦ä¸€æ–¹é¢ï¼šæœåŠ¡ä¸ç¨³å®šï¼Œæ•°æ®å®¹æ˜“ä¸¢å¤±**

![](https://i-blog.csdnimg.cn/direct/e8310fb7347c4349b411e872644b1e3b.png)

å¤§å®¶é›†ç¾¤è¿™éƒ¨åˆ†æˆ‘çš„ç”µè„‘ä¸Šæ²¡æœ‰å¤šä¸ªè™šæ‹Ÿæœºï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†ï¼Œè¦æ˜¯éœ€è¦æ“ä½œçš„è¯ã€‚å¯ä»¥çœ‹å…¶ä»–åšä¸»çš„æ–‡ç« ã€‚

## â€‹ğŸˆSpringbooté›†æˆKafka

### ğŸ‰å¼•å…¥ä¾èµ–

è¿™ä¸ªä¾èµ–å…³ç³»ç‰ˆæœ¬å’Œä¸‹è½½çš„kafkaæœ‰ä¾èµ–å…³ç³»ï¼Œå¤§å®¶å¯ä»¥å…³æ³¨ä¸‹ã€‚

```
        <dependency>
            <groupId>org.springframework.kafka</groupId>
            <artifactId>spring-kafka</artifactId>
            <version>3.3.1</version>
        </dependency>
        <dependency>
            <groupId>org.apache.kafka</groupId>
            <artifactId>kafka-clients</artifactId>
            <version>3.9.0</version>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
```

### ğŸ‰é…ç½®

```
spring.kafka.bootstrap-servers=ipåœ°å€:9092
kafka.topics=test1
```

### ğŸ‰ç¼–å†™Kafkaçš„é…ç½®ç±»

```
package com.yan.kafka;

import org.apache.kafka.clients.admin.NewTopic;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.kafka.config.TopicBuilder;

@Configuration
public class KafkaConfig {
    @Value("${kafka.topics}")
    private String topic;

    @Bean
    public NewTopic topic(){
        return TopicBuilder.name(topic).build();
    }
}

```

### ğŸ‰ç¼–å†™ç”Ÿäº§è€…é…ç½®ç±»

```
package com.yan.kafka;

import org.apache.kafka.clients.producer.ProducerConfig;
import org.apache.kafka.common.serialization.StringSerializer;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.kafka.core.DefaultKafkaProducerFactory;
import org.springframework.kafka.core.KafkaTemplate;
import org.springframework.kafka.core.ProducerFactory;

import java.util.HashMap;
import java.util.Map;

//å‘é€é…ç½®ç±»
@Configuration
public class KafkaProducerConfig {
    @Value("${spring.kafka.bootstrap-servers}")
    private String service;

    public Map<String, Object>  config(){
        Map<String,Object> config=new HashMap<>();
        config.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,service);
        //è¿›è¡Œåºåˆ—åŒ–
        config.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);
        config.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,StringSerializer.class);
        return config;
    }
    @Bean
    public ProducerFactory<String,String> producerFactory(){
        return new DefaultKafkaProducerFactory<>(config());
    }
    @Bean
    public KafkaTemplate<String,String> kafkaTemplate(){
        return new KafkaTemplate<>(producerFactory());
    }
}

```

### ğŸ‰ç¼–å†™ç”Ÿäº§è€…ä¸šåŠ¡

```
package com.yan.kafka;


import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.kafka.core.KafkaTemplate;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class KafkaController {
    @Autowired
    private KafkaTemplate kafkaTemplate;

    @Value("${kafka.topics}")
    private String topic;

    @GetMapping("/kafka")
    public String sendMsg(){
        for (int i = 0; i < 10; i++) {
            kafkaTemplate.send(topic,"ä½ å¥½"+i);
        }
        return "success";
    }
}

```

### ğŸ‰ç¼–å†™æ¶ˆè´¹è€…é…ç½®ç±»

```
package com.yan.kafka;

import org.apache.kafka.clients.consumer.ConsumerConfig;
import org.apache.kafka.common.serialization.StringSerializer;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;
import org.springframework.kafka.core.*;

import java.util.HashMap;
import java.util.Map;

@Configuration
public class KafkaConsumerConfig {
    @Value("${spring.kafka.bootstrap-servers}")
    private String service;

    public Map<String, Object> config(){
        Map<String,Object> config=new HashMap<>();
        config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,service);
        //è¿›è¡Œååºåˆ—åŒ–
        config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringSerializer.class);
        config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,StringSerializer.class);
        return config;
    }
    @Bean
    public ConsumerFactory<String,String> consumerFactory(){
        return new DefaultKafkaConsumerFactory<>(config());
    }
    @Bean
    public ConcurrentKafkaListenerContainerFactory concurrentKafkaListenerContainerFactory(){
        ConcurrentKafkaListenerContainerFactory ckcf=new ConcurrentKafkaListenerContainerFactory();
        ckcf.setConsumerFactory(consumerFactory());
        return ckcf;
    }

}

```

### ğŸ‰ç¼–å†™æ¶ˆè´¹è€…ç›‘å¬ç±»

```
package com.yan.kafka;


import org.springframework.kafka.annotation.KafkaListener;
import org.springframework.stereotype.Component;

@Component
public class KafkaListeners {
    @KafkaListener(topics="${kafka.topics}",groupId = "aaa")
    void listener(String data){
        System.out.println("æ”¶åˆ°äº†"+data);
    }
}

```

ç„¶åï¼Œå¯åŠ¨ç¨‹åºï¼Œè®¿é—®ä¸€ä¸‹[localhost:8080/kafka](http://localhost:8080/kafka "localhost:8080/kafka")ï¼Œæ§åˆ¶å°ä¼šè¾“å‡ºï¼š

![](https://i-blog.csdnimg.cn/direct/5c524bd513664144bf55b8f3d9d3bcac.png)

### ğŸ‰æŠ¥é”™ï¼š

ä¸‹é¢ä¸‰ç§å›¾æ˜¯æˆ‘åšçš„æ—¶å€™å‡ºç°çš„æŠ¥é”™ã€‚æˆ‘ä»¬å¯ä»¥å¯¹ç¨‹åºåšä¸€ä¸‹æ£€æµ‹

![](https://i-blog.csdnimg.cn/direct/31968dbe9e8b4e38bee3ffe40b30891a.png)

![](https://i-blog.csdnimg.cn/direct/2becc128b91247a2b4b92a401799fd2e.png)

![](https://i-blog.csdnimg.cn/direct/00493c2d26a94d6d9c51c26facd78ff8.png)

é¦–å…ˆè¾“å…¥jpsï¼Œçœ‹linuxä¸­kafkaæ˜¯å¦å¯åŠ¨

![](https://i-blog.csdnimg.cn/direct/c38724ca1f1b45ec953038fe85cd1883.png)

å¦‚æœæ²¡æœ‰å¯åŠ¨ï¼Œåˆ™éœ€è¦è¾“å…¥å‘½ä»¤è¿›è¡Œå¯åŠ¨ã€‚

ç„¶åçœ‹ä¸€ä¸‹9092ç«¯å£æ˜¯å¦å¼€æ”¾ï¼š

```
firewall-cmd --zone=public --list-ports

```

![](https://i-blog.csdnimg.cn/direct/467155c147e54b9d8cc8ae0594673029.png)

è‹¥æ²¡æœ‰å¼€æ”¾ï¼Œåˆ™ä½¿ç”¨å‘½ä»¤ï¼Œå¼€æ”¾9092ç«¯å£

```
firewall-cmd --zone=public --add-port=9092/tcp --permanent
firewall-cmd --reload
```

æ¥ç€æ‰“å¼€Â **/config/server.properties**Â æ–‡ä»¶ï¼Œ

```
listeners=PLAINTEXT://localhost:9092

```

å°†localhostä¿®æ”¹ä¸ºkafkaå½“å‰çš„æ“ä½œç³»ç»Ÿçš„åœ°å€å³å¯ã€‚

![](https://i-blog.csdnimg.cn/direct/53c73acde349407ba4f41be8f0119aa3.png)

ç„¶åæ‰“å¼€windowsçª—å£ï¼Œè¾“å…¥

```
telnet ipåœ°å€ 9092
```

![](https://i-blog.csdnimg.cn/direct/360aa15f9aaa461ea6374965bcb674f4.png)

èƒ½è¿›å…¥çš„è¯ï¼Œå°±è¯´æ˜å¯ä»¥è¿æ¥åˆ°ã€‚

æŠŠè¿™äº›ä¿®æ”¹å®Œæ¯•åï¼Œåº”è¯¥å°±å¯ä»¥é¡ºåˆ©è®¿é—®äº†ã€‚ï¼ï¼ï¼



