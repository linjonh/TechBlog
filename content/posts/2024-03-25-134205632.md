---
layout: post
title: "微信小程序中使用GIF"
date: 2024-03-25 16:28:19 +0800
description: "本文介绍了在微信小程序当中如何重新加载GIF图片，以及如何使用PS对GIF图进行简单的调整，设置其播"
keywords: "微信小程序 gif"
categories: ['微信小程序', '全栈']
tags: ['微信小程序', '前端', 'Css']
artid: "134205632"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=134205632
    alt: "微信小程序中使用GIF"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=134205632
featuredImagePreview: https://bing.ee123.net/img/rand?artid=134205632
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     微信小程序中使用GIF
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2 id="fGDSY">
     前言
    </h2>
    <blockquote>
     <p id="uc3d88d66">
      最近在微信小程序开发时遇到了一个非常复杂的动画，如果要手搓的话需要用canvas一点点弄，比较麻烦，于是打算做一个gif来实现动画效果
     </p>
     <p id="ua522dc29">
      根据需求，动画
      <strong>
       只需播放一次
      </strong>
      即可，并且设置了一个
      <strong>
       重播
      </strong>
      按钮，点击即可重新播放动画
     </p>
     <p id="ubf1b5254">
      为了实现这样的效果，需要搞明白两个问题：
     </p>
     <ol>
      <li id="ude4da3b6">
       如何设置gif的播放次数（循环or仅一次）
      </li>
      <li id="ua1ddc717">
       如何重新加载gif
      </li>
     </ol>
    </blockquote>
    <h2 id="gHzG0">
     如何设置GIF的播放次数
    </h2>
    <p id="u00f7fda2">
     按理来说应该可以在微信小程序/web中实现GIF动画的定格，但我尝试了
     <code>
      this.animate
     </code>
     动画的使用等多种方法，都没有实现这个功能，于是把目光放在了gif动画本身上：使用PS进行编辑：
    </p>
    <blockquote>
     <p>
      如果大家知道如何实现请一定在评论区留言，感谢！
     </p>
    </blockquote>
    <ol>
     <li id="u5518d171">
      打开PS并导入需要编辑的GIF（我的版本是2022）
     </li>
     <li id="u2f277673">
      在
      <code>
       窗口
      </code>
      中开启
      <code>
       时间轴
      </code>
      ：
     </li>
    </ol>
    <p id="u9fb5a486">
    </p>
    <p class="img-center">
     <img alt="" height="708" id="u859cf1ec" src="https://i-blog.csdnimg.cn/blog_migrate/fd14c172558dc8a6fbf8647c861fd2ba.png" width="233"/>
    </p>
    <ol>
     <li id="u27d14a91">
      在页面的最下方找到时间轴，即可设置该GIF的播放次数：
      <p class="img-center">
       <img alt="" height="140" id="u07dda6fa" src="https://i-blog.csdnimg.cn/blog_migrate/4b1f54064139e8f2e5380cb1f5b8c0c8.png" width="583"/>
      </p>
     </li>
     <li id="u9ccf411c">
      选择“文件——导出——存储为Web所用格式：
      <p class="img-center">
       <img alt="" height="626" id="u2f1d2bc6" src="https://i-blog.csdnimg.cn/blog_migrate/5bb89d972423951be2bdeeb2257f6807.png" width="508"/>
      </p>
     </li>
     <li id="ub6ac06f4">
      在右侧可以调整一些设置，然后点击“存储”即可导出
      <p class="img-center">
       <img alt="" height="746" id="uc900b9b8" src="https://i-blog.csdnimg.cn/blog_migrate/ed95d931cdf16e2799f5ba47086caa14.png" width="374"/>
      </p>
     </li>
    </ol>
    <p id="u1227220c">
    </p>
    <p id="u3f71ebc3">
     注意：这样导出的GIF使用电脑自带的看图工具或WPS看图打开的话还是会重复播放（我也不知道为什么），但是导入到微信小程序中是正常的
    </p>
    <p id="u9909806d">
    </p>
    <blockquote>
     <p id="u52d73d46">
      附一个PS2022的安装包：
     </p>
     <p id="uc767ce47">
      链接：
      <a href="https://pan.baidu.com/s/1XqrlmC7yr8fD3ODQNLGQFQ?pwd=WHY6" rel="nofollow" title="百度网盘 请输入提取码">
       百度网盘 请输入提取码
      </a>
     </p>
     <p id="u9356dccc">
      提取码：WHY6
     </p>
    </blockquote>
    <h2 id="MzbA1">
     微信小程序如何重新加载GIF
    </h2>
    <p id="udb6d941e">
     GIF图片放在本地或上传到服务器上均可（建议上传到服务器上，如果GIF图比较大的话）
    </p>
    <p id="u195a4567">
     加载方式：使用
     <code>
      &lt;image&gt;
     </code>
     标签即可，和加载图片的方式一模一样；
    </p>
    <p id="ube06bd3c">
     如何重新加载：
    </p>
    <p id="u1e49584f">
     将GIF图片上传到服务器上，使用随机数拼接的方法：将GIF链接拼接上一个随机数，这样每次获取的时候都是请求了一个新的GIF图片，不会保留原先GIF图的状态；
    </p>
    <p id="uc7a116ee">
     链接格式：
     <code>
      'url?' + Math.random()
     </code>
     （js语法）
    </p>
    <p id="u46114071">
     这样想要重新加载，添加一个
     <code>
      bing:tap
     </code>
     事件，每点击一次就重置gif的链接即可；、
    </p>
    <p id="u8badb592">
    </p>
    <p id="u71313df0">
    </p>
    <p id="ue735a1b3">
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f35313233353835362f:61727469636c652f64657461696c732f313334323035363332" class_="artid" style="display:none">
 </p>
</div>


