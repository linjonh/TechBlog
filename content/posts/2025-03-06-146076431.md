---
arturl_encode: "68747470733a2f2f626c6f:672e6373646e2e6e65742f776866313231353834373730362f:61727469636c652f64657461696c732f313436303736343331"
layout: post
title: "filter_var函数用于过滤和验证用户输入的数据"
date: 2025-03-06 17:45:50 +0800
description: "在现代的网站开发中，数据的验证和安全性至关重要。使用PHP的filter_var()函数，可以轻松实现对用户输入的数据进行各种验证和过滤，有效提高网站的数据安全性。本文介绍了filter_var()函数的基本概念和常见用法，并给出了一些实用的代码示例，希望对PHP开发者有所帮助。"
keywords: "filter_var()函数用于过滤和验证用户输入的数据"
categories: ['未分类']
tags: ['Android']
artid: "146076431"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146076431
    alt: "filter_var函数用于过滤和验证用户输入的数据"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146076431
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146076431
cover: https://bing.ee123.net/img/rand?artid=146076431
image: https://bing.ee123.net/img/rand?artid=146076431
img: https://bing.ee123.net/img/rand?artid=146076431
---

# filter\_var()函数用于过滤和验证用户输入的数据

filter\_var()函数用于过滤和验证用户输入的数据，它的第一个参数是用户输入的数据，第二个参数是过滤器类型，第三个参数是可选的，表示过滤器的选项。它的返回值是过滤后的数据（过滤器类型为FILTER\_SANITIZE\_
*）或者是验证结果（过滤器类型为FILTER\_VALIDATE\_*
）。

在PHP中，过滤器类型（filter\_type）是一个常量，以FILTER\_开头，后面跟着具体的类型，例如：

立即学习“
[PHP免费学习笔记（深入）](https://pan.quark.cn/s/7fc7563c4182 "PHP免费学习笔记（深入）")
”；

* FILTER\_VALIDATE\_EMAIL：验证电子邮件地址
* FILTER\_VALIDATE\_IP：验证IP地址
* FILTER\_VALIDATE\_URL：验证URL地址
* FILTER\_SANITIZE\_STRING：过滤字符串（删除或编码HTML标签）
* FILTER\_SANITIZE\_NUMBER\_INT：过滤数字（删除除数字外的所有字符）
* FILTER\_SANITIZE\_SPECIAL\_CHARS：过滤特殊字符（对特殊字符进行编码）

除此之外，PHP还提供了许多其他的过滤器类型，可以根据具体的需求选择使用。

#### 常见用法

下面我们将通过一些常见的示例来演示filter\_var()函数的用法。

##### 验证电子邮件地址

在表单中，通常需要用户输入电子邮件地址，我们需要保证用户输入的电子邮件地址是合法的，可以使用FILTER\_VALIDATE\_EMAIL过滤器进行验证。

|  |  |
| --- | --- |
| 1  2  3  4  5  6 | `$email` `=` `'example@gmail.com'` `;`  `if` `(filter_var(` `$email` `, FILTER_VALIDATE_EMAIL)){`  `echo` `"电子邮件地址合法"` `;`  `}` `else` `{`  `echo` `"电子邮件地址非法"` `;`  `}` |

##### 验证IP地址

在一些情况下，我们需要验证用户的IP地址，例如限制访问范围等。可以使用FILTER\_VALIDATE\_IP过滤器进行验证。

|  |  |
| --- | --- |
| 1  2  3  4  5  6 | `$ip` `=` `'192.168.1.1'` `;`  `if` `(filter_var(` `$ip` `, FILTER_VALIDATE_IP)){`  `echo` `"IP地址合法"` `;`  `}` `else` `{`  `echo` `"IP地址非法"` `;`  `}` |

##### 验证URL地址

在表单中，通常需要用户输入URL地址，我们需要保证用户输入的URL地址是合法的，可以使用FILTER\_VALIDATE\_URL过滤器进行验证。

|  |  |
| --- | --- |
| 1  2  3  4  5  6 | `$url` `=` `'http://www.example.com'` `;`  `if` `(filter_var(` `$url` `, FILTER_VALIDATE_URL)){`  `echo` `"URL地址合法"` `;`  `}` `else` `{`  `echo` `"URL地址非法"` `;`  `}` |

##### 过滤字符串

在处理用户输入的字符串时，我们需要对其中的一些特殊字符进行过滤，例如去除HTML标签、对特殊字符进行编码等，可以使用FILTER\_SANITIZE\_STRING或FILTER\_SANITIZE\_SPECIAL\_CHARS过滤器进行过滤。

|  |  |
| --- | --- |
| 1  2 | `$str` `=` `'<script>alert("恶意攻击")</script>'` `;`  `echo` `filter_var(` `$str` `, FILTER_SANITIZE_STRING);` `// 输出：alert(“恶意攻击”)` |

|  |  |
| --- | --- |
| 1  2 | `$str` `=` `'<script>alert("恶意攻击")</script>'` `;`  `echo` `filter_var(` `$str` `, FILTER_SANITIZE_SPECIAL_CHARS);` `// 输出：<script>alert("恶意攻击")</script>` |

##### 过滤数字

在处理用户输入的数字时，我们需要保证其中的字符都是数字，可以使用FILTER\_SANITIZE\_NUMBER\_INT过滤器进行数字过滤。

|  |  |
| --- | --- |
| 1  2 | `$num` `=` `'1234abc5678d'` `;`  `echo` `filter_var(` `$num` `, FILTER_SANITIZE_NUMBER_INT);` `// 输出：12345678` |

#### 具体代码示例

下面是一些具体的代码示例，可以直接拿来使用或修改适应自己的业务需求。

##### 验证用户名

|  |  |
| --- | --- |
| 1  2  3  4  5  6  7  8 | `function` `validate_username(` `$username` `){`  `$options` `=` `array` `(`  `'options'` `=&gt;` `array` `(`  `'regexp'` `=&gt;` `'/^[wd]{6,20}$/i'` `//用户名由6-20个字母、数字或下划线组成`  `)`  `);`  `return` `filter_var(` `$username` `, FILTER_VALIDATE_REGEXP,` `$options` `);`  `}` |

##### 验证密码

|  |  |
| --- | --- |
| 1  2  3  4  5  6  7  8 | `function` `validate_password(` `$password` `){`  `$options` `=` `array` `(`  `'options'` `=&gt;` `array` `(`  `'regexp'` `=&gt;` `'/^[wd!@#$%^&amp;*()_+-=]{6,20}$/i'` `//密码由6-20个字母、数字或特殊字符组成`  `)`  `);`  `return` `filter_var(` `$password` `, FILTER_VALIDATE_REGEXP,` `$options` `);`  `}` |

##### 验证手机号码

|  |  |
| --- | --- |
| 1  2  3  4  5  6  7  8 | `function` `validate_mobile(` `$mobile` `){`  `$options` `=` `array` `(`  `'options'` `=&gt;` `array` `(`  `'regexp'` `=&gt;` `'/^1[3456789]d{9}$/i'` `//中国的手机号码`  `)`  `);`  `return` `filter_var(` `$mobile` `, FILTER_VALIDATE_REGEXP,` `$options` `);`  `}` |

##### 验证身份证号码

|  |  |
| --- | --- |
| 1  2  3  4  5  6  7  8 | `function` `validate_id_number(` `$id_number` `){`  `$options` `=` `array` `(`  `'options'` `=&gt;` `array` `(`  `'regexp'` `=&gt;` `'/^[d]{17}[dX]$/i'` `//中国的身份证号码`  `)`  `);`  `return` `filter_var(` `$id_number` `, FILTER_VALIDATE_REGEXP,` `$options` `);`  `}` |

#### 结语

在现代的网站开发中，数据的验证和安全性至关重要。使用PHP的filter\_var()函数，可以轻松实现对用户输入的数据进行各种验证和过滤，有效提高网站的数据安全性。本文介绍了filter\_var()函数的基本概念和常见用法，并给出了一些实用的代码示例，希望对PHP开发者有所帮助。