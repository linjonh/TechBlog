---
layout: post
title: "filter_var函数用于过滤和验证用户输入的数据"
date: 2025-03-06 17:45:50 +0800
description: "在现代的网站开发中，数据的验证和安全性至关重要。使用PHP的filter_var()函数，可以轻松实现对用户输入的数据进行各种验证和过滤，有效提高网站的数据安全性。本文介绍了filter_var()函数的基本概念和常见用法，并给出了一些实用的代码示例，希望对PHP开发者有所帮助。"
keywords: "filter_var()函数用于过滤和验证用户输入的数据"
categories: ['未分类']
tags: ['Android']
artid: "146076431"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146076431
    alt: "filter_var函数用于过滤和验证用户输入的数据"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146076431
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146076431
cover: https://bing.ee123.net/img/rand?artid=146076431
image: https://bing.ee123.net/img/rand?artid=146076431
img: https://bing.ee123.net/img/rand?artid=146076431
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     filter_var()函数用于过滤和验证用户输入的数据
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     filter_var()函数用于过滤和验证用户输入的数据，它的第一个参数是用户输入的数据，第二个参数是过滤器类型，第三个参数是可选的，表示过滤器的选项。它的返回值是过滤后的数据（过滤器类型为FILTER_SANITIZE_
     <em>
      ）或者是验证结果（过滤器类型为FILTER_VALIDATE_
     </em>
     ）。
    </p>
    <p>
     在PHP中，过滤器类型（filter_type）是一个常量，以FILTER_开头，后面跟着具体的类型，例如：
    </p>
    <p>
     立即学习“
     <a href="https://pan.quark.cn/s/7fc7563c4182" rel="nofollow" title="PHP免费学习笔记（深入）">
      PHP免费学习笔记（深入）
     </a>
     ”；
    </p>
    <ul>
     <li>
      FILTER_VALIDATE_EMAIL：验证电子邮件地址
     </li>
     <li>
      FILTER_VALIDATE_IP：验证IP地址
     </li>
     <li>
      FILTER_VALIDATE_URL：验证URL地址
     </li>
     <li>
      FILTER_SANITIZE_STRING：过滤字符串（删除或编码HTML标签）
     </li>
     <li>
      FILTER_SANITIZE_NUMBER_INT：过滤数字（删除除数字外的所有字符）
     </li>
     <li>
      FILTER_SANITIZE_SPECIAL_CHARS：过滤特殊字符（对特殊字符进行编码）
     </li>
    </ul>
    <p>
     除此之外，PHP还提供了许多其他的过滤器类型，可以根据具体的需求选择使用。
    </p>
    <h4>
     常见用法
    </h4>
    <p>
     下面我们将通过一些常见的示例来演示filter_var()函数的用法。
    </p>
    <h5>
     验证电子邮件地址
    </h5>
    <p>
     在表单中，通常需要用户输入电子邮件地址，我们需要保证用户输入的电子邮件地址是合法的，可以使用FILTER_VALIDATE_EMAIL过滤器进行验证。
    </p>
    <table border="0" cellpadding="0" cellspacing="0">
     <tbody>
      <tr>
       <td>
        <p>
         1
        </p>
        <p>
         2
        </p>
        <p>
         3
        </p>
        <p>
         4
        </p>
        <p>
         5
        </p>
        <p>
         6
        </p>
       </td>
       <td>
        <p>
         <code>
          $email
         </code>
         <code>
          =
         </code>
         <code>
          'example@gmail.com'
         </code>
         <code>
          ;
         </code>
        </p>
        <p>
         <code>
          if
         </code>
         <code>
          (filter_var(
         </code>
         <code>
          $email
         </code>
         <code>
          , FILTER_VALIDATE_EMAIL)){
          <!-- -->
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          echo
         </code>
         <code>
          "电子邮件地址合法"
         </code>
         <code>
          ;
         </code>
        </p>
        <p>
         <code>
          }
         </code>
         <code>
          else
         </code>
         <code>
          {
          <!-- -->
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          echo
         </code>
         <code>
          "电子邮件地址非法"
         </code>
         <code>
          ;
         </code>
        </p>
        <p>
         <code>
          }
         </code>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h5>
     验证IP地址
    </h5>
    <p>
     在一些情况下，我们需要验证用户的IP地址，例如限制访问范围等。可以使用FILTER_VALIDATE_IP过滤器进行验证。
    </p>
    <table border="0" cellpadding="0" cellspacing="0">
     <tbody>
      <tr>
       <td>
        <p>
         1
        </p>
        <p>
         2
        </p>
        <p>
         3
        </p>
        <p>
         4
        </p>
        <p>
         5
        </p>
        <p>
         6
        </p>
       </td>
       <td>
        <p>
         <code>
          $ip
         </code>
         <code>
          =
         </code>
         <code>
          '192.168.1.1'
         </code>
         <code>
          ;
         </code>
        </p>
        <p>
         <code>
          if
         </code>
         <code>
          (filter_var(
         </code>
         <code>
          $ip
         </code>
         <code>
          , FILTER_VALIDATE_IP)){
          <!-- -->
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          echo
         </code>
         <code>
          "IP地址合法"
         </code>
         <code>
          ;
         </code>
        </p>
        <p>
         <code>
          }
         </code>
         <code>
          else
         </code>
         <code>
          {
          <!-- -->
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          echo
         </code>
         <code>
          "IP地址非法"
         </code>
         <code>
          ;
         </code>
        </p>
        <p>
         <code>
          }
         </code>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h5>
     验证URL地址
    </h5>
    <p>
     在表单中，通常需要用户输入URL地址，我们需要保证用户输入的URL地址是合法的，可以使用FILTER_VALIDATE_URL过滤器进行验证。
    </p>
    <table border="0" cellpadding="0" cellspacing="0">
     <tbody>
      <tr>
       <td>
        <p>
         1
        </p>
        <p>
         2
        </p>
        <p>
         3
        </p>
        <p>
         4
        </p>
        <p>
         5
        </p>
        <p>
         6
        </p>
       </td>
       <td>
        <p>
         <code>
          $url
         </code>
         <code>
          =
         </code>
         <code>
          'http://www.example.com'
         </code>
         <code>
          ;
         </code>
        </p>
        <p>
         <code>
          if
         </code>
         <code>
          (filter_var(
         </code>
         <code>
          $url
         </code>
         <code>
          , FILTER_VALIDATE_URL)){
          <!-- -->
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          echo
         </code>
         <code>
          "URL地址合法"
         </code>
         <code>
          ;
         </code>
        </p>
        <p>
         <code>
          }
         </code>
         <code>
          else
         </code>
         <code>
          {
          <!-- -->
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          echo
         </code>
         <code>
          "URL地址非法"
         </code>
         <code>
          ;
         </code>
        </p>
        <p>
         <code>
          }
         </code>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h5>
     过滤字符串
    </h5>
    <p>
     在处理用户输入的字符串时，我们需要对其中的一些特殊字符进行过滤，例如去除HTML标签、对特殊字符进行编码等，可以使用FILTER_SANITIZE_STRING或FILTER_SANITIZE_SPECIAL_CHARS过滤器进行过滤。
    </p>
    <table border="0" cellpadding="0" cellspacing="0">
     <tbody>
      <tr>
       <td>
        <p>
         1
        </p>
        <p>
         2
        </p>
       </td>
       <td>
        <p>
         <code>
          $str
         </code>
         <code>
          =
         </code>
         <code>
          '&lt;script&gt;alert("恶意攻击")&lt;/script&gt;'
         </code>
         <code>
          ;
         </code>
        </p>
        <p>
         <code>
          echo
         </code>
         <code>
          filter_var(
         </code>
         <code>
          $str
         </code>
         <code>
          , FILTER_SANITIZE_STRING);
         </code>
         <code>
          // 输出：alert(“恶意攻击”)
         </code>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <table border="0" cellpadding="0" cellspacing="0">
     <tbody>
      <tr>
       <td>
        <p>
         1
        </p>
        <p>
         2
        </p>
       </td>
       <td>
        <p>
         <code>
          $str
         </code>
         <code>
          =
         </code>
         <code>
          '&lt;script&gt;alert("恶意攻击")&lt;/script&gt;'
         </code>
         <code>
          ;
         </code>
        </p>
        <p>
         <code>
          echo
         </code>
         <code>
          filter_var(
         </code>
         <code>
          $str
         </code>
         <code>
          , FILTER_SANITIZE_SPECIAL_CHARS);
         </code>
         <code>
          // 输出：&lt;script&gt;alert("恶意攻击")&lt;/script&gt;
         </code>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h5>
     过滤数字
    </h5>
    <p>
     在处理用户输入的数字时，我们需要保证其中的字符都是数字，可以使用FILTER_SANITIZE_NUMBER_INT过滤器进行数字过滤。
    </p>
    <table border="0" cellpadding="0" cellspacing="0">
     <tbody>
      <tr>
       <td>
        <p>
         1
        </p>
        <p>
         2
        </p>
       </td>
       <td>
        <p>
         <code>
          $num
         </code>
         <code>
          =
         </code>
         <code>
          '1234abc5678d'
         </code>
         <code>
          ;
         </code>
        </p>
        <p>
         <code>
          echo
         </code>
         <code>
          filter_var(
         </code>
         <code>
          $num
         </code>
         <code>
          , FILTER_SANITIZE_NUMBER_INT);
         </code>
         <code>
          // 输出：12345678
         </code>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h4>
     具体代码示例
    </h4>
    <p>
     下面是一些具体的代码示例，可以直接拿来使用或修改适应自己的业务需求。
    </p>
    <h5>
     验证用户名
    </h5>
    <table border="0" cellpadding="0" cellspacing="0">
     <tbody>
      <tr>
       <td>
        <p>
         1
        </p>
        <p>
         2
        </p>
        <p>
         3
        </p>
        <p>
         4
        </p>
        <p>
         5
        </p>
        <p>
         6
        </p>
        <p>
         7
        </p>
        <p>
         8
        </p>
       </td>
       <td>
        <p>
         <code>
          function
         </code>
         <code>
          validate_username(
         </code>
         <code>
          $username
         </code>
         <code>
          ){
          <!-- -->
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          $options
         </code>
         <code>
          =
         </code>
         <code>
          array
         </code>
         <code>
          (
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          'options'
         </code>
         <code>
          =&amp;gt;
         </code>
         <code>
          array
         </code>
         <code>
          (
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          'regexp'
         </code>
         <code>
          =&amp;gt;
         </code>
         <code>
          '/^[wd]{6,20}$/i'
         </code>
         <code>
          //用户名由6-20个字母、数字或下划线组成
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          )
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          );
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          return
         </code>
         <code>
          filter_var(
         </code>
         <code>
          $username
         </code>
         <code>
          , FILTER_VALIDATE_REGEXP,
         </code>
         <code>
          $options
         </code>
         <code>
          );
         </code>
        </p>
        <p>
         <code>
          }
         </code>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h5>
     验证密码
    </h5>
    <table border="0" cellpadding="0" cellspacing="0">
     <tbody>
      <tr>
       <td>
        <p>
         1
        </p>
        <p>
         2
        </p>
        <p>
         3
        </p>
        <p>
         4
        </p>
        <p>
         5
        </p>
        <p>
         6
        </p>
        <p>
         7
        </p>
        <p>
         8
        </p>
       </td>
       <td>
        <p>
         <code>
          function
         </code>
         <code>
          validate_password(
         </code>
         <code>
          $password
         </code>
         <code>
          ){
          <!-- -->
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          $options
         </code>
         <code>
          =
         </code>
         <code>
          array
         </code>
         <code>
          (
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          'options'
         </code>
         <code>
          =&amp;gt;
         </code>
         <code>
          array
         </code>
         <code>
          (
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          'regexp'
         </code>
         <code>
          =&amp;gt;
         </code>
         <code>
          '/^[wd!@#$%^&amp;amp;*()_+-=]{6,20}$/i'
         </code>
         <code>
          //密码由6-20个字母、数字或特殊字符组成
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          )
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          );
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          return
         </code>
         <code>
          filter_var(
         </code>
         <code>
          $password
         </code>
         <code>
          , FILTER_VALIDATE_REGEXP,
         </code>
         <code>
          $options
         </code>
         <code>
          );
         </code>
        </p>
        <p>
         <code>
          }
         </code>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h5>
     验证手机号码
    </h5>
    <table border="0" cellpadding="0" cellspacing="0">
     <tbody>
      <tr>
       <td>
        <p>
         1
        </p>
        <p>
         2
        </p>
        <p>
         3
        </p>
        <p>
         4
        </p>
        <p>
         5
        </p>
        <p>
         6
        </p>
        <p>
         7
        </p>
        <p>
         8
        </p>
       </td>
       <td>
        <p>
         <code>
          function
         </code>
         <code>
          validate_mobile(
         </code>
         <code>
          $mobile
         </code>
         <code>
          ){
          <!-- -->
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          $options
         </code>
         <code>
          =
         </code>
         <code>
          array
         </code>
         <code>
          (
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          'options'
         </code>
         <code>
          =&amp;gt;
         </code>
         <code>
          array
         </code>
         <code>
          (
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          'regexp'
         </code>
         <code>
          =&amp;gt;
         </code>
         <code>
          '/^1[3456789]d{9}$/i'
         </code>
         <code>
          //中国的手机号码
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          )
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          );
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          return
         </code>
         <code>
          filter_var(
         </code>
         <code>
          $mobile
         </code>
         <code>
          , FILTER_VALIDATE_REGEXP,
         </code>
         <code>
          $options
         </code>
         <code>
          );
         </code>
        </p>
        <p>
         <code>
          }
         </code>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h5>
     验证身份证号码
    </h5>
    <table border="0" cellpadding="0" cellspacing="0">
     <tbody>
      <tr>
       <td>
        <p>
         1
        </p>
        <p>
         2
        </p>
        <p>
         3
        </p>
        <p>
         4
        </p>
        <p>
         5
        </p>
        <p>
         6
        </p>
        <p>
         7
        </p>
        <p>
         8
        </p>
       </td>
       <td>
        <p>
         <code>
          function
         </code>
         <code>
          validate_id_number(
         </code>
         <code>
          $id_number
         </code>
         <code>
          ){
          <!-- -->
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          $options
         </code>
         <code>
          =
         </code>
         <code>
          array
         </code>
         <code>
          (
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          'options'
         </code>
         <code>
          =&amp;gt;
         </code>
         <code>
          array
         </code>
         <code>
          (
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          'regexp'
         </code>
         <code>
          =&amp;gt;
         </code>
         <code>
          '/^[d]{17}[dX]$/i'
         </code>
         <code>
          //中国的身份证号码
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          )
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          );
         </code>
        </p>
        <p>
         <code>
         </code>
         <code>
          return
         </code>
         <code>
          filter_var(
         </code>
         <code>
          $id_number
         </code>
         <code>
          , FILTER_VALIDATE_REGEXP,
         </code>
         <code>
          $options
         </code>
         <code>
          );
         </code>
        </p>
        <p>
         <code>
          }
         </code>
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h4>
     结语
    </h4>
    <p>
     在现代的网站开发中，数据的验证和安全性至关重要。使用PHP的filter_var()函数，可以轻松实现对用户输入的数据进行各种验证和过滤，有效提高网站的数据安全性。本文介绍了filter_var()函数的基本概念和常见用法，并给出了一些实用的代码示例，希望对PHP开发者有所帮助。
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f776866313231353834373730362f:61727469636c652f64657461696c732f313436303736343331" class_="artid" style="display:none">
 </p>
</div>


