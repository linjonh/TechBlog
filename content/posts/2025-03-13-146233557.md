---
layout: post
title: "Arbitrum之智能合约"
date: 2025-03-13 15:53:58 +0800
description: "作为一个初入Web3领域的小白，会直面很多新鲜事物的冲击，也很容易陷入到细枝末节，让自己失去信心。如何能让自己可以在一个适当的维度上学习、探索Web3，就成为一个可行的方式。最近，参加了HackQuest的Arbitrum共学营，自己以接近小白的身份去了解Arbitrum，学习的过程也是思考总结的过程，现将自己的一些学习问题，借助AI工具解答后，整理成若干文章，能让更多学习Arbitrum的同路人一起同行。"
keywords: "Arbitrum之智能合约"
categories: ['未分类']
tags: ['智能合约', '区块链']
artid: "146233557"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146233557
    alt: "Arbitrum之智能合约"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146233557
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146233557
cover: https://bing.ee123.net/img/rand?artid=146233557
image: https://bing.ee123.net/img/rand?artid=146233557
img: https://bing.ee123.net/img/rand?artid=146233557
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Arbitrum之智能合约
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     作为一个初入Web3领域的小白，会直面很多新鲜事物的冲击，也很容易陷入到细枝末节，让自己失去信心。
    </p>
    <p>
     如何能让自己可以在一个适当的维度上学习、探索Web3，就成为一个可行的方式。
    </p>
    <p>
     最近，参加了HackQuest的Arbitrum共学营，自己以接近小白的身份去了解Arbitrum，学习的过程也是思考总结的过程，现将自己的一些学习问题，借助AI工具解答后，整理成若干文章，能让更多学习Arbitrum的同路人一起同行。
    </p>
    <h3 id="智能合约">
     智能合约
    </h3>
    <p>
     在 Arbitrum 上部署智能合约，
     <strong>
      可以使用 Solidity，也可以使用 Rust
     </strong>
     （通过 Arbitrum Stylus）。现将两类合约进行一个比对，让我们在稍微高的维度上来观察。
    </p>
    <h4 id="使用场景">
     使用场景
    </h4>
    <ul>
     <li>
      <strong>
       Solidity
      </strong>
      ：这是 EVM（Ethereum Virtual Machine）的原生智能合约语言，所有以太坊兼容的 L2 解决方案（包括 Arbitrum）都支持 Solidity 编写的合约。
     </li>
     <li>
      <strong>
       Rust（通过 Arbitrum Stylus）
      </strong>
      ：Arbitrum Stylus 允许开发者用 Rust（以及 WebAssembly，WASM）编写智能合约，与 Solidity 合约在 Arbitrum Nitro 上并存和交互
     </li>
    </ul>
    <h4 id="核心区别">
     核心区别
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        对比项
       </th>
       <th>
        Solidity (EVM)
       </th>
       <th>
        Rust (WASM via Stylus)
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <strong>
         虚拟机
        </strong>
       </td>
       <td>
        运行在 AVM (Arbitrum Virtual Machine) ，兼容 EVM
       </td>
       <td>
        运行在 WebAssembly (WASM)
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         性能
        </strong>
       </td>
       <td>
        受限于 EVM 的计算效率，运行较慢
       </td>
       <td>
        WASM 代码执行速度快，计算效率更高
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         内存管理
        </strong>
       </td>
       <td>
        依赖于 EVM 内存，受 32 字节存储单位限制
       </td>
       <td>
        Rust 具有更高级的内存管理能力，更少的 gas 消耗
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         安全性
        </strong>
       </td>
       <td>
        Solidity 语法简单但易出错（如重入攻击、溢出）
       </td>
       <td>
        Rust 具有强大的编译器和内存安全特性，降低智能合约漏洞风险
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         开发工具
        </strong>
       </td>
       <td>
        Truffle, Hardhat, Foundry 等
       </td>
       <td>
        Cargo +
        <code>
         Stylus SDK
        </code>
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         生态兼容性
        </strong>
       </td>
       <td>
        完全兼容以太坊 DApp 生态
       </td>
       <td>
        需要 WASM 支持，可能与现有 DApp 生态有一定适配成本
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         并行性
        </strong>
       </td>
       <td>
        EVM 执行顺序较严格，计算较慢
       </td>
       <td>
        WASM 提供更高效的计算能力，适合并行任务
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         可编程性
        </strong>
       </td>
       <td>
        主要用于智能合约业务逻辑
       </td>
       <td>
        可以实现更复杂的业务逻辑，例如计算密集型任务
       </td>
      </tr>
     </tbody>
    </table>
    <h4 id="在 Arbitrum 上的应用场景">
     在 Arbitrum 上的应用场景
    </h4>
    <h5 id="Solidity 适合的场景">
     Solidity 适合的场景
    </h5>
    <ul>
     <li>
      <strong>
       标准 DeFi 协议
      </strong>
      ：如 Uniswap、Aave、GMX 等，依赖 EVM 兼容性，Solidity 是首选。
     </li>
     <li>
      <strong>
       现有以太坊项目迁移到 Arbitrum
      </strong>
      ：如果项目已经在 L1 运行，Solidity 迁移到 L2 是最简单的选择。
     </li>
     <li>
      <strong>
       生态兼容性强的项目
      </strong>
      ：如果需要和大量已有 DApp 交互，Solidity 更易用。
     </li>
    </ul>
    <h5 id="Rust (Stylus) 适合的场景">
     Rust (Stylus) 适合的场景
    </h5>
    <ul>
     <li>
      <strong>
       计算密集型智能合约
      </strong>
      ：如 ZK 证明计算、复杂数学计算等，Rust 的执行速度远超 Solidity。
     </li>
     <li>
      <strong>
       高安全性合约
      </strong>
      ：Rust 的强类型系统和编译器检查可以减少智能合约漏洞。
     </li>
     <li>
      <strong>
       资源受限的环境
      </strong>
      ：Rust/WASM 的 gas 费用更低，适合希望优化运行成本的项目。
     </li>
     <li>
      <strong>
       游戏、AI、链上自动化
      </strong>
      ：Rust 适用于处理复杂的状态机和 AI 计算，适合链上游戏和自动化 DApp
     </li>
    </ul>
    <h4 id="示例代码对比">
     <strong>
      示例代码对比
     </strong>
    </h4>
    <h5 id="Solidity 合约示例">
     Solidity 合约示例
    </h5>
    <pre><code>// Solidity 示例：存储和读取变量
// 部署在 Arbitrum EVM
pragma solidity ^0.8.19;

contract SimpleStorage {
    uint256 private storedData;

    function set(uint256 _data) public {
        storedData = _data;
    }

    function get() public view returns (uint256) {
        return storedData;
    }
}
</code></pre>
    <h5 id="Rust (Stylus) 合约示例">
     Rust (Stylus) 合约示例
    </h5>
    <pre><code>// Rust (Stylus) 示例：存储和读取变量
// 运行在 Arbitrum Stylus (WASM)
use stylus_sdk::prelude::*;

#[solidity_storage]
struct Storage {
    stored_data: u64,
}

#[external]
impl Storage {
    pub fn set(&amp;mut self, data: u64) {
        self.stored_data = data;
    }

    pub fn get(&amp;self) -&gt; u64 {
        self.stored_data
    }
}
</code></pre>
    <h4 id="选择 Solidity 还是 Rust?">
     选择 Solidity 还是 Rust?
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        适合选择
       </th>
       <th>
        Solidity (EVM)
       </th>
       <th>
        Rust (WASM via Stylus)
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        适用于传统 DeFi 和 NFT 项目
       </td>
       <td>
        ✅
       </td>
       <td>
        ❌
       </td>
      </tr>
      <tr>
       <td>
        需要高效计算（如 ZK 计算）
       </td>
       <td>
        ❌
       </td>
       <td>
        ✅
       </td>
      </tr>
      <tr>
       <td>
        需要与以太坊 DApp 兼容
       </td>
       <td>
        ✅
       </td>
       <td>
        ❌
       </td>
      </tr>
      <tr>
       <td>
        追求更低 Gas 费用
       </td>
       <td>
        ❌
       </td>
       <td>
        ✅
       </td>
      </tr>
      <tr>
       <td>
        需要高安全性（Rust 严格的编译检查）
       </td>
       <td>
        ❌
       </td>
       <td>
        ✅
       </td>
      </tr>
      <tr>
       <td>
        需要多线程/并行计算
       </td>
       <td>
        ❌
       </td>
       <td>
        ✅
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
      简单来说：
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       如果你是 Web3 传统开发者，或者项目需要 EVM 兼容性，选择 Solidity。
      </strong>
     </li>
     <li>
      <strong>
       如果你希望优化性能、减少 Gas 费用，并用 Rust 开发更复杂的链上应用，选择 Stylus（Rust + WASM）。
      </strong>
     </li>
    </ul>
    <h4 id="未来趋势">
     未来趋势
    </h4>
    <ul>
     <li>
      <strong>
       短期内 Solidity 仍是主流
      </strong>
      ，因为 EVM 兼容性是生态发展的核心。
     </li>
     <li>
      <strong>
       长期来看，Rust（Stylus）可能会在
       <code>
        计算密集型
       </code>
       应用中获得更多采用
      </strong>
      ，如 ZK 计算、AI+区块链、链上游戏等领域。
     </li>
    </ul>
    <p>
     目前
     <strong>
      Arbitrum Stylus 仍在测试阶段
     </strong>
     ，Rust/WASM 合约的生态尚未成熟，但其
     <strong>
      性能和成本优化潜力巨大
     </strong>
     ，未来可能成为 Arbitrum 生态的重要组成部分。
    </p>
    <h4 id="结论">
     结论
    </h4>
    <ol>
     <li>
      <strong>
       Solidity 仍然是 Arbitrum 及以太坊兼容 Layer2 的主流智能合约语言
      </strong>
      ，适合传统 DApp、DeFi、NFT 项目等。
     </li>
     <li>
      <strong>
       Rust（Stylus）带来了更高效、更低成本的计算能力
      </strong>
      ，特别适用于计算密集型任务、链上游戏、高安全性应用等。
     </li>
     <li>
      <strong>
       如果是前端开发者，学习 Solidity 会让你更容易找到 Web3 相关的工作
      </strong>
      ，而 Rust/WASM 可能是未来方向，适合探索。
     </li>
    </ol>
    <p>
     如果你的目标与我的一致，进入 Web3 前端开发，可以先从 Solidity + EVM 合约开发入手，再逐步学习 Rust + Stylus ，，更多，
     <a href="https://t.me/+_QibemQqIIg1OTY1" rel="nofollow" title="https://t.me/+_QibemQqIIg1OTY1">
      https://t.me/+_QibemQqIIg1OTY1
     </a>
     。
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323430385f38373734363730392f:61727469636c652f64657461696c732f313436323333353537" class_="artid" style="display:none">
 </p>
</div>


