---
arturl_encode: "68747470733a:2f2f626c6f672e6373646e2e6e65742f64696769323032302f:61727469636c652f64657461696c732f313233363236383632"
layout: post
title: "浅谈嵌入式系统的持续集成"
date: 2022-03-21 09:30:33 +08:00
description: "持续集成（Continuous Integration(CI)）和持续交付（Continuous D"
keywords: "嵌入式c++集成部署是啥意思"
categories: ['Skyeye']
tags: ['持续集成', '嵌入式']
artid: "123626862"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=123626862
    alt: "浅谈嵌入式系统的持续集成"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=123626862
featuredImagePreview: https://bing.ee123.net/img/rand?artid=123626862
---

# 浅谈嵌入式系统的持续集成

**持续集成（Continuous Integration(CI)）**
和
**持续交付（Continuous Delivery(CD)）**
是现代软件开发中两个非常重要的概念。集成是完成交付和部署的前置条件，实现持续交付最大的难点是如何配置正确的持续集成流程。目前，在服务器以及Web系统上的软件进行部署比较简单，但在嵌入式系统上持续集成则成为了较为棘手的问题。

## **1.嵌入式系统的持续集成**

软件开发过程中，开发方式及开发工具是至关重要的。在嵌入式开发时，嵌入式系统的仿真往往在硬件开发中被忽略：开发人员在开发过程中不进行版本管理，直接将现有的源码作为下一轮迭代的基础；若未经过测试，当程序出现bug时，想要回退到之前的版本便较为复杂。开发嵌入式软件时构建持续集成流程的必要性显而易见。

持续集成流程如下图所示：创建一个单独的开发分支，用于在源码提交后进行集成；创建另一条分支用于异步执行主要持续集成流。

![](https://i-blog.csdnimg.cn/blog_migrate/c14c26eb0ebe44ed268afe7d169c72ba.png)

▲图 1：嵌入式仿真软件持续集成流程图

该流程的目的是将提交代码、集成代码以及构建的基本开发流与主要持续集成流分开，避免因长时间的持续集成而耽误开发进度。

## **2.** **解决硬件问题的工具**

目前，嵌入式系统持续集成的核心是需要一个“类生产环境”，指需要在确保无限接近真实的环境中稳定运行软件。然而，实际操作中存在诸多问题：硬件的开发周期过长、软件不稳定等。

嵌入式仿真软件的出现解决了以上问题，该平台与真实环境足够接近，可以运行真实代码进行功能测试。

代码运行的问题解决后，嵌入式仿真软件持续集成的下一部分内容，就是确保代码获得合理的输入内容。嵌入式仿真软件不仅涉及与其他代码、计算机系统间的通信，还涉及通过接口和其他环境间的通信。测试时需要通过真实系统中使用的硬件接口向被测系统发送数据。因此，嵌入式系统的实际物理测试环境需要满足以下需求：

1.提供合适的硬件环境来进行测试；

2.将软件加载到硬件上——难度取决于软件堆栈的性质；

3.集成环境——搭建合理的硬件环境，并能够提供合理的激励，保证软件能像在真实环境中一样运行，并观察运行情况。

典型的集成环境如下所示：

![](https://i-blog.csdnimg.cn/blog_migrate/da18327f81f4eb18534292974c702c6d.png)

▲图 2：典型集成环境

模拟硬件系统的仿真平台可将外部环境模拟和虚拟硬件系统的平台模型结合，方便开发人员将整个系统环境仿真成可以在任何服务器或者PC机上运行的软件工作。测试系统的可用性得到了提升，测试进度也得到了保障。

## **3.** **国产仿真平台推荐**

**SkyEye（天目全数字实时仿真软件），是基于可视化建模的硬件行为级仿真平台。**
软件工程师能通过可视化图形的硬件建模方式，快速搭建硬件模型，并在硬件模型上运行和调试与真实硬件相同的二进制文件，并支持自动化测试，可大大缩短产品研发周期，提高软件调试效率。

![](https://i-blog.csdnimg.cn/blog_migrate/dba55cb1a28c3d01c1c2f57bb4091209.png)

▲图 3：SkyEye硬件仿真平台

SkyEye自动化测试功能一般是通过SkyEye命令行工具来运行的。在运行SkyEye命令行模式时，配置参数可以自动加载当前目录下测试用例中的自动化测试脚本，完成自动化测试。

开发人员可以按照编写自动化测试脚本 --> 运行单个自动化测试脚本 --> 批量运行自动化测试脚本的顺序，一步步为多测试工程构建自动化测试。此外，在SkyEye命令行模式下，还有查看仿真信息、注入故障、调试代码等功能。

![](https://i-blog.csdnimg.cn/blog_migrate/f7497305e4a1a02f0baf49ebb21d63d8.png)

▲图 4：自动化测试执行过程

## **4.总结**

仿真不仅可以模拟出现实中难以引发的复杂场景，还可以仿真现实场景中发生的异常情况进行调试。在实验室中使用硬件测试可能会受到硬件资源局限性的限制，但只要将真实环境、物理仿真环境与基于软件的仿真相结合，便能构建丰富的测试环境，获得与测试真实电子部件同样的结果，将硬件和软件结合的最终验证测试是必不可少的。

更多SkyEye相关内容，欢迎关注迪捷软件公众号或访问www.digiproto.com进行了解！