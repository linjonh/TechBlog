---
arturl_encode: "6874747073:3a2f2f626c6f672e6373646e2e6e65742f777378393137322f:61727469636c652f64657461696c732f313436323633353132"
layout: post
title: "kettle的转换中sql不按设计顺序执行原因分析与解决办法"
date: 2025-03-14 18:03:43 +0800
description: "节点，实现数据从表到表的迁移。转换中不需要起始节点，没有箭头的节点都是并发执行的，转换中的箭头用于控制数据的流向，而不是执行的顺序。如图，通过箭头指定多个SQL脚本的先后顺序，实际各个sql没有阻塞，没有等待，几乎是并行，与预期不符。用于控制节点的顺序，需要起始节点与结束节点，其箭头才是真正控制执行顺序的。作业和转换中都有SQL控件，用作业实现SQL顺序的控制。用于控制数据的流量，比如。"
keywords: "kettle的转换中sql不按设计顺序执行原因分析与解决办法"
categories: ['未分类']
tags: ['数据库', 'Sql']
artid: "146263512"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146263512
    alt: "kettle的转换中sql不按设计顺序执行原因分析与解决办法"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146263512
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146263512
cover: https://bing.ee123.net/img/rand?artid=146263512
image: https://bing.ee123.net/img/rand?artid=146263512
img: https://bing.ee123.net/img/rand?artid=146263512
---

# kettle的转换中sql不按设计顺序执行原因分析与解决办法

###### 1.问题描述

![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/2519ee12447b4d499b7b08b1a46f462c.png)
  
如图，通过箭头指定多个SQL脚本的先后顺序，实际各个sql没有阻塞，没有等待，几乎是并行，与预期不符。

###### 2.原因

**转换文件（.ktr）**
  
用于控制数据的流量，比如
`表输入`
指向
`表输出`
节点，实现数据从表到表的迁移。转换中不需要起始节点，没有箭头的节点都是并发执行的，转换中的箭头用于控制数据的流向，而不是执行的顺序。
  
**作业文件（.kjb）**
  
用于控制节点的顺序，需要起始节点与结束节点，其箭头才是真正控制执行顺序的。

###### 3.解决办法

作业和转换中都有SQL控件，用作业实现SQL顺序的控制。