---
layout: post
title: "学习TensorFlow前的NumPy核心知识点"
date: 2025-03-16 23:57:06 +0800
description: "掌握以上NumPy知识点后，可高效处理TensorFlow中的张量操作、数据预处理及模型调试。实际场景中，例如图像分类任务需将图像数据转换为NumPy数组并进行归一化、变形，再输入TensorFlow模型进行训练。"
keywords: "学习TensorFlow前的NumPy核心知识点"
categories: ['未分类']
tags: ['学习', 'Tensorflow', 'Numpy']
artid: "146304151"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146304151
    alt: "学习TensorFlow前的NumPy核心知识点"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146304151
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146304151
cover: https://bing.ee123.net/img/rand?artid=146304151
image: https://bing.ee123.net/img/rand?artid=146304151
img: https://bing.ee123.net/img/rand?artid=146304151
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     学习TensorFlow前的NumPy核心知识点
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="TensorFlowNumPy_0">
     </a>
     学习TensorFlow前的NumPy核心知识点
    </h2>
    <h3>
     <a id="_2">
     </a>
     一、数组创建与属性
    </h3>
    <h4>
     <a id="_4">
     </a>
     数组创建
    </h4>
    <p>
     <strong>
      核心方法
     </strong>
     ：使用
     <code>
      np.array()
     </code>
     、
     <code>
      np.zeros()
     </code>
     、
     <code>
      np.ones()
     </code>
     、
     <code>
      np.arange()
     </code>
     、
     <code>
      np.linspace()
     </code>
     创建数组。
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

<span class="token comment"># 创建一维数组</span>
arr1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 创建全零二维数组</span>
zeros_arr <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># shape为(2,3)</span>

<span class="token comment"># 创建等差数组</span>
range_arr <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># 输出: [0, 2, 4, 6, 8]</span>
</code></pre>
    <p>
     <strong>
      使用场景
     </strong>
     ：初始化神经网络权重、生成输入数据或占位符。
    </p>
    <h4>
     <a id="_23">
     </a>
     数组属性
    </h4>
    <p>
     <strong>
      关键属性
     </strong>
     ：
     <code>
      shape
     </code>
     （形状）、
     <code>
      dtype
     </code>
     （数据类型）、
     <code>
      ndim
     </code>
     （维度数）。
    </p>
    <pre><code class="prism language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>shape<span class="token punctuation">)</span>  <span class="token comment"># (2, 2)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span>  <span class="token comment"># int64</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>ndim<span class="token punctuation">)</span>   <span class="token comment"># 2</span>
</code></pre>
    <p>
     <strong>
      使用场景
     </strong>
     ：调试TensorFlow张量形状或数据类型时快速验证。
    </p>
    <h3>
     <a id="_36">
     </a>
     二、数组操作与计算
    </h3>
    <h4>
     <a id="_38">
     </a>
     算术运算
    </h4>
    <p>
     <strong>
      操作
     </strong>
     ：四则运算（
     <code>
      +
     </code>
     、
     <code>
      -
     </code>
     、
     <code>
      *
     </code>
     、
     <code>
      /
     </code>
     ）、点乘（
     <code>
      np.dot()
     </code>
     ）、矩阵乘法（
     <code>
      @
     </code>
     或
     <code>
      np.matmul()
     </code>
     ）。
    </p>
    <pre><code class="prism language-python">a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
dot_product <span class="token operator">=</span> np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>  <span class="token comment"># 2*1 + 0*1 = 2</span>

matrix_a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
matrix_b <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
matrix_product <span class="token operator">=</span> matrix_a @ matrix_b  <span class="token comment"># [[11,14], [14,18]]</span>
</code></pre>
    <p>
     <strong>
      使用场景
     </strong>
     ：神经网络中的线性层计算（如全连接层的前向传播）。
    </p>
    <h4>
     <a id="_54">
     </a>
     广播机制
    </h4>
    <p>
     <strong>
      规则
     </strong>
     ：不同形状的数组在算术运算时自动扩展维度。
    </p>
    <pre><code class="prism language-python">a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
result <span class="token operator">=</span> a <span class="token operator">+</span> b  <span class="token comment"># [[11,22], [13,24]]</span>
</code></pre>
    <p>
     <strong>
      使用场景
     </strong>
     ：批量数据处理时自动对齐维度（如批量归一化）。
    </p>
    <h3>
     <a id="_66">
     </a>
     三、数组变形与合并
    </h3>
    <h4>
     <a id="_68">
     </a>
     变形操作
    </h4>
    <p>
     <strong>
      方法
     </strong>
     ：
     <code>
      reshape()
     </code>
     、
     <code>
      flatten()
     </code>
     调整数组形状。
    </p>
    <pre><code class="prism language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment"># [[0,1,2], [3,4,5]]</span>
flat_arr <span class="token operator">=</span> arr<span class="token punctuation">.</span>flatten<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># [0,1,2,3,4,5]</span>
</code></pre>
    <p>
     <strong>
      使用场景
     </strong>
     ：将图像数据（如28x28像素）展平为输入向量。
    </p>
    <h4>
     <a id="_79">
     </a>
     合并与拆分
    </h4>
    <p>
     <strong>
      方法
     </strong>
     ：
     <code>
      np.concatenate()
     </code>
     、
     <code>
      np.split()
     </code>
     。
    </p>
    <pre><code class="prism language-python">arr1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
arr2 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
merged <span class="token operator">=</span> np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> arr2<span class="token punctuation">)</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment"># 按行合并</span>
<span class="token comment"># [[1,2], [3,4], [5,6]]</span>
</code></pre>
    <p>
     <strong>
      使用场景
     </strong>
     ：合并多个训练批次数据或拆分验证集。
    </p>
    <h3>
     <a id="_92">
     </a>
     四、高级索引与统计
    </h3>
    <h4>
     <a id="_94">
     </a>
     切片与布尔索引
    </h4>
    <p>
     <strong>
      操作
     </strong>
     ：通过条件筛选数据。
    </p>
    <pre><code class="prism language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
filtered <span class="token operator">=</span> arr<span class="token punctuation">[</span>arr <span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">]</span>  <span class="token comment"># [15, 20]</span>
</code></pre>
    <p>
     <strong>
      使用场景
     </strong>
     ：数据预处理时过滤异常值。
    </p>
    <h4>
     <a id="_105">
     </a>
     统计函数
    </h4>
    <p>
     <strong>
      常用函数
     </strong>
     ：
     <code>
      np.sum()
     </code>
     、
     <code>
      np.mean()
     </code>
     、
     <code>
      np.max()
     </code>
     。
    </p>
    <pre><code class="prism language-python">data <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
sum_all <span class="token operator">=</span> np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>        <span class="token comment"># 10</span>
mean_col <span class="token operator">=</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>data<span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment"># [2, 3]</span>
</code></pre>
    <p>
     <strong>
      使用场景
     </strong>
     ：计算损失函数（如均方误差）或评估指标。
    </p>
    <h3>
     <a id="_117">
     </a>
     五、数据类型转换
    </h3>
    <p>
     <strong>
      方法
     </strong>
     ：
     <code>
      astype()
     </code>
     转换数据类型。
    </p>
    <pre><code class="prism language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>float32<span class="token punctuation">)</span>
int_arr <span class="token operator">=</span> arr<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>int32<span class="token punctuation">)</span>  <span class="token comment"># [1,2,3] (int类型)</span>
</code></pre>
    <p>
     <strong>
      使用场景
     </strong>
     ：图像数据归一化（将uint8转换为float32）。
    </p>
    <h3>
     <a id="TensorFlow_128">
     </a>
     六、与TensorFlow的衔接
    </h3>
    <p>
     <strong>
      无缝转换
     </strong>
     ：TensorFlow张量与NumPy数组可直接互转。
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> tensorflow <span class="token keyword">as</span> tf

np_array <span class="token operator">=</span> np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
tf_tensor <span class="token operator">=</span> tf<span class="token punctuation">.</span>constant<span class="token punctuation">(</span>np_array<span class="token punctuation">)</span>  <span class="token comment"># 转换为TensorFlow张量</span>
back_to_np <span class="token operator">=</span> tf_tensor<span class="token punctuation">.</span>numpy<span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment"># 转回NumPy数组</span>
</code></pre>
    <p>
     <strong>
      使用场景
     </strong>
     ：数据加载后通过
     <code>
      tf.data.Dataset
     </code>
     输入模型。
    </p>
    <h2>
     <a id="NumPy_144">
     </a>
     补充的NumPy核心知识点
    </h2>
    <h3>
     <a id="_146">
     </a>
     七、随机数生成
    </h3>
    <p>
     <strong>
      方法
     </strong>
     ：
     <code>
      np.random
     </code>
     模块生成随机数，如
     <code>
      rand()
     </code>
     、
     <code>
      randn()
     </code>
     、
     <code>
      randint()
     </code>
     。
    </p>
    <pre><code class="prism language-python"><span class="token comment"># 生成均匀分布随机数组（0~1之间）</span>
uniform_data <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># 3行2列</span>

<span class="token comment"># 生成正态分布随机数组（均值为0，标准差为1）</span>
normal_data <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>   <span class="token comment"># 100个样本</span>

<span class="token comment"># 生成随机整数（范围1~10）</span>
int_data <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 如[3,7,2,9,5]</span>
</code></pre>
    <p>
     <strong>
      使用场景
     </strong>
     ：神经网络权重初始化、数据增强（随机噪声）、Dropout层的随机掩码生成。
    </p>
    <h3>
     <a id="_163">
     </a>
     八、文件输入/输出
    </h3>
    <p>
     <strong>
      方法
     </strong>
     ：
     <code>
      np.save()
     </code>
     、
     <code>
      np.load()
     </code>
     保存和加载数组数据。
    </p>
    <pre><code class="prism language-python"><span class="token comment"># 保存数组到文件</span>
data <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
np<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">"data.npy"</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>  

<span class="token comment"># 加载数据</span>
loaded_data <span class="token operator">=</span> np<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">"data.npy"</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     <strong>
      使用场景
     </strong>
     ：存储预处理后的数据集（如图像特征）、加载预训练模型参数。
    </p>
    <h3>
     <a id="_178">
     </a>
     九、线性代数函数
    </h3>
    <p>
     <strong>
      关键函数
     </strong>
     ：
     <code>
      np.linalg.norm()
     </code>
     （范数）、
     <code>
      np.linalg.inv()
     </code>
     （逆矩阵）、
     <code>
      np.linalg.eig()
     </code>
     （特征值）。
    </p>
    <pre><code class="prism language-python">matrix <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 计算矩阵的逆</span>
inv_matrix <span class="token operator">=</span> np<span class="token punctuation">.</span>linalg<span class="token punctuation">.</span>inv<span class="token punctuation">(</span>matrix<span class="token punctuation">)</span>  <span class="token comment"># [[ 0.666, -0.333], [-0.333, 0.666]]</span>

<span class="token comment"># 计算L2范数</span>
norm <span class="token operator">=</span> np<span class="token punctuation">.</span>linalg<span class="token punctuation">.</span>norm<span class="token punctuation">(</span>matrix<span class="token punctuation">)</span>  <span class="token comment"># 3.0（√(2²+1²+1²+2²)）</span>
</code></pre>
    <p>
     <strong>
      使用场景
     </strong>
     ：正则化（如L2范数惩罚项）、主成分分析（PCA）降维。
    </p>
    <h3>
     <a id="_194">
     </a>
     十、布尔掩码与高级索引
    </h3>
    <p>
     <strong>
      操作
     </strong>
     ：使用布尔数组或整数数组索引。
    </p>
    <pre><code class="prism language-python">data <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 布尔索引（选择第一列大于20的行）</span>
mask <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">20</span>  <span class="token comment"># [False, True, True]</span>
result <span class="token operator">=</span> data<span class="token punctuation">[</span>mask<span class="token punctuation">]</span>      <span class="token comment"># [[30,40], [50,60]]</span>

<span class="token comment"># 整数数组索引</span>
indices <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
selected <span class="token operator">=</span> data<span class="token punctuation">[</span>indices<span class="token punctuation">]</span> <span class="token comment"># [[10,20], [50,60]]</span>
</code></pre>
    <p>
     <strong>
      使用场景
     </strong>
     ：数据清洗（过滤异常样本）、批量选择特定样本。
    </p>
    <h3>
     <a id="_212">
     </a>
     十一、向量化操作与性能优化
    </h3>
    <p>
     <strong>
      核心思想
     </strong>
     ：避免Python循环，用NumPy内置函数加速计算。
    </p>
    <pre><code class="prism language-python"><span class="token comment"># 低效方式（循环）</span>
arr <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span>
slow_sqrt <span class="token operator">=</span> <span class="token punctuation">[</span>np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> arr<span class="token punctuation">]</span>

<span class="token comment"># 高效方式（向量化）</span>
fast_sqrt <span class="token operator">=</span> np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
</code></pre>
    <p>
     <strong>
      使用场景
     </strong>
     ：大规模数据预处理（如图像归一化）、自定义损失函数实现。
    </p>
    <h3>
     <a id="_227">
     </a>
     十二、内存管理与视图/副本
    </h3>
    <p>
     <strong>
      概念
     </strong>
     ：
    </p>
    <ul>
     <li>
      <strong>
       视图（View）
      </strong>
      ：共享数据内存的数组（如切片操作）。
     </li>
     <li>
      <strong>
       副本（Copy）
      </strong>
      ：独立内存的新数组（需显式调用
      <code>
       copy()
      </code>
      ）。
     </li>
    </ul>
    <pre><code class="prism language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
view_arr <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span>   <span class="token comment"># 视图（修改view_arr会影响arr）</span>
copy_arr <span class="token operator">=</span> arr<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 副本（独立内存）</span>
</code></pre>
    <p>
     <strong>
      使用场景
     </strong>
     ：处理大型数据集时减少内存占用（如分块加载数据）。
    </p>
    <h3>
     <a id="_241">
     </a>
     十三、结构化数组与记录数组
    </h3>
    <p>
     <strong>
      方法
     </strong>
     ：定义复杂数据类型（类似Pandas的DataFrame）。
    </p>
    <pre><code class="prism language-python"><span class="token comment"># 定义结构化数据类型</span>
dtype <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'S10'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token string">'i4'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'score'</span><span class="token punctuation">,</span> <span class="token string">'f4'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
data <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">89.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">92.0</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span>dtype<span class="token punctuation">)</span>

<span class="token comment"># 按字段查询</span>
ages <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">'age'</span><span class="token punctuation">]</span>  <span class="token comment"># [25, 30]</span>
</code></pre>
    <p>
     <strong>
      使用场景
     </strong>
     ：处理非数值数据（如带标签的异构数据集）。
    </p>
    <h3>
     <a id="ufunc_256">
     </a>
     十四、通用函数（ufunc）
    </h3>
    <p>
     <strong>
      作用
     </strong>
     ：对数组元素执行快速逐元素运算（如
     <code>
      np.sin()
     </code>
     、
     <code>
      np.exp()
     </code>
     ）。
    </p>
    <pre><code class="prism language-python">x <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>pi<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>pi<span class="token punctuation">]</span><span class="token punctuation">)</span>
sin_x <span class="token operator">=</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>x<span class="token punctuation">)</span>  <span class="token comment"># [0, 1, 0]</span>
exp_x <span class="token operator">=</span> np<span class="token punctuation">.</span>exp<span class="token punctuation">(</span>x<span class="token punctuation">)</span>  <span class="token comment"># [1, 4.81, 23.14]</span>
</code></pre>
    <p>
     <strong>
      使用场景
     </strong>
     ：激活函数计算（如Sigmoid、ReLU）、自定义层实现。
    </p>
    <h3>
     <a id="_268">
     </a>
     十五、数组重复与平铺
    </h3>
    <p>
     <strong>
      方法
     </strong>
     ：
     <code>
      np.repeat()
     </code>
     、
     <code>
      np.tile()
     </code>
     扩展数组维度。
    </p>
    <pre><code class="prism language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
repeated <span class="token operator">=</span> np<span class="token punctuation">.</span>repeat<span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment"># [1,1,1,2,2,2]</span>
tiled <span class="token operator">=</span> np<span class="token punctuation">.</span>tile<span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment"># [[1,2], [1,2]]</span>
</code></pre>
    <p>
     <strong>
      使用场景
     </strong>
     ：数据增强（复制样本）、构建卷积核的多通道扩展。
    </p>
    <h2>
     <a id="_280">
     </a>
     总结
    </h2>
    <p>
     掌握上述NumPy知识点后，能够高效地处理TensorFlow中的张量操作、数据预处理以及模型调试。在实际应用中，例如图像分类任务，需要将图像数据转换为NumPy数组并进行归一化和变形，然后输入到TensorFlow模型中进行训练。
    </p>
    <p>
     以上知识点进一步涵盖了数据处理、数学运算和性能优化，尤其在以下场景中具有广泛的应用：
    </p>
    <h3>
     <a id="_286">
     </a>
     数据预处理
    </h3>
    <ul>
     <li>
      <strong>
       文件加载
      </strong>
      ：使用
      <code>
       np.load()
      </code>
      加载预处理后的数据。
     </li>
     <li>
      <strong>
       类型转换
      </strong>
      ：通过
      <code>
       astype()
      </code>
      将数据转换为所需的类型。
     </li>
     <li>
      <strong>
       异常值过滤
      </strong>
      ：利用布尔索引
      <code>
       arr[condition]
      </code>
      筛选出正常数据。
     </li>
    </ul>
    <h3>
     <a id="_292">
     </a>
     模型训练
    </h3>
    <ul>
     <li>
      <strong>
       权重初始化
      </strong>
      ：借助
      <code>
       np.random
      </code>
      模块生成符合特定分布的初始权重。
     </li>
     <li>
      <strong>
       矩阵运算
      </strong>
      ：运用
      <code>
       np.dot()
      </code>
      、
      <code>
       np.matmul()
      </code>
      等函数实现全连接层的矩阵乘法。
     </li>
     <li>
      <strong>
       激活函数计算
      </strong>
      ：使用通用函数
      <code>
       np.relu()
      </code>
      、
      <code>
       np.sigmoid()
      </code>
      等计算激活值。
     </li>
    </ul>
    <h3>
     <a id="_298">
     </a>
     结果分析
    </h3>
    <ul>
     <li>
      <strong>
       统计指标计算
      </strong>
      ：利用
      <code>
       np.mean()
      </code>
      、
      <code>
       np.std()
      </code>
      等函数评估模型性能。
     </li>
     <li>
      <strong>
       特征工程
      </strong>
      ：通过
      <code>
       np.linalg
      </code>
      模块实现PCA降维，提取主要特征。
     </li>
    </ul>
    <p>
     掌握这些内容后，可以更高效地将NumPy与TensorFlow结合，处理复杂深度学习任务。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f78696e6a696368656e6c6962696e672f:61727469636c652f64657461696c732f313436333034313531" class_="artid" style="display:none">
 </p>
</div>


