---
layout: post
title: "嵌入式设备程序打印输出注意事项"
date: 2020-09-27 22:49:14 +0800
description: "嵌入式设备中常常用一个脚本对应用程序进行守护，例如：#!/bin/shwhile [ 1 ]do\tp"
keywords: "嵌入式单片机 打印功能需要关闭吗"
categories: ['Arm']
tags: ['无标签']
artid: "89539213"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=89539213
    alt: "嵌入式设备程序打印输出注意事项"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=89539213
featuredImagePreview: https://bing.ee123.net/img/rand?artid=89539213
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     嵌入式设备程序打印输出注意事项
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     嵌入式设备中常常用脚本对应用程序进行守护，例如：
    </p>
    <pre><code>#!/bin/sh

while [ 1 ]
do
	ps -l | grep test_app  | grep -q -v grep
	if [ $? -ne 0 ];then
			test_app &gt; /dev/null &amp;
	fi
	
	sleep 5
done
</code></pre>
    <p>
     这里将应用程序的输出重定向到 /dev/null 中是有必要的，下面我们分析一下。
    </p>
    <p>
     一、首先要知道应用程序的输出有几种方式
     <br/>
     1.前台打印（手动运行程序）
     <br/>
     2.串口打印（脚本启动，但未重定向到别的文件）
     <br/>
     3.输出到文件（输出重定向到文件）
    </p>
    <p>
     打印速度：
     <br/>
     前台打印、重定向到/dev/null &gt; 重定向到普通文件（受介质影响）&gt; 串口打印
     <br/>
     注意：当程序中有大量信息要输出时，如果使用串口进行打印会耗费大量时间（串口的速率比较低），甚至还会影响到程序业务逻辑。所以在release版本的时候尽量将打印关掉，并且将输出重定向到/dev/null或者log文件。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a:2f2f626c6f672e6373646e2e6e65742f6c796e646f6e5f6c69:2f61727469636c652f64657461696c732f3839353339323133" class_="artid" style="display:none">
 </p>
</div>


