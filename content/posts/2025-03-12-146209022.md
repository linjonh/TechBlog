---
layout: post
title: "请简述一下StringStringBuffer和equals与hashCode的区别和使用场景"
date: 2025-03-12 16:41:23 +0800
description: "如果对字符串进行修改操作（如拼接、替换等），实际上会创建一个新的字符串对象。可以对字符串内容进行修改，而不会创建新的对象。适用于频繁修改字符串内容的场景，尤其是多线程环境。方法被重写，用于比较字符串的字符内容是否相同。类的方法，用于返回对象的哈希码（一个整数值）。用于比较两个对象的内存地址（引用是否相同）。方法被重写，根据字符串的字符内容计算哈希码。比较对象时，比较的是引用是否指向同一个对象。类的方法，用于比较两个对象的内容是否相等。适用于需要频繁修改字符串内容的场景。适用于字符串内容不经常修改的场景。"
keywords: "请简述一下String、StringBuffer和“equals”与“==”、“hashCode”的区别和使用场景"
categories: ['面试Java部分']
tags: ['Java', 'Android']
artid: "146209022"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146209022
    alt: "请简述一下StringStringBuffer和equals与hashCode的区别和使用场景"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146209022
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146209022
cover: https://bing.ee123.net/img/rand?artid=146209022
image: https://bing.ee123.net/img/rand?artid=146209022
img: https://bing.ee123.net/img/rand?artid=146209022
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     请简述一下String、StringBuffer和“equals”与“==”、“hashCode”的区别和使用场景
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     在 Java 中，
     <code>
      String
     </code>
     和
     <code>
      StringBuffer
     </code>
     是两种不同的字符串处理类，而
     <code>
      equals()
     </code>
     方法和
     <code>
      ==
     </code>
     操作符、
     <code>
      hashCode()
     </code>
     方法在字符串比较和哈希表操作中有不同的用途和语义。以下是它们的区别和使用场景的详细说明：
    </p>
    <hr/>
    <h4>
     <strong>
      1. String 和 StringBuffer 的区别
     </strong>
    </h4>
    <h5>
     <strong>
      1.1 String
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       <strong>
        不可变性
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         <code>
          String
         </code>
         是不可变的（immutable）。一旦创建，其内容不能被修改。
        </p>
       </li>
       <li>
        <p>
         如果对字符串进行修改操作（如拼接、替换等），实际上会创建一个新的字符串对象。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        线程安全
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         因为不可变性，
         <code>
          String
         </code>
         是线程安全的。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        性能
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         由于每次修改都会创建新对象，频繁修改字符串会导致性能下降。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        使用场景
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         适用于字符串内容不经常修改的场景。
        </p>
       </li>
       <li>
        <p>
         常用于字符串常量、字符串比较、字符串作为键值（如在
         <code>
          HashMap
         </code>
         中）。
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <h5>
     <strong>
      1.2 StringBuffer
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       <strong>
        可变性
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         <code>
          StringBuffer
         </code>
         是可变的（mutable）。可以对字符串内容进行修改，而不会创建新的对象。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        线程安全
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         <code>
          StringBuffer
         </code>
         是线程安全的。所有方法都是同步的（
         <code>
          synchronized
         </code>
         ），适合多线程环境。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        性能
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         由于可变性，修改字符串的性能比
         <code>
          String
         </code>
         更高。
        </p>
       </li>
       <li>
        <p>
         但由于同步机制，性能略低于
         <code>
          StringBuilder
         </code>
         （
         <code>
          StringBuilder
         </code>
         是
         <code>
          StringBuffer
         </code>
         的非线程安全版本）。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        使用场景
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         适用于需要频繁修改字符串内容的场景。
        </p>
       </li>
       <li>
        <p>
         特别适合多线程环境下的字符串拼接和修改。
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h4>
     <strong>
      2.
      <code>
       equals()
      </code>
      和
      <code>
       ==
      </code>
      的区别
     </strong>
    </h4>
    <h5>
     <strong>
      2.1
      <code>
       ==
      </code>
      操作符
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       <strong>
        语义
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         <code>
          ==
         </code>
         用于比较两个对象的内存地址（引用是否相同）。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        使用场景
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         比较基本数据类型（如
         <code>
          int
         </code>
         、
         <code>
          double
         </code>
         ）时，比较的是值。
        </p>
       </li>
       <li>
        <p>
         比较对象时，比较的是引用是否指向同一个对象。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        示例
       </strong>
       ：
      </p>
      <p>
       java复制
      </p>
      <pre><code>String s1 = "hello";
String s2 = "hello";
String s3 = new String("hello");

System.out.println(s1 == s2); // true，因为 s1 和 s2 指向同一个字符串常量
System.out.println(s1 == s3); // false，因为 s3 是通过 new 创建的，地址不同</code></pre>
     </li>
    </ul>
    <h5>
     <strong>
      2.2
      <code>
       equals()
      </code>
      方法
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       <strong>
        语义
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         <code>
          equals()
         </code>
         是
         <code>
          Object
         </code>
         类的方法，用于比较两个对象的内容是否相等。
        </p>
       </li>
       <li>
        <p>
         在
         <code>
          String
         </code>
         类中，
         <code>
          equals()
         </code>
         方法被重写，用于比较字符串的字符内容是否相同。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        使用场景
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         比较字符串内容是否相等时，应使用
         <code>
          equals()
         </code>
         。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        示例
       </strong>
       ：
      </p>
      <p>
       java复制
      </p>
      <pre><code>String s1 = "hello";
String s2 = "hello";
String s3 = new String("hello");

System.out.println(s1.equals(s2)); // true，内容相同
System.out.println(s1.equals(s3)); // true，内容相同</code></pre>
     </li>
    </ul>
    <hr/>
    <h4>
     <strong>
      3.
      <code>
       hashCode()
      </code>
      的作用和使用场景
     </strong>
    </h4>
    <h5>
     <strong>
      3.1
      <code>
       hashCode()
      </code>
      方法
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       <strong>
        语义
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         <code>
          hashCode()
         </code>
         是
         <code>
          Object
         </code>
         类的方法，用于返回对象的哈希码（一个整数值）。
        </p>
       </li>
       <li>
        <p>
         在
         <code>
          String
         </code>
         类中，
         <code>
          hashCode()
         </code>
         方法被重写，根据字符串的字符内容计算哈希码。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        语义规则
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         如果两个对象通过
         <code>
          equals()
         </code>
         方法比较相等，那么它们的
         <code>
          hashCode()
         </code>
         值也必须相等。
        </p>
       </li>
       <li>
        <p>
         如果两个对象的
         <code>
          hashCode()
         </code>
         值相等，它们不一定相等（可能存在哈希冲突）。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        使用场景
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         主要用于哈希表（如
         <code>
          HashMap
         </code>
         、
         <code>
          HashSet
         </code>
         ）的存储和查找。
        </p>
       </li>
       <li>
        <p>
         哈希表通过
         <code>
          hashCode()
         </code>
         方法将对象映射到特定的存储位置，从而实现快速查找。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        示例
       </strong>
       ：
      </p>
      <p>
       java复制
      </p>
      <pre><code>String s1 = "hello";
String s2 = "hello";
String s3 = new String("hello");

System.out.println(s1.hashCode()); // 99162322
System.out.println(s2.hashCode()); // 99162322
System.out.println(s3.hashCode()); // 99162322</code></pre>
     </li>
    </ul>
    <hr/>
    <h4>
     <strong>
      4. 总结
     </strong>
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        String
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         不可变，线程安全。
        </p>
       </li>
       <li>
        <p>
         适用于字符串内容不经常修改的场景。
        </p>
       </li>
       <li>
        <p>
         使用
         <code>
          equals()
         </code>
         比较内容，
         <code>
          ==
         </code>
         比较引用。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        StringBuffer
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         可变，线程安全。
        </p>
       </li>
       <li>
        <p>
         适用于频繁修改字符串内容的场景，尤其是多线程环境。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        <code>
         equals()
        </code>
        和
        <code>
         ==
        </code>
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         <code>
          equals()
         </code>
         用于比较内容是否相等。
        </p>
       </li>
       <li>
        <p>
         <code>
          ==
         </code>
         用于比较引用是否相同。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        <code>
         hashCode()
        </code>
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         用于计算对象的哈希码。
        </p>
       </li>
       <li>
        <p>
         主要用于哈希表的存储和查找。
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <p>
     希望这些内容能帮助你更好地理解这些概念！如果你还有其他问题，欢迎继续提问！
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c:6f672e6373646e2e6e65742f64616e67616f6465616979692f:61727469636c652f64657461696c732f313436323039303232" class_="artid" style="display:none">
 </p>
</div>


