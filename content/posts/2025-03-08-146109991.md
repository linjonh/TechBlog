---
layout: post
title: "XML多子元素多属性及XSD数据格式验证-Java"
date: 2025-03-08 06:53:32 +0800
description: "XML多子元素、多属性及XSD数据格式验证 Java"
keywords: "XML多子元素、多属性及XSD数据格式验证 Java"
categories: ['未分类']
tags: ['Xml', 'Java']
artid: "146109991"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146109991
    alt: "XML多子元素多属性及XSD数据格式验证-Java"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146109991
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146109991
cover: https://bing.ee123.net/img/rand?artid=146109991
image: https://bing.ee123.net/img/rand?artid=146109991
img: https://bing.ee123.net/img/rand?artid=146109991
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     XML多子元素、多属性及XSD数据格式验证 Java
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     ========xsd文件，文件名bean.xsd，放在当前java文件目录下
    </p>
    <pre><code class="language-XML">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"&gt;
	&lt;xs:element name="beans"&gt;
		&lt;xs:complexType&gt;
			&lt;xs:sequence&gt;
				&lt;xs:element name="bean" minOccurs="0"
					maxOccurs="unbounded"&gt;
					&lt;xs:complexType&gt;
						&lt;xs:sequence&gt;
							&lt;xs:element name="name" type="xs:string" /&gt;
							&lt;xs:element name="address" type="xs:string" /&gt;
						&lt;/xs:sequence&gt;
						&lt;xs:attribute name="smallrainIdIn" type="xs:string" use="required"/&gt;
            &lt;xs:attribute name="smallrainAttributeIn" type="xs:string" use="optional"/&gt;
					&lt;/xs:complexType&gt;
				&lt;/xs:element&gt;
			&lt;/xs:sequence&gt;
			&lt;xs:attribute name="smallrainId" type="xs:string" use="required"/&gt;
            &lt;xs:attribute name="smallrainAttribute" type="xs:string" use="optional"/&gt;
		&lt;/xs:complexType&gt;
	&lt;/xs:element&gt;
&lt;/xs:schema&gt;</code></pre>
    <p>
     ========被验证xml文件，文件名bean.xml，放在当前java文件目录下
    </p>
    <pre><code class="language-XML">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans smallrainId="01"&gt;
	&lt;bean smallrainIdIn="11"&gt;
		&lt;name&gt;rain &lt;/name&gt;
		&lt;address&gt;中国&lt;/address&gt;
	&lt;/bean&gt;
	&lt;bean smallrainIdIn="12"&gt;
		&lt;name&gt;rain one&lt;/name&gt;
		&lt;address&gt;中国 one&lt;/address&gt;
	&lt;/bean&gt;
&lt;/beans&gt;</code></pre>
    <p>
     =========java文件
    </p>
    <pre><code class="language-java">package org.rain.xml;
import javax.xml.XMLConstants;
import javax.xml.transform.Source;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.Schema;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Validator;
import org.xml.sax.SAXException;
import java.io.File;
import java.io.IOException;

public class SmallRainXML {
    public static void main(String[] args) {
    	SmallRainXML smallrainXML=new SmallRainXML();
    	
    	String smallrainBeanXSD=smallrainXML.getClass().getResource("bean.xsd").getFile();
    	String smallrainBeanXML=smallrainXML.getClass().getResource("bean.xml").getFile();
    	
        try {
            SchemaFactory smallrainSchemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
            Source smallrainSchemaSource = new StreamSource(new File(smallrainBeanXSD));
            Schema smallrainSchema = smallrainSchemaFactory.newSchema(smallrainSchemaSource);

            Validator smallrainValidator = smallrainSchema.newValidator();
            Source smallrainXMLSource = new StreamSource(new File(smallrainBeanXML));

            smallrainValidator.validate(smallrainXMLSource);
            System.out.println("XML格式正确");
        } catch (SAXException e) {
            System.out.println("XML格式错误" + e.getMessage());
        } catch (IOException e) {
            System.out.println("读文件出错" + e.getMessage());
        }
    }
}</code></pre>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f7869616f797573747564696f7777772f:61727469636c652f64657461696c732f313436313039393931" class_="artid" style="display:none">
 </p>
</div>


