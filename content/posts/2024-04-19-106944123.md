---
arturl_encode: "68747470733a2f2f:626c6f672e6373646e2e6e65742f73756e776569303133302f:61727469636c652f64657461696c732f313036393434313233"
layout: post
title: "CTS-Verifier测试手册"
date: 2024-04-19 21:12:59 +0800
description: "CTS Verifier 8.0 测试文档_voic"
keywords: "voicemail broadcast test"
categories: ['集成测试']
tags: ['集成测试', '测试工具', '压力测试', '功能测试', 'Verifier', 'Gts', 'Cts']
artid: "106944123"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=106944123
    alt: "CTS-Verifier测试手册"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=106944123
featuredImagePreview: https://bing.ee123.net/img/rand?artid=106944123
---

# CTS Verifier测试手册

CTS Verifier 8.0 测试文档

——CTS 测试小组

文档编辑历史：

|  |  |  |  |  |
| --- | --- | --- | --- | --- |
|  |  |  |  |  |
|  |  |  |  |  |
|  |  |  |  |  |
|  |  |  |  |  |

目    录

**[1       简介... 9](#_Toc511982944)**

**[2       测试前准备... 9](#_Toc511982945)**

**[3       测试流程... 9](#_Toc511982946)**

[3.1        AUDIO.. 9](#_Toc511982947)

*[3.1.1     Audio Frequency Line Test. 9](#_Toc511982948)*

*[3.1.2     Audio Frequency Microphone Test. 10](#_Toc511982949)*

*[3.1.3     Audio Frequency Speaker Test. 11](#_Toc511982950)*

*[3.1.4     Audio Frequency Unprocessed Test. 11](#_Toc511982951)*

*[3.1.5     Audio Input Devices Notifications Test. 12](#_Toc511982952)*

*[3.1.6     Audio Input Routing Notifications Test. 13](#_Toc511982953)*

*[3.1.7     Audio Loopback Latency Test. 13](#_Toc511982954)*

*[3.1.8     Audio Output Devices Notifications Test. 14](#_Toc511982955)*

*[3.1.9     Audio Output Routing Notifications Test. 14](#_Toc511982956)*

*[3.1.10       Hifi Ultrasound Microphone Test. 14](#_Toc511982957)*

*[3.1.11       Hifi Ultrasound Speaker Test. 15](#_Toc511982958)*

*[3.1.12       USB Audio Peripheral Attributes Test. 16](#_Toc511982959)*

*[3.1.13       USB Audio Peripheral Buttons Test. 17](#_Toc511982960)*

*[3.1.14       USB Audio Peripheral Play Test. 18](#_Toc511982961)*

*[3.1.15       USB Audio Peripheral Record Test. 18](#_Toc511982962)*

[3.2        CAMERA. 19](#_Toc511982963)

*[3.2.1     Camera FOV Calibration. 19](#_Toc511982964)*

*[3.2.2     Camera Flashlight. 21](#_Toc511982965)*

*[3.2.3     Camera Formats. 21](#_Toc511982966)*

*[3.2.4     Camera ITS Test. 22](#_Toc511982967)*

*[3.2.5     Camera Intents. 22](#_Toc511982968)*

*[3.2.6     Camera Orientation. 22](#_Toc511982969)*

*[3.2.7     Camera Video. 23](#_Toc511982970)*

[3.3        CAR. 24](#_Toc511982971)

*[3.3.1     Car Dock Test. 24](#_Toc511982972)*

[3.4        CLOCK. 24](#_Toc511982973)

*[3.4.1     Alarms and Timers Tests. 24](#_Toc511982974)*

[3.5        DEVICE ADMINISTRATION.. 26](#_Toc511982975)

*[3.5.1     Device Admin Tapjacking Test. 26](#_Toc511982976)*

*[3.5.2     Device Admin Uninstall Test. 27](#_Toc511982977)*

*[3.5.3     Keyguard Disabled Features Test. 28](#_Toc511982978)*

*[3.5.4     Policy Serialization Test. 29](#_Toc511982979)*

*[3.5.5     Redacted Notifications Keyguard Disabled Features Test. 29](#_Toc511982980)*

*[3.5.6     Screen Lock Test. 30](#_Toc511982981)*

[3.6        FEATURES. 30](#_Toc511982982)

*[3.6.1     Hardware/Software Feature Summary. 30](#_Toc511982983)*

*[3.6.2     Companion Device Test. 31](#_Toc511982984)*

[3.7        HARDWARE. 31](#_Toc511982985)

*[3.7.1     GNSS Measurement Constellation Test. 31](#_Toc511982986)*

*[3.7.2     GNSS Measurement Registration Test. 31](#_Toc511982987)*

*[3.7.3     GNSS Measurement Values Test. 31](#_Toc511982988)*

*[3.7.4     GNSS Measurement WhenNoLocation Test. 31](#_Toc511982989)*

*[3.7.5     GNSS Navigation Message Test. 31](#_Toc511982990)*

*[3.7.6     GNSS TTFF Test. 31](#_Toc511982991)*

*[3.7.7     GPS Test. 31](#_Toc511982992)*

*[3.7.8     MTP Host Test. 32](#_Toc511982993)*

*[3.7.9     NFC Test. 32](#_Toc511982994)*

[3.7.9.1  NDEF Push Sender. 32](#_Toc511982995)

[3.7.9.2  NDEF Push Receiver. 32](#_Toc511982996)

[3.7.9.3  LLCP version check. 32](#_Toc511982997)

[3.7.9.4  NDEF. 33](#_Toc511982998)

[3.7.9.5  MIFARE Ultralight. 33](#_Toc511982999)

[3.7.9.6  HCE reader tests. 33](#_Toc511983000)

[3.7.9.7  HCE emulator tests. 33](#_Toc511983001)

[3.7.9.8  HCE Felica reader tests. 33](#_Toc511983002)

[3.7.9.9  HCE Felica emulator tests. 33](#_Toc511983003)

*[3.7.10       USB Accessory Test. 33](#_Toc511983004)*

*[3.7.11       USB Device Test. 35](#_Toc511983005)*

[3.8        JOB SCHEDULER. 36](#_Toc511983006)

*[3.8.1     Charging Constraints. 36](#_Toc511983007)*

*[3.8.2     Connectivity Constraints. 36](#_Toc511983008)*

[3.9        LOCATION.. 36](#_Toc511983009)

*[3.9.1     Battery Saving Mode Test. 36](#_Toc511983010)*

*[3.9.2     Device Only Mode Test. 36](#_Toc511983011)*

*[3.9.3     High Accuracy Mode Test. 36](#_Toc511983012)*

*[3.9.4     Location Mode Off Test. 36](#_Toc511983013)*

[3.10      MANAGER PROVISIONING.. 36](#_Toc511983014)

*[3.10.1       BYOD Managed Provisioning. 36](#_Toc511983015)*

[3.10.1.1  Profile owner installed. 36](#_Toc511983016)

[3.10.1.2  Full dish encryption enabled. 36](#_Toc511983017)

[3.10.1.3  Badged work apps visible in Launcher. 36](#_Toc511983018)

[3.10.1.4  Work notification is badged. 37](#_Toc511983019)

[3.10.1.5  Work status icon is displayed. 37](#_Toc511983020)

[3.10.1.6  Work status toast is displayed. 38](#_Toc511983021)

[3.10.1.7  Profile-aware accounts settings. 38](#_Toc511983022)

[3.10.1.8  Profile-aware device administrator settings. 38](#_Toc511983023)

[3.10.1.9  Profile-aware trusted credential settings. 39](#_Toc511983024)

[3.10.1.10  Profile-aware app settings. 39](#_Toc511983025)

[3.10.1.11  Profile-aware location settings. 39](#_Toc511983026)

[3.10.1.12  Profile-aware data usage settings(Wi-Fi) 40](#_Toc511983027)

[3.10.1.13  Profile-aware data usage settings(Cellular) 40](#_Toc511983028)

[3.10.1.14  Profile-aware printing settings. 40](#_Toc511983029)

[3.10.1.15  Open app cross profiles from the personal side. 41](#_Toc511983030)

[3.10.1.16  Open app cross profiles from the work side. 41](#_Toc511983031)

[3.10.1.17  App links from the work side. 41](#_Toc511983032)

[3.10.1.18  Disable non-market apps. 42](#_Toc511983033)

[3.10.1.19  Enable non-market apps. 42](#_Toc511983034)

[3.10.1.20  Cross profile intent filters are set. 43](#_Toc511983035)

[3.10.1.21  Permissions lockdown. 43](#_Toc511983036)

[3.10.1.22  Keyguard disabled features. 43](#_Toc511983037)

[3.10.1.23  Autentication-boud keys. 45](#_Toc511983038)

[3.10.1.24  Vpn test. 45](#_Toc511983039)

[3.10.1.25  Turn off work mode. 46](#_Toc511983040)

[3.10.1.26  Select work lock test. 47](#_Toc511983041)

[3.10.1.27  Confirm work lock test. 47](#_Toc511983042)

[3.10.1.28  Organization Info. 48](#_Toc511983043)

[3.10.1.29  Personal password test. 48](#_Toc511983044)

[3.10.1.30  Policy transparency test. 48](#_Toc511983045)

[3.10.1.31  Disallow apps control 49](#_Toc511983046)

[3.10.1.32  Camera support cross profile image capture. 50](#_Toc511983047)

[3.10.1.33  Camera support cross profile video test(with extra output path) 51](#_Toc511983048)

[3.10.1.34  Camera support cross profile video test(without extra output path) 51](#_Toc511983049)

[3.10.1.35  Disable Nfc beam.. 51](#_Toc511983050)

[3.10.1.36  Enable location. 51](#_Toc511983051)

[3.10.1.37  Disable location. 51](#_Toc511983052)

[3.10.1.38  Disable location for work profile. 51](#_Toc511983053)

[3.10.1.39  Primary receives updates while work location is disabled. 52](#_Toc511983054)

*[3.10.2       BYOD Provisioning tests. 52](#_Toc511983055)*

[3.10.2.1  Custom provisioning color. 52](#_Toc511983056)

[3.10.2.2  Custom provisioning image. 52](#_Toc511983057)

[3.10.2.3  Custom terms. 52](#_Toc511983058)

*[3.10.3       Device Owner Requesting Bugreport Tests. 53](#_Toc511983059)*

[3.10.3.1  Check device owner. 53](#_Toc511983060)

[3.10.3.2  Sharing of requested bugreport declined while being taken. 54](#_Toc511983061)

[3.10.3.3  Sharing of requested bugreport accepted while being taken. 55](#_Toc511983062)

[3.10.3.4  Sharing of requested bugreport declined after having been taken. 56](#_Toc511983063)

[3.10.3.5  Sharing of requested bugreport accepted after having been taken. 57](#_Toc511983064)

[3.10.3.6  Remove device owner. 59](#_Toc511983065)

*[3.10.4       Device Owner Tests. 60](#_Toc511983066)*

[3.10.4.1  Check device owner. 60](#_Toc511983067)

[3.10.4.2  Device administrator settings. 60](#_Toc511983068)

[3.10.4.3  WiFi configuration lockdown. 61](#_Toc511983069)

[3.10.4.4  Disallow configuring WiFi 62](#_Toc511983070)

[3.10.4.5  Disallow configuring VPN.. 62](#_Toc511983071)

[3.10.4.6  Disallow data roaming. 62](#_Toc511983072)

[3.10.4.7  Disallow factory reset. 63](#_Toc511983073)

[3.10.4.8  Disallow configuring Bluetooth. 63](#_Toc511983074)

[3.10.4.9  Disallow USB file transfer. 63](#_Toc511983075)

[3.10.4.10  Disable status bar. 64](#_Toc511983076)

[3.10.4.11  Disable keyguard. 64](#_Toc511983077)

[3.10.4.12  Setting the user icon. 65](#_Toc511983078)

[3.10.4.13  Permissions lockdown. 65](#_Toc511983079)

[3.10.4.14  Policy transparency test. 66](#_Toc511983080)

[3.10.4.15  Managed device info tests. 74](#_Toc511983081)

[3.10.4.16  Corporate Owned Managed Profile. 86](#_Toc511983082)

[3.10.4.17  Network Logging UI 87](#_Toc511983083)

[3.10.4.18  Remove device owner. 88](#_Toc511983084)

*[3.10.5       No Device Owner Tests. 89](#_Toc511983085)*

[3.10.5.1  Device owner provisioning. 89](#_Toc511983086)

[3.10.5.2  . Quick settings disclosure. 89](#_Toc511983087)

[3.10.5.3  Keyguard disclosure. 90](#_Toc511983088)

[3.10.5.4  Add account disclosure. 90](#_Toc511983089)

[3.11      NETWORKING.. 90](#_Toc511983090)

*[3.11.1       Bluetooth Test. 90](#_Toc511983091)*

[3.11.1.1  Toggle Bluetooth. 90](#_Toc511983092)

[3.11.1.2  Bluetooth LE Advertiser Test. 91](#_Toc511983093)

[3.11.1.3  Bluetooth LE Insecure Client Test. 91](#_Toc511983094)

[3.11.1.4  Bluetooth LE Insecure Server. 91](#_Toc511983095)

[3.11.1.5  Bluetooth LE Scanner Test. 91](#_Toc511983096)

[3.11.1.6  Bluetooth LE Secure Client Test. 92](#_Toc511983097)

[3.11.1.7  Bluetooth LE Encrypted Client Test. 92](#_Toc511983098)

[3.11.1.8  Bluetooth LE Secure Server. 92](#_Toc511983099)

[3.11.1.9  Insecure Client. 92](#_Toc511983100)

[3.11.1.10  Insecure Server. 92](#_Toc511983101)

[3.11.1.11  Secure Client. 92](#_Toc511983102)

[3.11.1.12  Secure Server. 92](#_Toc511983103)

*[3.11.2       Network Connectivity Screen Off Test. 93](#_Toc511983104)*

*[3.11.3       Wi-Fi Direct Test. 93](#_Toc511983105)*

[3.11.3.1  GO Negotiation Responder Test. 93](#_Toc511983106)

[3.11.3.2  GO Negotiation Requester Test. 93](#_Toc511983107)

[3.11.3.3  Group Owner Test. 94](#_Toc511983108)

[3.11.3.4  Group Client Test. 94](#_Toc511983109)

[3.11.3.5  Service Discovery Responder Test. 94](#_Toc511983110)

[3.11.3.6  Service Discovery Requester Test. 94](#_Toc511983111)

[3.12      NOTIFICATIONS. 94](#_Toc511983112)

*[3.12.1       CA Cert Notification Test. 94](#_Toc511983113)*

*[3.12.2       CA Cert Notification on Boot test. 95](#_Toc511983114)*

*[3.12.3       Condition Provider test. 95](#_Toc511983115)*

*[3.12.4       Notification Attention Management Test. 95](#_Toc511983116)*

*[3.12.5       Notification Listener Test. 95](#_Toc511983117)*

*[3.12.6       Notification Package Priority Test. 96](#_Toc511983118)*

*[3.12.7       Shortcut Reset Rate-limiting Test. 96](#_Toc511983119)*

[3.13      OTHER. 96](#_Toc511983120)

*[3.13.1       Screen Pinning Test. 96](#_Toc511983121)*

*[3.13.2       Widget Framework Test. 97](#_Toc511983122)*

[3.14      PROJECTION TESTS. 97](#_Toc511983123)

*[3.14.1       Projection Cube Test. 97](#_Toc511983124)*

*[3.14.2       Projection Multitouch Test. 97](#_Toc511983125)*

*[3.14.3       Projection Offscreen Activity. 97](#_Toc511983126)*

*[3.14.4       Projection Scrolling List Test. 97](#_Toc511983127)*

*[3.14.5       Projection Video Playback Test. 97](#_Toc511983128)*

*[3.14.6       Projection Widget Test. 97](#_Toc511983129)*

[3.15      SECURITY. 98](#_Toc511983130)

*[3.15.1       Fingerprint Bound Keys Test. 98](#_Toc511983131)*

*[3.15.2       KeyChain Storage Test. 98](#_Toc511983132)*

*[3.15.3       Keyguard Password Verification. 99](#_Toc511983133)*

*[3.15.4       Lock Bound Keys Test. 99](#_Toc511983134)*

[3.16      SENSORS. 99](#_Toc511983135)

*[3.16.1       6DoF Test. 99](#_Toc511983136)*

*[3.16.2       Accelerometer Measurement Tests. 99](#_Toc511983137)*

*[3.16.3       CTS Sensor Batching Tests. 99](#_Toc511983138)*

*[3.16.4       CTS Sensor Integration Tests. 99](#_Toc511983139)*

*[3.16.5       CTS Sensor Test. 100](#_Toc511983140)*

*[3.16.6       CTS Single Sensor Tests. 100](#_Toc511983141)*

*[3.16.7       Device Suspend Tests. 100](#_Toc511983142)*

*[3.16.8       Dynamic Sensor Discovery Test. 100](#_Toc511983143)*

*[3.16.9       Gyroscope Measurement Test. 100](#_Toc511983144)*

*[3.16.10     Magnetic Field Measurement Tests. 100](#_Toc511983145)*

*[3.16.11     Off Body Sensor Tests. 101](#_Toc511983146)*

*[3.16.12     Rotation Vector CV Crosscheck. 101](#_Toc511983147)*

*[3.16.13     Sensor Batching Test. 102](#_Toc511983148)*

*[3.16.14     Significant Motion Tests. 102](#_Toc511983149)*

[3.17      STREAMINING.. 103](#_Toc511983150)

*[3.17.1       Streaming Video Quality Verifier. 103](#_Toc511983151)*

[3.18      TELECOM.. 103](#_Toc511983152)

*[3.18.1       Incoming Self-Managed Connection Test. 103](#_Toc511983153)*

*[3.18.2       Telecom Enable Phone Account Test. 104](#_Toc511983154)*

*[3.18.3       Telecom Incoming Call Test. 104](#_Toc511983155)*

*[3.18.4       Telecom Outgoing Call Test. 104](#_Toc511983156)*

[3.19      TELEPHONY. 105](#_Toc511983157)

*[3.19.1       Dialer Receives Incoming Call 105](#_Toc511983158)*

*[3.19.2       Dialer Shows HUN on Incoming call 105](#_Toc511983159)*

*[3.19.3       Hide settings in voicemail test. 106](#_Toc511983160)*

*[3.19.4       Hide Voicemail in call settings test. 106](#_Toc511983161)*

*[3.19.5       System Implements Telecom Intents. 106](#_Toc511983162)*

*[3.19.6       VisualVoicemailService Test. 107](#_Toc511983163)*

*[3.19.7       Voicemail Broadcast Test. 107](#_Toc511983164)*

[3.20      VR. 108](#_Toc511983165)

*[3.20.1       VR Tests. 108](#_Toc511983166)*

1. **简介**

Android的CTS测试，英文为Compatibility Test Suite，意为兼容性测试。只有通过CTS测试的设备才有可能获得Android的商标和享受Android Market的权限；Android的CTS目的与意义：用户在android系统中有更好的用户体验，并且展示android应用的优越性，使得android开发者更容易编写高质量的andorid程序。

CTS、GTS、CTS Verifier组成CTS测试的一整套测试，CTS verifier是保证应用程序可靠运行和保证良好用户体验,与CTS和GTS 不同的手工测试。

1. **测试前准备**

CTS Verifier测试需要安装CtsVerifier这个apk，如下图，整个CtsVerifier测试中除了CtsVerifier，还需要安装其他辅助测试的apk和环境，在具体的测试用例遇到再介绍。

1. **测试流程**
   1. **AUDIO**

AUDIO的测试需要在安静的屋子里进行测试，保证测试不受外界环境干扰。

1. 1. 1. **Audio Frequency Line Test**

**Step**
：根据提示，这条需要插入Loopback线测试，点击YES,点击LOOPBACK PLUGREADY,点击TEST,开始测试，所有Band的 Level状态都为OK时才可pass，不允许有Not Optimal的结果。

**Note**
**：**
调节将媒体音量、闹钟音量、铃声音量，一般铃声音量调到最大容易pass。

TAMA手机需要插USB转3.0耳机孔（如下图），进行测试。如果手机不支持耳机插孔，例如Bright Windy手机，需要直接点击NO，测试即可pass。

**Tips**
**：**
测试过程中不要旋转手机屏幕，否则测试结果会被清空。

1. 1. 1. **Audio Frequency Microphone Test**

**Step:**
CTS Verifier 8.0这条测试包含三条测试，TEST NOISE:设备连接外部speaker，Speaker开机，SOUND和AUDIOIN两个按钮的指示灯亮起，设备的屏幕中心距离Speaker 40cm，点击PLAY按钮，听到声音后点击TEST按钮，开始进行测试，直到底部显示test finished,测试完成，等待全部三条测试完成，查看最终测试结果。

**TEST USB BACKGROUND:**
USB microphone通过OTG与测试机相连，将其放置在紧邻测试机内置麦克风的位置，点击TEST进行测试，同上，直到底部显示test finished,测试完成，等待全部三条测试完成，查看最终测试结果。

**TEST USB NOISE:**
测试设备连接USB reference Microphone、外部speaker, 设备的屏幕中心距离Speaker 40cm，USB reference Microphone靠近设备，点击PLAY开始播放声音，点击TEST，开始进行测试，直到底部显示test finished,测试完成，等待全部三条测试完成，查看最终测试结果。所有的测试结果全部为pass，测试才能点绿色的pass，Audio测试即使测试有fail，结果也显示pass,如下图，所以需要人工识别，必须全pass才可以，个别产品除外。

**Note**
**：**
调节将媒体音量、闹钟音量、铃声音量，一般铃声音量调到最大容易pass。

TAMA手机需要插USB转3.0耳机孔，进行测试。如果手机不支持耳机插孔，例如Bright Windy手机，需要直接点击NO，测试即可pass。

**Tips**
**：**
测试过程中不要旋转手机屏幕，否则测试结果会被清空。

1. 1. 1. **Audio Frequency Speaker Test**

**Step**
：测试设备连接USB reference Microphone，USB reference Microphone距离设备屏幕中心20cm处，如下图1，点击TEST进行测试，直到所有的测试结果为OK，测试才能pass，如下图

**Note**
**：**
调节将媒体音量、闹钟音量、铃声音量，一般铃声音量调到最大容易pass。

TAMA手机需要插USB转3.0耳机孔，进行测试。如果手机不支持耳机插孔，例如Bright Windy手机，需要直接点击NO，测试即可pass。

**Tips**
**：**
测试过程中不要旋转手机屏幕，否则测试结果会被清空。

1. 1. 1. **Audio Frequency Unprocessed Test**

**Step**
**：**
CTS Verifier 8.0这条测试包含四条测试：

**TEST TONE:**
测试设备连接speaker，将SPL meter（声压计）放在设备的前方，点击PLAY播放声音，不断移动SPL meter或者调节音量，直到得到94dB SPL,记下此位置，将测试设备放到此处，点击TEST开始进行测试，直到得到一个-33dBFS——-39dBFS的值。

**TEST NOISE:**
测试设备连接speaker，将speaker放置到距离设备的内置扬声器40cm处，点击PLAY按钮，听到声音后点击TEST按钮。直到底部出现test finished，表示该条测试完成。

**TEST USB BACKGROUND:**
测试设备连接USB reference Microphone，USB reference Microphone靠近设备，点击TEST进行测试，同上，直到底部显示test finished,测试完成，等待全部三条测试完成，查看最终测试结果。

**TEST USB NOISE:**
测试设备通过OTG线连接USB reference Microphone，耳机孔连接外部speaker, 设备的屏幕中心距离Speaker 40cm，USB reference Microphone靠近设备，点击PLAY开始播放声音，点击TEST，开始进行测试，直到底部显示test finished,测试完成，等待全部四条测试完成，查看最终测试结果。所有的测试结果全部为successful，才能点绿色的pass，Audio测试即使测试有fail，结果也显示pass,如下图，所以需要人工识别，必须全pass才可以，个别产品除外。

**Note**
**：**
调节将媒体音量、闹钟音量、铃声音量，一般铃声音量调到最大容易pass。

TAMA手机需要插USB转3.0耳机孔，进行测试。如果手机不支持耳机插孔，例如Bright Windy手机，需要直接点击NO，测试即可pass。

**Tips**
**：**
测试过程中不要旋转手机屏幕，否则测试结果会被清空。

1. 1. 1. **Audio Input Devices Notifications Test**

**Step**
：根据提示，点击YES按钮à点击“CLEAR MESSAGES”按钮（该按钮下方的信息会被清除掉）à测试机连接一个microphone 或者wired headset（loop线也可以）（“CLEAR MESSAGES”按钮下方会显示“CONNECT DETECTED”）à断开连接（“CLEAR MESSAGES”按钮下方会显示“DISCONNECT DETECTED”）。

1. 1. 1. **Audio Input Routing Notifications Test**

**Step**
：根据提示，点击YES按钮à点击RECORD按钮à测试机连接一个microphone 或者wired headset（loop线也可以），查看AudioRecord rerouting信息（会有信息显示如： AudioRecord rerouting –USB-Audio- UMM-6（设备号）[ 0xb ] -2）à拔掉有线耳机或microphone，查看AudioRecord rerouting信息（信息被更新）à点击STOP按钮。

1. 1. 1. **Audio Loopback Latency Test**

**Step**
**：**
根据提示，点击YES按钮à测试机插入 Loopback 线（若测试机无耳机插孔，需借助耳机转接头），点击“LOOPBACK PLUG READY”按钮àt调节“Audio Level”的值或者调节音量à点击TEST按钮，直到confidence的值大于0.6，测试pass。

**Note**
**：**
调节将媒体音量、闹钟音量、铃声音量，一般铃声音量调到最大容易pass。TAMA手机需要插USB转3.0耳机孔（如下图），进行测试。

1. 1. 1. **Audio Output Devices Notifications Test**

**Step**
**：**
同Audio Input Devices Notifications Test

1. 1. 1. **Audio Output Routing Notifications Test**

**Step**
**：**
同Audio Input Routing Notifications Test

1. 1. 1. **Hifi Ultrasound Microphone Test**

**Step**
：测试机与辅助机都进入到“Hifi Ultrasound Microphone Test”下，将两台手机靠近，测试机上点RECORD按钮，辅助机上立即点PLAY按钮à等待测试机分析音频情况。

**Note**
： 1.　需准备两台设备，一台测试机和一台辅助机，辅助机可以是Nexus，pixel或其他能够产生ultrasound sound（超声波声音）的设备，这里使用的是安装了同一CTS Verifier工具的安卓手机；

2.　尽可能地在一个比较安静的环境中进行测试；

3.　测试机分析完结果之后，若结果显示为“PASS”，则pass按钮呈现可点状态，否则pass按钮无法被点击。可以尝试调试辅助机音量，若不过，则点击fail按钮将结果标记为FAIL。另外，点击PLOT按钮可将结果以图形的形式显示出来。

**Tips**
**：**
辅助机必须在测试机点完record的1秒之内点击play并发出ultrasound sound（超声波声音）。

1. 1. 1. **Hifi Ultrasound Speaker Test**

**Step**
：测试机与辅助机都进入到“Hifi Ultrasound Speaker Test”下，à将两台设备靠近，辅助机上点RECORD按钮，测试机上立即点PLAY按钮à等待辅助机分析音频情况（测试机上会弹出一个对话框，提示等待辅助机分析完结果后再打结果；辅助机分析完结果后也同样会弹出一个对话框，提示在测试机上打结果）。

**Note**
： 1.　需准备两台设备，一台测试机和一台辅助机，辅助机可以是Nexus 6, Nexus 5或其他能够录制ultrasound sound（超声波声音）的设备，这里使用的是安装了同一CTS Verifier工具的安卓手机；

2.　尽可能地在一个比较安静的环境中进行测试

3.　辅助机分析完结果之后，若结果显示为“PASS”，才可在测试机上pass；若显示为“FAIL”，可以多次尝试调试测试机音量。多次尝试后仍无法通过，则点击测试机上的fail按钮将结果标记为FAIL。另外，点击辅助机的PLOT按钮可将结果以图形的形式显示出来。

**Tips**
**：**

辅助机必须在测试机点完record的1秒之内点击play并发出点ultrasound sound（超声波声音）。

1. 1. 1. **USB Audio Peripheral Attributes Test**

**Note**
：1.Peripheral是指连接到Android设备的外部USB音频外围设备，如：USB音频接口（
[Presonus AudioBox 22VSL](http://www.presonus.com/products/audiobox-22VSL "Presonus AudioBox 22VSL")
，
[Presonus AudioBox USB](https://www.presonus.com/products/audiobox-usb "Presonus AudioBox USB")
）和USB外接耳机；USB Audio CTS Verifier Tests通过Android提供的内置配置文件来了解这些推荐的外围设备，这些配置文件描述了外围设备的属性和功能。当外设连接到测试的Android设备时，正确的配置文件会被自动选中。

2.　其他辅助设备：Patch cables，USB peripheral cable，OTG cable，Analog headphones（模拟头戴设备）。

这个测试验证了属性（支持的采样率、通道配置、示例格式…）是否匹配设备的先天已知属性集。

**Step**
：用OTG线连接USB音频接口（如AudioBox 22VSL），查看 connected interface peripheral 是否在连接状态及 Peripheral Profile Status 是否在授权状态，如果在授权状态 pass 按钮可以点击。

**Note**
： 1.　需要用到AudioBox 22VSL，OTG cable；

2.　连接AudioBox 22VSL后，Peripheral Profile Status下的输入输出都必须显示为
**Match**
状态才可pass。

1. 1. 1. **USB Audio Peripheral Buttons Test**

本测试验证USB耳机上的媒体/传输按钮是否正确。

**Step**
：通过OTG线连接 USB 耳机à在耳机上按下每个媒体/传输（播放、暂停、音量和音量）按钮à查看按钮识别状态à当所有按钮都被识别时，pass按钮可被点击。

**Note**
： 1.　需要用到USB耳机，OTG cable；

2.　设备配置文件中已知的按钮用白色文本表示;　那些不属于测试外围设备的部分将显示为灰色文本；

3.　连接USB耳机后，会显示已连接的设备，但未识别按钮；只有对白色文本中显示的按钮进行操作并识别到后才会显示已识别，按钮都被识别后pass 按钮才可以被点击。

1. 1. 1. **USB Audio Peripheral Play Test**

验证音频回放功能是否正常。它通过生成1 KHz的测试音调并将其以立体声（双通道）的形式呈现给USB音频外设。

**Step**
： 连接USB音频接口（如AudioBox 22VSL），包括Analog headphones到耳机输出接口上的插孔（用于监控）à点击“play”按钮，若在耳机的两个通道中都听到了“尖长的平稳的”声音播放，则测试通过。

**Note**
： 1.需要使用USB音频接口（这里使用的是AudioBox 22VSL），Analog headphones，OTG cable。

2.　连接AudioBox 22VSL后，Peripheral Profile Status下的输入输出都必须显示为
**Match**
状态，

3.  点击PLAY按钮后，如果两个通道中的任何一个或两个通道都不能听到“尖长的平稳的”声音播放，则case不过。

1. 1. 1. **USB Audio Peripheral Record Test**

验证音频的录制功能。它通过在USB音频接口的输出上生成一种音调，然后通过线路将其路由到USB音频外围设备的输入中。

**Step**
：  设备通过OTG线，连接USB音频接口（如AudioBox 22VSL）à通过Patch cables将模拟输出口连接到模拟输入口上à点击按钮“RECORD”，出现录制测试音调的两个通道，调节设备上的5个调节按钮，以右下角第一个为主，其他为辅调节，直到出现以下比较平滑的波形，然后点击按钮“RECORD LOOKBACK”播放录音验证录音。

**Note**
： 1.需要使用USB音频接口（这里使用的是AudioBox 22VSL），Patch cables，OTG cable。

2. 确保外围设备的输入和输出插孔的正连接。有必要调整输入电平以正确显示已记录的信号； 如果录制测试音调的两个通道都没有显示则fail case。

**Tips:**
调整输入电平时可先将其调为临界值，使通道显示为两条直线，然后稍微转动按钮来进行调节，这样比较容易形成光滑的波形。

1. 1. **CAMERA**
      1. **Camera FOV Calibration**

**Step**
**：**

进入Camera FOV Calibration测试项，手机界面显示camera取景画面；如下图

1.点击Setup进行两线实线距中心线的距离（Marker distance）为38cm和相机距图片的距离（Target distance）100cm（参考如下两图）

2.测试时点击屏幕的任意位置,进行拍照。

3.拍摄后需要观察拍摄照片是否符合要求:

查看下图中标红框的部分，线条是否有偏差，要求偏差在+/-1之间，符合要求点击右下角的Done继续拍摄下一张照片；可以滑动蓝色的圆点，查看三条线重合后，reported FOV 和Displayed FOV的值的差，大于1，测试为fail。

**Note**
**：**

保证线对齐

,

如果拍摄不准，可以点击左下角选择相应的分辨率进行重新拍摄。

**Tips**
**：**

一次偏差比较大的话

，

可以调节一下相机距图片的距离

（

Target distance

），

看看能否测过。

1. 1. 1. **Camera Flashlight**

**Step**
**：**
点击start开始测试，查看摄像头的闪关灯情况是关还是开，根据闪关灯情况选择ON或者OFF，直至点击DONE，将测试完成。

1. 1. 1. **Camera Formats**

**Step**
**：**
测试选项内的Camera、Resolution、Format combination，所有组合都必须测过，并且左右画质需完全对称。

**Note**
**：**
由于选项过多，当测完还不能pass，点右上角的下拉菜单进入Current Progress，查看Untested combinations下还有哪项漏测。

1. 1. 1. **Camera ITS Test**

参考Camera ITS 的谷歌测试文档

1. 1. 1. **Camera Intents**

**Step:**


1.Start Test ->

返回桌面

->

手动

启动

Camera ->

拍摄图片

->

返回

Verifier

测试界面

->

如果有收到

intent

，

Pass

的

button

会亮

，

就可以点选

Pass

。

2.Start Test ->

返回桌面

->

手动

启动

Camera ->

拍摄视频

->

返回

Verifier

测试界面

->

如果有收到

intent

，

Pass

的

button

会亮

，

就可以点选

Pass

。

3.Start Test ->

自动

启动

Camera ->

拍摄图片

->

返回

Verifier

测试界面

->

如果有收到

intent

，

Pass

的

button

会亮

，

就可以点选

Pass

。

4.Start Test ->

自动

启动

Camera ->

拍摄视频

->

返回

Verifier

测试界面

->

如果有收到

intent

，

Pass

的

button

会亮

，

就可以点选

Pass

。

**Note**
**：**
在Intents Test 4 of 4，部分手机需要将手机横向进行录制才能测过

1. 1. 1. **Camera Orientation**

**Step**
**：**

Take photo -> 看left view和right view是否一样并且Photos角度按照提示变换，符合要求点Pass

1. 1. 1. **Camera Video**

**Step**
**：**
如上图提示，进行测试，保证没有漏测。

1. 1. **CAR**
      1. **Car Dock Test**

**Step**
**：**
点击ENABLE CAR MODE 弹出如上图，选择使用CTS Verifier完成操作，仅此一次，按照提示，点击Home键，继续选择使用CTS Verifier完成操作，仅此一次，测试即可pass。

1. 1. **CLOCK**
      1. **Alarms and Timers Tests**

依序点选测试项进行测试，全部测试项皆Pass，则点选Pass；若有其中一个测试项为Fail，则点选Fail

1. Show Alarms Test -> Press the Show Alarms -> 确认clock app被启动并显示Alarm list，如下图一。

2. Set Alarm Test -> Press the Set Alarm -> 确认clock app被启动并设置一天后相同时间的闹钟，如右上图二。

3. Start Alarm Test -> Press the Set Alarm -> 确认没有UI显示，显示如下图三的toast提示，屏幕左上角弹出钟表的提示，下拉可以看到如图四提示，设置一个2分钟以后的闹钟 -> 点击Verify显示UI界面如图五，确认闹钟名称为Start Alarm Test ->等待两分钟 ->闹钟震动，DISMISS闹钟 ->确认这个闹钟的时间点不在闹钟的list里面。测试pass。

4. Full Alarm Test -> Press the Create Alarm -> 确认闹钟的显示如下图六，闹钟时间为01:23，响铃方式：震动，标题：Create Alarm Test，重复时间：Monday and Wednesday

5. Set Timer Test -> Press the Set Timer -> 确认app被启动且显示，可以设定时间，并在设定的时间内响起闹铃，如图七

6. Start Timer Test -> Press the Start Timer -> 确认没有UI显示，屏幕顶端出现如图九的小沙漏，下拉快捷菜单，看到如图八所示提示框，等待30秒闹钟响起 -> 点击DISMISS关掉计时器,这个Timer不再存在Timer列表里，测试pass。

7. Start Timer With UI Test -> Press the Start Timer -> 确认计时器被启动显示UI界面，如上图十名称为Start Timer Test，自动从30秒开始倒计时，等待30秒后计时器响起 -> 关掉计时器，测试pass。

1. 1. **DEVICE ADMINISTRATION**

**Note**
**：**
在测这个包下的所有case前，需要作如下操作：Settings->Security->Device administrators 下勾选CTS Verifier，去掉勾选的Sensor Tests Device Admin Receiver ， Android Device Manager勾选不勾选无影响，如不勾选，会有如下提示，并且测试结果不准确。

1. 1. 1. **Device Admin Tapjacking Test**

**Step**
**：**
点击按钮“ENABLE DEVICE ADMIN”进入图1界面等待弹出悬浮窗口如图2，点击 Activate this device admin app ,弹出如图3界面，点击返回键或者退出悬浮窗口返回到图1 界面，点击返回键如图4， 点击 pass按钮可用

1. 1. 1. **Device Admin Uninstall Test**

**Step**
**：**
安装 CtsEmptyDeviceAdmin.apk 到手机后点击Device Admin Uninstall Test

进入测试如图1点击按钮“ENABLE ADMIN” 进入图2点击”Activate this device administrator” 选项如图3，然后点击按钮“LAUNCH SETTINGS”进入图4点击“UNISTALL”进入图5，然后点击“Deactivate and Uninstall”选项等待一会后进入图6，然后点击ok按钮进入图7pass按钮可用

1. 1. 1. **Keyguard Disabled Features Test**

**Tips**
**：**

在测这条case前，设备要设置锁屏和指纹，点击PREPARE TEST按钮无反应则可以开始逐条测试

**Note**
**：**

每次离开这条case的测试页面，CTS Verifier的激活状态都会被清除，再次返回测试页面时需要重新去到Device admin apps下勾选中CTS Verifier

**Step**
**：**
1. Fingerprint is disabled Settings->go->Fingerprint Manager->看到如下图提示->锁屏,指纹解锁无法解屏。

2. Fingerprint disabled on Keyguard->go->锁屏,指纹解锁无法解屏。

3.Disable trust agents->go->Trust agents->Smart Lock（google）为关闭状态，且无法打开

4.Disable camera->go->锁屏状态，左下角Camera图标不显示且向左上滑动Camera不会开启

5.Disable notifications->go->锁屏状态，时间下方没有notifications。（最后一个图为fail，与没有notifications（第二张图）对比用）

1. 1. 1. **Policy Serialization Test**

**Step**
**：**
点击GENERATE POLICY->点击APPLY POLICY 弹出提示要求重启手机，重启设备，pass点亮，测试通过。

1. 1. 1. **Redacted Notifications Keyguard Disabled Features Test**

**Step**
**：**
设置锁屏密码，点击PREPARE TEST->go->锁屏状态->亮屏看到下图红圈部分->解锁，屏幕右上角有如下图二的Notifications，下拉得到图三的，测试pass。

**Tips**
**：**
测试此条case前，需要设置锁屏密码，且锁屏时Notifications选择“Show all notification content”,如下图四

1. 1. 1. **Screen Lock Test**

**Step**
**：**
设置锁屏密码->点击force lock->Activate CTS Verifier->锁屏->解屏弹出如下图提示，测试pass

1. 1. **FEATURES**
      1. **Hardware/Software Feature Summary**

显示『V』的测试项为support feature

显示『？』的测试项为optional support feature

显示『\*』的测试项为non-support feature

显示『！』的测试项为required feature not report，or forbidden feature

打开CTS 的testResult.xml ，比对

1. 测试项目的结果.查看是否一致,若一致,则点选下方PASS。

1. 1. 1. **Companion Device Test**

辅助设备和测试设备都打开蓝牙，点击Go在弹出的弹窗里选择辅助设备的蓝牙，测试即可pass

1. 1. **HARDWARE**

以下测试需要到户外空旷地打开GPS进行测试，如果测试不容易测过，可以用\*#\*#7378423#\*#\* 进入Service tests->GPS->GPS Location Test等待LAT:  Long: 等出现数据再进行测试，部分设备直接重启也可以测过。

1. 1. 1. **GNSS Measurement Constellation Test**

**Step:**
进入GNSS Measurement Constellation Test->点击NEXT->等待测试pass点击返回键即可

1. 1. 1. **GNSS Measurement Registration Test**

同3.7.1

1. 1. 1. **GNSS Measurement Values Test**

同3.7.1

1. 1. 1. **GNSS Measurement WhenNoLocation Test**

同3.7.1

1. 1. 1. **GNSS Navigation Message Test**

同3.7.1

1. 1. 1. **GNSS TTFF Test**

同3.7.1

**Note**
**：**
这条case需要有实卡网络，插入实卡后进入setting->Network&Internet->Mobile network，打开Data roaming，接着进入Access Point Names，选择3G net网络

**Tips**
**：**
若是测试手机为maki手机则需要用docomo卡的数据流量

1. 1. 1. **GPS Test**

同3.7.1

1. 1. 1. **MTP Host Test**

**Step**
**：**
需要一根数据线、一根OTG线和一部辅助机。测试机连接OTG线，辅助机USB设置选择Transfer files，测试机打开MTP Host Test，点击next->按照case的提示点选Connected to xxx（xxx为设备号）如图一，可以查看辅助机internal storage的信息->点选pass，弹出弹框，勾选Use by default for this USB device如下图二，点击OK ->待Grant permission 测试通过，辅助机打开Camera进行拍照，Test MtpDevice测试通过，测试Pass。

**Note**
**：**

MTP

有时测试不过可以换部手机作为辅助机，或重启手机再测试。

1. 1. 1. **NFC Test**

**Note**
**：**
NFC测试，需要有辅助机，辅助机装有相同的版本的CTS Verifier.apk

1. 1. 1. 1. **NDEF Push Sender**

**Step**
**:**
辅助机选择NDEF Push Receiver,将两个手机的NFC接触

1. 1. 1. 1. **NDEF Push Receiver**

**Step**
**：**
辅助机选择NDEF Push Sender,将两个手机的NFC接触，待辅助机弹出如下图一界面时，点击其屏幕，测试机弹出如下图二，测试Pass

1. 1. 1. 1. **LLCP version check**

**Step**
**：**
辅助机选择LLCP version check,将两个手机的NFC接触，Pass按钮点亮

1. 1. 1. 1. **NDEF**

**Step**
**：**
NDEF卡片贴到手机NFC侧，显示图一，点击OK，再次将卡片贴到手机NFC侧，弹出如下图二，Pass按钮点亮

1. 1. 1. 1. **MIFARE Ultralight**

**Step**
**：**
MIFARE卡片贴到手机NFC侧，显示和上图类似结果，点击OK，再次将卡片贴到手机NFC侧，Pass按钮点亮

1. 1. 1. 1. **HCE reader tests**

**Step**
**：**
辅助机选择HCE emulator tests,选择其中的相同项逐条测试

**Note**
**：**
其中Large number of AIDs（Reader）项需要两个手机NFC接触时间较长，直至出现数据

1. 1. 1. 1. **HCE emulator tests**

**Step**
**：**
辅助机选择HCE reader tests,选择其中的相同项逐条测试

1. 1. 1. 1. **HCE Felica reader tests**

**Step**
**：**
辅助机选择HCE Felica emulator tests,选择其中的相同项逐条测试

1. 1. 1. 1. **HCE Felica emulator tests**

**Step**
**：**
辅助机选择HCE reader emulator tests,选择其中的相同项逐条测试

1. 1. 1. **USB Accessory Test**

对比手机安装软件CtsVerifierUSBCompanion.apk 并打开测试软件Cts Verifier USB Companion

**Step**
**：**
1.辅助机选择START ACCESSORY TEST COMPANION 连接OTG线一端，选择charge模式。

2.测试机连接USB线一端，弹出如下图二USB模式选择窗口，选supply for power模式

3.辅助机弹出确认弹窗如下图二，直接点击OK，不要勾选Use by default for this USB device

4.测试机弹出图三弹窗，直接点击ok，不要勾选Use by default for this USB device

5.辅助机再次弹出确认弹窗，直接点击OK，同样不要勾选Use by default for this USB device

6.等待测试，大约30秒

**Note**
**：**
等待测试过程中，辅助机会出现如下图四的状态变换，证明测试正在进行，若显示的status一直为Waiting for device under test to connect则证明测试未进行。此时可以重新插拔数据线再次测试，或者重启手机，或者换个辅助机。

**Tips**
**：**
测试此条case一般用Kagura手机比较好用，kagura手机可以在Device connection->USB Connectivity下detect获取到测试机信息。

1. 1. 1. **USB Device Test**

对比手机安装软件CtsVerifierUSBCompanion.apk 并打开测试软件Cts Verifier USB Companion

**Step**
**：**
1.辅助机选择START DEVICE TEST COMPANION并连接USB线一端，USB模式为Charge this device模式

2.测试机连接OTG线一端，弹出如下图二窗口，选择Downloads，点击JUST ONCE

3.辅助机弹出如下图三窗口，选择Cts Verifier USB Companion，点击JUST ONCE

4.测试机弹出的确认弹窗选择ok，不要勾选Use by default for this USB device提示

5.开始测试，等待大约30秒

**Note**
**：**

等待测试过程中，辅助机会出现Status变换，证明测试正在进行，若显示的、status一直为Waiting for device under test to connect则证明测试未进行。此时可以重新插拔数据线再次测试，或者重启手机，或者换个辅助机。

**Tips**
**：**

测试该条case，一般用TAMA手机做辅助机比较好用

1. 1. **JOB SCHEDULER**
      1. **Charging Constraints**

**Step**
**：**
手机连接电源，点击START TEST,待第一条测试通过，拔掉电源，两条均pass，测试pass

**Note**
**：**
此条case需要电量充足的情况下测试，最好为90%以上

1. 1. 1. **Connectivity Constraints**

**Step**
**：**
如果wifi连接，需要关闭WIFI，如果wifi未连接，点击START TEST，等待测试pass。

1. 1. **LOCATION**
      1. **Battery Saving Mode Test**

**Step**
**：**
点击LAUNCH SETTINGS->Location Mode ON-> LAUNCH SETTINGS->Battery Saving Mode

1. 1. 1. **Device Only Mode Test**

**Step**
**：**
点击LAUNCH SETTINGS->Location Mode ON-> LAUNCH SETTINGS->Device Only Mode

1. 1. 1. **High Accuracy Mode Test**

**Step**
**：**
点击LAUNCH SETTINGS->Location Mode ON-> LAUNCH SETTINGS->High Accuracy Mode

1. 1. 1. **Location Mode Off Test**

**Step**
**：**
点击LAUNCH SETTINGS->Location Mode OFF

1. 1. **MANAGER PROVISIONING**
      1. **BYOD Managed Provisioning**

**Note**
**：**

1.点击“START BYOD PROVIDIONING FLOW”->设置一个work profile，这里边的Case都需要在work profile 模式下进行测试。

2.设置锁屏时要选择“show all notification content”

1. 1. 1. 1. **Profile owner installed**

**Step**
**：**
如果设备设置了work profile，点击“Profile owner install”-> case passed

**Note**
**：**
如果fail，点击“START BYOD PROVIDIONING FLOW”->设置一个 work profile。

1. 1. 1. 1. **Full dish encryption enabled**

**Step**
**：**
点击 “Full dish encryption enabled”直接 pass 弹出 “You’re using this app in your work profile”

**Note**
**：**
如果测试机设置锁屏，点击 “Full dish encryption enabled” 弹出 “You’re using this app in your work profile” ->go->移除原密码。自动回到最初界面，case passed。

1. 1. 1. 1. **Badged work apps visible in Launcher**

**Step**
**：**

点击“Badged work apps visible in Launcher”->点击Go->验证：手机桌面是否出现带有“work profile”图标的应用，其中必须包括 CTS Verifier

1. 1. 1. 1. **Work notification is badged**

**Step**
**：**
点击“Work notification is badged”->点击Go->会有CTS Verifier logo的notification在屏幕顶端，如图所示：

1. 1. 1. 1. **Work status icon is displayed**

**Step:**
点击“Work status icon is displayed”->验证：当前状态栏没有CTS Verifier 图标 -> 点击 Go->验证：当前状态栏有 CTS Verifier 图标。如图所示，点击FINLISH返回，case passed。

1. 1. 1. 1. **Work status toast is displayed**

**Step**
**：**
点击“Work status toast is displayed”->点击Go->会有一个类似书包的status bar在屏幕顶端，如图所示：关闭屏幕等待一段时间，会出现一个toast，提示You’re using your work profile点击FINISH,测试pass。

1. 1. 1. 1. **Profile-aware accounts settings**

**Step**
**：**
点击“Profile-aware accounts settings”->点击go -> 到Accouns->验证：Persional类和Work类存在；Work profile settings 和Remove work profile 存在；在屏幕上或者下拉菜单中有两个数据自动同步项，personal 和 work，点击取消其中任意一个会出现图三的提示，case passed。

1. 1. 1. 1. **Profile-aware device administrator settings**

**Step**
**：**
点击“Profile-aware device administrator settings”- >go->Device administrators->验证：A badged CTS Verifier 存在，并且是被选中状态；badged CTS Verifier 没有其他的取消选项，只有“Remove work profile”，case passed。

1. 1. 1. 1. **Profile-aware trusted credential settings**

**Step**
**：**
点击Profile-aware trusted credential settings->go->Trusted credentials->Personal和work都存在，返回点选pass。

1. 1. 1. 1. **Profile-aware app settings**

**Step**
**：**
点击Profile-aware app settings->go->work选项存在，点选work存在badged work的app，返回，选择pass

1. 1. 1. 1. **Profile-aware location settings**

**Step**
**：**
点击Profile-aware location settings->go->Location for work profile存在，Location开关关闭，Location for work profile开关关闭，location开关打开，Location for work profile即可以打开也可以关闭。返回，测试pass。

1. 1. 1. 1. **Profile-aware data usage settings(Wi-Fi)**

**Step**
**：**
点击Profile-aware data usage settings(Wi-Fi)->go->Data ussge->wifi data usage->all work apps存在，带work profile图标的应用存在。

1. 1. 1. 1. **Profile-aware data usage settings(Cellular)**

**Step**
**：**
点击Profile-aware data usage settings(Cellular)->go->Data ussge-> Cellular data usage->all work apps存在，带work profile图标的应用存在。

1. 1. 1. 1. **Profile-aware printing settings**

**Step**
**：**
点击“Profile-aware printing settings”->点击Go->Personal和Work都存在，点击Work进到work profile打印设置下

1. 1. 1. 1. **Open app cross profiles from the personal side**

**Step**
**：**
点击Open app cross profiles from the personal side->go->选择switch to work跳到You selected the Work option右上角会出现work profile的图标（图2中的小书包），并且会出现一个toast，”You’re using this app in your word profile.”选择CTS Verifier跳到You selected the ctsverifier option模式,右上角不会出现work profile的图标（图2中的小书包）。

1. 1. 1. 1. **Open app cross profiles from the work side**

**Step**
**：**
点击Open app cross profiles from the work side->点击Go->右上角会出现work profile的图标（图2中的小书包）, 并且会出现一个toast，”You’re using this app in your word profile.”选择cts verifier 跳到You selected the ctsverifier option模式(图2)->点击FINISH->点击Go->选择SWITCH TO PERSONAL，并且会出现一个toast“You are using this app outside of the profile”->跳到 You selected the personal option.（图3）->点击 FINISH。测试passed。

1. 1. 1. 1. **App links from the work side**

**Step**
**：**
点击Go->右上角会出现work profile的图标（图2中的小书包）, 并且会出现一个toast，”You’re using this app in your word profile.” 选择cts verifier 跳到You selected the ctsverifier option模式->点击FINISH->点击Go->选择SWITCH TO PERSONAL,出现图2所示图标，注意：此处设备上有多少浏览器，图标就应该显示几个浏览器 ->选择CTS Verifier，跳到 You selected the personal option. 并且会出现一个toast“You are using this app outside of the profile”->点击 FINISH

1. 1. 1. 1. **Disable non-market apps**

**Step**
**：**

点击Go->右上角会出现work profile的图标（图中的小书包）,并且会出现一个Note：“You administrator doesn’t allow installation of Apps obtained from unknown sources”或“Action not allowed”和一个toast：”You’re using this app in your word profile.”如图所示：

1. 1. 1. 1. **Enable non-market apps**

**Step**
**：**

点击“Enable non-market apps”- >点击 Go，屏幕右上角会出现 work profile 的图标（图中的小书包）， 进入Install unknown apps 界面，打开Allow from this source开关，进入 CTS Verifier 安装界面，系统提示：Do you want to install an update to this exiting data to this application? Your existing data will not be lost. It does not require any special access。并会出现一个toast ”You’re using this app in your word profile.”，如下图，保证右下角”CANCEL”，”INSTALL”能正常使用。case passed。

**Note**
： 打开Allow from this source开关后，Install unknown apps界面不会再弹出。

1. 1. 1. 1. **Cross profile intent filters are set**

**Step**
**：**
点击Cross profile intent filters are set，直接Pass

1. 1. 1. 1. **Permissions lockdown**

**Step**
**：**
安装“CtsPermissionApp”apk ,点击Go->进入到Permissionslockdown界面，界面下方出现一个toast：”You’re using this app in your word profile.”->选择Grant->点击OPEN APPLICATION SETTINGS ,在App info下打开Permissions->App permissions下的Contacts权限默认被打开（Enbaled by admin）；返回到Permissions lockdown 界面，选择Let user decide，->点击OPEN APPLICATION SETTINGS ,在App info下打开Permissions->App permissions下的Contacts权限能被打开和关闭；返回到Permissions lockdown 界面，选择Deny->->点击OPEN APPLICATION SETTINGS ,在App info下打开Permissions->App permissions下的Contacts权限默认关闭（Disabled by admin）。->点击FINISH。Case pass。

1. 1. 1. 1. **Keyguard disabled features**

**Step**
**：**
在Setting下打开Security->Device administrators下选中CtsVerifier, 设置锁屏密码，点击PREPARE TEST， 界面下方出现一个toast：“You’re using this app in your word profile.”

**Note:**
设置锁屏时要选择“Show all notifications content”

1. Disable trust agents

**Step**
**：**
点击Disable trust agent->点击Go->打开Security 下的Trust agents-> Smart Lock（Google）默认被关闭,如下图所示，或者默认置灰。

1. Unredacted notifications disabled on keyguard

**Step**
**：**
点击Unredacted notifications disabled on keyguard->点击Go->手机灭屏几秒->亮屏->屏幕出现CTS Verifier notification（如下图），解锁，屏幕左上角出现CTS Verifier notification，下拉查看notification内容”This is a notifications”如下图，测试pass。

1. Fingerprint is disabled in Settings

**Step**
**：**
点击 “Fingerprint is disabled in Settings”->点击Go->打开Security，在Work profile security下的Fingerprint Manager中。没有指纹设置，先设置指纹，有指纹设置，打开设置， 可看到如下图说明：The screen lock option is disabled。case passed。

1. Fingerprint disabled on keyguard

**Step**
**：**
点击Go->手机灭屏->指纹解锁失效->测试pass，解锁屏幕，点击pass即可。

1. 1. 1. 1. **Autentication-boud keys**

**Step**
**：**
点击Autentication-boud keys ，出现一个toast“You’re using this app in your word profile”点击SET UP,设置一个Work profile lock锁屏密码，点击Lockscreen-bound key test,会出现一个解锁倒计时的toast，“Lockscreen challenge start in X seconds”（图1），然后屏幕跳转到Confirm 锁屏密码界面，（图2），输入正确的锁屏密码，测试pass。

1. 1. 1. 1. **Vpn test**

**Step**
：android O上这条case直接打pass。

1. 1. 1. 1. **Turn off work mode**
2. Prepare a work notification

**Step**
：  点击Prepare a work notification->Go，在屏幕左上角会出现 a notification：This is a notification ,屏幕下方出现toast ：”You’re using this app in your work profile.”case pass。

1. Please turn off work mode

**Step**
：  点击OPEN SETTING TO TOGGLE WORK MODE->进入Users&accounts设置界面，点击“Work profile settings ->关闭Work mode开关，返回测试，case pass。

1. Notifications when work mode is off

**Step**
：  点击“Notifications when work mode is off”->弹出提示：“turn off work mode”，case（1）里在通知栏里的显示的工作通知已经不存在了，点击GO ->弹出“Work mode is OFF”提示框，屏幕下方出现 toast ：“You’re using this app in your work profile”。点击 CANCEL，case passed。

1. Status bar icon when work mode is off

**Step**
：  点击Status bar icon when work mode is off->弹出提示：“turn off work mode”，之前在通知栏里的显示的工作通知已经不存在了，点击GO ->在setting界面的顶部出现 一个图标指示：“Work mode is OFF” 如（上右二图），返回，case passed。

1. Starting work apps when work mode is off

**Step**
：  点击Starting work apps when work mode is off->点击Go->到手机home界面，work profile app是灰色的，点击任意work profile app，提示”Work mode is off”如下图：

1. Please turn work mode back on

**Step**
：  点击OPEN SETTING TO TOGGLE WORK MODE->进入Users&accounts设置界面，点击“Work profile settings ->打开Work mode开关选项。返回测试，case pass。

1. Status bar icon when work mode is on

**Step**
：  点击Status bar icon when work mode is on>Go->在Settings界面不会出现 “Work profile is off”，如case（3）的界面。测试pass。

1. Starting work apps when work mode is on

**Step**
：  点击Starting work apps when work mode is on>Go->到手机home界面，work profile app不是灰色的，点击任意work profile app，可以正常使用。测试pass。

1. 1. 1. 1. **Select work lock test**

**Step**
：  点击Select work lock test->点击Go->设置新的work lock，case pass。

1. 1. 1. 1. **Confirm work lock test**

**Step**
：  点击Confirm work lock test->Go->打开一个work app,会看到蓝色背景的图片，图片包括：橘色的suitcase(小书包)、顶部有CTSVerifier字样。重启手机，会有提示：询问是否安装work 证书，如下图：

**Note**
**：**
如果不会出现上面（一图），去setting->Security->Work profile lock，设置一个work lock，在返回case中，重新做一遍case。

1. 1. 1. 1. **Organization Info**

**Step**
：  点击Organization Info->Go->输入任意名字->设置任意可视颜色（例如品红#f00056）->点击SET->Go->会看到设置的图片颜色和名称，如下图：

1. 1. 1. 1. **Personal password test**

**Step**
：点击Personal password test->Go->设置新的personal 密码->锁屏->解锁，检查密码是否正确。

1. 1. 1. 1. **Policy transparency test**

**Note**
**：**
点击Policy transparency test，设置一条短消息，(例如：sunwei)设置一条长消息（例如：123456@789）

1. Disallow controlling apps

**Step**
：  点击Disallow controlling apps->打开Disable controlling app 开关->OPEN SETTING->选择任意Work app，点击Disable / Focus stop/uninstall会有Action not allowed 的弹框，弹框包括短消息，点击more details ，会看到长消息。case pass。

1. Disallow modify accounts

**Step**
：  点击Disallow modify accounts->>打开Disable controlling app 开关->OPEN SETTING->点击Add account->会出现Action not allowed 的弹框，弹框包括短消息，点击more details ，会看到长消息。

1. Disable share location

**Step**
：  点击Disable share location->打开Disable share location开关->点击OPEN SETTING->点击Location for work profile->会出现Action not allowed 的弹框，弹框包括短消息，点击more details ，会看到长消息。（如（1）、（2）图所示）

1. Disallow uninstall apps

**Step**
：  点Disallow uninstall apps->打开Disallow uninstall apps开关->点击OPEN SETTING->点击任意Work profile app （自己安装可卸载的Work profile app）->点击UNINSTALL->会出现Action not allowed 的弹框，弹框包括短消息，点击more details ，会看到长消息。（如（1）、（2）图所示）

1. Set permitted accessibility services

**Step**
：   点击Set permitted accessibility services->打开Set permitted accessibility services开关->点击OPEN SETTING->点击Dummy accessibility service->会出现Action not allowed 的弹框，弹框包括短消息，点击more details ，会看到长消息。（如（1）、（2）图所示）

1. Set permitted input methods

**Step**
：  点击Set permitted input methods ->打开Set permitted input methods

开关->点击OPEN SETTING->点击Dummy a input methods ->会出现Action not allowed 的弹框，弹框包括短消息，点击more details ，会看到长消息。（如（1）、（2）图所示）

1. 1. 1. 1. **Disallow apps control**

**Step**
：点击PREPARE TEST

1. Disabled uninstall button

**Step**
：   点击Disabled uninstall button->选择Work profile app->点击DISABLE->功能不可用且弹出如上图提示

1. Disabled force stop button

**Step**
：  点击Disabled force stop button->选择Work profile app->点击FORCE STOP->功能不可用且弹出如上图提示

1. Disabled app storage button

**Step**
：  点击Disabled app storage button->选择Work profile app->点击Storage->点击MANAGE SPACE或者CLEAR CACHE功能不可用且弹出如上图提示

1. 1. 1. 1. **Camera support cross profile image capture**

**Step**
：  点击Camera support cross profile image capture->点击go->跳转到Camera->拍照->弹出如下（左图）截图，点击close，测试pass

1. 1. 1. 1. **Camera support cross profile video test(with extra output path)**

**Step**
： 点击Camera support cross profile video test(with extra output path)->go->拍摄视频->点击结束，出现如（右上二）图提示->点击play，视频播放正常->点击close，测试pass

**Note**
**：**
这条case对个别产品横屏容易过。

1. 1. 1. 1. **Camera support cross profile video test(without extra output path)**

**Step**
：点击Camera support cross profile video test(without extra output path)->go->拍摄视频->点击结束，出现如下图提示->点击play，视频播放正常->点击close，测试pass

**Note**
**：**
这条case对个别产品横屏容易过。

1. 1. 1. 1. **Disable Nfc beam**

**Step**
：点击Disable Nfc beam->go->点击SEN MANUAL BEAM或SEND SHARE INTENT NFC功能正常->返回点击pass->点击go->点击SEN MANUAL BEAM或SEND SHARE INTENT NFC功能不可用，返回测试pass

1. 1. 1. 1. **Enable location**

**Step**
：此case需要在室外测试，点击Enable location->go->打开Location开关->移动一段距离，等待15秒左右会弹出如下提示“Location changed”或者“Timeout waiting for gps location change”如下图所示（注意：打开谷歌Map登录账号，容易看到“Location changed”）

1. 1. 1. 1. **Disable location**

**Step**
：此case需要在室外测试，点击Disable location->go->关闭Location开关->移动一段距离，等待15秒左右会弹出如下提示“Location changed”或者“Timeout waiting for gps location change” 如10.1.35图所示（注意：打开谷歌Map登录账号，容易看到“Location changed”）

1. 1. 1. 1. **Disable location for work profile**

**Step**
：点击Disable location for work profile->go->打开Location开关->关闭location for work profile开关，移动一段距离，等待15秒左右会弹出如下提示 “Timeout waiting for gps location change” 如10.1.35图所示。

1. 1. 1. 1. **Primary receives updates while work location is disabled**

**Step**
：点击Disable location for work profile->go->打开Location开关->关闭location for work profile开关，移动一段距离，等待15秒左右会弹出如下提示 “Timeout waiting for gps location change” 如10.1.35图所示。

1. 1. 1. **BYOD Provisioning tests**
         1. **Custom provisioning color**

**Step**
： 点击“Custom provisioning color”->点击GO->顶部状态栏和“Accepet and continue”键是绿色的，如下图（左）所示，返回，case passed。

1. 1. 1. 1. **Custom provisioning image**

**Step**
：点击“Custom provisioning image”->点击GO->点击“Accepet and continue”，CTS Verifier logo 显示在 provisioning 界面顶部，如上图（右）所示，返回，case passed。

1. 1. 1. 1. **Custom terms**

**Step**
：点击Go->选择View terms->点击Company ABC->Company Terms Content存在，点击返回两次，停止provisioning操作，选择pass。

1. 1. 1. **Device Owner Requesting Bugreport Tests**

**Note**
**：**
测试这条case，手机中不能存在其他账户，例如谷歌账户、work profile账户。

1. 点击“SET UP DEVICE OWNER”按钮，弹出“Set up device owner”提示框à根据提示，进入开发者模式下将“USB debugging”打开à将手机连接在电脑上，在弹出的“Allow USB debugging？”对话框中选择允许à打开命令窗口，输入以下命令：adb shell dpm set-device-owner 'com.android.cts.verifier/com.android.cts.verifier.managedprovisioning.DeviceAdminTestReceiver'

2.如上图，看到Success表示DeviceOwner设置成功，点击Check device owner，即可pass。

1. 1. 1. 1. **Check device owner**

**Step**
：点击“Check device owner”，若背景颜色显示为绿色则继续执行下一步；若为红色，说明device owner未设置成功，需重新执行以上命令。

1. 1. 1. 1. **Sharing of requested bugreport declined while being taken**

**Step**
：1) 点击进入“Sharing of requested bugreport declined while being taken”；

2) 根据提示，点击“REQUEST BUGREPORT”按钮来调用bugreport sharing操作；

3) 打开通知栏确认以下信息：有一条带有进度条的“Taking bugreport…”（标题）通知显示；如上右图。

4) 再次点击“REQUEST BUGREPORT”按钮，查看通知栏确认以下信息：有一条通知显示为“Device Owner Requesting Bugreport Tests”（标题），并且其下方显示“Bugreport is already   being collected on this device”；

5) 点击通知栏中的“Taking bugreport…”会弹出如下对话框“Share bug report?”（标题），具体内容如下图“Your IT XXX”à点击DECLINE按钮，查看通知栏，确认以下信息：

a.通知栏中不再出现带有进度条的“Taking bugreport…”;

b.通知栏有通知显示--“Device Owner Requesting Bugreport Tests”（标题），其下方显示Bugreport sharing declined”。

6) 若1)- 5)都pass，则标记“Sharing of requested bugreport declined while being taken”的结果为pass。

1. 1. 1. 1. **Sharing of requested bugreport accepted while being taken**

**Step**
：1) 点击进入“Sharing of requested bugreport accepted while being taken”；

2) 根据提示，点击“REQUEST BUGREPORT”按钮来调用bugreport sharing操作；

3) 打开通知栏确认以下信息：有一条带有进度条的“Taking bugreport…”（标题）通知显示；

4) 点击通知栏中的“Taking bugreport…”会弹出如下对话框“Share bug report?”（标题），具体内容如下图“Your IT XXX”à点击SHARE按钮，查看通知栏，确认以下信息：

a.通知栏中不再出现带有进度条的“Taking bugreport…”;

b.通知栏有一条带有进度条的通知“Sharing bugreport…”

5) 等待几分钟（收集bugreport）,直到“Sharing bugreport…”自动消失；确认通知栏有通知显示--“Device Owner Requesting Bugreport Tests”（标题），其下方显示“Bugreport shared successfully”。

6) 若1)- 5)都pass，则标记“Sharing of requested bugreport declined while being taken”的结果为pass。

1. 1. 1. 1. **Sharing of requested bugreport declined after having been taken**

**Step**
：1) 点击进入“Sharing of requested bugreport declined after having been taken”；

2) 根据提示，点击“REQUEST BUGREPORT”按钮来调用bugreport sharing操作；

3) 打开通知栏确认以下信息：有一条带有进度条的“Taking bugreport…”（标题）通知显示；

4) 等待几分钟（收集bugreport）,确认以下信息：

a.通知栏中的“Taking bugreport…”消失;

b.通知栏显示title为“Share bug report?”的通知，如图：

5) 点击DECLINE按钮，确认以下信息：

a. 通知栏中title为“Share bug report?”的通知消失；

b. 通知栏有通知显示--“Device Owner Requesting Bugreport Tests”（标题），其下方显示“Bugreport sharing declined”。

6) 若1)- 5)都pass，则标记“Sharing of requested bugreport declined after having been taken”的结果为pass。

1. 1. 1. 1. **Sharing of requested bugreport accepted after having been taken**

**Step**
：1)点击进入“Sharing of requested bugreport accepted after having been taken”；

2) 根据提示，点击“REQUEST BUGREPORT”按钮来调用bugreport sharing操作；

3)打开通知栏确认以下信息：有一条带有进度条的“Taking bugreport…”（标题）通知显示；

4) 等待几分钟（收集bugreport）,确认以下信息：

a.通知栏中的“Taking bugreport…”消失;

b.通知栏显示title为“Share bug report?”的通知，如图：

5) 点击DECLINE按钮，确认以下信息：

a.通知栏中title为“Share bug report?”的通知消失；

b. 确认通知栏有通知显示--“Device Owner Requesting Bugreport Tests”（标题），其下方显示“Bugreport shared successfully”。

6) 若1)- 5)都pass，则标记“Sharing of requested bugreport accepted after having been taken”的结果为pass。

1. 1. 1. 1. **Remove device owner**

**Step**
：1)点击进入“Remove device owner”；

2) 根据提示，进入到“Settings->Lock screen & security->Device admin apps”,查看CTSVerifier是否为Device Owner（如图，被勾选上即为device owner）;

**Note:**
按步骤顺序做，CTS Verifier在第1步时已经被设置为device owner，因此这里应该是被勾选状态。

3) 返回“Remove device owner”下，点击下方的“REMOVE DEVICE OWNER”按钮；

4)重复第2)步，确认CTSVerifier不再是Device Owner；

5) 若1)- 4)都pass，则标记“Remove device owner”的结果为pass。

**Note**
**：**
1. 测试这条 case，手机中不能存在其他账户，例如谷歌账户、work profile 账户；

2. 若1-6步都为pass，则标记“Device Owner Requesting Bugreport Tests”整条测试为pass。

1. 1. 1. **Device Owner Tests**

**Note**
**：**
1.测试这条case，手机中不能存在其他账户，例如谷歌账户、work profile账户，测试前输入adb shell dpm set-device-owner 'com.android.cts.verifier/com.android.cts.verifier.managedprovisioning.DeviceAdminTestReceiver' 设置Device Owner

2. 建议最后测“Remove device owner”，以防影响到其它测试项。

3.每次退出测试界面都需要重新设置Device Owner。

1. 1. 1. 1. **Check device owner**

**Step**
**：**
同10.4.1

1. 1. 1. 1. **Device administrator settings**

**Step**
**：**
点击Device administrator settings->点击go->Device administrator->CTS Verifier存在且被勾选，点击CTS Verifier，Deactivate this device administrator被置灰。

1. 1. 1. 1. **WiFi configuration lockdown**

**Note**
**：**
a. 在辅助机上创建一个热点(例如：AndroidAP,密码为空)：辅助机进入到”Network & Internet/Hotspot & tethering”，打开”Portable hotspot”，选择“Portable hotspot settings/configure hotspot”，在“Network name(SSID)”处输入 AndroidAP，Security选择 None，->点击 SAVE->点击“Power save”，选择Never。

b. 测试机上点击 WiFi configuration lockdown，SSIP处输入AndroidAP，密码选择None，点击“CREATE WIFI CONFIGURATION”。

1. Unlocked config is modifiable in Settings

**Step**
**：**
点击Unlocked config is modifiable in Settings->WIFI CONFIG LOCKDOWN OFF->GO TO WIFI SETTINGS->Wifi热点可以被连接且能被编辑。

1. Locked config is not modifiable in Settings

**Step**
**：**
点击Locked config is not modifiable in Settings->WIFI CONFIG LOCKDOWN ON->GO TO WIFI SETTINGS-> Wifi热点可以被连接但能被编辑或移除。

1. Locked config can be connected to

**Step**
**：**
点击Locked config can be connected to->WIFI CONFIG LOCKDOWN ON->GO TO WIFI SETTINGS-> Wifi热点可以被连接但不能被编辑或移除。（下一图或图二）

1. Unlocked config can be forgooten in Settings

**Step**
**：**
点击Unlocked config can be forgooten in Settings->WIFI CONFIG LOCKDOWN OFF->GO TO WIFI SETTINGS->Wifi热点可以被Forget且从已保存的列表中移除，测试pass（如下图一）

1. 1. 1. 1. **Disallow configuring WiFi**

**Step**
：点击Disallow configuring WiFi->SET RESTRICTION->GO->看不到Wifi （如上图二），

1. 1. 1. 1. **Disallow configuring VPN**

**Step**
：点击Disallow configuring VPN->SET VPN RESTRICTION ->GO不能添加VPN网（如下图1），点击CHECK VPN（如下图2），若无法建立VPN连接，测试pass。

1. 1. 1. 1. **Disallow data roaming**

**Step**
**：**
点击SET RESTRICTION->GO->进入到Moble network界面，确认Data roaming项无法打开且为置灰状态，或者Data roaming被禁止，点击弹出如下左图弹窗。测试pass。

1. 1. 1. 1. **Disallow factory reset**

**Step**
：点击 Disallow factory reset->SET RESTRICTION：

1.进入Settings->System->Reset，查看Factory data reset是否可用；

2.进入Settings->System->Developer options，查看OEM unlocking是否可用。

3.如上图，点击Factory data reset或OEM unlocking，显示不允许此操作则pass。

1. 1. 1. 1. **Disallow configuring Bluetooth**

**Step**
**：**
点击Disallow configuring Bluetooth ->SET RESTRICTION->GO->看不到蓝牙设备，测试pass。

1. 1. 1. 1. **Disallow USB file transfer**

**Step**
**：**
点击Disallow USB file transfer ->SET RESTRICTION->手机通过USB连接电脑，查看前后两次USB for file transfer，可以看到SET RESTRICTION后，Transfer files被禁止，测试pass。

1. 1. 1. 1. **Disable status bar**

**Step**
**：**
点击Disable status bar，点击DISABLE STATUS BAR、REENABLE STATUS BAR查看前后状态，Status bar可以被disable和enable，测试pass。

1. 1. 1. 1. **Disable keyguard**

**Step**
**：**
点击Disable keyguard，若设置了锁屏，会提示“Please remove lockscreen password”，去setting->Lock screen&security->Screen lock下设置锁屏为Swipe->点击DISABLE KEYGUARD->按power键锁屏，解屏，无任何屏幕锁，点击REENABLE KEYGUARD->锁屏，解屏,屏幕可以看到默认的swip屏幕锁。

1. 1. 1. 1. **Setting the user icon**

**Step**
**：**
点击Setting the user icon->点击SET USER ICON->GO->Settings->Users->可以看到CTS Verifier是设备的Owner（如下图），测试pass。

1. 1. 1. 1. **Permissions lockdown**

**Step**
**：**
安装“CtsPermissionApp”apk ,点击Go->进入到Permissionslockdown界面， ->选择Grant->点击OPEN APPLICATION SETTINGS ,在App info下打开Permissions->App permissions下的Contacts权限默认被打开（Enabled by administrator如下图）；返回到Permissions lockdown 界面，选择Let user decide，->点击OPEN APPLICATION SETTINGS ,在App info下打开Permissions->App permissions下的Contacts权限能被改变；返回到Permissions lockdown 界面，选择Deny->->点击OPEN APPLICATION SETTINGS ,在App info下打开Permissions->App permissions下的Contacts权限默认关闭（Disabled by administrator如下图）。->点击FINISH

1. 1. 1. 1. **Policy transparency test**

**Note**
**：**
点击Policy transparency test，设置一条短消息，(例如：sunwei)设置一条长消息（例如：123456@789）

1. Disallow add user

**Step**
**：**
点击Disallow add user->打开Disallow add user开关->OPEN SETTINGS->Users->Add users,弹出如下提示框，显示短信息sunwei。点击More detail弹出如下图三的提示，并显示长信息123456@789

1. Disallow adjust volume

**Step**
**：**
点击Disallow adjust volume，打开Disallow adjust volume开关->OPEN SETTINGS->volume无法调节（如下图），弹出如10.5.14（1）提示框。

1. Disallow controlling apps

**Step**
**：**
点击Disallow controlling apps，打开Disallow controlling apps开关->OPEN SETTINGS->点击任意app的Disable /FORCE STOP/UNINSTALL ，弹出如10.5.14（1）提示框。

1. Disallow config cell broadcasts

**Step**
**：**
点击Disallow config cell broadcasts，打开Disallow config cell broadcasts

开关->OPEN SETTINGS->点击Emergency broadcasts ，弹出如10.5.14（1）提示框。

1. Disallow config credentials

**Step**
**：**
点击Disallow config credentials->打开 Disallow config credentials 开关->OPEN SETTINGS->进入到 Lock screen & security/Encryption & credentials，点击User credentials，弹出如10.5.14（1）提示框。

1. Disallow config mobile networks

**Step**
**：**
点击Disallow config mobile networks打开Disallow config mobile networks开关->OPEN SETTINGS->点击Mobile networks，弹出如10.5.14（1）提示框。

1. Disallow config tethering

**Step**
**：**
点击Disallow config tethering打开Disallow config tethering开关-> OPEN SETTINGS->点击Tethering&portable hotspot，弹出如10.5.14（1）提示框。

1. Disallow config Wi-Fi

**Step**
**：**
点击Disallow config Wi-Fi 打开Disallow config Wi-Fi开关-> OPEN SETTINGS->点击Tethering&portable hotspot，弹出如下提示框。

1. Disallow debugging features

**Step**
**：**
点击Disallow debugging features，打开Disallow debugging features开关，-> OPEN SETTINGS->连续点击Build number，无法打开开发者模式，且弹出如下提示框。

1. Disallow factory reset

**Step**
**：**
点击Disallow factory reset，打开Disallow factory reset开关，-> OPEN SETTINGS->点击Factory data reset，弹出如10.5.14（1）提示框。

1. Disallow fun

**Step**
**：**
点击Disallow fun，打开Disallow fun开关，-> OPEN SETTINGS->连续点击Android Version，弹出如10.5.14（1）提示框。

1. Disallow install unknown sources

**Step**
**：**
点击Disallow install unknown sources->打开 Disallow install unknown sources 开关-> 点击OPEN SETTINGS进入到Install unknown apps->选择一个app，点击Allow from this source，弹出如10.5.14（1）提示框。

1. Disallow modify accounts

**Step**
**：**
点击Disallow modify accounts打开Disallow modify accounts开关-> OPEN SETTINGS->点击Add account，弹出如10.5.14（1）提示框。

1. Disallow network reset

**Step**
**：**
点击Disallow network reset，打开Disallow network reset开关--> OPEN SETTINGS->点击Network settings reset，弹出如10.5.14（1）提示框。

1. Disallow outgoing beam

**Step**
**：**
点击Dissallow outgoing beam，打开Dissallow outgoing beam开关，--> OPEN SETTINGS->点击Android Beam，弹出如10.5.14（1）提示框。

1. Disallow remove user

**Step**
**：**
点击Disallow remove user，打开Disallow remove user开关-> OPEN SETTINGS->User->Add users->New user点击Remove user，弹出如10.5.14（1）提示框。

1. Disallow share location

**Step**
**：**
点击Disallow share location，打开Disallow share location开关，-> OPEN SETTINGS->点击Location开关，弹出如10.5.14（1）提示框。

1. Disallow uninstall apps

**Step**
**：**
点击Disallow uninstall apps，打开Disallow uninstall apps开关，-> OPEN SETTINGS->选择后来安装的apk例如（CTS Root）点击uninstall，弹出如10.5.14（1）提示框。

1. Set auto(network) time required

**Step**
**：**
点击Set auto(network) time required打开Set auto(network) time required 开关，-> OPEN SETTINGS->点击Automatic data&time，弹出如10.5.14（1）提示框。

1. Disallow lockscreen unredacted notification

**Step**
**：**
方法一：点击Disallow lockscreen unredacted notification，打开Disallow lockscreen unredacted notification开关，-> OPEN SETTINGS->Lock screen&security->Configure notifications->On the lock screen->点击Show all notification content->弹出如10.5.14（1）提示框。

方法二：点击Disallow lockscreen unredacted notification，打开Disallow lockscreen unredacted notification开关，-> OPEN SETTINGS->Lock screen&security->设置锁屏密码，若设备之前有锁屏，需移除锁屏设置，设置完成看到如下图，测试pass。

1. Set lock screen info

**Step**
**：**
方法一：点击Set lock screen info，设置锁屏信息（例如1234）点击UPADTE， ->按Power键锁屏->看到锁屏信息变为1234,如下图，测试pass。

方法二：点击Set lock screen info->设置锁屏信息（例如 1234），点击 UPADTE-> OPEN SETTINGS->进入到Settings/Lock screen&security/Lock screen preferences，看到锁屏信息变为 1234, 点击 Lock screen message，弹出如10.5.14（1）图三图四提示框。

1. Set maximum time to lock

**Step**
**：**
点击Set maximum time tolock，设置锁屏时间（例如50秒。设置时间要比Settings->Display->Sleep下最长时间短，低于30分钟）点击UPADTE-> OPEN SETTINGS->点击Sleep，看到最长30s后锁屏，点击more detail弹出如10.5.14（1）提示框。

1. Set password quality

**Step**
**：**
点击Set password quality，选择password quality，根据quality不同，可选择的锁屏方式不同。点击不能选择的锁屏方式，弹出如10.5.14（1）提示框。

1. Set permitted accessibility services

**Step**
**：**
点击Set permitted accessibility services，打开Allow only system accessibility services开关，OPEN SETTINGS->点击Dummy accessibility service，弹出如10.5.14（1）提示框。

1. Set permitted input methods

**Step**
**：**
点击Set permitted input methods，打开Allow only system input methods开关->OPEN SETTINGS->点击Dummy input method，弹出如10.5.14（1）提示框。

1. 1. 1. 1. **Managed device info tests**
   2. Managed device info page

**Step**
**：**
点击按钮”GO” 进入setting-> Security->managed device info如下图，查看如下选项是否在该页面：

1.Change settings on the device

2.Date associated with your work account

3.List of all apps on your device

4.usage of all app on your device

5.lock the device and change the password

6.Wipe the device

1. 1. Retrieve traffic logs

**Step**
**：**
点击按钮”RETRIEVE TRAFFIC LOGS” 并记录时间，等待一段时间（手机时间显示为之前记录时间的下一分钟），点击按钮”OPEN SETTINGS” 查看Most recent Network traffic logs 选项下面的时间是不是记录的时间。

1. 1. Request bug report

**Step**
**：**
点击按钮”REQUEST BUG REPORT” 并记录时间（手机时间显示为之前记录时间的下一分钟），等待一段时间点击按钮”OPEN SETTINGS” 查看Most recent bug report选项下面的时间是不是记录的时间

1. 1. Retrieve security logs

**Step**
**：**
点击按钮”RETRIEVE SECURITY LOGS” 并记录时间，（手机时间显示为之前记录时间的下一分钟），等待一段时间点击按钮”OPEN SETTINGS” 查看Most recent bug security log选项下面的时间是不是记录的时间

1. 1. Enterprise-installed apps

**Step**
**：**
1) 打开终端，通过命令>adb push “NotificationBot.apk 文件路径” /sdcard/ 将文件“NotificationBot.apk” push 到手机中；

2) 点击按钮”UNINSTALL” ->”OPEN SETTINGS”， 查看”Changes made by your organisation’s admin”，没有提示安装任何程序；

3) 点击返回按钮返回->点击按钮”INSTALL”->”OPEN SETTINGS ”，查看”Changes made by your organisation’s admin”，确认已经安装 1 个应用->点击”Apps installed”，确认”CTS Robot”已被安装。

4) 点击返回按钮返回->点击按钮”UNINSTALL”->在终端输入命令：

adb shell rm /sdcard/NotificationBot.apk。

1. 1. Location access permission

**Step**
**：**
1) 点击按钮”RESET” ->”OPEN SETTINGS” ->查看” Changes made by your organisation’s admin”，确认没有任何 app 显示；

2) 点击返回按钮返回到上一界面->点击按钮”GRANT” ->”OPEN SETTINGS” ->查看” Changes made by your organisation’s admin”，应该至少有 1 个应用被授予位置访问权限->点击列表”Location permissions”， 确认管理员授予位置访问权限的应用列表中包含 CTS Verifier app；

3) 点击返回按钮返回到上一界面->点击按钮”RESET”。

1. 1. Microphone accsee permission

**Step**
**：**
1) 点击按钮”RESET” ->”OPEN SETTINGS” ->查看” Changes made by your organisation’s admin”，确认没有任何 app 显示；

2) 点击返回按钮返回到上一界面->点击按钮”GRANT” ->”OPEN SETTINGS” ->查看” Changes made by your organisation’s admin”， 应该至少有 1 个应用被授予麦克风访问权限->点击列表”Microphone permissions”， 确认被管理员授予麦克风访问权限的应用列表中包含 CTS Verifier app；

3) 点击返回按钮返回到上一界面->点击按钮”RESET”。

1. 1. Camera access permission

**Step**
**：**
1) 点击按钮”RESET” ->”OPEN SETTINGS” ->查看” Changes made by your organisation’s admin”，确认没有任何 app 显示；

2) 点击返回按钮返回到上一界面->点击按钮”GRANT” ->”OPEN SETTINGS” ->查看” Changes made by your organisation’s admin”，应该至少有 1 个应用被授予相机访问权限->点击列表”Camera permissions”， 确认管理员授予位置访问权限的应用列表中包含 CTS Verifier app；

3) 点击返回按钮返回到上一界面->点击按钮”RESET”。

1. 1. Default apps

**Step**
**：**
1) 点击按钮”RESET” ->”OPEN SETTINGS” ->查看” Changes made by your organisation’s admin”，确认没有提示设置任何默认的app；

2) 点击返回按钮返回到上一界面->点击按钮” SET DEFAULT APPS” ->”OPEN SETTINGS” ->查看” Changes made by your organisation’s admin”，确认管理员设置了7 个默认应用->点击列表”Default apps”， 确认7 个元素均显示 CTS Verifier为默认的应用程序；

3) 点击返回按钮返回到上一界面->点击按钮”RESET”。

**Note:**
若只出现6个app，需要去Browser下点选一下CTS Verifier为默认app，然后返回测试，就会看到7个默认app

1. 1. Default keyboard

**Step**
**：**
1) 点击按钮”OPEN SETTINGS” ->查看” Changes made by your organisation’s admin”，确认没有提示设置任何默认的键盘；

2)
点击返回按钮返回到上一界面->点击按钮” SET KEYBOARD” ->”OPEN SETTINGS” ->查看” Changes made by your organisation’s admin”，确认管理员将默认键盘设置为CTS Verifier；

3) 点击返回按钮返回到上一界面->点击按钮”FINISH”。

1. 1. Always-on VPN

**Step**
**：**
1) 点击按钮”OPEN SETTINGS” ->查看” Changes made by your organisation’s admin”，确认没有提示显示设置Always-on VPN；

2) 点击返回按钮返回到上一界面->点击按钮”SET VPN” ->”OPEN SETTINGS” ->查看” Changes made by your organisation’s admin”，确认管理员将Always-on VPN设置为打开状态；

3) 点击返回按钮返回到上一界面->点击按钮”FINISH”。

1. 1. Always-on VPN (managed profile)

**Step**
**：**
1) 点击按钮”START” 创建一个 work profile->点击”OPEN SETTINGS” ->查看” Changes made by your organisation’s admin”，确认没有提示显示在work profile中设置了Always-on VPN；

2) 点击返回按钮返回到上一界面->点击按钮”SET VPN” ->”OPEN SETTINGS” ->查看” Changes made by your organisation’s admin”，确认管理员在work profile中将Always-on VPN设置为打开状态；

3) 点击返回按钮返回到上一界面->点击按钮”FINISH”。

1. 1. Global HTTP proxy

**Step**
**：**
1) 点击按钮”OPEN SETTINGS” ->查看” Changes made by your organisation’s admin”，确认没有提示显示设置Global HTTP proxy；

2) 点击返回按钮返回到上一界面->点击按钮”SET PROXY” ->”OPEN SETTINGS” ->查看” Changes made by your organisation’s admin”，确认管理员设置了Global HTTP proxy；

3) 点击返回按钮返回到上一界面->点击按钮CLEAR PROXY。

1. 1. Trustd CA certs

**Step**
**：**
1) 点击按钮”OPEN SETTINGS” ->查看” Changes made by your organisation’s admin”，确认没有提示显示已安装受信任的CA证书；

2) 点击返回按钮返回到上一界面->点击按钮”INSTALL CERT” ->”OPEN SETTINGS” ->查看” Changes made by your organisation’s admin”，确认管理员至少安装了一个受信任的CA证书。

3) 点击返回按钮返回到上一界面->点击按钮FINISH。

1. 1. Trustd CA certs(managed profile

**Step**
**：**
1) 点击START按钮创建一个work profile->”SETTINGS” ->查看” Changes made by your organisation’s admin”，确认没有提示显示已安装受信任的CA证书；

2) 点击返回按钮返回到上一界面->点击按钮”INSTALL CERT” ->”OPEN SETTINGS” ->查看” Changes made by your organisation’s admin”，确认管理员在work profile中至少安装了一个受信任的CA证书。

3) 点击返回按钮返回到上一界面->点击按钮FINISH。

1. 1. Wip on authentication failure(managed profile)

**Step**
**：**
1) 点击START按钮创建一个work profile->”SETTINGS” ->查看”Your access to this device”，确认没有提示“当多次输错密码时work profile数据会被清除”；

2) 点击返回按钮返回到上一界面->点击按钮”SET LIMIT” ->”OPEN SETTINGS” ->查看”Your access to this device”，确认会提示“当输错密码的次数达到100次时work profile数据会被清除”；

3) 点击返回按钮返回到上一界面->点击按钮FINISH。

1. 1. Quick settings disclosure

**Step**
**：**
1) 点击按钮”CLEAR ORG”->下滑通知栏将Quick settings完全展开，”Your organization manages this device and may monitor network”显示-在Quick settings界面的底部；

2) 点击返回键两次返回上个界面->点击按钮SET ORG->下滑通知栏将Quick settings完全展开，确认 “Foo, Inc manages this device and may monitor network” 显示-在Quick settings界面的底部->点击此信息，会弹出一个有关设备监控的对话框->点击”VIEW POLICIES” 会进入到”Managed device info” 界面。

1. 1. Keyguard disclosure

**Step**
**：**
1) 点击按钮”OPEN SETTINGS” ->设置锁屏状态为不是”None”的第一个状态，即：Swipe；

2) 点击返回按钮返回到上一界面->点击按钮”CLEAR ORG” ->按power键进入锁屏界面，确认在锁屏界面的底部会显示”This device is managed”->解锁屏幕点击按钮”SET ORG” ->按power键进入锁屏界面，确认在锁屏界面的底部会显示”This device is managed by Foo, Inc..”

3) 对每一种非None的锁屏方式都要进行验证。

1. 1. Add account disciosure

**Step**
**：**
1) 点击按钮”CLEAR ORG” ->点击OPEN SETTINGS进入到Add account界面->确认在页面底部会显示”This device is managed by your organization. Learn more”；

2) 点击返回按钮返回到上一界面->点击按钮”SET ORG” ->点击OPEN SETTINGS进入到Add account界面->确认在页面底部会显示”This device is managed by Foo, Inc.. Learn more” ->点击Learn more，会进入到”Managed device info” 界面。

1. 1. 1. 1. **Corporate Owned Managed Profile**

**Step**
**：**
1) 点击Corporate Owned Managed Profile，在弹出的对话框中点击 ok 按钮进入创建 profile 界面->点击按钮”ACCEPT&CONTINUE” 创建 work profile->创建完work profile后会弹出一个设置长短信息的提示框，点击OK-> 点击最底部按钮设置短的支持信息(如ABC)和长的支持信息(如qqqqqqqqqq)。

2) 点击 case ” Disallow remove managed profile”->打开Disallow remove managed profile开关->点击按钮”OPEN SETTINGS” 进入”Users &accounts”->点击 “Remove work profile” 弹出窗口”Action not allowed” , 显示短的支持信息，点击 more details 显示长的支持信息。

1. 1. 1. 1. **Network Logging UI**

**Step**
**：**
1) 将Quick settings完全展开，可以看到”Your organization manages this device and may monitor network”显示-在Quick settings界面的底部；

2) 点击按钮”ENABLE NETWORK LOGGING”， 在Quick settings的底部会看到与图1相同的信息，在通知栏会弹出如图 2 信息。

3) 点击图 2 的 Notification，弹出图 3 对话框。

4) 点击”DISABLE NETWORK LOGGING” 图 3 的 Notification 消失，测试 pass。

1. 1. 1. 1. **Remove device owner**

**Step:**
击REMOVE DEVICE OWNER->setting-Security->DeviceAdministors->CTS Verifier 不再是Device Owner。

1. 1. 1. **No Device Owner Tests**
         1. **Device owner provisioning**

**Step:**
点击按钮”START PROVISIONING” 当弹出对话框Can’t set up device,则Passed 否则Failed

1. 1. 1. 1. **. Quick settings disclosure**

**Step:**
向下滑动通知栏以打开快速设置，在页面底部没有上面10.5.16显示的内容，表示设备未被管理，测试Passed否则Failed。

1. 1. 1. 1. **Keyguard disclosure**

**Step:**
进入setting->security->Screen lock->设置锁屏状态为不是”None”的第一个状态，即：Swipe->验证屏幕底部没有该设备被管理的信息提示->重复以上步骤验证除none之外的其他锁屏界面的结果

1. 1. 1. 1. **Add account disclosure**

**Step:**
点击按钮”GO”进入界面Add account->查看屏幕最底部->验证屏幕底部没有该设备被管理的信息

1. 1. **NETWORKING**
      1. **Bluetooth Test**

**Note**
**：**
这个包下的case需要一台辅助机，配对时注意周围不要有其它设备蓝牙打开。为了方便测试，可以将测试机和辅助机的蓝牙设备名称更改一下，这样可以在周围有其它蓝牙设备的情况下清楚地知道自己的设备。测试之前需要将GPS定位打开。

1. 1. 1. 1. **Toggle Bluetooth**

**Step**
**:**
点击Disable Blutooth->enable Bluetooth，蓝牙能正常打开/关闭，Pass 按钮高亮

1. 1. 1. 1. **Bluetooth LE Advertiser Test**

**Step**
**:**
辅助机选择 BLE Scanner Test，测试机点击 start，辅助机查看4个level均有数据采集，且数据为Ultra low<Low<Medium<High，点击stop，数据停止采集， 测试Pass

**Note**
**：**
这条case需要Toggle Bluetooth选择enable Bluetooth，然后退出测试，再次进入测试，才能看到此条case。

1. 1. 1. 1. **Bluetooth LE Insecure Client Test**

**Note**
**：**
测试机选择Bluetooth LE Insecure Client Test项，辅助机选择Bluetooth LE Insecure Server Test项逐条进行配对测试。测试前将两个手机的蓝牙打开，移除所有配对。location打开，并设置为High accuracy模式

1.Bluetooth LE Client Test

**Step**
**：**
测试机选择01 Bluetooth LE Client Test，辅助机选择01 Bluetooth LE Server Test，测试自动开始，等待所有测试项通过，Pass按钮高亮。

**Note**
**：**
如果测试不自动开始，需要检查是否打开蓝牙和GPS。

2.Bluetooth LE Connection Priority Client Test

**Step**
**：**
测试机选择02 Bluetooth LE Connection Priority Client Test，辅助机选择02 Bluetooth LE Connection Priority Server Test进行测试。

**Note**
**：**
如果测试不自动开始，需要检查是否打开蓝牙和GPS。

3．Bluetooth LE Encrypted Client Test

**Step**
**：**
测试机选择03 Bluetooth LE Encrypted Client Test，辅助机选择03 Bluetooth LE Encrypted Server Test进行测试。其中有4小项，点击其中的每一小测试项后，配对机都会弹出配对请求，选择Cancel，该小项通过。逐条点击，直至4条全部Pass

**Note**
**：**
如果测试不自动开始，需要检查是否打开蓝牙和GPS。注意该条case需要在两个设备未进行蓝牙配对的情况下开始测试。如果等待一会儿后测试还没有进度，可以将测试机和辅助机先进行蓝牙配对，然后再移除配对，重启蓝牙后返回测试页再进行测试。如若还是没反应，则需考虑换台辅助机

1. 1. 1. 1. **Bluetooth LE Insecure Server**

**Step**
**：**
测试机选择Bluetooth LE Insecure Server项，辅助机选择Bluetooth LE Insecure Client项进行配对测试。具体步骤参考12.1.3。

1. 1. 1. 1. **Bluetooth LE Scanner Test**

**Step:**

辅助机选择Bluetooth LE Advertiser Test，点击 start，测试机查看4个level有数据采集，且数据为Ultra low<Low<Medium<High，点击stop，数据停止采集，测试Pass.

**Note**
**：**
这条case需要Toggle Bluetooth选择enable Bluetooth，然后退出测试，再次进入测试，才能看到此条case。

1. 1. 1. 1. **Bluetooth LE Secure Client Test**

**Step**
**：**
测试机选择Bluetooth LE Secure Client Test项，辅助机选择Bluetooth LE Secure Server Test项逐条进行配对测试。测试前将两个手机的蓝牙打开，并进行配对。location打开，并设置为High accuracy模式

1.Bluetooth LE Client Test

**Step**
**：**
测试机选择01 Bluetooth LE Client Test，辅助机选择01 Bluetooth LE Server Test，测试自动开始，等待所有测试项通过，Pass按钮高亮

2.Bluetooth LE Connection Priority Client Test

**Step**
**：**
测试机选择02 Bluetooth LE Connection Priority Client Test，辅助机选择02 Bluetooth LE Connection Priority Server Test进行测试

1. 1. 1. 1. **Bluetooth LE Encrypted Client Test**

**Step**
**：**

测试机选择03 Bluetooth LE Encrypted Client Test，辅助机选择03 Bluetooth LE Encrypted Server Test进行测试。其中有4小项，逐条点击，直至4条全部Pass

**Note**
**：**
注意该条case需要在两个设备蓝牙已配对的前提下开始测试。如果等待一会儿后测试还没有进度，可以将测试机和辅助机重新进行配对，并重启蓝牙，然后返回测试页再进行测试。如若还是没反应，则需考虑换台辅助机

1. 1. 1. 1. **Bluetooth LE Secure Server**

**Step**
**：**
测试机选择Bluetooth LE Secure Server Test项，辅助机选择Bluetooth LE Secure Client Test项进行配对测试。具体步骤参考12.1.6

1. 1. 1. 1. **Insecure Client**

**Step:**

测试机选择Insecure client项，辅助机选择Insecure Server项进行配对测 试。辅助机点击MAKE DISCOVERABLE，测试机点击SCAN FOR DEVICES搜索辅助机，点击辅助机的蓝牙标识号，连接成功，pass高亮。

**Note:**
测试前测试机和辅助机移除所有已连接的蓝牙设备

1. 1. 1. 1. **Insecure Server**

**Step:**

测试机选择Insecure Server项，辅助机选择Insecure Client项进行配对测试。测试机点击MAKE DISCOVERABLE，辅助机点击SCAN FOR DEVICES搜索辅助机，点击测试机的蓝牙标识号，连接成功，pass高亮。

**Note:**
测试前测试机和辅助机移除所有已连接的蓝牙设备

1. 1. 1. 1. **Secure Client**

参考12.1.8

1. 1. 1. 1. **Secure Server**

参考12.1.9

1. 1. 1. **Network Connectivity Screen Off Test**

**Step:**

手机连接 IPV6 网络，移除所有连接电源，点击 START 开始测试，自动锁屏。等待一段时间，直到测试通过屏幕亮起，Pass按钮点亮，此过程大约两分钟。

**Note**
**：**
如果提示如下图一的错误，证明没有连接网络，打开WiFi即可；图二错误为连接的不是IPV6网络，连接IPV6网即可；图三为未锁屏，手动锁屏

1. 1. 1. **Wi-Fi Direct Test**

**Note**
**：**
这条 case 需要两台设备配对测试，测试机和辅助机必须连接 WIFI

1. 1. 1. 1. **GO Negotiation Responder Test**

参考12.3.2

1. 1. 1. 1. **GO Negotiation Requester Test**

1. Go negotiation test（push button）

**Step**
**：**
辅助机选择GO Negotiation Responder Test并保持在该页面，测试机选择Go negotiation test（push button），测试机弹出选择设备窗口，选择自己的配对机，辅助机弹出窗口选择ACCEPT，等待测试通过

**Note**
**：**
有时测试失败多试几次

2.Go negotiation test（PIN）

**Step**
**：**
辅助机选择GO Negotiation Responder Test并保持在该页面，测试机选择Go negotiation test（PIN），测试机弹出PIN码窗口，辅助机输入测试机的PIN码，选择ACCEPT，等待测试通过

1. 1. 1. 1. **Group Owner Test**

该条case与配对机的Group Client Test配对测试，具体步骤参考12.3.2

1. 1. 1. 1. **Group Client Test**

该条case与配对机的Group Owner Test配对测试，具体步骤参考12.3.2

1. 1. 1. 1. **Service Discovery Responder Test**

该条case与配对机的Service Discovery Requester Test配对测试，逐条测试，直至全部pass

1. 1. 1. 1. **Service Discovery Requester Test**

该条case与配对机的Service Discovery Responder Test配对测试，逐条测试，直至全部pass

1. 1. **NOTIFICATIONS**
      1. **CA Cert Notification Test**

**Step:**
1. 点击第一栏->go->安装 myCA.cer 证书，名称随意，安装成功，返回，pass。

2. 点击第二栏->go-> 查看证书是否安装，存在证书，返回，pass。

3. 点击第三栏->go->移除锁屏，查看是否有如下图的 notification，点击notification能弹出证书的具体信息，存在点击第四栏，pass

4. 打开notification，点击下图的clear all移除证书，notification消失，则点击第五栏，测试 pass。

**Note:**
以上任意一项不正确，测试 fail。

1. 1. 1. **CA Cert Notification on Boot test**

**Step**
**：**
点击CHECK CREDENTIALS查看证书， 存在证书就进行下一步，不存在就点击 INSTALL CREDENTIAL 安装证书，然后重启设备，弹出如上图的 Notification，点击这个 Notification，看到下图结果，测试 pass。

**Note**
**：**
这条测试需要先删除已存在的锁屏，开机之后才会出现上面的Notification。

1. 1. 1. **Condition Provider test**

**Step**
**：**
点击LAUNCH SETTINGS->打开 CTS Verifier->返回，自动运行用例-> 所有测试pass->LAUNCH SETTINGS->关闭 CTS Verifier ->返回，等到Service should stop once disabled->测试pass。

**Note**
**：**
如果先做13.4或13.5的case再做此条时，会出现无法打开CTS Verifier的情况。点击setting->App&notifications->Special app access->Notification access->关闭Notification Listener for CTS Verifier，返回再测时就可以正常打开了

1. 1. 1. **Notification Attention Management Test**

**Step**
**：**
点击LAUNCH SETTINGS ->打开 Notification Listener for CTS Verifier ->返回,自动运行用例->快捷菜单中打开Do not disturb，选择Total silence->返回，I’m done->关闭Do not disturb，返回，I’m done ->打开Do not disturb，选择Priority only，在more settings->priority only allows中设置Messages->From starred contacts only，Calls->None->返回，I’m done ->关闭Do not disturb ->返回，I’m done，等待自动运行测试用例完成，点击pass。

**Note**
**：**
如果在最后一步关闭Do not disturb项 fail ，到settings->notifications->CTS Verifier 关掉 Override Do Not Disturb。

1. 1. 1. **Notification Listener Test**

**Step**
**：**
点击LAUNCH SETTINGS ，打开 Notification Listener for CTS->返回，等待自动测试用例->点击 LAUNCH SETTINGS 关闭Notification Listener for CTS->返回，等待自动测试完成->点击pass

1. 1. 1. **Notification Package Priority Test**

**Step**
**：**
点击LAUNCH SETTINGS 打开 Notification Listener for CTS->I’M DONE->settings->notifications->CTS Verifier 打开 Override Do Not Disturb-> I’M DONE

**Tips**
**：**
该条用例在N版本上有，O版本上没有

1. 1. 1. **Shortcut Reset Rate-limiting Test**

**Step**
**：**
在手机内安装 NotificationBot.apk。进入case后，查看 Notification 栏，点击 Shortcut Reset Rate-limiting Test > TYPE SOMETHING HERE AND PRESS SEND BUTTOM 处输入任意字符> 点击send->测试pass。

1. 1. **OTHER**
      1. **Screen Pinning Test**

**Step:**

点击next->next->next->->看到提示：”use interactions defined…….the back and overview button,then press next”时->同时按住 back 键和 overview 键->屏幕提示 Screen unpinned，继续一直点 next，直至 出现pass按钮

**Note:**
如果没有按上述操作步骤操作，最后提示Screen was not unpinned,且用例会fail。需要执行同时按住 back 键和 overview 键的操作，才能重新测试。

1. 1. 1. **Widget Framework Test**

**Step:**
返回桌面，长按桌面->点击widgets->点击CTS Verifier->点击home键，点击widget中的start test。查看：

1.是否出现Width和Height值，且值与widget 框的实际宽高一致，点击pass；

2.长按widget空白处，点击Resize，挂件四边出现白点，按住白点不断改变 widget 框的宽和高，widget 框里的宽和高的值也相应变化，且和实际 widget 框的值相同，点击pass；

3.widget中滑动list表，1-50个项目能正常滑动浏览，点击pass；

4.确认widget在home screen，即返回桌面右滑屏幕可以看到widget，点击pass。

全部测试 pass，再到verifier中点选 pass，否则点 fail

1. 1. **PROJECTION TESTS**
      1. **Projection Cube Test**

**Step:**
可以看到屏幕上翻滚的投影立方体，手指敲击屏幕后立方体会裂开，即Pass。

1. 1. 1. **Projection Multitouch Test**

**Step:**
该用例检查屏幕是否支持多点触控。在白色背景屏幕，使用多个手指触摸屏幕，屏幕中会出现多个不同颜色的触控点且可以随着手指移动，即Pass。

1. 1. 1. **Projection Offscreen Activity**

**Step:**
该用例检查在灭屏情况下，手机可以正常活动。根据提示，按power按键关闭手机屏幕，直到一个声音响起且伴随震动，即Pass。

**Note**
**：**
关闭屏幕后过早唤醒屏幕会导致失败。

1. 1. 1. **Projection Scrolling List Test**

**Step:**
该用例检查在滚动列表时，无卡顿现象。上下滑动屏幕，没有乱、断、卡现象，即可 Pass。

1. 1. 1. **Projection Video Playback Test**

**Step:**
该用例检查视频播放功能。屏幕中央会有白色 box 跳动，且每次跳动都伴随着蜂鸣声，即可 Pass。

1. 1. 1. **Projection Widget Test**

**Step:**
该用例检查小部件功能，点击 UP 或 DOWN屏幕中的4 个 button 会按顺序点亮，单独点击被点亮的 button，亮度会消失，即可pass。

1. 1. **SECURITY**
      1. **Fingerprint Bound Keys Test**

**Step**
**:**
根据提示，先设置一个指纹锁（Settings-> Fingerprint Manager->设置指纹），点击 START TEST->弹出验证指纹提示后进行指纹认证，认证成功，弹出test pass。

1. 1. 1. **KeyChain Storage Test**

**Step:**
根据提示先设置一个内部密钥存储库，生成用于测试的其余部分的证书，点击 next开始，显示‘阅读参考资料’-〉点击next进入下一页面，凭证已生成，点击next安装credentials（如果已经安装credentials，可以跳过这一步）->弹出‘Name the Test keys’后点击OK，提示安装成功->Skip->点击Next，提示选择上一步安装的证书，点击Select->点击Next->点击Next进入Security setting->Encryoption&credentials->User credentials，确认设备的凭证并更改锁屏方式为‘None’->点击next，即可pass。

1. 1. 1. **Keyguard Password Verification**

**Step:**
根据提示先设置一个锁屏密码，点击SET PASSWORD->设置一个锁屏密码，确认密码设置成功；点击CHANGE PASSWORD 修改锁屏密码，先验证已设置过的密码，更换新密码成功后，验证是否更改成功。即可Pass。

1. 1. 1. **Lock Bound Keys Test**

**Step:**
首先设置一个锁屏密码，点击 START TEST ,进入锁屏界面，解锁屏幕，pass 高亮可以点选测试通过

1. 1. **SENSORS**

**Note**
**：**
SENSORS 下的所有测试，需准备好前提条件：Airplane mode(飞行模式)->On；Adaptive Brightness(自动调节亮度)->Of；自动旋转屏(Auto rotate screen)->Off；Stay awake(保持常亮)->Off（开发者模式）；Location（定位）-> Off。（注：这些设置要提前设置好， 最好不要在用例里设置完就测试，否则需要条 case 都点选这些两遍，浪费时间）

1. 1. 1. **6DoF Test**

**Step:**
根据提示设置前提条件，直接点击即可Pass。

1. 1. 1. **Accelerometer Measurement Tests**

**Step:**
根据提示设置前提条件，然后点击NEXT：

testBottomSide：设备放置于垂直底部的平面上，点击NEXT开始测试。动作正确将pass;

testFaceDown:设备屏幕朝下放在水平桌面上，点击NEXT开始测试。动作正确将pass;

testFaceUp:设备屏幕朝上放在水平桌面上，点击NEXT开始测试。动作正确将pass;

testLeftSide:设备屏幕朝向左侧放在水平桌面，点击NEXT开始测试。动作正确将pass;

testRightSide:设备屏幕朝向右侧放在水平桌面上,点击NEXT开始测试。动作正确将pass;

testTopSide->设备顶端放在水平桌面上，点击NEXT开始测试。动作正确将pass。

**Note**
**：**
测试前需关闭设备中使用传感器的任何特殊功能后（唤醒手势、动作触发事件、移动等）进行测试。

1. 1. 1. **CTS Sensor Batching Tests**

**Step:**
根据提示设置前提条件，点击NEXT ->将设备放在水平面上->激活设备管理->点击NEXT->按Power键锁屏->等待手机亮屏且伴随提示音->测试结束。

1. 1. 1. **CTS Sensor Integration Tests**

**Step:**
根据提示设置前提条件，点击NEXT ->将设备放在水平面上->激活设备管理->点击NEXT->按Power键锁屏->等待手机亮屏且伴随提示音->测试结束。

1. 1. 1. **CTS Sensor Test**

**Step:**
根据提示设置前提条件，点击NEXT ->将设备放在水平面上->激活设备管理->点击NEXT->按Power键锁屏->等待手机亮屏且伴随提示音->测试结束。

1. 1. 1. **CTS Single Sensor Tests**

**Step:**
根据提示设置前提条件，点击NEXT ->将设备放在水平面上->激活设备管理->点击NEXT->按Power键锁屏->等待手机亮屏且伴随提示音->测试结束。

1. 1. 1. **Device Suspend Tests**

**Step:**
根据提示设置前提条件，点击 NEXT->点击 NEXT->手动锁屏->等待手机屏->测试结束。

**Note**
**：**
测试前需关闭设备中使用传感器的任何特殊功能后（唤醒手势、动作触发件、移动等）进行测试。

1. 1. 1. **Dynamic Sensor Discovery Test**

**Step:**
根据提示设置前提条件，点击 NEXT->测试结束。

**Note**
**：**
测试前需关闭设备中使用传感器的任何特殊功能后（唤醒手势、动作触发事件、移动等）进行测试。

1. 1. 1. **Gyroscope Measurement Test**

**Step:**
根据提示设置前提条件，点击 NEXT，将设备放置在平面上，屏幕面向天花板，阅读每一个场景说明和动画进行测试，点击NEXT：

testCalibratedAndUncalibrated：点击 NEXT->手机顺时针水平旋转，等待测试果

testDeviceStatic：点击NEXT->手机静置，等待测试结果

testRotateBottomSide：点击NEXT->手机顺时针竖直旋转一次，等待测试结果

testRotateClockwise：点击NEXT->手机顺时针水平旋转一次，等待测试结果

testRotateCounterClockweise：点击NEXT->手机逆时针水平旋转一次，等待测试结果

testRotateLeftside：点击NEXT->手机从左到右翻转一次，等待测试结果

testRotateRightSide：点击NEXT->手机从右到左翻转一次，等待测试果

testRotateTopSide：点击NEXT->手机逆时针竖直旋转一次等待测试果

**Note**
**：**
测试前需关闭设备中使用传感器的任何特殊功能后（唤醒手势、动作触发事件、移动等）进行测试。

1. 1. 1. **Magnetic Field Measurement Tests**

**Step:**
根据提示设置前提条件，点击 NEXT->点击NEXT，按照 8 的轨迹水平移动手机，校准磁力仪，直到数据在 40uT 左右，校准结束后，将设备放置在平面，远离所有金属物体（如果测试未通过，试着在室外重新测试），点击NEXT，等待测试结果。

**Note**
**：**
测试前需关闭设备中使用传感器的任何特殊功能后（唤醒手势、动作触发件、移动等）进行测试。

1. 1. 1. **Off Body Sensor Tests**

**Step:**
根据提示设置前提条件，直接点击即可Pass。

1. 1. 1. **Rotation Vector CV Crosscheck**

**Precondition**
**：**
安装提前下载好的 OpenCV Manager.apk 或者登陆谷歌账户，去谷歌应用市场下载。

General information：
[https](https://source.android.com/compatibility/cts/rotation-vector.html "https")
[://](https://source.android.com/compatibility/cts/rotation-vector.html "://")
[source.android.com/compatibility/cts/rotation-vector.html](https://source.android.com/compatibility/cts/rotation-vector.html "source.android.com/compatibility/cts/rotation-vector.html")

Video：
[https://](https://source.android.com/compatibility/cts/rotation-vector.html "https://")
[source.android.com/compatibility/cts/rotation-vector.html](https://source.android.com/compatibility/cts/rotation-vector.html "source.android.com/compatibility/cts/rotation-vector.html")

**Step**
**：**
点击 Rotation Vector CV Crosscheck->点击NEXT-> 确保测试图片的所有点在里面的矩形里且手机屏幕机的黄点要与测试图片的黄点位置一致。手机按照下图的方向在测试图片上方移动 180 度。

**Note**
**：**
在测试过程中尽量快速，越慢越容易导致测试失败。测试前需关闭设备中使用传感器的任何特殊功能后（唤醒手势、动作触发件、移动等）进行测试。

**Tips**
**：**
如测试多次都不通过，可进行磁力仪和陀螺仪校准。校准方式：Phone-> 拨号键-> \*#\*#7378423#\*#\* -> Sevice tests-> Compass:按提示摇晃手机->Accelerometer:使白球移动到最中间-> Gyroscope:旋转手机使魔方每一面都显示出来-> 重新测试该用例。

1. 1. 1. **Sensor Batching Test**

**Step:**
根据提示设置前提条件，点击 NEXT：

testLight\_batching: 点击NEXT-> 在手机屏幕上方挥手，使顶端的传感器感应到光线变化直到弹出测试结果

testLight\_flush: 点击NEXT-> 在手机屏幕上方挥手，使顶端的传感器感应到光线变化直到弹出测试结果

testProximity\_batching: 点击NEXT-> 在手机屏幕上方挥手，使顶端的传感器感应到光线变化直到弹出测试结果

testProximity\_flush: 点击NEXT-> 在手机屏幕上方挥手，使顶端的传感器感应到光线变化直到弹出测试结果

testStepCounter\_batching：点击NEXT-> 像正常走路一样来回摆动手机直到弹出测试结果

testStepCounter\_flush: 点击NEXT-> 在手机屏幕上方挥手，使顶端的传感器感应到光线变化直到弹出测试结果

testStepDetector\_batching：点击NEXT-> 在手机屏幕上方挥手，使顶端的传感器感应到光线变化直到弹出测试结果

testStepDetecor\_flush：点击NEXT-> 在手机屏幕上方挥手，使顶端的传感器感应到光线变化直到弹出测试结果

**Note**
**：**
测试前需关闭设备中使用传感器的任何特殊功能后（唤醒手势、动作触发件、移动等）进行测试点击 NEXT->testLight\_batching->点击 NEXT->在手机屏幕上方挥手，使顶端的传感器

1. 1. 1. **Significant Motion Tests**

**Step:**
根据提示设置前提条件，点击 NEXT：

testAPWakeUpOnSMDTrigger：点击 NEXT->断开USB-> 手动灭屏->像走路一样来回摆动手机->等待提示音且手机亮屏->解锁手机查看结果

testlnHandDoesNotTrigger：点击 NEXT->像正常走路一样来回摆动手机直到弹出测试结果

testNotTriggerAfterCancel：点击NEXT->像正常走路一样来回摆动手机直到弹出测试结果

testSittingDoesNotTregger：点击NEXT->手机放在口袋里正常走路直到弹出测试结果

testTrigger：点击NEXT->拿着手机走路直到弹出测试结果

testTriggerDeactivation：点击NEXT->拿着手机走路直到弹出测试结果

testVivratorDoesNotTrigger：点击NEXT->把手机放在水平面，等待测试结果

**Tips:**
testAPWakeUpOnSMDTrigger此条用例可以锁屏后水平缓慢移动手机然后再突然猛地晃一下，容易测试pass；testSittingDoesNotTregger此条用例可以放在水平桌面将手机顶端传感器位置用物体遮挡，然后点击next进行测试，容易测试通过。

1. 1. **STREAMINING**
      1. **Streaming Video Quality Verifier**

**Step**
**：**
这个测试项需要连接 GTE 网，所有的多媒体格式都能正常播放，且声音与画面同步，无质量问题。即可 pass。

1. 1. **TELECOM**

**Note**
**：**
TELECOM和TELEPHONY的case需要插上2开头的白卡或者实卡测试。

1. 1. 1. **Incoming Self-Managed Connection Test**

**Step**
：点击按钮“REGISTER SELF-MANAGED CONNECTIONSERVICE” ->点击按钮“SHOW SYSTEM INCOMING UI” ->弹出一个notification“ANSWER”接听->点击按钮“CONFIRM ANSWER”。

**Note**
**：**
有时不会弹出notification，（去Setting->Apps&notifications->Default apps->Phone app->选择 Phone 作为默认 app）也可能因为手机sim卡的原因，换卡再试，或者重启手机。如图所示。

1. 1. 1. **Telecom Enable Phone Account Test**

**Step**
：点击按钮“REGISTER PHONE ACCOUNT” ->返回 Home 界面点击 Phone 进入 Settings 选择 Calls->Calling account ->All calling account 中的 CTS verifier Test 启用->点击按钮“CONFIRM”

**Note**
**：**
有时不会弹出notification，（去Setting->Apps&notifications->Default apps->Phone app->选择 Phone 作为默认 app）可能因为手机sim卡的原因，换卡再试，或者重启手机。

1. 1. 1. **Telecom Incoming Call Test**

**Step**
：点击按钮“REGISTER AND ENABLE PHONE ACCOUNT” -> All calling account 中的 CTS verifier Test 启用->返回上一界面点击按钮“CONFIRM PHONE ACCOUNT” ->点击按钮“DIAL”->弹出一个notification,如上右图，点击”ANSWER”接通保持在通话状态切换回 verifier 界面点击按钮“CONFIRM”

**Note**
**：**
有时不会弹出notification，（去Setting->Apps&notifications->Default apps->Phone app->选择 Phone 作为默认 app）可能因为手机sim卡的原因，换卡再试，或者重启手机。

1. 1. 1. **Telecom Outgoing Call Test**

**Step**
：点击按钮“REGISTER AND ENABLE PHONE ACCOUNT” -> All calling account 中的 CTS verifier Test 启用->点击“Make calls with ”选择 CTS Verifier Test->返回到上一界面点击按钮“CONFIRM PHONE ACCOUNT” ->点击按钮“DIAL”->会自动进入拨号界面点击拨打键保持在通话状态不挂切换回 verifier 界面点击按钮“CONFIRM.

**Note**
**：**
插上2开头的白卡或者实卡。

1. 1. **TELEPHONY**
      1. **Dialer Receives Incoming Call**

**Note**
**：**
（用两个2开头的白卡打电话，或者用实卡）（DCM手机只插2开头的白卡测试）

**Step**
：点击 Set CTS Verifier as default dialer- >给测试机打电话> Call  the device pass

->点击restore the default dialer 测试即可pass。

或者去Setting->Apps&notifications->Default apps->Phone app->选择 Phone 作为默认 app，返回测试，测试即可 pass。

**Note**
**：**
有时不会弹出notification，可能因为手机sim卡的原因，换卡再试，重启手机。

1. 1. 1. **Dialer Shows HUN on Incoming call**

**Step**
：点击 Set CTS Verifier as default dialer - > 用辅助机给测试机打电话> 弹出如下图弹窗，测试 pass->Setting->Apps&notifications->Default apps->Phone app->选择 Phone为默认 app，返回测试，勾选 HUN shownand meets criteria specified above 测试即可 pass。

1. 1. 1. **Hide settings in voicemail test**

**Step**
：点击 OPEN VOICEMAIL SETTINGS,->ringtone 和 virbration 设置不存在，点击 RINGTONE SETTINGS DOES NOT EXIST 测试即可 pass，否则点击 RINGTONE SETTINGS EXISTS，测试 fail。

**Note**
**：**
ringtone 和 virbration设置不存在。

1. 1. 1. **Hide Voicemail in call settings test**

**Step**
： 点击 SET CTS VERIFIER AS DEFAULT DIALER->点击 OPEN SETTINGS->查看 Voice mail 设置是否存在，然后选择 VOICEMAIL DOES NOT EXIST 和 VOICEMAIL EXISTS,得到测试 结果。

1. 1. 1. **System Implements Telecom Intents**

**Step**
：依次点击4个button，查 看是否进入到正确的设置页面，如下图依次为Call setting 、 Short sms answer settings 、Calling accounts setting、Accessibility setting。如果正确 勾选 button 后的选项，测试即可 pass。

**Note**
**：**
Aya和Anna的手机可以不出现图四（TTY mode）

1. 1. 1. **VisualVoicemailService Test**

**Step**
：测试此条 case 前，需要开机插拔 sim 卡，看手机是否会重启，重启表示手机不支持 sim 卡热插拔功能，点击 NOT APPLICABLE,测试即可 pass。 如果手机支持 sim 卡热插拔，拔掉 sim 卡，点击 OK->SET CTS VERIFIER AS DEFAULT DIALER->依次插拔 sim 卡，设置默认 phone app 为 Phone，测试 pass。

**Note**
**：**
一般插卡都会关机

1. 1. 1. **Voicemail Broadcast Test**

**Step**
：这条测试需要有支持voice mail功能的sim卡去执行测试，插入voice mail sim卡-> 点 击 SET CTS VERIFIER AS DEFAULT DIALER->给被测手机打电话第一条 pass，->Setting->Apps&notifications->Default apps->Phone app->选择 Phone 作为默认 app，返回测试，测试即可 pass.

**Note**
**：**
（这条case可插上2开头的白卡或者联通卡开启飞行模式等待第一条case通过）。

1. 1. **VR**
      1. **VR Tests**

**Step**
**：**
LAUNCH SETTINGS->勾选VR Listener for CTS Verifier、Google VR Services->LAUNCHE VR MODE ACTIVITY->LAUNCH TWO VR MODE ACTIVITIES->LAUNCH SETTINGS。