---
layout: post
title: "编程向导-JavaScript-基础语法-类型检测"
date: 2025-03-11 14:56:46 +0800
description: "适合用于判断对象是否属于 Array、Date 和 RegExp 等内置对象。正式引入 JavaScript，该方法能准确检测一个变量是否为数组类型。的检测使用，而对引用数据类型（如 Array）等不适合使用。操作符返回一个字符串，表示未经计算的操作数的类型。的形式来调用，传递要检查的对象作为第一个参数。会指向构造这个对象的构造器或构造函数。方法能精准地判断出值的数据类型。对象属性，这个对象属性将用作。之间的对象类型检测无法使用。实例化对象的原型对象。来获取每个对象的类型。属性，继承自原型对象，"
keywords: "【编程向导】-JavaScript-基础语法-类型检测"
categories: ['Javascript']
tags: ['开发语言', '原型模式', 'Javascript']
artid: "146111446"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146111446
    alt: "编程向导-JavaScript-基础语法-类型检测"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146111446
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146111446
cover: https://bing.ee123.net/img/rand?artid=146111446
image: https://bing.ee123.net/img/rand?artid=146111446
img: https://bing.ee123.net/img/rand?artid=146111446
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【编程向导】-JavaScript-基础语法-类型检测
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="_1">
     </a>
     类型检测
    </h2>
    <p>
     类型检测的方法：
    </p>
    <ol>
     <li>
      <code>
       typeof
      </code>
     </li>
     <li>
      <code>
       instanceof
      </code>
     </li>
     <li>
      <code>
       Object.prototype.toString
      </code>
     </li>
     <li>
      <code>
       constructor
      </code>
     </li>
    </ol>
    <h3>
     <a id="typeof_10">
     </a>
     typeof
    </h3>
    <p>
     <code>
      typeof
     </code>
     操作符返回一个字符串，表示未经计算的操作数的类型。
    </p>
    <pre><code class="prism language-js"><span class="token keyword">typeof</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token comment">// "undefined"</span>
<span class="token keyword">typeof</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token comment">// "object"</span>
<span class="token keyword">typeof</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token comment">// "number"</span>
<span class="token keyword">typeof</span> <span class="token number">NaN</span><span class="token punctuation">;</span>
<span class="token comment">// "number"</span>
<span class="token keyword">typeof</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token comment">// "boolean"</span>
<span class="token keyword">typeof</span> <span class="token string">'foo'</span><span class="token punctuation">;</span>
<span class="token comment">// "string"</span>
<span class="token keyword">typeof</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// "function"</span>
<span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// "object"</span>
<span class="token keyword">typeof</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// "object"</span>
</code></pre>
    <p>
     <code>
      typeof
     </code>
     操作符适合对
     <strong>
      基本类型
     </strong>
     （除
     <code>
      null
     </code>
     之外）及
     <code>
      function
     </code>
     的检测使用，而对引用数据类型（如 Array）等不适合使用。
    </p>
    <p>
     更详细信息请查阅
     <a href="../expressions/operators/typeof" rel="nofollow">
      typeof 操作符
     </a>
     。
    </p>
    <h3>
     <a id="instanceof_39">
     </a>
     instanceof
    </h3>
    <p>
     <code>
      instanceof
     </code>
     运算符用于检测一个对象在其
     <strong>
      原型链
     </strong>
     中是否存在一个构造函数的
     <code>
      prototype
     </code>
     属性。
    </p>
    <p>
     左操作数为
     <strong>
      对象
     </strong>
     ，不是就返回
     <code>
      false
     </code>
     ，右操作数必须是
     <strong>
      函数对象
     </strong>
     或者
     <strong>
      函数构造器
     </strong>
     ，不是就返回
     <code>
      TypeError
     </code>
     异常。
    </p>
    <pre><code class="prism language-js">obj <span class="token keyword">instanceof</span> <span class="token class-name">constr</span><span class="token punctuation">;</span>
</code></pre>
    <pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token class-name">Student</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Student<span class="token punctuation">;</span>

<span class="token keyword">const</span> ben <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ben <span class="token keyword">instanceof</span> <span class="token class-name">Student</span><span class="token punctuation">;</span>
<span class="token comment">// true</span>

<span class="token keyword">const</span> one <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
one <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">;</span>
<span class="token comment">// true</span>
one <span class="token keyword">instanceof</span> <span class="token class-name">Student</span><span class="token punctuation">;</span>
<span class="token comment">// false</span>
ben <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">;</span>
<span class="token comment">// true</span>
</code></pre>
    <p>
     任何一个构造函数都有一个
     <code>
      prototype
     </code>
     对象属性，这个对象属性将用作
     <code>
      new
     </code>
     实例化对象的原型对象。
    </p>
    <p>
     📍
     <code>
      instanceof
     </code>
     适合用于判断对象是否属于 Array、Date 和 RegExp 等内置对象。
    </p>
    <p>
     📍 不同 window 或
     <code>
      iframe
     </code>
     之间的对象类型检测无法使用
     <code>
      instanceof
     </code>
     检测。
    </p>
    <p>
     更详细信息请查阅
     <a href="../expressions/operators/instanceof" rel="nofollow">
      instanceof
     </a>
    </p>
    <h3>
     <a id="ObjectprototypetoString_76">
     </a>
     Object.prototype.toString
    </h3>
    <p>
     可以通过
     <code>
      toString()
     </code>
     来获取每个对象的类型。
    </p>
    <p>
     为了
     <strong>
      每个对象
     </strong>
     都能通过
     <code>
      Object.prototype.toString
     </code>
     来检测，需要以
     <code>
      Function.prototype.call
     </code>
     或者
     <code>
      Function.prototype.apply
     </code>
     的形式来调用，传递要检查的对象作为第一个参数。
    </p>
    <pre><code class="prism language-js"><span class="token class-name">Obejct</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span>；
<span class="token comment">//  "[object Undefined]"</span>
<span class="token class-name">Obejct</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>；
<span class="token comment">//  "[object Null]"</span>
<span class="token class-name">Obejct</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>；
<span class="token comment">//  "[object Boolean]"</span>
<span class="token class-name">Obejct</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>；
<span class="token comment">/// "[object String]"</span>
<span class="token class-name">Obejct</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>；
<span class="token comment">//  "[object Number]"</span>
<span class="token class-name">Obejct</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>；
<span class="token comment">//  "[object Array]"</span>
<span class="token class-name">Obejct</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span>；
<span class="token comment">//  "[object Object]"</span>
</code></pre>
    <p>
     💡 使用
     <code>
      Object.prototype.toString
     </code>
     方法能精准地判断出值的数据类型。
    </p>
    <p>
     ⚠️
     <strong>
      注意事项
     </strong>
     ：
    </p>
    <ul>
     <li>
      <strong>
       方法重写
      </strong>
      ：
      <code>
       Object.prototype.toString
      </code>
      属于 Object 的原型方法，而 Array 或 Function 等类型作为 Object 的实例，都重写了
      <code>
       toString
      </code>
      方法。因此，不同对象类型调用
      <code>
       toString
      </code>
      方法时，调用的是重写后的
      <code>
       toString
      </code>
      方法，而非
      <code>
       Object
      </code>
      上原型
      <code>
       toString
      </code>
      方法，所以采用
      <code>
       xxx.toString()
      </code>
      不能得到其对象类型，只能将
      <code>
       xxx
      </code>
      转换成字符串类型。
     </li>
    </ul>
    <h3>
     <a id="constructor_103">
     </a>
     constructor
    </h3>
    <p>
     任何对象都有
     <code>
      constructor
     </code>
     属性，继承自原型对象，
     <code>
      constructor
     </code>
     会指向构造这个对象的构造器或构造函数。
    </p>
    <pre><code class="prism language-js"><span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Student<span class="token punctuation">;</span>
<span class="token comment">//  true</span>
</code></pre>
    <h3>
     <a id="_112">
     </a>
     数组检测
    </h3>
    <p>
     ECMAScript5 将
     <code>
      Array.isArray()
     </code>
     正式引入 JavaScript，该方法能准确检测一个变量是否为数组类型。
    </p>
    <pre><code class="prism language-js">Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>variable<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f33393335373337312f:61727469636c652f64657461696c732f313436313131343436" class_="artid" style="display:none">
 </p>
</div>


