---
layout: post
title: "Linux-配置静态-IP"
date: 2025-03-08 14:45:54 +0800
description: "在 LinuxCentOS系统中默认动态分配 IP 地址，每次启动虚拟机服务都是不一样的 IP，因此要配置静态 IP 地址避免每次都发生变化，下面将介绍配置静态 IP 的详细步骤。首先先理解一下动态 IP和静态 IPIP 地址会经常发生变化。生效IP 地址是固定不变。"
keywords: "Linux 配置静态 IP"
categories: ['Linux']
tags: ['Linux']
artid: "146116267"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146116267
    alt: "Linux-配置静态-IP"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146116267
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146116267
cover: https://bing.ee123.net/img/rand?artid=146116267
image: https://bing.ee123.net/img/rand?artid=146116267
img: https://bing.ee123.net/img/rand?artid=146116267
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Linux 配置静态 IP
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h4 id="di10P">
     一、简介
    </h4>
    <p id="ud080ff15">
     在 Linux
     <strong>
      CentOS
     </strong>
     系统中默认动态分配 IP 地址，每次启动虚拟机服务都是不一样的 IP，因此要配置静态 IP 地址避免每次都发生变化，下面将介绍配置静态 IP 的详细步骤。
    </p>
    <p id="u9c9a52c1">
     首先先理解一下
     <code>
      <span style="background-color:#f3f3f4">
       动态 IP
      </span>
     </code>
     和
     <code>
      <span style="background-color:#f3f3f4">
       静态 IP
      </span>
     </code>
     的概念：
    </p>
    <ul>
     <li id="u9efc339b">
      <strong>
       动态 IP：
      </strong>
      IP 地址会经常发生变化 。
     </li>
     <li id="ue0bcd07a">
      <strong>
       静态 IP：
      </strong>
      IP 地址是固定不变。
     </li>
    </ul>
    <hr id="hrF86"/>
    <h4 id="iB0iA">
     二、查看虚拟机网关、子网掩码
    </h4>
    <h3 id="31e36f24">
    </h3>
    <p class="img-center">
     <img alt="" height="1130" id="udd922dcc" src="https://i-blog.csdnimg.cn/img_convert/9df890c53b43e70f00113f27ccffdd7b.png" width="1283"/>
    </p>
    <p id="u9772a4c5">
    </p>
    <h4 id="yckW2">
     三、编辑并配置静态 IP
    </h4>
    <p id="udf6bafad">
     网络配置文件通常位于
     <span style="color:#fe2c24">
      <code>
       <span style="background-color:#f3f3f4">
        /etc/sysconfig/network-scripts/ifcfg-ens33
       </span>
      </code>
      <span style="background-color:#f3f3f4">
      </span>
     </span>
     文件，编辑文件命令：
    </p>
    <pre id="gQJwR"><code>vi /etc/sysconfig/network-scripts/ifcfg-ens33</code></pre>
    <p id="u5de192fb">
     点击
     <span style="color:#fe2c24">
      <strong>
       <code>
        i
       </code>
      </strong>
     </span>
     按键进行编辑，在文件中进行以下修改：
     <code>
      BOOTPROTO
     </code>
     默认是
     <span style="color:#fe2c24">
      <code>
       <strong>
        dhcp
       </strong>
      </code>
     </span>
     （动态 IP）
     <strong>
      ，
     </strong>
     修改为
     <strong>
      <span style="color:#fe2c24">
       <code>
        static
       </code>
      </span>
     </strong>
     （静态 IP）。
    </p>
    <pre id="fQDdm"><code>BOOTPROTO="static"  # 使用静态 IP</code></pre>
    <p id="ufde255d4">
     添加如下配置在文件末尾：
    </p>
    <pre id="rX9mb"><code># 静态 IP 配置
IPADDR=192.168.xxx.xxx # 你的静态 IP 地址（和网关一样，最后一位可自由分配）
NETMASK=255.255.255.0  # 子网掩码
GATEWAY=192.168.xxx.xxx    # 网关（要配置成自己虚拟机的网关）
DNS1=8.8.8.8           # 首选 DNS
DNS2=8.8.4.4           # 备用 DNS</code></pre>
    <p id="uaa3bc56a">
     <strong>
      注意：
     </strong>
    </p>
    <ul>
     <li id="ue8d46447">
      确保
      <strong>
       <span style="color:#fe2c24">
        <code>
         IPADDR
        </code>
        、
        <code>
         NETMASK
        </code>
        、
        <code>
         GATEWAY
        </code>
       </span>
      </strong>
      <span style="color:#0d0016">
       和
      </span>
      <strong>
       <span style="color:#fe2c24">
        <code>
         DNS
        </code>
       </span>
      </strong>
      的值和网络环境匹配，不然会出现各种问题，要好好检查修改的配置文件是否有配置成功。如果在配置过程中遇到问题，可以检查日志文件：
      <code>
       /var/log/messages
      </code>
      。
     </li>
    </ul>
    <p id="u99986d1a">
    </p>
    <h4 id="qoTVv">
     四、保存并退出
    </h4>
    <p id="u9f1e0ccd">
     在
     <code>
      <strong>
       vi
      </strong>
     </code>
     编辑器中，按
     <span style="color:#fe2c24">
      <strong>
       <span style="background-color:#f3f3f4">
       </span>
       <code>
        <span style="background-color:#f3f3f4">
         Esc
        </span>
       </code>
       <span style="background-color:#f3f3f4">
       </span>
      </strong>
     </span>
     键，然后输入
     <span style="color:#fe2c24">
      <strong>
       <span style="background-color:#f3f3f4">
       </span>
       <code>
        <span style="background-color:#f3f3f4">
         wq
        </span>
       </code>
       <span style="background-color:#f3f3f4">
       </span>
      </strong>
     </span>
     保存并退出。
    </p>
    <h4 id="24671417">
     <strong>
      五、重启网络服务
     </strong>
    </h4>
    <p id="ue94b5a9a">
     保存文件后，重启网络服务让配置文件生效（等待几秒钟）：
    </p>
    <pre id="HMLJo"><code>systemctl restart network</code></pre>
    <p id="u4fe1bf89">
     如果命令报错，好好检查配置文件！！！
    </p>
    <h4 id="e5edf8ae">
     <strong>
      六、验证配置、测试网络连通性
     </strong>
    </h4>
    <p id="u40c757fd">
     使用以下命令检查 IP 地址是否已正确配置：
    </p>
    <pre><code class="language-bash">ip addr show ens33</code></pre>
    <p id="ue3fe9f83">
     配置完成后，使用以下命令测试网络连通性：
    </p>
    <ul>
     <li id="u16ad869a">
      检查 IP 地址：
      <code>
       ip addr
      </code>
     </li>
     <li id="uc11fdd9b">
      测试网关连通性：
      <code>
       ping &lt;网关IP&gt;
      </code>
     </li>
     <li id="u67622984">
      测试外部网络（关键）：
      <span style="color:#fe2c24">
       <strong>
        <code>
         <span style="background-color:#f3f3f4">
          ping google.com
         </span>
        </code>
       </strong>
      </span>
      <span style="color:#0d0016">
       <code>
        <span style="background-color:null">
         或
        </span>
       </code>
      </span>
      <span style="color:#fe2c24">
       <strong>
        <code>
         <span style="background-color:#f3f3f4">
          ping baidu.com
         </span>
        </code>
       </strong>
      </span>
      <span style="color:#0d0016">
       <code>
        是否能 ping通。
       </code>
      </span>
     </li>
    </ul>
    <p id="ue4937b20">
    </p>
    <p id="u4a9ae52f">
     最后，希望本文对你有所帮助！如果有任何问题，欢迎留言讨论！ 🚀
    </p>
    <p id="u42c7676f">
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f34313336353034382f:61727469636c652f64657461696c732f313436313136323637" class_="artid" style="display:none">
 </p>
</div>


