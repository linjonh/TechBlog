---
arturl_encode: "68747470733a2f2f626c6f672e63:73646e2e6e65742f42656174696e67776f726c646c696e652f:61727469636c652f64657461696c732f313239343730313138"
layout: post
title: "å‰ç«¯å‰æ²¿web-3då¯è§†åŒ–æŠ€æœ¯-ThreeJSå­¦ä¹ å…¨è®°å½•"
date: 2023-03-11 22:52:09 +08:00
description: "å°±åƒå‰ç«¯éœ€è¦webpackæ¥è¿›è¡Œæ¨¡å—åŒ–å¼€å‘  three JSä¹Ÿéœ€è¦ä¸€ä¸ªå¯¹åº”çš„å·¥å…·ï¼Œä»–å°±æ˜¯PARCE"
keywords: "threejs"
categories: ['å¾€ç»†åˆ†é¢†åŸŸå·', 'Threejs']
tags: ['å­¦ä¹ ', 'å‰ç«¯', 'Webgl', 'Threejs', '3D']
artid: "129470118"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=129470118
    alt: "å‰ç«¯å‰æ²¿web-3då¯è§†åŒ–æŠ€æœ¯-ThreeJSå­¦ä¹ å…¨è®°å½•"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=129470118
featuredImagePreview: https://bing.ee123.net/img/rand?artid=129470118
---

# å‰ç«¯å‰æ²¿web 3då¯è§†åŒ–æŠ€æœ¯ ThreeJSå­¦ä¹ å…¨è®°å½•

### å‰ç«¯å‰æ²¿web 3då¯è§†åŒ–æŠ€æœ¯

å®Œæ•´æ¡ˆä¾‹ä¸é¡¹ç›®ä»£ç ï¼š
**[giteeå¼€æºé¡¹ç›®åœ°å€](https://gitee.com/jumping-world-line/01_threeJS_basic)
https://gitee.com/jumping-world-line/01\_threeJS\_basic**

éšç€æµè§ˆå™¨æ€§èƒ½å’Œç½‘ç»œå¸¦å®½çš„æå‡ ä½¿å¾—3DæŠ€æœ¯ä¸å†æ˜¯æ¡Œé¢çš„ä¸“åˆ© æ‰“ç ´ä¼ ç»Ÿå¹³é¢å±•ç¤ºæ¨¡å¼

å‰ç«¯æ–¹å‘ä¸»è¦æµå‘çš„3Då›¾å½¢åº“åŒ…æ‹¬Three.jså’ŒWebGL

* WebGLçµæ´»é«˜æ€§èƒ½ï¼Œä½†ä»£ç é‡å¤§ï¼Œéš¾åº¦å¤§ï¼Œéœ€è¦æŒæ¡å¾ˆå¤šåº•å±‚çŸ¥è¯†å’Œæ•°å­¦çŸ¥è¯†
* Threejså°è£…äº†WebGLçš„åº•å±‚ç»†èŠ‚ï¼Œå¯æ‹“å±•æ€§å¼ºï¼Œæœ‰å¾ˆå¤šå¼€æºçš„æ’ä»¶å’Œå·¥å…·ï¼Œæ›´æ˜“ä¸Šæ‰‹

å°±åƒ2Gæ—¶ä»£æ–‡å­—ä¿¡æ¯æ˜¯ä¸»è¦ä¼ è¾“åª’ä»‹ 3Gæ—¶ä»£çš„å›¾ç‰‡ 4Gæ—¶ä»£çš„è§†é¢‘
  
éšç€ç¡¬ä»¶æ€§èƒ½ä¸æŠ€æœ¯çš„æå‡ï¼Œæœªæ¥çš„å‰ç«¯ä¹Ÿä¸€å®šæ˜¯3Dçš„

### å¼€å§‹å­¦ä¹ 

#### threejså®˜æ–¹é¡¹ç›®

é¦–å…ˆè¦æœ‰ä¸€å®šçš„å‰ç«¯å¼€å‘åŸºç¡€ä»¥åŠå¼€å‘ç¯å¢ƒ ä¸å¤šèµ˜è¿°

è®¿é—®https://threejs.org/ ç‚¹å‡»github
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/f225de69f0095467f170d18950e9cd83.png#pic_center)
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/586bc3a0ecfc0047990b9b03d56ae5b1.png#pic_center)

æ‹·è´é¡¹ç›®åˆ°æœ¬åœ°å³å¯æŸ¥çœ‹æ–‡æ¡£ æ¡ˆä¾‹æ–‡ä»¶ ä½¿ç”¨ç¼–è¾‘å™¨ç­‰
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/d7194309f3c1d40f4ffc3ee2cab3053b.png#pic_center)
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/136fa69a11828c2486f641058f6c94b1.gif#pic_center)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/376485729e7314eaa3bf469f8dacc555.png#pic_center)

#### parcelæ‰“åŒ…å·¥å…·

å°±åƒå‰ç«¯éœ€è¦webpackæ¥è¿›è¡Œæ¨¡å—åŒ–å¼€å‘ three JSä¹Ÿéœ€è¦ä¸€ä¸ªå¯¹åº”çš„å·¥å…·ï¼Œä»–å°±æ˜¯
[PARCEL](https://www.parceljs.cn/)
https://www.parceljs.cn/
  
å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å‰ç«¯å¸¸ç”¨çš„webpack viteç­‰ å„æœ‰ä¼˜åŠ£
  
parcelçš„ä¼˜åŠ¿åœ¨äºä¸Šæ‰‹é€Ÿåº¦å¿« 0é…ç½®
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/6150123faf8bcfcda1a892c0dc23ab92.png#pic_center)
  
æœ¬åœ°æ–°å»ºç©ºæ–‡ä»¶å¤¹ ä½¿ç”¨npm init å‘½ä»¤åˆ›å»ºæ–°çš„NPMåŒ…
  
npm install -g parcel-bundler å®‰è£…parcel
  
æ‰‹åŠ¨å»ºç«‹å¦‚å›¾çš„ç›®å½•ç»“æ„ä¸åŸºç¡€æ–‡ä»¶
[å‚è€ƒ](https://www.bilibili.com/video/BV1Gg411X7FY?p=3&vd_source=3ba810f405f20b7f553db593fce20396)
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/9baa4ebd90b6683aa43bf79aef35a083.png#pic_center)
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/1e2b3a1424d2a29fadb0ececd00e59d6.png#pic_center)

åˆ°æ­¤ ä½¿ç”¨parcelæ­å»ºçš„æœ€åŸºç¡€çš„threeJSå¼€å‘ç¯å¢ƒå°±å®Œæˆäº†

å¯ä»¥æ‹¿åˆ°ThreeJSçš„å„ç§æ¥å£ æ–¹æ³• å¸¸é‡ç­‰

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/8e933f84ad0e1d362004547daf7685df.png#pic_center)

#### æ­å»ºç¬¬ä¸€ä¸ªåœºæ™¯å’Œç‰©ä½“

æ‰“å¼€ä¸Šæ–‡æåˆ°çš„æœ¬åœ°ç¼–è¾‘å™¨
  
ã€‚ã€‚ã€‚æ„Ÿè§‰å’Œå½“å¹´åœ¨å­¦æ ¡å­¦çš„unityå¾ˆåƒï¼Œå¦‚æœæœ‰è¿‡ç±»ä¼¼ç»éªŒï¼Œç†è§£ä¸Šæ‰‹ä¼šå¾ˆå¿«

ç›¸æœºï¼Œå³ä½¿è§‚å¯Ÿè§†è§’
  
åœºæ™¯ï¼Œå³è¢«è§‚å¯Ÿçš„ç‰©ä½“
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/6ef9567b1035eef34f72ed48e6d39738.png#pic_center)

* ç†è§£ç›¸æœºçš„
  **è§†é”¥ä½“**
  æ¦‚å¿µï¼Œ
  [å®˜æ–¹æ¡ˆä¾‹](https://threejs.org/examples/#webgl_camera)
    
  `const camera = new THREE.PerspectiveCamera( fov : Number, aspect : Number, near : Number, far : Number )`
    
  fov â€” æ‘„åƒæœºè§†é”¥ä½“å‚ç›´è§†é‡è§’åº¦
    
  aspect â€” æ‘„åƒæœºè§†é”¥ä½“é•¿å®½æ¯”
    
  near â€” æ‘„åƒæœºè§†é”¥ä½“è¿‘ç«¯é¢
    
  far â€” æ‘„åƒæœºè§†é”¥ä½“è¿œç«¯é¢

è¿™äº›å‚æ•°ä¸€èµ·å®šä¹‰äº†æ‘„åƒæœºçš„viewing frustumï¼ˆè§†é”¥ä½“ï¼‰ã€‚
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/f8f7ed701adf39db747b2ef1a671e4d6.png#pic_center)
  
**main.jsæ¡ˆä¾‹ä»£ç **

```javascript
//  1.åˆ›å»ºåœºæ™¯
const scene = new THREE.Scene()  

//  2.åˆ›å»ºå¹¶æ·»åŠ ç›¸æœº
const camera = new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,1000)  
camera.position.set(0,0,10) //è®¾ç½®ç›¸æœºä½ç½®
scene.add(camera)


//  3. åœ¨åœºæ™¯ä¸­åˆ›å»ºå¹¶æ·»åŠ ç‰©ä½“
const cubGeometry = new THREE.BoxGeometry( 1, 1, 1 );// åˆ›å»ºå‡ ä½•ç«‹æ–¹ä½“
const cubMaterial = new THREE.MeshBasicMaterial({color: 0x00ff00} );// æ·»åŠ æè´¨
const cube = new THREE.Mesh( cubGeometry, cubMaterial );// å°†å‡ ä½•ä½“å’Œæè´¨ç»„åˆä¸ºç‰©ä½“
scene.add( cube );

//  4.è®¾ç½®æ¸²æŸ“å™¨å¹¶æ¸²æŸ“åœºæ™¯
const renderer = new THREE.WebGL1Renderer() //åˆå§‹åŒ–æ¸²æŸ“å™¨
renderer.setSize(window.innerWidth,window.innerHeight)  //è®¾ç½®æ¸²æŸ“çš„å°ºå¯¸å¤§å°
document.body.appendChild(renderer.domElement);// å°†webglæ¸²æŸ“çš„å†…å®¹æ·»åŠ åˆ°body
renderer.render(scene,camera) // ä½¿ç”¨æ¸²æŸ“å™¨ï¼Œé€šè¿‡ç›¸æœºå°†åœºæ™¯æ¸²æŸ“è¿›æ¥

```

æ¡ˆä¾‹æˆåŠŸ
  
åœ¨æµè§ˆå™¨ä¸­ä¼šæ¸²æŸ“å‡ºä¸€ä¸ªå›ºå®šè§†è§’ä¸‹è§‚å¯Ÿåˆ°çš„ï¼Œé»‘è‰²åœºæ™¯å†…çš„ç»¿è‰²ç»¿è‰²æ­£æ–¹ä½“çš„ä¸€é¢ã€‚
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/463d1872e46a601cd62da5e34c80b23c.png#pic_center)

#### è½¨é“æ§åˆ¶å™¨æŸ¥çœ‹ç‰©ä½“

```javascript
// å¼•å…¥è½¨é“æ§åˆ¶å™¨
import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';
// 5.æ·»åŠ æ§åˆ¶å™¨-è½¨é“æ§åˆ¶å™¨ å¯ä»¥ä½¿å¾—ç›¸æœºå›´ç»•ç›®æ ‡è¿›è¡Œè½¨é“è¿åŠ¨  é€šè¿‡ä¸æ–­åœ°é‡æ–°æ¸²æŸ“æ¥å®ç°ç§»åŠ¨è§†è§’çš„æ•ˆæœ
const controls = new OrbitControls(camera,renderer.domElement);

function render(){//é€’å½’å®ç°æ¯ä¸€å¸§çš„é‡æ–°æ¸²æŸ“
    renderer.render(scene,camera)
    requestAnimationFrame(render);
}
render();

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/3cb95264af9214ce44645746590e8b7b.gif#pic_center)

#### æ·»åŠ åæ ‡è½´è¾…åŠ©å™¨

```javascript
const axesHelper = new THREE.AxesHelper( 5 );
scene.add( axesHelper );

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/730843e316b5698e828116d81aeb004e.png#pic_center)

#### è®¾ç½®ç‰©ä½“ç§»åŠ¨

```javascript
function render(){//é€’å½’å®ç°æ¯ä¸€å¸§çš„é‡æ–°æ¸²æŸ“
    //  7.é€šè¿‡å¾ªç¯ ä¸æ–­ä¿®æ”¹ç‰©ä½“çš„ä½ç½®
    cube.position.x += 0.1;
    if(cube.position.x > 5){
        cube.position.x = 0;
    }
    renderer.render(scene,camera)
    requestAnimationFrame(render);
}

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/d8c5b35432732587a58a62dc9029273d.gif#pic_center)

#### è®¾ç½®ç‰©ä½“ç¼©æ”¾å’Œæ—‹è½¬

```javascript
//  ç‰©ä½“çš„ç¼©æ”¾
cube.scale.set(3,2,1);//æŒ‡ç‰©ä½“åœ¨X,Y,Zè½´ä¸Šçš„ç¼©æ”¾å€æ•°
//  ç‰©ä½“çš„æ—‹è½¬ â€”â€”â€”â€” æ¬§æ‹‰è§’æè¿°ä¸€ä¸ªæ—‹è½¬å˜æ¢ï¼Œé€šè¿‡æŒ‡å®šè½´é¡ºåºå’Œå…¶å„ä¸ªè½´å‘ä¸Šçš„æŒ‡å®šæ—‹è½¬è§’åº¦æ¥æ—‹è½¬ä¸€ä¸ªç‰©ä½“ã€‚
cube.rotation.set(Math.PI/4,0,0,'XYZ')//ç‰©ä½“æ²¿Xè½´æ—‹è½¬90åº¦

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/7bc442429139e64ae939633b8847ba53.gif#pic_center)

#### åŠ¨ç”»

gsap è¡¥é—´åŠ¨ç”»ï¼š https://www.npmjs.com/package/gsap
  
æ–‡æ¡£ï¼šhttps://greensock.com/
[åŠ¨ç”»é€Ÿåº¦è°ƒæ•´](https://greensock.com/docs/v3/Eases)

```javascript
//  9.gsap è¡¥é—´åŠ¨ç”»  â€”â€”  æ— éœ€å†æ‰‹åŠ¨è®¡ç®—æ—¶é—´åšåŠ¨ç”»äº†  å†…ç½®APIè‡ªåŠ¨ç”Ÿæˆ  å¹¶èƒ½é€šè¿‡ä¸°å¯Œçš„å‚æ•°å’Œå›è°ƒè¿›è¡Œæ§åˆ¶
let animate_line = gsap.to(cube.position,{ 
    x: 5 ,                  //è½´å¯¹è±¡ä¸åŠ¨ç”»å€¼
    duration: 5 ,           //æŒç»­æ—¶é—´
    ease: "power1.inOut" ,  //é€Ÿåº¦
    repeat:-1 ,             //é‡å¤æ¬¡æ•°
    yoyo:true ,             //å¾€è¿”è¿åŠ¨
    delay:2 ,               //å»¶è¿ŸåŠ¨ç”»å¼€å§‹æ—¶é—´ 
    onComplete:()=>{        //åŠ¨ç”»å®Œæˆçš„å›è°ƒå‡½æ•°

    },
    onStart:()=>{        //åŠ¨ç”»å¼€å§‹çš„å›è°ƒå‡½æ•°

    }
});
let animate_rotat = gsap.to(cube.rotation,{ x: Math.PI*2 , duration: 5 , repeat:-1 , ease: "power1.inOut"});

window.addEventListener("click",()=>{//å•å‡»å±å¹•æš‚åœ
    animate_line.isActive()?animate_line.pause():animate_line.resume()
    animate_rotat.isActive()?animate_rotat.pause():animate_rotat.resume()
})
window.addEventListener("dbclick",()=>{//åŒå‡»å±å¹•å…¨å±/å–æ¶ˆå…¨å±
    document.fullscreenElement?document.exitFullscreen():renderer.domElement.requestFullscreen()
})

function render(){//é€’å½’å®ç°æ¯ä¸€å¸§çš„é‡æ–°æ¸²æŸ“
    //  8.åˆ¶ä½œåŠ¨ç”»  â€”â€”  æ—¶é—´åŠ¨ç”»åŸç†(é€šè¿‡æ¯ä¸€å¸§çš„ç”Ÿæˆæ—¶é—´ä¸ºåŸºå‡†æ¥æ¸²æŸ“åŠ¨ç”»  clockå‡½æ•°æˆ–renderè‡ªå¸¦æ—¶é—´å‚æ•°)  è¾ƒç®€å• ç•¥...  
    renderer.render(scene,camera)
    requestAnimationFrame(render);
}
render();

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/04c4c09e4d1e9c8a87c9e1c9b6e8dc99.gif#pic_center)

#### è®¾ç½®é˜»å°¼ä¸ç›‘å¬ç”»é¢å˜åŒ–æ¸²æŸ“ç”»é¢

```javascript
// 10.è®¾ç½®æ§åˆ¶å™¨é˜»å°¼ æ›´çœŸå®  éœ€è¦åœ¨æ¯ä¸€å¸§é‡æ–°ç”Ÿæˆæ—¶è°ƒç”¨controls.update();
controls.enableDamping = true;
// 11.ç›‘å¬ç”»é¢å˜åŒ–æ¸²æŸ“ç”»é¢  
window.addEventListener('resize',()=>{
    camera.aspect = window.innerWidth/window.innerHeight//æ›´æ–°ç›¸æœº
    camera.updateProjectionMatrix();//æ›´æ–°ç›¸æœºæŠ•å½±çŸ©é˜µ
    renderer.setSize(window.innerWidth,window.innerHeight)//æ›´æ–°æ¸²æŸ“å™¨å°ºå¯¸å¤§å°
    renderer.setPixelRatio(window.devicePixelRatio)//è®¾ç½®æ¸²æŸ“å™¨åƒç´ æ¯”â€”â€”â€”â€”å°±æ˜¯ç¼©æ”¾æ¯”
})


```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/0bcf9d95af9e507a30cd93d99b8e7c1e.gif#pic_center)

**åŸºæœ¬æ¡ˆä¾‹å®Œæˆ**
  
**æ€»ç»“ä¸»è¦æ­¥éª¤:**

* åˆ›å»ºåœºæ™¯
* åˆ›å»ºå¹¶æ·»åŠ ç›¸æœº
* åœ¨åœºæ™¯ä¸­åˆ›å»ºå¹¶æ·»åŠ ç‰©ä½“(å‡ ä½•ä½“+æè´¨)
* æ·»åŠ è½¨é“æ§åˆ¶å™¨ä¸é˜»å°¼ã€ è¡¥é—´åŠ¨ç”»(ç§»åŠ¨ ç¼©æ”¾ æ—‹è½¬ç­‰)ã€ç›‘å¬ç”»é¢å˜åŒ–é‡æ–°æ¸²æŸ“ã€è¾…åŠ©åæ ‡è½´ç­‰
* è®¾ç½®æ¸²æŸ“å™¨å¹¶æ¸²æŸ“åœºæ™¯

### å…¥é—¨éƒ¨åˆ†çš„è¿›é˜¶å†…å®¹

#### GUIåº“ â€”è½»é‡çº§UIç•Œé¢æ§åˆ¶åº“

å®‰è£…
`npm install dat.gui`
,
  
å¾ˆæ–¹ä¾¿çš„å·¥å…· æ„Ÿè§‰ä¹Ÿå¯ä»¥ç”¨åœ¨echartsä¸Š

```javascript
import  * as dat from 'dat.gui';



// 12. GUI  å®ç°å¼€å‘ä¸­å¿«é€Ÿè°ƒè¯•ç‰©ä½“çš„æ•ˆæœ
const gui = new dat.GUI();
// æŠ˜å ç›®å½•  è®¾ç½®æ–‡ä»¶å¤¹
let folder = gui.addFolder('è®¾ç½®ç«‹æ–¹ä½“')
//æè´¨å·¥å…·æ 
folder.add(cube.material,'wireframe').name('æè´¨');
//åæ ‡è½´å·¥å…·æ 
folder.add(cube.position,'x').min(0).max(5).step(0.001).name('ç§»åŠ¨Xè½´åæ ‡').onChange((val)=>{
    // å›è°ƒå‡½æ•° valæ˜¯ä¿®æ”¹åçš„å€¼
}).onFinishChange((val)=>{
    // å›è°ƒå‡½æ•° valæ˜¯ä¿®æ”¹åçš„å€¼
});
//å±•ç¤ºå·¥å…·æ 
folder.add(cube,'visible').name('æ˜¯å¦å±•ç¤º')
const params = {
    color:'#ffff00',
    fn:()=>{//åŠ¨ç”»
        gsap.to(cube.position,{ 
            x: 5 ,                  //è½´å¯¹è±¡ä¸åŠ¨ç”»å€¼
            duration: 3 ,           //æŒç»­æ—¶é—´
            ease: "power1.inOut" ,  //é€Ÿåº¦
            repeat:-1 ,             //é‡å¤æ¬¡æ•°
            yoyo:true ,             //å¾€è¿”è¿åŠ¨
            delay:2 ,               //å»¶è¿ŸåŠ¨ç”»å¼€å§‹æ—¶é—´ 
            onComplete:()=>{        //åŠ¨ç”»å®Œæˆçš„å›è°ƒå‡½æ•°
        
            },
            onStart:()=>{        //åŠ¨ç”»å¼€å§‹çš„å›è°ƒå‡½æ•°
        
            }
        });
    }
};
//é¢œè‰²å·¥å…·æ 
folder.addColor(params,'color').onChange((val)=>{
    // å›è°ƒå‡½æ•° valæ˜¯ä¿®æ”¹åçš„å€¼
    cube.material.color.set(val);
})
//åŠ¨ç”»å·¥å…·æ   ç‚¹å‡»è§¦å‘ç‰¹å®šæ•ˆæœ
folder.add(params,'fn').name('ç§»åŠ¨åŠ¨ç”»')

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/6031700e88753d6c86f7c02e5b4df12e.gif#pic_center)

### å‡ ä½•ä½“

#### åŸºç¡€æ¦‚å¿µï¼š

æ­£æ–¹ä½“åæ ‡ï¼šæœ€åŸºç¡€çš„æ­£æ–¹ä½“æ‹¥æœ‰å…­ä¸ªé¢ï¼Œæ¯ä¸ªé¢4ä¸ªç‚¹ï¼Œå…±24ä¸ªç‚¹ã€‚æ¯ä¸ªç‚¹éƒ½éœ€è¦xyzä¸‰è½´çš„åæ ‡ï¼Œå³72ä¸ªåæ ‡æ•°æ®ã€‚
  
æ³•ç›¸é‡ï¼šé¢çš„æœå‘è§’åº¦
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/010e9836e86296caa2f5133d6493b97a.png#pic_center)

```javascript


// 13. é€šè¿‡é¡¶ç‚¹è®¾ç½®åˆ›å»ºå‡ ä½•ä½“çŸ©å½¢
const geometry = new THREE.BufferGeometry();
const vertices = new Float32Array([
    -1.0,-1.0,1.0,
    1.0,-1.0,1.0,
    1.0,1.0,1.0,
    1.0,1.0,1.0,
    -1.0,1.0,1.0,
    -1.0,-1.0,1.0
]);
geometry.setAttribute('position',new THREE.BufferAttribute(vertices,3));

const Material = new THREE.MeshBasicMaterial({color: 0x00ff00} );// æ·»åŠ æè´¨
const cube = new THREE.Mesh( geometry, Material );// å°†å‡ ä½•ä½“å’Œæè´¨ç»„åˆä¸ºç‰©ä½“

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/eef52e8cd1e52aa81798a851e9b10a22.gif#pic_center)

#### å¸¸ç”¨ç½‘æ ¼å‡ ä½•ä½“ï¼š

ç«‹æ–¹ç¼“å†²å‡ ä½•ä½“ã€åœ†å½¢ç¼“å†²å‡ ä½•ä½“ã€åœ†é”¥ç¼“å†²å‡ ä½•ä½“ã€åœ†æŸ±ç¼“å†²å‡ ä½•ä½“ã€å…«é¢ç¼“å†²å‡ ä½•ä½“ã€åäºŒé¢ç¼“å†²å‡ ä½•ä½“ã€äºŒåé¢ç¼“å†²å‡ ä½•ä½“ã€è¾¹ç¼˜ç¼“å†²å‡ ä½•ä½“ã€æŒ¤å‹ç¼“å†²å‡ ä½•ä½“ã€è½¦å‰Šç¼“å†²å‡ ä½•ä½“ã€å‚æ•°åŒ–ç¼“å†²å‡ ä½•ä½“ã€å¹³é¢ç¼“å†²å‡ ä½•ä½“ã€å¤šé¢ç¼“å†²å‡ ä½•ä½“ã€åœ†ç¯ç¼“å†²å‡ ä½•ä½“ã€å½¢çŠ¶ç¼“å†²å‡ ä½•ä½“ã€çƒç¼“å†²å‡ ä½•ä½“ã€åœ†ç¯ç¼“å†²æ‰­ç»“å‡ ä½•ä½“ã€ç®¡é“ç¼“å†²å‡ ä½•ä½“ã€ç½‘æ ¼å‡ ä½•ä½“

### çº¹ç†ä¸æè´¨

ç‰©ä½“=å‡ ä½•ä½“+çº¹ç†ä¸æè´¨
  
ç›¸åŒçš„å½¢çŠ¶ï¼ŒåŠ ä¸Šä¸åŒçš„çº¹ç†å³å¯è¡¨ç¤ºä¸åŒçš„ç‰©ä½“ã€‚ä¾‹å¦‚é•¿æ–¹ä½“ï¼Œå¯èƒ½æ˜¯æ¿ç –ï¼Œå¯èƒ½æ˜¯çƒŸç›’ï¼Œä¹Ÿå¯èƒ½æ˜¯æ‰‹æœºç­‰

#### çº¹ç†

```javascript
// 14 çº¹ç†ä¸æè´¨
// å¯¼å…¥çº¹ç† é€šè¿‡å›¾ç‰‡åŠ è½½
const textureLoader = new THREE.TextureLoader();
const wenliColorTexture = textureLoader.load('./textures/123.png')
// const wenliColorTexture = textureLoader.load(require('../assets/imgs/textures/123.pn'))
// æ·»åŠ ç‰©ä½“
const cubeGeometry = new THREE.BoxBufferGeometry(1,1,1)
//æè´¨
const BasicMaterial = new THREE.MeshBasicMaterial({
    color:'#ffff00',
    map:wenliColorTexture,
})
const cube = new THREE.Mesh( cubeGeometry, BasicMaterial );// å°†å‡ ä½•ä½“å’Œæè´¨ç»„åˆä¸ºç‰©ä½“
scene.add( cube );//åœ¨åœºæ™¯ä¸­æ·»åŠ ç‰©ä½“

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/2ea392f07fc5e87444539720d91d614f.gif#pic_center)

##### çº¹ç†åç§» æ—‹è½¬ é‡å¤ç­‰å¸¸ç”¨å±æ€§

```javascript
// 14 çº¹ç†ä¸æè´¨
// å¯¼å…¥çº¹ç† é€šè¿‡å›¾ç‰‡åŠ è½½
const textureLoader = new THREE.TextureLoader();
const wenliColorTexture = textureLoader.load(require('../assets/imgs/textures/123.png'));//çº¹ç†åŠ è½½å™¨
// çº¹ç†å¸¸ç”¨å±æ€§
wenliColorTexture.offset.set(0.5,0.5);//åç§»
wenliColorTexture.rotation = Math.PI/4;///æ—‹è½¬45Â°
wenliColorTexture.center.set(0.5,0.5);///æ—‹è½¬åŸç‚¹ é»˜è®¤(0,0)
wenliColorTexture.repeat.set(2,3);///é‡å¤æ¬¡æ•°
wenliColorTexture.wrapS = THREE.MirroredRepeatWrapping;///é‡å¤æ¨¡å¼  æ°´å¹³æ–¹å‘  é•œåƒé‡å¤
wenliColorTexture.wrapT = THREE.RepeatWrapping;///é‡å¤æ¨¡å¼  å‚ç›´æ–¹å‘  æ— é™é‡å¤

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/a5b1fa9cd7d2f717bd8ea671404dc845.gif#pic_center)

##### çº¹ç†æ˜¾ç¤ºç®—æ³•ä¸mipmap

```javascript
// çº¹ç†çš„æ˜¾ç¤ºç®—æ³•
// wenliColorTexture.minFilter = THREE.NearestFilter;//ä¸€çº¹ç´ å°äºä¸€åƒç´ æ—¶ï¼Œè´´å›¾å¦‚ä½•é‡‡æ ·
// wenliColorTexture.magFilter = THREE.NearestFilter;//ä¸€çº¹ç´ å¤§äºä¸€åƒç´ æ—¶ï¼Œè´´å›¾å¦‚ä½•é‡‡æ ·
wenliColorTexture.minFilter = THREE.LinearFilter;//é»˜è®¤å€¼
wenliColorTexture.magFilter = THREE.LinearFilter;//é»˜è®¤å€¼

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/6dd05f07de5c84fe5a1d1499a225e1a1.png#pic_center)
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/a9f38babad0de4b2c5e53aa6e5bac8d2.png#pic_center)

##### é€æ˜æè´¨ä¸é€æ˜çº¹ç†

ç±»ä¼¼é“æ …æ åœºæ™¯ éœ€è¦éƒ¨åˆ†é€æ˜ éµå¾ªé»‘é®ç™½æ˜¾çš„åŸåˆ™

```javascript
// çº¹ç†çš„é€æ˜
const wenliAplhaTexture = textureLoader.load(require('../assets/imgs/alphaMap/alphaMap.png'));//çº¹ç†åŠ è½½å™¨åŠ è½½ä¸é€æ˜åº¦ç°é˜¶å›¾ç‰‡

// æ·»åŠ ç‰©ä½“
const cubeGeometry = new THREE.BoxBufferGeometry(1,1,1)
//æè´¨
const BasicMaterial = new THREE.MeshBasicMaterial({
    color:'#ffff00',
    map:wenliColorTexture,
    alphaMap:wenliAplhaTexture,//æ§åˆ¶è¡¨é¢é€æ˜åº¦(é»‘è‰²å®Œå…¨é€æ˜ ç™½è‰²å®Œå…¨ä¸é€æ˜  ç°é˜¶ä»£è¡¨ä¸é€æ˜åº¦)
    transparent:true,//å…è®¸é€æ˜
})
const cube = new THREE.Mesh( cubeGeometry, BasicMaterial );// å°†å‡ ä½•ä½“å’Œæè´¨ç»„åˆä¸ºç‰©ä½“
scene.add( cube );//åœ¨åœºæ™¯ä¸­æ·»åŠ ç‰©ä½“

```

çº¹ç†å›¾ç‰‡
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/8a9a52bf682c3fa9854f31ffe6624b97.png#pic_center)

è®¾ç½®é€æ˜çº¹ç†å›¾ç‰‡
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/aab6dad6f4b8f2abdd86864f4b66f5d2.png#pic_center)
  
ï¼ˆç”¨PSè°ƒæ•´äº†åŠå¤© ä¸€å¼€å§‹å›¾ç‰‡æ²¡é€‰å¥½æ•ˆæœä¸å°½å¦‚äººæ„äº†23333ï¼‰
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/1e65db36b2b3b504fdfe2357400950e2.gif#pic_center)

#### PBRâ€”â€”æè´¨

**åŸºäºç‰©ç†æ¸²æŸ“ï¼Œé€šè¿‡è®¡ç®—ç¯å¢ƒå…‰çº¿ä½¿ç‰©ä½“æ›´çœŸå®**

* **ç¯å…‰å±æ€§(Light Properties)**
  :
  + ç›´æ¥ç…§æ˜ï¼šç›´æ¥ä»å…‰æºå‘å°„çš„å…‰è‡³ç‰©ä½“è¡¨é¢ï¼Œé€ æˆç›´æ¥æ¼«åå°„(æ•´ä½“äº®)æˆ–é«˜å…‰(å±€éƒ¨äº®)
  + é—´æ¥ç…§æ˜ï¼š ç¯å¢ƒå…‰ç›´æ¥å…‰ç­‰äºŒæ¬¡åå°„è‡³ç‰©ä½“è¡¨é¢ï¼Œé€ æˆé—´æ¥æ¼«åå°„æˆ–é«˜å…‰
  + ç›´æ¥é«˜å…‰
  + é—´æ¥é«˜å…‰
  + é˜´å½±
  + ç¯å¢ƒå…‰é—­å¡
* **è¡¨é¢å±æ€§(Surface Properties)**
  + åŸºç¡€è‰²
  + æ³•çº¿ï¼šä½¿å¾—è¡¨é¢æ˜¾å¾—å‡¹å‡¸ä¸å¹³ï¼Œç”¨äºæ·»åŠ è¡¨é¢ç»†èŠ‚ï¼Œæ˜¯ä¸€ç§ä¸‰ç»´å‘é‡ï¼ˆVector3ï¼‰æ•°æ®
  + é«˜å…‰:å®šä¹‰ç‰©ä½“è¡¨é¢ä¸åŒåŒºåŸŸä¸Šä¸åŒçš„åå°„ç‡æ¥åŒºåˆ†ä¸åŒçš„ç‰©ä½“æè´¨
  + ç²—ç³™åº¦
  + é‡‘å±åº¦

##### æ ‡å‡†ç½‘æ ¼æè´¨ä¸å…‰ç…§æ•ˆæœ

æ¼«åå°„ç¯å¢ƒå…‰

```javascript
// æ·»åŠ ç‰©ä½“
const cubeGeometry = new THREE.BoxBufferGeometry(1,1,1)
// 14 çº¹ç†ä¸æè´¨   çº¹ç†å¸¸ç”¨å±æ€§ æ˜¾ç¤ºç®—æ³• çº¹ç†æè´¨çš„é€æ˜
// å¯¼å…¥çº¹ç† é€šè¿‡å›¾ç‰‡åŠ è½½
const textureLoader = new THREE.TextureLoader();
const wenliColorTexture = textureLoader.load(require('../assets/imgs/textures/123.png'));//çº¹ç†åŠ è½½å™¨
// const BasicMaterial = new THREE.MeshBasicMaterial({//åŸºç¡€æè´¨ MeshBasicMaterial
// 15. æ ‡å‡†ç‰©ç†ç½‘æ ¼æè´¨ MeshStandardMaterial ğŸ”ºéœ€è¦ç¯å…‰å’Œè¡¨é¢å±æ€§
const material = new THREE.MeshStandardMaterial({
    map:wenliColorTexture,
    color:'#62b5eb',
})
const cube = new THREE.Mesh( cubeGeometry, material );// å°†å‡ ä½•ä½“å’Œæè´¨ç»„åˆä¸ºç‰©ä½“
scene.add( cube );//åœ¨åœºæ™¯ä¸­æ·»åŠ ç‰©ä½“

// 16. è®¾ç½®ç¯å…‰
// ç¯å¢ƒå…‰(é¢œè‰² å¼ºåº¦)
const light = new THREE.AmbientLight(0XFFFFFF,0.8);
// ç›´çº¿å¹³è¡Œå…‰(é¢œè‰² å¼ºåº¦ ä½ç½®)
const directionLight = new THREE.DirectionalLight(0XFFFFFF,0.8);
directionLight.position.set(10,10,10)
scene.add( light );

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/f5bc111cba005ff5170b9f722af4ec61.gif#pic_center)

æ¼«åå°„å¹³è¡Œå…‰

```javascript
// 16. è®¾ç½®ç¯å…‰
// ç¯å¢ƒå…‰(é¢œè‰² å¼ºåº¦)
const light = new THREE.AmbientLight(0XFFFFFF,0.8);
// ç›´çº¿å¹³è¡Œå…‰(é¢œè‰² å¼ºåº¦ ä½ç½®)
const directionLight = new THREE.DirectionalLight(0XFFFFFF,0.8);
directionLight.position.set(10,10,10)
scene.add( directionLight);

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/1ed9653bc4dbcfb7d502b051779f82e0.gif#pic_center)

##### ç²—ç³™åº¦ä¸ç²—ç³™è´´å›¾ï¼Œé‡‘å±åº¦ä¸é‡‘å±è´´å›¾ï¼Œæ³•çº¿è´´å›¾

**ç²—ç³™åº¦**

```javascript
const material = new THREE.MeshStandardMaterial({
    map:wenliColorTexture,
    color:'#62b5eb',
    roughness:0,//15.2 ç²—ç³™åº¦  0-1 æ•°å€¼è¶Šå°è¶Šå…‰æ»‘
    // roughnessMap:0,//ç²—ç³™åº¦è´´å›¾  æš‚æ— èµ„æº
})

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/ecd6b558644e4c96efe05a8f1ec276f8.png#pic_center)

**é‡‘å±åº¦**

```javascript
const material = new THREE.MeshStandardMaterial({
    map:wenliColorTexture,
    color:'#62b5eb',
    roughness:0,//15.2 ç²—ç³™åº¦  0-1 æ•°å€¼è¶Šå°è¶Šå…‰æ»‘
    // roughnessMap:0,//ç²—ç³™åº¦è´´å›¾  æš‚æ— èµ„æº
    metalness:1,//15.3 é‡‘å±åº¦  0-1 æ•°å€¼è¶Šå°è¶Šä¸åƒé‡‘å±
    // metalnessMap:0,//é‡‘å±åº¦è´´å›¾  æš‚æ— èµ„æº
})

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/46d0ef5221f051b86949d706048a9ef8.png#pic_center)
  
**æ³•çº¿**
ï¼šä½¿å¾—è¡¨é¢æ˜¾å¾—å‡¹å‡¸ä¸å¹³ï¼Œç”¨äºæ·»åŠ è¡¨é¢ç»†èŠ‚ï¼Œé€šè¿‡è®¾ç½®å¯¹åº”è´´å›¾åæ•ˆæœæ˜¯ä¸åŒåŒºåŸŸå†…é¢å¯¹å…‰çš„åå°„æ•ˆæœä¸åŒï¼Œä½¿ç‰©ä½“çœ‹èµ·æ¥æ›´çœŸå®ã€‚æ— å›¾ç‰‡èµ„æºï¼Œä¸‹é¢ä»…ä½œé—¨çš„æ¡ˆä¾‹å±•ç¤º
  
**è®¾ç½®æ³•çº¿è´´å›¾å‰**
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/2674ad6e60f47e1134959faddae9b155.png#pic_center)

**æ³•çº¿è´´å›¾**
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/addb878b1a4c21df2b3573de722f5939.png#pic_center)

**è®¾ç½®æ³•çº¿è´´å›¾å**
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/1aeb30080abbd43c9dd9fffd0fba0c12.png#pic_center)

##### çº¹ç†æè´¨èµ„æºç½‘ç«™

åˆ°è¿™é‡Œå·²ç»ä¸éš¾å‘ç°ï¼Œå†ThreeJSå¼€å‘ä¸­ï¼Œå„ç§å›¾ç‰‡èµ„æºå¯¹äºæœ€ç»ˆçš„æ•ˆæœå‘ˆç°æœ‰ç€ç›¸å½“é‡è¦çš„ä½œç”¨ã€‚
  
è¿™é‡Œæœ‰æ¨ä»‹çš„èµ„æºç½‘ç«™ï¼š

* <https://www.poliigon.com/texture>
  ï¼Œéƒ¨åˆ†æ”¶è´¹
  ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/6f6edbf0b6f182013f00b254867d23ce.png#pic_center)
* <https://3dtextures.me/>
* <http://arroway-textures.ch/textures/>
  ï¼Œæ³¨å†ŒEPIC è™šå¹»å¼•æ“è´¦å·å¯ä»¥å…è´¹è¯•ç”¨èµ„æº

##### çº¹ç†åŠ è½½è¿›åº¦-è®¾ç½®åŠ è½½ç®¡ç†å™¨ LoadingManager

LoadingManager è·Ÿè¸ªå·²åŠ è½½å’Œå¾…åŠ è½½çš„æ•°æ®

```javascript
// 16 è®¾ç½®åŠ è½½ç®¡ç†å™¨LoadingManager   è·Ÿè¸ªå·²åŠ è½½å’Œå¾…åŠ è½½çš„æ•°æ®
let event = {}
event.onLoad = function(){
    console.log('æ‰€æœ‰èµ„æºå›¾ç‰‡åŠ è½½å®Œæˆ')
}
event.onProgress = function(url,num,total){
    console.log(url+'åŠ è½½å®Œæˆ')
    console.log('åŠ è½½è¿›åº¦ï¼š'+num)
    console.log('èµ„æºæ€»æ•°ï¼š'+total)
    console.log('åŠ è½½è¿›åº¦ç™¾åˆ†æ¯”ï¼š'+(num/total*100).toFixed(2)+'%')
}
event.onError = function(e){
    console.log(e)
    console.log('å›¾ç‰‡åŠ è½½é”™è¯¯')
}
const loadingManager = new THREE.LoadingManager(
    event.onLoad,event.onProgress,event.onError
);

// 14 çº¹ç†ä¸æè´¨   çº¹ç†å¸¸ç”¨å±æ€§ æ˜¾ç¤ºç®—æ³• çº¹ç†æè´¨çš„é€æ˜
// å¯¼å…¥çº¹ç† é€šè¿‡å›¾ç‰‡åŠ è½½
const textureLoader = new THREE.TextureLoader(loadingManager);

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/47c23013db3886031cdd35a972cc6789.png#pic_center)

##### ç¯å¢ƒçº¹ç†è´´å›¾ ç‰©ä½“ç¯å¢ƒè´´å›¾ä¸åœºæ™¯ç¯å¢ƒè´´å›¾

åƒé•œå­ä¸€æ · å°†å‘¨å›´åœºæ™¯çš„å›¾åƒæ˜ å°„åœ¨ç‰©ä½“ä¸Š
  
éœ€è¦è®¾ç½®ä¸‰ä¸ªè½´ä¸¤ä¸ªæ–¹å‘ä¸Šçš„å›¾ç‰‡å±æ€§ï¼Œå…±å…­å¼ å›¾ç‰‡ã€‚

```javascript
// 17. ç¯å¢ƒè´´å›¾
const cubeTextureLoader = new THREE.CubeTextureLoader();
const envMapTetxture =  cubeTextureLoader.load([
    require('../assets/imgs/textures/envMapTetxture/px.jpg'),
    require('../assets/imgs/textures/envMapTetxture/nx.jpg'),
    require('../assets/imgs/textures/envMapTetxture/py.jpg'),
    require('../assets/imgs/textures/envMapTetxture/ny.jpg'),
    require('../assets/imgs/textures/envMapTetxture/pz.jpg'),
    require('../assets/imgs/textures/envMapTetxture/nz.jpg'),
])

const spherGeometry = new THREE.SphereBufferGeometry(1,20,20);
const material = new THREE.MeshStandardMaterial({
    metalness:0.7,//15.3 é‡‘å±åº¦  0-1 æ•°å€¼è¶Šå°è¶Šä¸åƒé‡‘å±
    roughness:0.1,//15.2 ç²—ç³™åº¦  0-1 æ•°å€¼è¶Šå°è¶Šå…‰æ»‘
    envMap:envMapTetxture,//17.1  ç‰©ä½“ç¯å¢ƒè´´å›¾
});

//17.2  åœºæ™¯ç¯å¢ƒè´´å›¾  ç¼ºå°‘èµ„æº  å¾…ç»­ã€‚ã€‚ã€‚

const sphere = new THREE.Mesh( spherGeometry, material );// å°†å‡ ä½•ä½“å’Œæè´¨ç»„åˆä¸ºç‰©ä½“
scene.add( sphere );//åœ¨åœºæ™¯ä¸­æ·»åŠ ç‰©ä½“

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/2975b7e8c81b15a84c69d8ba63298233.gif#pic_center)

##### ç¯å¢ƒçº¹ç†è´´å›¾ ç‰©ä½“ç¯å¢ƒè´´å›¾ä¸åœºæ™¯ç¯å¢ƒè´´å›¾

```javascript
//17.2   ç»™åœºæ™¯æ·»åŠ èƒŒæ™¯
scene.background = envMapTetxture;
//17.3   ç»™åœºæ™¯æ‰€æœ‰ç‰©ä½“æ·»åŠ é»˜è®¤çš„ç¯å¢ƒè´´å›¾
scene.environment = envMapTetxture;

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/898e9fc47e026a06872f0deb082acb18.gif#pic_center)

##### ç¯å…‰å±æ€§

å¾…ç»­ã€‚ã€‚ã€‚

**çº¹ç†æè´¨åˆæ­¥å­¦ä¹ å®Œæˆ**
  
**æ€»ç»“:**

* åˆ›å»ºåœºæ™¯
* åˆ›å»ºå¹¶æ·»åŠ ç›¸æœº ã€å¯è®¾ç½®è½¨é“æ§åˆ¶å™¨ä¸é˜»å°¼
* åœ¨åœºæ™¯ä¸­åˆ›å»ºå¹¶æ·»åŠ ç‰©ä½“ã€å¯è®¾ç½®åŠ¨ç”»æ•ˆæœ(ç§»åŠ¨ ç¼©æ”¾ æ—‹è½¬ç­‰)
  + å‡ ä½•ä½“ å¤šä¸ªä¸‰ç»´åæ ‡ç‚¹ç»„æˆä¸€ä¸ªé¢æˆ–äºŒç»´å›¾å½¢ï¼Œå¤šä¸ªé¢ç»„æˆä¸€ä¸ªå‡ ä½•ä½“ã€‚
      
    æ‰‹åŠ¨æ ‡è®°ç‚¹å’Œé¢ç”Ÿæˆæˆ–åˆ©ç”¨å·²æœ‰APIç”Ÿæˆã€‚
  + çº¹ç†ï¼šé€šè¿‡çº¹ç†APIè®¾ç½®çº¹ç†çš„é¢œè‰²ã€å„ç§æ•ˆæœè´´å›¾ã€åç§»ã€æ—‹è½¬ã€é‡å¤ã€é€æ˜è´´å›¾ã€ç¯å¢ƒé®æŒ¡ç­‰ã€‚å¹¶è®¾ç½®çº¹ç†æ˜¾ç¤ºç®—æ³•
  + æè´¨ ï¼šé€šè¿‡ç‰©ç†æ¸²æŸ“ä½¿ç‰©ä½“æ›´çœŸå®ã€‚è®¾ç½®
    **ç¯å…‰**
    å±æ€§çš„ç…§æ˜ä¸åå°„æ•ˆæœï¼Œé˜´å½±ç­‰ï¼›è®¾ç½®
    **ç‰©ä½“**
    è¡¨é¢çš„åŸºç¡€è‰²ã€æ³•çº¿è´´å›¾ã€é«˜å…‰ã€ç²—ç³™åº¦åŠç²—ç³™åº¦è´´å›¾ã€é‡‘å±åº¦åŠé‡‘å±åº¦è´´å›¾ç­‰ã€‚
* è®¾ç½®æ¸²æŸ“å™¨å¹¶æ¸²æŸ“åœºæ™¯ã€ç›‘å¬ç”»é¢å˜åŒ–é‡æ–°æ¸²æŸ“ã€è¾…åŠ©åæ ‡è½´ç­‰
* GUIè½»é‡çº§UIç•Œé¢æ§åˆ¶åº“