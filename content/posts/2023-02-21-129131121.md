---
arturl_encode: "68747470733a2f2f:626c6f672e6373646e2e6e65742f436f6973696e695f67752f:61727469636c652f64657461696c732f313239313331313231"
layout: post
title: "车载网络技术详解-车载网络系统基础您绝不可错过的呕心力作"
date: 2023-02-21 21:17:24 +08:00
description: "文章介绍了车载网络系统从传统的线束连接方式到总线连接方式的演变，以及并行数据传输与串行数据传输的对比"
keywords: "汽车网络"
categories: ['汽车电气与电子架构']
tags: ['网络协议', '系统架构', '信息与通信', '信号处理']
artid: "129131121"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=129131121
    alt: "车载网络技术详解-车载网络系统基础您绝不可错过的呕心力作"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=129131121
featuredImagePreview: https://bing.ee123.net/img/rand?artid=129131121
---

# 车载网络技术详解 —— 车载网络系统基础（✨您绝不可错过的呕心力作✨）

## 一、车载网络系统概述

* **1、线束连接方式对比**
  + 传统线束连接方式 —— 点对点连接

    - 特点：
      * 布线复杂，占用空间大，从而限制功能的拓展
      * 故障率增加，降低汽车的可靠性，故障率增高且排查难度加大
      * 大量的数据传输线，会增加重量和成本
      * 控制器上的针脚数需要不断增加，且会带来更多的干扰。
      * 线路更复杂
      * 如下图：
          
        ![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/0d4426becb797b6d37a8241e7b6f8507.png)
  + **总线连接方式**
    ——
    **指在一条数据线上传递的信号可以被多个系统共享**

    - 特点：
      * 简化线束。减少重量，减少成本，减小尺寸，减少连接器的数量
      * 如下图：
          
        ![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/6a8b5cf389a1ed69bb8a6cad4396f8f8.png)
* **2、信息传递方式对比**
  + 传统线束 —— 并行数据传输方式

    - 特点：
      * 几个信号需要几条信号传输线
      * 信号都属于平行关系，互相之间并没有关联，每个信号都有专属的信号线，多个信号多条线进行
          
        ![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/7a226997cc290f94d92e1ca6c4ac6d29.png)
  + 总线方式 —— 串行数据传输方式

    - 特点：
      * 仅需要1或2条传输线即可
      * 按照内部程序转换为各种数据后，通过1或2条线，在通信线上传输的"0"和"1"的数字信号
          
        ![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/029c1b895ec389dbabb4fb7f0095ba37.png)
  + 传统信号方式和总线方式对比图：
      
    ![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/e8c06ba907469d8d8ee7e3e39b41f4da.png)

## 二、车载网络系统的功能

* **多路传输功能**
  + 同一通道或线路上同时传输多条信息
* **唤醒和休眠功能**
  + 用于减少在关闭点火开关时蓄电池的额外能量消耗
* **失效保护功能**
  + 当系统的CPU发生故障时，硬件失效保护功能使其以固定的信号进行输出，以确保车辆能继续行驶
  + 当系统某控制装置发生故障时，软件失效保护功能将不受来自有故障的控制装置的信号影响，以保证系统能继续工作。
* **故障自诊断功能**
  + 故障自诊断功能包括多路传输通信系统的自诊断模式和各系统输入线路的故障自诊断模式，既能对自身的故障进行自诊断，又能对其他系统进行故障诊断。

## 三、车载网络系统的常用术语

* **数据总线**
  + 可以实现在一条数据线上传递的信号可以被多个系统（控制单元）共享
* **局域网**
  + 汽车上的总线传输系统（车载网络）是一种局域网
* **节点**
  + 在计算机多路传输系统中的控制单元模块被称为节点
* **链路**
  + 有线：双绞线，同轴电缆，光纤
  + 无线：蓝牙
* **比特率**
  + 每秒传送的比特（bit）数。单位为bit/s，也可表示为bps
* **传输协议**
  + 通信协议，是控制通信实体间有效完成信息交换的一组约定和规则。换句话说，要想交流成功，通信双方必须“说同样的语言”（例如相同的语法规则和语速等）。
* **传输仲裁**
  + 避免数据传输冲突，保证信息按其重要程度来发送。

## 四、数据传输方式

* **并行传输**

  + 发送装置向接收装置同时（并行）传输7～8位数据，两个设备之间必须包括7或8根平行排列的导线
      
    ![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/7cc0108ebc40971c4c38ad24f0b79432.png)
* **串行传输**

  + 数据处理设备之间进行数据通信。在1根导线上以位为单位依次（
    **连续形式**
    ）传输所需数据
      
    ![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/2d4ef6a7d7380f52d30e25ab602d0efe.png)
* **同步数据传输**

  + 使用1个共同的时钟脉冲发生器可保持发送装置和接收装置时间管理的同步性
* **异步数据传输**
  （后面CAN总线会详细介绍）

  + 系统通过起始位和停止位识别数据组的开始和结束。只有当接收装置确认已接收到之前的数据后，发送装置才会传输后续的数据
* **单工通信**

  + 在数据总线上，信息流（数据流）只能由一个控制单元传向另一个控制单元，而不能反向传输
      
    ![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/159dffd2f0fda07f781ee6160f4db253.png)
* **双工通信**

  + 在数据总线上，信息流（数据流）可以由一个控制单元传向另一个控制单元，而且可以进行反向传输，则称为双工通信
      
    ![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/6dfe4db2acfdcf1692202b00a4b81a53.png)

## 五、车载网络分类和协议标准

* **汽车网络分类：**

  + **依据通信速率分类，如下图：**
      
    ![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/ed227ad809f43478d900fc6a0307b8ca.png)
    - **图示拆解：**
      * A类：控制模块与智能传感器或智能执行器之间的通信网络，总线主流为
        **LIN**
      * B类：主要应用于车身系统控制，诊断，总线主流为
        **低速CAN**
      * C类：汽车安全相关，动力控制系统、电子制动系统等，总线主流为
        **高速CAN**
      * D类：信息娱乐和远程信息设备，汽车导航系统
        + 低速 —— 远程通信，诊断及通用信息传送，基于IDB-C协议
        + 高速 —— 实时的音频和视频通信，如MP3、DVD和CD等的播放，采用光纤，总线协议：D2B,MOST,IDB-1394
        + 无线 —— 无线通信，采用蓝牙规范
      * E类：安全总线，如安全气囊系统，总线协议：Byteflight
  + **依据传输类型分类：**
    - **CAN（CANFD）**
    - LIN
    - MOST
    - FlexRay
    - 车载以太网
    - **PS**
      ： 总线类型的成本和通信速率消耗图：
        
      ![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/d54101fc98d23d3d005ad2b1d289a316.png)
* **汽车网络总线拓扑图：**

  + **PS**
    ：在汽车中，会有不同的网络并存，因此就要求网络之间可以互相连接，也可以断开。为了实现即插即用，都将各个局域网与总线相连，根据汽车的平台选择并建立所需要的网络。典型的车用网络如图所示：
    ![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/033fd1345795bdf581c3798559c74d36.png)

## 六、数据在总线上的传输

* **比特**
  + 总线导线上的电压电平以相同的时钟节拍切换，则可以在相同时段内表示二进制代码数据
* **总线上的比特编码方法**
  + ps：下面三种方法的区别在于表示一个比特所需要的时段（时间窗）数量不同。
  + **非归零法（NRZ）**
    - 一个时段即可表示一个比特，在整个比特时间内所示比特的电平保持不变（
      **CAN和LIN中使用这种方法**
      ）
  + 曼彻斯特法
  + 脉冲宽度调制法
    - 上面2种，每个比特都包含一次用于总线设备同步的脉冲沿切换
        
      ![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/238e2a10007e0e20ffcf8bd4a2c08bf6.png)
* **信号传输速度**
  + 数据导线上的电压电平按传输二进制数值的规律切换。在此数据接收器必须知道数据发送器让每个比特在数据总线上停留多长时间（直至下一个数值传到数据导线上为止的时间）。这个循环时间是系统的时钟频率。
  + 时间越短，信息传输越快，但是数据发送器和接收器的工作速度也必须越快
      
    ![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/07aa773acf979be0d561c3f608e10453.png)
* **显性比特和隐性比特**
  \*\*\*
  + ps：总线上布置了多个发送器，则同时发送时会造成信息重叠，所以低位（0）覆盖高位（1）所以CAN总线采用仲裁方法来处理。
  + 低位状态称为显性（0）
  + 高位状态称为隐性（1）
* **优先权的仲裁**
  （CAN总线详细介绍）
  + CAN总线以报文为单位进行数据传送，报文的优先级结合在11位标识符中，具有最低二进制数的标识符有最高的优先级。这种优先级一旦在系统设计时被确立后就不能再被更改。
  + 举例：
    - 当3个站同时发送报文时，站1的报文标识符为011111，站2的报文标识符为0100110，站3的报文标识符为0100111。通过比较3个站的报文标识符，发现所有标识符前面2位相同都为01，直到第3位进行比较时，站1的报文被丢掉，因为它的第3位为高，而其他两个站的报文第3位为低；站2和站3报文的4、5、6位相同，直到第7位时，站3的报文才被丢失。

---

**PS1：下一章会详细介绍CAN总线物理层&数据链路层，由浅入深，希望能给您带来帮助
  
PS2：本专栏持续更新中，感谢关注，写的不对的地方，诚挚欢迎您指正，谢谢**
  
![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/7fb906f7346b7d0eea917978754a2c8d.png)