---
layout: post
title: "SSM基础专项复习5Maven私服搭建2"
date: 2025-03-14 00:07:21 +0800
description: "正式开发，不同的项目组开发不同的工程。maven-dao 工程开发完毕，发布到私服maven-service 从私服下载 dao。公司在自己的局域网内搭建自己的远程仓库服务器，称为私服，私服服务器即是公司内部的 maven 远程仓库， 每个员工的电脑上安装 maven 软件并且连接私服服务器，员工将自己开发的项目打成 jar 并发布到私服服务器，其它项目组从私服服务器下载所依赖的构件（jar）。私服还充当一个代理服务器，当私服上没有 jar 包会从互联网中央仓库自动下载。"
keywords: "SSM基础专项复习5——Maven私服搭建（2）"
categories: ['未分类']
tags: ['开发语言', 'Web', 'Spring', 'Maven', 'Java']
artid: "146245188"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146245188
    alt: "SSM基础专项复习5Maven私服搭建2"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146245188
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146245188
cover: https://bing.ee123.net/img/rand?artid=146245188
image: https://bing.ee123.net/img/rand?artid=146245188
img: https://bing.ee123.net/img/rand?artid=146245188
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     SSM基础专项复习5——Maven私服搭建（2）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h3 id="%E2%80%8B%E7%BC%96%E8%BE%91" name="%E2%80%8B%E7%BC%96%E8%BE%91">
     <img alt="" height="314" src="https://i-blog.csdnimg.cn/direct/368c1d9d386f4e54a456c6fcd22ad784.png" width="593"/>
    </h3>
    <h3 id="%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0" name="%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0">
     系列文章
    </h3>
    <p>
     <a href="https://blog.csdn.net/2301_78566776/article/details/145975133?spm=1001.2014.3001.5501" title="1、SSM基础专项复习1——SSM项目整合-CSDN博客">
      1、SSM基础专项复习1——SSM项目整合-CSDN博客
     </a>
    </p>
    <p>
     <a href="https://blog.csdn.net/2301_78566776/article/details/146017984?spm=1001.2014.3001.5501" title="2、SSM基础专项复习2——Spring 框架（1）-CSDN博客">
      2、SSM基础专项复习2——Spring 框架（1）-CSDN博客
     </a>
    </p>
    <p>
     <a href="https://blog.csdn.net/2301_78566776/article/details/146020875?spm=1001.2014.3001.5501" title="3、SSM基础专项复习3——Spring框架（2）-CSDN博客">
      3、SSM基础专项复习3——Spring框架（2）-CSDN博客
     </a>
    </p>
    <p>
     <a href="https://blog.csdn.net/2301_78566776/article/details/145968813?spm=1001.2014.3001.5501" title="4、SSM基础专项复习4——Maven项目管理工具（1）-CSDN博客">
      4、SSM基础专项复习4——Maven项目管理工具（1）-CSDN博客
     </a>
    </p>
    <h4 id="main-toc" name="tableOfContents">
     <strong>
      文章目录
     </strong>
    </h4>
    <hr id="hr-toc" name="tableOfContents"/>
    <h3>
     1、maven 私服介绍
    </h3>
    <h4 id="1.1%20%E7%A7%81%E6%9C%8D%E4%BB%8B%E7%BB%8D" name="1.1%20%E7%A7%81%E6%9C%8D%E4%BB%8B%E7%BB%8D">
     1.1 私服介绍
    </h4>
    <p>
     正式开发，不同的项目组开发不同的工程。maven-dao 工程开发完毕，发布到私服maven-service 从私服下载 dao。
    </p>
    <p>
     公司在自己的局域网内搭建自己的远程仓库服务器，称为私服，私服服务器即是公司内部的 maven 远程仓库， 每个员工的电脑上安装 maven 软件并且连接私服服务器，员工将自己开发的项目打成 jar 并发布到私服服务器，其它项目组从私服服务器下载所依赖的构件（jar）。
    </p>
    <p>
     <span style="color:#4da8ee">
      <strong>
       私服还充当一个代理服务器，当私服上没有 jar 包会从互联网中央仓库自动下载。
      </strong>
     </span>
    </p>
    <p>
     <img alt="" height="207" src="https://i-blog.csdnimg.cn/direct/6b15184b77c14383b1b16751bb0134be.png" width="813"/>
    </p>
    <h4 id="1.2.%20Nexus%20%E4%BB%8B%E7%BB%8D" name="1.2.%20Nexus%20%E4%BB%8B%E7%BB%8D">
     1.2. Nexus 介绍
    </h4>
    <p>
     <span style="color:#ff9900">
      <strong>
       Nexus 是 Maven 仓库管理器
      </strong>
     </span>
     ，通过 nexus 可以搭建 maven 仓库，同时nexus 还提供强大的仓库管理功能，构件搜索功能等。
    </p>
    <h3 id="2%E3%80%81maven%20%E7%A7%81%E6%9C%8D%E5%AE%9E%E6%88%98" name="2%E3%80%81maven%20%E7%A7%81%E6%9C%8D%E5%AE%9E%E6%88%98">
     2、maven 私服实战
    </h3>
    <h4 id="2.1%20nexus%20%E5%AE%89%E8%A3%85" name="2.1%20nexus%20%E5%AE%89%E8%A3%85">
     2.1 nexus 安装
    </h4>
    <p>
     <strong>
      <span style="color:#ff9900">
       这个是nexus官网
      </span>
     </strong>
    </p>
    <p>
     <a class="has-card" href="https://www.sonatype.com/download-nexus-repo-oss?submissionGuid=e225567e-4323-4049-870c-478afc2a7bfe" rel="nofollow" title="Sonatype Nexus Repository Manager Community Edition | Download">
      <span class="link-card-box" contenteditable="false">
       <span class="link-title">
        Sonatype Nexus Repository Manager Community Edition | Download
       </span>
       <span class="link-link">
        <img class="link-link-icon" src="https://csdnimg.cn/release/blog_editor_html/release2.3.8/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=P1C7">
         https://www.sonatype.com/download-nexus-repo-oss?submissionGuid=e225567e-4323-4049-870c-478afc2a7bfe
        </img>
       </span>
      </span>
     </a>
    </p>
    <p>
     解压 nexus-2.12.0-01-bundle.zip 文件，存放到一个不含中文的目录下。查看 conf 文件下的 nexus.properties 配置文件，可以修改对应的配置：
    </p>
    <p>
     <img alt="" height="350" src="https://i-blog.csdnimg.cn/direct/fb7add13ba44475298209ca6a7e7b0ad.png" width="807"/>
    </p>
    <p>
     <strong>
      nexus 的 安 装 命 令 ：
     </strong>
     使 用 管 理 员 运 行 cmd 命令窗口，切换目录nexus\nexus-2.12.0-01\bin 目录下，执行 nexus.bat install 进行安装。执行nexus.bat start 启动服务 执行 nexus.bat stop 停止服务。
    </p>
    <p>
     <strong>
      nexus 的 卸 载 命 令 ：
     </strong>
     使 用 管 理 员 运 行 cmd 命 令窗口，切换目录nexus\nexus-2.12.0-01\bin 目录下，执行 nexus.bat uninstall 进行卸载
    </p>
    <p>
     访问图形化界面：打开浏览器，输入
     <strong>
      <span style="color:#4da8ee">
       http://localhost:端口号/nexus
      </span>
     </strong>
     访问
    </p>
    <p>
     点击 log in，进行登录。
     <span style="color:#1c7331">
      <strong>
       用户名：admin 密码：admin123
      </strong>
     </span>
    </p>
    <h4 id="2.2%20nexus%20%E4%BB%93%E5%BA%93%E7%B1%BB%E5%9E%8B" name="2.2%20nexus%20%E4%BB%93%E5%BA%93%E7%B1%BB%E5%9E%8B">
     2.2 nexus 仓库类型
    </h4>
    <p>
     nexus 提供了不同的仓库类型
    </p>
    <p>
     <img alt="" height="297" src="https://i-blog.csdnimg.cn/direct/50a277284db149f19ffac260aff8b83c.png" width="931"/>
    </p>
    <ol>
     <li>
      <span style="color:#38d8f0">
       <strong>
        hosted，
       </strong>
      </span>
      宿主仓库， 部署自己的 jar 到这个类型的仓库，包括releases 和snapshot 两部分， Releases 公司内部发布版本仓库、 Snapshots 公司内部测试版本仓库
     </li>
     <li>
      <span style="color:#38d8f0">
       <strong>
        proxy，
       </strong>
      </span>
      代理仓库， 用于代理远程的公共仓库，如 maven 中央仓库，用户连接私服，私服自动去中央仓库下载 jar 包或者插件。
     </li>
     <li>
      <strong>
       <span style="color:#38d8f0">
        group，
       </span>
      </strong>
      仓库组，用来合并多个 hosted/proxy 仓库，通常我们配置自己的maven连接仓库组。Group 仓库组也是可以自己进行定制的。
     </li>
     <li>
      <strong>
       <span style="color:#38d8f0">
        virtual(虚拟)，
       </span>
      </strong>
      兼容 Maven1 版本的 jar 或者插件
     </li>
    </ol>
    <h4 id="2.3%20%E5%B0%86%E9%A1%B9%E7%9B%AE%E5%8F%91%E5%B8%83%E5%88%B0%E7%A7%81%E6%9C%8D" name="2.3%20%E5%B0%86%E9%A1%B9%E7%9B%AE%E5%8F%91%E5%B8%83%E5%88%B0%E7%A7%81%E6%9C%8D">
     2.3 将项目发布到私服
    </h4>
    <p>
     需要在客户端即部署要部署的工程电脑上配置 maven 环境，并修改settings.xml 文件， 配置连接私服的用户和密码 。
    </p>
    <p>
     此用户名和密码用于私服校验，因为私服需要知道上传的账号和密码是否和私服中的账号和密码一致。
    </p>
    <p>
     在 servers 节点下进行配置
    </p>
    <pre><code class="language-XML">&lt;!-- 定义稳定版本的 id 名称，用户名密码 --&gt;
&lt;server&gt;
&lt;id&gt;releases&lt;/id&gt;
&lt;username&gt;admin&lt;/username&gt;
&lt;password&gt;admin123&lt;/password&gt;
&lt;/server&gt;
&lt;!-- 定义开发版本的 id 名称，用户名密码 --&gt;
&lt;server&gt;
&lt;id&gt;snapshots&lt;/id&gt;
&lt;username&gt;admin&lt;/username&gt;
&lt;password&gt;admin123&lt;/password&gt;
&lt;/server&gt;</code></pre>
    <p>
     配置项目 pom.xml，配置私服仓库的地址，本公司的自己的 jar 包会上传到私服的宿主仓库，根据工程的版本号决定上传到哪个宿主仓库，如果版本为release 则上传到私服的 release 仓库，如果版本为 snapshot 则上传到私服的 snapshot 仓库。
    </p>
    <pre><code class="language-XML">&lt;distributionManagement&gt;
&lt;repository&gt;
&lt;id&gt;releases&lt;/id&gt;
&lt;url&gt;http://localhost:8079/nexus/content/repositories/releases/&lt;/url&gt;
&lt;/repository&gt;
&lt;snapshotRepository&gt;
&lt;id&gt;snapshots&lt;/id&gt;
&lt;url&gt;http://localhost:8079/nexus/content/repositories/snapshots/&lt;/url&gt;
&lt;/snapshotRepository&gt;
&lt;/distributionManagement&gt;</code></pre>
    <p>
     <span style="color:#fe2c24">
      <strong>
       注意：这里的 id 标签的值要和 settings.xml 配置文件中的id 值保持一致。
      </strong>
     </span>
    </p>
    <p>
     在该工程中执行 deploy 命令，发布项目到私服上。
    </p>
    <p>
     <img alt="" height="319" src="https://i-blog.csdnimg.cn/direct/459342cfe9b045d7a589799f88e42550.png" width="825"/>
    </p>
    <p>
     <strong>
      查看私服结果
     </strong>
    </p>
    <p>
     <img alt="" height="531" src="https://i-blog.csdnimg.cn/direct/77b6156810574407aa1413387dc33381.png" width="815"/>
    </p>
    <p>
     <img alt="" height="311" src="https://i-blog.csdnimg.cn/direct/ef8c195c386a48778130e4fe26143417.png" width="835"/>
    </p>
    <p>
     <strong>
      可以发布 RELEASES 稳定版本的 jar 包到私服。
     </strong>
    </p>
    <p>
     <img alt="" height="394" src="https://i-blog.csdnimg.cn/direct/88c5e09a1f6045c99c7aaef265fd439a.png" width="823"/>
    </p>
    <h4 id="2.4.%20%E4%BB%8E%E7%A7%81%E6%9C%8D%E4%B8%8B%E8%BD%BD%20jar%20%E5%8C%85" name="2.4.%20%E4%BB%8E%E7%A7%81%E6%9C%8D%E4%B8%8B%E8%BD%BD%20jar%20%E5%8C%85">
     2.4. 从私服下载 jar 包
    </h4>
    <p>
     在 settings.xml 配置文件配置私服的镜像文件
    </p>
    <pre><code class="language-XML">&lt;mirror&gt;
&lt;!-- id 名称 --&gt;
&lt;id&gt;nexusmaven&lt;/id&gt;
&lt;!-- 表示拦截所有的请求，都重定向到私服，从私服下载jar 包，私服没有再去中央仓库下载 --&gt;
&lt;mirrorOf&gt;*&lt;/mirrorOf&gt;
&lt;name&gt;nexus maven&lt;/name&gt;
&lt;!-- 私服的组地址 --&gt;
&lt;url&gt;http://localhost:8079/nexus/content/groups/public/&lt;/url&gt;
&lt;/mirror&gt;</code></pre>
    <p>
     <strong>
      进行测试
     </strong>
    </p>
    <p>
     先把自己的某个项目发布到私服中，然后删除掉本地仓库中的jar 包，再使用其他项目去依赖该 jar 包，查看是否从私服中下载。
    </p>
    <p>
     在其他项目中引入该坐标依赖。
    </p>
    <pre><code class="language-XML">&lt;!--依赖 demo1 这个项目--&gt;
&lt;dependencies&gt;
&lt;dependency&gt;
&lt;groupId&gt;cn.tx.maven&lt;/groupId&gt;
&lt;artifactId&gt;txmaven_demo10413&lt;/artifactId&gt;
&lt;version&gt;1.0-RELEASES&lt;/version&gt;
&lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre>
    <p>
     还有一种方式
    </p>
    <p>
     <strong>
      可以配置仓库的方式
     </strong>
     ，可以修改自己项目的 pom 配置文件，添加仓库的配置。
    </p>
    <pre><code class="language-XML">&lt;repositories&gt;
&lt;repository&gt;
&lt;id&gt;nexus&lt;/id&gt;
&lt;name&gt;nexusmaven&lt;/name&gt;
&lt;url&gt;http://localhost:8079/nexus/content/groups/public/&lt;/url&gt;
&lt;releases&gt;
&lt;enabled&gt;true&lt;/enabled&gt;
&lt;/releases&gt;
&lt;snapshots&gt;
&lt;enabled&gt;true&lt;/enabled&gt;
&lt;/snapshots&gt;
&lt;/repository&gt;
&lt;/repositories&gt;
&lt;pluginRepositories&gt;
&lt;pluginRepository&gt;
&lt;id&gt;public&lt;/id&gt;
&lt;url&gt;http://localhost:8079/nexus/content/groups/public/&lt;/url&gt;
&lt;name&gt;pluginRepositories&lt;/name&gt;
&lt;/pluginRepository&gt;
&lt;/pluginRepositories&gt;</code></pre>
    <p>
     上面的方式不是特别的理想，需要在每一个项目的 pom 文件中都添加相同的配置，比较麻烦。
    </p>
    <p>
     <strong>
      可以在 settings.xml 配置文件中添加配置，完成统一的设置。
     </strong>
    </p>
    <pre><code class="language-XML">&lt;!-- 下载 jar 包配置 --&gt;
&lt;profile&gt;
&lt;!--profile 的 id --&gt;
&lt;id&gt;dev&lt;/id&gt;
&lt;repositories&gt;
&lt;repository&gt; &lt;!--仓库 id，repositories 可以配置多个仓库，保证 id 不重复 --&gt;
&lt;id&gt;nexus&lt;/id&gt; &lt;!--仓库地址，即 nexus 仓库组的地址--&gt;&lt;url&gt;http://localhost:8079/nexus/content/groups/public/&lt;/url&gt; &lt;!--是否下载 releases 构件 --&gt;
&lt;releases&gt;
&lt;enabled&gt;true&lt;/enabled&gt;
&lt;/releases&gt; &lt;!--是否下载 snapshots 构件--&gt;
&lt;snapshots&gt;
&lt;enabled&gt;true&lt;/enabled&gt;
&lt;/snapshots&gt;
&lt;/repository&gt;
&lt;/repositories&gt;
&lt;pluginRepositories&gt; &lt;!-- 插件仓库，maven 的运行依赖插件，也
需要从私服下载插件 --&gt;
&lt;pluginRepository&gt; &lt;!-- 插件仓库的 id 不允许重复，如果重复后边配置会覆盖前边 --&gt;
&lt;id&gt;public&lt;/id&gt;
&lt;name&gt;Public Repositories&lt;/name&gt;
&lt;url&gt;http://localhost:8079/nexus/content/groups/public/&lt;/url&gt;
&lt;/pluginRepository&gt;
&lt;/pluginRepositories&gt;
&lt;/profile&gt;</code></pre>
    <p>
     <strong>
      激活配置
     </strong>
    </p>
    <pre><code class="language-XML">&lt;activeProfiles&gt;
&lt;activeProfile&gt;dev&lt;/activeProfile&gt;
&lt;/activeProfiles&gt;</code></pre>
    <p>
     <strong>
      进行测试
     </strong>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330315f37383536363737362f:61727469636c652f64657461696c732f313436323435313838" class_="artid" style="display:none">
 </p>
</div>


