---
layout: post
title: "pyside6å°é¡¹ç›®è¿›åˆ¶è½¬æ¢å™¨"
date: 2025-09-01T23:18:08+0800
description: "æœ¬æ–‡ä»‹ç»äº†ä¸€ä¸ªä½¿ç”¨PySide6å®ç°çš„å•ä½è½¬æ¢å™¨ç¨‹åºçš„ä»£ç åˆ†æä¸ä¿®æ­£ã€‚åŸå§‹ä»£ç å­˜åœ¨ä¸‰ä¸ªä¸»è¦é—®é¢˜ï¼š1)æ§ä»¶è®¿é—®æ–¹å¼ä¸ä¸€è‡´ï¼Œéƒ¨åˆ†ä»£ç ç›´æ¥è®¿é—®æ§ä»¶è€Œéé€šè¿‡self.uiï¼›2)bind()æ–¹æ³•æœªè¢«è°ƒç”¨å¯¼è‡´ä¿¡å·æ§½æœªè¿æ¥ï¼›3)æ§ä»¶åç§°æ‹¼å†™é”™è¯¯ã€‚ä¿®æ­£åçš„ä»£ç ç»Ÿä¸€é€šè¿‡self.uiè®¿é—®æ§ä»¶ï¼Œæ­£ç¡®è°ƒç”¨bind()æ–¹æ³•ï¼Œå¹¶ä¿®æ­£äº†æ‹¼å†™é”™è¯¯ã€‚ç¨‹åºå®ç°äº†é•¿åº¦å’Œé‡é‡å•ä½ä¹‹é—´çš„è½¬æ¢åŠŸèƒ½ï¼ŒåŒ…å«æ•°æ®å­—å…¸åˆå§‹åŒ–ã€UIæ§ä»¶è®¾ç½®å’Œä¿¡å·ç»‘å®šç­‰æ ¸å¿ƒéƒ¨åˆ†ã€‚å…³é”®ä¿®æ­£åŒ…æ‹¬ç»Ÿä¸€æ§ä»¶è®¿é—®è·¯å¾„ã€ç¡®ä¿ä¿¡å·è¿æ¥åŠåç§°æ‹¼å†™å‡†ç¡®ï¼Œæœ€ç»ˆä½¿å•ä½è½¬æ¢åŠŸèƒ½æ­£å¸¸è¿è¡Œã€‚"
keywords: "pyside6å°é¡¹ç›®ï¼šè¿›åˆ¶è½¬æ¢å™¨"
categories: ['æœªåˆ†ç±»']
tags: ['å¼€å‘è¯­è¨€', 'Python']
artid: "151086581"
arturl: "https://blog.csdn.net/2401_84977420/article/details/151086581"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=151086581
    alt: "pyside6å°é¡¹ç›®è¿›åˆ¶è½¬æ¢å™¨"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=151086581
featuredImagePreview: https://bing.ee123.net/img/rand?artid=151086581
cover: https://bing.ee123.net/img/rand?artid=151086581
image: https://bing.ee123.net/img/rand?artid=151086581
img: https://bing.ee123.net/img/rand?artid=151086581
---



# pyside6å°é¡¹ç›®ï¼šè¿›åˆ¶è½¬æ¢å™¨

```
from PySide6.QtUiTools import QUiLoader
from PySide6.QtWidgets import QApplication,QWidget

class MyWindow(QWidget):
    def __init__(self):
        super().__init__()
        self.ui = QUiLoader().load('trans.ui')
        self.ui.show()

        #stor data type dictionary
        self.lengthVar = {'ç±³':100, 'åƒç±³':1000, 'å˜ç±³':1, 'åˆ†ç±³':10}
        self.weightVar = {'å…‹':1, 'åƒå…‹':1000}

        self.TypeDict = {'length':self.lengthVar,'weight':self.weightVar}

        self.ui.dataTypeComboBox.addItems(self.TypeDict.keys())
        self.ui.oneInputComboBox.addItems(self.lengthVar.keys())
        self.ui.twoInputComboBox.addItems(self.lengthVar.keys())

    def bind(self):
        self.dataTypeComboBox.currentTextChanged.connect(self.typeChanged)

        self.calcBtn.clicked.connect(self.calc)

    def calc(self):
        bigType = self.dataTypComboBox.currentText()
        # è·å–ç¬¬ä¸€ä¸ªè¾“å…¥æ¡†çš„å€¼
        value = self.oneInputEditLine.text()
        if value == '':
            return

        currentType  = self.oneInputComboBox.currentText()
        transType = self.twoInputComboBox.currentText()
        standardization = float(value) * self.TypeDict[bigType][currentType]
        result = standardization / self.TypeDict[bigType][transType]

        self.originDataLabel.setText(f'{value} {currentType}')
        self.transDataLabel.setText(f'{result} {transType}')
        self.twoInputEditLine.setText(str(result))

    def typeChanged(self, text):
        self.oneInputComboBox.clear()

        self.twoInputComboBox.clear()
        self.oneInputComboBox.addItems(self.TypeDict[text].keys())
        self.twoInputComboBox.addItems(self.TypeDict[text].keys())

# if __name__ =='name':
app = QApplication([])
window = MyWindow()
app.exec()
```

ä½ ç°åœ¨çš„ä»£ç å¤§è‡´æ€è·¯å¯¹ï¼Œä½†æœ‰å‡ ä¸ªå…³é”®é—®é¢˜ï¼Œå¯¼è‡´è®¡ç®—éƒ¨åˆ†è·‘ä¸èµ·æ¥ï¼š

---

### âŒ 1. æ§ä»¶è®¿é—®æ–¹å¼ä¸ä¸€è‡´

åœ¨ `__init__` é‡Œï¼Œä½ å·²ç»æŠŠ UI åŠ è½½åˆ° `self.ui` é‡Œäº†ï¼š

```
self.ui = QUiLoader().load('trans.ui')

```

ä½†æ˜¯åœ¨åé¢çš„ä»£ç é‡Œï¼Œä½ æœ‰äº›åœ°æ–¹å†™çš„æ˜¯ `self.dataTypeComboBox`ã€`self.calcBtn`ï¼Œè€Œä¸æ˜¯ `self.ui.dataTypeComboBox`ã€‚

ğŸ‘‰ å› ä¸º **æ‰€æœ‰ Designer é‡Œçš„æ§ä»¶éƒ½å±äº `self.ui`**ï¼Œæ‰€ä»¥å¿…é¡»é€šè¿‡ `self.ui.xxx` æ¥è®¿é—®ã€‚

æ¯”å¦‚ï¼š

```
self.dataTypeComboBox.currentTextChanged.connect(self.typeChanged)

```

è¦æ”¹æˆï¼š

```
self.ui.dataTypeComboBox.currentTextChanged.connect(self.typeChanged)

```

åŒæ ·åœ°ï¼Œåœ¨ `calc` é‡Œï¼š

```
bigType = self.dataTypComboBox.currentText()   # âŒ å°‘äº† eï¼Œè¿˜æ²¡åŠ  self.ui

```

è¦æ”¹æˆï¼š

```
bigType = self.ui.dataTypeComboBox.currentText()

```

---

### âŒ 2. `bind()` æ²¡æœ‰è¢«è°ƒç”¨

ä½ å®šä¹‰äº† `bind()` æ–¹æ³•æ¥è¿æ¥ä¿¡å·æ§½ï¼Œä½†æ˜¯åœ¨ `__init__` é‡Œæ²¡æœ‰è°ƒç”¨ã€‚  
 æ‰€ä»¥æŒ‰é’®ç‚¹äº†æ ¹æœ¬ä¸ä¼šè§¦å‘ `calc()`ã€‚

è¦åŠ ä¸€å¥ï¼š

```
self.bind()

```

---

### âŒ 3. æ§ä»¶åå­—å¯èƒ½æ‹¼é”™

åœ¨ `calc()` é‡Œï¼š

```
bigType = self.dataTypComboBox.currentText()

```

è¿™é‡Œåº”è¯¥æ˜¯ `dataTypeComboBox`ï¼Œè€Œä¸æ˜¯ `dataTypComboBox`ï¼ˆå°‘äº†ä¸€ä¸ª `e`ï¼‰ã€‚

---

### âœ… ä¿®æ”¹åçš„ä»£ç 

æˆ‘å¸®ä½ æ•´ç†ä¸€ä»½èƒ½è¿è¡Œçš„ç‰ˆæœ¬ï¼š

```
from PySide6.QtUiTools import QUiLoader
from PySide6.QtWidgets import QApplication, QWidget

class MyWindow(QWidget):
    def __init__(self):
        super().__init__()
        self.ui = QUiLoader().load('trans.ui')
        self.ui.show()

        # å­˜æ”¾æ•°æ®å­—å…¸
        self.lengthVar = {'ç±³':100, 'åƒç±³':1000, 'å˜ç±³':1, 'åˆ†ç±³':10}
        self.weightVar = {'å…‹':1, 'åƒå…‹':1000}

        self.TypeDict = {'length':self.lengthVar, 'weight':self.weightVar}

        # åˆå§‹åŒ–ä¸‹æ‹‰æ¡†
        self.ui.dataTypeComboBox.addItems(self.TypeDict.keys())
        self.ui.oneInputComboBox.addItems(self.lengthVar.keys())
        self.ui.twoInputComboBox.addItems(self.lengthVar.keys())

        # â­ åˆ«å¿˜äº†ç»‘å®šä¿¡å·
        self.bind()

    def bind(self):
        self.ui.dataTypeComboBox.currentTextChanged.connect(self.typeChanged)
        self.ui.calcBtn.clicked.connect(self.calc)

    def calc(self):
        bigType = self.ui.dataTypeComboBox.currentText()

        # è·å–ç¬¬ä¸€ä¸ªè¾“å…¥æ¡†çš„å€¼
        value = self.ui.oneInputEditLine.text()
        if value == '':
            return

        currentType  = self.ui.oneInputComboBox.currentText()
        transType = self.ui.twoInputComboBox.currentText()

        standardization = float(value) * self.TypeDict[bigType][currentType]
        result = standardization / self.TypeDict[bigType][transType]

        self.ui.originDataLabel.setText(f'{value} {currentType} = ')
        self.ui.transDataLabel.setText(f'{result} {transType}')
        self.ui.twoInputEditLine.setText(str(result))

    def typeChanged(self, text):
        self.ui.oneInputComboBox.clear()
        self.ui.twoInputComboBox.clear()
        self.ui.oneInputComboBox.addItems(self.TypeDict[text].keys())
        self.ui.twoInputComboBox.addItems(self.TypeDict[text].keys())

app = QApplication([])
window = MyWindow()
app.exec()

```

ã€‚è‡ªå·±ä¹Ÿï¼Œåœ¨gité‡Œåšäº†ä¸€ä»½ä»£ç [ç‚¹å‡»æŸ¥çœ‹](https://gitee.com/petty_li/dedicate-daily/blob/master/PYQT_stduy/%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2%E5%99%A8/trns_ui_main.py "ç‚¹å‡»æŸ¥çœ‹")

---

### ğŸ”‘ æ€»ç»“

1. ç”¨ QUiLoader åŠ è½½ `.ui` æ—¶ï¼Œæ‰€æœ‰æ§ä»¶éƒ½åœ¨ `self.ui` é‡Œã€‚
2. ä¿¡å·ç»‘å®šå¿…é¡»è°ƒç”¨ï¼Œæ¯”å¦‚ `self.bind()`ã€‚
3. æ³¨æ„æ§ä»¶åæ‹¼å†™ä¸€è‡´ï¼ˆä¸è¦æ¼å­—æ¯ï¼‰ã€‚

---



