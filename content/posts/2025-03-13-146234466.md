---
layout: post
title: "接口测试笔记"
date: 2025-03-13 19:33:36 +0800
description: "Moco支持动态加载配置文件，所以无论是修改还是添加配置文件都是不需要重启服务的。"
keywords: "接口测试笔记"
categories: ['未分类']
tags: ['经验分享', '笔记']
artid: "146234466"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146234466
    alt: "接口测试笔记"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146234466
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146234466
cover: https://bing.ee123.net/img/rand?artid=146234466
image: https://bing.ee123.net/img/rand?artid=146234466
img: https://bing.ee123.net/img/rand?artid=146234466
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     接口测试笔记
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2>
     7、Mock接口框架
    </h2>
    <h3>
     Mock介绍
    </h3>
    <ul>
     <li>
      mock用来模拟接口，这里mock用的是moco框架，moco框架是github上的一个开源项目，可模拟HTTP、HTTPS、Socket协议。
     </li>
    </ul>
    <h4>
     工作原理
    </h4>
    <p>
     <img alt="" height="682" src="https://i-blog.csdnimg.cn/direct/dd677d3e6f764bc78058892e78241fed.png" width="601"/>
    </p>
    <p>
    </p>
    <h4>
     Moco的启动及第一个Demo
    </h4>
    <ul>
     <li>
      创建配置文件startup.json
     </li>
     <li>
      启动服务器
     </li>
    </ul>
    <p>
     java -jar moco-runner-***.jar http -p 9999 -c startup.json
    </p>
    <p>
    </p>
    <h5>
     常用的请求参数
    </h5>
    <ul>
     <li>
      description：请求描述（程序不会识别到）
     </li>
     <li>
      request：请求内容
     </li>
     <li>
      response：响应内容
     </li>
     <li>
      uri：请求的url资源路径
     </li>
     <li>
      method： 请求类型，支持HTTP协议相关的请求类型，如post，get，put，delete等
     </li>
     <li>
      headers：request/response的请求/响应头
     </li>
     <li>
      cookies：接口进行cookie信息的校验
     </li>
     <li>
      queries：get请求的请求参数
     </li>
     <li>
      json：request/response的请求/响应json数据
     </li>
     <li>
      forms：post的表单请求体
     </li>
     <li>
      text：text响应体
     </li>
     <li>
      redirectTo：请求时重定向
     </li>
    </ul>
    <h5>
     Demo
    </h5>
    <p>
     <img alt="" height="428" src="https://i-blog.csdnimg.cn/direct/f0e88dfdaff1456a845f23377a61ad92.png" width="975"/>
    </p>
    <p>
    </p>
    <h5 style="background-color:transparent">
     带参数的get方法实现
    </h5>
    <p>
     Moco支持动态加载配置文件，所以无论是修改还是添加配置文件都是不需要重启服务的
    </p>
    <p>
     <img alt="" height="539" src="https://i-blog.csdnimg.cn/direct/0fec86d4c0f24c0185fdf953763eab11.png" width="711"/>
    </p>
    <p>
    </p>
    <h5>
     正则匹配
    </h5>
    <ul>
     <li>
      \\w 匹配字母、数字、下划线的字符
     </li>
     <li>
      * 表示任意多个字符
     </li>
     <li>
      \\w* 表示任意多个\\w
     </li>
    </ul>
    <p>
     <img alt="" height="523" src="https://i-blog.csdnimg.cn/direct/878e574d46e647d3a0d1e2973dcc66fa.png" width="806"/>
    </p>
    <h6 style="background-color:transparent">
     在moco中配置post请求
    </h6>
    <p>
     <img alt="" height="450" src="https://i-blog.csdnimg.cn/direct/2b9072f8f68641caac4ec4527cc6cda7.png" width="787"/>
    </p>
    <h6>
     请求体为form的post方法实现
    </h6>
    <p>
     <img alt="" height="437" src="https://i-blog.csdnimg.cn/direct/6e5d2ed1c73b40d799be06d24defee66.png" width="686"/>
    </p>
    <h6>
     请求体为json的post方法实现
    </h6>
    <p>
     <img alt="" height="456" src="https://i-blog.csdnimg.cn/direct/90cc4d19f2b040aeb09921fbe15d96f1.png" width="639"/>
    </p>
    <h6>
     带cookies信息的get请求
    </h6>
    <p>
     <img alt="" height="456" src="https://i-blog.csdnimg.cn/direct/141e67cca0384913b5899b76f99bc928.png" width="714"/>
    </p>
    <h6 style="background-color:transparent">
     带cookies信息post请求
    </h6>
    <p>
     <img alt="" height="441" src="https://i-blog.csdnimg.cn/direct/17da4493ca354a5e8ef98dc432d09599.png" width="775"/>
    </p>
    <h6>
     带有headers信息的mock请求
    </h6>
    <p>
     <img alt="" height="462" src="https://i-blog.csdnimg.cn/direct/f1677be2d9fc4da5bc713f6b3c7860d0.png" width="910"/>
    </p>
    <h6>
     实现请求重定向
    </h6>
    <p>
     <img alt="" height="458" src="https://i-blog.csdnimg.cn/direct/e391aa3218cb43d49f9ec05e259699e6.png" width="914"/>
    </p>
    <p>
    </p>
    <h4 style="background-color:transparent">
     全局配置文件
    </h4>
    <p>
     java -jar moco-runner-***.jar  http  -p 9998  -g all.json
    </p>
    <p>
     <img alt="" height="176" src="https://i-blog.csdnimg.cn/direct/4b479d2dce124352814865269cc0bab8.png" width="1180"/>
    </p>
    <p>
     如果响应为空，可以尝试：
     <br/>
     java -jar -Dfile.encoding=UTF-8 moco-runner-1.3.0-standalone.jar http -p 7777 -c getdemo1.json
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f37343330313536362f:61727469636c652f64657461696c732f313436323334343636" class_="artid" style="display:none">
 </p>
</div>


