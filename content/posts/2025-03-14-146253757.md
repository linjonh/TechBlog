---
layout: post
title: "浅谈JMeter之JMeter开启TLSv1.3进行性能测试"
date: 2025-03-14 11:48:59 +0800
description: "通过本文的介绍，您已经掌握了如何在 JMeter 中开启 TLSv1.3 进行性能测试的方法。TLSv1.3 作为最新的安全协议，能够提供更高的安全性和性能优化。在实际测试中，建议结合具体场景和需求，灵活调整测试计划，确保系统在 TLSv1.3 下的表现符合预期。"
keywords: "浅谈JMeter之JMeter开启TLSv1.3进行性能测试"
categories: ['浅谈Jmeter']
tags: ['Jmeter']
artid: "146253757"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146253757
    alt: "浅谈JMeter之JMeter开启TLSv1.3进行性能测试"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146253757
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146253757
cover: https://bing.ee123.net/img/rand?artid=146253757
image: https://bing.ee123.net/img/rand?artid=146253757
img: https://bing.ee123.net/img/rand?artid=146253757
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     浅谈JMeter之JMeter开启TLSv1.3进行性能测试
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-dracula" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="JMeterJMeterTLSv13_0">
     </a>
     浅谈JMeter之JMeter开启TLSv1.3进行性能测试
    </h2>
    <h3>
     <a id="_1">
     </a>
     概述
    </h3>
    <p>
     随着网络安全要求的不断提高，TLS（传输层安全协议）的版本也在不断更新。TLSv1.3 是目前最新的版本，提供了更高的安全性和性能优化。在性能测试中，验证系统在 TLSv1.3 下的表现尤为重要。JMeter 是一款广泛使用的性能测试工具，支持模拟多种协议的网络请求。本文将详细介绍如何在 JMeter 中开启 TLSv1.3 进行性能测试。
    </p>
    <h3>
     <a id="_3">
     </a>
     准备工作
    </h3>
    <ol>
     <li>
      Java版本 安装确保已安装 JMeter，版本建议使用 5.0 以上，因为较新的版本对 TLSv1.3 的支持更好。
     </li>
     <li>
      Java 环境JMeter 依赖于 Java 运行环境，建议使用 Java 8 及以上版本，因为 Java 8 开始支持 TLSv1.3，通过其他资料文献得知，建议Java8版本需要在以下版本上支持。
     </li>
    </ol>
    <pre><code class="prism language-bash"><span class="token function">java</span> <span class="token parameter variable">-version</span>
<span class="token function">java</span> version <span class="token string">"1.8.0_261"</span>
Java<span class="token punctuation">(</span>TM<span class="token punctuation">)</span> SE Runtime Environment <span class="token punctuation">(</span>build <span class="token number">1.8</span>.0_261-b12<span class="token punctuation">)</span>
Java HotSpot<span class="token punctuation">(</span>TM<span class="token punctuation">)</span> <span class="token number">64</span>-Bit Server VM <span class="token punctuation">(</span>build <span class="token number">25.261</span>-b12, mixed mode<span class="token punctuation">)</span>
</code></pre>
    <p>
     另外一种测试方法是写代码进行测试，代码如下：
    </p>
    <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dahua<span class="token punctuation">.</span>demotest</span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>net<span class="token punctuation">.</span>ssl<span class="token punctuation">.</span></span><span class="token class-name">SSLContext</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>net<span class="token punctuation">.</span>ssl<span class="token punctuation">.</span></span><span class="token class-name">SSLParameters</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TLSVersionCheck</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">SSLContext</span> context <span class="token operator">=</span> <span class="token class-name">SSLContext</span><span class="token punctuation">.</span><span class="token function">getDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SSLParameters</span> parameters <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getSupportedSSLParameters</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> protocols <span class="token operator">=</span> parameters<span class="token punctuation">.</span><span class="token function">getProtocols</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Supported TLS versions:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> protocol <span class="token operator">:</span> protocols<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>protocol<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     运行上述结果如下
    </p>
    <pre><code class="prism language-bash">Supported TLS versions:
TLSv1.3
TLSv1.2
TLSv1.1
TLSv1
SSLv3
SSLv2Hello
</code></pre>
    <ol start="3">
     <li>
      目标服务器确保目标服务器支持 TLSv1.3，可以使用工具如 openssl 或在线服务（如 SSL Labs）验证。
     </li>
    </ol>
    <h3>
     <a id="_43">
     </a>
     步骤详解
    </h3>
    <ol>
     <li>
      配置 JMeter 使用 TLSv1.3
      <br/>
      默认情况下，JMeter 会使用 Java 的默认 TLS 配置。为了确保 JMeter 使用 TLSv1.3，需要进行以下配置：
      <br/>
      修改 jmeter.properties 文件
     </li>
     <li>
      找到 JMeter 的安装目录，打开 bin 文件夹。
     </li>
     <li>
      编辑 jmeter.properties 文件，添加或修改以下配置：
     </li>
    </ol>
    <pre><code class="prism language-properties"># Default HTTPS protocol level:
https.default.protocol=TLSv1.3
</code></pre>
    <p>
     设置好以后，重启JMeter工具，然后运行脚本可以看到运行的JMeter日志，可以看到如下信息
     <br/>
     2025-03-14 10:26:35,469 INFO o.a.j.u.JsseSSLManager: Using default SSL protocol: TLSv1.3
     <br/>
     3. 查看结果树，我们可以看到对应的结果https可以正常进行交互。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/e5b9ee41ad584dd5b57249b12d9cbe44.png"/>
    </p>
    <ol start="4">
     <li>
      如果不开启相关配置，我们则会发现交互会报以下错误
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/4b99dd6b006d4a5e8e09e30a9b225207.png"/>
     </li>
    </ol>
    <h3>
     <a id="_61">
     </a>
     常见问题及解决方法
    </h3>
    <ol>
     <li>
      JMeter 无法使用 TLSv1.3
      <br/>
      ● 确保 Java 版本支持 TLSv1.3（Java 8 及以上）。
      <br/>
      ● 检查 jmeter.properties 文件中的配置是否正确。
     </li>
     <li>
      目标服务器不支持 TLSv1.3
      <br/>
      ● 使用 openssl 或在线工具验证目标服务器的 TLS 支持情况。
      <br/>
      ● 如果目标服务器不支持 TLSv1.3，可以尝试升级服务器配置或使用其他协议。
     </li>
    </ol>
    <h3>
     <a id="_68">
     </a>
     总结
    </h3>
    <p>
     通过本文的介绍，您已经掌握了如何在 JMeter 中开启 TLSv1.3 进行性能测试的方法。TLSv1.3 作为最新的安全协议，能够提供更高的安全性和性能优化。在实际测试中，建议结合具体场景和需求，灵活调整测试计划，确保系统在 TLSv1.3 下的表现符合预期。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f753031323135313539342f:61727469636c652f64657461696c732f313436323533373537" class_="artid" style="display:none">
 </p>
</div>


