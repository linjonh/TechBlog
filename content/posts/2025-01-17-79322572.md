---
layout: post
title: "java实现贪吃蛇"
date: 2025-01-17 19:36:45 +0800
description: "import java.awt.Color;import java.awt.GridBagLayou"
keywords: "java贪吃蛇"
categories: ['游戏']
tags: ['无标签']
artid: "79322572"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=79322572
    alt: "java实现贪吃蛇"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=79322572
featuredImagePreview: https://bing.ee123.net/img/rand?artid=79322572
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     java实现贪吃蛇
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    import java.awt.Color;
    <br/>
    import java.awt.GridBagLayout;
    <br/>
    import java.awt.event.KeyEvent;
    <br/>
    import java.awt.event.KeyListener;
    <br/>
    import java.util.LinkedList;
    <br/>
    <br/>
    <br/>
    import javax.swing.JFrame;
    <br/>
    import javax.swing.JLabel;
    <br/>
    import javax.swing.JOptionPane;
    <br/>
    import javax.swing.JPanel;
    <br/>
    <br/>
    <br/>
    public class Work2 extends JFrame {
    <br/>
    <span style="white-space:pre;">
    </span>
    private static LinkedList&lt;Integer&gt; snake = new LinkedList&lt;&gt;();// 蛇的坐标
    <br/>
    <span style="white-space:pre;">
    </span>
    private static LinkedList&lt;JLabel&gt; jLabels = new LinkedList&lt;&gt;();// 蛇身
    <br/>
    <span style="white-space:pre;">
    </span>
    private boolean flag = false;
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    private int dz = 62;// 初始食物坐标
    <br/>
    <span style="white-space:pre;">
    </span>
    private int fx = 1;// 初始方向
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    static {
    <br/>
    <span style="white-space:pre;">
    </span>
    snake.add(61);
    <br/>
    <span style="white-space:pre;">
    </span>
    snake.add(60);// 初始蛇坐标
    <br/>
    <span style="white-space:pre;">
    </span>
    jLabels.add(new JLabel());
    <br/>
    <span style="white-space:pre;">
    </span>
    jLabels.add(new JLabel());// C初始蛇身
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    }
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    public Work2() {
    <br/>
    <span style="white-space:pre;">
    </span>
    this.setTitle("贪吃蛇");
    <br/>
    <span style="white-space:pre;">
    </span>
    this.setSize(415, 438);
    <br/>
    <span style="white-space:pre;">
    </span>
    this.setLocation(100, 90);
    <br/>
    <span style="white-space:pre;">
    </span>
    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    this.setLayout(null);
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    }
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    void init() {
    <br/>
    <span style="white-space:pre;">
    </span>
    JPanel jPanel = new JPanel();// 地图
    <br/>
    <span style="white-space:pre;">
    </span>
    jPanel.setLayout(null);
    <br/>
    <span style="white-space:pre;">
    </span>
    jPanel.setSize(400, 400);
    <br/>
    <span style="white-space:pre;">
    </span>
    jPanel.setLocation(0, 0);
    <br/>
    <span style="white-space:pre;">
    </span>
    jPanel.setBackground(Color.BLACK);
    <br/>
    <span style="white-space:pre;">
    </span>
    JLabel jLabel = new JLabel();// 食物
    <br/>
    <span style="white-space:pre;">
    </span>
    // 通过监听键盘来确定上，下，左，右方向
    <br/>
    <span style="white-space:pre;">
    </span>
    this.addKeyListener(new KeyListener() {
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    @Override
    <br/>
    <span style="white-space:pre;">
    </span>
    public void keyTyped(KeyEvent e) {
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    }
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    @Override
    <br/>
    <span style="white-space:pre;">
    </span>
    public void keyReleased(KeyEvent e) {
    <br/>
    <span style="white-space:pre;">
    </span>
    switch (e.getKeyCode()) {
    <br/>
    <span style="white-space:pre;">
    </span>
    case KeyEvent.VK_DOWN:
    <br/>
    <span style="white-space:pre;">
    </span>
    fx = fx == -20 ? -20 : 20;// 如果方向相反则不变
    <br/>
    <span style="white-space:pre;">
    </span>
    System.out.println("2");
    <br/>
    <span style="white-space:pre;">
    </span>
    break;
    <br/>
    <span style="white-space:pre;">
    </span>
    case KeyEvent.VK_UP:
    <br/>
    <span style="white-space:pre;">
    </span>
    fx = fx == 20 ? 20 : -20;
    <br/>
    <span style="white-space:pre;">
    </span>
    break;
    <br/>
    <span style="white-space:pre;">
    </span>
    case KeyEvent.VK_LEFT:
    <br/>
    <span style="white-space:pre;">
    </span>
    fx = fx == 1 ? 1 : -1;
    <br/>
    <span style="white-space:pre;">
    </span>
    break;
    <br/>
    <span style="white-space:pre;">
    </span>
    case KeyEvent.VK_RIGHT:
    <br/>
    <span style="white-space:pre;">
    </span>
    fx = fx == -1 ? -1 : 1;
    <br/>
    <span style="white-space:pre;">
    </span>
    break;
    <br/>
    <span style="white-space:pre;">
    </span>
    default:
    <br/>
    <span style="white-space:pre;">
    </span>
    break;
    <br/>
    <span style="white-space:pre;">
    </span>
    }
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    }
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    @Override
    <br/>
    <span style="white-space:pre;">
    </span>
    public void keyPressed(KeyEvent e) {
    <br/>
    <span style="white-space:pre;">
    </span>
    // TODO Auto-generated method stub
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    }
    <br/>
    <span style="white-space:pre;">
    </span>
    });
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    jPanel.add(jLabel);
    <br/>
    <span style="white-space:pre;">
    </span>
    jPanel.add(jLabels.get(0));
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    jPanel.add(jLabels.get(1));
    <br/>
    <span style="white-space:pre;">
    </span>
    this.add(jPanel);
    <br/>
    <span style="white-space:pre;">
    </span>
    this.setVisible(true);
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    while (true) {
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    snake.addFirst(snake.get(0) + fx);
    <br/>
    <span style="white-space:pre;">
    </span>
    // 蛇头碰到墙游戏结束
    <br/>
    <span style="white-space:pre;">
    </span>
    if (snake.get(0) &lt; 0 || snake.get(0) &gt; 399 || (fx == 1 &amp;&amp; snake.get(0) % 20 == 0)
    <br/>
    <span style="white-space:pre;">
    </span>
    || (fx == -1 &amp;&amp; snake.get(0) % 20 == 19)) {
    <br/>
    <span style="white-space:pre;">
    </span>
    JOptionPane.showMessageDialog(null, "游戏结束");
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    return;
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    }
    <br/>
    <span style="white-space:pre;">
    </span>
    // 蛇头碰到蛇身
    <br/>
    <span style="white-space:pre;">
    </span>
    for (int i = 1; i &lt; snake.size() - 1; i++) {
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    if (snake.get(0).equals(snake.get(i))) {
    <br/>
    <span style="white-space:pre;">
    </span>
    JOptionPane.showMessageDialog(null, "游戏结束");
    <br/>
    <span style="white-space:pre;">
    </span>
    return;
    <br/>
    <span style="white-space:pre;">
    </span>
    }
    <br/>
    <span style="white-space:pre;">
    </span>
    }
    <br/>
    <span style="white-space:pre;">
    </span>
    // 判读是否吃到食物
    <br/>
    <span style="white-space:pre;">
    </span>
    if (snake.get(0) == dz) {
    <br/>
    <span style="white-space:pre;">
    </span>
    flag = true;
    <br/>
    <span style="white-space:pre;">
    </span>
    // 吃到的操作
    <br/>
    <span style="white-space:pre;">
    </span>
    jLabels.addFirst(new JLabel());
    <br/>
    <span style="white-space:pre;">
    </span>
    jPanel.add(jLabels.get(0));
    <br/>
    <span style="white-space:pre;">
    </span>
    } else {
    <br/>
    <span style="white-space:pre;">
    </span>
    // 没吃的操作
    <br/>
    <span style="white-space:pre;">
    </span>
    snake.removeLast();
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    }
    <br/>
    <span style="white-space:pre;">
    </span>
    for (int i = 0; i &lt; snake.size(); i++) {
    <br/>
    <span style="white-space:pre;">
    </span>
    // 显现蛇
    <br/>
    <span style="white-space:pre;">
    </span>
    drow(jLabels.get(i), snake.get(i), Color.green);
    <br/>
    <span style="white-space:pre;">
    </span>
    }
    <br/>
    <span style="white-space:pre;">
    </span>
    try {
    <br/>
    <span style="white-space:pre;">
    </span>
    // 速度
    <br/>
    <span style="white-space:pre;">
    </span>
    Thread.sleep(200);
    <br/>
    <span style="white-space:pre;">
    </span>
    } catch (InterruptedException e) {
    <br/>
    <span style="white-space:pre;">
    </span>
    // TODO Auto-generated catch block
    <br/>
    <span style="white-space:pre;">
    </span>
    e.printStackTrace();
    <br/>
    <span style="white-space:pre;">
    </span>
    }
    <br/>
    <span style="white-space:pre;">
    </span>
    // 重新产生食物
    <br/>
    <span style="white-space:pre;">
    </span>
    if (flag) {
    <br/>
    <span style="white-space:pre;">
    </span>
    flag = false;
    <br/>
    <span style="white-space:pre;">
    </span>
    while (true) {
    <br/>
    <span style="white-space:pre;">
    </span>
    int random = (int) (Math.random() * 399);
    <br/>
    <span style="white-space:pre;">
    </span>
    if (!snake.
    <span style="color:rgb(0,0,0);font-family:Simsun;font-size:21px;text-align:center;background-color:rgb(249,249,249);">
     <strong>
      contains(random)
     </strong>
    </span>
    ) {
    <br/>
    <span style="white-space:pre;">
    </span>
    dz = random;
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    break;
    <br/>
    <span style="white-space:pre;">
    </span>
    }
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    }
    <br/>
    <span style="white-space:pre;">
    </span>
    drow(jLabel, dz, Color.YELLOW);
    <br/>
    <span style="white-space:pre;">
    </span>
    }
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    }
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    }
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    // 每块蛇身的坐标大小
    <br/>
    <span style="white-space:pre;">
    </span>
    private void drow(JLabel jLabel, int a, Color color) {
    <br/>
    <span style="white-space:pre;">
    </span>
    jLabel.setOpaque(true);
    <br/>
    <span style="white-space:pre;">
    </span>
    jLabel.setBackground(color);
    <br/>
    <span style="white-space:pre;">
    </span>
    jLabel.setSize(18, 18);
    <br/>
    <span style="white-space:pre;">
    </span>
    jLabel.setLocation(a % 20 * 20, a / 20 * 20);
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    }
    <br/>
    <br/>
    <br/>
    <span style="white-space:pre;">
    </span>
    public static void main(String[] args) {
    <br/>
    <span style="white-space:pre;">
    </span>
    new Work2().init();
    <br/>
    <span style="white-space:pre;">
    </span>
    }
    <br/>
    <br/>
    <br/>
    }
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d656e677869616e6773756e:2f61727469636c652f64657461696c732f3739333232353732" class_="artid" style="display:none">
 </p>
</div>


