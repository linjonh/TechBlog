---
layout: post
title: "Kafka精选面试题"
date: 2025-03-10 21:23:38 +0800
description: "幂等性其实是消息的一致性, 生产和消费都只有一次, 所以分为生产者幂等性和消费者幂等性.实际开发过程中, 一般只会保证消费幂等性, 所以面试时直接回答消费幂等就行。零拷贝,顺序读写"
keywords: "Kafka精选面试题"
categories: ['未分类']
tags: ['面试', '分布式', 'Kafka']
artid: "146164361"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146164361
    alt: "Kafka精选面试题"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146164361
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146164361
cover: https://bing.ee123.net/img/rand?artid=146164361
image: https://bing.ee123.net/img/rand?artid=146164361
img: https://bing.ee123.net/img/rand?artid=146164361
---

# Kafka精选面试题

## 1\. 如何保证幂等性?

幂等性其实是消息的一致性, 生产和消费都只有一次, 所以分为生产者幂等性和消费者幂等性.  
实际开发过程中, 一般只会保证消费幂等性, 所以面试时直接回答消费幂等就行  
**做法就是做唯一id, 在消费端做个判断,如果唯一id已存在则不做消费处理, 这个唯一id一般会借用数据库的唯一性**

## 2\. kafka为什么这么快?

**一、磁盘顺序读写**  
**二、Page Cache**  
Kafka利用了操作系统本身的Page Cache，就是利用操作系统自身的内存而不是JVM空间内存  
**三、零拷贝**  
**四、分区分段+索引**  
Kafka的message是按topic分类存储的，topic中的数据又是按照一个一个的partition即分区存储到不同broker节点。每个partition对应了操作系统上的一个文件夹，partition实际上又是按照segment分段存储的。这也非常符合分布式系统分区分桶的设计思想。  
**五、批量读写**  
**六、批量压缩**



