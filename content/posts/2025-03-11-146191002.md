---
layout: post
title: "DeepSeek-API-客户端使用文档"
date: 2025-03-11 22:37:23 +0800
description: "deep.py是一个用于与 DeepSeek API 交互的 Python 客户端封装。它提供了简单易用的接口，支持对话历史管理、日志记录等功能，使得与 DeepSeek API 的交互更加便捷和可靠。"
keywords: "调用deepseek api 操作日志是记录在哪里?"
categories: ['人工智能', 'Python']
tags: ['数据库']
artid: "146191002"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146191002
    alt: "DeepSeek-API-客户端使用文档"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146191002
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146191002
cover: https://bing.ee123.net/img/rand?artid=146191002
image: https://bing.ee123.net/img/rand?artid=146191002
img: https://bing.ee123.net/img/rand?artid=146191002
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     DeepSeek API 客户端使用文档
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-tomorrow-night" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="1__1">
     </a>
     1. 简介
    </h3>
    <p>
     <code>
      deep.py
     </code>
     是一个用于与 DeepSeek API 交互的 Python 客户端封装。它提供了简单易用的接口，支持对话历史管理、日志记录等功能，使得与 DeepSeek API 的交互更加便捷和可靠。
    </p>
    <h3>
     <a id="2__5">
     </a>
     2. 功能特点
    </h3>
    <ul>
     <li>
      简单的接口设计
     </li>
     <li>
      自动管理对话历史
     </li>
     <li>
      完整的日志记录
     </li>
     <li>
      灵活的配置选项
     </li>
     <li>
      异常处理机制
     </li>
    </ul>
    <h3>
     <a id="3__13">
     </a>
     3. 安装依赖
    </h3>
    <pre><code class="prism language-bash">pip <span class="token function">install</span> openai
</code></pre>
    <h3>
     <a id="4__19">
     </a>
     4. 配置环境
    </h3>
    <p>
     在项目根目录创建
     <code>
      .env
     </code>
     文件：
    </p>
    <pre><code class="prism language-env"># Windows
set DEEPSEEK_API_KEY=your_api_key_here

# Linux/Mac
export DEEPSEEK_API_KEY=your_api_key_here
</code></pre>
    <h3>
     <a id="5__31">
     </a>
     5. 代码结构
    </h3>
    <h4>
     <a id="51__33">
     </a>
     5.1 主要组件
    </h4>
    <pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">DeepSeekChat</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> api_key<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> base_url<span class="token punctuation">:</span> <span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"https://api.deepseek.com"</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">send_message</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">str</span>
    <span class="token keyword">def</span> <span class="token function">clear_history</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span>
</code></pre>
    <h4>
     <a id="52__42">
     </a>
     5.2 日志配置
    </h4>
    <pre><code class="prism language-python">logging<span class="token punctuation">.</span>basicConfig<span class="token punctuation">(</span>
    level<span class="token operator">=</span>logging<span class="token punctuation">.</span>INFO<span class="token punctuation">,</span>
    <span class="token builtin">format</span><span class="token operator">=</span><span class="token string">'%(asctime)s - %(levelname)s - %(message)s'</span><span class="token punctuation">,</span>
    handlers<span class="token operator">=</span><span class="token punctuation">[</span>
        logging<span class="token punctuation">.</span>FileHandler<span class="token punctuation">(</span><span class="token string">'deepseek.log'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        logging<span class="token punctuation">.</span>StreamHandler<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="6__55">
     </a>
     6. 使用示例
    </h3>
    <h4>
     <a id="61__57">
     </a>
     6.1 基本使用
    </h4>
    <pre><code class="prism language-python"><span class="token keyword">from</span> deep <span class="token keyword">import</span> DeepSeekChat

<span class="token comment"># 创建客户端实例</span>
chat <span class="token operator">=</span> DeepSeekChat<span class="token punctuation">(</span>api_key<span class="token operator">=</span><span class="token string">"your_api_key"</span><span class="token punctuation">)</span>

<span class="token comment"># 发送消息</span>
response <span class="token operator">=</span> chat<span class="token punctuation">.</span>send_message<span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Assistant:"</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span>
</code></pre>
    <h4>
     <a id="62__70">
     </a>
     6.2 高级配置
    </h4>
    <pre><code class="prism language-python"><span class="token comment"># 自定义系统提示词和其他参数</span>
response <span class="token operator">=</span> chat<span class="token punctuation">.</span>send_message<span class="token punctuation">(</span>
    message<span class="token operator">=</span><span class="token string">"Tell me a joke"</span><span class="token punctuation">,</span>
    system_prompt<span class="token operator">=</span><span class="token string">"You are a funny assistant"</span><span class="token punctuation">,</span>
    temperature<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span>
    max_tokens<span class="token operator">=</span><span class="token number">150</span><span class="token punctuation">,</span>
    save_history<span class="token operator">=</span><span class="token boolean">True</span>
<span class="token punctuation">)</span>

<span class="token comment"># 清除对话历史</span>
chat<span class="token punctuation">.</span>clear_history<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="7_API__86">
     </a>
     7. API 参数说明
    </h3>
    <h4>
     <a id="71_DeepSeekChat__88">
     </a>
     7.1 DeepSeekChat 类初始化参数
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        参数
       </th>
       <th>
        类型
       </th>
       <th>
        默认值
       </th>
       <th>
        说明
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        api_key
       </td>
       <td>
        str
       </td>
       <td>
        必填
       </td>
       <td>
        DeepSeek API 密钥
       </td>
      </tr>
      <tr>
       <td>
        base_url
       </td>
       <td>
        str
       </td>
       <td>
        “https://api.deepseek.com”
       </td>
       <td>
        API 基础 URL
       </td>
      </tr>
     </tbody>
    </table>
    <h4>
     <a id="72_send_message__95">
     </a>
     7.2 send_message 方法参数
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        参数
       </th>
       <th>
        类型
       </th>
       <th>
        默认值
       </th>
       <th>
        说明
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        message
       </td>
       <td>
        str
       </td>
       <td>
        必填
       </td>
       <td>
        用户消息内容
       </td>
      </tr>
      <tr>
       <td>
        system_prompt
       </td>
       <td>
        str
       </td>
       <td>
        “You are a helpful assistant”
       </td>
       <td>
        系统提示词
       </td>
      </tr>
      <tr>
       <td>
        model
       </td>
       <td>
        str
       </td>
       <td>
        “deepseek-chat”
       </td>
       <td>
        使用的模型名称
       </td>
      </tr>
      <tr>
       <td>
        stream
       </td>
       <td>
        bool
       </td>
       <td>
        False
       </td>
       <td>
        是否使用流式响应
       </td>
      </tr>
      <tr>
       <td>
        save_history
       </td>
       <td>
        bool
       </td>
       <td>
        True
       </td>
       <td>
        是否保存对话历史
       </td>
      </tr>
      <tr>
       <td>
        temperature
       </td>
       <td>
        float
       </td>
       <td>
        可选
       </td>
       <td>
        控制回复的随机性
       </td>
      </tr>
      <tr>
       <td>
        max_tokens
       </td>
       <td>
        int
       </td>
       <td>
        可选
       </td>
       <td>
        限制回复长度
       </td>
      </tr>
     </tbody>
    </table>
    <h3>
     <a id="8__107">
     </a>
     8. 日志记录
    </h3>
    <p>
     日志文件
     <code>
      deepseek.log
     </code>
     记录以下信息：
    </p>
    <ul>
     <li>
      请求发送时间和内容
     </li>
     <li>
      响应接收时间和处理时长
     </li>
     <li>
      错误信息（如果有）
     </li>
    </ul>
    <h3>
     <a id="9__114">
     </a>
     9. 错误处理
    </h3>
    <p>
     代码包含完整的错误处理机制：
    </p>
    <ul>
     <li>
      API 调用错误捕获
     </li>
     <li>
      环境变量检查
     </li>
     <li>
      详细的错误日志记录
     </li>
    </ul>
    <h3>
     <a id="10__121">
     </a>
     10. 最佳实践
    </h3>
    <ol>
     <li>
      <p>
       <strong>
        环境变量管理
       </strong>
      </p>
      <ul>
       <li>
        使用
        <code>
         .env
        </code>
        文件管理 API 密钥
       </li>
       <li>
        不要在代码中硬编码密钥
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        错误处理
       </strong>
      </p>
      <ul>
       <li>
        始终使用 try-except 块包装 API 调用
       </li>
       <li>
        检查并记录错误信息
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        对话历史
       </strong>
      </p>
      <ul>
       <li>
        根据需要保存或清除对话历史
       </li>
       <li>
        长对话时注意 token 限制
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        性能优化
       </strong>
      </p>
      <ul>
       <li>
        适当设置 max_tokens 参数
       </li>
       <li>
        必要时使用流式响应
       </li>
      </ul>
     </li>
    </ol>
    <h3>
     <a id="11__139">
     </a>
     11. 注意事项
    </h3>
    <ol>
     <li>
      <p>
       API 密钥安全
      </p>
      <ul>
       <li>
        不要将 API 密钥提交到版本控制系统
       </li>
       <li>
        使用环境变量或配置文件管理密钥
       </li>
      </ul>
     </li>
     <li>
      <p>
       错误处理
      </p>
      <ul>
       <li>
        注意处理网络超时等异常
       </li>
       <li>
        记录详细的错误日志
       </li>
      </ul>
     </li>
     <li>
      <p>
       资源管理
      </p>
      <ul>
       <li>
        及时清理不需要的对话历史
       </li>
       <li>
        注意 API 调用频率限制
       </li>
      </ul>
     </li>
    </ol>
    <h3>
     <a id="12__153">
     </a>
     12. 完整代码
    </h3>
    <pre><code class="prism language-python"><span class="token keyword">import</span> os
<span class="token keyword">from</span> typing <span class="token keyword">import</span> List<span class="token punctuation">,</span> Dict<span class="token punctuation">,</span> Optional
<span class="token keyword">from</span> openai <span class="token keyword">import</span> OpenAI
<span class="token keyword">import</span> logging
<span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime

<span class="token comment"># 配置日志记录</span>
logging<span class="token punctuation">.</span>basicConfig<span class="token punctuation">(</span>
    level<span class="token operator">=</span>logging<span class="token punctuation">.</span>INFO<span class="token punctuation">,</span>
    <span class="token builtin">format</span><span class="token operator">=</span><span class="token string">'%(asctime)s - %(levelname)s - %(message)s'</span><span class="token punctuation">,</span>
    handlers<span class="token operator">=</span><span class="token punctuation">[</span>
        logging<span class="token punctuation">.</span>FileHandler<span class="token punctuation">(</span><span class="token string">'deepseek.log'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        logging<span class="token punctuation">.</span>StreamHandler<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">)</span>
logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">DeepSeekChat</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""DeepSeek API 聊天客户端"""</span>
    
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> api_key<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> base_url<span class="token punctuation">:</span> <span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"https://api.deepseek.com"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        初始化 DeepSeek 聊天客户端
        
        Args:
            api_key: DeepSeek API密钥
            base_url: DeepSeek API基础URL
        """</span>
        self<span class="token punctuation">.</span>client <span class="token operator">=</span> OpenAI<span class="token punctuation">(</span>api_key<span class="token operator">=</span>api_key<span class="token punctuation">,</span> base_url<span class="token operator">=</span>base_url<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>conversation_history<span class="token punctuation">:</span> List<span class="token punctuation">[</span>Dict<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        
    <span class="token keyword">def</span> <span class="token function">send_message</span><span class="token punctuation">(</span>
        self<span class="token punctuation">,</span> 
        message<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span>
        system_prompt<span class="token punctuation">:</span> <span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"You are a helpful assistant"</span><span class="token punctuation">,</span>
        model<span class="token punctuation">:</span> <span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"deepseek-chat"</span><span class="token punctuation">,</span>
        stream<span class="token punctuation">:</span> <span class="token builtin">bool</span> <span class="token operator">=</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
        save_history<span class="token punctuation">:</span> <span class="token builtin">bool</span> <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
        <span class="token operator">**</span>kwargs
    <span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        发送消息并获取回复
        
        Args:
            message: 用户消息内容
            system_prompt: 系统提示词
            model: 使用的模型名称
            stream: 是否使用流式响应
            save_history: 是否保存对话历史
            **kwargs: 其他API参数

        Returns:
            str: 助手的回复内容

        Raises:
            Exception: API调用失败时抛出异常
        """</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            <span class="token comment"># 构建消息列表</span>
            messages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"system"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> system_prompt<span class="token punctuation">}</span><span class="token punctuation">]</span>
            <span class="token keyword">if</span> save_history<span class="token punctuation">:</span>
                messages<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>self<span class="token punctuation">.</span>conversation_history<span class="token punctuation">)</span>
            messages<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> message<span class="token punctuation">}</span><span class="token punctuation">)</span>
            
            <span class="token comment"># 记录请求</span>
            logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Sending message: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>message<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token format-spec">100]</span><span class="token punctuation">}</span></span><span class="token string">..."</span></span><span class="token punctuation">)</span>
            
            <span class="token comment"># 发送请求</span>
            start_time <span class="token operator">=</span> datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
            response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>chat<span class="token punctuation">.</span>completions<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
                model<span class="token operator">=</span>model<span class="token punctuation">,</span>
                messages<span class="token operator">=</span>messages<span class="token punctuation">,</span>
                stream<span class="token operator">=</span>stream<span class="token punctuation">,</span>
                <span class="token operator">**</span>kwargs
            <span class="token punctuation">)</span>
            
            <span class="token comment"># 获取响应内容</span>
            assistant_message <span class="token operator">=</span> response<span class="token punctuation">.</span>choices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>message<span class="token punctuation">.</span>content
            
            <span class="token comment"># 计算响应时间</span>
            response_time <span class="token operator">=</span> <span class="token punctuation">(</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start_time<span class="token punctuation">)</span><span class="token punctuation">.</span>total_seconds<span class="token punctuation">(</span><span class="token punctuation">)</span>
            logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Got response in </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>response_time<span class="token punctuation">:</span><span class="token format-spec">.2f</span><span class="token punctuation">}</span></span><span class="token string"> seconds"</span></span><span class="token punctuation">)</span>
            
            <span class="token comment"># 保存对话历史</span>
            <span class="token keyword">if</span> save_history<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>conversation_history<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> message<span class="token punctuation">}</span><span class="token punctuation">)</span>
                self<span class="token punctuation">.</span>conversation_history<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"assistant"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> assistant_message<span class="token punctuation">}</span><span class="token punctuation">)</span>
            
            <span class="token keyword">return</span> assistant_message
            
        <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
            logger<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Error in send_message: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token builtin">str</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
            <span class="token keyword">raise</span>
    
    <span class="token keyword">def</span> <span class="token function">clear_history</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""清除对话历史"""</span>
        self<span class="token punctuation">.</span>conversation_history<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span>
        logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">"Conversation history cleared"</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""示例用法"""</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        <span class="token comment"># 从环境变量获取API密钥</span>
        api_key <span class="token operator">=</span> os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">"DEEPSEEK_API_KEY"</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> api_key<span class="token punctuation">:</span>
            <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">"Please set DEEPSEEK_API_KEY environment variable"</span><span class="token punctuation">)</span>
        
        <span class="token comment"># 创建聊天客户端</span>
        chat <span class="token operator">=</span> DeepSeekChat<span class="token punctuation">(</span>api_key<span class="token operator">=</span>api_key<span class="token punctuation">)</span>
        
        <span class="token comment"># 发送消息并获取回复</span>
        response <span class="token operator">=</span> chat<span class="token punctuation">.</span>send_message<span class="token punctuation">(</span>
            message<span class="token operator">=</span><span class="token string">"Hello"</span><span class="token punctuation">,</span>
            temperature<span class="token operator">=</span><span class="token number">0.7</span><span class="token punctuation">,</span>  <span class="token comment"># 可选：控制回复的随机性</span>
            max_tokens<span class="token operator">=</span><span class="token number">100</span>    <span class="token comment"># 可选：限制回复长度</span>
        <span class="token punctuation">)</span>
        
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Assistant:"</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span>
        
    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        logger<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Error in main: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token builtin">str</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
        <span class="token keyword">raise</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    main<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     .env
    </p>
    <pre><code class="prism language-bash"><span class="token comment"># Windows</span>
<span class="token builtin class-name">set</span> <span class="token assign-left variable">DEEPSEEK_API_KEY</span><span class="token operator">=</span>your_api_key_here

<span class="token comment"># Linux/Mac</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">DEEPSEEK_API_KEY</span><span class="token operator">=</span>your_api_key_here
</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="6874747073:3a2f2f626c6f672e6373646e2e6e65742f687a65746865722f:61727469636c652f64657461696c732f313436313931303032" class_="artid" style="display:none">
 </p>
</div>


