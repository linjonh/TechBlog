---
layout: post
title: "打造高性能的react"
date: 2025-03-14 13:27:43 +0800
description: "useMemo其实就是更细致话的memo，React.memo 控制是否需要重渲染一个组件，而 useMemo 控制的则是是否需要重复执行某一段逻辑。为了解决这类问题，引入了Immutablejs，持久性数据的库，只要这个数据被创造出来，就不能被更改，更改的话就会返回一个新对象。shouldComponentUpdate触发的条件是只要父组件更新了，就会被触发，在里面判断传入的pros是否改变，基本数据类型会判断其是否相等，引用数据类型会判断其对象地址是否变化，带来的问题就是，引用数据类型。"
keywords: "打造高性能的react"
categories: ['未分类']
tags: ['React']
artid: "146255257"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146255257
    alt: "打造高性能的react"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146255257
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146255257
cover: https://bing.ee123.net/img/rand?artid=146255257
image: https://bing.ee123.net/img/rand?artid=146255257
img: https://bing.ee123.net/img/rand?artid=146255257
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     打造高性能的react
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     根本目的就是减少重复渲染
     <br/>
     使用使用 shouldComponentUpdate 规避冗余的更新逻辑
     <br/>
     shouldComponentUpdate触发的条件是只要父组件更新了，就会被触发，在里面判断传入的pros是否改变，
     <br/>
     不变则返回false
     <br/>
     PureComponent + Immutable.js
     <br/>
     PureComponent其实就是内置了对shouldComponentUpdate的实现，不过其对props的比对是浅比较，
     <br/>
     基本数据类型会判断其是否相等，引用数据类型会判断其对象地址是否变化，带来的问题就是，引用数据类型
     <br/>
     内置的数据变化了，但是却没有更新或者是引用类型数据不变但是其地址变化了，触发不必要的更新。
     <br/>
     为了解决这类问题，引入了Immutablejs，持久性数据的库，只要这个数据被创造出来，就不能被更改，更改的话就会返回一个新对象
    </p>
    <p>
     React.memo 与 useMemo
     <br/>
     memo是函数版的shouldComponentUpdate，第二个参数就是shouldComponentUpdate，在里面对比props，
     <br/>
     不传入的时候就是类似PureComponent，进行浅比较
     <br/>
     useMemo其实就是更细致话的memo，React.memo 控制是否需要重渲染一个组件，而 useMemo 控制的则是是否需要重复执行某一段逻辑
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f35393037303132302f:61727469636c652f64657461696c732f313436323535323537" class_="artid" style="display:none">
 </p>
</div>


