---
layout: post
title: "物联网核心之MQTT一"
date: 2025-01-24 12:57:10 +0800
description: "物联网核心之MQTT（一）       MQTT，目前物联网的最主要的协议，基本所有收费的云平台都是"
keywords: "机智云mqtt"
categories: ['Iot']
tags: ['无标签']
artid: "77489890"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=77489890
    alt: "物联网核心之MQTT一"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=77489890
featuredImagePreview: https://bing.ee123.net/img/rand?artid=77489890
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     物联网核心之MQTT（一）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <span style='word-wrap:break-word; outline:none; font-weight:700; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     <span style="word-wrap:break-word; outline:none">
      <span style="font-family:宋体; word-wrap:break-word; outline:none">
       <span style="word-wrap:break-word; outline:none; font-size:22pt">
        <span style="font-family:宋体; word-wrap:break-word; outline:none">
         物联网核心之
        </span>
        MQTT
        <span style="font-family:宋体; word-wrap:break-word; outline:none">
         （一）
        </span>
       </span>
      </span>
     </span>
    </span>
    <div align="left" style='word-wrap:break-word; outline:none; word-break:break-all; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     MQTT
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      ，目前物联网的最主要的协议，基本所有收费的云平台都是基于
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      协议，比如机智云，和所有的开放云平台比如中国移动的
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      oneNet
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      、百度的云平台也都支持
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      的接入。虽然
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      很火，但是目前对
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      的很少，尤其是在如何移植到嵌入式上来。大部分的平台商的做法都是跟模块商合作把
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      协议集成到
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      WiFi
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      模块跟
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      GPRS
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      模块里面，捆绑一销售，不让用户过多的了解物联网最核心的东西。
     </span>
    </div>
    <div align="left" style='word-wrap:break-word; outline:none; word-break:break-all; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      在还没有深入去了解
     </span>
     MQTT
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      协议之前，总以为是非常复杂的东西，毕竟之前一直想深入，但无奈在浩淼的网络里居然找不到太多实质的资料。随时自己对物联网的不断探索，越来越了解整个物联网的架构，对
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      了解越来越深入。在这篇文章中将带大家先了解
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      的协议，在后面的文章，再带大家怎么移植
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      到
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      STM32
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      上，再到怎么搭建自己的
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      服务器。
     </span>
    </div>
    <div align="left" style='word-wrap:break-word; outline:none; word-break:break-all; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     MQTT
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      的基础知识这些大家通过百度知道都可以了解到，这里主要深入去剖析
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      协议的整个通信流程。整个
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      的知识大家可以去附件里的《
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT OneNET
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      实现
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      .docx
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      》，这个文档已经写的非常详细，但是如果只是看文字话，大家很难理解。因此我们借助
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      Windows
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      下的
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      客户端
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT.fx
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      跟网络抓包工具
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      Wireshark
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      来一步步分析
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      。
     </span>
    </div>
    <table cellspacing="0" class="t_table" style='word-wrap:break-word; outline:none; empty-cells:show; border-collapse:collapse; border:1px solid rgb(227,237,245); table-layout:auto; width:1472px; color:rgb(0,0,0); font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     <tbody style="word-wrap:break-word; outline:none">
      <tr style="word-wrap:break-word; outline:none">
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="110">
        <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
         名字
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="40">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          <span style="font-family:宋体; word-wrap:break-word; outline:none">
           值
          </span>
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="143">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          流向
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="319">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          描述
         </div>
        </div>
       </td>
      </tr>
      <tr style="word-wrap:break-word; outline:none">
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="110">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          CONNECT
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="40">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          1
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="143">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          C-&gt;S
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="319">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          客户端请求与服务端建立连接
         </div>
        </div>
       </td>
      </tr>
      <tr style="word-wrap:break-word; outline:none">
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="110">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          CONNACK
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="40">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          2
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="143">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          S-&gt;C
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="319">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          服务端确认连接建立
         </div>
        </div>
       </td>
      </tr>
      <tr style="word-wrap:break-word; outline:none">
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="110">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          PUBLISH
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="40">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          3
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="143">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          C
          <span style="font-family:Wingdings; word-wrap:break-word; outline:none">
           ó
          </span>
          S
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="319">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          发布消息
         </div>
        </div>
       </td>
      </tr>
      <tr style="word-wrap:break-word; outline:none">
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="110">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          PUBACK
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="40">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          4
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="143">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          C
          <span style="font-family:Wingdings; word-wrap:break-word; outline:none">
           ó
          </span>
          S
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="319">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          收到发布消息确认
         </div>
        </div>
       </td>
      </tr>
      <tr style="word-wrap:break-word; outline:none">
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="110">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          PUBREC
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="40">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          5
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="143">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          C
          <span style="font-family:Wingdings; word-wrap:break-word; outline:none">
           ó
          </span>
          S
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="319">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          发布消息收到
         </div>
        </div>
       </td>
      </tr>
      <tr style="word-wrap:break-word; outline:none">
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="110">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          PUBREL
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="40">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          6
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="143">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          C
          <span style="font-family:Wingdings; word-wrap:break-word; outline:none">
           ó
          </span>
          S
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="319">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          发布消息释放
         </div>
        </div>
       </td>
      </tr>
      <tr style="word-wrap:break-word; outline:none">
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="110">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          PUBCOMP
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="40">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          7
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="143">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          C
          <span style="font-family:Wingdings; word-wrap:break-word; outline:none">
           ó
          </span>
          S
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="319">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          发布消息完成
         </div>
        </div>
       </td>
      </tr>
      <tr style="word-wrap:break-word; outline:none">
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="110">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          SUBSCRIBE
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="40">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          8
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="143">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          C-&gt;S
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="319">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          订阅请求
          <span style="font-family:Calibri; word-wrap:break-word; outline:none">
          </span>
         </div>
        </div>
       </td>
      </tr>
      <tr style="word-wrap:break-word; outline:none">
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="110">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          SUBACK
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="40">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          9
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="143">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          S-&gt;C
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="319">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          订阅确认
         </div>
        </div>
       </td>
      </tr>
      <tr style="word-wrap:break-word; outline:none">
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="110">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          UNSUBSCRIBE
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="40">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          10
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="143">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          C-&gt;S
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="319">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          取消订阅
         </div>
        </div>
       </td>
      </tr>
      <tr style="word-wrap:break-word; outline:none">
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="110">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          UNSUBACK
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="40">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          11
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="143">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          S-&gt;C
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="319">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          取消订阅确认
         </div>
        </div>
       </td>
      </tr>
      <tr style="word-wrap:break-word; outline:none">
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="110">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          PING
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="40">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          12
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="143">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          C-&gt;S
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="319">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          客户端发送
          <span style="font-family:Times New Roman; word-wrap:break-word; outline:none">
           PING(
          </span>
          <span style="font-family:宋体; word-wrap:break-word; outline:none">
           连接保活
          </span>
          <span style="font-family:Times New Roman; word-wrap:break-word; outline:none">
           )
          </span>
          <span style="font-family:宋体; word-wrap:break-word; outline:none">
           命令
          </span>
         </div>
        </div>
       </td>
      </tr>
      <tr style="word-wrap:break-word; outline:none">
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="110">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          PINGRSP
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="40">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          13
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="143">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          S-&gt;C
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="319">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          PING
          <span style="font-family:宋体; word-wrap:break-word; outline:none">
           命令回复
          </span>
         </div>
        </div>
       </td>
      </tr>
      <tr style="word-wrap:break-word; outline:none">
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="110">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          DISCONNECT
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="40">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          14
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="143">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          C-&gt;S
         </div>
        </div>
       </td>
       <td style="word-wrap:break-word; outline:none; word-break:break-all; font-size:15px; padding:4px; border:1px solid rgb(227,237,245); overflow:hidden" width="319">
        <div align="right" style="word-wrap:break-word; outline:none; word-break:break-all">
         <div align="left" style="word-wrap:break-word; outline:none; word-break:break-all">
          断开连接
         </div>
        </div>
       </td>
      </tr>
     </tbody>
    </table>
    <div align="left" style='word-wrap:break-word; outline:none; word-break:break-all; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      上面是
     </span>
     MQTT
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      的主要的通信协议，
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      是基于
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      TCP
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      长连接，首先是先跟
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      服务器建立
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      TCP
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      连接，然后发送登录请求，要保持长连接，还要定时发心跳包跟服务保持连接。我们先用
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT.fx
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      来登录开源的
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      服务看看。
     </span>
    </div>
    <div align="left" style='word-wrap:break-word; outline:none; word-break:break-all; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     <img alt="" class="zoom" id="aimg_97426" src="https://i-blog.csdnimg.cn/blog_migrate/f9df964dbc18543e1f4733355afe2573.jpeg" style="word-wrap:break-word; outline:none" width="768">
     </img>
    </div>
    <div align="left" style='word-wrap:break-word; outline:none; word-break:break-all; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      安装好
     </span>
     MQTT.fx(
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      注意
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT.fx
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      是
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      java
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      开发的，电脑要安装
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      JDK
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      才能安装打开）
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      ,
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      一打开里面就默认有一个开源的
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      服务
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      M2M Eclipse
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      。点开旁边的齿轮（设置按钮）可以看服务器的域名
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      m2m.eclipse.org
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      ，端口号
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      1833
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      （
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      的默认端口号），下面还有个
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      Keep Alive Interval
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      就是心跳的时间。再打开
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      Wireshark
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      ，选择要捕获的网络接口，
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      <span style="font-family:宋体; word-wrap:break-word; outline:none">
       <span style="word-wrap:break-word; outline:none; font-size:10.5pt">
        然后再过滤器输入
       </span>
      </span>
     </span>
     tcp.port==1883
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      <span style="font-family:宋体; word-wrap:break-word; outline:none">
       <span style="word-wrap:break-word; outline:none; font-size:10.5pt">
        后回车，只捕获
       </span>
      </span>
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      <span style="word-wrap:break-word; outline:none; font-size:10.5pt">
       1883
      </span>
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      <span style="font-family:宋体; word-wrap:break-word; outline:none">
       <span style="word-wrap:break-word; outline:none; font-size:10.5pt">
        这个端口号的数据包。再点下
       </span>
      </span>
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      <span style="word-wrap:break-word; outline:none; font-size:10.5pt">
       MQTT.fx
      </span>
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      <span style="font-family:宋体; word-wrap:break-word; outline:none">
       <span style="word-wrap:break-word; outline:none; font-size:10.5pt">
        的
       </span>
      </span>
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      <span style="word-wrap:break-word; outline:none; font-size:10.5pt">
       Connect
      </span>
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      <span style="font-family:宋体; word-wrap:break-word; outline:none">
       <span style="word-wrap:break-word; outline:none; font-size:10.5pt">
        连接服务器，就可以看到
       </span>
      </span>
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      <span style="word-wrap:break-word; outline:none; font-size:10.5pt">
       Wireshark
      </span>
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      <span style="font-family:宋体; word-wrap:break-word; outline:none">
       <span style="word-wrap:break-word; outline:none; font-size:10.5pt">
        捕到的数据
       </span>
      </span>
     </span>
    </div>
    <div align="left" style='word-wrap:break-word; outline:none; word-break:break-all; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     <img alt="" class="zoom" id="aimg_97427" src="https://i-blog.csdnimg.cn/blog_migrate/a6e4e454b3537032f51a6934d2f0c870.jpeg" style="word-wrap:break-word; outline:none" width="400">
     </img>
    </div>
    <div align="left" style='word-wrap:break-word; outline:none; word-break:break-all; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     <img alt="" class="zoom" id="aimg_97430" src="https://i-blog.csdnimg.cn/blog_migrate/2dac7908a22a8301f674a706a7c172f8.jpeg" style="word-wrap:break-word; outline:none" width="768">
     </img>
    </div>
    <div align="left" style='word-wrap:break-word; outline:none; word-break:break-all; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      可以看到
     </span>
     MQTT
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      协议中本地给服务器发送了一个
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      Connect
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      登录请求，然后，服务器回应一个
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      ACK
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      ，表示登录成功。再双击
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      Connect Command
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      这条数据包，我们可以看到详细的数据包数据
     </span>
    </div>
    <div align="left" style='word-wrap:break-word; outline:none; word-break:break-all; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     <img alt="" class="zoom" id="aimg_97431" src="https://i-blog.csdnimg.cn/blog_migrate/8935890d23aa192e88b9eb22f7ee366d.jpeg" style="word-wrap:break-word; outline:none" width="768">
     </img>
    </div>
    <div align="left" style='word-wrap:break-word; outline:none; word-break:break-all; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      上面的解析出来的
     </span>
     MQTT
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      协议包的内部，下面是对应的二进制数据，这里我们可以对照附件上资料去了解协议的内容。看这里，大家想是不是如果自己用
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      TCP
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      ，再封装发送下面的二进制数据就可以完成
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      的登录了呢？拿出网络调试助手来，
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      ping
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      下
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      m2m.eclipse.org
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      得到
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      IP
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      地址，用端口号
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      1883
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      连接，然后发送
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      Wireshark
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      捕到的
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      登录协议的二进制数据，可以看到到服务器回应了
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      20 02 00 00
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      表示登录成功。
     </span>
    </div>
    <div align="left" style='word-wrap:break-word; outline:none; word-break:break-all; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     <img alt="" class="zoom" id="aimg_97433" src="https://i-blog.csdnimg.cn/blog_migrate/e2ae6fe6ab889f297ac8e8b6f72f2bfb.jpeg" style="word-wrap:break-word; outline:none" width="768">
     </img>
    </div>
    <div align="left" style='word-wrap:break-word; outline:none; word-break:break-all; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      再往下
     </span>
     Wireshark
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      捕到的数据包，可以看到每隔一定的时间，本地向服务器发送
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      Ping Request
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      心跳包，相应的服务器也会回应
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      Ping Response
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      。
     </span>
    </div>
    <div align="left" style='word-wrap:break-word; outline:none; word-break:break-all; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     <img alt="" class="zoom" id="aimg_97432" src="https://i-blog.csdnimg.cn/blog_migrate/13869924e76f089f77a3486602ecf4b5.jpeg" style="word-wrap:break-word; outline:none" width="768">
     </img>
    </div>
    <div align="left" style='word-wrap:break-word; outline:none; word-break:break-all; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      接下来看
     </span>
     MQTT
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      最核心的传输协议
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      Subcribe
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      （定阅）和
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      Publish
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      （推送）。简单来说就是客户端口（比如物联网硬件）
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      Subcribe
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      一个
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      topic
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      （主题
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      )
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      后，其它的客户端（比如手机）向服务器往这个
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      topic
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      推送
     </span>
     Payload（
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      有效数据），服务器就会把
     </span>
     Payload
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      转发给定阅这个
     </span>
     <span style="font-family:Times New Roman; word-wrap:break-word; outline:none">
      topic
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      的客户端（硬件）。这样就实现了客户端（手机）通过服务器（
     </span>
     <span style="font-family:Times New Roman; word-wrap:break-word; outline:none">
      MQTT
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      ）远程发送数据给客户端（物联网硬件）。一样用
     </span>
     <span style="font-family:Times New Roman; word-wrap:break-word; outline:none">
      MQTT.fx
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      来实验。先点
     </span>
     <span style="font-family:Times New Roman; word-wrap:break-word; outline:none">
      Subscribe
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      然后面下面输入
     </span>
     <span style="font-family:Times New Roman; word-wrap:break-word; outline:none">
      led
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      再点旁边的
     </span>
     <span style="font-family:Times New Roman; word-wrap:break-word; outline:none">
      Subscribe
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      按钮来定阅
     </span>
     <span style="font-family:Times New Roman; word-wrap:break-word; outline:none">
      led
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      这个
     </span>
     <span style="font-family:Times New Roman; word-wrap:break-word; outline:none">
      topic
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      。然后回到
     </span>
     <span style="font-family:Times New Roman; word-wrap:break-word; outline:none">
      Publish
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      ，一样在输入框输入
     </span>
     <span style="font-family:Times New Roman; word-wrap:break-word; outline:none">
      led
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      这个
     </span>
     <span style="font-family:Times New Roman; word-wrap:break-word; outline:none">
      topic
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      ，下面大框就是输入要推送的数据，输入
     </span>
     <span style="font-family:Times New Roman; word-wrap:break-word; outline:none">
      on
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      ，再点
     </span>
     <span style="font-family:Times New Roman; word-wrap:break-word; outline:none">
      Publish
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      按钮，就把数据推送出去了。再回到
     </span>
     <span style="font-family:Times New Roman; word-wrap:break-word; outline:none">
      Subcribe
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      界面来可以看到右边已经收到有推送过来的数据。如果这是硬件收到这个指令，就可以去控制点亮
     </span>
     <span style="font-family:Times New Roman; word-wrap:break-word; outline:none">
      LED
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      ，我们就实现远程控制
     </span>
     <span style="font-family:Times New Roman; word-wrap:break-word; outline:none">
      LED
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      灯。
     </span>
    </div>
    <div align="left" style='word-wrap:break-word; outline:none; word-break:break-all; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     <img alt="" class="zoom" id="aimg_97434" src="https://i-blog.csdnimg.cn/blog_migrate/d497f2dfdb3f9383fa21742322f029eb.jpeg" style="word-wrap:break-word; outline:none" width="768">
      <img alt="" class="zoom" id="aimg_97435" src="https://i-blog.csdnimg.cn/blog_migrate/80e2e200ff40eb16d6fc8b10cb0cd420.jpeg" style="word-wrap:break-word; outline:none" width="768">
      </img>
     </img>
    </div>
    <div align="left" style='word-wrap:break-word; outline:none; word-break:break-all; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      想深入了解
     </span>
     MQTT
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      这一个过程的话，我们再回到
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      Wireshark
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      ，来看看捕获到的数据
     </span>
    </div>
    <div align="left" style='word-wrap:break-word; outline:none; word-break:break-all; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     <img alt="" class="zoom" id="aimg_97436" src="https://i-blog.csdnimg.cn/blog_migrate/53ad00bc1cde4fc4658c007e9728cfb0.jpeg" style="word-wrap:break-word; outline:none" width="768"/>
    </div>
    <div align="left" style='word-wrap:break-word; outline:none; word-break:break-all; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      具体的就不详细的分析了，大家看附件的文档来对照就可以很容易了解到。
     </span>
    </div>
    <div align="left" style='word-wrap:break-word; outline:none; word-break:break-all; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      最后来了解下
     </span>
     QoS
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      （定阅等级），分
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      0
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      、
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      1
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      、
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      2
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      三个等级，简单来说是等级越高越可靠。
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      QoS0,
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      就是推送之后就完事了，至于对方有没有收到，收到是什么，数据有没有丢失，都不管。
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      QoS1
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      的话就
     </span>
    </div>
    <div align="left" style='word-wrap:break-word; outline:none; word-break:break-all; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      是你收到推送后，你还得返回一个
     </span>
     puback
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      给对方，告诉对方收到了，不然对方会以为你没收到，隔一段时间后重新给你推送，直到你给对方返回一个
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      Puback
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      为止。
     </span>
    </div>
    <div align="left" style='word-wrap:break-word; outline:none; word-break:break-all; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     <img alt="" class="zoom" id="aimg_97437" src="https://i-blog.csdnimg.cn/blog_migrate/9901dae384e8cd61f96dc5e6e77d8b19.jpeg" style="word-wrap:break-word; outline:none" width="741"/>
    </div>
    <div align="left" style='word-wrap:break-word; outline:none; word-break:break-all; font-family:Tahoma,"Microsoft Yahei",Simsun; font-size:15px; background-color:rgb(232,232,232)'>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      好了，基本的就写到这，剩下的大家可以根据这个方法对照文档去消化
     </span>
     MQTT
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      。后面的文章再教大家移植
     </span>
     <span style="font-family:Calibri; word-wrap:break-word; outline:none">
      MQTT
     </span>
     <span style="font-family:宋体; word-wrap:break-word; outline:none">
      到单片机上，大家就可以实现远程的控制了，期待吧。
     </span>
    </div>
   </div>
  </div>
 </article>
 <p alt="68747470:733a2f2f626c6f672e6373646e2e6e65742f6d7a776868776a:2f61727469636c652f64657461696c732f3737343839383930" class_="artid" style="display:none">
 </p>
</div>


