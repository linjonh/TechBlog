---
layout: post
title: "Javaé“¾æ¥redis"
date: 2025-03-08 20:11:24 +0800
description: "ä»£ç è¿™ä¸œè¥¿ï¼Œå…‰çœ‹ä¸åŠ¨æ‰‹éƒ½æ˜¯è€æµæ°“ï¼èµ¶ç´§æ‰“å¼€IDEï¼ŒæŠŠRedisç©å‡ºèŠ±æ¥ã€‚é‡åˆ°é—®é¢˜åˆ«æ…Œï¼Œè®°ä½é›·æ€»é‚£å¥è¯ï¼š\"**è¯•é”™çš„æˆæœ¬å¹¶ä¸é«˜ï¼Œè€Œé”™è¿‡çš„æˆæœ¬éå¸¸é«˜ï¼**\"ï¼ˆçªç„¶æ­£ç»ï¼‰å¯¹äº†ï¼Œç”¨SpringBootçš„ç«¥é‹å¯ä»¥ç›´æ¥ä¸Šï¼Œé…ç½®è‡ªåŠ¨æ³¨å…¥ç¾æ»‹æ»‹ã€‚ä½†åº•å±‚åŸç†è¿˜æ˜¯è¿™äº›ï¼Œä¸‡å˜ä¸ç¦»å…¶å®—ï¼ğŸ‰å½©è›‹ï¼šå½“å¹´æˆ‘ç”¨Rediså­˜äº†10ä¸ªGçš„ç¼“å­˜ç»“æœæ²¡è®¾è¿‡æœŸæ—¶é—´...è¿™äº‹æˆ‘èƒ½ç¬‘ï¼ˆå“­ï¼‰ä¸‰å¹´ï¼æœ‹å‹ä»¬å¼•ä»¥ä¸ºæˆ’å•Šï¼"
keywords: "Javaé“¾æ¥redis"
categories: ['ä¸šåŠ¡ç³»ç»Ÿåº”ç”¨æŠ€æœ¯']
tags: ['å¼€å‘è¯­è¨€', 'Redis', 'Java']
artid: "146121845"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146121845
    alt: "Javaé“¾æ¥redis"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146121845
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146121845
cover: https://bing.ee123.net/img/rand?artid=146121845
image: https://bing.ee123.net/img/rand?artid=146121845
img: https://bing.ee123.net/img/rand?artid=146121845
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Javaé“¾æ¥redis
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h4>
     ä¸€ã€å‡†å¤‡å·¥ä½œå°±åƒè°ˆæ‹çˆ±
    </h4>
    <p>
     é¦–å…ˆå’±ä»¬å¾—æ¥ç‚¹ä»ªå¼æ„Ÿæ˜¯ä¸æ˜¯ï¼Ÿæ‰“å¼€ä½ çš„Mavenï¼ˆGradleç©å®¶åˆ«æ‰“æˆ‘ï¼‰ï¼ŒæŠŠè¿™ä¸¤ä¸ªå®è´ä¾èµ–ç»™æˆ‘ç„Šæ­»åœ¨pom.xmlé‡Œï¼š
    </p>
    <p>
     &lt;!-- ç»å…¸æ°¸ä¸è¿‡æ—¶çš„Jedis --&gt;
    </p>
    <p>
     &lt;dependency&gt;
    </p>
    <p>
     &lt;groupId&gt;redis.clients&lt;/groupId&gt;
    </p>
    <p>
     &lt;artifactId&gt;jedis&lt;/artifactId&gt;
    </p>
    <p>
     &lt;version&gt;4.4.3&lt;/version&gt;
    </p>
    <p>
     &lt;/dependency&gt;
    </p>
    <p>
    </p>
    <p>
     &lt;!-- æ–°è´µLettuceï¼Œå¼‚æ­¥çŒ›å¦‚è™ --&gt;
    </p>
    <p>
     &lt;dependency&gt;
    </p>
    <p>
     &lt;groupId&gt;io.lettuce&lt;/groupId&gt;
    </p>
    <p>
     &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;
    </p>
    <p>
     &lt;version&gt;6.3.0.RELEASE&lt;/version&gt;
    </p>
    <p>
     &lt;/dependency&gt;
    </p>
    <p>
     é€‰Jedisè¿˜æ˜¯Lettuceï¼Ÿè¿™å°±å¥½æ¯”é€‰æœºæ¢°é”®ç›˜çš„é’è½´çº¢è½´ï¼ŒJedisç›´æ¥ç›´å»åƒä¸œåŒ—è€é“ï¼ŒLettuceå¼‚æ­¥æ“ä½œåƒä¸Šæµ·ç²¾è‹±ã€‚æˆ‘å…¨éƒ½è¦.jpg
    </p>
    <hr/>
    <p>
    </p>
    <h3>
     ğŸš€äºŒã€è¿æ¥å®æˆ˜æ¯”å¥¶èŒ¶ç®€å•
    </h3>
    <p>
    </p>
    <h4>
     æ–¹æ¡ˆAï¼šç›´ç”·å¼è¿æ¥ï¼ˆJedisæç®€ç‰ˆï¼‰
    </h4>
    <pre><code class="language-java">public class Redisç›´ç”· {
    public static void main(String[] args) {
        // è¿™ä¸‰ä¸ªå‚æ•°å°±åƒwifiå¯†ç ï¼Œé”™ä¸€ä¸ªéƒ½åˆ«æƒ³è¿
        Jedis jedis = new Jedis("localhost", 6379);
        jedis.auth("ä½ çš„å¯†ç "); // æ²¡å¯†ç ï¼Ÿå¿ƒçœŸå¤§ï¼
        
        jedis.set("é›·æ€»è¯­å½•", "ç«™åœ¨é£å£ä¸Šï¼ŒçŒªéƒ½èƒ½é£èµ·æ¥");
        System.out.println(jedis.get("é›·æ€»è¯­å½•")); // æ‰“å°å‡ºæ¥éƒ½æ˜¯æƒ…æ€€
        
        jedis.close(); // ç”¨å®Œä¸å…³ï¼Ÿç­‰ç€å†…å­˜æ³„æ¼å§ï¼
    }
}</code></pre>
    <p>
    </p>
    <h4>
     æ–¹æ¡ˆBï¼šä¼˜é›…æ°¸ä¸è¿‡æ—¶ï¼ˆLettuceé«˜å®šç‰ˆï¼‰
    </h4>
    <pre></pre>
    <pre><code class="language-java">public class Redisç»…å£« {
    public static void main(String[] args) {
        RedisURI uri = RedisURI.Builder
            .redis("localhost")
            .withPort(6379)
            .withAuthentication("default", "ä½ çš„å¯†ç ")
            .build();
            
        RedisClient client = RedisClient.create(uri);
        StatefulRedisConnection&lt;String, String&gt; connection = client.connect();
        
        RedisCommands&lt;String, String&gt; commands = connection.sync();
        commands.set("äº’è”ç½‘æ€ç»´", "ä¸“æ³¨ã€æè‡´ã€å£ç¢‘ã€å¿«");
        System.out.println(commands.get("äº’è”ç½‘æ€ç»´"));
        
        connection.close(); // ä¼˜é›…å…³é—­æ‰æ˜¯ç‹é“
        client.shutdown();
    }
}</code></pre>
    <p>
    </p>
    <p>
    </p>
    <h3>
     ğŸ’Šä¸‰ã€è¿æ¥æ± æ˜¯ç¨‹åºå‘˜çš„ç»­å‘½ä¸¹
    </h3>
    <p>
    </p>
    <p>
     çŸ¥é“ä¸ºä»€ä¹ˆä½ å¤´å‘è¶Šæ¥è¶Šå°‘å—ï¼Ÿæ¯æ¬¡newè¿æ¥å°±åƒæ‹†ä¸€æ¬¡æ€§ç­·å­ï¼ä¸Šè¿æ¥æ± æ‰æ˜¯æ­£è§£ï¼š
    </p>
    <pre><code class="language-java">JedisPoolConfig poolConfig = new JedisPoolConfig();
poolConfig.setMaxTotal(20); // æœ€å¤§è¿æ¥æ•°ï¼Œåˆ«è®©ä½ çš„Redisåƒæ—©é«˜å³°åœ°é“
poolConfig.setMaxIdle(10);  // æœ€å¤§æ‘¸é±¼è¿æ¥æ•°

try (JedisPool pool = new JedisPool(poolConfig, "localhost", 6379, 2000, "å¯†ç ")) {
    Jedis jedis = pool.getResource();
    // ä¸€é¡¿æ“ä½œçŒ›å¦‚è™...
} // è‡ªåŠ¨å›æ”¶è¿æ¥ï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘å¿˜å…³è¿æ¥äº†</code></pre>
    <p>
    </p>
    <hr/>
    <p>
    </p>
    <h3>
     ğŸš¨å››ã€é¿å‘æŒ‡å—ï¼ˆè¡€æ³ªå²ï¼‰
    </h3>
    <p>
    </p>
    <ol>
     <li>
      <p>
       <strong>
        Timeoutå¼‚å¸¸ä¸‰è¿å‡»
       </strong>
      </p>
      <ol>
       <li>
        <p>
         æ£€æŸ¥é˜²ç«å¢™å§¿åŠ¿
        </p>
       </li>
       <li>
        <p>
         ç¡®è®¤6379ç«¯å£å¼€äº†æ²¡
        </p>
       </li>
       <li>
        <p>
         ç½‘ç»œå»¶è¿Ÿè¶…è¿‡
         <code>
          connectionTimeout
         </code>
         å€¼ï¼Ÿ
        </p>
       </li>
      </ol>
     </li>
    </ol>
    <p>
    </p>
    <ol>
     <li>
      <p>
       <strong>
        AUTHé”™è¯¯ç»ˆæå¥¥ä¹‰
       </strong>
      </p>
      <pre></pre>
      <p>
       <code>
        // å¯†ç é‡Œæœ‰ç‰¹æ®Šç¬¦å·ï¼Ÿä¸ŠåŒå¼•å·æŠ¤ä½“ï¼ jedis.auth("\"your@pass!\"");
       </code>
      </p>
      <ol>
      </ol>
     </li>
    </ol>
    <p>
    </p>
    <ol>
     <li>
      <p>
       <strong>
        å†…å­˜
       </strong>
       <strong>
        çˆ†ç‚¸ç°åœºæ•™å­¦
       </strong>
       Redisé…ç½®å¿…é¡»åŠ 
       <code>
        maxmemory 256mb
       </code>
       ï¼ˆåˆ«è®©Rediså˜æˆè²”è²…ï¼‰
      </p>
     </li>
    </ol>
    <p>
    </p>
    <ol>
     <li>
      <p>
       <strong>
        è¿æ¥æ³„æ¼çµé­‚æ‹·é—®
       </strong>
       æ¨èä½¿ç”¨
       <code>
        try-with-resources
       </code>
       ï¼Œæ¯”å¥å¿˜ç—‡ç‰¹æ•ˆè¯ç®¡ç”¨
      </p>
     </li>
    </ol>
    <p>
    </p>
    <hr/>
    <p>
    </p>
    <h3>
     âš¡äº”ã€æ€§èƒ½ä¸‰è¿ï¼ˆæ•²é»‘æ¿ï¼ï¼‰
    </h3>
    <p>
    </p>
    <ul>
     <li>
      <p>
       <strong>
        PipelineæŠ€æœ¯
       </strong>
       ï¼šæ¯”åŒåä¸€å¿«é€’è¿˜å¿«çš„æ‰¹é‡æ“ä½œ
      </p>
      <pre></pre>
     </li>
    </ul>
    <pre><code class="language-java">Pipeline pipeline = jedis.pipelined();
for(int i=0; i&lt;10000; i++){
    pipeline.set("key"+i, "value"+i);
}
pipeline.sync();</code></pre>
    <p>
    </p>
    <ul>
     <li>
      <p>
       <strong>
        é›†ç¾¤æ¨¡å¼ç”Ÿå­˜æŒ‡å—
       </strong>
      </p>
      <ul>
       <li>
        <p>
         å•æœºæ¨¡å¼ï¼šRedisTemplate
        </p>
       </li>
       <li>
        <p>
         é›†ç¾¤æ¨¡å¼ï¼šJedisCluster
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <p>
    </p>
    <hr/>
    <p>
    </p>
    <h3>
     ğŸ’¡æœ€åè¯´ç‚¹æå¿ƒçªå­çš„
    </h3>
    <p>
    </p>
    <p>
     ä»£ç è¿™ä¸œè¥¿ï¼Œå…‰çœ‹ä¸åŠ¨æ‰‹éƒ½æ˜¯è€æµæ°“ï¼èµ¶ç´§æ‰“å¼€IDEï¼ŒæŠŠRedisç©å‡ºèŠ±æ¥ã€‚é‡åˆ°é—®é¢˜åˆ«æ…Œï¼Œè®°ä½é›·æ€»é‚£å¥è¯ï¼š"**è¯•é”™çš„æˆæœ¬å¹¶ä¸é«˜ï¼Œè€Œé”™è¿‡çš„æˆæœ¬éå¸¸é«˜ï¼**"
    </p>
    <p>
    </p>
    <p>
     ï¼ˆçªç„¶æ­£ç»ï¼‰å¯¹äº†ï¼Œç”¨SpringBootçš„ç«¥é‹å¯ä»¥ç›´æ¥ä¸Š
     <code>
      Spring Data Redis
     </code>
     ï¼Œé…ç½®è‡ªåŠ¨æ³¨å…¥ç¾æ»‹æ»‹ã€‚ä½†åº•å±‚åŸç†è¿˜æ˜¯è¿™äº›ï¼Œä¸‡å˜ä¸ç¦»å…¶å®—ï¼
    </p>
    <p>
    </p>
    <hr/>
    <p>
    </p>
    <p>
     <strong>
      ğŸ‰å½©è›‹
     </strong>
     ï¼šå½“å¹´æˆ‘ç”¨Rediså­˜äº†10ä¸ªGçš„ç¼“å­˜ç»“æœæ²¡è®¾è¿‡æœŸæ—¶é—´...è¿™äº‹æˆ‘èƒ½ç¬‘ï¼ˆå“­ï¼‰ä¸‰å¹´ï¼æœ‹å‹ä»¬å¼•ä»¥ä¸ºæˆ’å•Šï¼
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f77616e673534333230332f:61727469636c652f64657461696c732f313436313231383435" class_="artid" style="display:none">
 </p>
</div>


