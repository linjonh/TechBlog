---
layout: post
title: "Mac本地安装运行FastDFS"
date: 2025-03-09 20:01:05 +0800
description: "macOS 上需要安装以下依赖：Homebrew（macOS 包管理器）gcc（编译器）libevent（FastDFS 依赖）安装 Homebrew如果尚未安装 Homebrew，可以通过以下命令安装："
keywords: "Mac本地安装运行FastDFS"
categories: ['Java']
tags: ['Macos']
artid: "146120715"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146120715
    alt: "Mac本地安装运行FastDFS"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146120715
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146120715
cover: https://bing.ee123.net/img/rand?artid=146120715
image: https://bing.ee123.net/img/rand?artid=146120715
img: https://bing.ee123.net/img/rand?artid=146120715
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Mac本地安装运行FastDFS
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     没错，因为毕设......
    </p>
    <p>
     服务器过期了，只能装在本地了......
    </p>
    <h2>
     1.配置
    </h2>
    <p>
     macOS 上需要安装以下依赖：
    </p>
    <ul>
     <li>
      <p>
       <strong>
        Homebrew
       </strong>
       （macOS 包管理器）
      </p>
     </li>
     <li>
      <p>
       <strong>
        gcc
       </strong>
       （编译器）
      </p>
     </li>
     <li>
      <p>
       <strong>
        libevent
       </strong>
       （FastDFS 依赖）
      </p>
     </li>
    </ul>
    <h5>
     安装 Homebrew
    </h5>
    <p>
     如果尚未安装 Homebrew，可以通过以下命令安装：
    </p>
    <pre><code class="language-bash">/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"</code></pre>
    <h5>
     安装依赖
    </h5>
    <p>
     使用 Homebrew 安装 gcc 和 libevent：
    </p>
    <pre><code class="language-bash">brew install gcc libevent</code></pre>
    <h2>
     2. 下载 FastDFS
    </h2>
    <p>
     从 GitHub 下载 FastDFS 源码：
    </p>
    <p>
     进入你想要下载的目录。
    </p>
    <pre><code class="language-bash">wget https://github.com/happyfish100/fastdfs/archive/V5.11.tar.gz</code></pre>
    <pre><code class="language-bash">tar -zxvf V5.11.tar.gz</code></pre>
    <pre><code class="language-bash">cd fastdfs-5.11</code></pre>
    <h2>
     3. 编译和安装
    </h2>
    <p>
     由于 macOS 的默认编译器是 Clang，而 FastDFS 需要 GCC，因此需要指定编译器。
    </p>
    <h5>
     编译 FastDFS
    </h5>
    <pre><code class="language-bash">sudo ./make.sh CC=gcc-13  # 根据实际安装的 gcc 版本调整
sudo ./make.sh install</code></pre>
    <p>
     但可能还是会报错：gcc-: No such file or directory
    </p>
    <p>
     但你确实是安装了gcc，有这个的。
    </p>
    <p>
     解决：
    </p>
    <p>
     运行以下命令，确认
     <code>
      gcc-13
     </code>
     的路径：
    </p>
    <pre><code class="language-bash">which gcc-13</code></pre>
    <p>
     我的输出是：
    </p>
    <p>
     /opt/homebrew/opt/gcc@13/bin/gcc-13
    </p>
    <p>
     记下输出的这个路径，稍后会用到。
    </p>
    <p>
     在 FastDFS 源码目录中，使用以下命令编译，并指定刚刚的 GCC 路径：
    </p>
    <pre><code class="language-bash">sudo ./make.sh CC=/opt/homebrew/bin/gcc-13</code></pre>
    <p>
     但是这时又出现新的问题了，报错，显示缺失
     <code>
      logger.h
     </code>
    </p>
    <p>
     <code>
      我又在官网看了一下，都没有这个文件。
     </code>
    </p>
    <p>
     <a href="https://github.com/happyfish100/fastdfs/tags" title="Tags · happyfish100/fastdfs · GitHub">
      Tags · happyfish100/fastdfs · GitHub
     </a>
    </p>
    <p>
     自己创建一个。
    </p>
    <p>
     以下是
     <code>
      logger.h
     </code>
     的内容：
    </p>
    <pre><code class="language-bash">#ifndef LOGGER_H
#define LOGGER_H

#include &lt;stdio.h&gt;
#include &lt;time.h&gt;
#include &lt;stdarg.h&gt;

#define LOG_DEBUG 0
#define LOG_INFO  1
#define LOG_WARN  2
#define LOG_ERROR 3

void log_init();
void log_write(int level, const char *format, ...);

#endif</code></pre>
    <p>
     将上述内容保存为
     <code>
      logger.h
     </code>
     ，并放到
     <code>
      common
     </code>
     目录下。
    </p>
    <pre>又报错了......</pre>
    <p>
     666666666666666666666666666666666666666666666666666666666666
    </p>
    <p>
     保存文件后，重新运行编译命令：
    </p>
    <pre><code class="language-bash">sudo ./make.sh CC=/opt/homebrew/bin/gcc-13
sudo ./make.sh install</code></pre>
    <h5>
    </h5>
    <p>
     如果一切顺利，FastDFS 将会成功编译并安装到系统中，接下来可以根据需要进行配置和使用。
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
     <img alt="" height="676" src="https://i-blog.csdnimg.cn/direct/36e8bef4fe4c4df99bad46ff4ee1e1be.png" width="1202"/>
    </p>
    <p>
     近日总结：
    </p>
    <p>
     原计划每周末搞论文。
    </p>
    <p>
     昨天把项目搞起来了（前端一直报错报错报错，147个漏洞，绝了，后端启动配置简简单单，前端启动......也是难为我了）。
    </p>
    <p>
     今天写了三页论文+陪我亲爱的欧豆豆一起打游戏，然后他又打着打着不见了，真是离谱，习以为常了。
    </p>
    <p>
     论文才写三页头都要炸开了......
    </p>
    <p>
     瞬间梦回以前写专利的情形了......
    </p>
    <p>
     我人都要炸开了......
    </p>
    <p>
     然后又围观了一会儿宿舍公寓楼大型吵架现场，差点发展到线下干拉......
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f4875626572795f736b792f:61727469636c652f64657461696c732f313436313230373135" class_="artid" style="display:none">
 </p>
</div>


