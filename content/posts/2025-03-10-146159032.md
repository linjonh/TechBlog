---
layout: post
title: "LeetCode周赛-3468.-可行数组的数目暴力与数学"
date: 2025-03-10 17:17:50 +0800
description: "输入：original = [1,2,3,4], bounds = [[1,10],[2,9],[3,8],[4,7]]输入：original = [1,2,3,4], bounds = [[1,2],[2,3],[3,4],[4,5]]暴力法+数学法 具体见代码注释。"
keywords: "⭐LeetCode周赛 3468. 可行数组的数目——暴力与数学⭐"
categories: ['数学', 'Leetcode']
tags: ['算法', '数学', 'Leetcode']
artid: "146159032"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146159032
    alt: "LeetCode周赛-3468.-可行数组的数目暴力与数学"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146159032
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146159032
cover: https://bing.ee123.net/img/rand?artid=146159032
image: https://bing.ee123.net/img/rand?artid=146159032
img: https://bing.ee123.net/img/rand?artid=146159032
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     ⭐LeetCode周赛 3468. 可行数组的数目——暴力与数学⭐
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="LeetCode_3468__1">
     </a>
     <code>
      ⭐LeetCode周赛 3468. 可行数组的数目——暴力与数学⭐
     </code>
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/db0aa11900e547e68338160f9bbc289b.png"/>
    </p>
    <blockquote>
     <p>
      示例 1：
      <br/>
      输入：original = [1,2,3,4], bounds = [[1,2],[2,3],[3,4],[4,5]]
      <br/>
      输出：2
      <br/>
      解释：
      <br/>
      可能的数组为：
      <br/>
      [1, 2, 3, 4]
      <br/>
      [2, 3, 4, 5]
     </p>
    </blockquote>
    <blockquote>
     <p>
      示例 2：
      <br/>
      输入：original = [1,2,3,4], bounds = [[1,10],[2,9],[3,8],[4,7]]
      <br/>
      输出：4
      <br/>
      解释：
      <br/>
      可能的数组为：
      <br/>
      [1, 2, 3, 4]
      <br/>
      [2, 3, 4, 5]
      <br/>
      [3, 4, 5, 6]
      <br/>
      [4, 5, 6, 7]
     </p>
    </blockquote>
    <blockquote>
     <p>
      提示：
      <br/>
      2 &lt;= n == original.length &lt;= 105
      <br/>
      1 &lt;= original[i] &lt;= 109
      <br/>
      bounds.length == n
      <br/>
      bounds[i].length == 2
      <br/>
      1 &lt;= bounds[i][0] &lt;= bounds[i][1] &lt;= 109
     </p>
    </blockquote>
    <h3>
     <a id="_36">
     </a>
     <code>
      题解：
     </code>
    </h3>
    <blockquote>
     <p>
      暴力法+数学法 具体见代码注释
     </p>
    </blockquote>
    <h3>
     <a id="_38">
     </a>
     <code>
      代码：
     </code>
    </h3>
    <pre><code class="prism language-java"><span class="token comment">// 暴力  超时</span>
<span class="token comment">// 思路为一旦copy[0]确定 则copy数组即确定 因各元素间距由original可提前算出</span>
<span class="token comment">// 故仅对copy[0]的值进行模拟 从u0遍历到v0 </span>
<span class="token comment">// 同时判断按照上述情况得到的copy数组如copy[1] copy[2]等是否满足他们的ui和vi限制即可</span>
<span class="token comment">// 即由于各元素间距固定 故多个需要遍历的变量可以变为进遍历单一变量copy[0] 再加以对所有可能的数组进行验证即可</span>
<span class="token keyword">class</span> <span class="token class-name">Solution1</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">countArrays</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> original<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bounds<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> len <span class="token operator">=</span> original<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> next_len <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>len<span class="token punctuation">]</span><span class="token punctuation">;</span>
        
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            next_len<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> original<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> original<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">int</span> <span class="token class-name">L</span> <span class="token operator">=</span> bounds<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> <span class="token class-name">R</span> <span class="token operator">=</span> bounds<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token class-name">L</span> <span class="token operator">&lt;=</span> <span class="token class-name">R</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> temp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>len<span class="token punctuation">]</span><span class="token punctuation">;</span>
            temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">L</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> next_len<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">boolean</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>bounds<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> bounds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> bounds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">continue</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
                    flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
               res<span class="token operator">++</span><span class="token punctuation">;</span> 
            <span class="token punctuation">}</span>
            <span class="token class-name">L</span><span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 数学 算出copy[0]的实际可取值范围即为关键</span>
<span class="token comment">// 公式化简可知 copy[i] = copy[0] + di 即copy的任一元素均可由copy[0]推演得到</span>
<span class="token comment">// 故 ui &lt;= copy[i] &lt;= vi ---&gt; ui-di &lt;= copy[0] &lt;= vi-di</span>
<span class="token comment">// 则上述式子即为copy[0]的取值范围限制 对所有情况的i均算出 取交集即可</span>
<span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">countArrays</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> original<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bounds<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> len <span class="token operator">=</span> original<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token comment">// 先定义copy[0]取值范围为本身的限制 即此时为最宽泛情况</span>
        <span class="token comment">// 即先进行u0-d0 &lt;= copy[0] &lt;= v0-d0第一层限制</span>
        <span class="token keyword">int</span> <span class="token class-name">L</span> <span class="token operator">=</span> bounds<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> <span class="token class-name">R</span> <span class="token operator">=</span> bounds<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token comment">// 后面遍历bounds 依次得到ui和vi 对copy[0]区间进行缩小</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> di <span class="token operator">=</span> original<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> original<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> ui <span class="token operator">=</span> bounds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> vi <span class="token operator">=</span> bounds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token class-name">L</span> <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token class-name">L</span><span class="token punctuation">,</span>ui<span class="token operator">-</span>di<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">R</span> <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">,</span>vi<span class="token operator">-</span>di<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 若最后得到为负 则代表无符合题目条件的数组 故返回0</span>
        <span class="token keyword">return</span> <span class="token class-name">R</span><span class="token operator">-</span><span class="token class-name">L</span><span class="token operator">+</span><span class="token number">1</span> <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token class-name">R</span><span class="token operator">-</span><span class="token class-name">L</span><span class="token operator">+</span><span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="_110">
     </a>
     <code>
      结果：
     </code>
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/23cb456fbffd4dc89dc5ff3f12f73dad.png"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e63:73646e2e6e65742f7869616e676775616e675f66696768742f:61727469636c652f64657461696c732f313436313539303332" class_="artid" style="display:none">
 </p>
</div>


