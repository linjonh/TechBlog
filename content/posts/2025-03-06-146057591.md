---
layout: post
title: "Linux-下使用nslookup和dig来查询域名和ip信息"
date: 2025-03-06 07:36:48 +0800
description: "nslookup和dig（Domain Information Groper）命令用于查询DNS（Domain Name System）服务器，获取域名、IP地址等DNS记录信息。nslookup。"
keywords: "Linux 下使用nslookup和dig来查询域名和ip信息"
categories: ['Linux']
tags: ['运维', 'Tcp', 'Linux']
artid: "146057591"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146057591
    alt: "Linux-下使用nslookup和dig来查询域名和ip信息"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146057591
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146057591
cover: https://bing.ee123.net/img/rand?artid=146057591
image: https://bing.ee123.net/img/rand?artid=146057591
img: https://bing.ee123.net/img/rand?artid=146057591
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Linux 下使用nslookup和dig来查询域名和ip信息
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h4>
     <a id="_0">
     </a>
     简介
    </h4>
    <p>
     <code>
      nslookup
     </code>
     和
     <code>
      dig
     </code>
     （Domain Information Groper）命令用于查询
     <code>
      DNS
     </code>
     （Domain Name System）服务器，获取域名、IP地址等DNS记录信息。
    </p>
    <h4>
     <a id="nslookup__4">
     </a>
     <code>
      nslookup
     </code>
     命令
    </h4>
    <p>
     <code>
      nslookup
     </code>
     （名称服务器查找）命令是用于查询
     <code>
      DNS
     </code>
     记录的旧工具。虽然仍然可用，但已弃用，取而代之的是
     <code>
      dig
     </code>
     。
    </p>
    <h5>
     <a id="_8">
     </a>
     基础用法
    </h5>
    <pre><code class="prism language-shell"><span class="token function">nslookup</span> <span class="token punctuation">[</span>domain-name<span class="token punctuation">]</span>
</code></pre>
    <p>
     <strong>
      示例用法
     </strong>
    </p>
    <pre><code class="prism language-shell"><span class="token function">nslookup</span> google.com
</code></pre>
    <p>
     <strong>
      示例输出
     </strong>
    </p>
    <pre><code class="prism language-shell">Server:		<span class="token number">192.168</span>.1.1
Address:	<span class="token number">192.168</span>.1.1<span class="token comment">#53</span>

Non-authoritative answer:
Name: google.com
Address: <span class="token number">142.250</span>.183.110
</code></pre>
    <h5>
     <a id="DNS_31">
     </a>
     查询指定DNS服务器
    </h5>
    <p>
     使用自定义 DNS 服务器而不是系统默认的 DNS 服务器
    </p>
    <pre><code class="prism language-shell"><span class="token function">nslookup</span> google.com <span class="token number">8.8</span>.8.8
</code></pre>
    <h5>
     <a id="_MX_Mail_Exchange_39">
     </a>
     查询 MX（邮件交换 Mail Exchange）记录
    </h5>
    <pre><code class="prism language-shell"><span class="token function">nslookup</span> <span class="token parameter variable">-query</span><span class="token operator">=</span>MX google.com
</code></pre>
    <h5>
     <a id="_DNS__IP__45">
     </a>
     反向 DNS 查找（从 IP 获取域名）
    </h5>
    <pre><code class="prism language-shell"><span class="token function">nslookup</span> <span class="token number">142.250</span>.183.110
</code></pre>
    <h4>
     <a id="dig__51">
     </a>
     <code>
      dig
     </code>
     命令
    </h4>
    <p>
     <code>
      dig
     </code>
     命令是一个更强大、更灵活的查询DNS信息的工具
    </p>
    <h5>
     <a id="_55">
     </a>
     基础用法
    </h5>
    <pre><code class="prism language-shell"><span class="token function">dig</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>domain-name<span class="token punctuation">]</span> <span class="token punctuation">[</span>record-type<span class="token punctuation">]</span>
</code></pre>
    <h5>
     <a id="_IP__61">
     </a>
     从域名中查询 IP 地址
    </h5>
    <pre><code class="prism language-shell"><span class="token function">dig</span> google.com
</code></pre>
    <p>
     <strong>
      示例输出
     </strong>
    </p>
    <pre><code class="prism language-shell"><span class="token punctuation">;</span><span class="token punctuation">;</span> ANSWER SECTION:
google.com.		<span class="token number">299</span>	IN	A	<span class="token number">142.250</span>.183.110

<span class="token comment"># google.com 的 IP 地址（A 记录）是 142.250.183.110</span>
</code></pre>
    <h5>
     <a id="_DNS__76">
     </a>
     查询特定 DNS 服务器
    </h5>
    <pre><code class="prism language-shell"><span class="token function">dig</span> @8.8.8.8 google.com
</code></pre>
    <h5>
     <a id="_MX_82">
     </a>
     查询 MX（邮件交换）记录
    </h5>
    <pre><code class="prism language-shell"><span class="token function">dig</span> google.com MX
</code></pre>
    <p>
     <strong>
      示例输出
     </strong>
    </p>
    <pre><code class="prism language-shell">google.com.		<span class="token number">3599</span>	IN	MX	<span class="token number">50</span> alt4.aspmx.l.google.com.
google.com.		<span class="token number">3599</span>	IN	MX	<span class="token number">40</span> alt3.aspmx.l.google.com.
</code></pre>
    <h5>
     <a id="_DNS_95">
     </a>
     反向查询 DNS
    </h5>
    <pre><code class="prism language-shell"><span class="token function">dig</span> <span class="token parameter variable">-x</span> <span class="token number">142.250</span>.183.110
</code></pre>
    <h5>
     <a id="_101">
     </a>
     仅获取简短的答复
    </h5>
    <pre><code class="prism language-shell"><span class="token function">dig</span> +short google.com
</code></pre>
    <h5>
     <a id="_DNS__107">
     </a>
     查询所有 DNS 记录
    </h5>
    <pre><code class="prism language-shell"><span class="token function">dig</span> google.com ANY
</code></pre>
    <h4>
     <a id="nslookup__dig__113">
     </a>
     nslookup 与 dig 的区别
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        <code>
         特点
        </code>
       </th>
       <th>
        <code>
         nslookup
        </code>
       </th>
       <th>
        <code>
         dig
        </code>
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        输出
       </td>
       <td>
        更简单，但细节较少
       </td>
       <td>
        详细输出
       </td>
      </tr>
      <tr>
       <td>
        支持查询特定 DNS 服务器
       </td>
       <td>
        支持
       </td>
       <td>
        支持
       </td>
      </tr>
      <tr>
       <td>
        反向查找
       </td>
       <td>
        支持
       </td>
       <td>
        支持
       </td>
      </tr>
      <tr>
       <td>
        支持现代功能
       </td>
       <td>
        已弃用
       </td>
       <td>
        推荐使用
       </td>
      </tr>
     </tbody>
    </table>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="6874747073:3a2f2f626c6f672e6373646e2e6e65742f74616e675048502f:61727469636c652f64657461696c732f313436303537353931" class_="artid" style="display:none">
 </p>
</div>


