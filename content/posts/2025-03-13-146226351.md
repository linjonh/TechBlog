---
layout: post
title: "开源工具利器Mermaid助力知识图谱可视化与分享"
date: 2025-03-13 11:36:49 +0800
description: "Mermaid 是一款开源工具，使用 MIT 协议授权。流程图（flowchart）序列图（sequence diagram）甘特图（gantt）类图（class diagram）Git 图（git graph）思维导图（mindmap）数据包图（packet diagram）ER 图（er diagram）饼图（pie chart）象限图（quadrant chart）需求图（requirement diagram）你可以通过修改图的描述来重新呈现或修改图。"
keywords: "开源工具利器：Mermaid助力知识图谱可视化与分享"
categories: ['知识图谱']
tags: ['知识图谱', '开源', '全文检索']
artid: "146226351"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146226351
    alt: "开源工具利器Mermaid助力知识图谱可视化与分享"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146226351
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146226351
cover: https://bing.ee123.net/img/rand?artid=146226351
image: https://bing.ee123.net/img/rand?artid=146226351
img: https://bing.ee123.net/img/rand?artid=146226351
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     开源工具利器：Mermaid助力知识图谱可视化与分享
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     在现代 web 开发中，可视化工具对于展示流程、结构和数据关系至关重要。Mermaid 是一款强大的 JavaScript 工具，它使用基于 Markdown 的语法来呈现可定制的图表、图表和可视化。对于展示流程、结构和数据关系至关重要。通过简单的文本描述，你可以轻松创建流程图、思维导图、序列图等多种图表类型。本文将带你了解 Mermaid 的核心功能，并展示如何在 Vue 3 项目中集成和使用它。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/e2e59d9e2aa64b69927b87e7ab0f7714.png#pic_center"/>
    </p>
    <p>
     本博文旨在帮助初学者快速掌握开发技能，同时解决在学习和实践过程中可能遇到的常见问题，如旧版代码兼容性问题和错误配置等。博文将兼顾基础知识的讲解和实用技巧的应用，确保读者能够顺利上手并提高开发效率。2025版最新避坑文章
    </p>
    <h3>
     <a id="Mermaid__6">
     </a>
     一、Mermaid 简介
    </h3>
    <p>
     Mermaid 是一款开源工具，使用 MIT 协议授权。它支持多种图表类型，包括但不限于：
    </p>
    <ul>
     <li>
      流程图（flowchart）
     </li>
     <li>
      序列图（sequence diagram）
     </li>
     <li>
      甘特图（gantt）
     </li>
     <li>
      类图（class diagram）
     </li>
     <li>
      Git 图（git graph）
     </li>
     <li>
      思维导图（mindmap）
     </li>
     <li>
      数据包图（packet diagram）
     </li>
     <li>
      ER 图（er diagram）
     </li>
     <li>
      饼图（pie chart）
     </li>
     <li>
      象限图（quadrant chart）
     </li>
     <li>
      需求图（requirement diagram）
     </li>
    </ul>
    <p>
     你可以通过修改图的描述来重新呈现或修改图。这种基于文本的图表定义方式，使得图表的维护和版本控制变得更加容易。
    </p>
    <h3>
     <a id="_Mermaid_24">
     </a>
     二、集成 Mermaid
    </h3>
    <h4>
     <a id="CDN__26">
     </a>
     CDN 引入
    </h4>
    <p>
     最简单的方式是通过 CDN 引入 Mermaid。jsDelivr 提供了 Mermaid 的 CDN 服务，你可以通过以下链接引入：
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> mermaid <span class="token keyword">from</span> <span class="token string">'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs'</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <p>
     你也可以通过右上角的下拉框切换版本，以适应你的项目需求。
    </p>
    <h4>
     <a id="npm__38">
     </a>
     npm 安装
    </h4>
    <p>
     对于需要离线使用或更稳定依赖的项目，可以通过 npm 安装 Mermaid：
    </p>
    <pre><code class="prism language-bash"><span class="token function">npm</span> <span class="token function">install</span> mermaid
<span class="token comment"># 或</span>
<span class="token function">yarn</span> <span class="token function">add</span> mermaid
<span class="token comment"># 或</span>
<span class="token function">pnpm</span> <span class="token function">add</span> mermaid
</code></pre>
    <p>
     安装完成后，你可以在项目中通过 import 引入 Mermaid。
    </p>
    <h3>
     <a id="Vue_3__52">
     </a>
     三、Vue 3 中的集成示例
    </h3>
    <p>
     以下是一个在 Vue 3 项目中使用 Mermaid 的完整示例，采用 setup 语法：
    </p>
    <pre><code class="prism language-vue">&lt;template&gt;
  &lt;div className="mermaid-container"&gt;
    &lt;pre className="mermaid" ref="mermaidRef"&gt;&lt;/pre&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import {ref, onMounted, nextTick} from 'vue';
import mermaid from 'mermaid';
const mermaidRef = ref(null);

const mermaidCode = `
flowchart TD
    A[开始] --&gt; B[步骤 1]
    B --&gt; C[步骤 2]
    C --&gt; D[结束]
`;

onMounted(async () =&gt; {
  // 初始化 mermaid 配置
  mermaid.initialize({
    startOnLoad: false, // 禁用自动渲染，手动控制
    securityLevel: 'loose', // 启用点击事件和 HTML 标签
  });

  // 确保 DOM 已经更新
  await nextTick();

  // 将 mermaid 代码设置到 pre 标签中
  if (mermaidRef.value) {
    mermaidRef.value.textContent = mermaidCode;
  }

  // 手动渲染 mermaid 图表
  await mermaid.run({
    querySelector: '.mermaid',
  });
});
&lt;/script&gt;

&lt;style&gt;
.mermaid-container {
  width: 100%;
  height: 400px;
  display: flex;
  justify-content: center;
  align-items: center;
}

pre.mermaid {
  font-family: 'trebuchet ms', verdana, arial;
  width: 100%;
  height: 100%;
}
&lt;/style&gt;


</code></pre>
    <p>
     运行效果：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/d906103b9f4c43879f25920986a3f6a6.png"/>
    </p>
    <h4>
     <a id="_119">
     </a>
     代码说明
    </h4>
    <ol>
     <li>
      <p>
       <strong>
        模板部分
       </strong>
       ：定义了一个容器 div 和一个 pre 标签，pre 标签的类名是 mermaid，这是 Mermaid 识别图表定义的关键。
      </p>
     </li>
     <li>
      <p>
       <strong>
        脚本部分
       </strong>
       ：
      </p>
      <ul>
       <li>
        引入了 Mermaid 的 ESM 模块。
       </li>
       <li>
        定义了一个 ref 来引用 pre 标签。
       </li>
       <li>
        在 onMounted 生命周期钩子中，初始化 Mermaid 配置，并在 DOM 更新后设置 pre 标签的内容，最后手动渲染图表。
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        样式部分
       </strong>
       ：为容器和 pre 标签设置了基本的样式，确保图表能够正确显示。
      </p>
     </li>
    </ol>
    <h3>
     <a id="_130">
     </a>
     四、配置与高级用法
    </h3>
    <h4>
     <a id="_132">
     </a>
     安全配置
    </h4>
    <p>
     Mermaid 提供了 securityLevel 配置项，用于设置已解析图表的信任级别：
    </p>
    <ul>
     <li>
      ‘strict’（默认）：对文本中的 HTML 标记进行编码，并禁用单击功能。
     </li>
     <li>
      ‘antiscript’：允许在文本中使用 HTML 标记（仅删除脚本元素），并启用单击功能。
     </li>
     <li>
      ‘loose’：允许在文本中使用 HTML 标记，并启用单击功能。
     </li>
     <li>
      ‘sandbox’：使用沙盒化 iframe 渲染，阻止 JavaScript 运行。
     </li>
    </ul>
    <p>
     你可以通过 mermaid.initialize 方法设置 securityLevel：
    </p>
    <pre><code class="prism language-javascript">mermaid<span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">securityLevel</span><span class="token operator">:</span> <span class="token string">'loose'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="_149">
     </a>
     高级渲染控制
    </h4>
    <p>
     除了默认的自动渲染，你还可以使用 mermaid.run 方法进行更复杂的渲染控制：
    </p>
    <pre><code class="prism language-javascript">mermaid<span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">startOnLoad</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> mermaid<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">querySelector</span><span class="token operator">:</span> <span class="token string">'.someOtherClass'</span><span class="token punctuation">,</span> <span class="token comment">// 渲染特定类名的元素</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> mermaid<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">nodes</span><span class="token operator">:</span> <span class="token punctuation">[</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'someId'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'anotherId'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 渲染特定节点</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> mermaid<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">suppressErrors</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 抑制错误</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="API__169">
     </a>
     API 使用
    </h4>
    <p>
     Mermaid 提供了丰富的 API，例如：
    </p>
    <ul>
     <li>
      render：使用图形定义作为字符串来渲染图形。
     </li>
     <li>
      detectType：确定给定文本中存在的图表类型。
     </li>
     <li>
      parse：在不呈现图形的情况下验证图形定义。
     </li>
    </ul>
    <h3>
     <a id="_177">
     </a>
     五、总结
    </h3>
    <p>
     通过本文，你已经了解了如何在 Vue 3 项目中集成 Mermaid，并利用其强大的图表生成功能。Mermaid 的简洁语法和丰富功能使其成为 web 开发中不可或缺的可视化工具。无论是简单的流程图还是复杂的序列图，Mermaid 都能轻松应对，为你的项目增添专业性和可视化魅力。
    </p>
    <p>
     相关链接：
     <br/>
     https://mermaid.js.org/config/usage.html
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="6874747073:3a2f2f626c6f672e6373646e2e6e65742f796c6f6e6735322f:61727469636c652f64657461696c732f313436323236333531" class_="artid" style="display:none">
 </p>
</div>


