---
layout: post
title: "单片机嵌入式系统的硬件与软件特性"
date: 2025-03-05 15:23:20 +0800
description: "嵌入式系统的硬件和软件特点决定了它的高效、低功耗、实时性和可靠性，硬件：小型化、低功耗、面向特定应用；软件：高效、实时、代码固化、多任务管理。嵌入式软件结构可以分为不带 OS（裸机）和带 OS（RTOS / Linux）两种，如果系统简单（如 LED 控制、UART 通信） → 使用 Bare Metal。如果系统复杂（如 Linux + GUI + 网络） → 使用嵌入式 Linux。如果需要多任务调度、网络功能（如 MQTT） → 使用 RTOS。不同的软件架构适用于不同的应用场景，如。"
keywords: "嵌入式系统 软件"
categories: ['单片机C51']
tags: ['嵌入式硬件', '单片机', 'Stm', 'Mcu', 'C', '51单片机']
artid: "146042914"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146042914
    alt: "单片机嵌入式系统的硬件与软件特性"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146042914
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146042914
cover: https://bing.ee123.net/img/rand?artid=146042914
image: https://bing.ee123.net/img/rand?artid=146042914
img: https://bing.ee123.net/img/rand?artid=146042914
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【单片机】嵌入式系统的硬件与软件特性
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h4>
     <a id="_0">
     </a>
     嵌入式系统的软件结构
    </h4>
    <p>
     嵌入式系统的软件结构一般分为
     <strong>
      不带操作系统（Bare Metal）
     </strong>
     和
     <strong>
      带操作系统（RTOS / Linux）
     </strong>
     两种。不同的软件架构适用于不同的应用场景，如
     <strong>
      简单控制系统、实时控制系统、物联网、工业自动化
     </strong>
     等。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/2b5b59965798407eaaae7863394eafdb.png">
      <br/>
      嵌入式软件结构可以分为不带 OS（裸机）和带 OS（RTOS / Linux）两种，
      <strong>
       裸机系统适用于简单任务，代码直接运行在 MCU 上，RTOS 适用于多任务管理
      </strong>
      ，提高系统稳定性和可扩展性。
     </img>
    </p>
    <h5>
     <a id="1__OS_Bare_Metal_4">
     </a>
     1. 不带 OS 的嵌入式软件结构（Bare Metal）
    </h5>
    <p>
     概述：不带操作系统的软件架构通常应用于
     <strong>
      单片机（MCU）
     </strong>
     ，运行简单的任务，
     <strong>
      程序直接控制硬件
     </strong>
     。如
     <strong>
      Arduino、STM32（无 RTOS）、AVR、8051、PIC
     </strong>
     等。
    </p>
    <p>
     软件结构：
    </p>
    <pre><code class="prism language-handlebars"><span class="token punctuation">+</span><span class="token variable">------------------</span><span class="token punctuation">+</span>
<span class="token punctuation">|</span> <span class="token variable">应用程序</span>        <span class="token punctuation">|</span>  <span class="token variable">用户编写的功能代码</span>
<span class="token punctuation">|</span> <span class="token variable">Application</span>     <span class="token punctuation">|</span>
<span class="token punctuation">+</span><span class="token variable">------------------</span><span class="token punctuation">+</span>
<span class="token punctuation">|</span> <span class="token variable">设备驱动</span>        <span class="token punctuation">|</span>  <span class="token variable">控制外设，如</span> <span class="token variable">GPIO、UART、SPI</span>
<span class="token punctuation">|</span> <span class="token variable">Driver</span>         <span class="token punctuation">|</span>
<span class="token punctuation">+</span><span class="token variable">------------------</span><span class="token punctuation">+</span>
<span class="token punctuation">|</span> <span class="token variable">硬件（MCU）</span>    <span class="token punctuation">|</span>  <span class="token variable">处理器、存储器、外设</span>
<span class="token punctuation">+</span><span class="token variable">------------------</span><span class="token punctuation">+</span>
</code></pre>
    <p>
     特点：1.
     <strong>
      程序直接运行在硬件上
     </strong>
     ，没有操作系统的调度；2.
     <strong>
      代码简单，执行效率高；
     </strong>
     3. 适用于
     <strong>
      小型嵌入式设备（如 8-bit、32-bit MCU）；
     </strong>
     4.
     <strong>
      缺乏多任务管理，任务间靠循环或中断实现。
     </strong>
    </p>
    <p>
     应用场景：
     <br/>
     📌
     <strong>
      传感器采集
     </strong>
     <br/>
     📌
     <strong>
      LED 控制、电机驱动
     </strong>
     <br/>
     📌
     <strong>
      简单串口通讯（UART、I2C、SPI）
     </strong>
     <br/>
     📌
     <strong>
      低功耗 IoT 设备
     </strong>
     （如
     <strong>
      无线传感器节点
     </strong>
     ）
    </p>
    <p>
     示例代码（
     <strong>
      裸机 LED 闪烁 - STM32
     </strong>
     ）：
    </p>
    <pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">HAL_Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 初始化 MCU</span>
    <span class="token function">GPIO_Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 初始化 GPIO</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">HAL_GPIO_TogglePin</span><span class="token punctuation">(</span>GPIOA<span class="token punctuation">,</span> GPIO_PIN_0<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HAL_Delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 延时 500ms</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h5>
     <a id="2__OS_RTOS__Linux_38">
     </a>
     2. 带 OS 的嵌入式软件结构（RTOS / Linux）
    </h5>
    <p>
     概述：带操作系统的软件架构通常用于
     <strong>
      复杂的嵌入式系统（MPU / 高级 MCU）
     </strong>
     ，需要
     <strong>
      多任务处理、实时性、网络通信
     </strong>
     等功能。
     <br/>
     常见的操作系统包括：
    </p>
    <ul>
     <li>
      <strong>
       RTOS（实时操作系统）
      </strong>
      ：FreeRTOS、RT-Thread、Zephyr
     </li>
     <li>
      <strong>
       嵌入式 Linux
      </strong>
      ：Yocto、Buildroot、Ubuntu Core
     </li>
    </ul>
    <p>
     软件结构：
    </p>
    <pre><code class="prism language-handlebars"><span class="token punctuation">+</span><span class="token variable">------------------------</span><span class="token punctuation">+</span>
<span class="token punctuation">|</span> <span class="token variable">应用程序</span> <span class="token punctuation">(</span><span class="token variable">Application</span><span class="token punctuation">)</span> <span class="token punctuation">|</span>  <span class="token variable">用户应用，业务逻辑、UI、通信协议</span>
<span class="token punctuation">+</span><span class="token variable">------------------------</span><span class="token punctuation">+</span>
<span class="token punctuation">|</span> <span class="token variable">标准</span> <span class="token variable">API</span> <span class="token variable">层</span> <span class="token punctuation">(</span><span class="token variable">API</span><span class="token punctuation">)</span>      <span class="token punctuation">|</span>  <span class="token variable">提供标准接口，如</span> <span class="token variable">POSIX、CMSIS-RTOS</span>
<span class="token punctuation">+</span><span class="token variable">------------------------</span><span class="token punctuation">+</span>
<span class="token punctuation">|</span> <span class="token variable">实时操作系统</span> <span class="token punctuation">(</span><span class="token variable">RTOS</span><span class="token punctuation">)</span>    <span class="token punctuation">|</span>  <span class="token variable">任务调度、线程管理、定时器</span>
<span class="token punctuation">+</span><span class="token variable">------------------------</span><span class="token punctuation">+</span>
<span class="token punctuation">|</span> <span class="token variable">硬件抽象层</span> <span class="token punctuation">(</span><span class="token variable">HAL</span><span class="token punctuation">)</span>      <span class="token punctuation">|</span>  <span class="token variable">提供硬件驱动接口，如</span> <span class="token variable">STM32</span> <span class="token variable">HAL</span>
<span class="token punctuation">|</span> <span class="token variable">BSP（Board</span> <span class="token variable">Support）</span>  <span class="token punctuation">|</span>  <span class="token variable">板级支持包，适配不同硬件平台</span>
<span class="token punctuation">+</span><span class="token variable">------------------------</span><span class="token punctuation">+</span>
<span class="token punctuation">|</span> <span class="token variable">硬件</span> <span class="token punctuation">(</span><span class="token variable">MCU</span><span class="token punctuation">/</span><span class="token variable">MPU</span><span class="token punctuation">)</span>        <span class="token punctuation">|</span>  <span class="token variable">处理器、存储器、外设</span>
<span class="token punctuation">+</span><span class="token variable">------------------------</span><span class="token punctuation">+</span>
</code></pre>
    <p>
     特点：1.
     <strong>
      支持多任务调度
     </strong>
     （如 FreeRTOS 任务管理）；2.
     <strong>
      提高系统稳定性
     </strong>
     （任务隔离，防止崩溃） 3.
     <strong>
      适用于复杂嵌入式应用（如 TCP/IP、USB、GUI）
     </strong>
     4. 功耗管理更精细。
    </p>
    <p>
     应用场景：
     <br/>
     📌
     <strong>
      物联网设备
     </strong>
     （无线通信、MQTT）
     <br/>
     📌
     <strong>
      车载系统
     </strong>
     （仪表盘、导航）
     <br/>
     📌
     <strong>
      工业控制
     </strong>
     （PLC、机器人）
     <br/>
     📌
     <strong>
      智能家居
     </strong>
     （智能音箱、网关）
    </p>
    <p>
     示例代码（
     <strong>
      FreeRTOS 任务调度 - STM32
     </strong>
     ）：
    </p>
    <pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">Task1</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>pvParameters<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">HAL_GPIO_TogglePin</span><span class="token punctuation">(</span>GPIOA<span class="token punctuation">,</span> GPIO_PIN_0<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">vTaskDelay</span><span class="token punctuation">(</span><span class="token function">pdMS_TO_TICKS</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 任务延时 500ms</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">HAL_Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">xTaskCreate</span><span class="token punctuation">(</span>Task1<span class="token punctuation">,</span> <span class="token string">"LED_Task"</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">vTaskStartScheduler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 启动 FreeRTOS</span>
<span class="token punctuation">}</span>
</code></pre>
    <h6>
     <a id="_OS_vs__OS__81">
     </a>
     不带 OS vs 带 OS 的对比
    </h6>
    <table>
     <thead>
      <tr>
       <th>
        对比项
       </th>
       <th>
        不带 OS（Bare Metal）
       </th>
       <th>
        带 OS（RTOS / Linux）
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <strong>
         任务管理
        </strong>
       </td>
       <td>
        通过循环或中断
       </td>
       <td>
        任务调度（多线程）
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         实时性
        </strong>
       </td>
       <td>
        高
       </td>
       <td>
        取决于 RTOS 设计
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         复杂度
        </strong>
       </td>
       <td>
        代码简单
       </td>
       <td>
        需要 RTOS 框架
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         功耗管理
        </strong>
       </td>
       <td>
        低功耗，适合小 MCU
       </td>
       <td>
        需要 OS 支持
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         应用场景
        </strong>
       </td>
       <td>
        传感器、LED 控制
       </td>
       <td>
        物联网、工业控制
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     如果系统简单（如 LED 控制、UART 通信） → 使用 Bare Metal
     <br/>
     如果需要多任务调度、网络功能（如 MQTT） → 使用 RTOS
     <br/>
     如果系统复杂（如 Linux + GUI + 网络） → 使用嵌入式 Linux
    </p>
    <hr/>
    <h4>
     <a id="_95">
     </a>
     嵌入式系统的硬件特性
    </h4>
    <pre><code>硬件
1. 体积小、集成效率高
	嵌入式设备通常体积小，适用于便携式或嵌入式环境
	高度集成的 SoC（System on Chip）减少 PCB 设计复杂度
	部分系统采用 SIP（System in Package）进一步缩小体积
	部分应用：
		智能手表（Apple Watch, 华为手表）
		物联网传感器（无线温湿度检测）
		无人机控制芯片

2. 面向特定的应用
	嵌入式系统为特定任务设计，如工业控制、汽车电子、医疗设备
	硬件定制化程度高，优化 CPU、存储、通信接口
	不需要通用计算能力，而是专注于某项功能
	部分应用：
		车载 ECU（发动机控制单元）
		智能家居（智能门锁、摄像头）
		工业 PLC（可编程逻辑控制器）

3. 功耗低、电磁兼容性（EMC）好
	嵌入式设备通常采用低功耗架构（如 ARM Cortex-M 系列）
	支持低功耗模式（Sleep, Deep Sleep），延长电池续航
	优化 PCB 布局，减少 EMI（电磁干扰）和 EMC（电磁兼容）问题
	部分应用：
		低功耗 IoT 设备（ESP32, STM32L 系列）
		医疗植入设备（心脏起搏器）
		无线通信模块（LoRa, Zigbee）
</code></pre>
    <h4>
     <a id="_123">
     </a>
     嵌入式系统的软件特性
    </h4>
    <pre><code>1. 软件开发与硬件紧密相关
	嵌入式软件依赖于具体硬件，通常需要驱动开发
	不同的 MCU / MPU 需要不同的 BSP（Board Support Package）
	与低级硬件交互，如 GPIO、UART、I2C、SPI

示例：STM32 配置 GPIO
</code></pre>
    <pre><code class="prism language-c"><span class="token function">HAL_GPIO_WritePin</span><span class="token punctuation">(</span>GPIOA<span class="token punctuation">,</span> GPIO_PIN_0<span class="token punctuation">,</span> GPIO_PIN_SET<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 设置引脚高电平</span>
</code></pre>
    <pre><code>2. 代码要求高效率和高可靠性
	嵌入式系统资源有限（RAM / Flash 小），代码需优化
	通常需要实时性，避免延迟和死机
	使用 RTOS（如 FreeRTOS）实现任务调度，提高代码可靠性

示例：FreeRTOS 任务调度：
</code></pre>
    <pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">Task1</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>pvParameters<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">HAL_GPIO_TogglePin</span><span class="token punctuation">(</span>GPIOA<span class="token punctuation">,</span> GPIO_PIN_0<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">vTaskDelay</span><span class="token punctuation">(</span><span class="token function">pdMS_TO_TICKS</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 500ms 延时</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <pre><code>3. 软件一般固化在 Flash 或 ROM
	嵌入式程序存储在 Flash / ROM，而非硬盘
	部分设备支持 OTA（Over-the-Air）更新
	固件升级需谨慎，避免损坏 Bootloader

示例：STM32 Flash 读取
</code></pre>
    <pre><code class="prism language-c"><span class="token class-name">uint32_t</span> data <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span>__IO <span class="token class-name">uint32_t</span><span class="token operator">*</span><span class="token punctuation">)</span>FLASH_ADDRESS<span class="token punctuation">;</span>  <span class="token comment">// 读取 Flash 数据</span>
</code></pre>
    <pre><code>4. 具有高实时性
	嵌入式系统通常需要实时响应，如汽车刹车系统、工业控制
	使用 RTOS（实时操作系统）或裸机（Bare Metal）提高实时性
	定时器（Timer）、中断（Interrupt）在嵌入式系统中至关重要

示例：STM32 定时器中断
</code></pre>
    <pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">HAL_TIM_PeriodElapsedCallback</span><span class="token punctuation">(</span>TIM_HandleTypeDef <span class="token operator">*</span>htim<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>htim<span class="token operator">-&gt;</span>Instance <span class="token operator">==</span> TIM2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">HAL_GPIO_TogglePin</span><span class="token punctuation">(</span>GPIOA<span class="token punctuation">,</span> GPIO_PIN_0<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 定时器触发 LED 闪烁</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <pre><code>5. 一般采用 C 语言开发
	C 语言是嵌入式开发的主要语言，因其高效、可移植性强
	部分系统使用 C++（如 Qt GUI）、Python（如 MicroPython）
	汇编用于极限优化（如 Bootloader、DSP 算法）

示例：STM32 C 代码
</code></pre>
    <pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"stm32f4xx.h"</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">HAL_Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">HAL_GPIO_TogglePin</span><span class="token punctuation">(</span>GPIOA<span class="token punctuation">,</span> GPIO_PIN_0<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">HAL_Delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>	
</code></pre>
    <p>
     嵌入式系统的硬件和软件特点决定了它的高效、低功耗、实时性和可靠性，硬件：小型化、低功耗、面向特定应用；软件：高效、实时、代码固化、多任务管理。在开发中需要合理应用与设计硬件和软件。
    </p>
    <p>
     <strong>
      以上。仅供学习与分享交流，请勿用于商业用途！转载需提前说明。
     </strong>
    </p>
    <p>
     <strong>
      我是一个十分热爱技术的程序员，希望这篇文章能够对您有帮助，也希望认识更多热爱程序开发的小伙伴。
      <br/>
      感谢！
     </strong>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f33393732353330392f:61727469636c652f64657461696c732f313436303432393134" class_="artid" style="display:none">
 </p>
</div>


