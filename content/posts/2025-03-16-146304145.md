---
layout: post
title: "网络编程URI和URL的区别TCPIP协议IP和端口URLConnection"
date: 2025-03-16 23:53:45 +0800
description: "网络编程、URI和URL的区别、TCP/IP协议、IP和端口、URLConnection"
keywords: "网络编程、URI和URL的区别、TCP/IP协议、IP和端口、URLConnection"
categories: ['Java']
tags: ['网络编程', 'Tcp', 'Java', 'Java']
artid: "146304145"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146304145
    alt: "网络编程URI和URL的区别TCPIP协议IP和端口URLConnection"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146304145
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146304145
cover: https://bing.ee123.net/img/rand?artid=146304145
image: https://bing.ee123.net/img/rand?artid=146304145
img: https://bing.ee123.net/img/rand?artid=146304145
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     网络编程、URI和URL的区别、TCP/IP协议、IP和端口、URLConnection
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="DAY121_Java_0">
     </a>
     DAY12.1 Java核心基础
    </h2>
    <h3>
     <a id="_2">
     </a>
     网络编程
    </h3>
    <p>
     在互联网时代，网络在生活中处处可见，javaWeb占据了很大一部分
    </p>
    <p>
     那如何实现javaWeb编程呢？
    </p>
    <p>
     Web编程就是运行在同一个网络下面的终端，使得它们之间可以进行数据传输
    </p>
    <blockquote>
     <p>
      计算机网络基本知识
     </p>
    </blockquote>
    <p>
     计算机网络是通过硬件设施，传输媒介把不同物理地址上的计算机网络进行连接，形成一个资源共享和数据传输的网络系统
    </p>
    <p>
     两台终端进行连接需要遵守规定的网络协议
    </p>
    <ul>
     <li>
      语法：数据信息的结构
     </li>
     <li>
      语义：描述请求、动作、响应
     </li>
     <li>
      同步：动作的实现顺序
     </li>
    </ul>
    <p>
     网络通信协议包括TCP/IP协议，IPX/SPX协议，NetBEUI协议，最常用的是TCP/IP协议
    </p>
    <blockquote>
     <p>
      TCP/IP协议的分层思想
     </p>
    </blockquote>
    <p>
     分层的优点：
    </p>
    <ul>
     <li>
      维护性扩展性好
     </li>
     <li>
      有利于系统的优化
     </li>
    </ul>
    <p>
     分层思想好处是只需要关注自己的业务，不需要关注其它层的业务，把传递过来的数据处理传递给下一层即可
    </p>
    <p>
     比如java代码的运行，它是运行在JVM虚拟机的，所以可以在不同的操作系统运行，做到了代码的跨平台性
    </p>
    <p>
     TCP/IP协议分为 4 层：
    </p>
    <ul>
     <li>
      应用层：整个体系结构中的顶层，通过应用之间的
      <strong>
       数据交互完成网络应用
      </strong>
     </li>
     <li>
      传输层：为两台终端的数据交互提供数据
      <strong>
       传输服务
      </strong>
     </li>
     <li>
      网络层：也叫 IP 层，负责为网络不同的终端提供
      <strong>
       通信服务
      </strong>
     </li>
     <li>
      网络接口层：包括
      <strong>
       数据链路层
      </strong>
      和
      <strong>
       物理层
      </strong>
      ，数据链路层：为数据传输提供链路协议，物理层指的是光纤、电缆、电磁波等真实存在的物理媒介，这些媒介可以传送网络信号
     </li>
    </ul>
    <p>
     A发消息给B的数据传输路线图：
    </p>
    <p>
     <img alt="image-20250316144220802" src="https://i-blog.csdnimg.cn/img_convert/c607049f3e45d7104c19d1097f19c596.png"/>
    </p>
    <h3>
     <a id="IP_44">
     </a>
     IP和端口
    </h3>
    <h4>
     <a id="IP_46">
     </a>
     IP
    </h4>
    <p>
     IP地址：互联网中每个终端的唯一标识，网路请求可以根据这个找到具体的计算机
    </p>
    <p>
     IP地址 = 网络地址，主机地址，网络地址的作用是找到主机所在的网络，主机地址是找到网络中的主机
    </p>
    <p>
     IP地址分为5类，各类地址的IP数量不同
    </p>
    <table>
     <thead>
      <tr>
       <th>
        分类
       </th>
       <th>
        范围
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        A类
       </td>
       <td>
        1.0.0.1~126.255.255.254
       </td>
      </tr>
      <tr>
       <td>
        B类
       </td>
       <td>
        128.0.0.1~191.255.255.254
       </td>
      </tr>
      <tr>
       <td>
        C类
       </td>
       <td>
        192.0.0.1~233.255.255.254
       </td>
      </tr>
      <tr>
       <td>
        D类
       </td>
       <td>
        224.0.0.1~239.255.255.254
       </td>
      </tr>
      <tr>
       <td>
        E类
       </td>
       <td>
        240.0.0.1~255.255.255.254
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     实际开发不用记住本机的IP地址
    </p>
    <p>
     可以用127.0.0.1或者localhost表示
     <strong>
      本机地址
     </strong>
    </p>
    <p>
     Java 中有专门的类来描述 IP 地址，这个类是 java.net.InetAddress
    </p>
    <table>
     <thead>
      <tr>
       <th>
        方法
       </th>
       <th>
        描述
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        public static InetAddress getLocalHost()
       </td>
       <td>
        获取本地主机的 InetAddress 对象
       </td>
      </tr>
      <tr>
       <td>
        public static InetAddress getByName(String host)
       </td>
       <td>
        通过主机名称创建 InetAddress 对象
       </td>
      </tr>
      <tr>
       <td>
        public String getName()
       </td>
       <td>
        获取主机名称
       </td>
      </tr>
      <tr>
       <td>
        public String getHostAddress()
       </td>
       <td>
        获取主机 IP 地址
       </td>
      </tr>
      <tr>
       <td>
        pubilc static InetAddress getByAddress(String host,byte[] addr)
       </td>
       <td>
        通过主机名称和 IP 地址创建 InetAddress 对象
       </td>
      </tr>
      <tr>
       <td>
        public static InetAddress getByAddress(byte[] addr)
       </td>
       <td>
        通过 IP 地址创建 InetAddress 对象
       </td>
      </tr>
     </tbody>
    </table>
    <h4>
     <a id="_77">
     </a>
     端口
    </h4>
    <p>
     IP好比酒店的地址，那么端口就是房间号，IP地址需要结合端口来一起使用，不然找不到具体的应用
    </p>
    <p>
     比如微信和QQ，他们两个软件运行在电脑的不同端口上面
    </p>
    <p>
     还有我们常见的软件的默认端口
    </p>
    <p>
     MySql：localhost:3306
    </p>
    <p>
     Tomcat：localhost:8080
    </p>
    <h4>
     <a id="URL__URLConnection_89">
     </a>
     URL 和 URLConnection
    </h4>
    <h5>
     <a id="URIUniform_Resource_Identifier_91">
     </a>
     URI（Uniform Resource Identifier）
    </h5>
    <p>
     网络资源是网络中真实存在的实体，比如文字、音频、图片、视频…
    </p>
    <p>
     如何通过程序获取网络资源呢？
    </p>
    <p>
     我们可以使用URI
    </p>
    <p>
     URI：统一资源定位符，可以指向目标实体
    </p>
    <p>
     Java.net包里面封装了一个类 URI ，使用 URI 的实例化对象就可以管理网络资源
    </p>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">URI</span> uri <span class="token operator">=</span> <span class="token constant">URI</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">"http://localhost:8080/user/login"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>uri<span class="token punctuation">.</span><span class="token function">getHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>uri<span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>uri<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="URLUniform_Resource_Locator_113">
     </a>
     URL（Uniform Resource Locator）
    </h4>
    <p>
     URL：统一资源位置，在 URI 的基础上进行了扩充，在定位资源的同时还提供了对应的网络地址，Java 也对 URL 进行了封装
    </p>
    <table>
     <thead>
      <tr>
       <th>
        方法
       </th>
       <th>
        描述
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        public URL(String protocol,String host,int port,String file)
       </td>
       <td>
        根据协议、IP地址、端口号、资源名称获取URL对象
       </td>
      </tr>
      <tr>
       <td>
        public final InputStream openStream()
       </td>
       <td>
        获取输入流对象
       </td>
      </tr>
     </tbody>
    </table>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">URL</span> url <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span><span class="token string">"http"</span><span class="token punctuation">,</span> <span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token string">"/index.html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">getHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">getProtocol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">openStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">InputStreamReader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">BufferedReader</span> bufferedReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span>reader<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> line<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>line <span class="token operator">=</span> bufferedReader<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="URLConnection_139">
     </a>
     URLConnection
    </h4>
    <p>
     URLConnection 用来描述 URL 指定资源的连接，是一个抽象类，常用的子类有
     <strong>
      HttpURLConnection
     </strong>
     ，URLConnection 底层是通过 HTTP 协议来处理的，它定义了访问远程网络资源的方法，通过 URLConnection 可以获取到 URL 资源的相关信息
    </p>
    <table>
     <thead>
      <tr>
       <th>
        方法
       </th>
       <th>
        描述
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        public int getContentLength()
       </td>
       <td>
        返回资源的长度，返回值为 int 类型
       </td>
      </tr>
      <tr>
       <td>
        public long getContentLengthLong()
       </td>
       <td>
        返回资源的长度，返回值为 long 类型
       </td>
      </tr>
      <tr>
       <td>
        public String getContentType()
       </td>
       <td>
        返回资源的类型
       </td>
      </tr>
      <tr>
       <td>
        public abstract void connect()
       </td>
       <td>
        判断连接的打开或关闭状态
       </td>
      </tr>
      <tr>
       <td>
        public InputStream getInputStream()
       </td>
       <td>
        获取输入流对象
       </td>
      </tr>
     </tbody>
    </table>
    <pre><code class="prism language-java"><span class="token class-name">URLConnection</span> urlConnection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span><span class="token string">"https://www.baidu.com"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">openConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取内容长度</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>urlConnection<span class="token punctuation">.</span><span class="token function">getContentLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取内容长度Long类型</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>urlConnection<span class="token punctuation">.</span><span class="token function">getContentLengthLong</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取类型</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>urlConnection<span class="token punctuation">.</span><span class="token function">getContentType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取编码</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>urlConnection<span class="token punctuation">.</span><span class="token function">getContentEncoding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取URL</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>urlConnection<span class="token punctuation">.</span><span class="token function">getURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
urlConnection<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取输入流</span>
<span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> urlConnection<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">BufferedReader</span> bufferedReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">String</span> line<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>line <span class="token operator">=</span> bufferedReader<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="TCP_174">
     </a>
     TCP协议
    </h4>
    <p>
     TCP 协议是面向连接的运算层协议，比较复杂，应用程序在使用TCP协议之前必须建立连接，才能传输数据，数据传输完毕之后需要释放连接
    </p>
    <p>
     就好比现实生活中的打电话，首先确保电话打通了才能进行通信，如果没有打通则阻塞，需要等待打通才能对话
    </p>
    <blockquote>
     <p>
      TCP优缺点：
     </p>
    </blockquote>
    <ul>
     <li>
      优点：安全可靠，数据不会丢失，并且数据是按照先后顺序依次到达
     </li>
     <li>
      缺点：速度慢，效率低，常用于对于业务安全要求较高的场景
     </li>
    </ul>
    <blockquote>
     <p>
      Java中如何使用 TCP 呢？
     </p>
    </blockquote>
    <p>
     java中通过Socket类来建立TCP连接，使用这个类可以在服务端和客户端建立一个可靠的连接
    </p>
    <p>
     Socket表示客户端，ServerSocket表示服务端
    </p>
    <p>
     它们都在java.net包中
    </p>
    <p>
     在服务端创建ServerSocket对象，通过对象的accept()方法可以接收到若干个表示客户端的Socket对象
    </p>
    <p>
     代码示例 我们请看下一篇
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f687574616f383839362f:61727469636c652f64657461696c732f313436333034313435" class_="artid" style="display:none">
 </p>
</div>


