---
layout: post
title: "Linux-DNS服务器搭建"
date: 2024-01-01 20:40:13 +0800
description: "Linux服务器DNS服务搭建_linux搭建dns服务器"
keywords: "linux搭建dns服务器"
categories: ['Linux']
tags: ['网络', '服务器', 'Linux']
artid: "135324006"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=135324006
    alt: "Linux-DNS服务器搭建"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=135324006
featuredImagePreview: https://bing.ee123.net/img/rand?artid=135324006
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Linux-DNS服务器搭建
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h3>
     <strong>
      一、基础知识
     </strong>
    </h3>
    <h5>
     <strong>
      1.什么是DNS?
     </strong>
    </h5>
    <p>
     DNS服务器（Domain Name Server，域名服务器）是进行域名和与之相对应的IP地址进行转换的服务器,使用的是UDP协议的53号端口，它用于TCP/IP网络，它所提供的服务是用来将主机名和域名转换为IP地址的工作。DNS服务器中保存了一张域名和与之相对应的IP地址 的表，以解析消息的域名。而域名是Internet上某一台计算机或计算机组的名称，用于在数据传输时标识计算机的电子方位（有时也指地理位置）。域名是由一串用点分隔的名字组成的，通常包含组织名，而且始终包括两到三个字母的后缀，以指明组织的类型或该域所在的国家或地区。
    </p>
    <h5>
     <strong>
      2.域名的格式
     </strong>
    </h5>
    <p>
     一般来说，域名由根域、顶级域名、次级域名、主机域名组成。
    </p>
    <p>
     1）根域：
     <code>
      .root
     </code>
     或者
     <code>
      .
     </code>
     ，根域名通常是省略的
    </p>
    <p>
     2）顶级域名：顶级域/域名后缀，一般是 .com、.net、.org、.com. cn、.cn 等等。各种域名后缀有不同含义，如 .com 意为商业/公司（Commercial / companies / company ），.net 意为网络（network），.org 意为组织（
     <a href="https://www.zhihu.com/search?q=organization&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2526511558%7D" rel="nofollow" title="organization">
      organization
     </a>
     ），.gov意为政府网站（government），.edu意为教育网站（education） ，.cn（中国国别域名）
    </p>
    <p>
     3）次级域名：fuyeor.com这样的域名就叫做“次级域名”，fuyeor.com.cn这样的域名也叫做“次级域名”。因为在有些时候，.com.cn也可能是一个组合起来的域名后缀。
    </p>
    <p>
     4）主机域名：也叫三级域名，例如 http://docs.fuyeor.com 前缀就是以docs开头的，那它就是个三级域名。
    </p>
    <p>
     eg :就以我们熟悉的www.baidu.com举例
    </p>
    <p>
     <span style="color:#333333">
      com: 一级域名. 表示这是一个企业域名。同级的还有 “net”(网络提供商), “org”(⾮非盈利组织) 等。
     </span>
    </p>
    <p>
     <span style="color:#333333">
      baidu: 二级域名，指公司名。
     </span>
    </p>
    <p>
     <span style="color:#333333">
      www: 表示主机域名为 www。
     </span>
    </p>
    <h3>
     <strong>
      二、环境简述
     </strong>
    </h3>
    <h5>
     <strong>
      1.所需环境
     </strong>
    </h5>
    <p>
     1）一台Linux系统设备（服务端，安装DNS）
    </p>
    <p>
     2）一台Windows7（客户端，做调试）
    </p>
    <h5>
     <strong>
      2.软件包和配置文件
     </strong>
    </h5>
    <p>
     1）bind.x86_64（软件包）
    </p>
    <p>
     2）主要涉及的配置文件
    </p>
    <p>
     /etc/named.conf --主配置文件
    </p>
    <p>
     /etc/named.rfc1912.zones --保存域名及IP对应关系所在地址
    </p>
    <p>
     /var/named --保存域名与IP地址的真实关系
    </p>
    <h3>
     三、正式部署
    </h3>
    <p>
     域名解析需求：
    </p>
    <p>
     正向域名解析：www.lc.top-------&gt;172.16.1.1
    </p>
    <p>
     反向域名解析：172.16.1.1--------&gt;www.lc.top
    </p>
    <h5>
     <strong>
      1）下载软件包
     </strong>
    </h5>
    <p>
     yum -y install bind.x86_64
     <img alt="" height="272" src="https://i-blog.csdnimg.cn/blog_migrate/f9a8bb5d7c05fdcf230c4da4ecf4cc97.png" width="797"/>
    </p>
    <p>
     出现以下提示则说明软件包已下载成功
    </p>
    <p>
     <img alt="" height="171" src="https://i-blog.csdnimg.cn/blog_migrate/99808ea44923911ae3051501e5d3d7bd.png" width="804"/>
    </p>
    <h5>
     <strong>
      2）校验下载的安装包是否完整
     </strong>
    </h5>
    <p>
     rpm -ql bind
     <img alt="" height="202" src="https://i-blog.csdnimg.cn/blog_migrate/1d14d64a06321bfe4144bad3a3e827c9.png" width="745"/>
    </p>
    <h5>
     <strong>
      3）修改主配置文件 vim /etc/named.conf
     </strong>
     <img alt="" height="205" src="https://i-blog.csdnimg.cn/blog_migrate/9dd2d04ca400c9b1749e337f5a06614c.png" width="632">
      <img alt="" height="79" src="https://i-blog.csdnimg.cn/blog_migrate/9f2e2cbb6f41c385494630b295d7e8a0.png" width="522"/>
     </img>
    </h5>
    <p>
     我的配置文件如下：
     <img alt="" height="210" src="https://i-blog.csdnimg.cn/blog_migrate/ec689416fe2fe6808a912ec3ae9245b4.png" width="744">
      <img alt="" height="121" src="https://i-blog.csdnimg.cn/blog_migrate/da20dc77a265f17e6b1b851f3450f4e9.png" width="585"/>
     </img>
    </p>
    <h5>
     <strong>
      4）修改定义域文件 vim /etc/named.rfc1912.zones
     </strong>
     <img alt="" height="440" src="https://i-blog.csdnimg.cn/blog_migrate/419e1b08ff48c7e91c57f4eb7f466f86.png" width="753">
      我的配置文件如下：
      <img alt="" height="441" src="https://i-blog.csdnimg.cn/blog_migrate/b0e82576f831dcba218661a194a9023e.png" width="740"/>
     </img>
    </h5>
    <h5>
     <strong>
      5）修改正向解析文件  vim /var/named/named.localhost
     </strong>
     <img alt="" height="275" src="https://i-blog.csdnimg.cn/blog_migrate/ade44e178706ecdc13ee4c95e5f5ed45.png" width="642"/>
    </h5>
    <p>
     我的配置文件如下：
    </p>
    <p>
     <img alt="" height="351" src="https://i-blog.csdnimg.cn/blog_migrate/e640eb308acaf914224ff66e83a666fb.png" width="729"/>
    </p>
    <h5>
     <strong>
      6）修改反向解析文件  vim  /var/named/named.loopback
     </strong>
     <img alt="" height="336" src="https://i-blog.csdnimg.cn/blog_migrate/9e613f0df649ad7f11d729bb73e62278.png" width="735"/>
    </h5>
    <p>
     我的配置文件如下：
     <img alt="" height="255" src="https://i-blog.csdnimg.cn/blog_migrate/d0c5efc77a17cb906165418c0520c3f8.png" width="704"/>
    </p>
    <h5>
     <strong>
      7）校验
     </strong>
     <img alt="" height="188" src="https://i-blog.csdnimg.cn/blog_migrate/23563a46632e6cf00204dd4b174aee4f.png" width="775"/>
    </h5>
    <h5>
     <strong>
      8）重启DNS服务 systemctl restart named
     </strong>
     <img alt="" height="163" src="https://i-blog.csdnimg.cn/blog_migrate/c711249c97d6d521cd3c3bd68368764d.png" width="654"/>
    </h5>
    <h5>
     <strong>
      9）验证
     </strong>
    </h5>
    <p>
     Windows： DNS地址改为自己搭建的DNS服务器
     <img alt="" height="205" src="https://i-blog.csdnimg.cn/blog_migrate/4c32d0ab6dbd5359144fab69cf4d7537.png" width="509"/>
    </p>
    <p>
     nslookup www.lc.top / nslookup 172.16.1.1
    </p>
    <p>
     <img alt="" height="318" src="https://i-blog.csdnimg.cn/blog_migrate/2f8eb3985218b499a06183698e041caa.png" width="763"/>
    </p>
    <p>
     -------------------------------------------------------------------------------------------------------------------
    </p>
    <p>
     如果解析不出来，可以检查一下DNS服务器的防火墙状态，如果为活跃状态，将其关闭（确保防火墙状态为关闭状态）
    </p>
    <p>
     至此，DNS域名服务器就搭建成功了！！！
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f35343134363639342f:61727469636c652f64657461696c732f313335333234303036" class_="artid" style="display:none">
 </p>
</div>


