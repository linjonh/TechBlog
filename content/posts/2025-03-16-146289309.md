---
layout: post
title: "fastapiangular实现个人博客"
date: 2025-03-16 02:39:30 +0800
description: "浏览界面 包括 文章名称  作者   发布或者修改时间， 文章分类  文章标签文章内容，底部显示对应文章的评论列表。step4:postman验证成功，说明后端+mysql已经完全处理好了，接下来写angular前端。展示所有文章列表，包括文章名称 作者名称 文章摘要  和两个按钮，编辑和浏览。step2:数据库mysql部分处理好了，接下来是fastapi后端接口。编辑界面，可以修改文章标题和文章内容，然后点击保存，需要更新数据库数据。step1:首先是mysql，建表，添加数据，查询。"
keywords: "fastapi+angular实现个人博客"
categories: ['Typescript']
tags: ['前端', 'Fastapi', 'Angular']
artid: "146289309"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146289309
    alt: "fastapiangular实现个人博客"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146289309
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146289309
cover: https://bing.ee123.net/img/rand?artid=146289309
image: https://bing.ee123.net/img/rand?artid=146289309
img: https://bing.ee123.net/img/rand?artid=146289309
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     fastapi+angular实现个人博客
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     说明：fastapi+angular实现个人博客
     <br/>
     博客系统：
     <br/>
     1.文章列表
     <br/>
     展示所有文章列表，包括文章名称 作者名称 文章摘要 和两个按钮，编辑和浏览
     <br/>
     2.编辑文章
     <br/>
     编辑界面，可以修改文章标题和文章内容，然后点击保存，需要更新数据库数据
     <br/>
     3. 浏览文章
     <br/>
     浏览界面 包括 文章名称 作者 发布或者修改时间， 文章分类 文章标签文章内容，底部显示对应文章的评论列表
    </p>
    <p>
     效果图：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/04156f7619244dcb95e464b3a1c86b63.png#pic_center"/>
    </p>
    <p>
     step1:首先是mysql，建表，添加数据，查询
    </p>
    <pre><code class="prism language-sql">
 <span class="token comment">-- ----------------------------</span>
<span class="token comment">-- 创建数据库</span>
<span class="token comment">-- ----------------------------</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> db_school
<span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span> <span class="token operator">=</span> utf8mb4
<span class="token keyword">DEFAULT</span> <span class="token keyword">COLLATE</span> <span class="token operator">=</span> utf8mb4_unicode_ci<span class="token punctuation">;</span>

<span class="token keyword">USE</span> db_school<span class="token punctuation">;</span>

<span class="token comment">-- ----------------------------</span>
<span class="token comment">-- 1. 用户表（含管理员标识）</span>
<span class="token comment">-- ----------------------------</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> users <span class="token punctuation">(</span>
    user_id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">COMMENT</span> <span class="token string">'用户ID'</span><span class="token punctuation">,</span>
    username <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">UNIQUE</span> <span class="token keyword">COMMENT</span> <span class="token string">'用户名'</span><span class="token punctuation">,</span>
    password_hash <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'BCrypt加密密码'</span><span class="token punctuation">,</span>
    email <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">UNIQUE</span> <span class="token keyword">COMMENT</span> <span class="token string">'邮箱'</span><span class="token punctuation">,</span>
    avatar_url <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">'/default-avatar.png'</span> <span class="token keyword">COMMENT</span> <span class="token string">'头像地址'</span><span class="token punctuation">,</span>
    is_admin <span class="token keyword">TINYINT</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span> <span class="token keyword">COMMENT</span> <span class="token string">'是否管理员'</span><span class="token punctuation">,</span>
    created_at <span class="token keyword">DATETIME</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">,</span>
    updated_at <span class="token keyword">DATETIME</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span> <span class="token keyword">ON</span> <span class="token keyword">UPDATE</span> <span class="token keyword">CURRENT_TIMESTAMP</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4<span class="token punctuation">;</span>

<span class="token comment">-- 添加索引</span>
<span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> idx_users_email <span class="token keyword">ON</span> users<span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- ----------------------------</span>
<span class="token comment">-- 2. 分类表</span>
<span class="token comment">-- ----------------------------</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> categories <span class="token punctuation">(</span>
    category_id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">UNIQUE</span> <span class="token keyword">COMMENT</span> <span class="token string">'分类名称'</span><span class="token punctuation">,</span>
    slug <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">UNIQUE</span> <span class="token keyword">COMMENT</span> <span class="token string">'URL友好标识'</span><span class="token punctuation">,</span>
    description <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">'分类描述'</span><span class="token punctuation">,</span>
    created_at <span class="token keyword">DATETIME</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4<span class="token punctuation">;</span>

<span class="token comment">-- ----------------------------</span>
<span class="token comment">-- 3. 标签表</span>
<span class="token comment">-- ----------------------------</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> tags <span class="token punctuation">(</span>
    tag_id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">UNIQUE</span> <span class="token keyword">COMMENT</span> <span class="token string">'标签名称'</span><span class="token punctuation">,</span>
    color <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">'#4a5568'</span> <span class="token keyword">COMMENT</span> <span class="token string">'标签颜色'</span><span class="token punctuation">,</span>
    created_at <span class="token keyword">DATETIME</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4<span class="token punctuation">;</span>

<span class="token comment">-- ----------------------------</span>
<span class="token comment">-- 4. 文章核心表（元数据与内容分离设计）</span>
<span class="token comment">-- ----------------------------</span>
<span class="token comment">-- 4.1 文章元数据表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> articles <span class="token punctuation">(</span>
    article_id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    user_id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    title <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'文章标题'</span><span class="token punctuation">,</span>
    slug <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">UNIQUE</span> <span class="token keyword">COMMENT</span> <span class="token string">'URL友好标识'</span><span class="token punctuation">,</span>
    summary <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">'文章摘要'</span><span class="token punctuation">,</span>
    cover_url <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">'封面图地址'</span><span class="token punctuation">,</span>
    category_id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span><span class="token punctuation">,</span>
    <span class="token keyword">status</span> <span class="token keyword">ENUM</span><span class="token punctuation">(</span><span class="token string">'draft'</span><span class="token punctuation">,</span> <span class="token string">'published'</span><span class="token punctuation">,</span> <span class="token string">'archived'</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">'draft'</span><span class="token punctuation">,</span>
    view_count <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span> <span class="token keyword">COMMENT</span> <span class="token string">'阅读量'</span><span class="token punctuation">,</span>
    is_top <span class="token keyword">TINYINT</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span> <span class="token keyword">COMMENT</span> <span class="token string">'是否置顶'</span><span class="token punctuation">,</span>
    created_at <span class="token keyword">DATETIME</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">,</span>
    updated_at <span class="token keyword">DATETIME</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span> <span class="token keyword">ON</span> <span class="token keyword">UPDATE</span> <span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">,</span>
    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>user_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> users<span class="token punctuation">(</span>user_id<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">CASCADE</span><span class="token punctuation">,</span>
    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>category_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> categories<span class="token punctuation">(</span>category_id<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">SET</span> <span class="token boolean">NULL</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4 ROW_FORMAT<span class="token operator">=</span>DYNAMIC<span class="token punctuation">;</span>

<span class="token comment">-- 4.2 文章内容表（分表存储优化）</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> article_contents <span class="token punctuation">(</span>
    article_id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    content <span class="token keyword">LONGTEXT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'Markdown格式内容'</span><span class="token punctuation">,</span>
    content_hash <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'内容SHA256校验值'</span><span class="token punctuation">,</span>
    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>article_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> articles<span class="token punctuation">(</span>article_id<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">CASCADE</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4 ROW_FORMAT<span class="token operator">=</span>DYNAMIC<span class="token punctuation">;</span>

<span class="token comment">-- 添加全文索引（英文支持）</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> article_contents <span class="token keyword">ADD</span> FULLTEXT <span class="token keyword">INDEX</span> idx_content <span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- ----------------------------</span>
<span class="token comment">-- 5. 文章标签关联表（多对多关系）</span>
<span class="token comment">-- ----------------------------</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> article_tags <span class="token punctuation">(</span>
    article_id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    tag_id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    created_at <span class="token keyword">DATETIME</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">,</span>
    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>article_id<span class="token punctuation">,</span> tag_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>article_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> articles<span class="token punctuation">(</span>article_id<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">CASCADE</span><span class="token punctuation">,</span>
    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>tag_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> tags<span class="token punctuation">(</span>tag_id<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">CASCADE</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4<span class="token punctuation">;</span>

<span class="token comment">-- ----------------------------</span>
<span class="token comment">-- 6. 评论表（支持嵌套评论）</span>
<span class="token comment">-- ----------------------------</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> comments <span class="token punctuation">(</span>
    comment_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    article_id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    user_id <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    content <span class="token keyword">TEXT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    parent_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'父评论ID'</span><span class="token punctuation">,</span>
    depth <span class="token keyword">TINYINT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span> <span class="token keyword">COMMENT</span> <span class="token string">'评论层级'</span><span class="token punctuation">,</span>
    created_at <span class="token keyword">DATETIME</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">,</span>
    updated_at <span class="token keyword">DATETIME</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span> <span class="token keyword">ON</span> <span class="token keyword">UPDATE</span> <span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">,</span>
    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>article_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> articles<span class="token punctuation">(</span>article_id<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">CASCADE</span><span class="token punctuation">,</span>
    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>user_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> users<span class="token punctuation">(</span>user_id<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">CASCADE</span><span class="token punctuation">,</span>
    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>parent_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> comments<span class="token punctuation">(</span>comment_id<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">CASCADE</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4<span class="token punctuation">;</span>

<span class="token comment">-- ----------------------------</span>
<span class="token comment">-- 插入测试数据</span>
<span class="token comment">-- ----------------------------</span>
<span class="token comment">-- 用户数据（密码均为123456）</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> users <span class="token punctuation">(</span>username<span class="token punctuation">,</span> password_hash<span class="token punctuation">,</span> email<span class="token punctuation">,</span> is_admin<span class="token punctuation">)</span> <span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token string">'admin'</span><span class="token punctuation">,</span> <span class="token string">'$2a$12$5h6B6oN3q1O7eDv9QzZV0.9xTJZ8Wq1k8Lw7sB6Yf5tKjV1mYJ/Ga'</span><span class="token punctuation">,</span> <span class="token string">'admin@blog.com'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'writer'</span><span class="token punctuation">,</span> <span class="token string">'$2a$12$5h6B6oN3q1O7eDv9QzZV0.9xTJZ8Wq1k8Lw7sB6Yf5tKjV1mYJ/Ga'</span><span class="token punctuation">,</span> <span class="token string">'writer@blog.com'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



<span class="token comment">-- 补充用户数据（共10条，密码均为123456）</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> users <span class="token punctuation">(</span>username<span class="token punctuation">,</span> password_hash<span class="token punctuation">,</span> email<span class="token punctuation">,</span> is_admin<span class="token punctuation">)</span> <span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token string">'user3'</span><span class="token punctuation">,</span> <span class="token string">'$2a$12$5h6B6oN3q1O7eDv9QzZV0.9xTJZ8Wq1k8Lw7sB6Yf5tKjV1mYJ/Ga'</span><span class="token punctuation">,</span> <span class="token string">'user3@blog.com'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'user4'</span><span class="token punctuation">,</span> <span class="token string">'$2a$12$5h6B6oN3q1O7eDv9QzZV0.9xTJZ8Wq1k8Lw7sB6Yf5tKjV1mYJ/Ga'</span><span class="token punctuation">,</span> <span class="token string">'user4@blog.com'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'user5'</span><span class="token punctuation">,</span> <span class="token string">'$2a$12$5h6B6oN3q1O7eDv9QzZV0.9xTJZ8Wq1k8Lw7sB6Yf5tKjV1mYJ/Ga'</span><span class="token punctuation">,</span> <span class="token string">'user5@blog.com'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'user6'</span><span class="token punctuation">,</span> <span class="token string">'$2a$12$5h6B6oN3q1O7eDv9QzZV0.9xTJZ8Wq1k8Lw7sB6Yf5tKjV1mYJ/Ga'</span><span class="token punctuation">,</span> <span class="token string">'user6@blog.com'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'user7'</span><span class="token punctuation">,</span> <span class="token string">'$2a$12$5h6B6oN3q1O7eDv9QzZV0.9xTJZ8Wq1k8Lw7sB6Yf5tKjV1mYJ/Ga'</span><span class="token punctuation">,</span> <span class="token string">'user7@blog.com'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'user8'</span><span class="token punctuation">,</span> <span class="token string">'$2a$12$5h6B6oN3q1O7eDv9QzZV0.9xTJZ8Wq1k8Lw7sB6Yf5tKjV1mYJ/Ga'</span><span class="token punctuation">,</span> <span class="token string">'user8@blog.com'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'user9'</span><span class="token punctuation">,</span> <span class="token string">'$2a$12$5h6B6oN3q1O7eDv9QzZV0.9xTJZ8Wq1k8Lw7sB6Yf5tKjV1mYJ/Ga'</span><span class="token punctuation">,</span> <span class="token string">'user9@blog.com'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'user10'</span><span class="token punctuation">,</span> <span class="token string">'$2a$12$5h6B6oN3q1O7eDv9QzZV0.9xTJZ8Wq1k8Lw7sB6Yf5tKjV1mYJ/Ga'</span><span class="token punctuation">,</span> <span class="token string">'user10@blog.com'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">-- 分类数据</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> categories <span class="token punctuation">(</span>name<span class="token punctuation">,</span> slug<span class="token punctuation">)</span> <span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token string">'技术'</span><span class="token punctuation">,</span> <span class="token string">'tech'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'生活'</span><span class="token punctuation">,</span> <span class="token string">'life'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'旅行'</span><span class="token punctuation">,</span> <span class="token string">'travel'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">-- 补充分类数据（共10条）</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> categories <span class="token punctuation">(</span>name<span class="token punctuation">,</span> slug<span class="token punctuation">,</span> description<span class="token punctuation">)</span> <span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token string">'编程'</span><span class="token punctuation">,</span> <span class="token string">'programming'</span><span class="token punctuation">,</span> <span class="token string">'编程语言学习与实践'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'数据库'</span><span class="token punctuation">,</span> <span class="token string">'database'</span><span class="token punctuation">,</span> <span class="token string">'数据库技术与应用'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'前端'</span><span class="token punctuation">,</span> <span class="token string">'frontend'</span><span class="token punctuation">,</span> <span class="token string">'前端开发技术'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'后端'</span><span class="token punctuation">,</span> <span class="token string">'backend'</span><span class="token punctuation">,</span> <span class="token string">'服务端开发实践'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'机器学习'</span><span class="token punctuation">,</span> <span class="token string">'ai'</span><span class="token punctuation">,</span> <span class="token string">'人工智能与机器学习'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'健康'</span><span class="token punctuation">,</span> <span class="token string">'health'</span><span class="token punctuation">,</span> <span class="token string">'健康生活方式'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'教育'</span><span class="token punctuation">,</span> <span class="token string">'education'</span><span class="token punctuation">,</span> <span class="token string">'教育学习资源'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'书籍'</span><span class="token punctuation">,</span> <span class="token string">'books'</span><span class="token punctuation">,</span> <span class="token string">'好书推荐与阅读'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'电影'</span><span class="token punctuation">,</span> <span class="token string">'movies'</span><span class="token punctuation">,</span> <span class="token string">'影视文化赏析'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'音乐'</span><span class="token punctuation">,</span> <span class="token string">'music'</span><span class="token punctuation">,</span> <span class="token string">'音乐艺术欣赏'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">-- 标签数据</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tags <span class="token punctuation">(</span>name<span class="token punctuation">,</span> color<span class="token punctuation">)</span> <span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token string">'Python'</span><span class="token punctuation">,</span> <span class="token string">'#3572A5'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'前端'</span><span class="token punctuation">,</span> <span class="token string">'#E34F26'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'数据库'</span><span class="token punctuation">,</span> <span class="token string">'#00758F'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'美食'</span><span class="token punctuation">,</span> <span class="token string">'#FF6B6B'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



<span class="token comment">-- 补充标签数据（共10条）</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tags <span class="token punctuation">(</span>name<span class="token punctuation">,</span> color<span class="token punctuation">)</span> <span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token string">'JavaScript'</span><span class="token punctuation">,</span> <span class="token string">'#f1e05a'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'Java'</span><span class="token punctuation">,</span> <span class="token string">'#b07219'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'Docker'</span><span class="token punctuation">,</span> <span class="token string">'#0db7ed'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'Linux'</span><span class="token punctuation">,</span> <span class="token string">'#fcc624'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'Git'</span><span class="token punctuation">,</span> <span class="token string">'#f14e32'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'React'</span><span class="token punctuation">,</span> <span class="token string">'#61dafb'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'Vue'</span><span class="token punctuation">,</span> <span class="token string">'#4fc08d'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'Node.js'</span><span class="token punctuation">,</span> <span class="token string">'#026e00'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'MySQL'</span><span class="token punctuation">,</span> <span class="token string">'#00758f'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'机器学习'</span><span class="token punctuation">,</span> <span class="token string">'#3c873a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 文章数据</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> articles <span class="token punctuation">(</span>user_id<span class="token punctuation">,</span> title<span class="token punctuation">,</span> slug<span class="token punctuation">,</span> category_id<span class="token punctuation">,</span> <span class="token keyword">status</span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'Python异步编程指南'</span><span class="token punctuation">,</span> <span class="token string">'python-async'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'published'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'东京美食地图'</span><span class="token punctuation">,</span> <span class="token string">'tokyo-food'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'published'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>




<span class="token comment">-- 补充文章数据（共10条）</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> articles <span class="token punctuation">(</span>user_id<span class="token punctuation">,</span> title<span class="token punctuation">,</span> slug<span class="token punctuation">,</span> summary<span class="token punctuation">,</span> category_id<span class="token punctuation">,</span> <span class="token keyword">status</span><span class="token punctuation">,</span> is_top<span class="token punctuation">)</span> <span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'JavaScript闭包详解'</span><span class="token punctuation">,</span> <span class="token string">'js-closure'</span><span class="token punctuation">,</span> <span class="token string">'深入理解JavaScript闭包机制'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'published'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'Docker容器化部署'</span><span class="token punctuation">,</span> <span class="token string">'docker-deploy'</span><span class="token punctuation">,</span> <span class="token string">'使用Docker进行项目部署'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'published'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'MySQL优化技巧'</span><span class="token punctuation">,</span> <span class="token string">'mysql-optimize'</span><span class="token punctuation">,</span> <span class="token string">'数据库性能优化实践'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'published'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">'React Hooks指南'</span><span class="token punctuation">,</span> <span class="token string">'react-hooks'</span><span class="token punctuation">,</span> <span class="token string">'React Hooks最佳实践'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'draft'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">'Vue3新特性解析'</span><span class="token punctuation">,</span> <span class="token string">'vue3-features'</span><span class="token punctuation">,</span> <span class="token string">'Composition API深度解析'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'published'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">'Linux常用命令'</span><span class="token punctuation">,</span> <span class="token string">'linux-commands'</span><span class="token punctuation">,</span> <span class="token string">'系统管理员必备命令'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'published'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token string">'Git高级技巧'</span><span class="token punctuation">,</span> <span class="token string">'git-advanced'</span><span class="token punctuation">,</span> <span class="token string">'分支管理与冲突解决'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">'published'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">'机器学习入门'</span><span class="token punctuation">,</span> <span class="token string">'ml-basics'</span><span class="token punctuation">,</span> <span class="token string">'监督学习与无监督学习'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'published'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'健康饮食指南'</span><span class="token punctuation">,</span> <span class="token string">'healthy-eating'</span><span class="token punctuation">,</span> <span class="token string">'营养均衡搭配方案'</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">'published'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'经典书籍推荐'</span><span class="token punctuation">,</span> <span class="token string">'book-recommend'</span><span class="token punctuation">,</span> <span class="token string">'2023年必读书单'</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">'published'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">-- 文章内容（包含Markdown代码块）</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> article_contents <span class="token punctuation">(</span>article_id<span class="token punctuation">,</span> content<span class="token punctuation">,</span> content_hash<span class="token punctuation">)</span> <span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>
<span class="token string">'## 异步函数示例\n```python\nimport asyncio\n\nasync def main():\n    print("Hello")\n    await asyncio.sleep(1)\n    print("World")\n\nasyncio.run(main())\n```'</span><span class="token punctuation">,</span>
SHA2<span class="token punctuation">(</span><span class="token string">'## 异步函数示例...'</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span>
<span class="token string">'## 必吃拉面店\n```\n地址: 东京都新宿区xxx\n推荐: 特制酱油拉面 🍜\n```'</span><span class="token punctuation">,</span>
SHA2<span class="token punctuation">(</span><span class="token string">'## 必吃拉面店...'</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



<span class="token comment">-- 补充文章内容（带Markdown代码示例）</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> article_contents <span class="token punctuation">(</span>article_id<span class="token punctuation">,</span> content<span class="token punctuation">,</span> content_hash<span class="token punctuation">)</span> <span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span>
<span class="token string">'## 闭包计数器示例\n```javascript\nfunction createCounter() {\n  let count = 0;\n  return function() {\n    return ++count;\n  };\n}\nconst counter = createCounter();\nconsole.log(counter()); // 1\nconsole.log(counter()); // 2\n```'</span><span class="token punctuation">,</span>
SHA2<span class="token punctuation">(</span><span class="token string">'## 闭包计数器示例...'</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span>
<span class="token string">'## Dockerfile示例\n```dockerfile\nFROM node:18-alpine\nWORKDIR /app\nCOPY package*.json ./\nRUN npm install\nCOPY . .\nEXPOSE 3000\nCMD ["npm", "start"]\n```'</span><span class="token punctuation">,</span>
SHA2<span class="token punctuation">(</span><span class="token string">'## Dockerfile示例...'</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span>
<span class="token string">'## 索引优化示例\n```sql\nEXPLAIN SELECT * FROM users\nWHERE created_at &gt; "2023-01-01"\nORDER BY user_id DESC\nLIMIT 10;\n```'</span><span class="token punctuation">,</span>
SHA2<span class="token punctuation">(</span><span class="token string">'## 索引优化示例...'</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span>
<span class="token string">'## useState基本用法\n```jsx\nimport { useState } from "react";\nfunction Counter() {\n  const [count, setCount] = useState(0);\n  return (\n    &lt;button onClick={() =&gt; setCount(c =&gt; c+1)}&gt;\n      Clicked {count} times\n    &lt;/button&gt;\n  );\n}\n```'</span><span class="token punctuation">,</span>
SHA2<span class="token punctuation">(</span><span class="token string">'## useState基本用法...'</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span>
<span class="token string">'## setup函数示例\n```vue\n&lt;script setup&gt;\nimport { ref } from "vue"\nconst msg = ref("Hello Vue3!")\n&lt;/script&gt;\n&lt;template&gt;\n  &lt;h1&gt;{<!-- -->{ msg }}&lt;/h1&gt;\n&lt;/template&gt;\n```'</span><span class="token punctuation">,</span>
SHA2<span class="token punctuation">(</span><span class="token string">'## setup函数示例...'</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span>
<span class="token string">'## 进程查看命令\n```bash\nps aux | grep nginx\ntop -u www-data\n```'</span><span class="token punctuation">,</span>
SHA2<span class="token punctuation">(</span><span class="token string">'## 进程查看命令...'</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span>
<span class="token string">'## 分支合并示例\n```bash\ngit checkout feature\ngit rebase main\ngit checkout main\ngit merge feature\n```'</span><span class="token punctuation">,</span>
SHA2<span class="token punctuation">(</span><span class="token string">'## 分支合并示例...'</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span>
<span class="token string">'## 线性回归示例\n```python\nfrom sklearn.linear_model import LinearRegression\nmodel = LinearRegression()\nmodel.fit(X_train, y_train)\npredictions = model.predict(X_test)\n```'</span><span class="token punctuation">,</span>
SHA2<span class="token punctuation">(</span><span class="token string">'## 线性回归示例...'</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span>
<span class="token string">'## 营养搭配表\n| 食物类型 | 推荐摄入量 |\n|----------|------------|\n| 蛋白质   | 每天200g   |\n| 蔬菜     | 每天500g   |\n| 碳水     | 每天300g   |\n'</span><span class="token punctuation">,</span>
SHA2<span class="token punctuation">(</span><span class="token string">'## 营养搭配表...'</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span>
<span class="token string">'## 书单推荐\n1. 《代码整洁之道》\n2. 《深入理解计算机系统》\n3. 《人类简史》\n```\n每周阅读至少10小时\n```'</span><span class="token punctuation">,</span>
SHA2<span class="token punctuation">(</span><span class="token string">'## 书单推荐...'</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 标签关联</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> article_tags <span class="token punctuation">(</span>article_id<span class="token punctuation">,</span> tag_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">-- Python文章关联Python和数据库标签</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">-- 美食文章关联美食标签</span>


<span class="token comment">-- 补充标签关联（共20条）</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> article_tags <span class="token punctuation">(</span>article_id<span class="token punctuation">,</span> tag_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>   <span class="token comment">-- JavaScript, 前端</span>
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>   <span class="token comment">-- Docker, Git</span>
<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token comment">-- MySQL</span>
<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>   <span class="token comment">-- React, JavaScript</span>
<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>   <span class="token comment">-- Vue, JavaScript</span>
<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>   <span class="token comment">-- Linux, MySQL</span>
<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token comment">-- Git</span>
<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token comment">-- 机器学习</span>
<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>         <span class="token comment">-- 健康</span>
<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">-- 书籍</span>

<span class="token comment">-- 评论数据（含嵌套评论）</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> comments <span class="token punctuation">(</span>article_id<span class="token punctuation">,</span> user_id<span class="token punctuation">,</span> content<span class="token punctuation">,</span> parent_id<span class="token punctuation">,</span> depth<span class="token punctuation">)</span> <span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'非常实用的教程！'</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'有帮助就好 😄'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'收藏了，下次去东京一定尝试！'</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>





<span class="token comment">-- 补充评论数据（共12条）</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> comments <span class="token punctuation">(</span>article_id<span class="token punctuation">,</span> user_id<span class="token punctuation">,</span> content<span class="token punctuation">,</span> parent_id<span class="token punctuation">,</span> depth<span class="token punctuation">)</span> <span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'闭包讲得很透彻！'</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'感谢支持！'</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">'Docker部署确实方便'</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">'索引优化效果明显'</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">'什么时候发布完整版？'</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token string">'Vue3的Composition API真香'</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">'命令总结得很全面'</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'rebase比merge更好用'</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'机器学习入门好文'</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'健康饮食很重要'</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'书单非常经典'</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">'能否讲讲联合索引？'</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">-- 包含分类名称、作者、标签列表、基础信息</span>
<span class="token keyword">SELECT</span>
    a<span class="token punctuation">.</span>article_id<span class="token punctuation">,</span>
    a<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
    u<span class="token punctuation">.</span>username <span class="token keyword">AS</span> author<span class="token punctuation">,</span>
    c<span class="token punctuation">.</span>name <span class="token keyword">AS</span> category<span class="token punctuation">,</span>
    GROUP_CONCAT<span class="token punctuation">(</span>t<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token keyword">AS</span> tags<span class="token punctuation">,</span>
    a<span class="token punctuation">.</span>view_count<span class="token punctuation">,</span>
    a<span class="token punctuation">.</span><span class="token keyword">status</span><span class="token punctuation">,</span>
    a<span class="token punctuation">.</span>is_top<span class="token punctuation">,</span>
    a<span class="token punctuation">.</span>created_at
<span class="token keyword">FROM</span> articles a
<span class="token keyword">JOIN</span> users u <span class="token keyword">ON</span> a<span class="token punctuation">.</span>user_id <span class="token operator">=</span> u<span class="token punctuation">.</span>user_id
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> categories c <span class="token keyword">ON</span> a<span class="token punctuation">.</span>category_id <span class="token operator">=</span> c<span class="token punctuation">.</span>category_id
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> article_tags at <span class="token keyword">ON</span> a<span class="token punctuation">.</span>article_id <span class="token operator">=</span> at<span class="token punctuation">.</span>article_id
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> tags t <span class="token keyword">ON</span> at<span class="token punctuation">.</span>tag_id <span class="token operator">=</span> t<span class="token punctuation">.</span>tag_id
<span class="token keyword">WHERE</span> a<span class="token punctuation">.</span><span class="token keyword">status</span> <span class="token operator">=</span> <span class="token string">'published'</span> <span class="token comment">-- 可调整状态筛选</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> a<span class="token punctuation">.</span>article_id
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> a<span class="token punctuation">.</span>is_top <span class="token keyword">DESC</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span>created_at <span class="token keyword">DESC</span>
 <span class="token punctuation">;</span> <span class="token comment">-- 分页参数</span>


<span class="token comment">-- 获取文章基础信息</span>
<span class="token keyword">SELECT</span>
    a<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>
    u<span class="token punctuation">.</span>username<span class="token punctuation">,</span>
    c<span class="token punctuation">.</span>name <span class="token keyword">AS</span> category_name<span class="token punctuation">,</span>
    ac<span class="token punctuation">.</span>content<span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token keyword">SELECT</span> GROUP_CONCAT<span class="token punctuation">(</span>t<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
     <span class="token keyword">FROM</span> article_tags at
     <span class="token keyword">JOIN</span> tags t <span class="token keyword">ON</span> at<span class="token punctuation">.</span>tag_id <span class="token operator">=</span> t<span class="token punctuation">.</span>tag_id
     <span class="token keyword">WHERE</span> at<span class="token punctuation">.</span>article_id <span class="token operator">=</span> a<span class="token punctuation">.</span>article_id<span class="token punctuation">)</span> <span class="token keyword">AS</span> tags
<span class="token keyword">FROM</span> articles a
<span class="token keyword">JOIN</span> users u <span class="token keyword">ON</span> a<span class="token punctuation">.</span>user_id <span class="token operator">=</span> u<span class="token punctuation">.</span>user_id
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> categories c <span class="token keyword">ON</span> a<span class="token punctuation">.</span>category_id <span class="token operator">=</span> c<span class="token punctuation">.</span>category_id
<span class="token keyword">JOIN</span> article_contents ac <span class="token keyword">ON</span> a<span class="token punctuation">.</span>article_id <span class="token operator">=</span> ac<span class="token punctuation">.</span>article_id
<span class="token keyword">WHERE</span> a<span class="token punctuation">.</span>article_id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">-- 通过slug查询</span>

<span class="token comment">-- 获取关联评论（支持嵌套）</span>
<span class="token keyword">SELECT</span>
    comment_id<span class="token punctuation">,</span>
    user_id<span class="token punctuation">,</span>
    content<span class="token punctuation">,</span>
    parent_id<span class="token punctuation">,</span>
    depth<span class="token punctuation">,</span>
    created_at
<span class="token keyword">FROM</span> comments
<span class="token keyword">WHERE</span> article_id <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> article_id <span class="token keyword">FROM</span> articles <span class="token keyword">WHERE</span> article_id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> parent_id <span class="token keyword">ASC</span><span class="token punctuation">,</span> created_at <span class="token keyword">ASC</span><span class="token punctuation">;</span>

<span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>

<span class="token comment">-- 更新文章元数据</span>
<span class="token keyword">UPDATE</span> articles
<span class="token keyword">SET</span>
    title <span class="token operator">=</span> <span class="token string">'mysql新标题'</span><span class="token punctuation">,</span>
    summary <span class="token operator">=</span> <span class="token string">'新摘要'</span><span class="token punctuation">,</span>
    category_id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token keyword">status</span> <span class="token operator">=</span> <span class="token string">'published'</span><span class="token punctuation">,</span>
    updated_at <span class="token operator">=</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">WHERE</span> article_id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment">-- 更新文章内容</span>
<span class="token keyword">UPDATE</span> article_contents
<span class="token keyword">SET</span>
    content <span class="token operator">=</span> <span class="token string">'新的Markdown内容'</span><span class="token punctuation">,</span>
    content_hash <span class="token operator">=</span> SHA2<span class="token punctuation">(</span><span class="token string">'新的Markdown内容'</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span>
<span class="token keyword">WHERE</span> article_id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token keyword">COMMIT</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     step2:数据库mysql部分处理好了，接下来是fastapi后端接口
     <br/>
     C:\Users\wangrusheng\PycharmProjects\FastAPIProject\main.py
    </p>
    <pre><code class="prism language-python"><span class="token keyword">from</span> fastapi <span class="token keyword">import</span> FastAPI<span class="token punctuation">,</span> HTTPException
<span class="token keyword">from</span> fastapi<span class="token punctuation">.</span>middleware<span class="token punctuation">.</span>cors <span class="token keyword">import</span> CORSMiddleware
<span class="token keyword">import</span> pymysql<span class="token punctuation">.</span>cursors
<span class="token keyword">from</span> pydantic <span class="token keyword">import</span> BaseModel
<span class="token keyword">from</span> pymysql <span class="token keyword">import</span> MySQLError
<span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime

app <span class="token operator">=</span> FastAPI<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># CORS配置保持不变</span>
app<span class="token punctuation">.</span>add_middleware<span class="token punctuation">(</span>
    CORSMiddleware<span class="token punctuation">,</span>
    allow_origins<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"http://localhost:4200"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    allow_credentials<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
    allow_methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"*"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    allow_headers<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"*"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token comment"># 修正数据库配置</span>
DB_CONFIG <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">'host'</span><span class="token punctuation">:</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span>
    <span class="token string">'user'</span><span class="token punctuation">:</span> <span class="token string">'root'</span><span class="token punctuation">,</span>
    <span class="token string">'password'</span><span class="token punctuation">:</span> <span class="token string">'123456'</span><span class="token punctuation">,</span>
    <span class="token string">'db'</span><span class="token punctuation">:</span> <span class="token string">'db_school'</span><span class="token punctuation">,</span>  <span class="token comment"># 修正数据库名称</span>
    <span class="token string">'charset'</span><span class="token punctuation">:</span> <span class="token string">'utf8mb4'</span><span class="token punctuation">,</span>
    <span class="token string">'cursorclass'</span><span class="token punctuation">:</span> pymysql<span class="token punctuation">.</span>cursors<span class="token punctuation">.</span>DictCursor
<span class="token punctuation">}</span>


<span class="token comment"># 通用查询方法</span>
<span class="token keyword">def</span> <span class="token function">query_database</span><span class="token punctuation">(</span>query<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> params<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        connection <span class="token operator">=</span> pymysql<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token operator">**</span>DB_CONFIG<span class="token punctuation">)</span>
        <span class="token keyword">with</span> connection<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> cursor<span class="token punctuation">:</span>
            cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>query<span class="token punctuation">,</span> params<span class="token punctuation">)</span>
            result <span class="token operator">=</span> cursor<span class="token punctuation">.</span>fetchall<span class="token punctuation">(</span><span class="token punctuation">)</span>
        connection<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> result
    <span class="token keyword">except</span> MySQLError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        <span class="token keyword">raise</span> HTTPException<span class="token punctuation">(</span>status_code<span class="token operator">=</span><span class="token number">500</span><span class="token punctuation">,</span> detail<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f"Database error: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token builtin">str</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>


<span class="token comment"># 1. 文章列表接口</span>
<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>get</span><span class="token punctuation">(</span><span class="token string">"/articles"</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">get_articles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    获取所有文章列表
    Returns: [
        {
            "article_id": int,
            "title": str,
            "author": str,
            "summary": str,
            "created_at": datetime,
            "updated_at": datetime
        }
    ]
    """</span>
    query <span class="token operator">=</span> <span class="token triple-quoted-string string">"""
    SELECT 
        a.article_id,
        a.title,
        u.username AS author,
        a.summary,
        a.created_at,
        a.updated_at
    FROM articles a
    JOIN users u ON a.user_id = u.user_id
    ORDER BY a.created_at DESC
    """</span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span><span class="token string">"data"</span><span class="token punctuation">:</span> query_database<span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">}</span>


<span class="token comment"># 2. 文章详情接口</span>
<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>get</span><span class="token punctuation">(</span><span class="token string">"/articles/{article_id}"</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">get_article_detail</span><span class="token punctuation">(</span>article_id<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    获取文章详细信息及评论
    Returns: {
        "title": str,
        "author": str,
        "created_at": datetime,
        "updated_at": datetime,
        "category": str,
        "tags": List[str],
        "content": str,
        "comments": [
            {
                "content": str,
                "commenter": str,
                "created_at": datetime
            }
        ]
    }
    """</span>
    <span class="token comment"># 获取文章基本信息</span>
    article_query <span class="token operator">=</span> <span class="token triple-quoted-string string">"""
    SELECT 
        a.title,
        u.username AS author,
        a.created_at,
        a.updated_at,
        c.name AS category,
        GROUP_CONCAT(t.name) AS tags,
        ac.content
    FROM articles a
    JOIN users u ON a.user_id = u.user_id
    LEFT JOIN categories c ON a.category_id = c.category_id
    LEFT JOIN article_tags at ON a.article_id = at.article_id
    LEFT JOIN tags t ON at.tag_id = t.tag_id
    JOIN article_contents ac ON a.article_id = ac.article_id
    WHERE a.article_id = %s
    GROUP BY a.article_id
    """</span>
    article_data <span class="token operator">=</span> query_database<span class="token punctuation">(</span>article_query<span class="token punctuation">,</span> <span class="token punctuation">(</span>article_id<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span> <span class="token keyword">not</span> article_data<span class="token punctuation">:</span>
        <span class="token keyword">raise</span> HTTPException<span class="token punctuation">(</span>status_code<span class="token operator">=</span><span class="token number">404</span><span class="token punctuation">,</span> detail<span class="token operator">=</span><span class="token string">"文章未找到"</span><span class="token punctuation">)</span>

    article <span class="token operator">=</span> article_data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

    <span class="token comment"># 处理标签数据</span>
    tags <span class="token operator">=</span> article<span class="token punctuation">[</span><span class="token string">"tags"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span> <span class="token keyword">if</span> article<span class="token punctuation">[</span><span class="token string">"tags"</span><span class="token punctuation">]</span> <span class="token keyword">else</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

    <span class="token comment"># 获取评论数据</span>
    comments_query <span class="token operator">=</span> <span class="token triple-quoted-string string">"""
    SELECT 
        cm.content,
        u.username AS commenter,
        cm.created_at
    FROM comments cm
    JOIN users u ON cm.user_id = u.user_id
    WHERE cm.article_id = %s
    ORDER BY cm.created_at DESC
    """</span>
    comments <span class="token operator">=</span> query_database<span class="token punctuation">(</span>comments_query<span class="token punctuation">,</span> <span class="token punctuation">(</span>article_id<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string">"data"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token operator">**</span>article<span class="token punctuation">,</span>
            <span class="token string">"tags"</span><span class="token punctuation">:</span> tags<span class="token punctuation">,</span>
            <span class="token string">"comments"</span><span class="token punctuation">:</span> comments
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>


<span class="token comment"># 修正后的完整代码段</span>
<span class="token keyword">class</span> <span class="token class-name">ArticleUpdate</span><span class="token punctuation">(</span>BaseModel<span class="token punctuation">)</span><span class="token punctuation">:</span>
    title<span class="token punctuation">:</span> <span class="token builtin">str</span>
    content<span class="token punctuation">:</span> <span class="token builtin">str</span>

<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>put</span><span class="token punctuation">(</span><span class="token string">"/articles/{article_id}"</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">update_article</span><span class="token punctuation">(</span>
    article_id<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span>
    update_data<span class="token punctuation">:</span> ArticleUpdate  <span class="token comment"># 通过模型接收请求体</span>
<span class="token punctuation">)</span><span class="token punctuation">:</span>
    title <span class="token operator">=</span> update_data<span class="token punctuation">.</span>title
    content <span class="token operator">=</span> update_data<span class="token punctuation">.</span>content
    connection <span class="token operator">=</span> <span class="token boolean">None</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        connection <span class="token operator">=</span> pymysql<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token operator">**</span>DB_CONFIG<span class="token punctuation">)</span>
        <span class="token keyword">with</span> connection<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> cursor<span class="token punctuation">:</span>
            <span class="token comment"># 验证文章存在</span>
            cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">"SELECT 1 FROM articles WHERE article_id = %s"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>article_id<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> cursor<span class="token punctuation">.</span>fetchone<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">raise</span> HTTPException<span class="token punctuation">(</span>status_code<span class="token operator">=</span><span class="token number">404</span><span class="token punctuation">,</span> detail<span class="token operator">=</span><span class="token string">"文章不存在"</span><span class="token punctuation">)</span>

            <span class="token comment"># 更新文章表（修正这里）</span>
            cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>
                <span class="token string">"UPDATE articles SET title = %s, updated_at = %s WHERE article_id = %s"</span><span class="token punctuation">,</span>
                <span class="token punctuation">(</span>title<span class="token punctuation">,</span> datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> article_id<span class="token punctuation">)</span>
            <span class="token punctuation">)</span>  <span class="token comment"># 补全括号</span>

            <span class="token comment"># 更新内容表（修正这里）</span>
            cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>
                <span class="token string">"UPDATE article_contents SET content = %s WHERE article_id = %s"</span><span class="token punctuation">,</span>
                <span class="token punctuation">(</span>content<span class="token punctuation">,</span> article_id<span class="token punctuation">)</span>
            <span class="token punctuation">)</span>  <span class="token comment"># 补全括号</span>

            connection<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span><span class="token string">"message"</span><span class="token punctuation">:</span> <span class="token string">"文章更新成功"</span><span class="token punctuation">}</span>

    <span class="token keyword">except</span> MySQLError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        <span class="token keyword">if</span> connection<span class="token punctuation">:</span>
            connection<span class="token punctuation">.</span>rollback<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">raise</span> HTTPException<span class="token punctuation">(</span>status_code<span class="token operator">=</span><span class="token number">500</span><span class="token punctuation">,</span> detail<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f"数据库错误: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token builtin">str</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">finally</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> connection<span class="token punctuation">:</span>
            connection<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    <span class="token keyword">import</span> uvicorn

    uvicorn<span class="token punctuation">.</span>run<span class="token punctuation">(</span>app<span class="token punctuation">,</span> host<span class="token operator">=</span><span class="token string">"0.0.0.0"</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">8000</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     step3:后端接口写好了，接下来是postman测试
    </p>
    <pre><code class="prism language-bash">get请求 ：http://localhost:8000/articles/2


<span class="token punctuation">{<!-- --></span>
    <span class="token string">"data"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"东京美食地图"</span>,
        <span class="token string">"author"</span><span class="token builtin class-name">:</span> <span class="token string">"writer"</span>,
        <span class="token string">"created_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:08"</span>,
        <span class="token string">"updated_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:08"</span>,
        <span class="token string">"category"</span><span class="token builtin class-name">:</span> <span class="token string">"旅行"</span>,
        <span class="token string">"tags"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
            <span class="token string">"美食"</span>
        <span class="token punctuation">]</span>,
        <span class="token string">"content"</span><span class="token builtin class-name">:</span> "#<span class="token comment"># 必吃拉面店\n```\n地址: 东京都新宿区xxx\n推荐: 特制酱油拉面 🍜\n```",</span>
        <span class="token string">"comments"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token string">"content"</span><span class="token builtin class-name">:</span> <span class="token string">"收藏了，下次去东京一定尝试！"</span>,
                <span class="token string">"commenter"</span><span class="token builtin class-name">:</span> <span class="token string">"admin"</span>,
                <span class="token string">"created_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:33"</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

put请求 http://localhost:8000/articles/1

请求参数json

<span class="token punctuation">{<!-- --></span>
    <span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"新版Python异步编程指南（2024更新）"</span>,
    <span class="token string">"content"</span><span class="token builtin class-name">:</span> "#<span class="token comment"># 新增Python 3.12特性\n```python\nasync def coro():\n    await asyncio.sleep(1)\n```"</span>
<span class="token punctuation">}</span>

服务端返回结果：

<span class="token punctuation">{<!-- --></span>
    <span class="token string">"message"</span><span class="token builtin class-name">:</span> <span class="token string">"文章更新成功"</span>
<span class="token punctuation">}</span>




get请求 http://localhost:8000/articles

<span class="token punctuation">{<!-- --></span>
    <span class="token string">"data"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"article_id"</span><span class="token builtin class-name">:</span> <span class="token number">11</span>,
            <span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"健康饮食指南"</span>,
            <span class="token string">"author"</span><span class="token builtin class-name">:</span> <span class="token string">"admin"</span>,
            <span class="token string">"summary"</span><span class="token builtin class-name">:</span> <span class="token string">"营养均衡搭配方案"</span>,
            <span class="token string">"created_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:11"</span>,
            <span class="token string">"updated_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:11"</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"article_id"</span><span class="token builtin class-name">:</span> <span class="token number">10</span>,
            <span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"机器学习入门"</span>,
            <span class="token string">"author"</span><span class="token builtin class-name">:</span> <span class="token string">"user10"</span>,
            <span class="token string">"summary"</span><span class="token builtin class-name">:</span> <span class="token string">"监督学习与无监督学习"</span>,
            <span class="token string">"created_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:11"</span>,
            <span class="token string">"updated_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:11"</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"article_id"</span><span class="token builtin class-name">:</span> <span class="token number">3</span>,
            <span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"JavaScript闭包详解"</span>,
            <span class="token string">"author"</span><span class="token builtin class-name">:</span> <span class="token string">"user3"</span>,
            <span class="token string">"summary"</span><span class="token builtin class-name">:</span> <span class="token string">"深入理解JavaScript闭包机制"</span>,
            <span class="token string">"created_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:11"</span>,
            <span class="token string">"updated_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:11"</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"article_id"</span><span class="token builtin class-name">:</span> <span class="token number">4</span>,
            <span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"测试Docker容器化部署"</span>,
            <span class="token string">"author"</span><span class="token builtin class-name">:</span> <span class="token string">"user4"</span>,
            <span class="token string">"summary"</span><span class="token builtin class-name">:</span> <span class="token string">"使用Docker进行项目部署"</span>,
            <span class="token string">"created_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:11"</span>,
            <span class="token string">"updated_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-16T02:15:26"</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"article_id"</span><span class="token builtin class-name">:</span> <span class="token number">5</span>,
            <span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"MySQL优化技巧"</span>,
            <span class="token string">"author"</span><span class="token builtin class-name">:</span> <span class="token string">"user5"</span>,
            <span class="token string">"summary"</span><span class="token builtin class-name">:</span> <span class="token string">"数据库性能优化实践"</span>,
            <span class="token string">"created_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:11"</span>,
            <span class="token string">"updated_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:11"</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"article_id"</span><span class="token builtin class-name">:</span> <span class="token number">6</span>,
            <span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"React Hooks指南"</span>,
            <span class="token string">"author"</span><span class="token builtin class-name">:</span> <span class="token string">"user6"</span>,
            <span class="token string">"summary"</span><span class="token builtin class-name">:</span> <span class="token string">"React Hooks最佳实践"</span>,
            <span class="token string">"created_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:11"</span>,
            <span class="token string">"updated_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:11"</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"article_id"</span><span class="token builtin class-name">:</span> <span class="token number">7</span>,
            <span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"angularVue3新特性解析"</span>,
            <span class="token string">"author"</span><span class="token builtin class-name">:</span> <span class="token string">"user7"</span>,
            <span class="token string">"summary"</span><span class="token builtin class-name">:</span> <span class="token string">"Composition API深度解析"</span>,
            <span class="token string">"created_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:11"</span>,
            <span class="token string">"updated_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-16T02:22:03"</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"article_id"</span><span class="token builtin class-name">:</span> <span class="token number">8</span>,
            <span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"Linux常用命令"</span>,
            <span class="token string">"author"</span><span class="token builtin class-name">:</span> <span class="token string">"user8"</span>,
            <span class="token string">"summary"</span><span class="token builtin class-name">:</span> <span class="token string">"系统管理员必备命令"</span>,
            <span class="token string">"created_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:11"</span>,
            <span class="token string">"updated_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:11"</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"article_id"</span><span class="token builtin class-name">:</span> <span class="token number">9</span>,
            <span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"Git高级技巧"</span>,
            <span class="token string">"author"</span><span class="token builtin class-name">:</span> <span class="token string">"user9"</span>,
            <span class="token string">"summary"</span><span class="token builtin class-name">:</span> <span class="token string">"分支管理与冲突解决"</span>,
            <span class="token string">"created_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:11"</span>,
            <span class="token string">"updated_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:11"</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"article_id"</span><span class="token builtin class-name">:</span> <span class="token number">12</span>,
            <span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"经典书籍推荐"</span>,
            <span class="token string">"author"</span><span class="token builtin class-name">:</span> <span class="token string">"writer"</span>,
            <span class="token string">"summary"</span><span class="token builtin class-name">:</span> <span class="token string">"2023年必读书单"</span>,
            <span class="token string">"created_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:11"</span>,
            <span class="token string">"updated_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:11"</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"article_id"</span><span class="token builtin class-name">:</span> <span class="token number">1</span>,
            <span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"新版wpsPython异步编程指南（2024更新）"</span>,
            <span class="token string">"author"</span><span class="token builtin class-name">:</span> <span class="token string">"admin"</span>,
            <span class="token string">"summary"</span><span class="token builtin class-name">:</span> <span class="token string">"新摘要"</span>,
            <span class="token string">"created_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:08"</span>,
            <span class="token string">"updated_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-16T02:09:34"</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"article_id"</span><span class="token builtin class-name">:</span> <span class="token number">2</span>,
            <span class="token string">"title"</span><span class="token builtin class-name">:</span> <span class="token string">"东京美食地图"</span>,
            <span class="token string">"author"</span><span class="token builtin class-name">:</span> <span class="token string">"writer"</span>,
            <span class="token string">"summary"</span><span class="token builtin class-name">:</span> null,
            <span class="token string">"created_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:08"</span>,
            <span class="token string">"updated_at"</span><span class="token builtin class-name">:</span> <span class="token string">"2025-03-15T23:14:08"</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>



</code></pre>
    <p>
     step4:postman验证成功，说明后端+mysql已经完全处理好了，接下来写angular前端
     <br/>
     安装ngx-markdown 将md转html
    </p>
    <pre><code class="prism language-bash"> <span class="token function">npm</span> <span class="token function">install</span> marked @types/marked   
</code></pre>
    <p>
     step5:配置ngx-markdown
     <br/>
     C:\Users\wangrusheng\WebstormProjects\untitled4\src\app\app.config.ts
    </p>
    <pre><code class="prism language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> ApplicationConfig<span class="token punctuation">,</span> provideZoneChangeDetection <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> provideRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/router'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> provideHttpClient <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/common/http'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> routes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./app.routes'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> provideIndexedDb <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'ngx-indexed-db'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> <span class="token constant">DB_CONFIG</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./db.config'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> provideMarkdown <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'ngx-markdown'</span><span class="token punctuation">;</span>


<span class="token keyword">export</span> <span class="token keyword">const</span> appConfig<span class="token operator">:</span> ApplicationConfig <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  providers<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">provideMarkdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">provideIndexedDb</span><span class="token punctuation">(</span><span class="token constant">DB_CONFIG</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">provideHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">provideZoneChangeDetection</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> eventCoalescing<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">provideRouter</span><span class="token punctuation">(</span>routes<span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


</code></pre>
    <p>
     step6:添加路由
    </p>
    <pre><code class="prism language-bash">C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>wangrusheng<span class="token punctuation">\</span>WebstormProjects<span class="token punctuation">\</span>untitled4<span class="token punctuation">\</span>src<span class="token punctuation">\</span>app<span class="token punctuation">\</span>app.component.html

      <span class="token operator">&lt;</span>a <span class="token assign-left variable">routerLink</span><span class="token operator">=</span><span class="token string">"/article-list"</span> <span class="token assign-left variable">routerLinkActive</span><span class="token operator">=</span><span class="token string">"active"</span><span class="token operator">&gt;</span>博客列表<span class="token operator">&lt;</span>/a<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>a <span class="token assign-left variable">routerLink</span><span class="token operator">=</span><span class="token string">"/article-detail"</span> <span class="token assign-left variable">routerLinkActive</span><span class="token operator">=</span><span class="token string">"active"</span><span class="token operator">&gt;</span>博客详情<span class="token operator">&lt;</span>/a<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>a <span class="token assign-left variable">routerLink</span><span class="token operator">=</span><span class="token string">"/article-edit"</span> <span class="token assign-left variable">routerLinkActive</span><span class="token operator">=</span><span class="token string">"active"</span><span class="token operator">&gt;</span>编辑博客<span class="token operator">&lt;</span>/a<span class="token operator">&gt;</span>

C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>wangrusheng<span class="token punctuation">\</span>WebstormProjects<span class="token punctuation">\</span>untitled4<span class="token punctuation">\</span>src<span class="token punctuation">\</span>app<span class="token punctuation">\</span>app.routes.ts

  <span class="token punctuation">{<!-- --></span>
    path: <span class="token string">'article-list'</span>,
    component: ArticleListComponent,
  <span class="token punctuation">}</span>,


  <span class="token punctuation">{<!-- --></span> path: <span class="token string">'article-detail/:id'</span>, component: ArticleDetailComponent <span class="token punctuation">}</span>,
  <span class="token punctuation">{<!-- --></span> path: <span class="token string">'article-edit/:id'</span>, component: ArticleEditComponent <span class="token punctuation">}</span>,

</code></pre>
    <p>
     step7:封装的网络请求
     <br/>
     C:\Users\wangrusheng\WebstormProjects\untitled4\src\app\services\article.service.ts
    </p>
    <pre><code class="prism language-typescript"><span class="token comment">// article.service.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> Injectable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> HttpClient <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/common/http'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> Observable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Injectable</span></span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  providedIn<span class="token operator">:</span> <span class="token string">'root'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ArticleService</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">private</span> apiUrl <span class="token operator">=</span> <span class="token string">'http://localhost:8000'</span><span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> http<span class="token operator">:</span> HttpClient<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>

  <span class="token function">getArticles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>apiUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/articles</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">getArticle</span><span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>apiUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/articles/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">updateArticle</span><span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> data<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>apiUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/articles/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
    <p>
     step8:
     <br/>
     C:\Users\wangrusheng\WebstormProjects\untitled4\src\app\article-list\article-list.component.ts
    </p>
    <pre><code class="prism language-typescript"><span class="token comment">// article-list.component.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> Component<span class="token punctuation">,</span> OnInit <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> ArticleService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../services/article.service'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>CommonModule<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/common'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>RouterLink<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/router'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  selector<span class="token operator">:</span> <span class="token string">'app-article-list'</span><span class="token punctuation">,</span>
  standalone<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  imports<span class="token operator">:</span> <span class="token punctuation">[</span>CommonModule<span class="token punctuation">,</span> RouterLink<span class="token punctuation">]</span><span class="token punctuation">,</span>
  templateUrl<span class="token operator">:</span> <span class="token string">'./article-list.component.html'</span><span class="token punctuation">,</span>
  styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./article-list.component.css'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ArticleListComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">{<!-- --></span>
  articles<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> articleService<span class="token operator">:</span> ArticleService<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>articleService<span class="token punctuation">.</span><span class="token function">getArticles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>articles <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">,</span>
      <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
    <p>
     step9:C:\Users\wangrusheng\WebstormProjects\untitled4\src\app\article-list\article-list.component.html
    </p>
    <pre><code class="prism language-xml"><span class="token comment">&lt;!-- article-list.component.html --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>list-title<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>文章列表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>article-grid<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">*ngFor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>let article of articles<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>article-card<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-header<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>article-title<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{<!-- -->{ article.title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>article-id<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ID: {<!-- -->{ article.article_id }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-body<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>author<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>作者：{<!-- -->{ article.author }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>summary<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{<!-- -->{ article.summary || '暂无摘要' }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-actions<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">[routerLink]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>['/article-detail', article.article_id]<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>action-btn view-btn<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>浏览<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">[routerLink]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>['/article-edit', article.article_id]<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>action-btn edit-btn<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>编辑<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

</code></pre>
    <p>
     step10: C:\Users\wangrusheng\WebstormProjects\untitled4\src\app\article-list\article-list.component.css
    </p>
    <pre><code class="prism language-css"><span class="token comment">/* article-list.component.css */</span>
<span class="token selector">.container</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 2rem<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #f5f7fa<span class="token punctuation">;</span>  <span class="token comment">/* 浅灰色背景 */</span>
<span class="token punctuation">}</span>

<span class="token selector">.list-title</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">color</span><span class="token punctuation">:</span> #2c3e50<span class="token punctuation">;</span>  <span class="token comment">/* 深蓝色字体 */</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 2rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.article-grid</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>3<span class="token punctuation">,</span> 1fr<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">/* 三列布局 */</span>
  <span class="token property">gap</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>
  <span class="token property">max-width</span><span class="token punctuation">:</span> 1200px<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.article-card</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">background</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
  <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 4px 6px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> transform 0.2s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.article-card:hover</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span>-5px<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.card-header</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #eee<span class="token punctuation">;</span>
  <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.article-title</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">color</span><span class="token punctuation">:</span> #2c3e50<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 1.25rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.article-id</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #7f8c8d<span class="token punctuation">;</span>  <span class="token comment">/* 浅灰色 */</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 0.9rem<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.card-body</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">min-height</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.author</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">color</span><span class="token punctuation">:</span> #3498db<span class="token punctuation">;</span>  <span class="token comment">/* 蓝色 */</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0.5rem 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.summary</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">color</span><span class="token punctuation">:</span> #34495e<span class="token punctuation">;</span>  <span class="token comment">/* 深灰色 */</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 1.6<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 0.95rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.card-actions</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">gap</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.action-btn</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 8px 20px<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>  <span class="token comment">/* 圆角 */</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> 500<span class="token punctuation">;</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> all 0.3s<span class="token punctuation">;</span>
  <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.view-btn</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #3498db<span class="token punctuation">;</span>  <span class="token comment">/* 蓝色 */</span>
  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 2px solid #3498db<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.edit-btn</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #2ecc71<span class="token punctuation">;</span>  <span class="token comment">/* 绿色 */</span>
  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 2px solid #2ecc71<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.action-btn:hover</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0.9<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>0.98<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 响应式设计 */</span>
<span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 992px<span class="token punctuation">)</span></span> <span class="token punctuation">{<!-- --></span>
  <span class="token selector">.article-grid</span> <span class="token punctuation">{<!-- --></span>
    <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>2<span class="token punctuation">,</span> 1fr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 768px<span class="token punctuation">)</span></span> <span class="token punctuation">{<!-- --></span>
  <span class="token selector">.article-grid</span> <span class="token punctuation">{<!-- --></span>
    <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> 1fr<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
    <p>
     step11:C:\Users\wangrusheng\WebstormProjects\untitled4\src\app\article-edit\article-edit.component.ts
    </p>
    <pre><code class="prism language-typescript"><span class="token comment">// article-edit.component.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> Component<span class="token punctuation">,</span> OnInit <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> ArticleService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../services/article.service'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> ActivatedRoute<span class="token punctuation">,</span> Router <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/router'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> FormsModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/forms'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> MarkdownComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'ngx-markdown'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  selector<span class="token operator">:</span> <span class="token string">'app-article-edit'</span><span class="token punctuation">,</span>
  standalone<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  imports<span class="token operator">:</span> <span class="token punctuation">[</span>FormsModule<span class="token punctuation">,</span> MarkdownComponent<span class="token punctuation">]</span><span class="token punctuation">,</span>
  templateUrl<span class="token operator">:</span> <span class="token string">'./article-edit.component.html'</span><span class="token punctuation">,</span>
  styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./article-edit.component.css'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ArticleEditComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">{<!-- --></span>
  article<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> title<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">''</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  isSubmitting <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span>
    <span class="token keyword">private</span> service<span class="token operator">:</span> ArticleService<span class="token punctuation">,</span>
    <span class="token keyword">private</span> route<span class="token operator">:</span> ActivatedRoute<span class="token punctuation">,</span>
    <span class="token keyword">private</span> router<span class="token operator">:</span> Router
  <span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

  <span class="token comment">// article-edit.component.ts</span>
  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 正确获取参数并转换为数字</span>
    <span class="token keyword">const</span> idParam <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>route<span class="token punctuation">.</span>snapshot<span class="token punctuation">.</span>paramMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> articleId <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>idParam<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>articleId <span class="token operator">||</span> <span class="token function">isNaN</span><span class="token punctuation">(</span>articleId<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'无效的文章ID'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>service<span class="token punctuation">.</span><span class="token function">getArticle</span><span class="token punctuation">(</span>articleId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>article <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        <span class="token comment">// 确保数据包含ID</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>article<span class="token punctuation">.</span>article_id <span class="token operator">=</span> articleId<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'加载失败:'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

 <span class="token comment">/* ngOnInit() {
    const id = this.route.snapshot.params['id'];
    this.service.getArticle(id).subscribe({
      next: (res) =&gt; this.article = res.data,
      error: (err) =&gt; console.error(err)
    });
  }
*/</span>

  <span class="token function">onSubmit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> articleId <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>route<span class="token punctuation">.</span>snapshot<span class="token punctuation">.</span>paramMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>articleId<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'提交时ID无效'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>isSubmitting <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>service<span class="token punctuation">.</span><span class="token function">updateArticle</span><span class="token punctuation">(</span>articleId<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 使用路由参数中的ID</span>
      title<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>article<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
      content<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>article<span class="token punctuation">.</span>content
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>router<span class="token punctuation">.</span><span class="token function">navigate</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'/article-detail'</span><span class="token punctuation">,</span> articleId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'保存失败:'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>isSubmitting <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token comment">/*  onSubmit() {
    this.isSubmitting = true;
    this.service.updateArticle(this.article.article_id, {
      title: this.article.title,
      content: this.article.content
    }).subscribe({
      next: () =&gt; this.router.navigate(['/article-detail', this.article.article_id]),
      error: (err) =&gt; {
        console.error(err);
        this.isSubmitting = false;
      }
    });
  }*/</span>
<span class="token punctuation">}</span>

</code></pre>
    <p>
     step12:C:\Users\wangrusheng\WebstormProjects\untitled4\src\app\article-edit\article-edit.component.html
    </p>
    <pre><code class="prism language-xml"><span class="token comment">&lt;!-- article-edit.component.html --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>编辑文章<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">(ngSubmit)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onSubmit()<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>标题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">[(ngModel)]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>article.title<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span> <span class="token attr-name">required</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">[(ngModel)]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>article.content<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span>
                <span class="token attr-name">rows</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>15<span class="token punctuation">"</span></span> <span class="token attr-name">required</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>preview<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>预览<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>markdown</span> <span class="token attr-name">[data]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>article.content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>markdown</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">[disabled]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isSubmitting<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      {<!-- -->{ isSubmitting ? '保存中...' : '保存' }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

</code></pre>
    <p>
     step13: C:\Users\wangrusheng\WebstormProjects\untitled4\src\app\article-detail\article-detail.component.ts
    </p>
    <pre><code class="prism language-typescript"><span class="token comment">// article-detail.component.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> Component<span class="token punctuation">,</span> OnInit <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> ArticleService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../services/article.service'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> ActivatedRoute <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/router'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> CommonModule<span class="token punctuation">,</span> DatePipe <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/common'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> MarkdownComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'ngx-markdown'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> RouterModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/router'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  selector<span class="token operator">:</span> <span class="token string">'app-article-detail'</span><span class="token punctuation">,</span>
  standalone<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  imports<span class="token operator">:</span> <span class="token punctuation">[</span>
    CommonModule<span class="token punctuation">,</span>
    MarkdownComponent<span class="token punctuation">,</span>
    DatePipe<span class="token punctuation">,</span>
    RouterModule
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  templateUrl<span class="token operator">:</span> <span class="token string">'./article-detail.component.html'</span><span class="token punctuation">,</span>
  styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./article-detail.component.css'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ArticleDetailComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">{<!-- --></span>
  article<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  isLoading <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  errorMessage<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span>
    <span class="token keyword">private</span> articleService<span class="token operator">:</span> ArticleService<span class="token punctuation">,</span>
    <span class="token keyword">private</span> route<span class="token operator">:</span> ActivatedRoute
  <span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadArticle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token function">loadArticle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> articleId <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>route<span class="token punctuation">.</span>snapshot<span class="token punctuation">.</span>paramMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>articleId <span class="token operator">||</span> <span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token operator">+</span>articleId<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>errorMessage <span class="token operator">=</span> <span class="token string">'无效的文章ID'</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>isLoading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>articleService<span class="token punctuation">.</span><span class="token function">getArticle</span><span class="token punctuation">(</span><span class="token operator">+</span>articleId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>article <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>isLoading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'加载文章失败:'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>errorMessage <span class="token operator">=</span> <span class="token string">'无法加载文章内容，请稍后重试'</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>isLoading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">formatTags</span><span class="token punctuation">(</span>tagsString<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> tagsString <span class="token operator">?</span> tagsString<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
    <p>
     step14:C:\Users\wangrusheng\WebstormProjects\untitled4\src\app\article-detail\article-detail.component.html
    </p>
    <pre><code class="prism language-xml"><span class="token comment">&lt;!-- article-detail.component.html --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 加载状态 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">*ngIf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isLoading<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loading<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>spinner<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>正在加载文章...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- 错误提示 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">*ngIf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>errorMessage<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>error<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    {<!-- -->{ errorMessage }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">routerLink</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/article-list<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>返回文章列表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- 正常内容 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">*ngIf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>article &amp;&amp; !isLoading<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ article.title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>meta-info<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>author<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon-user<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
        {<!-- -->{ article.author }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>time<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon-clock<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
        {<!-- -->{ article.updated_at | date: 'yyyy-MM-dd HH:mm' }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">*ngIf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>article.category<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>category<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon-folder<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
        {<!-- -->{ article.category }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tags<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">*ngFor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>let tag of article.tags<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tag<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon-tag<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
        {<!-- -->{ tag }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>markdown</span> <span class="token attr-name">[data]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>article.content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>markdown</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comments-section<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>评论（{<!-- -->{ article.comments?.length || 0 }}）<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">*ngIf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>article.comments?.length === 0<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-comments<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        暂无评论，快来抢沙发~
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">*ngFor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>let comment of article.comments<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comment<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comment-header<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comment-author<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{<!-- -->{ comment.commenter }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comment-time<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{<!-- -->{ comment.created_at | date: 'yyyy-MM-dd HH:mm' }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comment-content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{<!-- -->{ comment.content }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

</code></pre>
    <p>
     step15:C:\Users\wangrusheng\WebstormProjects\untitled4\src\app\article-detail\article-detail.component.css
    </p>
    <pre><code class="prism language-css"><span class="token comment">/* 容器样式 */</span>
<span class="token selector">.container</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">max-width</span><span class="token punctuation">:</span> 800px<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 2rem<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 1.6<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 元信息样式 */</span>
<span class="token selector">.meta-info</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">gap</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 1rem 0<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 0.9rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.meta-info i</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">margin-right</span><span class="token punctuation">:</span> 0.3rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 标签样式 */</span>
<span class="token selector">.tags</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 1rem 0<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span>
  <span class="token property">gap</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.tag</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">background</span><span class="token punctuation">:</span> #f0f0f0<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0.3rem 0.8rem<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 0.85rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* Markdown内容样式 */</span>
<span class="token selector">.content</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 2rem 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 评论样式 */</span>
<span class="token selector">.comments-section</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> 3rem<span class="token punctuation">;</span>
  <span class="token property">border-top</span><span class="token punctuation">:</span> 1px solid #eee<span class="token punctuation">;</span>
  <span class="token property">padding-top</span><span class="token punctuation">:</span> 2rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.comment</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 1.5rem 0<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #f8f9fa<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.comment-header</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 0.9rem<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 加载状态 */</span>
<span class="token selector">.loading</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 3rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.spinner</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">width</span><span class="token punctuation">:</span> 3rem<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 3rem<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 4px solid #f3f3f3<span class="token punctuation">;</span>
  <span class="token property">border-top</span><span class="token punctuation">:</span> 4px solid #3498db<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> spin 1s linear infinite<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@keyframes</span> spin</span> <span class="token punctuation">{<!-- --></span>
  <span class="token selector">0%</span> <span class="token punctuation">{<!-- --></span> <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>0deg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token selector">100%</span> <span class="token punctuation">{<!-- --></span> <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>360deg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 错误提示 */</span>
<span class="token selector">.error</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">color</span><span class="token punctuation">:</span> #dc3545<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 2rem<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ffe3e6<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #fff5f5<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
    <p>
     end
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470:733a2f2f626c6f672e6373646e2e6e65742f6366383833332f:61727469636c652f64657461696c732f313436323839333039" class_="artid" style="display:none">
 </p>
</div>


