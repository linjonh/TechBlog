---
layout: post
title: "Linux系统下如何部署svmspro平台"
date: 2025-03-13 13:56:06 +0800
description: "如果使用SQLite数据库，如上操作，进如sconfig.ini文件，找到[db] 注释掉前面俩项,保存，退出。平台客户端也支持国产化系统。"
keywords: "Linux系统下如何部署svmspro平台"
categories: ['未分类']
tags: ['运维', '实时音视频', '信息可视化', 'Svmspro', 'Linux', 'Adb']
artid: "146228933"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146228933
    alt: "Linux系统下如何部署svmspro平台"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146228933
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146228933
cover: https://bing.ee123.net/img/rand?artid=146228933
image: https://bing.ee123.net/img/rand?artid=146228933
img: https://bing.ee123.net/img/rand?artid=146228933
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Linux系统下如何部署svmspro平台
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <ol>
     <li>
      上传svmspro服务
     </li>
    </ol>
    <pre><code class="prism language-cpp">	rz
</code></pre>
    <pre><code>回车后选择svmspro.zip上传

如果提示rz命令未找到，请先运行 `yum install -y lrzsz` 安装
</code></pre>
    <ol start="2">
     <li>
      将svmspro.zip解压出来，并拷贝到/usr/目录下，命令如下：
     </li>
    </ol>
    <pre><code class="prism language-cpp">	unzip svmspro<span class="token punctuation">.</span>zip
</code></pre>
    <pre><code>//解压程序包
</code></pre>
    <pre><code class="prism language-cpp">	cp svmspro <span class="token operator">/</span>usr<span class="token operator">/</span> <span class="token operator">-</span>r
</code></pre>
    <pre><code>//将svmspro文件夹拷贝到 /usr/ 目录下，方便后续设置成服务
</code></pre>
    <ol start="3">
     <li>
      安装mysql数据库，SVMSPro linux需要访问mysql数据库。
     </li>
    </ol>
    <pre><code class="prism language-cpp">	yum install <span class="token operator">-</span>y mysql<span class="token operator">-</span>server
</code></pre>
    <pre><code>//安装mysql服务
</code></pre>
    <pre><code class="prism language-cpp">systemctl enable mysqld
</code></pre>
    <pre><code>//设置mysql为服务，随系统启动时自动运行
</code></pre>
    <pre><code class="prism language-cpp">	systemctl start mysqld
</code></pre>
    <pre><code>//运行mysql服务
</code></pre>
    <pre><code class="prism language-cpp">	mysql <span class="token operator">-</span>uroot <span class="token operator">-</span>p
</code></pre>
    <pre><code>//访问mysql
直接回车（默认应该没有密码）
</code></pre>
    <pre><code class="prism language-cpp">ALTER USER <span class="token char">'root'</span>@<span class="token char">'localhost'</span> IDENTIFIED BY <span class="token char">'Abc@12345'</span><span class="token punctuation">;</span>
</code></pre>
    <pre><code>//设置mysql的root用户密码，密码可以自定义
</code></pre>
    <pre><code class="prism language-cpp">	update user set host<span class="token operator">=</span><span class="token char">'%'</span> where user<span class="token operator">=</span><span class="token char">'root'</span><span class="token punctuation">;</span>
</code></pre>
    <pre><code>//设置mysql允许网络访问
</code></pre>
    <pre><code class="prism language-cpp">	flush privileges<span class="token punctuation">;</span>
</code></pre>
    <pre><code>//刷新mysql
</code></pre>
    <pre><code class="prism language-cpp">	create database svms charset<span class="token operator">=</span>utf8<span class="token punctuation">;</span>
</code></pre>
    <pre><code>//创建svms库
</code></pre>
    <pre><code class="prism language-cpp">	use svms<span class="token punctuation">;</span>
</code></pre>
    <pre><code>//切换至svms库
</code></pre>
    <pre><code class="prism language-cpp">	source <span class="token operator">/</span>usr<span class="token operator">/</span>svmspro<span class="token operator">/</span>db<span class="token operator">/</span>svmspro_linux<span class="token punctuation">.</span>sql<span class="token punctuation">;</span>
</code></pre>
    <pre><code>//运行sql文件，创建表
</code></pre>
    <ol start="4">
     <li>
      给svmspro整个文件夹设置权限
     </li>
    </ol>
    <pre><code class="prism language-cpp">cd <span class="token operator">/</span>usr<span class="token operator">/</span>
</code></pre>
    <pre><code>//进入 /usr/ 目录
</code></pre>
    <pre><code class="prism language-cpp">	chmod <span class="token operator">-</span>R <span class="token number">777</span> svmspro
</code></pre>
    <pre><code>//设置svmspro文件夹权限
</code></pre>
    <ol start="6">
     <li>
      进入svmspro文件夹，配置Mysql数据库参数
     </li>
    </ol>
    <pre><code class="prism language-cpp">	cd <span class="token operator">/</span>usr<span class="token operator">/</span>svmspro<span class="token operator">/</span>
</code></pre>
    <pre><code>//进入svmspro目录下
</code></pre>
    <pre><code class="prism language-cpp">	vi SConfig<span class="token punctuation">.</span>ini
</code></pre>
    <pre><code>//编辑配置文件SConfig.ini
找到[db]
</code></pre>
    <pre><code class="prism language-cpp">	<span class="token punctuation">[</span>db<span class="token punctuation">]</span>
		protocol<span class="token operator">=</span>mysql
		<span class="token comment">//protocol=SQLite</span>
		ip<span class="token operator">=</span><span class="token number">192.168</span><span class="token punctuation">.</span><span class="token number">0.45</span>   <span class="token operator">==</span><span class="token operator">=</span><span class="token operator">&gt;</span> 此处设置为mysql的IP地址，同一台服务器上可以设置为<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span>
		port<span class="token operator">=</span><span class="token number">3306</span>        <span class="token operator">==</span><span class="token operator">=</span><span class="token operator">&gt;</span> 此处设置为mysql的访问端口
		database<span class="token operator">=</span>svmsnb    <span class="token operator">==</span><span class="token operator">=</span><span class="token operator">&gt;</span> 此处设置为第三步里创建的数据库名
		<span class="token comment">//database=svmspro_db.db</span>
		username<span class="token operator">=</span>root       <span class="token operator">==</span><span class="token operator">=</span><span class="token operator">&gt;</span> 此处设置为mysql的访问账号
		password<span class="token operator">=</span><span class="token number">12345</span>     <span class="token operator">==</span><span class="token operator">=</span><span class="token operator">&gt;</span> 此处设置为mysql的访问密码
</code></pre>
    <pre><code>按需修改上述参数之后，按Esc，再按shift + : ，输入wq，回车，保存并退出。
</code></pre>
    <p>
     如果使用SQLite数据库，如上操作，进如sconfig.ini文件，找到[db] 注释掉前面俩项,保存，退出
    </p>
    <pre><code class="prism language-cpp">  <span class="token punctuation">[</span>db<span class="token punctuation">]</span>
<span class="token comment">//protocol=mysql  注释掉mysql</span>
<span class="token comment">//database=svms  注释掉mysql</span>
protocol<span class="token operator">=</span>SQLite
database<span class="token operator">=</span>db<span class="token operator">/</span>vmsdb<span class="token punctuation">.</span>dbl
ip<span class="token operator">=</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span>
port<span class="token operator">=</span><span class="token number">3306</span>
username<span class="token operator">=</span>root
password<span class="token operator">=</span>Abc@<span class="token number">12345</span>
</code></pre>
    <ol start="7">
     <li>
      设置开机服务：
      <br/>
      将svmspro目录下的svmspro.service拷贝到系统目录下，并设置成服务，以便服务器系统重启后可以自动运行。
     </li>
    </ol>
    <pre><code class="prism language-cpp">	cp <span class="token operator">/</span>usr<span class="token operator">/</span>svmspro<span class="token operator">/</span>svmspro<span class="token operator">/</span>service <span class="token operator">/</span>etc<span class="token operator">/</span>systemd<span class="token operator">/</span>system<span class="token operator">/</span>
</code></pre>
    <pre><code>//将svmspro.service拷贝到/etc/systemd/system/目录下
</code></pre>
    <pre><code class="prism language-cpp">	cd <span class="token operator">/</span>etc<span class="token operator">/</span>systemd<span class="token operator">/</span>system<span class="token operator">/</span>
</code></pre>
    <pre><code>//进入/etc/systemd/system/目录
</code></pre>
    <pre><code class="prism language-cpp">	systemctl daemon<span class="token operator">-</span>reload
</code></pre>
    <pre><code>//重新加载服务配置
</code></pre>
    <pre><code class="prism language-cpp">	systemctl enable svmspro<span class="token punctuation">.</span>service
</code></pre>
    <pre><code>//设置服务
</code></pre>
    <ol start="8">
     <li>
      安装mysql访问库，否则程序允许不起来
     </li>
    </ol>
    <pre><code class="prism language-cpp">	yum install mysql<span class="token operator">-</span>devel <span class="token operator">-</span>y
</code></pre>
    <ol start="9">
     <li>
      运行或停止svmspro
     </li>
    </ol>
    <pre><code class="prism language-cpp">	systemctl start svmspro
</code></pre>
    <pre><code>//启动svmspro
</code></pre>
    <pre><code class="prism language-cpp">systemctl status svmspro
</code></pre>
    <pre><code>//查询svmspro服务的运行情况
</code></pre>
    <p>
     其他一些操作：
    </p>
    <pre><code class="prism language-cpp">	systemctl stop svmspro     <span class="token comment">//停止svmspro服务</span>

	systemctl restart svmspro    <span class="token comment">//重启svmspro服务</span>

</code></pre>
    <ol start="10">
     <li>
      防火墙开放端口
     </li>
    </ol>
    <pre><code class="prism language-cpp">firewall<span class="token operator">-</span>cmd <span class="token operator">--</span>zone<span class="token operator">=</span><span class="token keyword">public</span> <span class="token operator">--</span>add<span class="token operator">-</span>port<span class="token operator">=</span><span class="token number">8080</span><span class="token operator">/</span>tcp <span class="token operator">--</span>permanent
	firewall<span class="token operator">-</span>cmd <span class="token operator">--</span>zone<span class="token operator">=</span><span class="token keyword">public</span> <span class="token operator">--</span>add<span class="token operator">-</span>port<span class="token operator">=</span><span class="token number">5063</span><span class="token operator">/</span>tcp <span class="token operator">--</span>permanent
	firewall<span class="token operator">-</span>cmd <span class="token operator">--</span>zone<span class="token operator">=</span><span class="token keyword">public</span> <span class="token operator">--</span>add<span class="token operator">-</span>port<span class="token operator">=</span><span class="token number">53372</span><span class="token operator">/</span>tcp <span class="token operator">--</span>permanent
	firewall<span class="token operator">-</span>cmd <span class="token operator">--</span>zone<span class="token operator">=</span><span class="token keyword">public</span> <span class="token operator">--</span>add<span class="token operator">-</span>port<span class="token operator">=</span><span class="token number">53403</span><span class="token operator">/</span>tcp <span class="token operator">--</span>permanent
	firewall<span class="token operator">-</span>cmd <span class="token operator">--</span>zone<span class="token operator">=</span><span class="token keyword">public</span> <span class="token operator">--</span>add<span class="token operator">-</span>port<span class="token operator">=</span><span class="token number">53404</span><span class="token operator">/</span>tcp <span class="token operator">--</span>permanent
	firewall<span class="token operator">-</span>cmd <span class="token operator">--</span>zone<span class="token operator">=</span><span class="token keyword">public</span> <span class="token operator">--</span>add<span class="token operator">-</span>port<span class="token operator">=</span><span class="token number">54000</span><span class="token operator">-</span><span class="token number">550000</span><span class="token operator">/</span>tcp <span class="token operator">--</span>permanent
	firewall<span class="token operator">-</span>cmd <span class="token operator">--</span>zone<span class="token operator">=</span><span class="token keyword">public</span> <span class="token operator">--</span>add<span class="token operator">-</span>port<span class="token operator">=</span><span class="token number">54000</span><span class="token operator">-</span><span class="token number">550000</span><span class="token operator">/</span>udp <span class="token operator">--</span>permanent
	firewall<span class="token operator">-</span>cmd <span class="token operator">--</span>zone<span class="token operator">=</span><span class="token keyword">public</span> <span class="token operator">--</span>add<span class="token operator">-</span>port<span class="token operator">=</span><span class="token number">5063</span><span class="token operator">/</span>udp <span class="token operator">--</span>permanent
	firewall<span class="token operator">-</span>cmd <span class="token operator">--</span>reload
</code></pre>
    <ol start="11">
     <li>
      修改服务随开机启动时延时启动
     </li>
    </ol>
    <pre><code class="prism language-cpp">	vi <span class="token operator">/</span>usr<span class="token operator">/</span>svmspro<span class="token operator">/</span>svmspro<span class="token punctuation">.</span>sh
</code></pre>
    <pre><code>在第二行加上 sleep 30
增加后内容如下：
</code></pre>
    <pre><code class="prism language-cpp">#<span class="token operator">!</span><span class="token operator">/</span>bin<span class="token operator">/</span>bash
	sleep <span class="token number">30</span>
	cd <span class="token operator">/</span>usr<span class="token operator">/</span>svmspro
	<span class="token punctuation">.</span><span class="token operator">/</span>SModuleManager
</code></pre>
    <pre><code>修改之后，按Esc，再按shift + : ，输入wq，回车，保存并退出。
</code></pre>
    <p>
     平台客户端也支持国产化系统
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/ca6613f11d6f4e93a248ef0f531a3de6.png#pic_center"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="687474:70733a2f2f626c6f672e6373646e2e6e65742f485a5f44582f:61727469636c652f64657461696c732f313436323238393333" class_="artid" style="display:none">
 </p>
</div>


