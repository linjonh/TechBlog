---
layout: post
title: "react和vue-基础使用对比"
date: 2025-03-13 16:50:10 +0800
description: "react和vue基本用法对比"
keywords: "react和vue 基础使用对比"
categories: ['React']
tags: ['Vue', 'React', 'Javascript']
artid: "146235367"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146235367
    alt: "react和vue-基础使用对比"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146235367
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146235367
cover: https://bing.ee123.net/img/rand?artid=146235367
image: https://bing.ee123.net/img/rand?artid=146235367
img: https://bing.ee123.net/img/rand?artid=146235367
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     react和vue 基础使用对比
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h4>
     <a id="1ts_0">
     </a>
     1.实现功能（ts）
    </h4>
    <p>
     0.基础属性使用
     <br/>
     1.组件直接的通信
     <br/>
     2.useState 动态修改值
     <br/>
     3.循环遍历功能
     <br/>
     4.实现类型vue 的 watch ，filter，computed 属性功能
     <br/>
     5.实现类似vue2的生命周期
     <br/>
     5.类型vue v-if功能的实现
    </p>
    <h4>
     <a id="2_9">
     </a>
     2.文件结构图
    </h4>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/566e06ffca274202a2aea29203b4bc65.png"/>
    </p>
    <h4>
     <a id="3_11">
     </a>
     3.具体代码
    </h4>
    <h6>
     <a id="interfacets_12">
     </a>
     interface.ts
    </h6>
    <pre><code>import "./index.less";
import { message } from "antd";
import { useState, useEffect, useRef } from "react";
import { UserInfo } from "./interface";
import UserAge from "./components/UserAge"

const UseComponent = () =&gt; {
	let [user, setUser] = useState&lt;UserInfo&gt;({ name: "张三", age: 5 });
	const [messageApi, contextHolder] = message.useMessage();
	let [show, setShow] = useState&lt;boolean&gt;(false);

	// 循环遍历
	let [userList] = useState&lt;UserInfo[]&gt;([
		{ id: 1, name: "张三", age: 5 },
		{ id: 2, name: "李四", age: 10 },
		{ id: 3, name: "王五", age: 15 }
	]);

	const updateShow = () =&gt; {
		setShow(!show)
	}

	const updateAge = (updateAge: number, type: string = "add") =&gt; {
		let ageTemp: number = user.age;
		if (type === "add") {
			ageTemp = ageTemp + updateAge;
		} else if (type === "reduce") {
			ageTemp = ageTemp - updateAge;
		}

		if (ageTemp &lt; 0) {
			messageApi.error("年龄不能小于0");
			ageTemp = 0;
		} else if (ageTemp &gt; 100) {
			messageApi.error("年龄不能大于100");
			ageTemp = 100;
		}

		setUser(user =&gt; ({
			...user,
			age: ageTemp
		}));
	};

	const updateChild = (age: number) =&gt; {
		updateAge(age)
	}

	// 类型vue 的生命周期
	// Vue2 生命周期      | React 实现
	//---------------------------------------
	// beforeCreate     =&gt; 无直接等价（可用 useRef 模拟）
	// created          =&gt; useEffect 空依赖
	// beforeMount      =&gt; useLayoutEffect 空依赖
	// mounted          =&gt; useEffect 空依赖
	// beforeUpdate     =&gt; useLayoutEffect 无依赖
	// updated          =&gt; useEffect 无依赖
	// beforeDestroy    =&gt; useEffect 返回清理函数
	// destroyed        =&gt; useEffect 返回清理函数

	const UseComponent = () =&gt; {
		// beforeCreate 阶段（组件初始化前）
		const initializedRef = useRef&lt;boolean&gt;(false);
		if (!initializedRef.current) {
			console.log("beforeCreate - 类似 Vue 的 beforeCreate");
			initializedRef.current = true;
		}
		// created 阶段（组件初始化）
		useEffect(() =&gt; {
			console.log("created - 类似 Vue 的 created");
		}, []);

		// mounted 阶段（DOM 挂载完成）
		useEffect(() =&gt; {
			console.log("mounted - 类似 Vue 的 mounted");
		}, []);

		// updated 阶段（数据更新）
		useEffect(() =&gt; {
			console.log("updated - 类似 Vue 的 updated");
		});

		// beforeDestroy 阶段（组件卸载前）
		useEffect(() =&gt; {
			return () =&gt; {
				console.log("beforeDestroy - 类似 Vue 的 beforeDestroy");
			};
		}, []);
	}

	UseComponent()

	return (
		&lt;&gt;
			{contextHolder}
			&lt;div className="card content-box"&gt;
				&lt;div&gt;姓名:{user.name}&lt;/div&gt;
				&lt;div&gt;年龄:{user.age}&lt;/div&gt;
				&lt;div className="flex-btn"&gt;
					&lt;button className="add-btn" onClick={() =&gt; updateAge(1)}&gt;年龄+1&lt;/button&gt;
					&lt;button className="add-btn" onClick={() =&gt; updateAge(1, "reduce")}&gt;年龄-1&lt;/button&gt;
					&lt;button className="add-btn" onClick={() =&gt; updateShow()}&gt;{!show ? "显示" : '隐藏'}&lt;/button&gt;
				&lt;/div&gt;
				&lt;div className="child"&gt;
					&lt;div&gt;我是子组件&lt;/div&gt;
					{show &amp;&amp; &lt;UserAge user={user} updateChild={updateChild} /&gt;}
				&lt;/div&gt;
				&lt;div&gt;
					{userList.map((item, index) =&gt; {
						return (
							&lt;div key={index}&gt;
								&lt;div&gt;姓名:{item.name}&lt;/div&gt;
								&lt;div&gt;年龄:{item.age}&lt;/div&gt;
								&lt;div&gt;------------------&lt;/div&gt;
							&lt;/div&gt;
						)
					})}
				&lt;/div&gt;
			&lt;/div&gt;
		&lt;/&gt;

	);
};

export default UseComponent;

</code></pre>
    <h5>
     <a id="interfacets_143">
     </a>
     interface.ts
    </h5>
    <pre><code>// 定义属性 ？代表可填可不填
export interface UserInfo {
  id?: number;
  name: string;
  age: number;
}
</code></pre>
    <h5>
     <a id="UserAgetsx_153">
     </a>
     UserAge.tsx
    </h5>
    <pre><code>import React from "react";
import { UserInfo } from "../interface";

interface Props {
  user: UserInfo;
  updateChild: (num: number) =&gt; void;
}

const UserAge: React.FC&lt;Props&gt; = (props) =&gt; {

  //获取父组件的参数
  // 类似 vue 的 watch 
  React.useEffect(() =&gt; {
    console.log("子组件渲染", props.user);
  }, [props.user]);

  // 类似 vue 的 computed
  const ageStatus: string = React.useMemo(() =&gt; {
    return props.user.age &gt; 20 ? '中年' : '少年'
  }, [props.user.age]);

  // 类似vue 的 filter  也可以使用自定义hook的方式实现
  const ageFilter = (age: number) =&gt; {
    return age + "岁"
  }

  // 向父组件传递参数
  const updateFan = () =&gt; {
    props.updateChild(5);
  };

  return (
    &lt;&gt;
      &lt;div&gt;我是子组件的age: {ageFilter(props.user.age)} {ageStatus}&lt;/div&gt;
      &lt;button onClick={updateFan}&gt;子组件控制父组件&lt;/button&gt;
    &lt;/&gt;
  );
}

export default UserAge;
</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f34303939343733352f:61727469636c652f64657461696c732f313436323335333637" class_="artid" style="display:none">
 </p>
</div>


