---
layout: post
title: "串口助手测试NB-IoT模块与华为OceanConnect平台通信BC35-G模块非常详细"
date: 2024-03-29 10:41:39 +0800
description: "华为OceanConnect平台配置1 注册华为云平台1.1 首先登陆华为云官网注册登陆自己的账号。"
keywords: "nblot与oceanconnect通信"
categories: ['Iot']
tags: ['物联网']
artid: "103941976"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=103941976
    alt: "串口助手测试NB-IoT模块与华为OceanConnect平台通信BC35-G模块非常详细"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=103941976
featuredImagePreview: https://bing.ee123.net/img/rand?artid=103941976
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     串口助手测试NB-IoT模块与华为OceanConnect平台通信(BC35-G模块、非常详细）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-dracula" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     华为OceanConnect平台配置
    </p>
    <h3>
     <a id="1__2">
     </a>
     1 注册华为云平台
    </h3>
    <h4>
     <a id="11_httpswwwhuaweicloudcomlocalezhcn_3">
     </a>
     1.1 首先登陆
     <a href="https://www.huaweicloud.com/?locale=zh-cn" rel="nofollow">
      华为云官网
     </a>
     注册登陆自己的账号。
    </h4>
    <h4>
     <a id="12___4">
     </a>
     1.2 点击右上角的控制台进入自己的控制台，如下图所示：
    </h4>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/51e5ed4511355543eba954ee9ec28d95.png"/>
    </p>
    <h4>
     <a id="13____6">
     </a>
     1.3 进入控制台点击
     <strong>
      左上角的服务列表
     </strong>
     如图所示：（要点击服务列表才会显示出来更多）
    </h4>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/7473fe3f5f8c5c09050bffaa65a7e384.png">
      <br/>
      下滑找到物联网专区的IoT边缘点击进去
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/ae9b7f63e6f46bb212abde8b4e23cdc0.png">
       <br/>
       点击进去之后如图：
       <br/>
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/8f9b5832ab0fb8f359dc99970c6702cf.png"/>
      </img>
     </img>
    </p>
    <h4>
     <a id="14httpsiotdevhuaweicloudcomassetsdocCenterhelpcenterhelpPortalPortalhelpcenterhtmlmanualNameUserGuide_COMMONdocSiteCOMMONpagegettingStartedlangzh_12">
     </a>
     1.4然后点击右上角的开发中心创建一个自己的测试项目。
     <a href="https://iot-dev.huaweicloud.com/assets/docCenter/helpcenter/helpPortal/Portal/helpcenter.html?manualName=UserGuide_COMMON&amp;docSite=COMMON&amp;page=gettingStarted&amp;lang=zh" rel="nofollow">
      不会点官方文档
     </a>
    </h4>
    <p>
     在里面的项目就有怎么创建一个项目，然后开发一个自己的产品，这个官方文档里面也有教怎么创建一个产品，我这里也有一个文档教怎么创建项目和产品的下载链接或者关注微信公众号一手创客回复NB-IoT文档下载。这下面的图是我创建的一个LED灯的项目，数据上报的是光线的亮度，下发的指令是1-16，只是单纯做测试用的，所以比较简陋创建一下。
     <strong>
      （自己多创建几次就会很熟练了）
     </strong>
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/db4d0c8e5e6cbdbfe16d0511a77bf0cb.png">
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/11aa8d6101b9b6615b292022fc75e0c9.png">
       <br/>
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/2a75370e23ad75e59133d1cc208032bf.png">
        <br/>
        <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/9880da97dfbaa53bb6ace9c4e27e2794.png"/>
       </img>
      </img>
     </img>
    </p>
    <h4>
     <a id="httpsdownloadcsdnnetdownloadqq_4044265612098920httpsblogcsdnnetm0_38106923articledetails89852829_18">
     </a>
     如果想要学习更多的创建平台设备的操作，可以看看
     <a href="https://download.csdn.net/download/qq_40442656/12098920">
      这些资料
     </a>
     ，或者这几篇
     <a href="https://blog.csdn.net/m0_38106923/article/details/89852829">
      博文
     </a>
     ，不过最新的方法还是按照官方的操作来创建
    </h4>
    <h3>
     <a id="2_19">
     </a>
     2通过串口助手发送指令与云平台通信
    </h3>
    <h4>
     <a id="21__20">
     </a>
     2.1 模块接上串口助手并开启串口助手
    </h4>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/db920cd182f7d730bba374cf54452045.png"/>
    </p>
    <h4>
     <a id="22___ATCSQ__22">
     </a>
     2.2 首先检查模块的信号强度 发送 AT+CSQ 返回
    </h4>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/8d915a8ce913c5d740a6d9003e73bb15.png"/>
     <br/>
     说明有信号（注意如果21的位置是99则说明没有信号，没有信号可能是卡没有插好或者这个区域信号不好）
    </p>
    <h4>
     <a id="23___ATCGATT__25">
     </a>
     2.3 检查模块是否连接上网络 发送 AT+CGATT? 返回
    </h4>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/0ff1ac9617fbc7c4cfc0ad5090e7e38d.png"/>
     <br/>
     则说明模块已连接上网络，如果返回0则说明没有连接上网络（可能是刚上电不久或者卡问题）
    </p>
    <h4>
     <a id="24__ATNCDP494852325683__ipOK_28">
     </a>
     2.4 连接云平台 发送AT+NCDP=49.4.85.232,5683 （这是华为云的ip和端口，其他平台可能不一样）返回OK
    </h4>
    <h4>
     <a id="25__ATNRB__29">
     </a>
     2.5 如果是第一次连接的话要发送重启命令 AT+NRB 然后返回
    </h4>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/97cea01df7970d3de19fce23ceb415a8.png"/>
     <br/>
     则说明配置连接成功，可以看到云平台上的设备已经在线上
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/fdf21621a62900b3b7ee2db8c0acbf2f.png"/>
    </p>
    <h4>
     <a id="26____ATNNMI1__OK_33">
     </a>
     2.6 然后配置一下把模块接收到的数据打印出来 AT+NNMI=1 返回OK
    </h4>
    <h4>
     <a id="27_ATNMGS_lengthdata_lengthdata16hex_34">
     </a>
     2.7 发送消息格式：AT+NMGS= (length),(data)。 length是要发送的数据长度，data是要发送的数据实体，需要讲数据转化为16进制即hex格式发送。
    </h4>
    <p>
     如要发送hello，发送命令：AT+NMGS=5，68656C6C6F（16进制不分大小写)），返回：OK
     <br/>
     例：AT+NMGS=1,31 //上报数据
     <br/>
     返回 OK 可以看到云平台的消息跟踪上面就有显示
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/de1529db2cec6980a159b80e8efcf3b3.png"/>
    </p>
    <h4>
     <a id="28__39">
     </a>
     2.8 云平台下发数据给模块
    </h4>
    <p>
     发送1
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/f61619e8f15a4c522775e33dbe03c254.png"/>
     <br/>
     串口显示
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/3aa29127628f36dd05206050d9d3f92b.png"/>
     <br/>
     发送2串口显示
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/29171893114fd7f7f8eed1f86c610c8d.png"/>
     <br/>
     发送4口显示
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/a64d56f5543b54953a2d0b5ee8c5a49f.png"/>
    </p>
    <p>
     可以看到返回来的数据就是一个特定标志符，后面的数据长度和返回的数据。
     <br/>
     **
    </p>
    <h4>
     <a id="NBATNBhttpsdownloadcsdnnetdownloadqq_4044265612098925_51">
     </a>
     NB模组最常用的AT指令可以到NB购买的淘宝索要链接或者
     <a href="https://download.csdn.net/download/qq_40442656/12098925">
      在这下载
     </a>
    </h4>
    <h3>
     <a id="20_52">
     </a>
     最后需要注意的是需要模块先给平台发送数据的20秒时间内平台发数据模块才能收到，不到如果只是平台发数据而模块不发数据的话模块是无法收到平台的数
    </h3>
    <p>
     <strong>
      接下来会陆续发表关于NB-IoT的文章或者资料，最近会用STM32F103平台写代码控制NB模组与云平台通信，会有程序和应用教程，可以保持关注。更多资料在我的博客专栏NB_IoT应用里面。
     </strong>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f34303434323635362f:61727469636c652f64657461696c732f313033393431393736" class_="artid" style="display:none">
 </p>
</div>


