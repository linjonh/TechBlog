---
layout: post
title: "前端解决防盗链"
date: 2024-11-13 14:30:00 +0800
description: "防盗链浅谈  由于利用百度新闻请求接口,导致部分图片请求失败，状态码403，服务被拒绝。之前一直用p"
keywords: "vue去除url的防盗链"
categories: ['闲情逸致', '前端']
tags: ['Vue']
artid: "105643316"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=105643316
    alt: "前端解决防盗链"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=105643316
featuredImagePreview: https://bing.ee123.net/img/rand?artid=105643316
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     前端解决防盗链
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h4>
     <a id="_1">
     </a>
     防盗链浅谈
    </h4>
    <pre><code>  由于利用百度新闻请求接口,导致部分图片请求失败，状态码403，服务被拒绝。
</code></pre>
    <p>
     之前一直用python写爬虫，所以很自然的就想到了伪装请求头。
     <br/>
     于是乎想到解决该问题的第一种方法就是创建vue.config.js 在里面配置代理
     <br/>
     现在是学前端，当然也要了解些前端解决的办法有哪些：
     <br/>
     1. 在meta标签里使用
     <br/>
     <code>
      html5 &lt;meta name="referrer" content="never"&gt;
     </code>
     <br/>
     参数集合及其作用：
     <br/>
     never 删除http header种的referer
     <br/>
     default 如果当前页面使用https协议,而正要加载资源使用http协议,则将http header中referer置为空
     <br/>
     origin 只发送origin部分
     <br/>
     always 不改变http header中referer的值
     <br/>
     2. iframe框架引用
    </p>
    <p>
     http和https是什么？区别是什么？
     <br/>
     首先应该知道OSI七层模型,它是有ISO制定的规则,但众多网络设备制造商认为这种划分不合理,都不采用,
     <br/>
     而TCP/IP模型,慢慢成为了主流。它分为5层,自顶向下是
     <br/>
     应用层 &gt; 传输层 &gt; 网络层 &gt; 数据链路层 &gt; 物理层 (当然也有人把 数据链路层和物理层划到一起)
     <br/>
     http和https就是在应用层上的协议,http为明文数据传输协议(不可靠),https为密文数据传输协议(可靠),端口号为80、443
    </p>
    <p>
     在img中引入第三方图片地址出现防盗链
     <br/>
     如图：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/16e78c927744705877f0a111ee837fcb.png">
      <br/>
      在请求标头中有一个字段 referer 它会告诉服务器是从哪个页面来链接过来的,以此给后端进行处理,防止第三方引用。毕竟这样引用是用的第三方服务器的流量。
      <br/>
      所以有时会用来做防盗链,判断该访问来源是不是在后端记录的白名单内,若不在就不能下载或显示。
     </img>
    </p>
   </div>
   <link href="./../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="./../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f32313438343933352f:61727469636c652f64657461696c732f313035363433333136" class_="artid" style="display:none">
 </p>
</div>


