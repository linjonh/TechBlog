---
layout: post
title: "BoostCompass-http_server-æ¨¡å—-é¡¹ç›®å‰ç«¯ä»£ç -"
date: 2024-07-02 22:04:46 +0800
description: "æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨C++ç¼–å†™ä¸€ä¸ªç»“åˆHTTPæœåŠ¡å™¨å’Œæœç´¢åŠŸèƒ½çš„æ¨¡å—ï¼Œåˆ©ç”¨cpp-httplibåº“å¤„ç†"
keywords: "BoostCompass( http_server æ¨¡å— | é¡¹ç›®å‰ç«¯ä»£ç  )"
categories: ['Boostcompass']
tags: ['ç½‘ç»œåè®®', 'å‰ç«¯', 'Http']
artid: "137485298"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=137485298
    alt: "BoostCompass-http_server-æ¨¡å—-é¡¹ç›®å‰ç«¯ä»£ç -"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=137485298
featuredImagePreview: https://bing.ee123.net/img/rand?artid=137485298
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     BoostCompass( http_server æ¨¡å— | é¡¹ç›®å‰ç«¯ä»£ç  )
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atelier-sulphurpool-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://i-blog.csdnimg.cn/blog_migrate/a6c3324ce20e2d9d859a7d2aa0b80e40.png">
      <br/>
     </img>
    </p>
    <div class="toc">
     <h4>
      é˜…è¯»å¯¼èˆª
     </h4>
     <ul>
      <li>
       <a href="#_2" rel="nofollow">
        ä¸€ã€æ¨¡å—æ¦‚è¿°
       </a>
      </li>
      <li>
       <a href="#http_server__6" rel="nofollow">
        äºŒã€ç¼–å†™http_server æ¨¡å—
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#cpphttplib_7" rel="nofollow">
          âœ…cpp-httplibåº“çš„å®‰è£…
         </a>
        </li>
        <li>
         <a href="#1__11" rel="nofollow">
          1. è¯¦ç»†ä»£ç 
         </a>
        </li>
        <li>
         <a href="#2__61" rel="nofollow">
          2. ç¼–å†™æ€è·¯
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#_90" rel="nofollow">
        ä¸‰ã€é¡¹ç›®å‰ç«¯ä»£ç 
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#indexhtml_91" rel="nofollow">
          âœ…index.html
         </a>
        </li>
        <li>
         <a href="#_266" rel="nofollow">
          â­•åº”ç”¨æ•ˆæœ
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <h2>
     <a id="_2">
     </a>
     ä¸€ã€æ¨¡å—æ¦‚è¿°
    </h2>
    <p>
     è¿™ä¸ªæ¨¡å—æ˜¯ä¸€ä¸ªåŸºäºC++çš„ç®€å•æœç´¢å¼•æ“æœåŠ¡ç¨‹åºï¼Œæˆ‘ä»¬æ•´åˆäº†HTTPæœåŠ¡å™¨å’Œæœç´¢åŠŸèƒ½ã€‚æˆ‘ä»¬é¦–å…ˆåˆå§‹åŒ–ä¸€ä¸ªæœç´¢å™¨å¯¹è±¡ï¼Œä½¿ç”¨é¢„å…ˆå¤„ç†å¥½çš„æ–‡æ¡£æ•°æ®ï¼ˆæ¥è‡ªç¬¬ä¸€ä¸ªæ¨¡å—ï¼‰æ¥å»ºç«‹ç´¢å¼•ã€‚ç„¶åï¼Œæˆ‘ä»¬è®¾ç½®äº†ä¸€ä¸ªHTTPæœåŠ¡å™¨ï¼Œå¹¶ä¸ºæœåŠ¡å™¨å®šä¹‰äº†ä¸€ä¸ªGETè¯·æ±‚çš„å¤„ç†å‡½æ•°ï¼Œè¯¥å‡½æ•°å“åº”å®¢æˆ·ç«¯å¯¹"/s"è·¯å¾„çš„è®¿é—®ã€‚
    </p>
    <p>
     å½“å®¢æˆ·ç«¯å‘é€åŒ…å«æœç´¢å…³é”®å­—çš„è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ä¼šéªŒè¯è¯·æ±‚ä¸­æ˜¯å¦åŒ…å«å…³é”®å­—å‚æ•°ã€‚å¦‚æœæ²¡æœ‰å…³é”®å­—ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›é”™è¯¯ä¿¡æ¯ã€‚å¦‚æœæœ‰å…³é”®å­—ï¼ŒæœåŠ¡å™¨å°†è°ƒç”¨æœç´¢å™¨çš„æœç´¢æ–¹æ³•ï¼Œä¼ å…¥å…³é”®å­—ï¼Œå¹¶è·å–æœç´¢ç»“æœï¼Œè¿™äº›ç»“æœè¢«å°è£…ä¸ºJSONå­—ç¬¦ä¸²è¿”å›ç»™å®¢æˆ·ç«¯ã€‚
    </p>
    <h2>
     <a id="http_server__6">
     </a>
     äºŒã€ç¼–å†™http_server æ¨¡å—
    </h2>
    <h3>
     <a id="cpphttplib_7">
     </a>
     âœ…cpp-httplibåº“çš„å®‰è£…
    </h3>
    <p>
     <strong>
      æˆ‘ä»¬è¦å…ˆåœ¨Linuxæœºå™¨ä¸Šå®‰è£…cpp-httplibåº“ç›¸å…³ä»‹ç»æ–‡ç« é“¾æ¥
     </strong>
     ï¼šğŸ”´
     <a href="https://www.twle.cn/t/19375" rel="nofollow">
      C++ HTTP åº“ cpp-httplib ä½¿ç”¨
     </a>
    </p>
    <p>
     ğŸš¨
     <strong>
      æ³¨æ„
     </strong>
     ï¼š
     <strong>
      <code>
       cpp-httplib
      </code>
      åº“åœ¨ä½¿ç”¨çš„æ—¶å€™éœ€è¦ä½¿ç”¨è¾ƒæ–°ç‰ˆæœ¬çš„
      <code>
       gcc
      </code>
     </strong>
    </p>
    <h3>
     <a id="1__11">
     </a>
     1. è¯¦ç»†ä»£ç 
    </h3>
    <pre><code class="prism language-cpp"><span class="token comment">// å¼•å…¥æ‰€éœ€çš„å¤´æ–‡ä»¶</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"httplib.hpp"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"searcher.hpp"</span> </span>

<span class="token comment">// å®šä¹‰è¾“å…¥æ–‡ä»¶çš„è·¯å¾„å’ŒWebæœåŠ¡å™¨çš„æ ¹ç›®å½•</span>
<span class="token keyword">const</span> std<span class="token double-colon punctuation">::</span>string input <span class="token operator">=</span> <span class="token string">"data/raw_html/raw.txt"</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> std<span class="token double-colon punctuation">::</span>string root_path <span class="token operator">=</span> <span class="token string">"./wwwroot"</span><span class="token punctuation">;</span>

<span class="token comment">// ä¸»å‡½æ•°ï¼Œç¨‹åºçš„å…¥å£ç‚¹</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// åˆ›å»ºSearcherç±»çš„å®ä¾‹å¹¶åˆå§‹åŒ–</span>
    ns_searcher<span class="token double-colon punctuation">::</span>Searcher search<span class="token punctuation">;</span>
    search<span class="token punctuation">.</span><span class="token function">InitSearcher</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// åˆ›å»ºhttplib::Serverç±»çš„å®ä¾‹ï¼Œç”¨äºå¤„ç†HTTPè¯·æ±‚</span>
    httplib<span class="token double-colon punctuation">::</span>Server svr<span class="token punctuation">;</span>
    <span class="token comment">// è®¾ç½®æœåŠ¡å™¨çš„æ ¹ç›®å½•ä¸ºroot_path</span>
    svr<span class="token punctuation">.</span><span class="token function">set_base_dir</span><span class="token punctuation">(</span>root_path<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ä¸ºæœåŠ¡å™¨æ·»åŠ ä¸€ä¸ªGETè¯·æ±‚çš„å¤„ç†å‡½æ•°</span>
    svr<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">"/s"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span>search<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> httplib<span class="token double-colon punctuation">::</span>Request <span class="token operator">&amp;</span>req<span class="token punctuation">,</span> httplib<span class="token double-colon punctuation">::</span>Response <span class="token operator">&amp;</span>rsp<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// æ£€æŸ¥è¯·æ±‚ä¸­æ˜¯å¦åŒ…å«æœç´¢å…³é”®å­—å‚æ•°"word"</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>req<span class="token punctuation">.</span><span class="token function">has_param</span><span class="token punctuation">(</span><span class="token string">"word"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// å¦‚æœæ²¡æœ‰æœç´¢å…³é”®å­—ï¼Œè¿”å›é”™è¯¯ä¿¡æ¯</span>
            rsp<span class="token punctuation">.</span><span class="token function">set_content</span><span class="token punctuation">(</span><span class="token string">"å¿…é¡»è¦æœ‰æœç´¢å…³é”®å­—!"</span><span class="token punctuation">,</span> <span class="token string">"text/plain; charset=utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// ä»è¯·æ±‚ä¸­è·å–æœç´¢å…³é”®å­—</span>
        std<span class="token double-colon punctuation">::</span>string word <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">get_param_value</span><span class="token punctuation">(</span><span class="token string">"word"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è®°å½•æ—¥å¿—ï¼Œè¾“å‡ºç”¨æˆ·æœç´¢çš„å…³é”®å­—</span>
        <span class="token function">LOG</span><span class="token punctuation">(</span>NORMAL<span class="token punctuation">,</span> <span class="token string">"ç”¨æˆ·æœç´¢çš„: "</span> <span class="token operator">+</span> word<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// å®šä¹‰ç”¨äºå­˜å‚¨æœç´¢ç»“æœçš„å­—ç¬¦ä¸²</span>
        std<span class="token double-colon punctuation">::</span>string json_string<span class="token punctuation">;</span>
        <span class="token comment">// è°ƒç”¨searchå®ä¾‹çš„Searchæ–¹æ³•è¿›è¡Œæœç´¢ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨json_stringä¸­</span>
        search<span class="token punctuation">.</span><span class="token function">Search</span><span class="token punctuation">(</span>word<span class="token punctuation">,</span> <span class="token operator">&amp;</span>json_string<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è®¾ç½®å“åº”å†…å®¹ä¸ºæœç´¢ç»“æœï¼Œå¹¶æŒ‡å®šå†…å®¹ç±»å‹ä¸ºJSON</span>
        rsp<span class="token punctuation">.</span><span class="token function">set_content</span><span class="token punctuation">(</span>json_string<span class="token punctuation">,</span> <span class="token string">"application/json"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// è®°å½•æ—¥å¿—ï¼Œè¡¨ç¤ºæœåŠ¡å™¨å¯åŠ¨æˆåŠŸ</span>
    <span class="token function">LOG</span><span class="token punctuation">(</span>NORMAL<span class="token punctuation">,</span> <span class="token string">"æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// æœåŠ¡å™¨å¼€å§‹ç›‘å¬æ‰€æœ‰IPçš„8081ç«¯å£</span>
    svr<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token string">"0.0.0.0"</span><span class="token punctuation">,</span> <span class="token number">8081</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// è¿”å›0ï¼Œè¡¨ç¤ºç¨‹åºæ­£å¸¸ç»“æŸ</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="2__61">
     </a>
     2. ç¼–å†™æ€è·¯
    </h3>
    <ol>
     <li>
      <p>
       <strong>
        é…ç½®æ–‡ä»¶è·¯å¾„å’ŒæœåŠ¡å™¨æ ¹ç›®å½•
       </strong>
       ï¼š
      </p>
      <ul>
       <li>
        å®šä¹‰äº†ä¸¤ä¸ªå¸¸é‡ï¼Œ
        <code>
         input
        </code>
        ç”¨äºæŒ‡å®šæœç´¢å¼•æ“çš„æ•°æ®è¾“å…¥æ–‡ä»¶è·¯å¾„ï¼Œ
        <code>
         root_path
        </code>
        ç”¨äºæŒ‡å®šWebæœåŠ¡å™¨çš„æ ¹ç›®å½•ã€‚
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        åˆå§‹åŒ–æœç´¢ç»„ä»¶
       </strong>
       ï¼š
      </p>
      <ul>
       <li>
        åœ¨
        <code>
         main
        </code>
        å‡½æ•°ä¸­ï¼Œåˆ›å»ºäº†ä¸€ä¸ª
        <code>
         ns_searcher::Searcher
        </code>
        ç±»çš„å®ä¾‹ï¼Œå¹¶è°ƒç”¨å…¶
        <code>
         InitSearcher
        </code>
        æ–¹æ³•æ¥åˆå§‹åŒ–æœç´¢ç´¢å¼•ã€‚è¿™é€šå¸¸æ¶‰åŠåŠ è½½æ•°æ®æ–‡ä»¶å’Œæ„å»ºæœç´¢æ‰€éœ€çš„æ•°æ®ç»“æ„ã€‚
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        è®¾ç½®HTTPæœåŠ¡å™¨
       </strong>
       ï¼š
      </p>
      <ul>
       <li>
        ä½¿ç”¨
        <code>
         httplib::Server
        </code>
        åˆ›å»ºä¸€ä¸ªHTTPæœåŠ¡å™¨å®ä¾‹ã€‚
       </li>
       <li>
        é€šè¿‡
        <code>
         set_base_dir
        </code>
        æ–¹æ³•è®¾ç½®æœåŠ¡å™¨çš„æ ¹ç›®å½•ï¼Œè¿™æ ·æœåŠ¡å™¨å°±å¯ä»¥æä¾›é™æ€æ–‡ä»¶æœåŠ¡ã€‚
       </li>
       <li>
        ä¸ºæœåŠ¡å™¨æ·»åŠ ä¸€ä¸ªGETè¯·æ±‚çš„å¤„ç†å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å¯¹åº”äºURLè·¯å¾„
        <code>
         /s
        </code>
        ã€‚
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        å¤„ç†æœç´¢è¯·æ±‚
       </strong>
       ï¼š
      </p>
      <ul>
       <li>
        åœ¨GETè¯·æ±‚å¤„ç†å‡½æ•°ä¸­ï¼Œé¦–å…ˆæ£€æŸ¥è¯·æ±‚æ˜¯å¦åŒ…å«åä¸º
        <code>
         word
        </code>
        çš„æŸ¥è¯¢å‚æ•°ï¼Œè¿™æ˜¯ç”¨æˆ·è¾“å…¥çš„æœç´¢å…³é”®å­—ã€‚
       </li>
       <li>
        å¦‚æœæ²¡æœ‰æœç´¢å…³é”®å­—ï¼ŒæœåŠ¡å™¨è¿”å›ä¸€ä¸ªé”™è¯¯ä¿¡æ¯ã€‚
       </li>
       <li>
        å¦‚æœæœ‰æœç´¢å…³é”®å­—ï¼ŒæœåŠ¡å™¨è®°å½•æ—¥å¿—å¹¶æå–å…³é”®å­—ã€‚
       </li>
       <li>
        è°ƒç”¨
        <code>
         Searcher
        </code>
        å®ä¾‹çš„
        <code>
         Search
        </code>
        æ–¹æ³•ï¼Œä¼ å…¥å…³é”®å­—ï¼Œå¹¶è·å–æœç´¢ç»“æœã€‚
       </li>
       <li>
        å°†æœç´¢ç»“æœå­˜å‚¨åœ¨ä¸€ä¸ªJSONæ ¼å¼çš„å­—ç¬¦ä¸²ä¸­ï¼Œå‡†å¤‡å‘é€ç»™å®¢æˆ·ç«¯ã€‚
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        å‘é€æœç´¢ç»“æœ
       </strong>
       ï¼š
      </p>
      <ul>
       <li>
        è®¾ç½®HTTPå“åº”çš„å†…å®¹å’Œç±»å‹ä¸ºJSONæ ¼å¼ï¼Œç„¶åå°†æœç´¢ç»“æœå­—ç¬¦ä¸²å‘é€ç»™å®¢æˆ·ç«¯ã€‚
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        å¯åŠ¨æœåŠ¡å™¨
       </strong>
       ï¼š
      </p>
      <ul>
       <li>
        è®°å½•æ—¥å¿—è¡¨ç¤ºæœåŠ¡å™¨å·²æˆåŠŸå¯åŠ¨ã€‚
       </li>
       <li>
        è°ƒç”¨
        <code>
         listen
        </code>
        æ–¹æ³•ä½¿æœåŠ¡å™¨å¼€å§‹ç›‘å¬æŒ‡å®šç«¯å£ï¼ˆ8081ï¼‰ä¸Šçš„æ‰€æœ‰IPåœ°å€ï¼Œå‡†å¤‡æ¥æ”¶å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚
       </li>
      </ul>
     </li>
    </ol>
    <p>
     æ•´ä½“æ¥è¯´ï¼Œ
     <code>
      http_server
     </code>
     å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨C++å’Œç°ä»£åº“æ¥åˆ›å»ºä¸€ä¸ªç®€å•çš„Webæœç´¢å¼•æ“ã€‚å®ƒå¤„ç†HTTPè¯·æ±‚ï¼Œæ‰§è¡Œæœç´¢æŸ¥è¯¢ï¼Œå¹¶å°†ç»“æœä»¥JSONæ ¼å¼è¿”å›ç»™ç”¨æˆ·ã€‚è¿™ç§è®¾è®¡æ¨¡å¼é€‚ç”¨äºåˆ›å»ºè½»é‡çº§çš„æœç´¢å¼•æ“æˆ–å…¶ä»–WebæœåŠ¡åº”ç”¨ç¨‹åºã€‚
    </p>
    <h2>
     <a id="_90">
     </a>
     ä¸‰ã€é¡¹ç›®å‰ç«¯ä»£ç 
    </h2>
    <h3>
     <a id="indexhtml_91">
     </a>
     âœ…index.html
    </h3>
    <pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://code.jquery.com/jquery-2.1.1.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>boost æœç´¢å¼•æ“<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
        <span class="token comment">/* å»æ‰ç½‘é¡µä¸­çš„æ‰€æœ‰çš„é»˜è®¤å†…å¤–è¾¹è·ï¼Œhtmlçš„ç›’å­æ¨¡å‹ */</span>
        <span class="token selector">*</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">/* è®¾ç½®å¤–è¾¹è· */</span>
            <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
            <span class="token comment">/* è®¾ç½®å†…è¾¹è· */</span>
            <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">/* å°†æˆ‘ä»¬çš„bodyå†…çš„å†…å®¹100%å’Œhtmlçš„å‘ˆç°å»åˆ */</span>
        <span class="token selector">html,
        body</span> <span class="token punctuation">{<!-- --></span>
            <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">/* ç±»é€‰æ‹©å™¨.container */</span>
        <span class="token selector">.container</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">/* è®¾ç½®divçš„å®½åº¦ */</span>
            <span class="token property">width</span><span class="token punctuation">:</span> 800px<span class="token punctuation">;</span>
            <span class="token comment">/* é€šè¿‡è®¾ç½®å¤–è¾¹è·è¾¾åˆ°å±…ä¸­å¯¹é½çš„ç›®çš„ */</span>
            <span class="token property">margin</span><span class="token punctuation">:</span> 0px auto<span class="token punctuation">;</span>
            <span class="token comment">/* è®¾ç½®å¤–è¾¹è·çš„ä¸Šè¾¹è·ï¼Œä¿æŒå…ƒç´ å’Œç½‘é¡µçš„ä¸Šéƒ¨è·ç¦» */</span>
            <span class="token property">margin-top</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">/* å¤åˆé€‰æ‹©å™¨ï¼Œé€‰ä¸­container ä¸‹çš„ search */</span>
        <span class="token selector">.container .search</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">/* å®½åº¦ä¸çˆ¶æ ‡ç­¾ä¿æŒä¸€è‡´ */</span>
            <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
            <span class="token comment">/* é«˜åº¦è®¾ç½®ä¸º52px */</span>
            <span class="token property">height</span><span class="token punctuation">:</span> 52px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">/* å…ˆé€‰ä¸­inputæ ‡ç­¾ï¼Œ ç›´æ¥è®¾ç½®æ ‡ç­¾çš„å±æ€§ï¼Œå…ˆè¦é€‰ä¸­ï¼Œ inputï¼šæ ‡ç­¾é€‰æ‹©å™¨*/</span>
        <span class="token comment">/* inputåœ¨è¿›è¡Œé«˜åº¦è®¾ç½®çš„æ—¶å€™ï¼Œæ²¡æœ‰è€ƒè™‘è¾¹æ¡†çš„é—®é¢˜ */</span>
        <span class="token selector">.container .search input</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">/* è®¾ç½®leftæµ®åŠ¨ */</span>
            <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
            <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
            <span class="token comment">/* è®¾ç½®è¾¹æ¡†å±æ€§ï¼šè¾¹æ¡†çš„å®½åº¦ï¼Œæ ·å¼ï¼Œé¢œè‰² */</span>
            <span class="token property">border</span><span class="token punctuation">:</span> 1px solid black<span class="token punctuation">;</span>
            <span class="token comment">/* å»æ‰inputè¾“å…¥æ¡†çš„æœ‰è¾¹æ¡† */</span>
            <span class="token property">border-right</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
            <span class="token comment">/* è®¾ç½®å†…è¾¹è·ï¼Œé»˜è®¤æ–‡å­—ä¸è¦å’Œå·¦ä¾§è¾¹æ¡†ç´§æŒ¨ç€ */</span>
            <span class="token property">padding-left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
            <span class="token comment">/* è®¾ç½®inputå†…éƒ¨çš„å­—ä½“çš„é¢œè‰²å’Œæ ·å¼ */</span>
            <span class="token property">color</span><span class="token punctuation">:</span> #CCC<span class="token punctuation">;</span>
            <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">/* å…ˆé€‰ä¸­buttonæ ‡ç­¾ï¼Œ ç›´æ¥è®¾ç½®æ ‡ç­¾çš„å±æ€§ï¼Œå…ˆè¦é€‰ä¸­ï¼Œ buttonï¼šæ ‡ç­¾é€‰æ‹©å™¨*/</span>
        <span class="token selector">.container .search button</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">/* è®¾ç½®leftæµ®åŠ¨ */</span>
            <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
            <span class="token property">height</span><span class="token punctuation">:</span> 52px<span class="token punctuation">;</span>
            <span class="token comment">/* è®¾ç½®buttonçš„èƒŒæ™¯é¢œè‰²ï¼Œ#4e6ef2 */</span>
            <span class="token property">background-color</span><span class="token punctuation">:</span> #4e6ef2<span class="token punctuation">;</span>
            <span class="token comment">/* è®¾ç½®buttonä¸­çš„å­—ä½“é¢œè‰² */</span>
            <span class="token property">color</span><span class="token punctuation">:</span> #FFF<span class="token punctuation">;</span>
            <span class="token comment">/* è®¾ç½®å­—ä½“çš„å¤§å° */</span>
            <span class="token property">font-size</span><span class="token punctuation">:</span> 19px<span class="token punctuation">;</span>
            <span class="token property">font-family</span><span class="token punctuation">:</span>Georgia<span class="token punctuation">,</span> <span class="token string">'Times New Roman'</span><span class="token punctuation">,</span> Times<span class="token punctuation">,</span> serif<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token selector">.container .result</span> <span class="token punctuation">{<!-- --></span>
            <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token selector">.container .result .item</span> <span class="token punctuation">{<!-- --></span>
            <span class="token property">margin-top</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token selector">.container .result .item a</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">/* è®¾ç½®ä¸ºå—çº§å…ƒç´ ï¼Œå•ç‹¬ç«™ä¸€è¡Œ */</span>
            <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
            <span class="token comment">/* aæ ‡ç­¾çš„ä¸‹åˆ’çº¿å»æ‰ */</span>
            <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
            <span class="token comment">/* è®¾ç½®aæ ‡ç­¾ä¸­çš„æ–‡å­—çš„å­—ä½“å¤§å° */</span>
            <span class="token property">font-size</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
            <span class="token comment">/* è®¾ç½®å­—ä½“çš„é¢œè‰² */</span>
            <span class="token property">color</span><span class="token punctuation">:</span> #4e6ef2<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token selector">.container .result .item a:hover</span> <span class="token punctuation">{<!-- --></span>
            <span class="token property">text-decoration</span><span class="token punctuation">:</span> underline<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token selector">.container .result .item p</span> <span class="token punctuation">{<!-- --></span>
            <span class="token property">margin-top</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
            <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
            <span class="token property">font-family</span><span class="token punctuation">:</span><span class="token string">'Lucida Sans'</span><span class="token punctuation">,</span> <span class="token string">'Lucida Sans Regular'</span><span class="token punctuation">,</span> <span class="token string">'Lucida Grande'</span><span class="token punctuation">,</span> <span class="token string">'Lucida Sans Unicode'</span><span class="token punctuation">,</span> Geneva<span class="token punctuation">,</span> Verdana<span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token selector">.container .result .item i</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">/* è®¾ç½®ä¸ºå—çº§å…ƒç´ ï¼Œå•ç‹¬ç«™ä¸€è¡Œ */</span>
            <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
            <span class="token comment">/* å–æ¶ˆæ–œä½“é£æ ¼ */</span>
            <span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
            <span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>search<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>è¯·è¾“å…¥æœç´¢å…³é”®å­—<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">Search</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>æœç´¢ä¸€ä¸‹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>result<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">function</span> <span class="token function">Search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">// æ˜¯æµè§ˆå™¨çš„ä¸€ä¸ªå¼¹å‡ºæ¡†</span>
            <span class="token comment">// alert("hello js!");</span>
            <span class="token comment">// 1. æå–æ•°æ®, $å¯ä»¥ç†è§£æˆå°±æ˜¯JQueryçš„åˆ«ç§°</span>
            <span class="token keyword">let</span> query <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".container .search input"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"query = "</span> <span class="token operator">+</span> query<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//consoleæ˜¯æµè§ˆå™¨çš„å¯¹è¯æ¡†ï¼Œå¯ä»¥ç”¨æ¥è¿›è¡ŒæŸ¥çœ‹jsæ•°æ®</span>

            <span class="token comment">//2. å‘èµ·httpè¯·æ±‚,ajax: å±äºä¸€ä¸ªå’Œåç«¯è¿›è¡Œæ•°æ®äº¤äº’çš„å‡½æ•°ï¼ŒJQueryä¸­çš„</span>
            $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span>
                <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"/s?word="</span> <span class="token operator">+</span> query<span class="token punctuation">,</span>
                <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token function">BuildHtml</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">function</span> <span class="token function">BuildHtml</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>data <span class="token operator">==</span> <span class="token string">''</span> <span class="token operator">||</span> data <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"å¯¹ä¸èµ·ï¼Œæ‚¨æœç´¢çš„å†…å®¹ä¸å­˜åœ¨ï¼Œ404, åˆ·æ–°é¡µé¢å³å¯é‡æ–°æœç´¢"</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// è·å–htmlä¸­çš„resultæ ‡ç­¾</span>
            <span class="token keyword">let</span> result_lable <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".container .result"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// æ¸…ç©ºå†å²æœç´¢ç»“æœ</span>
            result_lable<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">let</span> elem <span class="token keyword">of</span> data<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token comment">// console.log(elem.title);</span>
                <span class="token comment">// console.log(elem.url);</span>
                <span class="token keyword">let</span> a_lable <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"&lt;a&gt;"</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">text</span><span class="token operator">:</span> elem<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
                    <span class="token literal-property property">href</span><span class="token operator">:</span> elem<span class="token punctuation">.</span>url<span class="token punctuation">,</span>
                    <span class="token comment">// è·³è½¬åˆ°æ–°çš„é¡µé¢</span>
                    <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">"_blank"</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">let</span> p_lable <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"&lt;p&gt;"</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">text</span><span class="token operator">:</span> elem<span class="token punctuation">.</span>desc
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">let</span> i_lable <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"&lt;i&gt;"</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">text</span><span class="token operator">:</span> elem<span class="token punctuation">.</span>url
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">let</span> div_lable <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"&lt;div&gt;"</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">"item"</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                a_lable<span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>div_lable<span class="token punctuation">)</span><span class="token punctuation">;</span>
                p_lable<span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>div_lable<span class="token punctuation">)</span><span class="token punctuation">;</span>
                i_lable<span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>div_lable<span class="token punctuation">)</span><span class="token punctuation">;</span>
                div_lable<span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>result_lable<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>


</code></pre>
    <h3>
     <a id="_266">
     </a>
     â­•åº”ç”¨æ•ˆæœ
    </h3>
    <p>
     <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://i-blog.csdnimg.cn/blog_migrate/76b3da2496214cce156c9f5299b4760d.png"/>
    </p>
    <p>
     <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://i-blog.csdnimg.cn/blog_migrate/df868d2ae7841530eda711c86fb7a730.png"/>
    </p>
   </div>
   <link href="./../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="./../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-vote-box" id="blogVoteBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f37353231353933372f:61727469636c652f64657461696c732f313337343835323938" class_="artid" style="display:none">
 </p>
</div>


