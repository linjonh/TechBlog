---
layout: post
title: "ifconfig-不显示-Linux-虚拟机常规网卡的-IP-地址"
date: 2025-03-04 17:55:11 +0800
description: "【代码】ifconfig 不显示 Linux 虚拟机常规网卡的 IP 地址。"
keywords: "ifconfig 不显示 Linux 虚拟机常规网卡的 IP 地址"
categories: ['未分类']
tags: ['网络', '服务器', 'Php']
artid: "146022805"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146022805
    alt: "ifconfig-不显示-Linux-虚拟机常规网卡的-IP-地址"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146022805
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146022805
cover: https://bing.ee123.net/img/rand?artid=146022805
image: https://bing.ee123.net/img/rand?artid=146022805
img: https://bing.ee123.net/img/rand?artid=146022805
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     ifconfig 不显示 Linux 虚拟机常规网卡的 IP 地址
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h4>
     遇到的问题
    </h4>
    <ol>
     <li>
      <strong>
       <code>
        ifconfig
       </code>
       不显示 Linux 虚拟机常规网卡的 IP 地址
      </strong>
      ：执行
      <code>
       ifconfig
      </code>
      命令，只显示了回环接口
      <code>
       lo
      </code>
      和虚拟网桥
      <code>
       virbr0
      </code>
      的信息，未显示用于联网的网卡（如
      <code>
       eth0
      </code>
      或
      <code>
       ens33
      </code>
      等）及其 IP 地址。
     </li>
     <li>
      <strong>
       <code>
        network
       </code>
       服务启动失败
      </strong>
      ：执行
      <code>
       systemctl status network
      </code>
      命令，提示
      <code>
       network
      </code>
      服务失败，在激活
      <code>
       ens33
      </code>
      接口时出现 “连接激活失败” 错误。
     </li>
    </ol>
    <h4>
     解决方法
    </h4>
    <h5>
     针对
     <code>
      ifconfig
     </code>
     不显示 IP 地址
    </h5>
    <ol>
     <li>
      <strong>
       检查网卡激活状态
      </strong>
      ：使用
      <code>
       ip link
      </code>
      查看网卡状态，若为
      <code>
       DOWN
      </code>
      状态，用
      <code>
       ifup 网卡名
      </code>
      （如
      <code>
       ifup ens33
      </code>
      ）激活。
     </li>
     <li>
      <strong>
       排查网卡配置
      </strong>
      ：查看
      <code>
       /etc/sysconfig/network-scripts/ifcfg-网卡名
      </code>
      （如
      <code>
       ifcfg-ens33
      </code>
      ）文件，确认
      <code>
       BOOTPROTO
      </code>
      等参数设置正确，静态 IP 配置要保证地址、掩码、网关等无误且无冲突。
     </li>
     <li>
      <strong>
       确认驱动情况
      </strong>
      ：通过
      <code>
       lspci | grep Ethernet
      </code>
      确认网卡被系统识别，未识别则需重新安装或更新驱动。
     </li>
     <li>
      <strong>
       检查虚拟机网络设置
      </strong>
      ：在虚拟机软件中，检查网络模式设置是否合适，可尝试切换模式或重新配置。
     </li>
     <li>
      <strong>
       排查服务问题
      </strong>
      ：尝试重启网络服务
      <code>
       systemctl restart network
      </code>
      ，并查看服务状态
      <code>
       systemctl status network
      </code>
      排查错误。
     </li>
    </ol>
    <h5>
     针对
     <code>
      network
     </code>
     服务启动失败
    </h5>
    <ol>
     <li>
      <strong>
       检查网卡配置文件
      </strong>
      ：用
      <code>
       cat /etc/sysconfig/network-scripts/ifcfg-ens33
      </code>
      查看，确保
      <code>
       DHCP
      </code>
      或静态 IP 配置正确，无多余冲突字段，修改后保存。
     </li>
     <li>
      <strong>
       处理服务冲突
      </strong>
      ：禁用
      <code>
       NetworkManager
      </code>
      服务（
      <code>
       systemctl disable NetworkManager
      </code>
      和
      <code>
       systemctl stop NetworkManager
      </code>
      ），启用并重启
      <code>
       network
      </code>
      服务（
      <code>
       systemctl enable network
      </code>
      和
      <code>
       systemctl restart network
      </code>
      ）。
     </li>
     <li>
      <strong>
       清理网络相关信息
      </strong>
      ：执行
      <code>
       ip route flush table main
      </code>
      和
      <code>
       ip neigh flush all
      </code>
      清理路由表和缓存。
     </li>
     <li>
      <strong>
       手动触发 DHCP（若适用）
      </strong>
      ：依次执行
      <code>
       dhclient -r ens33
      </code>
      （释放原有租约）和
      <code>
       dhclient ens33
      </code>
      （重新获取 IP 地址）。
     </li>
     <li>
      <strong>
       验证网络状态
      </strong>
      ：使用
      <code>
       systemctl status network
      </code>
      查看服务状态，
      <code>
       ip addr show ens33
      </code>
      查看网卡 IP 配置，
      <code>
       ping -c 4 8.8.8.8
      </code>
      测试网络连通性。若仍有问题，通过
      <code>
       journalctl -xe
      </code>
      查看系统日志获取更多错误信息进一步排查，还可检查虚拟机网络连接设置以及临时关闭防火墙（
      <code>
       systemctl stop firewalld
      </code>
      ）测试。
     </li>
    </ol>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f77756a69616f5f5f31312f:61727469636c652f64657461696c732f313436303232383035" class_="artid" style="display:none">
 </p>
</div>


