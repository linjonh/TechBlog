---
layout: post
title: "基于Rye的Django项目通过Pyinstaller用Github工作流简单打包"
date: 2025-03-06 20:20:38 +0800
description: "主要是在rye环境下，github工作流对Django通过pyinstaller进行打包。t=P1C7t=P1C7Rye 完整使用教程_安装rye-CSDN博客https://blog.csdn.net/zhenndbc/article/details/144544692。"
keywords: "diango项目github"
categories: ['未分类']
tags: ['后端', 'Python', 'Django']
artid: "146078132"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146078132
    alt: "基于Rye的Django项目通过Pyinstaller用Github工作流简单打包"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146078132
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146078132
cover: https://bing.ee123.net/img/rand?artid=146078132
image: https://bing.ee123.net/img/rand?artid=146078132
img: https://bing.ee123.net/img/rand?artid=146078132
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     基于Rye的Django项目通过Pyinstaller用Github工作流简单打包
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2>
     前言
    </h2>
    <p>
     Rye的介绍和安装
    </p>
    <p>
     <a class="has-card" href="https://rye.astral.sh/" rel="nofollow" title="Rye">
      <span class="link-card-box" contenteditable="false">
       <span class="link-title">
        Rye
       </span>
       <span class="link-link">
        <img class="link-link-icon" src="https://csdnimg.cn/release/blog_editor_html/release2.3.8/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=P1C7">
         https://rye.astral.sh/
        </img>
       </span>
      </span>
     </a>
     <a class="has-card" href="https://blog.csdn.net/zhenndbc/article/details/144544692" title="Rye 完整使用教程_安装rye-CSDN博客">
      <span class="link-card-box" contenteditable="false">
       <span class="link-title">
        Rye 完整使用教程_安装rye-CSDN博客
       </span>
       <span class="link-link">
        <img class="link-link-icon" src="https://csdnimg.cn/release/blog_editor_html/release2.3.8/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=P1C7">
         https://blog.csdn.net/zhenndbc/article/details/144544692
        </img>
       </span>
      </span>
     </a>
    </p>
    <h2>
     正文
    </h2>
    <h3>
     项目建立
    </h3>
    <p>
     配置好环境后
    </p>
    <h4>
     新建文件夹
    </h4>
    <p>
     新建文件夹，进入项目
    </p>
    <p>
     <img alt="" height="187" src="https://i-blog.csdnimg.cn/direct/ee8a6418eae545cf9e80247861332c83.png" width="763"/>
    </p>
    <h4>
     初始化
    </h4>
    <pre><code>rye init
</code></pre>
    <p>
     <img alt="" height="75" src="https://i-blog.csdnimg.cn/direct/4b525371b78347d8bab7559d90a60a6d.png" width="349"/>
    </p>
    <h4>
     下载依赖
    </h4>
    <pre><code>rye sync
</code></pre>
    <p>
     <img alt="" height="159" src="https://i-blog.csdnimg.cn/direct/cf5dcfa039824c2a9b77421c46ac0ed0.png" width="397"/>
    </p>
    <h4>
     pycharm 打开项目
    </h4>
    <pre><code>pycharm .</code></pre>
    <p>
     <img alt="" height="189" src="https://i-blog.csdnimg.cn/direct/9e2c75e579d647fba401a31cf3aeff74.png" width="639"/>
    </p>
    <h4>
     安装Django
    </h4>
    <pre><code>rye add django pyinstaller</code></pre>
    <p>
     <img alt="" height="101" src="https://i-blog.csdnimg.cn/direct/dd4389be13cc4bca8852815116a1ef35.png" width="350"/>
    </p>
    <h4>
     在src目录下新建Django项目
    </h4>
    <pre><code>django-admin startproject rye_dj
</code></pre>
    <p>
     <img alt="" height="42" src="https://i-blog.csdnimg.cn/direct/76438e8e7828451aa08656d03bc12088.png" width="348"/>
    </p>
    <h4>
     修改文件pyproject.toml文件如下
    </h4>
    <pre><code>[project]
name = "rye-dj-demo"
version = "0.1.0"
description = "Add your description here"
authors = [
    { name = "qe-present", email = "2664481691@qq.com" }
]
dependencies = [
    "django&gt;=5.1.6",
    "pyinstaller&gt;=6.12.0",
]
readme = "README.md"
requires-python = "&gt;= 3.13"

[tool.rye.scripts]
dev= "python manage.py runserver"
build="pyinstaller -F manage.py"</code></pre>
    <p>
     增加了dev脚本和bulid脚本。
    </p>
    <p>
     进入Django项目。
    </p>
    <h4>
     运行项目
    </h4>
    <p>
     <img alt="" height="164" src="https://i-blog.csdnimg.cn/direct/a1b8ac62054840f39d256cafbf5ffffc.png" width="581"/>
    </p>
    <p>
     <img alt="" height="421" src="https://i-blog.csdnimg.cn/direct/5a2b9aeaab2342a8b24865ff0eafd769.png" width="901"/>
    </p>
    <p>
    </p>
    <h4>
     Pyinstaller 打包
    </h4>
    <p>
     暂时什么都不写
    </p>
    <pre><code>rye run build</code></pre>
    <p>
     <img alt="" height="287" src="https://i-blog.csdnimg.cn/direct/63debe9987eb4018b33d6f2d8b37acda.png" width="736"/>
    </p>
    <p>
     <img alt="" height="66" src="https://i-blog.csdnimg.cn/direct/e33bf0997db349899890698bfeee2efd.png" width="446"/>
    </p>
    <h4>
     运行打包后的manage.exe
    </h4>
    <pre><code>manage.exe runserver --noreload</code></pre>
    <p>
     笔者是通过powershell 7 运行的命令，有所不同
    </p>
    <p>
     <img alt="" height="238" src="https://i-blog.csdnimg.cn/direct/b2cea16eecc84e7490f0bc1d986ef830.png" width="646"/>
    </p>
    <p>
     成功。
    </p>
    <h3>
     Github工作流yaml文件的书写
    </h3>
    <h4>
     总体流程
    </h4>
    <p>
     <strong>
      1、读取仓库的代码
     </strong>
    </p>
    <p>
     <strong>
      2、安装rye
     </strong>
    </p>
    <p>
     <strong>
      3、安装依赖
     </strong>
    </p>
    <p>
     <strong>
      4、打包
     </strong>
    </p>
    <p>
     <strong>
      5、上传
     </strong>
    </p>
    <h4>
     新建相关文件及文件夹
    </h4>
    <p>
     1、在根目录下新建.github文件夹
    </p>
    <p>
     2、在.github文件夹新建workflows文件夹
    </p>
    <p>
     3、在workdflows文件夹新建rye-dj.yaml文件
    </p>
    <p>
     <img alt="" height="116" src="https://i-blog.csdnimg.cn/direct/16c1c5e4ab004c4394e5884b81673440.png" width="253"/>
    </p>
    <blockquote>
     <p>
      rye-dj.yaml内容如下
     </p>
    </blockquote>
    <pre><code>name: rye-dj  # 工作流程名称
on: push  # 触发条件 push触发
jobs:
    build:  # 任务名称
        runs-on: window-latest  # 运行环境
        steps:
        - name: 读取仓库代码
          uses: actions/checkout@v4

        - name: 安装rye
          uses: eifinger/setup-rye@v4
          with:
            enable-cache: true
            version: 'latest'

        - name: 安装依赖
          run: rye sync

        - name: 打包
          run: |
            cd src/rye_dj
            rye run build

        - name: 上传
          uses: actions/upload-artifact@v4
          with:
            name: dist
            path: src/rye_dj/dist/manage.exe</code></pre>
    <h4>
     工作流打包结果
    </h4>
    <p>
     <img alt="" height="592" src="https://i-blog.csdnimg.cn/direct/d2ac9f921c2f4cb98b011491a4cc89e7.png" width="630"/>
    </p>
    <p>
     <img alt="" height="231" src="https://i-blog.csdnimg.cn/direct/4a77368015184942958c4809fc2cd476.png" width="1352"/>
    </p>
    <p>
     下载运行，项目什么都没有写，因此，没有报错。以后需要配置的项目再写一篇文章。
    </p>
    <h2>
     说明一点
    </h2>
    <p>
     为什么要在src目录下新建Django项目？
    </p>
    <p>
     亲身实践，如果不这样，会报错，不妨试试。
    </p>
    <h2>
     总结
    </h2>
    <p>
     主要是在rye环境下，github工作流对Django通过pyinstaller进行打包。
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f36333430313234302f:61727469636c652f64657461696c732f313436303738313332" class_="artid" style="display:none">
 </p>
</div>


