---
layout: post
title: "LVGL第三方库的使用中文库"
date: 2025-03-15 22:27:50 +0800
description: "LVGL库——中文库的使用"
keywords: "LVGL第三方库的使用（中文库）"
categories: ['Lvgl']
tags: ['Linux']
artid: "146286709"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146286709
    alt: "LVGL第三方库的使用中文库"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146286709
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146286709
cover: https://bing.ee123.net/img/rand?artid=146286709
image: https://bing.ee123.net/img/rand?artid=146286709
img: https://bing.ee123.net/img/rand?artid=146286709
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     LVGL第三方库的使用（中文库）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2>
     一、第三方库文档
    </h2>
    <p>
     <a href="https://lvgl.100ask.net/9.0/libs/index.html" rel="nofollow" title="3rd party libraries（第三方库） — LVGL 文档">
      3rd party libraries（第三方库） — LVGL 文档
     </a>
    </p>
    <p>
     <img alt="" height="528" src="https://i-blog.csdnimg.cn/direct/95acfa8f95e64353b005c85df2a89791.png" width="410"/>
    </p>
    <p>
     FreeType 中文字库
    </p>
    <p>
     SDL 模拟器使用freetype中文字库
    </p>
    <p>
     <img alt="" height="523" src="https://i-blog.csdnimg.cn/direct/8ad4560762154dc2b11595e308819063.png" width="423"/>
    </p>
    <h3>
     1.开启字库
    </h3>
    <p>
     <img alt="" height="155" src="https://i-blog.csdnimg.cn/direct/7d0753ee870a4039997c6324a629b5b1.png" width="1050"/>
    </p>
    <h3>
     2.安装freetype 字库
    </h3>
    <p>
     sudo apt-get update sudo apt-get install libfreetype6-dev
    </p>
    <h3>
     3.修改makefile 添加字库
    </h3>
    <p>
     <img alt="" height="205" src="https://i-blog.csdnimg.cn/direct/909508a0a3e547fa8cbd6224f1a9bff2.png" width="1581"/>
    </p>
    <h3>
     4.显示中文字体
    </h3>
    <p>
     修改TTF字体文件
    </p>
    <p>
     <img alt="" height="272" src="https://i-blog.csdnimg.cn/direct/d9a9264763484fddb8a18c84b78f8770.png" width="1087"/>
    </p>
    <p>
     把中文字体拷贝到LVGL工程中
    </p>
    <p>
     <img alt="" height="271" src="https://i-blog.csdnimg.cn/direct/52a244cbd363492ab4b9789ef78282de.png" width="1143"/>
    </p>
    <pre><code class="language-bash"> //修改为自己的中文字体 .ttf文件 👉./lvgl/examples/libs/freetype/simhei.ttf
  lv_font_t * font = lv_freetype_font_create("./lvgl/examples/libs/freetype/simhei.ttf",
                                               LV_FREETYPE_FONT_RENDER_MODE_BITMAP, 24, LV_FREETYPE_FONT_STYLE_NORMAL);</code></pre>
    <pre><code class="language-bash">/**
 * Create a freetype font.
 * @param pathname font file path.
 * @param render_mode font render mode(see @lv_freetype_font_render_mode_t for details).
 * @param size font size.
 * @param style font style(see lv_freetype_font_style_t for details).
 * @return Created font, or NULL on failure.
 */
lv_font_t * lv_freetype_font_create(const char * pathname, lv_freetype_font_render_mode_t render_mode, uint32_t size,
                                    lv_freetype_font_style_t style);
pathname:字体文件路径 
render_mode :  渲染模式   👉LV_FREETYPE_FONT_RENDER_MODE_BITMAP 位图渲染模式 
        size:字体大小       
       style:字体样式    👉LV_FREETYPE_FONT_STYLE_NORMAL        普通样式   
       返回值: 成功 字体对象指针               
               失败  NULL </code></pre>
    <p>
     demo例子
    </p>
    <pre><code class="language-bash"> /*Create a font*/
    lv_font_t * font = lv_freetype_font_create("./lvgl/examples/libs/freetype/simhei.ttf",
                                               LV_FREETYPE_FONT_RENDER_MODE_BITMAP, 24, LV_FREETYPE_FONT_STYLE_NORMAL);

    if(!font) {
        LV_LOG_ERROR("freetype font create failed.");
        return;
    }

    /*Create style with the new font*/
    static lv_style_t style;                               // 创建样式
    lv_style_init(&amp;style);                                 // 初始化样式
    lv_style_set_text_font(&amp;style, font);                  // 添加字体样式
    lv_style_set_text_align(&amp;style, LV_TEXT_ALIGN_CENTER); // 设置字体居中

    /*Create a label with the new style*/
    lv_obj_t * label = lv_label_create(lv_screen_active());                    // 创建一个标签
    lv_obj_add_style(label, &amp;style, 0);                                        // 给标签添加字体样式
    lv_label_set_text(label, "我爱中国! I Love China"); // 设置表的内容
    lv_obj_center(label);</code></pre>
    <h2>
     二、ARM 使用freetype 字库
    </h2>
    <h3>
     1. 下载 freetype 字库源码&amp;交叉编译源码
    </h3>
    <p>
     <a href="https://blog.csdn.net/qq_42174306/article/details/125603431" title="20.移植Freetype字体库_freetype移植-CSDN博客">
      20.移植Freetype字体库_freetype移植-CSDN博客
     </a>
     （有兴趣自己操作一下）
    </p>
    <h3>
     2.或者找一个配置好的库
    </h3>
    <pre><code class="language-bash">1.解压交叉编译好的 freetype &amp; zlib 字库到LVGL 工程中
 tar  -xvf   freetype_tmp.tar.gz    -C   ~/lv_port_linux/ </code></pre>
    <h3>
     3.修改Makefile 链接arm 版本的字库
    </h3>
    <p>
     <img alt="" height="175" src="https://i-blog.csdnimg.cn/direct/dc9f8057f1934771bde6fabbba2d6624.png" width="1497"/>
    </p>
    <h3>
     4.下载到开发板中运行
    </h3>
    <p>
     出现错误
    </p>
    <p>
     <img alt="" height="122" src="https://i-blog.csdnimg.cn/direct/2443f3fbaf67453eb1673b1bb1097fc7.png" width="1342"/>
    </p>
    <p>
     解决方法
    </p>
    <p>
     把freetype_tmp/lib 中的所有文件下载到开发板中
    </p>
    <p>
     <img alt="" height="223" src="https://i-blog.csdnimg.cn/direct/baa0e9f264da4eadb146a3044b278c89.png" width="1245"/>
    </p>
    <p>
     下载字库文件
    </p>
    <p>
     <img alt="" height="399" src="https://i-blog.csdnimg.cn/direct/df0c8e4adbfe40bf87dc3ab62b6e8c44.png" width="1421"/>
    </p>
    <hr/>
    <hr/>
    <p>
     出现错误
    </p>
    <p>
     <img alt="" height="279" src="https://i-blog.csdnimg.cn/direct/808b0a8ee0fc424b9f8704721ea4bad2.png" width="1552"/>
    </p>
    <p>
     解决方法
    </p>
    <p>
     <img alt="" height="204" src="https://i-blog.csdnimg.cn/direct/ed6ed855ca124ce5841c547f00825f64.png" width="976"/>
    </p>
    <pre><code class="language-bash"> 👉/usr/share/fonts/DroidSansFallback.ttf 开发板默认字库文件，如果不想用该文件自己下载新的字库
  
 lv_font_t * font = lv_freetype_font_create("/usr/share/fonts/DroidSansFallback.ttf",
                                               LV_FREETYPE_FONT_RENDER_MODE_BITMAP, 24, LV_FREETYPE_FONT_STYLE_NORMAL);</code></pre>
    <p>
     至此，希望看完这篇文章的你有所收获，我是Bardb，译音八分贝，道友，下期见！
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f36333632323737312f:61727469636c652f64657461696c732f313436323836373039" class_="artid" style="display:none">
 </p>
</div>


