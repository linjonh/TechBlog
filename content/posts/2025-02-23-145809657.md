---
layout: post
title: "ä½¿ç”¨djangoè°ƒç”¨deepseek-api,æ­å»ºaiç½‘ç«™"
date: 2025-02-23 14:54:32 +0800
description: "DeepSeekæ˜¯ä¸€å®¶äººå·¥æ™ºèƒ½å…¬å¸ï¼Œä¸“æ³¨äºå¼€å‘å…ˆè¿›çš„äººå·¥æ™ºèƒ½æ¨¡å‹å’ŒæŠ€æœ¯ã€‚"
keywords: "django deepseek"
categories: ['æœªåˆ†ç±»']
tags: ['äººå·¥æ™ºèƒ½']
artid: "145809657"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=145809657
    alt: "ä½¿ç”¨djangoè°ƒç”¨deepseek-api,æ­å»ºaiç½‘ç«™"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=145809657
featuredImagePreview: https://bing.ee123.net/img/rand?artid=145809657
cover: https://bing.ee123.net/img/rand?artid=145809657
image: https://bing.ee123.net/img/rand?artid=145809657
img: https://bing.ee123.net/img/rand?artid=145809657
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     ä½¿ç”¨djangoè°ƒç”¨deepseek apiï¼Œæ­å»ºaiç½‘ç«™
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2 style="background-color:transparent">
     ä¸€ã€deepseekç®€ä»‹
    </h2>
    <p>
     DeepSeekæ˜¯ä¸€å®¶äººå·¥æ™ºèƒ½å…¬å¸ï¼Œä¸“æ³¨äºå¼€å‘å…ˆè¿›çš„äººå·¥æ™ºèƒ½æ¨¡å‹å’ŒæŠ€æœ¯ã€‚ä»¥ä¸‹æ˜¯å…³äºDeepSeekçš„ä¸€äº›è¯¦ç»†ä»‹ç»ï¼š
    </p>
    <h3 id="å…¬å¸èƒŒæ™¯">
     1.å…¬å¸èƒŒæ™¯
    </h3>
    <p>
     DeepSeekç”±æ­å·æ·±åº¦æ±‚ç´¢äººå·¥æ™ºèƒ½åŸºç¡€æŠ€æœ¯ç ”ç©¶æœ‰é™å…¬å¸å¼€å‘ï¼Œè‡´åŠ›äºé€šè¿‡åˆ›æ–°çš„æŠ€æœ¯å’Œç®—æ³•ï¼Œæ¨åŠ¨äººå·¥æ™ºèƒ½é¢†åŸŸçš„å‘å±•ã€‚
    </p>
    <h3 id="æŠ€æœ¯ä¸æ¨¡å‹">
     2.æŠ€æœ¯ä¸æ¨¡å‹
    </h3>
    <ul>
     <li>
      <strong>
       DeepSeek-V3
      </strong>
      ï¼šè¿™æ˜¯DeepSeekå¼€å‘çš„ä¸€ä¸ªå¤§å‹è¯­è¨€æ¨¡å‹ï¼Œå…·æœ‰è¶…è¿‡600Bçš„å‚æ•°ï¼Œåœ¨å¤šé¡¹æ€§èƒ½æŒ‡æ ‡ä¸Šä¸å›½é™…é¡¶å°–æ¨¡å‹ç›¸å½“ã€‚
     </li>
     <li>
      <strong>
       DeepSeek-R1
      </strong>
      ï¼šè¿™æ˜¯DeepSeekçš„ç¬¬ä¸€ä»£æ¨ç†æ¨¡å‹ï¼Œé€šè¿‡å¤§è§„æ¨¡å¼ºåŒ–å­¦ä¹ ï¼ˆRLï¼‰è¿›è¡Œè®­ç»ƒï¼Œå±•ç¤ºå‡ºäº†åœ¨æ¨ç†ä»»åŠ¡ä¸Šçš„ä¼˜å¼‚æ€§èƒ½ã€‚
     </li>
     <li>
      <strong>
       DeepSeek-R1-Distill
      </strong>
      ï¼šè¿™äº›æ˜¯ä»DeepSeek-R1ä¸­è’¸é¦å‡ºçš„å°æ¨¡å‹ï¼Œå…·æœ‰æ›´å¥½çš„æ€§èƒ½å’Œæ•ˆç‡ï¼Œé€‚åˆåœ¨èµ„æºå—é™çš„ç¯å¢ƒä¸­ä½¿ç”¨ã€‚
     </li>
    </ul>
    <h3 id="åº”ç”¨é¢†åŸŸ">
     3.åº”ç”¨é¢†åŸŸ
    </h3>
    <ul>
     <li>
      <strong>
       è‡ªç„¶è¯­è¨€å¤„ç†
      </strong>
      ï¼šDeepSeekçš„æ¨¡å‹åœ¨æ–‡æœ¬ç”Ÿæˆã€çŸ¥è¯†é—®ç­”ã€æ¨ç†ç­‰ä»»åŠ¡ä¸­è¡¨ç°å‡ºè‰²ï¼Œèƒ½å¤Ÿä¸ºç”¨æˆ·æä¾›é«˜è´¨é‡çš„è¯­è¨€äº¤äº’æœåŠ¡ã€‚
     </li>
     <li>
      <strong>
       æ™ºèƒ½åŠ©æ‰‹
      </strong>
      ï¼šDeepSeekå¼€å‘äº†AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ç”¨äºæœç´¢ã€å†™ä½œã€é˜…è¯»ã€è§£é¢˜ã€ç¿»è¯‘ç­‰å¤šç§ä»»åŠ¡ï¼Œå¸®åŠ©ç”¨æˆ·æé«˜æ•ˆç‡ã€‚
     </li>
    </ul>
    <h3 id="ä¼˜åŠ¿ä¸ç‰¹ç‚¹">
     4.ä¼˜åŠ¿ä¸ç‰¹ç‚¹
    </h3>
    <ul>
     <li>
      <strong>
       æˆæœ¬ä¼˜åŠ¿
      </strong>
      ï¼šDeepSeekçš„æ¨¡å‹è®­ç»ƒæˆæœ¬ä½ï¼Œè°ƒç”¨æ¥å£æˆæœ¬ä¹Ÿè¾ƒä½ï¼Œå…·æœ‰è¾ƒé«˜çš„æ€§ä»·æ¯”ã€‚
     </li>
     <li>
      <strong>
       ä¸­æ–‡å¤„ç†èƒ½åŠ›å¼º
      </strong>
      ï¼šå¯¹ä¸­æ–‡è¯­æ³•ã€æˆè¯­ã€æ–‡åŒ–èƒŒæ™¯ç†è§£æ›´æ·±å…¥ï¼Œåœ¨ä¸­æ–‡æ–‡æœ¬ç”Ÿæˆã€æ‘˜è¦ã€æƒ…æ„Ÿåˆ†æç­‰ä»»åŠ¡ä¸­è¡¨ç°è‡ªç„¶ã€‚
     </li>
     <li>
      <strong>
       å¼€æºä¼˜åŠ¿
      </strong>
      ï¼šDeepSeek-R1æ¨¡å‹æƒé‡å’ŒæŠ€æœ¯æŠ¥å‘Šå¼€æºï¼Œä¾¿äºå¼€å‘è€…äºŒæ¬¡å¼€å‘å’Œåˆ›æ–°ã€‚
     </li>
    </ul>
    <h3 id="äº§å“ä¸æœåŠ¡">
     5.äº§å“ä¸æœåŠ¡
    </h3>
    <ul>
     <li>
      <strong>
       DeepSeek API
      </strong>
      ï¼šæä¾›ä¸OpenAIå…¼å®¹çš„APIï¼Œæ–¹ä¾¿å¼€å‘è€…å°†DeepSeekçš„æ¨¡å‹é›†æˆåˆ°è‡ªå·±çš„åº”ç”¨ä¸­ã€‚
     </li>
     <li>
      <strong>
       DeepSeek App
      </strong>
      ï¼šæä¾›AIæ™ºèƒ½åŠ©æ‰‹åº”ç”¨ï¼Œå¯åœ¨App Storeä¸Šä¸‹è½½ï¼Œæ”¯æŒå¤šç§åŠŸèƒ½ï¼Œå¦‚æ™ºèƒ½å¯¹è¯ã€æœç´¢ã€å†™ä½œç­‰ã€‚
     </li>
    </ul>
    <h2 id="å‘å±•ä¸åˆä½œ">
     äºŒã€è·å–apikey
    </h2>
    <p>
     deepseekå®˜æ–¹çš„apiæš‚æ—¶æ— æ³•å……å€¼ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯é˜¿é‡Œäº‘çš„ç™¾ç‚¼å¹³å°çš„deepseek v1æ¨¡å‹ï¼Œé˜¿é‡Œäº‘ç™¾ç‚¼å¹³å°æ³¨å†Œé€ç™¾ä¸‡tokenï¼Œå¯ä»¥ç™½å«–ã€‚æ‰“å¼€ç™¾ç‚¼æ§åˆ¶å°ï¼Œå¼€é€šæœåŠ¡ï¼Œéšä¾¿é€‰æ‹©ä¸€ä¸ªæ¨¡å‹ï¼Œç‚¹å‡»å³ä¸Šè§’çš„â€œæŸ¥çœ‹æˆ‘çš„apikeyâ€ï¼Œè·å–apikeyã€‚
    </p>
    <p>
     <img alt="" height="111" src="https://i-blog.csdnimg.cn/direct/6e1dae35eb4c4a2e8adcba012341ed19.png" width="217"/>
    </p>
    <h2>
     ä¸‰ã€åˆ›å»ºdjangoé¡¹ç›®ï¼Œå¹¶startapp
    </h2>
    <p>
     ä½¿ç”¨djangoåˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®ï¼Œpython manage.py startapp chatæ–°å»ºappä½œä¸ºä¸»è¦ä»£ç æ–‡ä»¶å¤¹ã€‚
    </p>
    <h2>
     å››ã€ç¼–å†™ä»£ç 
    </h2>
    <p>
     chat\views.py
    </p>
    <pre><code class="language-python">from django.shortcuts import render
from openai import OpenAI
import os
from django.conf import settings


def get_ai_response(messages):
client = OpenAI(
api_key="xxx",//å¡«å†™apikey
base_url="https://dashscope.aliyuncs.com/compatible-mode/v1",
)


try:
    completion = client.chat.completions.create(
        model="qwen2.5-14b-instruct-1m",
        messages=messages
    )
    return {
        'content': completion.choices[0].message.content,
        'reasoning': getattr(completion.choices[0].message, 'reasoning_content', '')
    }
except Exception as e:
    return {
        'content': f"å‘ç”Ÿé”™è¯¯ï¼š{str(e)}",
        'reasoning': ''
    }

def chat_view(request):
if 'messages' not in request.session:
request.session['messages'] = []


if request.method == 'POST':
    user_message = request.POST.get('message', '')
    if user_message:
        request.session['messages'].append({'role': 'user', 'content': user_message})

        response = get_ai_response(request.session['messages'])

        request.session['messages'].append({
            'role': 'assistant',
            'content': response['content'],
            'reasoning': response['reasoning']
        })

        request.session.modified = True

return render(request, 'chat.html', {
    'messages': request.session['messages']
})</code></pre>
    <p>
     è¦å°†api_key="xxx"ä¸­xxxæ›¿æ¢ä¸ºè‡ªå·±çš„apikeyã€‚
    </p>
    <p>
     urls.py
    </p>
    <pre><code class="language-python">from django.contrib import admin
from django.urls import path
from chat import views

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', views.chat_view, name='chat'),
]</code></pre>
    <p>
     å‰ç«¯ä»£ç 
    </p>
    <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;AIå¯¹è¯åŠ©æ‰‹ï¼ˆMarkdownæ”¯æŒç‰ˆï¼‰&lt;/title&gt;
    &lt;!-- Markdown æ¸²æŸ“ä¾èµ– --&gt;
    &lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@5.2.0/github-markdown.min.css"&gt;
    &lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github-dark.min.css"&gt;
    &lt;style&gt;
        :root {
            --user-color: #1a73e8;
            --assistant-color: #0b8043;
        }
        body {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: #f8f9fa;
        }
        .chat-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 20px;
        }
        .message {
            margin: 15px 0;
            padding: 12px 16px;
            border-radius: 8px;
        }
        .user-message {
            background-color: #e8f0fe;
            border: 1px solid var(--user-color);
            margin-left: 30px;
        }
        .assistant-message {
            background-color: #e6f4ea;
            border: 1px solid var(--assistant-color);
            margin-right: 30px;
        }
        .role-label {
            font-weight: 500;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .role-label::before {
            content: '';
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        .user-message .role-label::before {
            background: var(--user-color);
        }
        .assistant-message .role-label::before {
            background: var(--assistant-color);
        }
        form {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        input[type="text"] {
            flex: 1;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
        }
        button {
            padding: 12px 24px;
            background-color: var(--user-color);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.2s;
        }
        button:hover {
            background-color: #1557b0;
        }
        .markdown-body pre {
            padding: 16px;
            border-radius: 8px;
            overflow-x: auto;
        }
        .reasoning-box {
            margin-top: 12px;
            padding: 12px;
            background: #fff8e5;
            border-left: 4px solid #ffd700;
            border-radius: 4px;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="chat-container"&gt;
        &lt;h1 style="color: var(--user-color); text-align: center;"&gt;AIå¯¹è¯åŠ©æ‰‹&lt;/h1&gt;

        &lt;div class="messages"&gt;
            {% for message in messages %}
                &lt;div class="message {% if message.role == 'user' %}user-message{% else %}assistant-message{% endif %}"&gt;
                    &lt;div class="role-label"&gt;
                        {% if message.role == 'user' %}
                            ğŸ‘¤ ç”¨æˆ·
                        {% else %}
                            ğŸ¤– åŠ©æ‰‹
                        {% endif %}
                    &lt;/div&gt;
                    &lt;!-- Markdown å†…å®¹å®¹å™¨ --&gt;
                    &lt;div class="markdown-body"
                         data-markdown="{<!-- -->{ message.content|escape }}"
                         data-raw="{<!-- -->{ message.content|escape }}"&gt;
                        {<!-- -->{ message.content|safe }}
                    &lt;/div&gt;

                    {% if message.reasoning %}
                    &lt;div class="reasoning-box"&gt;
                        &lt;div class="reasoning-label"&gt;ğŸ’¡ æ€è€ƒè¿‡ç¨‹&lt;/div&gt;
                        &lt;div class="markdown-body"
                             data-markdown="{<!-- -->{ message.reasoning|escape }}"
                             data-raw="{<!-- -->{ message.reasoning|escape }}"&gt;
                            {<!-- -->{ message.reasoning|safe }}
                        &lt;/div&gt;
                    &lt;/div&gt;
                    {% endif %}
                &lt;/div&gt;
            {% endfor %}
        &lt;/div&gt;

        &lt;form method="post"&gt;
            {% csrf_token %}
            &lt;input type="text" name="message" placeholder="è¯·è¾“å…¥æ‚¨çš„é—®é¢˜..." required autofocus&gt;
            &lt;button type="submit"&gt;å‘é€&lt;/button&gt;
        &lt;/form&gt;
    &lt;/div&gt;

    &lt;!-- ä¾èµ–åº“ --&gt;
    &lt;script src="https://cdn.jsdelivr.net/npm/marked@12.0.0/lib/marked.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.5/dist/purify.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"&gt;&lt;/script&gt;

    &lt;script&gt;
        // åˆå§‹åŒ–é…ç½®
        marked.setOptions({
            breaks: true,
            highlight: (code, lang) =&gt; {
                const language = hljs.getLanguage(lang) ? lang : 'plaintext';
                return hljs.highlight(code, { language }).value;
            }
        });

        // Markdown æ¸²æŸ“å‡½æ•°
        const renderMarkdown = () =&gt; {
            document.querySelectorAll('.markdown-body').forEach(container =&gt; {
                try {
                    // ä¼˜å…ˆä½¿ç”¨ data-markdown å±æ€§
                    const raw = container.dataset.markdown || container.dataset.raw;
                    const clean = DOMPurify.sanitize(raw, {
                        ALLOWED_TAGS: ['b', 'i', 'em', 'strong', 'code', 'pre', 'blockquote',
                                     'ul', 'ol', 'li', 'h1', 'h2', 'h3', 'a', 'p', 'br', 'hr'],
                        ALLOWED_ATTR: ['href', 'target']
                    });
                    container.innerHTML = marked.parse(clean);
                } catch (e) {
                    console.error('Markdownæ¸²æŸ“å¤±è´¥:', e);
                    container.innerHTML = container.dataset.raw;
                }
            });

            // è§¦å‘ä»£ç é«˜äº®
            hljs.highlightAll();
        };

        // ç¡®ä¿ä¾èµ–åŠ è½½å®Œæˆåæ‰§è¡Œ
        const checkDependencies = () =&gt; {
            if (window.marked &amp;&amp; window.DOMPurify &amp;&amp; window.hljs) {
                renderMarkdown();
            } else {
                setTimeout(checkDependencies, 100);
            }
        };

        // å¯åŠ¨æ¸²æŸ“æµç¨‹
        document.addEventListener('DOMContentLoaded', checkDependencies);
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
    <p>
     è¿ç§»æ•°æ®åº“
    </p>
    <p>
     python manage.py makemigrations
     <br/>
     python manage.py migrate
    </p>
    <h2>
     äº”ã€æ•ˆæœå±•ç¤º
    </h2>
    <p>
     <img alt="" height="874" src="https://i-blog.csdnimg.cn/direct/295b0c2cc5e449669c5ca9401921f6ca.png" width="1911"/>
    </p>
    <h2>
     å…­ã€å°†æ¨¡å‹åˆ‡æ¢ä¸ºdeepseek
    </h2>
    <p>
     åˆ‡æ¢æ¨¡å‹åªè¦ä¿®æ”¹model="qwen2.5-14b-instruct-1m"ä¸ºdeepseek.
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f37343337303430302f:61727469636c652f64657461696c732f313435383039363537" class_="artid" style="display:none">
 </p>
</div>


