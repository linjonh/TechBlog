---
arturl_encode: "68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f37343337303430302f:61727469636c652f64657461696c732f313435383039363537"
layout: post
title: "ä½¿ç”¨djangoè°ƒç”¨deepseek-api,æ­å»ºaiç½‘ç«™"
date: 2025-02-23 14:54:32 +0800
description: "DeepSeekæ˜¯ä¸€å®¶äººå·¥æ™ºèƒ½å…¬å¸ï¼Œä¸“æ³¨äºå¼€å‘å…ˆè¿›çš„äººå·¥æ™ºèƒ½æ¨¡å‹å’ŒæŠ€æœ¯ã€‚"
keywords: "django deepseek"
categories: ['æœªåˆ†ç±»']
tags: ['äººå·¥æ™ºèƒ½']
artid: "145809657"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=145809657
    alt: "ä½¿ç”¨djangoè°ƒç”¨deepseek-api,æ­å»ºaiç½‘ç«™"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=145809657
featuredImagePreview: https://bing.ee123.net/img/rand?artid=145809657
cover: https://bing.ee123.net/img/rand?artid=145809657
image: https://bing.ee123.net/img/rand?artid=145809657
img: https://bing.ee123.net/img/rand?artid=145809657
---

# ä½¿ç”¨djangoè°ƒç”¨deepseek apiï¼Œæ­å»ºaiç½‘ç«™

## ä¸€ã€deepseekç®€ä»‹

DeepSeekæ˜¯ä¸€å®¶äººå·¥æ™ºèƒ½å…¬å¸ï¼Œä¸“æ³¨äºå¼€å‘å…ˆè¿›çš„äººå·¥æ™ºèƒ½æ¨¡å‹å’ŒæŠ€æœ¯ã€‚ä»¥ä¸‹æ˜¯å…³äºDeepSeekçš„ä¸€äº›è¯¦ç»†ä»‹ç»ï¼š

### 1.å…¬å¸èƒŒæ™¯

DeepSeekç”±æ­å·æ·±åº¦æ±‚ç´¢äººå·¥æ™ºèƒ½åŸºç¡€æŠ€æœ¯ç ”ç©¶æœ‰é™å…¬å¸å¼€å‘ï¼Œè‡´åŠ›äºé€šè¿‡åˆ›æ–°çš„æŠ€æœ¯å’Œç®—æ³•ï¼Œæ¨åŠ¨äººå·¥æ™ºèƒ½é¢†åŸŸçš„å‘å±•ã€‚

### 2.æŠ€æœ¯ä¸æ¨¡å‹

* **DeepSeek-V3**
  ï¼šè¿™æ˜¯DeepSeekå¼€å‘çš„ä¸€ä¸ªå¤§å‹è¯­è¨€æ¨¡å‹ï¼Œå…·æœ‰è¶…è¿‡600Bçš„å‚æ•°ï¼Œåœ¨å¤šé¡¹æ€§èƒ½æŒ‡æ ‡ä¸Šä¸å›½é™…é¡¶å°–æ¨¡å‹ç›¸å½“ã€‚
* **DeepSeek-R1**
  ï¼šè¿™æ˜¯DeepSeekçš„ç¬¬ä¸€ä»£æ¨ç†æ¨¡å‹ï¼Œé€šè¿‡å¤§è§„æ¨¡å¼ºåŒ–å­¦ä¹ ï¼ˆRLï¼‰è¿›è¡Œè®­ç»ƒï¼Œå±•ç¤ºå‡ºäº†åœ¨æ¨ç†ä»»åŠ¡ä¸Šçš„ä¼˜å¼‚æ€§èƒ½ã€‚
* **DeepSeek-R1-Distill**
  ï¼šè¿™äº›æ˜¯ä»DeepSeek-R1ä¸­è’¸é¦å‡ºçš„å°æ¨¡å‹ï¼Œå…·æœ‰æ›´å¥½çš„æ€§èƒ½å’Œæ•ˆç‡ï¼Œé€‚åˆåœ¨èµ„æºå—é™çš„ç¯å¢ƒä¸­ä½¿ç”¨ã€‚

### 3.åº”ç”¨é¢†åŸŸ

* **è‡ªç„¶è¯­è¨€å¤„ç†**
  ï¼šDeepSeekçš„æ¨¡å‹åœ¨æ–‡æœ¬ç”Ÿæˆã€çŸ¥è¯†é—®ç­”ã€æ¨ç†ç­‰ä»»åŠ¡ä¸­è¡¨ç°å‡ºè‰²ï¼Œèƒ½å¤Ÿä¸ºç”¨æˆ·æä¾›é«˜è´¨é‡çš„è¯­è¨€äº¤äº’æœåŠ¡ã€‚
* **æ™ºèƒ½åŠ©æ‰‹**
  ï¼šDeepSeekå¼€å‘äº†AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ç”¨äºæœç´¢ã€å†™ä½œã€é˜…è¯»ã€è§£é¢˜ã€ç¿»è¯‘ç­‰å¤šç§ä»»åŠ¡ï¼Œå¸®åŠ©ç”¨æˆ·æé«˜æ•ˆç‡ã€‚

### 4.ä¼˜åŠ¿ä¸ç‰¹ç‚¹

* **æˆæœ¬ä¼˜åŠ¿**
  ï¼šDeepSeekçš„æ¨¡å‹è®­ç»ƒæˆæœ¬ä½ï¼Œè°ƒç”¨æ¥å£æˆæœ¬ä¹Ÿè¾ƒä½ï¼Œå…·æœ‰è¾ƒé«˜çš„æ€§ä»·æ¯”ã€‚
* **ä¸­æ–‡å¤„ç†èƒ½åŠ›å¼º**
  ï¼šå¯¹ä¸­æ–‡è¯­æ³•ã€æˆè¯­ã€æ–‡åŒ–èƒŒæ™¯ç†è§£æ›´æ·±å…¥ï¼Œåœ¨ä¸­æ–‡æ–‡æœ¬ç”Ÿæˆã€æ‘˜è¦ã€æƒ…æ„Ÿåˆ†æç­‰ä»»åŠ¡ä¸­è¡¨ç°è‡ªç„¶ã€‚
* **å¼€æºä¼˜åŠ¿**
  ï¼šDeepSeek-R1æ¨¡å‹æƒé‡å’ŒæŠ€æœ¯æŠ¥å‘Šå¼€æºï¼Œä¾¿äºå¼€å‘è€…äºŒæ¬¡å¼€å‘å’Œåˆ›æ–°ã€‚

### 5.äº§å“ä¸æœåŠ¡

* **DeepSeek API**
  ï¼šæä¾›ä¸OpenAIå…¼å®¹çš„APIï¼Œæ–¹ä¾¿å¼€å‘è€…å°†DeepSeekçš„æ¨¡å‹é›†æˆåˆ°è‡ªå·±çš„åº”ç”¨ä¸­ã€‚
* **DeepSeek App**
  ï¼šæä¾›AIæ™ºèƒ½åŠ©æ‰‹åº”ç”¨ï¼Œå¯åœ¨App Storeä¸Šä¸‹è½½ï¼Œæ”¯æŒå¤šç§åŠŸèƒ½ï¼Œå¦‚æ™ºèƒ½å¯¹è¯ã€æœç´¢ã€å†™ä½œç­‰ã€‚

## äºŒã€è·å–apikey

deepseekå®˜æ–¹çš„apiæš‚æ—¶æ— æ³•å……å€¼ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯é˜¿é‡Œäº‘çš„ç™¾ç‚¼å¹³å°çš„deepseek v1æ¨¡å‹ï¼Œé˜¿é‡Œäº‘ç™¾ç‚¼å¹³å°æ³¨å†Œé€ç™¾ä¸‡tokenï¼Œå¯ä»¥ç™½å«–ã€‚æ‰“å¼€ç™¾ç‚¼æ§åˆ¶å°ï¼Œå¼€é€šæœåŠ¡ï¼Œéšä¾¿é€‰æ‹©ä¸€ä¸ªæ¨¡å‹ï¼Œç‚¹å‡»å³ä¸Šè§’çš„â€œæŸ¥çœ‹æˆ‘çš„apikeyâ€ï¼Œè·å–apikeyã€‚

![](https://i-blog.csdnimg.cn/direct/6e1dae35eb4c4a2e8adcba012341ed19.png)

## ä¸‰ã€åˆ›å»ºdjangoé¡¹ç›®ï¼Œå¹¶startapp

ä½¿ç”¨djangoåˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®ï¼Œpython manage.py startapp chatæ–°å»ºappä½œä¸ºä¸»è¦ä»£ç æ–‡ä»¶å¤¹ã€‚

## å››ã€ç¼–å†™ä»£ç 

chat\views.py

```python
from django.shortcuts import render
from openai import OpenAI
import os
from django.conf import settings


def get_ai_response(messages):
client = OpenAI(
api_key="xxx",//å¡«å†™apikey
base_url="https://dashscope.aliyuncs.com/compatible-mode/v1",
)


try:
    completion = client.chat.completions.create(
        model="qwen2.5-14b-instruct-1m",
        messages=messages
    )
    return {
        'content': completion.choices[0].message.content,
        'reasoning': getattr(completion.choices[0].message, 'reasoning_content', '')
    }
except Exception as e:
    return {
        'content': f"å‘ç”Ÿé”™è¯¯ï¼š{str(e)}",
        'reasoning': ''
    }

def chat_view(request):
if 'messages' not in request.session:
request.session['messages'] = []


if request.method == 'POST':
    user_message = request.POST.get('message', '')
    if user_message:
        request.session['messages'].append({'role': 'user', 'content': user_message})

        response = get_ai_response(request.session['messages'])

        request.session['messages'].append({
            'role': 'assistant',
            'content': response['content'],
            'reasoning': response['reasoning']
        })

        request.session.modified = True

return render(request, 'chat.html', {
    'messages': request.session['messages']
})
```

è¦å°†api\_key="xxx"ä¸­xxxæ›¿æ¢ä¸ºè‡ªå·±çš„apikeyã€‚

urls.py

```python
from django.contrib import admin
from django.urls import path
from chat import views

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', views.chat_view, name='chat'),
]
```

å‰ç«¯ä»£ç 

```html
<!DOCTYPE html>
<html>
<head>
    <title>AIå¯¹è¯åŠ©æ‰‹ï¼ˆMarkdownæ”¯æŒç‰ˆï¼‰</title>
    <!-- Markdown æ¸²æŸ“ä¾èµ– -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@5.2.0/github-markdown.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github-dark.min.css">
    <style>
        :root {
            --user-color: #1a73e8;
            --assistant-color: #0b8043;
        }
        body {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: #f8f9fa;
        }
        .chat-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 20px;
        }
        .message {
            margin: 15px 0;
            padding: 12px 16px;
            border-radius: 8px;
        }
        .user-message {
            background-color: #e8f0fe;
            border: 1px solid var(--user-color);
            margin-left: 30px;
        }
        .assistant-message {
            background-color: #e6f4ea;
            border: 1px solid var(--assistant-color);
            margin-right: 30px;
        }
        .role-label {
            font-weight: 500;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .role-label::before {
            content: '';
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        .user-message .role-label::before {
            background: var(--user-color);
        }
        .assistant-message .role-label::before {
            background: var(--assistant-color);
        }
        form {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        input[type="text"] {
            flex: 1;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
        }
        button {
            padding: 12px 24px;
            background-color: var(--user-color);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.2s;
        }
        button:hover {
            background-color: #1557b0;
        }
        .markdown-body pre {
            padding: 16px;
            border-radius: 8px;
            overflow-x: auto;
        }
        .reasoning-box {
            margin-top: 12px;
            padding: 12px;
            background: #fff8e5;
            border-left: 4px solid #ffd700;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <h1 style="color: var(--user-color); text-align: center;">AIå¯¹è¯åŠ©æ‰‹</h1>

        <div class="messages">
            {% for message in messages %}
                <div class="message {% if message.role == 'user' %}user-message{% else %}assistant-message{% endif %}">
                    <div class="role-label">
                        {% if message.role == 'user' %}
                            ğŸ‘¤ ç”¨æˆ·
                        {% else %}
                            ğŸ¤– åŠ©æ‰‹
                        {% endif %}
                    </div>
                    <!-- Markdown å†…å®¹å®¹å™¨ -->
                    <div class="markdown-body"
                         data-markdown="{{ message.content|escape }}"
                         data-raw="{{ message.content|escape }}">
                        {{ message.content|safe }}
                    </div>

                    {% if message.reasoning %}
                    <div class="reasoning-box">
                        <div class="reasoning-label">ğŸ’¡ æ€è€ƒè¿‡ç¨‹</div>
                        <div class="markdown-body"
                             data-markdown="{{ message.reasoning|escape }}"
                             data-raw="{{ message.reasoning|escape }}">
                            {{ message.reasoning|safe }}
                        </div>
                    </div>
                    {% endif %}
                </div>
            {% endfor %}
        </div>

        <form method="post">
            {% csrf_token %}
            <input type="text" name="message" placeholder="è¯·è¾“å…¥æ‚¨çš„é—®é¢˜..." required autofocus>
            <button type="submit">å‘é€</button>
        </form>
    </div>

    <!-- ä¾èµ–åº“ -->
    <script src="https://cdn.jsdelivr.net/npm/marked@12.0.0/lib/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.5/dist/purify.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>

    <script>
        // åˆå§‹åŒ–é…ç½®
        marked.setOptions({
            breaks: true,
            highlight: (code, lang) => {
                const language = hljs.getLanguage(lang) ? lang : 'plaintext';
                return hljs.highlight(code, { language }).value;
            }
        });

        // Markdown æ¸²æŸ“å‡½æ•°
        const renderMarkdown = () => {
            document.querySelectorAll('.markdown-body').forEach(container => {
                try {
                    // ä¼˜å…ˆä½¿ç”¨ data-markdown å±æ€§
                    const raw = container.dataset.markdown || container.dataset.raw;
                    const clean = DOMPurify.sanitize(raw, {
                        ALLOWED_TAGS: ['b', 'i', 'em', 'strong', 'code', 'pre', 'blockquote',
                                     'ul', 'ol', 'li', 'h1', 'h2', 'h3', 'a', 'p', 'br', 'hr'],
                        ALLOWED_ATTR: ['href', 'target']
                    });
                    container.innerHTML = marked.parse(clean);
                } catch (e) {
                    console.error('Markdownæ¸²æŸ“å¤±è´¥:', e);
                    container.innerHTML = container.dataset.raw;
                }
            });

            // è§¦å‘ä»£ç é«˜äº®
            hljs.highlightAll();
        };

        // ç¡®ä¿ä¾èµ–åŠ è½½å®Œæˆåæ‰§è¡Œ
        const checkDependencies = () => {
            if (window.marked && window.DOMPurify && window.hljs) {
                renderMarkdown();
            } else {
                setTimeout(checkDependencies, 100);
            }
        };

        // å¯åŠ¨æ¸²æŸ“æµç¨‹
        document.addEventListener('DOMContentLoaded', checkDependencies);
    </script>
</body>
</html>
```

è¿ç§»æ•°æ®åº“

python manage.py makemigrations
  
python manage.py migrate

## äº”ã€æ•ˆæœå±•ç¤º

![](https://i-blog.csdnimg.cn/direct/295b0c2cc5e449669c5ca9401921f6ca.png)

## å…­ã€å°†æ¨¡å‹åˆ‡æ¢ä¸ºdeepseek

åˆ‡æ¢æ¨¡å‹åªè¦ä¿®æ”¹model="qwen2.5-14b-instruct-1m"ä¸ºdeepseek.