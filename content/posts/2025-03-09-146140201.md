---
layout: post
title: "å·¥ç¨‹åŒ–ä¸æ¡†æ¶ç³»åˆ—26-å‰ç«¯å¯è§†åŒ–å¼€å‘"
date: 2025-03-09 22:31:09 +0800
description: "å·¥ç¨‹åŒ–ä¸æ¡†æ¶ä¹‹æ—…ç¬¬äºŒåå…­ç«™"
keywords: "å·¥ç¨‹åŒ–ä¸æ¡†æ¶ç³»åˆ—ï¼ˆ26ï¼‰--å‰ç«¯å¯è§†åŒ–å¼€å‘"
categories: ['å‰ç«¯å·¥ç¨‹åŒ–ä¸æ¡†æ¶']
tags: ['å‰ç«¯']
artid: "146140201"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146140201
    alt: "å·¥ç¨‹åŒ–ä¸æ¡†æ¶ç³»åˆ—26-å‰ç«¯å¯è§†åŒ–å¼€å‘"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146140201
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146140201
cover: https://bing.ee123.net/img/rand?artid=146140201
image: https://bing.ee123.net/img/rand?artid=146140201
img: https://bing.ee123.net/img/rand?artid=146140201
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     å·¥ç¨‹åŒ–ä¸æ¡†æ¶ç³»åˆ—ï¼ˆ26ï¼‰--å‰ç«¯å¯è§†åŒ–å¼€å‘
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="__0">
     </a>
     å‰ç«¯å¯è§†åŒ–å¼€å‘ ğŸ“Š
    </h2>
    <h3>
     <a id="_2">
     </a>
     å¼•è¨€
    </h3>
    <p>
     å‰ç«¯å¯è§†åŒ–æ˜¯ç°ä»£Webåº”ç”¨ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ï¼Œå®ƒèƒ½å¤Ÿä»¥ç›´è§‚çš„æ–¹å¼å±•ç¤ºå¤æ‚çš„æ•°æ®å’Œä¿¡æ¯ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨å‰ç«¯å¯è§†åŒ–å¼€å‘çš„å…³é”®æŠ€æœ¯å’Œæœ€ä½³å®è·µï¼ŒåŒ…æ‹¬å›¾è¡¨ç»˜åˆ¶ã€æ•°æ®å¤„ç†ã€åŠ¨ç”»æ•ˆæœç­‰æ–¹é¢ã€‚
    </p>
    <h3>
     <a id="_6">
     </a>
     å¯è§†åŒ–æŠ€æœ¯æ¦‚è¿°
    </h3>
    <p>
     å‰ç«¯å¯è§†åŒ–ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹æŠ€æœ¯æ–¹å‘ï¼š
    </p>
    <ul>
     <li>
      <strong>
       Canvasç»˜å›¾
      </strong>
      ï¼šåƒç´ çº§åˆ«çš„å›¾å½¢ç»˜åˆ¶
     </li>
     <li>
      <strong>
       SVGçŸ¢é‡å›¾
      </strong>
      ï¼šå¯ç¼©æ”¾çš„çŸ¢é‡å›¾å½¢
     </li>
     <li>
      <strong>
       WebGL 3D
      </strong>
      ï¼šä¸‰ç»´å›¾å½¢æ¸²æŸ“
     </li>
     <li>
      <strong>
       å¯è§†åŒ–åº“
      </strong>
      ï¼šEChartsã€D3.jsç­‰
     </li>
     <li>
      <strong>
       åœ°ç†ä¿¡æ¯
      </strong>
      ï¼šåœ°å›¾å¯è§†åŒ–
     </li>
    </ul>
    <h3>
     <a id="Canvas_16">
     </a>
     Canvaså›¾å½¢ç»˜åˆ¶
    </h3>
    <h4>
     <a id="API_18">
     </a>
     åŸºç¡€ç»˜å›¾API
    </h4>
    <pre><code class="prism language-typescript"><span class="token comment">// Canvasç»˜å›¾ç®¡ç†å™¨</span>
<span class="token keyword">class</span> <span class="token class-name">CanvasRenderer</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> canvas<span class="token operator">:</span> HTMLCanvasElement<span class="token punctuation">;</span>
    <span class="token keyword">private</span> ctx<span class="token operator">:</span> CanvasRenderingContext2D<span class="token punctuation">;</span>
    
    <span class="token function">constructor</span><span class="token punctuation">(</span>canvas<span class="token operator">:</span> HTMLCanvasElement<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>canvas <span class="token operator">=</span> canvas<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initializeCanvas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// åˆå§‹åŒ–ç”»å¸ƒ</span>
    <span class="token keyword">private</span> <span class="token function">initializeCanvas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è®¾ç½®ç”»å¸ƒå°ºå¯¸ä¸ºæ˜¾ç¤ºå°ºå¯¸çš„2å€ï¼Œæé«˜æ¸…æ™°åº¦</span>
        <span class="token keyword">const</span> displayWidth <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>
        <span class="token keyword">const</span> displayHeight <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> displayWidth <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> displayHeight <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
        
        <span class="token comment">// ç¼©æ”¾ä¸Šä¸‹æ–‡ä»¥åŒ¹é…æ˜¾ç¤ºå°ºå¯¸</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// è®¾ç½®é»˜è®¤æ ·å¼</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'#333'</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'#666'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// æ¸…ç©ºç”»å¸ƒ</span>
    <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// ç»˜åˆ¶ç›´çº¿</span>
    <span class="token function">drawLine</span><span class="token punctuation">(</span>
        startX<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        startY<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        endX<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        endY<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> LineOptions <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// åº”ç”¨æ ·å¼é€‰é¡¹</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>color<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> options<span class="token punctuation">.</span>color<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>width<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> options<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>dash<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>dash<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// ç»˜åˆ¶è·¯å¾„</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>startX<span class="token punctuation">,</span> startY<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>endX<span class="token punctuation">,</span> endY<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// ç»˜åˆ¶çŸ©å½¢</span>
    <span class="token function">drawRect</span><span class="token punctuation">(</span>
        x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> ShapeOptions <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// åº”ç”¨æ ·å¼é€‰é¡¹</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>fillColor<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> options<span class="token punctuation">.</span>fillColor<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>strokeColor<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> options<span class="token punctuation">.</span>strokeColor<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>lineWidth<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> options<span class="token punctuation">.</span>lineWidth<span class="token punctuation">;</span>
        
        <span class="token comment">// ç»˜åˆ¶çŸ©å½¢</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>fillColor<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>strokeColor<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// ç»˜åˆ¶åœ†å½¢</span>
    <span class="token function">drawCircle</span><span class="token punctuation">(</span>
        x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        radius<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> ShapeOptions <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// åº”ç”¨æ ·å¼é€‰é¡¹</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>fillColor<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> options<span class="token punctuation">.</span>fillColor<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>strokeColor<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> options<span class="token punctuation">.</span>strokeColor<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>lineWidth<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> options<span class="token punctuation">.</span>lineWidth<span class="token punctuation">;</span>
        
        <span class="token comment">// ç»˜åˆ¶åœ†å½¢</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>fillColor<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>strokeColor<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// ç»˜åˆ¶æ–‡æœ¬</span>
    <span class="token function">drawText</span><span class="token punctuation">(</span>
        text<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
        x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> TextOptions <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// åº”ç”¨æ ·å¼é€‰é¡¹</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>font<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> options<span class="token punctuation">.</span>font<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>color<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> options<span class="token punctuation">.</span>color<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>align<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>textAlign <span class="token operator">=</span> options<span class="token punctuation">.</span>align<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>baseline<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>textBaseline <span class="token operator">=</span> options<span class="token punctuation">.</span>baseline<span class="token punctuation">;</span>
        
        <span class="token comment">// ç»˜åˆ¶æ–‡æœ¬</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç»˜å›¾é€‰é¡¹æ¥å£</span>
<span class="token keyword">interface</span> <span class="token class-name">LineOptions</span> <span class="token punctuation">{<!-- --></span>
    color<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    width<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    dash<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">ShapeOptions</span> <span class="token punctuation">{<!-- --></span>
    fillColor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    strokeColor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    lineWidth<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">TextOptions</span> <span class="token punctuation">{<!-- --></span>
    font<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    color<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    align<span class="token operator">?</span><span class="token operator">:</span> CanvasTextAlign<span class="token punctuation">;</span>
    baseline<span class="token operator">?</span><span class="token operator">:</span> CanvasTextBaseline<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLCanvasElement<span class="token punctuation">;</span>
<span class="token keyword">const</span> renderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CanvasRenderer</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ç»˜åˆ¶å›¾å½¢</span>
renderer<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    fillColor<span class="token operator">:</span> <span class="token string">'#f0f0f0'</span><span class="token punctuation">,</span>
    strokeColor<span class="token operator">:</span> <span class="token string">'#333'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

renderer<span class="token punctuation">.</span><span class="token function">drawCircle</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    fillColor<span class="token operator">:</span> <span class="token string">'#1890ff'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

renderer<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    color<span class="token operator">:</span> <span class="token string">'#666'</span><span class="token punctuation">,</span>
    width<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    dash<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

renderer<span class="token punctuation">.</span><span class="token function">drawText</span><span class="token punctuation">(</span><span class="token string">'Hello Canvas'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    font<span class="token operator">:</span> <span class="token string">'20px Arial'</span><span class="token punctuation">,</span>
    color<span class="token operator">:</span> <span class="token string">'#333'</span><span class="token punctuation">,</span>
    align<span class="token operator">:</span> <span class="token string">'center'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="_203">
     </a>
     åŠ¨ç”»å®ç°
    </h4>
    <pre><code class="prism language-typescript"><span class="token comment">// åŠ¨ç”»ç®¡ç†å™¨</span>
<span class="token keyword">class</span> <span class="token class-name">AnimationManager</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> animations<span class="token operator">:</span> Animation<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> isRunning<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> lastTime<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>animations <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>isRunning <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>lastTime <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>animate <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// æ·»åŠ åŠ¨ç”»</span>
    <span class="token function">addAnimation</span><span class="token punctuation">(</span>animation<span class="token operator">:</span> Animation<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>animations<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>animation<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>isRunning<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// ç§»é™¤åŠ¨ç”»</span>
    <span class="token function">removeAnimation</span><span class="token punctuation">(</span>animation<span class="token operator">:</span> Animation<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>animations<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>animation<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>animations<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>animations<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// å¯åŠ¨åŠ¨ç”»å¾ªç¯</span>
    <span class="token keyword">private</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>isRunning <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>lastTime <span class="token operator">=</span> performance<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>animate<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// åœæ­¢åŠ¨ç”»å¾ªç¯</span>
    <span class="token keyword">private</span> <span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>isRunning <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// åŠ¨ç”»å¾ªç¯</span>
    <span class="token keyword">private</span> <span class="token function">animate</span><span class="token punctuation">(</span>currentTime<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>isRunning<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        
        <span class="token comment">// è®¡ç®—æ—¶é—´å¢é‡</span>
        <span class="token keyword">const</span> deltaTime <span class="token operator">=</span> currentTime <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastTime<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>lastTime <span class="token operator">=</span> currentTime<span class="token punctuation">;</span>
        
        <span class="token comment">// æ›´æ–°æ‰€æœ‰åŠ¨ç”»</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>animations<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>animation <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            animation<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>deltaTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// ç»§ç»­åŠ¨ç”»å¾ªç¯</span>
        <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>animate<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// åŠ¨ç”»åŸºç±»</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Animation</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">protected</span> duration<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> elapsed<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> isComplete<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
    
    <span class="token function">constructor</span><span class="token punctuation">(</span>duration<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>duration <span class="token operator">=</span> duration<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>elapsed <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>isComplete <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// æ›´æ–°åŠ¨ç”»çŠ¶æ€</span>
    <span class="token function">update</span><span class="token punctuation">(</span>deltaTime<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isComplete<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>elapsed <span class="token operator">+=</span> deltaTime<span class="token punctuation">;</span>
        
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>elapsed <span class="token operator">&gt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>duration<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>elapsed <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>duration<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>isComplete <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">const</span> progress <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>elapsed <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span>duration<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onUpdate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">easeInOut</span><span class="token punctuation">(</span>progress<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// ç¼“åŠ¨å‡½æ•°</span>
    <span class="token keyword">protected</span> <span class="token function">easeInOut</span><span class="token punctuation">(</span>t<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> t <span class="token operator">&lt;</span> <span class="token number">0.5</span>
            <span class="token operator">?</span> <span class="token number">2</span> <span class="token operator">*</span> t <span class="token operator">*</span> t
            <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">*</span> t<span class="token punctuation">)</span> <span class="token operator">*</span> t<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// åŠ¨ç”»æ›´æ–°å›è°ƒ</span>
    <span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token function">onUpdate</span><span class="token punctuation">(</span>progress<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// åœ†å½¢åŠ¨ç”»ç¤ºä¾‹</span>
<span class="token keyword">class</span> <span class="token class-name">CircleAnimation</span> <span class="token keyword">extends</span> <span class="token class-name">Animation</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> renderer<span class="token operator">:</span> CanvasRenderer<span class="token punctuation">;</span>
    <span class="token keyword">private</span> startRadius<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> endRadius<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    
    <span class="token function">constructor</span><span class="token punctuation">(</span>
        renderer<span class="token operator">:</span> CanvasRenderer<span class="token punctuation">,</span>
        x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        startRadius<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        endRadius<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        duration<span class="token operator">:</span> <span class="token builtin">number</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>duration<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>renderer <span class="token operator">=</span> renderer<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>startRadius <span class="token operator">=</span> startRadius<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>endRadius <span class="token operator">=</span> endRadius<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">protected</span> <span class="token function">onUpdate</span><span class="token punctuation">(</span>progress<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> currentRadius <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>startRadius <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>endRadius <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>startRadius<span class="token punctuation">)</span> <span class="token operator">*</span> progress<span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>renderer<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>renderer<span class="token punctuation">.</span><span class="token function">drawCircle</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> currentRadius<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            fillColor<span class="token operator">:</span> <span class="token string">'#1890ff'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLCanvasElement<span class="token punctuation">;</span>
<span class="token keyword">const</span> renderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CanvasRenderer</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> animationManager <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnimationManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ›å»ºå¹¶æ·»åŠ åŠ¨ç”»</span>
<span class="token keyword">const</span> circleAnimation <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CircleAnimation</span><span class="token punctuation">(</span>
    renderer<span class="token punctuation">,</span>
    <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token number">1000</span> <span class="token comment">// 1ç§’</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

animationManager<span class="token punctuation">.</span><span class="token function">addAnimation</span><span class="token punctuation">(</span>circleAnimation<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="SVG_362">
     </a>
     SVGå›¾å½¢ç»˜åˆ¶
    </h3>
    <h4>
     <a id="SVG_364">
     </a>
     SVGåŸºç¡€ç»„ä»¶
    </h4>
    <pre><code class="prism language-typescript"><span class="token comment">// SVGæ¸²æŸ“å™¨</span>
<span class="token keyword">class</span> <span class="token class-name">SVGRenderer</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> svg<span class="token operator">:</span> SVGSVGElement<span class="token punctuation">;</span>
    
    <span class="token function">constructor</span><span class="token punctuation">(</span>container<span class="token operator">:</span> HTMLElement<span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElementNS</span><span class="token punctuation">(</span><span class="token string">'http://www.w3.org/2000/svg'</span><span class="token punctuation">,</span> <span class="token string">'svg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'width'</span><span class="token punctuation">,</span> width<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> height<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'viewBox'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">0 0 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>width<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>height<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        container<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// åˆ›å»ºçŸ©å½¢</span>
    <span class="token function">createRect</span><span class="token punctuation">(</span>
        x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> SVGShapeOptions <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token operator">:</span> SVGRectElement <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> rect <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElementNS</span><span class="token punctuation">(</span><span class="token string">'http://www.w3.org/2000/svg'</span><span class="token punctuation">,</span> <span class="token string">'rect'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        rect<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">,</span> x<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        rect<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">,</span> y<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        rect<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'width'</span><span class="token punctuation">,</span> width<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        rect<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> height<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">applyShapeOptions</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> rect<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// åˆ›å»ºåœ†å½¢</span>
    <span class="token function">createCircle</span><span class="token punctuation">(</span>
        cx<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        cy<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        r<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> SVGShapeOptions <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token operator">:</span> SVGCircleElement <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> circle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElementNS</span><span class="token punctuation">(</span><span class="token string">'http://www.w3.org/2000/svg'</span><span class="token punctuation">,</span> <span class="token string">'circle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        circle<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'cx'</span><span class="token punctuation">,</span> cx<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        circle<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'cy'</span><span class="token punctuation">,</span> cy<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        circle<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">applyShapeOptions</span><span class="token punctuation">(</span>circle<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>circle<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> circle<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// åˆ›å»ºè·¯å¾„</span>
    <span class="token function">createPath</span><span class="token punctuation">(</span>
        d<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> SVGShapeOptions <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token operator">:</span> SVGPathElement <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> path <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElementNS</span><span class="token punctuation">(</span><span class="token string">'http://www.w3.org/2000/svg'</span><span class="token punctuation">,</span> <span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        path<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'d'</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">applyShapeOptions</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> path<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// åˆ›å»ºæ–‡æœ¬</span>
    <span class="token function">createText</span><span class="token punctuation">(</span>
        x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        text<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> SVGTextOptions <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token operator">:</span> SVGTextElement <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> textElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElementNS</span><span class="token punctuation">(</span><span class="token string">'http://www.w3.org/2000/svg'</span><span class="token punctuation">,</span> <span class="token string">'text'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        textElement<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">,</span> x<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        textElement<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">,</span> y<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        textElement<span class="token punctuation">.</span>textContent <span class="token operator">=</span> text<span class="token punctuation">;</span>
        
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>fontSize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            textElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> options<span class="token punctuation">.</span>fontSize<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>fontFamily<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            textElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontFamily <span class="token operator">=</span> options<span class="token punctuation">.</span>fontFamily<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>fill<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            textElement<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'fill'</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>fill<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>textAnchor<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            textElement<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'text-anchor'</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>textAnchor<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>textElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> textElement<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// åº”ç”¨å½¢çŠ¶æ ·å¼é€‰é¡¹</span>
    <span class="token keyword">private</span> <span class="token function">applyShapeOptions</span><span class="token punctuation">(</span>
        element<span class="token operator">:</span> SVGElement<span class="token punctuation">,</span>
        options<span class="token operator">:</span> SVGShapeOptions
    <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>fill<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            element<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'fill'</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>fill<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>stroke<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            element<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'stroke'</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>stroke<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>strokeWidth<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            element<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'stroke-width'</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>strokeWidth<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>opacity<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            element<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'opacity'</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>opacity<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// SVGæ ·å¼é€‰é¡¹æ¥å£</span>
<span class="token keyword">interface</span> <span class="token class-name">SVGShapeOptions</span> <span class="token punctuation">{<!-- --></span>
    fill<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    stroke<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    strokeWidth<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    opacity<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">SVGTextOptions</span> <span class="token punctuation">{<!-- --></span>
    fontSize<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    fontFamily<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    fill<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    textAnchor<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">'start'</span> <span class="token operator">|</span> <span class="token string">'middle'</span> <span class="token operator">|</span> <span class="token string">'end'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="token keyword">const</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> renderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SVGRenderer</span><span class="token punctuation">(</span>container<span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ›å»ºå„ç§SVGå›¾å½¢</span>
renderer<span class="token punctuation">.</span><span class="token function">createRect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    fill<span class="token operator">:</span> <span class="token string">'#f0f0f0'</span><span class="token punctuation">,</span>
    stroke<span class="token operator">:</span> <span class="token string">'#333'</span><span class="token punctuation">,</span>
    strokeWidth<span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

renderer<span class="token punctuation">.</span><span class="token function">createCircle</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    fill<span class="token operator">:</span> <span class="token string">'#1890ff'</span><span class="token punctuation">,</span>
    opacity<span class="token operator">:</span> <span class="token number">0.8</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

renderer<span class="token punctuation">.</span><span class="token function">createPath</span><span class="token punctuation">(</span><span class="token string">'M100,100 L200,100 L150,50 Z'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    fill<span class="token operator">:</span> <span class="token string">'#666'</span><span class="token punctuation">,</span>
    stroke<span class="token operator">:</span> <span class="token string">'#333'</span><span class="token punctuation">,</span>
    strokeWidth<span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

renderer<span class="token punctuation">.</span><span class="token function">createText</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">'Hello SVG'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    fontSize<span class="token operator">:</span> <span class="token string">'20px'</span><span class="token punctuation">,</span>
    fontFamily<span class="token operator">:</span> <span class="token string">'Arial'</span><span class="token punctuation">,</span>
    fill<span class="token operator">:</span> <span class="token string">'#333'</span><span class="token punctuation">,</span>
    textAnchor<span class="token operator">:</span> <span class="token string">'middle'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="_530">
     </a>
     æ•°æ®å¯è§†åŒ–å®ç°
    </h3>
    <h4>
     <a id="_532">
     </a>
     æŸ±çŠ¶å›¾å®ç°
    </h4>
    <pre><code class="prism language-typescript"><span class="token comment">// æŸ±çŠ¶å›¾æ¸²æŸ“å™¨</span>
<span class="token keyword">class</span> <span class="token class-name">BarChart</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> svg<span class="token operator">:</span> SVGRenderer<span class="token punctuation">;</span>
    <span class="token keyword">private</span> width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> padding<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    
    <span class="token function">constructor</span><span class="token punctuation">(</span>
        container<span class="token operator">:</span> HTMLElement<span class="token punctuation">,</span>
        width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        padding<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">40</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">=</span> width<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>padding <span class="token operator">=</span> padding<span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SVGRenderer</span><span class="token punctuation">(</span>container<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// æ¸²æŸ“æŸ±çŠ¶å›¾</span>
    <span class="token function">render</span><span class="token punctuation">(</span>data<span class="token operator">:</span> BarData<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è®¡ç®—åæ ‡è½´èŒƒå›´</span>
        <span class="token keyword">const</span> maxValue <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>d <span class="token operator">=&gt;</span> d<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> chartWidth <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token punctuation">;</span>
        <span class="token keyword">const</span> chartHeight <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token punctuation">;</span>
        <span class="token keyword">const</span> barWidth <span class="token operator">=</span> chartWidth <span class="token operator">/</span> data<span class="token punctuation">.</span>length <span class="token operator">*</span> <span class="token number">0.8</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> barGap <span class="token operator">=</span> chartWidth <span class="token operator">/</span> data<span class="token punctuation">.</span>length <span class="token operator">*</span> <span class="token number">0.2</span><span class="token punctuation">;</span>
        
        <span class="token comment">// ç»˜åˆ¶åæ ‡è½´</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">drawAxis</span><span class="token punctuation">(</span>chartWidth<span class="token punctuation">,</span> chartHeight<span class="token punctuation">,</span> maxValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// ç»˜åˆ¶æŸ±å­</span>
        data<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>padding <span class="token operator">+</span> index <span class="token operator">*</span> <span class="token punctuation">(</span>barWidth <span class="token operator">+</span> barGap<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> barHeight <span class="token operator">=</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>value <span class="token operator">/</span> maxValue<span class="token punctuation">)</span> <span class="token operator">*</span> chartHeight<span class="token punctuation">;</span>
            <span class="token keyword">const</span> y <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>padding <span class="token operator">-</span> barHeight<span class="token punctuation">;</span>
            
            <span class="token comment">// ç»˜åˆ¶æŸ±å­</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">createRect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> barWidth<span class="token punctuation">,</span> barHeight<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
                fill<span class="token operator">:</span> item<span class="token punctuation">.</span>color <span class="token operator">||</span> <span class="token string">'#1890ff'</span><span class="token punctuation">,</span>
                opacity<span class="token operator">:</span> <span class="token number">0.8</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">// ç»˜åˆ¶æ ‡ç­¾</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">createText</span><span class="token punctuation">(</span>
                x <span class="token operator">+</span> barWidth <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>padding <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">,</span>
                item<span class="token punctuation">.</span>label<span class="token punctuation">,</span>
                <span class="token punctuation">{<!-- --></span>
                    fontSize<span class="token operator">:</span> <span class="token string">'12px'</span><span class="token punctuation">,</span>
                    textAnchor<span class="token operator">:</span> <span class="token string">'middle'</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">// ç»˜åˆ¶æ•°å€¼</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">createText</span><span class="token punctuation">(</span>
                x <span class="token operator">+</span> barWidth <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
                y <span class="token operator">-</span> <span class="token number">5</span><span class="token punctuation">,</span>
                item<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">{<!-- --></span>
                    fontSize<span class="token operator">:</span> <span class="token string">'12px'</span><span class="token punctuation">,</span>
                    textAnchor<span class="token operator">:</span> <span class="token string">'middle'</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// ç»˜åˆ¶åæ ‡è½´</span>
    <span class="token keyword">private</span> <span class="token function">drawAxis</span><span class="token punctuation">(</span>
        chartWidth<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        chartHeight<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        maxValue<span class="token operator">:</span> <span class="token builtin">number</span>
    <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// Xè½´</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">createPath</span><span class="token punctuation">(</span>
            <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">M</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span>
            <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">L</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span>
                stroke<span class="token operator">:</span> <span class="token string">'#666'</span><span class="token punctuation">,</span>
                strokeWidth<span class="token operator">:</span> <span class="token number">1</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// Yè½´</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">createPath</span><span class="token punctuation">(</span>
            <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">M</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span>
            <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">L</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span>
                stroke<span class="token operator">:</span> <span class="token string">'#666'</span><span class="token punctuation">,</span>
                strokeWidth<span class="token operator">:</span> <span class="token number">1</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// Yè½´åˆ»åº¦</span>
        <span class="token keyword">const</span> tickCount <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> tickCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">const</span> y <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>padding <span class="token operator">-</span> <span class="token punctuation">(</span>i <span class="token operator">/</span> tickCount<span class="token punctuation">)</span> <span class="token operator">*</span> chartHeight<span class="token punctuation">;</span>
            <span class="token keyword">const</span> value <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>maxValue <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">/</span> tickCount<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">// åˆ»åº¦çº¿</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">createPath</span><span class="token punctuation">(</span>
                <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">M</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>padding <span class="token operator">-</span> <span class="token number">5</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> L</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
                <span class="token punctuation">{<!-- --></span>
                    stroke<span class="token operator">:</span> <span class="token string">'#666'</span><span class="token punctuation">,</span>
                    strokeWidth<span class="token operator">:</span> <span class="token number">1</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">// åˆ»åº¦å€¼</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">createText</span><span class="token punctuation">(</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>padding <span class="token operator">-</span> <span class="token number">10</span><span class="token punctuation">,</span>
                y<span class="token punctuation">,</span>
                value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">{<!-- --></span>
                    fontSize<span class="token operator">:</span> <span class="token string">'12px'</span><span class="token punctuation">,</span>
                    textAnchor<span class="token operator">:</span> <span class="token string">'end'</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// æ•°æ®æ¥å£</span>
<span class="token keyword">interface</span> <span class="token class-name">BarData</span> <span class="token punctuation">{<!-- --></span>
    label<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    color<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="token keyword">const</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'chart-container'</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> chart <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BarChart</span><span class="token punctuation">(</span>container<span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> data<span class="token operator">:</span> BarData<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span> label<span class="token operator">:</span> <span class="token string">'ä¸€æœˆ'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#1890ff'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> label<span class="token operator">:</span> <span class="token string">'äºŒæœˆ'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#2fc25b'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> label<span class="token operator">:</span> <span class="token string">'ä¸‰æœˆ'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">150</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#facc14'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> label<span class="token operator">:</span> <span class="token string">'å››æœˆ'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">180</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#223273'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> label<span class="token operator">:</span> <span class="token string">'äº”æœˆ'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">240</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#8543e0'</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

chart<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="_680">
     </a>
     é¥¼å›¾å®ç°
    </h4>
    <pre><code class="prism language-typescript"><span class="token comment">// é¥¼å›¾æ¸²æŸ“å™¨</span>
<span class="token keyword">class</span> <span class="token class-name">PieChart</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> svg<span class="token operator">:</span> SVGRenderer<span class="token punctuation">;</span>
    <span class="token keyword">private</span> width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> radius<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    
    <span class="token function">constructor</span><span class="token punctuation">(</span>
        container<span class="token operator">:</span> HTMLElement<span class="token punctuation">,</span>
        width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        height<span class="token operator">:</span> <span class="token builtin">number</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">=</span> width<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>radius <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SVGRenderer</span><span class="token punctuation">(</span>container<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// æ¸²æŸ“é¥¼å›¾</span>
    <span class="token function">render</span><span class="token punctuation">(</span>data<span class="token operator">:</span> PieData<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> total <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> sum <span class="token operator">+</span> item<span class="token punctuation">.</span>value<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> startAngle <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        
        <span class="token comment">// ç»˜åˆ¶æ‰‡å½¢</span>
        data<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">const</span> percentage <span class="token operator">=</span> item<span class="token punctuation">.</span>value <span class="token operator">/</span> total<span class="token punctuation">;</span>
            <span class="token keyword">const</span> endAngle <span class="token operator">=</span> startAngle <span class="token operator">+</span> percentage <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
            
            <span class="token comment">// è®¡ç®—æ‰‡å½¢è·¯å¾„</span>
            <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createArcPath</span><span class="token punctuation">(</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>radius<span class="token punctuation">,</span>
                startAngle<span class="token punctuation">,</span>
                endAngle
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">// ç»˜åˆ¶æ‰‡å½¢</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">createPath</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
                fill<span class="token operator">:</span> item<span class="token punctuation">.</span>color <span class="token operator">||</span> <span class="token string">'#1890ff'</span><span class="token punctuation">,</span>
                stroke<span class="token operator">:</span> <span class="token string">'#fff'</span><span class="token punctuation">,</span>
                strokeWidth<span class="token operator">:</span> <span class="token number">1</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">// è®¡ç®—æ ‡ç­¾ä½ç½®</span>
            <span class="token keyword">const</span> labelAngle <span class="token operator">=</span> startAngle <span class="token operator">+</span> <span class="token punctuation">(</span>endAngle <span class="token operator">-</span> startAngle<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> labelRadius <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>radius <span class="token operator">*</span> <span class="token number">1.2</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> labelX <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>labelAngle<span class="token punctuation">)</span> <span class="token operator">*</span> labelRadius<span class="token punctuation">;</span>
            <span class="token keyword">const</span> labelY <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>labelAngle<span class="token punctuation">)</span> <span class="token operator">*</span> labelRadius<span class="token punctuation">;</span>
            
            <span class="token comment">// ç»˜åˆ¶æ ‡ç­¾</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">createText</span><span class="token punctuation">(</span>
                labelX<span class="token punctuation">,</span>
                labelY<span class="token punctuation">,</span>
                <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>item<span class="token punctuation">.</span>label<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> (</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>percentage <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">%)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
                <span class="token punctuation">{<!-- --></span>
                    fontSize<span class="token operator">:</span> <span class="token string">'12px'</span><span class="token punctuation">,</span>
                    textAnchor<span class="token operator">:</span> <span class="token string">'middle'</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            startAngle <span class="token operator">=</span> endAngle<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// åˆ›å»ºæ‰‡å½¢è·¯å¾„</span>
    <span class="token keyword">private</span> <span class="token function">createArcPath</span><span class="token punctuation">(</span>
        cx<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        cy<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        radius<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        startAngle<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        endAngle<span class="token operator">:</span> <span class="token builtin">number</span>
    <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> start <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
            x<span class="token operator">:</span> cx <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>startAngle<span class="token punctuation">)</span> <span class="token operator">*</span> radius<span class="token punctuation">,</span>
            y<span class="token operator">:</span> cy <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>startAngle<span class="token punctuation">)</span> <span class="token operator">*</span> radius
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        
        <span class="token keyword">const</span> end <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
            x<span class="token operator">:</span> cx <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>endAngle<span class="token punctuation">)</span> <span class="token operator">*</span> radius<span class="token punctuation">,</span>
            y<span class="token operator">:</span> cy <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>endAngle<span class="token punctuation">)</span> <span class="token operator">*</span> radius
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        
        <span class="token keyword">const</span> largeArcFlag <span class="token operator">=</span> endAngle <span class="token operator">-</span> startAngle <span class="token operator">&lt;=</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">?</span> <span class="token string">'0'</span> <span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">;</span>
        
        <span class="token keyword">return</span> <span class="token punctuation">[</span>
            <span class="token string">'M'</span><span class="token punctuation">,</span> cx<span class="token punctuation">,</span> cy<span class="token punctuation">,</span>
            <span class="token string">'L'</span><span class="token punctuation">,</span> start<span class="token punctuation">.</span>x<span class="token punctuation">,</span> start<span class="token punctuation">.</span>y<span class="token punctuation">,</span>
            <span class="token string">'A'</span><span class="token punctuation">,</span> radius<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> largeArcFlag<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> end<span class="token punctuation">.</span>x<span class="token punctuation">,</span> end<span class="token punctuation">.</span>y<span class="token punctuation">,</span>
            <span class="token string">'Z'</span>
        <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// æ•°æ®æ¥å£</span>
<span class="token keyword">interface</span> <span class="token class-name">PieData</span> <span class="token punctuation">{<!-- --></span>
    label<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    color<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="token keyword">const</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'pie-container'</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> chart <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PieChart</span><span class="token punctuation">(</span>container<span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> data<span class="token operator">:</span> PieData<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span> label<span class="token operator">:</span> <span class="token string">'äº§å“A'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#1890ff'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> label<span class="token operator">:</span> <span class="token string">'äº§å“B'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#2fc25b'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> label<span class="token operator">:</span> <span class="token string">'äº§å“C'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#facc14'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> label<span class="token operator">:</span> <span class="token string">'äº§å“D'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#223273'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> label<span class="token operator">:</span> <span class="token string">'äº§å“E'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#8543e0'</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

chart<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="_800">
     </a>
     æœ€ä½³å®è·µä¸å»ºè®®
    </h3>
    <ol>
     <li>
      <p>
       <strong>
        æ€§èƒ½ä¼˜åŒ–
       </strong>
      </p>
      <ul>
       <li>
        ä½¿ç”¨é€‚å½“çš„æ¸²æŸ“æŠ€æœ¯
       </li>
       <li>
        å®ç°å›¾å½¢ç¼“å­˜
       </li>
       <li>
        ä¼˜åŒ–åŠ¨ç”»æ€§èƒ½
       </li>
       <li>
        æ§åˆ¶é‡ç»˜é¢‘ç‡
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        ä»£ç ç»„ç»‡
       </strong>
      </p>
      <ul>
       <li>
        æ¨¡å—åŒ–è®¾è®¡
       </li>
       <li>
        ç»„ä»¶å°è£…
       </li>
       <li>
        ç»Ÿä¸€æ¥å£
       </li>
       <li>
        ç±»å‹å®šä¹‰
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        ç”¨æˆ·ä½“éªŒ
       </strong>
      </p>
      <ul>
       <li>
        æµç•…çš„åŠ¨ç”»
       </li>
       <li>
        äº¤äº’å“åº”
       </li>
       <li>
        é€‚å½“çš„æç¤º
       </li>
       <li>
        é”™è¯¯å¤„ç†
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        å¯ç»´æŠ¤æ€§
       </strong>
      </p>
      <ul>
       <li>
        æ¸…æ™°çš„æ¶æ„
       </li>
       <li>
        å®Œå–„çš„æ–‡æ¡£
       </li>
       <li>
        å•å…ƒæµ‹è¯•
       </li>
       <li>
        ä»£ç è§„èŒƒ
       </li>
      </ul>
     </li>
    </ol>
    <h3>
     <a id="_826">
     </a>
     æ€»ç»“
    </h3>
    <p>
     å‰ç«¯å¯è§†åŒ–å¼€å‘éœ€è¦è€ƒè™‘ä»¥ä¸‹æ–¹é¢ï¼š
    </p>
    <ol>
     <li>
      é€‰æ‹©åˆé€‚çš„å¯è§†åŒ–æŠ€æœ¯
     </li>
     <li>
      è®¾è®¡æ¸…æ™°çš„æ¶æ„
     </li>
     <li>
      å®ç°é«˜æ•ˆçš„æ¸²æŸ“
     </li>
     <li>
      ä¼˜åŒ–æ€§èƒ½å’Œä½“éªŒ
     </li>
     <li>
      ä¿æŒä»£ç å¯ç»´æŠ¤æ€§
     </li>
    </ol>
    <p>
     é€šè¿‡åˆç†çš„æŠ€æœ¯é€‰å‹å’Œæ¶æ„è®¾è®¡ï¼Œå¯ä»¥æ„å»ºå‡ºé«˜æ€§èƒ½ã€æ˜“ç”¨çš„å¯è§†åŒ–åº”ç”¨ã€‚
    </p>
    <h3>
     <a id="_838">
     </a>
     å­¦ä¹ èµ„æº
    </h3>
    <ol>
     <li>
      Canvas APIæ–‡æ¡£
     </li>
     <li>
      SVGå¼€å‘æŒ‡å—
     </li>
     <li>
      WebGLæ•™ç¨‹
     </li>
     <li>
      æ•°æ®å¯è§†åŒ–æœ€ä½³å®è·µ
     </li>
     <li>
      æ€§èƒ½ä¼˜åŒ–æŠ€å·§
     </li>
    </ol>
    <hr/>
    <p>
     å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµæ”¶è—ï¼Œä¹ŸæœŸå¾…åœ¨è¯„è®ºåŒºçœ‹åˆ°ä½ çš„æƒ³æ³•å’Œå»ºè®®ï¼ğŸ‘‡
    </p>
    <p>
     <em>
      <strong>
       ç»ˆèº«å­¦ä¹ ï¼Œå…±åŒæˆé•¿ã€‚
      </strong>
     </em>
    </p>
    <p>
     å’±ä»¬ä¸‹ä¸€æœŸè§
    </p>
    <p>
     ğŸ’»
    </p>
   </div>
   <link href="./../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="./../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f4368656e374368616e2f:61727469636c652f64657461696c732f313436313430323031" class_="artid" style="display:none">
 </p>
</div>


