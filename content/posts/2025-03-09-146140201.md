---
layout: post
title: "工程化与框架系列26-前端可视化开发"
date: 2025-03-09 22:31:09 +0800
description: "工程化与框架之旅第二十六站"
keywords: "工程化与框架系列（26）--前端可视化开发"
categories: ['前端工程化与框架']
tags: ['前端']
artid: "146140201"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146140201
    alt: "工程化与框架系列26-前端可视化开发"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146140201
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146140201
cover: https://bing.ee123.net/img/rand?artid=146140201
image: https://bing.ee123.net/img/rand?artid=146140201
img: https://bing.ee123.net/img/rand?artid=146140201
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     工程化与框架系列（26）--前端可视化开发
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="__0">
     </a>
     前端可视化开发 📊
    </h2>
    <h3>
     <a id="_2">
     </a>
     引言
    </h3>
    <p>
     前端可视化是现代Web应用中不可或缺的一部分，它能够以直观的方式展示复杂的数据和信息。本文将深入探讨前端可视化开发的关键技术和最佳实践，包括图表绘制、数据处理、动画效果等方面。
    </p>
    <h3>
     <a id="_6">
     </a>
     可视化技术概述
    </h3>
    <p>
     前端可视化主要包括以下技术方向：
    </p>
    <ul>
     <li>
      <strong>
       Canvas绘图
      </strong>
      ：像素级别的图形绘制
     </li>
     <li>
      <strong>
       SVG矢量图
      </strong>
      ：可缩放的矢量图形
     </li>
     <li>
      <strong>
       WebGL 3D
      </strong>
      ：三维图形渲染
     </li>
     <li>
      <strong>
       可视化库
      </strong>
      ：ECharts、D3.js等
     </li>
     <li>
      <strong>
       地理信息
      </strong>
      ：地图可视化
     </li>
    </ul>
    <h3>
     <a id="Canvas_16">
     </a>
     Canvas图形绘制
    </h3>
    <h4>
     <a id="API_18">
     </a>
     基础绘图API
    </h4>
    <pre><code class="prism language-typescript"><span class="token comment">// Canvas绘图管理器</span>
<span class="token keyword">class</span> <span class="token class-name">CanvasRenderer</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> canvas<span class="token operator">:</span> HTMLCanvasElement<span class="token punctuation">;</span>
    <span class="token keyword">private</span> ctx<span class="token operator">:</span> CanvasRenderingContext2D<span class="token punctuation">;</span>
    
    <span class="token function">constructor</span><span class="token punctuation">(</span>canvas<span class="token operator">:</span> HTMLCanvasElement<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>canvas <span class="token operator">=</span> canvas<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initializeCanvas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 初始化画布</span>
    <span class="token keyword">private</span> <span class="token function">initializeCanvas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 设置画布尺寸为显示尺寸的2倍，提高清晰度</span>
        <span class="token keyword">const</span> displayWidth <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>
        <span class="token keyword">const</span> displayHeight <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> displayWidth <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> displayHeight <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 缩放上下文以匹配显示尺寸</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 设置默认样式</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'#333'</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'#666'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 清空画布</span>
    <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 绘制直线</span>
    <span class="token function">drawLine</span><span class="token punctuation">(</span>
        startX<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        startY<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        endX<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        endY<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> LineOptions <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 应用样式选项</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>color<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> options<span class="token punctuation">.</span>color<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>width<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> options<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>dash<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>dash<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 绘制路径</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>startX<span class="token punctuation">,</span> startY<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>endX<span class="token punctuation">,</span> endY<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 绘制矩形</span>
    <span class="token function">drawRect</span><span class="token punctuation">(</span>
        x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> ShapeOptions <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 应用样式选项</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>fillColor<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> options<span class="token punctuation">.</span>fillColor<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>strokeColor<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> options<span class="token punctuation">.</span>strokeColor<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>lineWidth<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> options<span class="token punctuation">.</span>lineWidth<span class="token punctuation">;</span>
        
        <span class="token comment">// 绘制矩形</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>fillColor<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>strokeColor<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 绘制圆形</span>
    <span class="token function">drawCircle</span><span class="token punctuation">(</span>
        x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        radius<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> ShapeOptions <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 应用样式选项</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>fillColor<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> options<span class="token punctuation">.</span>fillColor<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>strokeColor<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> options<span class="token punctuation">.</span>strokeColor<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>lineWidth<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> options<span class="token punctuation">.</span>lineWidth<span class="token punctuation">;</span>
        
        <span class="token comment">// 绘制圆形</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>fillColor<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>strokeColor<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 绘制文本</span>
    <span class="token function">drawText</span><span class="token punctuation">(</span>
        text<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
        x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> TextOptions <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 应用样式选项</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>font<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> options<span class="token punctuation">.</span>font<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>color<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> options<span class="token punctuation">.</span>color<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>align<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>textAlign <span class="token operator">=</span> options<span class="token punctuation">.</span>align<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>baseline<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>textBaseline <span class="token operator">=</span> options<span class="token punctuation">.</span>baseline<span class="token punctuation">;</span>
        
        <span class="token comment">// 绘制文本</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 绘图选项接口</span>
<span class="token keyword">interface</span> <span class="token class-name">LineOptions</span> <span class="token punctuation">{<!-- --></span>
    color<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    width<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    dash<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">ShapeOptions</span> <span class="token punctuation">{<!-- --></span>
    fillColor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    strokeColor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    lineWidth<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">TextOptions</span> <span class="token punctuation">{<!-- --></span>
    font<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    color<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    align<span class="token operator">?</span><span class="token operator">:</span> CanvasTextAlign<span class="token punctuation">;</span>
    baseline<span class="token operator">?</span><span class="token operator">:</span> CanvasTextBaseline<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用示例</span>
<span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLCanvasElement<span class="token punctuation">;</span>
<span class="token keyword">const</span> renderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CanvasRenderer</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 绘制图形</span>
renderer<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    fillColor<span class="token operator">:</span> <span class="token string">'#f0f0f0'</span><span class="token punctuation">,</span>
    strokeColor<span class="token operator">:</span> <span class="token string">'#333'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

renderer<span class="token punctuation">.</span><span class="token function">drawCircle</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    fillColor<span class="token operator">:</span> <span class="token string">'#1890ff'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

renderer<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    color<span class="token operator">:</span> <span class="token string">'#666'</span><span class="token punctuation">,</span>
    width<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    dash<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

renderer<span class="token punctuation">.</span><span class="token function">drawText</span><span class="token punctuation">(</span><span class="token string">'Hello Canvas'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    font<span class="token operator">:</span> <span class="token string">'20px Arial'</span><span class="token punctuation">,</span>
    color<span class="token operator">:</span> <span class="token string">'#333'</span><span class="token punctuation">,</span>
    align<span class="token operator">:</span> <span class="token string">'center'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="_203">
     </a>
     动画实现
    </h4>
    <pre><code class="prism language-typescript"><span class="token comment">// 动画管理器</span>
<span class="token keyword">class</span> <span class="token class-name">AnimationManager</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> animations<span class="token operator">:</span> Animation<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> isRunning<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> lastTime<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>animations <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>isRunning <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>lastTime <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>animate <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 添加动画</span>
    <span class="token function">addAnimation</span><span class="token punctuation">(</span>animation<span class="token operator">:</span> Animation<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>animations<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>animation<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>isRunning<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 移除动画</span>
    <span class="token function">removeAnimation</span><span class="token punctuation">(</span>animation<span class="token operator">:</span> Animation<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>animations<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>animation<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>animations<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>animations<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 启动动画循环</span>
    <span class="token keyword">private</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>isRunning <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>lastTime <span class="token operator">=</span> performance<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>animate<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 停止动画循环</span>
    <span class="token keyword">private</span> <span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>isRunning <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 动画循环</span>
    <span class="token keyword">private</span> <span class="token function">animate</span><span class="token punctuation">(</span>currentTime<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>isRunning<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 计算时间增量</span>
        <span class="token keyword">const</span> deltaTime <span class="token operator">=</span> currentTime <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastTime<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>lastTime <span class="token operator">=</span> currentTime<span class="token punctuation">;</span>
        
        <span class="token comment">// 更新所有动画</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>animations<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>animation <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            animation<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>deltaTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 继续动画循环</span>
        <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>animate<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 动画基类</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Animation</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">protected</span> duration<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> elapsed<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> isComplete<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
    
    <span class="token function">constructor</span><span class="token punctuation">(</span>duration<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>duration <span class="token operator">=</span> duration<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>elapsed <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>isComplete <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 更新动画状态</span>
    <span class="token function">update</span><span class="token punctuation">(</span>deltaTime<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isComplete<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>elapsed <span class="token operator">+=</span> deltaTime<span class="token punctuation">;</span>
        
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>elapsed <span class="token operator">&gt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>duration<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>elapsed <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>duration<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>isComplete <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">const</span> progress <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>elapsed <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span>duration<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onUpdate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">easeInOut</span><span class="token punctuation">(</span>progress<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 缓动函数</span>
    <span class="token keyword">protected</span> <span class="token function">easeInOut</span><span class="token punctuation">(</span>t<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> t <span class="token operator">&lt;</span> <span class="token number">0.5</span>
            <span class="token operator">?</span> <span class="token number">2</span> <span class="token operator">*</span> t <span class="token operator">*</span> t
            <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">*</span> t<span class="token punctuation">)</span> <span class="token operator">*</span> t<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 动画更新回调</span>
    <span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token function">onUpdate</span><span class="token punctuation">(</span>progress<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 圆形动画示例</span>
<span class="token keyword">class</span> <span class="token class-name">CircleAnimation</span> <span class="token keyword">extends</span> <span class="token class-name">Animation</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> renderer<span class="token operator">:</span> CanvasRenderer<span class="token punctuation">;</span>
    <span class="token keyword">private</span> startRadius<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> endRadius<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    
    <span class="token function">constructor</span><span class="token punctuation">(</span>
        renderer<span class="token operator">:</span> CanvasRenderer<span class="token punctuation">,</span>
        x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        startRadius<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        endRadius<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        duration<span class="token operator">:</span> <span class="token builtin">number</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>duration<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>renderer <span class="token operator">=</span> renderer<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>startRadius <span class="token operator">=</span> startRadius<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>endRadius <span class="token operator">=</span> endRadius<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">protected</span> <span class="token function">onUpdate</span><span class="token punctuation">(</span>progress<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> currentRadius <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>startRadius <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>endRadius <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>startRadius<span class="token punctuation">)</span> <span class="token operator">*</span> progress<span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>renderer<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>renderer<span class="token punctuation">.</span><span class="token function">drawCircle</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> currentRadius<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            fillColor<span class="token operator">:</span> <span class="token string">'#1890ff'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用示例</span>
<span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLCanvasElement<span class="token punctuation">;</span>
<span class="token keyword">const</span> renderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CanvasRenderer</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> animationManager <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnimationManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 创建并添加动画</span>
<span class="token keyword">const</span> circleAnimation <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CircleAnimation</span><span class="token punctuation">(</span>
    renderer<span class="token punctuation">,</span>
    <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token number">1000</span> <span class="token comment">// 1秒</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

animationManager<span class="token punctuation">.</span><span class="token function">addAnimation</span><span class="token punctuation">(</span>circleAnimation<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="SVG_362">
     </a>
     SVG图形绘制
    </h3>
    <h4>
     <a id="SVG_364">
     </a>
     SVG基础组件
    </h4>
    <pre><code class="prism language-typescript"><span class="token comment">// SVG渲染器</span>
<span class="token keyword">class</span> <span class="token class-name">SVGRenderer</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> svg<span class="token operator">:</span> SVGSVGElement<span class="token punctuation">;</span>
    
    <span class="token function">constructor</span><span class="token punctuation">(</span>container<span class="token operator">:</span> HTMLElement<span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElementNS</span><span class="token punctuation">(</span><span class="token string">'http://www.w3.org/2000/svg'</span><span class="token punctuation">,</span> <span class="token string">'svg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'width'</span><span class="token punctuation">,</span> width<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> height<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'viewBox'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">0 0 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>width<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>height<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        container<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 创建矩形</span>
    <span class="token function">createRect</span><span class="token punctuation">(</span>
        x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> SVGShapeOptions <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token operator">:</span> SVGRectElement <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> rect <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElementNS</span><span class="token punctuation">(</span><span class="token string">'http://www.w3.org/2000/svg'</span><span class="token punctuation">,</span> <span class="token string">'rect'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        rect<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">,</span> x<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        rect<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">,</span> y<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        rect<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'width'</span><span class="token punctuation">,</span> width<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        rect<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> height<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">applyShapeOptions</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> rect<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 创建圆形</span>
    <span class="token function">createCircle</span><span class="token punctuation">(</span>
        cx<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        cy<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        r<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> SVGShapeOptions <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token operator">:</span> SVGCircleElement <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> circle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElementNS</span><span class="token punctuation">(</span><span class="token string">'http://www.w3.org/2000/svg'</span><span class="token punctuation">,</span> <span class="token string">'circle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        circle<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'cx'</span><span class="token punctuation">,</span> cx<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        circle<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'cy'</span><span class="token punctuation">,</span> cy<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        circle<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">applyShapeOptions</span><span class="token punctuation">(</span>circle<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>circle<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> circle<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 创建路径</span>
    <span class="token function">createPath</span><span class="token punctuation">(</span>
        d<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> SVGShapeOptions <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token operator">:</span> SVGPathElement <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> path <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElementNS</span><span class="token punctuation">(</span><span class="token string">'http://www.w3.org/2000/svg'</span><span class="token punctuation">,</span> <span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        path<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'d'</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">applyShapeOptions</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> path<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 创建文本</span>
    <span class="token function">createText</span><span class="token punctuation">(</span>
        x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        text<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> SVGTextOptions <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token operator">:</span> SVGTextElement <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> textElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElementNS</span><span class="token punctuation">(</span><span class="token string">'http://www.w3.org/2000/svg'</span><span class="token punctuation">,</span> <span class="token string">'text'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        textElement<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">,</span> x<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        textElement<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">,</span> y<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        textElement<span class="token punctuation">.</span>textContent <span class="token operator">=</span> text<span class="token punctuation">;</span>
        
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>fontSize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            textElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> options<span class="token punctuation">.</span>fontSize<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>fontFamily<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            textElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontFamily <span class="token operator">=</span> options<span class="token punctuation">.</span>fontFamily<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>fill<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            textElement<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'fill'</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>fill<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>textAnchor<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            textElement<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'text-anchor'</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>textAnchor<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>textElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> textElement<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 应用形状样式选项</span>
    <span class="token keyword">private</span> <span class="token function">applyShapeOptions</span><span class="token punctuation">(</span>
        element<span class="token operator">:</span> SVGElement<span class="token punctuation">,</span>
        options<span class="token operator">:</span> SVGShapeOptions
    <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>fill<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            element<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'fill'</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>fill<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>stroke<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            element<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'stroke'</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>stroke<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>strokeWidth<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            element<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'stroke-width'</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>strokeWidth<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>opacity<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            element<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'opacity'</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>opacity<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// SVG样式选项接口</span>
<span class="token keyword">interface</span> <span class="token class-name">SVGShapeOptions</span> <span class="token punctuation">{<!-- --></span>
    fill<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    stroke<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    strokeWidth<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    opacity<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">SVGTextOptions</span> <span class="token punctuation">{<!-- --></span>
    fontSize<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    fontFamily<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    fill<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    textAnchor<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">'start'</span> <span class="token operator">|</span> <span class="token string">'middle'</span> <span class="token operator">|</span> <span class="token string">'end'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用示例</span>
<span class="token keyword">const</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> renderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SVGRenderer</span><span class="token punctuation">(</span>container<span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 创建各种SVG图形</span>
renderer<span class="token punctuation">.</span><span class="token function">createRect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    fill<span class="token operator">:</span> <span class="token string">'#f0f0f0'</span><span class="token punctuation">,</span>
    stroke<span class="token operator">:</span> <span class="token string">'#333'</span><span class="token punctuation">,</span>
    strokeWidth<span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

renderer<span class="token punctuation">.</span><span class="token function">createCircle</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    fill<span class="token operator">:</span> <span class="token string">'#1890ff'</span><span class="token punctuation">,</span>
    opacity<span class="token operator">:</span> <span class="token number">0.8</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

renderer<span class="token punctuation">.</span><span class="token function">createPath</span><span class="token punctuation">(</span><span class="token string">'M100,100 L200,100 L150,50 Z'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    fill<span class="token operator">:</span> <span class="token string">'#666'</span><span class="token punctuation">,</span>
    stroke<span class="token operator">:</span> <span class="token string">'#333'</span><span class="token punctuation">,</span>
    strokeWidth<span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

renderer<span class="token punctuation">.</span><span class="token function">createText</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">'Hello SVG'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    fontSize<span class="token operator">:</span> <span class="token string">'20px'</span><span class="token punctuation">,</span>
    fontFamily<span class="token operator">:</span> <span class="token string">'Arial'</span><span class="token punctuation">,</span>
    fill<span class="token operator">:</span> <span class="token string">'#333'</span><span class="token punctuation">,</span>
    textAnchor<span class="token operator">:</span> <span class="token string">'middle'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="_530">
     </a>
     数据可视化实现
    </h3>
    <h4>
     <a id="_532">
     </a>
     柱状图实现
    </h4>
    <pre><code class="prism language-typescript"><span class="token comment">// 柱状图渲染器</span>
<span class="token keyword">class</span> <span class="token class-name">BarChart</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> svg<span class="token operator">:</span> SVGRenderer<span class="token punctuation">;</span>
    <span class="token keyword">private</span> width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> padding<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    
    <span class="token function">constructor</span><span class="token punctuation">(</span>
        container<span class="token operator">:</span> HTMLElement<span class="token punctuation">,</span>
        width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        padding<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">40</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">=</span> width<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>padding <span class="token operator">=</span> padding<span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SVGRenderer</span><span class="token punctuation">(</span>container<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 渲染柱状图</span>
    <span class="token function">render</span><span class="token punctuation">(</span>data<span class="token operator">:</span> BarData<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 计算坐标轴范围</span>
        <span class="token keyword">const</span> maxValue <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>d <span class="token operator">=&gt;</span> d<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> chartWidth <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token punctuation">;</span>
        <span class="token keyword">const</span> chartHeight <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token punctuation">;</span>
        <span class="token keyword">const</span> barWidth <span class="token operator">=</span> chartWidth <span class="token operator">/</span> data<span class="token punctuation">.</span>length <span class="token operator">*</span> <span class="token number">0.8</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> barGap <span class="token operator">=</span> chartWidth <span class="token operator">/</span> data<span class="token punctuation">.</span>length <span class="token operator">*</span> <span class="token number">0.2</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 绘制坐标轴</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">drawAxis</span><span class="token punctuation">(</span>chartWidth<span class="token punctuation">,</span> chartHeight<span class="token punctuation">,</span> maxValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 绘制柱子</span>
        data<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>padding <span class="token operator">+</span> index <span class="token operator">*</span> <span class="token punctuation">(</span>barWidth <span class="token operator">+</span> barGap<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> barHeight <span class="token operator">=</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>value <span class="token operator">/</span> maxValue<span class="token punctuation">)</span> <span class="token operator">*</span> chartHeight<span class="token punctuation">;</span>
            <span class="token keyword">const</span> y <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>padding <span class="token operator">-</span> barHeight<span class="token punctuation">;</span>
            
            <span class="token comment">// 绘制柱子</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">createRect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> barWidth<span class="token punctuation">,</span> barHeight<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
                fill<span class="token operator">:</span> item<span class="token punctuation">.</span>color <span class="token operator">||</span> <span class="token string">'#1890ff'</span><span class="token punctuation">,</span>
                opacity<span class="token operator">:</span> <span class="token number">0.8</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">// 绘制标签</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">createText</span><span class="token punctuation">(</span>
                x <span class="token operator">+</span> barWidth <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>padding <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">,</span>
                item<span class="token punctuation">.</span>label<span class="token punctuation">,</span>
                <span class="token punctuation">{<!-- --></span>
                    fontSize<span class="token operator">:</span> <span class="token string">'12px'</span><span class="token punctuation">,</span>
                    textAnchor<span class="token operator">:</span> <span class="token string">'middle'</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">// 绘制数值</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">createText</span><span class="token punctuation">(</span>
                x <span class="token operator">+</span> barWidth <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
                y <span class="token operator">-</span> <span class="token number">5</span><span class="token punctuation">,</span>
                item<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">{<!-- --></span>
                    fontSize<span class="token operator">:</span> <span class="token string">'12px'</span><span class="token punctuation">,</span>
                    textAnchor<span class="token operator">:</span> <span class="token string">'middle'</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 绘制坐标轴</span>
    <span class="token keyword">private</span> <span class="token function">drawAxis</span><span class="token punctuation">(</span>
        chartWidth<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        chartHeight<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        maxValue<span class="token operator">:</span> <span class="token builtin">number</span>
    <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// X轴</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">createPath</span><span class="token punctuation">(</span>
            <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">M</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span>
            <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">L</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span>
                stroke<span class="token operator">:</span> <span class="token string">'#666'</span><span class="token punctuation">,</span>
                strokeWidth<span class="token operator">:</span> <span class="token number">1</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// Y轴</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">createPath</span><span class="token punctuation">(</span>
            <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">M</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span>
            <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">L</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span>
                stroke<span class="token operator">:</span> <span class="token string">'#666'</span><span class="token punctuation">,</span>
                strokeWidth<span class="token operator">:</span> <span class="token number">1</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// Y轴刻度</span>
        <span class="token keyword">const</span> tickCount <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> tickCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">const</span> y <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>padding <span class="token operator">-</span> <span class="token punctuation">(</span>i <span class="token operator">/</span> tickCount<span class="token punctuation">)</span> <span class="token operator">*</span> chartHeight<span class="token punctuation">;</span>
            <span class="token keyword">const</span> value <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>maxValue <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">/</span> tickCount<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">// 刻度线</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">createPath</span><span class="token punctuation">(</span>
                <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">M</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>padding <span class="token operator">-</span> <span class="token number">5</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> L</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
                <span class="token punctuation">{<!-- --></span>
                    stroke<span class="token operator">:</span> <span class="token string">'#666'</span><span class="token punctuation">,</span>
                    strokeWidth<span class="token operator">:</span> <span class="token number">1</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">// 刻度值</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">createText</span><span class="token punctuation">(</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>padding <span class="token operator">-</span> <span class="token number">10</span><span class="token punctuation">,</span>
                y<span class="token punctuation">,</span>
                value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">{<!-- --></span>
                    fontSize<span class="token operator">:</span> <span class="token string">'12px'</span><span class="token punctuation">,</span>
                    textAnchor<span class="token operator">:</span> <span class="token string">'end'</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 数据接口</span>
<span class="token keyword">interface</span> <span class="token class-name">BarData</span> <span class="token punctuation">{<!-- --></span>
    label<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    color<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用示例</span>
<span class="token keyword">const</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'chart-container'</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> chart <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BarChart</span><span class="token punctuation">(</span>container<span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> data<span class="token operator">:</span> BarData<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span> label<span class="token operator">:</span> <span class="token string">'一月'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#1890ff'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> label<span class="token operator">:</span> <span class="token string">'二月'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#2fc25b'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> label<span class="token operator">:</span> <span class="token string">'三月'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">150</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#facc14'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> label<span class="token operator">:</span> <span class="token string">'四月'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">180</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#223273'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> label<span class="token operator">:</span> <span class="token string">'五月'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">240</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#8543e0'</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

chart<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="_680">
     </a>
     饼图实现
    </h4>
    <pre><code class="prism language-typescript"><span class="token comment">// 饼图渲染器</span>
<span class="token keyword">class</span> <span class="token class-name">PieChart</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> svg<span class="token operator">:</span> SVGRenderer<span class="token punctuation">;</span>
    <span class="token keyword">private</span> width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> radius<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    
    <span class="token function">constructor</span><span class="token punctuation">(</span>
        container<span class="token operator">:</span> HTMLElement<span class="token punctuation">,</span>
        width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        height<span class="token operator">:</span> <span class="token builtin">number</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">=</span> width<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>radius <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>svg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SVGRenderer</span><span class="token punctuation">(</span>container<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 渲染饼图</span>
    <span class="token function">render</span><span class="token punctuation">(</span>data<span class="token operator">:</span> PieData<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> total <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> sum <span class="token operator">+</span> item<span class="token punctuation">.</span>value<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> startAngle <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 绘制扇形</span>
        data<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">const</span> percentage <span class="token operator">=</span> item<span class="token punctuation">.</span>value <span class="token operator">/</span> total<span class="token punctuation">;</span>
            <span class="token keyword">const</span> endAngle <span class="token operator">=</span> startAngle <span class="token operator">+</span> percentage <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
            
            <span class="token comment">// 计算扇形路径</span>
            <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createArcPath</span><span class="token punctuation">(</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>radius<span class="token punctuation">,</span>
                startAngle<span class="token punctuation">,</span>
                endAngle
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">// 绘制扇形</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">createPath</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
                fill<span class="token operator">:</span> item<span class="token punctuation">.</span>color <span class="token operator">||</span> <span class="token string">'#1890ff'</span><span class="token punctuation">,</span>
                stroke<span class="token operator">:</span> <span class="token string">'#fff'</span><span class="token punctuation">,</span>
                strokeWidth<span class="token operator">:</span> <span class="token number">1</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">// 计算标签位置</span>
            <span class="token keyword">const</span> labelAngle <span class="token operator">=</span> startAngle <span class="token operator">+</span> <span class="token punctuation">(</span>endAngle <span class="token operator">-</span> startAngle<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> labelRadius <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>radius <span class="token operator">*</span> <span class="token number">1.2</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> labelX <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>labelAngle<span class="token punctuation">)</span> <span class="token operator">*</span> labelRadius<span class="token punctuation">;</span>
            <span class="token keyword">const</span> labelY <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>labelAngle<span class="token punctuation">)</span> <span class="token operator">*</span> labelRadius<span class="token punctuation">;</span>
            
            <span class="token comment">// 绘制标签</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">createText</span><span class="token punctuation">(</span>
                labelX<span class="token punctuation">,</span>
                labelY<span class="token punctuation">,</span>
                <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>item<span class="token punctuation">.</span>label<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> (</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>percentage <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">%)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
                <span class="token punctuation">{<!-- --></span>
                    fontSize<span class="token operator">:</span> <span class="token string">'12px'</span><span class="token punctuation">,</span>
                    textAnchor<span class="token operator">:</span> <span class="token string">'middle'</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            startAngle <span class="token operator">=</span> endAngle<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 创建扇形路径</span>
    <span class="token keyword">private</span> <span class="token function">createArcPath</span><span class="token punctuation">(</span>
        cx<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        cy<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        radius<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        startAngle<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        endAngle<span class="token operator">:</span> <span class="token builtin">number</span>
    <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> start <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
            x<span class="token operator">:</span> cx <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>startAngle<span class="token punctuation">)</span> <span class="token operator">*</span> radius<span class="token punctuation">,</span>
            y<span class="token operator">:</span> cy <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>startAngle<span class="token punctuation">)</span> <span class="token operator">*</span> radius
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        
        <span class="token keyword">const</span> end <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
            x<span class="token operator">:</span> cx <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>endAngle<span class="token punctuation">)</span> <span class="token operator">*</span> radius<span class="token punctuation">,</span>
            y<span class="token operator">:</span> cy <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>endAngle<span class="token punctuation">)</span> <span class="token operator">*</span> radius
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        
        <span class="token keyword">const</span> largeArcFlag <span class="token operator">=</span> endAngle <span class="token operator">-</span> startAngle <span class="token operator">&lt;=</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">?</span> <span class="token string">'0'</span> <span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">;</span>
        
        <span class="token keyword">return</span> <span class="token punctuation">[</span>
            <span class="token string">'M'</span><span class="token punctuation">,</span> cx<span class="token punctuation">,</span> cy<span class="token punctuation">,</span>
            <span class="token string">'L'</span><span class="token punctuation">,</span> start<span class="token punctuation">.</span>x<span class="token punctuation">,</span> start<span class="token punctuation">.</span>y<span class="token punctuation">,</span>
            <span class="token string">'A'</span><span class="token punctuation">,</span> radius<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> largeArcFlag<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> end<span class="token punctuation">.</span>x<span class="token punctuation">,</span> end<span class="token punctuation">.</span>y<span class="token punctuation">,</span>
            <span class="token string">'Z'</span>
        <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 数据接口</span>
<span class="token keyword">interface</span> <span class="token class-name">PieData</span> <span class="token punctuation">{<!-- --></span>
    label<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    color<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用示例</span>
<span class="token keyword">const</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'pie-container'</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> chart <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PieChart</span><span class="token punctuation">(</span>container<span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> data<span class="token operator">:</span> PieData<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span> label<span class="token operator">:</span> <span class="token string">'产品A'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#1890ff'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> label<span class="token operator">:</span> <span class="token string">'产品B'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#2fc25b'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> label<span class="token operator">:</span> <span class="token string">'产品C'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#facc14'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> label<span class="token operator">:</span> <span class="token string">'产品D'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#223273'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> label<span class="token operator">:</span> <span class="token string">'产品E'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#8543e0'</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

chart<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="_800">
     </a>
     最佳实践与建议
    </h3>
    <ol>
     <li>
      <p>
       <strong>
        性能优化
       </strong>
      </p>
      <ul>
       <li>
        使用适当的渲染技术
       </li>
       <li>
        实现图形缓存
       </li>
       <li>
        优化动画性能
       </li>
       <li>
        控制重绘频率
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        代码组织
       </strong>
      </p>
      <ul>
       <li>
        模块化设计
       </li>
       <li>
        组件封装
       </li>
       <li>
        统一接口
       </li>
       <li>
        类型定义
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        用户体验
       </strong>
      </p>
      <ul>
       <li>
        流畅的动画
       </li>
       <li>
        交互响应
       </li>
       <li>
        适当的提示
       </li>
       <li>
        错误处理
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        可维护性
       </strong>
      </p>
      <ul>
       <li>
        清晰的架构
       </li>
       <li>
        完善的文档
       </li>
       <li>
        单元测试
       </li>
       <li>
        代码规范
       </li>
      </ul>
     </li>
    </ol>
    <h3>
     <a id="_826">
     </a>
     总结
    </h3>
    <p>
     前端可视化开发需要考虑以下方面：
    </p>
    <ol>
     <li>
      选择合适的可视化技术
     </li>
     <li>
      设计清晰的架构
     </li>
     <li>
      实现高效的渲染
     </li>
     <li>
      优化性能和体验
     </li>
     <li>
      保持代码可维护性
     </li>
    </ol>
    <p>
     通过合理的技术选型和架构设计，可以构建出高性能、易用的可视化应用。
    </p>
    <h3>
     <a id="_838">
     </a>
     学习资源
    </h3>
    <ol>
     <li>
      Canvas API文档
     </li>
     <li>
      SVG开发指南
     </li>
     <li>
      WebGL教程
     </li>
     <li>
      数据可视化最佳实践
     </li>
     <li>
      性能优化技巧
     </li>
    </ol>
    <hr/>
    <p>
     如果你觉得这篇文章有帮助，欢迎点赞收藏，也期待在评论区看到你的想法和建议！👇
    </p>
    <p>
     <em>
      <strong>
       终身学习，共同成长。
      </strong>
     </em>
    </p>
    <p>
     咱们下一期见
    </p>
    <p>
     💻
    </p>
   </div>
   <link href="./../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="./../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f4368656e374368616e2f:61727469636c652f64657461696c732f313436313430323031" class_="artid" style="display:none">
 </p>
</div>


