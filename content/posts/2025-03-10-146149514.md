---
layout: post
title: "速算迷你世界脚本UI"
date: 2025-03-10 11:47:40 +0800
description: "elseif B00[v0]==\"菜单\"      then  Pgame[p]={gamename=\"\",o=0,dy=0,t=0,o1=0,o2=0,} p1=11 uihide(p,p1) ui0(p) local result = MiniTimer:changeTimerTime(Ps[p][1], 0)  MiniTimer:pauseTimer(Ps[p][1])"
keywords: "速算迷你世界脚本UI"
categories: ['笔记']
tags: ['游戏', '数据结构', 'Lua']
artid: "146149514"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146149514
    alt: "速算迷你世界脚本UI"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146149514
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146149514
cover: https://bing.ee123.net/img/rand?artid=146149514
image: https://bing.ee123.net/img/rand?artid=146149514
img: https://bing.ee123.net/img/rand?artid=146149514
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     速算迷你世界脚本UI
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p style="text-align:center">
     <img src="https://i-blog.csdnimg.cn/direct/ec1c908047c441eca7db0f85c7c5fbb9.jpg"/>
    </p>
    <p style="text-align:center">
     <img src="https://i-blog.csdnimg.cn/direct/907d292b57754699876da15a7f903d58.jpg">
     </img>
    </p>
    <p style="text-align:center">
     <img src="https://i-blog.csdnimg.cn/direct/c82d3d0f6ee8467b82c2337ee5031582.jpg">
     </img>
    </p>
    <p style="text-align:center">
     <img src="https://i-blog.csdnimg.cn/direct/732f4cbbf4b74e348ded6debdb1eb23d.jpg">
     </img>
    </p>
    <p style="text-align:center">
     <img src="https://i-blog.csdnimg.cn/direct/9dc341ebddfa4032a3ee284084ddb425.jpg">
     </img>
    </p>
    <blockquote>
     <p>
     </p>
     <p>
      --[[
      <br/>
      --数学速算主界面
      <br/>
      local UI="6996144362677448610"
      <br/>
      local v="6996144362677448610_"
      <br/>
      --自定义玩家数据界面
      <br/>
      --显示界面分类
      <br/>
      --
      <br/>
      --称号积分幼儿园0学前班50小学生200初中生500高中生1000大学生2000研究生5000博士生10000教授50000
      <br/>
      local A= {["主屏幕"]=v..1,["玩家资料排行"]=v..116,
      <br/>
      ["24点"]=v..2,["加减法"]=v..8,["乘除法"]=v..14,
      <br/>
      ["游戏界面数据"]=v..66,["答题结束"]=v..96,
      <br/>
      ["退出提示"]=v..103,["开始游戏"]=v..114,
      <br/>
      ["24点游戏"]=v..28,["加减乘除运算"]=v..77,
      <br/>
      ["学生答题记录"]=v..166,["学位版积分"]=v..117,["学分排行"]=v..146,
      <br/>
      }
     </p>
     <p>
      <br/>
      <br/>
      --游戏按键类主按键，界面操作，游戏按键
      <br/>
      local B0={[v..4]="24点简单",[v..5]="24点困难",
      <br/>
      [v..10]="1位加减运算",[v..12]="2位加减运算",[v..20]="3位加减运算",[v..22]="4位加减运算",
      <br/>
      [v..16]="1位乘除运算",[v..18]="2位乘除运算",[v..26]="3位乘除运算",[v..24]="4位乘除运算",
      <br/>
      }
      <br/>
      local B00={[v..29]="退出",[v..108]="确认退出",[v..109]="继续游戏",
      <br/>
      [v..87]="菜单",[v..88]="再来一次", [v..114]="开始游戏",
      <br/>
      [v..171]="学生卡",[v..124]="级别制", [v..125]="排行榜",
      <br/>
      }
      <br/>
      local B1={[v..3]="提示",[v..3]="广告",  }
      <br/>
      local B2={[v..47]="数字1",[v..49]="数字2",[v..51]="数字3",[v..53]="数字4",
      <br/>
      [v..78]="A",[v..80]="B",[v..82]="C",[v..84]="D",
      <br/>
      }
      <br/>
      local B3={[v..30]="+",[v..32]="-",[v..34]="*",[v..36]="/",
      <br/>
      [v..38]="(",[v..40]=")",[v..42]="←",[v..44]="=",
      <br/>
      -- [v..48]=nil,[v..50]=nil,[v..52]=nil,[v..54]=nil,
      <br/>
      }
      <br/>
      <br/>
      --信息类 游戏数据  答题结束   24点   加减乘除
      <br/>
      local C1={"","运算式不完整","运算式输入有误","表达式除数为零","运算结果不等24",}
      <br/>
      local C={["游戏界面数据"]={["挑战模式"]=v..73,
      <br/>
      ["正确"]=v..69,
      <br/>
      ["错误"]=v..70,
      <br/>
      ["第几题"]=v..75,
      <br/>
      ["共计题"]=v..76,
      <br/>
      ["时间计时"]=v..72,
      <br/>
      },
      <br/>
      ["玩家资料排行"]={["挑战玩家"]=v..119,
      <br/>
      ["玩家迷你号"]=v..151
      <br/>
      ["级别"]=v..120,
      <br/>
      ["学分"]=v..123,
      <br/>
      ["排行榜"]=v..150,
      <br/>
      ["学生卡"]=v..167,
      <br/>
      ["学生资料"]=v..170,
      <br/>
      },
      <br/>
      ["答题结束"]={["用时"]=v..101,
      <br/>
      ["正确"]=v..99,
      <br/>
      ["错误"]=v..100,
      <br/>
      ["得分"]=v..102,
      <br/>
      },
      <br/>
      ["24点游戏"]={["出题1234"]={[v..57]=nil,[v..59]=nil,[v..61]=nil,[v..63]=nil,},
      <br/>
      ["数字1234"]={[v..48]=nil,[v..50]=nil,[v..52]=nil,[v..54]=nil,},
      <br/>
      ["错误提示"]=v..74,
      <br/>
      ["显示器"]=v..64,
      <br/>
      },
      <br/>
      <br/>
      ["加减乘除运算"]={["出题区"]=v..94,
      <br/>
      ["选项A"]=v..90,
      <br/>
      ["选项B"]=v..91,
      <br/>
      ["选项C"]=v..92,
      <br/>
      ["选项D"]=v..93,
      <br/>
      },
      <br/>
      }
      <br/>
      ]]
     </p>
     <p>
      -- 原件颜色类
     </p>
     <p>
      --local result,value=Player:getAttr(0,20)
      <br/>
      --Player:setAttr(0,20,value+500)
     </p>
     <p>
      -----------------------------------------------------------------
      <br/>
      --数学速算主界面
      <br/>
      --local UI="6996144362677448610"
      <br/>
      --local v="6996144362677448610_"
      <br/>
      local UI="7479837291720847266-22857"
      <br/>
      local v="7479837291720847266-22857_"
     </p>
     <p>
      -----------------------------------------------------------------
      <br/>
      --界面
      <br/>
      --[[
      <br/>
      [界面操作显示和隐藏]=1.主背景,2,玩家资料排行,
      <br/>
      3.24点,4.加减法,5.乘除法,
      <br/>
      6.游戏界面数据,7.24点游戏,8.加减乘除运算,
      <br/>
      9.开始游戏,10.退出提示,11.答题结束,
      <br/>
      12.学生卡,13.学位版积分制,14.学分排行,
      <br/>
      15.回答正确提示,16.回答错误提示]]
      <br/>
      local UI0={v..1,v..116,v..2,v..8,v..14,v..66,v..28,v..77,v..114,v..103,v..96,v..166,v..117,v..146,v..152,v..154}
      <br/>
      -----------------------------------------------------------------
      <br/>
      --按键
      <br/>
      --游戏按键类主按键，界面操作，游戏按键
      <br/>
      local B0={[v..4]="24点简单",[v..5]="24点困难",
      <br/>
      [v..10]="1位加减运算",[v..12]="2位加减运算",[v..20]="3位加减运算",[v..22]="4位加减运算",
      <br/>
      [v..16]="1位乘除运算",[v..18]="2位乘除运算",[v..26]="3位乘除运算",[v..24]="4位乘除运算",
      <br/>
      }
      <br/>
      local B00={[v..29]="退出",[v..108]="确认退出",[v..109]="继续游戏",
      <br/>
      [v..87]="菜单",[v..88]="再来一次", [v..114]="开始游戏",
      <br/>
      [v..171]="学生卡",[v..124]="级别制", [v..125]="排行榜",
      <br/>
      [v..184]="学生卡返回",[v..180]="级别制返回", [v..183]="排行榜返回",
      <br/>
      }
      <br/>
      --local B1={[v..179]="提示",[v..179]="广告",  }
      <br/>
      local B01={[v..47]=1,[v..49]=2,[v..51]=3,[v..53]=4,
      <br/>
      [v..30]="+",[v..32]="-",[v..34]="*",[v..36]="/",
      <br/>
      [v..38]="(",[v..40]=")",[v..42]="←",[v..44]="=",
      <br/>
      -- [v..48]=nil,[v..50]=nil,[v..52]=nil,[v..54]=nil,
      <br/>
      }
      <br/>
      local B02={[v..78]="A",[v..80]="B",[v..82]="C",[v..84]="D",}
      <br/>
      -----------------------------------------------------------------
      <br/>
      --文字赋值打印类
     </p>
     <p>
      --原件颜色:1黑色,2白色,3红色,4绿色,5蓝色,6黄色
      <br/>
      local Color={"0x000000","0xFFFFFF","0xFF0000","0x00FF00","0x0000FF","0xFFFF00",}
      <br/>
      -----------------------------------------------------------------
     </p>
     <p>
      --[玩家资料排行]=1.(玩家名字,玩家迷你号),2.级别,3.学分,4.[排行榜]=(1.名次,2.玩家,3.学分),
      <br/>
      --            5.学生卡(1.学生,2.对题数,3.错题数,4.学时,5.答题数,6.正确率),6.学生资料=(1.时间,2模式,3,正确,4.错误,5.用时,6.学分加)
      <br/>
      local TZP={
      <!-- -->
      {v..119,v..151},v..120,v..123,v..150,{v..167,v..189,v..190,v..191,v..192,v..193,},v..170}
      <br/>
      --[游戏界面数据]=1.挑战,2.正确,3.错误,4.第几题,5.共计题=(0/10),6时间计时 =(00:00)
      <br/>
      local TJS={v..73,v..69,v..70,v..75,v..76,v..72,}
      <br/>
      --[答题结束]=1.用时=(00分00秒),2.正确,3错误,4.得分累计(原有+正确=现在)
      <br/>
      local TND={v..101,v..99,v..100,v..102,}
      <br/>
      --[24点游戏]=1.[出题1234],2.[数字1234],3.错误提示,4.显示器
      <br/>
      local C1={"","运算式不完整","运算式输入有误","表达式除数为零","运算结果不等24",}
      <br/>
      local T24={
      <!-- -->
      {v..57,v..59,v..61,v..63,}, {v..48,v..50,v..52,v..54,},v..74,v..64,}
      <br/>
      --[加减乘除运算]=1.出题区,2.选项A,3.选项B,4.选项C,5.选项D,}
      <br/>
      local TAAD={v..94,v..90,v..91,v..92,v..93,}
      <br/>
      -----------------------------------------------------------------
      <br/>
      local run0=1  --每秒刷新
      <br/>
      --游戏数据[p]   1游戏界面-游戏模式,2.(游戏开始,暂停,结束)-计时运行,3.界面弹出,关闭界面,4.回答正确,回答错误
      <br/>
      local Pgame={}
      <br/>
      --游戏数据[p]  1,计时器,2.( 1,玩家,2,迷你号,3,级别,4.学分20,5.正确累计19,6.错误累计19,7.累计学时18,8.上次登录时间,9本次登录时间)
      <br/>
      local Ps={}
      <br/>
      local Pns={}--历史答题记录(1,时间,2模式,3正确,4错误,,6加分)
      <br/>
      --游戏数据[p]   1.24点10题随机,2.(1234)*2赋值,3.运算表达式,4.错误提示
      <br/>
      local P24={}
      <br/>
      --游戏数据 [p]  1.加减法-乘除法,2.位数,3随机题库*10.3.题目打印,4.(ABCD选项)赋值
      <br/>
      local Pad={}
     </p>
     <p>
      -- 玩家数据版，游戏运行时间,暂停计时,恢复计时，计时归零,字符串提示,
      <br/>
      local adda,addb,addn,addk,adds,addt,addo={},{},{},1,{},"",1
      <br/>
      local add1,add2,add3,add4,addf,addl,adds0=0,0,0,0,1,0,0
      <br/>
      local gamename,o,dy,t,o1,o2,num="",0,0,0,0,0,0
      <br/>
      -----------------------------------------------------------------
      <br/>
      --传入玩家id与消息内容：对该玩家显示私聊消息与飘窗
      <br/>
      local function mgp(p,s)
      <br/>
      Chat:sendSystemMsg("#G[仅我可见]#n"..s,p)
      <br/>
      Player:notifyGameInfo2Self(p,s)
      <br/>
      end
      <br/>
      --传入消息内容：对所有玩家显示聊天消息
      <br/>
      local function mga(s)
      <br/>
      Chat:sendSystemMsg("#G[全体消息]#n"..s,0)
      <br/>
      end
     </p>
     <p>
      --打开
      <br/>
      local function uishow(p,p1)
      <br/>
      local p=p
      <br/>
      --local UI="6996144362677448610"
      <br/>
      -- local v="6996144362677448610_"
      <br/>
      local p1=p1
      <br/>
      --[[
      <br/>
      [界面操作显示和隐藏]=1.主背景,2,玩家资料排行,
      <br/>
      3.24点,4.加减法,5.乘除法,
      <br/>
      6.游戏界面数据,7.24点游戏,8.加减乘除运算,
      <br/>
      9.开始游戏,10.退出提示,11.答题结束,
      <br/>
      12.学生卡,13.学位版积分制,14.学分排行,
      <br/>
      15.回答正确提示,16.回答错误提示]]
      <br/>
      local UI0={v..1,v..116,v..2,v..8,v..14,v..66,v..28,v..77,v..114,v..103,v..96,v..166,v..117,v..146,v..152,v..154}
      <br/>
      Trigger.UI:showElement(p, UI, UI0[p1])
      <br/>
      <br/>
      end
      <br/>
      --关闭
      <br/>
      local function uihide(p,p1)
      <br/>
      local p=p
      <br/>
      -- local UI="6996144362677448610"
      <br/>
      --local v="6996144362677448610_"
      <br/>
      local p1=p1
      <br/>
      --[[
      <br/>
      [界面操作显示和隐藏]=1.主背景,2,玩家资料排行,
      <br/>
      3.24点,4.加减法,5.乘除法,
      <br/>
      6.游戏界面数据,7.24点游戏,8.加减乘除运算,
      <br/>
      9.开始游戏,10.退出提示,11.答题结束,
      <br/>
      12.学生卡,13.学位版积分制,14.学分排行,
      <br/>
      15.回答正确提示,16.回答错误提示]]
      <br/>
      local UI0={v..1,v..116,v..2,v..8,v..14,v..66,v..28,v..77,v..114,v..103,v..96,v..166,v..117,v..146,v..152,v..154}
      <br/>
      Trigger.UI:hideElement(p, UI, UI0[p1])
      <br/>
      <br/>
      end
      <br/>
      -----------------------------------------------------------------
      <br/>
      --系统时间转数字储存
      <br/>
      local function time(p)
      <br/>
      local p=p
      <br/>
      local Time={}
      <br/>
      local B={"星期日","星期一","星期二","星期三","星期四","星期五","星期六",}
      <br/>
      local Ttime = os.date("*t", timeInterval)
      <br/>
      print('当前时间:#R'.. Ttime.year .. "年" .. Ttime.month .. "月" .. Ttime.day .. "日"..B[Ttime.wday] .. Ttime.hour .. ":" .. Ttime.min .. ":" .. Ttime.sec.."#n")
      <br/>
      Time={Ttime.year,Ttime.month,Ttime.day, B[Ttime.wday],Ttime.hour,Ttime.min,Ttime.sec,}
      <br/>
      local timenum=Time[1]*10^(2+2)+Time[2]*10^(2)+Time[3]*10^(0)+Time[5]/10^(2)+Time[6]/10^(4)+Time[7]/10^(6)
      <br/>
      Ps[p][2][9]=timenum
      <br/>
      end
      <br/>
      --时间转换秒转年,天,时,分,秒
      <br/>
      local function timez()
      <br/>
      local a=3456
      <br/>
      local second=a
      <br/>
      local s=a%60
      <br/>
      local f=(math.floor(a/60))%60
      <br/>
      local h=(math.floor((math.floor(a/60))/60))%24
      <br/>
      local d=(math.floor((math.floor((math.floor(a/60))/60))/24))%365
      <br/>
      local n=math.floor((math.floor((math.floor((math.floor(a/60))/60))/24))/365)
      <br/>
      <br/>
      print(n.."年"..d.."天"..h.."时"..f.."分"..s.."秒\n"..a)
      <br/>
      print(vv)
      <br/>
      end
      <br/>
      --挑战面板结束用时
      <br/>
      local function timexz()
      <br/>
      local second=second
      <br/>
      local vv=(math.floor((math.floor(second/60))/10))..((math.floor(second/60))%10).."分"..(math.floor((second%60)/10))..((second%60)%10).."秒"
      <br/>
      return vv
      <br/>
      end
      <br/>
      --timez()
      <br/>
      --历史时数字储存解析转换上次登录时间
      <br/>
      local function timesz()
      <br/>
      local a=timenum
      <br/>
      --local a1=math.floor(a) a2=((a-math.floor(a))*10^(6))
      <br/>
      local d=math.floor(a)%100 s=math.ceil(((a-math.floor(a))*10^(6))%100)
      <br/>
      local m=(math.floor(math.floor(a)/100))%100  f=(math.floor(((a-math.floor(a))*10^(6))/100))%100
      <br/>
      local y=(math.floor((math.floor(math.floor(a)/100))/100))%10000 h=(math.floor((math.floor(((a-math.floor(a))*10^(6))/100))/100))%100
      <br/>
     </p>
     <p>
      print(y.."年"..m.."月"..d.."天"..h.."时"..f.."分"..s.."秒\n"..a)
      <br/>
      end
      <br/>
      --time()
      <br/>
      --timesz()
      <br/>
      -----------------------------------------------------------------
      <br/>
      --学位制
      <br/>
      local function level(p)
      <br/>
      local p=p
      <br/>
      if     Ps[p][2][4]&gt;=0 and Ps[p][2][4]&lt;50 then Ps[p][2][3]="幼儿园"
      <br/>
      elseif Ps[p][2][4]&gt;=50 and Ps[p][2][4]&lt;200 then Ps[p][2][3]="学前班"
      <br/>
      elseif Ps[p][2][4]&gt;=200 and Ps[p][2][4]&lt;500 then Ps[p][2][3]="小学生"
      <br/>
      elseif Ps[p][2][4]&gt;=500 and Ps[p][2][4]&lt;1000 then Ps[p][2][3]="初中生"
      <br/>
      elseif Ps[p][2][4]&gt;=1000 and Ps[p][2][4]&lt;2000 then Ps[p][2][3]="高中生"
      <br/>
      elseif Ps[p][2][4]&gt;=2000 and Ps[p][2][4]&lt;5000 then Ps[p][2][3]="大学生"
      <br/>
      elseif Ps[p][2][4]&gt;=5000 and Ps[p][2][4]&lt;10080 then Ps[p][2][3]="研究生"
      <br/>
      elseif Ps[p][2][4]&gt;=10000 and Ps[p][2][4]&lt;50000 then Ps[p][2][3]="博士生"
      <br/>
      elseif Ps[p][2][4]&gt;=50000  then Ps[p][2][3]="教授"
      <br/>
      end
      <br/>
      return Ps[p][2][3]
      <br/>
      end
     </p>
     <p>
      <br/>
      -----------------------------------------------------------------
      <br/>
      --学生卡
      <br/>
      local function class(p)
      <br/>
      --数学速算主界面
      <br/>
      --local UI="6996144362677448610"
      <br/>
      --local v="6996144362677448610_"
      <br/>
      --[玩家资料排行]=1.(玩家名字,玩家迷你号),2.级别,3.学分,4.[排行榜]=(1.名次,2.玩家,3.学分),
      <br/>
      --            5.学生卡(1.学生,2.对题数,3.错题数,4.学时,5.答题数,6.正确率),6.学生资料=(1.时间,2模式,3,正确,4.错误,5.用时,6.学分加)
      <br/>
      local TZP={
      <!-- -->
      {v..119,v..151},v..120,v..123,v..150,{v..167,v..189,v..190,v..191,v..192,v..193,},v..170}
      <br/>
      --玩家游戏数据[p]   1,计时器,2(1,玩家,2,迷你号,3级别,4.学分,5累计正确,6,累计题目,7,累计用时,8.正确率)3,游戏界面数据(1,游戏模式,2.正确,3.错误,4.第几题,5.用时)
      <br/>
      local Ps=Ps
      <br/>
      local p=p
      <br/>
      Trigger.UI:setText(i, UI, TZP[5][1], Ps[p][2][1])
      <br/>
      Trigger.UI:setText(i, UI, TZP[5][2], Ps[p][2][5])
      <br/>
      local v=Ps[p][2][6]-Ps[p][2][5]
      <br/>
      Trigger.UI:setText(i, UI, TZP[5][3], v)
      <br/>
      Trigger.UI:setText(i, UI, TZP[5][4], Ps[p][2][7])
      <br/>
      Trigger.UI:setText(i, UI, TZP[5][5], Ps[p][2][6])
      <br/>
      local v=100*math.floor((Ps[p][2][5]*1000)/Ps[p][2][6]).."%"
      <br/>
      Trigger.UI:setText(i, UI, TZP[5][6],v)
      <br/>
      local v=""
      <br/>
      local j=0
      <br/>
      for i=#Pns[p],0,-1 do
      <br/>
      j=j+1
      <br/>
      vv=j.."."..Pns[p][i][1].." "..Pns[p][i][2].." "..Pns[p][i][3].." "..Pns[p][i][4].." "..Pns[p][i][5].." "..Pns[p][i][6].."\n"
      <br/>
      end
      <br/>
      Trigger.UI:setText(i, UI, TZP[6],vv)
      <br/>
      end
      <br/>
      --排行榜
      <br/>
      local function leaderboard(p)
      <br/>
      local p=p
      <br/>
      local leader=""
      <br/>
      local board={}
      <br/>
      local a1=0
      <br/>
      for i,a in pairs(Ps) do
      <br/>
      print(a)
      <br/>
      print(unpack(a))
      <br/>
      board[#board+1]=a
      <br/>
      end
      <br/>
      <br/>
      table.sort(board, function(a, b)
      <br/>
      if a[4] &gt; b[4] then
      <br/>
      -- 按分数降序
      <br/>
      return true
      <br/>
      elseif a[4] == b[4] then
      <br/>
      -- 如果n分数相等，按正确率降序
      <br/>
      if math.floor(a[4]*10000/a[5])/(100) &lt; math.floor(b[4]*10000/b[5])/(100) then
      <br/>
      return true
      <br/>
      elseif math.floor(a[4]*10000/a[5])/(100) == math.floor(b[4]*10000/b[5])/(100) then
      <br/>
      -- 如果正确率相等，按id降序
      <br/>
      return a[2] &gt; b[2]
      <br/>
      end
      <br/>
      end
      <br/>
      return false
      <br/>
      end)
      <br/>
      <br/>
      for i,a in pairs(board) do
      <br/>
      leader=leader.."第"..i.."名. 学生:"..a[1].."  学位:"..a[3].." 学分:"..a[4].." 正确率:"..math.floor(a[4]*10000/a[5])/(100).."%\n"
      <br/>
      if a[2]==p then
      <br/>
      leader="第"..i.."名.  学生:"..a[1].."  学位:"..a[3].." 学分:"..a[4].." 正确率:"..math.floor(a[4]*10000/a[5])/(100).."%\n"..leader
      <br/>
      end
      <br/>
      end
      <br/>
      print(leader)
      <br/>
      Trigger.UI:setText(p, UI, TZP[4], leader)
     </p>
     <p>
      end
     </p>
     <p>
      --leaderboard(Ps)
      <br/>
      -----------------------------------------------------------------
      <br/>
      --主页面显示1.玩家资料信息,2.游戏数据界面(游戏运行)
      <br/>
      local function UIboard()
      <br/>
      --数学速算主界面
      <br/>
      --local UI="6996144362677448610"
      <br/>
      --local v="6996144362677448610_"
      <br/>
      --[玩家资料排行]=1.(玩家名字,玩家迷你号),2.级别,3.学分,4.[排行榜]=(1.名次,2.玩家,3.学分),
      <br/>
      --            5.学生卡(1.学生,2.对题数,3.错题数,4.学时,5.答题数,6.正确率),6.学生资料=(1.时间,2模式,3,正确,4.错误,5.用时,6.学分加)
      <br/>
      local TZP={
      <!-- -->
      {v..119,v..151},v..120,v..123,v..150,{v..167,v..189,v..190,v..191,v..192,v..193,},v..170}
      <br/>
      --[游戏界面数据]=1.挑战,2.正确,3.错误,4.第几题,5.共计题=(0/10),6时间计时 =(00:00)
      <br/>
      local TJS={v..73,v..69,v..70,v..75,v..76,v..72,}
      <br/>
      --[24点游戏]=1.[出题1234],2.[数字1234],3.错误提示,4.显示器
      <br/>
      local C1={"","运算式不完整","运算式输入有误","表达式除数为零","运算结果不等24",}
      <br/>
      local T24={
      <!-- -->
      {v..57,v..59,v..61,v..63,}, {v..48,v..50,v..52,v..54,},v..74,v..64,}
      <br/>
      local UIB24={v..47,v..49,v..51,v..53,}
      <br/>
      --原件颜色:1黑色,2白色,3红色,4绿色,5蓝色,6黄色
      <br/>
      local Color={"0x000000","0xFFFFFF","0xFF0000","0x00FF00","0x0000FF","0xFFFF00",}
      <br/>
      --[答题结束]=1.用时=(00分00秒),2.正确,3错误,4.得分累计(原有+正确=现在)
      <br/>
      local TND={v..101,v..99,v..100,v..102,}
      <br/>
      --玩家游戏数据[p]   1,计时器,2(1,玩家,2,迷你号,3级别,4.学分,5累计正确,6,累计题目,7,累计用时,8.正确率)3,游戏界面数据(1,游戏模式,2.正确,3.错误,4.第几题,5.用时)
      <br/>
      local Ps=Ps
      <br/>
      --游戏数据[p]   1游戏界面-(1.游戏模式,2.游戏难度),2.(游戏开始0,暂停1,结束-1)-计时运行,3.界面弹出,关闭界面,4.回答正确,回答错误
      <br/>
      local Pgame=Pgame
      <br/>
      --游戏数据[p]   1,玩家,2,迷你号,3,游戏模式,4.正确,5.错误,6.第几题,7.用时
      <br/>
      local P24=P24
      <br/>
      for i,a in pairs(Ps) do
      <br/>
      if a[1]~=nil then
      <br/>
      --排行资料
      <br/>
      a[2][3]=level(i)
      <br/>
      Trigger.UI:setText(i, UI, TZP[1][1], a[2][1])
      <br/>
      Trigger.UI:setText(i, UI, TZP[1][2], a[2][2])
      <br/>
      Trigger.UI:setText(i, UI, TZP[1][3], a[2][3])
      <br/>
      Trigger.UI:setText(i, UI, TZP[1][4], a[2][4])
      <br/>
      <br/>
      if Pgame[i]["o"]~=0 then
      <br/>
      --游戏界面数据
      <br/>
      Trigger.UI:setText(i, UI, TJS[1], a[3][1])
      <br/>
      Trigger.UI:setText(i, UI, TJS[2], a[3][2])
      <br/>
      Trigger.UI:setText(i, UI, TJS[3], a[3][3])
      <br/>
      Trigger.UI:setText(i, UI, TJS[4], a[3][4])
      <br/>
      Trigger.UI:setText(i, UI, TJS[5], a[3][4])
      <br/>
      if Pgame[i]["t"]==0 then
      <br/>
      if Pgame[i]["o"]==1 then
      <br/>
      local vv=P24[p]["addt"]
      <br/>
      Trigger.UI:setText(i, UI, T24[4], vv)
      <br/>
      local vv=C1[P24[p]["addo"]]
      <br/>
      Trigger.UI:setText(i, UI, T24[3], vv)
      <br/>
      if P24[p]["add1"]==1 then Trigger.UI:setColor(p, UI , UIB24[1], Color[5])    else   Trigger.UI:setColor(p, UI , UIB24[1], Color[6])  end
      <br/>
      if P24[p]["add2"]==1 then Trigger.UI:setColor(p, UI , UIB24[2], Color[5])    else   Trigger.UI:setColor(p, UI , UIB24[2], Color[6])  end
      <br/>
      if P24[p]["add3"]==1 then Trigger.UI:setColor(p, UI , UIB24[3], Color[5])    else   Trigger.UI:setColor(p, UI , UIB24[3], Color[6])  end
      <br/>
      if P24[p]["add4"]==1 then Trigger.UI:setColor(p, UI , UIB24[4], Color[5])    else   Trigger.UI:setColor(p, UI , UIB24[4], Color[6])  end
      <br/>
      <br/>
      end
      <br/>
      elseif Pgame[i]["t"]==1 then
      <br/>
      local result,second=MiniTimer:getTimerTime(a[1])
      <br/>
      local vv=(math.floor((math.floor(second/60))/10))..((math.floor(second/60))%10)..":"..(math.floor((second%60)/10))..((second%60)%10)
      <br/>
      Trigger.UI:setText(i, UI, TJS[6], vv)
      <br/>
      elseif Pgame[i]["t"]==-1 then
      <br/>
      local result,second=MiniTimer:getTimerTime(a[1])
      <br/>
      local vv=timexz(second)
      <br/>
      Trigger.UI:setText(i, UI, TND[1], vv)
      <br/>
      Trigger.UI:setText(i, UI, TND[2], a[3][2])
      <br/>
      Trigger.UI:setText(i, UI, TND[3], a[3][3])
      <br/>
      local vv=a[2][4].."+"..(a[3][2]*Pgame[i]["dy"]).."="..(a[2][4]+a[3][2]*Pgame[i]["dy"])
      <br/>
      Trigger.UI:setText(i, UI, TND[4], vv)
      <br/>
      end
      <br/>
      end
      <br/>
      end
      <br/>
      end
      <br/>
      <br/>
      end
      <br/>
      -----------------------------------------------------------------
      <br/>
      --24点打印题目
      <br/>
      local function Game24board(p)
      <br/>
      --数学速算主界面
      <br/>
      --local UI="6996144362677448610"
      <br/>
      --local v="6996144362677448610_"
      <br/>
      --[24点游戏]=1.[出题1234],2.[数字1234],3.错误提示,4.显示器
      <br/>
      local C1={"","运算式不完整","运算式输入有误","表达式除数为零","运算结果不等24",}
      <br/>
      local T24={
      <!-- -->
      {v..57,v..59,v..61,v..63,}, {v..48,v..50,v..52,v..54,},v..74,v..64,}
      <br/>
      --[加减乘除运算]=1.出题区,2.选项A,3.选项B,4.选项C,5.选项D,}
      <br/>
      local TAAD={v..94,v..90,v..91,v..92,v..93,}
      <br/>
      for i=1,4 do
      <br/>
      Trigger.UI:setText(p, UI, T24[1][i], P24[p][1][Pgame[p]["num"]][i])
      <br/>
      Trigger.UI:setText(p, UI, T24[2][i], P24[p][1][Pgame[p]["num"]][i])
      <br/>
      <br/>
      end
      <br/>
      end
     </p>
     <p>
      local function Game24boardnum(p)
      <br/>
      local B01={[v..47]=1,[v..49]=2,[v..51]=3,[v..53]=4,
      <br/>
      [v..30]="+",[v..32]="-",[v..34]="*",[v..36]="/",
      <br/>
      [v..38]="(",[v..40]=")",[v..42]="←",[v..44]="=",
      <br/>
      -- [v..48]=nil,[v..50]=nil,[v..52]=nil,[v..54]=nil,
      <br/>
      }
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      end
     </p>
     <p>
      -----------------------------------------------------------------
      <br/>
      --24点十题随机题目(简单,困难)
      <br/>
      local function Game24t(p)
      <br/>
      local p=p
      <br/>
      P24[p][1]={}
      <br/>
      if Pgame[p]["o"]==1 and Pgame[p]["dy"]==1 then
      <br/>
      for i=1,10 do
      <br/>
      P24[p][1][i]=_G.GameD1[math.random(1,#_G.GameD1)]
      <br/>
      end
      <br/>
      elseif Pgame[p]["o"]==1 and Pgame[p]["dy"]==2 then
      <br/>
      for i=1,10 do
      <br/>
      P24[p][1][i]=_G.GameD2[math.random(1,#_G.GameD2)]
      <br/>
      end
      <br/>
      end
      <br/>
      print(P24)
      <br/>
      Game24board(p)
      <br/>
      end
     </p>
     <p>
      <br/>
      <br/>
     </p>
     <p>
      <br/>
      -----------------------------------------------------------------
      <br/>
      --主菜单 游戏选择 游戏数据 -
      <br/>
      local function ui0(p)
      <br/>
      local p=p
      <br/>
      --local Pgame=Pgame
      <br/>
      --  local UI="6996144362677448610"
      <br/>
      -- local v="6996144362677448610_"
      <br/>
      local v01 = [=[6996144362677448610-基础页面]=]
      <br/>
      local v02 = [=[6996144362677448610-基础页面1]=]
      <br/>
      local v03 = [=[6996144362677448610-基础页面2]=]
      <br/>
      local v04 = [=[6996144362677448610-基础页面3]=]
      <br/>
      print("界面操作")
      <br/>
      --[[
      <br/>
      [界面操作显示和隐藏]=1.主背景,2,玩家资料排行,
      <br/>
      3.24点,4.加减法,5.乘除法,
      <br/>
      6.游戏界面数据,7.24点游戏,8.加减乘除运算,
      <br/>
      9.开始游戏,10.退出提示,11.答题结束,                  12.学生卡,13.学位版积分制,14.学分排行,
      <br/>
      15.回答正确提示,16.回答错误提示]]
      <br/>
      local UI0={v..1,v..116,v..2,v..8,v..14,v..66,v..28,v..77,v..114,v..103,v..96,v..166,v..117,v..146,v..152,v..154}
      <br/>
      -----------------------------------------------------------------
      <br/>
      if Pgame[p]["o"]==0 then
      <br/>
      Player:openUIView(p,UI)
      <br/>
      for i=3,16 do
      <br/>
      Trigger.UI:hideElement(p, UI, UI0[i])
      <br/>
      end
      <br/>
      Trigger.UI:showElement(p, UI, UI0[3])
      <br/>
      Trigger.UI:showElement(p, UI, UI0[4])
      <br/>
      Trigger.UI:showElement(p, UI, UI0[5])
      <br/>
      print("主界面")
      <br/>
      elseif  Pgame[p]["o"]==1 then
      <br/>
      for i=3,5 do
      <br/>
      Trigger.UI:hideElement(p, UI, UI0[i])
      <br/>
      end
      <br/>
      Trigger.UI:showElement(p, UI, UI0[6])
      <br/>
      Trigger.UI:showElement(p, UI, UI0[7])
      <br/>
      print("24点")
      <br/>
      elseif  Pgame[p]["o"]==2 or Pgame[p]["o"]==3 then
      <br/>
      for i=3,5 do
      <br/>
      Trigger.UI:hideElement(p, UI, UI0[i])
      <br/>
      end
      <br/>
      Trigger.UI:showElement(p, UI, UI0[6])
      <br/>
      Trigger.UI:showElement(p, UI, UI0[8])
      <br/>
      print("加减乘除")
      <br/>
      end
      <br/>
      end
     </p>
     <p>
      --游戏数据模式
      <br/>
      local function gameb()
      <br/>
      Trigger.UI:setText(p,UI,v..73,B0[v0])
      <br/>
      end
     </p>
     <p>
      <br/>
      <br/>
      <br/>
      -----------------------------------------------------------------
      <br/>
      local function addclear(p)  --运算清空重置
      <br/>
      local p=p
      <br/>
      P24[p]["adda"]={}
      <br/>
      P24[p]["addb"]={}
      <br/>
      P24[p]["addk"]=1
      <br/>
      P24[p]["addf"]=1
      <br/>
      P24[p]["addl"]=0
      <br/>
      P24[p]["addo"]=4
      <br/>
      P24[p]["addn"]={}
      <br/>
      P24[p]["adds"]={}
      <br/>
      P24[p]["addn"][P24[p]["addk"]]=1
      <br/>
      P24[p]["adda"][P24[p]["addk"]]={}
      <br/>
      P24[p]["addb"][P24[p]["addk"]]={}
      <br/>
      P24[p]["adda"][P24[p]["addk"][P24[p]["addn"][P24[p]["addk"]]]]=0
      <br/>
      P24[p]["addb"][P24[p]["addk"][P24[p]["addn"][P24[p]["addk"]]]]=0
      <br/>
      P24[p]["addt"]=""
      <br/>
      P24[p]["adds0"]=0
      <br/>
      P24[p]["add1"]=0
      <br/>
      P24[p]["add2"]=0
      <br/>
      P24[p]["add3"]=0
      <br/>
      P24[p]["add4"]=0
      <br/>
      print(P24)
      <br/>
      end
      <br/>
      <br/>
      -----------------------------------------------------------------
      <br/>
      -- 运算
      <br/>
      --[[
      <br/>
      local function addadd(p) --清除
      <br/>
      local second=1
      <br/>
      a,b,c,n,s,t1={},{},nil,{},{},{}
      <br/>
      t=""
      <br/>
      n1,a1,k,p,f,d,t2,l,s1,o0,j,st=0,0,1,0,0,0,1,0,"",0,0,0
      <br/>
      n[k]=1
      <br/>
      a[k]={}
      <br/>
      a[k][n[k] ]=0
      <br/>
      b[k]={}
      <br/>
      b[k][n[k] ]=0
      <br/>
      end
      <br/>
      ]]
     </p>
     <p>
      local function addadd(p)
      <br/>
      P24[p]["adds"][P24[p]["addk"]]=0
      <br/>
      if P24[p]["addk"]==1 then
      <br/>
      print("k="..P24[p]["addk"].."n[k]="..P24[p]["addn"][P24[p]["addk"]])
      <br/>
      print("a[k]=")
      <br/>
      print(unpack(P24[p]["adda"][P24[p]["addk"]]))
      <br/>
      print("b[k]=")
      <br/>
      print(unpack(P24[p]["addb"][P24[p]["addk"]]))
      <br/>
      P24[p]["adds"][P24[p]["addk"]]=0
      <br/>
      if P24[p]["addn"][P24[p]["addk"]]==1 then P24[p]["adds"][P24[p]["addk"]]=P24[p]["adda"][P24[p]["addk"]][P24[p]["addn"][P24[p]["addk"]]]  P24[p]["addt"]=P24[p]["addt"].."="
      <br/>
      else
      <br/>
      if P24[p]["addb"][P24[p]["addk"][P24[p]["addn"][P24[p]["addk"]]]]~=0 and P24[p]["adda"][P24[p]["addk"][P24[p]["addn"][P24[p]["addk"]]]]==nil then P24[p]["addt"]=P24[p]["addt"].."0" end
      <br/>
      P24[p]["addt"]=P24[p]["addt"].."="
      <br/>
      for i=1,P24[p]["addn"][P24[p]["addk"]] do
      <br/>
      if P24[p]["addb"][P24[p]["addk"]][i]==1  then
      <br/>
      if (P24[p]["addb"][P24[p]["addk"]][i+1]~=3 and P24[p]["addb"][P24[p]["addk"]][i+1]~=4)  then P24[p]["adds"][P24[p]["addk"]]=P24[p]["adda"][P24[p]["addk"]][i]+P24[p]["adda"][P24[p]["addk"]][i+1] P24[p]["adda"][P24[p]["addk"]][i+1]=P24[p]["adds"][P24[p]["addk"]]  P24[p]["adda"][P24[p]["addk"]][i]=0 P24[p]["addb"][P24[p]["addk"]][i]=0
      <br/>
      elseif P24[p]["addb"][P24[p]["addk"]][i+1]==3  then if P24[p]["adda"][P24[p]["addk"]][i+2]~=nil  then P24[p]["adds"][P24[p]["addk"]]=P24[p]["adda"][P24[p]["addk"]][i+1]*P24[p]["adda"][P24[p]["addk"]][i+2]   P24[p]["adda"][P24[p]["addk"]][i+1]=P24[p]["adda"][P24[p]["addk"]][i]   P24[p]["adda"][P24[p]["addk"]][i+2]=P24[p]["adds"][P24[p]["addk"]]  P24[p]["addb"][P24[p]["addk"]][i+1]=P24[p]["addb"][P24[p]["addk"]][i] P24[p]["adda"][P24[p]["addk"]][i]=0  P24[p]["addb"][P24[p]["addk"]][i]=0  else  P24[p]["adds"][P24[p]["addk"]]=0   P24[p]["adda"][P24[p]["addk"]][i+1]=P24[p]["adda"][P24[p]["addk"]][i]   P24[p]["adda"][P24[p]["addk"]][i+2]=P24[p]["adds"][P24[p]["addk"]]  P24[p]["addb"][P24[p]["addk"]][i+1]=P24[p]["addb"][P24[p]["addk"]][i] P24[p]["addb"][P24[p]["addk"]][i]=0 end
      <br/>
      elseif P24[p]["addb"][P24[p]["addk"]][i+1]==4  then if (P24[p]["adda"][P24[p]["addk"]][i+2]~=0 and P24[p]["adda"][P24[p]["addk"]][i+2]~=nil) then P24[p]["adds"][P24[p]["addk"]]=P24[p]["adda"][P24[p]["addk"]][i+1]/P24[p]["adda"][P24[p]["addk"]][i+2] P24[p]["adda"][P24[p]["addk"]][i+1]=P24[p]["adda"][P24[p]["addk"]][i]   P24[p]["adda"][P24[p]["addk"]][i+2]=P24[p]["adds"][P24[p]["addk"]]  P24[p]["addb"][P24[p]["addk"]][i+1]=1 P24[p]["adda"][P24[p]["addk"]][i]=0  P24[p]["addb"][P24[p]["addk"]][i]=0  else  o=3 add4() s0=0 Player:playMusic(v,mid[3],150,1,false) return end end
      <br/>
      elseif P24[p]["addb"][P24[p]["addk"]][i]==2 then
      <br/>
      if (P24[p]["addb"][P24[p]["addk"]][i+1]~=3 and P24[p]["addb"][P24[p]["addk"]][i+1]~=4)  then P24[p]["adds"][P24[p]["addk"]]=P24[p]["adda"][P24[p]["addk"]][i]-P24[p]["adda"][P24[p]["addk"]][i+1] P24[p]["adda"][P24[p]["addk"]][i+1]=P24[p]["adds"][P24[p]["addk"]]  P24[p]["adda"][P24[p]["addk"]][i]=0 P24[p]["addb"][P24[p]["addk"]][i]=0
      <br/>
      elseif P24[p]["addb"][P24[p]["addk"]][i+1]==3  then if P24[p]["adda"][P24[p]["addk"]][i+2]~=nil  then P24[p]["adds"][P24[p]["addk"]]=P24[p]["adda"][P24[p]["addk"]][i+1]*P24[p]["adda"][P24[p]["addk"]][i+2]   P24[p]["adda"][P24[p]["addk"]][i+1]=P24[p]["adda"][P24[p]["addk"]][i]   P24[p]["adda"][P24[p]["addk"]][i+2]=P24[p]["adds"][P24[p]["addk"]]  P24[p]["addb"][P24[p]["addk"]][i+1]=P24[p]["addb"][P24[p]["addk"]][i] P24[p]["adda"][P24[p]["addk"]][i]=0  P24[p]["addb"][P24[p]["addk"]][i]=0  else  P24[p]["adds"][P24[p]["addk"]]=0   P24[p]["adda"][P24[p]["addk"]][i+1]=P24[p]["adda"][P24[p]["addk"]][i]   P24[p]["adda"][P24[p]["addk"]][i+2]=P24[p]["adds"][P24[p]["addk"]]  P24[p]["addb"][P24[p]["addk"]][i+1]=P24[p]["addb"][P24[p]["addk"]][i] P24[p]["addb"][P24[p]["addk"]][i]=0 end
      <br/>
      elseif P24[p]["addb"][P24[p]["addk"]][i+1]==4  then if (P24[p]["adda"][P24[p]["addk"]][i+2]~=0 and P24[p]["adda"][P24[p]["addk"]][i+2]~=nil) then P24[p]["adds"][P24[p]["addk"]]=P24[p]["adda"][P24[p]["addk"]][i+1]/P24[p]["adda"][P24[p]["addk"]][i+2] P24[p]["adda"][P24[p]["addk"]][i+1]=P24[p]["adda"][P24[p]["addk"]][i]   P24[p]["adda"][P24[p]["addk"]][i+2]=P24[p]["adds"][P24[p]["addk"]]  P24[p]["addb"][P24[p]["addk"]][i+1]=1 P24[p]["adda"][P24[p]["addk"]][i]=0  P24[p]["addb"][P24[p]["addk"]][i]=0  else  o=3 add4() s0=0 Player:playMusic(v,mid[3],150,1,false) return end end
      <br/>
      elseif P24[p]["addb"][P24[p]["addk"]][i]==3  then P24[p]["adds"][P24[p]["addk"]]=P24[p]["adda"][P24[p]["addk"]][i]*a[k][i+1] P24[p]["adda"][P24[p]["addk"]][i+1]=P24[p]["adds"][P24[p]["addk"]] P24[p]["adda"][P24[p]["addk"]][i]=0 P24[p]["addb"][P24[p]["addk"]][i]=0
      <br/>
      elseif P24[p]["addb"][P24[p]["addk"]][i]==4  then if (P24[p]["adda"][P24[p]["addk"]][i+1]~=0 and P24[p]["adda"][P24[p]["addk"]][i+1]~=nil)  then P24[p]["adds"][P24[p]["addk"]]=P24[p]["adda"][P24[p]["addk"]][i]/P24[p]["adda"][P24[p]["addk"]][i+1]  P24[p]["adda"][P24[p]["addk"]][i+1]=P24[p]["adds"][P24[p]["addk"]] P24[p]["adda"][P24[p]["addk"]][i]=0 P24[p]["addb"][P24[p]["addk"]][i]=0  else o=3 add4() s0=0 Player:playMusic(v,mid[3],150,1,false) return end
      <br/>
      end
      <br/>
      end
      <br/>
      P24[p]["adds"][P24[p]["addk"]]=P24[p]["adda"][P24[p]["addk"]][P24[p]["addn"][P24[p]["addk"]]]
      <br/>
      P24[p]["adds0"]=P24[p]["adds"][P24[p]["addk"]]
      <br/>
      end
      <br/>
      elseif P24[p]["addk"]&gt;1 then
      <br/>
      print("k="..P24[p]["addk"].."n[k]="..P24[p]["addn"][P24[p]["addk"]])
      <br/>
      print("a[k]")
      <br/>
      print(unpack(P24[p]["adda"][P24[p]["addk"]]))
      <br/>
      print("b[k]")
      <br/>
      print(unpack(P24[p]["addb"][P24[p]["addk"]]))
      <br/>
      for i=1,P24[p]["addn"][P24[p]["addk"]] do
      <br/>
      if P24[p]["addb"][P24[p]["addk"]][i]==1  then
      <br/>
      if (P24[p]["addb"][P24[p]["addk"]][i+1]~=3 and P24[p]["addb"][P24[p]["addk"]][i+1]~=4)  then P24[p]["adds"][P24[p]["addk"]]=P24[p]["adda"][P24[p]["addk"]][i]+P24[p]["adda"][P24[p]["addk"]][i+1] P24[p]["adda"][P24[p]["addk"]][i+1]=P24[p]["adds"][P24[p]["addk"]]  P24[p]["adda"][P24[p]["addk"]][i]=0 P24[p]["addb"][P24[p]["addk"]][i]=0
      <br/>
      elseif P24[p]["addb"][P24[p]["addk"]][i+1]==3  then if P24[p]["adda"][P24[p]["addk"]][i+2]~=nil  then P24[p]["adds"][P24[p]["addk"]]=P24[p]["adda"][P24[p]["addk"]][i+1]*P24[p]["adda"][P24[p]["addk"]][i+2]   P24[p]["adda"][P24[p]["addk"]][i+1]=P24[p]["adda"][P24[p]["addk"]][i]   P24[p]["adda"][P24[p]["addk"]][i+2]=P24[p]["adds"][P24[p]["addk"]]  P24[p]["addb"][P24[p]["addk"]][i+1]=P24[p]["addb"][P24[p]["addk"]][i] P24[p]["adda"][P24[p]["addk"]][i]=0  P24[p]["addb"][P24[p]["addk"]][i]=0  else  P24[p]["adds"][P24[p]["addk"]]=0   P24[p]["adda"][P24[p]["addk"]][i+1]=P24[p]["adda"][P24[p]["addk"]][i]   P24[p]["adda"][P24[p]["addk"]][i+2]=P24[p]["adds"][P24[p]["addk"]]  P24[p]["addb"][P24[p]["addk"]][i+1]=P24[p]["addb"][P24[p]["addk"]][i] P24[p]["addb"][P24[p]["addk"]][i]=0 end
      <br/>
      elseif P24[p]["addb"][P24[p]["addk"]][i+1]==4  then if (P24[p]["adda"][P24[p]["addk"]][i+2]~=0 and P24[p]["adda"][P24[p]["addk"]][i+2]~=nil) then P24[p]["adds"][P24[p]["addk"]]=P24[p]["adda"][P24[p]["addk"]][i+1]/P24[p]["adda"][P24[p]["addk"]][i+2] P24[p]["adda"][P24[p]["addk"]][i+1]=P24[p]["adda"][P24[p]["addk"]][i]   P24[p]["adda"][P24[p]["addk"]][i+2]=P24[p]["adds"][P24[p]["addk"]]  P24[p]["addb"][P24[p]["addk"]][i+1]=1 P24[p]["adda"][P24[p]["addk"]][i]=0  P24[p]["addb"][P24[p]["addk"]][i]=0  else  o=3 add4() s0=0 Player:playMusic(v,mid[3],150,1,false) return end end
      <br/>
      elseif P24[p]["addb"][P24[p]["addk"]][i]==2 then
      <br/>
      if (P24[p]["addb"][P24[p]["addk"]][i+1]~=3 and P24[p]["addb"][P24[p]["addk"]][i+1]~=4)  then P24[p]["adds"][P24[p]["addk"]]=P24[p]["adda"][P24[p]["addk"]][i]-P24[p]["adda"][P24[p]["addk"]][i+1] P24[p]["adda"][P24[p]["addk"]][i+1]=P24[p]["adds"][P24[p]["addk"]]  P24[p]["adda"][P24[p]["addk"]][i]=0 P24[p]["addb"][P24[p]["addk"]][i]=0
      <br/>
      elseif P24[p]["addb"][P24[p]["addk"]][i+1]==3  then if P24[p]["adda"][P24[p]["addk"]][i+2]~=nil  then P24[p]["adds"][P24[p]["addk"]]=P24[p]["adda"][P24[p]["addk"]][i+1]*P24[p]["adda"][P24[p]["addk"]][i+2]   P24[p]["adda"][P24[p]["addk"]][i+1]=P24[p]["adda"][P24[p]["addk"]][i]   P24[p]["adda"][P24[p]["addk"]][i+2]=P24[p]["adds"][P24[p]["addk"]]  P24[p]["addb"][P24[p]["addk"]][i+1]=P24[p]["addb"][P24[p]["addk"]][i] P24[p]["adda"][P24[p]["addk"]][i]=0  P24[p]["addb"][P24[p]["addk"]][i]=0  else  P24[p]["adds"][P24[p]["addk"]]=0   P24[p]["adda"][P24[p]["addk"]][i+1]=P24[p]["adda"][P24[p]["addk"]][i]   P24[p]["adda"][P24[p]["addk"]][i+2]=P24[p]["adds"][P24[p]["addk"]]  P24[p]["addb"][P24[p]["addk"]][i+1]=P24[p]["addb"][P24[p]["addk"]][i] P24[p]["addb"][P24[p]["addk"]][i]=0 end
      <br/>
      elseif P24[p]["addb"][P24[p]["addk"]][i+1]==4  then if (P24[p]["adda"][P24[p]["addk"]][i+2]~=0 and P24[p]["adda"][P24[p]["addk"]][i+2]~=nil) then P24[p]["adds"][P24[p]["addk"]]=P24[p]["adda"][P24[p]["addk"]][i+1]/P24[p]["adda"][P24[p]["addk"]][i+2] P24[p]["adda"][P24[p]["addk"]][i+1]=P24[p]["adda"][P24[p]["addk"]][i]   P24[p]["adda"][P24[p]["addk"]][i+2]=P24[p]["adds"][P24[p]["addk"]]  P24[p]["addb"][P24[p]["addk"]][i+1]=1 P24[p]["adda"][P24[p]["addk"]][i]=0  P24[p]["addb"][P24[p]["addk"]][i]=0  else  o=3 add4() s0=0 Player:playMusic(v,mid[3],150,1,false) return end end
      <br/>
      elseif P24[p]["addb"][P24[p]["addk"]][i]==3  then P24[p]["adds"][P24[p]["addk"]]=P24[p]["adda"][P24[p]["addk"]][i]*a[k][i+1] P24[p]["adda"][P24[p]["addk"]][i+1]=P24[p]["adds"][P24[p]["addk"]] P24[p]["adda"][P24[p]["addk"]][i]=0 P24[p]["addb"][P24[p]["addk"]][i]=0
      <br/>
      elseif P24[p]["addb"][P24[p]["addk"]][i]==4  then if (P24[p]["adda"][P24[p]["addk"]][i+1]~=0 and P24[p]["adda"][P24[p]["addk"]][i+1]~=nil)  then P24[p]["adds"][P24[p]["addk"]]=P24[p]["adda"][P24[p]["addk"]][i]/P24[p]["adda"][P24[p]["addk"]][i+1]  P24[p]["adda"][P24[p]["addk"]][i+1]=P24[p]["adds"][P24[p]["addk"]] P24[p]["adda"][P24[p]["addk"]][i]=0 P24[p]["addb"][P24[p]["addk"]][i]=0  else o=3 add4() s0=0 Player:playMusic(v,mid[3],150,1,false) return end
      <br/>
      end
      <br/>
      end
      <br/>
      P24[p]["adds"][P24[p]["addk"]]=P24[p]["adda"][P24[p]["addk"]][P24[p]["addn"][P24[p]["addk"]]]
      <br/>
      P24[p]["adda"][P24[p]["addk"]-1][P24[p]["addn"][P24[p]["addk"]-1]]=P24[p]["adds"][P24[p]["addk"]]
      <br/>
      end
      <br/>
      if P24[p]["addk"]==1 then
      <br/>
      print(P24[p]["adds"][P24[p]["addk"]])
      <br/>
      else
      <br/>
      print(P24[p]["adds"][P24[p]["addk"]])
      <br/>
      P24[p]["adda"][P24[p]["addk"]],P24[p]["addb"][P24[p]["addk"]],P24[p]["addn"][P24[p]["addk"]]=nil,nil,nil
      <br/>
      P24[p]["addk"]=P24[p]["addk"]-1
      <br/>
      end
      <br/>
      print(unpack(P24[p]["adds"]))
      <br/>
      print("s1="..P24[p]["adds0"])
      <br/>
      end
     </p>
     <p>
      --刷新题目
      <br/>
      local function game(p)
      <br/>
      if Pgame[p]["o"]==1  then
      <br/>
      addclear(p)
      <br/>
      <br/>
      Game24board(p)
      <br/>
      elseif Pgame[p]["o"]==2 or Pgame[p]["o"]==3 then
      <br/>
      end
      <br/>
      end
      <br/>
      -----------------------------------------------------------------
      <br/>
      <br/>
      <br/>
      <br/>
      --24点运算按键
      <br/>
      local function Game24boardnum(p,v0)
      <br/>
      local p=p
      <br/>
      if B01[v0]=="=" and P24[p]["addf"]==0 then
      <br/>
      if  P24[p]["add1"]==1 and P24[p]["add2"]==1 and P24[p]["add3"]==1 and P24[p]["add4"]==1 then
      <br/>
      --addadd(p) --运算
      <br/>
      else  P24[p]["addo"]=3 end
      <br/>
      elseif B01[v0]=="←" then  addclear(p) print("已清除")
      <br/>
      elseif B01[v0]=="+" and P24[p]["addf"]==0 then
      <br/>
      P24[p]["addt"]=P24[p]["addt"]..B01[v0]
      <br/>
      P24[p]["addl"]=0
      <br/>
      P24[p]["addf"]=1
      <br/>
      P24[p]["addb"][P24[p]["addk"][P24[p]["addn"][P24[p]["addk"]]]]=1
      <br/>
      P24[p]["addn"][P24[p]["addk"]]=P24[p]["addn"][P24[p]["addk"]]+1
      <br/>
      elseif B01[v0]=="-" and P24[p]["addf"]==0 then
      <br/>
      P24[p]["addt"]=P24[p]["addt"]..B01[v0]
      <br/>
      P24[p]["addl"]=0
      <br/>
      P24[p]["addf"]=1
      <br/>
      P24[p]["addb"][P24[p]["addk"][P24[p]["addn"][P24[p]["addk"]]]]=2
      <br/>
      P24[p]["addn"][P24[p]["addk"]]=P24[p]["addn"][P24[p]["addk"]]+1
      <br/>
      elseif B01[v0]=="*" and P24[p]["addf"]==0 then
      <br/>
      P24[p]["addt"]=P24[p]["addt"]..B01[v0]
      <br/>
      P24[p]["addl"]=0
      <br/>
      P24[p]["addf"]=1
      <br/>
      P24[p]["addb"][P24[p]["addk"][P24[p]["addn"][P24[p]["addk"]]]]=3
      <br/>
      P24[p]["addn"][P24[p]["addk"]]=P24[p]["addn"][P24[p]["addk"]]+1
      <br/>
      elseif B01[v0]=="/" and P24[p]["addf"]==0 then
      <br/>
      P24[p]["addt"]=P24[p]["addt"]..B01[v0]
      <br/>
      P24[p]["addl"]=0
      <br/>
      P24[p]["addf"]=1
      <br/>
      P24[p]["addb"][P24[p]["addk"][P24[p]["addn"][P24[p]["addk"]]]]=4
      <br/>
      P24[p]["addn"][P24[p]["addk"]]=P24[p]["addn"][P24[p]["addk"]]+1
      <br/>
      elseif B01[v0]=="(" and P24[p]["addf"]==1 then
      <br/>
      P24[p]["addt"]=P24[p]["addt"]..B01[v0]
      <br/>
      P24[p]["addk"]=P24[p]["addk"]+1
      <br/>
      P24[p]["addn"][P24[p]["addk"]]=1
      <br/>
      P24[p]["adda"][P24[p]["addk"]]={}
      <br/>
      P24[p]["addb"][P24[p]["addk"]]={}
      <br/>
      P24[p]["adda"][P24[p]["addk"][P24[p]["addn"][P24[p]["addk"]]]]=0
      <br/>
      P24[p]["addb"][P24[p]["addk"][P24[p]["addn"][P24[p]["addk"]]]]=0
      <br/>
      elseif B01[v0]==")" then
      <br/>
      P24[p]["addt"]=P24[p]["addt"]..B01[v0]
      <br/>
      --addadd(p)
      <br/>
      elseif B01[v0]==1 and P24[p]["addl"]==0 then if P24[p]["add1"]==0 then
      <br/>
      P24[p]["add1"]=1 P24[p]["addf"]=0 P24[p]["addl"]=1
      <br/>
      P24[p]["adda"][P24[p]["addk"][P24[p]["addn"][P24[p]["addk"]]]]=P24[p][1][Pgame[p]["num"]][1]
      <br/>
      P24[p]["addt"]=P24[p]["addt"]..P24[p][1][Pgame[p]["num"]][1]
      <br/>
      else  P24[p]["addo"]=2 end
      <br/>
      elseif B01[v0]==2 and P24[p]["addl"]==0 then if P24[p]["add2"]==0 then
      <br/>
      P24[p]["add2"]=1 P24[p]["addf"]=0 P24[p]["addl"]=1
      <br/>
      P24[p]["adda"][P24[p]["addk"][P24[p]["addn"][P24[p]["addk"]]]]=P24[p][1][Pgame[p]["num"]][2]
      <br/>
      P24[p]["addt"]=P24[p]["addt"]..P24[p][1][Pgame[p]["num"]][2]
      <br/>
      else  P24[p]["addo"]=2 end
      <br/>
      elseif B01[v0]==3 and P24[p]["addl"]==0 then if P24[p]["add3"]==0 then
      <br/>
      P24[p]["add3"]=1 P24[p]["addf"]=0 P24[p]["addl"]=1
      <br/>
      P24[p]["adda"][P24[p]["addk"][P24[p]["addn"][P24[p]["addk"]]]]=P24[p][1][Pgame[p]["num"]][3]
      <br/>
      P24[p]["addt"]=P24[p]["addt"]..P24[p][1][Pgame[p]["num"]][3]
      <br/>
      else  P24[p]["addo"]=2 end
      <br/>
      elseif B01[v0]==4 and P24[p]["addl"]==0 then if P24[p]["add4"]==0 then
      <br/>
      P24[p]["add4"]=1 P24[p]["addf"]=0 P24[p]["addl"]=1
      <br/>
      P24[p]["adda"][P24[p]["addk"][P24[p]["addn"][P24[p]["addk"]]]]=P24[p][1][Pgame[p]["num"]][4]
      <br/>
      P24[p]["addt"]=P24[p]["addt"]..P24[p][1][Pgame[p]["num"]][4]
      <br/>
      else  P24[p]["addo"]=2 end
      <br/>
      P24[p]["addo"]=1
      <br/>
      else
      <br/>
      --(运算公式不完整)
      <br/>
      <br/>
      <br/>
      <br/>
      end
      <br/>
      <br/>
      end
      <br/>
      <br/>
      --按键界面
      <br/>
      local function UIB(p,v0)
      <br/>
      local p=p
      <br/>
      -- local UI="6996144362677448610"
      <br/>
      -- local v="6996144362677448610_"
      <br/>
      local v0=v0
      <br/>
      --[[
      <br/>
      [界面操作显示和隐藏]=1.主背景,2,玩家资料排行,
      <br/>
      3.24点,4.加减法,5.乘除法,
      <br/>
      6.游戏界面数据,7.24点游戏,8.加减乘除运算,
      <br/>
      9.开始游戏,10.退出提示,11.答题结束,
      <br/>
      12.学生卡,13.学位版积分制,14.学分排行,
      <br/>
      15.回答正确提示,16.回答错误提示]]
      <br/>
      local UI0={v..1,v..116,v..2,v..8,v..14,v..66,v..28,v..77,v..114,v..103,v..96,v..166,v..117,v..146,v..152,v..154}
      <br/>
      print("按键")
      <br/>
      if B0[v0]=="24点简单"       then  Pgame[p]["o"]=1 Pgame[p]["dy"]=1 ui0(p) p1=9 uishow(p,p1) Game24t(p)
      <br/>
      elseif B0[v0]=="24点困难"   then  Pgame[p]["o"]=1 Pgame[p]["dy"]=2 ui0(p) p1=9 uishow(p,p1) Game24t(p)
      <br/>
      elseif B0[v0]=="1位加减运算" then  Pgame[p]["o"]=2 Pgame[p]["dy"]=1 ui0(p) p1=9 uishow(p,p1)
      <br/>
      elseif B0[v0]=="2位加减运算" then  Pgame[p]["o"]=2 Pgame[p]["dy"]=2 ui0(p) p1=9 uishow(p,p1)
      <br/>
      elseif B0[v0]=="3位加减运算" then  Pgame[p]["o"]=2 Pgame[p]["dy"]=3 ui0(p) p1=9 uishow(p,p1)
      <br/>
      elseif B0[v0]=="4位加减运算" then  Pgame[p]["o"]=2 Pgame[p]["dy"]=4 ui0(p) p1=9 uishow(p,p1)
      <br/>
      elseif B0[v0]=="1位乘除运算" then  Pgame[p]["o"]=3 Pgame[p]["dy"]=1 ui0(p) p1=9 uishow(p,p1)
      <br/>
      elseif B0[v0]=="2位乘除运算" then  Pgame[p]["o"]=3 Pgame[p]["dy"]=2 ui0(p) p1=9 uishow(p,p1)
      <br/>
      elseif B0[v0]=="3位乘除运算" then  Pgame[p]["o"]=3 Pgame[p]["dy"]=3 ui0(p) p1=9 uishow(p,p1)
      <br/>
      elseif B0[v0]=="4位乘除运算" then  Pgame[p]["o"]=3 Pgame[p]["dy"]=4 ui0(p) p1=9 uishow(p,p1)
      <br/>
      end
      <br/>
      <br/>
      if B00[v0]=="退出"          then  Pgame[p]["t"]=0 p1=10  uishow(p,p1) MiniTimer:pauseTimer(Ps[p][1])
      <br/>
      elseif B00[v0]=="确认退出"   then  Pgame[p]={gamename="",o=0,dy=0,t=0,o1=0,o2=0,} ui0(p) local result = MiniTimer:changeTimerTime(Ps[p][1], 0) MiniTimer:pauseTimer(Ps[p][1])
      <br/>
      elseif B00[v0]=="继续游戏"   then  Pgame[p]["t"]=1 p1=10 uihide(p,p1) MiniTimer:resumeTimer(Ps[p][1])
      <br/>
      elseif B00[v0]=="菜单"      then  Pgame[p]={gamename="",o=0,dy=0,t=0,o1=0,o2=0,} p1=11 uihide(p,p1) ui0(p) local result = MiniTimer:changeTimerTime(Ps[p][1], 0)  MiniTimer:pauseTimer(Ps[p][1])
      <br/>
      elseif B00[v0]=="再来一次"   then  Pgame[p]["t"]=1 p1=11 uihide(p,p1) MiniTimer:startForwardTimer(Ps[p][1])
      <br/>
      elseif B00[v0]=="开始游戏"   then  Pgame[p]["t"]=1 p1=9 uihide(p,p1) MiniTimer:resumeTimer(Ps[p][1])  Pgame[p]["num"]=1 game(p)
      <br/>
      elseif B00[v0]=="学生卡"     then  p1=12 uishow(p,p1) class(p)
      <br/>
      elseif B00[v0]=="级别制"     then   p1=13 uishow(p,p1)
      <br/>
      elseif B00[v0]=="排行榜"     then   p1=14 uishow(p,p1) leaderboard(p)
      <br/>
      elseif B00[v0]=="学生卡返回"  then  p1=12 uihide(p,p1)
      <br/>
      elseif B00[v0]=="级别制返回"  then   p1=13 uihide(p,p1)
      <br/>
      elseif B00[v0]=="排行榜返回"  then   p1=14 uihide(p,p1)
      <br/>
      end
      <br/>
      end
      <br/>
      <br/>
      --玩家点击UI
      <br/>
      local function click(param)
      <br/>
      local  p=param.eventobjid
      <br/>
      local v0=param.btnelenemt
      <br/>
      if B0[v0]~=nil then    print(B0[v0])
      <br/>
      Ps[p][3][1]=B0[v0]
      <br/>
      Pgame[p]["gamename"]=B0[v0]
      <br/>
      print("执行前")
      <br/>
      UIB(p,v0)
      <br/>
      gameb()
      <br/>
      elseif B00[v0]~=nil then print(B00[v0])
      <br/>
      UIB(p,v0)
      <br/>
      elseif B01[v0]~=nil then if Pgame[p]["t"]==1 then  print(B01[v0])  Game24boardnum(p,v0) else end
      <br/>
      elseif A[v0]~=nil  then if Pgame[p]["t"]==1 then  print(A[v0])   else end
      <br/>
      end
      <br/>
      --Chat:sendSystemMsg(t)
      <br/>
      end
     </p>
     <p>
      --玩家进入游戏
      <br/>
      local function enter(param)
      <br/>
      p=param.eventobjid
      <br/>
      Ps[p]={}
      <br/>
      Pgame[p]={}
      <br/>
      local result,value=Player:getAttr(p,20)
      <br/>
      Player:setAttr(p,20,value+500)
      <br/>
      local result,name=Player:getNickname(param.eventobjid)
      <br/>
      local r,id=MiniTimer:createTimer("m",nil,true)--创建计时器
      <br/>
      local result,score=Player:getAttr(param.eventobjid,20)  -- 学分
      <br/>
      local result,score1=Player:getAttr(param.eventobjid,19) -- 累计正确,累计错误
      <br/>
      local result,score2=Player:getAttr(param.eventobjid,17) -- 上次登陆时(年，月，日,时,分,秒),
      <br/>
      local result,score3=Player:getAttr(param.eventobjid,18) -- 累计学习时间
      <br/>
      MiniTimer:startForwardTimer(id)--正向计时
      <br/>
      MiniTimer:pauseTimer(id)
      <br/>
      Player:notifyGameInfo2Self(p,"欢迎玩家"..name.."来到数学速算房间")
      <br/>
      --玩家数据[p]  1,计时器,2.( 1,玩家,2,迷你号,3,级别,4.学分,5.(1正确累计,2错误累计),7.累计学时,8登录时间)
      <br/>
      Ps[p]={id,{name,param.eventobjid,"",score,score1,score2,score3,},{"",0,0,0,0,},}--配置玩家数据,计时器,个人成绩表
      <br/>
      Ps[p][2][3]=level(p)
      <br/>
      -- 本次登录时间
      <br/>
      time(p)
      <br/>
      Player:openUIView(p,UI)
      <br/>
      for i=3,16 do
      <br/>
      Trigger.UI:hideElement(p, UI, UI0[i])
      <br/>
      end
      <br/>
      Trigger.UI:showElement(p, UI, UI0[3])
      <br/>
      Trigger.UI:showElement(p, UI, UI0[4])
      <br/>
      Trigger.UI:showElement(p, UI, UI0[5])
      <br/>
      print("主界面")
      <br/>
      print(Ps)
      <br/>
      -- ui0(p)
      <br/>
      --游戏数据[p]   1游戏界面-游戏模式,2.(游戏开始,暂停,结束)-计时运行,3.界面弹出,关闭界面,4.回答正确,回答错误
      <br/>
      Pgame[p]={gamename="",o=0,dy=0,t=0,o1=0,o2=0,num=0}
      <br/>
      print(Pgame)
      <br/>
      Pns[p]={}--历史答题记录(1,时间,2模式,3正确,4错误,5用时,6加分)
      <br/>
      --游戏数据[p]   1.24点10题随机,2.(1234)*2赋值,3.运算表达式,4.错误提示
      <br/>
      P24[p]={ adda={},addb={},addn={},addk=1,adds={},addt="",addo=1,
      <br/>
      add1=0,add2=0,add3=0,add4=0,addf=1,addl=0,adds0=0,
      <br/>
      }
      <br/>
      <br/>
      print(P24)
      <br/>
      --游戏数据 [p]  1.加减法-乘除法,2.位数,3随机题库*10.3.题目打印,4.(ABCD选项)赋值
      <br/>
      Padd[p]={}
      <br/>
      <br/>
      end
     </p>
     <p>
      <br/>
      --[[
      <br/>
      --玩家进入游戏
      <br/>
      local function pin(e)
      <br/>
      local p=e.eventobjid
      <br/>
      local r,id=MiniTimer:createTimer("m",nil,true)--创建计时器
      <br/>
      MiniTimer:startForwardTimer(id)--正向计时
      <br/>
      Ps[p]={id,C,}--配置玩家数据
      <br/>
      end
      <br/>
      ScriptSupportEvent:registerEvent('Game.AnyPlayer.EnterGame',pin)
      <br/>
      ]]
     </p>
     <p>
      --local result,value=Player:getAttr(0,20)
      <br/>
      --Player:setAttr(0,20,value+500)
      <br/>
      --local result,value1=Player:getAttr(0,21)
      <br/>
      --Player:setAttr(0,22,value+10)
      <br/>
      --Player:setGameScore(0,value+10)
      <br/>
      --print(value+500)
      <br/>
      --[[
      <br/>
      Trigger.UI:setText(v,A0,A30,Tt)
      <br/>
      Trigger.UI:setText(v,A0,A50,T1[o])
      <br/>
      Trigger.UI:setText(v,A0,A20,s1)
      <br/>
      if add6(t) then  Trigger.UI:setFontSize(v, A0, A10, vi)
      <br/>
      Trigger.UI:setText(v, A0, A10, t)
      <br/>
      end
      <br/>
      Trigger.UI:setColor(p, UI , UI0[1], Color[2])
      <br/>
      Trigger.UI:setColor(v1, v2, v3, v4)
     </p>
     <p>
      MiniTimer:startForwardTimer(1)
      <br/>
      MiniTimer:stopTimer(1)
      <br/>
      MiniTimer:resumeTimer(1)
      <br/>
      MiniTimer:pauseTimer(1)
      <br/>
      local result = MiniTimer:changeTimerTime(Ps[p], 0)
      <br/>
      ]]
      <br/>
      local function run()
      <br/>
      if run0==1 then
      <br/>
      run0=0
      <br/>
      --threadpool:wait(1)
      <br/>
      UIboard()
      <br/>
      threadpool:wait(2)
      <br/>
      run0=1
      <br/>
      end
      <br/>
      end
     </p>
     <p>
      <br/>
      --玩家离开游戏
      <br/>
      local function leave(e)
      <br/>
      local p=e.eventobjid
      <br/>
      MiniTimer:deleteTimer(Ps[p][1])
      <br/>
      Ps[p]=nil
      <br/>
      Pgame[p]=nil
      <br/>
      P24[p]=nil
      <br/>
      end
      <br/>
      ScriptSupportEvent:registerEvent_NoError([=[UI.Button.Click]=], click)
      <br/>
      ScriptSupportEvent:registerEvent_NoError([=[Game.AnyPlayer.EnterGame]=], enter)
      <br/>
      ScriptSupportEvent:registerEvent('Game.Run',run)
      <br/>
      --ScriptSupportEvent:registerEvent('Game.Run',run)
      <br/>
      ScriptSupportEvent:registerEvent('Game.AnyPlayer.LeaveGame',leave)
      <br/>
     </p>
    </blockquote>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f31353131373533352f:61727469636c652f64657461696c732f313436313439353134" class_="artid" style="display:none">
 </p>
</div>


