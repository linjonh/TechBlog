---
layout: post
title: "Java-EE-进阶Spring-Boot-日志"
date: 2025-03-13 16:47:53 +0800
description: "提供了一个统一接口，用来访问子系统中的一群接口。"
keywords: "Java EE 进阶：Spring Boot 日志"
categories: ['未分类']
tags: ['Spring', 'Java', 'Ee', 'Boot']
artid: "146232179"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146232179
    alt: "Java-EE-进阶Spring-Boot-日志"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146232179
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146232179
cover: https://bing.ee123.net/img/rand?artid=146232179
image: https://bing.ee123.net/img/rand?artid=146232179
img: https://bing.ee123.net/img/rand?artid=146232179
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Java EE 进阶：Spring Boot 日志
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2>
     什么是日志？
    </h2>
    <p>
     日志就是在程序运行的时候记录运行过程中的各种信息，比如系统的运行状态，用户操作，错误信息，调试数据等，就跟你写日记一样，记录各种数据。
    </p>
    <p>
    </p>
    <h2>
     日志的使用
    </h2>
    <p>
     常见的日志
    </p>
    <p>
     Spring Boot在创建时就会记录各种的数据
    </p>
    <p>
     <img alt="" height="401" src="https://i-blog.csdnimg.cn/direct/349d34d7470e4cfea4cac4a4a557a117.png" width="1750"/>
    </p>
    <p>
     在以前我们的学习中，我们可以通过sout来打印日志
    </p>
    <pre><code class="language-java">System.out.println("sout打印日志");</code></pre>
    <p>
     <img alt="" height="358" src="https://i-blog.csdnimg.cn/direct/b893f538f52c4159a97b8ba8e52e9b66.png" width="1588"/>
    </p>
    <p>
     我们可以发现，我们写的日志，比Spring Boot生成的日志少了很多的信息。
    </p>
    <p>
    </p>
    <h2>
     打印日志
    </h2>
    <p>
     我们可以通过如下代码来打印日志
    </p>
    <pre><code class="language-java">private final static Logger logger= LoggerFactory.getLogger(LogController.class);</code></pre>
    <p>
     <strong>
      注：logger是属于slf4j包中，切记不要导错包
     </strong>
     <img alt="" height="125" src="https://i-blog.csdnimg.cn/direct/57074f68bf6648d7963c85f8fc8e2709.png" width="877"/>
    </p>
    <p>
     <img alt="" height="144" src="https://i-blog.csdnimg.cn/direct/ef1baf40d5bf4d30b4912da7c3f2f4b9.png" width="989">
     </img>
    </p>
    <p>
     通过对象来打印日志
    </p>
    <pre><code class="language-java">import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RequestMapping("/log")
@RestController
public class LogController {
    private final static Logger logger= L

    @RequestMapping("/print")
    public void print(){
        System.out.println("sout打印日志");
        logger.debug("debug 打印日志");
        logger.info("info 打印日志");
        logger.trace("trace 打印日志");
        logger.error("error 打印日志");
        logger.warn("warn 打印日志");
    }
}
</code></pre>
    <p>
     <img alt="" height="350" src="https://i-blog.csdnimg.cn/direct/6e31324631584e618bc28d0b0d006e9b.png" width="1490">
      <strong>
      </strong>
     </img>
    </p>
    <p>
     <strong>
      但是我们发现我们打印了六种日志，但实际出来的只有三种
     </strong>
    </p>
    <p>
     <strong>
      这与⽇志级别的配置有关, ⽇志的输出级别
      <span style="color:#fe2c24">
       默认是info级别
      </span>
      ,所以只会打印⼤于等于此级别的⽇志,也就 是info, warn和error
     </strong>
    </p>
    <p>
    </p>
    <h2>
     门面模式
    </h2>
    <p>
     <strong>
      slf4j是典型的门面模式
     </strong>
    </p>
    <p>
     <img alt="" height="339" src="https://i-blog.csdnimg.cn/direct/78a354603edc4abaa6f5586bddf560f9.png" width="478"/>
    </p>
    <p>
    </p>
    <h3>
     门面模式的定义：
    </h3>
    <p>
     提供了一个统一接口，用来访问子系统中的一群接口
    </p>
    <p>
     <img alt="" height="317" src="https://i-blog.csdnimg.cn/direct/a87c1c654dfd41e1ab0a588409ac6c4a.png" width="522"/>
    </p>
    <p>
    </p>
    <h3>
     门面模式的实现：
    </h3>
    <pre><code class="language-java">public interface Light {
    void open();

    void close();
}

public class LivingRoomLight implements Light{
    @Override
    public void open() {
        System.out.println("打开客厅灯");
    }

    @Override
    public void close() {
        System.out.println("关闭客厅灯");
    }
}

public class BedRoomLight implements Light{
    @Override
    public void open() {
        System.out.println("打开卧室灯");
    }

    @Override
    public void close() {
        System.out.println("关闭卧室灯");
    }
}

public class BathRoomLight implements Light{
    @Override
    public void open() {
        System.out.println("打开浴室灯");
    }

    @Override
    public void close() {
        System.out.println("关闭浴室灯");
    }
}

public class FacadeClient {
    private BathRoomLight bathRoomLight=new BathRoomLight();
    private BedRoomLight bedRoomLight=new BedRoomLight();
    private LivingRoomLight livingRoomLight=new LivingRoomLight();



    public void open() {
        bathRoomLight.open();
        bedRoomLight.open();
        livingRoomLight.open();
    }


    public void close() {
        bathRoomLight.close();
        bedRoomLight.close();
        livingRoomLight.close();
    }
}

public class Main {
    public static void main(String[] args) {
        FacadeClient facadeClient=new FacadeClient();
        facadeClient.open();
        facadeClient.close();
    }
}</code></pre>
    <p>
     <img alt="" height="216" src="https://i-blog.csdnimg.cn/direct/ebc2917e8d4d4786ba0cf8eae4eccf17.png" width="529"/>
    </p>
    <p>
     ⻔⾯模式的优点：
    </p>
    <p>
     减少了依赖性，提高灵活性，提高了安全性，灵活的设定权限的访问，不在门面对象中开通方法，就无法访问。
    </p>
    <p>
    </p>
    <h2>
     日志格式的说明
    </h2>
    <p>
     <img alt="" height="104" src="https://i-blog.csdnimg.cn/direct/ff4757a8fb5f4e86a9ef769d589d0a8d.png" width="1731"/>
    </p>
    <p>
    </p>
    <h2>
     日志级别的分类
    </h2>
    <p>
     <strong>
      ⽇志的级别从⾼到低依次为:FATAL、ERROR、WARN、INFO、DEBUG、TRACE
     </strong>
    </p>
    <p>
     FATAL:致命信息，表⽰需要⽴即被处理的系统级错误
    </p>
    <p>
     ERROR:错误信息,级别较⾼的错误⽇志信息,但仍然不影响系统的继续运⾏
    </p>
    <p>
     WARN:警告信息,不影响使⽤,但需要注意的问题
    </p>
    <p>
     INFO:普通信息,⽤于记录应⽤程序正常运⾏时的⼀些信息,例如系统启动完成、请求处理完成等
    </p>
    <p>
     DEBUG:调试信息,需要调试时候的关键信息打印
    </p>
    <p>
     TRACE:追踪信息,⽐DEBUG更细粒度的信息事件(除⾮有特殊⽤意，否则请使⽤DEBUG级别替代)
    </p>
    <p>
    </p>
    <h2>
     日志的配置
    </h2>
    <p>
     <strong>
      在配置文件中设置"logging.level"配置项
     </strong>
    </p>
    <h3>
     配置日志的默认级别
    </h3>
    <pre><code class="language-java">logging:
  level:
    root: debug</code></pre>
    <p>
     <img alt="" height="264" src="https://i-blog.csdnimg.cn/direct/109d649ea49e44758773210df55a3a15.png" width="1681"/>
    </p>
    <p>
    </p>
    <h3>
     配置⽇志⽂件的路径和⽂件名：
    </h3>
    <pre><code class="language-java">logging:
  file:
    name: logger/springboot.log</code></pre>
    <p>
     <img alt="" height="130" src="https://i-blog.csdnimg.cn/direct/f7c3790d08a1437c8abc74ddff9b5d38.png" width="460"/>
    </p>
    <p>
     <img alt="" height="342" src="https://i-blog.csdnimg.cn/direct/2f160605994f48559b28987aa34aaea6.png" width="1329"/>
    </p>
    <p>
    </p>
    <h3>
     配置日志文件的分割
    </h3>
    <pre><code class="language-java">Logging  
  logback:
    rollingpolicy:
     file-name-pattern: ${LOG_FILE}.%d{yyyy-MM-dd}.%i
     max-file-size: 1KB</code></pre>
    <p>
     <img alt="" height="302" src="https://i-blog.csdnimg.cn/direct/0fd75169537e46be97f56f439cec0372.png" width="1275"/>
    </p>
    <p>
     <img alt="" height="680" src="https://i-blog.csdnimg.cn/direct/0fc059e888ca4cd49320e6689f10e9b5.png" width="383"/>
    </p>
    <p>
    </p>
    <h3>
     日志格式的配置：
    </h3>
    <p>
     参考：
     <a href="https://logback.qos.ch/manual/layouts.html#conversionWord" rel="nofollow" title="Chapter 6: Layouts">
      Chapter 6: Layouts
     </a>
    </p>
    <p>
    </p>
    <h2>
     更加简单的日志打印
    </h2>
    <p>
     <strong>
      @slf4j注解
     </strong>
    </p>
    <pre><code class="language-java">import lombok.extern.slf4j.Slf4j;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RequestMapping("/log2")
@RestController
@Slf4j
public class LogController2 {

    @RequestMapping("/print2")
    public void print2(){
        System.out.println("sout打印日志");
        log.debug("debug 打印日志");
        log.info("info 打印日志");
        log.trace("trace 打印日志");
        log.error("error 打印日志");
        log.warn("warn 打印日志");
    }
}</code></pre>
    <p>
     <img alt="" height="120" src="https://i-blog.csdnimg.cn/direct/4f8d216cbe2b4bc48052e00cee130a33.png" width="1300"/>
    </p>
    <p>
     <strong>
      注：记得添加lombok依赖
     </strong>
    </p>
    <pre><code class="language-java">&lt;dependency&gt;
    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
    &lt;artifactId&gt;lombok&lt;/artifactId&gt;
    &lt;version&gt;1.18.30&lt;/version&gt; &lt;!-- 建议使用较新的版本 --&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre>
    <p>
    </p>
    <p style="text-align:center">
     希望能对大家有所帮助！！！！
    </p>
    <p class="img-center">
     <img alt="" height="248" src="https://i-blog.csdnimg.cn/direct/2def50df67f6431e87ff0b39d1e82715.jpeg" width="219"/>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470:733a2f2f626c6f672e6373646e2e6e65742f626c616d65702f:61727469636c652f64657461696c732f313436323332313739" class_="artid" style="display:none">
 </p>
</div>


