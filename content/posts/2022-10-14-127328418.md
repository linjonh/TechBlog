---
layout: post
title: "单元测试Junit5入门教程非常详细,入门即精通"
date: 2022-10-14 23:59:45 +0800
description: "junit5入门教程，junit5依赖，常用注解，套件测试_junit5教程"
keywords: "junit5教程"
categories: ['霍格沃茨', '单元测试']
tags: ['单元测试', 'Junit', 'Java']
artid: "127328418"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=127328418
    alt: "单元测试Junit5入门教程非常详细,入门即精通"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=127328418
featuredImagePreview: https://bing.ee123.net/img/rand?artid=127328418
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     《单元测试》Junit5入门教程——非常详细，入门即精通
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <blockquote>
     <p>
      本文为在霍格沃兹测试开发学社中学习到的一些技术，写出来分享给大家，希望有志同道合的小伙伴可以一起交流技术，一起进步~
     </p>
    </blockquote>
    <p>
    </p>
    <div class="toc">
     <h4>
      单元测试-Junit5入门教程
     </h4>
     <ul>
      <li>
       <ul>
        <li>
         <a href="#Junit5_6" rel="nofollow">
          一、添加Junit5依赖
         </a>
        </li>
        <li>
         <a href="#Junit5__53" rel="nofollow">
          二、Junit5 常用注解
         </a>
        </li>
        <li>
         <ul>
          <li>
           <a href="#21Test_54" rel="nofollow">
            2.1、@Test
           </a>
          </li>
          <li>
           <a href="#22BeforeAll_56" rel="nofollow">
            2.2、@BeforeAll
           </a>
          </li>
          <li>
           <a href="#23AfterAll_58" rel="nofollow">
            2.3、@AfterAll
           </a>
          </li>
          <li>
           <a href="#24BeforeEach_60" rel="nofollow">
            2.4、@BeforeEach
           </a>
          </li>
          <li>
           <a href="#25AfterEach_62" rel="nofollow">
            2.5、@AfterEach
           </a>
          </li>
          <li>
           <a href="#26Nested_67" rel="nofollow">
            2.6、@Nested
           </a>
          </li>
          <li>
           <a href="#27DisplayName_74" rel="nofollow">
            2.7、@DisplayName
           </a>
          </li>
          <li>
           <a href="#28Disabled_76" rel="nofollow">
            2.8、@Disabled
           </a>
          </li>
          <li>
           <a href="#29RepeatedTest_79" rel="nofollow">
            2.9、@RepeatedTest
           </a>
          </li>
         </ul>
        </li>
        <li>
         <a href="#Junit5__87" rel="nofollow">
          三、Junit5 套件执行
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <h3>
     <a id="Junit5_6">
     </a>
     一、添加Junit5依赖
    </h3>
    <p>
     Spring Boot 2.2.0 版本开始引入 JUnit 5 作为单元测试默认库；在 Spring Boot 2.2.0 版本之前，spring-boot-starter-test 包含了 JUnit 4 的依赖；
    </p>
    <p>
     如何查看SpringBoot的版本：
    </p>
    <ul>
     <li>
      第一种方法：
     </li>
    </ul>
    <pre><code class="prism language-java"> <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	 <span class="token class-name">String</span> springVersion <span class="token operator">=</span> <span class="token class-name">SpringVersion</span><span class="token punctuation">.</span><span class="token function">getVersion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	 <span class="token class-name">String</span> springBootVersion <span class="token operator">=</span> <span class="token class-name">SpringBootVersion</span><span class="token punctuation">.</span><span class="token function">getVersion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre>
    <p>
     运行结果：
    </p>
    <pre><code class="prism language-java"><span class="token class-name">Spring</span>版本<span class="token operator">:</span><span class="token number">5.3</span><span class="token number">.18</span>
<span class="token class-name">SpringBoot</span>版本<span class="token operator">:</span><span class="token number">2.6</span><span class="token number">.6</span>
</code></pre>
    <ul>
     <li>
      第二种方法：
      <br/>
      看配置文件：
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/f4d20585d3ce742fb93229bbb11f3ccd.png">
       <br/>
       因为springboot 版本为2.6.6，默认引入的就是junit5，故不需要再额外引入依赖。
       <br/>
       pom.xml 文件中默认依赖如下：
      </img>
     </li>
    </ul>
    <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <p>
     <font color="red">
      但是但是
     </font>
     ， 在用junit5进行套件测试的时候发现报错无法识别 @RunWith(JUnitPlatform.class) ，我就意识到默认的依赖
     <font color="red">
      不全
     </font>
     ，所以直接果断引入依赖，如下：
    </p>
    <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.junit.jupiter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit-jupiter-engine<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.6.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.junit.platform<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit-platform-runner<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.6.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <h3>
     <a id="Junit5__53">
     </a>
     二、Junit5 常用注解
    </h3>
    <h4>
     <a id="21Test_54">
     </a>
     2.1、@Test
    </h4>
    <p>
     表明一个测试方法
    </p>
    <h4>
     <a id="22BeforeAll_56">
     </a>
     2.2、@BeforeAll
    </h4>
    <p>
     表明在所有测试方法执行之前执行的方法，且只执行一次
    </p>
    <h4>
     <a id="23AfterAll_58">
     </a>
     2.3、@AfterAll
    </h4>
    <p>
     表明在所有测试方法执行之后执行的方法，且只执行一次
    </p>
    <h4>
     <a id="24BeforeEach_60">
     </a>
     2.4、@BeforeEach
    </h4>
    <p>
     表明在每个测试方法执行之前都会执行的方法
    </p>
    <h4>
     <a id="25AfterEach_62">
     </a>
     2.5、@AfterEach
    </h4>
    <p>
     表明在每个测试方法执行之后都会执行的风发
     <br/>
     牢记
     <font color="red">
      junit5生命周期的洋葱模型
     </font>
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/3258945ef9044c5455813a35f805601f.png"/>
    </p>
    <h4>
     <a id="26Nested_67">
     </a>
     2.6、@Nested
    </h4>
    <p>
     嵌套测试
    </p>
    <ul>
     <li>
      @Nested标注内部类
     </li>
     <li>
      使得用例保持树状结构，方便用例的管理
      <br/>
      解释如下图所示：
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/9fc96cd6dc42092aa8f8631b118a22a8.png"/>
     </li>
     <li>
      @Nested 内嵌类，结果展示呈现
      <font color="red">
       树状
      </font>
      结构，方便查看
     </li>
     <li>
      多个@Nested，执行顺序从下到上
      <font color="red">
       倒序
      </font>
      进行，所以先执行TestCalculator2的内容
     </li>
    </ul>
    <h4>
     <a id="27DisplayName_74">
     </a>
     2.7、@DisplayName
    </h4>
    <p>
     测试
     <font color="red">
      类或者方法
     </font>
     的显示名称
    </p>
    <h4>
     <a id="28Disabled_76">
     </a>
     2.8、@Disabled
    </h4>
    <p>
     禁用
     <font color="red">
      测试类或者方法
     </font>
    </p>
    <h4>
     <a id="29RepeatedTest_79">
     </a>
     2.9、@RepeatedTest
    </h4>
    <p>
     <font color="red">
      额外
     </font>
     重复执行
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/447db35778e03e22e6c51e05bce1190c.png"/>
    </p>
    <ul>
     <li>
      如图1.1标注，@DisplayName 可以定义显示类的名称，如图1.2标注，@DisplayName 可以定义显示方法的名称
     </li>
     <li>
      如图2的标注，@Disabled ，该方法不执行，会看到方法名称前面有一个禁用的小图标
     </li>
     <li>
      如图3的标注，@RepeatedTest 设置为2，看到该方法再执行了一次之后，又额外重复执行了2遍，所以该方法总共执行了3次。
     </li>
    </ul>
    <h3>
     <a id="Junit5__87">
     </a>
     三、Junit5 套件执行
    </h3>
    <table>
     <thead>
      <tr>
       <th>
        <strong>
         注解
        </strong>
       </th>
       <th>
        <strong>
         作用
        </strong>
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        @RunWith(JUnitPlatform.class)
       </td>
       <td>
        执行套件
       </td>
      </tr>
      <tr>
       <td>
        @SelectPackage({“com.packageA”,“com.packageB”})
       </td>
       <td>
        根据包-
        <font color="red">
         创建套件
        </font>
       </td>
      </tr>
      <tr>
       <td>
        @IncludePackage(“包名”)
       </td>
       <td>
        在套件中，过滤需要执行的测试
        <font color="red">
         包
        </font>
       </td>
      </tr>
      <tr>
       <td>
        @ExcludePackages(“包名”)
       </td>
       <td>
        在套件中，过滤剔除不需要执行的测试包
       </td>
      </tr>
      <tr>
       <td>
        @SelectClasses( {a.class,b.class,c.class} )
       </td>
       <td>
        根据类-
        <font color="red">
         创建套件
        </font>
       </td>
      </tr>
      <tr>
       <td>
        @IncludeClassNamePatterns(“类名”)
       </td>
       <td>
        在套件中，过滤需要执行的测试
        <font color="red">
         类
        </font>
       </td>
      </tr>
      <tr>
       <td>
        @ExcludeClassNamePatterns(“类名”)
       </td>
       <td>
        在套件中，过滤剔除不需要执行的测试类
       </td>
      </tr>
      <tr>
       <td>
        @IncludeTags(“tag”)
       </td>
       <td>
        在套件中，过滤需要执行的测试
        <font color="red">
         方法
        </font>
       </td>
      </tr>
      <tr>
       <td>
        @ExcludeTags(“tag”)
       </td>
       <td>
        在套件中，过滤剔除不需要执行的测试
        <font color="red">
         方法
        </font>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     通过select来创建套件，通过包、类、和方法三个维度来选择需要执行的测试用例。所有条件是
     <font color="red">
      且的关系，求的是交集
     </font>
     。
    </p>
    <p>
     若交集为空，如下图效果：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/3579e967431abf3c9f26f69dc0ffd9f9.png">
      <br/>
      若交集不为空，则执行匹配的用例：
     </img>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/30b6d8297c90229df36d3df8c9f63c5f.png"/>
    </p>
    <p>
     使用classname进行匹配时，需要加上所在的包名（唉～ 好麻烦）
    </p>
    <hr/>
    <blockquote>
     <p>
      文末说明
      <br/>
      推荐博文：
      <a href="https://blog.csdn.net/Hogwartstester/article/details/127071620">
       接口测试经典面试题：Session、cookie、token有什么区别？
      </a>
     </p>
    </blockquote>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f31353238333437352f:61727469636c652f64657461696c732f313237333238343138" class_="artid" style="display:none">
 </p>
</div>


