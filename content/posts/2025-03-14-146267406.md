---
layout: post
title: "redisset-类型基本命令"
date: 2025-03-14 21:10:15 +0800
description: "谈到一个属于，这个术语可能有多种含义，setget集合就是把一些有关联的数据放到一起集合中的元素是无序的（和前面list的有序是对应的）list集合中的元素是不能重复的（唯一的）和list类似，集合中的每个元素，也都是string类型（可以使用JSON这样的格式让string也能存储结构化数据）"
keywords: "【redis】set 类型：基本命令"
categories: ['Redis']
tags: ['缓存', '数据库', 'Redis']
artid: "146267406"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146267406
    alt: "redisset-类型基本命令"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146267406
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146267406
cover: https://bing.ee123.net/img/rand?artid=146267406
image: https://bing.ee123.net/img/rand?artid=146267406
img: https://bing.ee123.net/img/rand?artid=146267406
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【redis】set 类型：基本命令
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <p>
    </p>
    <h2>
     <a id="_1">
     </a>
     基本概念
    </h2>
    <p>
     谈到一个属于，这个术语可能有多种含义，
     <code>
      set
     </code>
    </p>
    <ol>
     <li>
      集合
     </li>
     <li>
      设置（和
      <code>
       get
      </code>
      相对应）
     </li>
    </ol>
    <p>
     集合就是把一些有关联的数据放到一起
    </p>
    <ol>
     <li>
      <p>
       集合中的元素是无序的（和前面
       <code>
        list
       </code>
       的有序是对应的）
      </p>
      <ul>
       <li>
        有序：顺序很重要，变化一下顺序，就是不同的
        <code>
         list
        </code>
        了
       </li>
       <li>
        无序：顺序不重要，变化一下顺序，集合还是那个集合
       </li>
      </ul>
     </li>
     <li>
      <p>
       集合中的元素是不能重复的（唯一的）
      </p>
     </li>
    </ol>
    <p>
     和
     <code>
      list
     </code>
     类似，集合中的每个元素，也都是
     <code>
      string
     </code>
     类型（可以使用
     <code>
      JSON
     </code>
     这样的格式让
     <code>
      string
     </code>
     也能存储结构化数据）
    </p>
    <h2>
     <a id="SADD__SMEMBERS_21">
     </a>
     SADD 和 SMEMBERS
    </h2>
    <ul>
     <li>
      将一个或者多个元素添加到
      <code>
       set
      </code>
      中，重复的元素无法添加到
      <code>
       set
      </code>
      中
     </li>
     <li>
      获取一个
      <code>
       set
      </code>
      中的所有元素，
      <strong>
       元素之间的顺序是无序的！！！
      </strong>
     </li>
    </ul>
    <hr/>
    <p>
     <strong>
      语法：
     </strong>
    </p>
    <pre><code class="prism language-redis">SADD key member [member ...]

SMEMBERS key
</code></pre>
    <p>
     <img alt="image.png|444" src="https://i-blog.csdnimg.cn/img_convert/b66e577b0774f617565cb67e61188c68.png"/>
    </p>
    <ul>
     <li>
      <code>
       SADD
      </code>
      返回值：所有元素的列表
     </li>
     <li>
      <code>
       MEMBERS
      </code>
      返回值：1 表示元素在
      <code>
       set
      </code>
      中。0 比哦啊是元素不在
      <code>
       set
      </code>
      中或者
      <code>
       key
      </code>
      不存在
     </li>
    </ul>
    <h2>
     <a id="SCARD_39">
     </a>
     SCARD
    </h2>
    <p>
     获取一个
     <code>
      set
     </code>
     的基数（
     <code>
      cardinality
     </code>
     ），即
     <code>
      set
     </code>
     中的元素个数
    </p>
    <hr/>
    <p>
     <strong>
      语法：
     </strong>
    </p>
    <pre><code class="prism language-redis">SCARD key
</code></pre>
    <ul>
     <li>
      返回值：
      <code>
       set
      </code>
      中元素的个数
      <img alt="image.png|352" src="https://i-blog.csdnimg.cn/img_convert/2b022486233228c6ede56ae7f39250fa.png"/>
     </li>
    </ul>
    <h2>
     <a id="SPOP_51">
     </a>
     SPOP
    </h2>
    <p>
     从
     <code>
      set
     </code>
     中删除并返回一个或者多个元素。注意，由于
     <code>
      set
     </code>
     内的元素是无序的，所以取出哪个元素实际是未定义行为，即可以看做随机的
    </p>
    <hr/>
    <p>
     <strong>
      语法：
     </strong>
    </p>
    <pre><code class="prism language-redis">SPOP key [count]
</code></pre>
    <ul>
     <li>
      返回值：取出的元素
      <img alt="image.png|281" src="https://i-blog.csdnimg.cn/img_convert/f170b446d14c658e8f57144fea7d8312.png"/>
     </li>
    </ul>
    <blockquote>
     <p>
      在
      <code>
       Redis
      </code>
      源码中，针对
      <code>
       spop
      </code>
      实现的时候，就采取了“生成随机数”的方式
     </p>
    </blockquote>
    <h2>
     <a id="SRANDMEMBER_65">
     </a>
     SRANDMEMBER
    </h2>
    <p>
     随机返回元素, 一个或多个
    </p>
    <hr/>
    <p>
     <strong>
      语法：
     </strong>
    </p>
    <pre><code class="prism language-redis">SRANDMEMBER key
</code></pre>
    <ul>
     <li>
      返回随机到的元素
      <img alt="image.png|221" src="https://i-blog.csdnimg.cn/img_convert/be82123396212febe377d4adc30a31d6.png"/>
     </li>
    </ul>
    <h2>
     <a id="SMOVE_78">
     </a>
     SMOVE
    </h2>
    <p>
     将元素从源
     <code>
      set
     </code>
     取出并放入目标
     <code>
      set
     </code>
     中
    </p>
    <hr/>
    <p>
     <strong>
      语法：
     </strong>
    </p>
    <pre><code class="prism language-redis">SMOVE source destination member
</code></pre>
    <ul>
     <li>
      1 表示移动成功，0 表示失败
      <img alt="image.png" src="https://i-blog.csdnimg.cn/img_convert/f8b4cc61f81dcf73da7e971b8a988d4b.png"/>
     </li>
    </ul>
    <h2>
     <a id="SREM_88">
     </a>
     SREM
    </h2>
    <p>
     将制定的元素从
     <code>
      set
     </code>
     中删除
    </p>
    <hr/>
    <p>
     <strong>
      语法：
     </strong>
    </p>
    <pre><code class="prism language-redis">SREM key member [member ...]
</code></pre>
    <ul>
     <li>
      返回值：本次操作删除的元素个数
      <img alt="image.png" src="https://i-blog.csdnimg.cn/img_convert/6e79242232f4ecb601e03244cbc1e568.png"/>
     </li>
    </ul>
    <h2>
     <a id="_99">
     </a>
     集合间操作
    </h2>
    <p>
     交集（
     <code>
      inter
     </code>
     ）、并集（
     <code>
      union
     </code>
     ）、差集（
     <code>
      diff
     </code>
     ）
    </p>
    <ul>
     <li>
      交集：最终结果同时出现在两个集合中
     </li>
     <li>
      并集：把多个集合中的数据都集中放在一起，如果有元素重复，也最终只保留一份
     </li>
     <li>
      <code>
       A
      </code>
      和
      <code>
       B
      </code>
      做差集，就是找出哪些元素，在
      <code>
       A
      </code>
      中存在，同时再
      <code>
       B
      </code>
      中不存在
      <img alt="image.png|381" src="https://i-blog.csdnimg.cn/img_convert/edb60bfe966fe0eb6b8a70768fa00252.png"/>
     </li>
    </ul>
    <h3>
     <a id="SINTER_108">
     </a>
     SINTER
    </h3>
    <p>
     获取给定
     <code>
      set
     </code>
     的交集中的元素
    </p>
    <hr/>
    <p>
     语法：
    </p>
    <pre><code class="prism language-redis">SINTER key [key ...]
</code></pre>
    <ul>
     <li>
      返回值：交集的元素
      <img alt="image.png|331" src="https://i-blog.csdnimg.cn/img_convert/7a8b064473173cfa8957ab77ec0662d7.png"/>
     </li>
    </ul>
    <h3>
     <a id="SINTERSTORE_120">
     </a>
     SINTERSTORE
    </h3>
    <p>
     获取给定
     <code>
      set
     </code>
     的交集中的元素并保存到目标
     <code>
      set
     </code>
     中
    </p>
    <hr/>
    <p>
     <strong>
      语法：
     </strong>
    </p>
    <pre><code class="prism language-redis">SINTERSTORE destination key [key ...]
</code></pre>
    <ul>
     <li>
      返回值：交集的元素个数
      <img alt="image.png" src="https://i-blog.csdnimg.cn/img_convert/46d55c82a72794e45c2fd2aafe3d0cb0.png"/>
     </li>
    </ul>
    <h3>
     <a id="SUNION_136">
     </a>
     SUNION
    </h3>
    <p>
     获取给定
     <code>
      set
     </code>
     的并集中的元素
    </p>
    <hr/>
    <p>
     <strong>
      语法：
     </strong>
    </p>
    <pre><code class="prism language-redis">SUNION key [key ...]
</code></pre>
    <ul>
     <li>
      返回值：并集的元素
      <img alt="image.png|268" src="https://i-blog.csdnimg.cn/img_convert/7c177a7e8c02d2f5bd9b9d8e60848ea6.png"/>
     </li>
    </ul>
    <h3>
     <a id="SUNIONSTORE_149">
     </a>
     SUNIONSTORE
    </h3>
    <p>
     获取给定
     <code>
      set
     </code>
     的并集中的元素并保存到目标
     <code>
      set
     </code>
     中
    </p>
    <hr/>
    <p>
     <strong>
      语法：
     </strong>
    </p>
    <pre><code class="prism language-redis">SUNIONSTORE destination key [key ...]
</code></pre>
    <ul>
     <li>
      返回值：并集的元素个数
      <img alt="image.png" src="https://i-blog.csdnimg.cn/img_convert/1ff8efb7fd2903d7314bdfe627064b15.png"/>
     </li>
    </ul>
    <h3>
     <a id="SDIFF_164">
     </a>
     SDIFF
    </h3>
    <p>
     获取给定
     <code>
      set
     </code>
     的差集中的元素
    </p>
    <hr/>
    <p>
     <strong>
      语法：
     </strong>
    </p>
    <pre><code class="prism language-redis">SDIFF key [key ...]
</code></pre>
    <ul>
     <li>
      返回值：差集的元素
      <img alt="image.png" src="https://i-blog.csdnimg.cn/img_convert/edc6dc27afef3d1706dd43ef55989375.png"/>
     </li>
    </ul>
    <h3>
     <a id="SDIFFSTORE_179">
     </a>
     SDIFFSTORE
    </h3>
    <p>
     获取给定
     <code>
      set
     </code>
     的差集中的元素并保存到目标
     <code>
      set
     </code>
     中
    </p>
    <hr/>
    <p>
     <strong>
      语法：
     </strong>
    </p>
    <pre><code class="prism language-redis">SDIFFSTORE destination key [key ...]
</code></pre>
    <ul>
     <li>
      返回值：差集的元素个数
      <img alt="image.png" src="https://i-blog.csdnimg.cn/img_convert/f5262e2c2a50e045db093fa36e0327bf.png"/>
     </li>
    </ul>
    <h2>
     <a id="_194">
     </a>
     命令小结
    </h2>
    <p>
     <img alt="image.png" src="https://i-blog.csdnimg.cn/img_convert/6f175025aceaab3bd59d7f14f234476d.png"/>
    </p>
    <h2>
     <a id="_201">
     </a>
     内部编码
    </h2>
    <p>
     <code>
      intset
     </code>
     （整数集合）
    </p>
    <ul>
     <li>
      <p>
       为了节省空间，做出的特定优化。当元素均为整数，并且元素个数不是很多的时候
      </p>
     </li>
     <li>
      <p>
       <code>
        hashtable
       </code>
       （哈希表）
      </p>
     </li>
    </ul>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470:733a2f2f626c6f672e6373646e2e6e65742f5965656561722f:61727469636c652f64657461696c732f313436323637343036" class_="artid" style="display:none">
 </p>
</div>


