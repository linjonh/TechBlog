---
arturl_encode: "68747470733a2f2f:626c6f672e6373646e2e6e65742f51515f686f76657265722f:61727469636c652f64657461696c732f313236353633303839"
layout: post
title: "自考-02326操作系统2017版课后习题答案"
date: 2022-08-27 22:00:36 +0800
description: "第一章操作系统概论1.什么是操作系统？操作系统是计算机系统中的一个"
keywords: "解释下列术语逻辑地址绝对地址地址重定位"
categories: ['自考']
tags: ['其他', 'Windows', 'Linux']
artid: "126563089"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=126563089
    alt: "自考-02326操作系统2017版课后习题答案"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=126563089
featuredImagePreview: https://bing.ee123.net/img/rand?artid=126563089
---

# 自考-02326操作系统(2017版)课后习题答案

#### 目录

* [第一章操作系统概论](#_2)
* [第二章 操作系统运行环境](#__107)
* [第三章 线程与进程](#__206)
* [第四章 进程的同步与互斥](#__334)
* [第五章 死锁](#__379)
* [第六章 存储管理](#__449)
* [第七章 文件系统](#__563)
* [第八章 I/O设备管理](#_IO_679)

## 第一章操作系统概论

1.什么是操作系统？请说明操作系统在计算机系统中的作用和地位。
  
操作系统是计算机系统中的一个系统软件，它是这样一些程序模块的集合，他们能够有效地组织和管理计算机中的硬件和软件资源，合理地控制计算机工作流程，控制程序的执行，并向用户提供各种服务功能，使用户能够灵活、方便、有效的使用计算机，并使整个计算机系统能高效运行。

2.操作系统管理计算机系统的哪些资源？
  
硬件和软件资源。

3.请从资源管理角度说明操作系统的主要功能。
  
进程管理（处理器管理）、存储管理、文件管理、作业管理、设备管理

4.操作系统有哪些基本特征？
  
并发性：计算机系统中同时存在若干个正在运行着的程序。
  
共享性：操作系统程序和多个用户程序共享系统中的各种资源。
  
随机性：操作系统的运行是在一种随机的环境下进行的。

5.比较Windows、UNIX、Linux操作系统的体系结构，有什么异同？
  
Windows体系结构是分成的模块系统，主要层次有硬件抽象层HAL、内核、执行体和大量的子系统结合
  
UNIX操作系统的系统架构图，其最里层是硬件，作为整个系统的基础；其次是操作系统内核，包括进程管理、存储器管理、设备管理和文件管理四个资源管理功能；往外一层是系统调用接口，及操作系统与用户的接口shell以及编译程序等；最外层是应用程序
  
Linux系统有四个主要部分，及内核、shell、文件系统和应用程序

6.Android操作系统有什么特点？
  
Android操作系统分为四层，从高层到低层分别是应用程序层、应用框架层、系统运行库层和Linux内核层。
  
以Linux为核心的手机操作平台，是一款开放式操作系统。

7.手机操作系统通常提供哪些功能？
  
实时性、可靠性、易于链接

8.请叙述各种类型操作系统的工作方式及特点。
  
一般把操作系统分为三种基本类型：批处理操作系统，分时系统和实时系统
  
(1)批处理操作系统
  
批处理操纵系统分为简单批处理系统和多道批处理系统两种类型。
  
用户将作业交给系统操作员，系统操作员在收到作业后并不立即将作业输入计算机，而是在收到一定数量的作业后，组成一批作业，再把这批作业输入到计算机中。这批作业可在系统中形成一个连续的、自动转接的作业流。系统操作员然后启动操作系统，系统自动、依次执行每个作业。最后由操作员将执行完毕的作业结果交给用户。
  
批处理操作系统的特点是成批处理。
  
(2)分时系统
  
分时操作系统是为了弥补批处理系统不能提供交互式快速服务的缺点而发展起来的。一台计算机主机链接了若干个终端，每个终端可由一个用户使用。用户通过终端交互式的向系统提出命令请求，系统接受用户的命令后，采用时间片轮转方式处理服务请求，并通过交互方式在终端上向用户显示结果。用户根据系统送回的处理结果发出下一道交互指令。
  
分时操作系统具有多路性、交互性、独占性、及时性的特点
  
(3)实时系统
  
使计算机能在规定的时间内，及时响应外部事件的请求，同时完成对该事件的处理，并能控制所有实时设备和实时任务协调一致地工作的操作系统。目标是，在严格地时间范围内，对外部请求做出反应，系统具有高度可靠性。
  
实时系统主要有两类：硬实时系统，软实时系统
  
(4)嵌入式操作系统
  
嵌入式操作系统就是运行在嵌入式芯片环境中，对整个芯片以及它所操作、控制的各种部件装置等资源进行统一协调、调度、指挥和控制的系统软件。
  
嵌入式操作系统具有可靠性、实时性、占有资源少、智能化能源管理、易于连接、低成本等优点。
  
(5)个人计算机操作系统
  
个人计算机操作系统是一种单用户多任务的操作系统。其主要特点是：为单个用户服务；采用图形界面人机交互的工作方式，界面友好；使用方便，用户无须具备专门知识，也能熟练地操作系统。
  
(6)网络操作系统
  
为计算机网络配置地操作系统称为网络操作系统。网络操作系统是基于计算机网络地、在各种计算机操作系统之上按照网络体系结构协议标准设计开发的软件，包括网络管理、通信、安全、资源共享和各种网络应用。
  
计算机网络有：集中式模式、分布式模式
  
(7)分布式操作系统
  
分布式操作系统是网络操作系统的更高级形式，除了有网络操作系统的功能之外，其特征是，系统中所有主机使用同一个操作系统、资源深度共享、透明性、自治性

9.请比较批处理系统、分时系统以及实时系统之间的相同点和不同点。
  
相同点：这三类操作系统均为现代计算机系统中普遍使用的操作系统，操作系统本身以及它所管理的对象都是并发的系统，是一个极其复杂和庞大的软件系统。
  
不同点：批处理操作系统的特点是成批处理，用户不能干预自己作业的远行；分时系统的特点是多路性、交互性、独占性和及时性；实时操作系统的特点是能在严格的时间范围内对外部请求做出反应，以及具有高度可靠性。

10.请描述分时系统下响应时间的含义。
  
分时系统中，常把用户从终端发出命令到系统给予回答的时间定义为响应时间。

11.在什么情况下应该采用批处理方式？在什么情况下应该考虑分时系统策略？
  
批处理系统适用于追求系统资源利用率高、作业吞吐率高的计算机系统。
  
分时系统适用于需要提供交互式快速服务的计算机系统。

12.现代的通用操作系统把批处理方式和分时方式二者结合起来，为什么要这样做？这样的结合有什么特点？
  
这样的操作系统结合了批处理和分时两种系统的特点，该系统把处理终端用户的、交互式的、比较小的但需要及时处理的作业作为‘前台作业’予以优先处理；把需要较长运行时间、要调用其他外部设备、比较大型但无须终端用户干预的且不需要立即处理的作业作为‘后台作业’进行批处理。这样，使整个计算机系统忙闲结合，能更有效地利用计算机系统地资源。

13.实时操作系统有什么主要特征？
  
在严格的时间范围内，对外部请求做出反应，系统具有高度可靠性。

14.在如下的应用场合中，应该选用什么类型的操作系统？并请说明为什么。
  
导弹控制：实时操作系统
  
国家统计局：通用的分时/批处理操作系统
  
汽车发动机点火控制：实时操作系统
  
火车订票系统：网络操作系统
  
互联网电子游戏：网络操作系统

15.请说明什么是SPOOLing技术？在现代操作系统中有没有使用SPOOLing技术？
  
SPOOLing技术的全称是‘同时的外部设备联机操作’。该技术是用磁盘设备作为主机的直接输入输出设备，主机直接从磁盘上选取作业运行，作业的执行结果也存在磁盘上，通道负责将用户作业从外设动态写入磁盘，并使这一操作与主机并行。从而大大提高了处理器和各种外部设备的利用效率。由于SPOOLing技术需要通道技术，所以一般用于大型计算机系统和那些对I/O处理能力要求比较严格的系统中，一般低档 微型计算机中，不使用此技术

16.网络操作系统和分布式操作系统都是配置在计算机网络上的操作系统，他们之间有什么本质上的不同？
  
网络操作系统使基于计算机网络的，是在各种计算机操作系统之上按网络体系结构协议标准设计开发的软件，它包括网络管理、通信、安全、资源共享和各种网络应用。分布式操作系统使网络操作系统的更高级形式，除了有网络操作系统的功能之外，其特征是系统中所有主机使用同一个操作系统、资源的深度共享、透明性和自治性

17.操作系统设计的过程包括哪些方面？在每个方面都要考虑什么问题？
  
操作系统的设计过程包括功能设计、算法设计、结构设计。在每个方面均应考虑使操作系统具有可靠性、高效性、易维护性、可移植性、安全性和简明性等问题。

18.操作系统的设计目标是什么？
  
目标有三条：系统模块化、模块标准化、通信规范化

19.影响操作系统正确性的因素有哪些？
  
影响操作系统正确性的因素包括操作系统的功能成分多、各种外部设备的接口复杂、参与开发的人员较多

20.在进行操作系统结构设计时应考虑哪些问题？
  
应考虑组成操作系统的各部分的划分原则以及它们之间的关系（即通信），简言之，即操作系统的构成法和组成方法。

21.请说明模块组合法、层次式结构和客户/服务器结构的基本思想以及优缺点。
  
整体式结构（模块组合法）的基本思想是首先确定操作系统的总体功能，然后将总功能分解成若干子功能，实现每个子功能的程序称为模块，再通过接口将所有模块链接起来形成一个操作系统的整体。
  
优点：结构紧密、接口简单直接、系统效率高。
  
缺点：模块间转接随便，各模块互相牵连，独立性差，系统结构不清晰；数据基本上作为全程量处理，模块的修改和维护较困难；由于模块组合结构常以大型表格为中心，限制了系统的并发性。
  
层次式结构的基本思想式为克服模块结构的缺点、减少各模块之间无规则的相互调用、相互依赖关系，力求将模块间的调用的无序性变为有序性，将操作系统的所有功能模块按功能流程图的调用次序，将模块分成若干层，各层之间的模块只能是单向依赖或单向调用关系
  
优点：既具有模块法把整体问题分解成局部化的优点，使各模块自己的组织结构和依赖关系清晰明了，增加了系统的可读性和可适应性，增加了系统的可靠性，易于调试、易于修改、易于扩充、易于维护等。
  
微内核（客户/服务器）结构适宜于应用在网络环境下分布式处理的计算机环境中
  
优点：将系统的分成若干个小的并且自包含的服务进程分支，每个分支运行在独立的用户进程中，相互之间通过规范一致的方式接受发送消息而联系起来。优点：可靠、灵活、适宜于分布式处理的计算环境
  
缺点：效率较低

## 第二章 操作系统运行环境

1.请简述处理器的组成和工作原理。你认为哪些部分和操作系统密切相关，为什么？
  
处理器一般由运算器、控制器、一系列的寄存器以及告诉缓存构成。其中，运算器实现指令中的算数和逻辑运算，是计算机的核心。控制器负责控制程序运行的流程。寄存器是一种暂时存储器件，用于CPU执行指令的过程中暂存数据、地址及指令信。CPU本身提供了一定的存储能力，但容量很小。处理器中的运算器、控制器、寄存器都与操作系统密切相关、操作系统就是通过对处理器中的这些部件来实现程序的运算和程序流程的控制的。

2.为了支持操作系统，现代处理器一般都提供哪几种工作状态，以隔离操作系统和普通程序？每种状态各有什么特点？
  
现代处理器一般都提供管态和目态等两种工作状态。用户在目态下运行，只能使用非特权指令，具有较低的特权级别；操作系统在管态下运行，可以使用特权指令和非特权指令，具有较高的特权级别。

3.计算机系统中既有操作系统程序，又有用户程序，什么情况下操作系统程序才能占用中央处理器？
  
当用户程序占用CPU时，CPU在目态下运行，只能使用非特权指令；当需要使用特权指令时，将引起一次处理器状态的切换，此时处理器通过中断机制，将目态转换为管态，然后将处理权移交给操作系统中的一段代码，操作系统才能占用cpu。从目态变为管态其转换的唯一途径是通过中断。

4.为什么要把“启动I/O”等指令定义为特权指令？
  
因为如果允许用户随便使用这些指令，就有可能使系统陷入混乱。

5.怎样限制用户程序中使用特权指令？
  
当用户程序占用CPU时，CPU在目态下运行，只能使用非特权指令；若此刻CPU取到了一条特权指令，形成“非法操作”事件，CPU就拒绝执行该只能怪。中断机制识别到该事件，运行状态就从目态变为管态，将控制权转给操作系统，通过操作系统通知用户修改。

6.什么是分级的存储体系结构？它主要解决了什么问题？
  
计算机存储系统的设计主要考虑容量、速度和成本三个问题。容量是存储系统的基础，都希望配置尽可能大的存储系统；同时要求存储系统的读写速度能与处理器的速度相匹配；此外成本也应该在一个合适的范围之内。但这三个目标不可能同时达到最优。一般情况下，存储设备读写速度越快，平均单位容量的价格越高，存储容量越小；反之，存储设备读写速度越慢，平均单位容量的价格越低，存储容量越大。为了在这三者之间取得平衡，就采用分级的存储体系结构，由寄存器、高速缓存、主内存、硬盘存储器、磁带机和光盘存储器等构成。操作系统经常访问 较小、较贵而快速的存储设备，以较大、较便宜而读写速度较慢的存储设备作后盾。在整体上通过对访问频率的控制来提高存储系统的效能。

7.请简述程序局部性原理。
  
是指程序在执行时呈现出局部性 规律，即在一段时间内，整个程序的执行仅限于程序中的某一部分。相应地，执行 所访问的存储空间也局限于某个内存区域。

8.什么是存储保护，由哪些方法实现存储保护？
  
存储在内存中的用户程序和操作系统以及他们的数据，有可能受到正在CPU上运行的某用户程序的有意或无意的破坏，这会造成十分严重的后果。一旦有程序向操作系统写入了数据，将有可能造成系统崩溃。对内存中的信息加以严格的保护，使操作系统及其他程序布被破坏，使其正确运行的基本条件之一。
  
界地址寄存器使被广泛使用的一种存储保护技术。其方法是在处理器中设置一对界限寄存器来存储该用户作业在内存中的上限和下限地址，分别称为下限寄存器和上限寄存器。也可将一个 寄存器作为基址寄存器，另一寄存器作为限长寄存器（指示存储区长度）的方法来指出程序在内存中的存储区域。每当处理器要访问内存时，硬件自动将被访问的内存地址与界限寄存器的内容进行比较，以判断是否越界。如果未越界，则按此地址访问内存，否则将产生程序中断----越界中断或称为存储保护中断。

9.操作系统与硬件如何配合来实现存储保护的？
  
操作系统通过与硬件中的界地址寄存器实现存储保护。其方法是在CPU中设置一对界限寄存器来存放某个作业在内存中的下限和上限地址，或者一个寄存器作为基址寄存器，另一个作为限长寄存器。每当CPU访问内存时，硬件自动将被访问的内存地址与界限寄存器的内容进行比较，以判断是否越界。如果未越界，则按此地址访问内存，否则将产生越界中断。

10.常见的I/O控制技术有哪些？各有什么特点？
  
（1）通道
  
通道是独立于中央处理器的，专门负责数据I/O传输工作的处理单元。代替处理器对外部设备实行统一的管理，从而使处理器与外部设备并行工作，提高了多道程序处理的效率。
  
（2）DMA技术
  
DMA技术由DMA控制器自动控制成块数据在内存I/O单元之间的传送，提高了处理I/O的能力。

11.缓冲技术在计算机系统中起着什么样的作用，它是如何工作的？
  
缓冲技术是用在外部设备与其他硬件部分之间的一种数据暂存技术。用以缓解处理器处理数据速度与设备传输数据速度之间不匹配矛盾的一种数据暂存技术。

12.时钟对操作系统有什么重要作用？
  
计算机系统中的时钟可分为硬件时钟和软件时钟，以及绝对时钟和相对时钟。时钟可以防止系统陷入死循环，实现作业按时间片轮转进行，给出正确的时间信号，定时唤醒事先按确定时间执行的时间，记录事项等。

13.硬件时钟怎样实现，其作用是什么？
  
硬件时钟的工作原理是，在电路中的晶体振荡器，每隔一定间隔产生固定的脉冲频率，时钟电路中的时钟寄存器依据时钟电路所产生的脉冲数，对时钟寄存器进行加1的工作。

14.软件时钟怎样实现，其作用是什么？
  
软件时钟，常用作相对时钟，它的工作原理主要是利用内存单元模拟时钟寄存器，并采用一段程序来计算响应的脉冲数，对内存时钟寄存器进行加1或减1的工作，从而模拟了时钟的功能。

15.什么是中断，为什么说中断对现代计算机很重要？
  
中断是指处理器对系统外所发生的异步事件的响应。异步事件是指无一定时序关系的随机发生的事件。中断时所有要打断CPU的正常工作次序，并要求其去处理某一事件的一种常用手段。中断技术解决了主机和外设并行工作的问题，消除了因外设的慢速而使得主机等待的现象，为多机操作和实时处理提供的硬件基础。

16.中断的作用是什么？
  
能充分发挥处理器的使用效率。因为输入输出设备可以用中断的方式同 处理器通信，报告其完成处理器所要求的数据传输的情况和问题，这样可以免除处理器不断地查询和等待，从而大大提高处理器的效率。
  
提高系统的实时能力。因为具有较高实时处理要求的设备，可以通过中断方式请求及时处理，从而使处理器立即运行该设备的处理程序（也是该中断的中断处理程序）。

17.中断的向量是什么，其作用是什么？
  
引起中断的事件称为中断事件或中断源，计算机系统提供的中断源的有序集合称为中断字。处理某一种中断事件的程序称为中断处理程序。为了使中断装置便于找到所需的中断处理程序，专门设计了中断处理程序入口地址映射表，称为中断向量表，表中的每一项称为中断向量，主要由程序状态字PSW和程序计数器PC的值组成。中断向量的作用是通过它可以找到中断处理程序在内存种的存储位置。

18.中断响应主要做哪些工作？
  
处理器接收中断信号；
  
保护现场，将中断断点的程序状态字PSW和程序计数器PC值存入系统堆栈；
  
分析中断向量，取得中断处理程序的入口地址；
  
将处理器的PC值置为中断处理程序的入口地址；
  
调用中断处理程序。

19.中断处理的主要步骤是什么？
  
中断处理指中断信号已经被中断系统的硬件中断装置接收和响应之后，相应的中断处理程序进行中断处理的步骤。包括检查I/O相关的状态信息，操纵I/O设备或者在设备和内存之间传送数据。在中断处理程序结束工作之后，处理器会检测到一条中断返回指令，处理器执行此指令，把恢复中断时所保护的中断断点现场，处理器也恢复成被中断时的状态，整个中断处理结束。

20.为什么要对中断进行屏蔽？
  
如果没有中断屏蔽，当中断装置响应了某个中断后中断处理程序在进行处理时，中断装置也可能去响应另一个中断事件，就会出现优先级低的中断事件的处理打断优先级高的中断事件的处理，使得中断事件的处理顺序与响应顺序不一致，而且会形成多重嵌套处理，使多现场保护、程序返回等工作变得复杂。因此设置中断屏蔽。

21.多个中断同时发生时，系统是怎样处理的？
  
同时又多个中断请求时，系统接收只能高端优先级最高的中断而忽略其中中断优先级较低的中断。如果同一中断级中的多个设备接口都有中断请求，则按照固定的优先数或者轮转法确定响应的顺序。
  
对多个中断的处理策略一般有两种:
  
（1）正当处理一个中断时，此时系统将对任何新发生的中断置之不理。在这期间发生的中断将保持挂起状态。当处理器再次允许中断时，这个新的中断信号会被处理器检测到，并作出处理。
  
（2）中断嵌套。即按照优先度分级，允许优先级较高的中断打断优先级较低的中断处理过程，于是引起中断处理的嵌套。

22.阐述硬件中的中断装置的左右。
  
硬件的中断装置负责捕获中断源发出的中断请求，并以一定的方式响应中断源（将中断现场的程序状态字PSW，指令计数器PC的值和其他重要现场信息压入系统堆栈），然后将处理器的控制权交给与中断源相应的中断处理程序。
  
硬件中断装置接收中断信号，并把中断信号寄存在中断寄存器中。

23.哪些中断时间一定会引起进程状态的变化，哪些中断事件可能引起进程状态的变化，有不引起进程状态变化的中断事件吗？
  
一定会引起进程状态变化的中断事件：硬件故障中断、输入输出中断、自愿中断；
  
可能会引起变化的中断事件：外部性中断事件、程序性中断事件。
  
进程在执行中状态会不断地改变，每个进程在任何时刻总是处于三种基本状态之一：等待态、就绪态、运行态。中断事件是否引起进程状态的变化，还要看该中断事件的中断优先级和进程PSW的中断屏蔽位。硬件故障中断和自愿中断是一定会引起进程状态变化的，而其他中断则可能引起进程状态变化。

24.操作系统为什么要提供‘系统调用’？
  
系统调用时操作系统为用户程序提供的一种服务界面，也可以说是操作系统保证程序设计语言能正常工作的一种支持。在源程序一级，用户用程序设计语言描述算题任务的逻辑要求，比如读文件、写文件、请求主资源等。这些要求的实现只有通过操作系统的系统调用才能完成，其中有些要求还必须执行硬件的特权指令才能达到目的。
  
为了从操作系统中获得服务，用户程序必须使用系统调用，系统调用陷入内核并调用操作系统。系统调用是操作系统提供给编程人员的唯一接口。

25.在操作系统中实现系统调用机制应该解决哪些问题？
  
进程控制、文件操作、进程通信、设备管理、信息维护等等。

26.当应用程序执行到系统调用时，系统时如何处理的？
  
当用户使用操作系统调用时，产生一条相应的指令（异常指令），处理器在执行到该指令时发生相应的中断，并发出有关信号给该处理机构（异常处理机构）；该处理机构在收到了处理器发生的信号后，启动相关的处理程序去完成该系统调用所要求的功能。
  
当用户使用操作系统调用时，通过使用访管指令产生中断，把目态切换成管态，并启用操作系统。访管指令包含对应系统调用的功能号。

## 第三章 线程与进程

1.什么是多道程序设计？
  
允许多个程序同时进入内存并运行。

2.多道程序设计怎样提高系统效率？多道程序设计一定能提高系统效率吗？
  
采用多道程序设计能改善资源使用情况，提高系统效率。但是，采用多道程序设计也存在一些问题。
  
（1）可能延长程序的执行时间
  
（2）系统效率的提高有一定限度

3.操作系统为什么要引入“进程”？进程和程序有什么区别？
  
为了更好的描述程序的并发执行，实现操作系统的并发性和共享性，引入进程的概念。
  
进程和程序既有联系又有区别。
  
（1）进程和程序的联系
  
程序是构成进程的组成部分之一，一个进程的运行目标是执行它所对应的程序，如果没有程序，进程就失去了其存在的意义。从静态的角度看，进程是由程序、数据和进程控制块PCB三部分组成的。
  
（2）进程和程序的区别
  
程序是静态的，而进程是动态的。进程的程序的一个执行过程。程序的存在是永久的。而进程是为了程序的一次执行而暂时存在的。进程有生命周期，有诞生，亦有消亡。一个进程可以包括若干程序的执行，而一个程序亦可以产生多个进程。

4.程序的并发执行有什么特点？并发和并行有什么区别？
  
程序的并发执行的特点有：
  
（1）在执行期间并发程序相互制约
  
（2）程序与计算不再一一对应
  
（3）并发程序的执行结果不再可现
  
程序的并行执行和并发执行存在差别。前者是指不论从宏观的时间周期上看，还是从微观上看，若干程序确实在同时运行；而程序的并发执行，如果在单处理器系统中，它们在宏观上是同时进行的，但在微观上，这些程序仍然是顺序执行的。

5.可再入程序有什么特性？
  
能够被多个用户同时调用的程序称作是可再入的程序。可再入程序必须是纯代码的程序，程序在执行中不会修改自身的代码。可再入程序的操作对象，即数据，是与程序相分离的。

6.进程有哪些基本状态？它们的变化关系是怎样的？
  
进程有三种基本状态：等待状态、就绪状态、运行状态
  
等待状态：也称阻塞状态或封锁状态。是指进程因等待某种事件发生而暂时不能运行的状态。等待状态——>等待的事件已发生——>就绪态
  
就绪状态：是指一个进程已经具备运行条件，但由于没有获得处理器而不能运行所处的状态。就绪状态——>进程调度——>运行态
  
运行状态：指进程已获得处理器，并且在处理器上执行的状态。运行态——>等待某一事件发生——>等待态。 运行态——>时间片已用完——>就绪态

7.系统中有n(n>1)个进程，在任一时刻，处于运行、就绪和等待状态的进程最多、最少各有多少个？
  
在单处理器系统中，任一时刻，处于运行状态的进程最多只有一个，最少0个；处于就绪状态的进程最多有N-1个，最少为0个；处于等待状态的进程最多有n个，最少有0个

8.进程控制块的作用是什么？其主要内容有哪些？
  
进程控制块是用来描述进程的基本情况以及进程的运行变化过程。进程控制块PCB是进程存在的唯一标志。
  
进程控制块的内容可以分成调度信息和现场信息两大部分。
  
调度信息供进程调度时使用，描述了进程当前所处的状况，它包括进程名、进程号、地址空间信息、优先级、当前状态、资源清单、家族关系、消息队列指针、进程队列指针和当前打开文件等。
  
现场信息刻画了进程的运行情况，只记录了哪些可能会被其他进程改变的寄存器，如程序状态字、时钟、界地址寄存器等。

9.进程能否修改访问自己的进程控制块内容？
  
进程控制块是系统为程序建立的用于标志进程，记录各进程执行情况的。进程本身不能访问或者修改自己的进程控制块的内容，但父进程可以访问或修改其子孙进程的进程控制块内容，以便对它的子孙进程进行必要的管理和控制。

10.当进程调度选中一个进程后，怎样才能让它占用处理器？
  
当进程调度选中一个进程后，把选中进程的进程控制块中有关的现场信息， 如通用寄存器、控制寄存器和程序状态字寄存器的内容送入处理器相应的寄存器中，处理器就按该进程的要求工作，达到了进程占用处理器的目的。

11.为什么要引入线程？线程和进程之间的区别和联系是什么？
  
为了减少程序并发执行时所付出的时间和空间开销，使操作系统具有更好的并发性。
  
线程是进程中的一个实体，是处理器调度和分派的基本单位。进程是拥有资源的独立单位。
  
线程具有许多传统进程的特征，故称为轻量级进程或进程元。

12.为什么说线程间的状态切换比进程间的状态切换开销更低？同一个进程中的两个线程切换的开销是否也比不同进程中两个线程切换的开销少？
  
线程不拥有自己的系统资源，切换状态时只需要保存少量的寄存器内容，不涉及存储器管理方面的操作；而进程拥有自己的系统资源，创建和撤销时都需要进行资源分配或回收，切换状态时需要对整个当前进程的处理器环境进行保存，并对新的被调度的进程处理器环境进行设置，这些操作都需要占用消耗系统资源。
  
同一进程间的线程具有相同的地址空间，共享相同的系统资源，切换方便，而不同进程之间线程切换时则需要进行进程切换，所以同一进程间的线程切换时开销也要小于不同进程中的两个线程切换的开销。

13.进程调度的作用是什么？引起进程调度的因素有哪些？
  
进程调度的作用时：记录系统中所有进程的执行状况；根据一定的调度算法，就就绪队列中选出一个进程，准备把处理器分配给它；把处理器分配给进程。
  
引起进程调度的因素有：
  
（1）正在执行的进程运行完毕。
  
（2）正在执行的进程由于某种错误而终止。
  
（3）时间片用完，即有一个进程从运行状态变为就绪状态。
  
（4）正在执行的进程调用阻塞原语将自己阻塞起来，即一个进程从运行状态进入阻塞状态。
  
（5）创建了新的进程，即有一个新的进程进入就绪队列。
  
（6）正在执行的进程调用了唤醒源于操作激活了等待资源的进程，即一个等待状态的进程变为就绪状态。

14.抢占式调度和非抢占式调度有何区别？
  
可抢占方式，即就绪队列中一旦有优先级高于当前运行进程优先级的进程存在时，便立即进行调度，转让处理器。不可抢占方式，即一旦把处理器分配给一个进程，它就一直占用处理器，直到该进程自己因调用原语操作或等待I/O而进入阻塞状态，或时间片用完时才让出处理器，重新执行进程调度。

15.对于进程调度，较小的优先级值是表示较低的优先级还是表示较高的优先级?
  
不同的操作系统中设定不同。在UNIX和许多其他系统中，大的优先级值表示低优先级进程。许多系统，比如WINDOWS，刚好相反，大数值表示高优先级。

16.在一个单处理器的多道程序设计系统中，现有两道进程同时执行，其中一道以计算为主，另一道以输入输出为主，将怎样赋予进程进程占有处理器的优先数？解释为什么？

17.假定就绪队列中的进程按优先数自大到小顺序排列，当有进程要加入就绪队列时，应按它的优先数排入相应的位置，试就单向连接的方式写出实现进程入队的程序。

18.如下进程：
  
进程 执行时间 优先级 到达时间 开始时间 结束时间 等待时间
  
P1 50ms 4 0ms 0ms 50ms 0
  
P2 20ms 1 20ms 50ms 70ms 50ms
  
P3 100ms 3 40ms 110ms 210ms 110ms
  
P4 40ms 2 60ms 70ms 110ms 70ms
  
(1)分别给出采用最短剩余时间算法、非抢占式优先级算法（优先级值越小，表示优先级越高）和时间片（30ms）轮转算法的调度过程和进程执行序列。
  
(2)计算上述每种调度策略的平均等待时间。
  
答：（1）非抢占式优先算法如图（2）非抢占式优先级算法：（0+50+110+70）/4=57.5ms

19.本章第二节图3-4包含了7个状态。原则上，若在任意两个状态间进行转换，则可能有42种不同的转换。
  
（1）列出所有可能的转换，并举例说明什么事件会触发这些状态转换。
  
（2）列出所有不可能的转换并说明原因
  
答：教材P85 图3-4 略

20.有5个进程P1,P2,P3,P4,P5，它们同时依次进入就绪队列，它们的优先数和需要的处理器时间如表所示：
  
进程 处理器时间/us 优先数
  
P1
  
P2
  
P3
  
P4
  
P5 10
  
1
  
2
  
1
  
5 3
  
1
  
3
  
4
  
2
  
忽略进行调度等所花费的时间，请回答下列问题。
  
（1）写出分别采用先来先服务算法和非抢占式的优先级调度算法选中进程执行的次序。
  
（2）分别计算出上述两种算法使各进程在就绪队列中的等待时间以及两种算法下的平均等待时间。
  
答：（1）执行次序：先来先服务P1-P2-P3-P4-P5。非抢占式优先级P2-P5-P1-P3-P4
  
（2）平均等待时间：先来先服务（0+10+11+13+14）/5=9.6
  
非抢占式优先级（6+0+16+18+1）/5=8.2

21.在分级调度算法中，为什么对不同就绪队列中的进程规定使用不同长度的时间片?
  
因为各个就绪队列的优先级不一样，优先级越高的队列时间片长度越小，优先级越低的队列时间片越长，这样做的目的就是让哪些短而高优先级的作业迅速完成，而又让大的作业能够处理完成。

22.为什么说多级反馈队列调度算法能较好的满足各类用户的需要？
  
多级反馈队列法综合了先进先出调度算法、时间片轮转算法和可抢占式最高优先级算法的一种进程调度算法。

23.系统内核包含哪些功能？内核的特点是什么？
  
系统内核提供下列功能：中断处理程序、进程同步与互斥、进程调度、控制与通信、存储管理的基本操作以及时钟管理等。
  
内核只占整个操作系统代码中的一小部分，就是最接近裸机的部分，内核就是进程赖以活动的基础，内核的功能通过原语操作来实现。

## 第四章 进程的同步与互斥

1.何谓与时间有关的错误？举例说明之。并发进程执行时一定会产生与时间有关的错误码？为什么？
  
并发进程中共享了公共变量，使得程序的计算结果与并发程序执行的速度有关，这种错误的结果又往往是与时间有关的，所以，把它称之为与时间有关的错误。

2.什么是临界区？什么是相关临界区？对相关临界区的使用规则？
  
若在系统中的某些资源一次只允许一个进程使用，则这类资源称为临界资源或共享变量，而在进程中访问临界资源的程序称为临界区。
  
如果又若干进程共享某一临界区，则称该临界区为相关临界区。
  
要求进入相关临界区的进程之间构成了互斥关系。为了保证系统中各并发进程顺利运行，对两个以上欲进入相关临界区的进程，必须实行互斥。

3.若用P、V操作管理某一组相关临界区，其信号量S的值在[-1,1]之间变化，当S=-1,S=0,S=1时，它们各自的物理含义是什么？
  
当S>0时，S值的大小表示某类可用资源的数量，即表示有该类资源可以分配。
  
当S<0时，表示没有可分配的资源数量，其S的绝对值表示排在S信号量的等待队列中进程的数目。

4.两个并发执行的进程A和B的程序如下：
  
进程A while(true) {N=N+5;}; 进程B while(true) {打印N的值； N=0；} ；
  
其中，N为整数，初值为4.若进程A先执行了三个循环后，进程A和进程B又并发执行了一个循环，写出可能出现的打印值。正确的打印值应该是多少？请用P、V操作进行管理，使进程A和B并发执行时不会出现与时间有关的错误。

5.a，b两点之间有一段单行车道，现在设计一个自动管理系统，管理规则如下：允许同方向的车同时驶入ab段，但另一方向的车必须在ab段外等待；当ab之间无车辆在行驶时，到达a点（或b点）的车辆可以进入ab段，但不能从a点和b点同时驶入；当某方向在ab段行驶的车辆驶出了ab段且暂无同方向的车进入ab段时，应让另一方向等待的车辆进入ab段行驶。请编写程序，用P、V操作实现对ab段的正确管理以保证行驶安全。

6.有三个并发进程R,M,P，它们共享一个缓冲器B。进程R负责从输入设备读信息，每读出一个记录后把它存放在缓冲器B中，进程M在缓冲器B中加工进程R存入的记录，进程P把加工后的记录打印输出。缓冲器B中每次只能存储一个记录，当记录被加工输出后，缓冲器B中又可存储一个新纪录。请用P,V操作为同步机制写出它们并发执行时能正确工作的程序。

7.公共汽车上，司机和售票员的工作流程如下。为保证乘客的安全，司机和售票员应密切配合协调工作，请编写程序，用P,V操作来实现司机和售票员之间的同步。
  
司机 售票员； 启动车辆 关门； 正常行驶 售票； 到站停车 开门；

8.某银行有人民币储蓄业务，由n各柜台人员负责。每个顾客进入银行后先取一个号，并且等着叫号。当一个柜台人员空闲下来，就叫下一个号。试用P,V操作正确编写柜台 人员和顾客进程的程序。

9.设有A,B,C三个进程共享一个存储资源F。A对F只读不写，B对F只写不读，C对F先读后写。（当一个进程写F时，其他进程既不能读F，也不能写F，但多个进程同时读F是允许的）。试利用或P,V操作，写出A,B,C三个进程的框图，要求：1执行正确；2正常运行时不产生死锁；3使用F的并发度要高。

12.有一个阅览室，读者进入时必须先在一张登记表上进行登记，该表为每一座位列出一个表目，包括座位号、姓名、读者离开时撤销登记信息。阅览室有100各座位。试用P,V操作描述这些进程间的同步关系。



14.进程间有哪几种通信方式？各有什么特点？各种方式分别适用于哪些情况？
  
解决进程之间的大量信息通信的问题有三类方案：共享内存、消息机制以及通过共享文件进行通信，即管道通信。
  
共享内存：在相互通信的进程之间设有一个公共内存区，一组进程向该公共内存中写，另一组进程从公共内存中读，通过这种方式实现两组进程间的信息交换。
  
消息机制：是用于进程间通信的高级通信原语之一。
  
（1）消息缓冲通信：利用内存中的公共消息缓存区实现进程之间的信息交换。消息缓冲区是由：消息长度、消息正文、发送者、消息队列指针组成的数据结构。
  
（2）信箱通信：为了实现进程间的通信，可以设立一个通信机构----心想，以发送信件以及接收回答信件为进程间通信的基本方式。
  
一个信箱的结构可以由信箱说明和信箱体两部分组成。信箱说明有如下的数据结构：可存信件数、已有信件数。
  
管道通信：所谓管道，就是连接两个进程之间的一个打开的共享文件，专用于进程之间进行数据通信。管道通信的基础是文件系统。

## 第五章 死锁

1.考虑图5-1所示的交通死锁情况，说明其产生死锁的四个必要条件；给出一种可以避免死锁发生的简单方法？
  
产生死锁的四个必要条件：
  
（1）互斥条件 资源是独占的且排他使用。进程互斥使用资源，即任一时刻一个资源只能给一个进程使用。
  
（2）不可剥夺条件 又称不可抢占或不可强占。进程所获得的资源在未使用完毕之前，不能被其他进程强行剥夺。
  
（3）请求和保持条件 又称部分分配或占有申请。进程先申请它所需要的一部分资源，在申请新的资源的同时，继续占用已分配到的资源。
  
（4）循环等待条件 又称环路等待。环路中的每个进程已占有的资源同时被另一进程所申请。
  
在资源的动态分配过程中，采取某种方法防止系统进入不安全状态，从而避免死锁的发生。这种方法只需以较弱的限制条件为代价，并可获得较高的资源利用。

2.死锁和‘饥饿’有什么相同点和不同点？
  
若对资源的管理、分配和使用不当，则会产生死锁或者饥饿。
  
死锁是指在多道程序系统中，一组进程中的每一个进程均无限期地等待被该组进程中的另一个进程所占有且永远不会释放的资源，这种现象称系统处于死锁状态，简称死锁。
  
饥饿是指系统不能保证某个进程的等待时间上界，从而使该进程长时间等待，当等待时间给进程推进和相应带来明显影响时，称发生了进程饥饿。当饥饿到一定程度的进程所赋予的任务即使完成也不再具有实际意义时称该进程被饿死。

3.试叙述死锁产生的原因、必要条件和解锁死锁的方法。
  
产生死锁的原因主要有两个：一是竞争资源，系统提供的资源数量有限，不能满足每个进程的需求。二是多道程序运行时，进程推进顺序不合理。
  
必要条件：互斥条件、不可剥夺条件、请求和保持条件、循环等待条件。
  
若检测后发现系统又死锁，可通过剥夺资源或撤销进程的方法解除死锁。

4.试举出日常生活中死锁的例子，并说明之。
  
设一条河上有一座独木桥，过河的人总是沿着自己过河的方向前进而不后退，并且没有规定两岸的人必须谁先过河，则在此独木桥上就可能发生死锁现象。

5.有3个进程共享4个资源，进程对资源的分配与释放只能一次一个，每个进程最多需要2个资源。试问该系统会发生死锁吗？
  
不会。三个进程P1,P2,P3各分配一个资源，系统剩余一个资源，不论分配给哪个进程都可以满足进程的需求然后释放资源。



7.下面关于死锁问题的叙述哪些是正确的？哪些是错误的？请说明原因。
  
（1）参与死锁的所有进程都占有资源。
  
（2）参与死锁的所有进程中至少有两个进程占有资源。
  
（3）死锁只发生在无关进程之间。
  
（4）死锁可发生在任意进程之间。
  
正确：（2）
  
原因：死锁是指一组进程中每一个进程均无限期的等待被该组进程中的另一个进程所占有且永远不会释放的资源。

8.死锁预防、死锁避免和死锁检测之间的区别是什么？
  
死锁预防：预先确定一些资源分配策略，进程按规定申请资源，系统按预定的策略进行分配，这些分配策略均能使产生死锁的四个必要条件之一不成立，从而使系统不会发生死锁
  
死锁避免：当进程提出资源申请时，系统动态测试资源分配情况，仅当能确保系统安全时才把资源分配给进程。
  
死锁检测：允许系统中发生死锁，即对资源的申请和分配不加任何限制，只要有剩余的资源就把资源分配给申请进程。因此就可以出现死锁，但是系统将不断跟踪所有进程的进展，定时运行一个‘死锁检测程序’。若检测后没有发现死锁，则系统可以继续工作，若检测后发现系统有死锁，则可通过剥夺资源或撤销进程的方法借出死锁。

9.如何防止循环等待条件的发生？
  
采用资源的有序分配法。其基本思想是将系统中所有资源顺序编号。一般原则是，较为紧缺、稀少的资源的编号较大。进程申请资源时，必须严格按照资源编号的顺序进行，否则系统不予分配。即一个进程只有得到编号小的资源，才能申请编号较大的资源；释放资源时，应按编号递减的次序进行。

10.Dijkstra等人提出的银行家算法，其主要思想是什么？它能够用来解决实际中的死锁问题吗？为什么？
  
进程首先提出对资源的最大需求量，当进程在执行中每次申请资源时，系统测该进程已占用的资源与本次申请的资源数之和是否超过了该进程对资源的最大需求量。若超过则拒绝分配资源，若没有超过，则系统再测试系统现存的资源能否满足该进程尚需的最大资源量，若能满足则按当前的申请量分配资源，否则也要推迟分配。
  
这样做，能保证再任何时刻至少有一个进程可以得到所需要的全部资源而执行结束，执行结束后归还的资源加入到系统的剩余资源中。

11.考虑这样一种分配策略：对资源的申请和释放可以在任何时刻进行。如果一个进程的资源得不到满足，则 考察所有由于等待资源而被阻塞的进程，如果它们有申请进程所需要的资源，则把这些资源取出分给申请进程。
  
（1）这种分配方式会导致死锁吗？若会，举一个例子；若不会，说明死锁的哪一个必要条件不成立。
  
（2）会导致某些进程的无限等待吗？
  
答：（1）破坏了不可剥夺条件。（2）会造成一些资源在很长时间内得不到使用

12.假定一个系统有4种资源，R={6,4,4,2}，当前系统状态如图5-14所示。该状态安全吗？请阐述理由。

进程
  
资源申请 目前占有量 最大需求量 尚需求量
  
A B C D A B C D A B C D
  
P1 2 0 1 1 3 2 1 1 1 2 0 0
  
P2 1 1 0 0 1 2 0 2 0 1 0 2
  
P3 1 1 0 0 1 1 2 0 0 0 2 0
  
P4 1 0 1 0 3 2 1 0 2 2 0 0
  
P5 0 1 0 1 2 1 0 1 2 0 0 0
  
系统剩余资源 1 1 2 0
  
答：系统剩余资源1 1 2 0能满足进程P3的需求，故分配给P3后P3释放资源，系统剩余资源分别为2 2 2 0，可满足P1，分配给P1后P1释放资源，系统剩余资源分别为4 2 3 2，依次类推可满足所有进程需求，所以该状态是安全状态。

13.一个计算机系统有某种资源6个，供n个进程使用，每个进程至少需要2个资源。当n为何值时，系统不会发生死锁？
  
n<=3时，系统不会发生死锁。

## 第六章 存储管理

1.存储管理的主要功能有哪些？
  
存储管理的主要任务有：
  
（1）存储分配，为用户分配存储空间，在不需要时及时回收，内存分配有静态分配和动态分配方式
  
（2）内存共享，使多个进程共用内存中相同区域，包括代码共享和数据共享
  
（3）存储保护，使系统正常运行，避免内存中各个程序相互干扰
  
（4）扩充内存容量，使用户得到的比实际内容量大的多。

2.解释下列术语：逻辑地址、绝对地址、地址重定位。
  
一般而言，存储器以字节为编址单位，每个字节都有一个地址于其对应。假定存储器的容量为n个字节，其地址编号为0,1,…,n-1，这些地址称为内存的绝对地址。
  
在多道程序设计的系统中，内存中同时存储了多个用户程序。操作系统根据内存的使用情况为用户分配内存空间。因此，每个用户不能预先直到他的程序将被存储到内存的什么位置。这样，用户程序中就不能使用内存的绝对地址。为了方便用户，每个用户都可认为自己的程序和数据存储在一组‘0’地址开始的了连续空间中。用户程序中使用的地址称为逻辑地址。
  
把逻辑地址转换成绝对地址的工作称为地址重定位或地址转换，又称地址映射。重定位的方式可以有静态重定位和动态重定位两种。

3.在可变分区的管理方式下，什么是碎片？如何解决碎片问题？
  
可变分区是指系统不预先划分固定分区，而是在装入程序时划分内存分区，使为程序分配的分区的大小正好等于该程序的需求量，且分区的个数是可变的。
  
内存经过一段时间的分配回收后，会存在很多很小的空间块。它们每一块都很小，不足以满足程序分配内存的要求，但其总和却可以满足程序的分配要求，这些空闲块被称为碎片。
  
解决碎片问题的办法是在适当时刻进行碎片整理，通过移动内存中的程序，把所有空闲碎片合并成一个连续的大空间区且放在内存的一端，而把所有程序占用区放在内存的另一端。这一技术称为紧缩技术或压缩技术。

4.采用紧缩技术有什么优点？移动一道程序时操作系统要做哪些工作？
  
紧缩技术可以集中分散的空闲区，提高内存的利用率，便于进程的动态扩充内存

5.设在内存中按地址递增次序有三个不连续的空闲区F1,F2,F3，它们的容量分别是60KB,130KB,20KB。请给出一个后备进程序列，使得实施存储分配时：
  
（1）采用最优适应算法将取得好的效果，而采用最坏适应算法和最先适应算法效果都不好。
  
（2）采用最优适应算法效果不好，而采用最坏适应算法和最先适应算法都可取得好的效果。
  
（3）采用最坏适应算法将取得好的效果，而采用最先适应算法和最优适应算法效果都不好
  
（4）采用这三种算法都可取得好效果
  
（5）采用这三种算法效果都不好

6.用可变分区方式管理内存时，假定内存中按地址顺序依次有五个空闲区，空闲区的大小依次为32KB,10KB,5KB,228KB,100KB。现有五个程序J1,J2,J3,J4,J5。它们各需内存1KB,1KB,108KB,28KB,115KB。若采用最先适应分配算法能把这五个程序按J1~J5的次序全部装入内存吗？你认为按怎样的次序装入这五个程序可使内存空间利用率最高？
  
答：可以。采用最优适应算法内存空间利用率最高。

7.解释页式存储管理中为什么要设置页表和TLB。
  
页表指出该程序虚拟地址中的页号与所占用的物理页面号之间的对应关系。页表又是硬件进行地址转换的依据，每执行一条指令时按虚拟地址中的页号查页表。
  
页式存储管理中的页表是存储在内存中的。于是，当要按给定的虚拟地址进行读写时，必须访问两次内存。第一次按页号读出页表中对应的块号，第二次按计算出来的绝对地址进行读写。两次访问内存显然延长了指令的执行周期，降低了执行速度。
  
为了提高存区速度，在地址映射机制中增加了一个小容量的联想寄存器（相联存储器），它由高速缓冲存储器组成。利用告诉缓冲存储器存储当前访问最频繁的少数活动页面的页号，这个告诉缓冲存储器称为‘转换检测缓冲区TLB’或‘快表’。

8.设计一个页表应考虑哪些因素。
  
物理页面号、有效位、访问位、修改位、保护位 等等。

9.请叙述页式存储管理中地址转换的过程。
  
为了实现页式存储管理，系统要提供一对硬件的页表控制寄存器，即页表始址寄存器和页表长度寄存器，另外还需要告诉缓冲存储器的支持。
  
物理地址=物理页面号\*块长+页内地址

14.页式存储管理系统中程序的地址空间是一维的还是二维的？请说明理由。

15.FIFO算法和时钟页面置换算法有何联系？

16.简述什么是覆盖技术，什么是交换技术？它们之间的区别是什么？
  
覆盖技术是指一个程序的若干程序段，或几个程序的某些部分共享某一个存储空间。覆盖技术的实现是把程序划分成若干个功能上相对独立的程序段，按照自身的逻辑结构使哪些不会同时执行的程序段共享同一块内存区域。
  
交换技术又称对换技术，是进程在内存与外存之间的动态调度，是由操作系统控制的。
  
同覆盖技术一样，交换技术也是利用外存来逻辑地扩充内存，它地主要特点是，打破了一个程序一旦进入内存便一直运行到结束的限制。
  
与覆盖技术相比，交换技术不要求用户给出程序段之间的逻辑覆盖结构，对用户而言是透明的。而且，交换可以发生在不同的进程或程序之间，而覆盖发生在同一进程或程序内部，而且只能覆盖那些与覆盖段无关的程序段。因此，交换技术比覆盖技术更加广泛的用于现代操作系统。

17.何谓程序局部性原理，请举出三个例子。
  
是指程序在执行时呈现出局部性规律，即在一段时间内，整个程序的执行仅限于程序中的某一部分。相应地，执行所访问的存储空间也局限于某个内存区域。

18.虚拟存储器是什么？为什么要引入虚拟存储器？
  
虚拟存储器，实际上是为扩大内存容量而采用的一种设计技巧。

19.叙述虚拟页式存储管理方案的基本思想。为了实现虚拟页式存储管理，系统必须提供的硬件支持有哪些？
  
虚拟页式存储管理的思想：存储管理部件首先把内存分成大小相等的许多区，把每个区成为物理页面，物理页面是进行内存空间分配的物理单位。同时，要求程序中的逻辑地址也进行分页，页的大小与物理页面的大小一致。此时逻辑地址可被称为虚拟地址。这样，就可把程序信息按页存放到物理页面中。
  
支持页式存储管理的硬件部件通常称为：存储管理部件。

21.有一个虚拟存储系统。分配给某进程3页内存，开始时内存为空，页面访问序列如下：6，5，4，3，2，1，5，4，3，6，5，4，3，2，1，6，5
  
（1）若采用先进先出FIFO页面置换算法，缺页次数为多少？
  
（2）若采用最近最少使用LRU页面置换算法，缺页次数为多少？
  
（3）若采用理想页面置换算法呢？
  
答：（1）FIFO
  
6 5 4 3 2 1 5 4 3 6 5 4 3 2 1 6 5
  
短 6 5 4 3 2 1 5 4 3 6 5 4 3 2 1 6 5
  
中 6 5 4 3 2 1 5 4 3 6 5 4 3 2 1 6
  
长 6 5 4 3 2 1 5 4 3 6 5 4 3 2 1
  
缺 缺 缺 缺 缺 缺 缺 缺 缺 缺 缺 缺 缺 缺 缺 缺 缺
  
缺页次数17，缺页率100%
  
（2）LRU
  
6 5 4 3 2 1 5 4 3 6 5 4 3 2 1 6 5
  
短 6 5 4 3 2 1 5 4 3 6 5 4 3 2 1 6 5
  
中 6 5 4 3 2 1 5 4 3 6 5 4 3 2 1 6
  
长 6 5 4 3 2 1 5 4 3 6 5 4 3 2 1
  
缺 缺 缺 缺 缺 缺 缺 缺 缺 缺 缺 缺 缺 缺 缺 缺 缺
  
缺页次数17，缺页率100%
  
（3）理想OPT
  
6 5 4 3 2 1 5 4 3 6 5 4 3 2 1 6 5
  
短 6 5 4 3 2 1 1 1 3 6 6 6 3 2 1 1 1
  
中 6 5 4 4 4 4 4 4 4 4 4 6 6 6 6 6
  
长 6 5 5 5 5 5 5 5 5 5 5 5 5 5 5
  
缺 缺 缺 缺 缺 缺 缺 缺 缺 缺 缺
  
缺页次数11，缺页率11/16

23.什么是异常现象（或称belady现象）？你能找出一个异常现象的例子吗？

25.缺页异常的处理过程是软硬件配合完成的，请叙述缺页异常处理过程。
  
当发生缺页异常时，操作系统必须在内存中选择一个页面将其移出内存，以便为即将调入的页面让出空间。整个缺页处理过程简单阐述如下：
  
（1）根据对当前执行指令中的逻辑地址查页表的有效位，判断该页是否在内存
  
（2）该页标志为0，形成缺页异常。保留现场，中断装置通过交换PSW让操作系统的中断处理程序占用处理器。
  
（3）操作系统处理缺页异常，寻找一个空闲的页面。
  
（4）若有空闲页，则把磁盘上读出的信息装入该页面中。
  
（5）修改页表及内存分配表，表示该页已在内存。
  
（6）若内存中无空闲页，则按某种算法选择一个已在内存的页面，暂时跳出内存。
  
（7）恢复现场，重新执行被中断的指令。

26.试述缺页与一般中断的主要区别。

27.何谓系统的颠簸现象？为什么会出现这一现象？当系统发生颠簸时，应该采取什么措施来加以克服？
  
如果刚被调出的页面又立即要用，因而又要把它装入，而装入不久又被选中调出，调出不久又被装入，如此反复，使调度非常频繁。这种现象称为抖动或颠簸。
  
在虚存中，页面可能在内存外存张间频繁的电镀，有可能出现颠簸。颠簸是因为缺页率高而引起的。
  
采用工作机模型，为每个进程保持一个工作及，通过动态体哦正，使进程获得与工作集相等的物理叶敏数，可以解决颠簸问题。

24.什么是工作集？它的作用是什么？
  
对于给定的进程访问序列，从时刻（t-t1）到时刻t之间所访问页面的集合，称为该进程的工作集。工作集是随时间而变化的。

## 第七章 文件系统

1.什么是文件和文件系统？文件系统的功能是什么？
  
文件可以被解释为一组带标识的、在逻辑上有完整意义的信息项的序列。
  
所谓文件系统，是操作系统中统一管理信息资源的一种软件。它管理文件的存储、检索、更新，提供安全可靠的共享和保护手段，并且方便用户使用。
  
从用户的角度来看，文件系统负责为用户建立文件、读写文件、修改文件、复制文件和撤销文件。
  
文件系统应具有下述功能：
  
（1）统一管理文件的存储空间，实施存储空间的分配和回收。
  
（2）实现文件从名字空间到外存地址空间的映射。即实现文件的按名存区，以对用户透明的方式管理名字空间。
  
（3）实现文件信息的共享，并提供文件的保护和保密措施。
  
（4）向用户提供一个方便使用的接口（提供对文件系统操作命令，以及提供对文件的操作命令 ：信息存区、加工等）。
  
（5）系统维护及向用户提供有关信息。
  
（6）保持文件系统的执行效率。
  
（7）提供与I/O的统一接口。

2.文件按其用途和性能可分为几类？
  
按文件的用途可以把文件分为三类：
  
（1）系统文件：操作系统和各种系统应用程序和数据所组成的文件。
  
（2）库函数文件
  
（3）用户文件：用户委托文件系统保存的文件。

3.对于用户来说，有些系统把设备也看成是“文件”，试问这样做有什么好处？还会带来什么问题？

4.什么是文件的逻辑结构（物理结构）？有哪几种典型的文件逻辑结构（物理结构）？这些结构各自有什么特点？
  
用户看到的是经过抽象的文件结构，这就是文件的逻辑结构。
  
文件在实际的存储空间存储时的结构，就是文件的物理结构。
  
可以按逻辑结构把文件划分成三类：无结构的字符流式文件、定长记录文件和不定长记录文件构成的记录数。
  
（1）流式文件：流式文件是有序字符的集合，其长度为该文件所包含的字符个数，所以又称为字符流文件。在流式文件中，构成文件的基本单位是字符。
  
（2）记录式文件：记录式文件是一组有序记录的集合，在记录式文件中，构成文件的 基本单位是记录。记录式文件可分为定长记录文件和不定长记录文件两种。
  
常用的文件物理结构又顺序结构、链接结构、索引结构。
  
（1）顺序结构：又称连续结构，它把逻辑上连续的文件信息依次存放在连续编号的物理块中。
  
优点：一旦知道了文件在文件存储设备上的起始块号和文件长度，就能很快的进行存取。
  
缺点：文件不能动态增长。
  
（2）链接结构：文件的链接结构的实质就是为每个文件狗杂走所使用磁盘块的链表。使用这种链接结构的文件，将逻辑上的连续的文件分散存储在若干不连续的物理块中。在每个物理块中都设有一个指针，该指针指向其后续的物理块。
  
优点：存储碎片问题迎刃而解了，有利于文件动态扩充，有利于文件插入删除，提高了磁盘空间利用率。
  
缺点：存取速度慢，不适于随机存取文件；磁盘的磁头移动多，效率相对较低；存在文件的可靠性问题；链接指针需要占用一定的空间。
  
（3）索引结构：索引结构的文件把每个物理盘块的指针字，集中存储在称为索引表的数据结构中的内存索引表中。在每个文件相应的目录条目中包括该文件的索引表地址，而索引表中第i个条目指向文件的第i块。
  
优点：可以满足文件动态增长的要求，也满足了文件插入、删除的要求。索引文件还能充分利用外存空间。
  
缺点：会引起较多的寻道次数和寻道时间；索引表本身增加了存储空间的开销。
  
（4）i结点结构：i结点是一种多级索引文件结构。
  
基本思想：给每个文件赋予一张称为i结点的小表，在这张小表中列出了文件属性和文件中各块在磁盘上的位置。
  
使用i结点的文件结构，不仅适合小文件使用，也可供大型文件使用，灵活性较强。这种文件结构占用的系统空间比一般多级索引结构的文件要少。

5.怎样确定文件的存取方式？请总结文件的存取方式、文件物理结构和存储设备类型之间的联系。
  
文件常用的存取方法有：顺序存取和随机存取两种方式。选择哪一种文件的存取方式，取决于用户使用文件的方式，也与文件所使用的存储介质有关。

6.文件系统应由哪些部分组成？简述各部分的主要工作。

7.请设计一个文件系统的FCB，并说明为何要安排FCB中每一项内容。
  
文件控制块FCB，文件的描述性数据结构，文件控制块中的信息可以分为：文件存取控制信息、文件结构信息、文件管理信息。
  
通常包括：文件名、文件号、用户名、文件地址、文件长度、文件属性、文件类型、共享计数、文件的建立日、保存期限、最后修改日期、最后访问日期、口令、文件逻辑结构、文件物理结构等等。

8.文件目录的作用是什么？为了实现按名存取，文件目录应包含哪些内容？
  
文件目录的作用是实现按名存取。

9.多级目录结构的特点有哪些？建立多级目录的好处有哪些？
  
多级目录结构的优点是便于文件分类，且具有下列特点：
  
（1）层次清楚。
  
（2）解决了文件重名问题。
  
（3）查找搜索速度快。

15.什么是当前目录？引入当前目录的好处是什么？当前目录实现时要考虑什么问题？
  
文件系统向用户提供了一个当前正在使用的目录，称为当前目录。
  
使用当前目录，使检索路径变短，检索速度提高。

16.为什么要划分符号文件目录与基本文件目录？这样做有什么好处？

19.磁盘空间的管理有几种方法？
  
（1）位示图：基本思想是，利用一串二进制位的值来反映磁盘空间的分配使用情况
  
（2）空闲块表：空闲块表是专门为空闲块建立的一张表，该表记录外存储器全部空闲的物理块：包括每个空闲块的第一个空闲物理块号和该空闲块中空闲物理块的个数。
  
（3）空闲块链表：将外存储器中所有的空闲物理块连成一个链表，用一个空间块首指针指向第一个空闲块，随后的每个空闲块中都含有指向下一个空闲块的指针，最后一块的指针为空，表示链尾，这样就构成了一个空闲块链表。
  
（4）空闲块成组链接法：对链接表的一种改进方案，将n个空闲块的地址存储在第一个空闲块中。

20.空间分配所用的位示图应该保存在哪里，请说明原因？
  
位示图对空间分配情况的描述能力强。一个二进位就描述一个物理块的状态。另外，位示图占用空间较小，因此可以复制到内存，使查找既方便又快速。位示图适用于各种文件物理结构的文件系统。

21.系统打开文件表和用户打开文件表的作用是什么？为什么将它们分开处理？
  
系统打开文件表专门用于保存已打开的文件控制块，通常放在内存。除了保存已打开的文件的文件控制块之外，在该表格中还保存了共享计数、修改标志等信息。
  
每个进程都有一个用户打开文件表，该表的内容有文件描述符、打开方式、读写指针、系统打开文件表入口等。
  
用户打开文件表指向了系统打开文件表。

25.文件提供的主要文件操作有哪些？
  
（1）建立文件 create(文件名，访问权限，（最大长度）)
  
（2）打开文件 fd=open（文件路径名，打开方式）
  
（3）读文件 read（文件名，（文件内位置），要读的长度，内存目的地址）
  
（4）写文件 write（文件名，记录键，内存位置）
  
（5）关闭文件 close（文件名）
  
（6）删除文件 delete（文件名）
  
（7）指针定位 seek（fd，新指针的位置）

26.文件系统中“建立”“打开”和“关闭”操作的主要目的是什么？“建立”和“打开”文件的主要区别是什么？能不能只用一个命令，完成文件的“建立”和“打开”操作？
  
建立文件的实质是建立文件的文件控制块FCB，并建立必要的存储空间，分配空的FCB。从而建立起系统与文件的联系。
  
打开文件，是使用文件的第一步，任何一个文件在使用前都要先打开，即把文件控制块FCB送到内存。
  
若文件暂时不用，则将它关闭。文件关闭后一般不能存取，若要存取，则必须再次打开。
  
删除文件时，系统根据用户提供的文件名或文件描述符，检查此次删除的合法性，若合法，则回收该文件所占用的文件控制块及物理块等资源。

27.文件系统能允许用户去关闭一个不是自己打开或建立的文件吗？

28.什么是文件共享？可通过什么办法来实现用户之间共享某个文件？
  
文件共享是指一个文件可以允许多个用户共同使用。
  
在多级目录结构中，链接法是常用的实现文件共享技术。对文件共享的链接法可以通过两种链接方式实现：一种是允许目录项连接到任一表示文件目录的结点上；另一种是只允许连接到表示普通文件的结点上。

29.在设计文件系统的安全性时，应该考虑哪些方面的情况？
  
灾祸、硬件或软件故障、人为的出错

30.什么是文件保护？什么是文件保密？
  
文件保护是保护文件不被破坏。常用的文件保护方式有：建立副本、定时转储。
  
文件保密是防止不经文件拥有者授权而窃取文件。文件的保密措施有：隐藏文件目录、设置口令、使用密码、病毒防范。

31.计算机用户身份鉴别与验证通常有哪几种方式？

32.常用的文件安全控制的实现方法有哪些？

## 第八章 I/O设备管理

1.设备管理的目标和功能是什么？
  
目标：使用户和应用程序开发人员能够方便的使用输入输出设备。
  
功能：解决I/O设备的性能和CPU性能不匹配矛盾的问题；实现对I/O设备的统一管理；保证用户对I/O设备的使用必须是安全的。

2.为什么提出“设备的独立性”的概念？实现设备独立性的好处是什么？
  
除了直接与设备打交道的底层软件外，其他部分的软件并不依赖于硬件。I/O软件独立于设备，可以提高设备管理软件的设计效率。

3.什么是设备的静态分配方式？什么是设备的动态分配方式？各有什么特点？
  
静态分配方式是在用户作业开始执行前，由系统一次分配该作业所要求的全部设备、控制器（和通道）。静态分配方式也是安全分配方式不会出现死锁，但设备的使用效率低。
  
动态分配在进程执行过程中根据执行需要进行。动态分配方式有利于提高设备的利用率，但如果分配算法使用不当，则有可能造成进程死锁。

4.处理器与外部设备之间有几种I/O控制方式？它们各自的特点是什么？
  
（1）程序控制方式PIO：由用户进程直接控制处理器或内存和外围设备之间进行信息传送的方式，也称为“忙-等”方式、轮询方式、循环测试方式，这种方式的控制者是用户进程。
  
优点：处理器和外设的操作能通过状态信息得到同步，而且硬件结构比较简单
  
缺点：处理器效率较低，传输完全在处理器控制下完成，对外部出现的异常事件无实时响应能力。
  
（2）中断控制方式：中断是一种在发生了一个异常事件时，调用相应处理程序进行服务的过程。
  
优点：处理器与外设在大部分时间内并行工作，有效地提高了计算机的效率。具有哦实时响应能力，可适用于实时控制场合。及时处理异常情况，提高计算机的可靠性。
  
（3）DMA控制方式：直接内存访问，完全由硬件执行I/O数据交换的工作方式。
  
优点：操作均由硬件电路实现，传输速度快；处理器仅在初始化和结束时参与，对数据传送基本上不干预，可以减少大批量数据传输时处理器的开销。
  
缺点：有一定的局限性，因为DMA方式在初始化和结束时仍由处理器控制。
  
（4）通道控制方式：通道是一个特殊功能的处理器，它有自己的指令和程序，可以实现对外围设备的统一管理和外围设备与内存之间的数据传送。
  
优点：引入通道的目的是为了进一步减少数据输入输出对整个系统运行效率的影响。与DMA方式相比，通道方式增加了处理器与通道操作的并行能力；增加了通道之间以及同一通道内各设备之间的并行操作能力；为用户提供了灵活增加外设的可能性。

5.启动磁盘执行一次I/O操作花费时间由哪几部分组成？
  
寻找时间----磁头在移动臂带动下移动到指定柱面所花的时间。
  
延迟时间----指定扇区旋转到磁头下所需的时间。
  
传送时间----由磁头进行读写完成信息传送的时间。

6.什么是移臂调度？什么是旋转调度？各有哪些主要的调度算法？
  
根据访问者指定的柱面位置来决定执行次序的调度，称为移臂调度。
  
主要算法有：先来先服务算法、最短寻找时间优先算法、电梯调度算法、单向扫描算法
  
根据延迟时间来决定执行次序的调度称为“旋转调度”

11.为什么引入通道？有哪几类通道？它们各自的特点是什么？
  
通道是一个特殊功能的处理器，它有自己的指令和程序，可以实现对外围设备的统一管理和外围设备与内存之间的数据传送。
  
按照信息交换方式的不同，一个系统中可以设立三种类型的通道，选择通道、数组多路通道、字节多路通道。
  
选择通道是一种告诉通道，在物理上它可以链接多个设备，但是在某一段时间内通道只能选择一个设备进行工作。优点是以数据块为单位进行传输，传输率高。缺点是通道利用率低。
  
数组多路通道是对选择通道的一种改进，优点传输率高，通道利用率高。缺点是控制复杂。
  
字节多路通道是一种简单的共享通道，在分时的基础上为多台低速和中速设备服务。特点：各设备与通道之间的数据传送是以字节为单位交替进行的，各设备轮流占用一个很短的时间片；多路并行操作能力与数组多路通道相同。

12.解释通道命令、通道程序、地址字和通道状态字。
  
通道命令：规定的设备一种操作的命令。通道程序：若干条通道命令组成的程序，由通道执行，完成一次I/O操作。通道地址字：用来存放通道程序首地址的主存固定单元。通道状态字：用来记录通道程序执行结果的主存固定单元。

13.中央处理器与通道之间是怎样配合工作的？

14.设备驱动程序的主要功能是什么？
  
设备驱动程序的最突出的特点是他与I/O设备的硬件结构密切联系。是操作系统低层中唯一直到各种输入输出设备的控制器细节以及用途的部分。

15.请说明SPOOLing技术的基本思想，SPOOLing系统由哪些部分组成？请简述它们的功能。
  
虚拟设备技术，又称为SPOOLing技术，是多道程序设计系统中处理独占I/O设备的一种方法，它可以提高设备利用率并缩短单个程序的响应时间。
  
SPOOLing系统主要包括输入程序模块、输出程序模块、作业调度模块。

16.SPOOLing系统中输入井和输出井的作用是什么？
  
输入井：在作业自行前就利用慢速设备将作业预先输入到后援存储器中去，作业进入内存运行后，使用数据时，直接从输入井取出。
  
输出井：作业执行时不必启动外部设备输出数据，只需将这些数据写入输出井中去，称为缓输出。

17.实现虚拟设备的主要条件是什么？
  
实现对作业的输入、组织调度和输出管理的统一进行。同时，使外部设备在处理器直接控制下，又与处理器并行工作（故称为假脱机）。

18.为什么说SPOOLing技术实现了虚拟设备？SPOOLing系统为什么能提高独占设备的利用率？
  
SPOOLing技术之所以被称为虚拟设备技术，是因为它可以使进程在所需的外部设备并不存在或被占用的情况下使用该设备。独占设备通过SPOOLing系统改成成共享设备，从而提高了设备的利用率和 系统效率。

19.在什么条件下要设用缓冲技术？
  
为了解决I/O设备与处理器速度不匹配的问题。

20.为什么相比较单缓冲，采用双缓冲可以提高I/O的性能？
  
单缓冲是在I/O设备与处理器间设置一个缓冲区，不能实现I/O设备与I/O设备之间的并行操作。设置双缓冲区可以解决两台I/O设备之间的并行操作问题。

21.DMA技术和通道技术的相同点和不同点是什么？
  
与DMA相比，通道方式增加了处理器与通道操作的并行能力；增加了通道之间以及同一通道内各设备之间的并行操作能力；为用户提供了灵活增加外设的可能性。