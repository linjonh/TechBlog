---
arturl_encode: "68747470733a2f2f62:6c6f672e6373646e2e6e65742f71796a31393932303730342f:61727469636c652f64657461696c732f313434333238333837"
layout: post
title: "Dockerç³»åˆ—Docker-æž„å»ºå¤šå¹³å°é•œåƒarm64-æž¶æž„çš„å®žè·µ"
date: 2024-12-08 17:25:28 +0800
description: ""
keywords: "idea dockerfile ä½¿ç”¨ jdk7-arm64ä½œä¸ºåŸºç¡€é•œåƒ"
categories: ['S', 'Docker']
tags: ['æž¶æž„', 'å®¹å™¨', 'Docker']
artid: "144328387"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=144328387
    alt: "Dockerç³»åˆ—Docker-æž„å»ºå¤šå¹³å°é•œåƒarm64-æž¶æž„çš„å®žè·µ"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=144328387
featuredImagePreview: https://bing.ee123.net/img/rand?artid=144328387
---

# ã€Dockerç³»åˆ—ã€‘Docker æž„å»ºå¤šå¹³å°é•œåƒï¼šarm64 æž¶æž„çš„å®žè·µ

> ðŸ’ðŸ’ðŸ’æ¬¢è¿Žæ¥åˆ°æˆ‘çš„åšå®¢ï¼Œå¾ˆé«˜å…´èƒ½å¤Ÿåœ¨è¿™é‡Œå’Œæ‚¨è§é¢ï¼å¸Œæœ›æ‚¨åœ¨è¿™é‡Œå¯ä»¥æ„Ÿå—åˆ°ä¸€ä»½è½»æ¾æ„‰å¿«çš„æ°›å›´ï¼Œä¸ä»…å¯ä»¥èŽ·å¾—æœ‰è¶£çš„å†…å®¹å’ŒçŸ¥è¯†ï¼Œä¹Ÿå¯ä»¥ç•…æ‰€æ¬²è¨€ã€åˆ†äº«æ‚¨çš„æƒ³æ³•å’Œè§è§£ã€‚
>   
> ![img](https://img-blog.csdnimg.cn/img_convert/5ce5e68e322584b3aa8304269fb6a2f7.jpeg#pic_center)
>
> * æŽ¨è:
>   [kwan çš„é¦–é¡µ](https://qinyingjie.blog.csdn.net/?type=blog)
>   ,æŒç»­å­¦ä¹ ,ä¸æ–­æ€»ç»“,å…±åŒè¿›æ­¥,æ´»åˆ°è€å­¦åˆ°è€
> * å¯¼èˆª
>   + [æª€è¶Šå‰‘æŒ‡å¤§åŽ‚ç³»åˆ—](https://blog.csdn.net/qyj19920704/category_11763029.html)
>     :å…¨é¢æ€»ç»“ java æ ¸å¿ƒæŠ€æœ¯,jvm,å¹¶å‘ç¼–ç¨‹ redis,kafka,Spring,å¾®æœåŠ¡ç­‰
>   + [å¸¸ç”¨å¼€å‘å·¥å…·ç³»åˆ—](https://blog.csdn.net/qyj19920704/category_11474211.html)
>     :å¸¸ç”¨çš„å¼€å‘å·¥å…·,IDEA,Mac,Alfred,Git,typora ç­‰
>   + [æ•°æ®åº“ç³»åˆ—](https://blog.csdn.net/qyj19920704/category_11474265.html)
>     :è¯¦ç»†æ€»ç»“äº†å¸¸ç”¨æ•°æ®åº“ mysql æŠ€æœ¯ç‚¹,ä»¥åŠå·¥ä½œä¸­é‡åˆ°çš„ mysql é—®é¢˜ç­‰
>   + [æ–°ç©ºé—´ä»£ç å·¥ä½œå®¤](https://meihua150.cn/)
>     :æä¾›å„ç§è½¯ä»¶æœåŠ¡,æ‰¿æŽ¥å„ç§æ¯•ä¸šè®¾è®¡,æ¯•ä¸šè®ºæ–‡ç­‰
>   + [æ‡’äººè¿ç»´ç³»åˆ—](https://blog.csdn.net/qyj19920704/category_7540627.html)
>     :æ€»ç»“å¥½ç”¨çš„å‘½ä»¤,è§£æ”¾åŒæ‰‹ä¸é¦™å—?èƒ½ç”¨ä¸€ä¸ªå‘½ä»¤å®Œæˆç»ä¸ç”¨ä¸¤ä¸ªæ“ä½œ
>   + [æ•°æ®ç»“æž„ä¸Žç®—æ³•ç³»åˆ—](https://blog.csdn.net/qyj19920704/category_11480075.html)
>     :æ€»ç»“æ•°æ®ç»“æž„å’Œç®—æ³•,ä¸åŒç±»åž‹é’ˆå¯¹æ€§è®­ç»ƒ,æå‡ç¼–ç¨‹æ€ç»´,å‰‘æŒ‡å¤§åŽ‚
>
> éžå¸¸æœŸå¾…å’Œæ‚¨ä¸€èµ·åœ¨è¿™ä¸ªå°å°çš„ç½‘ç»œä¸–ç•Œé‡Œå…±åŒæŽ¢ç´¢ã€å­¦ä¹ å’Œæˆé•¿ã€‚ðŸ’ðŸ’ðŸ’ âœ¨âœ¨ æ¬¢è¿Žè®¢é˜…æœ¬ä¸“æ  âœ¨âœ¨

#### åšå®¢ç›®å½•

* + [å¼•è¨€](#_16)
  + [Docker å¤šå¹³å°é•œåƒæž„å»º](#Docker__21)
  + - [å¤šå¹³å°é•œåƒçš„ä¼˜åŠ¿](#_25)
    - [æž„å»ºå¤šå¹³å°é•œåƒçš„æ­¥éª¤](#_31)
  + [æž„å»º ARM64 æž¶æž„çš„ Docker é•œåƒ](#_ARM64__Docker__40)
  + - [è§£æžå‘½ä»¤å‚æ•°](#_48)
    - [Dockerfile çš„ç¼–å†™](#Dockerfile__55)
    - [æž„å»ºè¿‡ç¨‹](#_76)
  + [å¤šå¹³å°é•œåƒçš„ç®¡ç†å’Œä½¿ç”¨](#_82)

### å¼•è¨€

éšç€äº‘è®¡ç®—å’Œå®¹å™¨æŠ€æœ¯çš„å¿«é€Ÿå‘å±•ï¼ŒDocker å·²ç»æˆä¸ºæž„å»ºã€éƒ¨ç½²å’Œè¿è¡Œåº”ç”¨ç¨‹åºçš„æ ‡å‡†å·¥å…·ä¹‹ä¸€ã€‚Docker çš„çµæ´»æ€§å’Œä¾¿æºæ€§ä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿè½»æ¾åœ°åœ¨ä¸åŒçŽ¯å¢ƒä¸­éƒ¨ç½²åº”ç”¨ç¨‹åºã€‚ç„¶è€Œï¼Œéšç€ç¡¬ä»¶æž¶æž„çš„å¤šæ ·åŒ–ï¼Œç‰¹åˆ«æ˜¯ ARM æž¶æž„çš„æµè¡Œï¼Œå¼€å‘è€…éœ€è¦æž„å»ºèƒ½å¤Ÿåœ¨ä¸åŒæž¶æž„ä¸Šè¿è¡Œçš„ Docker é•œåƒã€‚
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/ba1aa377eda7432f93b6f6131da9de22.png#pic_center)

### Docker å¤šå¹³å°é•œåƒæž„å»º

Docker å…è®¸å¼€å‘è€…æž„å»ºé’ˆå¯¹ä¸åŒå¹³å°çš„é•œåƒï¼Œè¿™æ„å‘³ç€ä¸€ä¸ªé•œåƒå¯ä»¥åŒ…å«å¤šä¸ªå¹³å°çš„å˜ä½“ã€‚è¿™ç§å¤šå¹³å°é•œåƒæž„å»ºåŠŸèƒ½å¯¹äºŽéœ€è¦åœ¨å¤šç§ç¡¬ä»¶ä¸Šè¿è¡Œåº”ç”¨ç¨‹åºçš„å¼€å‘è€…æ¥è¯´éžå¸¸æœ‰ç”¨ã€‚

#### å¤šå¹³å°é•œåƒçš„ä¼˜åŠ¿

1. **çµæ´»æ€§**
   ï¼šå¼€å‘è€…å¯ä»¥æž„å»ºä¸€ä¸ªé•œåƒï¼Œç„¶åŽåœ¨ä¸åŒçš„ç¡¬ä»¶æž¶æž„ä¸Šè¿è¡Œï¼Œæ— éœ€ä¸ºæ¯ç§æž¶æž„å•ç‹¬æž„å»ºé•œåƒã€‚
2. **èŠ‚çœç©ºé—´**
   ï¼šå¤šå¹³å°é•œåƒå¯ä»¥å‡å°‘å­˜å‚¨ç©ºé—´çš„å ç”¨ï¼Œå› ä¸ºåªéœ€è¦å­˜å‚¨ä¸€ä¸ªåŒ…å«æ‰€æœ‰å¹³å°å˜ä½“çš„é•œåƒã€‚
3. **ç®€åŒ–éƒ¨ç½²**
   ï¼šåœ¨å¤šä¸ªçŽ¯å¢ƒä¸­éƒ¨ç½²åº”ç”¨ç¨‹åºæ—¶ï¼Œå¯ä»¥ç®€åŒ–éƒ¨ç½²æµç¨‹ï¼Œå› ä¸ºåªéœ€è¦ç®¡ç†ä¸€ä¸ªé•œåƒã€‚

#### æž„å»ºå¤šå¹³å°é•œåƒçš„æ­¥éª¤

æž„å»ºå¤šå¹³å°é•œåƒé€šå¸¸æ¶‰åŠä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š

1. **å®‰è£… Docker**
   ï¼šç¡®ä¿ä½ çš„ç³»ç»Ÿä¸Šå®‰è£…äº† Dockerã€‚
2. **è®¾ç½®æž„å»ºçŽ¯å¢ƒ**
   ï¼šæ ¹æ®éœ€è¦æž„å»ºçš„å¹³å°ï¼Œå¯èƒ½éœ€è¦å®‰è£…é¢å¤–çš„å·¥å…·æˆ–ä¾èµ–ã€‚
3. **ç¼–å†™ Dockerfile**
   ï¼šåˆ›å»ºä¸€ä¸ª Dockerfileï¼ŒæŒ‡å®šåŸºç¡€é•œåƒå’Œæž„å»ºè¿‡ç¨‹ã€‚
4. **ä½¿ç”¨
   `docker build`
   å‘½ä»¤**
   ï¼šä½¿ç”¨
   `docker build`
   å‘½ä»¤å¹¶æŒ‡å®šå¹³å°å‚æ•°æ¥æž„å»ºé•œåƒã€‚

### æž„å»º ARM64 æž¶æž„çš„ Docker é•œåƒ

ä»¥æž„å»ºä¸€ä¸ªåä¸º
`server:test123-arm64`
çš„ ARM64 æž¶æž„çš„ Docker é•œåƒä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
docker build -t "server:test123-arm64" --platform=linux/arm64 .

```

#### è§£æžå‘½ä»¤å‚æ•°

* `docker build`
  ï¼šè¿™æ˜¯ Docker æž„å»ºé•œåƒçš„å‘½ä»¤ã€‚
* `-t "server:test123-arm64"`
  ï¼šè¿™æŒ‡å®šäº†æž„å»ºçš„é•œåƒåç§°å’Œæ ‡ç­¾ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œé•œåƒåç§°æ˜¯
  `server`
  ï¼Œæ ‡ç­¾æ˜¯
  `test123-arm64`
  ã€‚
* `--platform=linux/arm64`
  ï¼šè¿™ä¸ªå‚æ•°æŒ‡å®šäº†ç›®æ ‡å¹³å°ã€‚
  `linux/arm64`
  è¡¨ç¤ºæˆ‘ä»¬æ­£åœ¨æž„å»ºä¸€ä¸ªé€‚ç”¨äºŽ ARM64 æž¶æž„çš„ Linux é•œåƒã€‚
* `.`
  ï¼šè¿™è¡¨ç¤º Dockerfile ä½äºŽå½“å‰ç›®å½•ã€‚

#### Dockerfile çš„ç¼–å†™

ä¸ºäº†æž„å»º ARM64 æž¶æž„çš„é•œåƒï¼Œä½ éœ€è¦ä¸€ä¸ª Dockerfileã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ Dockerfile ç¤ºä¾‹ï¼Œç”¨äºŽæž„å»ºä¸€ä¸ªåŸºäºŽ Alpine Linux çš„ ARM64 é•œåƒï¼Œå¹¶åœ¨å…¶ä¸­å®‰è£… Nginxï¼š

```Dockerfile
# ä½¿ç”¨ Alpine Linux ä½œä¸ºåŸºç¡€é•œåƒï¼Œé€‚ç”¨äºŽ ARM64
FROM arm64v8/alpine:latest

# å®‰è£… Nginx
RUN apk add --no-cache nginx

# å°† Nginx çš„é…ç½®æ–‡ä»¶å¤åˆ¶åˆ°å®¹å™¨ä¸­
COPY nginx.conf /etc/nginx/nginx.conf

# æš´éœ² Nginx çš„ç«¯å£
EXPOSE 80

# å¯åŠ¨ Nginx æœåŠ¡
CMD ["nginx", "-g", "daemon off;"]

```

#### æž„å»ºè¿‡ç¨‹

1. **å‡†å¤‡ Dockerfile**
   ï¼šç¡®ä¿ä½ çš„ Dockerfile ä½äºŽæž„å»ºç›®å½•çš„æ ¹ç›®å½•ã€‚
2. **è¿è¡Œæž„å»ºå‘½ä»¤**
   ï¼šåœ¨ç»ˆç«¯ä¸­è¿è¡Œä¸Šè¿°
   `docker build`
   å‘½ä»¤ã€‚
3. **æŸ¥çœ‹æž„å»ºç»“æžœ**
   ï¼šæž„å»ºå®ŒæˆåŽï¼Œä½ å¯ä»¥ä½¿ç”¨
   `docker images`
   å‘½ä»¤æŸ¥çœ‹æž„å»ºçš„é•œåƒã€‚

### å¤šå¹³å°é•œåƒçš„ç®¡ç†å’Œä½¿ç”¨

æž„å»ºå®ŒæˆåŽï¼Œä½ å¯ä»¥åƒä½¿ç”¨å…¶ä»– Docker é•œåƒä¸€æ ·ä½¿ç”¨å¤šå¹³å°é•œåƒã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨
`docker run`
å‘½ä»¤æ¥è¿è¡Œå®¹å™¨ï¼š

```bash
docker run -d -p 80:80 server:test123-arm64

```

è¿™ä¸ªå‘½ä»¤ä¼šåœ¨åŽå°å¯åŠ¨ä¸€ä¸ªå®¹å™¨ï¼Œå¹¶æ˜ å°„å®¹å™¨çš„ 80 ç«¯å£åˆ°å®¿ä¸»æœºçš„ 80 ç«¯å£ã€‚

> è§‰å¾—æœ‰ç”¨çš„è¯ç‚¹ä¸ªèµž
> `ðŸ‘ðŸ»`
> å‘—ã€‚
>   
> â¤ï¸â¤ï¸â¤ï¸æœ¬äººæ°´å¹³æœ‰é™ï¼Œå¦‚æœ‰çº°æ¼ï¼Œæ¬¢è¿Žå„ä½å¤§ä½¬è¯„è®ºæ‰¹è¯„æŒ‡æ­£ï¼ðŸ˜„ðŸ˜„ðŸ˜„
>
> ðŸ’˜ðŸ’˜ðŸ’˜å¦‚æžœè§‰å¾—è¿™ç¯‡æ–‡å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œä¹Ÿè¯·ç»™ä¸ªç‚¹èµžã€æ”¶è—ä¸‹å§ï¼Œéžå¸¸æ„Ÿè°¢!ðŸ‘ ðŸ‘ ðŸ‘
>
> ðŸ”¥ðŸ”¥ðŸ”¥Stay Hungry Stay Foolish é“é˜»ä¸”é•¿,è¡Œåˆ™å°†è‡³,è®©æˆ‘ä»¬ä¸€èµ·åŠ æ²¹å§ï¼ðŸŒ™ðŸŒ™ðŸŒ™
>
> ![img](https://img-blog.csdnimg.cn/img_convert/a08571f736dc04b5bef51cd09e8e3a0a.gif#pic_center)