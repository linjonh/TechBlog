---
layout: post
title: "纯前端全文检索的两种实现方案ElasticLunr.js-和-libsearch"
date: 2025-03-12 15:43:10 +0800
description: "适合需要高性能和灵活搜索功能的场景，支持字段加权和类似 Elasticsearch 的评分机制。libsearch：适合轻量级和简单需求的项目，无需预建索引，支持多种搜索模式。根据你的具体需求，可以选择合适的方案实现纯前端全文检索。如果需要更复杂的功能（如中文分词或高级评分机制），推荐使用；如果需要快速实现轻量级搜索功能，libsearch是一个不错的选择。希望这篇文章对你有所帮助！如果有任何问题或需要进一步的指导，请随时告诉我。"
keywords: "elastic用前端怎么做"
categories: ['未分类']
tags: ['前端', '全文检索', 'Javascript']
artid: "146206893"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146206893
    alt: "纯前端全文检索的两种实现方案ElasticLunr.js-和-libsearch"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146206893
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146206893
cover: https://bing.ee123.net/img/rand?artid=146206893
image: https://bing.ee123.net/img/rand?artid=146206893
img: https://bing.ee123.net/img/rand?artid=146206893
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     纯前端全文检索的两种实现方案：ElasticLunr.js 和 libsearch
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="ElasticLunrjs__libsearch_2">
     </a>
     纯前端全文检索的两种实现方案：ElasticLunr.js 和 libsearch
    </h2>
    <p>
     在前端开发中，实现全文检索功能可以显著提升用户体验，尤其是在处理大量文本数据时。本文将介绍两种流行的纯前端全文检索方案：
     <strong>
      ElasticLunr.js
     </strong>
     和
     <strong>
      libsearch
     </strong>
     。这两种方案各有特点，适用于不同的场景。
    </p>
    <h3>
     <a id="1__ElasticLunrjs__6">
     </a>
     1. 使用 ElasticLunr.js 实现纯前端全文检索
    </h3>
    <h4>
     <a id="_8">
     </a>
     方案特点
    </h4>
    <ul>
     <li>
      <strong>
       基于 Lunr.js 的扩展
      </strong>
      ：支持字段搜索、查询时加权和类似 Elasticsearch 的评分机制。
     </li>
     <li>
      <strong>
       高性能和灵活性
      </strong>
      ：适合需要高性能和灵活搜索功能的场景。
     </li>
     <li>
      <strong>
       支持中文分词
      </strong>
      ：结合中文分词库（如
      <code>
       nodejieba
      </code>
      ）可以实现对中文的支持。
     </li>
    </ul>
    <h4>
     <a id="_13">
     </a>
     实现步骤
    </h4>
    <h5>
     <a id="11__ElasticLunrjs_15">
     </a>
     1.1 引入 ElasticLunr.js
    </h5>
    <p>
     在 HTML 文件中引入 ElasticLunr.js：
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/elasticlunr@latest/elasticlunr.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <p>
     <strong>
      注意
     </strong>
     ：如果链接无法访问，请检查链接的合法性或尝试其他 CDN。
    </p>
    <h5>
     <a id="12__22">
     </a>
     1.2 创建索引并添加文档
    </h5>
    <pre><code class="prism language-javascript"><span class="token keyword">const</span> index <span class="token operator">=</span> <span class="token function">elasticlunr</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addField</span><span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 添加需要搜索的字段</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addField</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setRef</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 设置唯一标识字段</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> documents <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'JavaScript 全文搜索引擎'</span><span class="token punctuation">,</span> <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token string">'ElasticLunr.js 是一个轻量级的 JavaScript 全文搜索引擎……'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 更多文档</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

documents<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">doc</span> <span class="token operator">=&gt;</span> index<span class="token punctuation">.</span><span class="token function">addDoc</span><span class="token punctuation">(</span>doc<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将文档添加到索引中</span>
</code></pre>
    <h5>
     <a id="13__38">
     </a>
     1.3 执行搜索
    </h5>
    <pre><code class="prism language-javascript"><span class="token keyword">const</span> results <span class="token operator">=</span> index<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token string">'搜索关键词'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出搜索结果</span>
</code></pre>
    <h5>
     <a id="14__44">
     </a>
     1.4 优化搜索结果
    </h5>
    <p>
     可以通过设置字段权重来优化搜索结果：
    </p>
    <pre><code class="prism language-javascript">index<span class="token punctuation">.</span><span class="token function">addFields</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">boost</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 提高标题字段的权重</span>
    <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">boost</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h5>
     <a id="15__53">
     </a>
     1.5 支持中文分词
    </h5>
    <p>
     如果需要支持中文，可以结合
     <code>
      nodejieba
     </code>
     等中文分词库进行预处理：
    </p>
    <pre><code class="prism language-javascript"><span class="token comment">// 示例：使用 nodejieba 进行中文分词</span>
<span class="token keyword">const</span> jieba <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'nodejieba'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> text <span class="token operator">=</span> <span class="token string">"这是一个示例文本"</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> words <span class="token operator">=</span> jieba<span class="token punctuation">.</span><span class="token function">cut</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>words<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 分词结果</span>
</code></pre>
    <hr/>
    <h3>
     <a id="2__libsearch__65">
     </a>
     2. 使用 libsearch 实现纯前端全文检索
    </h3>
    <h4>
     <a id="_67">
     </a>
     方案特点
    </h4>
    <ul>
     <li>
      <strong>
       简单易用
      </strong>
      ：无需预建索引，适合轻量级和简单需求的项目。
     </li>
     <li>
      <strong>
       支持多种搜索模式
      </strong>
      ：包括全词匹配、前缀匹配和自动补全。
     </li>
     <li>
      <strong>
       无需额外依赖
      </strong>
      ：直接引入即可使用。
     </li>
    </ul>
    <h4>
     <a id="_72">
     </a>
     实现步骤
    </h4>
    <h5>
     <a id="21__libsearch_74">
     </a>
     2.1 引入 libsearch
    </h5>
    <p>
     在 HTML 文件中引入 libsearch：
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/libsearch@latest/libsearch.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <p>
     <strong>
      注意
     </strong>
     ：如果链接无法访问，请检查链接的合法性或尝试其他 CDN。
    </p>
    <h5>
     <a id="22__81">
     </a>
     2.2 准备文档数据
    </h5>
    <pre><code class="prism language-javascript"><span class="token keyword">const</span> documents <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'JavaScript 全文搜索引擎'</span><span class="token punctuation">,</span> <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token string">'libsearch 是一个轻量级的 JavaScript 全文搜索引擎……'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 更多文档</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
    <h5>
     <a id="23__89">
     </a>
     2.3 执行搜索
    </h5>
    <pre><code class="prism language-javascript"><span class="token keyword">const</span> results <span class="token operator">=</span> libsearch<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>documents<span class="token punctuation">,</span> <span class="token string">'搜索关键词'</span><span class="token punctuation">,</span> <span class="token parameter">doc</span> <span class="token operator">=&gt;</span> doc<span class="token punctuation">.</span>title <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> doc<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出搜索结果</span>
</code></pre>
    <h5>
     <a id="24__95">
     </a>
     2.4 配置搜索选项
    </h5>
    <p>
     可以通过配置选项来调整搜索行为：
    </p>
    <pre><code class="prism language-javascript"><span class="token keyword">const</span> results <span class="token operator">=</span> libsearch<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>documents<span class="token punctuation">,</span> <span class="token string">'搜索关键词'</span><span class="token punctuation">,</span> <span class="token parameter">doc</span> <span class="token operator">=&gt;</span> doc<span class="token punctuation">.</span>title <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> doc<span class="token punctuation">.</span>body<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">'autocomplete'</span><span class="token punctuation">,</span> <span class="token comment">// 支持自动补全</span>
    <span class="token literal-property property">caseSensitive</span><span class="token operator">:</span> <span class="token boolean">false</span>  <span class="token comment">// 不区分大小写</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h5>
     <a id="25__104">
     </a>
     2.5 优化用户体验
    </h5>
    <p>
     可以结合输入框实现实时搜索，提升用户体验：
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>search-input<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>搜索关键词<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>search-results<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'search-input'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> keyword <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        <span class="token keyword">const</span> results <span class="token operator">=</span> libsearch<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>documents<span class="token punctuation">,</span> keyword<span class="token punctuation">,</span> <span class="token parameter">doc</span> <span class="token operator">=&gt;</span> doc<span class="token punctuation">.</span>title <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> doc<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> resultsDiv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'search-results'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resultsDiv<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> results<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>result<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <hr/>
    <h3>
     <a id="_122">
     </a>
     总结
    </h3>
    <ul>
     <li>
      <strong>
       ElasticLunr.js
      </strong>
      ：适合需要高性能和灵活搜索功能的场景，支持字段加权和类似 Elasticsearch 的评分机制。
     </li>
     <li>
      <strong>
       libsearch
      </strong>
      ：适合轻量级和简单需求的项目，无需预建索引，支持多种搜索模式。
     </li>
    </ul>
    <p>
     根据你的具体需求，可以选择合适的方案实现纯前端全文检索。如果需要更复杂的功能（如中文分词或高级评分机制），推荐使用
     <strong>
      ElasticLunr.js
     </strong>
     ；如果需要快速实现轻量级搜索功能，
     <strong>
      libsearch
     </strong>
     是一个不错的选择。
    </p>
    <hr/>
    <p>
     希望这篇文章对你有所帮助！如果有任何问题或需要进一步的指导，请随时告诉我。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="6874747073:3a2f2f626c6f672e6373646e2e6e65742f7a7a64646164612f:61727469636c652f64657461696c732f313436323036383933" class_="artid" style="display:none">
 </p>
</div>


