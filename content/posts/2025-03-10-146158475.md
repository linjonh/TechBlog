---
layout: post
title: "Vue-项目中,.env文件怎么用"
date: 2025-03-10 16:55:30 +0800
description: "在相应的.env文件中，按照VUE_APP_注意：只有以VUE_APP_开头的变量才会被 Vue CLI 注入到项目中。除了默认的开发和生产环境，你还可以自定义环境。例如，创建一个然后，在运行时，会加载.env和文件。"
keywords: "Vue 项目中，.env文件怎么用?"
categories: ['未分类']
tags: ['前端', 'Vue', 'Javascript']
artid: "146158475"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146158475
    alt: "Vue-项目中,.env文件怎么用"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146158475
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146158475
cover: https://bing.ee123.net/img/rand?artid=146158475
image: https://bing.ee123.net/img/rand?artid=146158475
img: https://bing.ee123.net/img/rand?artid=146158475
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Vue 项目中，.env文件怎么用?
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     在 Vue 项目中，
     <code>
      .env
     </code>
     文件用于存储环境变量，不同的环境（如开发环境、测试环境、生产环境）可以使用不同的
     <code>
      .env
     </code>
     文件来管理对应的配置信息。以下是关于 Vue 项目中
     <code>
      .env
     </code>
     文件的详细使用方法：
    </p>
    <h4>
     <a id="1__2">
     </a>
     1. 项目创建
    </h4>
    <p>
     确保你已经使用 Vue CLI 创建了一个 Vue 项目。如果还没有创建，可以使用以下命令创建一个新的 Vue 项目：
    </p>
    <pre><code class="prism language-bash">vue create my-vue-project
<span class="token builtin class-name">cd</span> my-vue-project
</code></pre>
    <h4>
     <a id="2_env__9">
     </a>
     2.
     <code>
      .env
     </code>
     文件的命名规则
    </h4>
    <p>
     Vue CLI 支持多种
     <code>
      .env
     </code>
     文件命名，以适应不同的环境需求：
    </p>
    <ul>
     <li>
      <code>
       .env
      </code>
      ：所有环境都会加载的通用配置。
     </li>
     <li>
      <code>
       .env.development
      </code>
      ：开发环境（
      <code>
       npm run serve
      </code>
      ）加载的配置。
     </li>
     <li>
      <code>
       .env.production
      </code>
      ：生产环境（
      <code>
       npm run build
      </code>
      ）加载的配置。
     </li>
     <li>
      <code>
       .env.test
      </code>
      ：测试环境加载的配置。
     </li>
    </ul>
    <h4>
     <a id="3__16">
     </a>
     3. 定义环境变量
    </h4>
    <p>
     在相应的
     <code>
      .env
     </code>
     文件中，按照
     <code>
      VUE_APP_
     </code>
     前缀的格式定义环境变量，例如：
    </p>
    <ul>
     <li>
      <strong>
       <code>
        .env.development
       </code>
      </strong>
     </li>
    </ul>
    <pre><code class="prism language-plaintext">VUE_APP_API_BASE_URL = http://localhost:3000/api
VUE_APP_DEBUG = true
</code></pre>
    <ul>
     <li>
      <strong>
       <code>
        .env.production
       </code>
      </strong>
     </li>
    </ul>
    <pre><code class="prism language-plaintext">VUE_APP_API_BASE_URL = https://example.com/api
VUE_APP_DEBUG = false
</code></pre>
    <p>
     注意：只有以
     <code>
      VUE_APP_
     </code>
     开头的变量才会被 Vue CLI 注入到项目中。
    </p>
    <h4>
     <a id="4__30">
     </a>
     4. 在项目中使用环境变量
    </h4>
    <p>
     在 Vue 项目中，可以通过
     <code>
      process.env
     </code>
     对象来访问定义的环境变量。
    </p>
    <ul>
     <li>
      <strong>
       在 Vue 组件中使用
      </strong>
     </li>
    </ul>
    <pre><code class="prism language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;API Base URL: {<!-- -->{ apiBaseUrl }}&lt;/p&gt;
    &lt;p&gt;Debug Mode: {<!-- -->{ debugMode }}&lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      apiBaseUrl: process.env.VUE_APP_API_BASE_URL,
      debugMode: process.env.VUE_APP_DEBUG
    };
  }
};
&lt;/script&gt;
</code></pre>
    <ul>
     <li>
      <strong>
       在 JavaScript 文件中使用
      </strong>
     </li>
    </ul>
    <pre><code class="prism language-javascript"><span class="token comment">// src/services/api.js</span>
<span class="token keyword">const</span> apiBaseUrl <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VUE_APP_API_BASE_URL</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>apiBaseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/data</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="5__62">
     </a>
     5. 加载不同环境的配置
    </h4>
    <p>
     根据启动命令的不同，Vue CLI 会自动加载相应的
     <code>
      .env
     </code>
     文件：
    </p>
    <ul>
     <li>
      <strong>
       开发环境
      </strong>
      ：运行
      <code>
       npm run serve
      </code>
      时，会加载
      <code>
       .env
      </code>
      和
      <code>
       .env.development
      </code>
      文件，
      <code>
       .env.development
      </code>
      文件中的配置会覆盖
      <code>
       .env
      </code>
      中同名的配置。
     </li>
     <li>
      <strong>
       生产环境
      </strong>
      ：运行
      <code>
       npm run build
      </code>
      时，会加载
      <code>
       .env
      </code>
      和
      <code>
       .env.production
      </code>
      文件，
      <code>
       .env.production
      </code>
      文件中的配置会覆盖
      <code>
       .env
      </code>
      中同名的配置。
     </li>
    </ul>
    <h4>
     <a id="6__67">
     </a>
     6. 自定义环境
    </h4>
    <p>
     除了默认的开发和生产环境，你还可以自定义环境。例如，创建一个
     <code>
      .env.staging
     </code>
     文件用于预发布环境：
    </p>
    <pre><code class="prism language-plaintext">VUE_APP_API_BASE_URL = https://staging.example.com/api
VUE_APP_DEBUG = false
</code></pre>
    <p>
     然后，在
     <code>
      package.json
     </code>
     中添加自定义脚本：
    </p>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
  <span class="token string-property property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"serve"</span><span class="token operator">:</span> <span class="token string">"vue-cli-service serve"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"build"</span><span class="token operator">:</span> <span class="token string">"vue-cli-service build"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"build:staging"</span><span class="token operator">:</span> <span class="token string">"vue-cli-service build --mode staging"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     运行
     <code>
      npm run build:staging
     </code>
     时，会加载
     <code>
      .env
     </code>
     和
     <code>
      .env.staging
     </code>
     文件。
    </p>
    <h4>
     <a id="7__85">
     </a>
     7. 注意事项
    </h4>
    <ul>
     <li>
      <strong>
       安全性
      </strong>
      ：不要在
      <code>
       .env
      </code>
      文件中存储敏感信息（如数据库密码、API 密钥等），如果需要存储敏感信息，可以考虑使用环境变量注入或加密存储。
     </li>
     <li>
      <strong>
       重启服务
      </strong>
      ：修改
      <code>
       .env
      </code>
      文件后，需要重新启动开发服务器或重新构建项目，新的环境变量才能生效。
     </li>
    </ul>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470:733a2f2f626c6f672e6373646e2e6e65742f776b6a3030312f:61727469636c652f64657461696c732f313436313538343735" class_="artid" style="display:none">
 </p>
</div>


