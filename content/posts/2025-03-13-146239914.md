---
layout: post
title: "硬件驱动51单片机LED动态数码管"
date: 2025-03-13 20:43:51 +0800
description: "51单片机共40个引脚，其中P0,P1,P2,P3是四个有8引脚的寄存器，寄存器可视为全局变量，寄存器在keil中以特殊宏的形式储存，例如：        用C语言规范写法，需将寄存器地址的值强转为指针，然后访问修改指针所指向内容，因此上图中的寄存器代码等价于：         单片机通电后，51单片机的40个引脚均为高电平（即值均为1），其中引脚21~28为寄存器P2的八个引脚P20~P27，负责控制LED模块的8个发光二极管。         若将P20置为低电平（即值改为0），则发光二极管D1两端产生"
keywords: "硬件驱动——51单片机、LED、动态数码管"
categories: ['学习记录']
tags: ['嵌入式硬件', '单片机', '51单片机']
artid: "146239914"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146239914
    alt: "硬件驱动51单片机LED动态数码管"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146239914
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146239914
cover: https://bing.ee123.net/img/rand?artid=146239914
image: https://bing.ee123.net/img/rand?artid=146239914
img: https://bing.ee123.net/img/rand?artid=146239914
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     硬件驱动——51单片机、LED、动态数码管
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <hr id="hr-toc" name="tableOfContents"/>
    <p>
    </p>
    <h2 id="%E4%B8%80%E3%80%8151%E5%8D%95%E7%89%87%E6%9C%BA" name="%E4%B8%80%E3%80%8151%E5%8D%95%E7%89%87%E6%9C%BA">
     一、51单片机
    </h2>
    <hr/>
    <h3 id="1.%E5%AF%84%E5%AD%98%E5%99%A8%C2%A0" name="1.%E5%AF%84%E5%AD%98%E5%99%A8%C2%A0">
     1.寄存器
    </h3>
    <p class="img-center">
     <img alt="" height="745" src="https://i-blog.csdnimg.cn/direct/1dd6cf1f600e40e893e02c5f220d6f21.png" width="1166"/>
    </p>
    <p>
     51单片机共40个引脚，其中P0,P1,P2,P3是四个有8引脚的
     <strong>
      寄存器
     </strong>
     ，寄存器可视为
     <strong>
      全局变量
     </strong>
     ，寄存器在
     <strong>
      keil
     </strong>
     中以
     <strong>
      特殊宏
     </strong>
     的形式储存，例如：
    </p>
    <p class="img-center">
     <img alt="" height="377" src="https://i-blog.csdnimg.cn/direct/87b4d1c89dc548aabaeb57793dfb6f9f.png" width="445"/>
    </p>
    <p>
     用C语言规范写法，需将寄存器地址的值
     <strong>
      强转为指针
     </strong>
     ，然后访问修改指针所指向内容，因此上图中的寄存器代码等价于：
    </p>
    <p class="img-center">
     <img alt="" height="80" src="https://i-blog.csdnimg.cn/direct/75fe9b0b331e435a970e351fd65e7a1a.png" width="654"/>
    </p>
    <p>
    </p>
    <h2 id="%E4%BA%8C%E3%80%81LED%E7%82%B9%E7%81%AF" name="%E4%BA%8C%E3%80%81LED%E7%82%B9%E7%81%AF">
     二、LED点灯
    </h2>
    <hr/>
    <h3 id="1.%E5%8E%9F%E7%90%86" name="1.%E5%8E%9F%E7%90%86">
     1.原理
    </h3>
    <p>
     单片机通电后，51单片机的40个引脚均为高电平（即值均为1），其中引脚21~28为
     <strong>
      寄存器P2
     </strong>
     的八个引脚P20~P27，负责控制LED模块的
     <strong>
      8个发光二极管
     </strong>
     。
    </p>
    <p class="img-center">
     <img alt="" height="542" src="https://i-blog.csdnimg.cn/direct/79ea4de49b724dc5bcdfe433dd93cbff.png" width="485"/>
    </p>
    <p>
     若将P20置为低电平（即值改为0），则发光二极管D1两端产生电势差，从而产生电流，二极管导通发光。方法为用
     <strong>
      位运算
     </strong>
     的方式将寄存器P2的值由1111 1111改为1111 1110，例：
    </p>
    <pre><code class="language-cs">    P2 &amp;= ~(1 &lt;&lt; 0);
    // (1 &lt;&lt; 0)即二进制数  0000 0001
    //~(1 &lt;&lt; 0)按位取反后为1111 1110
    //&amp;=即与等于，执行置0操作</code></pre>
    <h3 id="%C2%A02.%E5%B0%81%E8%A3%85%E5%87%BD%E6%95%B0" name="%C2%A02.%E5%B0%81%E8%A3%85%E5%87%BD%E6%95%B0">
     2.封装函数
    </h3>
    <p>
     封装一个延时函数
    </p>
    <p>
     <img alt="" height="135" src="https://i-blog.csdnimg.cn/direct/224a360467214680b80b8eebb07791ad.png" width="480"/>
    </p>
    <p>
     封装一系列LED相关函数
    </p>
    <p>
     <img alt="" height="583" src="https://i-blog.csdnimg.cn/direct/e3c22a473eb54630943abe3e5a8db8ac.png" width="517"/>
    </p>
    <h3 id="3.%E9%A1%BA%E5%BA%8F%E7%82%B9%E7%81%AF%C2%A0" name="3.%E9%A1%BA%E5%BA%8F%E7%82%B9%E7%81%AF%C2%A0">
     3.顺序点灯
    </h3>
    <p>
     让灯顺序点亮 ，再循环亮回来
    </p>
    <p>
     <img alt="" height="528" src="https://i-blog.csdnimg.cn/direct/2b478f1616e0490ab8b80738c74cffe8.png" width="576"/>
    </p>
    <h3 id="4.%E7%89%B9%E5%AE%9A%E4%BD%8D%E7%82%B9%E7%81%AF" name="4.%E7%89%B9%E5%AE%9A%E4%BD%8D%E7%82%B9%E7%81%AF">
     4.特定位点灯
    </h3>
    <p>
     令能被2整除的位数上的灯亮，再让能被3整除的灯亮，交替闪烁
    </p>
    <p>
     <img alt="" height="297" src="https://i-blog.csdnimg.cn/direct/2bedf5400ed745e68574c3b7f6b0115b.png" width="621"/>
    </p>
    <p>
    </p>
    <h2 id="%E4%B8%89%E3%80%81%E5%8A%A8%E6%80%81%E6%95%B0%E7%A0%81%E7%AE%A1" name="%E4%B8%89%E3%80%81%E5%8A%A8%E6%80%81%E6%95%B0%E7%A0%81%E7%AE%A1">
     三、动态数码管
    </h2>
    <hr/>
    <h3 id="1.%E5%8E%9F%E7%90%86" name="1.%E5%8E%9F%E7%90%86">
     1.原理
    </h3>
    <p>
     单片机通电后，51单片机的40个引脚均为高电平（即值均为1），其中引脚39~32为
     <strong>
      寄存器P0
     </strong>
     的八个引脚P00~P07，负责控制
     <strong>
      数码管a,b,c,d,e,f,g,dp
     </strong>
     的亮灭。
    </p>
    <p>
     另外引脚1~4为
     <strong>
      寄存器P1
     </strong>
     的前四个引脚P10~P13，负责控制
     <strong>
      4位数码管模块
     </strong>
     的亮灭。
    </p>
    <p class="img-center">
     <img alt="" height="626" src="https://i-blog.csdnimg.cn/direct/2b665d40e4264680825005b4573aea18.png" width="909"/>
    </p>
    <h3 id="2.%E5%B0%81%E8%A3%85%E5%87%BD%E6%95%B0%C2%A0" name="2.%E5%B0%81%E8%A3%85%E5%87%BD%E6%95%B0%C2%A0">
     2.封装函数
    </h3>
    <p>
     封装一系列数码管相关函数
    </p>
    <p class="img-center">
     <img alt="" height="640" src="https://i-blog.csdnimg.cn/direct/abb7bfec06064dea8e293acb81ee9a10.png" width="954"/>
    </p>
    <h3 id="3.0~9%E8%B7%B3%E5%8F%98" name="3.0~9%E8%B7%B3%E5%8F%98">
     3.0~9跳变
    </h3>
    <p>
     从指定数码管由0~9进行跳变
    </p>
    <p>
     <img alt="" height="378" src="https://i-blog.csdnimg.cn/direct/d1aada3410c343259c76ef61f65c63cf.png" width="550"/>
    </p>
    <h3 id="4.%E9%A1%BA%E5%BA%8F%E7%A7%BB%E4%BD%8D0~9%E8%B7%B3%E5%8F%98" name="4.%E9%A1%BA%E5%BA%8F%E7%A7%BB%E4%BD%8D0~9%E8%B7%B3%E5%8F%98">
     4.顺序移位0~9跳变
    </h3>
    <p>
     先第0位数码管从0跳变到9，再第1位数码管从0跳变到9，直到第3位数码管跳变完再循环至第0位数管
    </p>
    <p>
     <img alt="" height="688" src="https://i-blog.csdnimg.cn/direct/fe46ce7c393442aa9b58ceb009e0fccc.png" width="609"/>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330315f37393839353534312f:61727469636c652f64657461696c732f313436323339393134" class_="artid" style="display:none">
 </p>
</div>


