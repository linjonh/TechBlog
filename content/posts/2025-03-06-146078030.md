---
layout: post
title: "爬虫相关的零碎知识"
date: 2025-03-06 19:27:33 +0800
description: "url、字符串、hex、base64、sign、MD5、hash系列算法介绍。提示：以下是本篇文章正文内容，下面案例可供参考。"
keywords: "爬虫相关的零碎知识"
categories: ['爬虫']
tags: ['爬虫']
artid: "146078030"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146078030
    alt: "爬虫相关的零碎知识"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146078030
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146078030
cover: https://bing.ee123.net/img/rand?artid=146078030
image: https://bing.ee123.net/img/rand?artid=146078030
img: https://bing.ee123.net/img/rand?artid=146078030
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     爬虫相关的零碎知识
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <blockquote>
     <p>
      提示：文章写完后，目录可以自动生成，如何生成可参考右边的帮助文档
     </p>
    </blockquote>
    <p>
    </p>
    <p>
    </p>
    <hr/>
    <h2>
     <a id="_7">
     </a>
     前言
    </h2>
    <p>
     <code>
      提示：这里可以添加本文要记录的大概内容：
     </code>
    </p>
    <p>
     url、字符串、hex、base64、sign、MD5、hash系列算法介绍。
    </p>
    <hr/>
    <p>
     <code>
      提示：以下是本篇文章正文内容，下面案例可供参考
     </code>
    </p>
    <h2>
     <a id="URL_16">
     </a>
     一、URL
    </h2>
    <pre><code class="prism language-c">    统一资源定位符<span class="token punctuation">,</span>用来定位互联网上的某一个资料的
    http<span class="token operator">:</span><span class="token comment">//域名/a/c/d.jpg?xxx=xxx&amp;xxx=xxx</span>

    协议<span class="token operator">:</span><span class="token comment">//域名/a/b/c/d.jpg?username=xxx&amp;pwd=xxx#</span>
    请求<span class="token operator">:</span>
        请求行
        请求头
        请求体
        
    响应<span class="token operator">:</span>
        状态行
        响应头
        响应体

    域名<span class="token operator">:</span>
        ip地址<span class="token operator">:</span>端口号
        一台机器上可能会有多个使用网络的软件正在运行，
        在一个网卡上面会有<span class="token number">65536</span>个tcp端口 <span class="token number">65536</span>个udp端口 每一个网络应用程序都会监听一个端口

    <span class="token operator">/</span>a<span class="token operator">/</span>b<span class="token operator">/</span>c
        虚拟路径，表示该应用程序对外提供的资源的路径<span class="token punctuation">(</span>虚拟<span class="token punctuation">)</span>，可以理解成文件夹

    d<span class="token punctuation">.</span>jpg
        具体的某一个资源。 jpg，png<span class="token punctuation">.</span>

    <span class="token operator">?</span>后面
        表示的是参数。代表的是该资源是否有权限可以正常访问，
        服务器可以接收这些参数，进而进行相关的判断

    #
        锚点，作用在客户端的<span class="token punctuation">.</span>表示当前页面被打开的时候。默认展示的内容是哪里

    注意，如果参数有一些特殊符号的话。整体的url的逻辑可能会产生非常大的偏差

    http<span class="token operator">:</span><span class="token comment">//xxxx/user/login?user=&amp;passwd=</span>
    http<span class="token operator">:</span><span class="token comment">//xxxx/user/login?user=&amp;hello=123&amp;passwd=123456</span>
    本来应该有<span class="token number">2</span>个参数，但是由于特殊的字符出现<span class="token punctuation">.</span>导致url的参数变成了<span class="token number">3</span>个，这里是有被注入的风险的。
    这就要求我们在传递参数的时候，要格外的注意，如果参数中有特殊的符号<span class="token punctuation">(</span>包括中文<span class="token punctuation">)</span>
    这种特殊的符号就必须要进行处理，处理成无害的等价的符号<span class="token punctuation">(</span>urlencode<span class="token punctuation">)</span>

    处理之后的内容，<span class="token operator">%</span>XX
    处理逻辑<span class="token operator">:</span>把你的特殊符号<span class="token operator">-&gt;</span>处理成十六进制的ascii<span class="token operator">-&gt;</span>前面加上<span class="token operator">%</span>

    unicode <span class="token operator">-&gt;</span> <span class="token number">1</span><span class="token operator">-&gt;</span> <span class="token number">4</span>个
    gbk <span class="token operator">-&gt;</span> <span class="token number">1</span> <span class="token operator">-&gt;</span> <span class="token number">2</span>个
    utf<span class="token operator">-</span><span class="token number">8</span> <span class="token operator">-&gt;</span> <span class="token number">1</span> <span class="token operator">-&gt;</span> <span class="token number">3</span>个
    <span class="token operator">%</span>xx表示一个字节
</code></pre>
    <p>
     urljoin、quote、urlencode、unquote、quote_plus基本使用如下
    </p>
    <pre><code class="prism language-c">from urllib<span class="token punctuation">.</span>parse import urljoin<span class="token punctuation">,</span>quote<span class="token punctuation">,</span>urlencode<span class="token punctuation">,</span>unquote<span class="token punctuation">,</span>quote_plus

s <span class="token operator">=</span> <span class="token string">"主业"</span>
<span class="token function">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> # b<span class="token char">'\xe4\xb8\xbb\xe4\xb8\x9a'</span>
<span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">b</span><span class="token char">'\xe4\xb8\xbb\xe4\xb8\x9a'</span></span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">str</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token char">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">strip</span><span class="token punctuation">(</span><span class="token char">'b\''</span><span class="token punctuation">)</span><span class="token punctuation">)</span> # \xe4\xb8\xbb\xe4\xb8\x9a
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">str</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token char">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">strip</span><span class="token punctuation">(</span><span class="token char">'b\''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"\\x"</span><span class="token punctuation">,</span><span class="token string">"%"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">upper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> # <span class="token operator">%</span>E4<span class="token operator">%</span>B8<span class="token operator">%</span>BB<span class="token operator">%</span>E4<span class="token operator">%</span>B8<span class="token operator">%</span><span class="token number">9</span>A

# 当前页面的url
url1 <span class="token operator">=</span> <span class="token string">"http://www.baidu.com/a/b"</span>
<span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">xpath</span><span class="token expression">提取的</span></span>
url2 <span class="token operator">=</span> <span class="token string">"/haha/hehe"</span> # <span class="token operator">-&gt;</span> <span class="token string">"http://www.baidu.com/haha/hehe"</span>
url3 <span class="token operator">=</span> <span class="token string">"haha/hehe"</span> # <span class="token operator">-&gt;</span> <span class="token string">"http://www.baidu.com/a/haha/hehe"</span>
#
<span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">url</span><span class="token expression"><span class="token number">1</span> <span class="token operator">+</span> url2</span></span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">urljoin</span><span class="token punctuation">(</span>url1<span class="token punctuation">,</span>url2<span class="token punctuation">)</span><span class="token punctuation">)</span> # http<span class="token operator">:</span><span class="token comment">//www.baidu.com/haha/hehe</span>
<span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">url</span><span class="token expression"><span class="token number">1</span> <span class="token operator">+</span> url3</span></span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">urljoin</span><span class="token punctuation">(</span>url1<span class="token punctuation">,</span>url3<span class="token punctuation">)</span><span class="token punctuation">)</span> # http<span class="token operator">:</span><span class="token comment">//www.baidu.com/a/haha/hehe</span>

my_params <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"username"</span><span class="token operator">:</span> <span class="token string">"九黎"</span><span class="token punctuation">,</span>
    <span class="token string">"password"</span><span class="token operator">:</span> <span class="token string">"123456"</span>
<span class="token punctuation">}</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">urlencode</span><span class="token punctuation">(</span>my_params<span class="token punctuation">)</span><span class="token punctuation">)</span> # username<span class="token operator">=</span><span class="token operator">%</span>E4<span class="token operator">%</span>B9<span class="token operator">%</span><span class="token number">9</span>D<span class="token operator">%</span>E9<span class="token operator">%</span>BB<span class="token operator">%</span><span class="token number">8</span>E<span class="token operator">&amp;</span>password<span class="token operator">=</span><span class="token number">123456</span>
<span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">urlencode</span><span class="token expression">可以把字典类型的参数<span class="token punctuation">,</span>直接处理成字符串<span class="token punctuation">(</span>处理urlencode以及参数的拼接一次搞定<span class="token punctuation">)</span></span></span>

# 很少用这个东西。因为requests模块自动就能帮你完成这个动作

import requests
url <span class="token operator">=</span> <span class="token string">"http://www.baidu.com"</span>
my_params <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"username"</span><span class="token operator">:</span> <span class="token string">"九黎"</span><span class="token punctuation">,</span>
    <span class="token string">"password"</span><span class="token operator">:</span> <span class="token string">"123456"</span>
<span class="token punctuation">}</span>
resp <span class="token operator">=</span> requests<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> params<span class="token operator">=</span>my_params<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>resp<span class="token punctuation">.</span>request<span class="token punctuation">.</span>url<span class="token punctuation">)</span> # http<span class="token operator">:</span><span class="token comment">//www.baidu.com/?username=%E4%B9%9D%E9%BB%8E&amp;password=123456</span>
# 如果该网站的参数经过加密的。并且，。有的网站会在urlencode之后。进行加密。
# 加密<span class="token punctuation">(</span>被urlencode之后的参数<span class="token punctuation">)</span>
# 发请求<span class="token punctuation">(</span>密文<span class="token punctuation">)</span>

# 有一些特殊的网站，cookie的值，需要urlencode
# 这种cookie的一部分值需要urlencode的时候，此时<span class="token punctuation">,</span>我们希望能不能只处理一小部分字符串

s <span class="token operator">=</span> <span class="token string">"http://www.baidu.com"</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">quote</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">http</span><span class="token expression"><span class="token operator">%</span><span class="token number">3</span>A</span><span class="token comment">//www.baidu.com</span></span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">quote_plus</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">http</span><span class="token expression"><span class="token operator">%</span><span class="token number">3</span>A<span class="token operator">%</span><span class="token number">2F</span><span class="token operator">%</span><span class="token number">2F</span>www<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com</span></span>

resp_text <span class="token operator">=</span> <span class="token string">"http%3A%2F%2Fwww.baidu.com"</span>
<span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">urldecode</span> <span class="token expression">解码</span></span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">unquote</span><span class="token punctuation">(</span>resp_text<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">http</span><span class="token expression"><span class="token operator">:</span></span><span class="token comment">//www.baidu.com</span></span>
#上述这个逻辑，只有在程序中真的要用的时候<span class="token punctuation">.</span>
#如果你只是想知道这个值到底原文是什么，只是想看一眼<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>此时去找工具。不要写代码
<span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">https</span><span class="token expression"><span class="token operator">:</span></span><span class="token comment">//ctool.dev/tool.html</span></span>

<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"主业"</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span># b<span class="token char">'\xe4\xb8\xbb\xe4\xb8\x9a'</span>
</code></pre>
    <h2>
     <a id="_128">
     </a>
     二、字符串
    </h2>
    <pre><code class="prism language-c">计算机的底层<span class="token operator">:</span><span class="token number">0</span> <span class="token number">1</span>
    你再电脑上看到的任何东西<span class="token punctuation">(</span>电影，歌曲，文字，美女图片<span class="token punctuation">)</span>
    <span class="token number">101010100001000110</span><span class="token operator">-&gt;</span>数字 <span class="token operator">-&gt;</span> 人类赋予了这些数字的显示效果。 <span class="token operator">-&gt;</span> 显示出来不同的文字和符号

    编码
    数字 <span class="token operator">-&gt;</span> 现实效果

    在不同的编码下。显示的文字是不同的
    <span class="token number">10086</span> <span class="token operator">-&gt;</span> utf8
    <span class="token number">10086</span> <span class="token operator">-&gt;</span> gbk

    我们看到的文字和符号，本质上就是数字

    a <span class="token operator">-&gt;</span> <span class="token number">0110</span> <span class="token number">0001</span> <span class="token number">97</span> <span class="token operator">-&gt;</span> 一个字节
    按照ascii的编排，一个文字符号，就是一个字节

    abc <span class="token operator">-&gt;</span> <span class="token number">0110</span> <span class="token number">0001</span> <span class="token number">0110</span> <span class="token number">0010</span> <span class="token number">0110</span> <span class="token number">0011</span>
        <span class="token operator">-&gt;</span> <span class="token number">97</span>       <span class="token number">98</span>        <span class="token number">99</span>
        <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token number">97</span><span class="token punctuation">,</span><span class="token number">98</span><span class="token punctuation">,</span><span class="token number">99</span><span class="token punctuation">]</span>

        一个字节<span class="token punctuation">,</span>最大的字节<span class="token operator">:</span> <span class="token number">1111</span> <span class="token number">1111</span> <span class="token operator">-&gt;</span> <span class="token number">255</span>
        可以用<span class="token number">0</span><span class="token operator">~</span><span class="token number">255</span> 之间的数字<span class="token punctuation">,</span>来 表示一个字节

    中文状态<span class="token punctuation">(</span>utf<span class="token operator">-</span><span class="token number">8</span>的逻辑<span class="token punctuation">)</span>
    一个中文<span class="token punctuation">,</span> <span class="token number">3</span>个字节
    <span class="token string">"主业"</span> <span class="token operator">=</span><span class="token operator">&gt;</span> \xe4\xb8\xbb\xe4\xb8\x9a
          <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">6</span>个<span class="token number">0</span><span class="token operator">~</span><span class="token number">255</span>之间的数字
          <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">228</span><span class="token punctuation">,</span><span class="token number">184</span><span class="token punctuation">,</span><span class="token number">187</span><span class="token punctuation">,</span><span class="token number">228</span><span class="token punctuation">,</span><span class="token number">184</span><span class="token punctuation">,</span><span class="token number">154</span><span class="token punctuation">]</span>
          在js中没有字节 js中使用<span class="token number">0</span><span class="token operator">~</span><span class="token number">255</span>之间的数字<span class="token punctuation">,</span>来表示字节
    字节 <span class="token operator">-&gt;</span> 数字
    数字 <span class="token operator">-&gt;</span> 字节
    所有的加密解密逻辑都是从这里开始的
</code></pre>
    <h2>
     <a id="hex_163">
     </a>
     三、hex
    </h2>
    <pre><code class="prism language-c">hex表示<span class="token number">16</span>进制的数字
    <span class="token string">"主业"</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">228</span><span class="token punctuation">,</span><span class="token number">184</span><span class="token punctuation">,</span><span class="token number">187</span><span class="token punctuation">,</span><span class="token number">228</span><span class="token punctuation">,</span><span class="token number">184</span><span class="token punctuation">,</span><span class="token number">154</span><span class="token punctuation">]</span>
          <span class="token operator">=</span><span class="token operator">&gt;</span> 处理成十六进制
          <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>e4<span class="token punctuation">,</span>b8<span class="token punctuation">,</span>bb<span class="token punctuation">,</span>e4<span class="token punctuation">,</span>b8<span class="token punctuation">,</span><span class="token number">9</span>a<span class="token punctuation">]</span>
          <span class="token operator">=</span><span class="token operator">&gt;</span> 把上面这东西拼接起来
          <span class="token operator">=</span><span class="token operator">&gt;</span> e4b8bbe4b89a
          <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">0</span><span class="token operator">-</span>f组成的 一定是双数<span class="token punctuation">,</span>每<span class="token number">2</span>个代表一个字节
          <span class="token operator">=</span><span class="token operator">&gt;</span> FF
          <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">00</span><span class="token operator">~</span>FF <span class="token number">0</span><span class="token operator">~</span><span class="token number">255</span> <span class="token operator">=</span><span class="token operator">&gt;</span> 一个字节
          <span class="token operator">=</span><span class="token operator">&gt;</span> 任何字符串都可以处理成hex的形式
</code></pre>
    <pre><code class="prism language-c">import binascii

s <span class="token operator">=</span> <span class="token string">"主业"</span>
bs <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span>
<span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">bytes</span> <span class="token expression">to ascii 保存成hex的形式</span></span>
result <span class="token operator">=</span> binascii<span class="token punctuation">.</span><span class="token function">b2a_hex</span><span class="token punctuation">(</span>bs<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">b</span><span class="token char">'e4b8bbe4b89a'</span></span>
# 字节 <span class="token operator">=</span><span class="token operator">&gt;</span> hex的形式
<span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">hex</span> <span class="token expression"><span class="token operator">=</span><span class="token operator">&gt;</span> 字节</span></span>
s <span class="token operator">=</span> b<span class="token char">'e4b8bbe4b89a'</span>
<span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">ascii</span> <span class="token expression">to bytes ascii是hex形式</span></span>
bs <span class="token operator">=</span> binascii<span class="token punctuation">.</span><span class="token function">a2b_hex</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>bs<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
# 主业
s <span class="token operator">=</span> <span class="token string">"主业"</span>
bs <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">str</span><span class="token punctuation">(</span>bs<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">strip</span><span class="token punctuation">(</span><span class="token string">"b'"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"\\x"</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">e</span><span class="token expression"><span class="token number">4</span>b8bbe4b89a</span></span>
</code></pre>
    <h2>
     <a id="base64_198">
     </a>
     四、base64
    </h2>
    <pre><code class="prism language-c">abc <span class="token operator">-&gt;</span> <span class="token number">01100001</span> <span class="token number">01100010</span> <span class="token number">01100011</span> # 按照<span class="token number">8</span>位一个字节的逻辑 <span class="token number">3</span><span class="token operator">*</span><span class="token number">8</span> <span class="token operator">=</span> <span class="token number">24</span>
        <span class="token operator">-&gt;</span> <span class="token number">011000</span> <span class="token number">010110</span> <span class="token number">001001</span> <span class="token number">100011</span> # <span class="token number">4</span><span class="token operator">*</span><span class="token number">6</span> <span class="token operator">=</span> <span class="token number">24</span>
        <span class="token operator">-&gt;</span> <span class="token number">24</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">33</span>    最大<span class="token number">0</span><span class="token operator">~</span><span class="token number">64</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span>a<span class="token operator">-</span>zA<span class="token operator">-</span>Z<span class="token operator">+</span><span class="token operator">/</span><span class="token punctuation">]</span>
        <span class="token punctuation">[</span><span class="token number">10</span><span class="token operator">+</span><span class="token number">26</span><span class="token operator">+</span><span class="token number">26</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">64</span>个东西<span class="token punctuation">]</span>
        ls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token char">'0'</span><span class="token punctuation">,</span><span class="token char">'1'</span><span class="token punctuation">,</span><span class="token char">'2'</span><span class="token punctuation">,</span><span class="token char">'3'</span><span class="token punctuation">,</span><span class="token char">'4'</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>A<span class="token punctuation">,</span>B<span class="token punctuation">,</span>C<span class="token punctuation">,</span>D<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token punctuation">]</span>
        result <span class="token operator">=</span> ls<span class="token punctuation">[</span><span class="token number">24</span><span class="token punctuation">]</span> <span class="token operator">+</span> ls<span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">]</span> <span class="token operator">+</span> ls<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">+</span> ls<span class="token punctuation">[</span><span class="token number">33</span><span class="token punctuation">]</span>
        result <span class="token operator">=</span> <span class="token string">"om9x"</span>
    上述转化逻辑<span class="token punctuation">,</span>被称为base64
    在该算法中<span class="token punctuation">,</span>每三个字节为一组<span class="token punctuation">,</span>拆分成<span class="token number">4</span>个文字符号<span class="token punctuation">.</span>
    base64实际上是扩大了本来要传输的内容
    这种转化逻辑有一个优势<span class="token punctuation">,</span>字节范围内的东西<span class="token punctuation">,</span>大多是不可见的
    base64让所有的字节，都变成可见的字符串 方便传输和显示
    综上<span class="token punctuation">,</span>我们看到的base64本质上是字节
    base64字符串和字节之间可以无缝转换
    转换过程中，如果字节的数量不够的情况，会在末尾补充<span class="token operator">=</span>。 保证数据可以正常还原回字节
</code></pre>
    <pre><code class="prism language-c">ls <span class="token operator">=</span> 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789<span class="token operator">+</span><span class="token operator">/</span>'
result <span class="token operator">=</span> ls<span class="token punctuation">[</span><span class="token number">24</span><span class="token punctuation">]</span> <span class="token operator">+</span> ls<span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">]</span> <span class="token operator">+</span> ls<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">+</span> ls<span class="token punctuation">[</span><span class="token number">33</span><span class="token punctuation">]</span>
<span class="token function">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
import base64
s <span class="token operator">=</span> <span class="token string">"业主"</span>
# 按照base64的逻辑，把字节处理成b64的组成
bs <span class="token operator">=</span> base64<span class="token punctuation">.</span><span class="token function">b64encode</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>bs<span class="token punctuation">)</span> # b<span class="token char">'5Lia5Li7'</span>
# <span class="token number">5L</span>ia5Li7

s <span class="token operator">=</span> <span class="token string">"YWJj"</span>
# 把b64的东西 按照b64的逻辑解码
bs <span class="token operator">=</span> base64<span class="token punctuation">.</span><span class="token function">b64decode</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>bs<span class="token punctuation">)</span> # abc

# 使用场景，几乎都是把字节要进行传输的时候。处理成b64的字符串，传输
# 接收到之后，还原回字节<span class="token punctuation">,</span>
</code></pre>
    <h2>
     <a id="_md5sha1sha256sha512_236">
     </a>
     五、签名 md5、sha1、sha256、sha512
    </h2>
    <pre><code class="prism language-c">    保证数据的一致性

    在发送请求之前<span class="token punctuation">,</span>把url<span class="token punctuation">,</span>请求方式<span class="token punctuation">,</span>参数<span class="token punctuation">,</span>请求头<span class="token punctuation">,</span>随机字符串<span class="token punctuation">,</span>混合在一起<span class="token punctuation">,</span>进行一个计算
    计算出来一个结果<span class="token punctuation">,</span>该过程被称为签名<span class="token punctuation">,</span>
    把该结果随着请求一同发送给服务器<span class="token punctuation">(</span>包括随机值<span class="token punctuation">,</span>时间<span class="token punctuation">)</span>

    此时，服务器接收到的是url，请求方式，参数，请求头，随机字符串，时间<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    服务器会使用上述内容，再次进行同样的操作<span class="token punctuation">.</span> 会计算出来宁一个结果<span class="token punctuation">.</span>
    让计算出来的结果和客户端传递过来的签名值进行对比。如果一致。数据就没有被更改过。如果不一致，数据就是被调整过的<span class="token punctuation">.</span>该过程被称为验签

    签名<span class="token operator">:</span>拿着请求中的各种数据，进行混合，计算
    验签<span class="token operator">:</span>拿着请求中的各种数据，进行混合，计算
    想要达到这样的效果，算法的选择就很重要，
    相同的数据计算出来的结果必须是一样的才可以<span class="token punctuation">.</span>
    不同的数据计算出来的结果，极可能的不一样才行

    一般的签名算法会采用hash算法来完成<span class="token punctuation">.</span>
    在众多的hash类的算法中，md5是非常好用的<span class="token punctuation">(</span>计算快，计算的结果比较小<span class="token punctuation">,</span>重复率低<span class="token punctuation">)</span>

    md5是摘要算法的一种。所以呢，会损失掉数据原有的特征<span class="token punctuation">.</span><span class="token punctuation">.</span> 不可还原
</code></pre>
    <pre><code class="prism language-c">from hashlib import md5
s <span class="token operator">=</span> <span class="token string">"123456"</span>
obj <span class="token operator">=</span> <span class="token function">md5</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hexdigest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">e</span><span class="token expression"><span class="token number">10</span>adc3949ba59abbe56e057f20f883e</span></span>

# <span class="token number">123456</span> <span class="token operator">=</span> 标准MD5算法 <span class="token operator">=</span> <span class="token operator">&gt;</span> e10adc3949ba59abbe56e057f20f883e
# 计算过程是不可逆
salt <span class="token operator">=</span> <span class="token string">"sadasdasdas"</span>
s <span class="token operator">+=</span> salt
obj <span class="token operator">=</span> <span class="token function">md5</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hexdigest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
    <pre><code class="prism language-c">from hashlib import sha1<span class="token punctuation">,</span>sha256<span class="token punctuation">,</span>sha512
s <span class="token operator">=</span> <span class="token string">"123456"</span>
obj <span class="token operator">=</span> <span class="token function">sha1</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hexdigest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
# <span class="token number">7</span>c4a8d09ca3762af61e59520943dc26494f8941b

s <span class="token operator">=</span> <span class="token string">"123456"</span>
obj <span class="token operator">=</span> <span class="token function">sha256</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hexdigest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
# <span class="token number">8</span>d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92
</code></pre>
    <hr/>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f57313235353435333036332f:61727469636c652f64657461696c732f313436303738303330" class_="artid" style="display:none">
 </p>
</div>


