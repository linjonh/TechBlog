---
layout: post
title: "Nginx基础安装配置文件"
date: 2025-03-08 19:23:25 +0800
description: "Nginx 是一个 轻量级、高性能的Web服务应用，可以作为 HTTP 服务器、虚拟主机、反向代理服务器、负载均衡器，以及支持 TCP/UDP 的通用代理服务器。特点：稳定性高、不容易宕机；开源免费；内存/cpu资源消耗较少；并发能力高，至少能同时处理2-3万并发，最多能支持5万并发Nginx 的异步非阻塞机制通过 事件驱动模型 和 I/O 多路复用技术 实现，使得单个 Worker 进程能够高效处理成千上万的并发连接。1. Worker进程初始化，监听指定的端口（如80或443）。2. 当有新的连接请求到"
keywords: "powerrdbybyte-nginx"
categories: ['Nginx']
tags: ['服务器', 'Nginx']
artid: "146077973"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146077973
    alt: "Nginx基础安装配置文件"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146077973
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146077973
cover: https://bing.ee123.net/img/rand?artid=146077973
image: https://bing.ee123.net/img/rand?artid=146077973
img: https://bing.ee123.net/img/rand?artid=146077973
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Nginx（基础安装+配置文件）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <hr id="hr-toc" name="tableOfContents"/>
    <p>
    </p>
    <h2 name="%E4%B8%80.Nginx%E5%9F%BA%E7%A1%80">
     一.Nginx基础
    </h2>
    <h3 id="1.%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%82%B9" name="1.%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%82%B9">
     1.基础知识点
    </h3>
    <p>
     Nginx 是一个 轻量级、高性能的Web服务应用，可以作为
     <span style="color:#fe2c24">
      <strong>
       HTTP 服务器
      </strong>
     </span>
     、
     <span style="color:#fe2c24">
      <strong>
       虚拟主机
      </strong>
     </span>
     、
     <span style="color:#fe2c24">
      <strong>
       反向代理服务器
      </strong>
     </span>
     、
     <span style="color:#fe2c24">
      <strong>
       负载均衡器
      </strong>
     </span>
     ，以及支持 TCP/UDP 的
     <strong>
      通用代理服务器
     </strong>
     。
    </p>
    <p>
     特点：稳定性高、不容易宕机；开源免费；内存/cpu资源消耗较少；并发能力高，至少能同时处理2-3万并发，最多能支持5万并发
    </p>
    <h3 id="2.%E5%BC%82%E6%AD%A5%E9%9D%9E%E9%98%BB%E5%A1%9E%E6%9C%BA%E5%88%B6" name="2.%E5%BC%82%E6%AD%A5%E9%9D%9E%E9%98%BB%E5%A1%9E%E6%9C%BA%E5%88%B6">
     2.异步非阻塞机制
    </h3>
    <p>
     Nginx 的异步非阻塞机制通过
     <span style="color:#fe2c24">
      <strong>
       事件驱动模型
      </strong>
     </span>
     和
     <span style="color:#fe2c24">
      <strong>
       I/O 多路复用技术
      </strong>
     </span>
     实现，使得单个 Worker 进程能够高效处理成千上万的并发连接。
    </p>
    <p>
     1. Worker进程初始化，监听指定的端口（如80或443）。
    </p>
    <p>
     2. 当有新的连接请求到达时，Worker进程接受该连接，并将其注册到事件循环中。
    </p>
    <p>
     3. 事件循环使用I/O多路复用机制（epoll）来监视所有注册的文件描述符（即连接）。
    </p>
    <p>
     4. 当某个连接上有可读或可写事件发生时，事件循环会触发相应的回调函数来处理该事件。
    </p>
    <p>
     5. 在处理事件时，如果需要进行I/O操作（如读取请求数据或发送响应数据），这些操作会被异步执行，不会阻塞进程。
    </p>
    <p>
     6. 处理完一个事件后，事件循环继续检查其他事件，循环往复。
    </p>
    <hr/>
    <ul>
     <li>
      <p>
       <strong>
        异步非阻塞 I/O
       </strong>
       ：
       <br/>
       当发起 I/O 操作（如读取网络数据、写入文件）时，进程不等待操作完成，而是继续处理其他任务；操作完成后，通过事件通知机制（如回调函数）处理结果。
      </p>
     </li>
     <li>
      <p>
       <strong>
        事件驱动模型
       </strong>
       ：
       <br/>
       Worker 进程通过事件循环（Event Loop）监听所有连接的事件（如可读、可写），仅处理已就绪的事件，避免空等。
      </p>
     </li>
     <li>
      <p>
       <strong>
        I/O 多路复用
       </strong>
       ：
       <br/>
       使用操作系统提供的机制（如
       <code>
        epoll
       </code>
       、
       <code>
        kqueue
       </code>
       ）同时监控多个文件描述符（即连接），当任意一个描述符就绪时立即通知进程。
      </p>
     </li>
    </ul>
    <p>
    </p>
    <h2 id="%E4%BA%8C.Nginx%E5%AE%89%E8%A3%85" name="%E4%BA%8C.Nginx%E5%AE%89%E8%A3%85">
     二.Nginx安装
    </h2>
    <h3 id="%C2%A02.1%E5%AE%89%E8%A3%85nginx3%E7%A7%8D%E6%96%B9%E5%BC%8F" name="%C2%A02.1%E5%AE%89%E8%A3%85nginx3%E7%A7%8D%E6%96%B9%E5%BC%8F">
     2.1安装nginx3种方式
    </h3>
    <h4 id="1.%E5%8C%85%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%E5%AE%89%E8%A3%85%EF%BC%88yum%2Fapt%EF%BC%89" name="1.%E5%8C%85%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%E5%AE%89%E8%A3%85%EF%BC%88yum%2Fapt%EF%BC%89">
     1.包管理工具安装（yum/apt）
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        原理：
       </strong>
       <strong>
        通过系统的包管理工具自动从
        <span style="color:#fe2c24">
         官方仓库下载
        </span>
        并安装
        <span style="color:#fe2c24">
         预编译
        </span>
        的包
       </strong>
       。
      </p>
     </li>
     <li>
      <p>
       <strong>
        特点
       </strong>
       ：
       <strong>
        <span style="color:#fe2c24">
         自动解决依赖
        </span>
        、
        <span style="color:#fe2c24">
         自动生成service文件
        </span>
       </strong>
      </p>
     </li>
     <li>
      <p>
       <strong>
        命令： centos:
        <span style="color:#fe2c24">
         yum   install  nginx  -y
        </span>
        ubuntu:
        <span style="color:#fe2c24">
         apt install nginx -y
        </span>
       </strong>
      </p>
     </li>
    </ul>
    <h4 id="2.%E6%9C%AC%E5%9C%B0%E5%8C%85%E5%AE%89%E8%A3%85%EF%BC%88rpm%2Fdpkg%EF%BC%89" name="2.%E6%9C%AC%E5%9C%B0%E5%8C%85%E5%AE%89%E8%A3%85%EF%BC%88rpm%2Fdpkg%EF%BC%89">
     2.本地包安装（rpm/dpkg）
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        原理
       </strong>
       ：手动下载
       <strong>
        <span style="color:#fe2c24">
         <code>
          .rpm
         </code>
        </span>
       </strong>
       （Red Hat系）或
       <strong>
        <span style="color:#fe2c24">
         <code>
          .deb
         </code>
        </span>
       </strong>
       （Debian系）包，都属于
       <span style="color:#fe2c24">
        <strong>
         预编译的二进制包
        </strong>
       </span>
      </p>
     </li>
     <li>
      <p>
       <strong>
        特点：
        <span style="color:#fe2c24">
         手动解决依赖
        </span>
        、
        <span style="color:#fe2c24">
         包含service文件
        </span>
       </strong>
      </p>
     </li>
     <li>
      <p>
       <strong>
        命令：centos:
       </strong>
       <span style="color:#fe2c24">
        <strong>
         rpm -i nginx.rpm
        </strong>
       </span>
       <strong>
       </strong>
       或
       <strong>
        ubuntu:
        <span style="color:#fe2c24">
         <code>
          dpkg -i nginx.deb
         </code>
        </span>
       </strong>
       安装。
      </p>
     </li>
    </ul>
    <h4 id="3.%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85" name="3.%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85">
     3.源码编译安装
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        原理
       </strong>
       ：从Nginx官网下载源代码，
       <strong>
        手动编译
       </strong>
       并安装。
      </p>
     </li>
     <li>
      <p>
       <strong>
        特点
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         <strong>
          完全自定义
         </strong>
         ：
         <span style="color:#fe2c24">
          <strong>
           可启用/禁用模块
          </strong>
         </span>
         （如
         <code>
          --with-http_ssl_module
         </code>
         ）、
         <span style="color:#fe2c24">
          <strong>
           指定安装路径
          </strong>
         </span>
         （如
         <code>
          --prefix=/opt/nginx
         </code>
         ）。
        </p>
       </li>
       <li>
        <p>
         <strong>
          性能优化
         </strong>
         ：
         <strong>
          自行
          <span style="color:#fe2c24">
           调整编译参数
          </span>
         </strong>
         （如
         <code>
          -march=native
         </code>
         ）。
        </p>
       </li>
       <li>
        <p>
         <strong>
          手动处理依赖
         </strong>
         ：需提前
         <span style="color:#fe2c24">
          <strong>
           安装开发工具
          </strong>
         </span>
         （如gcc）及
         <span style="color:#fe2c24">
          依赖库
         </span>
         （如PCRE、OpenSSL）。
        </p>
       </li>
       <li>
        <p>
         <strong>
          无自动管理
         </strong>
         ：更新需重新编译，服务脚本需
         <span style="color:#fe2c24">
          <strong>
           手写service文件
          </strong>
         </span>
         。
        </p>
       </li>
       <li>
        <p>
         <strong>
          独立目录结构
         </strong>
         ：默认安装到
         <span style="color:#fe2c24">
          <strong>
           <code>
            /usr/local/nginx
           </code>
          </strong>
         </span>
         ，与系统包隔离。
         <img alt="" height="349" src="https://i-blog.csdnimg.cn/direct/70e4539d9b9b4d5aa4cf86d03f883fa6.png" width="848"/>
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <h5 id="3.1%C2%A0%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85nginx%E6%B5%81%E7%A8%8B%EF%BC%88ubuntu%EF%BC%89" name="3.1%C2%A0%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85nginx%E6%B5%81%E7%A8%8B%EF%BC%88ubuntu%EF%BC%89">
     3.1 源码编译安装nginx流程（ubuntu）
    </h5>
    <h6 id="1.%20%E6%9B%B4%E6%96%B0apt%E6%BA%90%E3%80%81%E4%B8%8B%E8%BD%BDlrzsz%E5%B7%A5%E5%85%B7" name="1.%20%E6%9B%B4%E6%96%B0apt%E6%BA%90%E3%80%81%E4%B8%8B%E8%BD%BDlrzsz%E5%B7%A5%E5%85%B7">
     1. 更新
     <span style="color:#fe2c24">
      <strong>
       apt源
      </strong>
     </span>
     、下载
     <span style="color:#fe2c24">
      <strong>
       lrzsz工具
      </strong>
     </span>
    </h6>
    <p>
     apt update
    </p>
    <p>
     apt install -y lrzsz      用于本地主机和服务器相互传输文件
     <img alt="" height="223" src="https://i-blog.csdnimg.cn/direct/e292cbe7d032415e8854f086882a482f.png" width="698"/>
    </p>
    <h6 id="2.%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E5%8C%85%C2%A0" name="2.%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E5%8C%85%C2%A0">
     2.安装依赖包
    </h6>
    <p>
     ubuntu:
     <span style="color:#ff9900">
      apt -y install libpcre3-dev zlib1g-dev libssl-dev build-essential
     </span>
    </p>
    <p>
     centos:
     <span style="color:#ff9900">
      yum -y install gcc pcre-devel openssl-devel zlib-devel openssl  openssl-devel
     </span>
     <img alt="" height="260" src="https://i-blog.csdnimg.cn/direct/29f1bf79628f4e3eb61362e64866c79b.png" width="1216"/>
    </p>
    <h6 id="3.%E5%88%9B%E5%BB%BA%E8%BF%90%E8%A1%8C%E7%94%A8%E6%88%B7" name="3.%E5%88%9B%E5%BB%BA%E8%BF%90%E8%A1%8C%E7%94%A8%E6%88%B7">
     3.创建运行用户
    </h6>
    <p>
     Nginx 服务程序默认以 nobody 身份运行：useradd  -M -s /sbin/nologin nginx
    </p>
    <h6 id="%E2%80%8B%E7%BC%96%E8%BE%91" name="%E2%80%8B%E7%BC%96%E8%BE%91">
     <img alt="" height="208" src="https://i-blog.csdnimg.cn/direct/9d8f206dc2154235a380507f5d20cb66.png" width="896"/>
    </h6>
    <h6 id="4.%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85nginx%E2%80%8B%E7%BC%96%E8%BE%91" name="4.%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85nginx%E2%80%8B%E7%BC%96%E8%BE%91">
     4.编译安装nginx
     <img alt="" height="268" src="https://i-blog.csdnimg.cn/direct/3ab7315315134cd4aa8773a21ffa84e5.png" width="1229"/>
    </h6>
    <pre><code class="language-bash">./configure --prefix=/usr/local/nginx \  #指定了Nginx的安装目录。在这种情况下，它将安装在 
                                          /usr/local/nginx 目录下。
--user=nginx --group=nginx \          #指定了运行Nginx进程的用户和组。在这种情况下，它将是用户 
                                      和组 nginx。
--with-http_gzip_static_module \       #启用了支持使用 .gz 扩展名提供预压缩文件的功能。
--with-http_flv_module \
--with-http_ssl_module \                #启用了对HTTP连接的SSL/TLS加密支持。
--with-http_realip_module \
--with-http_v2_module \                 #启用了对HTTP2.0协议的支持
--with-http_sub_module \               
--with-http_mp4_module \              
--with-http_stub_status_module \        #启用了 stub_status 模块，提供了访问Nginx状态信息的方 
                                       法。
--with-pcre \                          #启用了对Perl Compatible Regular Expressions（PCRE） 
                                       库的支持。
--with-stream \                        #启用了对TCP/UDP代理模块的支持。
--with-stream_ssl_module \             #启用了对TCP/UDP连接的SSL/TLS加密支持。
--with-stream_realip_module            #允许Nginx从PROXY协议头部获取客户端的真实IP地址。</code></pre>
    <p>
     make -j  2(cpu数量决定)
     <img alt="" height="159" src="https://i-blog.csdnimg.cn/direct/c10de311f8684d94830e6ecd5ab35adb.png" width="1225"/>
    </p>
    <p>
     make -install (安装)
     <img alt="" height="178" src="https://i-blog.csdnimg.cn/direct/9c7640f82e5343a78bc997d80a341e8d.png" width="799"/>
    </p>
    <p>
     注意：
    </p>
    <p>
     <span style="color:#fe2c24">
      <strong>
       1.让系统识别nginx操作命令，将nginx的可执行文件做上软链接
      </strong>
     </span>
     <img alt="" height="222" src="https://i-blog.csdnimg.cn/direct/2f9398e7dd134eb0809402ce0d540747.png" width="1195"/>
    </p>
    <p>
     <span style="color:#ff9900">
      <strong>
       2.更改nginx文件夹下的属主属组
      </strong>
     </span>
    </p>
    <p>
     <span style="color:#fe2c24">
      <strong>
       chown -R nginx.nginx /usr/local/nginx
      </strong>
     </span>
    </p>
    <p>
     <img alt="" height="367" src="https://i-blog.csdnimg.cn/direct/06e9072438994c41a7d351de96712e07.png" width="949"/>
    </p>
    <h6 id="5.%E6%A3%80%E6%9F%A5%E3%80%81%E5%90%AF%E5%8A%A8%E3%80%81%E9%87%8D%E5%90%AF%E3%80%81%E5%81%9C%E6%AD%A2%20nginx%E6%9C%8D%E5%8A%A1" name="5.%E6%A3%80%E6%9F%A5%E3%80%81%E5%90%AF%E5%8A%A8%E3%80%81%E9%87%8D%E5%90%AF%E3%80%81%E5%81%9C%E6%AD%A2%20nginx%E6%9C%8D%E5%8A%A1">
     5.检查、启动、重启、停止 nginx服务
    </h6>
    <p>
     1.检查nginx配置文件：
     <span style="color:#fe2c24">
      <strong>
       /usr/local/nginx/conf/nginx_conf
      </strong>
     </span>
    </p>
    <p>
     <span style="color:#fe2c24">
      <strong>
       nginx  -t
      </strong>
     </span>
     检查配置文件是否有语法错误
    </p>
    <p>
     <img alt="" height="259" src="https://i-blog.csdnimg.cn/direct/af578a73737249b885f5aedda0307bb1.png" width="1005"/>
    </p>
    <p>
     2.启动nginx服务
     <img alt="" height="290" src="https://i-blog.csdnimg.cn/direct/ec9a765d80f941fa94e310db1f71e5c9.png" width="1301"/>
    </p>
    <p>
     3.停止nginx服务
    </p>
    <p>
     <img alt="" height="134" src="https://i-blog.csdnimg.cn/direct/1809c8b815254200b8e5efefdbe0fe86.png" width="1215"/>
     <img alt="" height="583" src="https://i-blog.csdnimg.cn/direct/4aa15512d26e4943a3c41fa541af652c.png" width="1357"/>
    </p>
    <p>
     4.重载nginx服务
     <img alt="" height="224" src="https://i-blog.csdnimg.cn/direct/ac8ba526a9f245c29adad49148a0377d.png" width="1073"/>
    </p>
    <p>
     5.日志分割，重新打开日志文件
    </p>
    <p>
     <span style="color:#fe2c24">
      <strong>
       nginx 存放日志文件的位置： /usr/local/nginx/logs
      </strong>
     </span>
     <img alt="" height="496" src="https://i-blog.csdnimg.cn/direct/f902eeff3cb445b1b7c4c8286cbf57bc.png" width="1106"/>
     <img alt="" height="106" src="https://i-blog.csdnimg.cn/direct/c4561c408aba40f189c3cb82fb409747.png" width="1046"/>
    </p>
    <p>
     生成存放成功日志、错误日志的空文件：kill  -USR1   $(cat  /usr/local/nginx/logs/nginx.pid)
     <img alt="" height="228" src="https://i-blog.csdnimg.cn/direct/51f59f9532474e588e86963a7c2680ca.png" width="1047"/>
    </p>
    <h6 id="6.nginx%E5%A6%82%E4%BD%95%E5%89%8D%E5%8F%B0%E5%90%AF%E5%8A%A8%E2%80%8B%E7%BC%96%E8%BE%91" name="6.nginx%E5%A6%82%E4%BD%95%E5%89%8D%E5%8F%B0%E5%90%AF%E5%8A%A8%E2%80%8B%E7%BC%96%E8%BE%91">
     6.nginx如何前台启动
     <img alt="" height="304" src="https://i-blog.csdnimg.cn/direct/c3ada74281664c71acad93fbf46a77a5.png" width="1343"/>
    </h6>
    <h5 id="3.2nginx%E7%89%88%E6%9C%AC%E5%B9%B3%E6%BB%91%E5%8D%87%E7%BA%A7%C2%A0%E2%80%8B%E7%BC%96%E8%BE%91%E2%80%8B%E7%BC%96%E8%BE%91%E2%80%8B%E7%BC%96%E8%BE%91" name="3.2nginx%E7%89%88%E6%9C%AC%E5%B9%B3%E6%BB%91%E5%8D%87%E7%BA%A7%C2%A0%E2%80%8B%E7%BC%96%E8%BE%91%E2%80%8B%E7%BC%96%E8%BE%91%E2%80%8B%E7%BC%96%E8%BE%91">
     3.2nginx版本平滑升级
     <img alt="" height="829" src="https://i-blog.csdnimg.cn/direct/40f3a002017b464bb36c2f019dc74251.png" width="840"/>
     <img alt="" height="384" src="https://i-blog.csdnimg.cn/direct/306276e07d72432f994388c0bbbb5708.png" width="1088"/>
     <img alt="" height="188" src="https://i-blog.csdnimg.cn/direct/f419c03a524342caaf1693ab4480d16a.png" width="1315"/>
    </h5>
    <p>
     <span style="color:#fe2c24">
      <strong>
       kill -USR2   &lt;PID号&gt;
      </strong>
     </span>
    </p>
    <h4 id="%E2%80%8B%E7%BC%96%E8%BE%91" name="%E2%80%8B%E7%BC%96%E8%BE%91">
     <img alt="" height="619" src="https://i-blog.csdnimg.cn/direct/763aaf5b3b8e4e95b594e624235b762e.png" width="1328"/>
    </h4>
    <p>
     注意：升级完成后要使用绝对路径启动服务，否则升级可能会报错
    </p>
    <h5 id="3.3%E6%B7%BB%E5%8A%A0%20Nginx%20%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86" name="3.3%E6%B7%BB%E5%8A%A0%20Nginx%20%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86">
     3.3添加 Nginx 系统服务管理
    </h5>
    <p>
     因为编译安装没有service文件，如果想要系统服务统一管理systemed，需要编写service文件。
     <img alt="" height="216" src="https://i-blog.csdnimg.cn/direct/635af7c9c8d84510b586410cfcd6b192.png" width="1187"/>
    </p>
    <p>
     service 文件
    </p>
    <pre><code class="language-bash">[Unit]
Description=nginx
After=network.target

[Service]
Type=forking
PIDFile=/usr/local/nginx/logs/nginx.pid
ExecStart=/usr/local/nginx/sbin/nginx
ExecReload=/bin/kill -s HUP $MAINPID
ExecStop=/bin/kill -s QUIT $MAINPID
PrivateTmp=true

[Install]
WantedBy=multi-user.target</code></pre>
    <p>
     <img alt="" height="136" src="https://i-blog.csdnimg.cn/direct/457bfd863e5f485f833946e6605778b3.png" width="1095"/>
     <img alt="" height="435" src="https://i-blog.csdnimg.cn/direct/020623a44c9c4fa0998f91509364d9cd.png" width="1340"/>
    </p>
    <h2 id="%E4%B8%89.nginx%E8%BF%9B%E7%A8%8B%C2%A0" name="%E4%B8%89.nginx%E8%BF%9B%E7%A8%8B%C2%A0">
     三.nginx进程
    </h2>
    <p>
     <span style="color:#ff9900">
      <strong>
       master 进程 ：1.管理worker子进程   2.加载配置文件
      </strong>
     </span>
    </p>
    <p>
     <span style="color:#ff9900">
      <strong>
       worker 进程:    1.处理客户端发送的请求
      </strong>
     </span>
     <img alt="" height="305" src="https://i-blog.csdnimg.cn/direct/ab0fd623778244fa9739a28918b2b58f.png" width="1551"/>
     <img alt="" height="517" src="https://i-blog.csdnimg.cn/direct/bf8ff7cbc48c477d8e605095fa714426.png" width="1204"/>
    </p>
    <p>
     以处理 HTTP 请求为例：
    </p>
    <ol>
     <li>
      <p>
       <strong>
        接收连接
       </strong>
       ：Worker 进程通过
       <strong>
        <code>
         epoll
        </code>
       </strong>
       监听端口，接收客户端连接。
      </p>
     </li>
     <li>
      <p>
       <strong>
        读取请求
       </strong>
       ：若数据未到达（非阻塞），Worker 继续处理其他连接；若数据到达，读取并解析请求。
      </p>
     </li>
     <li>
      <p>
       <strong>
        处理请求
       </strong>
       ：若需读取静态文件，发起非阻塞文件 I/O 操作；若需代理到后端，发起非阻塞网络连接。
      </p>
     </li>
     <li>
      <p>
       <strong>
        响应客户端
       </strong>
       ：待所有操作完成后，通过事件回调将结果返回客户端。
      </p>
     </li>
    </ol>
    <p>
     <strong>
      1. 核心优势
     </strong>
    </p>
    <ul>
     <li>
      <p>
       <strong>
        低资源消耗
       </strong>
       ：单线程可处理数万并发连接，避免多线程的内存开销和上下文切换。
      </p>
     </li>
     <li>
      <p>
       <strong>
        高吞吐量
       </strong>
       ：通过事件分发机制，最大化 CPU 和 I/O 利用率。
      </p>
     </li>
    </ul>
    <h2 id="%E5%9B%9B.nginx%E9%85%8D%E7%BD%AE" name="%E5%9B%9B.nginx%E9%85%8D%E7%BD%AE">
     四.nginx配置
    </h2>
    <p>
     nginx配置文件的路径：
     <span style="color:#fe2c24">
      <strong>
       /usr/local/nginx/conf/nginx_conf
      </strong>
     </span>
     <img alt="" height="550" src="https://i-blog.csdnimg.cn/direct/de0bd11781934a62b8240ba0296b79f5.png" width="1076"/>
    </p>
    <p>
     <span style="color:#fe2c24">
      <strong>
       1、全局块：全局配置，对全局生效；
       <br/>
       2、events块：配置影响 Nginx 服务器与用户的网络连接；
       <br/>
       3、http块：配置代理，缓存，日志定义等绝大多数功能和第三方模块的配置；
       <br/>
       4、server块：配置虚拟主机的相关参数，一个 http 块中可以有多个 server 块；
       <br/>
       5、location块：用于配置匹配的 urI   (域名后面的部分)；
       <br/>
       6、upstream：配置后端服务器具体地址，负载均衡配置不可或缺的部分。
      </strong>
     </span>
    </p>
    <hr/>
    <p>
     <span style="color:#fe2c24">
      <strong>
       全局块：全局配置，对全局生效；
      </strong>
     </span>
    </p>
    <p>
     <img alt="" height="296" src="https://i-blog.csdnimg.cn/direct/bad31d13ce91497b802e84e306e12a34.png" width="1169"/>
    </p>
    <p>
     <span style="color:#fe2c24">
      <strong>
       events块：配置影响 Nginx 服务器与用户的网络连接；
      </strong>
     </span>
    </p>
    <p>
     <img alt="" height="152" src="https://i-blog.csdnimg.cn/direct/a890ed2158cc4fccb42c57060bc7515d.png" width="1116"/>
    </p>
    <p>
     <span style="color:#fe2c24">
      <strong>
       http块：配置代理，缓存，日志定义等绝大多数功能和第三方模块的配置；
      </strong>
     </span>
     <img alt="" height="473" src="https://i-blog.csdnimg.cn/direct/3c051e21c7ad4c73aee8463f8ecb25c8.png" width="1100"/>
    </p>
    <p>
     注意：http模块中还可以第三方模块的配置
    </p>
    <p>
     <span style="color:#fe2c24">
      <strong>
       server块：配置虚拟主机的相关参数，一个 http 块中可以有多个 server 块；
       <br/>
       location块：用于配置匹配的 urI   (域名后面的部分)；
      </strong>
     </span>
    </p>
    <p>
     <img alt="" height="578" src="https://i-blog.csdnimg.cn/direct/9a1839068c104015adb9f1a6d3696d0b.png" width="1101"/>
     <span style="color:#fe2c24">
      <strong>
       upstream：配置后端服务器具体地址，负载均衡配置不可或缺的部分。
      </strong>
     </span>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330335f37373137383036332f:61727469636c652f64657461696c732f313436303737393733" class_="artid" style="display:none">
 </p>
</div>


