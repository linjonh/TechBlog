---
layout: post
title: "æ·±å…¥ç†è§£Spring-MVCæ„å»ºçµæ´»çš„Webåº”ç”¨"
date: 2025-03-14 10:11:20 +0800
description: "Spring MVCæ˜¯ä¸€ä¸ªåŸºäºMVCï¼ˆModel-View-Controllerï¼‰æ¶æ„çš„Webæ¡†æ¶ï¼Œå®ƒæä¾›äº†å¼ºå¤§çš„åŠŸèƒ½æ¥å¤„ç†HTTPè¯·æ±‚ã€ç”ŸæˆåŠ¨æ€å†…å®¹ä»¥åŠç®¡ç†Webåº”ç”¨ç¨‹åºçš„æµç¨‹ã€‚æ— è®ºæ˜¯æ„å»ºRESTful APIï¼Œè¿˜æ˜¯å¼€å‘ä¼ ç»Ÿçš„Webåº”ç”¨ï¼ŒSpring MVCéƒ½æ˜¯ä¸å¯æˆ–ç¼ºçš„å·¥å…·ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨Spring MVCçš„æ ¸å¿ƒç»„ä»¶ã€è¯·æ±‚å¤„ç†ã€æ•°æ®ç»‘å®šã€æ‹¦æˆªå™¨ä»¥åŠæ–‡ä»¶ä¸Šä¼ ç­‰å†…å®¹ï¼Œå¸®åŠ©ä½ å…¨é¢æŒæ¡Spring MVCçš„ä½¿ç”¨æ–¹æ³•ã€‚"
keywords: "æ·±å…¥ç†è§£Spring MVCï¼šæ„å»ºçµæ´»çš„Webåº”ç”¨"
categories: ['Spring']
tags: ['Spring', 'Spring', 'Java', 'Boot']
artid: "146250475"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146250475
    alt: "æ·±å…¥ç†è§£Spring-MVCæ„å»ºçµæ´»çš„Webåº”ç”¨"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146250475
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146250475
cover: https://bing.ee123.net/img/rand?artid=146250475
image: https://bing.ee123.net/img/rand?artid=146250475
img: https://bing.ee123.net/img/rand?artid=146250475
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     æ·±å…¥ç†è§£Spring MVCï¼šæ„å»ºçµæ´»çš„Webåº”ç”¨
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     <em>
      å¤§å®¶å¥½ï¼ä»Šå¤©æˆ‘ä»¬æ¥èŠèŠSpringæ¡†æ¶ä¸­çš„ä¸€ä¸ªé‡è¦æ¨¡å—â€”â€”
      <strong>
       Spring MVC
      </strong>
      ã€‚Spring MVCæ˜¯ä¸€ä¸ªåŸºäºMVCï¼ˆModel-View-Controllerï¼‰æ¶æ„çš„Webæ¡†æ¶ï¼Œå®ƒæä¾›äº†å¼ºå¤§çš„åŠŸèƒ½æ¥å¤„ç†HTTPè¯·æ±‚ã€ç”ŸæˆåŠ¨æ€å†…å®¹ä»¥åŠç®¡ç†Webåº”ç”¨ç¨‹åºçš„æµç¨‹ã€‚æ— è®ºæ˜¯æ„å»ºRESTful APIï¼Œè¿˜æ˜¯å¼€å‘ä¼ ç»Ÿçš„Webåº”ç”¨ï¼ŒSpring MVCéƒ½æ˜¯ä¸å¯æˆ–ç¼ºçš„å·¥å…·ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨Spring MVCçš„æ ¸å¿ƒç»„ä»¶ã€è¯·æ±‚å¤„ç†ã€æ•°æ®ç»‘å®šã€æ‹¦æˆªå™¨ä»¥åŠæ–‡ä»¶ä¸Šä¼ ç­‰å†…å®¹ï¼Œå¸®åŠ©ä½ å…¨é¢æŒæ¡Spring MVCçš„ä½¿ç”¨æ–¹æ³•ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹å§ï¼ğŸ˜„
     </em>
    </p>
    <hr/>
    <h3>
     <a id="Spring_MVC_5">
     </a>
     ä¸€ã€Spring MVCç®€ä»‹
    </h3>
    <h4>
     <a id="1_Spring_MVC_7">
     </a>
     1. ä»€ä¹ˆæ˜¯Spring MVCï¼Ÿ
    </h4>
    <p>
     Spring MVCæ˜¯Springæ¡†æ¶çš„ä¸€ä¸ªæ¨¡å—ï¼Œç”¨äºæ„å»ºåŸºäºMVCæ¶æ„çš„Webåº”ç”¨ç¨‹åºã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†åº”ç”¨ç¨‹åºåˆ†ä¸ºä¸‰ä¸ªå±‚æ¬¡ï¼š
    </p>
    <ul>
     <li>
      <strong>
       æ¨¡å‹ï¼ˆModelï¼‰
      </strong>
      ï¼šè´Ÿè´£ç®¡ç†åº”ç”¨ç¨‹åºçš„æ•°æ®å’Œä¸šåŠ¡é€»è¾‘ã€‚
     </li>
     <li>
      <strong>
       è§†å›¾ï¼ˆViewï¼‰
      </strong>
      ï¼šè´Ÿè´£å±•ç¤ºæ•°æ®ï¼Œé€šå¸¸æ˜¯HTMLé¡µé¢ã€‚
     </li>
     <li>
      <strong>
       æ§åˆ¶å™¨ï¼ˆControllerï¼‰
      </strong>
      ï¼šè´Ÿè´£å¤„ç†ç”¨æˆ·è¾“å…¥ï¼Œæ›´æ–°æ¨¡å‹ï¼Œå¹¶é€‰æ‹©è§†å›¾æ¥å±•ç¤ºæ•°æ®ã€‚
     </li>
    </ul>
    <p>
     Spring MVCé€šè¿‡
     <strong>
      DispatcherServlet
     </strong>
     ä½œä¸ºå‰ç«¯æ§åˆ¶å™¨ï¼Œåè°ƒè¯·æ±‚çš„å¤„ç†æµç¨‹ã€‚
    </p>
    <h4>
     <a id="2_Spring_MVC_15">
     </a>
     2. Spring MVCçš„ä¼˜åŠ¿
    </h4>
    <ul>
     <li>
      <strong>
       çµæ´»æ€§
      </strong>
      ï¼šæ”¯æŒå¤šç§è§†å›¾æŠ€æœ¯ï¼ˆå¦‚JSPã€Thymeleafã€FreeMarkerï¼‰ã€‚
     </li>
     <li>
      <strong>
       å¼ºå¤§çš„æ³¨è§£æ”¯æŒ
      </strong>
      ï¼šé€šè¿‡æ³¨è§£ç®€åŒ–æ§åˆ¶å™¨å’Œè¯·æ±‚å¤„ç†çš„é…ç½®ã€‚
     </li>
     <li>
      <strong>
       ä¸Springæ¡†æ¶æ— ç¼é›†æˆ
      </strong>
      ï¼šå¯ä»¥è½»æ¾ä½¿ç”¨Springçš„å…¶ä»–åŠŸèƒ½ï¼ˆå¦‚ä¾èµ–æ³¨å…¥ã€AOPï¼‰ã€‚
     </li>
    </ul>
    <hr/>
    <h3>
     <a id="Spring_MVC_22">
     </a>
     äºŒã€Spring MVCçš„æ ¸å¿ƒç»„ä»¶
    </h3>
    <h4>
     <a id="1_DispatcherServlet_24">
     </a>
     1. DispatcherServlet
    </h4>
    <p>
     <code>
      DispatcherServlet
     </code>
     æ˜¯Spring MVCçš„å‰ç«¯æ§åˆ¶å™¨ï¼Œå®ƒè´Ÿè´£æ¥æ”¶æ‰€æœ‰çš„HTTPè¯·æ±‚ï¼Œå¹¶å°†è¯·æ±‚åˆ†å‘ç»™ç›¸åº”çš„å¤„ç†å™¨ï¼ˆControllerï¼‰ã€‚å®ƒçš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š
    </p>
    <ol>
     <li>
      æ¥æ”¶HTTPè¯·æ±‚ã€‚
     </li>
     <li>
      è°ƒç”¨å¤„ç†å™¨æ˜ å°„å™¨ï¼ˆHandlerMappingï¼‰æ‰¾åˆ°å¯¹åº”çš„å¤„ç†å™¨ï¼ˆControllerï¼‰ã€‚
     </li>
     <li>
      è°ƒç”¨å¤„ç†å™¨é€‚é…å™¨ï¼ˆHandlerAdapterï¼‰æ‰§è¡Œå¤„ç†å™¨ã€‚
     </li>
     <li>
      è°ƒç”¨è§†å›¾è§£æå™¨ï¼ˆViewResolverï¼‰è§£æè§†å›¾ã€‚
     </li>
     <li>
      è¿”å›HTTPå“åº”ã€‚
     </li>
    </ol>
    <h5>
     <a id="DispatcherServlet_32">
     </a>
     é…ç½®DispatcherServlet
    </h5>
    <p>
     åœ¨
     <code>
      web.xml
     </code>
     ä¸­é…ç½®
     <code>
      DispatcherServlet
     </code>
     ï¼š
    </p>
    <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>dispatcher<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.servlet.DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>/WEB-INF/spring-mvc-config.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>dispatcher<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <h4>
     <a id="2_Controller_51">
     </a>
     2. æ§åˆ¶å™¨ï¼ˆControllerï¼‰
    </h4>
    <p>
     æ§åˆ¶å™¨æ˜¯Spring MVCçš„æ ¸å¿ƒç»„ä»¶ï¼Œå®ƒè´Ÿè´£å¤„ç†HTTPè¯·æ±‚å¹¶è¿”å›å“åº”ã€‚æ§åˆ¶å™¨é€šå¸¸ä½¿ç”¨
     <code>
      @Controller
     </code>
     æ³¨è§£æ ‡è®°ã€‚
    </p>
    <h5>
     <a id="_54">
     </a>
     ç¤ºä¾‹ä»£ç ï¼š
    </h5>
    <pre><code class="prism language-java"><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/user"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"å¼ ä¸‰"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">"user"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="3_ViewResolver_66">
     </a>
     3. è§†å›¾è§£æå™¨ï¼ˆViewResolverï¼‰
    </h4>
    <p>
     è§†å›¾è§£æå™¨è´Ÿè´£å°†é€»è¾‘è§†å›¾åç§°è§£æä¸ºå®é™…çš„è§†å›¾ï¼ˆå¦‚JSPé¡µé¢ï¼‰ã€‚å¸¸ç”¨çš„è§†å›¾è§£æå™¨åŒ…æ‹¬
     <code>
      InternalResourceViewResolver
     </code>
     ã€‚
    </p>
    <h5>
     <a id="_69">
     </a>
     é…ç½®è§†å›¾è§£æå™¨
    </h5>
    <p>
     åœ¨Springé…ç½®æ–‡ä»¶ä¸­é…ç½®
     <code>
      InternalResourceViewResolver
     </code>
     ï¼š
    </p>
    <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.springframework.web.servlet.view.InternalResourceViewResolver<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>prefix<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/WEB-INF/views/<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>suffix<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.jsp<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <hr/>
    <h3>
     <a id="_80">
     </a>
     ä¸‰ã€è¯·æ±‚å¤„ç†
    </h3>
    <p>
     Spring MVCæä¾›äº†ä¸°å¯Œçš„æ³¨è§£æ¥å¤„ç†HTTPè¯·æ±‚ã€‚
    </p>
    <h4>
     <a id="1_RequestMapping_84">
     </a>
     1. @RequestMapping
    </h4>
    <p>
     <code>
      @RequestMapping
     </code>
     ç”¨äºå°†HTTPè¯·æ±‚æ˜ å°„åˆ°æ§åˆ¶å™¨æ–¹æ³•ã€‚å®ƒå¯ä»¥æŒ‡å®šURLè·¯å¾„ã€è¯·æ±‚æ–¹æ³•ï¼ˆGETã€POSTç­‰ï¼‰ã€‚
    </p>
    <h5>
     <a id="_87">
     </a>
     ç¤ºä¾‹ä»£ç ï¼š
    </h5>
    <pre><code class="prism language-java"><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/user"</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">GET</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"å¼ ä¸‰"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">"user"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="2_RequestParam_99">
     </a>
     2. @RequestParam
    </h4>
    <p>
     <code>
      @RequestParam
     </code>
     ç”¨äºä»è¯·æ±‚å‚æ•°ä¸­æå–å€¼ã€‚
    </p>
    <h5>
     <a id="_102">
     </a>
     ç¤ºä¾‹ä»£ç ï¼š
    </h5>
    <pre><code class="prism language-java"><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/user"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">"user"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="3_PathVariable_114">
     </a>
     3. @PathVariable
    </h4>
    <p>
     <code>
      @PathVariable
     </code>
     ç”¨äºä»URLè·¯å¾„ä¸­æå–å€¼ã€‚
    </p>
    <h5>
     <a id="_117">
     </a>
     ç¤ºä¾‹ä»£ç ï¼š
    </h5>
    <pre><code class="prism language-java"><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/user/{id}"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token keyword">int</span> id<span class="token punctuation">,</span> <span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">"user"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <hr/>
    <h3>
     <a id="_131">
     </a>
     å››ã€æ•°æ®ç»‘å®š
    </h3>
    <p>
     Spring MVCæä¾›äº†å¼ºå¤§çš„æ•°æ®ç»‘å®šåŠŸèƒ½ï¼Œæ”¯æŒè¡¨å•å¤„ç†ã€JSONæ•°æ®å¤„ç†ç­‰ã€‚
    </p>
    <h4>
     <a id="1__135">
     </a>
     1. è¡¨å•å¤„ç†
    </h4>
    <p>
     Spring MVCå¯ä»¥è‡ªåŠ¨å°†è¡¨å•æ•°æ®ç»‘å®šåˆ°Javaå¯¹è±¡ã€‚
    </p>
    <h5>
     <a id="_138">
     </a>
     ç¤ºä¾‹ä»£ç ï¼š
    </h5>
    <pre><code class="prism language-java"><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/user"</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">addUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@ModelAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span> <span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// å¤„ç†ç”¨æˆ·æ•°æ®</span>
        <span class="token keyword">return</span> <span class="token string">"result"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="2_JSON_150">
     </a>
     2. JSONæ•°æ®å¤„ç†
    </h4>
    <p>
     Spring MVCæ”¯æŒé€šè¿‡
     <code>
      @RequestBody
     </code>
     å’Œ
     <code>
      @ResponseBody
     </code>
     å¤„ç†JSONæ•°æ®ã€‚
    </p>
    <h5>
     <a id="_153">
     </a>
     ç¤ºä¾‹ä»£ç ï¼š
    </h5>
    <pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/user"</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">addUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// å¤„ç†ç”¨æˆ·æ•°æ®</span>
        <span class="token keyword">return</span> user<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <hr/>
    <h3>
     <a id="_167">
     </a>
     äº”ã€æ‹¦æˆªå™¨
    </h3>
    <p>
     æ‹¦æˆªå™¨ï¼ˆInterceptorï¼‰ç”¨äºåœ¨è¯·æ±‚å¤„ç†å‰åæ‰§è¡Œé¢å¤–çš„é€»è¾‘ã€‚Spring MVCæä¾›äº†
     <code>
      HandlerInterceptor
     </code>
     æ¥å£æ¥å®ç°æ‹¦æˆªå™¨ã€‚
    </p>
    <h4>
     <a id="1__171">
     </a>
     1. å®ç°æ‹¦æˆªå™¨
    </h4>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoggingInterceptor</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerInterceptor</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">preHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¯·æ±‚å¤„ç†å‰: "</span> <span class="token operator">+</span> request<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">,</span> <span class="token class-name">ModelAndView</span> modelAndView<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¯·æ±‚å¤„ç†å: "</span> <span class="token operator">+</span> request<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterCompletion</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">,</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¯·æ±‚å®Œæˆ: "</span> <span class="token operator">+</span> request<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="2__192">
     </a>
     2. é…ç½®æ‹¦æˆªå™¨
    </h4>
    <p>
     åœ¨Springé…ç½®æ–‡ä»¶ä¸­é…ç½®æ‹¦æˆªå™¨ï¼š
    </p>
    <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.example.LoggingInterceptor<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <hr/>
    <h3>
     <a id="_202">
     </a>
     å…­ã€æ–‡ä»¶ä¸Šä¼ 
    </h3>
    <p>
     Spring MVCæ”¯æŒé€šè¿‡
     <code>
      MultipartFile
     </code>
     å¤„ç†æ–‡ä»¶ä¸Šä¼ ã€‚
    </p>
    <h4>
     <a id="1__206">
     </a>
     1. é…ç½®æ–‡ä»¶ä¸Šä¼ 
    </h4>
    <p>
     åœ¨Springé…ç½®æ–‡ä»¶ä¸­é…ç½®æ–‡ä»¶ä¸Šä¼ è§£æå™¨ï¼š
    </p>
    <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>multipartResolver<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.springframework.web.multipart.commons.CommonsMultipartResolver<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>maxUploadSize<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10485760<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- 10MB --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <h4>
     <a id="2__214">
     </a>
     2. å¤„ç†æ–‡ä»¶ä¸Šä¼ 
    </h4>
    <pre><code class="prism language-java"><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FileController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/upload"</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">handleFileUpload</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"file"</span><span class="token punctuation">)</span> <span class="token class-name">MultipartFile</span> file<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// ä¿å­˜æ–‡ä»¶</span>
            <span class="token keyword">return</span> <span class="token string">"success"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token string">"error"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <hr/>
    <h3>
     <a id="Spring_MVCWeb_232">
     </a>
     ä¸ƒã€æ€»ç»“ï¼šSpring MVCæ˜¯æ„å»ºWebåº”ç”¨çš„åˆ©å™¨ï¼
    </h3>
    <p>
     æ­å–œä½ ï¼ç°åœ¨ä½ å·²ç»æŒæ¡äº†Spring MVCçš„æ ¸å¿ƒå†…å®¹ï¼ŒåŒ…æ‹¬MVCæ¶æ„ã€è¯·æ±‚å¤„ç†ã€æ•°æ®ç»‘å®šã€æ‹¦æˆªå™¨ä»¥åŠæ–‡ä»¶ä¸Šä¼ ã€‚Spring MVCæ˜¯Java Webå¼€å‘ä¸­éå¸¸é‡è¦çš„æ¡†æ¶ï¼ŒæŒæ¡äº†å®ƒï¼Œä½ å°±èƒ½æ„å»ºå‡ºçµæ´»ã€é«˜æ•ˆçš„Webåº”ç”¨ç¨‹åºã€‚
    </p>
    <p>
     æ¥ä¸‹æ¥ï¼Œä½ å¯ä»¥å°è¯•åœ¨å®é™…é¡¹ç›®ä¸­åº”ç”¨è¿™äº›çŸ¥è¯†ï¼Œæ¯”å¦‚å¼€å‘ä¸€ä¸ªRESTful APIã€ä¼˜åŒ–Spring MVCé…ç½®ç­‰ã€‚åŠ æ²¹ï¼Œæœªæ¥çš„Java Webå¼€å‘å¤§ç¥ï¼ğŸš€
    </p>
    <hr/>
    <p>
     <strong>
      PS
     </strong>
     ï¼šå¦‚æœä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œåˆ«æ‹…å¿ƒï¼æ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œæˆ‘ä¼šå°½åŠ›å¸®ä½ è§£å†³ï¼ğŸ˜„
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f7974776f73687561692f:61727469636c652f64657461696c732f313436323530343735" class_="artid" style="display:none">
 </p>
</div>


