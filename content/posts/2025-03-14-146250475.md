---
arturl_encode: "68747470733a2f:2f626c6f672e6373646e2e6e65742f7974776f73687561692f:61727469636c652f64657461696c732f313436323530343735"
layout: post
title: "æ·±å…¥ç†è§£Spring-MVCæ„å»ºçµæ´»çš„Webåº”ç”¨"
date: 2025-03-14 10:11:20 +08:00
description: "Spring MVCæ˜¯ä¸€ä¸ªåŸºäºMVCï¼ˆModel-View-Controllerï¼‰æ¶æ„çš„Webæ¡†æ¶ï¼Œå®ƒæä¾›äº†å¼ºå¤§çš„åŠŸèƒ½æ¥å¤„ç†HTTPè¯·æ±‚ã€ç”ŸæˆåŠ¨æ€å†…å®¹ä»¥åŠç®¡ç†Webåº”ç”¨ç¨‹åºçš„æµç¨‹ã€‚æ— è®ºæ˜¯æ„å»ºRESTful APIï¼Œè¿˜æ˜¯å¼€å‘ä¼ ç»Ÿçš„Webåº”ç”¨ï¼ŒSpring MVCéƒ½æ˜¯ä¸å¯æˆ–ç¼ºçš„å·¥å…·ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨Spring MVCçš„æ ¸å¿ƒç»„ä»¶ã€è¯·æ±‚å¤„ç†ã€æ•°æ®ç»‘å®šã€æ‹¦æˆªå™¨ä»¥åŠæ–‡ä»¶ä¸Šä¼ ç­‰å†…å®¹ï¼Œå¸®åŠ©ä½ å…¨é¢æŒæ¡Spring MVCçš„ä½¿ç”¨æ–¹æ³•ã€‚"
keywords: "æ·±å…¥ç†è§£Spring MVCï¼šæ„å»ºçµæ´»çš„Webåº”ç”¨"
categories: ['Spring']
tags: ['Spring', 'Spring', 'Java', 'Boot']
artid: "146250475"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146250475
    alt: "æ·±å…¥ç†è§£Spring-MVCæ„å»ºçµæ´»çš„Webåº”ç”¨"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146250475
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146250475
cover: https://bing.ee123.net/img/rand?artid=146250475
image: https://bing.ee123.net/img/rand?artid=146250475
img: https://bing.ee123.net/img/rand?artid=146250475
---

# æ·±å…¥ç†è§£Spring MVCï¼šæ„å»ºçµæ´»çš„Webåº”ç”¨

*å¤§å®¶å¥½ï¼ä»Šå¤©æˆ‘ä»¬æ¥èŠèŠSpringæ¡†æ¶ä¸­çš„ä¸€ä¸ªé‡è¦æ¨¡å—â€”â€”
**Spring MVC**
ã€‚Spring MVCæ˜¯ä¸€ä¸ªåŸºäºMVCï¼ˆModel-View-Controllerï¼‰æ¶æ„çš„Webæ¡†æ¶ï¼Œå®ƒæä¾›äº†å¼ºå¤§çš„åŠŸèƒ½æ¥å¤„ç†HTTPè¯·æ±‚ã€ç”ŸæˆåŠ¨æ€å†…å®¹ä»¥åŠç®¡ç†Webåº”ç”¨ç¨‹åºçš„æµç¨‹ã€‚æ— è®ºæ˜¯æ„å»ºRESTful APIï¼Œè¿˜æ˜¯å¼€å‘ä¼ ç»Ÿçš„Webåº”ç”¨ï¼ŒSpring MVCéƒ½æ˜¯ä¸å¯æˆ–ç¼ºçš„å·¥å…·ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨Spring MVCçš„æ ¸å¿ƒç»„ä»¶ã€è¯·æ±‚å¤„ç†ã€æ•°æ®ç»‘å®šã€æ‹¦æˆªå™¨ä»¥åŠæ–‡ä»¶ä¸Šä¼ ç­‰å†…å®¹ï¼Œå¸®åŠ©ä½ å…¨é¢æŒæ¡Spring MVCçš„ä½¿ç”¨æ–¹æ³•ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹å§ï¼ğŸ˜„*

---

### ä¸€ã€Spring MVCç®€ä»‹

#### 1. ä»€ä¹ˆæ˜¯Spring MVCï¼Ÿ

Spring MVCæ˜¯Springæ¡†æ¶çš„ä¸€ä¸ªæ¨¡å—ï¼Œç”¨äºæ„å»ºåŸºäºMVCæ¶æ„çš„Webåº”ç”¨ç¨‹åºã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†åº”ç”¨ç¨‹åºåˆ†ä¸ºä¸‰ä¸ªå±‚æ¬¡ï¼š

* **æ¨¡å‹ï¼ˆModelï¼‰**
  ï¼šè´Ÿè´£ç®¡ç†åº”ç”¨ç¨‹åºçš„æ•°æ®å’Œä¸šåŠ¡é€»è¾‘ã€‚
* **è§†å›¾ï¼ˆViewï¼‰**
  ï¼šè´Ÿè´£å±•ç¤ºæ•°æ®ï¼Œé€šå¸¸æ˜¯HTMLé¡µé¢ã€‚
* **æ§åˆ¶å™¨ï¼ˆControllerï¼‰**
  ï¼šè´Ÿè´£å¤„ç†ç”¨æˆ·è¾“å…¥ï¼Œæ›´æ–°æ¨¡å‹ï¼Œå¹¶é€‰æ‹©è§†å›¾æ¥å±•ç¤ºæ•°æ®ã€‚

Spring MVCé€šè¿‡
**DispatcherServlet**
ä½œä¸ºå‰ç«¯æ§åˆ¶å™¨ï¼Œåè°ƒè¯·æ±‚çš„å¤„ç†æµç¨‹ã€‚

#### 2. Spring MVCçš„ä¼˜åŠ¿

* **çµæ´»æ€§**
  ï¼šæ”¯æŒå¤šç§è§†å›¾æŠ€æœ¯ï¼ˆå¦‚JSPã€Thymeleafã€FreeMarkerï¼‰ã€‚
* **å¼ºå¤§çš„æ³¨è§£æ”¯æŒ**
  ï¼šé€šè¿‡æ³¨è§£ç®€åŒ–æ§åˆ¶å™¨å’Œè¯·æ±‚å¤„ç†çš„é…ç½®ã€‚
* **ä¸Springæ¡†æ¶æ— ç¼é›†æˆ**
  ï¼šå¯ä»¥è½»æ¾ä½¿ç”¨Springçš„å…¶ä»–åŠŸèƒ½ï¼ˆå¦‚ä¾èµ–æ³¨å…¥ã€AOPï¼‰ã€‚

---

### äºŒã€Spring MVCçš„æ ¸å¿ƒç»„ä»¶

#### 1. DispatcherServlet

`DispatcherServlet`
æ˜¯Spring MVCçš„å‰ç«¯æ§åˆ¶å™¨ï¼Œå®ƒè´Ÿè´£æ¥æ”¶æ‰€æœ‰çš„HTTPè¯·æ±‚ï¼Œå¹¶å°†è¯·æ±‚åˆ†å‘ç»™ç›¸åº”çš„å¤„ç†å™¨ï¼ˆControllerï¼‰ã€‚å®ƒçš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š

1. æ¥æ”¶HTTPè¯·æ±‚ã€‚
2. è°ƒç”¨å¤„ç†å™¨æ˜ å°„å™¨ï¼ˆHandlerMappingï¼‰æ‰¾åˆ°å¯¹åº”çš„å¤„ç†å™¨ï¼ˆControllerï¼‰ã€‚
3. è°ƒç”¨å¤„ç†å™¨é€‚é…å™¨ï¼ˆHandlerAdapterï¼‰æ‰§è¡Œå¤„ç†å™¨ã€‚
4. è°ƒç”¨è§†å›¾è§£æå™¨ï¼ˆViewResolverï¼‰è§£æè§†å›¾ã€‚
5. è¿”å›HTTPå“åº”ã€‚

##### é…ç½®DispatcherServlet

åœ¨
`web.xml`
ä¸­é…ç½®
`DispatcherServlet`
ï¼š

```xml
<servlet>
    <servlet-name>dispatcher</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <init-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>/WEB-INF/spring-mvc-config.xml</param-value>
    </init-param>
    <load-on-startup>1</load-on-startup>
</servlet>

<servlet-mapping>
    <servlet-name>dispatcher</servlet-name>
    <url-pattern>/</url-pattern>
</servlet-mapping>

```

#### 2. æ§åˆ¶å™¨ï¼ˆControllerï¼‰

æ§åˆ¶å™¨æ˜¯Spring MVCçš„æ ¸å¿ƒç»„ä»¶ï¼Œå®ƒè´Ÿè´£å¤„ç†HTTPè¯·æ±‚å¹¶è¿”å›å“åº”ã€‚æ§åˆ¶å™¨é€šå¸¸ä½¿ç”¨
`@Controller`
æ³¨è§£æ ‡è®°ã€‚

##### ç¤ºä¾‹ä»£ç ï¼š

```java
@Controller
public class UserController {
    @RequestMapping("/user")
    public String getUser(Model model) {
        model.addAttribute("name", "å¼ ä¸‰");
        return "user";
    }
}

```

#### 3. è§†å›¾è§£æå™¨ï¼ˆViewResolverï¼‰

è§†å›¾è§£æå™¨è´Ÿè´£å°†é€»è¾‘è§†å›¾åç§°è§£æä¸ºå®é™…çš„è§†å›¾ï¼ˆå¦‚JSPé¡µé¢ï¼‰ã€‚å¸¸ç”¨çš„è§†å›¾è§£æå™¨åŒ…æ‹¬
`InternalResourceViewResolver`
ã€‚

##### é…ç½®è§†å›¾è§£æå™¨

åœ¨Springé…ç½®æ–‡ä»¶ä¸­é…ç½®
`InternalResourceViewResolver`
ï¼š

```xml
<bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
    <property name="prefix" value="/WEB-INF/views/" />
    <property name="suffix" value=".jsp" />
</bean>

```

---

### ä¸‰ã€è¯·æ±‚å¤„ç†

Spring MVCæä¾›äº†ä¸°å¯Œçš„æ³¨è§£æ¥å¤„ç†HTTPè¯·æ±‚ã€‚

#### 1. @RequestMapping

`@RequestMapping`
ç”¨äºå°†HTTPè¯·æ±‚æ˜ å°„åˆ°æ§åˆ¶å™¨æ–¹æ³•ã€‚å®ƒå¯ä»¥æŒ‡å®šURLè·¯å¾„ã€è¯·æ±‚æ–¹æ³•ï¼ˆGETã€POSTç­‰ï¼‰ã€‚

##### ç¤ºä¾‹ä»£ç ï¼š

```java
@Controller
public class UserController {
    @RequestMapping(value = "/user", method = RequestMethod.GET)
    public String getUser(Model model) {
        model.addAttribute("name", "å¼ ä¸‰");
        return "user";
    }
}

```

#### 2. @RequestParam

`@RequestParam`
ç”¨äºä»è¯·æ±‚å‚æ•°ä¸­æå–å€¼ã€‚

##### ç¤ºä¾‹ä»£ç ï¼š

```java
@Controller
public class UserController {
    @RequestMapping("/user")
    public String getUser(@RequestParam("name") String name, Model model) {
        model.addAttribute("name", name);
        return "user";
    }
}

```

#### 3. @PathVariable

`@PathVariable`
ç”¨äºä»URLè·¯å¾„ä¸­æå–å€¼ã€‚

##### ç¤ºä¾‹ä»£ç ï¼š

```java
@Controller
public class UserController {
    @RequestMapping("/user/{id}")
    public String getUser(@PathVariable("id") int id, Model model) {
        model.addAttribute("id", id);
        return "user";
    }
}

```

---

### å››ã€æ•°æ®ç»‘å®š

Spring MVCæä¾›äº†å¼ºå¤§çš„æ•°æ®ç»‘å®šåŠŸèƒ½ï¼Œæ”¯æŒè¡¨å•å¤„ç†ã€JSONæ•°æ®å¤„ç†ç­‰ã€‚

#### 1. è¡¨å•å¤„ç†

Spring MVCå¯ä»¥è‡ªåŠ¨å°†è¡¨å•æ•°æ®ç»‘å®šåˆ°Javaå¯¹è±¡ã€‚

##### ç¤ºä¾‹ä»£ç ï¼š

```java
@Controller
public class UserController {
    @RequestMapping(value = "/user", method = RequestMethod.POST)
    public String addUser(@ModelAttribute("user") User user) {
        // å¤„ç†ç”¨æˆ·æ•°æ®
        return "result";
    }
}

```

#### 2. JSONæ•°æ®å¤„ç†

Spring MVCæ”¯æŒé€šè¿‡
`@RequestBody`
å’Œ
`@ResponseBody`
å¤„ç†JSONæ•°æ®ã€‚

##### ç¤ºä¾‹ä»£ç ï¼š

```java
@RestController
public class UserController {
    @RequestMapping(value = "/user", method = RequestMethod.POST)
    public User addUser(@RequestBody User user) {
        // å¤„ç†ç”¨æˆ·æ•°æ®
        return user;
    }
}

```

---

### äº”ã€æ‹¦æˆªå™¨

æ‹¦æˆªå™¨ï¼ˆInterceptorï¼‰ç”¨äºåœ¨è¯·æ±‚å¤„ç†å‰åæ‰§è¡Œé¢å¤–çš„é€»è¾‘ã€‚Spring MVCæä¾›äº†
`HandlerInterceptor`
æ¥å£æ¥å®ç°æ‹¦æˆªå™¨ã€‚

#### 1. å®ç°æ‹¦æˆªå™¨

```java
public class LoggingInterceptor implements HandlerInterceptor {
    @Override
    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {
        System.out.println("è¯·æ±‚å¤„ç†å‰: " + request.getRequestURI());
        return true;
    }

    @Override
    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception {
        System.out.println("è¯·æ±‚å¤„ç†å: " + request.getRequestURI());
    }

    @Override
    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception {
        System.out.println("è¯·æ±‚å®Œæˆ: " + request.getRequestURI());
    }
}

```

#### 2. é…ç½®æ‹¦æˆªå™¨

åœ¨Springé…ç½®æ–‡ä»¶ä¸­é…ç½®æ‹¦æˆªå™¨ï¼š

```xml
<mvc:interceptors>
    <bean class="com.example.LoggingInterceptor" />
</mvc:interceptors>

```

---

### å…­ã€æ–‡ä»¶ä¸Šä¼ 

Spring MVCæ”¯æŒé€šè¿‡
`MultipartFile`
å¤„ç†æ–‡ä»¶ä¸Šä¼ ã€‚

#### 1. é…ç½®æ–‡ä»¶ä¸Šä¼ 

åœ¨Springé…ç½®æ–‡ä»¶ä¸­é…ç½®æ–‡ä»¶ä¸Šä¼ è§£æå™¨ï¼š

```xml
<bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver">
    <property name="maxUploadSize" value="10485760" /> <!-- 10MB -->
</bean>

```

#### 2. å¤„ç†æ–‡ä»¶ä¸Šä¼ 

```java
@Controller
public class FileController {
    @RequestMapping(value = "/upload", method = RequestMethod.POST)
    public String handleFileUpload(@RequestParam("file") MultipartFile file) {
        if (!file.isEmpty()) {
            // ä¿å­˜æ–‡ä»¶
            return "success";
        } else {
            return "error";
        }
    }
}

```

---

### ä¸ƒã€æ€»ç»“ï¼šSpring MVCæ˜¯æ„å»ºWebåº”ç”¨çš„åˆ©å™¨ï¼

æ­å–œä½ ï¼ç°åœ¨ä½ å·²ç»æŒæ¡äº†Spring MVCçš„æ ¸å¿ƒå†…å®¹ï¼ŒåŒ…æ‹¬MVCæ¶æ„ã€è¯·æ±‚å¤„ç†ã€æ•°æ®ç»‘å®šã€æ‹¦æˆªå™¨ä»¥åŠæ–‡ä»¶ä¸Šä¼ ã€‚Spring MVCæ˜¯Java Webå¼€å‘ä¸­éå¸¸é‡è¦çš„æ¡†æ¶ï¼ŒæŒæ¡äº†å®ƒï¼Œä½ å°±èƒ½æ„å»ºå‡ºçµæ´»ã€é«˜æ•ˆçš„Webåº”ç”¨ç¨‹åºã€‚

æ¥ä¸‹æ¥ï¼Œä½ å¯ä»¥å°è¯•åœ¨å®é™…é¡¹ç›®ä¸­åº”ç”¨è¿™äº›çŸ¥è¯†ï¼Œæ¯”å¦‚å¼€å‘ä¸€ä¸ªRESTful APIã€ä¼˜åŒ–Spring MVCé…ç½®ç­‰ã€‚åŠ æ²¹ï¼Œæœªæ¥çš„Java Webå¼€å‘å¤§ç¥ï¼ğŸš€

---

**PS**
ï¼šå¦‚æœä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œåˆ«æ‹…å¿ƒï¼æ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œæˆ‘ä¼šå°½åŠ›å¸®ä½ è§£å†³ï¼ğŸ˜„