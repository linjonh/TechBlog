---
layout: post
title: "区块链测试"
date: 2024-07-23 17:09:38 +0800
description: "区块链的特性回顾：\t去中介化/中心化的信任。\t\t\t稳定性、可靠性、持续性。因为它是一个分布式的网络架"
keywords: "什么是区块链测试"
categories: ['安全测试']
tags: ['运维', '服务器', 'Linux']
artid: "121639048"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=121639048
    alt: "区块链测试"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=121639048
featuredImagePreview: https://bing.ee123.net/img/rand?artid=121639048
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     区块链测试
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     <img alt="" height="620" src="https://i-blog.csdnimg.cn/blog_migrate/04c72bd97b0ec93974057f4f46c94f58.png" width="916"/>
    </p>
    <p>
     <img alt="" height="682" src="https://i-blog.csdnimg.cn/blog_migrate/31ce40ab77ff1dff11f69d2eddc8d69a.png" width="906">
     </img>
    </p>
    <p>
    </p>
    <p>
     区块链的特性回顾：
    </p>
    <ul>
     <li>
      <p>
       去中介化/中心化的信任。
      </p>
     </li>
     <li>
      <p>
       稳定性、可靠性、持续性。因为它是一个分布式的网络架构，没有一个中心节点可以被打击或者攻击，所以在整体的技术布置方面有着更强的稳定性、可靠性和持续性。
      </p>
     </li>
     <li>
      <p>
       强安全、共识机制不需要第三方的进入，而是通过一个技术来达到，先前预定的一个技术来达到整个交易的完成。
      </p>
     </li>
     <li>
      <p>
       交易的公开透明和不可篡改性。
      </p>
     </li>
    </ul>
    <p>
     简单概括：去中心化，不可篡改、所有节点公开全账本、账户信息持续可追踪、对等网络，没有上帝角色（系统管理员等）。
    </p>
    <p>
    </p>
    <p>
     技术储备
    </p>
    <p>
     一、区块链测试的难点
    </p>
    <p>
     <img alt="" height="321" src="https://i-blog.csdnimg.cn/blog_migrate/5a4f507298fc1ee8f5e29924c62b443f.png" width="698"/>
    </p>
    <p>
    </p>
    <p>
     区块链测试与传统的软件测试有很大的不同,主要体现在以下几点：
    </p>
    <ul>
     <li>
      <p>
       系统边界模糊。传统的软件，不管是是独立的应用程序，还是客户端/服务器模式的应用程序，都有明显的系统边界，可以通过UI用户界面或者客户端去进行测试。区块链底层，则是一个完全去中心化的分布式网络。这个网络有可能跨越多个子网、多个数据中心、多个运营商、甚至多个国家，其边界是模糊的。对于区块链底层的测试，不仅仅是前端API与某个区块链节点之间的测试，还涉及大量区块链节点与节点之间的测试。
      </p>
     </li>
     <li>
      <p>
       故障类型复杂。一般软件故障包括3类：
      </p>
     </li>
    </ul>
    <ol>
     <li>
      <ol>
       <li>
        <p>
         宕机故障（Crash Failure）；
        </p>
       </li>
       <li>
        <p>
         宕机-恢复故障 （Crash-Recovery Failures）；
        </p>
       </li>
       <li>
        <p>
         拜占庭故障 （Byzantine Failures）。所谓拜占庭故障，来自一个著名的“拜占庭将军问题”，指系统存在某些恶意节点，用一个形象的比喻就是“叛变的Byzantine将军”。从不同观察者角度看这类节点，表现出不一致的症状，这在需要共识的系统中，往往会导致系统服务失效。
        </p>
       </li>
      </ol>
     </li>
    </ol>
    <p>
     一般软件最多只需要解决前两种故障，而区块链系统，则需要同时处理所  有的故障，确保系统的可靠运行。
    </p>
    <ul>
     <li>
      <p>
       区块链类型不同。区块链本身包含公有链、私有链、联盟链等多种类型，不同类型在管理、用户身份、最大节点数等平台自身特征方面均有不同，测评需要考虑所有的模式，导致测试方案更加复杂。（如下表）
      </p>
     </li>
    </ul>
    <p>
     <img alt="" height="244" src="https://i-blog.csdnimg.cn/blog_migrate/a0497c29404d596536e5d3c0ecb21b83.png" width="689"/>
    </p>
    <p>
    </p>
    <p>
     二、测试点的考量
    </p>
    <p>
     根据目前行业发布的白皮书，区块链的评测标准包括：
    </p>
    <p>
     <img alt="" height="449" src="https://i-blog.csdnimg.cn/blog_migrate/fc4ca70e084a02b766c4918a6873d1eb.png" width="931"/>
    </p>
    <p>
     技术要求
    </p>
    <p>
     区块链相关的落地系统，也可能包括我们熟悉的传统架构软件的测试内容。比如之前某些厂商的带宽共享、共享云，也会有独立的APP支持在线查询管理等；对于区块链底层的测试，则需要掌握的技术包括如下几点：
    </p>
    <ol>
     <li>
      <p>
       首先要掌握密码学的基本知识（例如对称加密、非对称加密、数字签名的原理）；
      </p>
     </li>
     <li>
      <p>
       理解数据结构中的链表概念，树的概念；
      </p>
     </li>
     <li>
      <p>
       区块链的交易记账模型（如何实现转账的，如何避免双花的，如何实现所有权验证的）；
      </p>
     </li>
     <li>
      <p>
       若是基于以太坊代码做，那还得理解虚拟机运行原理；
      </p>
     </li>
    </ol>
    <p>
     区块链项目重点测试如下内容：
    </p>
    <ol>
     <li>
      <p>
       转账，向单/多签名地址转账，向脚本转账；
      </p>
     </li>
     <li>
      <p>
       如果对币的机制有修改，双花攻击测试；
      </p>
     </li>
     <li>
      <p>
       智能合约功能及安全测试；
      </p>
     </li>
     <li>
      <p>
       打包及交易确认效率。
      </p>
     </li>
    </ol>
    <p>
     其实，任何软件的测试，都是可以基于“输入-输出-行为”模型（又叫IBO模型）来做测试分析和设计。
    </p>
    <p>
     业务场景及性能测试
    </p>
    <p>
     一、 业务场景
    </p>
    <p>
     我们以金融业务为例，通常分为实施业务、和非实时业务，两种业务的特点在于：
    </p>
    <ol>
     <li>
      <p>
       实时业务:秒级支付、私有链、无单点故障和高扩展性；
      </p>
     </li>
     <li>
      <p>
       非实时业务：去中心化、联盟链、防篡改、数据零丢失；
      </p>
     </li>
    </ol>
    <p>
     具体如下图：
    </p>
    <p>
     <img alt="" height="458" src="https://i-blog.csdnimg.cn/blog_migrate/c3d096b6215b948bc0a73c13e0291eba.png" width="895"/>
    </p>
    <p>
    </p>
    <p>
     二、关于性能测试的一些思考
    </p>
    <p>
     对于性能评测部分，主要关注一下4个指标：
    </p>
    <p>
     <img alt="" height="235" src="https://i-blog.csdnimg.cn/blog_migrate/d01d5ebf6d4fe58a8abaf583fff18421.png" width="603"/>
    </p>
    <p>
     对于不同的性能指标，几点思考：
    </p>
    <ul>
     <li>
      <p>
       延迟：P2P系统中都是虚拟链接，实际路由可能每次都不一样。
      </p>
     </li>
     <li>
      <p>
       共识率：系统中设定一些节点，故意篡改释放假数据，看是否成功。
      </p>
     </li>
     <li>
      <p>
       吞吐率：检查矿工的效率，即整个系统每秒的有效交易数。
      </p>
     </li>
     <li>
      <p>
       目前性能评测中，常见的是脱离网络规模和区块大小谈每秒交易数（TPS）
      </p>
     </li>
    </ul>
    <ol>
     <li>
      <ol>
       <li>
        <p>
         实际中，网络规模越大，需要达成共识的节点越多，达成共识的进度，越慢，吞吐量（TPS）就越低
        </p>
       </li>
       <li>
        <p>
         区块越大，可扩展性越大，吞吐量可能发生抖动，大概率是变低。
        </p>
       </li>
      </ol>
     </li>
    </ol>
    <p>
     <img alt="" height="364" src="https://i-blog.csdnimg.cn/blog_migrate/c2f6b9606daf19da7b9a47a9e2b99823.png" width="968"/>
    </p>
    <p>
    </p>
    <p>
     结束语
    </p>
    <p>
     目前对于区块链的测试内容上，短期还会出现针对不同行业的差异性，但最终会走向融合和统一。测试手段上，也将随着时间逐步由人工测试，转向自动化测试，有周边的功能深入到底层。
    </p>
    <p>
     参考文献：
    </p>
    <p>
     1. 区块链测评概览https://www.jianshu.com/p/7d88c4176d4c
    </p>
    <p>
     2. 区块链成熟度评测报告https://www.jianshu.com/p/45e0eef2f34c
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f33303030373838352f:61727469636c652f64657461696c732f313231363339303438" class_="artid" style="display:none">
 </p>
</div>


