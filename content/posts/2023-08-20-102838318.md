---
layout: post
title: "简单服务器搭建三安装jdk"
date: 2023-08-20 15:43:12 +0800
description: "第一篇就提到过，我想要在服务器上部署一个java项目，JDk是java运行的必须环境，服务器搭建之后"
keywords: "CentOS7.5,JDK1.8,xftp"
categories: ['Linux']
tags: ['Linux']
artid: "102838318"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=102838318
    alt: "简单服务器搭建三安装jdk"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=102838318
featuredImagePreview: https://bing.ee123.net/img/rand?artid=102838318
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     简单服务器搭建三、安装jdk
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     第一篇就提到过，我想要在服务器上部署一个java项目，JDk是java运行的必须环境，服务器搭建之后，首先配置好JDK环境。
    </p>
    <p>
     工具：jdk
    </p>
    <p>
     版本：jdk1.8
    </p>
    <p>
     系统：CentOS7.5 64位
    </p>
    <h3>
     <a id="1__7">
     </a>
     1 下载安装包
    </h3>
    <p>
     在官网下载jdk文件，选择Linux版本，注意勾选接受协议。（
     <a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" rel="nofollow">
      下载地址
     </a>
     ）
     <br/>
     <img alt="jdk下载界面" src="https://i-blog.csdnimg.cn/blog_migrate/6493259fc813e5f8950db44e89804958.png"/>
    </p>
    <h3>
     <a id="2__12">
     </a>
     2 上传文件至服务器
    </h3>
    <p>
     这里使用xftp工具进行文件上传。
    </p>
    <p>
     1.首先下载xftp工具，地址和xshell一样（
     <a href="https://www.netsarang.com/en/all-downloads/" rel="nofollow">
      下载地址
     </a>
     ）。下载操作也和xshell一样。
    </p>
    <p>
     2.安装好工具之后，点击左上角的新建，再进行连接（具体操作可参考xshell，两者基本一样）。
    </p>
    <p>
     3.在服务器的/usr下面新建文件夹，mkdir software(若无权限操作，可以切换root进行赋权)
    </p>
    <pre><code class="prism language-shell"><span class="token comment">#修改文件夹权限操作</span>
<span class="token punctuation">[</span>lgs@VM_0_4_centos usr<span class="token punctuation">]</span>$ <span class="token function">su</span> root   		   <span class="token comment">#切换root用户</span>
Password: 输入root密码 						<span class="token comment">#需输入密码</span>
<span class="token punctuation">[</span>root@VM_0_4_centos usr<span class="token punctuation">]</span><span class="token comment"># chmod 775 /usr/  #修改/usr文件夹权限</span>
<span class="token punctuation">[</span>root@VM_0_4_centos usr<span class="token punctuation">]</span><span class="token comment"># su lgs  		   #切换回lgs用户</span>
</code></pre>
    <p>
     4.在xftp上，右边框为服务器的文件目录，左边为本机的文件目录，进入服务器的/usr/software文件夹后，将下载好的jdk文件直接拖进服务器即可上传。
    </p>
    <h3>
     <a id="3_jdk_32">
     </a>
     3 安装jdk
    </h3>
    <p>
     Linux上的安装都很简单，直接解压即可，具体操作如下：
    </p>
    <pre><code class="prism language-shell"><span class="token function">tar</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span><span class="token punctuation">[</span>文件<span class="token punctuation">]</span>   <span class="token comment">#解压命令</span>

-c: 压缩文件
-x：解压文件
-t：查看内容
-r：向压缩文件末尾追加文件
-u：更新原压缩包中的文件

上面这五个是独立的命令，压缩解压都要用到其中一个，可以和别的命令连用但只能用其中一个。
下面的参数是根据需要在压缩或解压时可选的。

-z：有gzip属性的（.gz结尾的）
-j：有bz2属性的
-Z：有compress属性的
-v：显示所有过程
-O：将文件解开到标准输出
</code></pre>
    <pre><code class="prism language-shell"><span class="token comment">#新建解压目录</span>
<span class="token punctuation">[</span>lgs@VM_0_4_centos usr<span class="token punctuation">]</span>$ <span class="token function">mkdir</span> java  <span class="token comment">#在/usr文件夹下新建java文件夹</span>
<span class="token comment">#解压jdk安装包到/usr/java文件夹下，  -C：解压到指定文件夹</span>
<span class="token punctuation">[</span>lgs@VM_0_4_centos usr<span class="token punctuation">]</span>$ <span class="token function">tar</span> -zxvf /usr/software/jdk-8u221-linux-i586.tar.gz -C /usr/java/
</code></pre>
    <p>
     此时可以看到/usr/java文件夹下有刚才解压的目录：
    </p>
    <pre><code class="prism language-shell"><span class="token punctuation">[</span>lgs@VM_0_4_centos usr<span class="token punctuation">]</span>$ ll java/
</code></pre>
    <p>
     <img alt="jdk解压目录" src="https://i-blog.csdnimg.cn/blog_migrate/b0cfca98e5c817c4e5eb55f7054dd67a.png"/>
    </p>
    <h3>
     <a id="4__68">
     </a>
     4 配置环境变量
    </h3>
    <p>
     配置环境变量之前需要先查看是否安装过jdk
    </p>
    <pre><code class="prism language-shell"><span class="token punctuation">[</span>lgs@VM_0_4_centos usr<span class="token punctuation">]</span>$ rpm -qa <span class="token operator">|</span> <span class="token function">grep</span> -i jdk  <span class="token comment">#查看是否安装过jdk</span>
</code></pre>
    <p>
     如果安装过jdk需要先卸载再安装新的jdk
    </p>
    <p>
     卸载步骤：
    </p>
    <pre><code class="prism language-shell"><span class="token punctuation">[</span>root@bogon jre<span class="token punctuation">]</span><span class="token comment"># rpm -qa|grep jdk   #查看是否安装Jdk，有数据代表安装了jdk</span>
java-1.8.0-openjdk-headless-1.8.0.65-3.b17.el7.x86_64
java-1.7.0-openjdk-1.7.0.91-2.6.2.3.el7.x86_64
java-1.7.0-openjdk-headless-1.7.0.91-2.6.2.3.el7.x86_64
java-1.8.0-openjdk-1.8.0.65-3.b17.el7.x86_64
<span class="token comment">#卸载jdk,以上每一个openJDK都要执行yum -y remove命令，如果有.noarch文件可不用管</span>
<span class="token punctuation">[</span>root@bogon jre<span class="token punctuation">]</span><span class="token comment"># yum -y remove java-1.8.0-openjdk-headless-1.8.0.65-3.b17.el7.x86_64</span>
</code></pre>
    <p>
     卸载完成之后就可以配置环境变量了，步骤如下：
    </p>
    <p>
     编辑 /etc/profile文件
    </p>
    <pre><code class="prism language-shell"><span class="token punctuation">[</span>lgs@VM_0_4_centos usr<span class="token punctuation">]</span>$ vim /etc/profile
</code></pre>
    <p>
     在文件最末尾插入以下代码：
    </p>
    <pre><code class="prism language-shell"><span class="token function">export</span> JAVA_HOME<span class="token operator">=</span>/usr/java/jdk1.8.0_221  <span class="token comment">#jdk的安装路径</span>
<span class="token function">export</span> CLASSPATH<span class="token operator">=</span>.:<span class="token variable">$JAVA_HOME</span>/jre/lib/rt.jar:<span class="token variable">$JAVA_HOME</span>/lib/dt.jar:<span class="token variable">$JAVA_HOME</span>/lib/tools.jar
<span class="token function">export</span> PATH<span class="token operator">=</span><span class="token variable">$PATH</span><span class="token keyword">:</span><span class="token variable">$JAVA_HOME</span>/bin
</code></pre>
    <p>
     如下图：
     <br/>
     <img alt="配置jdk环境变量" src="https://i-blog.csdnimg.cn/blog_migrate/f5bcb9aee5740962485c4f66bd575db4.png"/>
    </p>
    <p>
     输入完成之后，先按esc键，在按:键，再输入wq!完成写入，在执行source命令使profile修改生效
    </p>
    <pre><code class="prism language-shell"><span class="token punctuation">[</span>lgs@VM_0_4_centos usr<span class="token punctuation">]</span>$ <span class="token function">source</span> /etc/profile
</code></pre>
    <h3>
     <a id="5_jdk_116">
     </a>
     5 查看jdk版本
    </h3>
    <p>
     安装完成之后检查是否安装成功，可查看jdk版本，执行以下命令：
    </p>
    <pre><code class="prism language-shell"><span class="token punctuation">[</span>lgs@VM_0_4_centos usr<span class="token punctuation">]</span>$ java -version  <span class="token comment">#查看java版本</span>
</code></pre>
    <p>
     但是此时可能会报错：
    </p>
    <pre><code class="prism language-shell">bash: /usr/java/jdk1.8.0_221/bin/java: /lib/ld-linux.so.2: bad ELF interpreter: No such <span class="token function">file</span> or directory  <span class="token comment">#有时候会提示中文，但是意思一样</span>
</code></pre>
    <p>
     原因是64位的系统，执行的却是32位的程序，可通过安装glibc解决：
    </p>
    <pre><code class="prism language-shell"><span class="token punctuation">[</span>root@VM_0_4_centos usr<span class="token punctuation">]</span><span class="token comment"># yum install glibc.i686  #没权限需要切换root用户安装</span>
</code></pre>
    <p>
     此时再运行java -version就可以正常查看java版本了
     <br/>
     <img alt="查看jdk版本" src="https://i-blog.csdnimg.cn/blog_migrate/3105c28a613442b4009abe32f8623c87.png">
      <br/>
      到此处，则说明jdk安装成功了！
     </img>
    </p>
   </div>
   <link href="./../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="./../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f6c6975313136303834383539352f:61727469636c652f64657461696c732f313032383338333138" class_="artid" style="display:none">
 </p>
</div>


