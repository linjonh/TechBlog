---
layout: post
title: "java学习总结三springMVC"
date: 2025-03-09 15:45:25 +0800
description: "Springmvc是Spring框架的后续产品，用在基于MVC的表现层开发，类似于struts2框架。Spring全家桶：SSM+SpringBoot +SpringCloud+Redis+Vue + IDEA+GitSpringmvc依赖于Core（IOC），Springmvc需要导入Core包和Springmvc特有的包。如果使用Spring的DAO、ORM不但要导入这两个包，好如要导入AOP。"
keywords: "java学习总结三：springMVC"
categories: ['未分类']
tags: ['开发语言', '学习', 'Java']
artid: "146132837"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146132837
    alt: "java学习总结三springMVC"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146132837
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146132837
cover: https://bing.ee123.net/img/rand?artid=146132837
image: https://bing.ee123.net/img/rand?artid=146132837
img: https://bing.ee123.net/img/rand?artid=146132837
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     java学习总结三：springMVC
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2 id="FWW9-1741504415980">
     一、Springmvc是什么
    </h2>
    <p>
     Springmvc是Spring框架的后续产品，用在基于MVC的表现层开发，类似于struts2框架。
    </p>
    <p>
     Spring全家桶：SSM+SpringBoot +SpringCloud+Redis+Vue + IDEA+Git
    </p>
    <p>
     <img alt="" height="662" src="https://i-blog.csdnimg.cn/direct/c9adf5caa3a04770810c5df3f8000ad0.png" width="1692"/>
    </p>
    <p>
     <img alt="" height="466" src="https://i-blog.csdnimg.cn/direct/b0fbc8d876c049de975e7a2a0499fcb6.png" width="841"/>
    </p>
    <p>
     Springmvc依赖于Core（IOC），Springmvc需要导入Core包和Springmvc特有的包。
    </p>
    <p>
     如果使用Spring的DAO、ORM不但要导入这两个包，好如要导入AOP
    </p>
    <p>
    </p>
    <h2>
     二、快速入门
    </h2>
    <pre><code class="hljs">@Controller
// 请求映射，怎么样找到这些请求的路径 /student/add
@RequestMapping(value = "/student")
public class StudentController {
   @RequestMapping(value = "/add1")
   public void add1(String name, Integer age, String gender) {
     System.out.println("StudentController.add()");
     System.out.println("name: " + name);
     System.out.println("age: " + age);
     System.out.println("gender: " + gender);
   }
   
   @RequestMapping(value = "/add")
   public ModelAndView add(Student student) {
     System.out.println("StudentController.add()");
     System.out.println(student);
     
     // Model：数据     View：界面
     ModelAndView modelAndView = new ModelAndView();
     // request.setAttribute("student", student);
     modelAndView.addObject("student", student);
     // request.getRequestDispatcher("/student_info.jsp").forward(request,response);
     modelAndView.setViewName("/student_info.jsp");
     return modelAndView;
   }
}</code></pre>
    <p>
    </p>
    <h2 id="RID2-1741504569286">
     三、ModelAndView和Model
    </h2>
    <p>
     ModelAndView：即放数据，也放转发的页面
    </p>
    <p>
     Model：只放数据，以方法返回值形式设置转发的页面
    </p>
    <pre><code class="hljs">@RequestMapping("/add2")
public ModelAndView add2(Student student) {
   System.out.println("StudentController.add2()");
   System.out.println(student);
   // req.setAttritbu("student", student);
   // req.getRequestDispatcher("/student_info.jsp").forword(req, resp);
   ModelAndView modelAndView = new ModelAndView();
   modelAndView.addObject("student", student);
   modelAndView.setViewName("/student_info.jsp");
   return modelAndView;
}

@RequestMapping("/add3")
public String add3(Student student, Model model) {
   System.out.println("StudentController.add3()");
   System.out.println(student);
   // req.setAttritbu("student", student);
   model.addAttribute("student", student);
   // req.getRequestDispatcher("/student_info.jsp").forword(req, resp);
   return "/student_info.jsp";
}</code></pre>
    <p>
    </p>
    <h2 id="rukw-1741505242406">
     四、RequestMethod
    </h2>
    <p>
     可以限定某个业务控制方法，只允许GET或者POST方式请求访问：
    </p>
    <h2>
     <img alt="" height="720" src="https://i-blog.csdnimg.cn/direct/deec8f46f6924de9927b6fe7266a328a.png" width="1122"/>
    </h2>
    <h2 id="z8ih-1741505242411">
     五、写入request、response等传统web参数
    </h2>
    <pre><code class="hljs">@RequestMapping(value = "/add", method = RequestMethod.POST)
public void add(HttpServletRequest request, HttpServletResponse response, HttpSession session)
     throws ServletException, IOException {
   System.out.println("StudentController.add()");
   String name = request.getParameter("name");
   String age = request.getParameter("age");
   String gender = request.getParameter("gender");
   Student student = new Student(null, name, Integer.parseInt(age), gender);
   request.setAttribute("student", student);
   request.getRequestDispatcher("/student_info.jsp").forward(request, response);
}</code></pre>
    <h2 id="eXI5-1741505354299">
     七、转发&amp;重定向
    </h2>
    <p>
     转发和重定向：
    </p>
    <pre><code class="hljs">//http://localhost:8080/student/deleteById?id=23
@RequestMapping("/deleteById")
public String deleteById(Integer id) {
    System.out.println("StudentController.deleteById");
    System.out.println("id: " + id);
    return "redirect:/student/selectAll";
}

@RequestMapping("/selectAll")
public String selectAll() {
    System.out.println("StudentController.selectAll");
    return "/student_list.jsp";
}</code></pre>
    <h2 id="WGOe-1741505389347">
     八、乱码问题
    </h2>
    <p>
     在传统JSP+Servlet中我们自己写Filter来处理乱码问题，使用SpringMVC他帮我们写了一个处理乱码问题的Filter，我们只需要在web.xml中配置这个Filter就可以了。
    </p>
    <p>
     在web.xml中添加
    </p>
    <pre><code class="hljs">&lt;!-- 解决POST乱码问题 --&gt;
 &lt;filter&gt;
     &lt;filter-name&gt;characterEncoding&lt;/filter-name&gt;
    &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;   
    &lt;init-param&gt;
        &lt;param-name&gt;encoding&lt;/param-name&gt;
        &lt;param-value&gt;UTF-8&lt;/param-value&gt;
    &lt;/init-param&gt;
 &lt;/filter&gt;
 &lt;filter-mapping&gt;
     &lt;filter-name&gt;characterEncoding&lt;/filter-name&gt;
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
 &lt;/filter-mapping&gt;</code></pre>
    <h2 id="OYRx-1741505425593">
     九、JSON数据封装
    </h2>
    <p>
     1、加入Jackson相关jar包
    </p>
    <p>
     2、在返回方法的时候加上@ResponseBody
    </p>
    <pre><code class="hljs">@RequestMapping("/selectById")
@ResponseBody
public Student selectById(Integer id){
    Student student = new Student(1, "张三1", 23, "男");
    return student;
}

@RequestMapping("/select")
@ResponseBody
public List&lt;Student&gt; select(){    
    Student student1 = new Student(1, "张三1", 23, "男");
    Student student2 = new Student(2, "张三2", 23, "男");
    Student student3 = new Student(3, "张三3", 23, "男");
    List&lt;Student&gt; list = new ArrayList&lt;&gt;();
    list.add(student1);
    list.add(student2);
    list.add(student3);
    return list;
}</code></pre>
    <p>
    </p>
    <h2 id="WSNL-1741505944670">
     十、@RequestParam注解
    </h2>
    <p>
     我们一般使用的参数绑定都有遵循的规则：方法参数名要与传递过来的name属性名相同。
    </p>
    <p>
     在默认的情况下，只有名字相同，SpringMVC才会帮我们进行参数绑定…
    </p>
    <p>
     如果我们使用@RequestParam注解的话，我们就可以使方法参数名与传递过来的name属性名不同…
    </p>
    <p>
     该注解有三个变量：
    </p>
    <p>
     1、value【指定name属性的名称是什么】
    </p>
    <p>
     /student/selectByPage?page=3&amp;pageSize=34
    </p>
    <p>
     public void selectByPage(@RequestParam(value = "page", defaultValue = "1") Integer pageNo,Integer pageSize)
    </p>
    <p>
     2、required 代表这个参数必须要传递过来，原来不传默认是null，加了这个required 后不传就会报错
    </p>
    <p>
     3、defaultvalue设置默认值
    </p>
    <blockquote>
     <p>
      使用了defaultValue，required只能为false，前端不传参数时会将参数置为defaultValue
     </p>
    </blockquote>
    <pre><code class="hljs">@RequestMapping("/selectByPage")
public String selectByPage(@RequestParam(value = "page", defaultValue = "1") Integer pageNo,
                           @RequestParam(defaultValue = "5") Integer pageSize,
                           @RequestParam(required = true, defaultValue = "4") Integer totalPage) {
    System.out.println("pageNo: " + pageNo);
    System.out.println("pageSize: " + pageSize);
    System.out.println("defaultValue: " + totalPage);

    return "/student_list.jsp";
}</code></pre>
    <h2 id="8Kps-1741506215437">
     十一、视图解析器
    </h2>
    <pre><code class="hljs">&lt;!-- 视图解析器
1、如果Controller中书写的是视图的逻辑名，这个视图解析器必须要配置。
前缀+视图逻辑名+后缀=真实路径
/ + student_add + .jsp
2、如果视图解析器书写的是视图的真实路径，那么这个视图解析器可以不配置
 --&gt;
&lt;bean class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt;
   &lt;!-- 路径前缀 --&gt;
   &lt;property name="prefix" value="/"/&gt;
   &lt;!-- 路径后缀 --&gt;
   &lt;property name="suffix" value=".jsp"/&gt;
&lt;/bean&gt;</code></pre>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f36333631383334342f:61727469636c652f64657461696c732f313436313332383337" class_="artid" style="display:none">
 </p>
</div>


