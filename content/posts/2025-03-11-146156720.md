---
layout: post
title: "群晖-NAS把微软bing的背景图自动更换为群晖DSM7.X登录界面和DSM欢迎信息的教程"
date: 2025-03-11 09:20:22 +0800
description: "把微软bing的背景图自动更换为群晖DSM7.X登录界面和DSM欢迎信息的教程"
keywords: "【群晖 NAS】把微软bing的背景图自动更换为群晖DSM7.X登录界面和DSM欢迎信息的教程"
categories: ['群晖Nas']
tags: ['群晖Nas', 'Microsoft']
artid: "146156720"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146156720
    alt: "群晖-NAS把微软bing的背景图自动更换为群晖DSM7.X登录界面和DSM欢迎信息的教程"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146156720
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146156720
cover: https://bing.ee123.net/img/rand?artid=146156720
image: https://bing.ee123.net/img/rand?artid=146156720
img: https://bing.ee123.net/img/rand?artid=146156720
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【群晖 NAS】把微软bing的背景图自动更换为群晖DSM7.X登录界面和DSM欢迎信息的教程
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="_NASbingDSM7XDSM_0">
     </a>
     【群晖 NAS】把微软bing的背景图自动更换为群晖DSM7.X登录界面和DSM欢迎信息的教程
    </h2>
    <h3>
     <a id="1_DSM_1">
     </a>
     1. 打开控制面板，找到“登录门户”，在“DSM”标签点“编辑”；
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/8a83d89b0abf4cdea914a4b6159820b0.png"/>
    </p>
    <h3>
     <a id="2__3">
     </a>
     2. 在“背景”处打勾，保存；
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/275507999234499ab75e9511b115156f.png"/>
    </p>
    <h3>
     <a id="3__5">
     </a>
     3. 点控制面板，任务计划，新增，计划的任务，用户定义的脚本；
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/a04664c0c4ec4dd885b797eb08f9ede1.png"/>
    </p>
    <h3>
     <a id="4_DSM7BingWallpaperroot_7">
     </a>
     4. 任务名称写"DSM7-BingWallpaper"，用户账号要改成“root”，然后在“已启动”处打勾；
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/496ac0360eef40caa858e4bdde0af32e.png"/>
    </p>
    <h3>
     <a id="5_0_9">
     </a>
     5. 在“计划”标签处，根据自己的习惯设置，我设置的是每天0点更新，所以设置如下：
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/0e4cfcd4a57543c7a943de79470cdebf.png"/>
    </p>
    <h3>
     <a id="6__11">
     </a>
     6. 点“任务设置”，把下面的脚本全部复制，到“用户定义的脚本”里面粘贴，确定；
    </h3>
    <pre><code class="prism language-bash"><span class="token comment">#如需收集每日美图去掉下面注释设置保存文件夹路径，在FileStation里面右键文件夹属性可以看到路径</span>
<span class="token comment">#savepath="/volume2/download/BingWallpaper"</span>
<span class="token comment">#下载Bing图片</span>
<span class="token assign-left variable">pic</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">wget</span> <span class="token parameter variable">-t</span> <span class="token number">5</span> --no-check-certificate -qO- <span class="token string">"https://www.bing.com/HPImageArchive.aspx?format=js&amp;idx=0&amp;n=1"</span><span class="token variable">)</span></span>
<span class="token builtin class-name">echo</span> <span class="token variable">$pic</span><span class="token operator">|</span><span class="token function">grep</span> <span class="token parameter variable">-q</span> enddate<span class="token operator">||</span><span class="token builtin class-name">exit</span>
<span class="token assign-left variable">link</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> https://www.bing.com<span class="token punctuation">$(</span>echo $pic<span class="token operator">|</span><span class="token function">sed</span> <span class="token string">'s/.\+"url"[:" ]\+//g'</span><span class="token operator">|</span><span class="token function">sed</span> <span class="token string">'s/".\+//g'</span><span class="token variable">)</span><span class="token variable">)</span></span>
<span class="token assign-left variable">date</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> $pic<span class="token operator">|</span><span class="token function">sed</span> <span class="token string">'s/.\+enddate[": ]\+//g'</span><span class="token operator">|</span><span class="token function">grep</span> <span class="token parameter variable">-Eo</span> <span class="token number">2</span><span class="token punctuation">[</span><span class="token number">0</span>-9<span class="token punctuation">]</span><span class="token punctuation">{<!-- --></span><span class="token number">7</span><span class="token punctuation">}</span><span class="token operator">|</span><span class="token function">head</span> <span class="token parameter variable">-1</span><span class="token variable">)</span></span>
<span class="token assign-left variable">tmpfile</span><span class="token operator">=</span>/tmp/<span class="token variable">$date</span><span class="token string">"_bing.jpg"</span>
<span class="token function">wget</span> <span class="token parameter variable">-t</span> <span class="token number">5</span> --no-check-certificate <span class="token variable">$link</span> <span class="token parameter variable">-qO</span> <span class="token variable">$tmpfile</span>
<span class="token punctuation">[</span> <span class="token parameter variable">-s</span> <span class="token variable">$tmpfile</span> <span class="token punctuation">]</span><span class="token operator">||</span><span class="token builtin class-name">exit</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> /usr/syno/etc/login_background*.jpg
<span class="token function">cp</span> <span class="token parameter variable">-f</span> <span class="token variable">$tmpfile</span> /usr/syno/etc/login_background.jpg <span class="token operator">&amp;&gt;</span>/dev/null
<span class="token function">cp</span> <span class="token parameter variable">-f</span> <span class="token variable">$tmpfile</span> /usr/syno/etc/login_background_hd.jpg <span class="token operator">&amp;&gt;</span>/dev/null
<span class="token function">cp</span> <span class="token parameter variable">-f</span> <span class="token variable">$tmpfile</span> /usr/syno/synoman/webman/resources/images/1x/default_login_background/dsm7_01.jpg <span class="token operator">&amp;&gt;</span>/dev/null
<span class="token function">cp</span> <span class="token parameter variable">-f</span> <span class="token variable">$tmpfile</span> /usr/syno/synoman/webman/resources/images/2x/default_login_background/dsm7_01.jpg <span class="token operator">&amp;&gt;</span>/dev/null
<span class="token assign-left variable">title</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> $pic<span class="token operator">|</span><span class="token function">sed</span> <span class="token string">'s/.\+"title":"//g'</span><span class="token operator">|</span><span class="token function">sed</span> <span class="token string">'s/".\+//g'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">copyright</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> $pic<span class="token operator">|</span><span class="token function">sed</span> <span class="token string">'s/.\+"copyright[:" ]\+//g'</span><span class="token operator">|</span><span class="token function">sed</span> <span class="token string">'s/".\+//g'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">word</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> $copyright<span class="token operator">|</span><span class="token function">sed</span> <span class="token string">'s/(.\+//g'</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token parameter variable">-n</span> <span class="token string">"<span class="token variable">$title</span>"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
<span class="token assign-left variable">cninfo</span><span class="token operator">=</span><span class="token punctuation">$(</span>echo $copyright<span class="token operator">|</span><span class="token function">sed</span> <span class="token string">'s/，/"/g'</span><span class="token operator">|</span><span class="token function">sed</span> <span class="token string">'s/,/"/g'</span><span class="token operator">|</span><span class="token function">sed</span> <span class="token string">'s/(/"/g'</span><span class="token operator">|</span><span class="token function">sed</span> <span class="token string">'s/ //g'</span><span class="token operator">|</span><span class="token function">sed</span> <span class="token string">'s/\//_/g'</span><span class="token operator">|</span><span class="token function">sed</span> <span class="token string">'s/)//g'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">title</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> $cninfo<span class="token operator">|</span><span class="token function">cut</span> -d<span class="token string">'"'</span> <span class="token parameter variable">-f1</span><span class="token variable">)</span></span>
<span class="token assign-left variable">word</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> $cninfo<span class="token operator">|</span><span class="token function">cut</span> -d<span class="token string">'"'</span> <span class="token parameter variable">-f2</span><span class="token variable">)</span></span>
<span class="token keyword">fi</span>
<span class="token comment">#将图片应用于登陆界面</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> s/login_background_customize<span class="token operator">=</span>.*//g /etc/synoinfo.conf
<span class="token builtin class-name">echo</span> <span class="token string">"login_background_customize=<span class="token entity" title='\"'>\"</span>yes<span class="token entity" title='\"'>\"</span>"</span><span class="token operator">&gt;&gt;</span>/etc/synoinfo.conf
<span class="token function">sed</span> <span class="token parameter variable">-i</span> s/login_welcome_title<span class="token operator">=</span>.*//g /etc/synoinfo.conf
<span class="token builtin class-name">echo</span> <span class="token string">"login_welcome_title=<span class="token entity" title='\"'>\"</span><span class="token variable">$title</span><span class="token entity" title='\"'>\"</span>"</span><span class="token operator">&gt;&gt;</span>/etc/synoinfo.conf
<span class="token function">sed</span> <span class="token parameter variable">-i</span> s/login_welcome_msg<span class="token operator">=</span>.*//g /etc/synoinfo.conf
<span class="token builtin class-name">echo</span> <span class="token string">"login_welcome_msg=<span class="token entity" title='\"'>\"</span><span class="token variable">$word</span><span class="token entity" title='\"'>\"</span>"</span><span class="token operator">&gt;&gt;</span>/etc/synoinfo.conf
<span class="token comment">#将图片保存到指定路径</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>echo <span class="token variable">$savepath</span><span class="token operator">|</span><span class="token function">grep</span> <span class="token parameter variable">-q</span> <span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token keyword">then</span>
<span class="token function">cp</span> <span class="token parameter variable">-f</span> <span class="token variable">$tmpfile</span> <span class="token string">"<span class="token variable">$savepath</span>/<span class="token variable">$date</span>@<span class="token variable">$title</span>-<span class="token variable">$word</span>.jpg"</span>
<span class="token keyword">fi</span>
<span class="token comment">#清除临时文件</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> /tmp/*_bing.jpg
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/487ddb0c02e643b28ee487ce04fff8f2.png"/>
    </p>
    <h3>
     <a id="7___52">
     </a>
     7. 确定；
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/f7c7dd59ba7249ea97f87c42f414a1c8.png"/>
    </p>
    <h3>
     <a id="8_DSM7BingWallpaper_54">
     </a>
     8. 找到刚才添加的任务计划“DSM7-BingWallpaper”，右键，运行；
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/37a1f2570b0445d4b55803fd35352623.png"/>
    </p>
    <h3>
     <a id="9__56">
     </a>
     9. 是；
    </h3>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/direct/b6ea4d86478a44ed8831fb068a672c4a.png"/>
    </p>
    <h3>
     <a id="10_DSM71142962httpsblogcsdnnetqq_43331089articledetails145585349_58">
     </a>
     10. 打开群晖的登录界面看一下，已经变了模样；（如果需要把输入用户名和密码那里的白底去掉，还需要继续做一下美化，请查看
     <a href="https://blog.csdn.net/qq_43331089/article/details/145585349">
      《把群晖DSM7.1.1-42962的登录界面美化成半透明》
     </a>
     教程。）
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/c19fcc107dde4c8595a6abf369d32df1.png"/>
    </p>
    <h3>
     <a id="11_bing_60">
     </a>
     11. 再打开微软bing的网站，对比一下背景图以及图片的介绍，跟群晖登录界面是一样的，证明折腾成功！
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/0b92fd5c39ed4741ac4d53c6f772d60a.png"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f34333333313038392f:61727469636c652f64657461696c732f313436313536373230" class_="artid" style="display:none">
 </p>
</div>


