---
layout: post
title: "nginx-部署前端vue项目"
date: 2024-09-02 17:07:22 +0800
description: "Nginx是一款轻量级的HTTP服务器，采用事件驱动的异步非阻塞处理方式框架，这让其具有极好的IO性能，时常用于服务端的反向代理和负载均衡。优点支持海量高并发：采用IO多路复用epoll。官方测试Nginx能够支持5万并发链接，实际生产环境中可以支撑2-4万并发连接数。内存消耗少可商业化配置文件简单 除了这些优点还有很多，比如反向代理功能，灰度发布，负载均衡功能等。"
keywords: "nginx部署前端vue项目"
categories: ['基础', '前端工程师']
tags: ['前端', 'Vue', 'Nginx']
artid: "141822578"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=141822578
    alt: "nginx-部署前端vue项目"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=141822578
featuredImagePreview: https://bing.ee123.net/img/rand?artid=141822578
cover: https://bing.ee123.net/img/rand?artid=141822578
image: https://bing.ee123.net/img/rand?artid=141822578
img: https://bing.ee123.net/img/rand?artid=141822578
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     nginx 部署前端vue项目
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     👨‍⚕
     <font color="#9b59b6" face="STCAIYUN" size="4">
      主页：
      <a href="https://blog.csdn.net/qq_28419035">
       gis分享者
      </a>
     </font>
     <br/>
     👨‍⚕
     <font color="#e74c3c" face="STCAIYUN" size="4">
      感谢各位大佬 点赞👍 收藏⭐ 留言📝 加关注✅!
     </font>
     <br/>
     👨‍⚕
     <font color="#3498db" face="STCAIYUN" size="4">
      收录于专栏：
      <a href="https://blog.csdn.net/qq_28419035/category_12747750.html">
       前端工程师
       <br/>
      </a>
     </font>
    </p>
    <hr/>
    <p>
    </p>
    <p>
    </p>
    <hr/>
    <h2>
     <a id="nginx_9">
     </a>
     一、🍓什么是nginx？
    </h2>
    <p>
     Nginx是一款轻量级的HTTP服务器，采用事件驱动的异步非阻塞处理方式框架，这让其具有极好的IO性能，时常用于服务端的反向代理和负载均衡。
     <br/>
     <strong>
      优点
     </strong>
     ：
    </p>
    <ul>
     <li>
      支持海量高并发：采用IO多路复用epoll。官方测试Nginx能够支持5万并发链接，实际生产环境中可以支撑2-4万并发连接数。
     </li>
     <li>
      内存消耗少
     </li>
     <li>
      可商业化
     </li>
     <li>
      配置文件简单 除了这些优点还有很多，比如反向代理功能，灰度发布，负载均衡功能等
     </li>
    </ul>
    <h2>
     <a id="nginx_vue_17">
     </a>
     二、🍓nginx 部署前端vue项目步骤
    </h2>
    <h3>
     <a id="21__nginx_18">
     </a>
     2.1 🍉安装nginx
    </h3>
    <h4>
     <a id="211_windows_19">
     </a>
     2.1.1 🍌windows环境安装
    </h4>
    <p>
     到nginx官方下载系统相关的nginx版本安装
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/54a2bee3fab743189e6472336beedfb7.png">
      <br/>
      启动命令：
     </img>
    </p>
    <pre><code class="prism language-powershell">cd F:\nginx<span class="token operator">-</span>1<span class="token punctuation">.</span>19<span class="token punctuation">.</span>4
<span class="token function">start</span> nginx
</code></pre>
    <h4>
     <a id="212_linux_29">
     </a>
     2.1.2 🍌linux环境安装
    </h4>
    <p>
     通常情况下很少使用windows来作为nginx的服务器，一般使用linux。对于linux安装nginx有两种方式，一种是使用官方已经编译好的包来安装，一种是使用源码构建安装。
    </p>
    <p>
     第一种方式参考官方地址https://nginx.org/en/linux_packages.html#stable
    </p>
    <p>
     第二种方式参考官方地址https://nginx.org/en/docs/install.html中的Building from Sources片段，这种实际上就是下一个tar.gz包仍到linux服务去自己编译。
    </p>
    <p>
     在linux服务上和window环境上使用nginx部署vue项目并没有太大差异，把构建好的vue项目dist上传到linux服务上，通用修改nginx服务器中的root来指向dist就ok了，然后使用
    </p>
    <pre><code class="prism language-powershell"><span class="token comment"># centos 7</span>
systemctl restart nginx<span class="token punctuation">.</span>service
<span class="token comment"># centos 6</span>
service nginx restart
<span class="token comment"># 或者是平滑重启</span>
service nginx reload
</code></pre>
    <h3>
     <a id="22_vue_46">
     </a>
     2.2 🍉打包vue项目
    </h3>
    <p>
     执行命令
    </p>
    <pre><code class="prism language-powershell">npm run build
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/2b05f32de66c4e4c821a165891b1868b.png"/>
    </p>
    <h3>
     <a id="23_nginx_52">
     </a>
     2.3 🍉配置nginx
    </h3>
    <p>
     修改nginx配置文件，配置文件为conf下的nginx.conf,修改nginx.conf中的server配置片段
    </p>
    <pre><code class="prism language-r">server <span class="token punctuation">{<!-- --></span>
        listen       <span class="token number">80</span><span class="token punctuation">;</span><span class="token comment">#默认端口是80，如果端口没被占用可以不用修改</span>
        server_name  localhost<span class="token punctuation">;</span>
        root        E<span class="token operator">:</span><span class="token operator">/</span>vue_project<span class="token operator">/</span>my_project<span class="token operator">/</span>dist<span class="token punctuation">;</span><span class="token comment">#vue项目的打包后的dist</span>

        location <span class="token operator">/</span> <span class="token punctuation">{<!-- --></span>
            try_files <span class="token operator">$</span>uri <span class="token operator">$</span>uri<span class="token operator">/</span> <span class="token operator">@</span>router<span class="token punctuation">;</span><span class="token comment">#需要指向下面的@router否则会出现vue的路由在nginx中刷新出现404</span>
            index  index.html index.htm<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">#对应上面的@router，主要原因是路由的路径资源并不是一个真实的路径，所以无法找到具体的文件</span>
        <span class="token comment">#因此需要rewrite到index.html中，然后交给路由在处理请求资源</span>
        location <span class="token operator">@</span>router <span class="token punctuation">{<!-- --></span>
            rewrite <span class="token operator">^</span>.<span class="token operator">*</span><span class="token operator">$</span> <span class="token operator">/</span>index.html last<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">#.......其他部分省略</span>
  <span class="token punctuation">}</span>
</code></pre>
    <p>
     完成nginx配置后重新加载配置文件
    </p>
    <pre><code class="prism language-shell">nginx -s reload
</code></pre>
    <p>
     nginx -s reload
     <br/>
     浏览器中访问：http://localhost 测试是否部署成功
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f32383431393033352f:61727469636c652f64657461696c732f313431383232353738" class_="artid" style="display:none">
 </p>
</div>


