---
layout: post
title: "菜鸟飞Conda安装部署与vscode的结合使用"
date: 2025-03-11 20:16:02 +0800
description: "Conda 是一个跨平台的开源工具，用于管理软件包和环境。本文介绍Conda安装部署与vscode的结合使用。"
keywords: "【菜鸟飞】Conda安装部署与vscode的结合使用"
categories: ['程序基础', 'Vscode', 'Conda']
tags: ['运维', 'Vscode', 'Python', 'Conda']
artid: "146157419"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146157419
    alt: "菜鸟飞Conda安装部署与vscode的结合使用"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146157419
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146157419
cover: https://bing.ee123.net/img/rand?artid=146157419
image: https://bing.ee123.net/img/rand?artid=146157419
img: https://bing.ee123.net/img/rand?artid=146157419
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【菜鸟飞】Conda安装部署与vscode的结合使用
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2>
     介绍
    </h2>
    <p>
     Conda 是一个跨平台的开源工具，用于管理软件包和环境。最初由 Anaconda 公司开发，它的设计目标是支持数据科学和机器学习领域，但其功能不仅局限于此。
    </p>
    <p>
     以下是 Conda 的核心特点：
    </p>
    <p>
     包管理：安装、更新、卸载各种库和工具，包括 Python、R、C++ 等语言的包。
     <br/>
     环境管理：创建独立的虚拟环境，避免包冲突和环境污染。
     <br/>
     跨平台支持：支持 macOS、Linux 和 Windows 操作系统。
     <br/>
     语言无关：不仅支持 Python，还可以安装其他语言的包，例如 R 和 Java。
    </p>
    <p>
     利用 conda 最主要的目的是为了使得不同版本Python环境、不同版本模块能够共存和灵活切换。
    </p>
    <p>
     pip 与 conda 比对：在使用 pip 之前，必须通过系统软件包管理器下载和安装python解释器，而 conda 可以直接安装 python 软件包以及解释器，但 conda 只能在 conda 环境下安装各类的包，因此需要先创建 conda 环境。
    </p>
    <h2>
     下载安装
    </h2>
    <p>
     官方网站：
     <a href="https://docs.anaconda.com/free/miniconda/miniconda-install/" rel="nofollow" title="Anaconda Documentation - Anaconda">
      Anaconda Documentation - Anaconda
     </a>
    </p>
    <p>
     <img alt="" height="667" src="https://i-blog.csdnimg.cn/direct/b31e7621a6f040cb9e978733bf757d2e.png" width="1534"/>
    </p>
    <p>
     <img alt="" height="724" src="https://i-blog.csdnimg.cn/direct/824445416bbd4d329c10e58554a40e12.png" width="1519"/>
    </p>
    <p>
     <img alt="" height="977" src="https://i-blog.csdnimg.cn/direct/086131c3d09a436abcd2d02c52a7f332.png" width="670"/>
    </p>
    <p>
     根据需要选择conda版本：
    </p>
    <ul>
     <li>
      Anaconda 是一个大而全的软件发行版，是一个预先建立和配置好的模块集，能够安装在操作系统上使用。它包含了Python本身和数百个第三方开源项目的二进制文件，如 numpy、scipy、ipython、matplotlib等，这些库基本是为了方便处理数据科学相关的问题。
     </li>
     <li>
      Miniconda 也是一个软件发行版，但它仅包含python、conda 和 conda 的依赖项，本质上就是一个空的用来安装 conda 环境的安装器，它没有 Anaconda 中那么多的包，可以理解为 Anaconda 的精简版，能够方便用户按照自己的需求，从零开始构建任意的环境。
     </li>
    </ul>
    <h3>
     安装
    </h3>
    <p>
     我这里安装Miniconda3-latest-Windows-x86_64.exe ，运行安装程序：
    </p>
    <p>
     <img alt="" height="490" src="https://i-blog.csdnimg.cn/direct/a4a0542ada7f40408ab5677c0c513acc.png" width="629"/>
    </p>
    <p>
     <img alt="" height="490" src="https://i-blog.csdnimg.cn/direct/81764b49305a4a1db88abd0f39f02e0f.png" width="629"/>
    </p>
    <p>
     <img alt="" height="490" src="https://i-blog.csdnimg.cn/direct/fc47383d108e4f6eaf1cf7b4d4aaecc4.png" width="629"/>
    </p>
    <p>
     授权提示，确定即可，然后：
    </p>
    <p>
     <img alt="" height="490" src="https://i-blog.csdnimg.cn/direct/55f725423fbe4ad7adc31527633508ff.png" width="629"/>
    </p>
    <p>
     安装界面勾选：
    </p>
    <ul>
     <li>
      在开始菜单中，创建快捷方式。
     </li>
     <li>
      注册Miniconda3，使它能被VsCode、PyCharm等检测到。
     </li>
     <li>
      清楚缓存。
     </li>
    </ul>
    <p>
     我遇到冲突提示：
    </p>
    <p>
     <img alt="" height="491" src="https://i-blog.csdnimg.cn/direct/1498a80dd2314312abc8e6551a903b08.png" width="672"/>
    </p>
    <p>
     之前有安装过Python312，先卸载，在重新安装MiniConda，然后继续：
    </p>
    <p>
     <img alt="" height="391" src="https://i-blog.csdnimg.cn/direct/7c2288a3ed3c4f06bc7fcd68f6a6717a.png" width="502"/>
    </p>
    <p>
     <img alt="" height="390" src="https://i-blog.csdnimg.cn/direct/c444d01522a8462795b03f9ce3162bfc.png" width="502"/>
    </p>
    <p>
     <img alt="" height="390" src="https://i-blog.csdnimg.cn/direct/8222aa81d6644b54996e2142a745c1df.png" width="502"/>
    </p>
    <h2>
     运行
    </h2>
    <p>
     <img alt="" height="899" src="https://i-blog.csdnimg.cn/direct/4ddf28f5967e44a3860aa760dbdc6bfb.png" width="971"/>
    </p>
    <p>
     打开后，是一个类DOS界面，执行版本查看命令：
    </p>
    <pre><code>conda --version</code></pre>
    <p>
     执行界面：
    </p>
    <p>
     <img alt="" height="326" src="https://i-blog.csdnimg.cn/direct/4de8bb585ce340a68ce72ee094665d92.png" width="591"/>
    </p>
    <p>
     返回信息表示成功。
    </p>
    <h2>
     镜像的使用
    </h2>
    <h3>
     命令方式
    </h3>
    <p>
     添加下资源的镜像，方便获得包：
    </p>
    <pre><code>conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/
</code></pre>
    <p>
     执行命令后，系统会在  “C:\Users\用户名\” 路径下创建.condarc文件，把镜像信息写进入文档。
    </p>
    <p>
     通过命令进行设置，查看 conda 软件包通道的下载链接时能显示我们手动配置的通道地址:
    </p>
    <pre><code>conda config --set show_channel_urls yes
</code></pre>
    <h3>
     修改配置文件
    </h3>
    <p>
     通过直接修改 “C:\Users\用户名\.condarc” 文件，配置镜像， Windows 用户无法直接创建名为
     <code>
      .condarc
     </code>
     的文件，可先执行
     <code>
      conda config --set show_channel_urls yes
     </code>
     生成该文件之后再修改。文件内容参考：
     <a href="https://mirror.tuna.tsinghua.edu.cn/help/anaconda/?eqid=b45767b90013072c00000005649051db" rel="nofollow" title=" anaconda | 镜像站使用帮助 | 清华大学开源软件镜像站 | Tsinghua Open Source Mirror">
      anaconda | 镜像站使用帮助 | 清华大学开源软件镜像站 | Tsinghua Open Source Mirror
     </a>
    </p>
    <blockquote>
     <pre>channels:
  - defaults
show_channel_urls: true
default_channels:
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2
custom_channels:
  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud </pre>
    </blockquote>
    <h2>
     conda构建vsCode运行环境
    </h2>
    <p>
     准备vscode环境，vs安装参考之前的文档：
    </p>
    <p>
     <a href="https://blog.csdn.net/2501_90561511/article/details/146183481?spm=1011.2415.3001.5331" title="【菜鸟飞】用vsCode搭建python运行环境-CSDN博客">
      【菜鸟飞】用vsCode搭建python运行环境-CSDN博客
     </a>
    </p>
    <p>
     配置 Python 的虚拟环境的两种途径：
    </p>
    <ul>
     <li>
      一：在 vsCode 中直接配置运行环境
     </li>
     <li>
      二：先用conda创建好一个环境，再在 vsCode 选择使用
     </li>
    </ul>
    <h3>
     vscode配置conda环境
    </h3>
    <h4>
     vscode中配置运行环境
    </h4>
    <p>
     新建一个空文件夹，我这里用“E:\01pycode2”，在开始菜单运行
     <img alt="" height="36" src="https://i-blog.csdnimg.cn/direct/f87bc3cd801f4c94b612dffed4e22feb.png" width="247"/>
     ，在vs中，点击文件-打开文件夹，选择刚创建的文件夹，进入一个新环境：
    </p>
    <p>
     <img alt="" height="795" src="https://i-blog.csdnimg.cn/direct/117055c667f149adb39d9029f42f0fcc.png" width="1159"/>
    </p>
    <p>
     点击搜索框，选择“显示并运行命令”，或者直接用快捷键 “Shift+Ctrl+P” 打开命令面板：
    </p>
    <p>
     <img alt="" height="259" src="https://i-blog.csdnimg.cn/direct/c11680441fa44848a8341529494c3157.png" width="932"/>
    </p>
    <p>
     输入“python”，选择python：创建环境：
    </p>
    <p>
     <img alt="" height="362" src="https://i-blog.csdnimg.cn/direct/1545033bed624154b21d65f385a0dbc6.png" width="899"/>
    </p>
    <p>
     <img alt="" height="424" src="https://i-blog.csdnimg.cn/direct/83db52dc5f1444fe8c2d34989debf907.png" width="887"/>
    </p>
    <p>
     <img alt="" height="254" src="https://i-blog.csdnimg.cn/direct/0951ad91b55d40b282c968e90efdcd23.png" width="906"/>
    </p>
    <p>
     <img alt="" height="757" src="https://i-blog.csdnimg.cn/direct/007728dcf1f94c01a1e4336cc140d114.png" width="1146"/>
    </p>
    <p>
     <img alt="" height="796" src="https://i-blog.csdnimg.cn/direct/e5b1349d6a944fddbe565f5a31a740d0.png" width="1159"/>
    </p>
    <p>
     显示上面界面，表示运行环境已经配置好了。
    </p>
    <h4>
     运行python程序
    </h4>
    <p>
     通过下面界面新建一个文件，或者通过菜单文件-新建文本文件：
    </p>
    <p>
     <img alt="" height="796" src="https://i-blog.csdnimg.cn/direct/a0ebb47fbc4341908c317220fa088cd2.png" width="1159"/>
    </p>
    <p>
     输入一行代码，保存为.py为后缀的文件，右键点击文件，选择“在终端中运行 Python 文件”
    </p>
    <p>
     <img alt="" height="731" src="https://i-blog.csdnimg.cn/direct/27ffa631e72b4316ab1603f8ea0d4488.png" width="719"/>
    </p>
    <p>
     在终端会显示，版本信息，就是配置环境时选的python版本：
    </p>
    <p>
     <img alt="" height="71" src="https://i-blog.csdnimg.cn/direct/9084598648fd4345aaa3e7cf205e4174.png" width="696"/>
    </p>
    <p>
     在终端，可以通过conda命令来查看、安装卸载支持包：
    </p>
    <p>
     <img alt="" height="771" src="https://i-blog.csdnimg.cn/direct/336229c25fac462a9552caadcbf8509b.png" width="1222"/>
    </p>
    <h3>
     vscode中使用已有的conda环境
    </h3>
    <h4>
     conda创建运行环境
    </h4>
    <p>
     也可以通过conda先创建好运行环境，再在vscode中使用。
    </p>
    <p>
     打开Anaconda Prompt， 查看已经存在的环境：
    </p>
    <pre><code>conda env list	
</code></pre>
    <p>
     执行界面可见，用vscode设置的环境也在其中：
    </p>
    <p>
     <img alt="" height="207" src="https://i-blog.csdnimg.cn/direct/16c85be652054496b66eb6ecac01d056.png" width="545"/>
    </p>
    <p>
     创建一个新的环境：
    </p>
    <pre><code>conda create --name no1env python=3.8
</code></pre>
    <p>
     运行界面：
    </p>
    <p>
     <img alt="" height="965" src="https://i-blog.csdnimg.cn/direct/5d3f79fedde04d138918c0da5aad23b7.png" width="1007"/>
    </p>
    <p>
     运行命令后，系统会提示要进行的事情，需要确认后，系统会执行。
    </p>
    <p>
     执行后，再查看，就多了一个环境。
    </p>
    <p>
     <img alt="" height="235" src="https://i-blog.csdnimg.cn/direct/8dccdefa236348d29259f1e047561f93.png" width="974"/>
    </p>
    <h4>
     vscode选择运行环境
    </h4>
    <p>
     <img alt="" height="420" src="https://i-blog.csdnimg.cn/direct/634e480d10724c3097ad1c82284709e7.png" width="1194"/>
    </p>
    <p>
     选择刚才创建的环境：
    </p>
    <p>
     <img alt="" height="264" src="https://i-blog.csdnimg.cn/direct/937324fb968c49f38c928e29533c3cbe.png" width="1139"/>
    </p>
    <p>
     再次执行刚才的测试文件，会看到显示的python版本号，已经是新设置环境的版本号：
    </p>
    <p>
     <img alt="" height="797" src="https://i-blog.csdnimg.cn/direct/225c3ed1dc0940b5a947e7da83c1ecbb.png" width="1222"/>
    </p>
    <h2>
     其他：配置dos窗口可以命令
    </h2>
    <p>
     在系统环境变量path中，添加conda和pythone的路径，使其在普通dos窗口也能使用：
    </p>
    <p>
     <img alt="" height="931" src="https://i-blog.csdnimg.cn/direct/b499fdfbb28c4f1daaa3916e3f2ca4fc.png" width="1629"/>
    </p>
    <p>
     目录是conda的安装目录，注意是两个目录，一个目录是python所在目录，一个是conda程序所在目录：
    </p>
    <p>
     <img alt="" height="619" src="https://i-blog.csdnimg.cn/direct/49b6617242d14025baa70df963edf9f9.png" width="842"/>
    </p>
    <p>
     保存，重新打开一个dos窗口：
    </p>
    <p>
     <img alt="" height="890" src="https://i-blog.csdnimg.cn/direct/bf4f65a40f11498590406afa98f6e70b.png" width="971"/>
    </p>
    <h2>
     conda其他命令：
    </h2>
    <p>
     conda list ：会返回当前环境下已经安装好的包
    </p>
    <p>
     conda config --show：环境信息，包括下载源的地址信息，conda 环境所在的文件夹
    </p>
    <p>
     conda config --remove-key channels：重置下载源的信息， “C:\Users\用户名\” 路径下的.condarc文件内容会被清除
    </p>
    <p>
     conda env list：查看已经安装的环境
    </p>
    <p>
     conda create：创建环境
    </p>
    <p>
     conda remove --name envname --all：删除环境
    </p>
    <p>
     conda activate myenv：激活并切换到 myenv 环境中
    </p>
    <p>
     conda install scipy：下载安装包
     <br/>
     conda remove scipy：卸载安装包
    </p>
    <p>
     conda env export &gt; environment.yml：导出环境到文件environment.yml
    </p>
    <p>
     conda env create -f environment.yml：从文件environment.yml导入环境
    </p>
    <p>
     -------
    </p>
    <p>
     conda create 指定文件夹 指定python版本和pip版本
    </p>
    <p>
     conda create -p D:\conda\test_env python=3.10
    </p>
    <p>
     激活：
    </p>
    <p>
     conda activate D:\conda\test_env
    </p>
    <p>
     取消激活：
    </p>
    <p>
     conda deactivate D:\conda\test_env
    </p>
    <p>
     删除：
    </p>
    <p>
     conda env remove -p D:\conda\test_env
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323530315f39303536313531312f:61727469636c652f64657461696c732f313436313537343139" class_="artid" style="display:none">
 </p>
</div>


