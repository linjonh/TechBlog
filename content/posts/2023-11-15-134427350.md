---
layout: post
title: "云原生下GIS服务规划与设计"
date: 2023-11-15 19:41:12 +0800
description: "作为云原生GIS系统管理人员，在面对新建的云GIS系统时，通常需要应对大量GIS服务的接入与管理。为"
keywords: "云原生gis"
categories: ['云Gis']
tags: ['云套件', '云原生', '云Gis', 'Imanager']
artid: "134427350"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=134427350
    alt: "云原生下GIS服务规划与设计"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=134427350
featuredImagePreview: https://bing.ee123.net/img/rand?artid=134427350
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     云原生下GIS服务规划与设计
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <blockquote>
     <p>
      作者：lisong
     </p>
    </blockquote>
    <p>
    </p>
    <div class="toc">
     <h4>
      目录
     </h4>
     <ul>
      <li>
       <a href="#_3" rel="nofollow">
        背景
       </a>
      </li>
      <li>
       <a href="#GIS_5" rel="nofollow">
        云原生环境下GIS服务的相关概念
       </a>
      </li>
      <li>
       <a href="#GIS_12" rel="nofollow">
        GIS服务在云原生环境下的规划调度策略
       </a>
      </li>
      <li>
       <a href="#GIS_19" rel="nofollow">
        GIS服务在云原生环境下的调度手段
       </a>
      </li>
      <li>
       <a href="#GIS_30" rel="nofollow">
        GIS服务在云原生环境下的服务规划调度实践
       </a>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <h2>
     <a id="_3">
     </a>
     背景
    </h2>
    <p>
     作为云原生GIS系统管理人员，在面对新建的云GIS系统时，通常需要应对大量GIS服务的接入与管理。为了确保系统和服务的稳定流畅运行，我们需要提前做好规划与设计工作。
    </p>
    <h2>
     <a id="GIS_5">
     </a>
     云原生环境下GIS服务的相关概念
    </h2>
    <p>
     （1）服务实例
     <br/>
     GIS云套件中，一个GIS服务对应一个服务实例，服务实例为服务器上的具体服务。服务实例用于接收和处理客户端请求，实现一定的GIS功能，并将响应结果返回给客户端。GIS云套件支持使用不同数据源发布服务实例，并对服务实例进行管理。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/a634857b41ae80b5ac18035ae488cb9e.png">
      <br/>
      （2）服务节点
      <br/>
      GIS云套件中，服务节点是承载服务实例运行的单元，GIS云套件所有服务实例都在服务节点中运行，一个服务节点可支撑一个或多个服务实例运行。在服务节点页面，您可以创建服务节点、对服务节点进行监控与管理，在服务节点之间任意调度已发布的服务实例。
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/3fbb881ef844e1db779852bed81ecc7f.png"/>
     </img>
    </p>
    <h2>
     <a id="GIS_12">
     </a>
     GIS服务在云原生环境下的规划调度策略
    </h2>
    <p>
     在GIS服务节点规划初期，可以从地区和服务类型进行划分。
     <br/>
     （1）地区划分：对于人口密集的城市，需要更多的GIS服务节点来支持更高的访问量和更快的数据处理速度。而对于人口较少的地区，则可以减少GIS服务节点的数量，以节约资源。
     <br/>
     （2）服务类型划分：对于需要实时更新的地图服务，需要更多的GIS服务节点来保证数据的及时性和准确性。而对于较为静态的GIS数据服务，则可以减少GIS服务节点的数量。
     <br/>
     在接入GIS服务后，还可以根据实际情况按照数据量和访问速度进行调度。对于数据量较大的GIS服务，需要更多的存储空间和更快的数据传输速度来支持数据的高效处理和传输。而对于访问速度要求较高的GIS服务，需要更多的计算资源和更快的响应速度来保证服务的高效性和稳定性。
     <br/>
     GIS服务节点规划是一个复杂的过程，需要综合考虑多方面因素，以便更好地满足用户的需求和提高系统的性能和稳定性。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/acc7f3fcf40def925c1a2ee7a731b64f.png"/>
    </p>
    <h2>
     <a id="GIS_19">
     </a>
     GIS服务在云原生环境下的调度手段
    </h2>
    <p>
     （1）伸缩服务节点
     <br/>
     按需对服务节点进行手动或动态伸缩。例如，当一个服务节点上发布了过多服务实例时，可以采取增加节点副本数，让服务节点能够承载更多服务实例。
     <br/>
     手动伸缩：用户自行设置伸缩后的节点个数，服务节点会增加/减少至设定的个数。
     <br/>
     动态伸缩：用户设置相应的指标，服务节点会根据负载情况自行伸缩节点个数。如不再需要动态伸缩，可点击服务节点名称旁的按钮删除。
     <br/>
     （2）重新指定服务节点
     <br/>
     将服务实例调度到任意一个或多个服务节点上运行，也可以新增服务节点。例如，某个服务节点承载了几个大数据量的服务实例时，可以将部分服务实例调度至其他服务节点运行，为当前服务节点减负。
     <br/>
     （3）调整服务节点规格
     <br/>
     按需修改节点CPU及内存大小。
     <br/>
     （4）调整服务节点承载的服务实例
     <br/>
     调度服务实例，主动选择在该节点上运行的服务实例，按需调整服务节点的服务实例数。
    </p>
    <h2>
     <a id="GIS_30">
     </a>
     GIS服务在云原生环境下的服务规划调度实践
    </h2>
    <p>
     （1）规划服务节点
     <br/>
     ①地区节点
     <br/>
     分别建立成都市、绵阳市、乐山市服务节点，后续可将不同城市的数据发布到对应的节点上。服务创建完成后，可以通过修改别名的方式对服务节点进行区分，便于后续管理。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/075c4876fb135ae3730a245da05b1b14.png"/>
    </p>
    <p>
     ②服务类别（以成都市为例）
     <br/>
     分别创建地图节点、数据节点、瓦片节点，并分别修改别名，便于后续的查找与管理。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/6b3e066e77791b4c739f81de57a3e72f.png">
      <br/>
      （2）接入GIS服务
      <br/>
      分别将地图服务、数据服务、瓦片服务发布到成都市-地图节点、数据节点、瓦片节点。
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/64f0064264acc4ad486eb95d9e57c119.png">
       <br/>
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/4f29dc1e71107e3229d3c18f8167bf00.png">
        <br/>
        <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/601c7c3b1be9550a486da5485d8ec3bd.png">
         <br/>
         发布成功后，可以在服务节点概览中看到新增的服务实例数。
         <br/>
         <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/ebdaffc8d2e7a2b90106cdb81bbcb754.png"/>
         <br/>
         （3）服务初步调度优化
         <br/>
         ①调整服务节点副本数
         <br/>
         【手动伸缩】
         <br/>
         <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/03b08ddcd506cec10232ef0307d3a4b5.png"/>
         <br/>
         【动态伸缩】
         <br/>
         <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/cdc72d75795cda1fed3fed13538b9b1d.png"/>
         <br/>
         ②调整服务实例
         <br/>
         在服务节点的资源监控中，观察到成都市-地图节点的CPU、内存占用率较高，可以对该节点的服务实例进行调整，减缓节点的压力；
         <br/>
         <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/e73dc35cbc6b3008812ec4d2fd18008d.png"/>
         <br/>
         新建一个备用节点，将成都市-地图节点部分服务实例迁移到备用节点承载。
         <br/>
         <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/35178d4dd731e745cb66a925a3ce99d9.png"/>
         <br/>
         <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/000eaee1f6bb60c5d2d00cd3d0621aa6.png"/>
         <br/>
         ③调整服务节点规格
         <br/>
         针对资源占用较高的服务节点，还可以对其规格进行调整，让节点的承载能力更强。
         <br/>
         <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/84e15a3e945b5e97c16b5a2ead4ae2ad.png"/>
         <br/>
         ④指定或新建节点运行某服务
         <br/>
         如果已知某个服务数据量较大，可以直接在服务列表将它指定到其他服务节点运行，或者新建一个服务节点用于承载该服务实例，避免影响当前节点的其他服务实例。
         <br/>
         <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/075a654902b6ebafd3fed8c2a44b6c95.png"/>
         <br/>
         <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/0a59c7f30a0cc1be75b30ebd5c6131e6.png"/>
         <br/>
         以上是GIS服务的初步规划与调度，后续可以使用服务追踪、服务度量功能去掌握服务的流量情况，并以此做进一步的调度与优化。
        </img>
       </img>
      </img>
     </img>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f73757065726d6170737570706f72742f:61727469636c652f64657461696c732f313334343237333530" class_="artid" style="display:none">
 </p>
</div>


