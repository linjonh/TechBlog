---
arturl_encode: "68747470733a2f2f62:6c6f672e6373646e2e6e65742f71796a31393932303730342f:61727469636c652f64657461696c732f313339383639353238"
layout: post
title: "Pythonç³»åˆ—FastAPI-ä¸­çš„è·¯å¾„å‚æ•°å’Œéžè·¯å¾„å‚æ•°è§£æžé—®é¢˜"
date: 2024-11-26 08:00:00 +08:00
description: "ðŸ’ðŸ’ðŸ’æ¬¢è¿Žæ¥åˆ°æˆ‘çš„åšå®¢ï¼Œå¾ˆé«˜å…´èƒ½å¤Ÿåœ¨è¿™é‡Œå’Œæ‚¨è§é¢ï¼å¸Œæœ›æ‚¨åœ¨è¿™é‡Œå¯"
keywords: "fastapi staticmethod"
categories: ['S', 'Python']
tags: ['å¼€å‘è¯­è¨€', 'Python', 'Fastapi']
artid: "139869528"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=139869528
    alt: "Pythonç³»åˆ—FastAPI-ä¸­çš„è·¯å¾„å‚æ•°å’Œéžè·¯å¾„å‚æ•°è§£æžé—®é¢˜"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=139869528
featuredImagePreview: https://bing.ee123.net/img/rand?artid=139869528
---

# ã€Pythonç³»åˆ—ã€‘FastAPI ä¸­çš„è·¯å¾„å‚æ•°å’Œéžè·¯å¾„å‚æ•°è§£æžé—®é¢˜

> ðŸ’ðŸ’ðŸ’æ¬¢è¿Žæ¥åˆ°æˆ‘çš„åšå®¢ï¼Œå¾ˆé«˜å…´èƒ½å¤Ÿåœ¨è¿™é‡Œå’Œæ‚¨è§é¢ï¼å¸Œæœ›æ‚¨åœ¨è¿™é‡Œå¯ä»¥æ„Ÿå—åˆ°ä¸€ä»½è½»æ¾æ„‰å¿«çš„æ°›å›´ï¼Œä¸ä»…å¯ä»¥èŽ·å¾—æœ‰è¶£çš„å†…å®¹å’ŒçŸ¥è¯†ï¼Œä¹Ÿå¯ä»¥ç•…æ‰€æ¬²è¨€ã€åˆ†äº«æ‚¨çš„æƒ³æ³•å’Œè§è§£ã€‚
>   
> ![img](https://i-blog.csdnimg.cn/blog_migrate/5b7d56665d406fee3159289ac61fa974.jpeg#pic_center)
>
> * æŽ¨è:
>   [kwan çš„é¦–é¡µ](https://qinyingjie.blog.csdn.net/?type=blog)
>   ,æŒç»­å­¦ä¹ ,ä¸æ–­æ€»ç»“,å…±åŒè¿›æ­¥,æ´»åˆ°è€å­¦åˆ°è€
> * å¯¼èˆª
>   + [æª€è¶Šå‰‘æŒ‡å¤§åŽ‚ç³»åˆ—](https://blog.csdn.net/qyj19920704/category_11763029.html)
>     :å…¨é¢æ€»ç»“ java æ ¸å¿ƒæŠ€æœ¯,jvm,å¹¶å‘ç¼–ç¨‹ redis,kafka,Spring,å¾®æœåŠ¡ç­‰
>   + [å¸¸ç”¨å¼€å‘å·¥å…·ç³»åˆ—](https://blog.csdn.net/qyj19920704/category_11474211.html)
>     :å¸¸ç”¨çš„å¼€å‘å·¥å…·,IDEA,Mac,Alfred,Git,typora ç­‰
>   + [æ•°æ®åº“ç³»åˆ—](https://blog.csdn.net/qyj19920704/category_11474265.html)
>     :è¯¦ç»†æ€»ç»“äº†å¸¸ç”¨æ•°æ®åº“ mysql æŠ€æœ¯ç‚¹,ä»¥åŠå·¥ä½œä¸­é‡åˆ°çš„ mysql é—®é¢˜ç­‰
>   + [æ–°ç©ºé—´ä»£ç å·¥ä½œå®¤](https://meihua150.cn/)
>     :æä¾›å„ç§è½¯ä»¶æœåŠ¡,æ‰¿æŽ¥å„ç§æ¯•ä¸šè®¾è®¡,æ¯•ä¸šè®ºæ–‡ç­‰
>   + [æ‡’äººè¿ç»´ç³»åˆ—](https://blog.csdn.net/qyj19920704/category_7540627.html)
>     :æ€»ç»“å¥½ç”¨çš„å‘½ä»¤,è§£æ”¾åŒæ‰‹ä¸é¦™å—?èƒ½ç”¨ä¸€ä¸ªå‘½ä»¤å®Œæˆç»ä¸ç”¨ä¸¤ä¸ªæ“ä½œ
>   + [æ•°æ®ç»“æž„ä¸Žç®—æ³•ç³»åˆ—](https://blog.csdn.net/qyj19920704/category_11480075.html)
>     :æ€»ç»“æ•°æ®ç»“æž„å’Œç®—æ³•,ä¸åŒç±»åž‹é’ˆå¯¹æ€§è®­ç»ƒ,æå‡ç¼–ç¨‹æ€ç»´,å‰‘æŒ‡å¤§åŽ‚
>
> éžå¸¸æœŸå¾…å’Œæ‚¨ä¸€èµ·åœ¨è¿™ä¸ªå°å°çš„ç½‘ç»œä¸–ç•Œé‡Œå…±åŒæŽ¢ç´¢ã€å­¦ä¹ å’Œæˆé•¿ã€‚ðŸ’ðŸ’ðŸ’ âœ¨âœ¨ æ¬¢è¿Žè®¢é˜…æœ¬ä¸“æ  âœ¨âœ¨

#### åšå®¢ç›®å½•

* + [1.é—®é¢˜æè¿°](#1_19)
  + [2.é—®é¢˜åˆ†æž](#2_49)
  + [3.è§£å†³æ–¹æ¡ˆ](#3_55)
  + [4.æœ€ä½³å®žè·µ](#4_69)
  + [5.ç»“è®º](#5_84)

åœ¨ FastAPI æ¡†æž¶ä¸­ï¼Œè·¯ç”±çš„é…ç½®æ˜¯æž„å»º RESTful API çš„å…³é”®æ­¥éª¤ã€‚è·¯ç”±é…ç½®ä¸ä»…éœ€è¦æ­£ç¡®åœ°å®šä¹‰è·¯å¾„å‚æ•°ï¼Œè¿˜éœ€è¦æ­£ç¡®åœ°å¤„ç†éžè·¯å¾„å‚æ•°ï¼Œä»¥ç¡®ä¿ API çš„è®¿é—®é€»è¾‘æ¸…æ™°ä¸”æ­£ç¡®ã€‚ç„¶è€Œï¼Œå½“è·¯å¾„å‚æ•°å’Œéžè·¯å¾„å‚æ•°çš„å‰ç¼€ä¸€è‡´æ—¶ï¼Œå¯èƒ½ä¼šå‡ºçŽ°ä¸€äº›æ··æ·†ï¼Œå¯¼è‡´éžé¢„æœŸçš„è·¯ç”±è¡Œä¸ºã€‚æœ¬æ–‡å°†é€šè¿‡åˆ†æžç»™å‡ºçš„ä»£ç ç¤ºä¾‹ï¼ŒæŽ¢è®¨è¿™ä¸€é—®é¢˜ï¼Œå¹¶æä¾›ç›¸åº”çš„è§£å†³æ–¹æ¡ˆã€‚
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/649a8731b55f119c977c77b972351a0c.png#pic_center)

### 1.é—®é¢˜æè¿°

åœ¨æä¾›çš„ä»£ç ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªè·¯ç”±è£…é¥°å™¨
`@KBRouter.post`
è¢«åº”ç”¨äºŽä¸¤ä¸ªä¸åŒçš„å‡½æ•°ã€‚ç¬¬ä¸€ä¸ªå‡½æ•°
`get`
æŽ¥æ”¶ä¸€ä¸ªè·¯å¾„å‚æ•°
`id`
ï¼Œè€Œç¬¬äºŒä¸ªå‡½æ•°
`get`
åˆ™æ²¡æœ‰è·¯å¾„å‚æ•°ï¼Œä½†æŽ¥æ”¶ä¸€ä¸ªéžè·¯å¾„å‚æ•°
`info`
ã€‚ä¸¤ä¸ªå‡½æ•°çš„è·¯ç”±è·¯å¾„å‰ç¼€éƒ½æ˜¯
`/collection/docs`
ï¼Œè¿™å¯èƒ½å¯¼è‡´ä¸€äº›æ··æ·†ã€‚

FastAPI è·¯å¾„å‚æ•°å’Œéžè·¯å¾„å‚æ•°çš„å‰ç¼€ä¸€è‡´,å½“è®¿é—®éžè·¯å¾„å‚æ•°çš„æŽ¥å£æ—¶,ä¼šèµ°åˆ°è·¯å¾„å‚æ•°çš„æŽ¥å£ä¸­

```python
@staticmethod
@KBRouter.post("/collection/docs/{id}", description="è·¯å¾„å‚æ•°æŽ¥å£",
               summary="è·¯å¾„å‚æ•°æŽ¥å£")
async def get(id: str = None):
    return {
        "code": 0,
        "data": None,
        "msg": "æˆåŠŸ"
    }

```

```python
@staticmethod
@KBRouter.post("/collection/docs/add", description="éžè·¯å¾„å‚æ•°æŽ¥å£",
               summary="éžè·¯å¾„å‚æ•°æŽ¥å£")
async def get(info: str = None):
    return {
        "code": 0,
        "data": None,
        "msg": "æˆåŠŸ",
    }

```

### 2.é—®é¢˜åˆ†æž

FastAPI ä½¿ç”¨åŸºäºŽ Python ç±»åž‹æç¤ºçš„å‚æ•°æ¥å®šä¹‰è·¯å¾„å‚æ•°å’ŒæŸ¥è¯¢å‚æ•°ã€‚è·¯å¾„å‚æ•°é€šè¿‡åœ¨å‡½æ•°å‚æ•°ä¸­ä½¿ç”¨
`Path`
æ¥å£°æ˜Žï¼Œè€Œéžè·¯å¾„å‚æ•°åˆ™ç›´æŽ¥ä½œä¸ºå‡½æ•°å‚æ•°å£°æ˜Žã€‚åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œç¬¬ä¸€ä¸ª
`get`
å‡½æ•°ä½¿ç”¨
`Path`
æ¥å£°æ˜Žè·¯å¾„å‚æ•°
`id`
ï¼Œè€Œç¬¬äºŒä¸ª
`get`
å‡½æ•°åˆ™ç›´æŽ¥å£°æ˜Žäº†éžè·¯å¾„å‚æ•°
`info`
ã€‚

é—®é¢˜å‡ºçŽ°åœ¨ä¸¤ä¸ªå‡½æ•°çš„è·¯ç”±è·¯å¾„å‰ç¼€ç›¸åŒï¼Œä½†ä¸€ä¸ªæ˜¯è·¯å¾„å‚æ•°ï¼Œå¦ä¸€ä¸ªæ˜¯éžè·¯å¾„å‚æ•°ã€‚å½“å®¢æˆ·ç«¯å‘é€è¯·æ±‚åˆ°
`/collection/docs/add`
æ—¶ï¼ŒFastAPI å¯èƒ½ä¼šé”™è¯¯åœ°å°†è¯·æ±‚è·¯ç”±åˆ°ç¬¬ä¸€ä¸ª
`get`
å‡½æ•°ï¼Œå› ä¸º
`add`
å¯ä»¥è¢«è§£é‡Šä¸º
`id`
çš„å€¼ã€‚

### 3.è§£å†³æ–¹æ¡ˆ

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿è·¯å¾„å‚æ•°å’Œéžè·¯å¾„å‚æ•°çš„è·¯ç”±æ¸…æ™°åŒºåˆ†ã€‚ä»¥ä¸‹æ˜¯å‡ ç§å¯èƒ½çš„è§£å†³æ–¹æ¡ˆï¼š

1. **æ›´æ”¹éžè·¯å¾„å‚æ•°çš„è·¯ç”±å‰ç¼€**
   ï¼šæœ€ç®€å•çš„æ–¹æ³•æ˜¯æ›´æ”¹ç¬¬äºŒä¸ª
   `get`
   å‡½æ•°çš„è·¯ç”±å‰ç¼€ï¼Œä»¥é¿å…ä¸Žè·¯å¾„å‚æ•°çš„å‰ç¼€å†²çªã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å°†
   `/collection/docs/add`
   æ›´æ”¹ä¸º
   `/collection/docs/non_path`
   ã€‚
2. **ä½¿ç”¨ä¸åŒçš„ HTTP æ–¹æ³•**
   ï¼šå¦‚æžœé€»è¾‘å…è®¸ï¼Œå¯ä»¥è€ƒè™‘ä¸ºä¸¤ä¸ªæŽ¥å£ä½¿ç”¨ä¸åŒçš„ HTTP æ–¹æ³•ï¼Œæ¯”å¦‚ GET å’Œ POSTï¼Œè¿™æ ·å¯ä»¥åœ¨ä¸æ”¹å˜è·¯ç”±å‰ç¼€çš„æƒ…å†µä¸‹åŒºåˆ†å®ƒä»¬ã€‚
3. **æ˜Žç¡®åŒºåˆ†è·¯å¾„å‚æ•°å’Œéžè·¯å¾„å‚æ•°**
   ï¼šåœ¨è®¾è®¡ API æ—¶ï¼Œåº”è¯¥æ˜Žç¡®åŒºåˆ†è·¯å¾„å‚æ•°å’Œéžè·¯å¾„å‚æ•°çš„ä½¿ç”¨åœºæ™¯ï¼Œé¿å…åœ¨åŒä¸€ä¸ªå‰ç¼€ä¸‹åŒæ—¶ä½¿ç”¨å®ƒä»¬ã€‚
4. **ä½¿ç”¨è¯·æ±‚ä½“æ¥ä¼ é€’éžè·¯å¾„å‚æ•°**
   ï¼šå¦‚æžœéžè·¯å¾„å‚æ•°çš„æ•°æ®é‡è¾ƒå¤§æˆ–è€…éœ€è¦æ›´å¤æ‚çš„æ•°æ®ç»“æž„ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨è¯·æ±‚ä½“ï¼ˆå¦‚ JSONï¼‰æ¥ä¼ é€’è¿™äº›å‚æ•°ï¼Œè€Œä¸æ˜¯é€šè¿‡æŸ¥è¯¢å‚æ•°ã€‚
5. **å¢žåŠ  API æ–‡æ¡£å’Œç‰ˆæœ¬æŽ§åˆ¶**
   ï¼šé€šè¿‡å¢žåŠ è¯¦ç»†çš„ API æ–‡æ¡£å’Œç‰ˆæœ¬æŽ§åˆ¶ï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…å’Œç”¨æˆ·æ›´å¥½åœ°ç†è§£ API çš„ä½¿ç”¨æ–¹æ³•ï¼Œå‡å°‘å› è·¯ç”±æ··æ·†å¯¼è‡´çš„é”™è¯¯ã€‚

### 4.æœ€ä½³å®žè·µ

åœ¨è®¾è®¡å’Œå®žçŽ° FastAPI åº”ç”¨æ—¶ï¼Œåº”è¯¥éµå¾ªä»¥ä¸‹æœ€ä½³å®žè·µï¼š

* **æ¸…æ™°çš„è·¯ç”±è®¾è®¡**
  ï¼šç¡®ä¿æ¯ä¸ªè·¯ç”±éƒ½æœ‰æ¸…æ™°ã€æ˜Žç¡®çš„å«ä¹‰ï¼Œé¿å…ä½¿ç”¨å®¹æ˜“å¼•èµ·æ··æ·†çš„å‚æ•°åæˆ–å‰ç¼€ã€‚
* **åˆç†çš„å‚æ•°ä½¿ç”¨**
  ï¼šåˆç†ä½¿ç”¨è·¯å¾„å‚æ•°å’Œéžè·¯å¾„å‚æ•°ï¼Œç¡®ä¿å®ƒä»¬çš„ä½¿ç”¨åœºæ™¯å’Œç›®çš„æ¸…æ™°ã€‚
* **å……åˆ†çš„æµ‹è¯•**
  ï¼šåœ¨éƒ¨ç½² API ä¹‹å‰ï¼Œè¿›è¡Œå……åˆ†çš„æµ‹è¯•ï¼ŒåŒ…æ‹¬å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ï¼Œç¡®ä¿ API çš„è¡Œä¸ºç¬¦åˆé¢„æœŸã€‚
* **é”™è¯¯å¤„ç†**
  ï¼šå®žçŽ°é”™è¯¯å¤„ç†é€»è¾‘ï¼Œå½“è¯·æ±‚ä¸ç¬¦åˆé¢„æœŸæ—¶ï¼Œèƒ½å¤Ÿè¿”å›žæ¸…æ™°çš„é”™è¯¯ä¿¡æ¯ã€‚
* **éµå¾ª RESTful åŽŸåˆ™**
  ï¼šè®¾è®¡ API æ—¶ï¼Œéµå¾ª RESTful åŽŸåˆ™ï¼Œä½¿ç”¨åˆé€‚çš„ HTTP æ–¹æ³•å’ŒçŠ¶æ€ç æ¥è¡¨è¾¾æ“ä½œå’Œç»“æžœã€‚
    
  ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/47c13f8ff91c3e8a8827cf78871ee949.png#pic_center)

### 5.ç»“è®º

FastAPI æ˜¯ä¸€ä¸ªå¼ºå¤§è€Œçµæ´»çš„æ¡†æž¶ï¼Œä½†åœ¨è®¾è®¡ API æ—¶ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„è·¯å¾„å‚æ•°å’Œéžè·¯å¾„å‚æ•°çš„åŒºåˆ†ï¼Œä»¥é¿å…è·¯ç”±æ··æ·†çš„é—®é¢˜ã€‚é€šè¿‡ä¸Šè¿°çš„è§£å†³æ–¹æ¡ˆå’Œæœ€ä½³å®žè·µï¼Œå¯ä»¥ç¡®ä¿ API çš„æ¸…æ™°æ€§å’Œå¯ç”¨æ€§ï¼Œä¸ºç”¨æˆ·æä¾›æ›´å¥½çš„æœåŠ¡ã€‚

> è§‰å¾—æœ‰ç”¨çš„è¯ç‚¹ä¸ªèµž
> `ðŸ‘ðŸ»`
> å‘—ã€‚
>   
> â¤ï¸â¤ï¸â¤ï¸æœ¬äººæ°´å¹³æœ‰é™ï¼Œå¦‚æœ‰çº°æ¼ï¼Œæ¬¢è¿Žå„ä½å¤§ä½¬è¯„è®ºæ‰¹è¯„æŒ‡æ­£ï¼ðŸ˜„ðŸ˜„ðŸ˜„
>
> ðŸ’˜ðŸ’˜ðŸ’˜å¦‚æžœè§‰å¾—è¿™ç¯‡æ–‡å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œä¹Ÿè¯·ç»™ä¸ªç‚¹èµžã€æ”¶è—ä¸‹å§ï¼Œéžå¸¸æ„Ÿè°¢!ðŸ‘ ðŸ‘ ðŸ‘
>
> ðŸ”¥ðŸ”¥ðŸ”¥Stay Hungry Stay Foolish é“é˜»ä¸”é•¿,è¡Œåˆ™å°†è‡³,è®©æˆ‘ä»¬ä¸€èµ·åŠ æ²¹å§ï¼ðŸŒ™ðŸŒ™ðŸŒ™
>
> ![img](https://i-blog.csdnimg.cn/blog_migrate/101469850485989da7dda6f53e80e19d.gif#pic_center)