---
layout: post
title: "Webpack-基础"
date: 2025-03-16 22:56:48 +0800
description: "开发模式：仅能编译JS中的ES Module语法。生产模式：能编译JS中的ES Module语法，还能压缩JS代码。webpack 本身是不能识别样式资源的，所以我们需要借助Loader来帮助webpack解析样式资源。需要的Loader都应该去官方文档中查找对应的Loader。webpack 官方Loader文档//入口// 输出output: {// 文件的输出路径},// 加载器module: {// loader的配置rules: [{use: ["
keywords: "Webpack 基础"
categories: ['未分类']
tags: ['Webpack']
artid: "146303386"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146303386
    alt: "Webpack-基础"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146303386
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146303386
cover: https://bing.ee123.net/img/rand?artid=146303386
image: https://bing.ee123.net/img/rand?artid=146303386
img: https://bing.ee123.net/img/rand?artid=146303386
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Webpack 基础
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="Webpack__0">
     </a>
     Webpack 基础
    </h2>
    <h3>
     <a id="_1">
     </a>
     基本使用
    </h3>
    <p>
     <code>
      webpack
     </code>
     是一个
     <strong>
      静态资源打包工具
     </strong>
     。
     <br/>
     它会将一个或者多个文件作为打包的入口，将我们整个项目所有文件编译组合成一个或者多个文件输出出去。
     <br/>
     输出的文件就是编译好的文件，就可以在浏览器端运行。
     <br/>
     我们将
     <code>
      webpack
     </code>
     输出的文件叫做
     <code>
      bundle
     </code>
     。
    </p>
    <h4>
     <a id="_7">
     </a>
     功能介绍
    </h4>
    <p>
     webpack本身功能是有限的：
    </p>
    <ul>
     <li>
      开发模式：仅能编译JS中的
      <code>
       ES Module
      </code>
      语法。
     </li>
     <li>
      生产模式：能编译JS中的
      <code>
       ES Module
      </code>
      语法，还能压缩JS代码。
     </li>
    </ul>
    <h4>
     <a id="_12">
     </a>
     开始使用
    </h4>
    <h5>
     <a id="1_14">
     </a>
     1.资源目录
    </h5>
    <pre><code class="prism language-md"> webpack_code # 项目根目录（所有指令必须在这个目录中运行）
   └── src # 项目源码目录
        |──js # js目录
        |  |—— count.js
        |  └── sum.js
        └── main.js # 项目主文件
</code></pre>
    <h5>
     <a id="2_23">
     </a>
     2.创建文件
    </h5>
    <ul>
     <li>
      count.js
     </li>
    </ul>
    <pre><code class="prism language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      sum.js
     </li>
    </ul>
    <pre><code class="prism language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span>cur</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> pre <span class="token operator">+</span> cur<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      main.js
     </li>
    </ul>
    <pre><code class="prism language-js"><span class="token keyword">import</span> count <span class="token keyword">from</span> <span class="token string">"./js/count"</span>
<span class="token keyword">import</span> sum form <span class="token string">"./js/sum"</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
    <h5>
     <a id="3_44">
     </a>
     3.下载依赖
    </h5>
    <p>
     打开终端，在项目根目录下执行指令
    </p>
    <ul>
     <li>
      初始化``package.json
     </li>
    </ul>
    <pre><code class="prism language-bash"><span class="token function">npm</span> init <span class="token parameter variable">-y</span> 
</code></pre>
    <ul>
     <li>
      下载依赖
     </li>
    </ul>
    <pre><code class="prism language-bash"><span class="token function">npm</span> i webpack webpack-cli <span class="token parameter variable">-D</span>
</code></pre>
    <h5>
     <a id="4webpack_54">
     </a>
     4.启用webpack
    </h5>
    <ul>
     <li>
      开发模式
     </li>
    </ul>
    <pre><code class="prism language-bash">npx webpack ./src/main.js <span class="token parameter variable">--mode</span><span class="token operator">=</span>development
</code></pre>
    <ul>
     <li>
      生产模式
     </li>
    </ul>
    <pre><code class="prism language-bash">npx webpack ./src/main.js <span class="token parameter variable">--mode</span><span class="token operator">=</span>production
</code></pre>
    <p>
     <code>
      npx webpack
     </code>
     ：是用来运行本地安装
     <code>
      webpack
     </code>
     包的。
     <br/>
     <code>
      ./src/main.js
     </code>
     ：指定
     <code>
      webpack
     </code>
     从
     <code>
      main.js
     </code>
     文件开始打包，不但会打包
     <code>
      main.js
     </code>
     ，还会将其他依赖也一起打包进来。
     <br/>
     <code>
      --mode=production
     </code>
     ：指定模式（环境）。
    </p>
    <h5>
     <a id="5_66">
     </a>
     5.观察输出文件
    </h5>
    <p>
     默认
     <code>
      webpack
     </code>
     会将文件打包输出到
     <code>
      dist
     </code>
     目录下。
    </p>
    <p>
     <code>
      webpack
     </code>
     本身功能比较少，只能处理
     <code>
      js
     </code>
     资源，一旦遇到
     <code>
      css
     </code>
     等其他资源就会报错。
     <br/>
     所有我们学习
     <code>
      webpack
     </code>
     ，就是主要学习如何处理其他资源。
    </p>
    <h3>
     <a id="_72">
     </a>
     基本配置
    </h3>
    <p>
     在开始使用
     <code>
      webpack
     </code>
     之前，我们需要对
     <code>
      webpack
     </code>
     的配置有一定的认识。
    </p>
    <h4>
     <a id="_76">
     </a>
     五大核心概念
    </h4>
    <ul>
     <li>
      entry（入口）
     </li>
    </ul>
    <blockquote>
     <p>
      指示 webpack 从哪个文件开始打包。
     </p>
    </blockquote>
    <ul>
     <li>
      output（输出）
     </li>
    </ul>
    <blockquote>
     <p>
      指示 webpack 打包完的文件输出到哪里去，如何命名。
     </p>
    </blockquote>
    <ul>
     <li>
      loader（加载器）
     </li>
    </ul>
    <blockquote>
     <p>
      webpack 本身只能处理js、json等资源，其他资源需要借助loader，webpack 才能解析。
     </p>
    </blockquote>
    <ul>
     <li>
      plugins（插件）
     </li>
    </ul>
    <blockquote>
     <p>
      扩展 webpack 功能。
     </p>
    </blockquote>
    <ul>
     <li>
      mode（模式）
     </li>
    </ul>
    <blockquote>
     <p>
      主要有两种开发模式：
     </p>
     <ul>
      <li>
       开发模式：development
      </li>
      <li>
       生产模式：producton
      </li>
     </ul>
    </blockquote>
    <h4>
     <a id="webpack__91">
     </a>
     webpack 配置文件
    </h4>
    <p>
     <code>
      webpack.config.js
     </code>
    </p>
    <pre><code class="prism language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//入口</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">"./src/main.js"</span><span class="token punctuation">,</span>
    <span class="token comment">// 输出</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 文件的输出路径</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"main.js"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 加载器</span>
    <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 插件</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 模式</span>
    <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">"development"</span>
<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="_114">
     </a>
     开发模式
    </h3>
    <p>
     开发模式顾名思义就是我们开发代码时使用的模式。
     <br/>
     这个模式下我们主要做两件事：
    </p>
    <ul>
     <li>
      编译代码，使浏览器能识别运行。
     </li>
    </ul>
    <blockquote>
     <p>
      开发时我们有样式资源、字体图标、图片资源、html资源等，webpack默认都不能处理这些资源，所以我们要加载配置来编译这些资源。
     </p>
    </blockquote>
    <ul>
     <li>
      代码质量检查，树立代码规范。
     </li>
    </ul>
    <blockquote>
     <p>
      提前检查代码的一些隐患，让代码运行时能更加健壮。
      <br/>
      提前检查代码规范和格式，统一团队编码风格，让代码更优雅美观。
     </p>
    </blockquote>
    <h3>
     <a id="_123">
     </a>
     处理样式资源
    </h3>
    <p>
     学习使用webpack处理Css、Less、Sass、Styl样式资源
    </p>
    <h4>
     <a id="_127">
     </a>
     介绍
    </h4>
    <p>
     webpack 本身是不能识别样式资源的，所以我们需要借助Loader来帮助webpack解析样式资源。
     <br/>
     需要的Loader都应该去官方文档中查找对应的Loader。
     <br/>
     <a href="http://webpack.docschina.org/loaders/" rel="nofollow noopener noreferrer" target="_blank">
      webpack 官方Loader文档
     </a>
    </p>
    <h4>
     <a id="CSS_133">
     </a>
     处理CSS资源
    </h4>
    <ul>
     <li>
      下载包
     </li>
    </ul>
    <pre><code class="prism language-bash"><span class="token function">npm</span> i css-loader style-loader <span class="token parameter variable">-D</span>
</code></pre>
    <p>
     需要下载两个Loader
    </p>
    <ul>
     <li>
      <p>
       功能介绍
      </p>
      <ul>
       <li>
        <code>
         css-loader
        </code>
        ：负责将CSS文件编译成webpack能识别的模块。
       </li>
       <li>
        <code>
         style-loader
        </code>
        ：会动态创建一个
        <code>
         style
        </code>
        标签，里面放置webpack中的CSS模块内容。
       </li>
      </ul>
     </li>
     <li>
      <p>
       配置
      </p>
     </li>
    </ul>
    <pre><code class="prism language-js">    <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// loader的配置</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token comment">// 执行的顺序，从右到左（从上到下）</span>
                <span class="token string">"style-loader"</span><span class="token punctuation">,</span> <span class="token comment">// 将js中css通过创建style标签添加html文件中生效</span>
                <span class="token string">"css-loader"</span> <span class="token comment">// 将样式编译成commonjs的模块</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre>
    <h4>
     <a id="less_157">
     </a>
     处理less文件
    </h4>
    <ul>
     <li>
      下载包
     </li>
    </ul>
    <pre><code class="prism language-bash"><span class="token function">npm</span> i <span class="token parameter variable">-D</span> less-load
</code></pre>
    <ul>
     <li>
      功能介绍
      <br/>
      <code>
       less-loader
      </code>
      ：负责将less文件编译成CSS文件
     </li>
     <li>
      配置
     </li>
    </ul>
    <pre><code class="prism language-js">  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// loader的配置</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token comment">// loader:'xxx'只能使用单个loader</span>
            <span class="token comment">// user 使用多个loader</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">"style-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"css-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"less-loader"</span> <span class="token comment">// 将Less 编译成css文件</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre>
    <h4>
     <a id="SassScss_180">
     </a>
     处理Sass和Scss资源
    </h4>
    <ul>
     <li>
      下载包
     </li>
    </ul>
    <pre><code class="prism language-bash"><span class="token function">npm</span> i sass-loader sass <span class="token parameter variable">-D</span>
</code></pre>
    <p>
     注意：需要下载两个
    </p>
    <ul>
     <li>
      功能介绍
      <ul>
       <li>
        <code>
         sass-loader
        </code>
        ：负责将Sass文件编译成Css文件。
       </li>
       <li>
        <code>
         sass
        </code>
        ：
        <code>
         sass-loader
        </code>
        依赖
        <code>
         sass
        </code>
        进行编译。
       </li>
      </ul>
     </li>
     <li>
      配置
     </li>
    </ul>
    <pre><code class="prism language-js"><span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// loader的配置</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.s[ac]ss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">"style-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"css-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"sass-loader"</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre>
    <h4>
     <a id="styl_205">
     </a>
     处理styl资源
    </h4>
    <ul>
     <li>
      下载包
     </li>
    </ul>
    <pre><code class="prism language-bash"><span class="token function">npm</span> i stylus-loader <span class="token parameter variable">-D</span>
</code></pre>
    <ul>
     <li>
      <p>
       功能介绍
      </p>
      <ul>
       <li>
        <code>
         stylus-loader
        </code>
        ：负责将Styl文件编译成Css文件。
       </li>
      </ul>
     </li>
     <li>
      <p>
       配置
      </p>
     </li>
    </ul>
    <pre><code class="prism language-js">    <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// loader的配置</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.styl$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">"style-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"css-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"stylus-loader"</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre>
    <h3>
     <a id="_228">
     </a>
     处理图片资源
    </h3>
    <p>
     webpack4 时，我们处理图片资源通过
     <code>
      file-loader
     </code>
     和
     <code>
      url-loader
     </code>
     进行处理。
     <br/>
     现在webpack已经将两个Loader功能内置到webpack
    </p>
    <ul>
     <li>
      配置
     </li>
    </ul>
    <pre><code class="prism language-js">    <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// loader的配置</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpe?g|gif|webp)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"asset"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">parser</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">dataUrlCondition</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 小于 10 kb 转base64</span>
                    <span class="token comment">// 优点：减少请求数量，缺点：打包后的结果体积增大</span>
                    <span class="token literal-property property">maxSize</span><span class="token operator">:</span> <span class="token number">20</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 输出图片名称</span>
                <span class="token comment">// [hash:10] hash 值取前10位</span>
                <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"static/images/[hash:10][ext][query]"</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre>
    <h3>
     <a id="_254">
     </a>
     自动清空打包内容
    </h3>
    <pre><code class="prism language-js">    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 文件的输出路径</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"js/main.js"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">clean</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre>
    <h3>
     <a id="_264">
     </a>
     处理字体图标资源
    </h3>
    <ul>
     <li>
      下载字体文件
      <ul>
       <li>
        我用
        <code>
         ttf
        </code>
        文件做测试。
       </li>
       <li>
        放在项目目录中
       </li>
      </ul>
     </li>
     <li>
      在 css 中引入字体
     </li>
    </ul>
    <pre><code class="prism language-css"><span class="token atrule"><span class="token rule">@font-face</span></span> <span class="token punctuation">{<!-- --></span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"HY"</span><span class="token punctuation">;</span>
    <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"../fonts/HanYiXingKaiJian-1.ttf"</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <pre><code class="prism language-css"><span class="token selector">div</span> <span class="token punctuation">{<!-- --></span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"HY"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      配置
     </li>
    </ul>
    <pre><code class="prism language-js">    <span class="token literal-property property">modules</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.ttf|worff?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 输出图片名称</span>
                <span class="token comment">// [hash:10] hash 值取前10位</span>
                <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"static/font/[hash:10][ext][query]"</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="_292">
     </a>
     处理其他资源
    </h3>
    <blockquote>
     <p>
      如遇到 音视频文件、文本文档等，我们将这些资源打包输出到
      <code>
       dist
      </code>
      目录中。
     </p>
    </blockquote>
    <ul>
     <li>
      配置
     </li>
    </ul>
    <pre><code class="prism language-js"><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.video|audio|xsl|doc$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"static/media/[hash:10][ext][query]"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="JS_304">
     </a>
     处理JS资源
    </h3>
    <blockquote>
     <p>
      webpack对JS处理是有限的，只能编译JS中的模块化语法，不能编译其他语法，导致JS不能在IE等浏览器运行，所以我们希望做一些兼容性处理。
      <br/>
      其次，在开发中团队对代码格式是有严格要求的，我们不能由肉眼去检测代码格式，需要使用专业工具来检测。
     </p>
    </blockquote>
    <ul>
     <li>
      针对JS兼容性处理，我们手机用
      <code>
       Babel
      </code>
      做代码兼容处理。
     </li>
     <li>
      针对代码格式，我们使用
      <code>
       ESlint
      </code>
      来完成。
     </li>
    </ul>
    <p>
     先使用
     <code>
      ESlint
     </code>
     做代码检查，然后再使用
     <code>
      Babel
     </code>
     做代码兼容性处理。
    </p>
    <h4>
     <a id="ESlint_313">
     </a>
     ESlint
    </h4>
    <p>
     可组装的JavaScript和JSX检查工具。
     <br/>
     使用
     <code>
      ESlint
     </code>
     关键是使用它的配置文件，里面写的各种
     <code>
      rule
     </code>
     规则，将来运行
     <code>
      ESlint
     </code>
     时就会以写的规则对代码进行检查。
    </p>
    <h5>
     <a id="_317">
     </a>
     配置文件
    </h5>
    <p>
     配置文件有很多种写法：
    </p>
    <ul>
     <li>
      <code>
       .eslintrc
      </code>
      ：新建文件，位于项目根目录
      <ul>
       <li>
        <code>
         .eslintrc
        </code>
       </li>
       <li>
        <code>
         .eslintrc.js
        </code>
       </li>
       <li>
        <code>
         .eslintrc.json
        </code>
       </li>
      </ul>
     </li>
     <li>
      <code>
       package.json
      </code>
      中
      <code>
       eslintConfig
      </code>
      不需要配置文件，在原有的文件基础上写。
      <br/>
      ESlint 会查找和自动读取它们，所以以上配置文件只需要存在一个即可。
     </li>
    </ul>
    <h5>
     <a id="_325">
     </a>
     具体配置
    </h5>
    <p>
     我们以
     <code>
      .eslintrc.js
     </code>
     配置文件为例：
    </p>
    <pre><code class="prism language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 解析选项</span>
    <span class="token literal-property property">parserOptions</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 具体检查规则</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 继承其他规则</span>
    <span class="token keyword">extends</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <a href="https://eslint.bootcss.com/docs/user-guide/configuring" rel="nofollow noopener noreferrer" target="_blank">
      ESlint 规则
     </a>
    </p>
    <ul>
     <li>
      parserOptions 解析选项
     </li>
    </ul>
    <pre><code class="prism language-js"><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">parserOptions</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">ecmaVersion</span><span class="token operator">:</span> <span class="token number">6</span> <span class="token comment">// ES 语法版本</span>
        <span class="token literal-property property">sourceType</span><span class="token operator">:</span> <span class="token string">"module"</span> <span class="token comment">// ES 模块化</span>
        <span class="token literal-property property">ecmaFeatures</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">// ES 其他特性</span>
            <span class="token comment">// 如果是 react 项目 需要开启</span>
            <span class="token literal-property property">jsx</span><span class="token operator">:</span><span class="token boolean">true</span> 
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>   
</code></pre>
    <ul>
     <li>
      rule规则
      <ul>
       <li>
        <code>
         off
        </code>
        或
        <code>
         0
        </code>
        - 关闭规则
       </li>
       <li>
        <code>
         warn
        </code>
        或
        <code>
         1
        </code>
        - 开启规则，使用警告级别的错误：
        <code>
         warn
        </code>
        （不会导致程序退出）。
       </li>
       <li>
        <code>
         error
        </code>
        或
        <code>
         2
        </code>
        - 开启规则，使用错误级别的错误：
        <code>
         error
        </code>
        （当被触发的时候，程序会退出）。
       </li>
      </ul>
     </li>
    </ul>
    <pre><code class="prism language-js"><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">semi</span><span class="token operator">:</span><span class="token string">"error"</span><span class="token punctuation">,</span> <span class="token comment">// 禁止使用分号</span>
        <span class="token string-property property">'array-callback-return'</span><span class="token operator">:</span><span class="token string">'warn'</span><span class="token punctuation">,</span> <span class="token comment">// 强制数组的回调函数中有 return 语句，否则警告。</span>
        <span class="token string-property property">'default-case'</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token string">'warn'</span><span class="token punctuation">,</span> <span class="token comment">// 要求 switch 语句中有 default分支，否则警告</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">commentPattern</span><span class="token operator">:</span><span class="token string">'^no default$'</span> <span class="token comment">// 允许在最后注释：no default ，就不会有警告。</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">eqeqeq</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token string">'warn'</span><span class="token punctuation">,</span> <span class="token comment">// 强制使用 === 和 !==，否则警告。</span>
            <span class="token string">'smart'</span> <span class="token comment">// </span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      extends 继承
      <br/>
      开发中一点点写rules规则太费劲，所以有更好的办法，继承现有的规则。
      <br/>
      现有如下较为有名的规则：
      <ul>
       <li>
        Eslint官方规则：
        <code>
         eslint:recommended
        </code>
       </li>
       <li>
        Vue Cli官方规则：
        <code>
         plugin:vue/essential
        </code>
       </li>
       <li>
        React Cli官方规则：
        <code>
         reat-app
        </code>
       </li>
      </ul>
     </li>
    </ul>
    <pre><code class="prism language-js"><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">extends</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"react-app"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 我们的规则会覆盖掉react-app的规则</span>
        <span class="token comment">// 所以想要修改规则直接改就行</span>
        <span class="token literal-property property">eqeqeq</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"warn"</span><span class="token punctuation">,</span><span class="token string">"smart"</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h5>
     <a id="webpack_392">
     </a>
     在webpack中使用
    </h5>
    <ul>
     <li>
      下载包
     </li>
    </ul>
    <pre><code class="prism language-bash"><span class="token function">npm</span> i eslint-webpack-plugin eslint <span class="token parameter variable">-D</span>
</code></pre>
    <ul>
     <li>
      定义Eslint配置文件
      <ul>
       <li>
        <code>
         .eslintrc.js
        </code>
       </li>
      </ul>
      <pre><code class="prism language-js"><span class="token keyword">import</span> globals <span class="token keyword">from</span> <span class="token string">"globals"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> pluginJs <span class="token keyword">from</span> <span class="token string">"@eslint/js"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> pluginVue <span class="token keyword">from</span> <span class="token string">"eslint-plugin-vue"</span><span class="token punctuation">;</span>


<span class="token comment">/** @type {import('eslint').Linter.Config[]} */</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">files</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"**/*.{js,mjs,cjs,vue}"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">languageOptions</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">globals</span><span class="token operator">:</span> globals<span class="token punctuation">.</span>browser <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    pluginJs<span class="token punctuation">.</span>configs<span class="token punctuation">.</span>recommended<span class="token punctuation">,</span>
    <span class="token operator">...</span>pluginVue<span class="token punctuation">.</span>configs<span class="token punctuation">[</span><span class="token string">"flat/essential"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"no-var"</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token comment">// 不能使用var定义变量</span>
        <span class="token punctuation">}</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">ignorePatterns</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"./config/*"</span><span class="token punctuation">,</span> <span class="token string">"./dist/*"</span><span class="token punctuation">,</span> <span class="token string">"*.config.js"</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
     </li>
     <li>
      下载插件
     </li>
    </ul>
    <pre><code class="prism language-bash"><span class="token function">npm</span> init @eslint/config@latest

</code></pre>
    <ul>
     <li>
      配置
      <code>
       eslint.config.mjs
      </code>
     </li>
    </ul>
    <pre><code class="prism language-js"><span class="token keyword">import</span> globals <span class="token keyword">from</span> <span class="token string">"globals"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> pluginJs <span class="token keyword">from</span> <span class="token string">"@eslint/js"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> pluginVue <span class="token keyword">from</span> <span class="token string">"eslint-plugin-vue"</span><span class="token punctuation">;</span>


<span class="token comment">/** @type {import('eslint').Linter.Config[]} */</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">files</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"**/*.{js,mjs,cjs,vue}"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">languageOptions</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">globals</span><span class="token operator">:</span> globals<span class="token punctuation">.</span>browser <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  pluginJs<span class="token punctuation">.</span>configs<span class="token punctuation">.</span>recommended<span class="token punctuation">,</span>
  <span class="token operator">...</span>pluginVue<span class="token punctuation">.</span>configs<span class="token punctuation">[</span><span class="token string">"flat/essential"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">"no-var"</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token comment">// 不能使用var定义变量</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">ignores</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"webpack.config.js"</span><span class="token punctuation">,</span> <span class="token string">"dist/"</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
    <ul>
     <li>
      配置
      <code>
       webpack.config.js
      </code>
     </li>
    </ul>
    <pre><code class="prism language-js"><span class="token punctuation">{<!-- --></span>

    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">ESLintPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">context</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="Babel_459">
     </a>
     Babel
    </h4>
    <p>
     JavaScript 编译器。
     <br/>
     主要用于将 ES6 语法编写的代码转换为向后兼容的JavaScript语法，以便能够运行在当前和旧版本的浏览器或者其他环境中。
    </p>
    <h5>
     <a id="_463">
     </a>
     配置文件
    </h5>
    <p>
     配置文件有很多种写法：
    </p>
    <ul>
     <li>
      <code>
       babel.config.*
      </code>
      ：新建文件，位于项目根目录。
      <ul>
       <li>
        <code>
         babel.config.js
        </code>
       </li>
       <li>
        <code>
         babel.config.json
        </code>
       </li>
      </ul>
     </li>
     <li>
      <code>
       .babelrc.*
      </code>
      ：新建文件，位于项目根目录。
      <ul>
       <li>
        <code>
         .babelrc
        </code>
       </li>
       <li>
        <code>
         babelrc.js
        </code>
       </li>
       <li>
        <code>
         bablerc.json
        </code>
       </li>
      </ul>
     </li>
     <li>
      <code>
       package.json
      </code>
      中
      <code>
       babel
      </code>
      ：不需要创建文件，在原有文件基础上写。
      <br/>
      Babel 会查找和自动读取它们，所以以上配置文件只需要存在一个即可。
     </li>
    </ul>
    <h5>
     <a id="_476">
     </a>
     具体配置
    </h5>
    <p>
     我们
     <code>
      babel.config.js
     </code>
     配置文件为例：
    </p>
    <pre><code class="prism language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 预设</span>
    <span class="token literal-property property">presets</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      <p>
       presets预设
       <br/>
       简单理解：就是一组Babel插件，扩展Babel功能。
      </p>
     </li>
     <li>
      <p>
       <code>
        @babel/preset-env
       </code>
       ：智能预设，允许使用最新JavaScript。
      </p>
     </li>
     <li>
      <p>
       <code>
        @babel/preset-react
       </code>
       ：用来编译React jsx 语法预设。
      </p>
     </li>
     <li>
      <p>
       <code>
        @babel/preset-typescript
       </code>
       ：用来编译TypeScript语法的预设。
      </p>
     </li>
    </ul>
    <h5>
     <a id="webpack_491">
     </a>
     webpack中的使用
    </h5>
    <ul>
     <li>
      下载包
     </li>
    </ul>
    <pre><code class="prism language-bash"><span class="token function">npm</span> i babel-loader @babel/core @babel/preset-env <span class="token parameter variable">-D</span>
</code></pre>
    <ul>
     <li>
      定义Babel配置文件
      <br/>
      创建文件
      <code>
       babel.config.js
      </code>
     </li>
    </ul>
    <pre><code class="prism language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 智能预设，编译es6语法</span>
    <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"@babel/preset-env"</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      webpack.config.js 配置文件
     </li>
    </ul>
    <pre><code class="prism language-js"><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">module</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token comment">// 排除node_modules中的js文件（这些文件不处理）</span>
            <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">"babel-loader"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="Html_515">
     </a>
     处理Html资源
    </h3>
    <h4>
     <a id="_516">
     </a>
     下载包
    </h4>
    <pre><code class="prism language-bash"><span class="token function">npm</span> i html-webpack-plugin <span class="token parameter variable">-D</span>
</code></pre>
    <h4>
     <a id="_520">
     </a>
     配置
    </h4>
    <ul>
     <li>
      webpack.config.js
     </li>
    </ul>
    <pre><code class="prism language-js"><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">htmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">template</span><span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">"public/html"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="_531">
     </a>
     开发服务器&amp;自动化
    </h3>
    <p>
     自动化编译代码
    </p>
    <h4>
     <a id="_533">
     </a>
     下载包
    </h4>
    <pre><code class="prism language-bash"><span class="token function">npm</span> i webpack-dev-server <span class="token parameter variable">-D</span>
</code></pre>
    <h4>
     <a id="_537">
     </a>
     配置
    </h4>
    <ul>
     <li>
      webpack.config.js
     </li>
    </ul>
    <pre><code class="prism language-js"><span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 开发服务器不会输出资源，在内存中编译打包的</span>
    <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 启动服务器域名</span>
        <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">"localhost"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token string">"3000"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      运行指令
     </li>
    </ul>
    <pre><code class="prism language-bash">npx webpack serve
</code></pre>
    <h4>
     <a id="_554">
     </a>
     总结
    </h4>
    <pre><code class="prism language-js"><span class="token keyword">const</span> ESLintPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'eslint-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//入口</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">"./src/main.js"</span><span class="token punctuation">,</span>
    <span class="token comment">// 输出</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 文件的输出路径</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"main.js"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">clean</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 加载器</span>
    <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// loader的配置</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token comment">// 执行的顺序，从右到左（从上到下）</span>
                <span class="token string">"style-loader"</span><span class="token punctuation">,</span> <span class="token comment">// 将js中css通过创建style标签添加html文件中生效</span>
                <span class="token string">"css-loader"</span> <span class="token comment">// 将样式编译成commonjs的模块</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token comment">// loader:'xxx'只能使用单个loader</span>
            <span class="token comment">// user 使用多个loader</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">"style-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"css-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"less-loader"</span> <span class="token comment">// 将Less 编译成css文件</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.s[ac]ss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">"style-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"css-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"sass-loader"</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.styl$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">"style-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"css-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"stylus-loader"</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpe?g|gif|webp)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"asset"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">parser</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">dataUrlCondition</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 小于 10 kb 转base64</span>
                    <span class="token comment">// 优点：减少请求数量，缺点：打包后的结果体积增大</span>
                    <span class="token literal-property property">maxSize</span><span class="token operator">:</span> <span class="token number">20</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 输出图片名称</span>
                <span class="token comment">// [hash:10] hash 值取前10位</span>
                <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"static/images/[hash:10][ext][query]"</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.ttf|worff?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// [hash:10] hash 值取前10位</span>
                <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"static/font/[hash:10][ext][query]"</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.video|audio|xsl|doc$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// [hash:10] hash 值取前10位</span>
                <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"static/media/[hash:10][ext][query]"</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">"babel-loader"</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 插件</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">ESLintPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">context</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">template</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"./index.html"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 启动服务器域名</span>
        <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">"localhost"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token string">"3000"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 模式 </span>
    <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">"development"</span>
<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="_654">
     </a>
     生产环境搭建
    </h3>
    <ul>
     <li>
      根目录下创建文件夹
      <code>
       config
      </code>
      存放文件
      <code>
       webpack.dev.js
      </code>
      、
      <code>
       webpack.prod.js
      </code>
      <ul>
       <li>
        webpack.dev.js
       </li>
      </ul>
     </li>
    </ul>
    <pre><code class="prism language-js">    <span class="token keyword">const</span> ESLintPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'eslint-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//入口</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">"./src/main.js"</span><span class="token punctuation">,</span>
    <span class="token comment">// 输出</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 文件的输出路径</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"main.js"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">clean</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 加载器</span>
    <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// loader的配置</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token comment">// 执行的顺序，从右到左（从上到下）</span>
                <span class="token string">"style-loader"</span><span class="token punctuation">,</span> <span class="token comment">// 将js中css通过创建style标签添加html文件中生效</span>
                <span class="token string">"css-loader"</span> <span class="token comment">// 将样式编译成commonjs的模块</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token comment">// loader:'xxx'只能使用单个loader</span>
            <span class="token comment">// user 使用多个loader</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">"style-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"css-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"less-loader"</span> <span class="token comment">// 将Less 编译成css文件</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.s[ac]ss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">"style-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"css-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"sass-loader"</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.styl$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">"style-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"css-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"stylus-loader"</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpe?g|gif|webp)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"asset"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">parser</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">dataUrlCondition</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 小于 10 kb 转base64</span>
                    <span class="token comment">// 优点：减少请求数量，缺点：打包后的结果体积增大</span>
                    <span class="token literal-property property">maxSize</span><span class="token operator">:</span> <span class="token number">20</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 输出图片名称</span>
                <span class="token comment">// [hash:10] hash 值取前10位</span>
                <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"static/images/[hash:10][ext][query]"</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.ttf|worff?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// [hash:10] hash 值取前10位</span>
                <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"static/font/[hash:10][ext][query]"</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.video|audio|xsl|doc$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// [hash:10] hash 值取前10位</span>
                <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"static/media/[hash:10][ext][query]"</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">"babel-loader"</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 插件</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">ESLintPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">context</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"../src"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">template</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"../index.html"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 启动服务器域名</span>
        <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">"localhost"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token string">"3000"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 模式 </span>
    <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">"development"</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      webpack.prod.js
     </li>
    </ul>
    <pre><code class="prism language-js"><span class="token keyword">const</span> ESLintPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'eslint-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//入口</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">"./src/main.js"</span><span class="token punctuation">,</span>
    <span class="token comment">// 输出</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 文件的输出路径</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"main.js"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">clean</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 加载器</span>
    <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// loader的配置</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token comment">// 执行的顺序，从右到左（从上到下）</span>
                <span class="token string">"style-loader"</span><span class="token punctuation">,</span> <span class="token comment">// 将js中css通过创建style标签添加html文件中生效</span>
                <span class="token string">"css-loader"</span> <span class="token comment">// 将样式编译成commonjs的模块</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token comment">// loader:'xxx'只能使用单个loader</span>
            <span class="token comment">// user 使用多个loader</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">"style-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"css-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"less-loader"</span> <span class="token comment">// 将Less 编译成css文件</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.s[ac]ss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">"style-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"css-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"sass-loader"</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.styl$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">"style-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"css-loader"</span><span class="token punctuation">,</span>
                <span class="token string">"stylus-loader"</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpe?g|gif|webp)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"asset"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">parser</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">dataUrlCondition</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 小于 10 kb 转base64</span>
                    <span class="token comment">// 优点：减少请求数量，缺点：打包后的结果体积增大</span>
                    <span class="token literal-property property">maxSize</span><span class="token operator">:</span> <span class="token number">20</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 输出图片名称</span>
                <span class="token comment">// [hash:10] hash 值取前10位</span>
                <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"static/images/[hash:10][ext][query]"</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.ttf|worff?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// [hash:10] hash 值取前10位</span>
                <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"static/font/[hash:10][ext][query]"</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.video|audio|xsl|doc$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// [hash:10] hash 值取前10位</span>
                <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"static/media/[hash:10][ext][query]"</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">"babel-loader"</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 插件</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">ESLintPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">context</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"../src"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">template</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"../index.html"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// devServer: {<!-- --></span>
    <span class="token comment">//     // 启动服务器域名</span>
    <span class="token comment">//     host: "localhost",</span>
    <span class="token comment">//     port: "3000",</span>
    <span class="token comment">//     open: true</span>
    <span class="token comment">// },</span>
    <span class="token comment">// 模式 </span>
    <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">"production"</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      修改
      <code>
       package.json
      </code>
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"dev"</span><span class="token operator">:</span> <span class="token string">"webpack server --config ./config/webpack.dev.js"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"build"</span><span class="token operator">:</span> <span class="token string">"webpack --config ./config/webpack.prod.js"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="CSS_865">
     </a>
     CSS处理
    </h3>
    <h4>
     <a id="CSS_867">
     </a>
     提取CSS成单独文件
    </h4>
    <p>
     CSS 文件目前是被打包到JS文件中，当JS文件加载时，会创建一个style标签来生成样式。
     <br/>
     这样对网站来说，会出现闪屏现象，用户体验不太好。
     <br/>
     我们应该将CSS文件提取，通过
     <code>
      link
     </code>
     标签引入。
    </p>
    <ul>
     <li>
      下载包
     </li>
    </ul>
    <pre><code class="prism language-bash"><span class="token function">npm</span> i <span class="token function">install</span> mini-css-extract-plugin <span class="token parameter variable">-D</span>
</code></pre>
    <ul>
     <li>
      配置
      <br/>
      <strong>
       webpack.prod.js
      </strong>
     </li>
    </ul>
    <pre><code class="prism language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mini-css-extract-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>

  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">"css-loader"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
    <h4>
     <a id="CSS_895">
     </a>
     CSS兼容处理
    </h4>
    <ul>
     <li>
      下载包
     </li>
    </ul>
    <pre><code class="prism language-bash"><span class="token function">npm</span> i postcss-loader postcss postcss-preset-env <span class="token parameter variable">-D</span>
</code></pre>
    <ul>
     <li>
      配置
     </li>
    </ul>
    <pre><code class="prism language-js"><span class="token keyword">const</span> ESLintPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'eslint-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mini-css-extract-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">getStyleloader</span><span class="token punctuation">(</span><span class="token parameter">pre</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>
        MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
        <span class="token string">"css-loader"</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">"postcss-loader"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">postcssOptions</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                        <span class="token string">"postcss-preset-env"</span>
                    <span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        pre
    <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>Boolean<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//入口</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">"./src/main.js"</span><span class="token punctuation">,</span>
    <span class="token comment">// 输出</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 文件的输出路径</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"main.js"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">clean</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 加载器</span>
    <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// loader的配置</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token function">getStyleloader</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token comment">// loader:'xxx'只能使用单个loader</span>
            <span class="token comment">// user 使用多个loader</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token function">getStyleloader</span><span class="token punctuation">(</span><span class="token string">"less-loader"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.s[ac]ss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token function">getStyleloader</span><span class="token punctuation">(</span><span class="token string">"sass-loader"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.styl$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token function">getStyleloader</span><span class="token punctuation">(</span><span class="token string">"stylus-loader"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpe?g|gif|webp)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"asset"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">parser</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">dataUrlCondition</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 小于 10 kb 转base64</span>
                    <span class="token comment">// 优点：减少请求数量，缺点：打包后的结果体积增大</span>
                    <span class="token literal-property property">maxSize</span><span class="token operator">:</span> <span class="token number">20</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 输出图片名称</span>
                <span class="token comment">// [hash:10] hash 值取前10位</span>
                <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"static/images/[hash:10][ext][query]"</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.ttf|worff?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// [hash:10] hash 值取前10位</span>
                <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"static/font/[hash:10][ext][query]"</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.video|audio|xsl|doc$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// [hash:10] hash 值取前10位</span>
                <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"static/media/[hash:10][ext][query]"</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">"babel-loader"</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 插件</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">ESLintPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">context</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"../src"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">template</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"../index.html"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">"static/css/index.css"</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// devServer: {<!-- --></span>
    <span class="token comment">//     // 启动服务器域名</span>
    <span class="token comment">//     host: "localhost",</span>
    <span class="token comment">//     port: "3000",</span>
    <span class="token comment">//     open: true</span>
    <span class="token comment">// },</span>
    <span class="token comment">// 模式 </span>
    <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">"production"</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      package.json
     </li>
    </ul>
    <pre><code class="prism language-json"><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"browserslist"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"last 2 version"</span><span class="token punctuation">,</span>
        <span class="token string">"&gt; 1%"</span><span class="token punctuation">,</span>
        <span class="token string">"not dead"</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre>
    <h4>
     <a id="CSS_1016">
     </a>
     CSS压缩
    </h4>
    <ul>
     <li>
      下载包
     </li>
    </ul>
    <pre><code class="prism language-bash"><span class="token function">npm</span> i css-minimizer-webpack-plugin <span class="token parameter variable">-D</span>
</code></pre>
    <ul>
     <li>
      配置
     </li>
    </ul>
    <pre><code class="prism language-js"><span class="token keyword">const</span> CssMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"css-minimizer-webpack-plugin"</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="html_1030">
     </a>
     html压缩
    </h4>
    <p>
     默认生产模式已经开启了html压缩和js压缩，不需要额外配置。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a:2f2f626c6f672e6373646e2e6e65742f5a594a5f303231352f:61727469636c652f64657461696c732f313436333033333836" class_="artid" style="display:none">
 </p>
</div>


