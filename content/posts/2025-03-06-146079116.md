---
layout: post
title: "V8-引擎狂飙,Node.js-续写-JavaScript-传奇"
date: 2025-03-06 21:10:46 +0800
description: "Node.js是一个跨平台JS运行环境，使开发者可以搭建服务器端的JS应用程序使用 Node.js 编写服务器端程序✓ 编写数据接口，提供网页资源浏览功能等等✓ 前端工程化：为后续学习 Vue 和 React 等框架做铺垫前端工程化：开发项目直到上线，过程中集成的所有工具和技术Node.js 是前端工程化的基础（因为 Node.js 可以主动读取前端代码内容）概念：项目是由很多个模块文件组成的好处：提高代码复用性，按需加载，独立作用域使用：需要标准语法导出和导入进行使用。"
keywords: "《V8 引擎狂飙，Node.js 续写 JavaScript 传奇》"
categories: ['面试精选']
tags: ['Node']
artid: "146079116"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146079116
    alt: "V8-引擎狂飙,Node.js-续写-JavaScript-传奇"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146079116
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146079116
cover: https://bing.ee123.net/img/rand?artid=146079116
image: https://bing.ee123.net/img/rand?artid=146079116
img: https://bing.ee123.net/img/rand?artid=146079116
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     《V8 引擎狂飙，Node.js 续写 JavaScript 传奇》
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2>
     <img alt="" height="738" src="https://i-blog.csdnimg.cn/direct/44fdcfe112a74779a3792967f6bf70a1.png" width="1312"/>
    </h2>
    <p style="text-align:center">
     <strong>
      ”你没想过也许是这个镇子对你来说太小了吗？ 对我而言，这个小镇容不下我的雄心壮志。 “
     </strong>
    </p>
    <h2>
     什么是 Node.js？
    </h2>
    <blockquote>
     <p>
      Node.js是一个跨平台JS运行环境，使开发者可以搭建服务器端的JS应用程序
     </p>
    </blockquote>
    <p>
     作用：
     <strong>
      使用 Node.js 编写服务器端程序
     </strong>
    </p>
    <p>
     ✓ 编写数据接口，提供网页资源浏览功能等等
    </p>
    <p>
     ✓ 前端工程化：为后续学习 Vue 和 React 等框架做铺垫
    </p>
    <h2>
     什么是前端工程化？
    </h2>
    <p>
     前端工程化：开发项目直到上线，过程中集成的所有
     <span style="color:#fe2c24">
      工具和技术
     </span>
    </p>
    <p>
     Node.js 是前端工程化的基础（因为 Node.js 可以主动读取前端代码内容）
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/c75bee4d3fe44f34b85320e5a8f3b4b5.png"/>
    </p>
    <h2>
     Node.js 为何能执行 JS？
    </h2>
    <p>
     首先：浏览器能执行 JS 代码，依靠的是内核中的
     <span style="color:#fe2c24">
      V8
     </span>
     引擎（C++ 程序）
    </p>
    <p>
     其次：
     <strong>
      Node.js 是基于 Chrome V8 引擎进行封装（运行环境）
     </strong>
    </p>
    <p>
     区别：都支持 ECMAScript 标准语法，Node.js 有独立的 API
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/002d3046bd3c476a9285bc0cf8972f92.png"/>
    </p>
    <p>
     注意：
     <span style="color:#fe2c24">
      Node.js 环境没有 DOM 和 BOM 等
     </span>
    </p>
    <h2>
     使用 Node.js
    </h2>
    <p>
     需求：新建 JS 文件，并编写代码后，在 node 环境下执行。
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/c1ba6b23f4e64f42a5ef307899e6f55a.png"/>
    </p>
    <hr/>
    <p>
    </p>
    <p>
    </p>
    <p>
     <strong>
      模块：类似插件，封装了方法/属性
     </strong>
    </p>
    <h2 style="background-color:transparent">
     fs 模块 - 读写文件
    </h2>
    <p>
     <code>
      fs
     </code>
     模块是 Node.js 中用于与文件系统交互的核心模块。它提供了同步和异步的 API，用于执行文件操作，如读取、写入、删除、重命名文件等。
    </p>
    <h3>
     语法
    </h3>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/02728380ace6495c83da967577a8427b.png"/>
    </p>
    <h4 style="background-color:transparent">
     <strong>
      （1）读取文件
     </strong>
    </h4>
    <h5>
     <strong>
      异步读取
     </strong>
    </h5>
    <pre><code class="language-javascript">
fs.readFile('file.txt', 'utf8', (err, data) =&gt; {
  if (err) {
    console.error('读取文件失败:', err);
    return;
  }
  console.log('文件内容:', data);
});</code></pre>
    <h5>
     <strong>
      同步读取
     </strong>
    </h5>
    <pre><code class="language-javascript">try {
  const data = fs.readFileSync('file.txt', 'utf8');
  console.log('文件内容:', data);
} catch (err) {
  console.error('读取文件失败:', err);
}</code></pre>
    <hr/>
    <h4>
     <strong>
      （2）写入文件
     </strong>
    </h4>
    <h5>
     <strong>
      异步写入
     </strong>
    </h5>
    <pre><code class="language-javascript">fs.writeFile('file.txt', 'Hello, Node.js!', 'utf8', (err) =&gt; {
  if (err) {
    console.error('写入文件失败:', err);
    return;
  }
  console.log('文件写入成功');
});</code></pre>
    <h5>
     <strong>
      同步写入
     </strong>
    </h5>
    <pre><code class="language-javascript">try {
  fs.writeFileSync('file.txt', 'Hello, Node.js!', 'utf8');
  console.log('文件写入成功');
} catch (err) {
  console.error('写入文件失败:', err);
}</code></pre>
    <hr/>
    <h4>
     <strong>
      （3）追加内容
     </strong>
    </h4>
    <h5>
     <strong>
      异步追加
     </strong>
    </h5>
    <pre><code class="language-javascript">fs.appendFile('file.txt', '\n追加内容', 'utf8', (err) =&gt; {
  if (err) {
    console.error('追加内容失败:', err);
    return;
  }
  console.log('内容追加成功');
});</code></pre>
    <h5>
     <strong>
      同步追加
     </strong>
    </h5>
    <pre><code class="language-javascript">try {
  fs.appendFileSync('file.txt', '\n追加内容', 'utf8');
  console.log('内容追加成功');
} catch (err) {
  console.error('追加内容失败:', err);
}</code></pre>
    <hr/>
    <h4>
     <strong>
      （4）删除文件
     </strong>
    </h4>
    <h5>
     <strong>
      异步删除
     </strong>
    </h5>
    <pre><code class="language-javascript">fs.unlink('file.txt', (err) =&gt; {
  if (err) {
    console.error('删除文件失败:', err);
    return;
  }
  console.log('文件删除成功');
});</code></pre>
    <h5 style="background-color:transparent">
     <strong>
      同步删除
     </strong>
    </h5>
    <pre></pre>
    <pre><code class="language-javascript">try {
  fs.unlinkSync('file.txt');
  console.log('文件删除成功');
} catch (err) {
  console.error('删除文件失败:', err);
}</code></pre>
    <h3>
     path模块-路径处理
    </h3>
    <p>
     Node.js 代码中，相对路径是根据终端所在路径来查找的，可能无法找到你想要的文件。
    </p>
    <p>
     <code>
      path
     </code>
     模块是 Node.js 中用于处理文件路径的核心模块。它提供了一系列工具函数，用于解析、拼接、规范化文件路径，以及提取路径中的信息（如文件名、扩展名等）。
    </p>
    <p>
     所以，在 Node.js 代码中，使用
     <span style="color:#fe2c24">
      绝对路径
     </span>
     <span style="color:null">
      更好。
     </span>
    </p>
    <h4>
     <strong>
      路径拼接：
      <code>
       path.join()
      </code>
     </strong>
    </h4>
    <p>
     将多个路径片段拼接成一个完整的路径，自动处理路径分隔符。
    </p>
    <p>
     <strong>
      __dirname 内置变量
     </strong>
     （获取当前模块目录-绝对路径）
    </p>
    <pre><code class="language-javascript">const fullPath = path.join('/foo', 'bar', 'baz/asdf', 'quux', '..');
console.log(fullPath); // 输出: /foo/bar/baz/asdf</code></pre>
    <h2>
     http模块
    </h2>
    <p>
     <code>
      http
     </code>
     模块是 Node.js 中用于创建 HTTP 服务器和客户端的核心模块。它提供了构建 Web 服务器、处理 HTTP 请求和响应的功能。以下是
     <code>
      http
     </code>
     模块的详细介绍和常见用法：
    </p>
    <hr/>
    <h3>
     <strong>
      1. 引入
      <code>
       http
      </code>
      模块
     </strong>
    </h3>
    <p>
     在 Node.js 中，使用
     <code>
      require
     </code>
     引入
     <code>
      http
     </code>
     模块：
    </p>
    <pre><code class="language-javascript">const http = require('http');</code></pre>
    <hr/>
    <h3>
     <strong>
      2. 创建 HTTP 服务器
     </strong>
    </h3>
    <p>
     使用
     <code>
      http.createServer()
     </code>
     方法创建一个 HTTP 服务器。
    </p>
    <h4>
     <strong>
      示例：创建一个简单的 HTTP 服务器
     </strong>
    </h4>
    <pre><code class="language-javascript">const server = http.createServer((req, res) =&gt; {
  res.statusCode = 200; // 设置状态码
  res.setHeader('Content-Type', 'text/plain'); // 设置响应头
  res.end('Hello, World!\n'); // 发送响应内容
});

server.listen(3000, '127.0.0.1', () =&gt; {
  console.log('服务器运行在 http://127.0.0.1:3000/');
});</code></pre>
    <ul>
     <li>
      <p>
       <strong>
        <code>
         req
        </code>
       </strong>
       ：请求对象，包含客户端请求的信息（如 URL、请求头、请求方法等）。
      </p>
     </li>
     <li>
      <p>
       <strong>
        <code>
         res
        </code>
       </strong>
       ：响应对象，用于向客户端发送响应。
      </p>
     </li>
    </ul>
    <hr/>
    <h3>
     <strong>
      3. 处理请求
     </strong>
    </h3>
    <h4>
     <strong>
      （1）获取请求方法
     </strong>
    </h4>
    <pre><code class="language-javascript">const method = req.method; // 获取请求方法（GET、POST 等）</code></pre>
    <h4>
     <strong>
      （2）获取请求 URL
     </strong>
    </h4>
    <pre><code class="language-javascript">const url = req.url; // 获取请求的 URL</code></pre>
    <h4>
     <strong>
      （3）获取请求头
     </strong>
    </h4>
    <pre><code class="language-javascript">const headers = req.headers; // 获取请求头</code></pre>
    <h4>
     <strong>
      （4）获取请求体（POST 请求）
     </strong>
    </h4>
    <p>
    </p>
    <pre><code class="language-javascript">let body = '';
req.on('data', (chunk) =&gt; {
  body += chunk; // 接收数据块
});
req.on('end', () =&gt; {
  console.log('请求体:', body); // 请求体接收完成
});</code></pre>
    <hr/>
    <h3>
     <strong>
      4. 发送响应
     </strong>
    </h3>
    <h4>
     <strong>
      （1）设置状态码
     </strong>
    </h4>
    <pre><code class="language-javascript">
res.statusCode = 200; // 设置状态码为 200</code></pre>
    <h4>
     <strong>
      （2）设置响应头
     </strong>
    </h4>
    <pre><code class="language-javascript">res.setHeader('Content-Type', 'text/plain'); // 设置响应头</code></pre>
    <h4>
     <strong>
      （3）发送响应内容
     </strong>
    </h4>
    <pre><code class="language-javascript">res.end('Hello, World!\n'); // 发送响应内容并结束响应</code></pre>
    <hr/>
    <h3>
     <strong>
      5. 处理路由
     </strong>
    </h3>
    <p>
     根据请求的 URL 和方法处理不同的路由。
    </p>
    <h4>
     <strong>
      示例：处理 GET 和 POST 请求
     </strong>
    </h4>
    <pre><code class="language-javascript">const server = http.createServer((req, res) =&gt; {
  if (req.url === '/' &amp;&amp; req.method === 'GET') {
    res.statusCode = 200;
    res.setHeader('Content-Type', 'text/plain');
    res.end('这是首页\n');
  } else if (req.url === '/submit' &amp;&amp; req.method === 'POST') {
    let body = '';
    req.on('data', (chunk) =&gt; {
      body += chunk;
    });
    req.on('end', () =&gt; {
      res.statusCode = 200;
      res.setHeader('Content-Type', 'text/plain');
      res.end(`收到的数据: ${body}\n`);
    });
  } else {
    res.statusCode = 404;
    res.setHeader('Content-Type', 'text/plain');
    res.end('页面未找到\n');
  }
});

server.listen(3000, '127.0.0.1', () =&gt; {
  console.log('服务器运行在 http://127.0.0.1:3000/');
});</code></pre>
    <hr/>
    <h3>
     <strong>
      6. 创建 HTTP 客户端
     </strong>
    </h3>
    <p>
     使用
     <code>
      http.request()
     </code>
     或
     <code>
      http.get()
     </code>
     方法创建 HTTP 客户端，发送请求到其他服务器。
    </p>
    <h4>
     <strong>
      示例：发送 GET 请求
     </strong>
    </h4>
    <pre><code class="language-javascript">const options = {
  hostname: 'www.example.com',
  port: 80,
  path: '/',
  method: 'GET'
};

const req = http.request(options, (res) =&gt; {
  let data = '';
  res.on('data', (chunk) =&gt; {
    data += chunk;
  });
  res.on('end', () =&gt; {
    console.log('响应内容:', data);
  });
});

req.on('error', (err) =&gt; {
  console.error('请求失败:', err);
});

req.end(); // 发送请求</code></pre>
    <h4>
     <strong>
      简化版 GET 请求
     </strong>
    </h4>
    <p>
    </p>
    <pre><code class="language-javascript">http.get('http://www.example.com/', (res) =&gt; {
  let data = '';
  res.on('data', (chunk) =&gt; {
    data += chunk;
  });
  res.on('end', () =&gt; {
    console.log('响应内容:', data);
  });
}).on('error', (err) =&gt; {
  console.error('请求失败:', err);
});</code></pre>
    <hr/>
    <h3>
     <strong>
      7. 处理 HTTPS
     </strong>
    </h3>
    <p>
     Node.js 还提供了
     <code>
      https
     </code>
     模块，用于处理 HTTPS 请求。用法与
     <code>
      http
     </code>
     模块类似。
    </p>
    <h4>
     <strong>
      示例：创建 HTTPS 服务器
     </strong>
    </h4>
    <pre><code class="language-javascript">const https = require('https');
const fs = require('fs');

const options = {
  key: fs.readFileSync('key.pem'),
  cert: fs.readFileSync('cert.pem')
};

https.createServer(options, (req, res) =&gt; {
  res.statusCode = 200;
  res.setHeader('Content-Type', 'text/plain');
  res.end('Hello, HTTPS!\n');
}).listen(443, () =&gt; {
  console.log('HTTPS 服务器运行在 https://localhost:443/');
});</code></pre>
    <h2>
     Node.js模块化
    </h2>
    <h3>
     什么是模块化？
    </h3>
    <p>
     <img alt="" height="223" src="https://i-blog.csdnimg.cn/direct/c9f9c5c2680549429afb43864f628785.png" width="2226"/>
    </p>
    <p>
     概念：项目是由很多个模块文件组成的
    </p>
    <p>
     好处：提高代码复用性，按需加载，独立作用域
    </p>
    <p>
     使用：需要标准语法导出和导入进行使用
    </p>
    <p style="text-align:center">
     <img alt="" src="https://i-blog.csdnimg.cn/direct/a4a7f6f573d843f3b86cb1cd3c9bbd2b.png"/>
    </p>
    <h3>
     CommonJS 标准
    </h3>
    <p>
    </p>
    <p>
     在 Node.js 中，CommonJS 规范被广泛采用，例如：
    </p>
    <ul>
     <li>
      <p>
       使用
       <code>
        require()
       </code>
       函数来导入模块。
      </p>
     </li>
     <li>
      <p>
       使用
       <code>
        module.exports
       </code>
       或
       <code>
        exports
       </code>
       来导出模块。
      </p>
     </li>
     <li>
      <p>
       使用
       <code>
        global
       </code>
       对象来访问全局变量。
      </p>
     </li>
    </ul>
    <p>
     示例：
    </p>
    <pre><code class="language-javascript">// file: math.js
function add(a, b) {
    return a + b;
}

function subtract(a, b) {
    return a - b;
}

module.exports = { add, subtract };</code></pre>
    <p>
    </p>
    <pre><code class="language-javascript">// file: app.js
const math = require('./math');

const result = math.add(5, 3);
console.log(result); // 输出: 8</code></pre>
    <h3>
     ECMAScript 标准（ES6）
    </h3>
    <p>
     默认标准使用：
    </p>
    <p>
     1. 导出：export default {}
    </p>
    <p>
     2. 导入：import 变量名 from '模块名或路径'
    </p>
    <pre><code class="language-javascript">// math.js
export function add(a, b) {
  return a + b;
}

// app.js
import { add } from './math.js';
console.log(add(5, 10)); // 输出: 15</code></pre>
    <p>
     <strong>
      注意：Node.js 默认支持 CommonJS 标准语法
     </strong>
    </p>
    <p>
     <strong>
      如需使用 ECMAScript 标准语法，在运行模块所在文件夹新建 package.json 文件，并设置 { "type" : "module" }
     </strong>
    </p>
    <h2>
     <strong>
      包
     </strong>
    </h2>
    <h4>
     1.
     <strong>
      包的概念
     </strong>
    </h4>
    <p>
     包通常是一个包含
     <strong>
      代码、元数据（如 package.json）、依赖项和脚本
     </strong>
     的集合，旨在实现某些功能并可以被其他项目或开发者复用。JavaScript 包通常托管在
     <strong>
      npm（Node Package Manager）
     </strong>
     或
     <strong>
      yarn
     </strong>
     等包管理器中。
    </p>
    <hr/>
    <h4>
     2.
     <strong>
      包的结构
     </strong>
    </h4>
    <p>
     一个标准的 npm 包通常包含以下文件：
    </p>
    <ul>
     <li>
      <code>
       package.json
      </code>
      ：包的描述文件，包含
      <strong>
       名称、版本、依赖项、脚本、作者信息
      </strong>
      等。
     </li>
     <li>
      <code>
       index.js
      </code>
      （或
      <code>
       main
      </code>
      指向的入口文件）：包的主要代码文件。
     </li>
     <li>
      <code>
       node_modules/
      </code>
      ：存放安装的依赖包（通常不手动修改）。
     </li>
     <li>
      <code>
       README.md
      </code>
      ：包的说明文档。
     </li>
     <li>
      <code>
       .gitignore
      </code>
      ：用于 Git 版本控制，忽略不必要的文件。
     </li>
     <li>
      <code>
       LICENSE
      </code>
      ：许可证信息（可选）。
     </li>
    </ul>
    <hr/>
    <h4>
     3.
     <strong>
      如何管理包
     </strong>
    </h4>
    <h5>
     （1）安装包
    </h5>
    <p>
     在项目中使用 npm 或 yarn 安装包：
    </p>
    <pre><code class="language-javascript"># 使用 npm 安装包
npm install package-name

# 使用 yarn 安装包
yarn add package-name
</code></pre>
    <h5>
     （2）全局安装包
    </h5>
    <p>
     如果想要在整个系统中可用，可以使用
     <code>
      -g
     </code>
     （全局安装）：
    </p>
    <pre><code class="language-javascript">npm install -g package-name
</code></pre>
    <p>
     （3）卸载包
    </p>
    <pre><code class="language-javascript">npm uninstall package-name
</code></pre>
    <p>
     （4）更新包
    </p>
    <pre><code class="language-javascript">npm update package-name
</code></pre>
    <h4>
     4.
     <strong>
      如何创建自己的包
     </strong>
    </h4>
    <p>
     如果你想发布自己的 npm 包，可以按照以下步骤：
    </p>
    <h5>
     （1）初始化包
    </h5>
    <p>
     在项目目录下运行：
    </p>
    <pre><code class="language-javascript">npm init
</code></pre>
    <p>
     然后按照提示填写
     <strong>
      包名、版本号、入口文件、作者信息
     </strong>
     等。
    </p>
    <h5>
     （2）编写代码
    </h5>
    <p>
     创建
     <code>
      index.js
     </code>
     ，例如：
    </p>
    <pre><code class="language-javascript">module.exports = function() {
    console.log("Hello from my package!");
};
</code></pre>
    <h5>
     （3）发布到 npm
    </h5>
    <p>
     首先，登录 npm
    </p>
    <pre><code class="language-javascript">npm login
</code></pre>
    <p>
     然后发布包：
    </p>
    <pre><code class="language-javascript">npm publish
</code></pre>
    <h4>
     5.
     <strong>
      包的作用
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       代码复用
      </strong>
      ：将通用功能封装成包，提高开发效率。
     </li>
     <li>
      <strong>
       模块化管理
      </strong>
      ：减少代码耦合，使项目结构更清晰。
     </li>
     <li>
      <strong>
       社区共享
      </strong>
      ：可以使用开源社区提供的高质量库，而不需要自己从零开始写代码。
     </li>
    </ul>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330315f37393839363437302f:61727469636c652f64657461696c732f313436303739313136" class_="artid" style="display:none">
 </p>
</div>


