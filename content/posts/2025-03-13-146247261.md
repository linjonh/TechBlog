---
arturl_encode: "68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f33323336303539332f:61727469636c652f64657461696c732f313436323437323631"
layout: post
title: "å®éªŒç¯‡-CentOS-7-ä¸‹-Keepalived-Nginx-å®ç°åŒæœºé«˜å¯ç”¨"
date: 2025-03-13 14:21:56 +08:00
description: "ä¸ºä»€ä¹ˆè¦åšåŒæœºé«˜å¯ç”¨ï¼Ÿâ€Œæƒ³è±¡ä¸€ä¸‹ï¼šä½ çš„ç½‘ç«™çªç„¶å®•æœºï¼Œç”¨æˆ·æ— æ³•è®¿é—®ï¼Œè®¢å•æµå¤±ã€å£ç¢‘æš´è·Œâ€¦????â€ŒåŒæœºçƒ­å¤‡â€Œå°±æ˜¯è§£å†³è¿™ä¸ªç—›ç‚¹çš„ç»ˆææ–¹æ¡ˆï¼ä¸¤å°æœåŠ¡å™¨äº’ä¸ºå¤‡ä»½ï¼Œ7Ã—24å°æ—¶æ— ç¼åˆ‡æ¢ï¼Œä¿éšœä¸šåŠ¡æ°¸ä¸åœæœºï¼1.ç¯å¢ƒå‡†å¤‡â€ŒèŠ‚ç‚¹è§„åˆ’â€Œâ€Œä¸»èŠ‚ç‚¹â€Œï¼ˆweb01ï¼‰ï¼š192.168.201.131ï¼ˆNginx + Keepalivedï¼‰â€Œå¤‡èŠ‚ç‚¹â€Œ (web02)ï¼š192.168.201.129ï¼ˆNginx + Keepali..."
keywords: "centos7è™šæ‹Ÿæœºå®‰è£…keepalived nginxåˆ°åŒä¸€å°æœºå™¨ä¸Šå‘¢?"
categories: ['æœªåˆ†ç±»']
tags: ['è¿ç»´', 'æœåŠ¡å™¨', 'Nginx', 'Linux', 'Centos']
artid: "146247261"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146247261
    alt: "å®éªŒç¯‡-CentOS-7-ä¸‹-Keepalived-Nginx-å®ç°åŒæœºé«˜å¯ç”¨"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146247261
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146247261
cover: https://bing.ee123.net/img/rand?artid=146247261
image: https://bing.ee123.net/img/rand?artid=146247261
img: https://bing.ee123.net/img/rand?artid=146247261
---

# å®éªŒç¯‡| CentOS 7 ä¸‹ Keepalived + Nginx å®ç°åŒæœºé«˜å¯ç”¨

ä¸ºä»€ä¹ˆè¦åšåŒæœºé«˜å¯ç”¨ï¼Ÿâ€Œ

æƒ³è±¡ä¸€ä¸‹ï¼šä½ çš„ç½‘ç«™çªç„¶å®•æœºï¼Œç”¨æˆ·æ— æ³•è®¿é—®ï¼Œè®¢å•æµå¤±ã€å£ç¢‘æš´è·Œâ€¦ğŸ’¸

â€ŒåŒæœºçƒ­å¤‡â€Œå°±æ˜¯è§£å†³è¿™ä¸ªç—›ç‚¹çš„ç»ˆææ–¹æ¡ˆï¼ä¸¤å°æœåŠ¡å™¨äº’ä¸ºå¤‡ä»½ï¼Œ7Ã—24å°æ—¶æ— ç¼åˆ‡æ¢ï¼Œä¿éšœä¸šåŠ¡æ°¸ä¸åœæœºï¼

1.ç¯å¢ƒå‡†å¤‡

* â€ŒèŠ‚ç‚¹è§„åˆ’â€Œâ€Œ

ä¸»èŠ‚ç‚¹â€Œï¼ˆweb01ï¼‰ï¼š192.168.201.131ï¼ˆNginx + Keepalivedï¼‰â€Œ

å¤‡èŠ‚ç‚¹â€Œ Â (web02)ï¼š192.168.201.129ï¼ˆNginx + Keepalivedï¼‰â€Œ

è™šæ‹ŸIPï¼ˆVIPï¼‰â€Œï¼š192.168.201.130ï¼ˆå®¢æˆ·ç«¯è®¿é—®çš„IPï¼‰

![20c60aea80cf18aac1257512b47c49f8.png](https://i-blog.csdnimg.cn/img_convert/20c60aea80cf18aac1257512b47c49f8.png)

* â€Œå‰ç½®æ¡ä»¶â€Œ

ç¡®ä¿ä¸¤å°æœåŠ¡å™¨å·²å®‰è£… â€ŒNginxâ€Œ å¹¶å¯åŠ¨æœåŠ¡ã€‚

å…³é—­é˜²ç«å¢™æˆ–æ”¾è¡Œç›¸å…³ç«¯å£ï¼ˆ80ã€443ã€VRRPåè®®ï¼‰ã€‚

```bash
systemctl stop firewalld && systemctlÂ disableÂ firewalldsetenforce 0 Â # ä¸´æ—¶å…³é—­SELinux
```

### **2.å®‰è£… nginx å’Œ keepalived**

```bash
# åœ¨ä¸¤å°æœåŠ¡å™¨æ‰§è¡Œï¼šyum install -y keepalived nginxsystemctlÂ enableÂ nginx keepalived
```

### 

* ä¸»å¤‡æœåŠ¡å™¨å®‰è£…
  nginx

![22af97f86ff6a0c2f6d9fe8551df750a.jpeg](https://i-blog.csdnimg.cn/img_convert/22af97f86ff6a0c2f6d9fe8551df750a.jpeg)

* ä¸»å¤‡å®‰è£…
  keepalived

![423db1478857d29d5c6475adc225629a.jpeg](https://i-blog.csdnimg.cn/img_convert/423db1478857d29d5c6475adc225629a.jpeg)

* é…ç½®æœåŠ¡å™¨é¡µé¢ï¼Œä¿®æ”¹/usr/share/nginx/html/index.htmlé¡µé¢ä¸ºweb01å’Œweb02

![360260e98a84ddf2a1b5efc932dc088e.jpeg](https://i-blog.csdnimg.cn/img_convert/360260e98a84ddf2a1b5efc932dc088e.jpeg)

* ä¸»å¤‡é…ç½®
  keepalivedçš„
  **èŠ‚ç‚¹é…ç½®ï¼ˆ/etc/keepalived/keepalived.confï¼‰**

![6bee5a505ff3c03f3f2b86d3942c8c3f.jpeg](https://i-blog.csdnimg.cn/img_convert/6bee5a505ff3c03f3f2b86d3942c8c3f.jpeg)

![379c654485fe700383e6f5ec8cdd591f.jpeg](https://i-blog.csdnimg.cn/img_convert/379c654485fe700383e6f5ec8cdd591f.jpeg)

3.
ä¸»å¤‡æŸ¥çœ‹
keepalived
çš„è™šåœ°å€çŠ¶æ€

![ec0de335d25a3cb707c703ad383f4a42.jpeg](https://i-blog.csdnimg.cn/img_convert/ec0de335d25a3cb707c703ad383f4a42.jpeg)

![45c18c5dbf1315b374ef611fe97f0a82.jpeg](https://i-blog.csdnimg.cn/img_convert/45c18c5dbf1315b374ef611fe97f0a82.jpeg)

### **4.** **éªŒè¯åŒæœºä¸šåŠ¡**

* ä¸»æœºæ­£å¸¸å·¥ä½œæ—¶

![a854c141465282dba26413fe46cbb067.jpeg](https://i-blog.csdnimg.cn/img_convert/a854c141465282dba26413fe46cbb067.jpeg)

* ä¸»æœºå®•æœºåï¼Œå¯ä»¥æ­£å¸¸åˆ‡æ¢åˆ°å¤‡æœºä¸Š

![d52808142de8d6ed292420e7a7a50d67.jpeg](https://i-blog.csdnimg.cn/img_convert/d52808142de8d6ed292420e7a7a50d67.jpeg)

ä¸æƒ³é”™è¿‡æ–‡ç« å†…å®¹ï¼Ÿè¯»å®Œè¯·ç‚¹ä¸€ä¸‹
**â€œåœ¨çœ‹
**![å›¾ç‰‡](https://i-blog.csdnimg.cn/img_convert/f9f024b4d260187941d564d77ce8137c.gif)****
**â€**
ï¼ŒåŠ ä¸ª
**â€œ**
**å…³æ³¨â€**
ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘åˆ›ä½œçš„åŠ¨åŠ›

æœŸå¾…æ‚¨çš„ä¸€é”®ä¸‰è¿æ”¯æŒï¼ˆç‚¹èµã€åœ¨çœ‹ã€åˆ†äº«~ï¼‰