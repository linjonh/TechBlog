---
layout: post
title: "Redis基本命令手册五大类型"
date: 2025-03-15 21:04:13 +0800
description: "redis5版本的命令小手册"
keywords: "Redis基本命令手册——五大类型"
categories: ['Redis']
tags: ['缓存', '数据库', 'Redis']
artid: "146278076"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146278076
    alt: "Redis基本命令手册五大类型"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146278076
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146278076
cover: https://bing.ee123.net/img/rand?artid=146278076
image: https://bing.ee123.net/img/rand?artid=146278076
img: https://bing.ee123.net/img/rand?artid=146278076
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Redis基本命令手册——五大类型
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <hr/>
    <h2 id="%E4%B8%80%EF%BC%9A%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C" name="%E4%B8%80%EF%BC%9A%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C">
     一：基本操作
    </h2>
    <p>
     <strong>
      set key1 123
     </strong>
     (设置键值对 key1:123)
    </p>
    <p>
     <strong>
      get key1
     </strong>
     (获取key1的value值)
    </p>
    <p>
     <strong>
      keys key* ,keys key?,keys key[12]
     </strong>
     (匹配符合开头是key的键，*代表任意字符，？代表单个字符，[12]代表只能匹配key1或key2)
    </p>
    <p>
     <strong>
      exists key
     </strong>
     (是否存在key)
    </p>
    <p>
     <strong>
      del key
     </strong>
     (删除key)
    </p>
    <p>
     <strong>
      ttl key
     </strong>
     (查看key的过期时间)
    </p>
    <p>
     <strong>
      pttl key
     </strong>
     (查看key的毫秒过期时间)
    </p>
    <p>
     <strong>
      type key
     </strong>
     (查看key的类型)
    </p>
    <p>
     <strong>
      Object encoding key
     </strong>
     （获取key的内部编码方式）
    </p>
    <h2 id="%E4%BA%8C%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%88String%EF%BC%89" name="%E4%BA%8C%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%88String%EF%BC%89">
     二：字符串（String）
    </h2>
    <p>
     <strong>
      mset key1 10 key2 29 key3 30
     </strong>
     （批量设置key1,key2,key3）
    </p>
    <p>
     <br/>
     <strong>
      mget key1 key2 key3
     </strong>
     (批量获取key1,key2,key3)
    </p>
    <p>
     <br/>
     <strong>
      setnx key1 1
     </strong>
     (key1不存在设置成功，key1存在设置失败)
    </p>
    <p>
     <strong>
      set key1 1 xx
     </strong>
     (key1存在设置成功，不存在设置失败)
    </p>
    <p>
     <br/>
     <strong>
      setex key1 10 value
     </strong>
     （设置key1并设置过期时间10秒）
    </p>
    <p>
     <br/>
     <strong>
      psetex key1 10000 value
     </strong>
     （设置key1过期时间10000毫秒）
    </p>
    <p>
     <br/>
     <strong>
      incr key
     </strong>
     (将key的value值+1，如果key不存在value视为0，只能对整数操作，如果不是整数会报错)
    </p>
    <p>
     <br/>
     <strong>
      incrby key 10
     </strong>
     (将key的value加10，如果key不存在value视为0，只能对整数操作，如果不是整数会报错)
    </p>
    <p>
     <br/>
     <strong>
      decr key
     </strong>
     (将key的value值-1，如果key不存在value视为0，只能对整数操作，如果不是整数会报错)
    </p>
    <p>
     <br/>
     <strong>
      decrby key 10
     </strong>
     (将key的value减10，如果key不存在value视为0，只能对整数操作，如果不是整数会报错)
    </p>
    <p>
     <br/>
     <strong>
      incrbyfloat key 1.23
     </strong>
     （将key的值增加1.23，如果key不存在视为0，
     <span style="color:#1f2329">
      如果 key 对应的不是 string，或者不是⼀个浮点数，则报错。允许采⽤科学计数法表⽰浮点数
     </span>
     ）
    </p>
    <p>
     <br/>
     <strong>
      append key  qwe
     </strong>
     (将qwe追加到key的value的后面，如果不存在key等同于set)
    </p>
    <p>
     <br/>
     <strong>
      getrange key 1 3
     </strong>
     (获取key的value下标为1到3位置的字符串)
    </p>
    <p>
    </p>
    <p>
     <strong>
      getrange key 0  -1
     </strong>
     (获取key的value下标为0到len-1位置的字符串)
    </p>
    <p>
     <br/>
     <strong>
      setrange key 1 fad
     </strong>
     （从偏移量1开始设置字符串fad）
    </p>
    <p>
     <br/>
     <strong>
      strlen key
     </strong>
     (获取key的长度，如果key不是字符串报错)
    </p>
    <h2 id="%E4%B8%89%EF%BC%9A%E5%93%88%E5%B8%8C%EF%BC%88Hash)" name="%E4%B8%89%EF%BC%9A%E5%93%88%E5%B8%8C%EF%BC%88Hash)">
     三：哈希（Hash)
    </h2>
    <p>
     <strong>
      hset map key1  10
     </strong>
     （插入hash键值对key1 : 10,map是redis中的key）
    </p>
    <p>
     <br/>
     <strong>
      hget map key1
     </strong>
     (获取map中key1的value值)
    </p>
    <p>
     <br/>
     <strong>
      hexists map key1
     </strong>
     （判断hash中是否有key1字段）
    </p>
    <p>
     <br/>
     <strong>
      hdel map key1 key2
     </strong>
     （删除hash中的key1,key2）
    </p>
    <p>
     <br/>
     <strong>
      hkeys map
     </strong>
     (获取hash中的所有字段)
    </p>
    <p>
     <br/>
     <strong>
      hvals map
     </strong>
     (获取hash中的所有值)
    </p>
    <p>
     <br/>
     <strong>
      hgetall map
     </strong>
     (获取所有hash中的所有字段和值)
    </p>
    <p>
     <br/>
     <strong>
      hmget map key1 key2 key3
     </strong>
     （一次获取hash中多个字段的值）
    </p>
    <p>
     <br/>
     <strong>
      hlen map
     </strong>
     (获取hash中所有字段的个数)
    </p>
    <p>
     <br/>
     <strong>
      hsetnx map key1 ddd
     </strong>
     （如果map中key1不存在设置ddd成功，如果key1存在则设置ddd失败）
    </p>
    <p>
     <br/>
     <strong>
      hincrby map key1 10
     </strong>
     （
     <span style="color:#1f2329">
      将 map 中key1对应的数值添加整数10
     </span>
     ）
    </p>
    <p>
     <br/>
     <strong>
      hincrbyfloat map key1 1.24
     </strong>
     (将map中key1对应数值添加浮点数1.24)
    </p>
    <h2 id="%E5%9B%9B%EF%BC%9A%E5%88%97%E8%A1%A8%EF%BC%88List%EF%BC%89" name="%E5%9B%9B%EF%BC%9A%E5%88%97%E8%A1%A8%EF%BC%88List%EF%BC%89">
     四：列表（List）
    </h2>
    <p>
     <strong>
      lpush mylist 1 2 3 1 5
     </strong>
     （将1 2 3 1 5按照头插的方式插入mylist中）
    </p>
    <p>
     <br/>
     <strong>
      lrange mylist 0  -1
     </strong>
     (获取下标为0到len-1的所有元素)
    </p>
    <p>
     <br/>
     <strong>
      lpushx list aa  dd
     </strong>
     （如果list存在则头插aa dd 如果不存在则直接返回什么都不插入）
    </p>
    <p>
     <br/>
     <strong>
      rpush
     </strong>
     <strong>
      mylist 1 2 3 1 5
     </strong>
     （将1 2 3 1 5按照尾插的方式插入mylist中）
    </p>
    <p>
     <br/>
     <strong>
      rpushx list aa  dd
     </strong>
     （ 如果list存在则尾插aa dd 如果不存在则直接返回什么都不插入）
    </p>
    <p>
     <br/>
     <strong>
      lpop mylist
     </strong>
     （从mylist左侧取出元素，头删）
    </p>
    <p>
     <br/>
     <strong>
      rpop mylist
     </strong>
     (从mylist右侧取出元素，尾删)
    </p>
    <p>
     <br/>
     <strong>
      lindex mylist 1
     </strong>
     （从mylist中获取从左数下标为1的元素）
    </p>
    <p>
     <br/>
     <strong>
      linsert mylist before I love
     </strong>
     （在mylist的I前插入love,如果不存在I,则返回）
    </p>
    <p>
    </p>
    <p>
     <strong>
      linsert mylist after I love
     </strong>
     （在mylist的I后插入love,如果不存在I,则返回）
    </p>
    <p>
     <br/>
     <strong>
      llen mylist
     </strong>
     (获取mylist的长度)
    </p>
    <p>
     <br/>
     <span style="color:#ad720d">
      <strong>
       lrem list 1 value
      </strong>
     </span>
     (从左移除一个值为value的元素，正数为从左)
    </p>
    <p>
     <span style="color:#ad720d">
      <strong>
       lrem list -1 value
      </strong>
     </span>
     (从右移除一个值为value的元素，负数为从右)
    </p>
    <p>
     <span style="color:#ad720d">
      <strong>
       lrem list 0 value
      </strong>
     </span>
     (移除所有值为value的值，0为移除所有)
    </p>
    <p>
     <br/>
     <strong>
      ltrim list 1 3
     </strong>
     （只保留list中下标为1到3的元素）
    </p>
    <p>
     <br/>
     <strong>
      lset list 1 hello
     </strong>
     （将list下标为1的值设置为hello）
    </p>
    <p>
     <br/>
     <strong>
      blpop list 10
     </strong>
     (如果list中有元素，与lpop相同，如果没元素，阻塞十秒，十秒内有元素插入了从左弹出元素，十秒后还没元素插入返回nil)
    </p>
    <p>
     <br/>
     <strong>
      brpoplist 10
     </strong>
     (如果list中有元素，与rpop相同，如果没元素，阻塞十秒，十秒内有元素插入了从右弹出元素，十秒后还没元素插入返回nil)
    </p>
    <h2 id="%E4%BA%94%EF%BC%9A%E9%9B%86%E5%90%88%EF%BC%88Set%EF%BC%89" name="%E4%BA%94%EF%BC%9A%E9%9B%86%E5%90%88%EF%BC%88Set%EF%BC%89">
     五：集合（Set）
    </h2>
    <p>
     <strong>
      sadd myset q w r t e y q q q
     </strong>
     （向集合中添加q w t e y 重复元素不会被重复添加）
    </p>
    <p>
     <br/>
     <strong>
      smembers myset
     </strong>
     （从集合中获取所有的元素）
    </p>
    <p>
     <br/>
     <strong>
      sismember myset q
     </strong>
     （判断myset集合中存不存在q元素）
    </p>
    <p>
     <br/>
     <strong>
      spop myset 2
     </strong>
     （从myset集合中随机弹出两个元素，如果不指定数量则弹出一个）
    </p>
    <p>
     <br/>
     <strong>
      srandmember myset 3
     </strong>
     (从myset集合中随机返回三个元素，不指定数量只返回一个)
    </p>
    <p>
     <strong>
      scard myset
     </strong>
     （统计myset集合中有多少个元素）
    </p>
    <p>
     <br/>
     <strong>
      smove myset yourset w
     </strong>
     （将w元素从myset集合中移动到yourset集合中）
    </p>
    <p>
     <br/>
     <strong>
      srem yourset d
     </strong>
     （将元素d从yourset集合中删除）
    </p>
    <p>
     <br/>
     <strong>
      sinter myset yourset
     </strong>
     （将myset集合和yourset集合取交集）
    </p>
    <p>
     <br/>
     <strong>
      sinterstore resultset myset yourset
     </strong>
     （将myset和yourset取到交集的元素放到resultset中）
    </p>
    <p>
     <br/>
     <strong>
      sunion myset yourset
     </strong>
     (将myset集合和yourset集合取并集)
    </p>
    <p>
     <br/>
     <strong>
      sunionstore resultset myset yourset
     </strong>
     （将myset和yourset取到并集的元素放到resultset中）
    </p>
    <p>
     <br/>
     <strong>
      sdiff myset yourset
     </strong>
     (将myset集合和yourset集合取差集，myset-yourset)
    </p>
    <p>
     <br/>
     <strong>
      sdiffstore resultset myset yourset
     </strong>
     （将myset和yourset取到差集的元素放到resultset中）
    </p>
    <h2 id="%E5%85%AD%EF%BC%9A%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%EF%BC%88Zset%EF%BC%89" name="%E5%85%AD%EF%BC%9A%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%EF%BC%88Zset%EF%BC%89">
     六：有序集合（Zset）
    </h2>
    <p>
     <strong>
      zadd myzset 3 hello 5 world
     </strong>
     （向有序集合myzset中添加元素hello分数3，元素world分数5）
    </p>
    <p>
     <br/>
     <strong>
      zcard myzset
     </strong>
     (返回myzset有序集合中的元素个数)
    </p>
    <p>
     <br/>
     <strong>
      zcount myzset 3 5
     </strong>
     （返回分数在3 和5之间（包含3和5）的元素的个数）
    </p>
    <p>
     <br/>
     <strong>
      zrange myzset 0 1 [withscores]
     </strong>
     （返回myzset集合中在0到1区间的元素，按照分数升序返回）
    </p>
    <p>
     <br/>
     <strong>
      zrevrange myzset 0 -1 [withscores]
     </strong>
     (返回在myzset集合中在0到 len-1区间的元素，按照分数降序返回)
    </p>
    <p>
     <br/>
     <strong>
      zrangebyscore myzset 3 5 [withscores]
     </strong>
     (返回在myzset集合中分数在3到5之间的元素)
    </p>
    <p>
     <br/>
     <strong>
      zpopmax myzset 2
     </strong>
     （弹出myzset集合中分数最高的两个元素，如果不指定数量只弹出一个）
    </p>
    <p>
     <br/>
     <strong>
      bzpopmax myzset 10
     </strong>
     （弹出myzset集合中分数最高的元素，如果集合中没有元素则阻塞10秒，如果十秒内添加进新的元素，则弹出，否则返回nil）
    </p>
    <p>
     <br/>
     <strong>
      zpopmin myzset 2
     </strong>
     （弹出myzset集合中分数最低的两个元素，如果不指定数量只弹出一个）
    </p>
    <p>
     <br/>
     <strong>
      bzpopmin
     </strong>
     <strong>
      myzset 10
     </strong>
     （弹出myzset集合中分数最低的元素，如果集合中没有元素则阻塞10秒，如果十秒内添加进新的元素，则弹出，否则返回nil）
    </p>
    <p>
     <br/>
     <strong>
      zrank myzset t
     </strong>
     （返回myzset有序集合中t元素的排名(升序)）
    </p>
    <p>
     <br/>
     <strong>
      zrevrank myzset t
     </strong>
     （返回myzset有序集合中t元素的排名(降序)）
    </p>
    <p>
     <br/>
     <strong>
      zscore myzset t
     </strong>
     （返回myzset有序集合中t元素的分数）
    </p>
    <p>
     <br/>
     <strong>
      zrem myzset t q
     </strong>
     （删除myzset有序集合中的t元素和q元素）
    </p>
    <p>
     <br/>
     <strong>
      zremrangebyrank myzset  0 2
     </strong>
     （删除在按照升序排序的有序集合中，区间在0到2之间的元素）
    </p>
    <p>
     <br/>
     <strong>
      zremrangebyscore myzset 6 7
     </strong>
     （删除myzset有序集合中分数在[6,7]之间的元素）
    </p>
    <p>
     <br/>
     <strong>
      zincrby yourzset 5 hello
     </strong>
     （向有序集合yourzset中hello元素的分数增加5）
    </p>
    <p>
     <strong>
      zinterstore result 2 myzset yourzset weights 2 3 aggregate sum
     </strong>
     （将myzset与yourzset的交集按照权重与分数相乘再相加的方式将结果放入result有序集合中）
    </p>
    <p>
     <img alt="" height="177" src="https://i-blog.csdnimg.cn/direct/b41d30fe07214e47b1e251dd01075297.png" width="1154"/>
    </p>
    <p>
     <img alt="" height="229" src="https://i-blog.csdnimg.cn/direct/139032ec93c4462099a92717d5a30dd6.png" width="944">
     </img>
    </p>
    <p>
     zunionstore与上相同
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f37333233333933322f:61727469636c652f64657461696c732f313436323738303736" class_="artid" style="display:none">
 </p>
</div>


