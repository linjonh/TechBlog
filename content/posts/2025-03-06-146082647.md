---
layout: post
title: "Jetson-NV-上解决-PyQt5-Could-not-load-the-Qt-platform-plugin-xcb-错误"
date: 2025-03-06 23:10:14 +0800
description: "这是由于缺少显示环境或 Qt 平台插件的问题。"
keywords: "Jetson NV 上解决 PyQt5 “Could not load the Qt platform plugin ‘xcb‘“ 错误"
categories: ['未分类']
tags: ['数据库', '开发语言', 'Qt']
artid: "146082647"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146082647
    alt: "Jetson-NV-上解决-PyQt5-Could-not-load-the-Qt-platform-plugin-xcb-错误"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146082647
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146082647
cover: https://bing.ee123.net/img/rand?artid=146082647
image: https://bing.ee123.net/img/rand?artid=146082647
img: https://bing.ee123.net/img/rand?artid=146082647
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Jetson NV 上解决 PyQt5 “Could not load the Qt platform plugin ‘xcb‘“ 错误
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     在 Jetson NV 上运行 PyQt5 应用程序时，可能会遇到以下错误：
    </p>
    <pre><code>qt.qpa.xcb: could not connect to display 
qt.qpa.plugin: Could not load the Qt platform plugin "xcb" in "" even though it was found.
This application failed to start because no Qt platform plugin could be initialized. Reinstalling the application may fix this problem.

Available platform plugins are: eglfs, linuxfb, minimal, minimalegl, offscreen, vnc, xcb.

Aborted (core dumped)
</code></pre>
    <p>
     这是由于缺少显示环境或 Qt 平台插件的问题。以下是解决该问题的详细步骤：
    </p>
    <h4>
     <a id="1__DISPLAY__15">
     </a>
     1. 设置
     <strong>
      DISPLAY
     </strong>
     环境变量
    </h4>
    <p>
     确保你有一个有效的显示环境。如果你在没有显示环境的情况下运行（例如通过 SSH），你可以尝试设置
     <code>
      DISPLAY
     </code>
     环境变量：
    </p>
    <pre><code class="prism language-sh"><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">DISPLAY</span></span><span class="token operator">=</span>:0
</code></pre>
    <h4>
     <a id="2__23">
     </a>
     2. 安装必要的库
    </h4>
    <p>
     确保你已经安装了所有必要的 Qt 库：
    </p>
    <pre><code class="prism language-sh"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libxcb-xinerama0
</code></pre>
    <h4>
     <a id="3__xhost__31">
     </a>
     3. 使用
     <code>
      xhost
     </code>
     允许连接
    </h4>
    <p>
     如果你通过 SSH 连接到 Jetson NV，可以使用
     <code>
      xhost
     </code>
     允许连接：
    </p>
    <pre><code class="prism language-sh">xhost +
</code></pre>
    <h4>
     <a id="4__offscreen__39">
     </a>
     4. 使用
     <code>
      offscreen
     </code>
     平台插件
    </h4>
    <p>
     如果你没有显示环境，可以尝试使用
     <code>
      offscreen
     </code>
     平台插件：
    </p>
    <pre><code class="prism language-sh"><span class="token assign-left variable">QT_QPA_PLATFORM</span><span class="token operator">=</span>offscreen python lcg_qt_control_20_ZeroErr_drives.py
</code></pre>
    <h4>
     <a id="5__Qt__47">
     </a>
     5. 检查 Qt 安装
    </h4>
    <p>
     确保你的 Qt 安装没有问题，可以尝试重新安装 Qt：
    </p>
    <pre><code class="prism language-sh"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">--reinstall</span> qt5-default
</code></pre>
    <h4>
     <a id="6__VNC__X11__55">
     </a>
     6. 使用 VNC 或 X11 转发
    </h4>
    <p>
     如果你通过 SSH 连接，可以使用 VNC 或 X11 转发来提供显示环境：
    </p>
    <h5>
     <a id="_X11__59">
     </a>
     使用 X11 转发
    </h5>
    <p>
     在 SSH 连接时使用
     <code>
      -X
     </code>
     或
     <code>
      -Y
     </code>
     选项：
    </p>
    <pre><code class="prism language-sh"><span class="token function">ssh</span> <span class="token parameter variable">-X</span> user@jetson-nv
</code></pre>
    <h5>
     <a id="_VNC_67">
     </a>
     使用 VNC
    </h5>
    <p>
     安装并配置 VNC 服务器，然后通过 VNC 客户端连接。
    </p>
    <h4>
     <a id="7__Python__71">
     </a>
     7. 检查 Python 环境
    </h4>
    <p>
     确保你在正确的 Python 环境中运行代码，并且已经正确安装了 PyQt5。
    </p>
    <h4>
     <a id="_75">
     </a>
     示例代码
    </h4>
    <p>
     以下是一个简单的 PyQt5 示例代码，创建一个基本的窗口：
    </p>
    <pre><code class="prism language-python"><span class="token keyword">from</span> PyQt5 <span class="token keyword">import</span> QtWidgets
<span class="token keyword">import</span> sys

app <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

window <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'PyQt5 example'</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">280</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
    <h4>
     <a id="_93">
     </a>
     运行示例代码
    </h4>
    <ol>
     <li>
      <strong>
       保存上述代码到一个文件
      </strong>
      ，例如
      <code>
       example.py
      </code>
      。
     </li>
     <li>
      <strong>
       在终端中运行该文件
      </strong>
      ：
      <pre><code class="prism language-sh">python example.py
</code></pre>
     </li>
    </ol>
    <p>
     通过以上步骤，你应该能够在 Jetson NV 上成功运行 PyQt5 应用程序。如果遇到任何问题，请检查错误信息并确保所有依赖项都已正确安装。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f33393238343131312f:61727469636c652f64657461696c732f313436303832363437" class_="artid" style="display:none">
 </p>
</div>


