---
layout: post
title: "双指针算法"
date: 2025-03-16 22:54:51 +0800
description: "双指针算法是一种通过使用两个指针（索引或引用）在数据结构中有序移动来高效解决问题的技巧。它常用于数组、链表等线性结构的问题，能显著优化时间和空间复杂度。"
keywords: "双指针算法"
categories: ['数据结构与算法分析']
tags: ['算法']
artid: "146303352"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146303352
    alt: "双指针算法"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146303352
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146303352
cover: https://bing.ee123.net/img/rand?artid=146303352
image: https://bing.ee123.net/img/rand?artid=146303352
img: https://bing.ee123.net/img/rand?artid=146303352
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     双指针算法
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     双指针算法是一种通过使用两个指针（索引或引用）在数据结构中有序移动来高效解决问题的技巧。它常用于数组、链表等线性结构的问题，能显著优化时间和空间复杂度。以下是其核心应用场景及使用方法：
    </p>
    <hr/>
    <h4>
     <a id="_4">
     </a>
     <strong>
      核心应用场景
     </strong>
    </h4>
    <ol>
     <li>
      <strong>
       有序数组的两数之和
      </strong>
      <ul>
       <li>
        左右指针从两端向中间移动，根据当前和调整指针位置。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       合并有序数组/链表
      </strong>
      <ul>
       <li>
        从后向前填充避免覆盖，或直接比较节点合并。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       快慢指针检测链表环
      </strong>
      <ul>
       <li>
        快指针每次走两步，慢指针走一步，相遇则有环。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       滑动窗口（子数组/子串问题）
      </strong>
      <ul>
       <li>
        维护窗口的左右边界，动态调整窗口大小以满足条件。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       原地修改数组（去重、移除元素）
      </strong>
      <ul>
       <li>
        慢指针标记有效位置，快指针遍历寻找新元素。
       </li>
      </ul>
     </li>
    </ol>
    <hr/>
    <h4>
     <a id="_18">
     </a>
     <strong>
      通用实现步骤
     </strong>
    </h4>
    <ol>
     <li>
      <strong>
       初始化指针
      </strong>
      <ul>
       <li>
        根据问题类型设置左右指针初始位置（如头尾、同起点）。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       确定移动条件
      </strong>
      <ul>
       <li>
        根据当前指针指向元素的关系或问题约束，决定如何移动指针。
       </li>
      </ul>
     </li>
     <li>
      <strong>
       终止条件
      </strong>
      <ul>
       <li>
        通常为指针越界（如左指针超过右指针）或达到目标状态。
       </li>
      </ul>
     </li>
    </ol>
    <hr/>
    <h4>
     <a id="_28">
     </a>
     <strong>
      经典代码示例
     </strong>
    </h4>
    <h5>
     <a id="1__29">
     </a>
     1. 有序数组的两数之和（左右指针）
    </h5>
    <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">two_sum</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>
    left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>
    <span class="token keyword">while</span> left <span class="token operator">&lt;</span> right<span class="token punctuation">:</span>
        current_sum <span class="token operator">=</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span>
        <span class="token keyword">if</span> current_sum <span class="token operator">==</span> target<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span>left<span class="token punctuation">,</span> right<span class="token punctuation">]</span>
        <span class="token keyword">elif</span> current_sum <span class="token operator">&lt;</span> target<span class="token punctuation">:</span>
            left <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            right <span class="token operator">-=</span> <span class="token number">1</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
</code></pre>
    <h5>
     <a id="2__44">
     </a>
     2. 合并有序数组（逆向双指针）
    </h5>
    <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">merge</span><span class="token punctuation">(</span>nums1<span class="token punctuation">,</span> m<span class="token punctuation">,</span> nums2<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> p <span class="token operator">=</span> m<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> m<span class="token operator">+</span>n<span class="token operator">-</span><span class="token number">1</span>
    <span class="token keyword">while</span> p1 <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token keyword">and</span> p2 <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> nums1<span class="token punctuation">[</span>p1<span class="token punctuation">]</span> <span class="token operator">&gt;</span> nums2<span class="token punctuation">[</span>p2<span class="token punctuation">]</span><span class="token punctuation">:</span>
            nums1<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> nums1<span class="token punctuation">[</span>p1<span class="token punctuation">]</span>
            p1 <span class="token operator">-=</span> <span class="token number">1</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            nums1<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> nums2<span class="token punctuation">[</span>p2<span class="token punctuation">]</span>
            p2 <span class="token operator">-=</span> <span class="token number">1</span>
        p <span class="token operator">-=</span> <span class="token number">1</span>
    nums1<span class="token punctuation">[</span><span class="token punctuation">:</span>p2<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums2<span class="token punctuation">[</span><span class="token punctuation">:</span>p2<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span>  <span class="token comment"># 处理剩余元素</span>
</code></pre>
    <h5>
     <a id="3__59">
     </a>
     3. 移除有序数组重复项（快慢指针）
    </h5>
    <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">remove_duplicates</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> nums<span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">0</span>
    slow <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> fast <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> nums<span class="token punctuation">[</span>fast<span class="token punctuation">]</span> <span class="token operator">!=</span> nums<span class="token punctuation">[</span>slow<span class="token punctuation">]</span><span class="token punctuation">:</span>
            slow <span class="token operator">+=</span> <span class="token number">1</span>
            nums<span class="token punctuation">[</span>slow<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>fast<span class="token punctuation">]</span>
    <span class="token keyword">return</span> slow <span class="token operator">+</span> <span class="token number">1</span>
</code></pre>
    <hr/>
    <h4>
     <a id="_74">
     </a>
     <strong>
      使用技巧
     </strong>
    </h4>
    <ol>
     <li>
      <strong>
       滑动窗口模板
      </strong>
      <pre><code class="prism language-python">left <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">for</span> right <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 更新窗口状态（如加入nums[right]）</span>
    <span class="token keyword">while</span> 窗口不满足条件<span class="token punctuation">:</span>
        <span class="token comment"># 更新窗口状态（如移除nums[left]）</span>
        left <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token comment"># 记录结果（如最大/最小窗口长度）</span>
</code></pre>
     </li>
     <li>
      <strong>
       链表问题
      </strong>
      <ul>
       <li>
        快慢指针找中点：快指针到末尾时，慢指针指向中点。
       </li>
       <li>
        判断环：快慢指针相遇则有环，相遇后从头步进找到环入口。
       </li>
      </ul>
     </li>
    </ol>
    <hr/>
    <h4>
     <a id="_91">
     </a>
     <strong>
      适用问题特征
     </strong>
    </h4>
    <ul>
     <li>
      线性结构（数组、链表、字符串）。
     </li>
     <li>
      需要高效遍历或比较连续元素。
     </li>
     <li>
      暴力解法时间复杂度高（如O(n²)），双指针可优化到O(n)或O(n log n)。
     </li>
    </ul>
    <p>
     通过合理选择指针移动策略，双指针能高效解决大量问题，是算法面试中的必备技巧。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330315f38303231353238352f:61727469636c652f64657461696c732f313436333033333532" class_="artid" style="display:none">
 </p>
</div>


