---
arturl_encode: "68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34343130323136322f:61727469636c652f64657461696c732f313436313136303838"
layout: post
title: "è®¾è®¡æ¨¡å¼-åŸå‹æ¨¡å¼"
date: 2025-03-08 14:30:54 +08:00
description: "ç®€å•æ¥è¯´ï¼ŒåŸå‹æ¨¡å¼å°±æ˜¯\"å¤åˆ¶\"è€Œä¸æ˜¯\"æ–°å»º\"ï¼å®ƒé€šè¿‡å¤åˆ¶ä¸€ä¸ªå·²æœ‰å¯¹è±¡æ¥åˆ›å»ºæ–°å¯¹è±¡ï¼Œè€Œä¸æ˜¯é€šè¿‡newå…³é”®å­—å®ä¾‹åŒ–ã€‚å½“ä½ éœ€è¦åˆ›å»ºå¤§é‡ç›¸ä¼¼å¯¹è±¡æ—¶ï¼Œè¿™ä¸ªæ¨¡å¼ç®€ç›´æ˜¯æ•‘æ˜Ÿï¼ä¸ä»…æé«˜æ€§èƒ½ï¼Œè¿˜èƒ½ç®€åŒ–åˆ›å»ºè¿‡ç¨‹ï¼Œå¤ªèµäº†ï¼âœ¨ã€‚"
keywords: "è®¾è®¡æ¨¡å¼-åŸå‹æ¨¡å¼"
categories: ['æœªåˆ†ç±»']
tags: ['è®¾è®¡æ¨¡å¼', 'åŸå‹æ¨¡å¼']
artid: "146116088"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146116088
    alt: "è®¾è®¡æ¨¡å¼-åŸå‹æ¨¡å¼"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146116088
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146116088
cover: https://bing.ee123.net/img/rand?artid=146116088
image: https://bing.ee123.net/img/rand?artid=146116088
img: https://bing.ee123.net/img/rand?artid=146116088
---

# è®¾è®¡æ¨¡å¼-åŸå‹æ¨¡å¼

## ã€å¹²è´§åˆ†äº«ã€‘JavaåŸå‹æ¨¡å¼å…¨è§£æï¼Œçœ‹å®Œç§’æ‡‚ï¼ğŸ”¥

å¤§å®¶å¥½å‘€ï¼ä»Šå¤©ç»™å¤§å®¶å¸¦æ¥Javaè®¾è®¡æ¨¡å¼ç³»åˆ—çš„åˆä¸€ç¯‡å¹²è´§ - åŸå‹æ¨¡å¼ï¼è¿™ä¸ªæ¨¡å¼è¶…çº§å®ç”¨ä½†å¾ˆå¤šå°ä¼™ä¼´éƒ½ä¸å¤ªäº†è§£ï¼Œèµ¶ç´§å­¦èµ·æ¥å§ï¼ğŸ‘‡

### ä»€ä¹ˆæ˜¯åŸå‹æ¨¡å¼ï¼ŸğŸ¤”

ç®€å•æ¥è¯´ï¼ŒåŸå‹æ¨¡å¼å°±æ˜¯"å¤åˆ¶"è€Œä¸æ˜¯"æ–°å»º"ï¼å®ƒé€šè¿‡å¤åˆ¶ä¸€ä¸ªå·²æœ‰å¯¹è±¡æ¥åˆ›å»ºæ–°å¯¹è±¡ï¼Œè€Œä¸æ˜¯é€šè¿‡newå…³é”®å­—å®ä¾‹åŒ–ã€‚

å½“ä½ éœ€è¦åˆ›å»ºå¤§é‡ç›¸ä¼¼å¯¹è±¡æ—¶ï¼Œè¿™ä¸ªæ¨¡å¼ç®€ç›´æ˜¯æ•‘æ˜Ÿï¼ä¸ä»…æé«˜æ€§èƒ½ï¼Œè¿˜èƒ½ç®€åŒ–åˆ›å»ºè¿‡ç¨‹ï¼Œå¤ªèµäº†ï¼âœ¨

### å¦‚ä½•å®ç°åŸå‹æ¨¡å¼ï¼ŸğŸ’»

Javaä¸­å®ç°è¶…ç®€å•ï¼Œåªéœ€è¦ï¼š

1. å®ç°Cloneableæ¥å£
2. é‡å†™clone()æ–¹æ³•

çœ‹ä»£ç ï¼š

```java
public class Prototype implements Cloneable {
    private String name;

    public Prototype(String name) {
        this.name = name;
    }

    // getterå’Œsetterçœç•¥...

    @Override
    public Prototype clone() {
        try {
            return (Prototype) super.clone();
        } catch (CloneNotSupportedException e) {
            e.printStackTrace();
            return null;
        }
    }
}


```

ä½¿ç”¨èµ·æ¥ä¹Ÿè¶…ç®€å•ï¼š

```java
Prototype original = new Prototype("åŸå§‹å¯¹è±¡");
Prototype copy = original.clone();

// ä¿®æ”¹å…‹éš†å¯¹è±¡ä¸ä¼šå½±å“åŸå‹å¯¹è±¡
copy.setName("ä¿®æ”¹åçš„å…‹éš†å¯¹è±¡");


```

### æµ…æ‹·è´vsæ·±æ‹·è´ï¼Œå‚»å‚»åˆ†ä¸æ¸…ï¼ŸğŸ§

è¿™ä¸ªå¿…é¡»è¯´æ¸…æ¥šï¼å¾ˆå¤šé¢è¯•éƒ½ä¼šé—®åˆ°ï¼

#### æµ…æ‹·è´ï¼ˆé»˜è®¤çš„cloneæ–¹å¼ï¼‰

åªå¤åˆ¶åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ï¼Œä½†å¼•ç”¨çš„å¯¹è±¡æœ¬èº«ä¸ä¼šè¢«å¤åˆ¶ã€‚

âŒ ç¼ºç‚¹ï¼šä¿®æ”¹å…‹éš†å¯¹è±¡ä¸­çš„å¼•ç”¨ç±»å‹ï¼ŒåŸå‹å¯¹è±¡ä¹Ÿä¼šå—å½±å“ï¼

#### æ·±æ‹·è´ï¼ˆè¿›é˜¶ç‰ˆï¼‰

ä¸ä»…å¤åˆ¶å¯¹è±¡æœ¬èº«ï¼Œè¿˜é€’å½’å¤åˆ¶æ‰€æœ‰å¼•ç”¨ç±»å‹çš„æˆå‘˜å˜é‡ã€‚

âœ… ä¼˜ç‚¹ï¼šå®Œå…¨ç‹¬ç«‹çš„ä¸¤ä¸ªå¯¹è±¡ï¼Œäº’ä¸å½±å“ï¼

æ·±æ‹·è´å®ç°æ–¹å¼ï¼š

```java
@Override
public DeepCopy clone() {
    try {
        DeepCopy clone = (DeepCopy) super.clone();
        // æ·±æ‹·è´å¼•ç”¨ç±»å‹
        clone.address = this.address.clone();
        return clone;
    } catch (CloneNotSupportedException e) {
        return null;
    }
}


```

### è¿˜æœ‰ä¸€æ‹›ç»æ€ - åºåˆ—åŒ–å®ç°æ·±æ‹·è´ï¼ğŸ’¯

è¿™ä¸ªæ–¹æ³•è¶…çº§å®ç”¨ï¼Œå°¤å…¶æ˜¯å¯¹è±¡ç»“æ„å¤æ‚çš„æ—¶å€™ï¼š

```java
public SerializableDeepCopy deepCopy() {
    try {
        // å†™å…¥æµ
        ByteArrayOutputStream bos = new ByteArrayOutputStream();
        ObjectOutputStream oos = new ObjectOutputStream(bos);
        oos.writeObject(this);

        // è¯»å‡ºæ¥
        ByteArrayInputStream bis = new ByteArrayInputStream(bos.toByteArray());
        ObjectInputStream ois = new ObjectInputStream(bis);
        return (SerializableDeepCopy) ois.readObject();
    } catch (Exception e) {
        return null;
    }
}


```

### åŸå‹æ¨¡å¼æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼ŸğŸ“Š

#### ä¼˜ç‚¹ğŸ‘

* æ€§èƒ½æå‡ï¼šå¤åˆ¶æ¯”newåˆ›å»ºå¿«å¤šäº†
* ç®€åŒ–åˆ›å»ºï¼šä¸ç”¨ç®¡å¯¹è±¡åˆ›å»ºçš„ç»†èŠ‚
* å¯ä»¥ä¿å­˜å¯¹è±¡çŠ¶æ€ï¼šè¿è¡Œæ—¶æƒ³å¤åˆ¶å°±å¤åˆ¶

#### ç¼ºç‚¹ğŸ‘

* å¾ªç¯å¼•ç”¨çš„å¯¹è±¡å…‹éš†èµ·æ¥å¥½éº»çƒ¦
* æ·±æ‹·è´å®ç°æœ‰ç‚¹å¤æ‚
* å¿…é¡»å®ç°æ¥å£å’Œæ–¹æ³•

### ä»€ä¹ˆæ—¶å€™ç”¨åŸå‹æ¨¡å¼ï¼ŸğŸ•’

* åˆ›å»ºå¯¹è±¡æˆæœ¬é«˜ï¼Œä½†å¯¹è±¡ä¹‹é—´å·®å¼‚å°
* ä¸æƒ³åˆ›å»ºä¸€å †å·¥å‚ç±»
* ç±»åˆå§‹åŒ–éœ€è¦æ¶ˆè€—è¶…å¤šèµ„æº

### å®é™…åº”ç”¨åœ¨å“ªé‡Œï¼ŸğŸŒŸ

* Javaçš„Objectå…‹éš†
* Springæ¡†æ¶çš„Beanå¤åˆ¶
* å„ç§é…ç½®ä¿¡æ¯çš„å¤åˆ¶

å­¦ä¼šäº†åŸå‹æ¨¡å¼ï¼Œä½ çš„ä»£ç æ•ˆç‡ç«‹åˆ»æå‡ä¸€ä¸ªæ¡£æ¬¡ï¼æ˜¯ä¸æ˜¯è¶…çº§å®ç”¨ï¼Ÿå¿«ç‚¹èµ+æ”¶è—å§ï¼â¤ï¸