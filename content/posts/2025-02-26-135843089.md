---
layout: post
title: "第十六讲_HarmonyOS应用程序包介绍"
date: 2025-02-26 13:37:45 +0800
description: "本文详细介绍了HarmonyOS的应用程序包，包括其多Module设计的优势，如模块化开发和多设备适"
keywords: "entry类型的ability作为应用的主模块,实现应用入口的功能特性"
categories: ['Harmonyos']
tags: ['Typescript', 'Javascript', 'Harmonyos', 'Arkts']
artid: "135843089"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=135843089
    alt: "第十六讲_HarmonyOS应用程序包介绍"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=135843089
featuredImagePreview: https://bing.ee123.net/img/rand?artid=135843089
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     第十六讲_HarmonyOS应用程序包介绍
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-dracula" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <div class="toc">
     <h4>
      HarmonyOS应用程序包介绍
     </h4>
     <ul>
      <li>
       <a href="#1__1" rel="nofollow">
        1. 应用程序包概述
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#11__Module__3" rel="nofollow">
          1.1 多 Module 设计的好处
         </a>
        </li>
        <li>
         <a href="#12_Module__9" rel="nofollow">
          1.2 Module 的类型
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#2__20" rel="nofollow">
        2. 应用程序包结构
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#21__22" rel="nofollow">
          2.1 应用的配置文件
         </a>
        </li>
        <li>
         <a href="#22__34" rel="nofollow">
          2.2 资源目录
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#3__40" rel="nofollow">
        3. 应用程序编译后包结构
       </a>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <h2>
     <a id="1__1">
     </a>
     1. 应用程序包概述
    </h2>
    <p>
     官方推荐基于
     <code>
      Stage
     </code>
     模型开发
     <code>
      HarmonyOS
     </code>
     应用程序，一个应用可以包含一个或多个
     <code>
      Module
     </code>
     。
    </p>
    <h3>
     <a id="11__Module__3">
     </a>
     1.1 多 Module 设计的好处
    </h3>
    <p>
     <strong>
      支持模块化开发
     </strong>
     ： 一个应用通常会包含多种功能，将不同的功能特性按模块来划分和管理是一种良好的设计方式。
     <code>
      Module
     </code>
     中可以包含源代码、资源文件、第三方库、配置文件等，每一个
     <code>
      Module
     </code>
     可以独立编译，实现特定的功能。
    </p>
    <p>
     <strong>
      支持多设备适配
     </strong>
     ： 一个应用往往需要适配多种设备类型，在采用多
     <code>
      Module
     </code>
     设计的应用中，每个
     <code>
      Module
     </code>
     都会标注所支持的设备类型。那么在应用市场分发应用包时，也能够根据设备类型做精准的筛选和匹配，从而将不同的包合理的组合和部署到对应的设备上。
    </p>
    <h3>
     <a id="12_Module__9">
     </a>
     1.2 Module 的类型
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/e73a0cd0bd1b82c678ac8beab6da980d.png#pic_center"/>
    </p>
    <ul>
     <li>
      <p>
       <code>
        Ability
       </code>
       类型的
       <code>
        Module
       </code>
       ：承载应用的功能和特性，是应用安装和运行的基本单元。
      </p>
      <ul>
       <li>
        <code>
         Entry
        </code>
        类型的
        <code>
         Ability
        </code>
        ：作为应用的主模块，实现应用入口的功能特性。一个应用只能包含唯一一个 Entry。
       </li>
       <li>
        <code>
         Feature
        </code>
        类型的
        <code>
         Ability
        </code>
        ：作为应用的特性模块，实现除 Entry 以外的功能特性。一个应用中可以包含一个或多个
        <code>
         Feature
        </code>
        ，也可以不含。
       </li>
      </ul>
     </li>
     <li>
      <p>
       <code>
        Library
       </code>
       类型的
       <code>
        Module
       </code>
       ：共享代码和资源，不能独立安装运行在设备上，只能作为应用的依赖项被引用。
      </p>
      <ul>
       <li>
        <code>
         Static
        </code>
        类型的
        <code>
         Library
        </code>
        ：支持应用内共享，也可以发布后供其他应用使用。编译后生成一个
        <code>
         .har
        </code>
        后缀的文件，多包引用相同的
        <code>
         HAR
        </code>
        时，会导致 App 包膨大。
       </li>
       <li>
        <code>
         Shared
        </code>
        类型的
        <code>
         Library
        </code>
        ：当前仅支持应用内共享。编译后生成一个
        <code>
         .hsp
        </code>
        后缀的文件，当多包同时引用同一个共享包时，采用
        <code>
         HSP
        </code>
        替代
        <code>
         HAR
        </code>
        ，可以避免
        <code>
         HAR
        </code>
        造成的多包间代码和资源的重复拷贝，从而减小应用包大小。
       </li>
      </ul>
     </li>
    </ul>
    <h2>
     <a id="2__20">
     </a>
     2. 应用程序包结构
    </h2>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/1112b61f5ef83a93f32d0d3442d2a944.png#pic_center"/>
    </p>
    <h3>
     <a id="21__22">
     </a>
     2.1 应用的配置文件
    </h3>
    <p>
     在
     <code>
      AppScope
     </code>
     目录下
     <code>
      app.json5
     </code>
     配置文件主要包含以下内容：
    </p>
    <ul>
     <li>
      应用的全局配置信息，包含应用的 Bundle 名称、开发厂商、版本号等基本信息。
     </li>
     <li>
      特定设备类型的配置信息。
     </li>
    </ul>
    <p>
     <code>
      module.json5
     </code>
     配置文件主要包含以下内容：
    </p>
    <ul>
     <li>
      Module 的基本配置信息，包含 Module 名称、类型、描述、支持的设备类型等基本信息。
     </li>
     <li>
      应用组件信息，包含 UIAbility 组件和 ExtensionAbility 组件的描述信息。
     </li>
     <li>
      应用运行过程中所需的权限信息。
     </li>
    </ul>
    <h3>
     <a id="22__34">
     </a>
     2.2 资源目录
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/f02db27e0230fa61049124c32d619145.png#pic_center"/>
    </p>
    <ul>
     <li>
      <code>
       base
      </code>
      目录中的资源文件会被编译成二进制文件，并赋予资源文件 ID。通过指定资源类型（type）和资源名称（name）引用。
     </li>
     <li>
      <code>
       rawfile
      </code>
      目录中的资源文件会被直接打包进应用，不经过编译，也不会被赋予资源文件 ID。通过指定文件路径和文件名引用。
     </li>
    </ul>
    <h2>
     <a id="3__40">
     </a>
     3. 应用程序编译后包结构
    </h2>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/f95067ca90a590d26aafbbd198e12f6a.png#pic_center"/>
    </p>
    <p>
     编译后，
     <code>
      Module
     </code>
     中的文件会发生如下变更：
    </p>
    <ul>
     <li>
      ets目录：ArkTS源码编译生成.abc文件。
     </li>
     <li>
      resources目录：
      <code>
       AppScope
      </code>
      目录下的资源文件会合入到
      <code>
       Module
      </code>
      下面资源目录中，如果两个目录下的存在重名文件，编译打包后只会保留
      <code>
       AppScope
      </code>
      目录下的资源文件。
     </li>
     <li>
      module配置文件：
      <code>
       AppScope
      </code>
      目录下的
      <code>
       app.json5
      </code>
      文件字段会合入到
      <code>
       Module
      </code>
      下面的
      <code>
       module.json5
      </code>
      文件之中，编译后生成
      <code>
       HAP
      </code>
      或
      <code>
       HSP
      </code>
      最终的
      <code>
       module.json
      </code>
      文件。
     </li>
    </ul>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f77656e7169313939322f:61727469636c652f64657461696c732f313335383433303839" class_="artid" style="display:none">
 </p>
</div>


