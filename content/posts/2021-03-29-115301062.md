---
layout: post
title: "优化算法粒子群算法遗传算法禁忌算法对比"
date: 2021-03-29 15:00:35 +0800
description: "0、优化算法优化算法是一种根据概率按照固定步骤寻求问题的最优解的过程。常见的优化算法有最传统的梯度下"
keywords: "粒子群算法和遗传算法的区别"
categories: ['算法对比', '优化算法']
tags: ['算法']
artid: "115301062"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=115301062
    alt: "优化算法粒子群算法遗传算法禁忌算法对比"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=115301062
featuredImagePreview: https://bing.ee123.net/img/rand?artid=115301062
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     优化算法の粒子群算法、遗传算法、禁忌算法对比
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="0_0">
     </a>
     0、优化算法
    </h3>
    <p>
     优化算法是一种根据概率按照固定步骤寻求问题的最优解的过程。常见的优化算法有最传统的梯度下降法(Gradient Descent)，在自然特性的基础上模拟个体种群的适应性的遗传算法（Genetic Algorithm，GA）和粒子群算法（Particle Swarm Optimization，PSO），收敛速度较快的牛顿法（Newton’s method）及其在牛顿法的基础上使用正定矩阵来近似Hessian矩阵逆的拟牛顿法（Quasi Newton method），还有以亚启发式随机搜索的禁忌算法（Tabu Search）。
    </p>
    <h3>
     <a id="1_2">
     </a>
     1、粒子群算法
    </h3>
    <p>
     粒子群中的每一个粒子都代表一个问题的可能解，通过粒子个体的简单行为，群体内的信息交互实现问题求解的智能性。算法那中每个粒子可视为N维搜索空间中的一个搜索个体，粒子的当前位置即为对应优化问题的一个候选解，粒子的飞行过程即为该个体的搜索过程。粒子的飞行速度可根据粒子历史最优位置和种群历史最优位置进行动态调整。粒子仅具有两个属性：速度和位置，速度代表移动的快慢，位置代表移动的方向，每个粒子单独搜寻的最优解叫做个体极值，粒子群中最优的个体极值作为当前全局最优解。不断迭代，更新速度和位置。最终得到满足终止条件的最优解。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/029c799176f1f4f5a903348d7540a405.png">
      <br/>
      目标函数z=y
      <em>
       sin(2
      </em>
      pi
      <em>
       x)+x
      </em>
      cos(2
      <em>
       pi
      </em>
      y)
     </img>
    </p>
    <pre><code class="prism language-c"><span class="token operator">%</span><span class="token operator">%</span> I<span class="token punctuation">.</span> 清空环境<span class="token operator">%</span>二元函数
<span class="token operator">%</span>https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>blog<span class="token punctuation">.</span>csdn<span class="token punctuation">.</span>net<span class="token operator">/</span>weixin_44897776<span class="token operator">/</span>article<span class="token operator">/</span>details<span class="token operator">/</span><span class="token number">113686831</span>
clc
clear 
 
<span class="token operator">%</span><span class="token operator">%</span> II<span class="token punctuation">.</span> 绘制目标函数曲线图
<span class="token function">rand</span><span class="token punctuation">(</span><span class="token string">'state'</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">figure</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
lbx<span class="token operator">=</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>ubx<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span> <span class="token operator">%</span>函数自变量x范围【<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span>】
lby<span class="token operator">=</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>uby<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span> <span class="token operator">%</span>函数自变量y范围【<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span>】
<span class="token function">ezmesh</span><span class="token punctuation">(</span><span class="token string">'y*sin(2*pi*x)+x*cos(2*pi*y)'</span><span class="token punctuation">,</span><span class="token punctuation">[</span>lbx<span class="token punctuation">,</span>ubx<span class="token punctuation">,</span>lby<span class="token punctuation">,</span>uby<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token operator">%</span>画出函数曲线
hold on<span class="token punctuation">;</span>


<span class="token operator">%</span><span class="token operator">%</span> III<span class="token punctuation">.</span> 参数初始化
c1 <span class="token operator">=</span> <span class="token number">1.49445</span><span class="token punctuation">;</span><span class="token operator">%</span>c1和c2：是学习因子，通常c1<span class="token operator">=</span>c2<span class="token operator">=</span><span class="token number">2</span>
c2 <span class="token operator">=</span> <span class="token number">1.49445</span><span class="token punctuation">;</span>

ws<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">;</span><span class="token operator">%</span>w惯性权重，体现粒子继承先前的速度的能力
we<span class="token operator">=</span><span class="token number">0.4</span><span class="token punctuation">;</span><span class="token operator">%</span>一般start<span class="token operator">=</span><span class="token number">0.9</span> end<span class="token operator">=</span><span class="token number">0.4</span>时算法性能最好，迭代初期惯性大有利于全局搜索，迭代后期惯性小有利于局部搜索

 
maxgen <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>   <span class="token operator">%</span> 进化次数  
sizepop <span class="token operator">=</span> <span class="token number">80</span><span class="token punctuation">;</span>   <span class="token operator">%</span>种群规模
 
Vmax <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>   <span class="token operator">%</span>速度的范围，超过则用边界值。
Vmin <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>  
popmax <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>   <span class="token operator">%</span>个体的变化范围
popmin <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>
<span class="token operator">%</span>定义适应度函数
<span class="token operator">%</span><span class="token operator">%</span> IV<span class="token punctuation">.</span> 产生初始粒子和速度

<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">:</span>sizepop
    <span class="token operator">%</span> 随机产生一个种群
    <span class="token function">pop</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token operator">*</span><span class="token function">rands</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">%</span>初始种群粒子位置
    <span class="token function">V</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">rands</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token operator">%</span>初始化速度
    <span class="token operator">%</span> 计算适应度
    <span class="token function">fitness</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token function">pop</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
end
 
<span class="token operator">%</span><span class="token operator">%</span> V<span class="token punctuation">.</span> 个体极值和群体极值
<span class="token punctuation">[</span>bestfitness<span class="token punctuation">,</span>bestindex<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>fitness<span class="token punctuation">)</span><span class="token punctuation">;</span>
gbest <span class="token operator">=</span> <span class="token function">pop</span><span class="token punctuation">(</span>bestindex<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token operator">%</span>全局最佳
fitnessgbest <span class="token operator">=</span> bestfitness<span class="token punctuation">;</span>   <span class="token operator">%</span>全局最佳适应度值
pbest <span class="token operator">=</span> pop<span class="token punctuation">;</span>    <span class="token operator">%</span>个体最佳
fitnesspbest <span class="token operator">=</span> fitness<span class="token punctuation">;</span>   <span class="token operator">%</span>个体最佳适应度值

 
<span class="token operator">%</span><span class="token operator">%</span> VI<span class="token punctuation">.</span> 迭代寻优
tic
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">:</span>maxgen
<span class="token operator">%</span>     tic
    w<span class="token operator">=</span>ws<span class="token operator">-</span><span class="token punctuation">(</span>ws<span class="token operator">-</span>we<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>i<span class="token operator">/</span>maxgen<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">:</span>sizepop
        <span class="token operator">%</span> 速度更新
        <span class="token function">V</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span> <span class="token operator">=</span> w<span class="token operator">*</span><span class="token function">V</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span> <span class="token operator">+</span> c1<span class="token operator">*</span>rand<span class="token operator">*</span><span class="token punctuation">(</span><span class="token function">pbest</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">pop</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> c2<span class="token operator">*</span>rand<span class="token operator">*</span><span class="token punctuation">(</span>gbest <span class="token operator">-</span> <span class="token function">pop</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">V</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token function">V</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>Vmax<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=</span> Vmax<span class="token punctuation">;</span>
        <span class="token function">V</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token function">V</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>Vmin<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=</span> Vmin<span class="token punctuation">;</span>
        
        <span class="token operator">%</span> 种群更新
        <span class="token function">pop</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">pop</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">V</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">pop</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token function">pop</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>popmax<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=</span> popmax<span class="token punctuation">;</span>
        <span class="token function">pop</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token function">pop</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>popmin<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=</span> popmin<span class="token punctuation">;</span>
        
        <span class="token operator">%</span> 适应度值更新
        <span class="token function">fitness</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token function">pop</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    end
    
    <span class="token keyword">for</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">:</span>sizepop    
        <span class="token operator">%</span> 个体最优更新
        <span class="token keyword">if</span> <span class="token function">fitness</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token function">fitnesspbest</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span>
            <span class="token function">pbest</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">pop</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">fitnesspbest</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">fitness</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
        end
        
        <span class="token operator">%</span> 群体最优更新
        <span class="token keyword">if</span> <span class="token function">fitness</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">&gt;</span> fitnessgbest
            gbest <span class="token operator">=</span> <span class="token function">pop</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            fitnessgbest <span class="token operator">=</span> <span class="token function">fitness</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
        end
    end 
    <span class="token function">Q</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span> fitnessgbest<span class="token punctuation">;</span>        
<span class="token operator">%</span>     toc
end
toc
<span class="token operator">%</span><span class="token operator">%</span> VII<span class="token punctuation">.</span> 输出结果并绘图

<span class="token punctuation">[</span>gbest fitnessgbest<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">plot3</span><span class="token punctuation">(</span><span class="token function">gbest</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">gbest</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>fitnessgbest<span class="token punctuation">,</span><span class="token string">'r*'</span><span class="token punctuation">)</span>
<span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'最优解:\nX='</span><span class="token punctuation">,</span><span class="token function">num2str</span><span class="token punctuation">(</span><span class="token function">gbest</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'\nY='</span><span class="token punctuation">,</span><span class="token function">num2str</span><span class="token punctuation">(</span><span class="token function">gbest</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'\nZ='</span><span class="token punctuation">,</span><span class="token function">num2str</span><span class="token punctuation">(</span>fitnessgbest<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'\n'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">figure</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">plot</span><span class="token punctuation">(</span>Q<span class="token punctuation">)</span>
<span class="token function">title</span><span class="token punctuation">(</span><span class="token string">'最优个体适应度'</span><span class="token punctuation">,</span><span class="token string">'fontsize'</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">xlabel</span><span class="token punctuation">(</span><span class="token string">'迭代次数'</span><span class="token punctuation">,</span><span class="token string">'fontsize'</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">ylabel</span><span class="token punctuation">(</span><span class="token string">'适应度'</span><span class="token punctuation">,</span><span class="token string">'fontsize'</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
function z <span class="token operator">=</span> <span class="token function">fun1</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> 
        z<span class="token operator">=</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
end

</code></pre>
    <p>
     算法迭代曲线
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/75baee5a1a368d5ed4a9a8d490dd5251.png"/>
    </p>
    <h3>
     <a id="2_108">
     </a>
     2、遗传算法
    </h3>
    <p>
     遗传算法是从代表问题可能潜在的解集的一个种群开始的，而一个种群则由经过基因编码的一定数目的个体组成，每个个体实际上是染色体带有特征的实体。在初代种群产生之后，遗传算法按照适者生存和优胜劣汰的原理，逐代演化产生出越来越好的近似解，根据问题域中个体的适应度大小选择个体，并借助于自然遗传学的遗传算子进行组合交叉和变异，产生出代表新的解集的种群。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/8d990f450dd5e5621b72f4aaa277f44a.png">
      <br/>
      目标函数z=y
      <em>
       sin(2
      </em>
      pi
      <em>
       x)+x
      </em>
      cos(2
      <em>
       pi
      </em>
      y)
     </img>
    </p>
    <pre><code class="prism language-c"><span class="token operator">%</span><span class="token operator">%</span>二维GA matlab智能算法第二章example2
clc
clear all
close all
<span class="token function">rand</span><span class="token punctuation">(</span><span class="token string">'state'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">%</span><span class="token operator">%</span> 画出函数图
<span class="token function">figure</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
lbx<span class="token operator">=</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>ubx<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span> <span class="token operator">%</span>函数自变量x范围【<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span>】
lby<span class="token operator">=</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>uby<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span> <span class="token operator">%</span>函数自变量y范围【<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span>】
<span class="token function">ezmesh</span><span class="token punctuation">(</span><span class="token string">'y*sin(2*pi*x)+x*cos(2*pi*y)'</span><span class="token punctuation">,</span><span class="token punctuation">[</span>lbx<span class="token punctuation">,</span>ubx<span class="token punctuation">,</span>lby<span class="token punctuation">,</span>uby<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token operator">%</span>画出函数曲线
hold on<span class="token punctuation">;</span>
<span class="token operator">%</span><span class="token operator">%</span> 定义遗传算法参数
NIND<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">;</span>        <span class="token operator">%</span>个体数目
MAXGEN<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">;</span>      <span class="token operator">%</span>最大遗传代数
PRECI<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">;</span>       <span class="token operator">%</span>变量的二进制位数
GGAP<span class="token operator">=</span><span class="token number">0.95</span><span class="token punctuation">;</span>      <span class="token operator">%</span>代沟
px<span class="token operator">=</span><span class="token number">0.7</span><span class="token punctuation">;</span>         <span class="token operator">%</span>交叉概率
pm<span class="token operator">=</span><span class="token number">0.01</span><span class="token punctuation">;</span>        <span class="token operator">%</span>变异概率
trace<span class="token operator">=</span><span class="token function">zeros</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span>MAXGEN<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token operator">%</span>寻优结果的初始值
FieldD<span class="token operator">=</span><span class="token punctuation">[</span>PRECI PRECI<span class="token punctuation">;</span>lbx lby<span class="token punctuation">;</span>ubx uby<span class="token punctuation">;</span><span class="token number">1</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token number">1</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token number">1</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                      <span class="token operator">%</span>区域描述器
Chrom<span class="token operator">=</span><span class="token function">crtbp</span><span class="token punctuation">(</span>NIND<span class="token punctuation">,</span>PRECI<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token operator">%</span>初始种群
<span class="token operator">%</span><span class="token operator">%</span> 优化
gen<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>                                  <span class="token operator">%</span>代计数器
XY<span class="token operator">=</span><span class="token function">bs2rv</span><span class="token punctuation">(</span>Chrom<span class="token punctuation">,</span>FieldD<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token operator">%</span>计算初始种群的十进制转换
X<span class="token operator">=</span><span class="token function">XY</span><span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Y<span class="token operator">=</span><span class="token function">XY</span><span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ObjV<span class="token operator">=</span>Y<span class="token punctuation">.</span><span class="token operator">*</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span>X<span class="token punctuation">)</span><span class="token operator">+</span>X<span class="token punctuation">.</span><span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span>Y<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token operator">%</span>计算目标函数值
tic
<span class="token keyword">while</span> gen<span class="token operator">&lt;</span>MAXGEN
<span class="token operator">%</span>     tic
   FitnV<span class="token operator">=</span><span class="token function">ranking</span><span class="token punctuation">(</span><span class="token operator">-</span>ObjV<span class="token punctuation">)</span><span class="token punctuation">;</span>                              <span class="token operator">%</span>分配适应度值
   SelCh<span class="token operator">=</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'sus'</span><span class="token punctuation">,</span>Chrom<span class="token punctuation">,</span>FitnV<span class="token punctuation">,</span>GGAP<span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token operator">%</span>选择
   SelCh<span class="token operator">=</span><span class="token function">recombin</span><span class="token punctuation">(</span><span class="token string">'xovsp'</span><span class="token punctuation">,</span>SelCh<span class="token punctuation">,</span>px<span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token operator">%</span>重组
   SelCh<span class="token operator">=</span><span class="token function">mut</span><span class="token punctuation">(</span>SelCh<span class="token punctuation">,</span>pm<span class="token punctuation">)</span><span class="token punctuation">;</span>                               <span class="token operator">%</span>变异
   XY<span class="token operator">=</span><span class="token function">bs2rv</span><span class="token punctuation">(</span>SelCh<span class="token punctuation">,</span>FieldD<span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token operator">%</span>子代个体的十进制转换
   X<span class="token operator">=</span><span class="token function">XY</span><span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Y<span class="token operator">=</span><span class="token function">XY</span><span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   ObjVSel<span class="token operator">=</span>Y<span class="token punctuation">.</span><span class="token operator">*</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span>X<span class="token punctuation">)</span><span class="token operator">+</span>X<span class="token punctuation">.</span><span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span>Y<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token operator">%</span>计算子代的目标函数值
   <span class="token punctuation">[</span>Chrom<span class="token punctuation">,</span>ObjV<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">reins</span><span class="token punctuation">(</span>Chrom<span class="token punctuation">,</span>SelCh<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>ObjV<span class="token punctuation">,</span>ObjVSel<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">%</span>重插入子代到父代，得到新种群
   XY<span class="token operator">=</span><span class="token function">bs2rv</span><span class="token punctuation">(</span>Chrom<span class="token punctuation">,</span>FieldD<span class="token punctuation">)</span><span class="token punctuation">;</span>
   gen<span class="token operator">=</span>gen<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>                                             <span class="token operator">%</span>代计数器增加
   <span class="token operator">%</span>获取每代的最优解及其序号，Y为最优解<span class="token punctuation">,</span>I为个体的序号
   <span class="token punctuation">[</span>Y<span class="token punctuation">,</span>I<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>ObjV<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">trace</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span>gen<span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">XY</span><span class="token punctuation">(</span>I<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                       <span class="token operator">%</span>记下每代的最优值
   <span class="token function">trace</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span>gen<span class="token punctuation">)</span><span class="token operator">=</span>Y<span class="token punctuation">;</span>                               <span class="token operator">%</span>记下每代的最优值
<span class="token operator">%</span>    toc
end
toc
<span class="token function">plot3</span><span class="token punctuation">(</span><span class="token function">trace</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">trace</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">trace</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'bo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token operator">%</span>画出每代的最优点
grid on<span class="token punctuation">;</span>
<span class="token function">plot3</span><span class="token punctuation">(</span><span class="token function">XY</span><span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">XY</span><span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ObjV<span class="token punctuation">,</span><span class="token string">'bo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token operator">%</span>画出最后一代的种群
hold off
<span class="token operator">%</span><span class="token operator">%</span> 画进化图
<span class="token function">figure</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">plot</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span>MAXGEN<span class="token punctuation">,</span><span class="token function">trace</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
grid on
<span class="token function">xlabel</span><span class="token punctuation">(</span><span class="token string">'遗传代数'</span><span class="token punctuation">)</span>
<span class="token function">ylabel</span><span class="token punctuation">(</span><span class="token string">'解的变化'</span><span class="token punctuation">)</span>
<span class="token function">title</span><span class="token punctuation">(</span><span class="token string">'收敛过程'</span><span class="token punctuation">)</span>
bestZ<span class="token operator">=</span><span class="token function">trace</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
bestX<span class="token operator">=</span><span class="token function">trace</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
bestY<span class="token operator">=</span><span class="token function">trace</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'最优解:\nX='</span><span class="token punctuation">,</span><span class="token function">num2str</span><span class="token punctuation">(</span>bestX<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'\nY='</span><span class="token punctuation">,</span><span class="token function">num2str</span><span class="token punctuation">(</span>bestY<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'\nZ='</span><span class="token punctuation">,</span><span class="token function">num2str</span><span class="token punctuation">(</span>bestZ<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'\n'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

</code></pre>
    <p>
     算法迭代曲线
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/a67bf4009d754727b1aaf5a197dd4030.png"/>
    </p>
    <h3>
     <a id="3_178">
     </a>
     3、禁忌算法
    </h3>
    <p>
     禁忌搜索算法首先确定一个初始可行解，确定初始可行解后，定义可行解的领域移动集，然后从领域移动集中挑选一个能改进当前解得移动集，再从新的解开始，反复搜索。如果领域移动中只接受比当前解好的解，搜索就可能陷入循环的危险。为了避免陷入循环和局部最优，构造一个短期循环记忆表，即禁忌表，禁忌表中存放刚刚进行过的领域移动，这些移动被称为禁忌移动。对于当前的移动，在以后的T次循环中都是禁止的，以避免回到原先的解，T次以后释放该移动。禁忌表是一个循环表，搜索过程中被循环的修改，使禁忌表始终保持这T个移动。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/1ddd4801732e335cb40e29a0b0187ac4.png">
      <br/>
      目标函数z=y
      <em>
       sin(2
      </em>
      pi
      <em>
       x)+x
      </em>
      cos(2
      <em>
       pi
      </em>
      y)
     </img>
    </p>
    <pre><code class="prism language-c"><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>禁忌搜索算法求函数极值问题<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
clear all<span class="token punctuation">;</span>                        <span class="token operator">%</span>清除所有变量
close all<span class="token punctuation">;</span>                        <span class="token operator">%</span>清图
clc<span class="token punctuation">;</span>                              <span class="token operator">%</span>清屏
xu<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>                             <span class="token operator">%</span>上界
xl<span class="token operator">=</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>                            <span class="token operator">%</span>下界
<span class="token function">rand</span><span class="token punctuation">(</span><span class="token string">"state"</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">%</span> L<span class="token operator">=</span><span class="token function">randint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token operator">%</span>禁忌长度取<span class="token number">5</span><span class="token punctuation">,</span><span class="token number">11</span>之间的随机数
L<span class="token operator">=</span><span class="token function">randi</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token operator">%</span>禁忌长度取<span class="token number">5</span><span class="token punctuation">,</span><span class="token number">11</span>之间的随机数
Ca<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span>                             <span class="token operator">%</span>邻域解个数
Gmax<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">;</span>                         <span class="token operator">%</span>禁忌算法的最大迭代次数；
w<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>                              <span class="token operator">%</span>自适应权重系数
tabu<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                          <span class="token operator">%</span>禁忌表
x0<span class="token operator">=</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>xu<span class="token operator">-</span>xl<span class="token punctuation">)</span><span class="token operator">+</span>xl<span class="token punctuation">;</span>          <span class="token operator">%</span>随机产生初始解
bestsofar<span class="token punctuation">.</span>key<span class="token operator">=</span>x0<span class="token punctuation">;</span>                 <span class="token operator">%</span>最优解
<span class="token function">xnow</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token operator">=</span>x0<span class="token punctuation">;</span>                   <span class="token operator">%</span>当前解
<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>最优解函数值，当前解函数值<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
bestsofar<span class="token punctuation">.</span>value<span class="token operator">=</span><span class="token function">func2</span><span class="token punctuation">(</span>bestsofar<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token function">xnow</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token operator">=</span><span class="token function">func2</span><span class="token punctuation">(</span><span class="token function">xnow</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
g<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> g<span class="token operator">&lt;</span>Gmax
    x_near<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                     <span class="token operator">%</span>邻域解
    w<span class="token operator">=</span>w<span class="token operator">*</span><span class="token number">0.998</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">:</span>Ca
        <span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>产生邻域解<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
        x_temp<span class="token operator">=</span><span class="token function">xnow</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token punctuation">;</span>
        x1<span class="token operator">=</span><span class="token function">x_temp</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        x2<span class="token operator">=</span><span class="token function">x_temp</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">x_near</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span>x1<span class="token operator">+</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>rand<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>w<span class="token operator">*</span><span class="token punctuation">(</span>xu<span class="token operator">-</span>xl<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>边界条件处理<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
           <span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>边界吸收<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
        <span class="token keyword">if</span> <span class="token function">x_near</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>xl
            <span class="token function">x_near</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span>xl<span class="token punctuation">;</span>
        end
        <span class="token keyword">if</span> <span class="token function">x_near</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>xu
            <span class="token function">x_near</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span>xu<span class="token punctuation">;</span>
        end
        <span class="token function">x_near</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">=</span>x2<span class="token operator">+</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>rand<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>w<span class="token operator">*</span><span class="token punctuation">(</span>xu<span class="token operator">-</span>xl<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>边界条件处理<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
           <span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>边界吸收<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
        <span class="token keyword">if</span> <span class="token function">x_near</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>xl
            <span class="token function">x_near</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">=</span>xl<span class="token punctuation">;</span>
        end
        <span class="token keyword">if</span> <span class="token function">x_near</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>xu
            <span class="token function">x_near</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">=</span>xu<span class="token punctuation">;</span>
        end
        <span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>计算邻域解点的函数值<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
        <span class="token function">fitvalue_near</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">func2</span><span class="token punctuation">(</span><span class="token function">x_near</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    end
    <span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>最优邻域解为候选解<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
    temp<span class="token operator">=</span><span class="token function">find</span><span class="token punctuation">(</span>fitvalue_near<span class="token operator">==</span><span class="token function">max</span><span class="token punctuation">(</span>fitvalue_near<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">candidate</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token operator">=</span><span class="token function">x_near</span><span class="token punctuation">(</span>temp<span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">candidate</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token operator">=</span><span class="token function">func2</span><span class="token punctuation">(</span><span class="token function">candidate</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>候选解和当前解的评价函数差<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
    delta1<span class="token operator">=</span><span class="token function">candidate</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token operator">-</span><span class="token function">xnow</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span> 
    <span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>候选解和目前最优解的评价函数差<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
    delta2<span class="token operator">=</span><span class="token function">candidate</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token operator">-</span>bestsofar<span class="token punctuation">.</span>value<span class="token punctuation">;</span>    
    <span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>候选解并没有改进解，把候选解赋给下一次迭代的当前解<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
    <span class="token keyword">if</span> delta1<span class="token operator">&lt;=</span><span class="token number">0</span>   
        <span class="token function">xnow</span><span class="token punctuation">(</span>g<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token operator">=</span><span class="token function">candidate</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token punctuation">;</span>
        <span class="token function">xnow</span><span class="token punctuation">(</span>g<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token operator">=</span><span class="token function">func2</span><span class="token punctuation">(</span><span class="token function">xnow</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>更新禁忌表<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
        tabu<span class="token operator">=</span><span class="token punctuation">[</span>tabu<span class="token punctuation">;</span><span class="token function">xnow</span><span class="token punctuation">(</span>g<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token function">size</span><span class="token punctuation">(</span>tabu<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>L  
            <span class="token function">tabu</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        end
        g<span class="token operator">=</span>g<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>                 <span class="token operator">%</span>更新禁忌表后，迭代次数自增<span class="token number">1</span>
    <span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>如果相对于当前解有改进，则应与目前最优解比较<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
    <span class="token keyword">else</span>
        <span class="token keyword">if</span> delta2<span class="token operator">&gt;</span><span class="token number">0</span>            <span class="token operator">%</span>候选解比目前最优解优
            <span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>把改进解赋给下一次迭代的当前解<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
            <span class="token function">xnow</span><span class="token punctuation">(</span>g<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token operator">=</span><span class="token function">candidate</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token punctuation">;</span>
            <span class="token function">xnow</span><span class="token punctuation">(</span>g<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token operator">=</span><span class="token function">func2</span><span class="token punctuation">(</span><span class="token function">xnow</span><span class="token punctuation">(</span>g<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>更新禁忌表<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
            tabu<span class="token operator">=</span><span class="token punctuation">[</span>tabu<span class="token punctuation">;</span><span class="token function">xnow</span><span class="token punctuation">(</span>g<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token function">size</span><span class="token punctuation">(</span>tabu<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>L 
                <span class="token function">tabu</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            end 
            <span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>把改进解赋给下一次迭代的目前最优解<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
            <span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>包含藐视准则<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
            bestsofar<span class="token punctuation">.</span>key<span class="token operator">=</span><span class="token function">candidate</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token punctuation">;</span>
            bestsofar<span class="token punctuation">.</span>value<span class="token operator">=</span><span class="token function">func2</span><span class="token punctuation">(</span>bestsofar<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
            g<span class="token operator">=</span>g<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>                <span class="token operator">%</span>更新禁忌表后，迭代次数自增<span class="token number">1</span>
        <span class="token keyword">else</span>
            <span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>判断改进解时候在禁忌表里<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
            <span class="token punctuation">[</span>M<span class="token punctuation">,</span>N<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">size</span><span class="token punctuation">(</span>tabu<span class="token punctuation">)</span><span class="token punctuation">;</span>
            r<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> m<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">:</span>M
                <span class="token keyword">if</span> <span class="token function">candidate</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">key</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token function">tabu</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
                   <span class="token operator">&amp;</span> <span class="token function">candidate</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">key</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">tabu</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
                    r<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
                end
            end
            <span class="token keyword">if</span>  r<span class="token operator">==</span><span class="token number">0</span>
                <span class="token operator">%</span><span class="token operator">%</span>改进解不在禁忌表里，把改进解赋给下一次迭代的当前解
                <span class="token function">xnow</span><span class="token punctuation">(</span>g<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token operator">=</span><span class="token function">candidate</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token punctuation">;</span>
                <span class="token function">xnow</span><span class="token punctuation">(</span>g<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token operator">=</span><span class="token function">func2</span><span class="token punctuation">(</span><span class="token function">xnow</span><span class="token punctuation">(</span>g<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>更新禁忌表<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
                tabu<span class="token operator">=</span><span class="token punctuation">[</span>tabu<span class="token punctuation">;</span><span class="token function">xnow</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token function">size</span><span class="token punctuation">(</span>tabu<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>L
                    <span class="token function">tabu</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                end
                g<span class="token operator">=</span>g<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>               <span class="token operator">%</span>更新禁忌表后，迭代次数自增<span class="token number">1</span>
            <span class="token keyword">else</span>
                <span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>如果改进解在禁忌表里，用当前解重新产生邻域解<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
                <span class="token function">xnow</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token operator">=</span><span class="token function">xnow</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token punctuation">;</span>
                <span class="token function">xnow</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token operator">=</span><span class="token function">func2</span><span class="token punctuation">(</span><span class="token function">xnow</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
            end
        end
    end
    <span class="token function">trace</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token operator">=</span><span class="token function">func2</span><span class="token punctuation">(</span>bestsofar<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
end
bestsofar          <span class="token operator">%</span>最优变量及最优值
figure
<span class="token function">plot</span><span class="token punctuation">(</span>trace<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">xlabel</span><span class="token punctuation">(</span><span class="token string">'迭代次数'</span><span class="token punctuation">)</span>
<span class="token function">ylabel</span><span class="token punctuation">(</span><span class="token string">'目标函数值'</span><span class="token punctuation">)</span>
<span class="token function">title</span><span class="token punctuation">(</span><span class="token string">'搜索过程最优值曲线'</span><span class="token punctuation">)</span>
<span class="token operator">%</span>该脚本应命名为func2<span class="token punctuation">.</span>m

function y<span class="token operator">=</span><span class="token function">func2</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
    y <span class="token operator">=</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>pi<span class="token operator">*</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
end

</code></pre>
    <p>
     迭代曲线
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/d6981b1a9c634d24cb7cd50e38d7df3e.png"/>
    </p>
    <h3>
     <a id="_310">
     </a>
     以上三种算法的优劣分析
    </h3>
    <p>
     以下分别对粒子群算法、遗传算法、禁忌算法的特征进行分析。
     <br/>
     粒子群算法是一类非确定算法，其优点在于有更多的机会得到全局最优解，且粒子群算法具有自组织和进化性以及记忆功能，所有粒子都保存优解得相关信息。且粒子群算法还具备稳健性，即在不同条件和环境下都实用有效。但粒子群算法的数学理论基础还不够牢固，算法收敛性还有待斟酌。
     <br/>
     遗传算法直接以目标函数作为搜索信息，仅仅使用适应度函数值来度量个体的优劣程度。因此遗传算法有着高度的优越性。另一方面由于遗传算法的群体搜索特性，可以避免在多峰分布搜索空间进行搜索易陷入单峰极值的问题。但遗传算法的效率通常低于其它优化算法，且容易出现过早收敛的现象。
     <br/>
     禁忌算法主要特点是在搜索开始阶段解的质量提高很快，随着搜索过程的继续，解得质量提高速度逐渐放缓，甚至在很长的搜索阶段内解得质量没有太大的提高，适合中小规模的NP问题求解，整体效率比较均衡。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f34303630333631342f:61727469636c652f64657461696c732f313135333031303632" class_="artid" style="display:none">
 </p>
</div>


