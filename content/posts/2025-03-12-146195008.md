---
layout: post
title: "QT创建项目项目模板构建系统选择类构建套件"
date: 2025-03-12 09:23:55 +0800
description: "QMainWindow和QDialog都是QWidget的子类，但各自有不同的扩展功能。QMainWindow提供了标准的应用程序框架，而QDialog则专注于对话框的特定行为，比如模态和非模态。"
keywords: "QT创建项目（项目模板、构建系统、选择类、构建套件）"
categories: ['Qt']
tags: ['Qt']
artid: "146195008"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146195008
    alt: "QT创建项目项目模板构建系统选择类构建套件"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146195008
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146195008
cover: https://bing.ee123.net/img/rand?artid=146195008
image: https://bing.ee123.net/img/rand?artid=146195008
img: https://bing.ee123.net/img/rand?artid=146195008
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     QT创建项目（项目模板、构建系统、选择类、构建套件）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2>
     1. 项目模版
    </h2>
    <table>
     <thead>
      <tr>
       <th>
        <strong>
         项目类型
        </strong>
       </th>
       <th>
        <strong>
         界面技术
        </strong>
       </th>
       <th>
        <strong>
         适用场景
        </strong>
       </th>
       <th>
        <strong>
         核心依赖模块
        </strong>
       </th>
       <th>
        <strong>
         开发语言
        </strong>
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <strong>
         Qt Widget Application
        </strong>
       </td>
       <td>
        C++ Widgets
       </td>
       <td>
        传统桌面应用（复杂控件）
       </td>
       <td>
        Qt Widgets
       </td>
       <td>
        C++
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         Qt Console Application
        </strong>
       </td>
       <td>
        无 GUI
       </td>
       <td>
        命令行工具、服务
       </td>
       <td>
        Qt Core
       </td>
       <td>
        C++
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         Qt Quick Application
        </strong>
       </td>
       <td>
        QML/Quick
       </td>
       <td>
        现代跨平台应用（动画/触摸）
       </td>
       <td>
        Qt Quick
       </td>
       <td>
        QML + C++
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         Qt Quick (compat)
        </strong>
       </td>
       <td>
        QML（旧版兼容）
       </td>
       <td>
        迁移旧版 Qt Quick 项目到 Qt 6
       </td>
       <td>
        Qt Quick + QtQuick.Compat
       </td>
       <td>
        QML + C++
       </td>
      </tr>
     </tbody>
    </table>
    <h2>
     2. 构建系统
    </h2>
    <p>
     qmake是Qt自带的构建工具，专门为Qt项目设计，简化了项目的配置过程。而CMake是一个跨平台的构建系统生成器，支持更广泛的项目类型，不仅仅是Qt。
    </p>
    <table>
     <thead>
      <tr>
       <th>
        <strong>
         工具
        </strong>
       </th>
       <th>
        <strong>
         定位
        </strong>
       </th>
       <th>
        <strong>
         开发者
        </strong>
       </th>
       <th>
        <strong>
         主要用途
        </strong>
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <strong>
         qmake
        </strong>
       </td>
       <td>
        Qt 官方早期构建工具，专为 Qt 项目优化
       </td>
       <td>
        Qt 团队
       </td>
       <td>
        生成平台相关的 Makefile 或项目文件
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         CMake
        </strong>
       </td>
       <td>
        跨平台构建系统生成器，支持多种编译器和项目类型（不限于 Qt）
       </td>
       <td>
        Kitware
       </td>
       <td>
        生成平台无关的构建文件（如 Makefile、Visual Studio 项目）
       </td>
      </tr>
     </tbody>
    </table>
    <table>
     <thead>
      <tr>
       <th>
        <strong>
         工具
        </strong>
       </th>
       <th>
        <strong>
         优点
        </strong>
       </th>
       <th>
        <strong>
         缺点
        </strong>
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <strong>
         qmake
        </strong>
       </td>
       <td>
        - 简单易学
        <br/>
        - 与 Qt 深度集成
        <br/>
        - 快速配置小型项目
       </td>
       <td>
        - 功能有限
        <br/>
        - 跨平台支持较弱
        <br/>
        - 已过时
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         CMake
        </strong>
       </td>
       <td>
        - 跨平台工业标准
        <br/>
        - 强大的扩展性
        <br/>
        - 活跃的社区支持
       </td>
       <td>
        - 学习曲线陡峭
        <br/>
        - 配置复杂度较高
       </td>
      </tr>
     </tbody>
    </table>
    <blockquote>
     <p>
      项目从
      <strong>
       qmake
      </strong>
      迁移到
      <strong>
       CMake
      </strong>
      时，除了
      <code>
       .pro
      </code>
      和
      <code>
       CMakeLists.txt
      </code>
      文件的差异，项目中的
      <strong>
       代码本身通常不需要修改
      </strong>
      ，但某些与构建系统相关的代码或配置可能需要调整 。
     </p>
    </blockquote>
    <p>
     <strong>
      qmake 项目文件（.pro）
     </strong>
     ：
    </p>
    <pre><code class="language-cpp"># 指定 Qt 模块
QT += core gui widgets

# 项目名称
TARGET = MyApp

# 源文件
SOURCES += main.cpp \
           mainwindow.cpp

# 头文件
HEADERS += mainwindow.h

# 资源文件
RESOURCES += icons.qrc

# 条件编译（平台相关）
win32 {
    LIBS += -luser32
} else {
    LIBS += -lpthread
}</code></pre>
    <p>
     <strong>
      等效的 CMakeLists.txt
     </strong>
     ：
    </p>
    <pre><code class="language-cpp"># 指定 CMake 最低版本
cmake_minimum_required(VERSION 3.16)

# 定义项目名称和语言
project(MyApp LANGUAGES CXX)

# 查找 Qt 模块
find_package(Qt6 COMPONENTS Core Gui Widgets REQUIRED)

# 添加可执行文件
add_executable(MyApp
    main.cpp
    mainwindow.cpp
    mainwindow.h
)

# 处理 Qt 资源文件
qt_add_resources(MyApp "resources"
    PREFIX "/"
    FILES icons.qrc
)

# 链接 Qt 库
target_link_libraries(MyApp PRIVATE
    Qt6::Core
    Qt6::Gui
    Qt6::Widgets
)

# 平台特定配置
if(WIN32)
    target_compile_definitions(MyApp PRIVATE WINDOWS)
elseif(UNIX)
    target_compile_definitions(MyApp PRIVATE LINUX)
endif()</code></pre>
    <h2>
     3. 选择类
    </h2>
    <blockquote>
     <p>
      QMainWindow是主窗口类，通常用于应用程序的主界面，包含菜单栏、工具栏、状态栏等。QWidget是所有用户界面对象的基类，可以作为其他窗口或控件的容器。
     </p>
     <p>
      QDialog是对话框类，用于短期交互，比如打开文件或设置选项。
     </p>
     <p>
     </p>
     <p>
      三个类的继承关系。
     </p>
     <p>
      QMainWindow和QDialog都是QWidget的子类，但各自有不同的扩展功能。
     </p>
     <p>
      QMainWindow提供了标准的应用程序框架，
     </p>
     <p>
      而QDialog则专注于对话框的特定行为，比如模态和非模态。
     </p>
     <p>
     </p>
     <p>
      QWidget适合作为自定义控件或简单窗口，而QMainWindow适合复杂的主界面。
     </p>
    </blockquote>
    <table>
     <thead>
      <tr>
       <th>
        <strong>
         特性
        </strong>
       </th>
       <th>
        <strong>
         QWidget
        </strong>
       </th>
       <th>
        <strong>
         QMainWindow
        </strong>
       </th>
       <th>
        <strong>
         QDialog
        </strong>
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <strong>
         继承关系
        </strong>
       </td>
       <td>
        所有控件的基类
       </td>
       <td>
        继承自
        <strong>
         <code>
          QWidget
         </code>
        </strong>
       </td>
       <td>
        继承自
        <strong>
         <code>
          QWidget
         </code>
        </strong>
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         预设组件
        </strong>
       </td>
       <td>
        无
       </td>
       <td>
        菜单栏、工具栏、状态栏
       </td>
       <td>
        对话框按钮布局
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         窗口修饰
        </strong>
       </td>
       <td>
        可选标题栏
       </td>
       <td>
        完整标题栏（最大化/最小化）
       </td>
       <td>
        简化标题栏（无最大化）
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         典型用途
        </strong>
       </td>
       <td>
        简单窗口或子控件
       </td>
       <td>
        应用程序主界面
       </td>
       <td>
        弹窗、配置窗口
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         模态支持
        </strong>
       </td>
       <td>
        需手动实现
       </td>
       <td>
        无内置支持
       </td>
       <td>
        支持模态（
        <code>
         exec()
        </code>
        ）
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         返回值机制
        </strong>
       </td>
       <td>
        无
       </td>
       <td>
        无
       </td>
       <td>
        可返回
        <strong>
         <code>
          Accepted/Rejected
         </code>
        </strong>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
      1. 主界面开发
     </strong>
     →
     <strong>
      QMainWindow
     </strong>
    </p>
    <ul>
     <li>
      <p>
       需要菜单栏、工具栏或停靠窗口的复杂应用。
      </p>
     </li>
    </ul>
    <p>
     <strong>
      2. 短期交互弹窗
     </strong>
     →
     <strong>
      QDialog
     </strong>
    </p>
    <ul>
     <li>
      <p>
       如文件选择、设置选项、消息提示。
      </p>
     </li>
    </ul>
    <p>
     <strong>
      3. 自定义控件或简单窗口
     </strong>
     →
     <strong>
      QWidget
     </strong>
    </p>
    <ul>
     <li>
      <p>
       作为子控件容器，或不需要复杂框架的独立窗口。
      </p>
     </li>
    </ul>
    <h2>
     4. 构建套件
    </h2>
    <p>
     MSVC是微软的Visual C++编译器，主要用于Windows平台，和Visual Studio集成。而MinGW是Minimalist GNU for Windows的缩写，提供了GNU工具链在Windows上的移植，可以生成原生Windows应用，但使用的是GNU的工具链。
    </p>
    <p>
     MSVC通常需要安装Visual Studio，而MinGW可能更轻量。MSVC是商业使用可能需要授权，而MinGW是开源的。
    </p>
    <table>
     <thead>
      <tr>
       <th>
        <strong>
         特性
        </strong>
       </th>
       <th>
        <strong>
         MSVC
        </strong>
        （Microsoft Visual C++）
       </th>
       <th>
        <strong>
         MinGW
        </strong>
        （GNU for Windows）
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <strong>
         开发者
        </strong>
       </td>
       <td>
        微软（Microsoft）
       </td>
       <td>
        GNU 社区 + MinGW 项目
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         编译器基础
        </strong>
       </td>
       <td>
        微软的闭源编译器（集成于 Visual Studio）
       </td>
       <td>
        GNU GCC 的 Windows 移植版（开源）
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         兼容性
        </strong>
       </td>
       <td>
        仅 Windows
       </td>
       <td>
        跨平台支持（通过 GCC）
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         运行时库依赖
        </strong>
       </td>
       <td>
        依赖
        <strong>
         MSVCRT
        </strong>
        （需安装 VC++ Redistributable）
       </td>
       <td>
        依赖
        <strong>
         MinGW 运行时库
        </strong>
        （静态或动态链接）
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         调试工具
        </strong>
       </td>
       <td>
        深度集成 Visual Studio 调试器
       </td>
       <td>
        支持 GDB（需手动配置）
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         C++ 标准支持
        </strong>
       </td>
       <td>
        紧跟最新标准（如 C++20），更新快
       </td>
       <td>
        更新较慢（依赖 GCC 版本）
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         性能优化
        </strong>
       </td>
       <td>
        针对 Windows 高度优化，生成代码效率高
       </td>
       <td>
        通用优化，可能略逊于 MSVC
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         授权协议
        </strong>
       </td>
       <td>
        闭源（需 Visual Studio 授权，社区版免费）
       </td>
       <td>
        开源（GPL/LGPL）
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         Qt 官方支持
        </strong>
       </td>
       <td>
        优先支持，预编译包完善
       </td>
       <td>
        支持，但部分模块可能需自行编译
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         部署便捷性
        </strong>
       </td>
       <td>
        需分发 VC++ 运行时库（或静态链接）
       </td>
       <td>
        可静态编译，减少依赖
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     <strong>
      1. 推荐使用 MSVC 的情况
     </strong>
    </p>
    <ul>
     <li>
      <p>
       <strong>
        开发 Windows 专用应用
       </strong>
       ：需要深度集成 Windows API（如 DirectX、COM 组件）。
      </p>
     </li>
     <li>
      <p>
       <strong>
        依赖 Visual Studio 生态
       </strong>
       ：使用 Visual Studio 的调试器、性能分析工具。
      </p>
     </li>
     <li>
      <p>
       <strong>
        企业级开发
       </strong>
       ：需要官方支持、长期维护的编译器。
      </p>
     </li>
     <li>
      <p>
       <strong>
        追求性能
       </strong>
       ：MSVC 生成的代码在 Windows 上通常更高效。
      </p>
     </li>
    </ul>
    <p>
     <strong>
      2. 推荐使用 MinGW 的情况
     </strong>
    </p>
    <ul>
     <li>
      <p>
       <strong>
        跨平台开发
       </strong>
       ：希望代码在 Linux/macOS 和 Windows 间无缝移植（使用同一工具链）。
      </p>
     </li>
     <li>
      <p>
       <strong>
        开源项目
       </strong>
       ：需遵守 GPL 协议，避免闭源依赖。
      </p>
     </li>
     <li>
      <p>
       <strong>
        轻量化部署
       </strong>
       ：通过静态链接减少运行时依赖（无需安装 VC++ Redistributable）。
      </p>
     </li>
     <li>
      <p>
       <strong>
        资源受限环境
       </strong>
       ：无需安装庞大的 Visual Studio，只需 MinGW 工具链。
      </p>
     </li>
    </ul>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f35393537323332392f:61727469636c652f64657461696c732f313436313935303038" class_="artid" style="display:none">
 </p>
</div>


