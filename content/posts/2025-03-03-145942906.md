---
layout: post
title: "简易的微信聊天网页版项目测试报告"
date: 2025-03-03 08:04:04 +0800
description: "简易的微信聊天网页版【项目测试报告】"
keywords: "简易的微信聊天网页版【项目测试报告】"
categories: ['测试开发']
tags: ['微信']
artid: "145942906"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=145942906
    alt: "简易的微信聊天网页版项目测试报告"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=145942906
featuredImagePreview: https://bing.ee123.net/img/rand?artid=145942906
cover: https://bing.ee123.net/img/rand?artid=145942906
image: https://bing.ee123.net/img/rand?artid=145942906
img: https://bing.ee123.net/img/rand?artid=145942906
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     简易的微信聊天网页版【项目测试报告】
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-kimbie-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/direct/1f54f7d8fbc641f793001f2892293a54.png#pic_center"/>
    </p>
    <p>
    </p>
    <p>
    </p>
    <hr/>
    <h2>
     <a id="_10">
     </a>
     一、项目背景
    </h2>
    <p>
     <strong>
      本系统采用前后端分离架构实现，结合数据库进行聊天记录存储，并部署于云服务器。
      <br/>
      前端包含三大核心页面：登录验证页、好友会话列表页、通讯录好友页，构建了基础的即时通讯体验。
      <br/>
      系统主要实现以下功能模块：个人好友列表、好友消息实时收发、聊天记录查询等功能。
     </strong>
    </p>
    <p>
     <strong>
      当前版本存在以下待优化点：
     </strong>
    </p>
    <blockquote>
     <ul>
      <li>
       <strong>
        1. 用户体系仅支持预设账号登录（需提前录入数据库校验），未开放自主注册通道；
       </strong>
      </li>
      <li>
       <strong>
        2. 好友关系采用静态数据模拟，暂未实现动态添加/删除功能；
       </strong>
      </li>
      <li>
       <strong>
        3. 消息状态提示（如已读/送达）功能尚未完整实现。
       </strong>
      </li>
     </ul>
    </blockquote>
    <p>
     <strong>
      该即时通讯系统可实现基本的文字消息交互，支持查看历史聊天记录（按时间倒序展示），虽然功能相对基础，
      <br/>
      但已构建起网页端即时通讯的核心框架，满足用户基本的文字聊天需求。
     </strong>
    </p>
    <h2>
     <a id="_29">
     </a>
     二、项目简介
    </h2>
    <p>
     <strong>
      本系统主要实现以下核心功能：
     </strong>
    </p>
    <blockquote>
     <ul>
      <li>
       <strong>
        用户登录、
       </strong>
      </li>
      <li>
       <strong>
        好友消息实时收发、
       </strong>
      </li>
      <li>
       <strong>
        聊天记录查询。
       </strong>
      </li>
     </ul>
    </blockquote>
    <h3>
     <a id="_38">
     </a>
     登录功能
    </h3>
    <blockquote>
     <p>
      <strong>
       用户需通过预设账号登录(账号信息已固化至数据库，暂不开放自主注册)；
      </strong>
     </p>
     <ul>
      <li>
       <strong>
        登录成功需点击警告窗口中确认按钮，然后跳转至好友会话列表页;
       </strong>
      </li>
      <li>
       <strong>
        登录异常状态下，警告窗口提示登录失败！
       </strong>
      </li>
     </ul>
    </blockquote>
    <h3>
     <a id="_46">
     </a>
     好友列表页面
    </h3>
    <blockquote>
     <p>
      <strong>
       纵向排列好友列表，展示好友昵称，点击对应的好友跳转到对应的会话窗口。
      </strong>
     </p>
    </blockquote>
    <h3>
     <a id="_52">
     </a>
     好友会话页面
    </h3>
    <blockquote>
     <p>
      <strong>
       顶部状态栏显示当前对话好友昵称；
       <br/>
       消息气泡左右分流（右侧绿色为发送方，左侧白色为接收方）；
       <br/>
       自动加载最近历史记录（按时间倒序排列）；
       <br/>
       文本输入框支持即时内容发送（点击发送按钮）
      </strong>
     </p>
    </blockquote>
    <h2>
     <a id="_59">
     </a>
     三、测试工具和环境
    </h2>
    <p>
     <strong>
      处理器
      <code>
       11th Gen Intel(R) Core(TM) i5-1155G7
      </code>
      <code>
       @ 2.50GHz 2.50 GHz
      </code>
      <br/>
      机带 RAM： 16.0 GB (15.8 GB 可用)
      <br/>
      系统类型： 64 位操作系统, 基于 x64 的处理器
      <br/>
      版本： Windows 11 家庭中文版
      <br/>
      操作系统版本： 26100.3194
     </strong>
    </p>
    <p>
     <strong>
      Chrome浏览器版本 ：133.0.6943.142（正式版本） （64 位）
      <br/>
      自动化脚本运行环境：
      <code>
       PyCharm 2024.2.1
      </code>
     </strong>
    </p>
    <h2>
     <a id="_70">
     </a>
     四、测试计划
    </h2>
    <h3>
     <a id="_72">
     </a>
     测试用例
    </h3>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/direct/8dd6a5f00a1341b4a47a9a5ebc53d056.png#pic_center"/>
    </p>
    <h3>
     <a id="_78">
     </a>
     部分人工手动测试截图
    </h3>
    <blockquote>
     <p>
      <strong>
       正常登录：输入预设账号和密码
      </strong>
     </p>
    </blockquote>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/direct/2457e987f7b1475383ed26bd6f2b00f7.png#pic_center"/>
    </p>
    <hr/>
    <blockquote>
     <p>
      <strong>
       异常登录：输入未预设账号和密码
      </strong>
     </p>
    </blockquote>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/direct/c62f190540fb49a0ba164bcafadab0b1.png#pic_center"/>
    </p>
    <hr/>
    <blockquote>
     <p>
      <strong>
       正常登录后跳转的页面
      </strong>
     </p>
    </blockquote>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/direct/8e14103340cb4d858441c2da370b5c62.png#pic_center"/>
    </p>
    <hr/>
    <blockquote>
     <p>
      <strong>
       正常登录后好友列表页
      </strong>
     </p>
    </blockquote>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/direct/976aaef9d16f4e7d991c77abcdc83c41.png#pic_center"/>
    </p>
    <h3>
     <a id="web_112">
     </a>
     web自动化测试
    </h3>
    <h4>
     <a id="_113">
     </a>
     测试用例
    </h4>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/direct/9701d4efefd843e5abd7f103fea0cc43.png#pic_center"/>
    </p>
    <h4>
     <a id="_115">
     </a>
     代码框架
    </h4>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/be939978c76a4a129501f56ccb4203c0.png#pic_center"/>
    </p>
    <h4>
     <a id="Utilspy_119">
     </a>
     配置内容代码文件（Utils.py）
    </h4>
    <pre><code class="prism language-python"><span class="token comment"># 导入所需的模块</span>
<span class="token keyword">import</span> datetime  <span class="token comment"># 用于处理日期和时间</span>
<span class="token keyword">import</span> os  <span class="token comment"># 用于文件和目录操作</span>
<span class="token keyword">import</span> sys  <span class="token comment"># 用于获取调用栈信息</span>

<span class="token comment"># 导入Selenium相关模块</span>
<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver  <span class="token comment"># Selenium核心模块</span>
<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>chrome<span class="token punctuation">.</span>service <span class="token keyword">import</span> Service  <span class="token comment"># Chrome浏览器服务</span>
<span class="token keyword">from</span> webdriver_manager<span class="token punctuation">.</span>chrome <span class="token keyword">import</span> ChromeDriverManager  <span class="token comment"># 自动管理ChromeDriver</span>

<span class="token comment"># 创建浏览器驱动类</span>
<span class="token keyword">class</span> <span class="token class-name">Driver</span><span class="token punctuation">:</span>
    driver <span class="token operator">=</span> <span class="token string">""</span>  <span class="token comment"># 类属性，用于保存浏览器驱动实例</span>
    
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""初始化浏览器驱动配置"""</span>
        <span class="token comment"># 创建Chrome浏览器选项对象（可用于添加扩展、无头模式等配置）</span>
        options <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>ChromeOptions<span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token comment"># 指定ChromeDriver的路径</span>
        driver_path <span class="token operator">=</span> <span class="token string">"D:/Downloads/chromedriver-win64/chromedriver-win64/chromedriver.exe"</span>
        
        <span class="token comment"># 创建Chrome浏览器驱动实例</span>
        self<span class="token punctuation">.</span>driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span>
            executable_path<span class="token operator">=</span>driver_path<span class="token punctuation">,</span>  <span class="token comment"># 指定驱动路径</span>
            options<span class="token operator">=</span>options  <span class="token comment"># 传入浏览器选项</span>
        <span class="token punctuation">)</span>
        
        <span class="token comment"># 设置隐式等待（作用于整个浏览器生命周期，查找元素时的默认等待时间）</span>
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>implicitly_wait<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># 单位：秒</span>

    <span class="token keyword">def</span> <span class="token function">getScreeShot</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""屏幕截图方法"""</span>
        <span class="token comment"># 生成日期格式的目录名（示例：2023-08-01）</span>
        dirname <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">"%Y-%m-%d"</span><span class="token punctuation">)</span>
        
        <span class="token comment"># 拼接截图保存路径（上级目录的images文件夹下）</span>
        screenshot_dir <span class="token operator">=</span> <span class="token string">"../images/"</span> <span class="token operator">+</span> dirname
        
        <span class="token comment"># 如果目录不存在则创建</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>screenshot_dir<span class="token punctuation">)</span><span class="token punctuation">:</span>
            os<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span>screenshot_dir<span class="token punctuation">)</span>
            
        <span class="token comment"># 生成文件名格式：</span>
        <span class="token comment"># 调用当前方法的上层方法名 + 时间戳 + 后缀（示例：test_login_2023-08-01-143045.png）</span>
        filename <span class="token operator">=</span> <span class="token punctuation">(</span>
            sys<span class="token punctuation">.</span>_getframe<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>f_back<span class="token punctuation">.</span>f_code<span class="token punctuation">.</span>co_name  <span class="token comment"># 获取调用该方法的函数名</span>
            <span class="token operator">+</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">"%Y-%m-%d-%H%M%S"</span><span class="token punctuation">)</span>
            <span class="token operator">+</span> <span class="token string">".png"</span>
        <span class="token punctuation">)</span>
        
        <span class="token comment"># 保存截图到指定路径</span>
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>save_screenshot<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>screenshot_dir<span class="token punctuation">,</span> filename<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 创建全局浏览器驱动实例（可被其他模块导入使用）</span>
WeChatDriver <span class="token operator">=</span> Driver<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <h4>
     <a id="WeChatLoginpy_181">
     </a>
     登录页面代码文件（WeChatLogin.py）
    </h4>
    <pre><code class="prism language-python"><span class="token comment"># 测试微信登录界面</span>

<span class="token comment"># 从selenium库中导入By类，用于定位网页元素</span>
<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By
<span class="token comment"># 从selenium库中导入expected_conditions模块，用于设置显示等待的条件</span>
<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>support <span class="token keyword">import</span> expected_conditions <span class="token keyword">as</span> EC
<span class="token comment"># 从selenium库中导入WebDriverWait类，用于实现显示等待</span>
<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>support<span class="token punctuation">.</span>wait <span class="token keyword">import</span> WebDriverWait

<span class="token comment"># 从自定义的common.Utils模块中导入WeChatDriver类，用于创建和管理浏览器驱动</span>
<span class="token keyword">from</span> common<span class="token punctuation">.</span>Utils <span class="token keyword">import</span> WeChatDriver


<span class="token keyword">class</span> <span class="token class-name">WeChatLogin</span><span class="token punctuation">:</span>
    <span class="token comment"># 初始化类属性，用于存储登录页面的URL和浏览器驱动对象</span>
    url <span class="token operator">=</span> <span class="token string">""</span>
    driver <span class="token operator">=</span> <span class="token string">""</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 给登录页面的 URL 赋值，这里是本地的登录页面地址</span>
        self<span class="token punctuation">.</span>url <span class="token operator">=</span> <span class="token string">"http://127.0.0.1:8080/login.html"</span>
        <span class="token comment"># 获取 WeChatDriver 类中的 driver 对象，用于操作浏览器</span>
        self<span class="token punctuation">.</span>driver <span class="token operator">=</span> WeChatDriver<span class="token punctuation">.</span>driver
        <span class="token comment"># 打开指定的登录页面</span>
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span>self<span class="token punctuation">.</span>url<span class="token punctuation">)</span>

    <span class="token comment"># 成功登陆的测试用例</span>
    <span class="token keyword">def</span> <span class="token function">LoginSucTest</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 若连续多次的send_keys则会出现关键词拼接，而不是替换。若要替换需要先clear</span>
        <span class="token comment"># 找到用户名输入框元素，并清空其中的内容</span>
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>CSS_SELECTOR<span class="token punctuation">,</span> <span class="token string">"#username"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 找到密码输入框元素，并清空其中的内容</span>
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>CSS_SELECTOR<span class="token punctuation">,</span> <span class="token string">"#password"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 向用户名输入框中输入正确的用户名 "zhangsan"</span>
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>CSS_SELECTOR<span class="token punctuation">,</span> <span class="token string">"#username"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">"zhangsan"</span><span class="token punctuation">)</span>
        <span class="token comment"># 向密码输入框中输入正确的密码 "123"</span>
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>CSS_SELECTOR<span class="token punctuation">,</span> <span class="token string">"#password"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span>
        <span class="token comment"># 找到登录按钮元素，并点击该按钮进行登录操作</span>
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>CSS_SELECTOR<span class="token punctuation">,</span> <span class="token string">"#submit"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 添加显示等待</span>
        <span class="token comment"># 创建一个 WebDriverWait 对象，设置最大等待时间为 2 秒</span>
        wait <span class="token operator">=</span> WebDriverWait<span class="token punctuation">(</span>self<span class="token punctuation">.</span>driver<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token comment"># 等待直到页面上出现弹窗</span>
        wait<span class="token punctuation">.</span>until<span class="token punctuation">(</span>EC<span class="token punctuation">.</span>alert_is_present<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># 切换到当前页面的弹窗</span>
        alert <span class="token operator">=</span> self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>switch_to<span class="token punctuation">.</span>alert
        <span class="token comment"># 点击弹窗的确认按钮</span>
        alert<span class="token punctuation">.</span>accept<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 查找登录成功页面的元素：昵称：body &gt; div.client-container &gt; div &gt; div.left &gt; div.user</span>
        <span class="token comment"># 查找登录成功页面中显示用户昵称的元素，若找到则说明登录成功</span>
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>CSS_SELECTOR<span class="token punctuation">,</span> <span class="token string">"body &gt; div.client-container &gt; div &gt; div.left &gt; div.user"</span><span class="token punctuation">)</span>

        <span class="token comment"># 添加屏幕截图</span>
        <span class="token comment"># 调用 WeChatDriver 类的 getScreeShot 方法，对当前页面进行截图</span>
        WeChatDriver<span class="token punctuation">.</span>getScreeShot<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 异常登陆的测试用例</span>
    <span class="token keyword">def</span> <span class="token function">LoginFailTest</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 若连续多次的send_keys则会出现关键词拼接，而不是替换。若要替换需要先clear</span>
        <span class="token comment"># 找到用户名输入框元素，并清空其中的内容</span>
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>CSS_SELECTOR<span class="token punctuation">,</span> <span class="token string">"#username"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 找到密码输入框元素，并清空其中的内容</span>
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>CSS_SELECTOR<span class="token punctuation">,</span> <span class="token string">"#password"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 错误的用户名</span>
        <span class="token comment"># 向用户名输入框中输入错误的用户名 "admin"</span>
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>CSS_SELECTOR<span class="token punctuation">,</span> <span class="token string">"#username"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">"admin"</span><span class="token punctuation">)</span>
        <span class="token comment"># 向密码输入框中输入密码 "123"</span>
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>CSS_SELECTOR<span class="token punctuation">,</span> <span class="token string">"#password"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span>

        <span class="token comment"># 找到登录按钮元素，并点击该按钮进行登录操作</span>
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>CSS_SELECTOR<span class="token punctuation">,</span> <span class="token string">"#submit"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 检查是否登录失败:看是否出现弹窗</span>
        <span class="token comment"># 添加显示等待</span>
        <span class="token comment"># 创建一个WebDriverWait 对象，设置最大等待时间为 13 秒</span>
        wait <span class="token operator">=</span> WebDriverWait<span class="token punctuation">(</span>self<span class="token punctuation">.</span>driver<span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span>
        <span class="token comment"># 等待直到页面上出现弹窗</span>
        wait<span class="token punctuation">.</span>until<span class="token punctuation">(</span>EC<span class="token punctuation">.</span>alert_is_present<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># 切换到当前页面的弹窗</span>
        alert <span class="token operator">=</span> self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>switch_to<span class="token punctuation">.</span>alert
        <span class="token comment"># 点击弹窗的确认按钮</span>
        alert<span class="token punctuation">.</span>accept<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 添加屏幕截图</span>
        <span class="token comment"># 调用WeChatDriver类的getScreeShot方法，对当前页面进行截图</span>
        WeChatDriver<span class="token punctuation">.</span>getScreeShot<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <h4>
     <a id="WeChatPeopleDetailpy_275">
     </a>
     好友列表测试用例代码文件（WeChatPeopleDetail.py）
    </h4>
    <pre><code class="prism language-python"><span class="token comment"># 导入所需模块</span>
<span class="token keyword">import</span> time  <span class="token comment"># 时间相关操作</span>
<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By  <span class="token comment"># Selenium 定位策略</span>
<span class="token keyword">from</span> common<span class="token punctuation">.</span>Utils <span class="token keyword">import</span> WeChatDriver  <span class="token comment"># 自定义的微信驱动工具类</span>

<span class="token comment"># 微信联系人详情页测试类</span>
<span class="token keyword">class</span> <span class="token class-name">WeChatPeopleDetail</span><span class="token punctuation">:</span>
    url <span class="token operator">=</span> <span class="token string">""</span>  <span class="token comment"># 页面 URL（已通过__init__初始化）</span>
    driver <span class="token operator">=</span> <span class="token string">""</span>  <span class="token comment"># 浏览器驱动实例</span>
    
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""初始化方法，配置测试环境"""</span>
        self<span class="token punctuation">.</span>url <span class="token operator">=</span> <span class="token string">"http://127.0.0.1:8080/client.html"</span>  <span class="token comment"># 测试页面地址</span>
        self<span class="token punctuation">.</span>driver <span class="token operator">=</span> WeChatDriver<span class="token punctuation">.</span>driver  <span class="token comment"># 获取全局浏览器驱动实例</span>
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span>self<span class="token punctuation">.</span>url<span class="token punctuation">)</span>  <span class="token comment"># 打开测试页面</span>

    <span class="token keyword">def</span> <span class="token function">PeopleDetailTestByLogin</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""登录状态下的详情页测试"""</span>
        
        <span class="token comment"># 验证联系人图标存在性（如果元素未找到会抛出NoSuchElementException）</span>
        <span class="token comment"># 使用 CSS 选择器定位元素</span>
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>
            By<span class="token punctuation">.</span>CSS_SELECTOR<span class="token punctuation">,</span>
            <span class="token string">"body &gt; div.client-container &gt; div &gt; div.left &gt; div.tab &gt; div.tab-friend"</span>
        <span class="token punctuation">)</span>

        <span class="token comment"># 添加等待</span>
        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  

        <span class="token comment"># 调用截图方法</span>
        WeChatDriver<span class="token punctuation">.</span>getScreeShot<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 保存当前页面截图</span>
</code></pre>
    <h4>
     <a id="WeChatFormationDetailpy_311">
     </a>
     好友会话测试用例代码文件（WeChatFormationDetail.py）
    </h4>
    <pre><code class="prism language-python"><span class="token comment"># 导入所需模块</span>
<span class="token keyword">import</span> time  <span class="token comment"># 时间相关操作</span>
<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By  <span class="token comment"># Selenium元素定位策略</span>
<span class="token keyword">from</span> common<span class="token punctuation">.</span>Utils <span class="token keyword">import</span> WeChatDriver  <span class="token comment"># 自定义的微信驱动工具类</span>

<span class="token comment"># 微信消息列表页测试类</span>
<span class="token keyword">class</span> <span class="token class-name">WeChatFormationDetail</span><span class="token punctuation">:</span>
    url <span class="token operator">=</span> <span class="token string">""</span>  <span class="token comment"># 页面 URL（已通过__init__初始化）</span>
    driver <span class="token operator">=</span> <span class="token string">""</span>  <span class="token comment"># 浏览器驱动实例</span>
    
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""初始化方法，配置测试环境"""</span>
        self<span class="token punctuation">.</span>url <span class="token operator">=</span> <span class="token string">"http://127.0.0.1:8080/client.html"</span>  <span class="token comment"># 测试页面地址</span>
        self<span class="token punctuation">.</span>driver <span class="token operator">=</span> WeChatDriver<span class="token punctuation">.</span>driver  <span class="token comment"># 获取全局浏览器驱动实例</span>
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span>self<span class="token punctuation">.</span>url<span class="token punctuation">)</span>  <span class="token comment"># 打开测试页面</span>

    <span class="token keyword">def</span> <span class="token function">FormationDetailTestByLogin</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""登录状态下消息详情页测试"""</span>
        
        <span class="token comment"># 验证消息图标存在性</span>
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>
            By<span class="token punctuation">.</span>CSS_SELECTOR<span class="token punctuation">,</span>
            <span class="token string">"body &gt; div.client-container &gt; div &gt; div.left &gt; div.tab &gt; div.tab-session"</span>
        <span class="token punctuation">)</span>

        <span class="token comment"># 添加等待</span>
        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> 
        
        <span class="token comment"># 调用截图方法</span>
        WeChatDriver<span class="token punctuation">.</span>getScreeShot<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 保存当前页面状态</span>
</code></pre>
    <h4>
     <a id="RunTestpy_346">
     </a>
     测试项目代码文件（RunTest.py）
    </h4>
    <pre><code class="prism language-python"><span class="token comment"># 导入测试模块和工具类</span>
<span class="token keyword">from</span> tests <span class="token keyword">import</span> WeChatLogin  <span class="token comment"># 微信登录测试类</span>
<span class="token keyword">from</span> tests <span class="token keyword">import</span> WeChatPeopleDetail  <span class="token comment"># 联系人详情测试类</span>
<span class="token keyword">from</span> tests <span class="token keyword">import</span> WeChatFormationDetail  <span class="token comment"># 消息列表测试类</span>
<span class="token keyword">from</span> common<span class="token punctuation">.</span>Utils <span class="token keyword">import</span> WeChatDriver  <span class="token comment"># 浏览器驱动工具类</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    <span class="token comment"># 执行登录失败测试用例</span>
    WeChatLogin<span class="token punctuation">.</span>WeChatLogin<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>LoginFailTest<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 执行登录成功测试用例</span>
    WeChatLogin<span class="token punctuation">.</span>WeChatLogin<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>LoginSucTest<span class="token punctuation">(</span><span class="token punctuation">)</span>
 	
 	<span class="token comment"># 消息列表页面测试</span>
    WeChatFormationDetail<span class="token punctuation">.</span>WeChatFormationDetail<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>FormationDetailTestByLogin<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 联系人列表页面测试</span>
    WeChatPeopleDetail<span class="token punctuation">.</span>WeChatPeopleDetail<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>PeopleDetailTestByLogin<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 退出浏览器</span>
    WeChatDriver<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <h2>
     <a id="_372">
     </a>
     五、总结
    </h2>
    <p>
     <strong>
      在实际测试中，遇到以下几个问题：
     </strong>
    </p>
    <blockquote>
     <ul>
      <li>
       <strong>
        （1）遇到页面元素查找的情况，原因是网络渲染过慢造成的；
       </strong>
      </li>
      <li>
       <strong>
        （2）浏览器驱动管理工具
        <code>
         webdriver-manager
        </code>
        由于网络环境的问题，不能自动下载对应的浏览器驱动，需自己先下载好，再去指定浏览器驱动安装的路径；
       </strong>
      </li>
      <li>
       <strong>
        （3）有时候出现卡顿，需重新打开编写的自动化脚本软件。
       </strong>
      </li>
     </ul>
    </blockquote>
    <p>
     <strong>
      当前系统核心功能基本可用，满足基础聊天需求，但存在以下待改进项：
     </strong>
    </p>
    <blockquote>
     <ul>
      <li>
       <p>
        <strong>
         页面元素定位稳定性需优化
        </strong>
       </p>
      </li>
      <li>
       <p>
        <strong>
         增加浏览器兼容性验证
        </strong>
       </p>
      </li>
      <li>
       <p>
        <strong>
         补充性能测试场景
        </strong>
       </p>
      </li>
     </ul>
    </blockquote>
    <hr/>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330315f38303636373732382f:61727469636c652f64657461696c732f313435393432393036" class_="artid" style="display:none">
 </p>
</div>


