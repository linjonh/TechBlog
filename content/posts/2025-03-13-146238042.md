---
layout: post
title: "探索移动端开发新可能-Android-Termux环境下部署MariaDB数据库"
date: 2025-03-13 17:36:50 +0800
description: "在这个数字时代，我们的智能手机早已突破了通话、发短信和刷社交媒体的界限。你知道吗？现在的智能机性能强大到足以支持我们进行编程开发、运行复杂脚本甚至构建个人小服务器！想象一下吧，在你随身携带的Android设备上安装一个强大的数据库系统，并且能够随时随地通过互联网访问——这听起来是不是特别带劲呢？今天，我们就来解锁这项黑科技，教你如何将手中的手机变成一台功能齐全的Linux服务器。准备好迎接挑战了吗？让我们一起使用Termux安装配置MariaDB，并借助Cpolar实现远程访问吧！"
keywords: "探索移动端开发新可能： Android Termux环境下部署MariaDB数据库"
categories: ['商业合作', 'Cpolar']
tags: ['数据库', 'Mariadb', 'Android']
artid: "146238042"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146238042
    alt: "探索移动端开发新可能-Android-Termux环境下部署MariaDB数据库"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146238042
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146238042
cover: https://bing.ee123.net/img/rand?artid=146238042
image: https://bing.ee123.net/img/rand?artid=146238042
img: https://bing.ee123.net/img/rand?artid=146238042
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     探索移动端开发新可能： Android Termux环境下部署MariaDB数据库
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <p>
    </p>
    <h3>
     <a id="_2">
     </a>
     前言
    </h3>
    <p>
     在这个数字时代，我们的智能手机早已突破了通话、发短信和刷社交媒体的界限。你知道吗？现在的智能机性能强大到足以支持我们进行编程开发、运行复杂脚本甚至构建个人小服务器！想象一下吧，在你随身携带的Android设备上安装一个强大的数据库系统，并且能够随时随地通过互联网访问——这听起来是不是特别带劲呢？今天，我们就来解锁这项黑科技，教你如何将手中的手机变成一台功能齐全的Linux服务器。准备好迎接挑战了吗？让我们一起使用Termux安装配置MariaDB，并借助Cpolar实现远程访问吧！
    </p>
    <h3>
     <a id="1_MariaDB_6">
     </a>
     1. 安装MariaDB
    </h3>
    <p>
     Termux 官方也封装了 MariaDB，所以安装起来很方便：
    </p>
    <pre><code class="prism language-shell">pkg <span class="token function">install</span> mariadb
</code></pre>
    <p>
     验证是否安装成功,查看一下版本信息
    </p>
    <pre><code class="prism language-shell">mysql <span class="token parameter variable">--version</span>
</code></pre>
    <p>
     出现版本信息表示安装成功
    </p>
    <p>
     <img alt="image-20230511105447233" src="https://img-blog.csdnimg.cn/img_convert/b1affb84c1d32088aff45cd64b601d85.png"/>
    </p>
    <p>
     启动数据库,使用 Linux 自带的
     <code>
      nohup
     </code>
     命令将其放到后台启动
    </p>
    <pre><code class="prism language-shell"><span class="token function">nohup</span> mysqld <span class="token operator">&amp;</span>
</code></pre>
    <p>
     启动后可以看到进程PID号
    </p>
    <p>
     <img alt="image-20230511111209798" src="https://img-blog.csdnimg.cn/img_convert/936565519cf66246a77efa39cd9284f6.png"/>
    </p>
    <p>
     如果想要关闭
     <code>
      mysql
     </code>
     ,可以执行:
    </p>
    <pre><code class="prism language-shell"><span class="token function">kill</span> <span class="token parameter variable">-9</span> PID
</code></pre>
    <h3>
     <a id="2_cpolar_40">
     </a>
     2. 安装cpolar内网穿透工具
    </h3>
    <p>
     在Android termux上成功安装MySQL数据库后，我们继续在termux上安装cpolar，做内网穿透创建安全隧道将MySQL暴露到公网上，实现在不同网络下也可以远程连接termux上的MySQL数据库。
    </p>
    <p>
     cpolar使用不需要公网IP，也不用设置路由器，亦不需要买云服务器。它支持http/https/tcp协议，可以免费使用也不限制流量。
    </p>
    <blockquote>
     <p>
      <font color="purple">
       cpolar官网
      </font>
      ：
      <a href="https://www.cpolar.com/" rel="nofollow">
       https://www.cpolar.com/
      </a>
     </p>
    </blockquote>
    <p>
     创建一个
     <code>
      sources.list.d
     </code>
     的文件夹:
    </p>
    <pre><code class="prism language-shell"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> <span class="token variable">$PREFIX</span>/etc/apt/sources.list.d
</code></pre>
    <p>
     添加cpolar下载源文件
    </p>
    <pre><code class="prism language-shell"><span class="token builtin class-name">echo</span> <span class="token string">"deb [trusted=yes] http://termux.cpolar.com termux extras"</span> <span class="token operator">&gt;&gt;</span> <span class="token variable">$PREFIX</span>/etc/apt/sources.list.d/cpolar.list
</code></pre>
    <p>
     更新仓库
    </p>
    <pre><code class="prism language-shell">pkg update
</code></pre>
    <p>
     安装cpolar
    </p>
    <pre><code class="prism language-shell">pkg <span class="token function">install</span> cpolar
</code></pre>
    <p>
     安装termux服务,注意:
     <font color="red">
      安装完成后记得关闭重启一下termux 才生效!!
     </font>
    </p>
    <pre><code class="prism language-shell">pkg <span class="token function">install</span> termux-services
</code></pre>
    <p>
     重启完termux后,然后
     <code>
      启动cpolar内网穿透
     </code>
    </p>
    <pre><code class="prism language-shell">sv up cpolar
</code></pre>
    <p>
     <code>
      设置开机自启
     </code>
    </p>
    <pre><code class="prism language-shell">sv-enable cpolar
</code></pre>
    <p>
     另外：
     <font color="purple">
      停止cpolar服务的命令
     </font>
    </p>
    <pre><code class="prism language-shell">sv down cpolar
</code></pre>
    <p>
     以及，
     <font color="purple">
      cpolar.yml主配置文件路径位置
     </font>
    </p>
    <pre><code class="prism language-shell"><span class="token variable">$PREFIX</span>/etc/cpolar/cpolar.yml
</code></pre>
    <p>
     然后在手机浏览器我们输入
     <code>
      http://localhost:9200
     </code>
     ，就可以看到cpolar web UI管理界面,
     <font color="purple">
      使用在cpolar官网注册的邮箱账号即可登陆
     </font>
    </p>
    <p>
     <img alt="image-20230509155942139" src="https://img-blog.csdnimg.cn/img_convert/c54d5183f1f3472465bf4bb41033d204.png"/>
    </p>
    <h3>
     <a id="3_mysql_107">
     </a>
     3. 创建安全隧道映射mysql
    </h3>
    <p>
     登录cpolar web UI管理界面后,我们点击左侧仪表盘的隧道管理——创建隧道,由于mysql连接默认的是3306端口，因此我们要来创建一条tcp隧道，指向3306端口：
    </p>
    <ul>
     <li>
      隧道名称：可自定义，注意不要重复
     </li>
     <li>
      协议：tcp
     </li>
     <li>
      本地地址：3306 (mysql 默认端口)
     </li>
     <li>
      域名类型：选择随机域名
     </li>
     <li>
      地区：选择China VIP
     </li>
    </ul>
    <p>
     点击
     <code>
      创建
     </code>
    </p>
    <p>
     <img alt="image-20230511133502882" src="https://img-blog.csdnimg.cn/img_convert/7d2aae3725d133548a752afbf70d5489.png"/>
    </p>
    <p>
     创建好后打开在线隧道列表，可以查看到所生成的随机公网tcp地址，复制下来，
     <font color="red">
      注意tcp://无需复制
     </font>
    </p>
    <p>
     <img alt="" src="https://img-blog.csdnimg.cn/img_convert/8aa5cae768bb23b82dfbfbb47a625c78.png"/>
    </p>
    <h3>
     <a id="4__125">
     </a>
     4. 公网远程连接
    </h3>
    <p>
     上面我们创建好公网地址后,接下来我们使用工具远程连接测试,本文使用比较火热的一款数据库连接工具软件
     <code>
      navicat
     </code>
     ,打开工具界面,输入上面我们的公网地址和对应的端口,由于创建的时候没有设置密码,所以我们无需填写密码,点击测试连接,连接成功表示正常。
    </p>
    <p>
     同样,其他连接工具也是同样的连接方法。
    </p>
    <p>
     <img alt="image-20230511134615494" src="https://img-blog.csdnimg.cn/img_convert/4930ffb9f00b8e9e01dd8f1a84a896b5.png"/>
    </p>
    <h3>
     <a id="5__133">
     </a>
     5. 固定远程连接地址
    </h3>
    <p>
     由于我们上面创建隧道时，使用的是免费随机临时地址，所生成的公网地址会在24小时内随机变化。如果想要让不同设备间的数据隧道长期稳定存在，我们还需要进一步的设置（由于固定TCP隧道会长期占用cpolar服务器资源，因此不得不将此服务列入VIP项目中）。
    </p>
    <p>
     要建立一条稳定的TCP数据隧道，需要先到cpolar官网后台保留一个固定的TCP地址。
    </p>
    <p>
     <img alt="20230519093033" src="https://img-blog.csdnimg.cn/img_convert/8d7119fe4d1f74acdcab72a961034b82.png"/>
    </p>
    <p>
     我们登录cpolar官网后台，点击左侧仪表盘的预留，找到
     <code>
      保留的TCP地址
     </code>
     ：
    </p>
    <ul>
     <li>
      地区：这里选择China VIP，你也可以选择其他地区
     </li>
     <li>
      描述：可自定义备注
     </li>
    </ul>
    <p>
     点击右侧的
     <code>
      保留
     </code>
    </p>
    <p>
     <img alt="image-20230511153139329" src="https://img-blog.csdnimg.cn/img_convert/2ed1021606d35b3067dbcafc0289ca74.png"/>
    </p>
    <p>
     在这些信息填入后，点击右侧的
     <code>
      保留
     </code>
     按钮，将cpolar官网后台的隧道固定下来。此时cpolar会生成一个隧道tcp端口
    </p>
    <p>
     <img alt="image-20230511153205122" src="https://img-blog.csdnimg.cn/img_convert/6e8a4a9157714cda22a2cf14786cbfac.png"/>
    </p>
    <p>
     接着我们回到浏览器cpolar web ui管理界面，打开
     <code>
      隧道列表
     </code>
     ，找到之前创建的随机临时TCP隧道，进入
     <code>
      编辑
     </code>
     页面:
    </p>
    <p>
     <img alt="image-20230511153321327" src="https://img-blog.csdnimg.cn/img_convert/7adb3f433495b0c5c577a187e28efc13.png"/>
    </p>
    <p>
     端口类型选择
     <code>
      固定TCP端口
     </code>
     ，然后将我们在cpolar官网获得的隧道端口粘贴进
     <code>
      预留的TCP地址
     </code>
     栏中，然后点击下方的
     <code>
      更新
     </code>
     按钮
    </p>
    <p>
     <img alt="image-20230511153415936" src="https://img-blog.csdnimg.cn/img_convert/17147e8dd26fa97e9b5ca1c5a04e0290.png"/>
    </p>
    <p>
     接着再次查看在线隧道列表，可以发现mysql的隧道对应的公网地址变成了我们官网保留的固定地址
    </p>
    <p>
     <img alt="image-20230511153512015" src="https://img-blog.csdnimg.cn/img_convert/eb229fee8772e38ecba912325c103d5b.png"/>
    </p>
    <p>
     将远程MySQL的公网地址配置成固定的了后，我们来测试一下使用固定公网地址连接，同样也是可以正常远程连接到termux MySQL。
    </p>
    <p>
     现在只要保持这条隧道为在线状态，我们在外可以通过这个公网地址来远程连接Termux MySQL。
    </p>
    <p>
     <img alt="image-20230511153921009" src="https://img-blog.csdnimg.cn/img_convert/130a57c44ee1ff6fc4e9eca74d7f5d41.png"/>
    </p>
    <p>
     恭喜你已经掌握了用Android手机变身超级Linux服务器的秘密武器！无论是在工作中提升效率还是应对突发状况，这项技能都将让你轻松应对各种挑战。更重要的是，在这个DIY的过程中，你会发现开源技术的无限魅力和可能性。如果你对数据库的安全性和性能有更高追求的话，不妨试试MariaDB吧——它不仅功能强大、完全免费，还拥有开放源代码的优势呢！掌握了这门绝技，你就是名副其实的技术宅神了，快去炫耀给朋友们看看吧！
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f37333837393830362f:61727469636c652f64657461696c732f313436323338303432" class_="artid" style="display:none">
 </p>
</div>


