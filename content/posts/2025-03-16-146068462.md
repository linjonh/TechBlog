---
layout: post
title: "Flutter-FloatingActionButton-从核心用法到高级定制"
date: 2025-03-16 18:00:00 +0800
description: "本文是关于 FloatingActionButton 的文章，包括基本用法、主要属性、自定义样式（颜色、形状、大小等）及示例代码。"
keywords: "Flutter FloatingActionButton 从核心用法到高级定制"
categories: ['Flutter']
tags: ['Studio', 'Macos', 'Kotlin', 'Ios', 'Flutter', 'Android']
artid: "146068462"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146068462
    alt: "Flutter-FloatingActionButton-从核心用法到高级定制"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146068462
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146068462
cover: https://bing.ee123.net/img/rand?artid=146068462
image: https://bing.ee123.net/img/rand?artid=146068462
img: https://bing.ee123.net/img/rand?artid=146068462
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Flutter FloatingActionButton 从核心用法到高级定制
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <hr id="hr-toc" name="tableOfContents"/>
    <p>
    </p>
    <h3 name="1.%20%E5%BC%95%E8%A8%80">
     <span style="color:#ed7976">
      1. 引言
     </span>
    </h3>
    <p>
     FloatingActionButton（FAB）是
     <span style="color:#fe2c24">
      Material Design 中的核心交互组件
     </span>
     ，具有以下特征：
    </p>
    <ul>
     <li>
      <p>
       悬浮在内容层之上的圆形按钮
      </p>
     </li>
     <li>
      <p>
       通常用于应用的主操作（如创建、分享）
      </p>
     </li>
     <li>
      <p>
       支持图标、文字及组合内容
      </p>
     </li>
     <li>
      <p>
       默认位置在屏幕右下角
      </p>
     </li>
    </ul>
    <p>
     <span style="color:#956fe7">
      <strong>
       设计规范对比
      </strong>
     </span>
    </p>
    <table>
     <thead>
      <tr>
       <th>
        类型
       </th>
       <th>
        直径
       </th>
       <th>
        适用场景
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <strong>
         标准 FAB
        </strong>
       </td>
       <td>
        56×56 dp
       </td>
       <td>
        主操作（单个核心功能）
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         小型 FAB
        </strong>
       </td>
       <td>
        40×40 dp
       </td>
       <td>
        屏幕空间有限时使用
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         扩展型 FAB
        </strong>
       </td>
       <td>
        可变宽高
       </td>
       <td>
        需要文字说明的复杂操作
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <h3 id="2.%20FloatingActionButton%20%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95" name="2.%20FloatingActionButton%20%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95">
     <span style="color:#ed7976">
      2. FloatingActionButton 的基本用法
     </span>
    </h3>
    <p>
     <code>
      FloatingActionButton
     </code>
     主要通过
     <code>
      onPressed
     </code>
     绑定点击事件，并可添加
     <code>
      child
     </code>
     作为按钮内容。
    </p>
    <pre><code class="language-Dart">FloatingActionButton(
  onPressed: () {
    print('FAB 被点击');
  },
  child: Icon(Icons.add),
)
</code></pre>
    <p class="img-center">
     <img alt="" height="116" src="https://i-blog.csdnimg.cn/direct/de2b56a3311f497ab7bfe81c6f842054.png" width="300"/>
    </p>
    <p>
     如果
     <code>
      onPressed
     </code>
     设为
     <code>
      null
     </code>
     ，按钮会变为不可点击状态，跟其他按钮一样。
    </p>
    <h3 id="3.%20%E4%B8%BB%E8%A6%81%E5%B1%9E%E6%80%A7" name="3.%20%E4%B8%BB%E8%A6%81%E5%B1%9E%E6%80%A7">
     <span style="color:#ed7976">
      3. 主要属性
     </span>
    </h3>
    <table>
     <thead>
      <tr>
       <th>
        属性
       </th>
       <th>
        类型
       </th>
       <th>
        说明
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <strong>
         onPressed
        </strong>
       </td>
       <td>
        VoidCallback
       </td>
       <td>
        点击回调（设为
        <code>
         null
        </code>
        时禁用）
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         child
        </strong>
       </td>
       <td>
        Widget
       </td>
       <td>
        内容组件（通常为
        <code>
         Icon
        </code>
        或
        <code>
         Text
        </code>
        ）
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         backgroundColor
        </strong>
       </td>
       <td>
        Color
       </td>
       <td>
        按钮背景色
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         foregroundColor
        </strong>
       </td>
       <td>
        Color
       </td>
       <td>
        图标/文字颜色
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         shape
        </strong>
       </td>
       <td>
        ShapeBorder
       </td>
       <td>
        按钮形状（圆形/圆角矩形等）
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         heroTag
        </strong>
       </td>
       <td>
        Object
       </td>
       <td>
        唯一标识（多个 FAB 时必须设置）
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         mini
        </strong>
       </td>
       <td>
        bool
       </td>
       <td>
        是否为小型 FAB（默认
        <code>
         false
        </code>
        ）
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         tooltip
        </strong>
       </td>
       <td>
        String
       </td>
       <td>
        长按提示文字（无障碍支持）
       </td>
      </tr>
     </tbody>
    </table>
    <h3 id="4.%20%E8%BF%9B%E9%98%B6%E5%AE%9A%E5%88%B6%E6%8A%80%E5%B7%A7" name="4.%20%E8%BF%9B%E9%98%B6%E5%AE%9A%E5%88%B6%E6%8A%80%E5%B7%A7">
     <span style="color:#ed7976">
      4. 进阶定制技巧
     </span>
    </h3>
    <h4 id="4.1%20%E6%89%A9%E5%B1%95%E5%9E%8B%20FAB" name="4.1%20%E6%89%A9%E5%B1%95%E5%9E%8B%20FAB">
     <span style="color:#956fe7">
      4.1 扩展型 FAB
     </span>
    </h4>
    <pre><code class="language-Dart">FloatingActionButton.extended(
  icon: Icon(Icons.share),
  label: Text("分享到CSDN平台"),
  onPressed: () {},
)</code></pre>
    <h4 id="4.2%20%E5%8A%A8%E6%80%81%E5%8F%98%E5%BD%A2%E5%8A%A8%E7%94%BB" name="4.2%20%E5%8A%A8%E6%80%81%E5%8F%98%E5%BD%A2%E5%8A%A8%E7%94%BB">
     <span style="color:#956fe7">
      4.2 动态变形动画
     </span>
    </h4>
    <pre><code class="language-Dart">bool _isExpanded = false;

FloatingActionButton(
  onPressed: () {
    setState(() =&gt; _isExpanded = !_isExpanded);
  },
  child: AnimatedSwitcher(
    duration: Duration(milliseconds: 300),
    child: _isExpanded 
        ? Icon(Icons.check)
        : Icon(Icons.add),
  ),
)</code></pre>
    <h4 id="4.3%20%E5%A4%9A%E4%B8%AA%20FAB%20%E5%8D%8F%E5%90%8C" name="4.3%20%E5%A4%9A%E4%B8%AA%20FAB%20%E5%8D%8F%E5%90%8C">
     <span style="color:#956fe7">
      4.3 多个 FAB 协同
     </span>
    </h4>
    <pre><code class="language-Dart">Scaffold(
  floatingActionButton: Column(
    mainAxisSize: MainAxisSize.min,
    children: [
      FloatingActionButton(
        heroTag: "fab1",
        child: Icon(Icons.camera),
        onPressed: () {},
      ),
      SizedBox(height: 16),
      FloatingActionButton(
        heroTag: "fab2",
        child: Icon(Icons.mic),
        onPressed: () {},
      ),
    ],
  ),
)</code></pre>
    <hr/>
    <h3 id="5.%20%E4%B8%BB%E9%A2%98%E4%B8%8E%E5%8A%A8%E6%95%88%E9%9B%86%E6%88%90" name="5.%20%E4%B8%BB%E9%A2%98%E4%B8%8E%E5%8A%A8%E6%95%88%E9%9B%86%E6%88%90">
     <span style="color:#ed7976">
      5. 主题与动效集成
     </span>
    </h3>
    <h4 id="5.1%20%E5%85%A8%E5%B1%80%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE" name="5.1%20%E5%85%A8%E5%B1%80%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE">
     <span style="color:#956fe7">
      5.1 全局主题配置
     </span>
    </h4>
    <pre><code class="language-Dart">MaterialApp(
  theme: ThemeData(
    floatingActionButtonTheme: FloatingActionButtonThemeData(
      backgroundColor: Colors.deepOrange,
      foregroundColor: Colors.white,
      shape: RoundedRectangleBorder(
        borderRadius: BorderRadius.circular(16),
      ),
    ),
  ),
)</code></pre>
    <h4 id="5.2%20%E5%B9%B3%E5%8F%B0%E9%80%82%E9%85%8D%E6%96%B9%E6%A1%88" name="5.2%20%E5%B9%B3%E5%8F%B0%E9%80%82%E9%85%8D%E6%96%B9%E6%A1%88">
     <span style="color:#956fe7">
      5.2 平台适配方案
     </span>
    </h4>
    <p>
     dart
    </p>
    <p>
     复制
    </p>
    <pre><code class="language-Dart">FloatingActionButton(
  shape: Platform.isIOS 
      ? CircleBorder()
      : RoundedRectangleBorder(
          borderRadius: BorderRadius.circular(8),
        ),
)</code></pre>
    <h4 id="5.3%20%E9%AB%98%E7%BA%A7%E5%8A%A8%E7%94%BB%E6%8E%A7%E5%88%B6%E5%99%A8" name="5.3%20%E9%AB%98%E7%BA%A7%E5%8A%A8%E7%94%BB%E6%8E%A7%E5%88%B6%E5%99%A8">
     <span style="color:#956fe7">
      5.3 高级动画控制器
     </span>
    </h4>
    <pre><code class="language-Dart">AnimationController _animationController;

@override
void initState() {
  _animationController = AnimationController(
    vsync: this,
    duration: Duration(seconds: 1),
  )..repeat(reverse: true);
}

FloatingActionButton(
  backgroundColor: ColorTween(
    begin: Colors.blue,
    end: Colors.purple,
  ).animate(_animationController).value,
)</code></pre>
    <h3 id="6.%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5" name="6.%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5">
     <span style="color:#ed7976">
      6. 最佳实践
     </span>
    </h3>
    <h4 id="6.1%20%E5%B8%83%E5%B1%80%E8%A7%84%E8%8C%83" name="6.1%20%E5%B8%83%E5%B1%80%E8%A7%84%E8%8C%83">
     <span style="color:#956fe7">
      6.1 布局规范
     </span>
    </h4>
    <ul>
     <li>
      <p>
       优先使用
       <span style="color:#fe2c24">
        标准尺寸（56dp）
       </span>
      </p>
     </li>
     <li>
      <p>
       与底部导航栏保持至少 16dp 间距
      </p>
     </li>
     <li>
      <p>
       在滚动视图中自动隐藏（通过
       <code>
        ScaffoldMessenger
       </code>
       ）
      </p>
     </li>
    </ul>
    <h4 id="6.2%20%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" name="6.2%20%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96">
     <span style="color:#956fe7">
      6.2 性能优化
     </span>
    </h4>
    <pre><code class="language-Dart">// 避免不必要的重建
const FloatingActionButton(
  // ...
);

// 分离动画控制器
late final AnimationController _controller = AnimationController(
  duration: Duration(seconds: 1),
  vsync: this,
);</code></pre>
    <h4 id="6.3%20%E6%97%A0%E9%9A%9C%E7%A2%8D%E6%94%AF%E6%8C%81" name="6.3%20%E6%97%A0%E9%9A%9C%E7%A2%8D%E6%94%AF%E6%8C%81">
     6.3 无障碍支持
    </h4>
    <pre><code class="language-Dart">FloatingActionButton(
  tooltip: '创建新文档',
  onPressed: () {},
  child: Icon(Icons.add),
)</code></pre>
    <h3 id="7.%20%E5%B0%8F%E6%8A%80%E5%B7%A7" name="7.%20%E5%B0%8F%E6%8A%80%E5%B7%A7">
     <span style="color:#ed7976">
      7. 小技巧
     </span>
    </h3>
    <h4 id="7.1%20%E5%A6%82%E4%BD%95%E8%B0%83%E6%95%B4%20FAB%20%E4%BD%8D%E7%BD%AE%EF%BC%9F" name="7.1%20%E5%A6%82%E4%BD%95%E8%B0%83%E6%95%B4%20FAB%20%E4%BD%8D%E7%BD%AE%EF%BC%9F">
     <span style="color:#956fe7">
      7.1 如何调整 FAB 位置？
     </span>
    </h4>
    <pre><code class="language-Dart">Scaffold(
  floatingActionButtonLocation: 
      FloatingActionButtonLocation.miniCenterTop,
)</code></pre>
    <h4 id="7.2%20%E7%82%B9%E5%87%BB%E5%8C%BA%E5%9F%9F%E8%BF%87%E5%B0%8F%E6%80%8E%E4%B9%88%E5%8A%9E%EF%BC%9F" name="7.2%20%E7%82%B9%E5%87%BB%E5%8C%BA%E5%9F%9F%E8%BF%87%E5%B0%8F%E6%80%8E%E4%B9%88%E5%8A%9E%EF%BC%9F">
     <span style="color:#956fe7">
      7.2 点击区域过小怎么办？
     </span>
    </h4>
    <pre><code class="language-Dart">FloatingActionButton(
  mini: false, // 确保非小型模式
  shape: CircleBorder(),
  materialTapTargetSize: MaterialTapTargetSize.padded,
)</code></pre>
    <h4 id="7.3%20%E9%94%AE%E7%9B%98%E5%BC%B9%E5%87%BA%E6%97%B6%E9%81%AE%E6%8C%A1%20FAB%EF%BC%9F" name="7.3%20%E9%94%AE%E7%9B%98%E5%BC%B9%E5%87%BA%E6%97%B6%E9%81%AE%E6%8C%A1%20FAB%EF%BC%9F">
     <span style="color:#956fe7">
      7.3 键盘弹出时遮挡 FAB？
     </span>
    </h4>
    <pre><code class="language-Dart">Scaffold(
  resizeToAvoidBottomInset: false, // 禁止调整布局
  floatingActionButton: Padding(
    padding: EdgeInsets.only(
        bottom: MediaQuery.of(context).viewInsets.bottom),
    child: FloatingActionButton(...),
  ),
)</code></pre>
    <h4 id="7.4%20%E5%8A%A8%E6%80%81%E6%9B%B4%E6%96%B0%E6%89%A9%E5%B1%95%E5%9E%8B%20FAB%20%E5%86%85%E5%AE%B9%EF%BC%9F" name="7.4%20%E5%8A%A8%E6%80%81%E6%9B%B4%E6%96%B0%E6%89%A9%E5%B1%95%E5%9E%8B%20FAB%20%E5%86%85%E5%AE%B9%EF%BC%9F">
     7.4 动态更新扩展型 FAB 内容？
    </h4>
    <pre><code class="language-Dart">ValueListenableBuilder&lt;bool&gt;(
  valueListenable: _isUploading,
  builder: (context, value, child) {
    return FloatingActionButton.extended(
      label: value ? Text("上传中...") : Text("开始上传"),
      icon: value 
          ? CircularProgressIndicator(color: Colors.white)
          : Icon(Icons.cloud_upload),
    );
  },
)</code></pre>
    <h3 id="%E7%9B%B8%E5%85%B3%E6%8E%A8%E8%8D%90" name="%E7%9B%B8%E5%85%B3%E6%8E%A8%E8%8D%90">
     <span style="color:#ed7976">
      相关推荐
     </span>
    </h3>
    <p>
     <a class="has-card" href="https://shuaici.blog.csdn.net/article/details/146068020" rel="nofollow" title="Flutter 按钮组件 TextButton 详解-CSDN博客">
      <span class="link-card-box" contenteditable="false">
       <span class="link-title">
        Flutter 按钮组件 TextButton 详解-CSDN博客
       </span>
       <span class="link-desc">
        文章浏览阅读1.8k次，点赞60次，收藏62次。TextButton 适用于不需要强调的按钮操作，如取消、返回或辅助功能。通过 style 属性可以自定义颜色、形状、背景等。掌握 TextButton 的使用，可以帮助开发者创建更加灵活和简洁的 UI 交互体验。
       </span>
       <span class="link-link">
        <img alt=" " class="link-link-icon" src="https://g.csdnimg.cn/static/logo/favicon32.ico">
         https://shuaici.blog.csdn.net/article/details/146068020
        </img>
       </span>
      </span>
     </a>
     <a class="has-card" href="https://shuaici.blog.csdn.net/article/details/146067694" rel="nofollow" title="Flutter 按钮组件 ElevatedButton 详解-CSDN博客">
      <span class="link-card-box" contenteditable="false">
       <span class="link-title">
        Flutter 按钮组件 ElevatedButton 详解-CSDN博客
       </span>
       <span class="link-desc">
        文章浏览阅读844次，点赞20次，收藏21次。本文详细描述 ElevatedButton 是 Flutter 中常见的按钮组件，适用于强调操作。通过 style 属性可以灵活地修改背景色、形状、大小等。掌握 ElevatedButton 的使用可以帮助开发者创建更美观的交互界面。
       </span>
       <span class="link-link">
        <img alt=" " class="link-link-icon" src="https://g.csdnimg.cn/static/logo/favicon32.ico">
         https://shuaici.blog.csdn.net/article/details/146067694
        </img>
       </span>
      </span>
     </a>
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f673938343136303534372f:61727469636c652f64657461696c732f313436303638343632" class_="artid" style="display:none">
 </p>
</div>


