---
layout: post
title: "实践-给图片右下角加opencv-logo"
date: 2025-03-16 19:36:25 +0800
description: "mask1与roi进行按位与，fg1 = cv2.bitwise_and()mask2与logo进行按位与，fg2 = cv2.bitwise_and。使用OTSU二值化方法进行二值化ret, mask1 =通过按位与获得只有大图背景而logo前景挖空的局部图。只对lena脸部应用密钥进行解密（逻辑异或操作）使用掩码对lena图像的脸部进行打码、解码。通过二值化获取抛弃logo前景的掩码图。通过二值化获取保留logo前景的掩码图。获得只有logo前景而背景挖空的局部图。进行二值化ret, mask2 ="
keywords: "实践-给图片右下角加opencv-logo"
categories: ['Python']
tags: ['计算机视觉', '机器学习', '人工智能', 'Python', 'Opencv']
artid: "146299994"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146299994
    alt: "实践-给图片右下角加opencv-logo"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146299994
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146299994
cover: https://bing.ee123.net/img/rand?artid=146299994
image: https://bing.ee123.net/img/rand?artid=146299994
img: https://bing.ee123.net/img/rand?artid=146299994
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     实践-给图片右下角加opencv-logo
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <div>
    </div>
    <div>
     <hr id="hr-toc" name="tableOfContents"/>
     <p>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       读取大图和logo原图
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">lena </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> cv2</span><span style="color:#999999">.</span><span style="color:#000000">imread</span><span style="color:#999999">(</span><span style="color:#669900">'D:\lene02.png'</span><span style="color:#999999">,</span><span style="color:#990055">1</span><span style="color:#999999">)</span>  <span style="color:#708090"># </span><span style="color:#708090">选择</span><span style="color:#708090">了</span><span style="color:#708090">一张</span><span style="color:#708090">分辨率</span><span style="color:#708090">更</span><span style="color:#708090">大</span><span style="color:#708090">的</span><span style="color:#708090">图片</span><span style="color:#708090">，更改图片路径</span>
<span style="color:#000000">logo </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> cv2</span><span style="color:#999999">.</span><span style="color:#000000">imread</span><span style="color:#999999">(</span><span style="color:#669900">'D:\cv-log.png'</span><span style="color:#999999">,</span><span style="color:#990055">1</span><span style="color:#999999">)</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       用
      </span>
      <span style="color:#333333">
       到
      </span>
      <span style="color:#333333">
       的
      </span>
      <span style="color:#333333">
       图片
      </span>
      <span style="color:#333333">
       ：
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       裁剪
      </span>
      <span style="color:#333333">
       过
      </span>
      <span style="color:#333333">
       的
      </span>
      <span style="color:#333333">
       lena
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <img alt="" height="243" src="https://i-blog.csdnimg.cn/direct/76b47403321d4d28b3057c17a6cb08ff.png" width="337"/>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       提取大图右下角ROI
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">h1</span><span style="color:#999999">,</span><span style="color:#000000"> w1</span><span style="color:#999999">,</span><span style="color:#000000"> c1 </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> lena</span><span style="color:#999999">.</span><span style="color:#000000">shape</span>
<span style="color:#000000">h2</span><span style="color:#999999">,</span><span style="color:#000000"> w2</span><span style="color:#999999">,</span><span style="color:#000000"> c2 </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> logo</span><span style="color:#999999">.</span><span style="color:#000000">shape</span>
<span style="color:#708090">#</span> <span style="color:#708090">定位大图右下角区域roi,使其具有logo的尺寸</span>
<span style="color:#000000">roi </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> lena</span><span style="color:#999999">[</span><span style="color:#000000">h1</span><span style="color:#9a6e3a">-</span><span style="color:#000000">h2</span><span style="color:#999999">:</span><span style="color:#000000">h1</span><span style="color:#999999">,</span><span style="color:#000000">w1</span><span style="color:#9a6e3a">-</span><span style="color:#000000">w2</span><span style="color:#999999">:</span><span style="color:#000000">w1</span><span style="color:#999999">]</span>

<span style="color:#708090"># 注意：对roi的操作就是对lena原图的操作</span>
<span style="color:#000000">cv2</span><span style="color:#999999">.</span><span style="color:#000000">imwrite</span><span style="color:#999999">(</span><span style="color:#669900">'D:\lene02.png'</span><span style="color:#999999">,</span><span style="color:#000000">roi</span><span style="color:#999999">)</span>
<span style="color:#000000">plt</span><span style="color:#999999">.</span><span style="color:#000000">imshow</span><span style="color:#999999">(</span><span style="color:#000000">roi</span><span style="color:#999999">[:,:,::</span><span style="color:#9a6e3a">-</span><span style="color:#990055">1</span><span style="color:#999999">])</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <img alt="" height="301" src="https://i-blog.csdnimg.cn/direct/886a4679230e40998b9117c837b5fc60.png" width="552"/>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       把logo原图转换为灰度图
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       图片
      </span>
      <span style="color:#333333">
       ：
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       opencv
      </span>
      <span style="color:#333333">
       的
      </span>
      <span style="color:#333333">
       logo
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <img alt="" height="218" src="https://i-blog.csdnimg.cn/direct/fb1f488c2e1b4254bfed659498a24526.jpeg" width="387"/>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       利用
      </span>
      <span style="background-color:#ffff00">
       <span style="color:#333333">
        cv2.cvtColor
       </span>
      </span>
      <span style="color:#333333">
       得到灰度图gray
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">gray </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> cv2</span><span style="color:#999999">.</span><span style="color:#000000">cvtColor</span><span style="color:#999999">(</span><span style="color:#000000">logo</span><span style="color:#999999">,</span><span style="color:#000000"> cv2</span><span style="color:#999999">.</span><span style="color:#000000">COLOR_BGR2GRAY</span><span style="color:#999999">)</span>
<span style="color:#000000">cv2</span><span style="color:#999999">.</span><span style="color:#000000">imwrite</span><span style="color:#999999">(</span><span style="color:#669900">'D:\cv-log.png'</span><span style="color:#999999">,</span><span style="color:#000000">gray</span><span style="color:#999999">)</span>
<span style="color:#000000">plt</span><span style="color:#999999">.</span><span style="color:#000000">imshow</span><span style="color:#999999">(</span><span style="color:#000000">gray</span><span style="color:#999999">,</span><span style="color:#000000"> cmap</span><span style="color:#9a6e3a">=</span><span style="color:#669900">'gray'</span><span style="color:#999999">)</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <img alt="" height="325" src="https://i-blog.csdnimg.cn/direct/98bd1fd9e32b4f3e8265cecea5d0a998.png" width="549"/>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       通过二值化获取抛弃logo前景的掩码图
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       使用OTSU二值化方法进行二值化ret, mask1 =
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">ret</span><span style="color:#999999">,</span><span style="color:#000000"> mask1 </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> cv2</span><span style="color:#999999">.</span><span style="color:#000000"> threshold</span><span style="color:#999999">(</span><span style="color:#000000">gray</span><span style="color:#999999">,</span><span style="color:#990055">0</span><span style="color:#999999">,</span><span style="color:#990055">255</span><span style="color:#999999">,</span><span style="color:#000000">cv2</span><span style="color:#999999">.</span><span style="color:#000000">THRESH_BINARY</span><span style="color:#9a6e3a">+</span><span style="color:#000000">cv2</span><span style="color:#999999">.</span><span style="color:#000000">THRESH_OTSU</span><span style="color:#999999">)</span>
<span style="color:#000000">cv2</span><span style="color:#999999">.</span><span style="color:#000000">imwrite</span><span style="color:#999999">(</span><span style="color:#669900">'D:\cv-log.png'</span><span style="color:#999999">,</span><span style="color:#000000">mask1</span><span style="color:#999999">)</span>
<span style="color:#000000">plt</span><span style="color:#999999">.</span><span style="color:#000000">imshow</span><span style="color:#999999">(</span><span style="color:#000000">mask1</span><span style="color:#999999">,</span><span style="color:#000000"> cmap</span><span style="color:#9a6e3a">=</span><span style="color:#669900">'gray'</span><span style="color:#999999">)</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <img alt="" height="321" src="https://i-blog.csdnimg.cn/direct/57acba71ddf54cf093c7b7ce0e53d90f.png" width="553"/>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       二值化
      </span>
      <span style="color:#333333">
       也就是
      </span>
      <span style="color:#333333">
       保留
      </span>
      <span style="color:#333333">
       黑白
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       通过按位与获得只有大图背景而logo前景挖空的局部图
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       mask1与roi进行按位与，fg1 = cv2.bitwise_and()
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">fg1 </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> cv2</span><span style="color:#999999">.</span><span style="color:#000000">bitwise_and</span><span style="color:#999999">(</span><span style="color:#000000">roi</span><span style="color:#999999">,</span><span style="color:#000000">roi</span><span style="color:#999999">,</span><span style="color:#000000">mask</span><span style="color:#9a6e3a">=</span><span style="color:#000000">mask1</span><span style="color:#999999">)</span>
<span style="color:#000000">cv2</span><span style="color:#999999">.</span><span style="color:#000000">imwrite</span><span style="color:#999999">(</span><span style="color:#669900">'D:\cv-log.png'</span><span style="color:#999999">,</span><span style="color:#000000">fg1</span><span style="color:#999999">)</span>
<span style="color:#000000">plt</span><span style="color:#999999">.</span><span style="color:#000000">imshow</span><span style="color:#999999">(</span><span style="color:#000000">fg1</span><span style="color:#999999">[:,:,::</span><span style="color:#9a6e3a">-</span><span style="color:#990055">1</span><span style="color:#999999">])</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <img alt="" height="318" src="https://i-blog.csdnimg.cn/direct/31da8b3fab4e42e8b4c3b2b4ff24e772.png" width="545"/>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       其实也就是图片
      </span>
      <span style="color:#333333">
       的
      </span>
      <span style="color:#333333">
       像素
      </span>
      <span style="color:#333333">
       叠层
      </span>
      <span style="color:#333333">
       ，
      </span>
      <span style="color:#333333">
       logo
      </span>
      <span style="color:#333333">
       的
      </span>
      <span style="color:#333333">
       前景
      </span>
      <span style="color:#333333">
       像素
      </span>
      <span style="color:#333333">
       覆盖掉
      </span>
      <span style="color:#333333">
       lena
      </span>
      <span style="color:#333333">
       图片
      </span>
      <span style="color:#333333">
       的
      </span>
      <span style="color:#333333">
       对应
      </span>
      <span style="color:#333333">
       像素
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       通过二值化获取保留logo前景的掩码图
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       使用
      </span>
      <span style="background-color:#ffff00">
       <span style="color:#333333">
        BINARY_INV方法
       </span>
      </span>
      <span style="color:#333333">
       进行二值化ret, mask2 =
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">ret</span><span style="color:#999999">,</span><span style="color:#000000"> mask2 </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> cv2</span><span style="color:#999999">.</span><span style="color:#000000">threshold</span><span style="color:#999999">(</span><span style="color:#000000">gray</span><span style="color:#999999">,</span><span style="color:#990055">220</span><span style="color:#999999">,</span><span style="color:#990055">255</span><span style="color:#999999">,</span><span style="color:#000000">cv2</span><span style="color:#999999">.</span><span style="color:#000000">THRESH_BINARY_INV</span><span style="color:#999999">)</span>
<span style="color:#000000">cv2</span><span style="color:#999999">.</span><span style="color:#000000">imwrite</span><span style="color:#999999">(</span><span style="color:#669900">'D:\cv-log.png'</span><span style="color:#999999">,</span><span style="color:#000000">mask2</span><span style="color:#999999">)</span>
<span style="color:#000000">plt</span><span style="color:#999999">.</span><span style="color:#000000">imshow</span><span style="color:#999999">(</span><span style="color:#000000">mask2</span><span style="color:#999999">,</span><span style="color:#000000"> cmap</span><span style="color:#9a6e3a">=</span><span style="color:#669900">'gray'</span><span style="color:#999999">)</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <img alt="" height="323" src="https://i-blog.csdnimg.cn/direct/1ae790bd7939467d9ac8f584e016b661.png" width="545"/>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       通过
      </span>
      <span style="color:#ff0000">
       按位与
      </span>
      <span style="color:#333333">
       获得只有logo前景而背景挖空的局部图
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       mask2与logo进行按位与，fg2 = cv2.bitwise_and
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">fg2 </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> cv2</span><span style="color:#999999">.</span><span style="color:#000000">bitwise_and</span><span style="color:#999999">(</span><span style="color:#000000">logo</span><span style="color:#999999">,</span><span style="color:#000000">logo</span><span style="color:#999999">,</span><span style="color:#000000">mask</span><span style="color:#9a6e3a">=</span><span style="color:#000000">mask2</span><span style="color:#999999">)</span>
<span style="color:#000000">cv2</span><span style="color:#999999">.</span><span style="color:#000000">imwrite</span><span style="color:#999999">(</span><span style="color:#669900">'D:\cv-log.png'</span><span style="color:#999999">,</span><span style="color:#000000">fg2</span><span style="color:#999999">)</span>
<span style="color:#000000">plt</span><span style="color:#999999">.</span><span style="color:#000000">imshow</span><span style="color:#999999">(</span><span style="color:#000000">fg2</span><span style="color:#999999">[:,:,::</span><span style="color:#9a6e3a">-</span><span style="color:#990055">1</span><span style="color:#999999">])</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <img alt="" height="319" src="https://i-blog.csdnimg.cn/direct/3db2e3b10fdb491aad3f523a7298445c.png" width="543"/>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       提取
      </span>
      <span style="color:#333333">
       过后
      </span>
      <span style="color:#333333">
       的
      </span>
      <span style="color:#333333">
       logo
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       通过
      </span>
      <span style="background-color:#ffff00">
       <span style="color:#333333">
        add()函数
       </span>
      </span>
      <span style="color:#333333">
       把两个局部图相加
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       roi[:]=cv2.add
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">roi</span><span style="color:#999999">[:]</span><span style="color:#9a6e3a">=</span><span style="color:#000000">cv2</span><span style="color:#999999">.</span><span style="color:#000000">add</span><span style="color:#999999">(</span><span style="color:#000000">fg1</span><span style="color:#999999">,</span><span style="color:#000000">fg2</span><span style="color:#999999">)</span>  <span style="color:#708090">#加上“：”是为了确保原图的提取</span>
<span style="color:#000000">cv2</span><span style="color:#999999">.</span><span style="color:#000000">imwrite</span><span style="color:#999999">(</span><span style="color:#669900">'D:\cv-log.png'</span><span style="color:#999999">,</span><span style="color:#000000">roi</span><span style="color:#999999">)</span>
<span style="color:#000000">plt</span><span style="color:#999999">.</span><span style="color:#000000">imshow</span><span style="color:#999999">(</span><span style="color:#000000">roi</span><span style="color:#999999">[:,:,::</span><span style="color:#9a6e3a">-</span><span style="color:#990055">1</span><span style="color:#999999">])</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <img alt="" height="320" src="https://i-blog.csdnimg.cn/direct/5ef4a16fa4e04f4cb32c539204d10552.png" width="540"/>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       提取
      </span>
      <span style="color:#333333">
       后
      </span>
      <span style="color:#333333">
       的
      </span>
      <span style="color:#333333">
       roi
      </span>
      <span style="color:#333333">
       视图
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       把合成照片放回Lena照片的右下角
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">lena</span><span style="color:#999999">[</span><span style="color:#000000">h1</span><span style="color:#9a6e3a">-</span><span style="color:#000000">h2</span><span style="color:#999999">:</span><span style="color:#000000">h1</span><span style="color:#999999">,</span><span style="color:#000000">w1</span><span style="color:#9a6e3a">-</span><span style="color:#000000">w2</span><span style="color:#999999">:</span><span style="color:#000000">w1</span><span style="color:#999999">]</span> <span style="color:#9a6e3a">=</span><span style="color:#000000"> roi</span>
<span style="color:#000000">plt</span><span style="color:#999999">.</span><span style="color:#000000">imshow</span><span style="color:#999999">(</span><span style="color:#000000">lena</span><span style="color:#999999">[:,</span> <span style="color:#999999">:,</span> <span style="color:#999999">::</span><span style="color:#9a6e3a">-</span><span style="color:#990055">1</span><span style="color:#999999">])</span>
<span style="color:#000000">plt</span><span style="color:#999999">.</span><span style="color:#000000">xticks</span><span style="color:#999999">([]),</span><span style="color:#000000"> plt</span><span style="color:#999999">.</span><span style="color:#000000">yticks</span><span style="color:#999999">([])</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <img alt="" height="369" src="https://i-blog.csdnimg.cn/direct/93f367b5cec4411fb473cd2df06e1d60.png" width="504"/>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       不打印
      </span>
      <span style="color:#333333">
       坐标
      </span>
      <span style="color:#333333">
       ，
      </span>
      <span style="color:#333333">
       这是
      </span>
      <span style="color:#333333">
       原图
      </span>
      <span style="color:#333333">
       视图
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
     </p>
     <h4 id="%E4%BD%BF%E7%94%A8%E6%8E%A9%E7%A0%81%E5%AF%B9lena%E5%9B%BE%E5%83%8F%E7%9A%84%E8%84%B8%E9%83%A8%E8%BF%9B%E8%A1%8C%E6%89%93%E7%A0%81%E3%80%81%E8%A7%A3%E7%A0%81" name="%E4%BD%BF%E7%94%A8%E6%8E%A9%E7%A0%81%E5%AF%B9lena%E5%9B%BE%E5%83%8F%E7%9A%84%E8%84%B8%E9%83%A8%E8%BF%9B%E8%A1%8C%E6%89%93%E7%A0%81%E3%80%81%E8%A7%A3%E7%A0%81" style="margin-left:0pt; margin-right:0pt; text-align:justify">
      <strong>
       <span style="color:#333333">
        使用掩码对lena图像的脸部进行打码、解码
       </span>
      </strong>
     </h4>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">lena </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> cv2</span><span style="color:#999999">.</span><span style="color:#000000">imread</span><span style="color:#999999">(</span><span style="color:#000000">image_path</span><span style="color:#999999">)</span> 
<span style="color:#000000">h</span><span style="color:#999999">,</span><span style="color:#000000">w</span><span style="color:#999999">,</span><span style="color:#000000"> _ </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> lena</span><span style="color:#999999">.</span><span style="color:#000000">shape </span><span style="color:#708090"># 图片的行(高）h、列（宽）w</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       只显示lena脸部，其他部分打码
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">mask1 </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> np</span><span style="color:#999999">.</span><span style="color:#000000">zeros</span><span style="color:#999999">((</span><span style="color:#000000">h</span><span style="color:#999999">,</span><span style="color:#000000">w</span><span style="color:#999999">),</span><span style="color:#000000"> dtype</span><span style="color:#9a6e3a">=</span><span style="color:#000000">np</span><span style="color:#999999">.</span><span style="color:#000000">uint8</span><span style="color:#999999">)</span>  <span style="color:#708090">#生成一个掩膜图像（任何一个数与0与运算都是0，任何一个数与1与运算都是这个数本身）</span>
<span style="color:#000000">mask1</span><span style="color:#999999">[</span><span style="color:#990055">200</span><span style="color:#999999">:</span><span style="color:#990055">400</span><span style="color:#999999">,</span> <span style="color:#990055">200</span><span style="color:#999999">:</span><span style="color:#990055">380</span><span style="color:#999999">]</span><span style="color:#9a6e3a">=</span><span style="color:#990055">255</span>              <span style="color:#708090">#这个掩膜图像大小是lena.shape的大小，像素值是0或255</span>
<span style="color:#708090"># # 或者用cv2.selectROI自己选取ROI区域</span>
<span style="color:#708090"># TODO: lena_face = cv2.bitwise_and()</span>
<span style="color:#000000">lena_face </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> cv2</span><span style="color:#999999">.</span><span style="color:#000000">bitwise_and</span><span style="color:#999999">(</span><span style="color:#000000">lena</span><span style="color:#999999">,</span><span style="color:#000000">lena</span><span style="color:#999999">,</span><span style="color:#000000">mask </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> mask1</span><span style="color:#999999">)</span>
<span style="color:#000000">imgs </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> np</span><span style="color:#999999">.</span><span style="color:#000000">hstack</span><span style="color:#999999">([</span><span style="color:#000000">lena</span><span style="color:#999999">,</span><span style="color:#000000"> lena_face</span><span style="color:#999999">])</span>
<span style="color:#000000">plt</span><span style="color:#999999">.</span><span style="color:#000000">imshow</span><span style="color:#999999">(</span><span style="color:#000000">imgs</span><span style="color:#999999">[:,</span> <span style="color:#999999">:,</span> <span style="color:#999999">::</span><span style="color:#9a6e3a">-</span><span style="color:#990055">1</span><span style="color:#999999">])</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <img alt="" height="292" src="https://i-blog.csdnimg.cn/direct/8e2c3840d7b643d08e084c1ea0c8a9c5.png" width="553"/>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       去掉Lena脸部
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">mask2 </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> np</span><span style="color:#999999">.</span><span style="color:#000000">ones</span><span style="color:#999999">((</span><span style="color:#000000">h</span><span style="color:#999999">,</span><span style="color:#000000">w</span><span style="color:#999999">),</span><span style="color:#000000"> dtype</span><span style="color:#9a6e3a">=</span><span style="color:#000000">np</span><span style="color:#999999">.</span><span style="color:#000000">uint8</span><span style="color:#999999">)</span><span style="color:#9a6e3a">*</span><span style="color:#990055">255</span>  
<span style="color:#000000">mask2</span><span style="color:#999999">[</span><span style="color:#990055">200</span><span style="color:#999999">:</span><span style="color:#990055">400</span><span style="color:#999999">,</span> <span style="color:#990055">200</span><span style="color:#999999">:</span><span style="color:#990055">380</span><span style="color:#999999">]</span><span style="color:#9a6e3a">=</span><span style="color:#990055">0</span> 
<span style="color:#708090"># TODO:lena_no_face = cv2.bitwise_and()</span>
<span style="color:#000000">lena_no_face </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> cv2</span><span style="color:#999999">.</span><span style="color:#000000">bitwise_and</span><span style="color:#999999">(</span><span style="color:#000000">lena </span><span style="color:#999999">,</span><span style="color:#000000">lena </span><span style="color:#999999">,</span><span style="color:#000000"> mask</span><span style="color:#9a6e3a">=</span><span style="color:#000000">mask2</span><span style="color:#999999">)</span>     

<span style="color:#000000">imgs </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> np</span><span style="color:#999999">.</span><span style="color:#000000">hstack</span><span style="color:#999999">([</span><span style="color:#000000">lena</span><span style="color:#999999">,</span><span style="color:#000000"> lena_no_face</span><span style="color:#999999">])</span>
<span style="color:#000000">plt</span><span style="color:#999999">.</span><span style="color:#000000">imshow</span><span style="color:#999999">(</span><span style="color:#000000">imgs</span><span style="color:#999999">[:,</span> <span style="color:#999999">:,</span> <span style="color:#999999">::</span><span style="color:#9a6e3a">-</span><span style="color:#990055">1</span><span style="color:#999999">])</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <img alt="" height="290" src="https://i-blog.csdnimg.cn/direct/5599d68d5e2540e1810355c7bc95a69c.png" width="552"/>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       给lena脸部打彩色码
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">lena_no_face_color </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> lena</span><span style="color:#999999">.</span><span style="color:#000000">copy</span><span style="color:#999999">()</span>
<span style="color:#000000">ROI </span><span style="color:#9a6e3a">=</span><span style="color:#000000">np</span><span style="color:#999999">.</span><span style="color:#000000">random</span><span style="color:#999999">.</span><span style="color:#000000">randint</span><span style="color:#999999">(</span><span style="color:#990055">0</span><span style="color:#999999">,</span>
                      <span style="color:#990055">256</span><span style="color:#999999">,</span>
<span style="color:#000000">                      size</span><span style="color:#9a6e3a">=</span><span style="color:#999999">(</span><span style="color:#990055">400</span><span style="color:#9a6e3a">-</span><span style="color:#990055">200</span><span style="color:#999999">,</span><span style="color:#990055">380</span><span style="color:#9a6e3a">-</span><span style="color:#990055">200</span><span style="color:#999999">,</span><span style="color:#990055">3</span><span style="color:#999999">),</span>
<span style="color:#000000">                      dtype </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> np</span><span style="color:#999999">.</span><span style="color:#000000">uint8</span><span style="color:#999999">)</span>
<span style="color:#000000">lena_no_face_color</span><span style="color:#999999">[</span><span style="color:#990055">200</span><span style="color:#999999">:</span><span style="color:#990055">400</span><span style="color:#999999">,</span> <span style="color:#990055">200</span><span style="color:#999999">:</span><span style="color:#990055">380</span><span style="color:#999999">]</span> <span style="color:#9a6e3a">=</span><span style="color:#000000"> ROI</span>
<span style="color:#000000">imgs </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> np</span><span style="color:#999999">.</span><span style="color:#000000">hstack</span><span style="color:#999999">([</span><span style="color:#000000">lena</span><span style="color:#999999">,</span><span style="color:#000000"> lena_no_face_color</span><span style="color:#999999">])</span>
<span style="color:#000000">plt</span><span style="color:#999999">.</span><span style="color:#000000">imshow</span><span style="color:#999999">(</span><span style="color:#000000">imgs</span><span style="color:#999999">[:,</span> <span style="color:#999999">:,</span> <span style="color:#999999">::</span><span style="color:#9a6e3a">-</span><span style="color:#990055">1</span><span style="color:#999999">])</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       原理
      </span>
      <span style="color:#333333">
       是
      </span>
      <span style="color:#333333">
       随机
      </span>
      <span style="color:#333333">
       的
      </span>
      <span style="color:#333333">
       生成
      </span>
      <span style="color:#333333">
       0
      </span>
      <span style="color:#333333">
       -
      </span>
      <span style="color:#333333">
       2
      </span>
      <span style="color:#333333">
       5
      </span>
      <span style="color:#333333">
       5
      </span>
      <span style="color:#333333">
       的
      </span>
      <span style="color:#333333">
       像素
      </span>
      <span style="color:#333333">
       值
      </span>
      <span style="color:#333333">
       （点）
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#000000">
       ROI
      </span>
      <span style="color:#9a6e3a">
       =
      </span>
      <span style="color:#000000">
       np
      </span>
      <span style="color:#999999">
       .
      </span>
      <span style="color:#000000">
       random
      </span>
      <span style="color:#999999">
       .
      </span>
      <span style="color:#000000">
       randint
      </span>
      <span style="color:#999999">
       (
      </span>
      <span style="color:#990055">
       0
      </span>
      <span style="color:#999999">
       ,
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#990055">
       256
      </span>
      <span style="color:#999999">
       ,
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#000000">
       size
      </span>
      <span style="color:#9a6e3a">
       =
      </span>
      <span style="color:#999999">
       (
      </span>
      <span style="color:#990055">
       400
      </span>
      <span style="color:#9a6e3a">
       -
      </span>
      <span style="color:#990055">
       200
      </span>
      <span style="color:#999999">
       ,
      </span>
      <span style="color:#990055">
       380
      </span>
      <span style="color:#9a6e3a">
       -
      </span>
      <span style="color:#990055">
       200
      </span>
      <span style="color:#999999">
       ,
      </span>
      <span style="color:#990055">
       3
      </span>
      <span style="color:#999999">
       ),
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#000000">
       dtype
      </span>
      <span style="color:#9a6e3a">
       =
      </span>
      <span style="color:#000000">
       np
      </span>
      <span style="color:#999999">
       .
      </span>
      <span style="color:#000000">
       uint8
      </span>
      <span style="color:#999999">
       )
      </span>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <img alt="" height="285" src="https://i-blog.csdnimg.cn/direct/d3ec6f5e122a45a5b349397386ef76c2.png" width="549"/>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
     </p>
     <h5 id="%E7%BB%99%E5%9B%BE%E5%83%8F%E5%8A%A0%E5%AF%86%2F%E8%A7%A3%E5%AF%86" name="%E7%BB%99%E5%9B%BE%E5%83%8F%E5%8A%A0%E5%AF%86%2F%E8%A7%A3%E5%AF%86" style="margin-left:0pt; margin-right:0pt; text-align:justify">
      <strong>
       <span style="color:#333333">
        给图像加密/解密
       </span>
      </strong>
     </h5>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       随机生成密钥图像，尺寸跟lena图像相同
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#708090">#生成一个随机密钥图像</span>
<span style="color:#000000">key </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> np</span><span style="color:#999999">.</span><span style="color:#000000">random</span><span style="color:#999999">.</span><span style="color:#000000">randint</span><span style="color:#999999">(</span><span style="color:#990055">0</span><span style="color:#999999">,</span>
                       <span style="color:#990055">256</span><span style="color:#999999">,</span>
<span style="color:#000000">                       size</span><span style="color:#9a6e3a">=</span><span style="color:#999999">(</span><span style="color:#000000">h</span><span style="color:#999999">,</span><span style="color:#000000">w</span><span style="color:#999999">,</span><span style="color:#990055">3</span><span style="color:#999999">),</span>
<span style="color:#000000">                       dtype </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> np</span><span style="color:#999999">.</span><span style="color:#000000">uint8</span><span style="color:#999999">)</span>
<span style="color:#708090">#1、使用密钥key对lena整体加密</span>
<span style="color:#000000">lena_encryption </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> cv2</span><span style="color:#999999">.</span><span style="color:#000000">bitwise_xor</span><span style="color:#999999">(</span><span style="color:#000000">lena</span><span style="color:#999999">,</span><span style="color:#000000">key</span><span style="color:#999999">)</span>  <span style="color:#708090"># 在逻辑异或中，如果两个比特位相同，则结果为0；如果不同，则结果为1</span>
<span style="color:#000000">plt</span><span style="color:#999999">.</span><span style="color:#000000">imshow</span><span style="color:#999999">(</span><span style="color:#000000">lena_encryption</span><span style="color:#999999">[:,</span> <span style="color:#999999">:,</span> <span style="color:#999999">::</span><span style="color:#9a6e3a">-</span><span style="color:#990055">1</span><span style="color:#999999">])</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <img alt="" height="383" src="https://i-blog.csdnimg.cn/direct/e2b95627324f482984222ec46678ce00.png" width="414"/>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       只对lena脸部应用密钥进行解密（逻辑异或操作）
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">face_only </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> lena_encryption</span><span style="color:#999999">.</span><span style="color:#000000">copy</span><span style="color:#999999">()</span>
<span style="color:#708090"># face_only[200:400, 200:380] = lena_face[200:400, 200:380]</span>
<span style="color:#000000">face_only</span><span style="color:#999999">[</span><span style="color:#990055">200</span><span style="color:#999999">:</span><span style="color:#990055">400</span><span style="color:#999999">,</span> <span style="color:#990055">200</span><span style="color:#999999">:</span><span style="color:#990055">380</span><span style="color:#999999">]</span> <span style="color:#9a6e3a">=</span><span style="color:#000000"> cv2</span><span style="color:#999999">.</span><span style="color:#000000">bitwise_xor</span><span style="color:#999999">(</span><span style="color:#000000">face_only</span><span style="color:#999999">[</span><span style="color:#990055">200</span><span style="color:#999999">:</span><span style="color:#990055">400</span><span style="color:#999999">,</span> <span style="color:#990055">200</span><span style="color:#999999">:</span><span style="color:#990055">380</span><span style="color:#999999">],</span><span style="color:#000000">key</span><span style="color:#999999">[</span><span style="color:#990055">200</span><span style="color:#999999">:</span><span style="color:#990055">400</span><span style="color:#999999">,</span> <span style="color:#990055">200</span><span style="color:#999999">:</span><span style="color:#990055">380</span><span style="color:#999999">])</span>
<span style="color:#000000">plt</span><span style="color:#999999">.</span><span style="color:#000000">imshow</span><span style="color:#999999">(</span><span style="color:#000000">face_only</span><span style="color:#999999">[:,</span> <span style="color:#999999">:,</span> <span style="color:#999999">::</span><span style="color:#9a6e3a">-</span><span style="color:#990055">1</span><span style="color:#999999">])</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <img alt="" height="373" src="https://i-blog.csdnimg.cn/direct/b8c77b516b724bcda11dcc5dbad17063.png" width="411"/>
     </p>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <span style="color:#333333">
       使用密钥key对lena整体解密
      </span>
     </p>
     <pre><span style="background-color:#fafafa"><code><span style="color:#000000">lena_decryption </span><span style="color:#9a6e3a">=</span><span style="color:#000000"> cv2</span><span style="color:#999999">.</span><span style="color:#000000">bitwise_xor</span><span style="color:#999999">(</span><span style="color:#000000">lena_encryption</span><span style="color:#999999">,</span><span style="color:#000000">key</span><span style="color:#999999">)</span>
<span style="color:#000000">plt</span><span style="color:#999999">.</span><span style="color:#000000">imshow</span><span style="color:#999999">(</span><span style="color:#000000">lena_decryption</span><span style="color:#999999">[:,</span> <span style="color:#999999">:,</span> <span style="color:#999999">::</span><span style="color:#9a6e3a">-</span><span style="color:#990055">1</span><span style="color:#999999">])</span>
</code></span>
</pre>
     <p style="margin-left:0; margin-right:0; text-align:justify">
      <img alt="" height="283" src="https://i-blog.csdnimg.cn/direct/1e9c1ceefa224e2291a1f9d34d57ea4a.png" width="292"/>
     </p>
    </div>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f7975616e6765313636362f:61727469636c652f64657461696c732f313436323939393934" class_="artid" style="display:none">
 </p>
</div>


