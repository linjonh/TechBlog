---
arturl_encode: "68747470733a2f2f626c6f:672e6373646e2e6e65742f323330325f37393830363035362f:61727469636c652f64657461696c732f313436303439313438"
layout: post
title: "RabbitMQSpring-Boot-ç»“åˆ-RabbitMQ-å®Œæˆåº”ç”¨é—´çš„é€šä¿¡"
date: 2025-03-06 17:21:42 +0800
description: "Spring æ¡†æ¶ä¸ RabbitMQ çš„æ•´åˆä¸»è¦é€šè¿‡Â Spring AMQPï¼ˆAdvanced Message Queuing Protocolï¼‰æ¨¡å—å®ç°ï¼Œæä¾›äº†ä¾¿æ·çš„æ¶ˆæ¯é˜Ÿåˆ—å¼€å‘èƒ½åŠ›ã€‚@RabbitHandlerÂ æ³¨è§£ç”¨äºæ ‡è®°æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•ä¼šæ ¹æ®æ¶ˆæ¯çš„ç±»å‹æ¥å¤„ç†æ¥æ”¶åˆ°çš„æ¶ˆæ¯ã€‚å½“ä¸€ä¸ªæ¶ˆæ¯ç›‘å¬å™¨å®¹å™¨æ¥æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œå®ƒä¼šæ ¹æ®æ¶ˆæ¯çš„ç±»å‹é€‰æ‹©åˆé€‚çš„Â @RabbitHandlerÂ æ³¨è§£çš„æ–¹æ³•æ¥å¤„ç†è¯¥æ¶ˆæ¯ã€‚Â "
keywords: "ã€RabbitMQã€‘Spring Boot ç»“åˆ RabbitMQ å®Œæˆåº”ç”¨é—´çš„é€šä¿¡"
categories: ['ä¸­é—´ä»¶ä¼ä¸šçº§ä¸­é—´ä»¶å‰–æ']
tags: ['å­¦ä¹ ', 'Spring', 'Spring', 'Rabbitmq', 'Rabbitmq', 'Boot']
artid: "146049148"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146049148
    alt: "RabbitMQSpring-Boot-ç»“åˆ-RabbitMQ-å®Œæˆåº”ç”¨é—´çš„é€šä¿¡"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146049148
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146049148
cover: https://bing.ee123.net/img/rand?artid=146049148
image: https://bing.ee123.net/img/rand?artid=146049148
img: https://bing.ee123.net/img/rand?artid=146049148
---

# ã€RabbitMQã€‘Spring Boot ç»“åˆ RabbitMQ å®Œæˆåº”ç”¨é—´çš„é€šä¿¡

![](https://img-blog.csdnimg.cn/direct/2b890d64512e4255b4419b4ec36be3a2.png)

![](https://img-blog.csdnimg.cn/direct/978cee77d6a54aa684bc0ab6be5a4023.png)

ğŸ”¥ä¸ªäººä¸»é¡µï¼š
[ä¸­è‰è¯](https://blog.csdn.net/2302_79806056?spm=1000.2115.3001.5343 "ä¸­è‰è¯")

ğŸ”¥ä¸“æ ï¼š
[ã€ä¸­é—´ä»¶ã€‘ä¼ä¸šçº§ä¸­é—´ä»¶å‰–æ](https://blog.csdn.net/2302_79806056/category_12906397.html?fromshare=blogcolumn&sharetype=blogcolumn&sharerId=12906397&sharerefer=PC&sharesource=2302_79806056&sharefrom=from_link "ã€ä¸­é—´ä»¶ã€‘ä¼ä¸šçº§ä¸­é—´ä»¶å‰–æ")

---

Spring æ¡†æ¶ä¸ RabbitMQ çš„æ•´åˆä¸»è¦é€šè¿‡
**Spring AMQP**
ï¼ˆAdvanced Message Queuing Protocolï¼‰æ¨¡å—å®ç°ï¼Œæä¾›äº†ä¾¿æ·çš„æ¶ˆæ¯é˜Ÿåˆ—å¼€å‘èƒ½åŠ›ã€‚

![](https://i-blog.csdnimg.cn/direct/4b2b56f1d53844ceae6160e0e29f8487.png)

**å¼•å…¥ä¾èµ–**

```XML
    <dependencies>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-amqp</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>

        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-test</artifactId>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>org.springframework.amqp</groupId>
            <artifactId>spring-rabbit-test</artifactId>
            <scope>test</scope>
        </dependency>
    </dependencies>
```

**é…ç½®**

```XML
#é…ç½®RabbitMQçš„åŸºæœ¬ä¿¡æ¯
spring:
 rabbitmq:
 host: 110.41.51.65
 port: 15673 #é»˜è®¤ä¸º5672
 username: study
 password: study
 virtual-host: bite #é»˜è®¤å€¼ä¸º

#æˆ–è€…ä»¥ä¸‹è¿™ç§æ–¹å¼
 rabbitmq:
   addresses: #amqp://username:password@Ip:port/virtual-host
```

## ä¸€ã€å·¥ä½œé˜Ÿåˆ—æ¨¡å¼ï¼ˆWork Queueï¼‰

**åœºæ™¯**
ï¼šå¤šä¸ªæ¶ˆè´¹è€…å…±äº«ä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ¶ˆæ¯è¢«è½®è¯¢åˆ†å‘ï¼ˆRound-Robinï¼‰ï¼Œç”¨äºä»»åŠ¡åˆ†å‘å’Œè´Ÿè½½å‡è¡¡ï¼ˆå¦‚è€—æ—¶ä»»åŠ¡å¤„ç†ï¼‰ã€‚

**producer**

```java
@RestController
@RequestMapping("/producer")
public class ProducerController {
    @Autowired
    private RabbitTemplate rabbitTemplate;

    @RequestMapping("/work")
    public String work(){
        //ä½¿ç”¨å†…ç½®äº¤æ¢æœº RoutingKey å’Œé˜Ÿåˆ—åç§°ä¸€è‡´
        for (int i = 0; i < 10; i++) {
            rabbitTemplate.convertAndSend("", Constants.WORK_QUEUE,"Hello World"+i);
        }
        return "OK";
    }
}

```

**`@RabbitListener`**
æ˜¯ Spring æ¡†æ¶ä¸­ç”¨äºç›‘å¬ RabbitMQ é˜Ÿåˆ—çš„æ³¨è§£ï¼Œé€šè¿‡ä½¿ç”¨è¿™ä¸ªæ³¨è§£ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œä»¥ä¾¿ä» RabbitMQ é˜Ÿåˆ—ä¸­æ¥æ”¶æ¶ˆæ¯ï¼ˆç›¸å½“äºæ¶ˆè´¹è€…ï¼‰ã€‚è¯¥æ³¨è§£æ”¯æŒå¤šç§å‚æ•°ç±»å‹ï¼Œè¿™äº›å‚æ•°ç±»å‹ä»£è¡¨äº†ä» RabbitMQ æ¥æ”¶åˆ°çš„æ¶ˆæ¯å’Œç›¸å…³ä¿¡æ¯ã€‚

ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„å‚æ•°ç±»å‹ï¼š

1. `String`
   ï¼šè¿”å›æ¶ˆæ¯çš„å†…å®¹ã€‚
2. `Message`
   ï¼ˆ
   `org.springframework.amqp.core.Message`
   ï¼‰ï¼šSpring AMQP çš„ Message ç±»ï¼Œè¿”å›åŸå§‹çš„æ¶ˆæ¯ä½“ä»¥åŠæ¶ˆæ¯çš„å±æ€§ï¼Œå¦‚æ¶ˆæ¯ IDã€å†…å®¹ã€é˜Ÿåˆ—ä¿¡æ¯ç­‰ã€‚
3. `Channel`
   ï¼ˆ
   `com.rabbitmq.client.Channel`
   ï¼‰ï¼šRabbitMQ çš„é€šé“å¯¹è±¡ï¼Œå¯ä»¥ç”¨äºè¿›è¡Œæ›´é«˜çº§çš„æ“ä½œï¼Œå¦‚æ‰‹åŠ¨ç¡®è®¤æ¶ˆæ¯ ã€‚

```java
@Component
public class WorkListener {

    @RabbitListener(queues = Constants.WORK_QUEUE)
    public void queueListener1(Message message, Channel channel) {
        System.out.println("Listener1:["+Constants.WORK_QUEUE+"]"+message+",channel:"+channel);
    }

    @RabbitListener(queues = Constants.WORK_QUEUE)
    public void queueListener2(String message) {
        System.out.println("Listener2:["+Constants.WORK_QUEUE+"]"+message);
    }
}

```

è§‚å¯Ÿæ§åˆ¶å°

![](https://i-blog.csdnimg.cn/direct/2875e12ac1504966a309e5114e0fdae5.png)

**è½®è¯¢åˆ†å‘**
ï¼šé»˜è®¤æŒ‰é¡ºåºå°†æ¶ˆæ¯åˆ†å‘ç»™ä¸åŒæ¶ˆè´¹è€…ã€‚

## äºŒã€å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼ˆPublish/Subscribeï¼‰

**åœºæ™¯**
ï¼šæ¶ˆæ¯å¹¿æ’­åˆ°æ‰€æœ‰ç»‘å®šçš„é˜Ÿåˆ—ï¼ˆå¦‚æ—¥å¿—å¹¿æ’­ã€äº‹ä»¶é€šçŸ¥ï¼‰ï¼Œä½¿ç”¨
**Fanout äº¤æ¢æœº**
ã€‚

**å£°æ˜ä½¿ç”¨äº¤æ¢æœºå’Œé˜Ÿåˆ— å¹¶ç»‘å®š**

```java
@Configuration
public class RabbitMQConfig {
    @Bean("fanoutQueue1")
    public Queue funoutQueue1() {
        return QueueBuilder.durable(Constants.FUNOUT_QUEUE1).build();
    }

    @Bean("fanoutQueue2")
    public Queue funoutQueue2() {
        return QueueBuilder.durable(Constants.FUNOUT_QUEUE2).build();
    }

    @Bean("funoutExchange")
    public FanoutExchange funoutExchange(){
        return ExchangeBuilder.fanoutExchange(Constants.FUNOUT_EXCHANGE).durable(true).build();
    }

    @Bean("funoutQueueBinding1")
    public Binding funoutQueueBinding1(@Qualifier("fanoutQueue1") Queue queue,@Qualifier("funoutExchange") FanoutExchange funoutExchange){
        return BindingBuilder.bind(queue).to(funoutExchange);
    }

    @Bean("funoutQueueBinding2")
    public Binding funoutQueueBinding2(@Qualifier("fanoutQueue2") Queue queue,@Qualifier("funoutExchange") FanoutExchange funoutExchange){
        return BindingBuilder.bind(queue).to(funoutExchange);
    }
}

```

**producer**

```java

@RestController
@RequestMapping("/producer")
public class ProducerController {
    @Autowired
    private RabbitTemplate rabbitTemplate;

    @RequestMapping("/funout")
    public String funout(){
        rabbitTemplate.convertAndSend(Constants.FUNOUT_EXCHANGE,"","Hello Spring funout");
        return "OK";
    }
}

```

**listener**

```java
@Component
public class FunoutListener {

    @RabbitListener(queues = Constants.FUNOUT_QUEUE1)
    public void queueListener1(String message) {
        System.out.println("Listener1:["+Constants.FUNOUT_QUEUE1+"]"+message);
    }

    @RabbitListener(queues = Constants.FUNOUT_QUEUE2)
    public void queueListener2(String message) {
        System.out.println("Listener2:["+Constants.FUNOUT_QUEUE2+"]"+message);
    }
}

```

> åœ¨å®é™…å¼€å‘ä¹‹ä¸­ï¼Œä¸€ä¸ª listener ç›‘å¬ä¸€ä¸ª queue

## ä¸‰ã€è·¯ç”±æ¨¡å¼ï¼ˆRoutingï¼‰

**åœºæ™¯**
ï¼šæ ¹æ®
**è·¯ç”±é”®ï¼ˆRouting Keyï¼‰**
ç²¾å‡†åŒ¹é…ï¼Œå°†æ¶ˆæ¯å‘é€åˆ°æŒ‡å®šé˜Ÿåˆ—ï¼Œä½¿ç”¨
**Direct äº¤æ¢æœº**
ã€‚

**å£°æ˜ä½¿ç”¨äº¤æ¢æœºå’Œé˜Ÿåˆ— å¹¶ç»‘å®š**

```java
@Configuration
public class RabbitMQConfig {
     //direct
    @Bean("directQueue1")
    public Queue directQueue1() {
        return QueueBuilder.durable(Constants.DIRECT_QUEUE1).build();
    }

    @Bean("directQueue2")
    public Queue directQueue2() {
        return QueueBuilder.durable(Constants.DIRECT_QUEUE2).build();
    }

    @Bean("directExchange")
    public DirectExchange directExchange(){
        return ExchangeBuilder.directExchange(Constants.DIRECT_EXCHANGE).durable(true).build();
    }

    @Bean("directQueueBinding1")
    public Binding directQueueBinding1(@Qualifier("directQueue1") Queue queue,@Qualifier("directExchange") DirectExchange directExchange){
        return BindingBuilder.bind(queue).to(directExchange).with("orange");
    }

    @Bean("directQueueBinding2")
    public Binding directQueueBinding2(@Qualifier("directQueue2") Queue queue,@Qualifier("directExchange") DirectExchange directExchange){
        return BindingBuilder.bind(queue).to(directExchange).with("black");
    }

    @Bean("directQueueBinding3")
    public Binding directQueueBinding3(@Qualifier("directQueue2") Queue queue,@Qualifier("directExchange") DirectExchange directExchange){
        return BindingBuilder.bind(queue).to(directExchange).with("orange");
    }
}

```

**producer**

```java

@RestController
@RequestMapping("/producer")
public class ProducerController {
    @Autowired
    private RabbitTemplate rabbitTemplate;

      @RequestMapping("/direct/{routingKey}")
    public String direct(@PathVariable String routingKey){
        rabbitTemplate.convertAndSend(Constants.DIRECT_EXCHANGE,routingKey,"Hello Spring direct "+routingKey);
        return "direct OK";
    }
}

```

**listener**

```java
@Component
public class DirectListener {

    @RabbitListener(queues = Constants.DIRECT_QUEUE1)
    public void queueListener1(String message) {
        System.out.println("Listener1:["+Constants.DIRECT_QUEUE1+"]"+message);
    }

    @RabbitListener(queues = Constants.DIRECT_QUEUE2)
    public void queueListener2(String message) {
        System.out.println("Listener2:["+Constants.DIRECT_QUEUE2+"]"+message);
    }
}

```

å¦‚æœæŸä¸€ä¸ªé˜Ÿåˆ—å³ç»‘å®šäº†blackå’Œorangeï¼Œå°†ä¼šåˆ†åˆ«å‘é€åˆ°é˜Ÿåˆ—

![](https://i-blog.csdnimg.cn/direct/9c1cf2a7a0b54bcaa94d2de6e28f3318.png)

## å››ã€é€šé…ç¬¦æ¨¡å¼ï¼ˆTopicsï¼‰

**åœºæ™¯**
ï¼šæ ¹æ®è·¯ç”±é”®çš„
**é€šé…ç¬¦è§„åˆ™**
åŒ¹é…é˜Ÿåˆ—ï¼Œä½¿ç”¨
**Topic äº¤æ¢æœº**
ï¼Œæ”¯æŒ
`*`
ï¼ˆåŒ¹é…ä¸€ä¸ªå•è¯ï¼‰å’Œ
`#`
ï¼ˆåŒ¹é…å¤šä¸ªå•è¯ï¼‰ã€‚

Topics å’Œ Routing æ¨¡å¼çš„åŒºåˆ«æ˜¯:

1. topics æ¨¡å¼ä½¿ç”¨çš„äº¤æ¢æœºç±»å‹ä¸º topic (Routing æ¨¡å¼ä½¿ç”¨çš„äº¤æ¢æœºç±»å‹ä¸º direct)
2. topic ç±»å‹çš„äº¤æ¢æœºåœ¨åŒ¹é…è§„åˆ™ä¸Šè¿›è¡Œäº†æ‰©å±•ï¼ŒBinding Key æ”¯æŒé€šé…ç¬¦åŒ¹é…

**å£°æ˜ä½¿ç”¨äº¤æ¢æœºå’Œé˜Ÿåˆ— å¹¶ç»‘å®š**

```java
@Configuration
public class RabbitMQConfig {
      //TOPIC
    @Bean("topicExchange")
    public TopicExchange topicExchange(){
        return ExchangeBuilder.topicExchange(Constants.TOPIC_EXCHANGE).durable(true).build();
    }

    @Bean("topicQueue1")
    public Queue topicQueue1(){
        return QueueBuilder.durable(Constants.TOPIC_QUEUE1).build();
    }

    @Bean("topicQueue2")
    public Queue topicQueue2(){
        return QueueBuilder.durable(Constants.TOPIC_QUEUE2).build();
    }

    @Bean("topicQueueBinding1")
    public Binding topicQueueBinding1(@Qualifier("topicExchange")TopicExchange topicExchange,@Qualifier("topicQueue1") Queue topicQueue){
        return BindingBuilder.bind(topicQueue).to(topicExchange()).with("*.orange.*");
    }

    @Bean("topicQueueBinding2")
    public Binding topicQueueBinding2(@Qualifier("topicExchange")TopicExchange topicExchange,@Qualifier("topicQueue2") Queue topicQueue){
        return BindingBuilder.bind(topicQueue).to(topicExchange).with("*.*.rabbit");
    }

    @Bean("topicQueueBinding3")
    public Binding topicQueueBinding3(@Qualifier("topicExchange")TopicExchange topicExchange,@Qualifier("topicQueue2") Queue topicQueue){
        return BindingBuilder.bind(topicQueue).to(topicExchange).with("lazy.#");
    }
}

```

**producer**

```java

@RestController
@RequestMapping("/producer")
public class ProducerController {
    @Autowired
    private RabbitTemplate rabbitTemplate;

      @RequestMapping("/topic/{routingKey}")
    public String topic(@PathVariable String routingKey){
        rabbitTemplate.convertAndSend(Constants.TOPIC_EXCHANGE,routingKey,"Hello Spring topic "+routingKey);
        return "topic OK";
    }
}

```

**listener**

```java
@Component
public class TopicListener {

    @RabbitListener(queues = Constants.TOPIC_QUEUE1)
    public void queueListener1(String message) {
        System.out.println("Listener1:["+Constants.TOPIC_QUEUE1+"]"+message);
    }

    @RabbitListener(queues = Constants.TOPIC_QUEUE2)
    public void queueListener2(String message) {
        System.out.println("Listener2:["+Constants.TOPIC_QUEUE2+"]"+message);
    }
}

```

## äº”ã€å®Œæˆåº”ç”¨é€šä¿¡

SpringBoot æ•´åˆ RabbitMQ å®ç°åº”ç”¨é€šä¿¡æ˜¯å¾®æœåŠ¡/åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å¸¸è§çš„å¼‚æ­¥è§£è€¦æ–¹æ¡ˆã€‚

**ä»¥æ­¤å›¾ä¸ºå®ä¾‹**

![](https://i-blog.csdnimg.cn/direct/1d269c13aed245bc839eb02c18548ea6.png)

**è®¢å•ç³»ç»Ÿ**

```java
@Configuration
public class RabbitMQConfig {
    @Bean("orderQueue")
    public Queue orderQueue() {
        return QueueBuilder.durable("order.create").build();
    }
}


@RestController
@RequestMapping("/order")
public class OrderController {
    @Autowired
    private RabbitTemplate rabbitTemplate;

    @RequestMapping("/create")
    public String create(){
        rabbitTemplate.convertAndSend("","order.create","è®¢å•ä¿¡æ¯ï¼Œè®¢å•IDï¼š"+ UUID.randomUUID());
        //è¿™é‡Œä»…ä»…æ˜¯æ¨¡æ‹Ÿæ¼”ç¤ºï¼Œå®é™…çš„ä¸‹å•æ“ä½œæ¯”è¾ƒå¤æ‚ï¼ŒåŒ…æ‹¬å‚æ•°çš„æ ¡éªŒï¼Œæ•°æ®åº“å­˜å‚¨ç­‰ç­‰ ä¸šåŠ¡ä»£ç çœç•¥
        return "ä¸‹å•æˆåŠŸ";
    }
}

```

**ç‰©æµç³»ç»Ÿ**

```java
@Component
@RabbitListener(queues = "order.create")
public class OrderListener {
    @RabbitHandler
    //è¯¥æ³¨è§£æ ¹æ®æ‰€è¯†åˆ«çš„æ•°æ®ç±»å‹ä¸åŒè‡ªåŠ¨åˆ†é…ä¸åŒçš„æ–¹æ³•
    public void handleOrder(String orderInfo) {
        System.out.println("æ¥æ”¶åˆ°æ–°çš„è®¢å•æ¶ˆæ¯ï¼š"+orderInfo);
        //æ¥æ”¶åˆ°è®¢å•æ¶ˆæ¯åï¼Œè¿›è¡Œç›¸åº”çš„ä¸šåŠ¡å‡ºè·¯ ä»£ç çœç•¥
    }

    @RabbitHandler
    //åœ¨æ­¤å¤„ä¸ºæ–¹ä¾¿æ¼”ç¤ºæˆ‘ä»¬å°†order-service è®©æ­¤é¡¹ç›®åº”ç”¨
    //æ­£ç¡®çš„åšæ³•æ˜¯å°†OrderInfoæŠ½å–å‡ºæ¥å•ç‹¬ä½œä¸ºä¸€ä¸ªåŒ…ï¼Œä¸¤ä¸ªserviceéƒ½å¼•ç”¨è¿™ä¸ªåŒ…
    public void handleOrder2(OrderInfo orderInfo) {
        System.out.println("æ¥æ”¶åˆ°æ–°çš„è®¢å•æ¶ˆæ¯ï¼š"+orderInfo);
    }
}

```

**`@RabbitHandler`**
æ³¨è§£ç”¨äºæ ‡è®°æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•ä¼šæ ¹æ®æ¶ˆæ¯çš„ç±»å‹æ¥å¤„ç†æ¥æ”¶åˆ°çš„æ¶ˆæ¯ã€‚å½“ä¸€ä¸ªæ¶ˆæ¯ç›‘å¬å™¨å®¹å™¨æ¥æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œå®ƒä¼šæ ¹æ®æ¶ˆæ¯çš„ç±»å‹é€‰æ‹©åˆé€‚çš„
`@RabbitHandler`
æ³¨è§£çš„æ–¹æ³•æ¥å¤„ç†è¯¥æ¶ˆæ¯ã€‚

**æµ‹è¯•ç»“æœ**

![](https://i-blog.csdnimg.cn/direct/8f2bdfba689d4cef848d7cb3ec9aadd5.png)

å½“åœ¨å‘é€çš„æ˜¯ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œä¸ºä¿è¯å¯¹è±¡çš„å¯è¯»æ€§ï¼Œæˆ‘ä»¬è¦ä¿è¯å¯¹è±¡å¯è¢«åºåˆ—åŒ–ï¼Œä¸”é€šè¿‡ Jackson2JsonMessageConverter å°†å…¶ä»åŸç”Ÿåºåˆ—åŒ–æ”¹ä¸ºJsonæ ¼å¼

```java
@Configuration
public class RabbitMQConfig {
    @Bean
    public Jackson2JsonMessageConverter messageConverter() {
        return new Jackson2JsonMessageConverter();
    }

    @Bean
    public RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory) {
        RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);
        rabbitTemplate.setMessageConverter(messageConverter());
        return rabbitTemplate;
    }
}

```

> å¯¹äºListenerï¼Œä¸ºä¿è¯åŒæ ·å…·æœ‰è§£è¯»jsonçš„èƒ½åŠ›ï¼Œä¹Ÿåº”è¯¥å»åŠ ä¸Šç›¸åŒçš„é…ç½®

```java
@Data
public class OrderInfo implements Serializable {//å®ç°åºåˆ—åŒ–æ¥å£
    private String orderId;
    private String name;
}

```

å¯è§‚å¯Ÿç»“æœ

![](https://i-blog.csdnimg.cn/direct/dc52eae97349459fb96a8b94a8f7453a.png)

---

> å¯¹æ—¶é—´çš„æ…·æ…¨ï¼Œå°±ç­‰äºæ…¢æ€§è‡ªæ€ã€‚â€”â€”å¥¥æ–¯ç‰¹æ´›å¤«æ–¯åŸº

ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€ğŸ€

ä»¥ä¸Šï¼Œå°±æ˜¯æœ¬æœŸçš„å…¨éƒ¨å†…å®¹å•¦ï¼Œè‹¥æœ‰é”™è¯¯ç–å¿½å¸Œæœ›å„ä½å¤§ä½¬åŠæ—¶æŒ‡å‡ºğŸ’

åˆ¶ä½œä¸æ˜“ï¼Œå¸Œæœ›èƒ½å¯¹å„ä½æä¾›å¾®å°çš„å¸®åŠ©ï¼Œå¯å¦ç•™ä¸‹ä½ å…è´¹çš„èµå‘¢ğŸŒ¸