---
layout: post
title: "linux-ubuntu-使用时一些小问题整理-持续更新"
date: 2025-03-12 17:31:57 +0800
description: "通过以上步骤，可以解决pupu用户提示符显示不完整和快捷键无法正常使用的问题。如果还有其他问题，可以进一步检查用户的shell配置文件和环境变量设置。"
keywords: "linux - ubuntu 使用时一些小问题整理 --- 持续更新"
categories: ['Linux']
tags: ['运维', '服务器', 'Linux']
artid: "146181992"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146181992
    alt: "linux-ubuntu-使用时一些小问题整理-持续更新"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146181992
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146181992
cover: https://bing.ee123.net/img/rand?artid=146181992
image: https://bing.ee123.net/img/rand?artid=146181992
img: https://bing.ee123.net/img/rand?artid=146181992
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     linux - ubuntu 使用时一些小问题整理 --- 持续更新
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <hr id="hr-toc" name="tableOfContents"/>
    <p>
    </p>
    <h2 id="ubuntu%20%E4%B8%AD%20root%E7%94%A8%E6%88%B7%E9%BB%98%E8%AE%A4%E4%B8%8D%E5%AD%98%E5%9C%A8%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95" name="ubuntu%20%E4%B8%AD%20root%E7%94%A8%E6%88%B7%E9%BB%98%E8%AE%A4%E4%B8%8D%E5%AD%98%E5%9C%A8%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95">
     <span style="color:#0d0016">
      ubuntu 中 root用户默认不存在解决办法
     </span>
    </h2>
    <p>
     <span style="color:#0d0016">
      root 默认不存在，要使用 root 需要为 root 设置新密码：
     </span>
    </p>
    <pre><code class="language-bash">sudo passwd root</code></pre>
    <p>
     <span style="color:#0d0016">
      然后再输入密码，就可以使用root:
     </span>
    </p>
    <pre><code class="language-bash">su root</code></pre>
    <p>
     <span style="color:#0d0016">
      下载vim:
     </span>
    </p>
    <pre><code class="language-bash">apt-get install vim</code></pre>
    <h2 id="%E5%9C%A8Ubuntu%E7%B3%BB%E7%BB%9F%E4%B8%AD%EF%BC%8C%E5%B0%86%E7%94%A8%E6%88%B7%E6%B7%BB%E5%8A%A0%E5%88%B0sudoers%E6%96%87%E4%BB%B6%E4%B8%AD%EF%BC%8C%E4%BD%BF%E5%85%B6%E8%83%BD%E5%A4%9F%E4%BB%A5%E8%B6%85%E7%BA%A7%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%EF%BC%8C%E9%80%9A%E5%B8%B8%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E4%BB%A5%E4%B8%8B%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95%E5%AE%9E%E7%8E%B0%EF%BC%9A" name="%E5%9C%A8Ubuntu%E7%B3%BB%E7%BB%9F%E4%B8%AD%EF%BC%8C%E5%B0%86%E7%94%A8%E6%88%B7%E6%B7%BB%E5%8A%A0%E5%88%B0sudoers%E6%96%87%E4%BB%B6%E4%B8%AD%EF%BC%8C%E4%BD%BF%E5%85%B6%E8%83%BD%E5%A4%9F%E4%BB%A5%E8%B6%85%E7%BA%A7%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%EF%BC%8C%E9%80%9A%E5%B8%B8%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E4%BB%A5%E4%B8%8B%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95%E5%AE%9E%E7%8E%B0%EF%BC%9A">
     <span style="color:#0d0016">
      在Ubuntu系统中，将用户添加到
      <code>
       sudoers
      </code>
      文件中，使其能够以超级用户权限执行命令，通常可以通过以下几种方法实现：
     </span>
    </h2>
    <h4 id="%E6%96%B9%E6%B3%951%EF%BC%9A%E5%B0%86%E7%94%A8%E6%88%B7%E6%B7%BB%E5%8A%A0%E5%88%B0sudo%E7%BB%84" name="%E6%96%B9%E6%B3%951%EF%BC%9A%E5%B0%86%E7%94%A8%E6%88%B7%E6%B7%BB%E5%8A%A0%E5%88%B0sudo%E7%BB%84">
     <span style="color:#0d0016">
      方法1：将用户添加到
      <code>
       sudo
      </code>
      组
     </span>
    </h4>
    <p>
     <span style="color:#0d0016">
      Ubuntu系统中，
      <code>
       sudo
      </code>
      组的成员默认具有
      <code>
       sudo
      </code>
      权限。因此，将用户添加到
      <code>
       sudo
      </code>
      组是最简单且推荐的方式。
     </span>
    </p>
    <ol>
     <li>
      <p>
       <span style="color:#0d0016">
        <strong>
         打开终端
        </strong>
        。
       </span>
      </p>
     </li>
     <li>
      <p>
       <span style="color:#0d0016">
        <strong>
         使用以下命令将用户添加到
         <code>
          sudo
         </code>
         组
        </strong>
        ：
       </span>
      </p>
      <pre><code>sudo usermod -aG sudo &lt;username&gt;</code></pre>
      <p>
       <span style="color:#0d0016">
        其中，
        <code>
         &lt;username&gt;
        </code>
        是需要添加到
        <code>
         sudo
        </code>
        组的用户名。
       </span>
      </p>
     </li>
     <li>
      <p>
       <span style="color:#0d0016">
        <strong>
         注销并重新登录
        </strong>
        ，或者重启系统，使更改生效。
       </span>
      </p>
     </li>
    </ol>
    <h4 id="%E6%96%B9%E6%B3%952%EF%BC%9A%E7%9B%B4%E6%8E%A5%E7%BC%96%E8%BE%91sudoers%E6%96%87%E4%BB%B6" name="%E6%96%B9%E6%B3%952%EF%BC%9A%E7%9B%B4%E6%8E%A5%E7%BC%96%E8%BE%91sudoers%E6%96%87%E4%BB%B6">
     <span style="color:#0d0016">
      方法2：直接编辑
      <code>
       sudoers
      </code>
      文件
     </span>
    </h4>
    <p>
     <span style="color:#0d0016">
      虽然不推荐直接编辑
      <code>
       sudoers
      </code>
      文件，因为操作不当可能会导致系统权限问题，但有时也可以通过以下步骤实现：
     </span>
    </p>
    <ol>
     <li>
      <p>
       <span style="color:#0d0016">
        <strong>
         打开终端
        </strong>
        。
       </span>
      </p>
     </li>
     <li>
      <p>
       <span style="color:#0d0016">
        <strong>
         使用
         <code>
          visudo
         </code>
         命令编辑
         <code>
          sudoers
         </code>
         文件
        </strong>
        ：
       </span>
      </p>
      <pre><code>sudo visudo</code></pre>
      <p>
       <span style="color:#0d0016">
        <code>
         visudo
        </code>
        命令会打开一个文本编辑器（通常是
        <code>
         nano
        </code>
        或
        <code>
         vi
        </code>
        ），并自动检查语法错误。
       </span>
      </p>
     </li>
     <li>
      <p>
       <span style="color:#0d0016">
        <strong>
         在文件中添加以下行
        </strong>
        ：
       </span>
      </p>
      <span style="color:#0d0016">
       <code>
        &lt;username&gt; ALL=(ALL:ALL) ALL
       </code>
      </span>
      <p>
       <span style="color:#0d0016">
        这表示用户
        <code>
         &lt;username&gt;
        </code>
        可以以任何用户的身份执行任何命令。
       </span>
      </p>
     </li>
     <li>
      <p>
       <span style="color:#0d0016">
        <strong>
         保存并退出编辑器
        </strong>
        ：
       </span>
      </p>
      <ul>
       <li>
        <p>
         <span style="color:#0d0016">
          如果使用的是
          <code>
           nano
          </code>
          ，按
          <code>
           Ctrl+X
          </code>
          ，然后按
          <code>
           Y
          </code>
          确认保存，最后按
          <code>
           Enter
          </code>
          键退出。
         </span>
        </p>
       </li>
       <li>
        <p>
         <span style="color:#0d0016">
          如果使用的是
          <code>
           vi
          </code>
          ，按
          <code>
           Esc
          </code>
          键，输入
          <code>
           :wq
          </code>
          并按
          <code>
           Enter
          </code>
          键保存并退出。
         </span>
        </p>
       </li>
      </ul>
     </li>
    </ol>
    <p>
    </p>
    <h2 id="%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E7%9A%84shell%E7%B1%BB%E5%9E%8B" name="%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E7%9A%84shell%E7%B1%BB%E5%9E%8B">
     <span style="color:#0d0016">
      修改用户的shell类型、问题：用户的提示符只有
      <code>
       $
      </code>
     </span>
    </h2>
    <p>
     <span style="color:#0d0016">
      pupu用户的提示符只有
      <code>
       $
      </code>
      ，没有显示当前目录等信息，并且快捷键用不了，这可能是因为其默认的shell是
      <code>
       sh
      </code>
      而不是
      <code>
       bash
      </code>
      。
      <code>
       sh
      </code>
      不支持一些快捷键操作，如方向键等，因此需要将pupu用户的shell改为
      <code>
       bash
      </code>
      。
     </span>
    </p>
    <h5 id="%E7%BC%96%E8%BE%91%2Fetc%2Fpasswd%E6%96%87%E4%BB%B6" name="%E7%BC%96%E8%BE%91%2Fetc%2Fpasswd%E6%96%87%E4%BB%B6">
     <span style="color:#0d0016">
      编辑
      <code>
       /etc/passwd
      </code>
      文件
     </span>
    </h5>
    <p>
     <span style="color:#0d0016">
      使用文本编辑器打开
      <code>
       /etc/passwd
      </code>
      文件：
     </span>
    </p>
    <pre><code>sudo vi /etc/passwd</code></pre>
    <p>
     <span style="color:#0d0016">
      找到pupu用户对应的行，将行末的
      <code>
       /bin/sh
      </code>
      改为
      <code>
       /bin/bash
      </code>
      ，修改后的行类似如下：
     </span>
    </p>
    <p>
     <span style="color:#0d0016">
      <code>
       pupu:x:1002:1003::/home/pupu:/bin/bash
      </code>
     </span>
    </p>
    <p>
     <span style="color:#0d0016">
      保存并退出编辑器。
     </span>
    </p>
    <h4 id="%E4%BD%BF%E9%85%8D%E7%BD%AE%E7%94%9F%E6%95%88" name="%E4%BD%BF%E9%85%8D%E7%BD%AE%E7%94%9F%E6%95%88">
     <span style="color:#0d0016">
      使配置生效
     </span>
    </h4>
    <p>
     <span style="color:#0d0016">
      切换到pupu用户，查看是否能够正常显示提示符和使用快捷键：
     </span>
    </p>
    <pre><code>su - pupu</code></pre>
    <h4 id="%E6%A3%80%E6%9F%A5%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE" name="%E6%A3%80%E6%9F%A5%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE">
     <span style="color:#0d0016">
      检查环境变量配置
     </span>
    </h4>
    <p>
     <span style="color:#0d0016">
      如果修改shell类型后问题仍然存在，可以检查pupu用户的环境变量配置。编辑
      <code>
       ~/.bashrc
      </code>
      文件，确保其中没有错误的配置：
     </span>
    </p>
    <pre><code>nano ~/.bashrc</code></pre>
    <p>
     <span style="color:#0d0016">
      如果发现异常配置，可以参考默认的
      <code>
       /etc/skel/.bashrc
      </code>
      文件进行修复。
     </span>
    </p>
    <p>
    </p>
    <h2 id="%E4%BD%BF%E7%94%A8useradd%E5%91%BD%E4%BB%A4%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7" name="%E4%BD%BF%E7%94%A8useradd%E5%91%BD%E4%BB%A4%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7">
     <span style="color:#0d0016">
      使用
      <code>
       useradd
      </code>
      命令创建用户
     </span>
    </h2>
    <pre><code>sudo useradd -m -s /bin/bash 新用户名</code></pre>
    <ul>
     <li>
      <p>
       <span style="color:#0d0016">
        <code>
         -m
        </code>
        ：自动创建用户的家目录（
        <code>
         /home/新用户名
        </code>
        ）。
       </span>
      </p>
     </li>
     <li>
      <p>
       <span style="color:#0d0016">
        <code>
         -s /bin/bash
        </code>
        ：指定用户的默认shell为bash，确保支持快捷键和完整功能。
       </span>
      </p>
     </li>
    </ul>
    <h4 id="%E8%AE%BE%E7%BD%AE%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81" name="%E8%AE%BE%E7%BD%AE%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81">
     <span style="color:#0d0016">
      设置用户密码
     </span>
    </h4>
    <pre><code>sudo passwd 新用户名</code></pre>
    <p>
     <span style="color:#0d0016">
      按提示输入并确认新用户的密码。
     </span>
    </p>
    <h4 id="%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%94%A8%E6%88%B7%E7%BB%84" name="%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%94%A8%E6%88%B7%E7%BB%84">
     <span style="color:#0d0016">
      添加到用户组
     </span>
    </h4>
    <pre><code>sudo usermod -aG sudo 新用户名</code></pre>
    <p>
     <span style="color:#0d0016">
      将新用户添加到sudo组，使其具有管理员权限。
     </span>
    </p>
    <h4 id="%E9%AA%8C%E8%AF%81%E7%94%A8%E6%88%B7%E9%85%8D%E7%BD%AE" name="%E9%AA%8C%E8%AF%81%E7%94%A8%E6%88%B7%E9%85%8D%E7%BD%AE">
     <span style="color:#0d0016">
      验证用户配置
     </span>
    </h4>
    <p>
     <span style="color:#0d0016">
      切换到新用户，检查家目录、shell功能和快捷键是否正常：
     </span>
    </p>
    <pre><code>su - 新用户名</code></pre>
    <p>
     <span style="color:#0d0016">
      通过以上步骤创建的新用户，其提示符会显示用户名、主机名和当前目录，并且支持方向键等快捷键操作。
     </span>
    </p>
    <p>
    </p>
    <h2 id="%E6%81%A2%E5%A4%8Dhome%E5%AE%B6%E7%9B%AE%E5%BD%95" name="%E6%81%A2%E5%A4%8Dhome%E5%AE%B6%E7%9B%AE%E5%BD%95">
     <span style="color:#0d0016">
      恢复home家目录
     </span>
    </h2>
    <p>
     <span style="color:#0d0016">
      以root用户身份登录，并且当前所在目录是根目录
      <code>
       /
      </code>
      。从输出结果来看，根目录下有一个异常的
      <code>
       home
      </code>
      目录（
      <code>
       home$'\b'
      </code>
      ），这可能是由于之前的误操作导致的。
     </span>
    </p>
    <h4 id="%E4%BF%AE%E5%A4%8D%E6%AD%A5%E9%AA%A4" name="%E4%BF%AE%E5%A4%8D%E6%AD%A5%E9%AA%A4">
     <span style="color:#0d0016">
      修复步骤
     </span>
    </h4>
    <h5 id="1.%20%E5%88%A0%E9%99%A4%E5%BC%82%E5%B8%B8%E7%9A%84home%E7%9B%AE%E5%BD%95" name="1.%20%E5%88%A0%E9%99%A4%E5%BC%82%E5%B8%B8%E7%9A%84home%E7%9B%AE%E5%BD%95">
     <span style="color:#0d0016">
      1. 删除异常的
      <code>
       home
      </code>
      目录
     </span>
    </h5>
    <p>
     <span style="color:#0d0016">
      首先，删除这个异常的
      <code>
       home
      </code>
      目录：
     </span>
    </p>
    <pre><code>rm -rf /home$'\b'</code></pre>
    <h5 id="2.%20%E9%87%8D%E6%96%B0%E5%88%9B%E5%BB%BA%E6%AD%A3%E5%B8%B8%E7%9A%84home%E7%9B%AE%E5%BD%95" name="2.%20%E9%87%8D%E6%96%B0%E5%88%9B%E5%BB%BA%E6%AD%A3%E5%B8%B8%E7%9A%84home%E7%9B%AE%E5%BD%95">
     <span style="color:#0d0016">
      2. 重新创建正常的
      <code>
       home
      </code>
      目录
     </span>
    </h5>
    <p>
     <span style="color:#0d0016">
      创建一个正常的
      <code>
       home
      </code>
      目录：
     </span>
    </p>
    <pre><code>mkdir /home</code></pre>
    <h5 id="3.%20%E8%AE%BE%E7%BD%AEhome%E7%9B%AE%E5%BD%95%E7%9A%84%E6%9D%83%E9%99%90" name="3.%20%E8%AE%BE%E7%BD%AEhome%E7%9B%AE%E5%BD%95%E7%9A%84%E6%9D%83%E9%99%90">
     <span style="color:#0d0016">
      3. 设置
      <code>
       home
      </code>
      目录的权限
     </span>
    </h5>
    <p>
     <span style="color:#0d0016">
      确保
      <code>
       home
      </code>
      目录的权限正确：
     </span>
    </p>
    <pre><code>chmod 755 /home</code></pre>
    <h5 id="4.%20%E9%87%8D%E6%96%B0%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E7%9A%84%E5%AE%B6%E7%9B%AE%E5%BD%95" name="4.%20%E9%87%8D%E6%96%B0%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E7%9A%84%E5%AE%B6%E7%9B%AE%E5%BD%95">
     <span style="color:#0d0016">
      4. 重新创建用户的家目录
     </span>
    </h5>
    <p>
     <span style="color:#0d0016">
      为
      <code>
       pupu
      </code>
      和
      <code>
       ubuntu
      </code>
      用户重新创建他们的家目录：
     </span>
    </p>
    <pre><code>mkdir /home/pupu
mkdir /home/ubuntu</code></pre>
    <h5 id="5.%20%E8%AE%BE%E7%BD%AE%E5%AE%B6%E7%9B%AE%E5%BD%95%E7%9A%84%E6%89%80%E6%9C%89%E6%9D%83%E5%92%8C%E6%9D%83%E9%99%90" name="5.%20%E8%AE%BE%E7%BD%AE%E5%AE%B6%E7%9B%AE%E5%BD%95%E7%9A%84%E6%89%80%E6%9C%89%E6%9D%83%E5%92%8C%E6%9D%83%E9%99%90">
     <span style="color:#0d0016">
      5. 设置家目录的所有权和权限
     </span>
    </h5>
    <p>
     <span style="color:#0d0016">
      确保这些家目录的所有权和权限正确：
     </span>
    </p>
    <pre><code>chown -R pupu:pupu /home/pupu
chown -R ubuntu:ubuntu /home/ubuntu
chmod 700 /home/pupu
chmod 700 /home/ubuntu</code></pre>
    <h5 id="6.%20%E6%81%A2%E5%A4%8D%E9%BB%98%E8%AE%A4%E7%9A%84shell%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" name="6.%20%E6%81%A2%E5%A4%8D%E9%BB%98%E8%AE%A4%E7%9A%84shell%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">
     <span style="color:#0d0016">
      6. 恢复默认的shell配置文件
     </span>
    </h5>
    <p>
     <span style="color:#0d0016">
      如果家目录被删除，用户的shell配置文件（如
      <code>
       .bashrc
      </code>
      、
      <code>
       .profile
      </code>
      等）也会丢失。我们可以从系统的默认配置文件中恢复这些文件。
     </span>
    </p>
    <p>
     <span style="color:#0d0016">
      对于
      <code>
       pupu
      </code>
      用户：
     </span>
    </p>
    <pre><code>cp /etc/skel/.bashrc /home/pupu/
cp /etc/skel/.profile /home/pupu/
chown pupu:pupu /home/pupu/.bashrc
chown pupu:pupu /home/pupu/.profile</code></pre>
    <p>
     <span style="color:#0d0016">
      对于
      <code>
       ubuntu
      </code>
      用户：
     </span>
    </p>
    <pre><code>cp /etc/skel/.bashrc /home/ubuntu/
cp /etc/skel/.profile /home/ubuntu/
chown ubuntu:ubuntu /home/ubuntu/.bashrc
chown ubuntu:ubuntu /home/ubuntu/.profile</code></pre>
    <h5 id="7.%20%E9%AA%8C%E8%AF%81%E4%BF%AE%E5%A4%8D%E7%BB%93%E6%9E%9C" name="7.%20%E9%AA%8C%E8%AF%81%E4%BF%AE%E5%A4%8D%E7%BB%93%E6%9E%9C">
     <span style="color:#0d0016">
      7. 验证修复结果
     </span>
    </h5>
    <p>
     <span style="color:#0d0016">
      切换到
      <code>
       pupu
      </code>
      用户，验证是否能够正常访问家目录并执行操作：
     </span>
    </p>
    <pre><code>su - pupu</code></pre>
    <p>
     <span style="color:#0d0016">
      同样，切换到
      <code>
       ubuntu
      </code>
      用户进行验证：
     </span>
    </p>
    <pre><code>su - ubuntu</code></pre>
    <h2 style="background-color:transparent">
     <span style="color:#0d0016">
      <strong>
       修复
       <code>
        .git
       </code>
       目录权限解决方案
      </strong>
     </span>
    </h2>
    <p>
     <span style="color:#0d0016">
      在上传代码到gitee的时候如果是第一次，并且在 git commit 的时候忽略了他的报错 ，再使用sudo去使用root权限上传就会导致虽然代码上传了，但是没有绿点的问题。
     </span>
    </p>
    <p>
     <span style="color:#0d0016">
      <img alt="" height="340" src="https://i-blog.csdnimg.cn/direct/9597ab337dde43e2a5b23903136197b5.png" width="570"/>
     </span>
    </p>
    <p>
     <span style="color:#0d0016">
      <strong>
       方法 1：修复
       <code>
        .git
       </code>
       目录权限
      </strong>
     </span>
    </p>
    <p>
     <span style="color:#0d0016">
      将
      <code>
       .git
      </code>
      目录及其文件的所有权归还给当前用户（替换
      <code>
       pupu
      </code>
      为你的实际用户名）：
     </span>
    </p>
    <pre><code class="language-bash">sudo chown -R pupu:pupu .git</code></pre>
    <p>
     <span style="color:#0d0016">
      此命令递归修复
      <code>
       .git
      </code>
      目录下所有文件的属主，确保普通用户有读写权限。
     </span>
    </p>
    <h5 id="%E6%96%B9%E6%B3%95%202%EF%BC%9A%E7%9B%B4%E6%8E%A5%E4%BF%AE%E5%A4%8D%E5%85%B3%E9%94%AE%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90" name="%E6%96%B9%E6%B3%95%202%EF%BC%9A%E7%9B%B4%E6%8E%A5%E4%BF%AE%E5%A4%8D%E5%85%B3%E9%94%AE%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90">
     <span style="color:#0d0016">
      <strong>
       方法 2：直接修复关键文件权限
      </strong>
     </span>
    </h5>
    <p>
     <span style="color:#0d0016">
      如果仅需修复
      <code>
       COMMIT_EDITMSG
      </code>
      文件：
     </span>
    </p>
    <pre><code class="language-bash">sudo chown pupu:pupu .git/COMMIT_EDITMSG</code></pre>
    <hr/>
    <h4 id="%E5%90%8E%E7%BB%AD%E6%93%8D%E4%BD%9C" name="%E5%90%8E%E7%BB%AD%E6%93%8D%E4%BD%9C">
     <span style="color:#0d0016">
      <strong>
       后续操作
      </strong>
     </span>
    </h4>
    <ol>
     <li>
      <p>
       <span style="color:#0d0016">
        <strong>
         重新提交代码
        </strong>
        ：
       </span>
      </p>
      <pre><code class="language-bash">git add .
git commit -m "你的提交信息"
git push</code></pre>
      <p>
      </p>
     </li>
     <li>
      <p>
       <span style="color:#0d0016">
        <strong>
         验证提交者信息
        </strong>
        ：
       </span>
      </p>
      <ul>
       <li>
        <p>
         <span style="color:#0d0016">
          提交后检查 Git 日志，确保作者信息正确：
         </span>
        </p>
        <pre><code class="language-bash">git log --pretty=format:"%h - %an, %ae, %ad"</code></pre>
       </li>
       <li>
        <p>
         <span style="color:#0d0016">
          如果作者信息仍为
          <code>
           root
          </code>
          ，使用
          <code>
           git commit --amend
          </code>
          修正（见下文）。
         </span>
        </p>
       </li>
      </ul>
     </li>
    </ol>
    <hr/>
    <h4 id="%E4%BF%AE%E6%AD%A3%E5%8E%86%E5%8F%B2%E6%8F%90%E4%BA%A4%E7%9A%84%E4%BD%9C%E8%80%85%E4%BF%A1%E6%81%AF%EF%BC%88%E5%8F%AF%E9%80%89%EF%BC%89" name="%E4%BF%AE%E6%AD%A3%E5%8E%86%E5%8F%B2%E6%8F%90%E4%BA%A4%E7%9A%84%E4%BD%9C%E8%80%85%E4%BF%A1%E6%81%AF%EF%BC%88%E5%8F%AF%E9%80%89%EF%BC%89">
     <span style="color:#0d0016">
      <strong>
       修正历史提交的作者信息（可选）
      </strong>
     </span>
    </h4>
    <p>
     <span style="color:#0d0016">
      如果之前的提交仍关联
      <code>
       root
      </code>
      身份，可通过以下命令修正：
     </span>
    </p>
    <pre><code class="language-cpp">git commit --amend --author="你的Gitee用户名 &lt;你的Gitee绑定邮箱&gt;"
git push --force</code></pre>
    <hr/>
    <h4 id="%E5%85%B3%E9%94%AE%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9" name="%E5%85%B3%E9%94%AE%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">
     <span style="color:#0d0016">
      <strong>
       关键注意事项
      </strong>
     </span>
    </h4>
    <blockquote>
     <ol>
      <li>
       <p>
        <span style="color:#0d0016">
         <strong>
          避免使用
          <code>
           sudo
          </code>
          操作 Git
         </strong>
         ：
        </span>
       </p>
       <ul>
        <li>
         <p>
          <span style="color:#0d0016">
           Git 仓库无需 root 权限，始终以普通用户操作。
          </span>
         </p>
        </li>
        <li>
         <p>
          <span style="color:#0d0016">
           如果遇到权限问题，优先修复目录权限，而非使用
           <code>
            sudo
           </code>
           。
          </span>
         </p>
        </li>
       </ul>
      </li>
      <li>
       <p>
        <span style="color:#0d0016">
         <strong>
          检查全局 Git 配置
         </strong>
         ：
        </span>
       </p>
       <ul>
        <li>
         <p>
          <span style="color:#0d0016">
           确保已正确配置全局邮箱和用户名：
          </span>
         </p>
        </li>
       </ul>
       <pre><code class="language-bash">git config --global user.email "你的Gitee绑定邮箱"
git config --global user.name "你的Gitee用户名"</code></pre>
      </li>
      <li>
       <p>
        <span style="color:#0d0016">
         <strong>
          强制推送的风险
         </strong>
         ：
        </span>
       </p>
       <ul>
        <li>
         <p>
          <span style="color:#0d0016">
           <code>
            git push --force
           </code>
           会覆盖远程仓库历史，仅在私有仓库或独立开发时使用。
          </span>
         </p>
        </li>
       </ul>
      </li>
     </ol>
    </blockquote>
    <h2>
     <span style="color:#0d0016">
      ubuntu、vim编译器配置：
     </span>
    </h2>
    <p>
     <span style="color:#0d0016">
      <img alt="" height="1105" src="https://i-blog.csdnimg.cn/direct/2e73d53cf25943f0a348a1214a8d2166.png" width="2555"/>
     </span>
    </p>
    <p>
     <span style="color:#0d0016">
      <a href="https://gitee.com/mirrorvim/vim-fast/blob/master/README.md#%E8%A7%86%E9%A2%91%E5%8F%8A%E6%96%87%E7%AB%A0" rel="nofollow" title="README.md · chenxuan/vim-fast - 码云 - 开源中国">
       README.md · chenxuan/vim-fast - 码云 - 开源中国
      </a>
     </span>
    </p>
    <pre><code class="language-bash">curl https://gitee.com/mirrorvim/vim-fast/raw/master/shell/webinstall.sh | bash</code></pre>
    <p>
     <span style="color:#0d0016">
      （(在安装完毕后如果遇到输出混乱的问题,可以直接关闭终端重启就可以了)）
     </span>
    </p>
    <ol>
     <li>
      <p>
       <span style="color:#0d0016">
        出现
       </span>
      </p>
      <p class="img-center">
       <img alt="" height="30" src="https://i-blog.csdnimg.cn/img_convert/d0ff4bcb19bb5be3aa05bf377cf39a65.png" width="431"/>
      </p>
      <p>
       <span style="color:#0d0016">
        后按下回车
       </span>
      </p>
     </li>
     <li>
      <p>
       <span style="color:#0d0016">
        出现下图，安装完成
       </span>
      </p>
     </li>
     <li>
      <p>
      </p>
     </li>
    </ol>
    <p class="img-center">
     <img alt="" height="238" src="https://i-blog.csdnimg.cn/img_convert/efe86aeabb4264662a1c639ad4b3b1a8.jpeg" width="556"/>
    </p>
    <h4>
     <span style="color:#0d0016">
      xshell,tmux 打开的颜色混乱
     </span>
    </h4>
    <ul>
     <li>
      <p>
       <span style="color:#0d0016">
        xshell中 “工具” -&gt; “选项” -&gt; “高级”-&gt;"使用本色",打开后重启xshell
       </span>
      </p>
     </li>
     <li>
      <p>
       <span style="color:#0d0016">
        tmux
       </span>
      </p>
     </li>
    </ul>
    <pre><code>1. 通过`echo $TERM` 查找终端类型,通常是`xterm-256color`或者`screen-256color`

2. 编辑`~/.tmux.conf` 添加
</code></pre>
    <pre><code>set -g default-terminal "xterm-256color"
#set -g default-terminal "screen-256color"   # 如果使用screen-256color则用这条指令
set-option -ga terminal-overrides ",*256col*:Tc"
</code></pre>
    <pre><code>3. 重启tmux
</code></pre>
    <ul>
     <li>
      <span style="color:#0d0016">
       如果还是无法解决,可以切换主题为onedark,并关闭termguicolors,设置
      </span>
     </li>
     <li>
      <span style="color:#0d0016">
       let g:onedark_termcolors=256
      </span>
     </li>
    </ul>
    <p>
     <span style="color:#0d0016">
      其他问题直接查看大佬的gitee就行
     </span>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330335f37373735363134312f:61727469636c652f64657461696c732f313436313831393932" class_="artid" style="display:none">
 </p>
</div>


