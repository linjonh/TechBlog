---
layout: post
title: "Android搜索功能的案例,本地保存搜索历史记录"
date: 2025-01-16 20:14:08 +0800
description: "同事负责开发的APP有一个搜索功能，并且需要显示搜索的历史记录，我闲暇之余帮她开发了这个功能，现把该"
keywords: "搜索历史怎么存数据库"
categories: ['Android', 'Android']
tags: ['数据库', '搜索', 'Android']
artid: "50688283"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=50688283
    alt: "Android搜索功能的案例,本地保存搜索历史记录"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=50688283
featuredImagePreview: https://bing.ee123.net/img/rand?artid=50688283
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Android搜索功能的案例，本地保存搜索历史记录
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-tomorrow-night" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     同事负责开发的APP有一个搜索功能，并且需要显示搜索的历史记录，我闲暇之余帮她开发了这个功能，现把该页面抽取成一个demo分享给大家。
    </p>
    <p>
     <strong>
      实现效果如图所示：
     </strong>
     <br/>
     <img alt="这里写图片描述" src="https://img-blog.csdn.net/20160218195147234" title=""/>
    </p>
    <p>
     <strong>
      本案例实现起来很简单，所以可以直接拿来嵌入项目中使用，涉及到的知识点：
     </strong>
     <br/>
     -
     <strong>
      数据库的增删改查操作
     </strong>
     <br/>
     -
     <strong>
      ListView和ScrollView的嵌套冲突解决
     </strong>
     <br/>
     -
     <strong>
      监听软键盘回车按钮设置为搜索按钮
     </strong>
     <br/>
     -
     <strong>
      使用TextWatcher( )实时筛选
     </strong>
     <br/>
     -
     <strong>
      已搜索的关键字再次搜索不重复添加到数据库
     </strong>
     <br/>
     -
     <strong>
      刚进入页面设置软键盘不因为EditText而自动弹出
     </strong>
    </p>
    <hr/>
    <p>
     <strong>
      代码
     </strong>
    </p>
    <ol>
     <li>
      RecordSQLiteOpenHelper.java
     </li>
    </ol>
    <pre class="prettyprint"><code class="hljs java"><span class="hljs-keyword">package</span> com.cwvs.microlife;

<span class="hljs-keyword">import</span> android.content.Context;
<span class="hljs-keyword">import</span> android.database.sqlite.SQLiteDatabase;
<span class="hljs-keyword">import</span> android.database.sqlite.SQLiteOpenHelper;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RecordSQLiteOpenHelper</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SQLiteOpenHelper</span> {<!-- --></span>

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String name = <span class="hljs-string">"temp.db"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Integer version = <span class="hljs-number">1</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-title">RecordSQLiteOpenHelper</span>(Context context) {
        <span class="hljs-keyword">super</span>(context, name, <span class="hljs-keyword">null</span>, version);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span>(SQLiteDatabase db) {
        db.execSQL(<span class="hljs-string">"create table records(id integer primary key autoincrement,name varchar(200))"</span>);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onUpgrade</span>(SQLiteDatabase db, <span class="hljs-keyword">int</span> oldVersion, <span class="hljs-keyword">int</span> newVersion) {

    }


}</code></pre>
    <ol>
     <li>
      MainActivity.java
     </li>
    </ol>
    <pre class="prettyprint"><code class="hljs java"><span class="hljs-keyword">package</span> com.cwvs.microlife;

<span class="hljs-keyword">import</span> java.util.Date;

<span class="hljs-keyword">import</span> android.app.Activity;
<span class="hljs-keyword">import</span> android.content.Context;
<span class="hljs-keyword">import</span> android.database.Cursor;
<span class="hljs-keyword">import</span> android.database.sqlite.SQLiteDatabase;
<span class="hljs-keyword">import</span> android.graphics.drawable.Drawable;
<span class="hljs-keyword">import</span> android.os.Bundle;
<span class="hljs-keyword">import</span> android.text.Editable;
<span class="hljs-keyword">import</span> android.text.TextWatcher;
<span class="hljs-keyword">import</span> android.view.KeyEvent;
<span class="hljs-keyword">import</span> android.view.View;
<span class="hljs-keyword">import</span> android.view.Window;
<span class="hljs-keyword">import</span> android.view.inputmethod.InputMethodManager;
<span class="hljs-keyword">import</span> android.widget.AdapterView;
<span class="hljs-keyword">import</span> android.widget.BaseAdapter;
<span class="hljs-keyword">import</span> android.widget.CursorAdapter;
<span class="hljs-keyword">import</span> android.widget.EditText;
<span class="hljs-keyword">import</span> android.widget.SimpleCursorAdapter;
<span class="hljs-keyword">import</span> android.widget.TextView;
<span class="hljs-keyword">import</span> android.widget.Toast;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Activity</span> {<!-- --></span>

    <span class="hljs-keyword">private</span> EditText et_search;
    <span class="hljs-keyword">private</span> TextView tv_tip;
    <span class="hljs-keyword">private</span> MyListView listView;
    <span class="hljs-keyword">private</span> TextView tv_clear;
    <span class="hljs-keyword">private</span> RecordSQLiteOpenHelper helper = <span class="hljs-keyword">new</span> RecordSQLiteOpenHelper(<span class="hljs-keyword">this</span>);;
    <span class="hljs-keyword">private</span> SQLiteDatabase db;
    <span class="hljs-keyword">private</span> BaseAdapter adapter;

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span>(Bundle savedInstanceState) {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        setContentView(R.layout.activity_main);
        <span class="hljs-comment">// 初始化控件</span>
        initView();

        <span class="hljs-comment">// 清空搜索历史</span>
        tv_clear.setOnClickListener(<span class="hljs-keyword">new</span> View.OnClickListener() {
            <span class="hljs-annotation">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onClick</span>(View v) {
                deleteData();
                queryData(<span class="hljs-string">""</span>);
            }
        });

        <span class="hljs-comment">// 搜索框的键盘搜索键点击回调</span>
        et_search.setOnKeyListener(<span class="hljs-keyword">new</span> View.OnKeyListener() {<!-- --><span class="hljs-comment">// 输入完后按键盘上的搜索键</span>

            <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">onKey</span>(View v, <span class="hljs-keyword">int</span> keyCode, KeyEvent event) {
                <span class="hljs-keyword">if</span> (keyCode == KeyEvent.KEYCODE_ENTER &amp;&amp; event.getAction() == KeyEvent.ACTION_DOWN) {<!-- --><span class="hljs-comment">// 修改回车键功能</span>
                    <span class="hljs-comment">// 先隐藏键盘</span>
                    ((InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE)).hideSoftInputFromWindow(
                            getCurrentFocus().getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);
                    <span class="hljs-comment">// 按完搜索键后将当前查询的关键字保存起来,如果该关键字已经存在就不执行保存</span>
                    <span class="hljs-keyword">boolean</span> hasData = hasData(et_search.getText().toString().trim());
                    <span class="hljs-keyword">if</span> (!hasData) {
                        insertData(et_search.getText().toString().trim());
                        queryData(<span class="hljs-string">""</span>);
                    }
                    <span class="hljs-comment">// TODO 根据输入的内容模糊查询商品，并跳转到另一个界面，由你自己去实现</span>
                    Toast.makeText(MainActivity.<span class="hljs-keyword">this</span>, <span class="hljs-string">"clicked!"</span>, Toast.LENGTH_SHORT).show();

                }
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
            }
        });

        <span class="hljs-comment">// 搜索框的文本变化实时监听</span>
        et_search.addTextChangedListener(<span class="hljs-keyword">new</span> TextWatcher() {
            <span class="hljs-annotation">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">beforeTextChanged</span>(CharSequence s, <span class="hljs-keyword">int</span> start, <span class="hljs-keyword">int</span> count, <span class="hljs-keyword">int</span> after) {

            }

            <span class="hljs-annotation">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onTextChanged</span>(CharSequence s, <span class="hljs-keyword">int</span> start, <span class="hljs-keyword">int</span> before, <span class="hljs-keyword">int</span> count) {

            }

            <span class="hljs-annotation">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">afterTextChanged</span>(Editable s) {
                <span class="hljs-keyword">if</span> (s.toString().trim().length() == <span class="hljs-number">0</span>) {
                    tv_tip.setText(<span class="hljs-string">"搜索历史"</span>);
                } <span class="hljs-keyword">else</span> {
                    tv_tip.setText(<span class="hljs-string">"搜索结果"</span>);
                }
                String tempName = et_search.getText().toString();
                <span class="hljs-comment">// 根据tempName去模糊查询数据库中有没有数据</span>
                queryData(tempName);

            }
        });

        listView.setOnItemClickListener(<span class="hljs-keyword">new</span> AdapterView.OnItemClickListener() {
            <span class="hljs-annotation">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onItemClick</span>(AdapterView&lt;?&gt; parent, View view, <span class="hljs-keyword">int</span> position, <span class="hljs-keyword">long</span> id) {
                TextView textView = (TextView) view.findViewById(android.R.id.text1);
                String name = textView.getText().toString();
                et_search.setText(name);
                Toast.makeText(MainActivity.<span class="hljs-keyword">this</span>, name, Toast.LENGTH_SHORT).show();
                <span class="hljs-comment">// TODO 获取到item上面的文字，根据该关键字跳转到另一个页面查询，由你自己去实现</span>
            }
        });

        <span class="hljs-comment">// 插入数据，便于测试，否则第一次进入没有数据怎么测试呀？</span>
        Date date = <span class="hljs-keyword">new</span> Date();
        <span class="hljs-keyword">long</span> time = date.getTime();
        insertData(<span class="hljs-string">"Leo"</span> + time);

        <span class="hljs-comment">// 第一次进入查询所有的历史记录</span>
        queryData(<span class="hljs-string">""</span>);
    }

    <span class="hljs-javadoc">/**
     * 插入数据
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">insertData</span>(String tempName) {
        db = helper.getWritableDatabase();
        db.execSQL(<span class="hljs-string">"insert into records(name) values('"</span> + tempName + <span class="hljs-string">"')"</span>);
        db.close();
    }

    <span class="hljs-javadoc">/**
     * 模糊查询数据
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">queryData</span>(String tempName) {
        Cursor cursor = helper.getReadableDatabase().rawQuery(
                <span class="hljs-string">"select id as _id,name from records where name like '%"</span> + tempName + <span class="hljs-string">"%' order by id desc "</span>, <span class="hljs-keyword">null</span>);
        <span class="hljs-comment">// 创建adapter适配器对象</span>
        adapter = <span class="hljs-keyword">new</span> SimpleCursorAdapter(<span class="hljs-keyword">this</span>, android.R.layout.simple_list_item_1, cursor, <span class="hljs-keyword">new</span> String[] { <span class="hljs-string">"name"</span> },
                <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] { android.R.id.text1 }, CursorAdapter.FLAG_REGISTER_CONTENT_OBSERVER);
        <span class="hljs-comment">// 设置适配器</span>
        listView.setAdapter(adapter);
        adapter.notifyDataSetChanged();
    }
    <span class="hljs-javadoc">/**
     * 检查数据库中是否已经有该条记录
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">hasData</span>(String tempName) {
        Cursor cursor = helper.getReadableDatabase().rawQuery(
                <span class="hljs-string">"select id as _id,name from records where name =?"</span>, <span class="hljs-keyword">new</span> String[]{tempName});
        <span class="hljs-comment">//判断是否有下一个</span>
        <span class="hljs-keyword">return</span> cursor.moveToNext();
    }

    <span class="hljs-javadoc">/**
     * 清空数据
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">deleteData</span>() {
        db = helper.getWritableDatabase();
        db.execSQL(<span class="hljs-string">"delete from records"</span>);
        db.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initView</span>() {
        et_search = (EditText) findViewById(R.id.et_search);
        tv_tip = (TextView) findViewById(R.id.tv_tip);
        listView = (com.cwvs.microlife.MyListView) findViewById(R.id.listView);
        tv_clear = (TextView) findViewById(R.id.tv_clear);

        <span class="hljs-comment">// 调整EditText左边的搜索按钮的大小</span>
        Drawable drawable = getResources().getDrawable(R.drawable.search);
        drawable.setBounds(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">60</span>, <span class="hljs-number">60</span>);<span class="hljs-comment">// 第一0是距左边距离，第二0是距上边距离，60分别是长宽</span>
        et_search.setCompoundDrawables(drawable, <span class="hljs-keyword">null</span>, <span class="hljs-keyword">null</span>, <span class="hljs-keyword">null</span>);<span class="hljs-comment">// 只放左边</span>
    }
}
</code></pre>
    <ol>
     <li>
      MyListView.java
     </li>
    </ol>
    <pre class="prettyprint"><code class="hljs java"><span class="hljs-keyword">package</span> com.cwvs.microlife;

<span class="hljs-keyword">import</span> android.content.Context;
<span class="hljs-keyword">import</span> android.util.AttributeSet;
<span class="hljs-keyword">import</span> android.widget.ListView;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyListView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ListView</span> {<!-- --></span>
    <span class="hljs-keyword">public</span> <span class="hljs-title">MyListView</span>(Context context) {
        <span class="hljs-keyword">super</span>(context);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title">MyListView</span>(Context context, AttributeSet attrs) {
        <span class="hljs-keyword">super</span>(context, attrs);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title">MyListView</span>(Context context, AttributeSet attrs, <span class="hljs-keyword">int</span> defStyle) {
        <span class="hljs-keyword">super</span>(context, attrs, defStyle);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onMeasure</span>(<span class="hljs-keyword">int</span> widthMeasureSpec, <span class="hljs-keyword">int</span> heightMeasureSpec) {
        <span class="hljs-keyword">int</span> expandSpec = MeasureSpec.makeMeasureSpec(Integer.MAX_VALUE &gt;&gt; <span class="hljs-number">2</span>,
                MeasureSpec.AT_MOST);
        <span class="hljs-keyword">super</span>.onMeasure(widthMeasureSpec, expandSpec);
    }

}
</code></pre>
    <ol>
     <li>
      activity_main.xml
     </li>
    </ol>
    <pre class="prettyprint"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">LinearLayout</span> <span class="hljs-attribute">xmlns:android</span>=<span class="hljs-value">"http://schemas.android.com/apk/res/android"</span>
    <span class="hljs-attribute">xmlns:tools</span>=<span class="hljs-value">"http://schemas.android.com/tools"</span>
    <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
    <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"match_parent"</span>
    <span class="hljs-attribute">android:focusableInTouchMode</span>=<span class="hljs-value">"true"</span>
    <span class="hljs-attribute">android:orientation</span>=<span class="hljs-value">"vertical"</span>
    <span class="hljs-attribute">tools:context</span>=<span class="hljs-value">"${relativePackage}.${activityClass}"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-title">LinearLayout
</span>        <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"fill_parent"</span>
        <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"50dp"</span>
        <span class="hljs-attribute">android:background</span>=<span class="hljs-value">"#E54141"</span>
        <span class="hljs-attribute">android:orientation</span>=<span class="hljs-value">"horizontal"</span>
        <span class="hljs-attribute">android:paddingRight</span>=<span class="hljs-value">"16dp"</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-title">ImageView
</span>            <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"45dp"</span>
            <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"45dp"</span>
            <span class="hljs-attribute">android:layout_gravity</span>=<span class="hljs-value">"center_vertical"</span>
            <span class="hljs-attribute">android:padding</span>=<span class="hljs-value">"10dp"</span>
            <span class="hljs-attribute">android:src</span>=<span class="hljs-value">"@drawable/back"</span> /&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-title">EditText
</span>            <span class="hljs-attribute">android:id</span>=<span class="hljs-value">"@+id/et_search"</span>
            <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"0dp"</span>
            <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"match_parent"</span>
            <span class="hljs-attribute">android:layout_weight</span>=<span class="hljs-value">"1"</span>
            <span class="hljs-attribute">android:background</span>=<span class="hljs-value">"@null"</span>
            <span class="hljs-attribute">android:drawableLeft</span>=<span class="hljs-value">"@drawable/search"</span>
            <span class="hljs-attribute">android:drawablePadding</span>=<span class="hljs-value">"8dp"</span>
            <span class="hljs-attribute">android:gravity</span>=<span class="hljs-value">"start|center_vertical"</span>
            <span class="hljs-attribute">android:hint</span>=<span class="hljs-value">"输入查询的关键字"</span>
            <span class="hljs-attribute">android:imeOptions</span>=<span class="hljs-value">"actionSearch"</span>
            <span class="hljs-attribute">android:singleLine</span>=<span class="hljs-value">"true"</span>
            <span class="hljs-attribute">android:textColor</span>=<span class="hljs-value">"@android:color/white"</span>
            <span class="hljs-attribute">android:textSize</span>=<span class="hljs-value">"16sp"</span> /&gt;</span>

    <span class="hljs-tag">&lt;/<span class="hljs-title">LinearLayout</span>&gt;</span>


    <span class="hljs-tag">&lt;<span class="hljs-title">ScrollView
</span>        <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"wrap_content"</span>
        <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"wrap_content"</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-title">LinearLayout
</span>            <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
            <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"wrap_content"</span>
            <span class="hljs-attribute">android:orientation</span>=<span class="hljs-value">"vertical"</span>&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-title">LinearLayout
</span>                <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
                <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"wrap_content"</span>
                <span class="hljs-attribute">android:orientation</span>=<span class="hljs-value">"vertical"</span>
                <span class="hljs-attribute">android:paddingLeft</span>=<span class="hljs-value">"20dp"</span>

                &gt;</span>

                <span class="hljs-tag">&lt;<span class="hljs-title">TextView
</span>                    <span class="hljs-attribute">android:id</span>=<span class="hljs-value">"@+id/tv_tip"</span>
                    <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
                    <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"50dp"</span>
                    <span class="hljs-attribute">android:gravity</span>=<span class="hljs-value">"left|center_vertical"</span>
                    <span class="hljs-attribute">android:text</span>=<span class="hljs-value">"搜索历史"</span> /&gt;</span>

                <span class="hljs-tag">&lt;<span class="hljs-title">View
</span>                    <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
                    <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"1dp"</span>
                    <span class="hljs-attribute">android:background</span>=<span class="hljs-value">"#EEEEEE"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>

                <span class="hljs-tag">&lt;<span class="hljs-title">com.cwvs.microlife.MyListView
</span>                    <span class="hljs-attribute">android:id</span>=<span class="hljs-value">"@+id/listView"</span>
                    <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
                    <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"wrap_content"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">com.cwvs.microlife.MyListView</span>&gt;</span>


            <span class="hljs-tag">&lt;/<span class="hljs-title">LinearLayout</span>&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-title">View
</span>                <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
                <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"1dp"</span>
                <span class="hljs-attribute">android:background</span>=<span class="hljs-value">"#EEEEEE"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-title">TextView
</span>                <span class="hljs-attribute">android:id</span>=<span class="hljs-value">"@+id/tv_clear"</span>
                <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
                <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"40dp"</span>
                <span class="hljs-attribute">android:background</span>=<span class="hljs-value">"#F6F6F6"</span>
                <span class="hljs-attribute">android:gravity</span>=<span class="hljs-value">"center"</span>
                <span class="hljs-attribute">android:text</span>=<span class="hljs-value">"清除搜索历史"</span> /&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-title">View
</span>                <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>
                <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"1dp"</span>
                <span class="hljs-attribute">android:layout_marginBottom</span>=<span class="hljs-value">"20dp"</span>
                <span class="hljs-attribute">android:background</span>=<span class="hljs-value">"#EEEEEE"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">LinearLayout</span>&gt;</span>

    <span class="hljs-tag">&lt;/<span class="hljs-title">ScrollView</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">LinearLayout</span>&gt;</span></code></pre>
    <hr/>
    <p>
     <strong>
      <a href="https://github.com/leoleohan/AndroidSearchView">
       完整案例源代码
      </a>
     </strong>
    </p>
   </div>
   <link href="./../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="./../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a:2f2f626c6f672e6373646e2e6e65742f4c656f4c656f48616e:2f61727469636c652f64657461696c732f3530363838323833" class_="artid" style="display:none">
 </p>
</div>


