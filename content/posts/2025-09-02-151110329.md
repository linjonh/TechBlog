---
layout: post
title: "云计算学习100天-第44天-部署邮件服务器"
date: 2025-09-02T13:23:39+0800
description: "MX  10   mail            #声明邮件交换记录  10代表优先级。99:  myorigin = example.com  #邮件服务器的域名，用于发送邮件时域名的补全。#发送邮件验证 邮件名称haha 发件人yg  收件人 xln 邮件正文 hello xln。执行结果会显示该域名对应的邮件服务器地址列表及其优先级。&amp; 1  #打开1号邮件，就看到邮件内容了。处理用户发出的邮件——传递给收件服务器。处理用户收到的邮件——投递到邮箱。查找指定域名的邮件交换记录（"
keywords: "云计算学习100天-第44天-部署邮件服务器"
categories: ['未分类']
tags: ['学习', '云计算']
artid: "151110329"
arturl: "https://blog.csdn.net/diablobaal/article/details/151110329"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=151110329
    alt: "云计算学习100天-第44天-部署邮件服务器"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=151110329
featuredImagePreview: https://bing.ee123.net/img/rand?artid=151110329
cover: https://bing.ee123.net/img/rand?artid=151110329
image: https://bing.ee123.net/img/rand?artid=151110329
img: https://bing.ee123.net/img/rand?artid=151110329
---



# 云计算学习100天-第44天-部署邮件服务器

---

## 电子邮件通信——邮件服务器

### 基本功能

为用户提供电子邮箱存储空间

处理用户发出的邮件——传递给收件服务器

处理用户收到的邮件——投递到邮箱

### 邮件通信的寻址

根据收件人地址找到目标邮件服务器

寻址方法就是编辑DNS规则文件zone，添加相应的MX记录、A记录

比如：

@    IN    MX    10   mail.example.com

mail  IN    A           192.168.4.207

### 案例

#### 网络架构

|  |  |  |
| --- | --- | --- |
| 服务器名 | IP地址 | 说明 |
| Server | 192.168.88.240 | 邮件服务器 |

#### 配置server服务器

1、首先要关闭SElinux和防火墙

#server设置selinux为宽松

Setenforce 0

Vim /etc/selinux/config

SELINUX=permissive

#卸载防火墙

yum remove firewalld

2、安装DNS软件包

yum –y install bind bind-chroot

3、修改DNS服务器地址的配置

vim /etc/named.conf

options {

  directory  “/var/named”;

};

zone “example.com” IN{

     type master;

     file “example.com.zone”;

};

4、添加配置文件

cd /var/named

cp –p named.localhost example.com.zone

vim example.com.zone

…

              NS        server

             MX  10   mail            #声明邮件交换记录  10代表优先级

server   A           192.168.88.240

mail      A           192.168.88.240   #邮件服务器

5、重启服务

systemctl restart named

6、指定dns服务器

echo nameserver 192.168.88.240 > /etc/resolv.conf

7、查找指定域名的邮件交换记录（MX记录）

#执行结果会显示该域名对应的邮件服务器地址列表及其优先级

host –t MX example.com

8、测试域名

nslookup mail.example.com

9、安装邮件软件，并修改配置

rpm –q postfix  #默认是安装的

vim /etc/postfix/main.cf

99:  myorigin = example.com  #邮件服务器的域名，用于发送邮件时域名的补全

116：inet_interfaces = all  #允许所有人使用邮件服务器

164：mydestination = example.com  #收件人的域名

#重启服务

systemctl restart postfix

10、验证

#创建用户

useradd yg

useradd xln

#发送邮件验证 邮件名称haha 发件人yg  收件人 xln 邮件正文 hello xln

mail –s ‘haha’ –r yg xln

hello xln

EOT

#进入收件人邮箱查看

mail –u xln

& 1  #打开1号邮件，就看到邮件内容了

& exit  #退出邮箱

#也可以用非交互方式发邮件

echo niuniu | mail –s ‘xixi’ –r yg xln



