---
layout: post
title: "linux-软件安装中"
date: 2025-03-10 10:50:39 +0800
description: "​            下载地址：https://github.com/tporadowski/redis/releases、https://github.com/MicrosoftArchive/redis/tags。- Windows系统中Redis配置文件：REDIS_HOME/redis.windows./redis-server ./redis.conf。下载地址：https://download.redis.io/releases/ 、https://redis.io/download。"
keywords: "linux 软件安装(中)"
categories: ['未分类']
tags: ['运维', '服务器', 'Linux']
artid: "146147383"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146147383
    alt: "linux-软件安装中"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146147383
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146147383
cover: https://bing.ee123.net/img/rand?artid=146147383
image: https://bing.ee123.net/img/rand?artid=146147383
img: https://bing.ee123.net/img/rand?artid=146147383
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     linux 软件安装(中)
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h3>
     四、安装Maven
    </h3>
    <p>
     Maven下载地址：
     <a href="http://maven.apache.org/download.cgi" rel="nofollow" title="Download Apache Maven – Maven">
      Download Apache Maven – Maven
     </a>
    </p>
    <blockquote>
     <p>
      1、下载并上传至linux目录：/root/install/maven
      <br/>
      2、解压：tar -zxvf apache-maven-3.6.1-bin.tar.gz -C /usr/local
      <br/>
      3、修改环境变量：编辑系统profile文件
      <br/>
      vim /etc/profile
      <br/>
      修改添加如下配置：
      <br/>
      #set java environment
      <br/>
      JAVA_HOME=/root/install/jdk/jdk1.8.0_171
      <br/>
      JRE_HOME=/root/install/jdk/jdk1.8.0_171/jre
      <br/>
      MAVEN_HOME=/root/install/maven/apache-maven-3.6.1
      <br/>
      CLASS_PATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib
      <br/>
      PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin:$MAVEN_HOME/bin
      <br/>
      export JAVA_HOME JRE_HOME MAVEN_HOME CLASS_PATH PATH
      <br/>
      让配置生效： source /etc/profile
      <br/>
      4、配置本地仓库地址
      <br/>
      1）、进入setting文件目录
      <br/>
      cd /root/install/maven/apache-maven-3.6.1/conf
      <br/>
      2）、编辑settings.xml配置文件
      <br/>
      vim settings.xml
      <br/>
      3）、在其中增加如下配置,配置本地仓库地址
      <br/>
      &lt;localRepository&gt;/root/install/maven/repository&lt;/localRepository&gt;
      <br/>
      4）、在settings.xml中的&lt;mirrors&gt;标签中,配置阿里云的私服
      <br/>
      &lt;mirror&gt;
      <br/>
      &lt;id&gt;alimaven&lt;/id&gt;
      <br/>
      &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;
      <br/>
      &lt;name&gt;aliyun maven&lt;/name&gt;
      <br/>
      &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;
      <br/>
      &lt;/mirror&gt;
     </p>
    </blockquote>
    <h3>
     五、安装Nginx
    </h3>
    <p>
     1、介绍
     <br/>
     Nginx是一款轻量级的Web服务器/反向代理服务器及电子邮件（IMAP/POP3）代理服务器。是由伊戈尔·赛索耶夫为俄罗斯访问量第二的Rambler.ru站点（俄文：Рамблер）开发的，第一个公开版本0.1.0发布于2004年10月4日。其特点是占有内存少，并发能力强，事实上nginx的并发能力在同类型的网页服务器中表现较好，中国大陆使用nginx的网站有：百度、京东、新浪、网易、腾讯、淘宝等。
    </p>
    <p>
     2、官网：官网：https://nginx.org/
     <br/>
     3、官方下载：http://nginx.org/en/download.html
    </p>
    <h4>
     5.1、linux安装
    </h4>
    <blockquote>
     <p>
      1、由于nginx是基于c语言开发的，所以需要安装c语言的编译环境，及正则表达式库等第三方依赖库：
      <br/>
      yum -y install gcc pcre-devel zlib-devel openssl openssl-devel
      <br/>
      2、在线下载Nginx安装包（可选）
      <br/>
      yum install wget
      <br/>
      wget https://nginx.org/download/nginx-1.16.1.tar.gz  （wget命令用来从指定的URL下载文件）
      <br/>
      3、配置Nginx编译环境
      <br/>
      cd nginx-1.16.1
      <br/>
      ./configure --prefix=/usr/local/nginx
      <br/>
      4、编译 &amp; 安装
      <br/>
      make &amp; make install
      <br/>
      5、安装完Nginx后，切换到Nginx的安装目录(/usr/local/nginx)，Nginx的目录结构如下：
      <br/>
      1）、conf：配置文件的存放目录
      <br/>
      2）、conf/nginx.conf：Nginx的核心配置文件
      <br/>
      3）、html：存放静态资源(html, css,等) 部署到Nginx的静态资源都可以放在html目录中
      <br/>
      4）、logs：存放nginx日志(访问日志、错误日志等)
      <br/>
      5）、sbin/nginx：二进制文件，用于启动、停止Nginx服务，执行命令需切到本目录执行
      <br/>
      6、常用nginx命令
      <br/>
      1）、查看版本：./nginx -v
      <br/>
      2）、检查配置文件：./nginx -t （可用于修改核心配置文件后，检测文件是否有错误）
      <br/>
      3）、启动：./nginx
      <br/>
      4）、检测：ps -ef|grep nginx（服务启动后，默认就会有两个进程，一个主进程，一个工作进程）
      <br/>
      5）、停止：./nginx -s stop
      <br/>
      6）、重新加载：./nginx -s reload （修改了Nginx配置文件后，需要重新加载才能生效）
      <br/>
      7、配置nginx环境变量
      <br/>
      vim /etc/profile ：
      <br/>
      NGINX_HOME=/usr/local/nginx/sbin
      <br/>
      PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin:$MAVEN_HOME/bin:$NGINX_HOME
      <br/>
      source /etc/profile
      <br/>
      8、访问：直接访问Nginx的80端口， http://192.168.200.128
     </p>
    </blockquote>
    <h4>
     5.2、docker安装
    </h4>
    <blockquote>
     <p>
      #1、搜索ngnix镜像
      <br/>
      docker search ngnix
     </p>
     <p>
      #2、拉取ngnix镜像
      <br/>
      docker pull ngnix
     </p>
     <p>
      #3、在/root目录下创建ngnix目录用于存储ngnix数据信息，并配置ngnix配置文件
      <br/>
      mkdir ~/install/docker/ngnix
      <br/>
      cd ~/install/docker/ngnix
      <br/>
      mkdir conf
      <br/>
      cd conf
      <br/>
      vim nginx.conf
     </p>
     <p>
      #4、在~/nginx/conf/下创建nginx.conf文件,粘贴下面内容
      <br/>
      user  nginx;
      <br/>
      worker_processes  1;
      <br/>
      error_log  /var/log/nginx/error.log warn;
      <br/>
      pid        /var/run/nginx.pid;
      <br/>
      events {
      <!-- -->
      <br/>
      worker_connections  1024;
      <br/>
      }
      <br/>
      http {
      <!-- -->
      <br/>
      include       /etc/nginx/mime.types;
      <br/>
      default_type  application/octet-stream;
      <br/>
      log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
      <br/>
      '$status $body_bytes_sent "$http_referer" '
      <br/>
      '"$http_user_agent" "$http_x_forwarded_for"';
      <br/>
      access_log  /var/log/nginx/access.log  main;
      <br/>
      sendfile        on;
      <br/>
      #tcp_nopush     on;
      <br/>
      keepalive_timeout  65;
      <br/>
      #gzip  on;
      <br/>
      include /etc/nginx/conf.d/*.conf;
      <br/>
      }
     </p>
     <p>
      #5、进入ngnix目录 创建容器，设置端口映射、目录映射、自动启动
      <br/>
      docker run -id -p 81:80 --name=nginx1.20 --restart=always \
      <br/>
      -v $PWD/conf/nginx.conf:/etc/nginx/nginx.conf -v $PWD/logs:/var/log/nginx  -v $PWD/html:/usr/share/nginx/html \
      <br/>
      nginx:1.20
     </p>
     <p>
      #6、在html目录下新建index.html,写入文字
      <br/>
      #7、访问 http://192.168.200.128 进行测试
     </p>
    </blockquote>
    <h4>
     5.3、nginx应用
    </h4>
    <blockquote>
     <p>
      1、nginx的配置文件(conf/nginx.conf)整体上分为三部分: 全局块、events块、http块。
      <br/>
      1）、全局块：配置和nginx运行相关的全局配置
      <br/>
      2）、events块：配置和网络连接相关的配置
      <br/>
      3）、http块：配置代理、缓存、日志记录、虚拟主机等配置
      <br/>
      http块中可以包含多个server块
      <br/>
      每个server块可以配置多个location块。
     </p>
    </blockquote>
    <blockquote>
     <p>
      2、部署静态资源
      <br/>
      1）、Nginx可以作为静态web服务器来部署静态资源。这里所说的静态资源是指在服务端真实存在，并且能够直接
      <br/>
      展示的一些文件，比如常见的html页面、css文件、js文件、图片、视频等资源。
      <br/>
      2）、相对于Tomcat，Nginx处理静态资源的能力更加高效，所以在生产环境下，一般都会将静态资源部署到
      <br/>
      Nginx中。
      <br/>
      3）、静态资源部署到Nginx非常简单，只需要将文件复制到Nginx安装目录下的html目录中即可。
      <br/>
      server {
      <!-- -->
      <br/>
      listen 80;                #监听端口
      <br/>
      server_name localhost;    #服务器名称
      <br/>
      location / {            #匹配客户端请求url
      <br/>
      root html;            #指定静态资源根目录
      <br/>
      index index.html;    #指定默认首页
      <br/>
      }
      <br/>
      }
      <br/>
      4）、示例一：在 /usr/local/nginx/html中新建文件hello.html，写入代码，访问：
      <br/>
      http://192.168.200.161/hello.html
      <br/>
      5）、示例二：在配置文件http/server 块中修改如下配置
      <br/>
      location / {            #匹配客户端请求url
      <br/>
      root  html;            #指定静态资源根目录
      <br/>
      index hello.html;    #指定默认首页
      <br/>
      }
      <br/>
      重新加载：nginx -s reload
      <br/>
      访问： http://192.168.200.161
      <br/>
      3、反向代理
      <br/>
      1）、window上用IDEA将项目project_demo打包两次，端口分别为8888、9999
      <br/>
      2）、上传至/root/app目录
      <br/>
      3）、启动
      <br/>
      nohup java -jar hello-project1.jar &amp;&gt;demo1.log &amp;
      <br/>
      nohup java -jar hello-project2.jar &amp;&gt;demo2.log &amp;
      <br/>
      <br/>
      测试访问：
      <br/>
      http://192.168.200.161:8888/hello
      <br/>
      http://192.168.200.161:9999/hello
      <br/>
      4）、nginx.conf并增加如下配置:
      <br/>
      #upstream指令可以定义一组服务器
      <br/>
      upstream targetserver{
      <br/>
      server 192.168.200.161:8888;
      <br/>
      server 192.168.200.161:9999;
      <br/>
      }
     </p>
     <p>
      server {
      <!-- -->
      <br/>
      listen       8000;
      <br/>
      server_name  localhost;
      <br/>
      location / {
      <!-- -->
      <br/>
      proxy_pass http://targetserver;
      <br/>
      }
      <br/>
      }
      <br/>
      <br/>
      server {
      <!-- -->
      <br/>
      listen       82;
      <br/>
      server_name  localhost;
      <br/>
      location / {
      <!-- -->
      <br/>
      proxy_pass http://192.168.200.161:8000;
      <br/>
      }
      <br/>
      }
      <br/>
      测试：http://192.168.200.161:8000/hello
      <br/>
      测试：http://192.168.200.161:82/hello
      <br/>
      5）、关于负载均衡配置
      <br/>
      1、轮询默认方式
      <br/>
      每个请求，按时间顺序逐一分配到不同的后端应用服务器节点，如果后端服务出现故障，nginx能够自动
      <br/>
      剔除该节点
      <br/>
      2、weight：权重方式，根据权重分发请求,权重大的分配到请求的概率大,权重（weight）默认值为1，
      <br/>
      权重越高，被分配的请求数量越多
      <br/>
      #upstream指令可以定义一组服务器
      <br/>
      upstream targetserver{
      <br/>
      server 192.168.200.201:8080 weight=2;
      <br/>
      server 192.168.200.201:8081 weight=1;
      <br/>
      }
      <br/>
      3、ip_hash：依据ip分配方式，根据客户端请求的IP地址计算hash值，根据hash值来分发请求,
      <br/>
      同一个IP发起的请求, 会发转发到同一个服务器上
      <br/>
      upstream targetserver{
      <br/>
      ip_hash;
      <br/>
      server 192.168.200.201:8080;
      <br/>
      server 192.168.200.201:8081;
      <br/>
      }
      <br/>
      4、url_hash：依据url分配方式，根据客户端请求url的hash值，来分发请求, 同一个url请求, 会发转发到同
      <br/>
      一个服务器上
      <br/>
      5、least_conn：依据最少连接方式，哪个服务器当前处理的连接少, 请求优先转发到这台服务器
      <br/>
      6、fair：依据响应时间方式，优先把请求分发给处理请求时间短的服务器
     </p>
    </blockquote>
    <h3>
     六、Redis安装
    </h3>
    <h4>
     6.1、linux安装
    </h4>
    <p>
     下载地址：
     <a href="https://download.redis.io/releases/" rel="nofollow" title="Index of /releases/">
      Index of /releases/
     </a>
     、
     <a href="https://redis.io/download" rel="nofollow" title="Downloads - Redis">
      Downloads - Redis
     </a>
    </p>
    <blockquote>
     <p>
      1、下载并上传至linux：/root/install/redis
      <br/>
      2、解压： tar -zxvf redis-4.0.0.tar.gz
      <br/>
      3. 安装Redis的依赖环境gcc，命令：yum install gcc-c++
      <br/>
      4. 进入/usr/local/redis-4.0.0，进行编译，命令：make
      <br/>
      5. 进入redis的src目录进行安装，命令：make install
      <br/>
      6、运行redis server服务：redis-server，但是存在占用终端的情况
      <br/>
      7、通过修改配置文件，设置Redis服务后台运行、设置密码、设置允许客户端远程连接Redis服务
      <br/>
      - Linux系统中Redis配置文件：REDIS_HOME/redis./redis-server ./redis.conf
      <br/>
      - Windows系统中Redis配置文件：REDIS_HOME/redis.windows./redis-server ./redis.conf
      <br/>
      1）、设置Redis服务后台运行：daemonize = yes
      <br/>
      2）、关闭保护模式：protected-mode no
      <br/>
      2）、设置Redis服务密码：requirepass 你的密码
      <br/>
      3）、设置允许客户端远程连接Redis服务，Redis服务默认只能客户端本地连接，不允许客户端远程连接。如果指定了bind，则说明只允许来自指定网卡的Redis请求。如果没有指定，就说明可以接受来自任意一个网卡的Redis请求。将配置文件中的 bind 127.0.0.1 配置项注释掉，或者绑定上允许访问的ip:   bind ip1 ip2 ip3
      <br/>
      4）、之后启动server需要指定配置文件：redis-server ../redis.conf
      <br/>
      注意：Redis配置文件中的配置项前面不能有空格，需要顶格写
      <br/>
      5）、任意目录redis-cli进行客户端连接
     </p>
    </blockquote>
    <h4>
     6.2、windows安装
    </h4>
    <p>
     下载地址：
     <a href="https://github.com/tporadowski/redis/releases" title="https://github.com/tporadowski/redis/releases">
      https://github.com/tporadowski/redis/releases
     </a>
     、
     <a href="https://github.com/MicrosoftArchive/redis/tags" title="https://github.com/MicrosoftArchive/redis/tags">
      https://github.com/MicrosoftArchive/redis/tags
     </a>
    </p>
    <blockquote>
     <p>
      1、下载并解压
      <br/>
      2、修改配置文件 redis.windows-service.conf
      <br/>
      requirepass 你的密码
      <br/>
      bind ip1 ip2 ip3
      <br/>
      3、设置开机自启
      <br/>
      redis-server --service-install redis.windows-service.conf --loglevel verbose
      <br/>
      4、配置redis环境变量
      <br/>
      5、任意目录redis-cli进行客户端连接
     </p>
    </blockquote>
    <h4>
     6.3、docker安装
    </h4>
    <blockquote>
     <p>
      #1、搜索redis镜像
      <br/>
      docker search redis
     </p>
     <p>
      #2、拉取redis镜像
      <br/>
      docker pull redis:7.0
     </p>
     <p>
      #3、创建容器，设置端口映射、目录映射、自动启动
      <br/>
      docker run -id --name=redis7.0 --restart=always -p 6380:6379 redis:7.0
     </p>
     <p>
      #4、使用外部机器连接redis
      <br/>
      redis-cli -h 192.168.200.128 -p 6379
     </p>
    </blockquote>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f67:2e6373646e2e6e65742f43796e696369736d5f536d696c652f:61727469636c652f64657461696c732f313436313437333833" class_="artid" style="display:none">
 </p>
</div>


