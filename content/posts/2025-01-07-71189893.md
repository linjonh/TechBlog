---
layout: post
title: "如何通过前端把时间字符串转成date对象"
date: 2025-01-07 15:56:38 +0800
description: "今天写项目时遇到这样一个问题，现在有这样一个需求：需要用户在页面上输入时间，然后提交给后台保存进数据"
keywords: "前端字符串类型改为data类型"
categories: ['未分类']
tags: ['转换', '日期', '前端', 'Spring']
artid: "71189893"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=71189893
  alt: "如何通过前端把时间字符串转成date对象"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=71189893
featuredImagePreview: https://bing.ee123.net/img/rand?artid=71189893
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     如何通过前端把时间字符串转成date对象
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     今天写项目时遇到这样一个问题，现在有这样一个需求：需要用户在页面上输入时间，然后提交给后台保存进数据库。
    </p>
    <p>
     我的前端效果是这样的：
    </p>
    <p>
     <img alt="" src="https://img-blog.csdn.net/20170504230155822?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXE5MDg0NDMwOTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"/>
    </p>
    <p>
     <span style="color:#ff0000; background-color:rgb(255,255,255)">
      <strong>
       注意这里的时间是String类型的，而我的实体类里写的该属性是date类型，因为这个问题我的浏览器一直在报400
      </strong>
     </span>
     ，众所周知，400是客户端错误，而且经过各种方法测试后也证明了根本就没有请求到controller， 但是url却是正确的。在捣鼓了两个小时以后，终于我注意到了时间类型的问题，果然把所有和时间有关的文本框都注释后，请求成功！
    </p>
    <p>
     接下来就是转换时间类型和格式的问题了，spring给我们提供了转换器，接下来是老师帮我配置的转换器：
    </p>
    <p>
     在springmvc.xml中：
    </p>
    <p>
    </p>
    <pre><code class="language-html"> &lt;mvc:annotation-driven conversion-service="conversionService"/&gt;</code></pre>
    <pre><code class="language-html">&lt;!-- 转换器 --&gt;
	 &lt;bean id="conversionService"
		class="org.springframework.format.support.FormattingConversionServiceFactoryBean"&gt; 
		&lt;!-- 转换器 --&gt;
		&lt;property name="converters"&gt;
			&lt;list&gt;
				&lt;bean class="com.thunderSoft.utils.DateConverter" /&gt; 
			&lt;/list&gt;
		&lt;/property&gt;
	&lt;/bean&gt; </code></pre>
    转换器具体内容:
    <p>
    </p>
    <p>
    </p>
    <pre><code class="language-html">public class DateConverter implements Converter&lt;String, Date&gt;{
	
	SimpleDateFormat[] sdFormats=new SimpleDateFormat[]{
			new SimpleDateFormat("yyyy-MM-dd"),
			new SimpleDateFormat("yyyy-MM-dd hh:mm:ss"),
			new SimpleDateFormat("yyyy/MM/dd"),
			new SimpleDateFormat("dd/MM/yyyy"),
			new SimpleDateFormat("yyyy/MM/dd hh:mm:ss"),
			new SimpleDateFormat("dd/MM/yyyy hh:mm:ss")
	};
	@Override
	public Date convert(String str) {
		Date date=null;
		for (int i = 0; i &lt; sdFormats.length; i++) {
			try {
				date=sdFormats[i].parse(str);
				break;
			} catch (Exception e) {
				continue;
			}
		}
		return date;
	}

}
</code></pre>
<br/>
<br/>
好了问题解决了。
<p>
</p>
<p>
<br/>
<br/>
</p>

   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f7171393038343433303933:2f61727469636c652f64657461696c732f3731313839383933" class_="artid" style="display:none">
 </p>
</div>
