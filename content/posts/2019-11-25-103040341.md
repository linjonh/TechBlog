---
arturl_encode: "68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34353534373835342f:61727469636c652f64657461696c732f313033303430333431"
layout: post
title: "Cæ‰“å­—æ¸¸æˆæ¡ˆä¾‹è¯¦ç»†æ•™ç¨‹"
date: 2019-11-25 17:15:56 +08:00
description: "C#æ‰“å­—æ¸¸æˆæ¡ˆä¾‹è¯¦ç»†æ•™ç¨‹å…¨éƒ¨æ§ä»¶éƒ½æ˜¯ç”¨ä»£ç å®ç°æ²¡æœ‰æ‹–æ‹‰æ§ä»¶ï¼Œå°ç™½è¯·ç†Ÿæ‚‰C#å±æ€§èµ‹å€¼å†æ¥ä»”ç»†æŸ¥çœ‹è¯ä¸å¤š"
keywords: "c#æ¸¸æˆæ¡ˆä¾‹"
categories: ['C']
tags: ['Winform', 'C', 'C', 'C']
artid: "103040341"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=103040341
    alt: "Cæ‰“å­—æ¸¸æˆæ¡ˆä¾‹è¯¦ç»†æ•™ç¨‹"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=103040341
featuredImagePreview: https://bing.ee123.net/img/rand?artid=103040341
---

# C#æ‰“å­—æ¸¸æˆæ¡ˆä¾‹è¯¦ç»†æ•™ç¨‹

C#æ‰“å­—æ¸¸æˆæ¡ˆä¾‹è¯¦ç»†æ•™ç¨‹

> å…¨éƒ¨æ§ä»¶çš„å®ç°ä»¥åŠæ§ä»¶çš„äº‹ä»¶ï¼Œå±æ€§éƒ½æ˜¯ä½¿ç”¨ä»£ç å®ç°ï¼Œæ²¡æœ‰æ‹–æ‹‰å·¥å…·ç®±æ§ä»¶ï¼Œè¯·ç†Ÿæ‚‰C#å±æ€§èµ‹å€¼ä»¥åŠäº‹ä»¶ç»‘å®šã€‚éœ€è¦æºç å…³æ³¨ç§ä¿¡æˆ‘ï¼Œæ„Ÿè°¢ï¼ï¼ï¼
>
> ### è¯ä¸å¤šè¯´å…ˆæ”¾å›¾!!!

è¿è¡Œæˆªå›¾â†“
  
![è¿è¡Œæˆªå›¾](https://i-blog.csdnimg.cn/blog_migrate/16d276e7fb5e75a1dc46f0be003a3538.png)
  
è®¾è®¡ç•Œé¢æˆªå›¾â†“
  
![è®¾è®¡ç•Œé¢](https://i-blog.csdnimg.cn/blog_migrate/764302d84f21519dead45f98cb732d08.png)

> å®ç°çš„æ•ˆæœï¼š1.éšæœºå­—æ¯a-zï¼ˆæ•°å­—åŒç†ï¼‰çœ‹å®Œä»£ç è¯·è‡ªè¡Œæ‹“å±•ï¼›
>   
> 2.é”®ç›˜æŒ‰åˆ°å¯¹åº”é”®æ—¶é£æœºè·Ÿç€ç§»åŠ¨å¹¶å‘å°„å­å¼¹ï¼›
>   
> 3.å­å¼¹ä¸å­—æ¯ç¢°æ’ï¼Œäº§ç”Ÿçˆ†ç‚¸æ•ˆæœï¼›
>   
> 4.å¾—åˆ†é¢æ¿ï¼Œæ¶ˆå¤±å­—æ¯ååŠ åˆ†ï¼Œå…³å¡åŒç†è®¾è®¡;
>   
> 5.å¼€å§‹æš‚åœæ¸¸æˆé€šè¿‡ä¸€ä¸ªButtonå®ç°ï¼Œä¹Ÿå¯ä»¥ç”¨Lableï¼ŒButtonæŒ‰é’®ä¼šå’Œå®šä¹‰çš„é”®ç›˜äº‹ä»¶èµ·å†²çªï¼Œè§£å†³æ–¹æ³•ï¼š
> **this.KeyPreview = true;**
>   
> 6.æ²¡æŒ‰å¯¹ä¸­å­—æ¯è¡€æ¡å‡å°‘,è¡€æ¡ä¸ºç©ºæ¸…ç©ºå±å¹•å­—æ¯å¹¶å¼¹çª—ï¼Œç‚¹ï¼ˆé‡è¯•ï¼‰æ•°æ®åˆå§‹åŒ–å¼€å§‹æ–°çš„ä¸€å±€ï¼Œç‚¹ï¼ˆå–æ¶ˆï¼‰å…³é—­çª—ä½“
>   
> 7.è“„åŠ›å€¼è¿›åº¦æ¡ä¸€æ»¡ï¼Œé‡Šæ”¾å¤§æ‹›æ¸…ç©ºå±å¹•
>
> ### è¯ä¸å¤šè¯´ä¸Šä»£ç ï¼ï¼ï¼

### è¯¥é¡¹ç›®ç”¨åˆ°çš„å…¨å±€å˜é‡â†“

```csharp
				
 		      // æ¸¸æˆåŒºåŸŸ
        Panel Game = new Panel();
        // ä¾§è¾¹æ åŒºåŸŸ
        Panel cebian = new Panel();
        // å·±æ–¹é£æœº
        Panel plean = new Panel();
        // éšæœºæ•°
        Random rad = new Random();
        // æ§åˆ¶åˆ›å»ºå­—æ¯è®¡æ—¶å™¨-zimu1add
        Timer zimuadd = new Timer();
        // æ§åˆ¶å­—æ¯ä¸‹è½è®¡æ—¶å™¨-zimutop
        Timer zimutop = new Timer();
        // å¼€å§‹æ¸¸æˆæŒ‰é’®
        Button btnstart = new Button();
        // å¾—åˆ†label
        Label lab = new Label();
        // è®°å½•åˆ†æ•°
        int score = 0;
        // è¿›åº¦æ¡
        ProgressBar HS = new ProgressBar();
        // labè¿›åº¦æ¡èƒŒæ™¯
        Label HSback = new Label();
        // labè¿›åº¦æ¡
        Label HSjindu = new Label();
        // è®°å½•è¡€é‡
        int xt = 100;
        // è“„åŠ›å€¼
        int xy = 0;
      	 // å®šä¹‰listæ³›å‹é›†åˆæ¥å­˜å‚¨å…¨éƒ¨å­—æ¯
        List<Label> zimulab = new List<Label>();

```

### çª—ä½“çš„åŠ è½½äº‹ä»¶

```csharp
		 private void Form1_Load(object sender, EventArgs e)
        {
            // è§£å†³buttonæŒ‰é’®å½±å“é”®ç›˜äº‹ä»¶é—®é¢˜
            this.KeyPreview = true; 
            this.Size = new Size(1000,600);
            this.Left = Screen.PrimaryScreen.Bounds.Width / 2 - this.Width / 2;
            this.Top = Screen.PrimaryScreen.Bounds.Height / 2 - this.Height / 2;
            this.BackColor = Color.White;
            // æ¸¸æˆåŒºåŸŸPanel-Game
            Game.Size = new Size(800,540);
            Game.BackColor = Color.Pink;
            Game.Location = new Point(10,10);
            this.Controls.Add(Game);
            // æ·»åŠ é£æœº-pleanåœ¨æ¸¸æˆåŒºåŸŸ
            plean.Size = new Size(60,60);
            plean.Tag = "plean";
            plean.Top = Game.Height - plean.Height;
            plean.Left = Game.Width / 2 - plean.Width / 2;
            plean.BackgroundImage = Image.FromFile(@"../../img/plane_1.png");
            plean.BackgroundImageLayout = ImageLayout.Stretch;
            Game.Controls.Add(plean);
            // æ·»åŠ æ¸¸æˆè®¾ç½®ä¾§è¾¹æ 
            cebian.Size = new Size(150,540);
            cebian.BackColor = Color.Aqua;
            cebian.Left = 820;
            cebian.Top = 10;
            this.Controls.Add(cebian);
            // å¼€å§‹æ¸¸æˆæŒ‰é’®æ·»åŠ è¿›ä¾§è¾¹æ 
            btnstart.Font = new Font("èæ–¹",15);
            btnstart.Size = new Size(80,30);
            btnstart.AutoSize = true;
            btnstart.Cursor = Cursors.Hand;
            btnstart.Location = new Point(10, 10);
            btnstart.Text = "å¼€å§‹æ¸¸æˆ";
            btnstart.Click += Btnstart_Click;
            cebian.Controls.Add(btnstart);
            // ä¾§è¾¹æ æ˜¾ç¤ºå¾—åˆ†
            lab.Font = new Font("èæ–¹",15);
            lab.AutoSize = true;
            lab.Text = "å¾—åˆ†ï¼š0åˆ†";
            lab.Location = new Point(10, 50);
            cebian.Controls.Add(lab);
            zimuadd.Tick += Zimuadd_Tick;
            zimuadd.Interval = 1000;
            zimutop.Tick += Zimutop_Tick;
            zimutop.Interval = 10;
            // ç³»ç»Ÿè‡ªå¸¦è¿›åº¦æ¡è¡€æ¡å®ç°
            Label la = new Label();
            la.Font = new Font("èæ–¹", 10);
            la.AutoSize = true;
            la.ForeColor = Color.Red;
            la.Text = "è¡€é‡ğŸ‘‡";
            la.Location = new Point(10, 90);
            cebian.Controls.Add(la);
            HS.Location = new Point(10,110);
            HS.Size = new Size(100,20);
            HS.Value = xt;
            cebian.Controls.Add(HS);
            // è‡ªå®šä¹‰è“„åŠ›å€¼å®ç°
            Label xu = new Label();
            xu.Text = "è“„åŠ›å€¼";
            xu.Font = new Font("",10);
            xu.AutoSize = true;
            xu.ForeColor = Color.Blue;
            xu.Location = new Point(10,130);
            cebian.Controls.Add(xu);
            HSback.Size = new Size(100,20);
            HSback.Location = new Point(10, 150);
            HSback.BackColor = Color.White;
            HSjindu.Size = new Size(xy,20);
            HSjindu.Location = new Point(10, 150);
            HSjindu.BackColor = Color.Red;
            cebian.Controls.Add(HSjindu);
            cebian.Controls.Add(HSback);         
            // çª—å£é”®ç›˜äº‹ä»¶
            this.KeyPress += Form1_KeyPress;
        }

```

### BtnstartæŒ‰é’®çš„å•å‡»äº‹ä»¶

```csharp
                // å¼€å§‹/æš‚åœ
        private void Btnstart_Click(object sender, EventArgs e)
        {
            if (btnstart.Text=="å¼€å§‹æ¸¸æˆ")
            {              
                zimuadd.Start();                
                zimutop.Start();
                btnstart.Text = "æš‚åœ";
            }else if (btnstart.Text == "æš‚åœ")
            {
                zimuadd.Stop();
                zimutop.Stop();
                btnstart.Text = "å¼€å§‹æ¸¸æˆ";
            }

        }

```

### Zimuaddè®¡æ—¶å™¨ç”¨æ¥éšæœºå­—æ¯

```csharp
	// æ§åˆ¶å­—æ¯æ·»åŠ 
          private void Zimuadd_Tick(object sender, EventArgs e)
          {
            Label zimu = new Label();
            zimu.Tag = "zimu";
            zimu.Text = ((char)rad.Next(97,123)).ToString();
            zimu.Font = new Font("èæ–¹",rad.Next(20,31));
            zimu.ForeColor = Color.FromArgb(rad.Next(255), rad.Next(255), rad.Next(255));
            zimu.BackColor = Color.Transparent;
            zimu.Top = 0;
            zimu.AutoSize = true;
            zimu.Left = rad.Next(0,Game.Width-zimu.Width);
            Game.Controls.Add(zimu);
            // æ·»åŠ zimuè¿›æ³›å‹é›†åˆä¸­
            zimulab.Add(zimu);
        }

```

### Zimutopè®¡æ—¶å™¨ç”¨æ¥è®©å­—æ¯ä¸‹è½å¹¶å®ç°å­å¼¹ä¸Šå‡ä¸çˆ†ç‚¸æ•ˆæœå›¾çš„äº§ç”Ÿ ï¼ˆä¸»è¦é€»è¾‘ï¼‰

```csharp
       // æ§åˆ¶å­—æ¯ä¸‹è½ï¼Œå­å¼¹ä¸Šå‡è®¡æ—¶å™¨
        private void Zimutop_Tick(object sender, EventArgs e)
        {
            foreach (Control item in Game.Controls)
            {
                   // å­—æ¯ä¸‹è½
                if (item.Tag.ToString()=="zimu"||item.Tag.ToString()=="biaoji")
                {
                    item.Top += 3;
                    if (item.Top>Game.Height)
                    {
                        item.Dispose();
                        // è®°å½•è¡€æ¡ä¸å¾—åˆ†
                        xt -= 10;
                        HS.Value = xt;
                        
                        if (xt==0)
                        {
                            zimuadd.Stop();
                            zimutop.Stop();
                            // åˆ¤æ–­æ˜¯å¦æ¸¸æˆç»“æŸ
                            if (MessageBox.Show("æ¸¸æˆç»“æŸ,ä½ çš„å¾—åˆ†ï¼š" + score,"Game Over", 
                                MessageBoxButtons.RetryCancel,MessageBoxIcon.Warning)
                                ==DialogResult.Retry)
                            {
                                // æ•°æ®åˆå§‹åŒ–
                                btnstart.Text = "å¼€å§‹æ¸¸æˆ";
                                score = 0;
                                lab.Text = "å¾—åˆ†:" + score + "åˆ†";
                                xt = 100;
                                HS.Value = xt;
                                // è°ƒç”¨æ¸…ç©ºå±å¹•æ–¹æ³•
                                Qingping();
                            }
                            else
                            {
                                this.Close();
                            }
                          
                        }

                    }
                }
                // å­å¼¹ä¸Šå‡
                if (item.Tag.ToString()=="zidan")
                {
                    item.Top -= 10;
                    if (item.Top<-item.Height)
                    {
                        item.Dispose();
                      
                    }
                    foreach  (Control it  in Game.Controls)
                    {
                        if (it.Tag.ToString()== "biaoji")
                        {
                            if (item.Top<=it.Top+it.Height&&
                                item.Left+item.Width/2==it.Left+it.Width/2)
                               {
                                item.Dispose();
                                it.Dispose();
                                // è“„åŠ›å€¼è¿›åº¦æ¡å¢åŠ 
                                xy += 10;
                                HSjindu.Width = xy;
                                if (xy == 100)
                                {
                                    // æ¸…ç©ºå±å¹•ï¼Œè“„åŠ›å€¼ä¸º0
                                    xy = 0;
                                    HSjindu.Width = xy;
                                    Qingping();
                                }
                                score += 10;
                                lab.Text="å¾—åˆ†:" + score + "åˆ†";
                                // çˆ†ç‚¸å›¾ç‰‡
                                PictureBox bomimgs = new PictureBox();
                                bomimgs.Size = new Size(30,30);
                                bomimgs.Tag = 0;
                                bomimgs.Image = imageList1.Images[0];
                                bomimgs.Left = it.Left+it.Width/2-bomimgs.Width/2;
                                bomimgs.Top = it.Top + it.Height / 2-bomimgs.Height/2;
                                Game.Controls.Add(bomimgs);
                                // æ§åˆ¶çˆ†ç‚¸å›¾ç‰‡åˆ‡æ¢çš„è®¡æ—¶å™¨-timerbom
                                Timer timerbom = new Timer();
                                timerbom.Tag = bomimgs;
                                timerbom.Interval = 30;
                                timerbom.Start();
                                timerbom.Tick += Timerbom_Tick;
                            }
                        }
                    }
                }
            }
        }

```

### çª—ä½“çš„é”®ç›˜äº‹ä»¶

```csharp
		   // é”®ç›˜äº‹ä»¶
        private void Form1_KeyPress(object sender, KeyPressEventArgs e)
        {
            foreach (Control item in Game.Controls)
            {
                if (item.Text==e.KeyChar.ToString()&&item.Tag.ToString()=="zimu")
                {
                    item.Tag = "biaoji";
                    plean.Left = item.Left+item.Width/2-plean.Width/2;
                    PictureBox fire = new PictureBox();
                    fire.Tag = "zidan";
                    fire.Size = new Size(10,30);
                    fire.Image = Image.FromFile(@"../../img/Ammo1.png");
                    fire.SizeMode = PictureBoxSizeMode.StretchImage;
                    fire.Left = plean.Left+plean.Width/2-fire.Width/2;
                    fire.Top = plean.Top-fire.Height;
                    Game.Controls.Add(fire);
                    return;
                }
            }
        }

```

### Timerbomè®¡æ—¶å™¨ç”¨æ¥å®ç°çˆ†ç‚¸æ•ˆæœå›¾çš„åˆ‡æ¢å®ç°çˆ†ç‚¸æ•ˆæœ

```csharp
	// çˆ†ç‚¸å›¾ç‰‡åˆ‡æ¢è®¡æ—¶å™¨
        private void Timerbom_Tick(object sender, EventArgs e)
        {
            Timer timbom = (Timer)sender;
            PictureBox bomimgs = (PictureBox)timbom.Tag;
            bomimgs.Tag=((int)bomimgs.Tag) + 1;
            bomimgs.Image = imageList1.Images[(int)bomimgs.Tag];
            if ((int)bomimgs.Tag>=31)
            {
                bomimgs.Dispose();
                timbom.Dispose();
            }
           
        }

```

### è‡ªå®šä¹‰æ¸…ç©ºå±å¹•æ–¹æ³•

```csharp
  // æ¸…ç©ºå±å¹•æ–¹æ³•
        private void Qingping()
        { 
            // éå†æ³›å‹é›†åˆzimulab
            foreach (Label zimu in zimulab)
            {
                zimu.Dispose();
            }
        }

```