---
layout: post
title: "Java-Spring-MVC-2"
date: 2025-03-08 21:17:38 +0800
description: "username张三 password123456。：显示服务器上的index.html网页文件。：浏览器必须携带名为java的Cookie。：把参数q映射到keyword变量。：使用Postman等工具上传文件。：查看浏览器携带的所有Cookie。：发送HTML片段让浏览器渲染。：强制浏览器以纯文本处理内容。：转换为UserInfo对象。：向浏览器直接发送文字内容。：直接显示返回的字符串原文。：显示为带样式的标题文字。：引导用户访问指定网页。：类似点击网页导航链接。：网购时的商品描述模块。"
keywords: "Java Spring MVC (2)"
categories: ['未分类']
tags: ['开发语言', 'Spring', 'Java']
artid: "146079594"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146079594
    alt: "Java-Spring-MVC-2"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146079594
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146079594
cover: https://bing.ee123.net/img/rand?artid=146079594
image: https://bing.ee123.net/img/rand?artid=146079594
img: https://bing.ee123.net/img/rand?artid=146079594
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Java Spring MVC (2)
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h4>
     <strong>
      常见的Request Controller 和 Response Controller 的区别
     </strong>
    </h4>
    <h5>
     <strong>
      用餐厅点餐来理解
     </strong>
    </h5>
    <p>
     想象你去一家餐厅吃饭：
    </p>
    <ul>
     <li>
      <strong>
       Request Controller（接单员）
      </strong>
      ：负责处理你的点餐请求，记录你的口味、桌号等信息。
     </li>
     <li>
      <strong>
       Response Controller（厨师+服务员）
      </strong>
      ：根据你的需求制作菜品，并把热乎乎的菜端到你桌上。
     </li>
    </ul>
    <p>
     <strong>
      它们的核心区别
     </strong>
     ：
    </p>
    <ul>
     <li>
      <strong>
       Request Controller
      </strong>
      ：专注
      <strong>
       接收并解析用户请求
      </strong>
      （比如拿参数、查Cookie、读Session）。
     </li>
     <li>
      <strong>
       Response Controller
      </strong>
      ：专注
      <strong>
       构造并返回响应数据
      </strong>
      （比如返回网页、JSON数据、设置状态码）
     </li>
    </ul>
    <h3>
     <strong>
      第一部分：RespController - 响应处理中心
     </strong>
    </h3>
    <p>
     （相当于快递包装流水线）
    </p>
    <h4>
     <strong>
      1. 地址导航员（返回页面）
     </strong>
    </h4>
    <pre><code class="language-java">@RequestMapping("/r1")
public String returnPage(){
    return "/index.html"; 
}
</code></pre>
    <p>
     <strong>
      作用
     </strong>
     ：引导用户访问指定网页
     <br/>
     <strong>
      示例
     </strong>
     ：类似点击网页导航链接
     <br/>
     <code>
      访问地址
     </code>
     ：
     <a href="http://localhost/resp/r1" rel="nofollow" title="http://localhost/resp/r1">
      http://localhost/resp/r1
     </a>
     <br/>
     <code>
      响应结果
     </code>
     ：显示服务器上的index.html网页文件
    </p>
    <h4>
     <strong>
      2. 文字快递员（返回纯文本）
     </strong>
    </h4>
    <pre><code class="language-java">@ResponseBody
@RequestMapping("/r2")
public String returnData(){
    return "我是前端需要的数据"; 
}
</code></pre>
    <p>
     <strong>
      作用
     </strong>
     ：向浏览器直接发送文字内容
     <br/>
     <strong>
      示例
     </strong>
     ：手机收到验证码短信
     <br/>
     <code>
      响应头
     </code>
     ：Content-Type: text/plain
     <br/>
     <code>
      响应内容
     </code>
     ：直接显示返回的字符串原文
    </p>
    <h4>
     <strong>
      3. HTML零件供应商
     </strong>
    </h4>
    <pre><code class="language-java">@ResponseBody
@RequestMapping("/r3")
public String returnHTML(){
    return "&lt;h1&gt;我是一级标题&lt;/h1&gt;";
}
</code></pre>
    <p>
     <strong>
      作用
     </strong>
     ：发送HTML片段让浏览器渲染
     <br/>
     <strong>
      示例
     </strong>
     ：网购时的商品描述模块
     <br/>
     <code>
      响应头
     </code>
     ：Content-Type: text/html
     <br/>
     <code>
      前端显示
     </code>
     ：显示为带样式的标题文字
    </p>
    <h4>
     <strong>
      4. 强制纯文本模式
     </strong>
    </h4>
    <pre><code class="language-java">@ResponseBody
@RequestMapping(value = "/r4", produces = "text/plain")
public String returnTEXT(){
    return "&lt;h1&gt;我是一级标题&lt;/h1&gt;";
}
</code></pre>
    <p>
     <strong>
      作用
     </strong>
     ：强制浏览器以纯文本处理内容
     <br/>
     <strong>
      示例
     </strong>
     ：收到代码截图文档
     <br/>
     <code>
      响应头
     </code>
     ：Content-Type: text/plain
     <br/>
     <code>
      前端显示
     </code>
     ：显示原始代码文本
     <code>
      &lt;h1&gt;...
     </code>
    </p>
    <p>
    </p>
    <h4>
     <strong>
      5. JSON数据专员
     </strong>
    </h4>
    <p>
     （需要UserInfo类支持）
    </p>
    <pre><code class="language-java">@ResponseBody
@RequestMapping("/r5")
public UserInfo returnJSON(){
    return new UserInfo(1, "zhangsan");
}
</code></pre>
    <p>
     <strong>
      作用
     </strong>
     ：发送结构化数据
     <br/>
     <strong>
      示例
     </strong>
     ：接收用户信息表单
     <br/>
     <code>
      响应头
     </code>
     ：Content-Type: application/json
    </p>
    <p>
     <code>
      响应内容
     </code>
     ：
    </p>
    <pre><code class="language-java">{"id":1, "name":"zhangsan"}
</code></pre>
    <p>
     <br/>
     <strong>
      6. 异常状态标注员
     </strong>
    </p>
    <pre><code class="language-java">@ResponseBody
@RequestMapping("/r6")
public UserInfo setStatus(HttpServletResponse response){
    response.setStatus(400);
    return new UserInfo(1, "zhangsan");
}
</code></pre>
    <h3>
    </h3>
    <p>
    </p>
    <h3>
     <strong>
      第二部分：RequestController  - 需求处理中心
     </strong>
    </h3>
    <p>
     <strong>
      1. 问询接待员（基础参数接收）
     </strong>
    </p>
    <p>
     <strong>
      示例请求
     </strong>
     ：
     <br/>
     访问：
     <a href="http://localhost/request/r1?keyword=%E6%89%8B%E6%9C%BA" rel="nofollow" title="http://localhost/request/r1?keyword=手机">
      http://localhost/request/r1?keyword=手机
     </a>
     <br/>
     <code>
      响应结果
     </code>
     ：接收参数手机
    </p>
    <h4>
     <strong>
      2. 多重接待窗口
     </strong>
    </h4>
    <pre><code class="language-java">@RequestMapping("/r2")
public String r2(String name, String password) {
    return "usrname" + name + "password" + password;
}
</code></pre>
    <p>
     <strong>
      示例请求
     </strong>
     ：
     <br/>
     访问：
     <a href="http://localhost/request/r2?name=%E5%BC%A0%E4%B8%89&amp;password=123456" rel="nofollow" title="http://localhost/request/r2?name=张三&amp;password=123456">
      http://localhost/request/r2?name=张三&amp;password=123456
     </a>
     <br/>
     <code>
      响应结果
     </code>
     ：username张三 password123456
    </p>
    <h4>
     <strong>
      3. 数字检查员（包装类）
     </strong>
    </h4>
    <pre><code class="language-java">@RequestMapping("/r3")
public String r3(Integer age) {
    return "age" + age;
}
</code></pre>
    <p>
     <strong>
      特点
     </strong>
     ：
    </p>
    <ul>
     <li>
      允许空值（如访问时不带age参数）
     </li>
     <li>
      示例空请求响应：age null
     </li>
    </ul>
    <h4>
     <strong>
      4. 强制数字模式
     </strong>
    </h4>
    <pre><code class="language-java">@RequestMapping("/r4")
public String r4(int age) {
    return "age" + age;
}
</code></pre>
    <p>
     <strong>
      特点
     </strong>
     ：
    </p>
    <ul>
     <li>
      基本类型必须有值
     </li>
     <li>
      空请求时默认返回 age 0
     </li>
    </ul>
    <h4>
     <strong>
      5. 对象收集员
     </strong>
    </h4>
    <pre><code class="language-java">@RequestMapping("/r5")
public String r5(UserInfo userInfo) {
    return "userInfo" + userInfo.toString();
}
</code></pre>
    <p>
     <strong>
      使用方式
     </strong>
     ：
     <br/>
     访问：
     <a href="http://localhost/request/r5?id=2&amp;name=%E6%9D%8E%E5%9B%9B" rel="nofollow" title="http://localhost/request/r5?id=2&amp;name=李四">
      http://localhost/request/r5?id=2&amp;name=李四
     </a>
     <br/>
     <code>
      参数自动装配
     </code>
     ：转换为UserInfo对象
    </p>
    <h4>
     <strong>
      6. 参数改装员
     </strong>
    </h4>
    <pre><code class="language-java">@RequestMapping("/r6")
public String r6(@RequestParam("q") String keyword) {
    return "keyword" + keyword;
}
</code></pre>
    <p>
     <strong>
      示例请求
     </strong>
     ：
     <br/>
     访问：
     <a href="http://localhost/request/r6?q=%E7%AC%94%E8%AE%B0%E6%9C%AC%E7%94%B5%E8%84%91" rel="nofollow" title="http://localhost/request/r6?q=笔记本电脑">
      http://localhost/request/r6?q=笔记本电脑
     </a>
     <br/>
     <code>
      功能
     </code>
     ：把参数q映射到keyword变量
    </p>
    <h4>
     <strong>
      7. 批量收货员
     </strong>
    </h4>
    <pre><code class="language-java">@RequestMapping("/r7")
public String r7(String[] arr) {
    return "arr" + Arrays.toString(arr);
}
</code></pre>
    <p>
     <br/>
     <strong>
      示例请求
     </strong>
     ：
     <br/>
     访问：
     <a href="http://localhost/request/r7?arr=%E8%8B%B9%E6%9E%9C&amp;arr=%E9%A6%99%E8%95%89" rel="nofollow" title="http://localhost/request/r7?arr=苹果&amp;arr=香蕉">
      http://localhost/request/r7?arr=苹果&amp;arr=香蕉
     </a>
     <br/>
     <code>
      响应结果
     </code>
     ：arr [苹果, 香蕉]
    </p>
    <h4>
     <strong>
      8. 路径解析员
     </strong>
    </h4>
    <pre><code class="language-java">@RequestMapping("/article/{type}/{articleId}")
public String article(@PathVariable String type, 
                      @PathVariable Integer articleId) {
    return "articleId" + articleId+"type"+type;
}
</code></pre>
    <p>
     <strong>
      示例请求
     </strong>
     ：
     <br/>
     访问：
     <a href="http://localhost/request/article/tech/1001" rel="nofollow" title="http://localhost/request/article/tech/1001">
      http://localhost/request/article/tech/1001
     </a>
     <br/>
     <code>
      响应结果
     </code>
     ：articleId1001 typetech
    </p>
    <h4>
     <strong>
      9. 包裹接收员（文件上传）
     </strong>
    </h4>
    <pre><code class="language-java">@RequestMapping("r12")
public String r12(@RequestPart("file11") MultipartFile file) {
    file.transferTo(new File("C:\\temp\\"+file.getOriginalFilename()));
    return "文件上传成功";
}
</code></pre>
    <p>
     <strong>
      使用方式
     </strong>
     ：使用Postman等工具上传文件
     <br/>
     <code>
      表单字段名
     </code>
     ：file11
     <br/>
     <code>
      保存路径
     </code>
     ：C盘temp目录
    </p>
    <h4>
     <strong>
      10. 会员卡收集员
     </strong>
    </h4>
    <pre><code class="language-java">@RequestMapping("/r13")
public String r13(HttpServletRequest request) {
    Cookie[] cookies = request.getCookies();
    return "返回cookie成功";
}
</code></pre>
    <p>
     <strong>
      功能
     </strong>
     ：查看浏览器携带的所有Cookie
    </p>
    <h4>
     <strong>
      11. 精准会员卡读取器
     </strong>
    </h4>
    <pre><code class="language-java">@RequestMapping("/r14")
public String r14(@CookieValue("java")String java) {
    return "Cookie中java的值："+java;
}
</code></pre>
    <p>
     <strong>
      要求
     </strong>
     ：浏览器必须携带名为java的Cookie
    </p>
    <h4>
     <strong>
      12. 储物柜管理员（Session操作）
     </strong>
    </h4>
    <pre><code class="language-java">@RequestMapping("/setSession")
public String setSession(HttpServletRequest request) {
    HttpSession session = request.getSession();
    session.setAttribute("userName", "zhangsan");
    return "设置session成功";
}
</code></pre>
    <p>
     <strong>
      效果
     </strong>
     ：
     <br/>
     创建类似保险箱的会话存储空间，通过Cookie自动关联用户
    </p>
    <h4>
     <strong>
      13. 储物柜检查员（会话验证）
     </strong>
    </h4>
    <pre><code class="language-java">@RequestMapping("/getSession3")
public String getSession3(@SessionAttribute("userName") String userName){
    return "登录用户为" + userName;
}
</code></pre>
    <h3>
     <strong>
      使用场景对比表
     </strong>
    </h3>
    <table>
     <thead>
      <tr>
       <th>
        功能需求
       </th>
       <th>
        对应控制器
       </th>
       <th>
        典型方法示例
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        需要给浏览器返回网页
       </td>
       <td>
        RespController
       </td>
       <td>
        returnPage() (/r1)
       </td>
      </tr>
      <tr>
       <td>
        开发RESTful API接口
       </td>
       <td>
        RequestController
       </td>
       <td>
        returnJSON()(/r5)
       </td>
      </tr>
      <tr>
       <td>
        用户登录状态保持
       </td>
       <td>
        RequestController
       </td>
       <td>
        setSession()相关方法
       </td>
      </tr>
      <tr>
       <td>
        处理复杂的表单参数
       </td>
       <td>
        RequestController
       </td>
       <td>
        r5(UserInfo对象接收)
       </td>
      </tr>
      <tr>
       <td>
        需要控制响应头信息
       </td>
       <td>
        RespController
       </td>
       <td>
        setHeader() (/r7)
       </td>
      </tr>
      <tr>
       <td>
        上传用户头像文件
       </td>
       <td>
        RequestController
       </td>
       <td>
        r12()文件上传方法
       </td>
      </tr>
      <tr>
       <td>
        移动端接口开发
       </td>
       <td>
        RequestController
       </td>
       <td>
        所有带@RestController的方法
       </td>
      </tr>
     </tbody>
    </table>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f6e6f5f72745f685f73655f765f656e2f:61727469636c652f64657461696c732f313436303739353934" class_="artid" style="display:none">
 </p>
</div>


