---
layout: post
title: "java.lang.UnsatisfiedLinkError-Couldnt-loadXX-from-loader-dalvik.system."
date: 2020-11-08 16:54:19 +0800
description: "java.lang.UnsatisfiedLinkError: Couldn't load NDK_"
keywords: "java.lang.unsatisfiedlinkerror: couldn't load native-lib from loader dalvik."
categories: ['杂记']
tags: ['Java']
artid: "47614889"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=47614889
    alt: "java.lang.UnsatisfiedLinkError-Couldnt-loadXX-from-loader-dalvik.system."
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=47614889
featuredImagePreview: https://bing.ee123.net/img/rand?artid=47614889
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     java.lang.UnsatisfiedLinkError: Couldn't loadXX from loader dalvik.system.
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     java.lang.UnsatisfiedLinkError: Couldn't load NDK_04 from loader dalvik.system.PathClassLoader[DexPathList[[zip file "/data/app/com.duicky-1.apk"],nativeLibraryDirectories=[/data/app-lib/com.duicky-1, /vendor/lib, /system/lib]]]: findLibrary returned null
    </p>
    08-13 16:25:59.829 E/AndroidRuntime( 2098):     at java.lang.Runtime.loadLibrary(Runtime.java:358)
    <br/>
    08-13 16:25:59.829 E/AndroidRuntime( 2098):     at java.lang.System.loadLibrary(System.java:526)
    <br/>
    08-13 16:25:59.829 E/AndroidRuntime( 2098):     at com.duicky.MainActivity.&lt;clinit&gt;(MainActivity.java:52)
    <br/>
    08-13 16:25:59.829 E/AndroidRuntime( 2098):     at java.lang.Class.newInstanceImpl(Native Method)
    <br/>
    08-13 16:25:59.829 E/AndroidRuntime( 2098):     at java.lang.Class.newInstance(Class.java:1208)
    <br/>
    08-13 16:25:59.829 E/AndroidRuntime( 2098):     at android.app.Instrumentation.newActivity(Instrumentation.java:1073)
    <br/>
    08-13 16:25:59.829 E/AndroidRuntime( 2098):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2154)
    <br/>
    08-13 16:25:59.829 E/AndroidRuntime( 2098):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2327)
    <br/>
    08-13 16:25:59.829 E/AndroidRuntime( 2098):     at android.app.ActivityThread.access$800(ActivityThread.java:151)
    <br/>
    08-13 16:25:59.829 E/AndroidRuntime( 2098):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1225)
    <br/>
    08-13 16:25:59.829 E/AndroidRuntime( 2098):     at android.os.Handler.dispatchMessage(Handler.java:102)
    <br/>
    08-13 16:25:59.829 E/AndroidRuntime( 2098):     at android.os.Looper.loop(Looper.java:136)
    <br/>
    08-13 16:25:59.829 E/AndroidRuntime( 2098):     at android.app.ActivityThread.main(ActivityThread.java:5281)
    <br/>
    08-13 16:25:59.829 E/AndroidRuntime( 2098):     at java.lang.reflect.Method.invokeNative(Native Method)
    <br/>
    08-13 16:25:59.829 E/AndroidRuntime( 2098):     at java.lang.reflect.Method.invoke(Method.java:515)
    <br/>
    08-13 16:25:59.829 E/AndroidRuntime( 2098):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:932)
    <br/>
    08-13 16:25:59.829 E/AndroidRuntime( 2098):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:748)
    <br/>
    08-13 16:25:59.829 E/AndroidRuntime( 2098):     at dalvik.system.NativeStart.main(Native Method)
    <br/>
    08-13 16:25:59.839 W/ActivityManager(  551): skipCurrentReceiverLocked app=ProcessRecord{42086b40 2098:com.duicky/u0a43} app.curReceiver=null killbyAm=false
    <br/>
    08-13 16:25:59.839 W/ActivityManager(  551): queue:foreground mPendingBroadcast null
    <br/>
    08-13 16:25:59.839 W/ActivityManager(  551): queue:background mPendingBroadcast null
    <br/>
    08-13 16:25:59.839 W/ActivityManager(  551):   Force finishing activity com.duicky/.MainActivity
    <br/>
    <p>
     <br/>
    </p>
    <p>
     <br/>
    </p>
    <p>
     出现这样的错误，可能你生成的so 库文件没有push 进 系统，导致apk 找不到库加载。
     <br/>
    </p>
    <p>
     尝试执行 ： adb push out/target/product/ndp959/system/lib/libNDK_04.so /system/lib/
    </p>
    <p>
     我的Android.mk文件
    </p>
    <p>
     #
     <br/>
     # Copyright (C) 2008 The Android Open Source Project
     <br/>
     #
     <br/>
     # Licensed under the Apache License, Version 2.0 (the "License");
     <br/>
     # you may not use this file except in compliance with the License.
     <br/>
     # You may obtain a copy of the License at
     <br/>
     #
     <br/>
     #      http://www.apache.org/licenses/LICENSE-2.0
     <br/>
     #
     <br/>
     # Unless required by applicable law or agreed to in writing, software
     <br/>
     # distributed under the License is distributed on an "AS IS" BASIS,
     <br/>
     # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     <br/>
     # See the License for the specific language governing permissions and
     <br/>
     # limitations under the License.
     <br/>
     #
     <br/>
     <br/>
     # This makefile shows how to build a shared library and an activity that
     <br/>
     # bundles the shared library and calls it using JNI.
     <br/>
     <br/>
     TOP_LOCAL_PATH:= $(call my-dir)
     <br/>
     <br/>
     # Build activity
     <br/>
     <br/>
     LOCAL_PATH:= $(TOP_LOCAL_PATH)
     <br/>
     include $(CLEAR_VARS)
     <br/>
     <br/>
     LOCAL_MODULE_TAGS := samples
     <br/>
     <br/>
     LOCAL_SRC_FILES := $(call all-subdir-java-files)
     <br/>
     <br/>
     LOCAL_PACKAGE_NAME := SimpleJNI
     <br/>
     <br/>
     LOCAL_JNI_SHARED_LIBRARIES := libsimplejni
     <br/>
     <br/>
     LOCAL_PROGUARD_ENABLED := disabled
     <br/>
     <br/>
     LOCAL_SDK_VERSION := current
     <br/>
     <br/>
     include $(BUILD_PACKAGE)
     <br/>
     <br/>
     # ============================================================
     <br/>
     <br/>
     # Also build all of the sub-targets under this one: the shared library.
     <br/>
     include $(call all-makefiles-under,$(LOCAL_PATH))
     <br/>
     <br/>
     <br/>
    </p>
    <p>
     <br/>
    </p>
    <br/>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f7469616e79656d696e67:2f61727469636c652f64657461696c732f3437363134383839" class_="artid" style="display:none">
 </p>
</div>


