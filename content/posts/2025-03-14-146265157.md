---
layout: post
title: "基于Python的物联网智慧农业数据采集与管理系统设计方案"
date: 2025-03-14 18:57:06 +0800
description: "该系统结合物联网硬件与Python生态，可实现农业环境精准监测、智能决策与远程控制，代码可根据具体传感器型号调整驱动逻辑。body=f\"当前温度：{sensor_value['temp']}℃\"- Raspberry Pi 4B（边缘计算节点）3. 数据存储（InfluxDB + Python）- 摄像头：Pi Camera（病虫害监测）-- HTML模板中使用ECharts -->D -->|可视化| E[用户终端]- 土壤湿度：FC-28（带防水探头）2. MQTT数据传输（Paho-MQTT）"
keywords: "基于Python的物联网智慧农业数据采集与管理系统设计方案"
categories: ['未分类']
tags: ['物联网', '人工智能', 'Python']
artid: "146265157"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146265157
    alt: "基于Python的物联网智慧农业数据采集与管理系统设计方案"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146265157
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146265157
cover: https://bing.ee123.net/img/rand?artid=146265157
image: https://bing.ee123.net/img/rand?artid=146265157
img: https://bing.ee123.net/img/rand?artid=146265157
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     基于Python的物联网智慧农业数据采集与管理系统设计方案
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     一、系统架构设计
    </p>
    <p>
     A[感知层] --&gt; B[网络层]
    </p>
    <p>
     B --&gt; C[平台层]
    </p>
    <p>
     C --&gt; D[应用层]
    </p>
    <p>
    </p>
    <p>
     A --&gt;|传感器数据| B
    </p>
    <p>
     B --&gt;|MQTT/4G| C
    </p>
    <p>
     C --&gt;|数据库存储| D
    </p>
    <p>
     D --&gt;|可视化| E[用户终端]
    </p>
    <p>
     二、硬件选型
    </p>
    <p>
     1. 主控设备
    </p>
    <p>
     - Raspberry Pi 4B（边缘计算节点）
    </p>
    <p>
     - ESP32（低成本无线节点）
    </p>
    <p>
     2. 传感器模块
    </p>
    <p>
     - 温湿度：DHT22/AM2302
    </p>
    <p>
     - 光照强度：BH1750
    </p>
    <p>
     - 土壤湿度：FC-28（带防水探头）
    </p>
    <p>
     - CO2浓度：MH-Z19B
    </p>
    <p>
     - 摄像头：Pi Camera（病虫害监测）
    </p>
    <p>
     3. 通信模块
    </p>
    <p>
     - LoRa模块（远距离低功耗）
    </p>
    <p>
     - SIM800C（4G通信）
    </p>
    <p>
     - ESP32内置WiFi/BLE
    </p>
    <p>
     三、软件实现核心代码
    </p>
    <p>
     1. 传感器数据采集（Python + GPIO）
    </p>
    <p>
     import Adafruit_DHT
    </p>
    <p>
     import board
    </p>
    <p>
     import busio
    </p>
    <p>
     import adafruit_bh1750
    </p>
    <p>
     # 温湿度传感器
    </p>
    <p>
     def read_dht22(pin):
    </p>
    <p>
     sensor = Adafruit_DHT.DHT22
    </p>
    <p>
     humidity, temperature = Adafruit_DHT.read_retry(sensor, pin)
    </p>
    <p>
     return {'temp': temperature, 'humidity': humidity}
    </p>
    <p>
     # 光照传感器
    </p>
    <p>
     i2c = busio.I2C(board.SCL, board.SDA)
    </p>
    <p>
     bh1750 = adafruit_bh1750.BH1750(i2c)
    </p>
    <p>
     lux = bh1750.lux
    </p>
    <p>
     2. MQTT数据传输（Paho-MQTT）
    </p>
    <p>
     import paho.mqtt.client as mqtt
    </p>
    <p>
     def on_connect(client, userdata, flags, rc):
    </p>
    <p>
     print("Connected with code", rc)
    </p>
    <p>
     client.subscribe("farm/control")
    </p>
    <p>
     client = mqtt.Client()
    </p>
    <p>
     client.on_connect = on_connect
    </p>
    <p>
     client.connect("mqtt.iotcloud.com", 1883, 60)
    </p>
    <p>
     # 发布传感器数据
    </p>
    <p>
     sensor_data = {
     <!-- -->
    </p>
    <p>
     'temperature': 25.6,
    </p>
    <p>
     'humidity': 60
    </p>
    <p>
     }
    </p>
    <p>
     client.publish("farm/sensor/data", json.dumps(sensor_data))
    </p>
    <p>
     3. 数据存储（InfluxDB + Python）
    </p>
    <p>
     from influxdb import InfluxDBClient
    </p>
    <p>
     client = InfluxDBClient(host='localhost', port=8086)
    </p>
    <p>
     client.switch_database('agriculture')
    </p>
    <p>
     json_body = [{
     <!-- -->
    </p>
    <p>
     "measurement": "environment",
    </p>
    <p>
     "tags": {"location": "field1"},
    </p>
    <p>
     "fields": {
     <!-- -->
    </p>
    <p>
     "temperature": 25.6,
    </p>
    <p>
     "humidity": 60
    </p>
    <p>
     }
    </p>
    <p>
     }]
    </p>
    <p>
     client.write_points(json_body)
    </p>
    <p>
     4. Web可视化（Flask + ECharts）
    </p>
    <p>
     from flask import Flask, render_template
    </p>
    <p>
     import sqlite3
    </p>
    <p>
     app = Flask(__name__)
    </p>
    <p>
     @app.route('/dashboard')
    </p>
    <p>
     def dashboard():
    </p>
    <p>
     conn = sqlite3.connect('sensor.db')
    </p>
    <p>
     data = conn.execute('SELECT * FROM sensor_data').fetchall()
    </p>
    <p>
     return render_template('dashboard.html', data=data)
    </p>
    <p>
     &lt;!-- HTML模板中使用ECharts --&gt;
    </p>
    <p>
     &lt;div id="chart" style="width:600px;height:400px;"&gt;&lt;/div&gt;
    </p>
    <p>
     &lt;script&gt;
    </p>
    <p>
     var chart = echarts.init(document.getElementById('chart'));
    </p>
    <p>
     chart.setOption({
     <!-- -->
    </p>
    <p>
     xAxis: {type: 'time'},
    </p>
    <p>
     yAxis: {type: 'value'},
    </p>
    <p>
     series: [{data: {
     <!-- -->
     { data|tojson }} }]
    </p>
    <p>
     });
    </p>
    <p>
     &lt;/script&gt;
    </p>
    <p>
     四、高级功能实现
    </p>
    <p>
     1. 智能预警系统
    </p>
    <p>
     # 阈值检测与邮件报警
    </p>
    <p>
     def check_threshold(sensor_value):
    </p>
    <p>
     if sensor_value['temp'] &gt; 35:
    </p>
    <p>
     send_email(
    </p>
    <p>
     to="admin@farm.com",
    </p>
    <p>
     subject="高温预警!",
    </p>
    <p>
     body=f"当前温度：{sensor_value['temp']}℃"
    </p>
    <p>
     )
    </p>
    <p>
     def send_email(to, subject, body):
    </p>
    <p>
     import smtplib
    </p>
    <p>
     # SMTP配置代码...
    </p>
    <p>
     2. 灌溉自动化控制
    </p>
    <p>
     # 根据土壤湿度自动打开水泵
    </p>
    <p>
     if soil_moisture &lt; 30:
    </p>
    <p>
     GPIO.output(WATER_PUMP_PIN, GPIO.HIGH)
    </p>
    <p>
     time.sleep(10) # 浇水10秒
    </p>
    <p>
     GPIO.output(WATER_PUMP_PIN, GPIO.LOW)
    </p>
    <p>
     五、系统优化方向
    </p>
    <p>
     1. 边缘计算：在Raspberry Pi上运行TensorFlow Lite实现病虫害图像实时识别
    </p>
    <p>
     2. 能耗优化：使用MicroPython开发低功耗传感器节点
    </p>
    <p>
     3. 区块链应用：利用Hyperledger记录农产品溯源数据
    </p>
    <p>
     4. 数字孪生：通过3D建模构建虚拟农场映射
    </p>
    <p>
     六、部署注意事项
    </p>
    <p>
     1. 使用Docker容器化部署服务
    </p>
    <p>
     2. 配置Nginx反向代理提高Web服务稳定性
    </p>
    <p>
     3. 采用双机热备方案保证MQTT Broker高可用
    </p>
    <p>
     4. 定期备份数据库（可结合crontab定时任务）
    </p>
    <p>
     该系统结合物联网硬件与Python生态，可实现农业环境精准监测、智能决策与远程控制，代码可根据具体传感器型号调整驱动逻辑。建议先搭建最小原型系统，再逐步扩展功能模块。
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f6d6f73717569746f5f6c6f766572312f:61727469636c652f64657461696c732f313436323635313537" class_="artid" style="display:none">
 </p>
</div>


