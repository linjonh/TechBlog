---
layout: post
title: "华为云IoT体验基于IoT平台构建智慧路灯应用"
date: 2022-01-10 23:45:16 +0800
description: "基于华为云IoT平台，快速开发属于自己的智慧路灯应用。"
keywords: "华为云IoT体验：基于IoT平台构建智慧路灯应用"
categories: ['华为云Iot', 'Iot']
tags: ['物联网', '华为', 'Iot']
artid: "122421941"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=122421941
    alt: "华为云IoT体验基于IoT平台构建智慧路灯应用"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=122421941
featuredImagePreview: https://bing.ee123.net/img/rand?artid=122421941
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     华为云IoT体验：基于IoT平台构建智慧路灯应用
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h4>
     <a id="IoT_0">
     </a>
     基于IoT平台构建智慧路灯应用
    </h4>
    <blockquote>
     <p>
      基于华为云IoT平台，快速开发属于自己的智慧路灯应用。
      <br/>
      本文基于华为云iot实验制作而成
     </p>
    </blockquote>
    <h4>
     <a id="1_5">
     </a>
     1.资源下载
    </h4>
    <p>
     (本文默认已经注册并登录华为云平台)
    </p>
    <p>
     在linux桌面下打开终端面板下载资源，下载保存“HubSimulator.jar”至本地桌面。
    </p>
    <pre><code>cd Desktop/wget https://sandbox-experiment-resource-north-4.obs.cn-north-4.myhuaweicloud.com/internet-wisdom-lamp/HubSimulator.jar
</code></pre>
    <p>
     <img alt="image-20220110235556077" src="https://i-blog.csdnimg.cn/blog_migrate/264e5911316441c8254a131f14fb0b25.png"/>
    </p>
    <p>
     输入以下命令保存“SmartStreetLight.zip”压缩包
    </p>
    <pre><code class="prism language-c">wget https<span class="token operator">:</span><span class="token comment">//sandbox-experiment-resource-north-4.obs.cn-north-4.myhuaweicloud.com/internet-wisdom-lamp/SmartStreetLight.zip</span>
</code></pre>
    <p>
     <img alt="image-20220110235821715" src="https://i-blog.csdnimg.cn/blog_migrate/73c86f4445017c65f05ccb4f7ab8f8ce.png"/>
    </p>
    <h4>
     <a id="2_25">
     </a>
     2.编译构建智慧路灯应用
    </h4>
    <h5>
     <a id="21__27">
     </a>
     2.1 新建项目
    </h5>
    <p>
     进入控制台，选择“服务列表”-&gt;“开发与运维”-&gt;“项目管理”，进入软件开发云，如下图：
    </p>
    <p>
     <img alt="image-20220111000301858" src="https://i-blog.csdnimg.cn/blog_migrate/4264d615791047b29d28f9c50caa4e94.png"/>
    </p>
    <p>
     点击“立即使用”按钮，跳转到DevCloud操作界面
    </p>
    <p>
     (华为云提供了免费的软件开发平台基础班试用功能)
    </p>
    <p>
     <img alt="image-20220111000550423" src="https://i-blog.csdnimg.cn/blog_migrate/7f7090b1aade23c3adb90658d4eb923b.png"/>
    </p>
    <p>
     DevCloud操作界面如下图
    </p>
    <p>
     <img alt="image-20220111000634393" src="https://i-blog.csdnimg.cn/blog_migrate/a3ec17dadfec3a9639896c342b624e08.png"/>
    </p>
    <p>
     点击上图红圈标注“新建项目”按钮，开始创建项目，如下图所示：
    </p>
    <p>
     <img alt="image-20220111000728570" src="https://i-blog.csdnimg.cn/blog_migrate/3071a4655640ce176b568930db5f906d.png"/>
    </p>
    <p>
     点击标注的“Scrum”区域，创建“Scrum”类型项目，参数如下：项目设置模板：Scrum项目名称：QuickStart
    </p>
    <p>
     <img alt="image-20220111000808871" src="https://i-blog.csdnimg.cn/blog_migrate/aa960fc94462b3096cd365f03678438c.png"/>
    </p>
    <p>
     参数填写完毕，点击确定按钮即可完成项目创建。
    </p>
    <p>
     ####2.2创建代码仓库
    </p>
    <p>
     选择导航栏“代码 &gt; 代码托管”，进入管理页面，展开右上角“普通新建”下拉菜单，点击“按模板新建”。
    </p>
    <p>
     <img alt="image-20220111001240474" src="https://i-blog.csdnimg.cn/blog_migrate/0303d101867cf281d39478976fb2ae8d.png"/>
    </p>
    <p>
     <img alt="image-20220111001340460" src="https://i-blog.csdnimg.cn/blog_migrate/32a44f99904a466bc6d034f08e6c43db.png"/>
    </p>
    <p>
     在搜索框中输入“IoT_Streetlight_New_Demo”，如下图所示选择“华北-北京四”，选中该模板，单击“下一步”。
    </p>
    <p>
     <img alt="image-20220111001436613" src="https://i-blog.csdnimg.cn/blog_migrate/944ef00283c935f1e0bfbd015290279b.png"/>
    </p>
    <p>
     填写仓库基本信息基本信息参数如下：
    </p>
    <p>
     ①代码仓库名称：自定义，如：IoT_Streetlight_New_Demo
    </p>
    <p>
     ②选择gitignore：Java其他选项保持默认。
    </p>
    <p>
     单击“确定”，完成仓库创建。
    </p>
    <p>
     <img alt="image-20220111001607489" src="https://i-blog.csdnimg.cn/blog_migrate/c0085f279c18960fbfbe2903e24e38fe.png"/>
    </p>
    <h5>
     <a id="23_77">
     </a>
     2.3构建并归档软件包
    </h5>
    <p>
     新建编译构建任务点击导航栏
    </p>
    <p>
     “构建&amp;发布 &gt; 编译构建”，进入管理页面，点击“新建任务”，参数如下：
    </p>
    <p>
     ①源码源：CodeHub；
    </p>
    <p>
     ②源码仓库：默认选择1.2步创建的代码仓库；
    </p>
    <p>
     ③分支：master；点击“下一步”进入“选择构建模板”。
    </p>
    <p>
     <img alt="image-20220111001757025" src="https://i-blog.csdnimg.cn/blog_migrate/b46406036b60383279a43318a73fe189.png"/>
    </p>
    <p>
     <img alt="image-20220111001813475" src="https://i-blog.csdnimg.cn/blog_migrate/23d5dd3384dc183d9cbd6f5dd5523e52.png"/>
    </p>
    <p>
     <img alt="image-20220111001836075" src="https://i-blog.csdnimg.cn/blog_migrate/7481b781cd34664c2ce96959cf8082c1.png"/>
    </p>
    <p>
     本项目是一个Java Maven项目，所以搜索选择“Maven”模板， 单击“确定”，进入“构建步骤”页面。
    </p>
    <p>
     <img alt="image-20220111002106645" src="https://i-blog.csdnimg.cn/blog_migrate/2cd8a04620352ac1e839953d389a5efe.png"/>
    </p>
    <p>
     使用系统模板中提供的两个默认步骤、以及每个步骤中的默认配置，即可完成本例的构建。点击“新建并执行”即可完成步骤的配置并启动构建任务
    </p>
    <p>
     <img alt="image-20220111002156565" src="https://i-blog.csdnimg.cn/blog_migrate/e60e242181c4765beaafe3a2912e90af.png"/>
    </p>
    <blockquote>
     <p>
      构建需要2-3分钟，请耐心等待
     </p>
    </blockquote>
    <p>
     <img alt="image-20220111003820073" src="https://i-blog.csdnimg.cn/blog_migrate/52b3a1f2b3cbbc88c700973d096eef78.png"/>
    </p>
    <h5>
     <a id="24__107">
     </a>
     2.4 验证构建任务执行结果
    </h5>
    <p>
     点击导航栏“发布”，进入“软件发布库”页面，点击进入“IoT_Streetlight…”下的“202…”日期命名的文件夹，即可看到生成的软件包“huawei-0.0.1-SNAPSHOT.jar”。
    </p>
    <p>
     <img alt="image-20220111004013823" src="https://i-blog.csdnimg.cn/blog_migrate/9875b2e7f559c5236c5910ae0b32114c.png"/>
    </p>
    <h5>
     <a id="3__SMN_113">
     </a>
     3. 创建主题并订阅 SMN
    </h5>
    <h5>
     <a id="31__115">
     </a>
     3.1 创建主题
    </h5>
    <p>
     在华为云控制台，展开左侧目录，选择【服务列表】-&gt;【管理与监管】 -&gt; 【消息通知服务SMN】，或在服务列表搜索框中搜索“SMN”。
    </p>
    <p>
     <img alt="image-20220111004215886" src="https://i-blog.csdnimg.cn/blog_migrate/323d372427e9b5aa8361e136f7ecc5e3.png"/>
    </p>
    <p>
     在左侧导航栏，选择“主题管理 &gt; 主题”，单击“创建主题”，输入“主题名称”（自定义，例如：StreetLight）后单击“确定”完成主题创建
    </p>
    <p>
     <img alt="image-20220111004333450" src="https://i-blog.csdnimg.cn/blog_migrate/005159ff793b1586aab4b6063578dfc2.png"/>
    </p>
    <p>
     <img alt="image-20220111004342061" src="https://i-blog.csdnimg.cn/blog_migrate/14355f32ccbda7b695745840381e9596.png"/>
    </p>
    <p>
     <img alt="image-20220111004410367" src="https://i-blog.csdnimg.cn/blog_migrate/3c76ee144c1b87480a4d80591b694ddd.png"/>
    </p>
    <h5>
     <a id="32_SMN_129">
     </a>
     3.2订阅 SMN
    </h5>
    <p>
     主题创建成功后，系统会自动生成主题URN，主题URN是主题的唯一资源标识，不可修改，后续步骤将会用到该URN。
    </p>
    <p>
     <img alt="image-20220111004516889" src="https://i-blog.csdnimg.cn/blog_migrate/993d21ad1ab34fa5bf2a04814c342e72.png"/>
    </p>
    <p>
     点击主题“StreetLight”右侧操作“添加订阅”，可采用短信或者邮件任意一种协议完成订阅。
    </p>
    <p>
     “短信协议”参数如下：
    </p>
    <p>
     ①协议：短信
    </p>
    <p>
     ②订阅终端：用户手机号码（需填写您的手机号完成此步）
    </p>
    <p>
     单击“确定”后，请查看手机接收短信，点击短信中的链接进行订阅确认。
    </p>
    <p>
     <img alt="image-20220111004821686" src="https://i-blog.csdnimg.cn/blog_migrate/608f79d3332196d2cf3291ca0431bc3d.png"/>
    </p>
    <h4>
     <a id="4__ECS_147">
     </a>
     4. 创建弹性云服务器 ECS
    </h4>
    <h5>
     <a id="41_149">
     </a>
     4.1创建主机
    </h5>
    <p>
     在华为云控制台，展开左侧导航，选择“服务列表”-&gt; “计算”-&gt; “弹性云服务器”进入，然后点击右上角“购买弹性云服务器”，
    </p>
    <p>
     参数如下：
    </p>
    <p>
     ①计费模式：按需计费
    </p>
    <p>
     ②区域：华北-北京四
    </p>
    <p>
     ③可用区：随机分配
    </p>
    <p>
     ④CPU架构：x86计算
    </p>
    <p>
     ⑤规格：选择“通用入门型 | t6.small.1”
    </p>
    <p>
     ⑥镜像：公共镜像 | Ubuntu | Ubuntu 16.04 server 64bit
    </p>
    <p>
     ⑦主机安全：不勾选“开通主机安全”
    </p>
    <p>
     ⑧系统盘：高IO | 40GB
    </p>
    <p>
     <img alt="image-20220111005056459" src="https://i-blog.csdnimg.cn/blog_migrate/3d7674f4d5b5ee0d590bc59ed7ef7442.png"/>
    </p>
    <p>
     <img alt="image-20220111005217901" src="https://i-blog.csdnimg.cn/blog_migrate/8b509e00f8163e1ac7c377d3fb8b7bfa.png"/>
    </p>
    <p>
     基础配置完成后点击 “下一步：网络配置”，
    </p>
    <p>
     参数如下：
    </p>
    <p>
     ①网络：点击“前往控制台创建”，跳转到虚拟私有云控制台页面：
    </p>
    <p>
     <img alt="image-20220111005522297" src="https://i-blog.csdnimg.cn/blog_migrate/5c642a1f6be5cde8bbd89fd6a258f404.png"/>
    </p>
    <p>
     在虚拟私有云控制台，点击“创建虚拟私有云”，区域选择“华北-北京四”，名称自定义（如：vpc-iot），默认子网名称自定义（如：subnet-iot）,其他参数均可默认，点击“立即创建”完成后，即可返回网络配置页面。
    </p>
    <p>
     <img alt="image-20220111005634190" src="https://i-blog.csdnimg.cn/blog_migrate/91ce148d2e5cba3878bf6262c05cd970.png"/>
    </p>
    <p>
     返回网络配置页面，刷新后，选择刚创建的虚拟私有云VPC（如：vpc-iot）和子网（如：subnet-iot），自动分配IP地址，如下图所示：
    </p>
    <p>
     <img alt="image-20220111005832579" src="https://i-blog.csdnimg.cn/blog_migrate/d98f9337678eecb8411a32943ff18594.png"/>
    </p>
    <p>
     ②扩展网卡：默认配置
    </p>
    <p>
     ③安全组：默认配置
    </p>
    <p>
     ④弹性公网IP：现在购买
    </p>
    <p>
     ⑤线路：默认配置
    </p>
    <p>
     ⑥公网带宽：按带宽计费
    </p>
    <p>
     ⑦带宽大小：1Mbit/s
    </p>
    <p>
     [外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-nKZF5bz6-1641836845301)(C:/Users/19867/AppData/Roaming/Typora/typora-user-images/image-20220111010004196.png)]
    </p>
    <p>
     完成网络配置后单击“下一步：高级配置”，参数如下：
    </p>
    <p>
     ①云服务器名称：自定义，如：ecs-iot
    </p>
    <p>
     ②登录凭证：密码
    </p>
    <p>
     ③密码/确认密码：自定义，如：SM1$b9Zs1#
    </p>
    <p>
     ⑥其他参数：默认配置
    </p>
    <p>
     <img alt="image-20220111010252307" src="https://i-blog.csdnimg.cn/blog_migrate/8d5d2776fa3954c4ce8aae6bd8264e8c.png"/>
    </p>
    <p>
     <img alt="image-20220111010323925" src="https://i-blog.csdnimg.cn/blog_migrate/6174877e42fb64ba261520e4b635cf70.png"/>
    </p>
    <h5>
     <a id="42__219">
     </a>
     4.2 主机授信配置
    </h5>
    <p>
     创建的弹性云服务器ECS的“弹性公网IP”信息将在后续步骤4.1添加授信主机的配置中用到。
    </p>
    <h6>
     <a id="421_223">
     </a>
     4.2.1添加安全组入方向规则
    </h6>
    <p>
     点击新创建的弹性云服务器ECS的名称进入详情页，选择“安全组”页签，点击Sys-WebServer安全组右侧的【配置规则】进入规则配置页面。
    </p>
    <p>
     <img alt="image-20220111010613546" src="https://i-blog.csdnimg.cn/blog_migrate/e916f0c69c0041e2245b77e6b117d2aa.png"/>
    </p>
    <p>
     <img alt="image-20220111010546794" src="https://i-blog.csdnimg.cn/blog_migrate/396815083faf63bc8545705d4536c039.png"/>
    </p>
    <blockquote>
     <p>
      说明：SSH协议端口（22）的入方向TCP协议默认开放，无需修改。将智慧路灯应用端口（8080）的入方向放开限制，用于后续访问智慧路灯应用。出方向规则默认不做限制，无需修改。
     </p>
    </blockquote>
    <h6>
     <a id="422_233">
     </a>
     4.2.2配置系统防火墙规则。
    </h6>
    <p>
     返回实验桌面双击“终端”打开Terminal，输入以下命令，并按照操作说明执行，登录云服务器：操作说明：
    </p>
    <p>
     ①使用弹性云服务器ECS的弹性公网IP替换命令中的[EIP]说明:云服务器的弹性公网IP地址可以通过点击“控制台”-&gt;“服务列表”-&gt;“计算”-&gt;“弹性云服务器ECS”进入服务器列表，进行查看并复制
    </p>
    <p>
     ②接受秘钥输入“yes”，回车；
    </p>
    <p>
     ③输入密码：SM1$b9Zs1#（输入密码时，命令行窗口不会显示密码，输完之后直接键入回车）。
    </p>
    <p>
     ②接受秘钥输入“yes”，回车；
    </p>
    <p>
     ③输入密码：输入密码时，命令行窗口不会显示密码，输完之后直接键入回车）。成功登录云服务器之后如下图所示：
    </p>
    <p>
     <img alt="image-20220111010809138" src="https://i-blog.csdnimg.cn/blog_migrate/fe4cc1675159b258a1c16266398eb3af.png"/>
    </p>
    <p>
     ④执行sudo ufw enable开启ufw服务，输入“y”确认。
    </p>
    <p>
     <img alt="image-20220111010847878" src="https://i-blog.csdnimg.cn/blog_migrate/f7210d56c90a03ae3443816545ef49e9.png"/>
    </p>
    <p>
     ④执行sudo ufw enable开启ufw服务，输入“y”确认。
    </p>
    <p>
     ⑤执行sudo ufw allow 22/tcp启用22端口。
    </p>
    <p>
     ⑥执行sudo ufw allow 8080/tcp启用8080端口
    </p>
    <p>
     <img alt="image-20220111011025836" src="https://i-blog.csdnimg.cn/blog_migrate/140860476640cd27e64880f22dddfd95.png"/>
    </p>
    <p>
     ###5. 部署智慧路灯应用
    </p>
    <p>
     ####5.1添加授信主机
    </p>
    <p>
     “智慧路灯”是一个Web项目，需要部署到服务器上才可以运行，本例采用部署服务器是华为云弹性云服务器。DevCloud在使用弹性云服务器之前需要先对其授信。回到软件开发平台DevCloud（打开路径见步骤1.1），点击已创建的项目，如QuickStart，如下图所示：
    </p>
    <p>
     单击导航栏“更多 &gt; 设置 &gt; 通用设置”，选择左侧栏“主机组管理”，然后点击“新建主机组”，参数如下：
    </p>
    <p>
     ①主机组名：自定义，如：iot
    </p>
    <p>
     ②操作系统：Linux点击“保存”完成主机组的创建，并进入该主机组。
    </p>
    <p>
     <img alt="image-20220111011255394" src="https://i-blog.csdnimg.cn/blog_migrate/595c5fae4f55eb04dcf34822479a9962.png"/>
    </p>
    <p>
     <img alt="image-20220111011309932" src="https://i-blog.csdnimg.cn/blog_migrate/784b5d8844275e14aeab84a7425b7cf2.png"/>
    </p>
    <p>
     在创建的主机组内，点击“添加主机”，参数如下：
    </p>
    <p>
     ①主机名：自定义，可与创建的ECS名称保持一致，如：ecs-iot
    </p>
    <p>
     ②IP：创建弹性云服务器ECS的弹性公网IP（见步骤4.2）
    </p>
    <p>
     ③认证方式：密码
    </p>
    <p>
     ④用户名：root
    </p>
    <p>
     ⑤密码：填创建弹性云服务器ECS的用户密码；如：SM1$b9Zs1#
    </p>
    <p>
     ⑥ssh端口：22勾选阅读并同意声明，点击“添加”完成主机的添加。当主机连通性验证显示“验证成功”时，说明主机成功添加。
    </p>
    <p>
     <img alt="image-20220111011634429" src="https://i-blog.csdnimg.cn/blog_migrate/7d8cd0e3027b01d1a6d9132ae6017f1a.png"/>
    </p>
    <p>
     <img alt="image-20220111011645426" src="https://i-blog.csdnimg.cn/blog_migrate/0a43d1ad9ea6217426acecf3e50248c0.png"/>
    </p>
    <h5>
     <a id="52_297">
     </a>
     5.2新建部署任务
    </h5>
    <p>
     点击导航栏“构建&amp;发布 &gt; 部署”进入，然后点击“新建任务”，输入任务名称（可使用默认值），单击“下一步”进入“选择部署模板”。
    </p>
    <p>
     <img alt="image-20220111011730273" src="https://i-blog.csdnimg.cn/blog_migrate/2eff527acc969ec9b950a9dc696189ae.png"/>
    </p>
    <p>
     板“SpringBoot应用部署”，单击“下一步”，进入“部署步骤”页面。
    </p>
    <p>
     <img alt="image-20220111011924457" src="https://i-blog.csdnimg.cn/blog_migrate/a9b33b2d41d94167d1d897f5cd1b2f1c.png"/>
    </p>
    <h5>
     <a id="53_307">
     </a>
     5.3配置部署步骤并执行
    </h5>
    <p>
     SpringBoot应用部署模板默认包含以下步骤：安装JDK、停止SpringBoot服务、选择部署来源、启动SpringBoot服务、URL健康测试。
    </p>
    <p>
     #####5.3.1删除“停止SpringBoot服务”和“URL健康测试”；
    </p>
    <p>
     #####5.3.2选中“安装JDK”
    </p>
    <p>
     主机组：选择添加授信主机是创建的主机组（如：iot），弹框提示点击“确定”，jdk版本：openjdk-1.8.0；
    </p>
    <p>
     <img alt="image-20220111012258001" src="https://i-blog.csdnimg.cn/blog_migrate/5d3c493a64df1b87464db542e05f7083.png"/>
    </p>
    <h6>
     <a id="533_319">
     </a>
     5.3.3选中“选择部署来源”
    </h6>
    <p>
     参数如下：
    </p>
    <p>
     ①选择源类型：软件包；
    </p>
    <p>
     ②选择软件包：点击右侧“…”，选择构建包，路径如下图所示；
    </p>
    <p>
     <img alt="image-20220111012450462" src="https://i-blog.csdnimg.cn/blog_migrate/5a8042a089399e1fde96f47e00d379c2.png"/>
    </p>
    <p>
     ③下载到主机的部署目录：按需填写，如/usr/local
    </p>
    <h6>
     <a id="534SpringBoot_331">
     </a>
     5.3.4选中“启动SpringBoot服务”
    </h6>
    <p>
     参数如下：
    </p>
    <p>
     ①服务操作类型：保持默认值
    </p>
    <p>
     ②服务对应的绝对路径：由“下载到主机的部署目录”和软件包包名组成，如/usr/local/huawei-0.0.1-SNAPSHOT.jar
    </p>
    <p>
     ③组件监控：去掉勾选
    </p>
    <p>
     <img alt="image-20220111012739269" src="https://i-blog.csdnimg.cn/blog_migrate/22731862133711fdbf0b4dac61fc36a1.png"/>
    </p>
    <h5>
     <a id="535__343">
     </a>
     5.3.5 切换到“参数设置”页签，逐一删除全部参数
    </h5>
    <h6>
     <a id="536_345">
     </a>
     5.3.6点击“保存并执行”
    </h6>
    <p>
     完成部署任务的配置，并执行部署任务。
    </p>
    <p>
     页面显示“部署成功”，表示任务执行完毕。若任务执行失败，可通过页面中的原因提示及链接来排查解决。
    </p>
    <p>
     <img alt="image-20220111013005382" src="https://i-blog.csdnimg.cn/blog_migrate/47cf87d35705b6d1bc2b4c0a2d5a0b97.png"/>
    </p>
    <h4>
     <a id="6__353">
     </a>
     6. 导入产品模型
    </h4>
    <h5>
     <a id="61_355">
     </a>
     6.1创建产品
    </h5>
    <p>
     在华为云控制台，展开左侧导航，选择“服务列表”-&gt; “物联网”-&gt;“设备接入IoTDA”，如下图所示：
    </p>
    <p>
     <img alt="image-20220111013105280" src="https://i-blog.csdnimg.cn/blog_migrate/0323bb2c1e77c5ae6d079ad9587fe706.png"/>
    </p>
    <p>
     5.1创建产品在华为云控制台，展开左侧导航，选择“服务列表”-&gt; “物联网”-&gt;“设备接入IoTDA”，如下图所示：
    </p>
    <p>
     <img alt="image-20220111013134414" src="https://i-blog.csdnimg.cn/blog_migrate/7e3ee15c923e5d73117f5300fa23b01c.png"/>
    </p>
    <p>
     <img alt="image-20220111013316798" src="https://i-blog.csdnimg.cn/blog_migrate/c0d5bb7bcfef0223d5392dbfdf13803f.png"/>
    </p>
    <h5>
     <a id="62_367">
     </a>
     6.2上传模型文件
    </h5>
    <p>
     点击创建的产品进入详情，然后点击“上传模型文件”，选择SmartStreetLight.zip文件，点击“确认”完成上传。
    </p>
    <p>
     <img alt="image-20220111013857629" src="https://i-blog.csdnimg.cn/blog_migrate/c4062df279305b750c6db954e37b8e96.png"/>
    </p>
    <p>
     ###7. 配置智慧路灯应用（订阅推送方案）
    </p>
    <p>
     6.1访问智慧路灯Web界面新建浏览器标签页，输入http://EIP:8080/index.html（使用步骤3.2中弹性云服务器的弹性公网IP替换地址中的“EIP”），访问智慧路灯Web页面。6.2参数设置在弹出的“参数设置”窗口，参数填写如下：
    </p>
    <p>
     ①数据来源：参数设置页面下拉框选择“订阅推送”。
    </p>
    <p>
     ②本机IP：“控制台”-&gt;“服务列表”-&gt;“计算”-&gt;“弹性云服务器ECS”进入服务器列表，进行查看并复制弹性公网IP。
    </p>
    <p>
     <img alt="image-20220111014142268" src="https://i-blog.csdnimg.cn/blog_migrate/54432af7ffa84b174e47bf769dbcbd76.png"/>
    </p>
    <p>
     ③主题URN：“控制台”-&gt;“服务列表”-&gt;“管理与监管”-&gt;“消息通知服务SMN”进入主题列表，进行查看并复制主题URN。
    </p>
    <p>
     <img alt="image-20220111014317769" src="https://i-blog.csdnimg.cn/blog_migrate/be83785a5a884904115ee86d337802a4.png"/>
    </p>
    <p>
     ④APPID：“控制台”-&gt;“服务列表”-&gt; “物联网”-&gt;“设备接入IoTDA”，在左侧导航栏选择“资源空间”，复制获取产品所需的“APPID”
    </p>
    <p>
     <img alt="image-20220111014335345" src="https://i-blog.csdnimg.cn/blog_migrate/26c39376c7f1d68410aa6077494b43a6.png"/>
    </p>
    <p>
     ⑤账号名：华为云账号名。
    </p>
    <p>
     ⑥IAM用户名：华为云用户名。
    </p>
    <p>
     ⑦IAM用户密码：华为云密码。
    </p>
    <p>
     ⑧项目ID：控制台在右上角用户名下拉框中选择“我的凭证-&gt;API凭证”页面复制获取所属区域为“华北-北京四”的项目ID。
    </p>
    <p>
     ⑨产品ID：“控制台”-&gt;“服务列表”-&gt; “物联网”-&gt;“设备接入IoTDA”，在左侧导航栏选择“产品”，复制获取产品所需的“产品ID”。
    </p>
    <p>
     填写完成后点击“确定”，弹窗提示如下，表示参数设置成功。
    </p>
    <p>
     [外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-FO7TyAEn-1641836845314)(https://typora-1302845125.cos.ap-beijing.myqcloud.com/typora����ͼ��/C5G[_M]HMTAIQQYV2ZR6%AM.png)]
    </p>
    <h5>
     <a id="73_407">
     </a>
     7.3注册设备
    </h5>
    <p>
     输入设备标识（自定义，如123456789f），点击“注册设备”。
    </p>
    <blockquote>
     <p>
      设备注册成功后是“未激活”状态，请选择“服务列表”-&gt; “物联网”-&gt;“设备接入服务”，在左侧栏选择“设备 &gt; 所有设备”，点击设备标识码进入，查看设备Id，或修改密钥。
     </p>
    </blockquote>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f34333437353238352f:61727469636c652f64657461696c732f313232343231393431" class_="artid" style="display:none">
 </p>
</div>


