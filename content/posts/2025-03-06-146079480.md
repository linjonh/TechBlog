---
layout: post
title: "设计模式-工厂模式-精准梳理精准记忆"
date: 2025-03-06 20:38:14 +0800
description: "此文正寻找一个追求效率的你~ 害怕冗长? 害怕不理解? 文中代码带入理解, 文字精准提炼; 尽量节省你的时间~"
keywords: "设计模式 - 工厂模式 精准梳理&精准记忆"
categories: ['高效学习', '深入浅出', '新手入门']
tags: ['设计规范', '设计模式', '简单工厂模式', '抽象工厂模式', '工厂方法模式', 'Java']
artid: "146079480"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146079480
    alt: "设计模式-工厂模式-精准梳理精准记忆"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146079480
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146079480
cover: https://bing.ee123.net/img/rand?artid=146079480
image: https://bing.ee123.net/img/rand?artid=146079480
img: https://bing.ee123.net/img/rand?artid=146079480
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     设计模式 - 工厂模式 精准梳理&amp;精准记忆
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/4218690ad83b46329ece8896aa3709b6.gif#pic_center"/>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/6f9daf1bceda47098eefb4414f8cb955.gif#pic_center"/>
    </p>
    <h2>
     <a id="nbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbsp1___7">
     </a>
     1、代码片段 - 带入理解
    </h2>
    <br/>
    <h3>
     <a id="_12">
     </a>
     一、核心模式分类
    </h3>
    <ol>
     <li>
      <strong>
       简单工厂模式
      </strong>
      （编程习惯，非 GoF 设计模式）
     </li>
     <li>
      <strong>
       工厂方法模式
      </strong>
      （GoF 创建型模式）
     </li>
     <li>
      <strong>
       抽象工厂模式
      </strong>
      （GoF 创建型模式）
     </li>
    </ol>
    <hr/>
    <br/>
    <h3>
     <a id="_21">
     </a>
     二、演变过程：咖啡店案例
    </h3>
    <h4>
     <a id="_23">
     </a>
     初始实现
    </h4>
    <pre><code class="prism language-java"><span class="token comment">// 咖啡基类</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Coffee</span> <span class="token punctuation">{<!-- --></span>
     <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">AmericanCoffee</span> <span class="token keyword">extends</span> <span class="token class-name">Coffee</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">LatteCoffee</span> <span class="token keyword">extends</span> <span class="token class-name">Coffee</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

<span class="token comment">// 咖啡店直接创建对象</span>
<span class="token keyword">class</span> <span class="token class-name">CoffeeStore</span> <span class="token punctuation">{<!-- --></span>
     <span class="token keyword">public</span> <span class="token class-name">Coffee</span> <span class="token function">orderCoffee</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"american"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
               <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AmericanCoffee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
               <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">LatteCoffee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <p>
      <strong>
       问题
      </strong>
      违反开闭原则，新增咖啡类型需修改订单方法
     </p>
    </blockquote>
    <hr/>
    <br/>
    <h3>
     <a id="_50">
     </a>
     三、改进方案演变
    </h3>
    <h4>
     <a id="1_52">
     </a>
     1、简单工厂模式
    </h4>
    <pre><code class="prism language-java"><span class="token keyword">class</span> <span class="token class-name">SimpleCoffeeFactory</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token class-name">Coffee</span> <span class="token function">createCoffee</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 创建逻辑...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">CoffeeStore</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">SimpleCoffeeFactory</span> factory<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">Coffee</span> <span class="token function">orderCoffee</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> factory<span class="token punctuation">.</span><span class="token function">createCoffee</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <ul>
      <li>
       <strong>
        优点
       </strong>
       解耦对象创建
      </li>
      <li>
       <strong>
        缺点
       </strong>
       仍需修改工厂代码，违反开闭原则
      </li>
     </ul>
    </blockquote>
    <hr/>
    <h4>
     <a id="2_73">
     </a>
     2、工厂方法模式
    </h4>
    <pre><code class="prism language-java"><span class="token keyword">interface</span> <span class="token class-name">CoffeeFactory</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">Coffee</span> <span class="token function">createCoffee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">AmericanFactory</span> <span class="token keyword">implements</span> <span class="token class-name">CoffeeFactory</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token class-name">Coffee</span> <span class="token function">createCoffee</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AmericanCoffee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">CoffeeStore</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">CoffeeFactory</span> factory<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setFactory</span><span class="token punctuation">(</span><span class="token class-name">CoffeeFactory</span> factory<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>factory <span class="token operator">=</span> factory<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Coffee</span> <span class="token function">orderCoffee</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> factory<span class="token punctuation">.</span><span class="token function">createCoffee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <ul>
      <li>
       <strong>
        优点
       </strong>
       完全遵循开闭原则
      </li>
      <li>
       <strong>
        缺点
       </strong>
       类数量激增（类爆炸问题）
      </li>
     </ul>
    </blockquote>
    <hr/>
    <h4>
     <a id="3_99">
     </a>
     3、抽象工厂模式
    </h4>
    <pre><code class="prism language-java"><span class="token keyword">interface</span> <span class="token class-name">DessertFactory</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">Coffee</span> <span class="token function">createCoffee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Dessert</span> <span class="token function">createDessert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">AmericanDessertFactory</span> <span class="token keyword">implements</span> <span class="token class-name">DessertFactory</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token class-name">Coffee</span> <span class="token function">createCoffee</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AmericanCoffee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Dessert</span> <span class="token function">createDessert</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MatchaMousse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <blockquote>
     <ul>
      <li>
       <strong>
        优点
       </strong>
       管理产品族（咖啡+甜点的组合）
      </li>
      <li>
       <strong>
        代价
       </strong>
       新增产品类型需修改所有工厂接口
      </li>
     </ul>
    </blockquote>
    <hr/>
    <h4>
     <a id="4_117">
     </a>
     4、模式对比表
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        模式特性
       </th>
       <th>
        简单工厂
       </th>
       <th>
        工厂方法
       </th>
       <th>
        抽象工厂
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        扩展性
       </td>
       <td>
        修改工厂类
       </td>
       <td>
        新增工厂子类
       </td>
       <td>
        新增工厂实现类
       </td>
      </tr>
      <tr>
       <td>
        产品维度
       </td>
       <td>
        单一产品
       </td>
       <td>
        单一产品
       </td>
       <td>
        产品族（多相关产品）
       </td>
      </tr>
      <tr>
       <td>
        开闭原则
       </td>
       <td>
        违反
       </td>
       <td>
        遵循
       </td>
       <td>
        部分遵循
       </td>
      </tr>
      <tr>
       <td>
        复杂度
       </td>
       <td>
        低
       </td>
       <td>
        中
       </td>
       <td>
        高
       </td>
      </tr>
      <tr>
       <td>
        典型应用场景
       </td>
       <td>
        简单对象创建
       </td>
       <td>
        需要灵活扩展的产品创建
       </td>
       <td>
        系列关联产品的组合创建
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <br/>
    <h3>
     <a id="_130">
     </a>
     四、进阶应用技巧
    </h3>
    <h4>
     <a id="1_132">
     </a>
     1、
     <strong>
      静态工厂
     </strong>
    </h4>
    <pre><code class="prism language-java"><span class="token keyword">class</span> <span class="token class-name">SimpleCoffeeFactory</span> <span class="token punctuation">{<!-- --></span>
     <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Coffee</span> <span class="token function">createCoffee</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token comment">// 创建逻辑...</span>
     <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="2_142">
     </a>
     2、
     <strong>
      配置化工厂
     </strong>
    </h4>
    <pre><code class="prism language-properties"># bean.properties
american=com.example.AmericanCoffee
latte=com.example.LatteCoffee
</code></pre>
    <pre><code class="prism language-java"><span class="token keyword">class</span> <span class="token class-name">ConfigFactory</span> <span class="token punctuation">{<!-- --></span>
     <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Coffee</span><span class="token punctuation">&gt;</span></span> cache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token keyword">static</span> <span class="token punctuation">{<!-- --></span>
          <span class="token comment">// 加载配置文件，反射创建对象存入缓存</span>
     <span class="token punctuation">}</span>

     <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Coffee</span> <span class="token function">getCoffee</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">return</span> cache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <em>
      全部代码
     </em>
    </p>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CoffeeFactory</span> <span class="token punctuation">{<!-- --></span>
     <span class="token comment">// 加载配置文件, 获取配置文件中配置的全类名, 并创建该类的对象进行存储</span>
     <span class="token comment">// 1.定义容器对象用来存储咖啡对象</span>
     <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Coffee</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Coffee</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token comment">// 2.加载配置文件, 只需要加载一次</span>
     <span class="token keyword">static</span> <span class="token punctuation">{<!-- --></span>
          <span class="token comment">// 2.1 创建proper.ties 对象</span>
          <span class="token class-name">Properties</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">// 2.2调用p对象中的load 方法进行配置文件的加载   获取字节码 -&gt; 获取类加载器 -&gt; 获取目标资源(返回inputStream)</span>
          <span class="token class-name">InputStream</span> is <span class="token operator">=</span> <span class="token class-name">CoffeeFactory</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">"bean.properties"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
               <span class="token comment">// 加载资源</span>
               p<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>is<span class="token punctuation">)</span><span class="token punctuation">;</span>
               <span class="token comment">// 从p集合中获取全类名并创建对象</span>
               <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> keys <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
               <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Object</span> key <span class="token operator">:</span> keys<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">String</span> className <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">// 通过反射创建对象</span>
                    <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> clazz <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">Coffee</span> coffee <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Coffee</span><span class="token punctuation">)</span> clazz<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 创建对象</span>
                    <span class="token comment">// 将名称和对象存储到容器中</span>
                    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> key<span class="token punctuation">,</span>coffee<span class="token punctuation">)</span><span class="token punctuation">;</span>
               <span class="token punctuation">}</span>
          <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> <span class="token operator">|</span> <span class="token class-name">ClassNotFoundException</span> <span class="token operator">|</span> <span class="token class-name">InstantiationException</span> <span class="token operator">|</span> <span class="token class-name">IllegalAccessException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
               e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>

     <span class="token comment">// 根据名称获取对象</span>
     <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Coffee</span> <span class="token function">createCoffee</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
          <span class="token keyword">return</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <hr/>
    <br/>
    <h3>
     <a id="JDK_206">
     </a>
     五、JDK典型案例
    </h3>
    <ol>
     <li>
      <strong>
       集合迭代器
      </strong>
     </li>
    </ol>
    <pre><code class="prism language-java"><span class="token comment">// 工厂方法模式应用</span>
<span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> coll <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> it <span class="token operator">=</span> coll<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ArrayList内部实现Iterator</span>
</code></pre>
    <ol start="2">
     <li>
      <strong>
       日期工具
      </strong>
     </li>
    </ol>
    <pre><code class="prism language-java"><span class="token class-name">Calendar</span> cal <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 根据时区返回不同实现</span>
<span class="token class-name">DateFormat</span> df <span class="token operator">=</span> <span class="token class-name">DateFormat</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <hr/>
    <br/>
    <br/>
    <br/>
    <h2>
     <a id="nbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbspnbsp2___229">
     </a>
     2、文字提炼 - 记忆切入点
    </h2>
    <br/>
    <h3>
     <a id="_234">
     </a>
     一、简单工厂模式
    </h3>
    <h5>
     <a id="1_235">
     </a>
     1、核心思想
    </h5>
    <p>
     将对象创建逻辑集中在一个"工厂类"中，通过
     <code>
      参数
     </code>
     控制具体产品类型。
    </p>
    <ul>
     <li>
      <p>
       <em>
        <strong>
         关键步骤
        </strong>
       </em>
      </p>
      <ol>
       <li>
        <p>
         <strong>
          定义产品接口
         </strong>
         <br/>
         创建抽象基类（如
         <code>
          Coffee
         </code>
         ），声明所有产品共有的方法（如
         <code>
          getName()
         </code>
         ）
        </p>
       </li>
       <li>
        <p>
         <strong>
          实现具体产品
         </strong>
         <br/>
         继承基类创建具体产品（如
         <code>
          AmericanCoffee
         </code>
         和
         <code>
          LatteCoffee
         </code>
         ），各自实现特有逻辑
        </p>
       </li>
       <li>
        <p>
         <strong>
          构建工厂类
         </strong>
         <br/>
         创建
         <code>
          SimpleCoffeeFactory
         </code>
         类，内部包含静态/实例方法（如
         <code>
          createCoffee(type)
         </code>
         ），通过
         <code>
          if-else
         </code>
         或
         <code>
          switch
         </code>
         判断参数类型，返回对应的具体产品实例
        </p>
       </li>
       <li>
        <p>
         <strong>
          客户端调用
         </strong>
         <br/>
         客户端（如
         <code>
          CoffeeStore
         </code>
         ）持有工厂引用，调用
         <code>
          createCoffee()
         </code>
         时传入类型参数，无需直接接触具体产品类
        </p>
       </li>
      </ol>
     </li>
     <li>
      <p>
       <em>
        <strong>
         典型特征
        </strong>
       </em>
      </p>
      <ul>
       <li>
        <p>
         工厂类包含所有产品的创建逻辑
        </p>
       </li>
       <li>
        <p>
         新增产品必须修改工厂类代码
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <br/>
    <h3>
     <a id="_260">
     </a>
     二、工厂方法模式
    </h3>
    <h5>
     <a id="2_262">
     </a>
     2、核心思想
    </h5>
    <p>
     将对象的创建
     <code>
      延迟
     </code>
     到子类，每个产品对应一个专属工厂。
    </p>
    <ul>
     <li>
      <p>
       <em>
        <strong>
         关键步骤
        </strong>
       </em>
      </p>
      <ol>
       <li>
        <p>
         <strong>
          定义抽象工厂接口
         </strong>
         <br/>
         创建
         <code>
          CoffeeFactory
         </code>
         接口，声明抽象方法（如
         <code>
          createCoffee()
         </code>
         ）
        </p>
       </li>
       <li>
        <p>
         <strong>
          实现具体工厂
         </strong>
         <br/>
         为每个产品创建专属工厂类（如
         <code>
          AmericanCoffeeFactory
         </code>
         和
         <code>
          LatteCoffeeFactory
         </code>
         ），在
         <code>
          createCoffee()
         </code>
         中返回对应的具体产品实例
        </p>
       </li>
       <li>
        <p>
         <strong>
          客户端依赖抽象
         </strong>
         <br/>
         客户端类（如
         <code>
          CoffeeStore
         </code>
         ）持有工厂接口的引用，通过
         <code>
          setFactory()
         </code>
         方法注入具体工厂
        </p>
       </li>
       <li>
        <p>
         <strong>
          动态创建产品
         </strong>
         <br/>
         客户端调用
         <code>
          factory.createCoffee()
         </code>
         时，实际执行的是具体工厂类中实现的创建逻辑
        </p>
       </li>
      </ol>
     </li>
     <li>
      <p>
       <em>
        <strong>
         典型特征
        </strong>
       </em>
      </p>
      <ul>
       <li>
        <p>
         每个产品对应一个独立工厂类
        </p>
       </li>
       <li>
        <p>
         新增产品只需添加新工厂，无需修改已有代码
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <br/>
    <h3>
     <a id="_288">
     </a>
     三、抽象工厂模式
    </h3>
    <h5>
     <a id="2_290">
     </a>
     2、核心思想
    </h5>
    <p>
     创建相关产品族的工厂，保证产品之间的兼容性。
    </p>
    <ul>
     <li>
      <p>
       <em>
        <strong>
         关键步骤
        </strong>
       </em>
      </p>
      <ol>
       <li>
        <p>
         <strong>
          定义产品族接口
         </strong>
         <br/>
         创建多个抽象产品接口（如
         <code>
          Coffee: 咖啡
         </code>
         和
         <code>
          Dessert: 甜点
         </code>
         ），每个接口代表一类产品
        </p>
       </li>
       <li>
        <p>
         <strong>
          定义抽象工厂接口
         </strong>
         <br/>
         创建
         <code>
          DessertFactory: 甜点工厂
         </code>
         接口，声明创建系列产品的方法（如
         <code>
          createCoffee()
         </code>
         和
         <code>
          createDessert()
         </code>
         ）
        </p>
       </li>
       <li>
        <p>
         <strong>
          实现具体工厂
         </strong>
         <br/>
         为每个产品族创建工厂类（如
         <code>
          AmericanDessertFactory: 美式甜点工厂
         </code>
         ），同时实现该族内 所有产品的创建逻辑
        </p>
       </li>
       <li>
        <p>
         <strong>
          客户端组合使用
         </strong>
         <br/>
         客户端通过选择具体工厂，获得配套的产品组合（如美式咖啡 + 抹茶慕斯），确保产品间的兼容性
        </p>
       </li>
      </ol>
     </li>
     <li>
      <p>
       <em>
        <strong>
         典型特征
        </strong>
       </em>
      </p>
      <ul>
       <li>
        <p>
         一个工厂创建多个关联产品
        </p>
       </li>
       <li>
        <p>
         新增产品类型时, 需要修改所有工厂接口
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <br/>
    <h3>
     <a id="_314">
     </a>
     四、工厂模式历史演进
    </h3>
    <ol>
     <li>
      <strong>
       简单工厂
      </strong>
      解决直接
      <code>
       new
      </code>
      对象带来的耦合问题，但工厂本身成为新的耦合点
     </li>
     <li>
      <strong>
       工厂方法
      </strong>
      通过多态工厂解耦，支持扩展但容易产生类爆炸
     </li>
     <li>
      <strong>
       抽象工厂
      </strong>
      应对产品组合需求，用更高维度的抽象管理关联对象
     </li>
    </ol>
    <hr/>
    <br/>
    <h3>
     <a id="___324">
     </a>
     五、记忆点 - 关键区别
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        考虑创建目标时
       </strong>
      </p>
      <ul>
       <li>
        <code>
         简单工厂
        </code>
        单一产品
       </li>
       <li>
        <code>
         工厂方法
        </code>
        单一产品
       </li>
       <li>
        <code>
         抽象工厂
        </code>
        产品族
        <br/>
        <br/>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        考虑扩展代价时
       </strong>
      </p>
      <ul>
       <li>
        <code>
         简单工厂
        </code>
        修改工厂类
       </li>
       <li>
        <code>
         工厂方法
        </code>
        新增工厂类
       </li>
       <li>
        <code>
         抽象工厂
        </code>
        修改所有工厂接口
        <br/>
        <br/>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        考虑设计重心时
       </strong>
      </p>
      <ul>
       <li>
        <code>
         简单工厂
        </code>
        创建逻辑集中化
       </li>
       <li>
        <code>
         工厂方法
        </code>
        创建责任分散化
       </li>
       <li>
        <code>
         抽象工厂
        </code>
        产品组合约束
        <br/>
        <br/>
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <br/>
    <h3>
     <a id="_349">
     </a>
     提炼
    </h3>
    <p>
     <em>
      <strong>
       模式选择指南
      </strong>
     </em>
    </p>
    <ol>
     <li>
      <strong>
       简单工厂
      </strong>
      适用于对象创建逻辑简单，不需要频繁扩展
     </li>
     <li>
      <strong>
       工厂方法
      </strong>
      适合需要灵活扩展产品类型的场景
     </li>
     <li>
      <strong>
       抽象工厂
      </strong>
      适用于管理产品族，强调相关产品必须配套使用
     </li>
    </ol>
    <p>
     <em>
      <strong>
       关键设计原则体现
      </strong>
     </em>
    </p>
    <ol>
     <li>
      <strong>
       开闭原则
      </strong>
      工厂方法模式的典型体现
     </li>
     <li>
      <strong>
       单一职责
      </strong>
      每个工厂只负责创建特定对象
     </li>
     <li>
      <strong>
       依赖倒置
      </strong>
      客户端依赖抽象接口而非具体实现
     </li>
    </ol>
    <p>
     <strong>
      如果这篇文章帮到你, 帮忙点个关注呗, 不想那那那点赞或收藏也行鸭 (｡•̀ᴗ-)✧ ~
     </strong>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/238a6c00d2334a84b5e676c69dc1516f.png#pic_center"/>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/f668793fde1f40ff8121122119042440.png#pic_left">
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/f668793fde1f40ff8121122119042440.png#pic_left">
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/f668793fde1f40ff8121122119042440.png#pic_left">
        <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/f668793fde1f40ff8121122119042440.png#pic_left">
         <br/>
         '(இ﹏இ`｡)
        </img>
       </img>
      </img>
     </img>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323430335f38393132383830312f:61727469636c652f64657461696c732f313436303739343830" class_="artid" style="display:none">
 </p>
</div>


