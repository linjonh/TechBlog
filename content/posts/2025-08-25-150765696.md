---
layout: post
title: "Android-studio-gradle-下载慢"
date: 2025-08-25T12:30:12+0800
description: "解决Android Studio下载jar包慢的问题，可通过全局配置替换Gradle下载源： 修改全局gradle.properties文件，添加阿里云/华为云等国内镜像源； 创建init.gradle初始化脚本强制替换所有项目的仓库地址； 替换Gradle发行版下载地址为国内镜像； 清除缓存后验证效果。该方法一次配置即可对全部项目生效，显著提升Gradle构建速度，覆盖依赖库和发行版下载，适用于各类Java/Android项目。"
keywords: "android studio gradle 下载缓慢"
categories: ['未分类']
tags: ['Studio', 'Ide', 'Android', 'Android']
artid: "150765696"
arturl: "https://blog.csdn.net/coosea128/article/details/150765696"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=150765696
    alt: "Android-studio-gradle-下载慢"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=150765696
featuredImagePreview: https://bing.ee123.net/img/rand?artid=150765696
cover: https://bing.ee123.net/img/rand?artid=150765696
image: https://bing.ee123.net/img/rand?artid=150765696
img: https://bing.ee123.net/img/rand?artid=150765696
---



# Android studio gradle 下载慢

一直困扰的问题，Android studio 初始化项目的时候下载jar包，由于url 问题，导致下载非常慢，最近通过找到一个方法 可以提高效率

要在全局范围内替换 Gradle 的下载地址（包括 Gradle 发行版本身和依赖库），可以通过配置全局 `gradle.properties` 和初始化脚本（`init.gradle`）实现，无需逐个修改项目配置。

#### **一、全局配置依赖仓库（所有项目共用国内源）**

通过修改全局 `gradle.properties`，让所有项目默认使用国内 Maven 源（如阿里云、华为云）。

##### 1. 找到全局 `gradle.properties` 路径

* **Windows**：`C:\Users\<你的用户名>\.gradle\gradle.properties`
* **Mac/Linux**：`~/.gradle/gradle.properties`

##### 2. 添加仓库配置

在文件中添加以下内容（使用国内源覆盖默认仓库）：

# 全局仓库配置（优先级：国内源 > 官方源） systemProp.gradle.repositories.maven.aliyun=https://maven.aliyun.com/repository/public/ systemProp.gradle.repositories.maven.huawei=https://mirrors.huaweicloud.com/repository/maven/ systemProp.gradle.repositories.google=https://maven.aliyun.com/repository/google/ # 阿里云同步的 Google 仓库 systemProp.gradle.repositories.jcenter=https://maven.aliyun.com/repository/jcenter/ # 强制使用国内源（可选，根据需要开启） # systemProp.gradle.overrideRepository=true

#### **二、通过初始化脚本强制替换所有仓库**

更彻底的方式是使用 Gradle 初始化脚本（`init.gradle`），拦截所有项目的仓库配置，强制替换为国内源。

##### 1. 创建 / 编辑全局初始化脚本

* 路径：`~/.gradle/init.d/init.gradle`（Mac/Linux）或 `C:\Users\<用户名>\.gradle\init.d\init.gradle`（Windows）
* 若 `init.d` 文件夹不存在，手动创建。

##### 2. 写入仓库替换逻辑

allprojects { buildscript { repositories { // 清空默认仓库，优先添加国内源 clear() maven { url 'https://maven.aliyun.com/repository/public/' } maven { url 'https://maven.aliyun.com/repository/google/' } // 替代 google() maven { url 'https://maven.aliyun.com/repository/jcenter/' } // 替代 jcenter() maven { url 'https://mirrors.huaweicloud.com/repository/maven/' } // 保留官方仓库作为后备（可选） mavenCentral() google() } } repositories { // 项目依赖仓库同样替换 clear() maven { url 'https://maven.aliyun.com/repository/public/' } maven { url 'https://maven.aliyun.com/repository/google/' } maven { url 'https://maven.aliyun.com/repository/jcenter/' } maven { url 'https://mirrors.huaweicloud.com/repository/maven/' } mavenCentral() google() } }

**作用**：所有项目构建时，会自动加载该脚本，将默认仓库替换为国内源，无需修改项目本地配置。

#### **三、替换 Gradle 发行版自身的下载地址**

Gradle 发行版（如 `gradle-7.6-all.zip`）的默认下载地址是 `https://services.gradle.org/distributions/`，国内访问较慢，可全局替换为国内镜像。

##### 1. 修改全局 `gradle.properties`

添加以下配置（使用阿里云镜像）：

properties

```

# 全局替换 Gradle 发行版下载地址
distributionUrl=https://mirrors.aliyun.com/gradle/distributions/gradle-${gradleVersion}-all.zip
```

##### 2. 验证效果

新建项目或打开已有项目时，Gradle 会从 `https://mirrors.aliyun.com/gradle/` 下载发行版，速度大幅提升。

#### **四、生效与验证**

1. **清除旧缓存**（可选，避免冲突）：
   * 删除 `~/.gradle/caches`（Mac/Linux）或 `C:\Users\<用户名>\.gradle\caches`（Windows）
2. **测试项目**：打开任意 Gradle 项目，执行构建命令（如 `./gradlew build`），观察控制台输出的下载地址是否已替换为国内源。

#### 优势总结

* **一次配置，所有项目生效**：无需逐个修改项目的 `build.gradle`
* **覆盖全面**：包括依赖仓库、Gradle 发行版下载地址
* **兼容性好**：适用于 Gradle 4.x 及以上版本，支持各类 Java/Android 项目

通过以上配置，可彻底解决 Gradle 在国内环境下载慢的问题。



