---
layout: post
title: "python-Eve-RESTFul-尝试笔记"
date: 2024-03-03 10:00:00 +0800
description: "0.前言最近重点研究了yeelink平台的原理和使用，yeelink平台和多数云平台设计一样应用了R"
keywords: "pythoneve"
categories: ['Python']
tags: ['Restful', 'Python', 'Eve']
artid: "17204215"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=17204215
    alt: "python-Eve-RESTFul-尝试笔记"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=17204215
featuredImagePreview: https://bing.ee123.net/img/rand?artid=17204215
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     python Eve RESTFul 尝试笔记
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2>
     <span style="font-size:24px;">
      0.前言
     </span>
    </h2>
    <div style="font-family:Tahoma; font-size:16px">
     最近重点研究了yeelink平台的原理和使用，yeelink平台和多数云平台设计一样应用了RESTFul框架。嵌入式侧（或者是客服端侧）的相关技术研究的比较充分（个人这么认为），是不是该弄弄服务器侧的技术了！实现RESTFul的框架有很多，在这里我选择python的Eve框架，先从该框架入手学起。
    </div>
    <div style="font-family:Tahoma; font-size:16px">
     Eve是一款Python的REST API框架，用于构建和部署高可定制的、全功能的RESTful的Web服务。Eve是一个开源项目，遵循BSD开源协议，已在Python 2.6、2.7以及Python 3.3版本下进行了非常全面的测试。（来自CSDN）
     <br/>
     <br/>
    </div>
    <h3>
     0.1 前提条件
    </h3>
    <div style="font-family:Tahoma; font-size:16px">
     使用Eve框架之前，需要安装python、cURL、MongoDB等工具，并且需要保证MongoDB处于运行状态。python和cURL的安装请google或百度查找相关资料。
     <br/>
     <br/>
    </div>
    <h2>
     1.安装esay_install
    </h2>
    <div style="font-family:Tahoma; font-size:16px">
     Eve框架的安装可使用pip工具或者easy_install，本文选择easy_install。安装esay_install可至以下网址下载
     <a href="https://pypi.python.org/pypi/setuptools#windows" rel="nofollow noopener noreferrer" target="_blank">
      ez_setup.py
     </a>
    </div>
    <div style="font-family:Tahoma; font-size:16px">
     复制ez_setup.py至硬盘中的某位置，例如保存至E:\temp。然后运行运行便执行整个下载和安装过程，最后会在D:\Python27\Scripts出现easy_install.exe。
     <strong>
      (注意使用CD命令之前，需要修改盘符，修改盘符可输入E:或F:)
      <br/>
     </strong>
     <span style="color:#3333FF;">
      【如果安装过程出现问题尤其是网络问题，请参考
      <a href="http://blog.csdn.net/xukai871105/article/details/20648973" rel="noopener noreferrer" target="_blank">
       博文
      </a>
      再尝试一下】
     </span>
     <strong>
      <br/>
     </strong>
    </div>
    <div style="text-align:center; font-family:Tahoma; font-size:16px">
     <img alt="" src="https://img-blog.csdn.net/20131208195742203">
      <br/>
     </img>
    </div>
    <div style="text-align:center; font-family:Tahoma; font-size:16px">
     图1.1 运行ez_setup.py
     <br/>
    </div>
    <div style="font-family:Tahoma; font-size:16px">
     <br/>
    </div>
    <div style="font-family:Tahoma; font-size:16px">
     a）假设python已安装于D:\Python27，若要添加该目录至环境变量。
    </div>
    <div style="font-family:Tahoma; font-size:16px">
     b）easy_install.exe位于D:\Python27\Scripts目录，同样需要添加该目录至环境变量。
    </div>
    <div style="font-family:Tahoma; font-size:16px">
     <br/>
    </div>
    <div style="text-align:center; font-family:Tahoma; font-size:16px">
     <img alt="" src="https://img-blog.csdn.net/20131208195749703">
      <br/>
     </img>
    </div>
    <div style="font-family:Tahoma; font-size:16px">
    </div>
    <div style="font-family:Tahoma; font-size:16px">
    </div>
    <div style="text-align:center; font-family:Tahoma; font-size:16px">
     <br/>
    </div>
    <div style="text-align:center; font-family:Tahoma; font-size:16px">
     图1.2 修改环境变量
    </div>
    <div style="font-family:Tahoma; font-size:16px">
     最后在控制台中输入命令便可完成Eve框架的安装
    </div>
    <div style="font-family:Tahoma; font-size:16px">
     easy_install eve
     <br/>
     <br/>
    </div>
    <h2>
     2.安装MongoDB
    </h2>
    <div style="font-family:Tahoma; font-size:16px">
     Eve框架需要MongoDB的支持，MongoDB的安装和初步使用可【
     <a href="http://www.cnblogs.com/lipan/archive/2011/03/08/1966463.html" rel="nofollow noopener noreferrer" target="_blank">
      参考博文
     </a>
     】
    </div>
    <div style="font-family:Tahoma; font-size:16px">
     请注意为了更方便的使用MongoDB可把MongoDB的bin目录加入环境变量。
    </div>
    <div style="font-family:Tahoma; font-size:16px">
     启动MongoDB时刻指定数据目录，例如数据目录位于D:\MongoDB\data，可通过dbpath参数设置。
    </div>
    <div style="font-family:Tahoma; font-size:16px">
     mongod --dbpath D:\MongoDB\data
    </div>
    <div style="text-align:center; font-family:Tahoma; font-size:16px">
     <img alt="" src="https://img-blog.csdn.net/20131208195754828">
      <br/>
     </img>
    </div>
    <div style="font-family:Tahoma; font-size:16px">
    </div>
    <div style="text-align:center; font-family:Tahoma; font-size:16px">
     图2.1 启动mongoDB服务
    </div>
    <div style="font-family:Tahoma; font-size:16px">
     <br/>
    </div>
    <h2>
     3.快速开始
    </h2>
    <div style="font-family:Tahoma; font-size:16px">
     新建一个名为run.py的文件，具体代码如下：
    </div>
    <div style="font-family:Tahoma; font-size:16px">
     <pre><code class="language-python">from eve import Eve
app = Eve()
if __name__ == '__main__':
    app.run()</code></pre>
     <br/>
    </div>
    <div style="font-family:Tahoma; font-size:16px">
     再新建一个名为settings.py的文件，和run.py存放与同一个路径下，具体代码如下：
    </div>
    <div style="font-family:Tahoma; font-size:16px">
     <pre><code class="language-cpp">SERVER_NAME = '127.0.0.1:5000'
DOMAIN = {
    'people': {},
}</code></pre>
     <br/>
    </div>
    <div style="font-family:Tahoma; font-size:16px">
     虽然现在还无法理解Eve框架的种种细节，但是至少从settings代码中可以发现，现在的RESTFul服务主机为localhost，端口号为5000。运行run.py（注意运行run.py之前一定要开启mongoDB服务，请参考上一小节内容）
    </div>
    <div style="text-align:center; font-family:Tahoma; font-size:16px">
     <img alt="" src="https://img-blog.csdn.net/20131208195800281">
      <br/>
     </img>
    </div>
    <div style="font-family:Tahoma; font-size:16px">
    </div>
    <div style="text-align:center; font-family:Tahoma; font-size:16px">
     图3.1 Eve框架开始运行
     <br/>
     <br/>
    </div>
    <div style="font-family:Tahoma; font-size:16px">
     此时若使用cURL工具测试当前的RESTFul API。
     <strong>
      请注意要使用cURL工具时需要重新打开一个windows控制台，MongoDB 服务和Eve RESTFul服务的控制台均需要保持打开状态。
     </strong>
     可以输入：
    </div>
    <div style="font-family:Tahoma; font-size:16px">
     <br/>
    </div>
    <div style="font-family:Tahoma; font-size:16px">
     <span style="color:#3366FF;">
      curl -i http://127.0.0.1:5000
     </span>
    </div>
    <div style="font-family:Tahoma; font-size:16px">
     <br/>
    </div>
    <div style="text-align:center; font-family:Tahoma; font-size:16px">
     <img alt="" src="https://img-blog.csdn.net/20131208195806281">
      <br/>
     </img>
    </div>
    <div style="font-family:Tahoma; font-size:16px">
    </div>
    <div style="font-family:Tahoma; font-size:16px">
    </div>
    <div style="text-align:center; font-family:Tahoma; font-size:16px">
     图3.2 cURL请求和返回结果
    </div>
    <div style="font-family:Tahoma; font-size:16px">
     该例子的返回结果并没有特殊的含义，而返回的内容中包括可选的HATEOAS（该部分还需要研究，计算机或者互联网往往充斥着非常多的概念）。
     <br/>
     <br/>
    </div>
    <h2>
     4.总结
    </h2>
    <div style="font-family:Tahoma; font-size:16px">
     虽然例子没有什么特别的含义，但是可以看出MongoDB和Eve的RESTFul服务已经运行成功。未来几天还将总结一些简单的例子，希望本篇博文对各位有帮助。
     <br/>
     <span style="color:#3333FF;">
      【2014年3月补充：发现Eve框架 建立在Flask框架之上，当时刚刚学习python没有能力再前进下去】
     </span>
     <br/>
     <br/>
    </div>
    <h2>
     5.参考资料
    </h2>
    <div style="font-family:Tahoma; font-size:16px">
     5.1 【
     <a href="http://python-eve.org/quickstart.html" rel="nofollow noopener noreferrer" target="_blank">
      官方文档
     </a>
     】
    </div>
    <div style="font-family:Tahoma; font-size:16px">
     5.2 【
     <a href="http://blog.csdn.net/xukai871105/article/details/9323761" rel="noopener noreferrer" target="_blank">
      cURL安装笔记
     </a>
     】
    </div>
    <div style="font-family:Tahoma; font-size:16px">
     5.3 【
     <a href="http://blog.csdn.net/xukai871105/article/details/17173771" rel="noopener noreferrer" target="_blank">
      cURL学习笔记
     </a>
     】
     <br/>
     <div align="center">
      <img alt="" src="https://img-blog.csdn.net/20161001213837403">
       <br/>
      </img>
     </div>
    </div>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f78756b6169383731313035:2f61727469636c652f64657461696c732f3137323034323135" class_="artid" style="display:none">
 </p>
</div>


