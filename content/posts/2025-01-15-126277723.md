---
layout: post
title: "云原生-国产开源数据库openGauss容器部署"
date: 2025-01-15 11:54:49 +0800
description: "openGauss是一款开源的关系型数据库管理系统,融合了华为在数据库领域多年的内核经验_国产开源数"
keywords: "国产开源数据库"
categories: ['数据库', '国产数据库']
tags: ['数据库', '云原生']
artid: "126277723"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=126277723
    alt: "云原生-国产开源数据库openGauss容器部署"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=126277723
featuredImagePreview: https://bing.ee123.net/img/rand?artid=126277723
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【云原生】-国产开源数据库openGauss容器部署
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-github-gist" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <blockquote>
     <p>
      📢📢📢📣📣📣
      <br/>
      哈喽！大家好，我是【IT邦德】，江湖人称jeames007，10年DBA工作经验
      <br/>
      一位上进心十足的【大数据领域博主】！😜😜😜
      <br/>
      中国DBA联盟(ACDU)成员，目前从事DBA及程序编程
      <br/>
      擅长主流数据Oracle、MySQL、PG 运维开发，备份恢复，安装迁移，性能优化、故障应急处理等。
      <br/>
      ✨ 如果有对【数据库】感兴趣的【小可爱】，欢迎关注【IT邦德】💞💞💞
      <br/>
      ❤️❤️❤️感谢各位大可爱小可爱！❤️❤️❤️
     </p>
    </blockquote>
    <p>
    </p>
    <div class="toc">
     <h4>
      文章目录
     </h4>
     <ul>
      <li>
       <a href="#_10" rel="nofollow">
        前言
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#_1openGauss_15" rel="nofollow">
          ⛳️ 1.openGauss介绍
         </a>
        </li>
        <li>
         <a href="#_2_53" rel="nofollow">
          ⛳️ 2.容器部署
         </a>
        </li>
        <li>
         <a href="#_3opengauss_78" rel="nofollow">
          ⛳️ 3.opengauss操作
         </a>
        </li>
        <li>
         <a href="#_4_106" rel="nofollow">
          ⛳️ 4.常用信息选项
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <h2>
     <a id="_10">
     </a>
     前言
    </h2>
    <font color="#999AAA">
     openGauss是一款开源的关系型数据库管理系统,融合了华为在数据库领域多年的内核经验
    </font>
    <hr color="#000000" size='1"'/>
    <h3>
     <a id="_1openGauss_15">
     </a>
     ⛳️ 1.openGauss介绍
    </h3>
    <blockquote>
     <p>
      openGauss是一款开源的关系型数据库管理系统，它具有多核高性能、全链路安全性、智能运维等企业级特性。 openGauss内核早期源自开源数据库PostgreSQL，融合了华为在数据库领域多年的内核经验，在架构、事务、存储引擎、优化器及ARM架构上进行了适配与优化。作为一个开源数据库，期望与广泛的开发者共同构建一个多元化技术的开源数据库社区。
     </p>
    </blockquote>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/f59da8153194b428cce313dd408187ce.png"/>
    </p>
    <blockquote>
     <p>
      官网：https://opengauss.org/zh/
      <br/>
      开源社区：https://gitee.com/opengauss/openGauss-server
     </p>
    </blockquote>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/9a33429c0cb3523bbead6e49e66b1b15.png"/>
    </p>
    <pre><code class="prism language-bash"><span class="token comment">## 产品特点</span>
openGauss是一款开源的关系型数据库，采用客户端/服务器、单进程多线程架构，支持单机和一主多备部署方式，备机只读，支持双机高可用和读扩展。

openGauss相比于其他开源数据库主要有以下几个主要特点
<span class="token number">1</span>.高性能
提供了面向多核架构的并发控制技术结合鲲鹏硬件优化，在两路鲲鹏下TPCC Benchmark达成性能150万tpmc。
针对当前硬件多核numa的架构趋势， 在内核关键结构上采用了Numa-Aware的数据结构。
提供Sql-bypass智能快速引擎、融合引擎技术。

<span class="token number">2</span>.高可用
支持主备同步、异步和级联备机多种部署模式。
数据页CRC校验，损坏数据页通过备机自动修复。
备机并行恢复，10秒内可升主提供服务。

<span class="token number">3</span>.高安全
支持全密态计算、访问控制、加密认证、数据库审计和动态数据脱敏等安全特性，提供全方位端到端的数据安全保护。

<span class="token number">4</span>.易运维
基于AI的智能参数调优和索引推荐，提供AI自动参数推荐。
慢SQL诊断，多维性能自监控视图，实时掌控系统的性能表现。
提供在线自学习的SQL时间预测。

<span class="token number">5</span>.全开放
采用木兰宽松许可证协议，允许对代码自由修改、使用和引用。
数据库内核能力全开放。
提供丰富的伙伴认证，培训体系和高校课程
</code></pre>
    <h3>
     <a id="_2_53">
     </a>
     ⛳️ 2.容器部署
    </h3>
    <pre><code class="prism language-bash"><span class="token comment"># 获取镜像</span>
<span class="token function">docker</span> pull techerwang/dbhub:opengauss3

<span class="token comment">## 查看镜像</span>
<span class="token punctuation">[</span>root@jeames ~<span class="token punctuation">]</span><span class="token comment"># docker images</span>
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/734cd4604f9a7effe3eb5b61b8acae35.png"/>
    </p>
    <pre><code class="prism language-bash"><span class="token comment">## 容器创建</span>
<span class="token function">docker</span> run --name opengauss --privileged<span class="token operator">=</span>true <span class="token punctuation">\</span>
-d -e <span class="token assign-left variable">GS_PASSWORD</span><span class="token operator">=</span>jeames@123 <span class="token punctuation">\</span>
-p <span class="token number">25432</span>:5432 <span class="token punctuation">\</span>
techerwang/dbhub:opengauss3

<span class="token comment">## 开机自启动</span>
<span class="token function">docker</span> update --restart<span class="token operator">=</span>always opengauss

<span class="token comment">## 进入容器</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it opengauss <span class="token function">bash</span>
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/2a52da16caf6ff4bc3f5e2c75a54f2af.png"/>
    </p>
    <h3>
     <a id="_3opengauss_78">
     </a>
     ⛳️ 3.opengauss操作
    </h3>
    <pre><code class="prism language-bash"><span class="token punctuation">[</span>root@jeames ~<span class="token punctuation">]</span><span class="token comment"># docker exec -it opengauss bash</span>
root@ab0804e6e79c:/<span class="token comment"># </span>
root@ab0804e6e79c:/<span class="token comment"># </span>
root@ab0804e6e79c:/<span class="token comment"># </span>
root@ab0804e6e79c:/<span class="token comment"># su - omm</span>
omm@ab0804e6e79c:~$ gsql
gsql <span class="token punctuation">((</span>openGauss <span class="token number">3.0</span>.0 build 02c14696<span class="token punctuation">)</span> compiled at <span class="token number">2022</span>-04-01 <span class="token number">18</span>:12:34 commit <span class="token number">0</span> last mr  <span class="token punctuation">)</span>
Non-SSL connection <span class="token punctuation">(</span>SSL connection is recommended when requiring high-security<span class="token punctuation">)</span>
Type <span class="token string">"help"</span> <span class="token keyword">for</span> help.

<span class="token assign-left variable">omm</span><span class="token operator">=</span><span class="token comment"># \d</span>
No relations found.
<span class="token assign-left variable">omm</span><span class="token operator">=</span><span class="token comment"># \l</span>
                              List of databases
   Name    <span class="token operator">|</span> Owner <span class="token operator">|</span> Encoding <span class="token operator">|</span>   Collate   <span class="token operator">|</span>    Ctype    <span class="token operator">|</span> Access privileges 
-----------+-------+----------+-------------+-------------+-------------------
 omm       <span class="token operator">|</span> omm   <span class="token operator">|</span> UTF8     <span class="token operator">|</span> en_US.UTF-8 <span class="token operator">|</span> en_US.UTF-8 <span class="token operator">|</span> 
 postgres  <span class="token operator">|</span> omm   <span class="token operator">|</span> UTF8     <span class="token operator">|</span> en_US.UTF-8 <span class="token operator">|</span> en_US.UTF-8 <span class="token operator">|</span> 
 template0 <span class="token operator">|</span> omm   <span class="token operator">|</span> UTF8     <span class="token operator">|</span> en_US.UTF-8 <span class="token operator">|</span> en_US.UTF-8 <span class="token operator">|</span> <span class="token operator">=</span>c/omm           +
           <span class="token operator">|</span>       <span class="token operator">|</span>          <span class="token operator">|</span>             <span class="token operator">|</span>             <span class="token operator">|</span> <span class="token assign-left variable">omm</span><span class="token operator">=</span>CTc/omm
 template1 <span class="token operator">|</span> omm   <span class="token operator">|</span> UTF8     <span class="token operator">|</span> en_US.UTF-8 <span class="token operator">|</span> en_US.UTF-8 <span class="token operator">|</span> <span class="token operator">=</span>c/omm           +
           <span class="token operator">|</span>       <span class="token operator">|</span>          <span class="token operator">|</span>             <span class="token operator">|</span>             <span class="token operator">|</span> <span class="token assign-left variable">omm</span><span class="token operator">=</span>CTc/omm
<span class="token punctuation">(</span><span class="token number">4</span> rows<span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="_4_106">
     </a>
     ⛳️ 4.常用信息选项
    </h3>
    <pre><code class="prism language-bash"><span class="token punctuation">\</span>d <span class="token punctuation">[</span>名字<span class="token punctuation">]</span> 描述表, 索引, 序列, 或者视图
<span class="token punctuation">\</span>d<span class="token punctuation">{<!-- --></span>t<span class="token operator">|</span>i<span class="token operator">|</span>s<span class="token operator">|</span><span class="token function">v</span><span class="token operator">|</span>S<span class="token punctuation">}</span> <span class="token punctuation">[</span>模式<span class="token punctuation">]</span> <span class="token punctuation">(</span>加 <span class="token string">"+"</span> 获取更多信息<span class="token punctuation">)</span>
列出表/索引/序列/视图/系统表
<span class="token punctuation">\</span>da <span class="token punctuation">[</span>模式<span class="token punctuation">]</span> 列出聚集函数
<span class="token punctuation">\</span>db <span class="token punctuation">[</span>模式<span class="token punctuation">]</span> 列出表空间 <span class="token punctuation">(</span>加 <span class="token string">"+"</span> 获取更多的信息<span class="token punctuation">)</span>
<span class="token punctuation">\</span>dc <span class="token punctuation">[</span>模式<span class="token punctuation">]</span> 列出编码转换
<span class="token punctuation">\</span>dC 列出类型转换
<span class="token punctuation">\</span>dd <span class="token punctuation">[</span>模式<span class="token punctuation">]</span> 显示目标的注释
<span class="token punctuation">\</span>dD <span class="token punctuation">[</span>模式<span class="token punctuation">]</span> 列出域
<span class="token punctuation">\</span>df <span class="token punctuation">[</span>模式<span class="token punctuation">]</span> 列出函数 <span class="token punctuation">(</span>加 <span class="token string">"+"</span> 获取更多的信息<span class="token punctuation">)</span>
<span class="token punctuation">\</span>dg <span class="token punctuation">[</span>模式<span class="token punctuation">]</span> 列出组
<span class="token punctuation">\</span>dn <span class="token punctuation">[</span>模式<span class="token punctuation">]</span> 列出模式 <span class="token punctuation">(</span>加 <span class="token string">"+"</span> 获取更多的信息<span class="token punctuation">)</span>
<span class="token punctuation">\</span>do <span class="token punctuation">[</span>名字<span class="token punctuation">]</span> 列出操作符
<span class="token punctuation">\</span>dl 列出大对象, 和 lo_list 一样
<span class="token punctuation">\</span>dp <span class="token punctuation">[</span>模式<span class="token punctuation">]</span> 列出表, 视图, 序列的访问权限
<span class="token punctuation">\</span>dT <span class="token punctuation">[</span>模式<span class="token punctuation">]</span> 列出数据类型 <span class="token punctuation">(</span>加 <span class="token string">"+"</span> 获取更多的信息<span class="token punctuation">)</span>
<span class="token punctuation">\</span>du <span class="token punctuation">[</span>模式<span class="token punctuation">]</span> 列出用户
<span class="token punctuation">\</span>l 列出所有数据库 <span class="token punctuation">(</span>加 <span class="token string">"+"</span> 获取更多的信息<span class="token punctuation">)</span>
<span class="token punctuation">\</span>z <span class="token punctuation">[</span>模式<span class="token punctuation">]</span> 列出表, 视图, 序列的访问权限 <span class="token punctuation">(</span>和 dp 一样<span class="token punctuation">)</span>
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/0ab5fbe54730e39d4cf819b07bd869d6.png">
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/b019ad1d831e3a9ee0a74c0f576347c8.gif#pic_center"/>
     </img>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34313634353133352f:61727469636c652f64657461696c732f313236323737373233" class_="artid" style="display:none">
 </p>
</div>


