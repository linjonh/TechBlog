---
layout: post
title: "SpringBoot3场景整合环境准备"
date: 2025-03-04 20:25:19 +0800
description: "SpringBoot3—场景整合：环境准备"
keywords: "SpringBoot3—场景整合：环境准备"
categories: ['Springboot']
tags: ['后端', 'Java']
artid: "145999579"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=145999579
    alt: "SpringBoot3场景整合环境准备"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=145999579
featuredImagePreview: https://bing.ee123.net/img/rand?artid=145999579
cover: https://bing.ee123.net/img/rand?artid=145999579
image: https://bing.ee123.net/img/rand?artid=145999579
img: https://bing.ee123.net/img/rand?artid=145999579
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     SpringBoot3—场景整合：环境准备
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2>
     <span style="color:#0d0016">
      一、云服务器
     </span>
    </h2>
    <ol>
     <li>
      <span style="color:#0d0016">
       阿里云
      </span>
      服务器开通
     </li>
     <li>
      安装以下组件
      <ol>
       <li>
        docker
       </li>
       <li>
        redis
       </li>
       <li>
        kafka
       </li>
       <li>
        prometheus
       </li>
       <li>
        grafana
       </li>
      </ol>
     </li>
     <li>
      下载windterm：
      <img alt="" height="316" src="https://i-blog.csdnimg.cn/direct/202970bcde9943a5bf070c00eec02e6a.png" width="1186">
       <a href="https://github.com/kingToolbox/WindTerm/releases/download/2.5.0/WindTerm_2.5.0_Windows_Portable_x86_64.zip" title="https://github.com/kingToolbox/WindTerm/releases/download/2.5.0/WindTerm_2.5.0_Windows_Portable_x86_64.zip">
        https://github.com/kingToolbox/WindTerm/releases/download/2.5.0/WindTerm_2.5.0_Windows_Portable_x86_64.zip
       </a>
      </img>
     </li>
    </ol>
    <p>
     <span style="color:#fe2c24">
      <strong>
       重要：开通云服务器以后，请一定在安全组设置规则，放行端口
      </strong>
     </span>
    </p>
    <h2>
     <span style="color:#0d0016">
      二、Docker安装
     </span>
    </h2>
    <pre><code class="language-bash">sudo yum install -y yum-utils

sudo yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo

sudo yum install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

sudo systemctl enable docker --now

#测试工作
docker ps
#  批量安装所有软件
docker compose  </code></pre>
    <p>
     <img alt="" height="386" src="https://i-blog.csdnimg.cn/direct/75c1dab5cb8945dfa624560271e2e015.png" width="1130">
      <img alt="" height="215" src="https://i-blog.csdnimg.cn/direct/e4ff624f486f4bfbb2f001a062fee235.png" width="1094">
       <img alt="" height="257" src="https://i-blog.csdnimg.cn/direct/4712196cd85f4a36b2a251a2e7334f9c.png" width="751"/>
      </img>
     </img>
    </p>
    <p>
     <span style="color:#0d0016">
      创建 prod 文件夹（专门用于存放后面我们安装的东西），准备以下文件。
     </span>
     <strong>
      <span style="color:#fe2c24">
       注意：还要配置镜像源
      </span>
     </strong>
    </p>
    <pre><code class="language-bash">vim /etc/docker/daemon.json</code></pre>
    <pre><code class="language-bash">{
    "registry-mirrors": [
        "https://2a6bf1988cb6428c877f723ec7530dbc.mirror.swr.myhuaweicloud.com",
        "https://docker.m.daocloud.io",
        "https://hub-mirror.c.163.com",
        "https://mirror.baidubce.com",
        "https://your_preferred_mirror",
        "https://dockerhub.icu",
        "https://docker.registry.cyou",
        "https://docker-cf.registry.cyou",
        "https://dockercf.jsdelivr.fyi",
        "https://docker.jsdelivr.fyi",
        "https://dockertest.jsdelivr.fyi",
        "https://mirror.aliyuncs.com",
        "https://dockerproxy.com",
        "https://mirror.baidubce.com",
        "https://docker.m.daocloud.io",
        "https://docker.nju.edu.cn",
        "https://docker.mirrors.sjtug.sjtu.edu.cn",
        "https://docker.mirrors.ustc.edu.cn",
        "https://mirror.iscas.ac.cn",
    ]
}</code></pre>
    <pre><code class="language-bash">sudo systemctl daemon-reload
sudo systemctl restart docker</code></pre>
    <h2>
     <span style="color:#0d0016">
      三、prometheus.yml
     </span>
     <img alt="" height="470" src="https://i-blog.csdnimg.cn/direct/fd92ea97907a45239a33c6f11f3bb337.png" width="1204">
      <img alt="" height="894" src="https://i-blog.csdnimg.cn/direct/05fadeb68edb4b83880af432ab81538a.png" width="1201"/>
     </img>
    </h2>
    <pre><code class="language-bash">global:
  scrape_interval: 15s
  evaluation_interval: 15s

scrape_configs:
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']

  - job_name: 'redis'
    static_configs:
      - targets: ['redis:6379']

  - job_name: 'kafka'
    static_configs:
      - targets: ['kafka:9092']</code></pre>
    <h2>
     <span style="color:#0d0016">
      四、docker-compose.yml
     </span>
     <img alt="" height="384" src="https://i-blog.csdnimg.cn/direct/25d99ac0687e44f780d34b111aa025de.png" width="1205">
      <img alt="" height="365" src="https://i-blog.csdnimg.cn/direct/908cfd99afc74dae8eff7987adf04fe5.png" width="1111">
       <img alt="" height="366" src="https://i-blog.csdnimg.cn/direct/fb230eb0201e4cffb6f9f94ab97e5fd1.png" width="1218"/>
      </img>
     </img>
    </h2>
    <pre><code class="language-bash">version: '3.9'

services:
  redis:
    image: redis:latest
    container_name: redis
    restart: always
    ports:
      - "6379:6379"
    networks:
      - backend

  zookeeper:
    image: confluentinc/cp-zookeeper:latest
    container_name: zookeeper
    restart: always
    environment:
      ALLOW_ANONYMOUS_LOGIN: yes
      ZOOKEEPER_CLIENT_PORT: 2181
      ZOOKEEPER_TICK_TIME: 2000
    networks:
      - backend

  kafka:
    image: confluentinc/cp-kafka:latest
    container_name: kafka
    restart: always
    depends_on:
      - zookeeper
    ports:
      - "9092:9092"
    environment:
      ALLOW_PLAINTEXT_LISTENER: yes
      KAFKA_BROKER_ID: 1
      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181
      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:9092
      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1
    networks:
      - backend
  
  kafka-ui:
    image: provectuslabs/kafka-ui:latest
    container_name:  kafka-ui
    restart: always
    depends_on:
      - kafka
    ports:
      - "8080:8080"
    environment:
      KAFKA_CLUSTERS_0_NAME: dev
      KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS: kafka:9092
    networks:
      - backend

  prometheus:
    image: prom/prometheus:latest
    container_name: prometheus
    restart: always
    volumes:
      - ./prometheus.yml:/etc/prometheus/prometheus.yml
    ports:
      - "9090:9090"
    networks:
      - backend

  grafana:
    image: grafana/grafana:latest
    container_name: grafana
    restart: always
    depends_on:
      - prometheus
    ports:
      - "3000:3000"
    networks:
      - backend

networks:
  backend:
    name: backend</code></pre>
    <h2>
     <span style="color:#0d0016">
      五、启动环境
     </span>
    </h2>
    <pre><code class="language-bash">docker compose -f docker-compose.yml up -d</code></pre>
    <p>
     <img alt="" height="295" src="https://i-blog.csdnimg.cn/direct/a9013b7f4e5c444db62831e824024e16.png" width="1191"/>
     <img alt="" height="693" src="https://i-blog.csdnimg.cn/direct/8c1326ac70604d92b69623f9ac254837.png" width="1198"/>
     <img alt="" height="339" src="https://i-blog.csdnimg.cn/direct/a8d60bc8ec0a4ddd8fb7ab32a0834f99.png" width="1176"/>
    </p>
    <h2>
     <span style="color:#0d0016">
      六、验证
     </span>
    </h2>
    <p>
     <img alt="" height="438" src="https://i-blog.csdnimg.cn/direct/269df7e79ec24670bd9be9393b20e4e1.png" width="1120"/>
    </p>
    <ol>
     <li>
      <span style="color:#fe2c24">
       <strong>
        Kafka
       </strong>
      </span>
      ：
      <img alt="" height="563" src="https://i-blog.csdnimg.cn/direct/6383a1b4f63f42f4b2b6eb2803b584e7.png" width="2559"/>
     </li>
     <li>
      <span style="color:#fe2c24">
       <strong>
        Grafana
       </strong>
      </span>
      ：
      <img alt="" height="1050" src="https://i-blog.csdnimg.cn/direct/131604a395544e9b99bc056165d3c0ba.png" width="2559"/>
     </li>
     <li>
      <span style="color:#fe2c24">
       <strong>
        Prometheus
       </strong>
      </span>
      ：
      <img alt="" height="652" src="https://i-blog.csdnimg.cn/direct/a5d2e8011a08493682b47d97007bcde6.png" width="2559"/>
     </li>
     <li>
      <span style="color:#fe2c24">
       <strong>
        redis官方可视化工具
       </strong>
      </span>
      ：
      <a href="https://redisdesktop.com/download" rel="nofollow" title="Redis Insight">
       Redis Insight
      </a>
      <img alt="" height="609" src="https://i-blog.csdnimg.cn/direct/06769d368edf4580b3428a47d36976d3.png" width="2559"/>
     </li>
    </ol>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f37343031393037392f:61727469636c652f64657461696c732f313435393939353739" class_="artid" style="display:none">
 </p>
</div>


