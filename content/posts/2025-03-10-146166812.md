---
arturl_encode: "68747470733a2f2f626c:6f672e6373646e2e6e65742f6d73733335393638313039312f:61727469636c652f64657461696c732f313436313636383132"
layout: post
title: "vuedhtmlx-gantt-å®ç°ç”˜ç‰¹å›¾-å¿«é€Ÿå…¥é—¨ç”˜ç‰¹å›¾"
date: 2025-03-10 23:49:28 +08:00
description: "dhmlx-ganttæ˜¯ä¸€æ¬¾å¼ºå¤§çš„ç”˜ç‰¹å›¾ç»„ä»¶ï¼Œæ”¯æŒvueé›†æˆã€‚å®ƒæä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½ï¼Œé€‚åˆå¤æ‚çš„é¡¹ç›®ç®¡ç†éœ€æ±‚ã€‚"
keywords: "vue3 ä½¿ç”¨dhtmlxgantt"
categories: ['è¾…åŠ©å·¥å…·å¼€å‘ä¼´ä¾£', 'å‰ç«¯æ¡†æ¶Vue3']
tags: ['ç”˜ç‰¹å›¾', 'å‰ç«¯', 'Vue']
artid: "146166812"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146166812
    alt: "vuedhtmlx-gantt-å®ç°ç”˜ç‰¹å›¾-å¿«é€Ÿå…¥é—¨ç”˜ç‰¹å›¾"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146166812
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146166812
cover: https://bing.ee123.net/img/rand?artid=146166812
image: https://bing.ee123.net/img/rand?artid=146166812
img: https://bing.ee123.net/img/rand?artid=146166812
---

# vue+dhtmlx-gantt å®ç°ç”˜ç‰¹å›¾-å¿«é€Ÿå…¥é—¨ã€ç”˜ç‰¹å›¾ã€‘

---

## ä¸€ã€å‰è¨€

`dhtmlxGantt`
æ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„ç”˜ç‰¹å›¾ç»„ä»¶ï¼Œæ”¯æŒ
`Vue 3`
é›†æˆã€‚å®ƒæä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½ï¼Œé€‚åˆå¤æ‚çš„é¡¹ç›®ç®¡ç†éœ€æ±‚ã€‚

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/8b13e1723bef4d1486f3f464879df8d1.png)

**ç‰¹ç‚¹**

* æ”¯æŒæ‹–æ”¾æ“ä½œ
* å¤šç§è§†å›¾æ¨¡å¼ï¼ˆå¤©ã€å‘¨ã€æœˆã€å¹´ï¼‰
* æ•°æ®å¯¼å‡ºåŠŸèƒ½ï¼ˆPDFã€PNGã€Excelï¼‰
* ä»»åŠ¡ä¾èµ–å…³ç³»ç®¡ç†

**ä½¿ç”¨åœºæ™¯**
  
é€‚åˆéœ€è¦é«˜åº¦å®šåˆ¶åŒ–å’Œå¤æ‚åŠŸèƒ½çš„ä¼ä¸šçº§é¡¹ç›®ç®¡ç†å·¥å…·ã€‚

**èµ„æº**

* GitHub:
  [dhtmlxGantt](https://github.com/DHTMLX/gantt)
* æ–‡æ¡£:
  [dhtmlxGantt æ–‡æ¡£](https://docs.dhtmlx.com/gantt/)

## äºŒã€ä½¿ç”¨è¯´æ˜

### 2.1 å¼•å…¥ä¾èµ–

```bash
npm install dhtmlx-gantt

```

### 2.2 å¼•å…¥ç»„ä»¶

```html
<template>
    <div>
        <div ref="gantt" style="height:500px;" />
    </div>
</template>

```

### 2.3 å¼•å…¥dhtmlx-gantt

```js
import gantt from 'dhtmlx-gantt'
import 'dhtmlx-gantt/codebase/dhtmlxgantt.css'

```

### 2.4 ç”˜ç‰¹å›¾æ•°æ®é…ç½®

* çˆ¶çº§æ—¶é—´æ˜¯æ ¹æ®å­çº§
  `start_date`
  ä»¥åŠ
  `duration`
  è‡ªåŠ¨è®¡ç®—
* `progress`
  ï¼šå®Œæˆåº¦çš„æœ€å¤§å€¼ä¸º1
* `open`
  ï¼šæ˜¯å¦å±•å¼€æ–‡ä»¶
* `parent`
  ï¼šçˆ¶çº§
  `id`
* `start_date`
  ï¼šå¼€å§‹æ—¶é—´ï¼ˆæ—¥æœˆå¹´ï¼‰
* `text`
  ï¼šå·¦è¾¹æ•°æ®å±•ç¤ºæ–‡ä»¶åç§°ï¼ˆå¯ä»¥è‡ªå®šä¹‰æ·»åŠ å±•ç¤ºå­—æ®µï¼Œåœ¨åé¢åˆ—é…ç½®é¡¹å¯ä»¥é…ç½®ï¼‰

> ğŸ“¢æ³¨æ„ï¼š æ•°æ®æ ¼å¼ç±»ä¼¼äºæ ‘å½¢ç»„ä»¶ï¼Œå­çº§éœ€è¦çˆ¶çº§çš„
> `id`

```json
tasks: {
                data: [
                    //     {
                    //         id: 11,
                    //         text: 'Project #1',
                    //         // type: gantt.config.types.project,
                    //         progress: 0.5,//å®Œæˆåº¦
                    //         open: true,//é»˜è®¤æ‰“å¼€
                    //         number: '20240227',//æ˜¾ç¤ºå­—æ®µ
                    //     },
                    //     {
                    //         toolTipsTxt: 'ä»»åŠ¡#101-001',
                    //         id: 12,//ä»»åŠ¡id
                    //         text: 'ä»»åŠ¡#1',//ä»»åŠ¡åç§°
                    //         start_date: '03-04-2022',//å¼€å§‹æ—¶é—´ æ—¥æœˆå¹´
                    //         duration: '5',//ä»»åŠ¡æ—¶å¸¸
                    //         parent: '11',//çˆ¶çº§id
                    //         progress: 1,//å®Œæˆåº¦
                    //         open: true,//é»˜è®¤æ‰“å¼€
                    //     },
                    //     {
                    //         id: 13,
                    //         text: 'ä»»åŠ¡#2',
                    //         start_date: '03-04-2022',
                    //         // type: gantt.config.types.project,
                    //         parent: '11',
                    //         progress: 0.255,
                    //         open: true,
                    //     },
                    //     {
                    //         id: 14,
                    //         text: 'ä»»åŠ¡#3',
                    //         start_date: '01-04-2022',
                    //         duration: '6',
                    //         parent: '11',
                    //         progress: 0.8,
                    //         open: true,
                    //     },
                    //     {
                    //         id: 15,
                    //         text: 'ä»»åŠ¡#4',
                    //         // type: gantt.config.types.project,
                    //         parent: '11',
                    //         progress: 0.2,
                    //         open: true,
                    //     },
                    //     {
                    //         id: 16,
                    //         text: 'Final milestone',
                    //         start_date: '15-04-2022',
                    //         // type: gantt.config.types.milestone,
                    //         parent: '11',
                    //         progress: 0,
                    //         open: true,
                    //     },

                    //     {
                    //         id: 17,
                    //         text: 'ä»»åŠ¡#2.1',
                    //         start_date: '03-04-2022',
                    //         duration: '2',
                    //         parent: '13',
                    //         progress: 1,
                    //         open: true,
                    //     },
                    //     {
                    //         id: 18,
                    //         text: 'ä»»åŠ¡#2.2',
                    //         start_date: '06-04-2022',
                    //         duration: '3',
                    //         parent: '13',
                    //         progress: 0.8,
                    //         open: true,
                    //     },
                    //     {
                    //         id: 19,
                    //         text: 'ä»»åŠ¡#2.3',
                    //         start_date: '10-04-2022',
                    //         duration: '4',
                    //         parent: '13',
                    //         progress: 0.2,
                    //         open: true,
                    //     },
                    //     {
                    //         id: 20,
                    //         text: 'ä»»åŠ¡#2.4',
                    //         start_date: '10-04-2022',
                    //         duration: '4',
                    //         parent: '13',
                    //         progress: 0,
                    //         open: true,
                    //     },
                    //     {
                    //         id: 21,
                    //         text: 'ä»»åŠ¡#4.1',
                    //         start_date: '03-04-2022',
                    //         duration: '4',
                    //         parent: '15',
                    //         progress: 0.5,
                    //         open: true,
                    //     },
                    //     {
                    //         id: 22,
                    //         text: 'ä»»åŠ¡#4.2',
                    //         start_date: '03-04-2022',
                    //         duration: '4',
                    //         parent: '15',
                    //         progress: 0.1,
                    //         open: true,
                    //     },
                    //     {
                    //         id: 23,
                    //         text: 'Mediate milestone',
                    //         start_date: '14-04-2022',
                    //         // type: gantt.config.types.milestone,
                    //         parent: '15',
                    //         progress: 0,
                    //         open: true,
                    //     },
                ],

```

`tasks`
ä¸­
`link`
è¿çº¿é…ç½®

```json
tasks: {
                // #å­—æ®µè§£é‡Š
                // æ ¼å¼ id:æ•°æ®id   
                //     source:å¼€å§‹é“¾æ¥çš„é¡¹ç›®id  ----ä¸ºtasks.dataä¸­æ•°æ®çš„id
                //     target:è¦é“¾æ¥é¡¹ç›®çš„id  ----ä¸ºtasks.dataä¸­æ•°æ®çš„id
                //     type: 0--è¿›è¡Œ-å¼€å§‹  `å°¾éƒ¨é“¾æ¥å¤´éƒ¨`  
                //           1--å¼€å§‹-å¼€å§‹  `å¤´éƒ¨é“¾æ¥å¤´éƒ¨`
                //           2--è¿›è¡Œ-è¿›è¡Œ  `å°¾éƒ¨é“¾æ¥å°¾éƒ¨`
                //           3--å¼€å§‹-è¿›è¡Œ  `å¤´éƒ¨é“¾æ¥å°¾éƒ¨`
                // ä»»åŠ¡ä¹‹é—´è¿æ¥
                links: [
                    { id: '10', source: '11', target: '12', type: '1' },
                    { id: '11', source: '11', target: '13', type: '1' },
                    { id: '12', source: '11', target: '14', type: '1' },
                    { id: '13', source: '11', target: '15', type: '1' },
                    { id: '14', source: '23', target: '16', type: '0' },
                    { id: '15', source: '13', target: '17', type: '1' },
                    { id: '16', source: '17', target: '18', type: '0' },
                    { id: '17', source: '18', target: '19', type: '0' },
                    { id: '18', source: '19', target: '20', type: '0' },
                    { id: '19', source: '15', target: '21', type: '2' },
                    { id: '20', source: '15', target: '22', type: '2' },
                    { id: '21', source: '15', target: '23', type: '0' },
                ],
            },

```

### 2.5 åˆå§‹åŒ–é…ç½®

**å¼¹çª—æ±‰åŒ–**

```js
gantt.locale.labels = {
                dhx_cal_today_button: "ä»Šå¤©",
                day_tab: "æ—¥",
                week_tab: "å‘¨",
                month_tab: "æœˆ",
                new_event: "æ–°å»ºæ—¥ç¨‹",
                icon_save: "ä¿å­˜",
                icon_cancel: "å…³é—­",
                icon_details: "è¯¦ç»†",
                icon_edit: "ç¼–è¾‘",
                icon_delete: "åˆ é™¤",
                confirm_closing: "è¯·ç¡®è®¤æ˜¯å¦æ’¤é”€ä¿®æ”¹!", //Your changes will be lost, are your sure?
                confirm_deleting: "æ˜¯å¦åˆ é™¤è®¡åˆ’?",
                section_description: "æè¿°:",
                section_time: "æ—¶é—´èŒƒå›´:",
                section_type: "ç±»å‹:",
                section_text: "è®¡åˆ’åç§°:",
                section_test: "æµ‹è¯•:",
                section_projectClass: "é¡¹ç›®ç±»å‹:",
                taskProjectType_0: "é¡¹ç›®ä»»åŠ¡",
                taskProjectType_1: "æ™®é€šä»»åŠ¡",
                section_head: "è´Ÿè´£äºº:",
                section_priority: 'ä¼˜å…ˆçº§:',
                taskProgress: 'ä»»åŠ¡çŠ¶æ€',
                taskProgress_0: "æœªå¼€å§‹",
                taskProgress_1: "è¿›è¡Œä¸­",
                taskProgress_2: "å·²å®Œæˆ",
                taskProgress_3: "å·²å»¶æœŸ",
                taskProgress_4: "æç½®ä¸­",
                section_template: 'Details',
                /* grid columns */
                column_text: "è®¡åˆ’åç§°",
                column_start_date: "å¼€å§‹æ—¶é—´",
                column_duration: "æŒç»­æ—¶é—´",
                column_add: "",
                column_priority: "éš¾åº¦",
                /* link confirmation */
                link: "å…³è”",
                confirm_link_deleting: "å°†è¢«åˆ é™¤",
                message_ok: 'ç¡®å®š',
                message_cancel: 'å–æ¶ˆ',
                link_start: " (å¼€å§‹)",
                link_end: " (ç»“æŸ)",

                type_task: "ä»»åŠ¡",
                type_project: "é¡¹ç›®",
                type_milestone: "é‡Œç¨‹ç¢‘",
                minutes: "åˆ†é’Ÿ",
                hours: "å°æ—¶",
                days: "å¤©",
                weeks: "å‘¨",
                months: "æœˆ",
                years: "å¹´"
            }

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/023e94c098e042e3893d8634e4de2d4b.png)

**æ¸…ç©ºæ—§æ•°æ®**

```js
gantt.clearAll(); // æ¸…ç©ºæ—§æ•°æ®

```

> ğŸ“¢æ³¨æ„ï¼šå…¶ä¸­å€¼å¾—ä¸€æçš„å°±æ˜¯æ›´æ–°æ•°æ®ï¼Œéœ€è¦æ¸…ç©ºæ—§æ•°

**åˆå§‹åŒ–æ•°æ®**

```js
// åˆå§‹åŒ–
        init() {
            // æ ¼å¼åŒ–æ—¥æœŸ
            gantt.locale.date = {
                month_full: ["1æœˆ", "2æœˆ", "3æœˆ", "4æœˆ", "5æœˆ", "6æœˆ", "7æœˆ", "8æœˆ", "9æœˆ", "10æœˆ", "11æœˆ", "12æœˆ"],
                month_short: ["1æœˆ", "2æœˆ", "3æœˆ", "4æœˆ", "5æœˆ", "6æœˆ", "7æœˆ", "8æœˆ", "9æœˆ", "10æœˆ", "11æœˆ", "12æœˆ"],
                day_full: ["æ˜ŸæœŸæ—¥", "æ˜ŸæœŸä¸€", "æ˜ŸæœŸäºŒ", "æ˜ŸæœŸä¸‰", "æ˜ŸæœŸå››", "æ˜ŸæœŸäº”", "æ˜ŸæœŸå…­"],
                day_short: ["æ˜ŸæœŸæ—¥", "æ˜ŸæœŸä¸€", "æ˜ŸæœŸäºŒ", "æ˜ŸæœŸä¸‰", "æ˜ŸæœŸå››", "æ˜ŸæœŸäº”", "æ˜ŸæœŸå…­"]
            }

            console.log(gantt);
            //è‡ªé€‚åº”ç”˜ç‰¹å›¾çš„å°ºå¯¸å¤§å°, ä½¿å¾—åœ¨ä¸å‡ºç°æ»šåŠ¨æ¡çš„æƒ…å†µä¸‹, æ˜¾ç¤ºå…¨éƒ¨ä»»åŠ¡
            gantt.config.autosize = true
            //åªè¯»æ¨¡å¼
            gantt.config.readonly = false
            //æ˜¯å¦æ˜¾ç¤ºå·¦ä¾§æ ‘è¡¨æ ¼
            gantt.config.show_grid = true
            // //è¡¨æ ¼åˆ—è®¾ç½®
            gantt.config.columns = [
                { name: 'text', label: 'é˜¶æ®µåå­—', tree: true, width: '150', align: 'center', },
                // { name: 'number', label: 'å·¥å•å·', tree: false, width: '120', align: 'center', },
                {
                    name: 'duration',
                    label: 'å·¥æ—¶',
                    align: 'center',
                    template: function (obj) {
                        return obj.duration + 'å¤©'
                    },
                },
                /*{name:"start_date", label:"å¼€å§‹æ—¶é—´", align: "center" },
        
                {name:"end_date",   label:"ç»“æŸæ—¶é—´",   align: "center" },*/
            ]
            // è‡ªåŠ¨å»¶é•¿æ—¶é—´åˆ»åº¦
            gantt.config.fit_tasks = true
            // å…è®¸æ‹–æ”¾
            gantt.config.drag_project = true
            // å®šä¹‰æ—¶é—´æ ¼å¼
            gantt.config.scales = [
                { unit: 'month', step: 1, date: ' %Y,%F' },
                { unit: 'day', step: 1, date: ' %D ,%j' },
            ]
            // //å½“taskçš„é•¿åº¦æ”¹å˜æ—¶ï¼Œè‡ªåŠ¨è°ƒæ•´å›¾è¡¨åæ ‡è½´åŒºé—´ç”¨äºé€‚é…taskçš„é•¿åº¦
            gantt.config.fit_tasks = true
            // æ·»åŠ å¼¹çª—å±æ€§
            gantt.config.lightbox.sections = [
                {
                    name: 'description',
                    height: 70,
                    map_to: 'text',
                    type: 'textarea',
                    focus: true,
                },
                { name: 'type', type: 'typeselect', map_to: 'type' },
                { name: 'time', type: 'duration', map_to: 'auto' },
            ];
            console.log(this.tasks.data, 'æ£€æŸ¥ä»»åŠ¡æ•°æ®'); // æ£€æŸ¥ä»»åŠ¡æ•°æ®
            // åˆå§‹åŒ–
            gantt.init(this.$refs.gantt)
            /* *******é‡ç‚¹******* */
            gantt.clearAll(); // æ¸…ç©ºæ—§æ•°æ®
            /* ****************** */
            // æ•°æ®è§£æ
            gantt.parse(this.tasks)
        },

```

**æ›´æ–°æ•°æ®**

```js
loadData(arg) {
            if (!this.url.list) {
                this.$message.error("è¯·è®¾ç½®url.listå±æ€§!")
                return
            }
            //åŠ è½½æ•°æ® è‹¥ä¼ å…¥å‚æ•°1åˆ™åŠ è½½ç¬¬ä¸€é¡µçš„å†…å®¹
            let params = {
                planId: this.planId,
            }
            this.loading = true;
            this.tasks.data = []
            getAction(this.url.list, params).then((res) => {
                if (res.success) {
                    console.log(res, 'ç”˜ç‰¹å›¾æ•°æ®');

                    res.result.forEach(obj => {
                        obj.open = false
                    })
                    this.tasks.data = res.result
                    this.init()
                }
                if (res.code === 510) {
                    this.$message.warning(res.message)
                }
                this.loading = false;
            })
        },

```

## ä¸‰ã€ä»£ç ç¤ºä¾‹

### 3.1 Vue2å®Œæ•´ç¤ºä¾‹

```html

<template>
    <div>
        <div ref="gantt" style="height:500px;" />
    </div>
</template>
  
<script>
import gantt from 'dhtmlx-gantt'
import 'dhtmlx-gantt/codebase/dhtmlxgantt.css'
import { JeecgListMixin } from '@/mixins/JeecgListMixin'
import { getAction, putAction } from '@/api/manage'
export default {
    props: {
        planId: {
            type: String,
            required: true,
        }
    },
    // mixins: [JeecgListMixin],
    data() {
        return {
            // ç”˜ç‰¹å›¾é…ç½®
            tasks: {
                data: [
                    //     {
                    //         id: 11,
                    //         text: 'Project #1',
                    //         // type: gantt.config.types.project,
                    //         progress: 0.5,//å®Œæˆåº¦
                    //         open: true,//é»˜è®¤æ‰“å¼€
                    //         number: '20240227',//æ˜¾ç¤ºå­—æ®µ
                    //     },
                    //     {
                    //         toolTipsTxt: 'ä»»åŠ¡#101-001',
                    //         id: 12,//ä»»åŠ¡id
                    //         text: 'ä»»åŠ¡#1',//ä»»åŠ¡åç§°
                    //         start_date: '03-04-2022',//å¼€å§‹æ—¶é—´ æ—¥æœˆå¹´
                    //         duration: '5',//ä»»åŠ¡æ—¶å¸¸
                    //         parent: '11',//çˆ¶çº§id
                    //         progress: 1,//å®Œæˆåº¦
                    //         open: true,//é»˜è®¤æ‰“å¼€
                    //     },
                    //     {
                    //         id: 13,
                    //         text: 'ä»»åŠ¡#2',
                    //         start_date: '03-04-2022',
                    //         // type: gantt.config.types.project,
                    //         parent: '11',
                    //         progress: 0.255,
                    //         open: true,
                    //     },
                    //     {
                    //         id: 14,
                    //         text: 'ä»»åŠ¡#3',
                    //         start_date: '01-04-2022',
                    //         duration: '6',
                    //         parent: '11',
                    //         progress: 0.8,
                    //         open: true,
                    //     },
                    //     {
                    //         id: 15,
                    //         text: 'ä»»åŠ¡#4',
                    //         // type: gantt.config.types.project,
                    //         parent: '11',
                    //         progress: 0.2,
                    //         open: true,
                    //     },
                    //     {
                    //         id: 16,
                    //         text: 'Final milestone',
                    //         start_date: '15-04-2022',
                    //         // type: gantt.config.types.milestone,
                    //         parent: '11',
                    //         progress: 0,
                    //         open: true,
                    //     },

                    //     {
                    //         id: 17,
                    //         text: 'ä»»åŠ¡#2.1',
                    //         start_date: '03-04-2022',
                    //         duration: '2',
                    //         parent: '13',
                    //         progress: 1,
                    //         open: true,
                    //     },
                    //     {
                    //         id: 18,
                    //         text: 'ä»»åŠ¡#2.2',
                    //         start_date: '06-04-2022',
                    //         duration: '3',
                    //         parent: '13',
                    //         progress: 0.8,
                    //         open: true,
                    //     },
                    //     {
                    //         id: 19,
                    //         text: 'ä»»åŠ¡#2.3',
                    //         start_date: '10-04-2022',
                    //         duration: '4',
                    //         parent: '13',
                    //         progress: 0.2,
                    //         open: true,
                    //     },
                    //     {
                    //         id: 20,
                    //         text: 'ä»»åŠ¡#2.4',
                    //         start_date: '10-04-2022',
                    //         duration: '4',
                    //         parent: '13',
                    //         progress: 0,
                    //         open: true,
                    //     },
                    //     {
                    //         id: 21,
                    //         text: 'ä»»åŠ¡#4.1',
                    //         start_date: '03-04-2022',
                    //         duration: '4',
                    //         parent: '15',
                    //         progress: 0.5,
                    //         open: true,
                    //     },
                    //     {
                    //         id: 22,
                    //         text: 'ä»»åŠ¡#4.2',
                    //         start_date: '03-04-2022',
                    //         duration: '4',
                    //         parent: '15',
                    //         progress: 0.1,
                    //         open: true,
                    //     },
                    //     {
                    //         id: 23,
                    //         text: 'Mediate milestone',
                    //         start_date: '14-04-2022',
                    //         // type: gantt.config.types.milestone,
                    //         parent: '15',
                    //         progress: 0,
                    //         open: true,
                    //     },
                ],
                // #å­—æ®µè§£é‡Š
                // æ ¼å¼ id:æ•°æ®id   
                //     source:å¼€å§‹é“¾æ¥çš„é¡¹ç›®id  ----ä¸ºtasks.dataä¸­æ•°æ®çš„id
                //     target:è¦é“¾æ¥é¡¹ç›®çš„id  ----ä¸ºtasks.dataä¸­æ•°æ®çš„id
                //     type: 0--è¿›è¡Œ-å¼€å§‹  `å°¾éƒ¨é“¾æ¥å¤´éƒ¨`  
                //           1--å¼€å§‹-å¼€å§‹  `å¤´éƒ¨é“¾æ¥å¤´éƒ¨`
                //           2--è¿›è¡Œ-è¿›è¡Œ  `å°¾éƒ¨é“¾æ¥å°¾éƒ¨`
                //           3--å¼€å§‹-è¿›è¡Œ  `å¤´éƒ¨é“¾æ¥å°¾éƒ¨`
                // ä»»åŠ¡ä¹‹é—´è¿æ¥
                links: [
                    { id: '10', source: '11', target: '12', type: '1' },
                    { id: '11', source: '11', target: '13', type: '1' },
                    { id: '12', source: '11', target: '14', type: '1' },
                    { id: '13', source: '11', target: '15', type: '1' },
                    { id: '14', source: '23', target: '16', type: '0' },
                    { id: '15', source: '13', target: '17', type: '1' },
                    { id: '16', source: '17', target: '18', type: '0' },
                    { id: '17', source: '18', target: '19', type: '0' },
                    { id: '18', source: '19', target: '20', type: '0' },
                    { id: '19', source: '15', target: '21', type: '2' },
                    { id: '20', source: '15', target: '22', type: '2' },
                    { id: '21', source: '15', target: '23', type: '0' },
                ],
            },

            url: {
                list: "/projectManage/projectPlan/queryProjectPlanGTT",
                // delete: "/projectManage/projectModule/delete",
                // deleteBatch: "/projectManage/projectModule/deleteBatch",
                // exportXlsUrl: "/projectManage/projectModule/exportXls",
                // importExcelUrl: "/projectManage/projectModule/importExcel",
                // budgetExportXlsUrl: "/projectManage/projectModule/budgetExportXls",
                // budgetImportUrl: "/projectManage/projectModule/budgetImportExcel",
            },

        }
    },
    watch: {
        
    },
    created() {
        console.log(this.planId, 'å‚æ•°');

    },
    mounted() {
        this.loadData();
    },
    methods: {
        // åˆå§‹åŒ–
        init() {
            // æ ¼å¼åŒ–æ—¥æœŸ
            gantt.locale.date = {
                month_full: ["1æœˆ", "2æœˆ", "3æœˆ", "4æœˆ", "5æœˆ", "6æœˆ", "7æœˆ", "8æœˆ", "9æœˆ", "10æœˆ", "11æœˆ", "12æœˆ"],
                month_short: ["1æœˆ", "2æœˆ", "3æœˆ", "4æœˆ", "5æœˆ", "6æœˆ", "7æœˆ", "8æœˆ", "9æœˆ", "10æœˆ", "11æœˆ", "12æœˆ"],
                day_full: ["æ˜ŸæœŸæ—¥", "æ˜ŸæœŸä¸€", "æ˜ŸæœŸäºŒ", "æ˜ŸæœŸä¸‰", "æ˜ŸæœŸå››", "æ˜ŸæœŸäº”", "æ˜ŸæœŸå…­"],
                day_short: ["æ˜ŸæœŸæ—¥", "æ˜ŸæœŸä¸€", "æ˜ŸæœŸäºŒ", "æ˜ŸæœŸä¸‰", "æ˜ŸæœŸå››", "æ˜ŸæœŸäº”", "æ˜ŸæœŸå…­"]
            }

gantt.locale.labels = {
                dhx_cal_today_button: "ä»Šå¤©",
                day_tab: "æ—¥",
                week_tab: "å‘¨",
                month_tab: "æœˆ",
                new_event: "æ–°å»ºæ—¥ç¨‹",
                icon_save: "ä¿å­˜",
                icon_cancel: "å…³é—­",
                icon_details: "è¯¦ç»†",
                icon_edit: "ç¼–è¾‘",
                icon_delete: "åˆ é™¤",
                confirm_closing: "è¯·ç¡®è®¤æ˜¯å¦æ’¤é”€ä¿®æ”¹!", //Your changes will be lost, are your sure?
                confirm_deleting: "æ˜¯å¦åˆ é™¤è®¡åˆ’?",
                section_description: "æè¿°:",
                section_time: "æ—¶é—´èŒƒå›´:",
                section_type: "ç±»å‹:",
                section_text: "è®¡åˆ’åç§°:",
                section_test: "æµ‹è¯•:",
                section_projectClass: "é¡¹ç›®ç±»å‹:",
                taskProjectType_0: "é¡¹ç›®ä»»åŠ¡",
                taskProjectType_1: "æ™®é€šä»»åŠ¡",
                section_head: "è´Ÿè´£äºº:",
                section_priority: 'ä¼˜å…ˆçº§:',
                taskProgress: 'ä»»åŠ¡çŠ¶æ€',
                taskProgress_0: "æœªå¼€å§‹",
                taskProgress_1: "è¿›è¡Œä¸­",
                taskProgress_2: "å·²å®Œæˆ",
                taskProgress_3: "å·²å»¶æœŸ",
                taskProgress_4: "æç½®ä¸­",
                section_template: 'Details',
                /* grid columns */
                column_text: "è®¡åˆ’åç§°",
                column_start_date: "å¼€å§‹æ—¶é—´",
                column_duration: "æŒç»­æ—¶é—´",
                column_add: "",
                column_priority: "éš¾åº¦",
                /* link confirmation */
                link: "å…³è”",
                confirm_link_deleting: "å°†è¢«åˆ é™¤",
                message_ok: 'ç¡®å®š',
                message_cancel: 'å–æ¶ˆ',
                link_start: " (å¼€å§‹)",
                link_end: " (ç»“æŸ)",

                type_task: "ä»»åŠ¡",
                type_project: "é¡¹ç›®",
                type_milestone: "é‡Œç¨‹ç¢‘",
                minutes: "åˆ†é’Ÿ",
                hours: "å°æ—¶",
                days: "å¤©",
                weeks: "å‘¨",
                months: "æœˆ",
                years: "å¹´"
            }


            console.log(gantt);
            //è‡ªé€‚åº”ç”˜ç‰¹å›¾çš„å°ºå¯¸å¤§å°, ä½¿å¾—åœ¨ä¸å‡ºç°æ»šåŠ¨æ¡çš„æƒ…å†µä¸‹, æ˜¾ç¤ºå…¨éƒ¨ä»»åŠ¡
            gantt.config.autosize = true
            //åªè¯»æ¨¡å¼
            gantt.config.readonly = false
            //æ˜¯å¦æ˜¾ç¤ºå·¦ä¾§æ ‘è¡¨æ ¼
            gantt.config.show_grid = true
            // //è¡¨æ ¼åˆ—è®¾ç½®
            gantt.config.columns = [
                { name: 'text', label: 'é˜¶æ®µåå­—', tree: true, width: '150', align: 'center', },
                // { name: 'number', label: 'å·¥å•å·', tree: false, width: '120', align: 'center', },
                {
                    name: 'duration',
                    label: 'å·¥æ—¶',
                    align: 'center',
                    template: function (obj) {
                        return obj.duration + 'å¤©'
                    },
                },
                /*{name:"start_date", label:"å¼€å§‹æ—¶é—´", align: "center" },
        
                {name:"end_date",   label:"ç»“æŸæ—¶é—´",   align: "center" },*/
            ]
            // è‡ªåŠ¨å»¶é•¿æ—¶é—´åˆ»åº¦
            gantt.config.fit_tasks = true
            // å…è®¸æ‹–æ”¾
            gantt.config.drag_project = true
            // å®šä¹‰æ—¶é—´æ ¼å¼
            gantt.config.scales = [
                { unit: 'month', step: 1, date: ' %Y,%F' },
                { unit: 'day', step: 1, date: ' %D ,%j' },
            ]
            // //å½“taskçš„é•¿åº¦æ”¹å˜æ—¶ï¼Œè‡ªåŠ¨è°ƒæ•´å›¾è¡¨åæ ‡è½´åŒºé—´ç”¨äºé€‚é…taskçš„é•¿åº¦
            gantt.config.fit_tasks = true
            // æ·»åŠ å¼¹çª—å±æ€§
            gantt.config.lightbox.sections = [
                {
                    name: 'description',
                    height: 70,
                    map_to: 'text',
                    type: 'textarea',
                    focus: true,
                },
                { name: 'type', type: 'typeselect', map_to: 'type' },
                { name: 'time', type: 'duration', map_to: 'auto' },
            ];
            console.log(this.tasks.data, 'æ£€æŸ¥ä»»åŠ¡æ•°æ®'); // æ£€æŸ¥ä»»åŠ¡æ•°æ®
            // åˆå§‹åŒ–
            gantt.init(this.$refs.gantt)
            /* *******é‡ç‚¹******* */
            gantt.clearAll(); // æ¸…ç©ºæ—§æ•°æ®
            /* ****************** */
            // æ•°æ®è§£æ
            gantt.parse(this.tasks)
        },
        loadData(arg) {
            if (!this.url.list) {
                this.$message.error("è¯·è®¾ç½®url.listå±æ€§!")
                return
            }
            //åŠ è½½æ•°æ® è‹¥ä¼ å…¥å‚æ•°1åˆ™åŠ è½½ç¬¬ä¸€é¡µçš„å†…å®¹
            let params = {
                planId: this.planId,
            }
            this.loading = true;
            this.tasks.data = []
            getAction(this.url.list, params).then((res) => {
                if (res.success) {
                    console.log(res, 'ç”˜ç‰¹å›¾æ•°æ®');

                    res.result.forEach(obj => {
                        obj.open = false
                    })
                    this.tasks.data = res.result
                    this.init()
                }
                if (res.code === 510) {
                    this.$message.warning(res.message)
                }
                this.loading = false;
            })
        },
    },
}
</script>
  
<style lang="less" scoped>
.firstLevelTask {
    border: none;

    .gantt_task_content {
        // font-weight: bold;
        font-size: 13px;
    }
}

.secondLevelTask {
    border: none;
}

.thirdLevelTask {
    border: 2px solid #da645d;
    color: #da645d;
    background: #da645d;
}

.milestone-default {
    border: none;
    background: rgba(0, 0, 0, 0.45);
}

.milestone-unfinished {
    border: none;
    background: #5692f0;
}

.milestone-finished {
    border: none;
    background: #84bd54;
}

.milestone-canceled {
    border: none;
    background: #da645d;
}

html,
body {
    margin: 0px;
    padding: 0px;
    height: 100%;
    overflow: hidden;
}

.container {
    height: 900px;

    .left-container {
        height: 100%;
    }
}

.left-container {
    height: 600px;
}

.gantt_scale_line {
    border-top: 0;
}

.weekend {
    //background:#f4f7f4!important;
    color: #000000 !important;
}

.gantt_selected .weekend {
    background: #f7eb91 !important;
}

.gantt_task_content {
    text-align: left;
    padding-left: 10px;
}

//ä¸Šé¢ä»»åŠ¡æ¡æ ·å¼
.gantt_task_scale {
    height: 45px !important;
}

.gantt_task .gantt_task_scale .gantt_scale_cell {
    line-height: 30px !important;
    height: 28px !important;
}
</style>
  
  

```

### 3.2 Vue3 å®Œæ•´ç¤ºä¾‹

```html
<template>
  <div style="height: 100%; background-color: white">
    <div ref="ganttRef" style="width: 100%; height: 600px"></div>
  </div>
</template>

<script setup name="gantt-widget">
import { ref, reactive, onMounted } from 'vue'
import { gantt } from 'dhtmlx-gantt'
import 'dhtmlx-gantt/codebase/dhtmlxgantt.css'
import { formatDate } from '@/utils/util.js'

import { defineProps } from 'vue'
const props = defineProps({
  widgetObj: {
    type: Object,
    required: true,
  },
})

const ganttRef = ref()
const tasks = ref({})

//åŠ¨æ€åŠ è½½æ•°æ®
const fetchData = () => {
  tasks.value = tasks.value = {
    tasks: [
      {
        id: 10,
        text: 'RFQ&é¡¹ç›®å¯åŠ¨',
        type: 'project',
        progress: 0.1,
        open: true,
        person: 'å¼ ä¸‰',
      },

      {
        id: 12,
        text: 'äº§å“éœ€æ±‚ #1.0.1',
        start_date: '02-01-2025',
        duration: 3,
        parent: 10,
        progress: 1,
        person: 'å¼ ä¸‰',
      },
      {
        id: 13,
        text: 'äº§å“æ•°æ® #1.0.2',
        start_date: '05-01-2025',
        duration: 3,
        parent: 10,
        progress: 0.8,
        person: 'å¼ ä¸‰',
      },
      {
        id: 14,
        text: 'ç¯å¢ƒæ•°æ® #1.0.3',
        start_date: '08-01-2025',
        duration: 3,
        parent: 10,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 15,
        text: 'é¡¹ç›®è¯„ä¼°æŒ‡ä»¤ #1.1',
        start_date: '11-01-2025',
        duration: 3,
        parent: 10,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 16,
        text: 'æˆç«‹é¡¹ç›®å°ç»„ #1.2.1',
        start_date: '12-01-2025',
        duration: 2,
        parent: 10,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 17,
        text: 'å¯è¡Œæ€§è¯„ä¼° #1.2.2',
        start_date: '13-01-2025',
        duration: 3,
        parent: 10,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 18,
        text: 'è¾“å…¥è¯„å®¡ #1.2.3',
        start_date: '14-01-2025',
        duration: 2,
        parent: 10,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 19,
        text: 'åˆå§‹äº§å“æ–¹æ¡ˆ #1.2.4',
        start_date: '16-01-2025',
        duration: 2,
        parent: 10,
        progress: 0,
        person: 'å¼ ä¸‰',
      },

      {
        id: 20,
        text: 'äº§å“è®¾è®¡&å¼€å‘',
        type: 'project',
        progress: 0,
        person: 'å¼ ä¸‰',
        open: false,
      },

      {
        id: 21,
        text: 'è®¾è®¡è¾“å…¥ä¿¡æ¯ç®¡ç†#3.0.1',
        start_date: '18-01-2025',
        duration: 2,
        parent: 20,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 22,
        text: 'äº§å“è®¾è®¡è¿‡å¾€æ•™è®­å±•å¼€ #3.0.2',
        start_date: '20-01-2025',
        duration: 2,
        parent: 20,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 23,
        text: 'äº§å“è®¾è®¡è¿›åº¦ç®¡ç† #3.0.3',
        start_date: '22-01-2025',
        duration: 2,
        parent: 20,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 24,
        text: 'äº§å“è®¾è®¡æ–¹æ¡ˆ #3.0.4',
        start_date: '24-01-2025',
        duration: 2,
        parent: 20,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 25,
        text: 'äº§å“ç‰¹æ®Šç‰¹æ€§è¯†åˆ« #3.0.5',
        start_date: '26-01-2025',
        duration: 2,
        parent: 20,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 26,
        text: 'äº§å“è®¾è®¡æ–¹æ¡ˆè¯„å®¡ #3.0.6',
        start_date: '28-01-2025',
        duration: 2,
        parent: 20,
        progress: 0,
        person: 'å¼ ä¸‰',
      },

      {
        id: 30,
        text: 'è¿‡ç¨‹è®¾è®¡&å¼€å‘',
        type: 'project',
        progress: 0,
        person: 'å¼ ä¸‰',
        open: false,
      },
      {
        id: 31,
        text: 'åœºåœ°è§„åˆ’ #5.0.1',
        start_date: '28-02-2025',
        duration: 3,
        parent: 30,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 32,
        text: 'åœºåœ°è¯„å®¡ #5.0.2',
        start_date: '28-02-2025',
        duration: 3,
        parent: 30,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 33,
        text: 'è¿‡ç¨‹æ£€éªŒæ ‡å‡† #5.0.3',
        start_date: '29-02-2025',
        duration: 3,
        parent: 30,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 40,
        text: 'äº§å“&è¿‡ç¨‹éªŒè¯',
        type: 'project',
        open: false,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 41,
        text: 'é‡å…·é‡å¤å†ç°æ€§åˆ†æ #6.0.1',
        start_date: '29-02-2025',
        duration: 3,
        parent: 40,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 42,
        text: 'æ£€å…·ä½¿ç”¨éªŒæ”¶ #6.0.2',
        start_date: '01-03-2025',
        duration: 3,
        parent: 40,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 43,
        text: 'å·¥è£…-å‚å¤–é¢„éªŒæ”¶ #6.1.1',
        start_date: '02-03-2025',
        duration: 3,
        parent: 40,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 44,
        text: 'è®¾å¤‡-å‚å¤–é¢„éªŒæ”¶ #6.2.1',
        start_date: '03-03-2025',
        duration: 3,
        parent: 40,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 45,
        text: 'æ¨¡å…·-å‚å¤–é¢„éªŒæ”¶ #6.3.1',
        start_date: '04-03-2025',
        duration: 3,
        parent: 40,
        progress: 0,
        person: 'å¼ ä¸‰',
      },

      {
        id: 50,
        text: 'è¿‡ç¨‹éªŒè¯',
        type: 'project',
        open: false,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 51,
        text: 'å°æ‰¹é‡è¯•ç”Ÿäº§æ€»ç»“ #7.0.1',
        start_date: '28-04-2025',
        duration: 3,
        parent: 50,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 52,
        text: 'äº§å“å°ºå¯¸è®°å½• #7.0.2',
        start_date: '29-04-2025',
        duration: 3,
        parent: 50,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 52,
        text: 'è¿‡ç¨‹èƒ½åŠ›ç ”ç©¶ #7.0.3',
        start_date: '30-04-2025',
        duration: 3,
        parent: 50,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 60,
        text: 'åé¦ˆ,çº æ­£å’Œæ”¹è¿›',
        type: 'project',
        open: false,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 61,
        text: 'æ¨¡å·¥æ£€ç§»äº¤ #8.0.1',
        start_date: '28-05-2025',
        duration: 3,
        parent: 60,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 62,
        text: 'é¡¹ç›®ç§»äº¤ä¼šè®® #8.0.2',
        start_date: '29-05-2025',
        duration: 3,
        parent: 60,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
      {
        id: 63,
        text: 'å–å¾—é‡äº§äº¤ä»˜è®¡åˆ’ #8.1.1',
        start_date: '30-05-2025',
        duration: 3,
        parent: 60,
        progress: 0,
        person: 'å¼ ä¸‰',
      },
    ],
    links: [
      { id: 10, source: 12, target: 13, type: 1 },
      { id: 11, source: 13, target: 14, type: 1 },
      { id: 12, source: 14, target: 15, type: 1 },
    ],
  }
}

//åˆå§‹åŒ–é…ç½®
const initGantt = () => {
  gantt.plugins({ tooltip: true, quick_info: true })

  // æ±‰åŒ–çª—å£
  gantt.locale.labels = {
    dhx_cal_today_button: 'ä»Šå¤©',
    day_tab: 'æ—¥',
    week_tab: 'å‘¨',
    month_tab: 'æœˆ',
    new_event: 'æ–°å»ºæ—¥ç¨‹',
    icon_save: 'ä¿å­˜',
    icon_cancel: 'å…³é—­',
    icon_details: 'è¯¦ç»†',
    icon_edit: 'ç¼–è¾‘',
    icon_delete: 'åˆ é™¤',
    confirm_closing: 'è¯·ç¡®è®¤æ˜¯å¦æ’¤é”€ä¿®æ”¹!', //Your changes will be lost, are your sure?
    confirm_deleting: 'æ˜¯å¦åˆ é™¤è®¡åˆ’?',
    section_description: 'æè¿°:',
    section_time: 'æ—¶é—´èŒƒå›´:',
    section_type: 'ç±»å‹:',
    section_text: 'è®¡åˆ’åç§°:',
    section_test: 'æµ‹è¯•:',
    section_projectClass: 'é¡¹ç›®ç±»å‹:',
    taskProjectType_0: 'é¡¹ç›®ä»»åŠ¡',
    taskProjectType_1: 'æ™®é€šä»»åŠ¡',
    section_head: 'è´Ÿè´£äºº:',
    section_priority: 'ä¼˜å…ˆçº§:',
    taskProgress: 'ä»»åŠ¡çŠ¶æ€',
    taskProgress_0: 'æœªå¼€å§‹',
    taskProgress_1: 'è¿›è¡Œä¸­',
    taskProgress_2: 'å·²å®Œæˆ',
    taskProgress_3: 'å·²å»¶æœŸ',
    taskProgress_4: 'æç½®ä¸­',
    section_template: 'Details',
    /* grid columns */
    column_text: 'è®¡åˆ’åç§°',
    column_start_date: 'å¼€å§‹æ—¶é—´',
    column_duration: 'æŒç»­æ—¶é—´',
    column_add: '',
    column_priority: 'éš¾åº¦',
    /* link confirmation */
    link: 'å…³è”',
    confirm_link_deleting: 'å°†è¢«åˆ é™¤',
    message_ok: 'ç¡®å®š',
    message_cancel: 'å–æ¶ˆ',
    link_start: ' (å¼€å§‹)',
    link_end: ' (ç»“æŸ)',

    type_task: 'ä»»åŠ¡',
    type_project: 'é¡¹ç›®',
    type_milestone: 'é‡Œç¨‹ç¢‘',
    minutes: 'åˆ†é’Ÿ',
    hours: 'å°æ—¶',
    days: 'å¤©',
    weeks: 'å‘¨',
    months: 'æœˆ',
    years: 'å¹´',
  }

  // æ ¼å¼åŒ–æ—¥æœŸ
  gantt.locale.date = {
    month_full: [
      '1æœˆ',
      '2æœˆ',
      '3æœˆ',
      '4æœˆ',
      '5æœˆ',
      '6æœˆ',
      '7æœˆ',
      '8æœˆ',
      '9æœˆ',
      '10æœˆ',
      '11æœˆ',
      '12æœˆ',
    ],
    month_short: [
      '1æœˆ',
      '2æœˆ',
      '3æœˆ',
      '4æœˆ',
      '5æœˆ',
      '6æœˆ',
      '7æœˆ',
      '8æœˆ',
      '9æœˆ',
      '10æœˆ',
      '11æœˆ',
      '12æœˆ',
    ],
    day_full: [
      'æ˜ŸæœŸæ—¥',
      'æ˜ŸæœŸä¸€',
      'æ˜ŸæœŸäºŒ',
      'æ˜ŸæœŸä¸‰',
      'æ˜ŸæœŸå››',
      'æ˜ŸæœŸäº”',
      'æ˜ŸæœŸå…­',
    ],
    day_short: [
      'æ˜ŸæœŸæ—¥',
      'æ˜ŸæœŸä¸€',
      'æ˜ŸæœŸäºŒ',
      'æ˜ŸæœŸä¸‰',
      'æ˜ŸæœŸå››',
      'æ˜ŸæœŸäº”',
      'æ˜ŸæœŸå…­',
    ],
  }

  // å½“taskçš„é•¿åº¦æ”¹å˜æ—¶ï¼Œè‡ªåŠ¨è°ƒæ•´å›¾è¡¨åæ ‡è½´åŒºé—´ç”¨äºé€‚é…taskçš„é•¿åº¦
  gantt.config.fit_tasks = true

  // å…è®¸æ‹–æ”¾
  gantt.config.drag_project = true

  // å®šä¹‰æ—¶é—´æ ¼å¼
  gantt.config.scales = [
    { unit: 'month', step: 1, date: '%F, %Y' },
    { unit: 'day', step: 1, date: '%j, %D' },
  ]
  // gantt.config.scale_height = 80
  // gantt.config.row_height = 60
  // gantt.config.bar_height = 40
  gantt.i18n.setLocale('cn')
  // gantt.config.autosize = true
  // gantt.config.readonly = true
  gantt.config.show_grid = true
  gantt.config.show_task_tooltips = true
  gantt.config.show_progress = true
  gantt.config.branches = {
    open: 'open',
    closed: 'closed',
  }

  gantt.templates.tooltip_text = (start, end, task) => `
        <div>
          <div>ä»»åŠ¡ï¼š${task.text}</div>
          <div>å¼€å§‹æ—¶é—´ï¼š${formatDate(task.start_date, '{y}-{m}-{d}')}</div>
          <div>ç»“æŸæ—¶é—´ï¼š${formatDate(task.end_date, '{y}-{m}-{d}')}</div>
          <div>è¿›åº¦ï¼š${task.progress * 100}%</div>
        </div>`

  gantt.config.columns = [
    {
      name: 'text',
      label: 'ä»»åŠ¡åç§°',
      width: '250',
      tree: true,
      align: 'left',
    },
    { name: 'start_date', label: 'èµ·å§‹æ—¶é—´', width: '100', align: 'center' },
    { name: 'duration', label: 'æŒç»­æ—¶é—´', width: '80', align: 'center' },
    {
      name: 'progress',
      label: 'è¿›åº¦',
      width: '100',
      align: 'center',
      template: function (obj) {
        return obj.progress * 100 + '%'
      },
    },
    { name: 'person', label: 'è´Ÿè´£äºº', width: '80', align: 'center' },
  ]
  gantt.config.lightbox_zindex = 10000

  // æ·»åŠ å¼¹çª—å±æ€§
  gantt.config.lightbox.sections = [
    {
      name: 'description',
      height: 70,
      map_to: 'text',
      type: 'textarea',
      focus: true,
    },
    { name: 'type', type: 'typeselect', map_to: 'type' },
    { name: 'time', type: 'duration', map_to: 'auto' },
  ]

  // åˆå§‹åŒ–
  gantt.init(ganttRef.value)

  // æ¸…ç©ºæ—§æ•°æ®
  gantt.clearAll()

  // æ•°æ®è§£æ
  gantt.parse(tasks.value)
}

onMounted(() => {
  fetchData()
  initGantt()
})
</script>

<style lang="scss" scoped>
.gantt_cal_light {
  z-index: 9999 !important;
}
.gantt_cal_cover {
  z-index: 10000 !important;
}
</style>


```

## å››ã€æ•ˆæœå›¾

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/6e201852424547099a92c7dc663a5d17.png)