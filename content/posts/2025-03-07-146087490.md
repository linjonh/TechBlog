---
layout: post
title: "React基础之React.memo"
date: 2025-03-07 09:55:58 +0800
description: "因为传入的props时引用类型，当父组件因为按钮发生变化的时候，会产生新的数组类型，所以说子组件中的props每次都会发生变化。React渲染的机制是：只要父组件重新渲染，子组件就会跟着重新渲染，如果子组件不需要进行重新更新，此时就会存在资源浪费。当传入的值为简单类型的时候，如果其发生变化，那么组件就会重新渲染，如果不发生变化，组件就不会重新渲染。此时，就算父组件发生变化，这里的数组不会发生变化，所以说不会引起子组件发生变化。因此这里传入的count会发生变化，所以说子组件会重新渲染。"
keywords: "React基础之React.memo"
categories: ['未分类']
tags: ['前端', 'React', 'Javascript']
artid: "146087490"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146087490
    alt: "React基础之React.memo"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146087490
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146087490
cover: https://bing.ee123.net/img/rand?artid=146087490
image: https://bing.ee123.net/img/rand?artid=146087490
img: https://bing.ee123.net/img/rand?artid=146087490
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     React基础之React.memo
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <div>
     <div style="margin-left:0in">
      <div style="margin-left:0in">
       <p style="margin-left:0; margin-right:0">
        允许组件在props没有改变的情况下跳过渲染
       </p>
       <p style="margin-left:0; margin-right:0">
        React渲染的机制是：只要父组件重新渲染，子组件就会跟着重新渲染，如果子组件不需要进行重新更新，此时就会存在资源浪费
       </p>
       <p style="margin-left:0; margin-right:0">
        const xxx=memo(
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
        )
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#c586c0">
         import
        </span>
        <span style="color:#686868">
         {
        </span>
        <span style="color:#45748d">
         memo
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#45748d">
         useMemo
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#45748d">
         useReducer
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#45748d">
         useState
        </span>
        <span style="color:#686868">
         }
        </span>
        <span style="color:#c586c0">
         from
        </span>
        <span style="color:#894d34">
         "react"
        </span>
        <span style="color:#686868">
         ;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#6a9955">
         //使用memo进行缓存
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         const
        </span>
        <span style="color:#117bb5">
         MemoSon
        </span>
        <span style="color:#686868">
         =
        </span>
        <span style="color:#8a8a67">
         memo
        </span>
        <span style="color:#686868">
         (
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         function
        </span>
        <span style="color:#8a8a67">
         Son
        </span>
        <span style="color:#686868">
         (){
         <!-- -->
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#45748d">
         console
        </span>
        <span style="color:#686868">
         .
        </span>
        <span style="color:#8a8a67">
         log
        </span>
        <span style="color:#686868">
         (
        </span>
        <span style="color:#894d34">
         '
        </span>
        <span style="color:#894d34">
         子组件要重新渲染啦
        </span>
        <span style="color:#894d34">
         '
        </span>
        <span style="color:#686868">
         );
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#c586c0">
         return
        </span>
        <span style="color:#8f8f8f">
         &lt;
        </span>
        <span style="color:#569cd6">
         div
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
        <span style="color:#686868">
         this is son
        </span>
        <span style="color:#8f8f8f">
         &lt;/
        </span>
        <span style="color:#569cd6">
         div
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#686868">
         }
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#686868">
         )
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         function
        </span>
        <span style="color:#8a8a67">
         reducer
        </span>
        <span style="color:#686868">
         (
        </span>
        <span style="color:#45748d">
         state
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#45748d">
         action
        </span>
        <span style="color:#686868">
         ){
         <!-- -->
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#c586c0">
         return
        </span>
        <span style="color:#45748d">
         state
        </span>
        <span style="color:#686868">
         +
        </span>
        <span style="color:#6d8063">
         1
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#686868">
         }
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         function
        </span>
        <span style="color:#8a8a67">
         App
        </span>
        <span style="color:#686868">
         () {
         <!-- -->
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         const
        </span>
        <span style="color:#686868">
         [
        </span>
        <span style="color:#117bb5">
         state
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#8a8a67">
         dispatch
        </span>
        <span style="color:#686868">
         ]=
        </span>
        <span style="color:#8a8a67">
         useReducer
        </span>
        <span style="color:#686868">
         (
        </span>
        <span style="color:#8a8a67">
         reducer
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#6d8063">
         0
        </span>
        <span style="color:#686868">
         )
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#c586c0">
         return
        </span>
        <span style="color:#686868">
         (
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#8f8f8f">
         &lt;
        </span>
        <span style="color:#569cd6">
         div
        </span>
        <span style="color:#45748d">
         className
        </span>
        <span style="color:#686868">
         =
        </span>
        <span style="color:#894d34">
         "App"
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#8f8f8f">
         &lt;
        </span>
        <span style="color:#569cd6">
         button
        </span>
        <span style="color:#45748d">
         onClick
        </span>
        <span style="color:#686868">
         =
        </span>
        <span style="color:#569cd6">
         {
         <!-- -->
        </span>
        <span style="color:#686868">
         ()
        </span>
        <span style="color:#569cd6">
         =&gt;
        </span>
        <span style="color:#686868">
         {
         <!-- -->
        </span>
        <span style="color:#8a8a67">
         dispatch
        </span>
        <span style="color:#686868">
         ()}
        </span>
        <span style="color:#569cd6">
         }
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
        <span style="color:#569cd6">
         {
         <!-- -->
        </span>
        <span style="color:#117bb5">
         state
        </span>
        <span style="color:#569cd6">
         }
        </span>
        <span style="color:#686868">
         ++
        </span>
        <span style="color:#8f8f8f">
         &lt;/
        </span>
        <span style="color:#569cd6">
         button
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#8f8f8f">
         &lt;
        </span>
        <span style="color:#48b8a1">
         MemoSon
        </span>
        <span style="color:#8f8f8f">
         /&gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#8f8f8f">
         &lt;/
        </span>
        <span style="color:#569cd6">
         div
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#686868">
         );
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#686868">
         }
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#c586c0">
         export default
        </span>
        <span style="color:#8a8a67">
         App
        </span>
        <span style="color:#686868">
         ;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
        此时，点击按钮改变父组件，子组件也不会发生改变
       </p>
       <p style="margin-left:0; margin-right:0">
        <img alt="" height="244" src="https://i-blog.csdnimg.cn/direct/88149ecbe98b4bb2a544896069b31eb3.png" width="828"/>
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
        -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
       </p>
       <p style="margin-left:0; margin-right:0">
        <strong>
         比较机制
        </strong>
       </p>
       <p style="margin-left:0; margin-right:0">
        机制：使用memoe缓存组件之后，React会对每一个prop使用Object.is比较新值与老值，返回为true，就是没有发生变化
       </p>
       <p style="margin-left:0; margin-right:0">
        当传入的值为简单类型的时候，如果其发生变化，那么组件就会重新渲染，如果不发生变化，组件就不会重新渲染
       </p>
       <p style="margin-left:0; margin-right:0">
        当简单类型的值发生变化时
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#c586c0">
         import
        </span>
        <span style="color:#686868">
         {
        </span>
        <span style="color:#45748d">
         memo
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#45748d">
         useMemo
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#45748d">
         useReducer
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#45748d">
         useState
        </span>
        <span style="color:#686868">
         }
        </span>
        <span style="color:#c586c0">
         from
        </span>
        <span style="color:#894d34">
         "react"
        </span>
        <span style="color:#686868">
         ;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#6a9955">
         //使用memo进行缓存
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         const
        </span>
        <span style="color:#117bb5">
         MemoSon
        </span>
        <span style="color:#686868">
         =
        </span>
        <span style="color:#8a8a67">
         memo
        </span>
        <span style="color:#686868">
         (
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         function
        </span>
        <span style="color:#8a8a67">
         Son
        </span>
        <span style="color:#686868">
         ({
         <!-- -->
        </span>
        <span style="color:#45748d">
         count
        </span>
        <span style="color:#686868">
         }){
         <!-- -->
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#45748d">
         console
        </span>
        <span style="color:#686868">
         .
        </span>
        <span style="color:#8a8a67">
         log
        </span>
        <span style="color:#686868">
         (
        </span>
        <span style="color:#894d34">
         '
        </span>
        <span style="color:#894d34">
         子组件要重新渲染啦
        </span>
        <span style="color:#894d34">
         '
        </span>
        <span style="color:#686868">
         );
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#c586c0">
         return
        </span>
        <span style="color:#8f8f8f">
         &lt;
        </span>
        <span style="color:#569cd6">
         div
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
        <span style="color:#686868">
         this is son
        </span>
        <span style="color:#569cd6">
         {
         <!-- -->
        </span>
        <span style="color:#45748d">
         count
        </span>
        <span style="color:#569cd6">
         }
        </span>
        <span style="color:#8f8f8f">
         &lt;/
        </span>
        <span style="color:#569cd6">
         div
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#686868">
         }
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#686868">
         )
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         function
        </span>
        <span style="color:#8a8a67">
         App
        </span>
        <span style="color:#686868">
         () {
         <!-- -->
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         const
        </span>
        <span style="color:#686868">
         [
        </span>
        <span style="color:#117bb5">
         count
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#8a8a67">
         setCount
        </span>
        <span style="color:#686868">
         ]=
        </span>
        <span style="color:#8a8a67">
         useState
        </span>
        <span style="color:#686868">
         (
        </span>
        <span style="color:#6d8063">
         0
        </span>
        <span style="color:#686868">
         )
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         const
        </span>
        <span style="color:#117bb5">
         num
        </span>
        <span style="color:#686868">
         =
        </span>
        <span style="color:#6d8063">
         100
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#c586c0">
         return
        </span>
        <span style="color:#686868">
         (
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#8f8f8f">
         &lt;
        </span>
        <span style="color:#569cd6">
         div
        </span>
        <span style="color:#45748d">
         className
        </span>
        <span style="color:#686868">
         =
        </span>
        <span style="color:#894d34">
         "App"
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#8f8f8f">
         &lt;
        </span>
        <span style="color:#569cd6">
         button
        </span>
        <span style="color:#45748d">
         onClick
        </span>
        <span style="color:#686868">
         =
        </span>
        <span style="color:#569cd6">
         {
         <!-- -->
        </span>
        <span style="color:#686868">
         ()
        </span>
        <span style="color:#569cd6">
         =&gt;
        </span>
        <span style="color:#686868">
         {
         <!-- -->
        </span>
        <span style="color:#8a8a67">
         setCount
        </span>
        <span style="color:#686868">
         (
        </span>
        <span style="color:#117bb5">
         count
        </span>
        <span style="color:#686868">
         +
        </span>
        <span style="color:#6d8063">
         1
        </span>
        <span style="color:#686868">
         )}
        </span>
        <span style="color:#569cd6">
         }
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
        <span style="color:#686868">
         count++
        </span>
        <span style="color:#8f8f8f">
         &lt;/
        </span>
        <span style="color:#569cd6">
         button
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#8f8f8f">
         &lt;
        </span>
        <span style="color:#48b8a1">
         MemoSon
        </span>
        <span style="color:#45748d">
         count
        </span>
        <span style="color:#686868">
         =
        </span>
        <span style="color:#569cd6">
         {
         <!-- -->
        </span>
        <span style="color:#45748d">
         count
        </span>
        <span style="color:#569cd6">
         }
        </span>
        <span style="color:#8f8f8f">
         /&gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#8f8f8f">
         &lt;/
        </span>
        <span style="color:#569cd6">
         div
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#686868">
         );
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#686868">
         }
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#c586c0">
         export default
        </span>
        <span style="color:#8a8a67">
         App
        </span>
        <span style="color:#686868">
         ;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
        因此这里传入的count会发生变化，所以说子组件会重新渲染
       </p>
       <p style="margin-left:0; margin-right:0">
        <img alt="" height="318" src="https://i-blog.csdnimg.cn/direct/626e98fde90b4964a577db760a90ab8d.png" width="877"/>
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
        如果我们传入的简单类型不会发生变化
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#c586c0">
         import
        </span>
        <span style="color:#686868">
         {
        </span>
        <span style="color:#45748d">
         memo
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#45748d">
         useMemo
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#45748d">
         useReducer
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#45748d">
         useState
        </span>
        <span style="color:#686868">
         }
        </span>
        <span style="color:#c586c0">
         from
        </span>
        <span style="color:#894d34">
         "react"
        </span>
        <span style="color:#686868">
         ;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#6a9955">
         //使用memo进行缓存
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         const
        </span>
        <span style="color:#117bb5">
         MemoSon
        </span>
        <span style="color:#686868">
         =
        </span>
        <span style="color:#8a8a67">
         memo
        </span>
        <span style="color:#686868">
         (
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         function
        </span>
        <span style="color:#8a8a67">
         Son
        </span>
        <span style="color:#686868">
         ({
         <!-- -->
        </span>
        <span style="color:#45748d">
         count
        </span>
        <span style="color:#686868">
         }){
         <!-- -->
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#45748d">
         console
        </span>
        <span style="color:#686868">
         .
        </span>
        <span style="color:#8a8a67">
         log
        </span>
        <span style="color:#686868">
         (
        </span>
        <span style="color:#894d34">
         '
        </span>
        <span style="color:#894d34">
         子组件要重新渲染啦
        </span>
        <span style="color:#894d34">
         '
        </span>
        <span style="color:#686868">
         );
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#c586c0">
         return
        </span>
        <span style="color:#8f8f8f">
         &lt;
        </span>
        <span style="color:#569cd6">
         div
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
        <span style="color:#686868">
         this is son
        </span>
        <span style="color:#569cd6">
         {
         <!-- -->
        </span>
        <span style="color:#45748d">
         count
        </span>
        <span style="color:#569cd6">
         }
        </span>
        <span style="color:#8f8f8f">
         &lt;/
        </span>
        <span style="color:#569cd6">
         div
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#686868">
         }
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#686868">
         )
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         function
        </span>
        <span style="color:#8a8a67">
         App
        </span>
        <span style="color:#686868">
         () {
         <!-- -->
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         const
        </span>
        <span style="color:#686868">
         [
        </span>
        <span style="color:#117bb5">
         count
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#8a8a67">
         setCount
        </span>
        <span style="color:#686868">
         ]=
        </span>
        <span style="color:#8a8a67">
         useState
        </span>
        <span style="color:#686868">
         (
        </span>
        <span style="color:#6d8063">
         0
        </span>
        <span style="color:#686868">
         )
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         const
        </span>
        <span style="color:#117bb5">
         num
        </span>
        <span style="color:#686868">
         =
        </span>
        <span style="color:#6d8063">
         100
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#c586c0">
         return
        </span>
        <span style="color:#686868">
         (
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#8f8f8f">
         &lt;
        </span>
        <span style="color:#569cd6">
         div
        </span>
        <span style="color:#45748d">
         className
        </span>
        <span style="color:#686868">
         =
        </span>
        <span style="color:#894d34">
         "App"
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#8f8f8f">
         &lt;
        </span>
        <span style="color:#569cd6">
         button
        </span>
        <span style="color:#45748d">
         onClick
        </span>
        <span style="color:#686868">
         =
        </span>
        <span style="color:#569cd6">
         {
         <!-- -->
        </span>
        <span style="color:#686868">
         ()
        </span>
        <span style="color:#569cd6">
         =&gt;
        </span>
        <span style="color:#686868">
         {
         <!-- -->
        </span>
        <span style="color:#8a8a67">
         setCount
        </span>
        <span style="color:#686868">
         (
        </span>
        <span style="color:#117bb5">
         count
        </span>
        <span style="color:#686868">
         +
        </span>
        <span style="color:#6d8063">
         1
        </span>
        <span style="color:#686868">
         )}
        </span>
        <span style="color:#569cd6">
         }
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
        <span style="color:#686868">
         count++
        </span>
        <span style="color:#8f8f8f">
         &lt;/
        </span>
        <span style="color:#569cd6">
         button
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#8f8f8f">
         &lt;
        </span>
        <span style="color:#48b8a1">
         MemoSon
        </span>
        <strong>
         <span style="color:#45748d">
          count
         </span>
        </strong>
        <strong>
         <span style="color:#686868">
          =
         </span>
        </strong>
        <strong>
         <span style="color:#569cd6">
          {
          <!-- -->
         </span>
        </strong>
        <strong>
         <span style="color:#45748d">
          num
         </span>
        </strong>
        <strong>
         <span style="color:#569cd6">
          }
         </span>
        </strong>
        <span style="color:#8f8f8f">
         /&gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#8f8f8f">
         &lt;/
        </span>
        <span style="color:#569cd6">
         div
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#686868">
         );
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#686868">
         }
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#c586c0">
         export default
        </span>
        <span style="color:#8a8a67">
         App
        </span>
        <span style="color:#686868">
         ;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
        组件就不会重新渲染
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
        当传递的是一个引用类型的props，此时比较的就是新值与旧值是否相等
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#c586c0">
         import
        </span>
        <span style="color:#686868">
         {
        </span>
        <span style="color:#45748d">
         memo
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#45748d">
         useMemo
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#45748d">
         useReducer
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#45748d">
         useState
        </span>
        <span style="color:#686868">
         }
        </span>
        <span style="color:#c586c0">
         from
        </span>
        <span style="color:#894d34">
         "react"
        </span>
        <span style="color:#686868">
         ;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#6a9955">
         //使用memo进行缓存
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         const
        </span>
        <span style="color:#117bb5">
         MemoSon
        </span>
        <span style="color:#686868">
         =
        </span>
        <span style="color:#8a8a67">
         memo
        </span>
        <span style="color:#686868">
         (
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         function
        </span>
        <span style="color:#8a8a67">
         Son
        </span>
        <span style="color:#686868">
         ({
         <!-- -->
        </span>
        <span style="color:#45748d">
         list
        </span>
        <span style="color:#686868">
         }){
         <!-- -->
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#45748d">
         console
        </span>
        <span style="color:#686868">
         .
        </span>
        <span style="color:#8a8a67">
         log
        </span>
        <span style="color:#686868">
         (
        </span>
        <span style="color:#894d34">
         '
        </span>
        <span style="color:#894d34">
         子组件要重新渲染啦
        </span>
        <span style="color:#894d34">
         '
        </span>
        <span style="color:#686868">
         );
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#c586c0">
         return
        </span>
        <span style="color:#8f8f8f">
         &lt;
        </span>
        <span style="color:#569cd6">
         div
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
        <span style="color:#686868">
         this is son
        </span>
        <span style="color:#569cd6">
         {
         <!-- -->
        </span>
        <span style="color:#45748d">
         list
        </span>
        <span style="color:#569cd6">
         }
        </span>
        <span style="color:#8f8f8f">
         &lt;/
        </span>
        <span style="color:#569cd6">
         div
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#686868">
         }
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#686868">
         )
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         function
        </span>
        <span style="color:#8a8a67">
         App
        </span>
        <span style="color:#686868">
         () {
         <!-- -->
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         const
        </span>
        <span style="color:#686868">
         [
        </span>
        <span style="color:#117bb5">
         count
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#8a8a67">
         setCount
        </span>
        <span style="color:#686868">
         ]=
        </span>
        <span style="color:#8a8a67">
         useState
        </span>
        <span style="color:#686868">
         (
        </span>
        <span style="color:#6d8063">
         0
        </span>
        <span style="color:#686868">
         )
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         const
        </span>
        <span style="color:#117bb5">
         list
        </span>
        <span style="color:#686868">
         =[
        </span>
        <span style="color:#6d8063">
         1
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#6d8063">
         2
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#6d8063">
         3
        </span>
        <span style="color:#686868">
         ]
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#c586c0">
         return
        </span>
        <span style="color:#686868">
         (
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#8f8f8f">
         &lt;
        </span>
        <span style="color:#569cd6">
         div
        </span>
        <span style="color:#45748d">
         className
        </span>
        <span style="color:#686868">
         =
        </span>
        <span style="color:#894d34">
         "App"
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#8f8f8f">
         &lt;
        </span>
        <span style="color:#569cd6">
         button
        </span>
        <span style="color:#45748d">
         onClick
        </span>
        <span style="color:#686868">
         =
        </span>
        <span style="color:#569cd6">
         {
         <!-- -->
        </span>
        <span style="color:#686868">
         ()
        </span>
        <span style="color:#569cd6">
         =&gt;
        </span>
        <span style="color:#686868">
         {
         <!-- -->
        </span>
        <span style="color:#8a8a67">
         setCount
        </span>
        <span style="color:#686868">
         (
        </span>
        <span style="color:#117bb5">
         count
        </span>
        <span style="color:#686868">
         +
        </span>
        <span style="color:#6d8063">
         1
        </span>
        <span style="color:#686868">
         )}
        </span>
        <span style="color:#569cd6">
         }
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
        <span style="color:#686868">
         count++
        </span>
        <span style="color:#8f8f8f">
         &lt;/
        </span>
        <span style="color:#569cd6">
         button
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#8f8f8f">
         &lt;
        </span>
        <span style="color:#48b8a1">
         MemoSon
        </span>
        <span style="color:#45748d">
         list
        </span>
        <span style="color:#686868">
         =
        </span>
        <span style="color:#569cd6">
         {
         <!-- -->
        </span>
        <span style="color:#117bb5">
         list
        </span>
        <span style="color:#569cd6">
         }
        </span>
        <span style="color:#8f8f8f">
         /&gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#8f8f8f">
         &lt;/
        </span>
        <span style="color:#569cd6">
         div
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#686868">
         );
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#686868">
         }
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#c586c0">
         export default
        </span>
        <span style="color:#8a8a67">
         App
        </span>
        <span style="color:#686868">
         ;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
        <img alt="" height="271" src="https://i-blog.csdnimg.cn/direct/d8eccac1a6884e139a6a439bbb1564ca.png" width="788"/>
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
        因为传入的props时引用类型，当父组件因为按钮发生变化的时候，会产生新的数组类型，所以说子组件中的props每次都会发生变化
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
        但是如果存储引用类型不发生改变，不需要引起子组件的重新渲染的话，我们可以使用useMeno来修饰变量
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#c586c0">
         import
        </span>
        <span style="color:#686868">
         {
        </span>
        <span style="color:#45748d">
         memo
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#45748d">
         useMemo
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#45748d">
         useReducer
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#45748d">
         useState
        </span>
        <span style="color:#686868">
         }
        </span>
        <span style="color:#c586c0">
         from
        </span>
        <span style="color:#894d34">
         "react"
        </span>
        <span style="color:#686868">
         ;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#6a9955">
         //使用memo进行缓存
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         const
        </span>
        <span style="color:#117bb5">
         MemoSon
        </span>
        <span style="color:#686868">
         =
        </span>
        <span style="color:#8a8a67">
         memo
        </span>
        <span style="color:#686868">
         (
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         function
        </span>
        <span style="color:#8a8a67">
         Son
        </span>
        <span style="color:#686868">
         ({
         <!-- -->
        </span>
        <span style="color:#45748d">
         list
        </span>
        <span style="color:#686868">
         }){
         <!-- -->
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#45748d">
         console
        </span>
        <span style="color:#686868">
         .
        </span>
        <span style="color:#8a8a67">
         log
        </span>
        <span style="color:#686868">
         (
        </span>
        <span style="color:#894d34">
         '
        </span>
        <span style="color:#894d34">
         子组件要重新渲染啦
        </span>
        <span style="color:#894d34">
         '
        </span>
        <span style="color:#686868">
         );
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#c586c0">
         return
        </span>
        <span style="color:#8f8f8f">
         &lt;
        </span>
        <span style="color:#569cd6">
         div
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
        <span style="color:#686868">
         this is son
        </span>
        <span style="color:#569cd6">
         {
         <!-- -->
        </span>
        <span style="color:#45748d">
         list
        </span>
        <span style="color:#569cd6">
         }
        </span>
        <span style="color:#8f8f8f">
         &lt;/
        </span>
        <span style="color:#569cd6">
         div
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#686868">
         }
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#686868">
         )
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         function
        </span>
        <span style="color:#8a8a67">
         App
        </span>
        <span style="color:#686868">
         () {
         <!-- -->
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#569cd6">
         const
        </span>
        <span style="color:#686868">
         [
        </span>
        <span style="color:#117bb5">
         count
        </span>
        <span style="color:#686868">
         ,
        </span>
        <span style="color:#8a8a67">
         setCount
        </span>
        <span style="color:#686868">
         ]=
        </span>
        <span style="color:#8a8a67">
         useState
        </span>
        <span style="color:#686868">
         (
        </span>
        <span style="color:#6d8063">
         0
        </span>
        <span style="color:#686868">
         )
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <strong>
         <span style="color:#569cd6">
          const
         </span>
        </strong>
        <strong>
         <span style="color:#117bb5">
          list
         </span>
        </strong>
        <strong>
         <span style="color:#686868">
          =
         </span>
        </strong>
        <strong>
         <span style="color:#8a8a67">
          useMemo
         </span>
        </strong>
        <strong>
         <span style="color:#686868">
          (()
         </span>
        </strong>
        <strong>
         <span style="color:#569cd6">
          =&gt;
         </span>
        </strong>
        <strong>
         <span style="color:#686868">
          {
          <!-- -->
         </span>
        </strong>
       </p>
       <p style="margin-left:0; margin-right:0">
        <strong>
         <span style="color:#c586c0">
          return
         </span>
        </strong>
        <strong>
         <span style="color:#686868">
          [
         </span>
        </strong>
        <strong>
         <span style="color:#6d8063">
          1
         </span>
        </strong>
        <strong>
         <span style="color:#686868">
          ,
         </span>
        </strong>
        <strong>
         <span style="color:#6d8063">
          2
         </span>
        </strong>
        <strong>
         <span style="color:#686868">
          ,
         </span>
        </strong>
        <strong>
         <span style="color:#6d8063">
          3
         </span>
        </strong>
        <strong>
         <span style="color:#686868">
          ]
         </span>
        </strong>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#686868">
         <strong>
          },[])
         </strong>
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#c586c0">
         return
        </span>
        <span style="color:#686868">
         (
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#8f8f8f">
         &lt;
        </span>
        <span style="color:#569cd6">
         div
        </span>
        <span style="color:#45748d">
         className
        </span>
        <span style="color:#686868">
         =
        </span>
        <span style="color:#894d34">
         "App"
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#8f8f8f">
         &lt;
        </span>
        <span style="color:#569cd6">
         button
        </span>
        <span style="color:#45748d">
         onClick
        </span>
        <span style="color:#686868">
         =
        </span>
        <span style="color:#569cd6">
         {
         <!-- -->
        </span>
        <span style="color:#686868">
         ()
        </span>
        <span style="color:#569cd6">
         =&gt;
        </span>
        <span style="color:#686868">
         {
         <!-- -->
        </span>
        <span style="color:#8a8a67">
         setCount
        </span>
        <span style="color:#686868">
         (
        </span>
        <span style="color:#117bb5">
         count
        </span>
        <span style="color:#686868">
         +
        </span>
        <span style="color:#6d8063">
         1
        </span>
        <span style="color:#686868">
         )}
        </span>
        <span style="color:#569cd6">
         }
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
        <span style="color:#686868">
         count++
        </span>
        <span style="color:#8f8f8f">
         &lt;/
        </span>
        <span style="color:#569cd6">
         button
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#8f8f8f">
         &lt;
        </span>
        <span style="color:#48b8a1">
         MemoSon
        </span>
        <span style="color:#45748d">
         list
        </span>
        <span style="color:#686868">
         =
        </span>
        <span style="color:#569cd6">
         {
         <!-- -->
        </span>
        <span style="color:#117bb5">
         list
        </span>
        <span style="color:#569cd6">
         }
        </span>
        <span style="color:#8f8f8f">
         /&gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#8f8f8f">
         &lt;/
        </span>
        <span style="color:#569cd6">
         div
        </span>
        <span style="color:#8f8f8f">
         &gt;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#686868">
         );
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#686868">
         }
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
        <span style="color:#c586c0">
         export default
        </span>
        <span style="color:#8a8a67">
         App
        </span>
        <span style="color:#686868">
         ;
        </span>
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
        此时，就算父组件发生变化，这里的数组不会发生变化，所以说不会引起子组件发生变化
       </p>
       <p style="margin-left:0; margin-right:0">
        <img alt="" height="201" src="https://i-blog.csdnimg.cn/direct/3e84c210e1f0489c9475318c683ecf02.png" width="912"/>
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
       <p style="margin-left:0; margin-right:0">
       </p>
      </div>
     </div>
    </div>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f37333033353539312f:61727469636c652f64657461696c732f313436303837343930" class_="artid" style="display:none">
 </p>
</div>


