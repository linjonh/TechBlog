---
layout: post
title: "23种设计模式之-建造者模式"
date: 2025-03-05 23:12:02 +0800
description: "📖建造者模式（Builder Pattern）是一种创建型设计模式，它用于分离对象的构建和表示，使得同样的构建过程可以创建不同的表示。建造者模式通过将复杂对象的构建过程抽象出来，使得构建过程的步骤可以灵活地被替换或修改。set;set;set;Walls\");Roofget;set;get;set;get;set;Walls } \");Roof } \");} }"
keywords: "23种设计模式之 【建造者模式】"
categories: ['架构设计模式']
tags: ['设计模式', '建造者模式', 'C']
artid: "146055466"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146055466
    alt: "23种设计模式之-建造者模式"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146055466
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146055466
cover: https://bing.ee123.net/img/rand?artid=146055466
image: https://bing.ee123.net/img/rand?artid=146055466
img: https://bing.ee123.net/img/rand?artid=146055466
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     23种设计模式之 【建造者模式】
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <p>
    </p>
    <hr/>
    <h2>
     <a id="_5">
     </a>
     一、概述
    </h2>
    <p>
     <strong>
      建造者模式
     </strong>
     （Builder Pattern）是一种创建型设计模式，它用于分离对象的构建和表示，使得同样的构建过程可以创建不同的表示。建造者模式通过将复杂对象的构建过程抽象出来，使得构建过程的步骤可以灵活地被替换或修改。
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/9b099495f0b24d4a944f45290a43ab1d.jpeg#pic_center"/>
    </p>
    <h2>
     <a id="_14">
     </a>
     二、关键点
    </h2>
    <ol>
     <li>
      <strong>
       产品（Product）
      </strong>
      ：要创建的复杂对象。
     </li>
     <li>
      <strong>
       构建者接口（Builder）
      </strong>
      ：定义创建产品各个部分的接口。
     </li>
     <li>
      <strong>
       具体构建者（Concrete Builder）
      </strong>
      ：实现
      <code>
       Builder
      </code>
      接口，构建和装配各个部分。
     </li>
     <li>
      <strong>
       指挥者（Director）
      </strong>
      ：负责按照特定的顺序或规则来调用构建者创建产品。
     </li>
     <li>
      <strong>
       客户端（Client）
      </strong>
      ：使用指挥者和构建者来创建产品对象。
     </li>
    </ol>
    <h2>
     <a id="_21">
     </a>
     三、示例
    </h2>
    <p>
     假设我们要建造一个房子，房子包含地基、墙和屋顶。我们可以使用建造者模式来实现这个需求。
    </p>
    <h3>
     <a id="31___24">
     </a>
     3.1 定义产品
    </h3>
    <pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">House</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Foundation <span class="token punctuation">{<!-- --></span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Walls <span class="token punctuation">{<!-- --></span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Roof <span class="token punctuation">{<!-- --></span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Foundation: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp">Foundation</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Walls: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp">Walls</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Roof: </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp">Roof</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="32__41">
     </a>
     3.2 定义构建者接口
    </h3>
    <pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IHouseBuilder</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">BuildFoundation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">BuildWalls</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">BuildRoof</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token return-type class-name">House</span> <span class="token function">GetResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="33__52">
     </a>
     3.3 实现具体构建者
    </h3>
    <pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteHouseBuilder</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IHouseBuilder</span></span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">House</span> house <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">House</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">BuildFoundation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        house<span class="token punctuation">.</span>Foundation <span class="token operator">=</span> <span class="token string">"Concrete Foundation"</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Building concrete foundation..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">BuildWalls</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        house<span class="token punctuation">.</span>Walls <span class="token operator">=</span> <span class="token string">"Brick Walls"</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Building brick walls..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">BuildRoof</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        house<span class="token punctuation">.</span>Roof <span class="token operator">=</span> <span class="token string">"Shingle Roof"</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Building shingle roof..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name">House</span> <span class="token function">GetResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> house<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="34__83">
     </a>
     3.4 创建指挥者
    </h3>
    <pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Director</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">IHouseBuilder</span> builder<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">Director</span><span class="token punctuation">(</span><span class="token class-name">IHouseBuilder</span> builder<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>builder <span class="token operator">=</span> builder<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        builder<span class="token punctuation">.</span><span class="token function">BuildFoundation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        builder<span class="token punctuation">.</span><span class="token function">BuildWalls</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        builder<span class="token punctuation">.</span><span class="token function">BuildRoof</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="35__103">
     </a>
     3.5 客户端代码
    </h3>
    <pre><code class="prism language-csharp"><span class="token keyword">class</span> <span class="token class-name">Program</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">IHouseBuilder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ConcreteHouseBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Director</span> director <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Director</span><span class="token punctuation">(</span>builder<span class="token punctuation">)</span><span class="token punctuation">;</span>

        director<span class="token punctuation">.</span><span class="token function">Construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">House</span> house <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">GetResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        house<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_119">
     </a>
     四、解释
    </h2>
    <ol>
     <li>
      <strong>
       产品（House）
      </strong>
      ：表示要创建的复杂对象，包含多个部件。
     </li>
     <li>
      <strong>
       构建者接口（IHouseBuilder）
      </strong>
      ：定义了创建产品各个部分的方法。
     </li>
     <li>
      <strong>
       具体构建者（ConcreteHouseBuilder）
      </strong>
      ：实现了
      <code>
       IHouseBuilder
      </code>
      接口，提供了具体的构建过程。
     </li>
     <li>
      <strong>
       指挥者（Director）
      </strong>
      ：负责调用具体构建者的方法来构建产品，按照特定的顺序调用。
     </li>
     <li>
      <strong>
       客户端代码
      </strong>
      ：创建具体构建者和指挥者，使用指挥者来构建产品，并获取最终的产品对象。
     </li>
    </ol>
    <h2>
     <a id="_125">
     </a>
     五、优点
    </h2>
    <ul>
     <li>
      <strong>
       更好的控制和灵活性
      </strong>
      ：可以逐步构建对象，并对构建过程有更精细的控制。
      <br/>
      易于扩展：可以创建新的具体构建者来构建不同的产品。
     </li>
     <li>
      <strong>
       封装复杂的创建逻辑
      </strong>
      ：将产品的创建过程和复杂的创建逻辑封装在具体构建者中，使客户端代码更加简洁。
     </li>
    </ul>
    <h2>
     <a id="_129">
     </a>
     六、缺点
    </h2>
    <ul>
     <li>
      <strong>
       更多的类和代码
      </strong>
      ：引入了更多的类和代码，使得系统变得更复杂。
     </li>
     <li>
      <strong>
       构建过程固定
      </strong>
      ：指挥者控制了构建过程的顺序，灵活性可能受到限制。
     </li>
    </ul>
    <h2>
     <a id="_132">
     </a>
     七、适用场景
    </h2>
    <ul>
     <li>
      <strong>
       对象的创建过程复杂
      </strong>
      ：需要通过多个步骤创建一个复杂对象。
     </li>
     <li>
      <strong>
       需要不同的表示
      </strong>
      ：需要通过相同的创建过程构建不同的表示或变体。
     </li>
     <li>
      <strong>
       需要逐步构建对象
      </strong>
      ：需要在构建对象的过程中逐步添加或修改部件。
     </li>
    </ul>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c:6f672e6373646e2e6e65742f6d73733335393638313039312f:61727469636c652f64657461696c732f313436303535343636" class_="artid" style="display:none">
 </p>
</div>


