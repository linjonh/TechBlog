---
layout: post
title: "HttpServletRequest和response的模拟单元测试"
date: 2025-01-06 15:42:11 +0800
description: "from：http://blueram.iteye.com/blog/1615700项目采用分层开发"
keywords: "java 形参带response如何单元测试"
categories: ['小工具集']
tags: ['无标签']
artid: "78627373"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=78627373
    alt: "HttpServletRequest和response的模拟单元测试"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=78627373
featuredImagePreview: https://bing.ee123.net/img/rand?artid=78627373
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     HttpServletRequest和response的模拟单元测试
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     from：http://blueram.iteye.com/blog/1615700
    </p>
    <p>
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px">
     <span style="font-size:10px">
      项目采用分层开发，服务端和客户端。服务端的开发需要测试，但是涉及到了servletrequest和servletresponse。这里提供两种方法。
     </span>
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px">
     <span style="font-size:10px">
      1、easymock
     </span>
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px">
     <span style="font-size:10px">
      2、springmock
     </span>
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px">
     <span style="font-size:10px">
      第一种方法
     </span>
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px">
     代码
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px">
    </p>
    <div class="dp-highlighter" id="" style='font-family:Monaco,"DejaVu Sans Mono","Bitstream Vera Sans Mono",Consolas,"Courier New",monospace; font-size:12px; width:679px; overflow:auto; margin-left:9px; padding:1px; word-break:break-all; word-wrap:break-word'>
     <div class="bar">
      <div class="tools" style="padding:3px; margin:0px; font-weight:bold">
       Java代码
       <a style="color:rgb(16,138,198)" target="_blank" title="收藏这段代码">
        <img alt="收藏代码" class="star" src="https://i-blog.csdnimg.cn/blog_migrate/9d529c7ea000060144ae6251333c19a7.png" style="border:0px"/>
       </a>
      </div>
     </div>
     <ol class="dp-j" start="1" style="font-size:1em; line-height:1.4em; margin:0px 0px 1px; padding:2px 0px; border:1px solid rgb(209,215,220); list-style-position:initial; color:rgb(43,145,175)">
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         package
        </span>
        com.zzrenfeng.util;
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         import
        </span>
        org.apache.commons.logging.*;
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         import
        </span>
        org.junit.*;
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         import
        </span>
        org.junit.runner.*;
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         import
        </span>
        org.springframework.mock.web.*;
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         import
        </span>
        org.springframework.test.context.*;
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         import
        </span>
        org.springframework.test.context.junit4.*;
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         import
        </span>
        org.springframework.test.context.support.*;
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         import
        </span>
        com.zzrenfeng.util.meetingapp.*;
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
         /**
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
         *
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
         * @ClassName: UserServiceTest
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
         * @Description: 单主键jdbcdao测试
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
         * @author renjunjie
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
         * @date 2010-12-10 下午03:20:08
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
         *
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
         */
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="annotation" style="color:rgb(100,100,100)">
         @RunWith
        </span>
        (SpringJUnit4ClassRunner.
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         class
        </span>
        )
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="annotation" style="color:rgb(100,100,100)">
         @TestExecutionListeners
        </span>
        ( { DependencyInjectionTestExecutionListener.
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         class
        </span>
        })
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="annotation" style="color:rgb(100,100,100)">
         @ContextConfiguration
        </span>
        (locations={
        <span class="string" style="color:blue">
         "classpath:resource/applicationContext-test.xml"
        </span>
        })
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         public
        </span>
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         class
        </span>
        HttpServletTest  {
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         private
        </span>
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         static
        </span>
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         final
        </span>
        Log log = LogFactory.getLog(HttpServletTest.
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         class
        </span>
        );
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         private
        </span>
        MockHttpServletRequest request;
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         private
        </span>
        MockHttpServletResponse response;
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="annotation" style="color:rgb(100,100,100)">
         @Before
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         public
        </span>
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         void
        </span>
        setUp(){
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        request =
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         new
        </span>
        MockHttpServletRequest();
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        request.setCharacterEncoding(
        <span class="string" style="color:blue">
         "UTF-8"
        </span>
        );
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        response =
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         new
        </span>
        MockHttpServletResponse();
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        }
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="annotation" style="color:rgb(100,100,100)">
         @Test
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         public
        </span>
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         void
        </span>
        test(){
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        SecurityApplication sa =
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         new
        </span>
        SecurityApplication();
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
         //request.setRequestURI("/loginCheck.html");
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        request.addParameter(
        <span class="string" style="color:blue">
         "userId"
        </span>
        ,
        <span class="string" style="color:blue">
         "9001"
        </span>
        );
        <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
         //直接添加request参数，相当简单
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        String result = sa.getPerson(request);
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        System.out.println(result);
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        }
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        }
       </span>
      </li>
     </ol>
    </div>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px">
     <span style="font-size:10px">
      第二种方法
     </span>
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px">
    </p>
    <div class="dp-highlighter" id="" style='font-family:Monaco,"DejaVu Sans Mono","Bitstream Vera Sans Mono",Consolas,"Courier New",monospace; font-size:12px; width:679px; overflow:auto; margin-left:9px; padding:1px; word-break:break-all; word-wrap:break-word'>
     <div class="bar">
      <div class="tools" style="padding:3px; margin:0px; font-weight:bold">
       Java代码
       <a style="color:rgb(16,138,198)" target="_blank" title="收藏这段代码">
        <img alt="收藏代码" class="star" src="https://i-blog.csdnimg.cn/blog_migrate/9d529c7ea000060144ae6251333c19a7.png" style="border:0px"/>
       </a>
      </div>
     </div>
     <ol class="dp-j" start="1" style="font-size:1em; line-height:1.4em; margin:0px 0px 1px; padding:2px 0px; border:1px solid rgb(209,215,220); list-style-position:initial; color:rgb(43,145,175)">
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         package
        </span>
        com.zzrenfeng.util;
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         import
        </span>
        javax.servlet.http.*;
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         import
        </span>
        org.apache.commons.logging.*;
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         import
        </span>
        org.easymock.*;
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         import
        </span>
        org.junit.*;
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         import
        </span>
        org.junit.runner.*;
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         import
        </span>
        org.springframework.test.context.*;
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         import
        </span>
        org.springframework.test.context.junit4.*;
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         import
        </span>
        org.springframework.test.context.support.*;
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         import
        </span>
        com.zzrenfeng.util.meetingapp.*;
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
         /**
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
         *
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
         * @ClassName: UserServiceTest
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
         * @Description: 单主键jdbcdao测试
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
         * @author renjunjie
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
         * @date 2010-12-10 下午03:20:08
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
         *
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
         */
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="annotation" style="color:rgb(100,100,100)">
         @RunWith
        </span>
        (SpringJUnit4ClassRunner.
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         class
        </span>
        )
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="annotation" style="color:rgb(100,100,100)">
         @TestExecutionListeners
        </span>
        ( { DependencyInjectionTestExecutionListener.
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         class
        </span>
        })
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
         //@ContextConfiguration(locations={ "file:WebContent/WEB-INF/red5-web.xml"})
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="annotation" style="color:rgb(100,100,100)">
         @ContextConfiguration
        </span>
        (locations={
        <span class="string" style="color:blue">
         "classpath:resource/applicationContext-test.xml"
        </span>
        })
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         public
        </span>
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         class
        </span>
        HttpServletTest2  {
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         private
        </span>
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         static
        </span>
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         final
        </span>
        Log log = LogFactory.getLog(HttpServletTest2.
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         class
        </span>
        );
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         private
        </span>
        HttpServletRequest request;
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         private
        </span>
        HttpServletResponse response;
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="annotation" style="color:rgb(100,100,100)">
         @Before
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         public
        </span>
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         void
        </span>
        setUp(){
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
         //创建request和response的Mock
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        request = (HttpServletRequest)EasyMock.createMock(HttpServletRequest.
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         class
        </span>
        );
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        response = (HttpServletResponse) EasyMock.createMock(HttpServletResponse.
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         class
        </span>
        );
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        }
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="annotation" style="color:rgb(100,100,100)">
         @Test
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         public
        </span>
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         void
        </span>
        test(){
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        SecurityApplication sa =
        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
         new
        </span>
        SecurityApplication();
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        EasyMock.expect(request.getParameter(
        <span class="string" style="color:blue">
         "opens"
        </span>
        )).andReturn(
        <span class="string" style="color:blue">
         "123"
        </span>
        ).once();
        <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
         //期望使用参数
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        EasyMock.expect(request.getParameter(
        <span class="string" style="color:blue">
         "userId"
        </span>
        )).andReturn(
        <span class="string" style="color:blue">
         "9001"
        </span>
        ).times(
        <span class="number" style="color:rgb(192,0,0)">
         2
        </span>
        );
        <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
         //期望调用的次数
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        EasyMock.replay(request);
        <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
         //保存期望结果
        </span>
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        String result = sa.getPersonMeetings3G(request);
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        System.out.println(result);
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        }
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
       </span>
      </li>
      <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left:1px solid rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px">
       <span style="color:black">
        }
       </span>
      </li>
     </ol>
    </div>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px">
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      EasyMock主要是为测试提供模拟数据,比如你可以模拟HttpServletRequest。
     </span>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
     </span>
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px">
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      EasyMock 可以mock interface和抽象java 类，但是不可以mock拥有被final修饰方法的类，不能mock静态方法（我遇到的情况是这样）。
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      在使用的时候请注意：
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      org.easymock.classextension.EasyMock 被用来mock抽象类（abstract）和具体类
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      org.easymock.EasyMock被用来mock接口（interface）
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      使用用EasyMock的一般步骤：
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      1.创建一个mock对象
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      HttpServletRequest request = EasyMock.createMock(HttpServletRequest.class);
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      2.设置此对象的某个方法的返回值
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      EasyMock.expect(request.getParameter("userName")).andReturn("trilogy").once();
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      注意：必须手工设置被mock的方法的访问次数
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      once（）
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      antyTimes()
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      times(int)
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      建议：在设置方法调用次数的时候,虽然你可以调用anyTimes()，但是最好明确你要调用多少次如：once（）、
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      times(2)，这样做的话显的比较严谨。
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      如果mock的方法没有返回值，可以这么做：
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      request.setAttribute("userId");
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      EasyMock.expectLastCall().once();
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      对于被mock的方法参数，也可以不必指定具体的值：
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      EasyMock.expect(request.getParameter((String)EasyMock.anyObject())).andReturn("trilogy").once();
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      如果你想让被mock的方法返回一个异常，前提是被mock的方法会抛出异常，你可以这么做：
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      EasyMock.expect(input.read()).andThrow(new IOException("Mocked IOException")).once();
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      你还可以根据调用顺序来mock同一个方法：
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      EasyMock.expect(request.getParameter("userName")).andReturn("trilogy").once();
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      EasyMock.expect(request.getParameter("userName")).andReturn(null).once();
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      当第一次执行request.getParameter("userName")的时候，返回“trilogy”
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      当第二次执行request.getParameter("userName")的时候，返回null
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      3.保存被mock的对象
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      EasyMock.replay(a);
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      4.在被mock的对象被应用之后，最好验证一下我们所设置的mock对象是不是按我们预期运行。
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      EasyMock.verify(a);
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      总结：
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      EasyMock是一个相当方便的mock工具，可以为我们的测试工作提供极大的便利，特别是在测试web层或者数据库访问的时候。
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      在这里我只是抛砖引玉地介绍了一下EasyMock的使用，其实EasyMock还有很多其它更高级的使用，如过你愿意的话可以访问以下的网址来获得更多信息：
     </span>
     <br style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'/>
     <span style='font-family:"WenQuanYi Micro Hei Mono","WenQuanYi Micro Hei","Microsoft Yahei Mono","Microsoft Yahei",sans-serif; font-size:14px; line-height:25.1889px'>
      官网：www.easymock.org
     </span>
    </p>
    <br/>
   </div>
  </div>
 </article>
 <p alt="6874747073:3a2f2f626c6f672e6373646e2e6e65742f616c62675f626f79:2f61727469636c652f64657461696c732f3738363237333733" class_="artid" style="display:none">
 </p>
</div>


