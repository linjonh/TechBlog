---
layout: post
title: "Qt-信号与槽-"
date: 2025-03-15 20:56:46 +0800
description: "​​。"
keywords: "Qt 信号与槽 "
categories: ['Qt']
tags: ['开发语言', 'Qt', 'C']
artid: "146285231"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146285231
    alt: "Qt-信号与槽-"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146285231
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146285231
cover: https://bing.ee123.net/img/rand?artid=146285231
image: https://bing.ee123.net/img/rand?artid=146285231
img: https://bing.ee123.net/img/rand?artid=146285231
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Qt 信号与槽
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <hr id="hr-toc" name="tableOfContents"/>
    <p>
    </p>
    <h2 id="20250311201613-b8pmine" name="20250311201613-b8pmine">
     <strong>
      Qt信号和槽
     </strong>
    </h2>
    <p id="20250311201613-8ha2lhv">
     谈到信号，设计3个要素
    </p>
    <p id="20250311201613-jp88460">
     <strong>
      信号源
     </strong>
     ：谁发出了信号
    </p>
    <p id="20250311201613-p361pl8">
     <strong>
      信号触发条件
     </strong>
     ：哪个控件的哪个函数被调用了，用户进行了不同的操作，会触发不同的操作
    </p>
    <p id="20250311201613-kg1mszy">
     <strong>
      信号处理方式
     </strong>
     ：需要哪个控件的哪个函数进行处理
    </p>
    <p id="20250311201613-n4iolkp">
    </p>
    <p id="20250311201613-wpbfy2w">
     <strong>
      <span style="color:#38d8f0">
       信号处理方式也可以被称为：槽（slot） 即处理函数 也可称为槽函数
      </span>
     </strong>
    </p>
    <p id="20250311201613-kvuvabb">
     <strong>
      <span style="color:#38d8f0">
       Qt可以利用connet 将信号和槽关联起来
      </span>
     </strong>
    </p>
    <p>
    </p>
    <h2 id="20250311201613-g6pg9sx" name="20250311201613-g6pg9sx">
     <strong>
      connect函数
     </strong>
    </h2>
    <p id="20250311201613-vh7orm6">
     <strong>
      是QObject提供的静态成员函数
     </strong>
    </p>
    <p id="20250311201613-6nic58s">
     <strong>
      QObject是所有控件的祖宗
     </strong>
    </p>
    <p id="20250311201613-t0uq5ja">
     <img alt="" height="239" src="https://i-blog.csdnimg.cn/direct/29771d57c08443b39eed2f6fbe070088.png" width="450">
      ​
     </img>
    </p>
    <p id="20250311201613-t0uq5ja">
     ​
    </p>
    <h3 id="20250311201613-fk7w2re" name="20250311201613-fk7w2re">
     <strong>
      connect使用方法
     </strong>
    </h3>
    <p id="20250311201613-fv04m5u">
     <img alt="" height="246" src="https://i-blog.csdnimg.cn/direct/00df0074f3a941149f35128678e2b6e9.png" width="1108">
      ​
     </img>
    </p>
    <p id="20250311201613-48dn76s">
     <strong>
      对Button进行点击，Widget就会关闭
     </strong>
    </p>
    <p id="20250311201613-dj6qdij">
     <img alt="" height="273" src="https://i-blog.csdnimg.cn/direct/ceb1f8e7d72c4fea8fadc6fa33a5bfb1.png" width="572">
      ​
     </img>
    </p>
    <p id="20250311201613-dj6qdij">
     ​
    </p>
    <p id="20250311201613-9brzudl">
     <span style="color:#38d8f0">
      <strong>
       信号函数和槽函数的图标区别
      </strong>
     </span>
    </p>
    <p id="20250311201613-62w15b3">
     <img alt="" height="166" src="https://i-blog.csdnimg.cn/direct/6d9183ac1abc44568f1c5d35822b6cdb.png" width="1037">
      ​
     </img>
    </p>
    <p id="20250311201613-62w15b3">
     ​
    </p>
    <p id="20250311201613-185fw05">
     <span style="color:#38d8f0">
      <strong>
       传入的是函数指针，为什么const char*能接受？
      </strong>
     </span>
    </p>
    <p id="20250311201613-9qv0ug9">
     <strong>
      const char*是之前的写法，现在使用了宏替代
     </strong>
    </p>
    <p id="20250311201613-uiyeqcy">
     ​
     <img alt="" height="97" src="https://i-blog.csdnimg.cn/direct/97e891ec55164ab7bf3008382798de98.png" width="1636"/>
    </p>
    <p id="20250311201613-8h3gghw">
     <strong>
      Qt5 开始，对connect使用了泛型编程，不需要进行转换，所以就有了现在的写法。
     </strong>
    </p>
    <p id="20250311201613-djqpw1b">
    </p>
    <h2 id="20250311201613-rb8tjcx" name="20250311201613-rb8tjcx">
     <strong>
      自定义信号 与 自定义槽
     </strong>
    </h2>
    <p id="20250311201613-41ki2s1">
     <img alt="" height="289" src="https://i-blog.csdnimg.cn/direct/bcb65af3b4ac48a18ac73d4288f1e8e3.png" width="235">
      ​
     </img>
    </p>
    <p id="20250311201613-41ki2s1">
     ​
    </p>
    <h3 id="20250311201613-d8prk21" name="20250311201613-d8prk21">
     <strong>
      Qt界面化工具自动生成的槽
     </strong>
    </h3>
    <p id="20250311201613-icozuwq">
     <img alt="" height="168" src="https://i-blog.csdnimg.cn/direct/9502d7af7f9343359ffe40eddf05ed55.png" width="551">
      ​
     </img>
    </p>
    <p id="20250311201613-icozuwq">
     ​
    </p>
    <p id="20250311201613-v3fspy9">
     <span style="color:#38d8f0">
      <strong>
       在连接信号和槽时不是需要connect？
      </strong>
     </span>
    </p>
    <p id="20250311201613-dx6jekp">
     除了connect，Qt还可以使用函数名来自动连接
    </p>
    <p id="20250311201613-zcts9ik">
     ​
     <img alt="" height="68" src="https://i-blog.csdnimg.cn/direct/729c93e444f145dd87274b432066ac78.png" width="698">
      ​
     </img>
    </p>
    <p id="20250311201613-3w0qr5u">
     pushButton 发送信号对象 （ui中的对象名）
    </p>
    <p id="20250311201613-8fw2m4x">
     ​
     <img alt="" height="81" src="https://i-blog.csdnimg.cn/direct/815a773e8631416e90d8be0735b408fb.png" width="333"/>
     ​
    </p>
    <p id="20250311201613-h2if419">
     <strong>
      clicked 信号
     </strong>
    </p>
    <p id="20250311201613-wrlg2a2">
     <strong>
      头文件中自动生成了这个函数
     </strong>
    </p>
    <p id="20250311201613-3ah6voc">
     <img alt="" height="70" src="https://i-blog.csdnimg.cn/direct/9862d444586c4f489fcbdcc8f0171fcc.png" width="793"/>
     ​
    </p>
    <p id="20250311201613-cbgok72">
     <strong>
      tips：
     </strong>
    </p>
    <p id="20250311201613-h22pojt">
     如果我们是通过图形化界面创建控件，可以直接使用快速生成槽的方式
    </p>
    <p id="20250311201613-aijskz7">
     但是我们通过代码来创建时，需要手动去connect，因为就算将函数名写对，在头文件中没有这个connectSlotByName函数的声明；
    </p>
    <p id="20250311201613-v65ra2l">
    </p>
    <h3 id="20250311201613-883daf4" name="20250311201613-883daf4">
     <strong>
      自定义信号
     </strong>
    </h3>
    <p id="20250311201613-x2bj783">
     在实际开发中很少使用到自定义信号
    </p>
    <p id="20250311201827-drnz8jr">
     1.信号在Qt中是一个特殊的函数，我们需要对这个自定义信号进行声明，并且告诉编译器这是个信号函数
    </p>
    <p id="20250311201920-tm5g4tq">
     <strong>
      2.信号的返回值必须是void
     </strong>
    </p>
    <p id="20250311202220-t8xvwr9">
     <img alt="" height="72" src="https://i-blog.csdnimg.cn/direct/47323c2df38b45f5a18e8e853ebe04d6.png" width="324"/>
     ​
    </p>
    <p id="20250311202245-o31tlrl">
     扫描到类中的signals关键字时，会自动将以下函数声明认为是信号，并且给这些信号函数自动生成函数定义
    </p>
    <p id="20250311202326-vb205kd">
     <img alt="" height="273" src="https://i-blog.csdnimg.cn/direct/9bfc0d4be5a542d7a5824d1d78542773.png" width="450"/>
    </p>
    <p id="20250311203213-5mnac2u">
     Qt也提供了
     <strong>
      emit
     </strong>
     关键字 但是其实emit啥也没做😂
     <strong>
      建议还是加上 代码的可读性会更高
     </strong>
    </p>
    <p>
    </p>
    <h3 id="20250311203944-i5czeib" name="20250311203944-i5czeib">
     带参数的信号和槽
    </h3>
    <p id="20250311203955-72iy7ir">
     信号和槽，也可以自带参数
    </p>
    <p id="20250311204151-1lgozbg">
     但是信号和槽的必须传入相同的参数，主要是类型一致，但是数量不一致时，信号中的参数数量也必须必槽参数数量多
    </p>
    <p id="20250311204447-rxgvujc">
     ​
     <img alt="" height="300" src="https://i-blog.csdnimg.cn/direct/48e37c730cb3429caaf49c68e7215229.png" width="447"/>
    </p>
    <p id="20250311204950-w2q6pjf">
     <span style="color:#38d8f0">
      <strong>
       Qt中很多内置信号也自带参数
      </strong>
     </span>
    </p>
    <p id="20250311205023-qx6g2v8">
     <img alt="" height="74" src="https://i-blog.csdnimg.cn/direct/802a7ff9014643d1bc712ce202088ac1.png" width="494"/>
     ​
    </p>
    <p id="20250311205023-qx6g2v8">
     ​
    </p>
    <p id="20250311210723-rz3k4n7">
     为什么这么设计 ：
     <span style="color:#4da8ee">
      <strong>
       信号中的参数数量也必须必槽参数数量多
      </strong>
     </span>
    </p>
    <p id="20250311210725-06f3q15">
     一个槽函数，有可能会绑了多个信号
    </p>
    <p id="20250311210814-nfbflfb">
     如果只是完全的一对一，那么意味着信号绑定个槽的要求会更高
    </p>
    <p id="20250311210842-tfaltt0">
     <strong>
      如果这么设计，就允许信号和槽的绑定更灵活。
     </strong>
    </p>
    <p id="20250311211152-4f419zl">
    </p>
    <p id="20250311211713-18y8vty">
     <strong>
      Qt中要让某个类能够使用信号和槽，需要给类中添加Q_OBJECT宏
     </strong>
    </p>
    <p id="20250311211800-tvrzzm6">
     ​
     <img alt="" height="177" src="https://i-blog.csdnimg.cn/direct/1df0685147164d62b80ef14c2d7c8ad5.png" width="451"/>
    </p>
    <p id="20250311211800-tvrzzm6">
     ​
    </p>
    <h2 id="20250311214457-km9w1nx" name="20250311214457-km9w1nx">
     信号与槽的断开
    </h2>
    <p id="20250311214534-8ia83ja">
     <strong>
      1.使用disconnect来断开连接
     </strong>
    </p>
    <p id="20250311214546-dv5zchj">
     与connect用法上非常类似
    </p>
    <p id="20250311214555-hyqvu8q">
    </p>
    <p id="20250311214520-44ol0wi">
     <strong>
      使用Lambda表达式定义槽函数
     </strong>
    </p>
    <p id="20250312165842-f91gl8j">
     <img alt="" height="216" src="https://i-blog.csdnimg.cn/direct/ee8490e07a024f229be5873bd79ca8ed.png" width="483"/>
     ​
    </p>
    <p id="20250312165842-f91gl8j">
     ​
    </p>
    <p id="20250315205053-duqfo41">
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a:2f2f626c6f672e6373646e2e6e65742f626f7373666163652f:61727469636c652f64657461696c732f313436323835323331" class_="artid" style="display:none">
 </p>
</div>


