---
layout: post
title: "抽奖系统测试报告"
date: 2025-03-10 00:00:00 +0800
description: "先打开浏览器开发者工具,查找相应链接 ,复制接口去 postman查看。postman测试接口也返回null,说明是后端代码问题。短信验证码登录: 输入手机号,等待验证码,输入验证码登录。创建奖品需添加奖品名称,奖品描述,奖品图片,奖品价格即可。人员管理模块分为注册参加抽奖人员和显示人员列表。创建活动需圈选奖品数量,人员数量,数量需一直。postman也返回null,说明是后端问题。手机号密码登录: 正确输入密码和手机号登录。在成功创建活动后,活动列表显示出现错误。分为奖品列表和创建奖品功能。"
keywords: "抽奖系统测试报告"
categories: ['软件测试']
tags: ['Selenium']
artid: "146112524"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146112524
    alt: "抽奖系统测试报告"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146112524
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146112524
cover: https://bing.ee123.net/img/rand?artid=146112524
image: https://bing.ee123.net/img/rand?artid=146112524
img: https://bing.ee123.net/img/rand?artid=146112524
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     抽奖系统测试报告
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <hr id="hr-toc" name="tableOfContents"/>
    <p>
    </p>
    <h2 id="%E9%A1%B9%E7%9B%AE%E9%93%BE%E6%8E%A5%3A%C2%A0%C2%A0%E7%AE%A1%E7%90%86%E5%91%98%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2" name="%E9%A1%B9%E7%9B%AE%E9%93%BE%E6%8E%A5%3A%C2%A0%C2%A0%E7%AE%A1%E7%90%86%E5%91%98%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2">
     项目链接:
     <a href="http://82.157.143.27:8083/blogin.html" rel="nofollow" title="管理员登录页面">
      管理员登录页面
     </a>
    </h2>
    <h2 id="%E9%A1%B9%E7%9B%AE%E5%8A%9F%E8%83%BD%3A" name="%E9%A1%B9%E7%9B%AE%E5%8A%9F%E8%83%BD%3A">
     项目功能:
    </h2>
    <h3 id="%E7%AE%A1%E7%90%86%E5%91%98%E7%99%BB%E5%BD%95%3A%C2%A0%C2%A0" name="%E7%AE%A1%E7%90%86%E5%91%98%E7%99%BB%E5%BD%95%3A%C2%A0%C2%A0">
     管理员登录:
    </h3>
    <p>
     登录方式分为两种:
    </p>
    <p>
     手机号密码登录: 正确输入密码和手机号登录
    </p>
    <p>
     短信验证码登录: 输入手机号,等待验证码,输入验证码登录
    </p>
    <h3 id="%E7%AE%A1%E7%90%86%E5%91%98%E6%B3%A8%E5%86%8C%3A" name="%E7%AE%A1%E7%90%86%E5%91%98%E6%B3%A8%E5%86%8C%3A">
     管理员注册:
    </h3>
    <p>
     登录页面点击注册按钮即可注册管理员身份
    </p>
    <h3 id="%E4%BA%BA%E5%91%98%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97%3A" name="%E4%BA%BA%E5%91%98%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97%3A">
     人员管理模块:
    </h3>
    <p>
     人员管理模块分为注册参加抽奖人员和显示人员列表
    </p>
    <p>
     注册抽奖人员才可参加抽奖活动
    </p>
    <h3 id="%E5%A5%96%E5%93%81%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97%3A" name="%E5%A5%96%E5%93%81%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97%3A">
     奖品管理模块:
    </h3>
    <p>
     分为奖品列表和创建奖品功能
    </p>
    <p>
     创建奖品需添加奖品名称,奖品描述,奖品图片,奖品价格即可
    </p>
    <h3 id="%E6%B4%BB%E5%8A%A8%E6%A8%A1%E5%9D%97%3A" name="%E6%B4%BB%E5%8A%A8%E6%A8%A1%E5%9D%97%3A">
     活动模块:
    </h3>
    <p>
     分为展示当前活动和创建活动
    </p>
    <p>
     创建活动需圈选奖品数量,人员数量,数量需一直
    </p>
    <h2 id="%E9%A1%B9%E7%9B%AE%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%3A" name="%E9%A1%B9%E7%9B%AE%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%3A">
     项目测试用例:
    </h2>
    <h3 id="%E7%99%BB%E5%BD%95%3A" name="%E7%99%BB%E5%BD%95%3A">
     登录:
    </h3>
    <p>
     <img alt="" height="785" src="https://i-blog.csdnimg.cn/direct/65e01465ac0f4e1ba42bd8329f23ad88.png" width="975"/>
    </p>
    <h3 id="%E6%B3%A8%E5%86%8C%3A" name="%E6%B3%A8%E5%86%8C%3A">
     注册:
    </h3>
    <p>
     <img alt="" height="466" src="https://i-blog.csdnimg.cn/direct/2601261604eb4f2dbcb74bab8165d11d.png" width="699"/>
    </p>
    <p>
    </p>
    <h3 id="%E4%BA%BA%E5%91%98%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97%3A" name="%E4%BA%BA%E5%91%98%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97%3A">
     人员管理模块:
    </h3>
    <p>
     <img alt="" height="367" src="https://i-blog.csdnimg.cn/direct/e1befd9af8984695ae8f28bd81e60541.png" width="907"/>
    </p>
    <h3 id="%E5%A5%96%E5%93%81%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97%3A" name="%E5%A5%96%E5%93%81%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97%3A">
     奖品管理模块:
    </h3>
    <h2 id="%E2%80%8B%E7%BC%96%E8%BE%91" name="%E2%80%8B%E7%BC%96%E8%BE%91">
     <img alt="" height="299" src="https://i-blog.csdnimg.cn/direct/1e7ae14cd2ac42d79ddadc87c4f74278.png" width="700"/>
    </h2>
    <h3 id="%E6%B4%BB%E5%8A%A8%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97%3A%C2%A0" name="%E6%B4%BB%E5%8A%A8%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97%3A%C2%A0">
     活动管理模块:
    </h3>
    <p>
     <img alt="" height="249" src="https://i-blog.csdnimg.cn/direct/ca29d6dc32f54c969a16d4a55b91be1f.png" width="827"/>
    </p>
    <p>
    </p>
    <p>
    </p>
    <h2 id="Bug%E5%8F%91%E7%8E%B0%3A%C2%A0" name="Bug%E5%8F%91%E7%8E%B0%3A%C2%A0">
     Bug发现:
    </h2>
    <h3 id="Bug1%EF%BC%9A" name="Bug1%EF%BC%9A">
     Bug1：
    </h3>
    <p>
     在成功创建活动后,活动列表显示出现错误
    </p>
    <p>
     <img alt="" height="581" src="https://i-blog.csdnimg.cn/direct/5c43dadd628747b7a553235d0fe71f14.png" width="1833"/>
    </p>
    <p>
     先打开浏览器开发者工具,查找相应链接 ,复制接口去 postman查看
    </p>
    <p>
     <img alt="" height="495" src="https://i-blog.csdnimg.cn/direct/f729b6b6586b4b27842909112956fc12.png" width="1782"/>
    </p>
    <p>
     postman测试接口也返回null,说明是后端代码问题
    </p>
    <p>
     <img alt="" height="854" src="https://i-blog.csdnimg.cn/direct/363d0d3cf0bf437f98cce5fbc15e5115.png" width="900"/>
    </p>
    <p>
     postman也返回null,说明是后端问题
    </p>
    <p>
     找出问题所在具体代码块:
    </p>
    <p>
     <img alt="" height="460" src="https://i-blog.csdnimg.cn/direct/324bcbf80a9b4994844a95e513a158f2.png" width="864"/>
    </p>
    <p>
     <strong>
      修改代码: activityDTO  ---&gt; ActivityDo
     </strong>
    </p>
    <p>
     <strong>
      修改后效果：
     </strong>
    </p>
    <p>
     <img alt="" height="289" src="https://i-blog.csdnimg.cn/direct/00799a0c602e42bd9f0532cab70380fe.png" width="1402"/>
    </p>
    <h3 id="Bug2%EF%BC%9A" name="Bug2%EF%BC%9A">
     <strong>
      Bug2：
     </strong>
    </h3>
    <p>
     <img alt="" height="645" src="https://i-blog.csdnimg.cn/direct/5aba6f3672a44722b9c92da565028050.png" width="779"/>
    </p>
    <p>
     <img alt="" height="395" src="https://i-blog.csdnimg.cn/direct/4427f8c274f74e19889e0b64ade95ec7.png" width="622"/>
    </p>
    <p>
    </p>
    <p>
     <img alt="" height="815" src="https://i-blog.csdnimg.cn/direct/f1a00a83d60d4281bc36b3c602b9dee5.png" width="987"/>
    </p>
    <p>
    </p>
    <h2 id="%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95" name="%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95">
     自动化测试
    </h2>
    <h3 id="%E5%88%9B%E5%BB%BA%E5%85%AC%E5%85%B1%E7%B1%BBUtils" name="%E5%88%9B%E5%BB%BA%E5%85%AC%E5%85%B1%E7%B1%BBUtils">
     创建公共类Utils
    </h3>
    <pre><code>

public class Utils {

    public static WebDriver driver;

    public static  WebDriver createDriver(){
        if(driver == null){

            ChromeOptions options = new ChromeOptions();
            //允许访问所有链接
            options.addArguments("--remote-allow-origins=*");

            driver = new ChromeDriver(options);
            //等待
            driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(2));

        }
        return driver;
    }

    public Utils(String url){
        driver = createDriver();

        driver.get(url);
    }

    public void getScreenShot (String str) throws IOException {

        //屏幕截图
        SimpleDateFormat sim1 = new SimpleDateFormat("yyyy-MM-dd");
        SimpleDateFormat sim2 = new SimpleDateFormat("HHmmssSS");

        String dirTime = sim1.format(System.currentTimeMillis());
        String fileTime = sim1.format(System.currentTimeMillis());

        String filename = "./src/test/image/" + dirTime +"/" + str +"-"+fileTime+".png";

        File srcFile = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);
        //srcFile放到指定位置
        FileUtils.copyFile(srcFile,new File(filename));


    }

}
</code></pre>
    <h3 id="%E6%B5%8B%E8%AF%95%E7%99%BB%E5%BD%95%E6%B3%A8%E5%86%8C%E9%A1%B5%E9%9D%A2%20%3A" name="%E6%B5%8B%E8%AF%95%E7%99%BB%E5%BD%95%E6%B3%A8%E5%86%8C%E9%A1%B5%E9%9D%A2%20%3A">
     测试登录注册页面 :
    </h3>
    <pre><code>public class LoginTest extends Utils {


    public static String url = "http://82.157.143.27:8083/blogin.html";


    public LoginTest() {
        super(url);
    }


    //管理员登录
    public void Login() throws InterruptedException {

        driver.findElement(By.cssSelector("#phoneNumber")).sendKeys("13334445555");
        driver.findElement(By.cssSelector("#password")).sendKeys("666666");

        driver.findElement(By.cssSelector("#loginForm &gt; button")).click();
Thread.sleep(2000);

    }

    //管理员注册
    public void Create(){
        driver.findElement(By.cssSelector("body &gt; div &gt; div.login-container.col-sm-6.col-md-6.col-lg-5.col-xl-5 &gt; div.register-link &gt; a")).click();
        driver.findElement(By.cssSelector("#name")).sendKeys("李流");
        driver.findElement(By.cssSelector("#mail")).sendKeys("3323323@qq.com");
        driver.findElement(By.cssSelector("#phoneNumber")).sendKeys("15091602254");
        driver.findElement(By.cssSelector("#password")).sendKeys("666666");

        driver.findElement(By.cssSelector("#registerForm &gt; button")).click();


        driver.quit();
    }
}</code></pre>
    <p>
     <img alt="" height="822" src="https://i-blog.csdnimg.cn/direct/e000b458300e4ff089187a777c59b884.png" width="1399"/>
    </p>
    <h3 id="%E6%B5%8B%E8%AF%95%E6%99%AE%E9%80%9A%E7%94%A8%E6%88%B7%E6%B3%A8%E5%86%8C%3A%C2%A0" name="%E6%B5%8B%E8%AF%95%E6%99%AE%E9%80%9A%E7%94%A8%E6%88%B7%E6%B3%A8%E5%86%8C%3A%C2%A0">
     测试普通用户注册:
    </h3>
    <pre><code>public class RegisterUserTest extends Utils {

    public static String url = "http://82.157.143.27:8083/admin.html";

    public RegisterUserTest() {
        super(url);
    }

    public void createPeple() throws InterruptedException {

        driver.findElement(By.cssSelector("#register")).click();

        WebElement element = driver.findElement(By.id("contentFrame"));
        driver.switchTo().frame(element);//切换

       // Thread.sleep(3000);
        driver.findElement(By.cssSelector("#name")).sendKeys("李siyuan");
        driver.findElement(By.cssSelector("#mail")).sendKeys("3233123@qq.com");
        driver.findElement(By.cssSelector("#phoneNumber")).sendKeys("17091602254");

        driver.findElement(By.cssSelector("#registerForm &gt; button")).click();//点击注册


        WebElement e = driver.findElement(By.cssSelector("#userList &gt; tr:nth-child(1) &gt; td:nth-child(2)"));
        e.getText();
        assert e.equals("李siyuan");

    }
}
</code></pre>
    <p>
     <img alt="" height="675" src="https://i-blog.csdnimg.cn/direct/56d0645105804beea4f88dd1fd632de2.png" width="908"/>
    </p>
    <h3 id="%E6%B5%8B%E8%AF%95%E5%88%9B%E5%BB%BA%E5%A5%96%E5%93%81%3A" name="%E6%B5%8B%E8%AF%95%E5%88%9B%E5%BB%BA%E5%A5%96%E5%93%81%3A">
     测试创建奖品:
    </h3>
    <pre><code>public class CreatePrizeTest extends Utils {
    public static String url = "http://82.157.143.27:8083/admin.html";

    public CreatePrizeTest() {
        super(url);
    }

    public void create() throws InterruptedException, IOException {

        driver.findElement(By.cssSelector("body &gt; div.cont-box &gt; div.sidebar &gt; ul &gt; li:nth-child(2) &gt; ul &gt; li:nth-child(2) &gt; a")).click();


        WebElement element = driver.findElement(By.id("contentFrame"));
        driver.switchTo().frame(element);//切换

        // Thread.sleep(3000);
        driver.findElement(By.cssSelector("#prizeName")).sendKeys("布娃娃");
        Thread.sleep(2000);
        driver.findElement(By.cssSelector("#prizeImageUrl")).sendKeys("C:\\Users\\27970\\Pictures\\Screenshots\\meow.png");
        Thread.sleep(2000);
        driver.findElement(By.cssSelector("#price")).sendKeys("170");
        Thread.sleep(2000);
        driver.findElement(By.cssSelector("#description")).sendKeys("布娃娃一个");
        Thread.sleep(2000);
        getScreenShot(getClass().getName());

        driver.findElement(By.cssSelector("body &gt; div &gt; button")).click();

    }
}</code></pre>
    <p>
     <img alt="" height="815" src="https://i-blog.csdnimg.cn/direct/a21dfc9f414f4db9a82599bc7981909d.png" width="1446"/>
    </p>
    <h3 id="%E6%B5%8B%E8%AF%95%E5%88%9B%E5%BB%BA%E6%8A%BD%E5%A5%96%E6%B4%BB%E5%8A%A8%3A" name="%E6%B5%8B%E8%AF%95%E5%88%9B%E5%BB%BA%E6%8A%BD%E5%A5%96%E6%B4%BB%E5%8A%A8%3A">
     测试创建抽奖活动:
    </h3>
    <pre><code>public class CreateActivityTest extends Utils {

    public static String url = "http://82.157.143.27:8083/admin.html";

    public CreateActivityTest() {
        super(url);
    }


    //创建抽奖活动
    public void Create() throws InterruptedException, IOException {

        driver.findElement(By.cssSelector("#createActivity")).click();

        WebElement element = driver.findElement(By.id("contentFrame"));
        driver.switchTo().frame(element);//切换

        // Thread.sleep(3000);
        driver.findElement(By.cssSelector("#activityName")).sendKeys("自动化测试创建活动");

        driver.findElement(By.cssSelector("#description")).sendKeys("自动化测试创建活动");
        Thread.sleep(2000);
        driver.findElement(By.cssSelector("#buttonPrizes")).click();//圈选奖品

        driver.findElement(By.cssSelector("#prize-26")).click();//勾选奖品
       WebElement  e = driver.findElement(By.cssSelector("#prizesContainer &gt; div:nth-child(1) &gt; input.form-control"));
       e.click();
       e.clear();
       e.sendKeys("2");//设置奖品数量


       WebElement c = driver.findElement(By.cssSelector("#prizesContainer &gt; div:nth-child(1) &gt; select"));

        Select select = new Select(c);
        select.selectByVisibleText("二等奖");//操作下拉框选择奖品等级

        driver.findElement(By.cssSelector("#prizesModal &gt; div &gt; div.form-btn-box &gt; button.btn.btn-primary")).click();

        driver.findElement(By.cssSelector("#buttonUsers")).click();//圈选人员

        driver.findElement(By.cssSelector("#user-64")).click();
        driver.findElement(By.cssSelector("#user-63")).click();//勾选人员

        Thread.sleep(1000);
        driver.findElement(By.cssSelector("#usersModal &gt; div &gt; div.form-btn-box &gt; button.btn.btn-primary")).click();

        //创建活动
        driver.findElement(By.cssSelector("#createActivity")).click();

        getScreenShot(getClass().getName());
        Thread.sleep(1000);

        Alert alert = driver.switchTo().alert();//确认弹窗
        //确认
        alert.accept();


    }
</code></pre>
    <p>
     <img alt="" height="635" src="https://i-blog.csdnimg.cn/direct/1dacdef9994345e2af8fd05d0f264f5e.png" width="1122"/>
    </p>
    <p>
     <img alt="" height="585" src="https://i-blog.csdnimg.cn/direct/954319ae2b7f4c3eb395d852c679b535.png" width="770"/>
    </p>
    <h3 id="%E6%B5%8B%E8%AF%95%E6%98%AF%E5%90%A6%E6%89%93%E5%BC%80%E6%8A%BD%E5%A5%96%E9%A1%B5%E9%9D%A2%E5%B9%B6%E6%8A%BD%E5%A5%96%C2%A0" name="%E6%B5%8B%E8%AF%95%E6%98%AF%E5%90%A6%E6%89%93%E5%BC%80%E6%8A%BD%E5%A5%96%E9%A1%B5%E9%9D%A2%E5%B9%B6%E6%8A%BD%E5%A5%96%C2%A0">
     测试是否打开抽奖页面并抽奖
    </h3>
    <pre><code>public class ChoujiangTest extends Utils {
    public static String url = "http://82.157.143.27:8083/admin.html";
    public ChoujiangTest() {
        super(url);
    }

    public void Chou() throws InterruptedException, IOException {


        driver.findElement(By.cssSelector("#activitiesList")).click();

        WebElement element = driver.findElement(By.id("contentFrame"));
        driver.switchTo().frame(element);//切换
        Thread.sleep(1000);
        driver.findElement(By.cssSelector("#activities &gt; div:nth-child(1) &gt; div.active &gt; p &gt; a")).click();

        String currHandles = driver.getWindowHandle();// 获取当前窗口句柄
        // 获取所有窗口句柄
        Set&lt;String&gt; windowHandles = driver.getWindowHandles();

        // 遍历窗口句柄，找到新窗口的句柄
        for(String handle : windowHandles){
            if(!handle.equals(currHandles)){
                driver.switchTo().window(handle);// 切换到新窗口
            }
        }
        WebElement ele = driver.findElement(By.cssSelector("#container &gt; div.opt-box &gt; span.btn.next-btn"));
        getScreenShot(getClass().getName());
        ele.click();


    }
}</code></pre>
    <p>
     <img alt="" height="855" src="https://i-blog.csdnimg.cn/direct/664b3507c888479eb43fa24c8ebcc184.png" width="1308"/>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f6a6a3636366d6868682f:61727469636c652f64657461696c732f313436313132353234" class_="artid" style="display:none">
 </p>
</div>


