---
layout: post
title: å¦‚ä½•é˜²æ­¢ä½ çš„ä»£ç è¢«çªƒå–Pythonä»£ç åŠ å¯†æ–¹æ¡ˆæ±‡æ€»å¸¦å®ä¾‹éªŒè¯
date: 2024-12-25 08:49:40 +0800
categories: ['Python']
tags: ['åç¼–è¯‘', 'åŠ å¯†è§£å¯†', 'Python']
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=108351862
    alt: å¦‚ä½•é˜²æ­¢ä½ çš„ä»£ç è¢«çªƒå–Pythonä»£ç åŠ å¯†æ–¹æ¡ˆæ±‡æ€»å¸¦å®ä¾‹éªŒè¯
artid: 108351862
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=108351862
featuredImagePreview: https://bing.ee123.net/img/rand?artid=108351862
---

# å¦‚ä½•é˜²æ­¢ä½ çš„ä»£ç è¢«çªƒå–ï¼ŸPythonä»£ç åŠ å¯†æ–¹æ¡ˆæ±‡æ€»ï¼ˆå¸¦å®ä¾‹éªŒè¯ï¼‰

## Pythonä»£ç åŠ å¯†æ–¹æ¡ˆæ±‡æ€»

#### æ–‡ç« ç›®å½•

* [Pythonä»£ç åŠ å¯†æ–¹æ¡ˆæ±‡æ€»](#Python_0)
* + [éœ€æ±‚æè¿°](#_2)
  + [åŸºç¡€ï¼šPythonæ–‡ä»¶æ ¼å¼](#Python_14)
  + - [`.py` pythonæºä»£ç ](#py_python_16)
    - [`.pyc` ç¼–è¯‘å¾—åˆ°çš„å­—èŠ‚ç æ–‡ä»¶](#pyc__27)
    - [`.pyo` ç¼–è¯‘ä¼˜åŒ–åå¾—åˆ°çš„å­—èŠ‚ç æ–‡ä»¶](#pyo__34)
    - [`.pyd` å¯è¢«Pythonè°ƒç”¨çš„Windows DLLæ–‡ä»¶](#pyd_PythonWindows_DLL_41)
  + [å¾…åŠ å¯†ä»£ç ](#_47)
  + [åŸºç¡€åŠ å¯†ï¼š`.pyc`åŠ å¯†](#pyc_75)
  + [è¿›é˜¶åŠ å¯†1ï¼šä»£ç æ··æ·†](#1_146)
  + [è¿›é˜¶åŠ å¯†2ï¼š`.pyd`/`.so`åŠ å¯†](#2pydso_204)
  + [æˆç†Ÿçš„è§£å†³æ–¹æ¡ˆï¼šPyarmor](#Pyarmor_236)
  + - [Pyarmor çš„åŸºç¡€ä½¿ç”¨](#Pyarmor__258)
    - [Pyarmor çš„è¿›é˜¶ä½¿ç”¨](#Pyarmor__298)
  + [é«˜çº§åŠ å¯†ï¼šå®šåˆ¶Pythonè§£é‡Šå™¨](#Python_333)

### éœ€æ±‚æè¿°

å¦‚ä½•ä¿æŠ¤ python çš„æºä»£ç ?
  
ä¸¾ä¸ªæ —å­ï¼šå¼ ä¸‰å°†è‡ªå·±çš„ç¼–å†™çš„ä¸€ä¸ªpythonæ–‡ä»¶å‘ç»™äº†æå››ï¼Œå¼ ä¸‰å¸Œæœ›æå››èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨è¿™ä¸ªæ–‡ä»¶ï¼ˆ
**å¯ä»¥ç›´æ¥é€šè¿‡æ ‡å‡†pythonè§£é‡Šå™¨æ‰§è¡Œï¼Œæˆ–è€…å¯ä»¥è¢«å…¶ä»–pythonæ–‡ä»¶è°ƒç”¨**
ï¼‰ï¼Œä½†å¼ ä¸‰
**ä¸å¸Œæœ›æå››çœ‹åˆ°è¿™ä¸ªpythonæ–‡ä»¶çš„æºä»£ç **
ã€‚

åœ¨é˜…è¯»æœ¬æ–‡è®¨è®ºçš„æºä»£ç åŠ å¯†ä¹‹å‰ï¼Œæœ‰ä»¥ä¸‹å†…å®¹éœ€è¦æ³¨æ„ï¼š

* Pythonæ˜¯
  [**FLOSSï¼ˆè‡ªç”±/å¼€æ”¾æºç è½¯ä»¶ï¼‰**](https://en.wikipedia.org/wiki/Free_and_open-source_software)
  ä¹‹ä¸€ï¼Œå› æ­¤åŠ å¯†pythonçš„æºä»£ç ä¸ç¬¦åˆFLOSSçš„ç†å¿µ
* **ä¸å­˜åœ¨ä»»ä½•æŠ€æœ¯æ‰‹æ®µå¯ä»¥å®Œå…¨é˜»æ­¢**
  ç”¨æˆ·é˜…è¯»ä½ çš„ä»£ç ï¼Œä½†å¯ä»¥é€šè¿‡æŠ€æœ¯æ‰‹æ®µä½¿å¾—ç”¨æˆ·è·å¾—å¯é˜…è¯»ä»£ç çš„æˆæœ¬æ›´é«˜
* æœ¬æ–‡æ‰€è®¨è®ºçš„ä»£ç åŠ å¯†ä»…ä»…æ˜¯ä¸€ä¸ªç®€å•çš„ä¿æŠ¤æœºåˆ¶ï¼Œä½†å¦‚æœé‡åˆ°é¡¶çº§é»‘å®¢ï¼Œæˆ–è®¸ä»–ä»¬ç”šè‡³ä¼šè®¿é—®å†…å­˜æ¥æŸ¥çœ‹æºç 
* ä½¿ç”¨æ³•å¾‹ã€å•†ä¸šæ‰‹æ®µä¼šæ¯”æŠ€æœ¯æ‰‹æ®µæ›´åŠ æœ‰æ•ˆï¼Œä¾‹å¦‚
  *è½¯ä»¶ä½¿ç”¨è®¸å¯è¯*
  ã€
  *SaaS*
  ç­‰

### åŸºç¡€ï¼šPythonæ–‡ä»¶æ ¼å¼

ä¸ºäº†ç†è§£pythonä»£ç åŠ å¯†çš„åŸºæœ¬åŸç†ï¼Œé¦–å…ˆæ¥äº†è§£ä¸‹pythonçš„æ–‡ä»¶æ ¼å¼ã€‚

#### `.py` pythonæºä»£ç 

è¿™ä¸ªå¤§å®¶éƒ½çŸ¥é“ï¼Œä¸åšè¿‡å¤šé˜è¿°ã€‚è¿™é‡Œç€é‡ä»‹ç»ä¸‹Pythonä»£ç çš„æ‰§è¡Œã€‚

Python ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹å’Œ Java ç±»ä¼¼ï¼š

1. å°†
   `.py`
   æ–‡ä»¶ç¼–è¯‘å¾—åˆ° Python çš„å­—èŠ‚ç 
2. Python è™šæ‹Ÿæœº(Python Virtual Machine) æ‰§è¡Œç¼–è¯‘å¥½çš„å­—èŠ‚ç 

Python è™šæ‹Ÿæœºå’Œ Java çš„ JVM ç±»ä¼¼ï¼Œä½† Pythonè™šæ‹Ÿæœºçš„æŠ½è±¡åŒ–ç¨‹åº¦æ›´é«˜ï¼ˆä½†ä¸æ˜¯æ€§èƒ½æ›´å¼ºï¼‰

#### `.pyc` ç¼–è¯‘å¾—åˆ°çš„å­—èŠ‚ç æ–‡ä»¶

* åœ¨é¦–æ¬¡å¯¼å…¥ä¸€ä¸ªpythonåº“çš„æ—¶å€™ï¼Œä¸ºäº†è®©ä»¥åå†æ¬¡å¯¼å…¥æ›´æ–¹ä¾¿ä¹Ÿæ›´å¿«ï¼Œpythonä¼šæ„å»ºä¸€ä¸ªåŒ…å«è¯¥åº“çš„å­—èŠ‚ç 
  `*.pyc`
  æ–‡ä»¶

  ä½ å¯ä»¥åœ¨ä½ çš„åº“æ–‡ä»¶çš„
  `__pycache__`
  æ–‡ä»¶å¤¹ä¸‹çœ‹åˆ°æ¯ä¸ª
  `.py`
  æ–‡ä»¶å¯¹åº”çš„
  `.pyc`
  æ–‡ä»¶

#### `.pyo` ç¼–è¯‘ä¼˜åŒ–åå¾—åˆ°çš„å­—èŠ‚ç æ–‡ä»¶

* **Python 3.5ä¹‹å‰**
  å°†
  `*.pyc`
  æ–‡ä»¶é€šè¿‡ä¼˜åŒ–å™¨ï¼ˆ
  `-O`
  ï¼‰åˆ›å»ºçš„æ–‡ä»¶ï¼Œå¯ä»¥ç•¥å¾®æå‡åŠ è½½é€Ÿåº¦
* **Python 3.5 ä¹‹åå·²ç»å–æ¶ˆäº†
  `.pyo`
  æ–‡ä»¶çš„æ¦‚å¿µ**
  ï¼Œä¼˜åŒ–åçš„æ–‡ä»¶ä¹Ÿä¼šä»¥
  `.pyc`
  æ–‡ä»¶å­˜å‚¨
* ä»
  `.pyc`
  æˆ–
  `.pyo`
  æ–‡ä»¶ä¸­è¯»å–ç¨‹åºæ¯”ä»
  `.py`
  æ–‡ä»¶ä¸­è¯»å–å¾—æ›´å¿«ï¼Œä½†
  **åªæ˜¯ä¼˜åŒ–äº†åŠ è½½é€Ÿåº¦ï¼Œä¸ä¼šä¼˜åŒ–è¿è¡Œé€Ÿåº¦**

#### `.pyd` å¯è¢«Pythonè°ƒç”¨çš„Windows DLLæ–‡ä»¶

* åŸºæœ¬çš„Windows DLLæ–‡ä»¶ï¼Œæ˜¯Pythonçš„åŠ¨æ€é“¾æ¥åº“
* å¹¶éä»pythonä»£ç ç”Ÿæˆï¼Œè€Œæ˜¯å…¶ä»–è¯­è¨€å†™æˆçš„å¯ä»¥è¢«Pythonè°ƒç”¨çš„Windows DLLæ–‡ä»¶ï¼Œä¾‹å¦‚C++
* å…³äºWindows DLLæ–‡ä»¶çš„ä»‹ç»å¯ä»¥å‚çœ‹
  [Microsoft-ä»€ä¹ˆæ˜¯DLLï¼Ÿ](https://support.microsoft.com/en-us/help/815065/what-is-a-dll)

### å¾…åŠ å¯†ä»£ç 

æ¥ä¸‹æ¥ä»¥å®ä¾‹å±•ç¤ºå„ç§ä»£ç éšè—çš„æ–¹å¼ã€‚
  
å¾…åŠ å¯†çš„åŸå§‹ä»£ç å¦‚ä¸‹ï¼š

```python
# -*- coding: UTF-8 â€“*-
# filename: ergou_test.py
import datetime

class Today():
    def get_time(self):
        print(datetime.datetime.now())
        
    def say(self):
        print("hello from Ergou!")

if __name__ == '__main__':    
    t=Today()
    t.say()
    t.get_time()

```

ç›´æ¥è¿è¡Œç»“æœå¦‚ä¸‹ï¼š

![[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-Ow9vojcX-1598969435142)(C:\Users\Magfin\AppData\Roaming\Typora\typora-user-images\image-20200722154551869.png)]](https://i-blog.csdnimg.cn/blog_migrate/00287acf8103daad9ccdeb623bb0e00d.png#pic_center)

### åŸºç¡€åŠ å¯†ï¼š `.pyc` åŠ å¯†

åŠ å¯†éš¾åº¦ï¼šâ­ï¸
  
å®‰å…¨æ€§ï¼šâ­ï¸

æœ€åŸºç¡€çš„åŠ å¯†æ–¹æ³•æ˜¯åˆ©ç”¨ Python è‡ªå¸¦çš„ç¼–è¯‘å™¨å°†æºä»£ç æ–‡ä»¶
`.py`
ç¼–è¯‘å¾—åˆ°çš„äºŒè¿›åˆ¶çš„å­—èŠ‚ç æ–‡ä»¶
`.pyc`
ã€‚
  
äºŒè¿›åˆ¶çš„å­—èŠ‚ç æ–‡ä»¶å¯¹äºåˆå­¦è€…è€Œè¨€æœ‰ä¸€å®šçš„ä»£ç éšè—ä½œç”¨ï¼Œä½†ä¹Ÿåªèƒ½ç®€å•éšè—ã€‚
  
åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥å¦‚ä¸‹ä»£ç å¯ä»¥å¾—åˆ°
`.pyc`
æ–‡ä»¶ï¼š

```bash
python -m py_compile ergou_test.py

```

åœ¨
`.\__pycache__`
ç›®å½•ä¸‹å¯ä»¥çœ‹åˆ°å­—èŠ‚ç æ–‡ä»¶
`ergou_test.cpython-38.pyc`

![[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-d9xAB0BE-1598969435148)(C:\Users\Magfin\AppData\Roaming\Typora\typora-user-images\image-20200722160307492.png)]](https://i-blog.csdnimg.cn/blog_migrate/1b13309eb69d88c1984ce88b715944b5.png#pic_center)

å­—èŠ‚ç æ–‡ä»¶
`ergou_test.cpython-38.pyc`
å¯ä»¥åœ¨åˆ«çš„Pythonæ–‡ä»¶ä¸­å¯¼å…¥ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æ‰§è¡Œã€‚

![[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-J3R8dC8u-1598969435155)(C:\Users\Magfin\AppData\Roaming\Typora\typora-user-images\image-20200722160926582.png)]](https://i-blog.csdnimg.cn/blog_migrate/37aaff5f4511c95b4369111413355126.png#pic_center)

å¦‚æœè¦å¯¹å¤šä¸ªæ–‡ä»¶æˆ–æ•´ä¸ªé¡¹ç›®è¿›è¡Œç¼–è¯‘ï¼Œå¯ä»¥ä½¿ç”¨Pythonæ ‡å‡†åº“ä¸­çš„
`compileall`
åº“ã€‚

ä½†æ˜¯å­—èŠ‚ç æ–‡ä»¶ææ˜“è¢«åç¼–è¯‘å¾—åˆ°æºä»£ç ã€‚

æ¨èä¸€ä¸ªåç¼–è¯‘åº“
`uncompyle`
ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ Pip å®‰è£…ï¼š

```bash
pip install uncompyle

```

åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œåç¼–è¯‘å‘½ä»¤ï¼š

```bash
uncompyle6 ergou_test.cpython-38.pyc > ergou_test.py

```

åç¼–è¯‘å¾—åˆ°çš„
`ergou_test.py`
æ–‡ä»¶å¦‚ä¸‹ï¼š

```python
# uncompyle6 version 3.7.2
# Python bytecode 3.8 (3413)
# Decompiled from: Python 3.8.3 (tags/v3.8.3:6f8c832, May 13 2020, 22:20:19) [MSC v.1925 32 bit (Intel)]
# Embedded file name: ergou_test.py
# Compiled at: 2020-07-22 11:41:54
# Size of source mod 2**32: 273 bytes
import datetime

class Today:

    def get_time(self):
        print(datetime.datetime.now())

    def say(self):
        print('hello from Ergou!')


if __name__ == '__main__':
    t = Today()
    t.say()
    t.get_time()
# okay decompiling ergou_test.cpython-38.pyc


```

å¯ä»¥çœ‹åˆ°å’ŒåŸå§‹ä»£ç åŸºæœ¬æ²¡æœ‰åŒºåˆ«ï¼Œæ‰€ä»¥
`.pyc`
çš„åŠ å¯†æ–¹å¼åŸºæœ¬ç›¸å½“äºè£¸å¥”ã€‚

### è¿›é˜¶åŠ å¯†1ï¼šä»£ç æ··æ·†

å¯¹äºä»£ç åŠ å¯†ï¼Œæˆ‘ä»¬å¯ä»¥æ¢ä¸ªæ€è·¯ï¼šæˆ‘ä»¬å¯ä»¥æš´éœ²ä»£ç ï¼Œä½†æ˜¯åªè¦ä½ çœ‹ä¸æ‡‚æˆ‘çš„ä»£ç ï¼Œä¹Ÿå°±æ— æ³•ä½¿ç”¨æˆ‘çš„ä»£ç äº†ã€‚

ä»£ç æ··æ·†å¯ä»¥ä½¿ç”¨
`pyminifier`
åº“ï¼Œ

å®‰è£…ï¼š

```bash
pip install pyminifier

```

ä½¿ç”¨ï¼š

```bash
pyminifier --nonlatin --replacement-length=10 -O ergou_test.py

```

å¯¹äºå•ä¸ªæ–‡ä»¶ï¼Œä¼šç›´æ¥è¾“å‡ºæ··æ·†åçš„ä»£ç ï¼š

```python
import datetime
é„®ë¡ï¹¹İ¾ğ¼–æ°‰ïµ«ğ¨Ÿà¡ˆÜ™=print
é„®ë¡ï¹¹İ¾ğ¼–æ°‰ïµ«ğ¨Ÿà¡ˆå ›=datetime.now
é„®ë¡ï¹¹İ¾ğ¼–æ°‰ïµ«ğ¨Ÿà¡ˆğ¨±•=datetime.datetime
class é„®ë¡ï¹¹İ¾ğ¼–æ°‰ïµ«ğ¨Ÿà¡ˆğ‘°Ÿ():
 def é„®ë¡ï¹¹İ¾ğ¼–æ°‰ïµ«ğ¨Ÿà¡ˆï®•(self):
  é„®ë¡ï¹¹İ¾ğ¼–æ°‰ïµ«ğ¨Ÿà¡ˆÜ™(é„®ë¡ï¹¹İ¾ğ¼–æ°‰ïµ«ğ¨Ÿà¡ˆğ¨±•.now())
 def é„®ë¡ï¹¹İ¾ğ¼–æ°‰ïµ«ğ¨Ÿà¡ˆğ —(self):
  é„®ë¡ï¹¹İ¾ğ¼–æ°‰ïµ«ğ¨Ÿà¡ˆÜ™("hello from Ergou!")
if __name__=='__main__':
 é„®ë¡ï¹¹İ¾ğ¼–æ°‰ïµ«ğ¨Ÿà¡ˆä±º=é„®ë¡ï¹¹İ¾ğ¼–æ°‰ïµ«ğ¨Ÿà¡ˆğ‘°Ÿ()
 é„®ë¡ï¹¹İ¾ğ¼–æ°‰ïµ«ğ¨Ÿà¡ˆä±º.é„®ë¡ï¹¹İ¾ğ¼–æ°‰ïµ«ğ¨Ÿà¡ˆğ —()
 é„®ë¡ï¹¹İ¾ğ¼–æ°‰ïµ«ğ¨Ÿà¡ˆä±º.é„®ë¡ï¹¹İ¾ğ¼–æ°‰ïµ«ğ¨Ÿà¡ˆï®•()
# Created by pyminifier (https://github.com/liftoff/pyminifier)

```

è¿™æ ·æ··æ·†çš„ä»£ç å¯è¯»æ€§å˜å¾—æå·®ï¼Œç„¶è€Œå³ä¾¿å¦‚æ­¤ï¼Œè¿˜æ˜¯ä¸éš¾çœ‹å‡ºä»£ç å†…éƒ¨ä¸­çš„é€»è¾‘ï¼Œé€šè¿‡å˜é‡åæ›¿æ¢ç­‰æ–¹æ³•è¿˜æ˜¯å¯ä»¥çœ‹å‡ºå…¶å¤§è‡´çš„é€»è¾‘ã€‚

`pyminifier`
ä¸­è¿˜æœ‰å¦å¤–ä¸€ç§ä»£ç æ··æ·†æ–¹æ³•ï¼Œåˆ©ç”¨Base64å¯¹ä»£ç è¿›è¡Œå†æ¬¡ç¼–ç ï¼Œå†åˆ©ç”¨lzmaç®—æ³•è¿›è¡Œå‹ç¼©ï¼Œä½†æ˜¯è¿™ç§åŠ å¯†æ–¹å¼ä»…ä»…ç”¨äºä»£ç æ²¡æœ‰è°ƒç”¨éšå¼å¯¼å…¥çš„æƒ…å†µã€‚
  
ä½¿ç”¨ï¼š

```bash
pyminifier --lzma "ergou_test.py"

```

ç»“æœï¼š

```python
import lzma, base64
exec(lzma.decompress(base64.b64decode('/Td6WFoAAATm1rRGAgAhARYAAAB0L+Wj4AC9AIddADSbSme4Ujxz0DHnfZG4YVh3r9CsdtAwW4DRCnyvCgYFNNvit5ucVyZEXm0xrZQFnMmnv5z9aXgGq8oGWLMz+nFaI+A7zI5M115jvtlkHe2PTQ44cNNJgVhXoX718yXUd9RQuI13Z9g+nUZiG4oGdJRmK7JehLK/UQ2Tic8JFOCKT4lM8+hv4AAAZj5170QAhWgAAaMBvgEAALPN0p2xxGf7AgAAAAAEWVo=')))
# Created by pyminifier (https://github.com/liftoff/pyminifier)

```

è¿™æ ·å¾—åˆ°çš„ä»£ç å®Œå…¨çœ‹ä¸å‡ºåŸæ¥çš„é€»è¾‘ï¼Œä½†æ˜¯Base64éå¸¸å®¹æ˜“è¢«åç¼–è¯‘ï¼Œå› æ­¤åŠ å¯†æ•ˆæœè¿˜æ˜¯æœ‰é™çš„ã€‚

å¯ä»¥è€ƒè™‘å°†ä¸Šè¯‰ä¸¤è€…æ··æ·†æ–¹æ³•ç»“åˆèµ·æ¥ï¼Œè¿™æ ·å¯ä»¥è¿›ä¸€æ­¥å¢å¤§ä»£ç çš„æ··æ·†ç¨‹åº¦ã€‚

### è¿›é˜¶åŠ å¯†2ï¼š `.pyd` / `.so` åŠ å¯†

åŠ å¯†éš¾åº¦ï¼šâ­ï¸ â­ï¸ â­ï¸
  
å®‰å…¨æ€§ï¼šâ­ï¸ â­ï¸ â­ï¸

`Cython`
æ˜¯ä¸€ä¸ªç¼–ç¨‹è¯­è¨€ï¼Œå®ƒé€šè¿‡ç±»ä¼¼Pythonçš„è¯­æ³•æ¥ç¼–å†™Cæ‰©å±•å¹¶å¯ä»¥è¢«Pythonè°ƒç”¨ã€‚èƒ½å¤Ÿå°†Python+Cæ··åˆç¼–ç çš„.pyxè„šæœ¬è½¬æ¢ä¸ºCä»£ç ï¼Œä¸»è¦ç”¨äºä¼˜åŒ–Pythonè„šæœ¬æ€§èƒ½æˆ–Pythonè°ƒç”¨Cå‡½æ•°åº“ã€‚åŸºäºå®ƒçš„åŸç†ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ç§ä»£ç åŠ å¯†çš„æ€è·¯ï¼šå°†
`.py`
/
`.pyx`
ç¼–è¯‘ä¸º
`.c`
æ–‡ä»¶ï¼Œå†å°†
`.c`
æ–‡ä»¶ç¼–è¯‘ä¸º
`.so`
(Unix) æˆ–
`.pyd`
(Windows)ï¼Œè¿™æ ·å¾—åˆ°çš„æ–‡ä»¶æ›´éš¾åç¼–è¯‘ã€‚

> æ³¨æ„ï¼šWindowsç¯å¢ƒä¸‹ä½¿ç”¨è¯¥åº“å¯èƒ½éœ€è¦é…ç½®Microsoft Visual C++ç›¸å…³åº“

æ¨èä¸€ä¸ªåº“
`jmpy3`
ï¼Œè¯¥åº“èƒ½å¤Ÿä¸€é”®å®Œæˆä¸Šè¯‰æµç¨‹ã€‚

å®‰è£…ï¼š

```bash
pip install jmpy3

```

ä½¿ç”¨ï¼š

```bash
jmpy -i "ergou_test.py" -m 0

```

åœ¨
`.\dist`
æ–‡ä»¶å¤¹ä¸‹å¾—åˆ°
`ergou_test.pyd`
æ–‡ä»¶

å¯ä»¥åœ¨Pythonæ–‡ä»¶ä¸­å¯¼å…¥
`ergou_test.pyd`
ï¼Œå¹¶ä½¿ç”¨å…¶ä¸­çš„æ–¹æ³•

![[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-ZxKDNCgj-1598969435161)(C:\Users\Magfin\AppData\Roaming\Typora\typora-user-images\image-20200722170908630.png)]](https://i-blog.csdnimg.cn/blog_migrate/8863577ea6d72fcee13d14f5dc827159.png#pic_center)

å…³äºè¿™ç§åŠ å¯†æ–¹æ³•çš„å®‰å…¨æ€§ï¼Œç¬”è€…ç›®å‰
*å°šæœªå‘ç°*
èƒ½å°†
`.so`
/
`.pyd`
æ–‡ä»¶ç›´æ¥åç¼–è¯‘ä¸º
`.py`
çš„æ–¹æ³•ï¼Œå› æ­¤è¾ƒä¸ºå¯é ã€‚

### æˆç†Ÿçš„è§£å†³æ–¹æ¡ˆï¼šPyarmor

åŠ å¯†éš¾åº¦ï¼šâ­ï¸ â­ï¸â­ï¸
  
å®‰å…¨æ€§ï¼šâ­ï¸ â­ï¸ â­ï¸ â­ï¸â­ï¸

ç»è¿‡å¤šç•ªæœç´¢ï¼Œç¬”è€…æ‰¾åˆ°äº†ä¸€ä¸ªæ¯”è¾ƒå®Œå–„çš„Pythonè„šæœ¬åŠ å¯†æ–¹æ¡ˆï¼š
[`pyarmor`](http://pyarmor.dashingsoft.com/index-zh.html)

`pyarmor`
èƒ½å¤ŸåŠ å¯† Python è„šæœ¬ï¼ŒåŒæ—¶è¿˜å…·å¤‡ä»¥ä¸‹åŠŸèƒ½ï¼š

* è®¾ç½®åŠ å¯†è„šæœ¬çš„æœ‰æ•ˆæœŸé™
* ç»‘å®šåŠ å¯†è„šæœ¬åˆ°ç¡¬ç›˜ã€ç½‘å¡ç­‰ç¡¬ä»¶è®¾å¤‡

`Pyarmor`
çš„
[åŠ å¯†åŸç†](https://pyarmor.readthedocs.io/zh/latest/how-to-do.html)
æ¯”è¾ƒå¤æ‚ï¼Œåœ¨æ­¤ä¸åšé˜è¿°ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥ç›´æ¥æŸ¥çœ‹ä»–çš„å®˜æ–¹æ–‡æ¡£ã€‚
`Pyarmor`
çš„å¼€å‘è€…ä¸ºä¸­å›½äººï¼Œå› æ­¤æ–‡æ¡£ä¹Ÿæ˜¯ä¸­æ–‡ï¼ŒæŸ¥çœ‹èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ã€‚

> **ç‰¹åˆ«æ³¨æ„**
>
> `Pyarmor`
> æ˜¯ä¸€ä¸ªå…±äº«è½¯ä»¶ï¼Œè¯•ç”¨ç‰ˆå…è´¹ä½†å­˜åœ¨åŠŸèƒ½é™åˆ¶ï¼ˆä¸»è¦æ˜¯åŠ å¯†ä»£ç ä¸èƒ½è¶…è¿‡ 32 MBï¼‰ï¼Œå®Œæ•´ç‰ˆçš„æˆæƒä»·æ ¼ä¸º
> **286.00**
> äººæ°‘å¸ã€‚
>
> è¯¦ç»†çš„è½¯ä»¶è®¸å¯è¯´æ˜å¯ä»¥å‚çœ‹
> [Pyarmorè½¯ä»¶è®¸å¯](https://pyarmor.readthedocs.io/zh/latest/license.html)

æ¥ä¸‹æ¥å±•ç¤º
`pyarmor`
çš„ä½¿ç”¨ã€‚

#### Pyarmor çš„åŸºç¡€ä½¿ç”¨

å®‰è£…ï¼š

```bash
pip install pyarmor

```

åŸºç¡€ä½¿ç”¨ åŠ å¯†ä»£ç ï¼š

```bash
pyarmor obfuscate ergou_test.py

```

åœ¨è¾“å‡ºç›®å½•
`.\dist`
æ–‡ä»¶å¤¹ä¸‹å¯ä»¥çœ‹åˆ°åŠ å¯†åçš„è„šæœ¬
`ergou_test.py`
ï¼Œä»£ç å†…å®¹å¦‚ä¸‹ï¼š

```python
from pytransform import pyarmor_runtime
pyarmor_runtime()
__pyarmor__(__name__, __file__, b'\x50\x59\x41\x52\x4d\x4f\x52\x00\x00\x03\x08\x00\x55\x0d\x0d\x0a\x04\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x40\x00\x00\x00\xc0\x10\x00\x00\x00\x00\x00\x18\x4d\x8f\xde\x78\xa2\x8e\xb4\x57\xd4\x7f\xbd\x06\x57\x35\x4b\x0b\x00\x00\x00\x00\x00\x00\x00\x00\x20\x87\x36\x3e\xec\x5e\xa8\x81\x31\x30\x52\xa7\x6b\xf0\x82\xde\x45\x9e\x37\x7f\xde\x9e\xec\x04\xfa\xec\x6c\x5b\x09\x0b\x68\x05\x03\x72\xdd\x6a\x82\xff\x0e\x14\x13\x41\xa3\x6f\x22\xf0\x00\x96\xd1\xe9\xc6\xd8\x7d\x9d\xa6\x8b\xf5\xa3\x7a\x35\x52\xed\x05\x15\xa4\x2c\xdb\x10\xe5\x9c\xc0\xfc\x38\x11\x59\xd2\x26\x4f\xb5\x3f\xba\x10\xad\xe4\x26\x67\xac\x64\x15\xce\x6e\x84\x90\xeb\x8b\x1f\xb9\xbf\xc0\xbb\x7f\xa7\x8cã€è¿™é‡Œçœç•¥äº†ä¸€æ®µå¾ˆé•¿å¾ˆé•¿å¾ˆé•¿çš„åå…­è¿›åˆ¶æ•°ã€‘\xb5\x3f\xba', 2)

```

é™¤äº†åŠ å¯†è„šæœ¬ä¹‹å¤–ï¼Œé¢å¤–çš„é‚£ä¸ªç›®å½•
`pytransform`
å«åš
[è¿è¡Œè¾…åŠ©åŒ…](https://pyarmor.readthedocs.io/zh/latest/understand-obfuscated-scripts.html#id10)
ï¼Œå®ƒæ˜¯è¿è¡ŒåŠ å¯†è„šæœ¬ä¸å¯ç¼ºå°‘çš„ã€‚

è„šæœ¬å¯ä»¥ç›´æ¥è¿è¡Œï¼š

```bash
python ergou_test.py

```

![[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-SVSECAb4-1598969435165)(C:\Users\Magfin\AppData\Roaming\Typora\typora-user-images\image-20200723174239163.png)]](https://i-blog.csdnimg.cn/blog_migrate/615643e99a541965b1f8aacbc6227e0b.png#pic_center)

ä¹Ÿå¯ä»¥å¯¼å…¥åˆ°åˆ«çš„è„šæœ¬ä¸­ï¼š

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/68f39081705e61f48cb3e0a766b376d3.png#pic_center)

å¦‚æœéœ€è¦åˆ†äº«ä»£ç çš„è¯ï¼Œéœ€è¦å°†
`.\dist`
ç›®å½•ä¸‹çš„å…¨éƒ¨æ–‡ä»¶éƒ½å‘é€è¿‡å»ï¼Œå¯¹æ–¹æ— éœ€å®‰è£…
`Pyarmor`
åº“ã€‚

#### Pyarmor çš„è¿›é˜¶ä½¿ç”¨

åŠ å¯†è„šæœ¬çš„åŒæ—¶ä¼šåœ¨è¾“å‡ºç›®å½•ä¸‹é¢ç”Ÿæˆä¸€ä¸ªé»˜è®¤è®¸å¯æ–‡ä»¶
`dist/license.lic`
ï¼Œå®ƒ å…è®¸åŠ å¯†è„šæœ¬è¿è¡Œåœ¨ä»»ä½•è®¾å¤‡ä¸Šå¹¶ä¸”æ°¸ä¸è¿‡æœŸã€‚

å¯ä»¥æ ¹æ®éœ€æ±‚ç”ŸæˆæŒ‡å®šæœ‰æ•ˆæ—¥æœŸã€ä¸»æœºMACåœ°å€ã€ç¡¬ç›˜ç¼–å·ç”šè‡³æ˜¯Dockerå®¹å™¨IDçš„è®¸å¯æ–‡ä»¶ã€‚

ç”Ÿæˆæœ‰æ•ˆæ—¥æœŸåˆ° 2020-07-22 çš„è®¸å¯æ–‡ä»¶ï¼šã€

```bash
pyarmor licenses --expired 2020-07-22 code-001

```

æ‰§è¡Œè¿™æ¡å‘½ä»¤
`Pyarmor`
ä¼šç”Ÿæˆä¸€ä¸ªå¸¦æœ‰æ•ˆæœŸçš„è®¤è¯æ–‡ä»¶:

* åˆ›å»º
  `license.lic`
  ï¼Œä¿å­˜åœ¨
  `licenses/code-001`
* åˆ›å»º
  `license.lic.txt`
  ï¼Œä¿å­˜åœ¨
  `licenses/code-001`

ç„¶åå°†è®¸å¯æ–‡ä»¶
`license.lic`
æ–‡ä»¶å¤åˆ¶åˆ°
`.\dist\pytransform`
ç›®å½•ä¸‹ï¼Œæ›¿æ¢åŸæ¥çš„
`license.lic`
ã€‚

è¿™æ ·ï¼ŒåŠ å¯†è„šæœ¬åœ¨2020å¹´7æœˆ22æ—¥ä¹‹åå°±æ— æ³•åœ¨è¿è¡Œäº†ï¼Œæ¯”å¦‚ç°åœ¨å°±æ— æ³•æ‰§è¡Œäº†ã€‚

```bash
censes --expired 2020-07-22 code-001

```

æ‰§è¡Œè¿™æ¡å‘½ä»¤
`Pyarmor`
ä¼šç”Ÿæˆä¸€ä¸ªå¸¦æœ‰æ•ˆæœŸçš„è®¤è¯æ–‡ä»¶:

* åˆ›å»º
  `license.lic`
  ï¼Œä¿å­˜åœ¨
  `licenses/code-001`
* åˆ›å»º
  `license.lic.txt`
  ï¼Œä¿å­˜åœ¨
  `licenses/code-001`

ç„¶åå°†è®¸å¯æ–‡ä»¶
`license.lic`
æ–‡ä»¶å¤åˆ¶åˆ°
`.\dist\pytransform`
ç›®å½•ä¸‹ï¼Œæ›¿æ¢åŸæ¥çš„
`license.lic`
ã€‚

è¿™æ ·ï¼ŒåŠ å¯†è„šæœ¬åœ¨2020å¹´7æœˆ22æ—¥ä¹‹åå°±æ— æ³•åœ¨è¿è¡Œäº†ï¼Œæ¯”å¦‚ç°åœ¨å°±æ— æ³•æ‰§è¡Œäº†ã€‚

### é«˜çº§åŠ å¯†ï¼šå®šåˆ¶Pythonè§£é‡Šå™¨

æœªå®Œå¾…ç»­â€¦

---

å¦‚æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµ/è½¬è½½~
  
~~ï¼ˆå¬è¯´ç»™æ–‡ç« ç‚¹èµçš„äººä»£ç bugç‰¹åˆ«å°‘ğŸ‘€ï¼‰~~
  
è”ç³»é‚®ç®±ï¼šmrjingcheng@foxmail.com
  
ä¸ªäººå…¬ä¼—å·ï¼šç¦…ä¸ç”µè„‘ç»´ä¿®è‰ºæœ¯
  
æ¬¢è¿å…³æ³¨å…¬ä¼—å·ï¼Œä¹Ÿæ¬¢è¿é€šè¿‡é‚®ç®±äº¤æµã€‚