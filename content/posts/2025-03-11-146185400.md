---
layout: post
title: "hive-中的各种参数,一般在哪里修改"
date: 2025-03-11 17:52:24 +0800
description: "在实际工作中，Hive 参数的配置和修改可以通过多种方式进行，具体取决于使用场景和需求。: 在使用调度工具（如 Apache Oozie、Airflow）时配置参数。: 在使用 JDBC/ODBC 连接 HiveServer2 时配置参数。根据实际需求选择合适的配置方式，可以有效提升 Hive 的性能和灵活性。: 修改与 Hadoop 相关的参数，例如资源管理、压缩等。: 在调度工具的配置文件中设置 Hive 参数。: 在脚本中定义参数，适用于批量任务。: 临时修改参数，仅对当前会话生效。"
keywords: "hive 中的各种参数，一般在哪里修改"
categories: ['未分类']
tags: ['数据仓库', 'Hive', 'Hadoop']
artid: "146185400"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146185400
    alt: "hive-中的各种参数,一般在哪里修改"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146185400
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146185400
cover: https://bing.ee123.net/img/rand?artid=146185400
image: https://bing.ee123.net/img/rand?artid=146185400
img: https://bing.ee123.net/img/rand?artid=146185400
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     hive 中的各种参数，一般在哪里修改
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     在实际工作中，Hive 参数的配置和修改可以通过多种方式进行，具体取决于使用场景和需求。以下是常见的参数配置方式和适用场景：
    </p>
    <hr/>
    <h3>
     <strong>
      1. 在 Hive CLI 或 Beeline 中临时设置
     </strong>
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        适用场景
       </strong>
       : 临时修改参数，仅对当前会话生效。
      </p>
     </li>
     <li>
      <p>
       <strong>
        使用方法
       </strong>
       : 在 Hive CLI 或 Beeline 中使用
       <code>
        SET
       </code>
       命令。
      </p>
     </li>
     <li>
      <p>
       <strong>
        示例
       </strong>
       :
      </p>
      <pre><code class="language-sql">-- 启用动态分区
SET hive.exec.dynamic.partition = true;

-- 设置每个 Reducer 处理的数据量
SET hive.exec.reducers.bytes.per.reducer = 256000000;

-- 启用 Map 端聚合
SET hive.map.aggr = true;</code></pre>
     </li>
     <li>
      <p>
       <strong>
        特点
       </strong>
       :
      </p>
      <ul>
       <li>
        <p>
         修改仅对当前会话有效，退出会话后失效。
        </p>
       </li>
       <li>
        <p>
         适合临时调试或测试。
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h3>
     <strong>
      2. 在 Hive 脚本中设置
     </strong>
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        适用场景
       </strong>
       : 在脚本中定义参数，适用于批量任务。
      </p>
     </li>
     <li>
      <p>
       <strong>
        使用方法
       </strong>
       : 在 Hive 脚本的开头使用
       <code>
        SET
       </code>
       命令。
      </p>
     </li>
     <li>
      <p>
       <strong>
        示例
       </strong>
       :
      </p>
      <pre><code class="language-sql">-- script.hql
SET hive.exec.dynamic.partition = true;
SET hive.exec.dynamic.partition.mode = nonstrict;

INSERT OVERWRITE TABLE target_table PARTITION (dt)
SELECT id, name, dt FROM source_table;</code></pre>
     </li>
     <li>
      <p>
       <strong>
        特点
       </strong>
       :
      </p>
      <ul>
       <li>
        <p>
         参数设置与脚本逻辑绑定，适合自动化任务。
        </p>
       </li>
       <li>
        <p>
         修改仅对当前脚本生效。
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h3>
     <strong>
      3. 在 Hive 配置文件（hive-site.xml）中设置
     </strong>
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        适用场景
       </strong>
       : 全局修改参数，对所有会话生效。
      </p>
     </li>
     <li>
      <p>
       <strong>
        使用方法
       </strong>
       : 修改 Hive 的配置文件
       <code>
        hive-site.xml
       </code>
       。
      </p>
     </li>
     <li>
      <p>
       <strong>
        示例
       </strong>
       :
      </p>
      <pre><code class="language-XML">&lt;configuration&gt;
    &lt;property&gt;
        &lt;name&gt;hive.exec.dynamic.partition&lt;/name&gt;
        &lt;value&gt;true&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;hive.exec.dynamic.partition.mode&lt;/name&gt;
        &lt;value&gt;nonstrict&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;hive.map.aggr&lt;/name&gt;
        &lt;value&gt;true&lt;/value&gt;
    &lt;/property&gt;
&lt;/configuration&gt;</code></pre>
     </li>
     <li>
      <p>
       <strong>
        特点
       </strong>
       :
      </p>
      <ul>
       <li>
        <p>
         修改对所有会话和任务生效。
        </p>
       </li>
       <li>
        <p>
         需要重启 Hive 服务使配置生效。
        </p>
       </li>
       <li>
        <p>
         适合集群管理员全局配置。
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h3>
     <strong>
      4. 在 Hadoop 配置文件（hadoop-site.xml）中设置
     </strong>
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        适用场景
       </strong>
       : 修改与 Hadoop 相关的参数，例如资源管理、压缩等。
      </p>
     </li>
     <li>
      <p>
       <strong>
        使用方法
       </strong>
       : 修改 Hadoop 的配置文件
       <code>
        hadoop-site.xml
       </code>
       或
       <code>
        core-site.xml
       </code>
       。
      </p>
     </li>
     <li>
      <p>
       <strong>
        示例
       </strong>
       :
      </p>
      <pre><code class="language-XML">&lt;configuration&gt;
    &lt;property&gt;
        &lt;name&gt;mapreduce.map.memory.mb&lt;/name&gt;
        &lt;value&gt;4096&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;mapreduce.reduce.memory.mb&lt;/name&gt;
        &lt;value&gt;8192&lt;/value&gt;
    &lt;/property&gt;
&lt;/configuration&gt;</code></pre>
     </li>
     <li>
      <p>
       <strong>
        特点
       </strong>
       :
      </p>
      <ul>
       <li>
        <p>
         修改对所有 Hadoop 任务生效。
        </p>
       </li>
       <li>
        <p>
         需要重启 Hadoop 服务使配置生效。
        </p>
       </li>
       <li>
        <p>
         适合集群管理员全局配置。
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h3>
     <strong>
      5. 在命令行中传递参数
     </strong>
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        适用场景
       </strong>
       : 在提交任务时动态设置参数。
      </p>
     </li>
     <li>
      <p>
       <strong>
        使用方法
       </strong>
       : 使用
       <code>
        hive
       </code>
       或
       <code>
        beeline
       </code>
       命令时通过
       <code>
        -hiveconf
       </code>
       选项传递参数。
      </p>
     </li>
     <li>
      <p>
       <strong>
        示例
       </strong>
       :
      </p>
      <pre><code class="language-bash">hive -hiveconf hive.exec.dynamic.partition=true -hiveconf hive.exec.dynamic.partition.mode=nonstrict -f script.hql</code></pre>
     </li>
     <li>
      <p>
       <strong>
        特点
       </strong>
       :
      </p>
      <ul>
       <li>
        <p>
         参数仅对当前任务生效。
        </p>
       </li>
       <li>
        <p>
         适合在脚本或自动化任务中动态配置。
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h3>
     <strong>
      6. 在调度工具中设置
     </strong>
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        适用场景
       </strong>
       : 在使用调度工具（如 Apache Oozie、Airflow）时配置参数。
      </p>
     </li>
     <li>
      <p>
       <strong>
        使用方法
       </strong>
       : 在调度工具的配置文件中设置 Hive 参数。
      </p>
     </li>
     <li>
      <p>
       <strong>
        示例
       </strong>
       （Oozie）:
      </p>
      <pre><code class="language-XML">&lt;action name="hive-action"&gt;
    &lt;hive xmlns="uri:oozie:hive-action:0.5"&gt;
        &lt;job-tracker&gt;${jobTracker}&lt;/job-tracker&gt;
        &lt;name-node&gt;${nameNode}&lt;/name-node&gt;
        &lt;configuration&gt;
            &lt;property&gt;
                &lt;name&gt;hive.exec.dynamic.partition&lt;/name&gt;
                &lt;value&gt;true&lt;/value&gt;
            &lt;/property&gt;
            &lt;property&gt;
                &lt;name&gt;hive.exec.dynamic.partition.mode&lt;/name&gt;
                &lt;value&gt;nonstrict&lt;/value&gt;
            &lt;/property&gt;
        &lt;/configuration&gt;
        &lt;script&gt;script.hql&lt;/script&gt;
    &lt;/hive&gt;
&lt;/action&gt;</code></pre>
     </li>
     <li>
      <p>
       <strong>
        特点
       </strong>
       :
      </p>
      <ul>
       <li>
        <p>
         参数与调度任务绑定，适合自动化工作流。
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h3>
     <strong>
      7. 在 HiveServer2 中设置
     </strong>
    </h3>
    <ul>
     <li>
      <p>
       <strong>
        适用场景
       </strong>
       : 在使用 JDBC/ODBC 连接 HiveServer2 时配置参数。
      </p>
     </li>
     <li>
      <p>
       <strong>
        使用方法
       </strong>
       : 在连接字符串或客户端中设置参数。
      </p>
     </li>
     <li>
      <p>
       <strong>
        示例
       </strong>
       （Beeline）:
      </p>
      <pre><code class="language-bash">beeline -u jdbc:hive2://localhost:10000 -n username -p password --hiveconf hive.exec.dynamic.partition=true</code></pre>
     </li>
     <li>
      <p>
       <strong>
        特点
       </strong>
       :
      </p>
      <ul>
       <li>
        <p>
         参数仅对当前连接会话生效。
        </p>
       </li>
       <li>
        <p>
         适合通过 JDBC/ODBC 连接时动态配置。
        </p>
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h3>
     <strong>
      总结
     </strong>
    </h3>
    <p>
     Hive 参数的配置方式多样，具体选择取决于使用场景：
    </p>
    <ul>
     <li>
      <p>
       <strong>
        临时调试
       </strong>
       : 在 Hive CLI 或 Beeline 中使用
       <code>
        SET
       </code>
       命令。
      </p>
     </li>
     <li>
      <p>
       <strong>
        脚本任务
       </strong>
       : 在 Hive 脚本中设置参数。
      </p>
     </li>
     <li>
      <p>
       <strong>
        全局配置
       </strong>
       : 修改
       <code>
        hive-site.xml
       </code>
       或
       <code>
        hadoop-site.xml
       </code>
       。
      </p>
     </li>
     <li>
      <p>
       <strong>
        动态任务
       </strong>
       : 在命令行或调度工具中传递参数。
      </p>
     </li>
    </ul>
    <p>
     根据实际需求选择合适的配置方式，可以有效提升 Hive 的性能和灵活性。
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f36333332323132322f:61727469636c652f64657461696c732f313436313835343030" class_="artid" style="display:none">
 </p>
</div>


