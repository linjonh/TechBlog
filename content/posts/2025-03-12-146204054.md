---
arturl_encode: "68747470733a2f2f626c6f67:2e6373646e2e6e65742f6b616e676b616e676c756f6c756f2f:61727469636c652f64657461696c732f313436323034303534"
layout: post
title: "Insarç»“åˆISCE2,æŸä¸€ä¸ªæ–‡ä»¶è¿›è¡Œå¹¶è¡Œ-stackSentinel.py"
date: 2025-03-12 14:16:18 +08:00
description: "ã€ä»£ç ã€‘Insarç»“åˆISCE2ï¼ŒæŸä¸€ä¸ªæ–‡ä»¶è¿›è¡Œå¹¶è¡Œ-stackSentinel.pyã€‚"
keywords: "Insarç»“åˆISCE2ï¼ŒæŸä¸€ä¸ªæ–‡ä»¶è¿›è¡Œå¹¶è¡Œ-stackSentinel.py"
categories: ['æœªåˆ†ç±»']
tags: ['Python', 'Linux']
artid: "146204054"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146204054
    alt: "Insarç»“åˆISCE2,æŸä¸€ä¸ªæ–‡ä»¶è¿›è¡Œå¹¶è¡Œ-stackSentinel.py"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146204054
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146204054
cover: https://bing.ee123.net/img/rand?artid=146204054
image: https://bing.ee123.net/img/rand?artid=146204054
img: https://bing.ee123.net/img/rand?artid=146204054
---

# Insarç»“åˆISCE2ï¼ŒæŸä¸€ä¸ªæ–‡ä»¶è¿›è¡Œå¹¶è¡Œ-stackSentinel.py

## stackSentinel.py

## ä¾æ¬¡æ‰§è¡Œ run\_01 åˆ° run\_15ï¼Œè®°å½•å„è‡ªçš„æ—¥å¿—

## å¹¶è¡Œæ‰§è¡Œ run\_16 é‡Œçš„æ‰€æœ‰å‘½ä»¤ï¼Œä»ç„¶è®°å½•æ—¥å¿—

### ä¸çŸ¥é“å¯¹ä¸å¯¹ï¼Œæµ‹è¯•çš„æ—¶é—´æœ‰ç‚¹é•¿å°±ç»™åœäº†

```bash
#!/bin/bash

# âœ… é€‚ç”¨äº WSL/Linux
runfiles_path="/mnt/e/insar_order_test/Stacks/run_files"
log_dir="/mnt/e/insar_order_test/logs"

# åˆ›å»ºæ—¥å¿—ç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
mkdir -p "$log_dir"

# ä¾æ¬¡æ‰§è¡Œ run_01 åˆ° run_15ï¼Œå¹¶è®°å½•æ—¥å¿—
for file in $(ls $runfiles_path/run_??_* 2>/dev/null | grep -v "run_16" | sort); do
    log_file="$log_dir/$(basename "$file").log"
    
    echo "=============================================" | tee -a "$log_file"
    echo "Executing: $file" | tee -a "$log_file"
    echo "======= Contents of $file =======" | tee -a "$log_file"
    cat "$file" 2>/dev/null | tee -a "$log_file"
    echo "=============================================" | tee -a "$log_file"

    # æ‰§è¡Œæ–‡ä»¶ï¼Œå¹¶åŒæ—¶åœ¨ç»ˆç«¯æ‰“å°å’Œæ—¥å¿—ä¿å­˜
    bash "$file" | tee -a "$log_file"

    echo "âœ… Execution of $file completed!" | tee -a "$log_file"
done

# âœ… å¹¶è¡Œæ‰§è¡Œ run_16 é‡Œé¢çš„æ‰€æœ‰å‘½ä»¤
run_16_file="$runfiles_path/run_16"
log_16="$log_dir/run_16.log"

if [ -f "$run_16_file" ]; then
    echo "ğŸ”„ å¼€å§‹å¹¶è¡Œæ‰§è¡Œ run_16 å‘½ä»¤..." | tee -a "$log_16"
    cat "$run_16_file" | tee -a "$log_16" | parallel -j 8 --joblog "$log_dir/parallel_run_16.log" | tee -a "$log_16"
    echo "âœ… run_16 å‘½ä»¤å…¨éƒ¨æ‰§è¡Œå®Œæˆï¼" | tee -a "$log_16"
else
    echo "âš ï¸ è­¦å‘Šï¼šrun_16 æ–‡ä»¶æœªæ‰¾åˆ°ï¼Œè·³è¿‡è¯¥æ­¥éª¤ï¼" | tee -a "$log_dir/run_all.log"
fi

echo "âœ… æ‰€æœ‰ä»»åŠ¡å·²æŒ‰é¡ºåºæ‰§è¡Œå®Œæˆï¼" | tee -a "$log_dir/run_all.log"

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/5b382ff7785e451a92829309bfbf4835.png)