---
layout: post
title: "SqlServer-数据库同步的两种方式-发布订阅,主从数据库之间的同步"
date: 2024-12-04 14:18:11 +0800
description: "最近在琢磨主从数据库之间的同步，公司正好也需要，在园子里找了一下，看到这篇博文比较详细，比较简单，本"
keywords: "sql server 主从同步方案"
categories: ['C']
tags: ['无标签']
artid: "103732259"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=103732259
    alt: "SqlServer-数据库同步的两种方式-发布订阅,主从数据库之间的同步"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=103732259
featuredImagePreview: https://bing.ee123.net/img/rand?artid=103732259
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     SqlServer 数据库同步的两种方式 (发布、订阅)，主从数据库之间的同步
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     最近在琢磨主从数据库之间的同步，公司正好也需要，在园子里找了一下，看到这篇博文比较详细，比较简单，本人亲自按步骤来过，现在分享给大家。
    </p>
    <p>
     在这里要提醒大家的是（为了更好的理解，以下是本人自己理解，如有错误，请指出）：主数据库一般是把数据发布出去，然后在连接从数据库对发布的数据进行订阅，同步到从数据库中。
    </p>
    <p>
     <em>
      1、发布。
     </em>
     <strong>
      发布需要用实际的服务器名称，不能使用服务器的IP地址进行。能发布的信息包括【表】、【存储过程】、【用户函数】
     </strong>
     如果使用IP会有错误，如下图：
    </p>
    <p>
     具体发布过程如下：
    </p>
    <p>
     1、找到数据库服务器下的【复制】--【本地发布】，选择【新建发布】。如下图：
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/4579df012d318240ff44be1caca9b6cb.png"/>
    </p>
    <p>
     2.选择待发布的数据库。如下图：
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/74009086df785472f04dca6265431829.png"/>
    </p>
    <p>
     3、选择发布类型。这里选择的默认类型【快照发布】。几种发布类型的区别，SQL SERVER都在下面给出了说明。如下图：
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/357efc88be7406f502aabe228158cedb.png"/>
    </p>
    <p>
     4、选择待发布的类容。如下图：
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/4fe79b319a5ecb0d693d8027a838d4e7.png"/>
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/129b39d7992b650558ca0a6e692496b3.png"/>
    </p>
    <p>
     上图中右侧就是筛选的SQL语句。
    </p>
    <p>
     5、设置快照代理。如下图：
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/30d5452a7b4b29658041c6305fbcd11f.png"/>
    </p>
    <p>
     更改同步频率如下图：
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/410987901c9e2a3fbed2f62f4c576104.png"/>
    </p>
    <p>
     6、设置代理安全性。如下图：
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/e66cb8f3f970594400aa3d5d097461eb.png"/>
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/6cafb27bfb2556e132b67568525ec833.png"/>
    </p>
    <p>
     7、填写发布名称
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/553285e7211fd4b44ad846ae5a972415.png"/>
    </p>
    <p>
     8、完成发布。如下图：
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/bb026b4838eadbb1864ae95ded140d3a.png"/>
    </p>
    <p>
     <em>
      2、订阅
     </em>
     。订阅是对数据库发布的快照进行同步，将发布的数据源数据同步到目标数据库。具体订阅过程如下；
    </p>
    <p>
     1、找到数据库服务器下的【复制】--【本地订阅】，选择【新建订阅】。如下图：
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/d9b9ad8e7c9b9be778734ce843c1e64e.png"/>
    </p>
    <p>
     2、选择订阅的发布。如下图：
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/261289630d56347adc1591c2505080e0.png"/>
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/5ec086df2b9f72cb8ca8db2329cc158c.png"/>
    </p>
    <p>
     3、选择分发代理的位置；如下图：
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/c70824ff740ff7b05e0272007e507ef8.png"/>
    </p>
    <p>
     4、选择订阅服务器上的存放同步过来的数据的一个或者多个目标数据库。如下图：
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/b4b84ff533904b6d13938af87b3a546f.png"/>
    </p>
    <p>
     若要添加多个订阅数据库，则点击【添加订阅服务器】。如下图：
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/4c60b28d06396d958a4e6d2510f15295.png"/>
    </p>
    <p>
     5、设置分发代理的安全性。如下图：
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/a8ed8b5fd28ee549d5ec079c87c11e9f.png"/>
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/fe257a70e1b566655457fd70c9aa239a.png"/>
    </p>
    <p>
     6、设置同步计划。如下图：
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/996ea904d18dc2d9227efa9d0aa75fd8.png"/>
    </p>
    <p>
     7、完成订阅。如下图：
    </p>
    <p>
     <img alt="" class="has" src="https://i-blog.csdnimg.cn/blog_migrate/84373e9cf6a1c2a8631e9cef55962db8.png"/>
    </p>
    <p>
     这样就完成了发布与订阅的整个流程。
    </p>
    <p>
     这里，和上节一起就介绍完了SQL Server数据库同步的两种方式，希望对你有用。
    </p>
    <p>
     热爱世间万物，没例外，没最爱。
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f416e647265776e69752f:61727469636c652f64657461696c732f313033373332323539" class_="artid" style="display:none">
 </p>
</div>


