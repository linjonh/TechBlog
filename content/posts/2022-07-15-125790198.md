---
layout: post
title: "Freemarker基础教程一"
date: 2022-07-15 09:12:00 +0800
description: "本文介绍了FreeMarker作为一款Java模板引擎的用途，并详细讲解了如何在SpringBoot"
keywords: "freemarker菜鸟教程"
categories: ['未分类']
tags: ['Spring', 'Java', 'Boot']
artid: "125790198"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=125790198
  alt: "Freemarker基础教程一"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=125790198
featuredImagePreview: https://bing.ee123.net/img/rand?artid=125790198
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Freemarker基础教程（一）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p id="main-toc">
     <strong>
      目录
     </strong>
    </p>
    <p id="freemarker%20%E4%BB%8B%E7%BB%8D-toc" style="margin-left:0px;">
     <a href="#freemarker%20%E4%BB%8B%E7%BB%8D" rel="nofollow">
      1、freemarker 介绍
     </a>
    </p>
    <p id="2%E3%80%81%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%26%26%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8-toc" style="margin-left:0px;">
     <a href="#2%E3%80%81%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%26%26%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8" rel="nofollow">
      2、环境搭建&amp;&amp;快速入门
     </a>
    </p>
    <p id="2.1)%20%E5%88%9B%E5%BB%BA%E6%B5%8B%E8%AF%95%E5%B7%A5%E7%A8%8B-toc" style="margin-left:40px;">
     <a href="#2.1%29%20%E5%88%9B%E5%BB%BA%E6%B5%8B%E8%AF%95%E5%B7%A5%E7%A8%8B" rel="nofollow">
      2.1) 创建测试工程
     </a>
    </p>
    <p id="2.2)%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-toc" style="margin-left:40px;">
     <a href="#2.2%29%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" rel="nofollow">
      2.2) 配置文件
     </a>
    </p>
    <p id="2.3)%20%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%9E%8B%E7%B1%BB-toc" style="margin-left:40px;">
     <a href="#2.3%29%20%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%9E%8B%E7%B1%BB" rel="nofollow">
      2.3) 创建模型类
     </a>
    </p>
    <p id="2.4)%20%E5%88%9B%E5%BB%BA%E6%A8%A1%E6%9D%BF-toc" style="margin-left:40px;">
     <a href="#2.4%29%20%E5%88%9B%E5%BB%BA%E6%A8%A1%E6%9D%BF" rel="nofollow">
      2.4) 创建模板
     </a>
    </p>
    <p id="2.5)%20%E5%88%9B%E5%BB%BAcontroller-toc" style="margin-left:40px;">
     <a href="#2.5%29%20%E5%88%9B%E5%BB%BAcontroller" rel="nofollow">
      2.5) 创建controller
     </a>
    </p>
    <p id="2.6)%20%E5%88%9B%E5%BB%BA%E5%90%AF%E5%8A%A8%E7%B1%BB-toc" style="margin-left:40px;">
     <a href="#2.6%29%20%E5%88%9B%E5%BB%BA%E5%90%AF%E5%8A%A8%E7%B1%BB" rel="nofollow">
      2.6) 创建启动类
     </a>
    </p>
    <p id="2.7)%20%E6%B5%8B%E8%AF%95-toc" style="margin-left:40px;">
     <a href="#2.7%29%20%E6%B5%8B%E8%AF%95" rel="nofollow">
      2.7) 测试
     </a>
    </p>
    <hr id="hr-toc"/>
    <p>
    </p>
    <h2 id="freemarker%20%E4%BB%8B%E7%BB%8D">
     1、freemarker 介绍
    </h2>
    <p>
     <strong>
      FreeMarker 是一款 模板引擎
     </strong>
     ： 即一种基于模板和要改变的数据， 并用来生成输出文本(HTML网页，电子邮件，配置文件，源代码等)的通用工具。
    </p>
    <p>
     它不是面向最终用户的，而是一个Java类库，是一款程序员可以嵌入他们所开发产品的组件。
    </p>
    <p>
     模板编写为FreeMarker Template Language (FTL)。它是简单的，专用的语言，
     <em>
      不是
     </em>
     像PHP那样成熟的编程语言。 那就意味着要准备数据在真实编程语言中来显示，比如数据库查询和业务运算， 之后模板显示已经准备好的数据。在模板中，你可以专注于如何展现数据， 而在模板之外可以专注于要展示什么数据。
    </p>
    <p>
     <img alt="" height="199" src="https://i-blog.csdnimg.cn/blog_migrate/18d11553f17e3269ff81094fea1c3726.png" width="527"/>
    </p>
    <p>
     <strong>
      常用的java模板引擎还有哪些？
     </strong>
    </p>
    <p>
     1.Jsp  ：为 Servlet 专用，不能单独进行使用。
    </p>
    <p>
     2.Thymeleaf ：为新技术，功能较为强大，但是执行的效率比较低。
    </p>
    <p>
     3.Velocity：从2010年更新完 2.0 版本后，便没有在更新。Spring Boot 官方在 1.4 版本后对此也不在支持，虽然 Velocity 在 2017 年版本得到迭代，但为时已晚。
    </p>
    <h2 id="2%E3%80%81%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%26%26%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8">
     2、环境搭建&amp;&amp;快速入门
    </h2>
    <p>
     freemarker作为springmvc一种视图格式，默认情况下SpringMVC支持freemarker视图格式。
    </p>
    <p>
     需要创建Spring Boot+Freemarker工程用于测试模板。
    </p>
    <h3 id="2.1)%20%E5%88%9B%E5%BB%BA%E6%B5%8B%E8%AF%95%E5%B7%A5%E7%A8%8B">
     2.1) 创建测试工程
    </h3>
    <p>
     创建一个freemarker-demo 的测试工程专门用于freemarker的功能测试与模板的测试。
    </p>
    <p>
     pom.xml如下
    </p>
    <pre><code class="language-XML">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;artifactId&gt;freemarker-demo&lt;/artifactId&gt;

    &lt;properties&gt;
        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;
        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;!-- lombok --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
            &lt;artifactId&gt;lombok&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;!-- apache 对 java io 的封装工具库 --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;
            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;
            &lt;version&gt;1.3.2&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

&lt;/project&gt;</code></pre>
<h3 id="2.2)%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">
2.2) 配置文件
</h3>
<p>
配置 application.yml
</p>
<pre><code class="language-XML">server:
port: 8881 #服务端口
spring:
application:
name: freemarker-demo #指定服务名
freemarker:
cache: false #关闭模板缓存，方便测试
settings:
template_update_delay: 0 #检查模板更新延迟时间，设置为 0 表示立即检查，如果时间大于 0 会有缓存不方便进行模板测试
suffix: .ftl #指定 Freemarker 模板文件的后缀名</code></pre>
<h3 id="2.3)%20%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%9E%8B%E7%B1%BB">
2.3) 创建模型类
</h3>
<p>
在 freemarker 的测试工程下创建模型类型用于测试
</p>
<pre><code class="language-java">package com.hd.freemarker.entity;

import lombok.Data;

import java.util.Date;
/\*\*

- @Description: 数据模型
- @Author: 芈侠
- @createTime: 2022 年 07 月 15 日 08:46:38
  \*/

@Data
public class Student {
private String name;//姓名
private int age;//年龄
private Date birthday;//生日
private Float money;//钱包
}
</code></pre>
<h3 id="2.4)%20%E5%88%9B%E5%BB%BA%E6%A8%A1%E6%9D%BF">
2.4) 创建模板
</h3>
<p>
在 resources 下创建 templates，此目录为 freemarker 的默认模板存放目录。
</p>
<p>
在 templates 下创建模板文件 01-basic.ftl ，模板中的插值表达式最终会被 freemarker 替换成具体的数据。
</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;title&gt;Hello World!&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;b&gt;普通文本 String 展示：&lt;/b&gt;&lt;br&gt;&lt;br&gt;
Hello ${name} &lt;br&gt;
&lt;hr&gt;
&lt;b&gt;对象Student中的数据展示：&lt;/b&gt;&lt;br/&gt;
姓名：${stu.name}&lt;br/&gt;
年龄：${stu.age}
&lt;hr&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h3 id="2.5)%20%E5%88%9B%E5%BB%BAcontroller">
2.5) 创建 controller
</h3>
<p>
创建 Controller 类，向 Map 中添加 name，最后返回模板文件。
</p>
<pre><code class="language-java">package com.hd.freemarker.controller;

import com.hd.freemarker.entity.Student;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;

/\*\*

- @Description: 前端控制器
- @Author: 芈侠
- @createTime: 2022 年 07 月 15 日 08:48:43
  \*/

@Controller
public class HelloController {

    @GetMapping("/basic")
    public String test(Model model) {


        //1.纯文本形式的参数
        model.addAttribute("name", "freemarker");
        //2.实体类相关的参数
        Student student = new Student();
        student.setName("小红");
        student.setAge(20);
        model.addAttribute("stu", student);

        return "01-basic";
    }

}
</code></pre>
<h3 id="2.6)%20%E5%88%9B%E5%BB%BA%E5%90%AF%E5%8A%A8%E7%B1%BB">
2.6) 创建启动类
</h3>
<pre><code class="language-java">package com.hd.freemarker;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
/\*\*

- @Description: 启动类
- @Author: 芈侠
- @createTime: 2022 年 07 月 15 日 08:42:05
\*/
@SpringBootApplication
public class FreemarkerDemotApplication {
public static void main(String[] args) {
SpringApplication.run(FreemarkerDemotApplication.class,args);
}
}
</code></pre>
<h3 id="2.7)%20%E6%B5%8B%E8%AF%95">
2.7) 测试
</h3>
<p>
地址：
<a href="http://localhost:8881/basic" rel="nofollow" title="http://localhost:8881/basic">
http://localhost:8881/basic
</a>
</p>
<p>
<img alt="" height="206" src="https://i-blog.csdnimg.cn/blog_migrate/ce7143df7bfad04297c4896a063b2108.png" width="408"/>
</p>
<p>
</p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f79756e68656e67313939342f:61727469636c652f64657461696c732f313235373930313938" class_="artid" style="display:none">
 </p>
</div>
