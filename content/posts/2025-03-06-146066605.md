---
layout: post
title: "腾讯云大模型知识引擎LKEDeepSeek结合工作流升级智能客服"
date: 2025-03-06 12:47:59 +0800
description: "在上期教程中介绍了，如何通过知识库打造智能客服系统，本期教程将介绍如何结合工作流，打造更具交互性的，能够远程调用API的智能客服系统。"
keywords: "腾讯 大模型知识引擎 lke应用demo c#"
categories: ['日常运维问题合集']
tags: ['腾讯云', '云计算', 'Ai']
artid: "146066605"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146066605
    alt: "腾讯云大模型知识引擎LKEDeepSeek结合工作流升级智能客服"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146066605
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146066605
cover: https://bing.ee123.net/img/rand?artid=146066605
image: https://bing.ee123.net/img/rand?artid=146066605
img: https://bing.ee123.net/img/rand?artid=146066605
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     腾讯云大模型知识引擎LKE+DeepSeek结合工作流升级智能客服
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="_0">
     </a>
     前言
    </h2>
    <p>
     在上期教程中介绍了，如何通过知识库打造智能客服系统，本期教程将介绍如何结合工作流，打造更具交互性的，能够远程调用API的智能客服系统。
    </p>
    <p>
     本图文教程的视频版已发布：腾讯云大模型知识引擎LKE+DeepSeek结合工作流升级智能客服（
     <a href="https://cloud.tencent.com/developer/video/82131" rel="nofollow">
      https://cloud.tencent.com/developer/video/82131
     </a>
     ）
    </p>
    <p>
     下图为工作流部分功能演示。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/bdcf4e1a0536283eaa368821914e2607.gif"/>
    </p>
    <h2>
     <a id="_10">
     </a>
     一、开发票工作流
    </h2>
    <h3>
     <a id="11__12">
     </a>
     1.1 新建工作流
    </h3>
    <p>
     点击上方工作流管理，通过手动录入的方式新建一个工作流，这里创建一个开发票的工作流，首先输入工作流的名称和相关描述，描述的内容也可以通过AI进行优化。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/1c48eced5c8125bd79afe60c5733e611.gif"/>
    </p>
    <h3>
     <a id="12__18">
     </a>
     1.2 新手向导
    </h3>
    <p>
     在首次使用的时候，可能会弹出新手向导，这里就使用系统自带的示例进行演示。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/43bc87214ace4305535bc6ebe4803d7b.gif"/>
    </p>
    <h3>
     <a id="13__24">
     </a>
     1.3 示例工作流
    </h3>
    <p>
     此时已经自动生成了一个简单的工作流，工作流提供了直观的可视化画布，支持通过多种节点来编排复杂的业务流程。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/08bbf4494664c387633b29984cb3a92d.gif"/>
    </p>
    <h3>
     <a id="14__30">
     </a>
     1.4 分析示例工作流
    </h3>
    <p>
     这里的流程是首先提取开票类型，根据用户输入的信息，提取开票类型，可以是自开或代开，接下来通过条件判断语句，如果是自开，则走上面的大模型路线，这里会通过大模型，来解释自开发票所需要的步骤，如果是代开发票，则直接回复代开发票的文本内容，因为这只是一个演示，并没有真正的开发票，所以它只是走了一个工作流的流程，最后将内容输出并结束。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/85fa61538799dba0971d0f023391f7be.gif"/>
    </p>
    <h3>
     <a id="15__36">
     </a>
     1.5 调试示例工作流
    </h3>
    <p>
     现在可以调试一下，根据输入的内容，工作流会自动提取关键字，当我们输入自开的时候，他就会走上面的路线，当我们输入代开的时候，他就会走下面的路线，这是因为，工作流提取到了用户输入的内容之后，通过条件判断，来决定不同的流程处理方式。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/22db913d1143f6d6685a823586512d97.gif"/>
    </p>
    <h3>
     <a id="16__42">
     </a>
     1.6 提取抬头税号
    </h3>
    <p>
     因为这个工作流，目前是走大模型语言来解释开票流程，不太符合我们正常的开票逻辑，我们将这个工作流改进一下。
    </p>
    <p>
     首先将之前的内容删掉，然后添加新的工作节点，先添加一个参数提取节点，将其名称改成发票信息，通过这个节点，提取发票所需要的抬头和税号，先输入抬头，然后在下面输入描述，这个描述也能一键AI，用AI优化的方式来完善，同理添加税号。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/a3b56850951c5017e33bf8a6539aede7.gif"/>
    </p>
    <h3>
     <a id="17__50">
     </a>
     1.7 选择发票类型
    </h3>
    <p>
     接下来添加一个选项卡节点，将选项卡改为发票类型，这里填写的引导语，就是让用户选择具体的发票类型，假设有电子普票和电子专票，两种发票类型可以选择。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/5104a0e3d69a36b25e8a1752cebe40ae.gif"/>
    </p>
    <h3>
     <a id="18__56">
     </a>
     1.8 条件判断
    </h3>
    <p>
     接下来添加一个条件判断节点，根据用户选择的发票类型，决定不同的处理流程。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/eae6ed1e08e71c92c6579b6e29cfdc36.gif"/>
    </p>
    <h3>
     <a id="19__62">
     </a>
     1.9 工作组件介绍
    </h3>
    <p>
     正常的流程此时应该调用API，可以利用工具组件，调用我们自己开发好的业务API，接受参数开具发票，但因为我们这里只是演示，所以这个开发票的环节，就不做API处理了。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/aeb7101b5e77b3b93352b67572306dbe.gif"/>
    </p>
    <h3>
     <a id="110__68">
     </a>
     1.10 设置普票回复内容
    </h3>
    <p>
     在这里，直接就根据用户选择的电子普票，和电子专票，这两种发票类型，做两种文本的处理方式，用于演示开发票的过程，根据下方要返回的内容，在上面输入变量。首先是抬头数据类型选择引用，选择发票信息的抬头，税号也是如此，类型选择引用，选择发票类型，那个选项卡里面的用户选择的内容，然后将下方的信息补全，这里插入变量的方式是输入
     <code>
      /
     </code>
     ，然后就可以手动选择，上面已经输入好的变量，我们将变量信息一一填写到位。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/38e1c6ace004b7c9c76bb1d2093088fe.gif"/>
    </p>
    <h3>
     <a id="111__74">
     </a>
     1.11 设置专票回复内容
    </h3>
    <p>
     同理，添加一个新的处理节点，用于返回选择电子专票时的信息，将三个回复节点的最终流程都指向结束，此时开发票的这么一个工作流，就已经设置完毕了。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/9c8ab2ce8d41b982a99be78a75c9c978.gif"/>
    </p>
    <h3>
     <a id="112__80">
     </a>
     1.12 调试新工作流
    </h3>
    <p>
     点击开始调试，首先系统会让我们输入，开发票所需要的抬头和税号，其次系统让我们选择发票类型，根据发票选择的类型，电子普票、电子专票，通过判断返回不同的处理信息，模拟真实的开票流程，至此开发票的工作流就设置完毕。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/49386b17600530d266d03ada724b43b7.gif"/>
    </p>
    <h2>
     <a id="_86">
     </a>
     二、到店预约工作流
    </h2>
    <h3>
     <a id="21__88">
     </a>
     2.1 新建到店预约工作流
    </h3>
    <p>
     为了体验更多的功能，我们再创建一个新的工作流到店预约，这个工作流将体现如何调用业务API，结合自身数据库来返回相关的信息。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/329f0fad27c4c6942bbe0c2869a18b8b.gif"/>
    </p>
    <h3>
     <a id="22__94">
     </a>
     2.2 建立选项卡节点
    </h3>
    <p>
     首先建立一个选项卡节点，用于让用户选择，到店预约体验的手机型号。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/33c89500c639599cf23b0d4ac2192da1.gif"/>
    </p>
    <h3>
     <a id="23__100">
     </a>
     2.3 建立参数提取节点
    </h3>
    <p>
     接下来创建一个参数提取节点，用于提取用户到店预约的时间和手机号，这个时间要支持语义描写，比如说当用户输入明天、后天的时候，要统一转化成某种固定的格式，统一格式才能方便于后面的API调用，
    </p>
    <p>
     提示词，可以通过一键AI优化来进行改写。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/3c7c966dc19e38a19dec9ed7e23a01e3.gif"/>
    </p>
    <h3>
     <a id="24__108">
     </a>
     2.4 建立默认回复节点
    </h3>
    <p>
     接下来创建一个回复节点，用于处理，用户没有选择选项卡之中的两个型号的时候，这种情况下给用户一个提示。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/5734ba731ff1fd4b0ae64b9c50244696.gif"/>
    </p>
    <h3>
     <a id="25__114">
     </a>
     2.5 创建工具节点
    </h3>
    <p>
     在预约信息节点后面，创建一个工具节点，这个工具节点，主要用于API的业务判断，此时要接入我们自己写好的API，如果不会填写，可以点击右上角导入模板，API的填写方式。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/32c6470f4b72d37737db0e2293f38fce.gif"/>
    </p>
    <h3>
     <a id="26_API_120">
     </a>
     2.6 API接口代码逻辑
    </h3>
    <p>
     这里我用PHP写好了一个API预约的接口代码，我们首先通过接受三个变量，然后进行判断，也可以通过数据库的方法来判断，但是这里演示的时候，我直接将预约条件写死了，生成两个条件，一个是预约成功，一个是预约失败。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/d3ffb528e44ed32cae4d94fd2dc34878.gif"/>
    </p>
    <h3>
     <a id="27_API_126">
     </a>
     2.7 配置工具API接口参数
    </h3>
    <p>
     然后填写正确的API接口，设置请求参数的变量，完善输出变量。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/4c959ddc90e0f7db82f40387b906b072.gif"/>
    </p>
    <h3>
     <a id="28__132">
     </a>
     2.8 建立条件判断节点
    </h3>
    <p>
     再添加一个条件判断节点，用于判断接口返回的数值，是成功还是失败，成功就接入一个预约成功的回复信息，失败就接入一个预约失败的回复信息。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/7b993a7c6050a0e8e93ac4d38ba5c8e0.gif"/>
    </p>
    <h3>
     <a id="29__138">
     </a>
     2.9 完善回复信息
    </h3>
    <p>
     然后填写预约成功，预约失败的返回信息，并设置相关变量，其中到店时间，手机号和预约的手机类型，是通过之前用户输入的工作流节点获取的，而返回信息和地址变量，则是通过API工具节点获取。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/38f6a55c345546f2edaacab180535fd1.gif"/>
    </p>
    <h3>
     <a id="210__144">
     </a>
     2.10 配置完成
    </h3>
    <p>
     设置完成后，将所有的回复节点，都统一连接至结束节点，至此一个到店预约的工作流就设置完毕了。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/860d83eaa8afa49503326ef51402537a.gif"/>
    </p>
    <h3>
     <a id="211____150">
     </a>
     2.11 开启调试 - 预约失败流程
    </h3>
    <p>
     开启调试，测试工作流，首先工作流会返回让我们选择要体验的手机型号，然后让我们输入到店时间，
    </p>
    <p>
     这个时候是支持语义输入的，可以输入明天、后天这样的词，接下来输入手机号，此时工作流准备调用API接口，来判断是否能够预约，因为在程序中已经设定好了，这个手机的型号和这个时间是无法预约的，所以返回预约失败的流程，可以重新观察一下这个执行的流程。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/1fbb4b113912c0afaf5155f1d2c70b65.gif"/>
    </p>
    <h3>
     <a id="212____158">
     </a>
     2.12 开启调试 - 预约成功流程
    </h3>
    <p>
     接下来，我们测试一下返回成功的预约请求，同样还是先选择一个要体验的手机类型，然后输入到店时间，输入手机号码，系统这时候已经开始准备调用API了，这时候因为程序判定，这回会返回正确的可以预约的状态码，此时就返回预约成功的信息，可以看到，工作流执行的是预约成功的流程。点击详情，还能够查看每一步工作流的调用方式，以及各种参数的使用。
    </p>
    <p>
     至此到店预约的工作流，就已经全部设置完毕。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/c2a908a3995c67938f8fe7a172d754ce.gif"/>
    </p>
    <h2>
     <a id="_166">
     </a>
     三、欢迎语工作流
    </h2>
    <h3>
     <a id="31__168">
     </a>
     3.1 新建工作流
    </h3>
    <p>
     在此基础上，我们还可以进行一些扩展，比如说在某个工作流之中，调用另外一个工作流，以实现工作流之间的互相传递。
    </p>
    <p>
     此时再创建一个新的工作流
     <strong>
      欢迎语
     </strong>
     ，用于用户在首次发送消息的时候，引导用户的操作。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/6a47b0c421d4a6f139885f17923ab6de.gif"/>
    </p>
    <h3>
     <a id="32__176">
     </a>
     3.2 配置节点
    </h3>
    <p>
     首先添加一个选项卡节点，输入服务引导，填写三个选项，分别是开发票、到店预约、了解产品，在开发票节点上选择开发票的工作流，同理到店预约，选择到店预约的工作流，了解产品，直接添加一个回复菜单，提示用户输入相关信息。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/054bfb76f0d09bd9af60202ffff263f7.gif"/>
    </p>
    <h3>
     <a id="33__182">
     </a>
     3.3 调试工作流
    </h3>
    <p>
     这样一个调用其他工作流的工作流，就已经制作完毕了。测试一下可以看到他们分别走了不同的流程，首先是开发票的流程，其次是到店预约的流程。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/029787addc6441590c147e3227a773f3.gif"/>
    </p>
    <h2>
     <a id="_188">
     </a>
     四、知识库+工作流综合使用
    </h2>
    <p>
     在上一期的教程中，已经设置好了知识库，本次教程就不再设置了，工作流默认是已经打开的，可以直接测试。
    </p>
    <p>
     <strong>
      功能分解说明：
     </strong>
    </p>
    <ul>
     <li>
      当我们首次发送消息的时候，系统会自动调用欢迎语的工作流。
     </li>
     <li>
      根据我们的选择方式不同，会调用欢迎与内部的开发票，到店预约等工作流的分支。
     </li>
     <li>
      仍可以兼容知识库的一问一答的方式
     </li>
     <li>
      也可以通过语义的方式触发工作流。比如说发送
      <strong>
       我要开发票
      </strong>
      、
      <strong>
       开发票
      </strong>
      之类的，也能够触发相应的工作流。
     </li>
    </ul>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/6e12a921c2fb4f3a498f402d25a0f1ed.gif"/>
    </p>
    <h2>
     <a id="_201">
     </a>
     五、官网文档介绍
    </h2>
    <p>
     在腾讯云官方网站的文档上，有对工作流的详细介绍，其中也有一些示例，比如如何使用DeepSeek，打造更为复杂的业务工作流。
    </p>
    <p>
     <img alt="请在此添加图片描述" src="https://i-blog.csdnimg.cn/img_convert/8746aec366193ed018f42bd54c492f30.gif"/>
    </p>
    <p>
     本期教程到此结束，关于知识库、工作流的更详细的应用，可以参考腾讯云的官方文档。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34323236303734382f:61727469636c652f64657461696c732f313436303636363035" class_="artid" style="display:none">
 </p>
</div>


