---
layout: post
title: "FlutterAndroid与Flutter混合开发详细教程"
date: 2025-03-12 20:02:48 +0800
description: "如果有此错误Caused by: org.gradle.api.internal.plugins.PluginApplicationException: Failed to apply plugin class 'FlutterPlugin'.编译成功之后，可以按照标红这一块步骤，去宿主安卓项目进行配置，从而引用aar包；如果想快速编译成功，可以修改两位置本地已经下载库对应的版本号。我这里选择的是 Groovy DSL 语言，此时可以按照上面步骤可以解决。"
keywords: "Flutter——Android与Flutter混合开发详细教程"
categories: ['Flutter']
tags: ['Flutter', 'Android']
artid: "146212979"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146212979
    alt: "FlutterAndroid与Flutter混合开发详细教程"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146212979
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146212979
cover: https://bing.ee123.net/img/rand?artid=146212979
image: https://bing.ee123.net/img/rand?artid=146212979
img: https://bing.ee123.net/img/rand?artid=146212979
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Flutter——Android与Flutter混合开发详细教程
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <p>
    </p>
    <h2>
     <a id="1FlutterModuleAndroidmodule_1">
     </a>
     1.创建FlutterModule项目，相当于Android项目里面的module库；
    </h2>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/2651a79ecbf14c84a55b80d12119d93f.png">
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/f0c07745ab0f460e9d4c4bce8e36dd4f.png">
       <br/>
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/4a1e90d6055f4155a0f887a721685119.png">
        <br/>
        <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/820adfce524d4e7097a3bda5fe9c833e.png"/>
       </img>
      </img>
     </img>
    </p>
    <h2>
     <a id="2aar_7">
     </a>
     2.或者编辑aar引用
    </h2>
    <p>
     执行
     <strong>
      flutter build aar
     </strong>
     一直卡在
     <strong>
      add-to-app
     </strong>
     说明正在下载
     <strong>
      com.android.tools.build:gradle:8.1.0 和 distributionUrl=https://services.gradle.org/distributions/gradle-8.0-all.zip
     </strong>
     。如果想快速编译成功，可以修改两位置本地已经下载库对应的版本号。
     <br/>
     例如：我本地
     <strong>
      com.android.tools.build:gradle:8.7.3
     </strong>
     和
     <strong>
      distributionUrl=https://services.gradle.org/distributions/gradle-8.9-bin.zip
     </strong>
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/aa61fbb17849437cbed5440dbda2cd62.png">
      <br/>
      编译失败：
      <br/>
      <strong>
       Exception in thread “main” java.util.zip.ZipException: zip END header not found
      </strong>
      <br/>
      此问题说明，下载的
      <strong>
       gradle
      </strong>
      下载失败了；此时可以按照上面步骤可以解决
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/15d4bffd77ef4a458d79a172c729763f.png"/>
     </img>
    </p>
    <p>
     编译成功之后，可以按照标红这一块步骤，去宿主安卓项目进行配置，从而引用aar包；
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/b01dffc7b4e84a5f9695bd7a08491df0.png"/>
    </p>
    <h2>
     <a id="3Android_19">
     </a>
     3.创建Android原生项目
    </h2>
    <p>
     这里有两种
     <strong>
      gradle
     </strong>
     语言，具体直接参考
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/2b5763e6edc74d4db2c4f12cb9a75e2d.png">
      <br/>
      我这里选择的是 Groovy DSL 语言，
     </img>
    </p>
    <pre><code class="prism language-java"><span class="token function">setBinding</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Binding</span><span class="token punctuation">(</span><span class="token punctuation">[</span>gradle<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">evaluate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>
        settingsDir<span class="token punctuation">.</span>parent<span class="token punctuation">,</span>
        'myflutter<span class="token operator">/</span><span class="token punctuation">.</span>android<span class="token operator">/</span>include_flutter<span class="token punctuation">.</span>groovy'
<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     如果有此错误
     <br/>
     <strong>
      <code>
       Caused by: org.gradle.api.internal.plugins.PluginApplicationException: Failed to apply plugin class 'FlutterPlugin'.
      </code>
     </strong>
    </p>
    <p>
     <strong>
      请将这一块代码放进去解决报错问题
     </strong>
    </p>
    <pre><code class="prism language-java">maven <span class="token punctuation">{<!-- --></span>
            url <span class="token operator">=</span> <span class="token function">uri</span><span class="token punctuation">(</span><span class="token string">"https://storage.googleapis.com/download.flutter.io"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/ea1893f49eb94e68ac50a2b42d1a5fd3.png"/>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/6729af4e59044610b31a3c21950028a8.png"/>
    </p>
    <p>
     需要在
     <strong>
      AndroidManifest.xml
     </strong>
     文件配置
    </p>
    <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span>
  <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>io.flutter.embedding.android.FlutterActivity<span class="token punctuation">"</span></span>
  <span class="token attr-name"><span class="token namespace">android:</span>theme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@style/LaunchTheme<span class="token punctuation">"</span></span>
  <span class="token attr-name"><span class="token namespace">android:</span>configChanges</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>orientation|keyboardHidden|keyboard|screenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode<span class="token punctuation">"</span></span>
  <span class="token attr-name"><span class="token namespace">android:</span>hardwareAccelerated</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>
  <span class="token attr-name"><span class="token namespace">android:</span>windowSoftInputMode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>adjustResize<span class="token punctuation">"</span></span>
  <span class="token punctuation">/&gt;</span></span>
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/3a9499fd8ce447f4a8cc2e80affe4548.png"/>
    </p>
    <h2>
     <a id="3_63">
     </a>
     3.直接运行跑起来
    </h2>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/5f4ab2e352df44a7a222e7c32a053c4e.png"/>
    </p>
    <p>
     参考文章：
     <br/>
     <a href="https://docs.flutter.cn/add-to-app/android/project-setup" rel="nofollow">
      https://docs.flutter.cn/add-to-app/android/project-setup
     </a>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f753031333239303235302f:61727469636c652f64657461696c732f313436323132393739" class_="artid" style="display:none">
 </p>
</div>


