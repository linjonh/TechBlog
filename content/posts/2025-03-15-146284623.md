---
arturl_encode: "6874747073:3a2f2f626c6f672e6373646e2e6e65742f7a7179737463612f:61727469636c652f64657461696c732f313436323834363233"
layout: post
title: "P1540-NOIP-2010-提高组-机器翻译"
date: 2025-03-15 20:11:31 +0800
description: "这个翻译软件的原理很简单，它只是从头到尾，依次将每个英文单词用对应的中文含义来替换。对于每个英文单词，软件会先在内存中查找这个单词的中文含义，如果内存中有，软件就会用它进行翻译；如果内存中没有，软件就会在外存中的词典内查找，查出单词的中文含义然后翻译，并将这个单词和译义放入内存，以备后续的查找和翻译。每当软件将一个新单词存入内存前，如果当前内存中已存入的单词数不超过 M−1，软件会将新单词存入一个未使用的内存单元；若内存中已存入 M 个单词，软件会清空最早进入内存的那个单词，腾出单元来，存放新单词。"
keywords: "P1540 [NOIP 2010 提高组] 机器翻译"
categories: ['未分类']
tags: ['算法']
artid: "146284623"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146284623
    alt: "P1540-NOIP-2010-提高组-机器翻译"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146284623
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146284623
cover: https://bing.ee123.net/img/rand?artid=146284623
image: https://bing.ee123.net/img/rand?artid=146284623
img: https://bing.ee123.net/img/rand?artid=146284623
---

# P1540 [NOIP 2010 提高组] 机器翻译

[P1540 [NOIP 2010 提高组] 机器翻译 - 洛谷](https://www.luogu.com.cn/problem/P1540 "P1540 [NOIP 2010 提高组] 机器翻译 - 洛谷")

#### 题目背景

**复制 Markdown**
| ​
**展开**
| ​
**进入 IDE 模式**

##### NOIP2010 提高组 T1

#### 题目描述

小晨的电脑上安装了一个机器翻译软件，他经常用这个软件来翻译英语文章。

这个翻译软件的原理很简单，它只是从头到尾，依次将每个英文单词用对应的中文含义来替换。对于每个英文单词，软件会先在内存中查找这个单词的中文含义，如果内存中有，软件就会用它进行翻译；如果内存中没有，软件就会在外存中的词典内查找，查出单词的中文含义然后翻译，并将这个单词和译义放入内存，以备后续的查找和翻译。

假设内存中有 M 个单元，每单元能存放一个单词和译义。每当软件将一个新单词存入内存前，如果当前内存中已存入的单词数不超过 M−1，软件会将新单词存入一个未使用的内存单元；若内存中已存入 M 个单词，软件会清空最早进入内存的那个单词，腾出单元来，存放新单词。

假设一篇英语文章的长度为 N 个单词。给定这篇待译文章，翻译软件需要去外存查找多少次词典？假设在翻译开始前，内存中没有任何单词。

#### 输入格式

共 2 行。每行中两个数之间用一个空格隔开。

第一行为两个正整数 M,N，代表内存容量和文章的长度。

第二行为 N 个非负整数，按照文章的顺序，每个数（大小不超过 1000）代表一个英文单词。文章中两个单词是同一个单词，当且仅当它们对应的非负整数相同。

#### 输出格式

一个整数，为软件需要查词典的次数。

#### 输入输出样例

**输入 #1**

```
3 7
1 2 1 5 4 4 1
```

**输出 #1**

```
5
```

#### 说明/提示

##### 样例解释

整个查字典过程如下：每行表示一个单词的翻译，冒号前为本次翻译后的内存状况：

1. 查找单词 1 并调入内存。
2. 1 2：查找单词 2 并调入内存。
3. 1 2：在内存中找到单词 1。
4. 1 2 5：查找单词 5 并调入内存。
5. 2 5 4：查找单词 4 并调入内存替代单词 1。
6. 2 5 4：在内存中找到单词 4。
7. 5 4 1：查找单词 1 并调入内存替代单词 2。

共计查了 5 次词典。

数据范围
  
· 对于10%的数据有M=1，N≤5；
  
· 对于100%的数据有1≤M≤100，1≤N≤1000。

思路：

代码：

```
#include<iostream>
#include<vector>
#include<algorithm>
#include<queue>
using namespace std;
int M,N;
int a[2000]; 
bool vis[1000];
int cnt = 0;
int main(void)
{
	ios::sync_with_stdio(0);
	cin.tie(0);
	cout.tie(0);
	cin >> M >> N;
	for(int i = 1 ; i <= N ; i++)
	cin >> a[i];
		queue <int> p;
	p.push(a[1]);
	vis[a[1]] = true;
	cnt++;
	int i = 2;
	while(!p.empty() && i <= N)
	{
		if(!vis[a[i]])
		{
			vis[a[i]] = true;
			p.push(a[i]);
			cnt++;
		}
		int len = p.size();
		if(len > M)
		{
			int t = p.front();
			vis[t] = false;
//			cout << "出队: " << t << "\n";
			p.pop();
		}
		i++;
	} 
	cout << cnt;
	return 0;
}
```

![](https://i-blog.csdnimg.cn/direct/0156e37a8ed049d0a2e4aa448fc73205.png)