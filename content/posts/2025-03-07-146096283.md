---
layout: post
title: "Kubernetes-概念详解"
date: 2025-03-07 15:10:31 +0800
description: "包含一个或多个紧密协作的容器。"
keywords: "Kubernetes 概念详解"
categories: ['K']
tags: ['容器', '云原生', 'Kubernetes']
artid: "146096283"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146096283
    alt: "Kubernetes-概念详解"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146096283
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146096283
cover: https://bing.ee123.net/img/rand?artid=146096283
image: https://bing.ee123.net/img/rand?artid=146096283
img: https://bing.ee123.net/img/rand?artid=146096283
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Kubernetes 概念详解
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-github-gist" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="Kubernetes__0">
     </a>
     Kubernetes 概念详解
    </h2>
    <h3>
     <a id="_1">
     </a>
     一、核心资源体系架构
    </h3>
    <p>
     Kubernetes 作为容器编排系统，通过一系列核心资源实现对分布式应用的全生命周期管理。以下是关键资源的分类与关系：
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/40a65c1e86874b949d97399638b1e26c.png"/>
    </p>
    <h3>
     <a id="_10">
     </a>
     二、基础资源详解
    </h3>
    <h4>
     <a id="1_Pod_11">
     </a>
     1. Pod（最小调度单元）
    </h4>
    <p>
     <strong>
      定义
     </strong>
     ：包含一个或多个紧密协作的容器
     <br/>
     <strong>
      特性：
     </strong>
     <br/>
     共享网络命名空间
     <br/>
     共享存储卷
     <br/>
     生命周期一致性
     <br/>
     <strong>
      典型场景：
     </strong>
    </p>
    <pre><code class="prism language-bash">apiVersion: v1
kind: Pod
metadata:
  name: nginx-pod
spec:
  containers:
  - name: nginx
    image: nginx:latest
    ports:
    - containerPort: <span class="token number">80</span>
</code></pre>
    <h4>
     <a id="2_Namespace_32">
     </a>
     2. Namespace（逻辑隔离域）
    </h4>
    <p>
     <strong>
      作用：
     </strong>
     <br/>
     资源隔离
     <br/>
     权限控制
     <br/>
     环境区分
     <br/>
     <strong>
      操作示例：
     </strong>
    </p>
    <pre><code class="prism language-bash">kubectl create namespace dev
kubectl get pods <span class="token parameter variable">-n</span> dev
</code></pre>
    <h3>
     <a id="_45">
     </a>
     三、配置管理资源
    </h3>
    <h4>
     <a id="1_ConfigMap_46">
     </a>
     1. ConfigMap（非敏感配置）
    </h4>
    <p>
     <strong>
      使用方式：
     </strong>
     <br/>
     作为环境变量注入
     <br/>
     挂载为配置文件
     <br/>
     直接在 YAML 中引用
     <br/>
     <strong>
      创建示例：
     </strong>
    </p>
    <pre><code class="prism language-bash">kubectl create configmap app-config --from-literal<span class="token operator">=</span>APP_COLOR<span class="token operator">=</span>blue
</code></pre>
    <h4>
     <a id="2_Secret_57">
     </a>
     2. Secret（敏感信息管理）
    </h4>
    <p>
     <strong>
      类型：
     </strong>
     <br/>
     Opaque（通用类型）
     <br/>
     kubernetes.io/dockerconfigjson（镜像仓库认证）
     <br/>
     kubernetes.io/basic-auth（基础认证）
     <br/>
     <strong>
      安全特性：
     </strong>
     <br/>
     加密存储（需开启 etcd 加密）
     <br/>
     最小化挂载
     <br/>
     审计日志
    </p>
    <h3>
     <a id="_66">
     </a>
     四、服务发现与负载均衡
    </h3>
    <h4>
     <a id="1_Service_67">
     </a>
     1. Service（四层负载均衡）
    </h4>
    <p>
     <strong>
      类型对比：
     </strong>
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/1bdf89f31646455697769affc9b28b82.png"/>
    </p>
    <h4>
     <a id="2_Ingress_71">
     </a>
     2. Ingress（七层负载均衡）
    </h4>
    <p>
     <strong>
      核心功能：
     </strong>
     <br/>
     基于域名的路由
     <br/>
     SSL 终止
     <br/>
     请求转发策略
     <br/>
     速率限制
    </p>
    <h3>
     <a id="_77">
     </a>
     五、工作负载管理
    </h3>
    <h4>
     <a id="1_Deployment_78">
     </a>
     1. Deployment（无状态应用）
    </h4>
    <p>
     <strong>
      特性：
     </strong>
     <br/>
     滚动更新
     <br/>
     回滚机制
     <br/>
     副本管理
     <br/>
     <strong>
      升级策略：
     </strong>
    </p>
    <pre><code class="prism language-bash">strategy:
  rollingUpdate:
    maxSurge: <span class="token number">25</span>%
    maxUnavailable: <span class="token number">25</span>%
</code></pre>
    <h4>
     <a id="2_StatefulSet_93">
     </a>
     2. StatefulSet（有状态应用）
    </h4>
    <p>
     <strong>
      关键特性：
     </strong>
     <br/>
     唯一网络标识
     <br/>
     持久化存储
     <br/>
     有序部署 / 扩展
     <br/>
     状态持久化
     <br/>
     <strong>
      典型应用场景：
     </strong>
     <br/>
     数据库集群（MySQL/PostgreSQL）
     <br/>
     消息队列（Kafka/RabbitMQ）
     <br/>
     分布式缓存（Redis 集群）
    </p>
    <h3>
     <a id="_103">
     </a>
     六、存储管理
    </h3>
    <h4>
     <a id="1_Volume_104">
     </a>
     1. Volume（存储卷）
    </h4>
    <p>
     <strong>
      类型分类：
     </strong>
     <br/>
     临时卷（emptyDir）
     <br/>
     持久卷（PersistentVolume）
     <br/>
     云存储卷（AWS EBS/GCE PD）
     <br/>
     网络存储卷（NFS/GlusterFS）
    </p>
    <h4>
     <a id="2_PersistentVolumeClaimPVC_110">
     </a>
     2. PersistentVolumeClaim（PVC）
    </h4>
    <p>
     <strong>
      生命周期：
     </strong>
     <br/>
     用户创建 PVC
     <br/>
     系统匹配 PV
     <br/>
     绑定到 Pod
     <br/>
     释放后回收策略
    </p>
    <h3>
     <a id="_116">
     </a>
     七、高级调度
    </h3>
    <h4>
     <a id="1_NodeSelector_117">
     </a>
     1. NodeSelector（节点选择）
    </h4>
    <pre><code class="prism language-bash">nodeSelector:
  disktype: ssd
</code></pre>
    <h4>
     <a id="2_Tolerations__Taints_125">
     </a>
     2. Tolerations &amp; Taints（污点与容忍）
    </h4>
    <p>
     <strong>
      污点设置：
     </strong>
    </p>
    <pre><code class="prism language-bash">kubectl taint nodes node1 <span class="token assign-left variable">key</span><span class="token operator">=</span>value:NoSchedule
</code></pre>
    <p>
     <strong>
      容忍配置：
     </strong>
    </p>
    <pre><code class="prism language-bash">tolerations:
- key: <span class="token string">"key"</span>
  operator: <span class="token string">"Equal"</span>
  value: <span class="token string">"value"</span>
  effect: <span class="token string">"NoSchedule"</span>
</code></pre>
    <h3>
     <a id="_144">
     </a>
     八、运维管理
    </h3>
    <h4>
     <a id="1_Horizontal_Pod_AutoscalerHPA_145">
     </a>
     1. Horizontal Pod Autoscaler（HPA）
    </h4>
    <p>
     <strong>
      配置示例：
     </strong>
    </p>
    <pre><code class="prism language-bash">kubectl autoscale deployment web --cpu-percent<span class="token operator">=</span><span class="token number">80</span> <span class="token parameter variable">--min</span><span class="token operator">=</span><span class="token number">2</span> <span class="token parameter variable">--max</span><span class="token operator">=</span><span class="token number">10</span>
</code></pre>
    <h4>
     <a id="2_JobCronJob_153">
     </a>
     2. Job/CronJob（批处理任务）
    </h4>
    <p>
     <strong>
      定时任务示例：
     </strong>
    </p>
    <pre><code class="prism language-bash">apiVersion: batch/v1beta1
kind: CronJob
spec:
  schedule: <span class="token string">"0 */6 * * *"</span>
  jobTemplate:
    spec:
      containers:
      - name: backup
        image: busybox
        command: <span class="token punctuation">[</span><span class="token string">"/bin/sh"</span>, <span class="token string">"-c"</span>, <span class="token string">"echo Backup executed at <span class="token variable"><span class="token variable">$(</span><span class="token function">date</span><span class="token variable">)</span></span>"</span><span class="token punctuation">]</span>
</code></pre>
    <h3>
     <a id="_171">
     </a>
     九、概念对比
    </h3>
    <p>
     <img alt="概念	无状态应用（Deployment）	有状态应用（StatefulSet）
标识	随机名称	固定编号
存储	临时存储	持久化存储
扩展	无序扩展	有序扩展
网络	无固定 IP	稳定 DNS 名称
典型场景	Web 服务	数据库集群" src="https://i-blog.csdnimg.cn/direct/10b92bcdd47a403aa97c9eaee46aeab2.png"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f7a68616e67796f6e677a655f7a2f:61727469636c652f64657461696c732f313436303936323833" class_="artid" style="display:none">
 </p>
</div>


