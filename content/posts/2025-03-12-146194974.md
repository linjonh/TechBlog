---
layout: post
title: "JavaScript代码性能优化"
date: 2025-03-12 08:10:48 +0800
description: "通过综合应用上述策略，可显著提升 JavaScript 应用的运行时效率与用户体验。建议结合项目特点选择优化点，并通过性能监测工具持续追踪优化效果‌。替代 DOM 的销毁与重建，减少重排次数‌。频繁切换显示状态的元素优先用。"
keywords: "JavaScript代码性能优化"
categories: ['前端']
tags: ['性能优化', '开发语言', 'Javascript']
artid: "146194974"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146194974
    alt: "JavaScript代码性能优化"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146194974
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146194974
cover: https://bing.ee123.net/img/rand?artid=146194974
image: https://bing.ee123.net/img/rand?artid=146194974
img: https://bing.ee123.net/img/rand?artid=146194974
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     JavaScript代码性能优化
    </h1>
   </div>
  </div>
 </div>
 <a data-report-click='{"spm":"1001.2101.3001.8632"}' data-report-query="spm=1001.2101.3001.8632" data-report-view='{"spm":"1001.2101.3001.8632"}' href="https://activity.csdn.net/topic?id=10857" id="creatActivityHref" style="display:block;margin-top:16px;font-size:16px;color:#5094d5;font-weight:500" target="_blank">
  #JavaScript性能优化实战#
 </a>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-tomorrow-night" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     以下是 JavaScript 性能优化的实战策略及代码示例，综合多个高性能场景的优化经验：
    </p>
    <h3>
     <a id="_2">
     </a>
     一、代码执行优化
    </h3>
    <p>
     ‌1.
     <strong>
      条件渲染优化‌
     </strong>
     <br/>
     频繁切换显示状态的元素优先用
     <code>
      display: none
     </code>
     替代 DOM 的销毁与重建，减少重排次数‌。
    </p>
    <pre><code class="prism language-javascript"><span class="token comment">// 性能更优</span>
element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> isVisible <span class="token operator">?</span> <span class="token string">'block'</span> <span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     ‌2.
     <strong>
      事件委托机制‌
     </strong>
     <br/>
     为动态列表项绑定父级事件监听器，减少事件处理器数量‌：
    </p>
    <pre><code class="prism language-javascript">document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'list'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">'.item'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">handleItemClick</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     3‌.
     <strong>
      防抖与节流‌
     </strong>
     <br/>
     高频事件（如滚动、输入）使用防抖/节流降低函数执行频率‌：
    </p>
    <pre><code class="prism language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">debounce</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">let</span> timer<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="_30">
     </a>
     二、资源加载优化
    </h3>
    <p>
     ‌1.
     <strong>
      代码分割与懒加载‌
     </strong>
     <br/>
     动态导入模块减少首屏加载体积‌：
    </p>
    <pre><code class="prism language-javascript"><span class="token comment">// 动态加载非关键模块</span>
button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> module <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./heavyModule.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  module<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     2‌.
     <strong>
      数据缓存策略‌
     </strong>
     <br/>
     本地缓存高频接口数据，减少重复请求‌：
    </p>
    <pre><code class="prism language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">fetchData</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> cacheKey <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">cache_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> cached <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>cacheKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>cached<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>cached<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>cacheKey<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> data<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="DOM__53">
     </a>
     三、DOM 操作优化
    </h3>
    <p>
     1‌.
     <strong>
      批量 DOM 更新‌
     </strong>
     <br/>
     使用文档片段减少多次 DOM 操作‌：
    </p>
    <pre><code class="prism language-javascript"><span class="token keyword">const</span> fragment <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  fragment<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     ‌2.
     <strong>
      虚拟列表技术‌
     </strong>
     <br/>
     大数据列表仅渲染可视区域内容‌：
    </p>
    <pre><code class="prism language-javascript"><span class="token comment">// 使用第三方库如 react-virtualized 或自行实现视窗渲染</span>
</code></pre>
    <h3>
     <a id="_69">
     </a>
     四、内存管理
    </h3>
    <p>
     1‌.
     <strong>
      定时器与事件解绑‌
     </strong>
     <br/>
     组件销毁时清理全局资源‌：
    </p>
    <pre><code class="prism language-javascript"><span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 页面卸载时</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'beforeunload'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     ‌2.
     <strong>
      避免内存泄漏‌
     </strong>
     <br/>
     移除不再使用的对象引用：
    </p>
    <pre><code class="prism language-javascript"><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">getHugeData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 使用后主动释放</span>
<span class="token function">processData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
data <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="_85">
     </a>
     五、性能监测与调试
    </h3>
    <p>
     ‌1.
     <strong>
      Lighthouse 性能评分‌
     </strong>
     <br/>
     生成量化性能报告并针对性优化‌：
    </p>
    <pre><code class="prism language-bash"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> lighthouse
lighthouse http://localhost:3000 <span class="token parameter variable">--view</span>
</code></pre>
    <p>
     ‌2.
     <strong>
      Chrome Performance 面板‌
     </strong>
     <br/>
     定位长任务和内存泄漏点‌：
    </p>
    <pre><code class="prism language-javascript"><span class="token comment">// 标记代码执行区间</span>
console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">'heavyTask'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">performHeavyTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">'heavyTask'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="_VueReact__100">
     </a>
     六、框架级优化（以 Vue/React 为例）
    </h3>
    <p>
     1‌.
     <strong>
      列表渲染 Key 值‌
     </strong>
     <br/>
     为动态列表项设置唯一标识，提升 Diff 效率‌：
    </p>
    <pre><code class="prism language-javascript"><span class="token comment">// Vue 示例</span>
<span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"item in list"</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"item.id"</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> item<span class="token punctuation">.</span>text <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre>
    <p>
     ‌2.
     <strong>
      响应式数据优化‌
     </strong>
     <br/>
     避免深层嵌套的响应式对象，必要时使用 shallowRef‌：
    </p>
    <pre><code class="prism language-javascript"><span class="token comment">// Vue3 示例</span>
<span class="token keyword">const</span> largeObj <span class="token operator">=</span> <span class="token function">shallowRef</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h3>
     <a id="_114">
     </a>
     七、网络层优化
    </h3>
    <p>
     ‌1.
     <strong>
      HTTP/2 与资源合并‌
     </strong>
     <br/>
     小文件合并后通过 HTTP/2 多路复用传输‌：
    </p>
    <pre><code class="prism language-bash"><span class="token comment"># 使用 Webpack 合并小图标为雪碧图</span>
<span class="token function">npm</span> <span class="token function">install</span> webpack-spritesmith --save-dev
</code></pre>
    <p>
     ‌2.
     <strong>
      预加载关键资源‌
     </strong>
     <br/>
     提前加载首屏必需资源‌：
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>preload<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>critical.css<span class="token punctuation">"</span></span> <span class="token attr-name">as</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>style<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <blockquote>
     <p>
      通过综合应用上述策略，可显著提升 JavaScript 应用的运行时效率与用户体验。建议结合项目特点选择优化点，并通过性能监测工具持续追踪优化效果‌。
     </p>
    </blockquote>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="687474:70733a2f2f626c6f672e6373646e2e6e65742f6d716971652f:61727469636c652f64657461696c732f313436313934393734" class_="artid" style="display:none">
 </p>
</div>


