---
layout: post
title: "python-APScheduler插件部署服务器报错问题"
date: 2025-03-07 17:48:45 +0800
description: "后面想起来可能是版本兼容问题，我用的python是3.12 我查了他对应的 openssl版本应该是1.1以上，我查了一下我当前的版本是1.0。于是我开始升级openssl的版本，可是无论我怎么升也还是1.0，后面才发现我的服务器版本是centos7 他对应的openssl就是1.0。特此记录，若能帮到遇到同样问题的小伙伴，也算是没有白费我这几分钟写下此博文。deepseek一直提示安装openssl,我检查openssl是有的，使用以下命令装了几次也还是一样。"
keywords: "python APScheduler插件部署服务器报错问题"
categories: ['Python']
tags: ['服务器', 'Python', 'Github']
artid: "146101329"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146101329
    alt: "python-APScheduler插件部署服务器报错问题"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146101329
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146101329
cover: https://bing.ee123.net/img/rand?artid=146101329
image: https://bing.ee123.net/img/rand?artid=146101329
img: https://bing.ee123.net/img/rand?artid=146101329
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     python APScheduler插件部署服务器报错问题
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     今天我在使用python测试定时任务部署到服务器的时候，一直报下面的错误。
    </p>
    <pre><code class="prism language-javascript">Job <span class="token string">"send_wechat_webhook (trigger: cron[second='*/2'], next run at: 2025-03-07 12:00:12 CST)"</span> raised an exception <span class="token function">Traceback</span> <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token operator">:</span> File <span class="token string">"/usr/local/lib/python3.12/site-packages/apscheduler/executors/base.py"</span><span class="token punctuation">,</span> line <span class="token number">131</span><span class="token punctuation">,</span> <span class="token keyword">in</span> run_job retval <span class="token operator">=</span> job<span class="token punctuation">.</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token operator">*</span>job<span class="token punctuation">.</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>job<span class="token punctuation">.</span>kwargs<span class="token punctuation">)</span> 
File <span class="token string">"/home/ap/stock-task/schedulers/stock.py"</span><span class="token punctuation">,</span> line <span class="token number">15</span><span class="token punctuation">,</span> <span class="token keyword">in</span> send_wechat_webhook response <span class="token operator">=</span> requests<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>webhook_url<span class="token punctuation">,</span> data<span class="token operator">=</span>json<span class="token punctuation">.</span><span class="token function">dumps</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
File <span class="token string">"/usr/local/lib/python3.12/site-packages/requests/api.py"</span><span class="token punctuation">,</span> line <span class="token number">115</span><span class="token punctuation">,</span> <span class="token keyword">in</span> post <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">"post"</span><span class="token punctuation">,</span> url<span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">,</span> json<span class="token operator">=</span>json<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
File <span class="token string">"/usr/local/lib/python3.12/site-packages/requests/api.py"</span><span class="token punctuation">,</span> line <span class="token number">59</span><span class="token punctuation">,</span> <span class="token keyword">in</span> request <span class="token keyword">return</span> session<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>method<span class="token operator">=</span>method<span class="token punctuation">,</span> url<span class="token operator">=</span>url<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
File <span class="token string">"/usr/local/lib/python3.12/site-packages/requests/sessions.py"</span><span class="token punctuation">,</span> line <span class="token number">589</span><span class="token punctuation">,</span> <span class="token keyword">in</span> request resp <span class="token operator">=</span> self<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>prep<span class="token punctuation">,</span> <span class="token operator">**</span>send_kwargs<span class="token punctuation">)</span>
File <span class="token string">"/usr/local/lib/python3.12/site-packages/requests/sessions.py"</span><span class="token punctuation">,</span> line <span class="token number">703</span><span class="token punctuation">,</span> <span class="token keyword">in</span> send r <span class="token operator">=</span> adapter<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
File <span class="token string">"/usr/local/lib/python3.12/site-packages/requests/adapters.py"</span><span class="token punctuation">,</span> line <span class="token number">667</span><span class="token punctuation">,</span> <span class="token keyword">in</span> send resp <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">urlopen</span><span class="token punctuation">(</span> 
File <span class="token string">"/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py"</span><span class="token punctuation">,</span> line <span class="token number">766</span><span class="token punctuation">,</span> <span class="token keyword">in</span> urlopen conn <span class="token operator">=</span> self<span class="token punctuation">.</span><span class="token function">_get_conn</span><span class="token punctuation">(</span>timeout<span class="token operator">=</span>pool_timeout<span class="token punctuation">)</span>
File <span class="token string">"/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py"</span><span class="token punctuation">,</span> line <span class="token number">292</span><span class="token punctuation">,</span> <span class="token keyword">in</span> _get_conn <span class="token keyword">return</span> conn or self<span class="token punctuation">.</span><span class="token function">_new_conn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
File <span class="token string">"/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py"</span><span class="token punctuation">,</span> line <span class="token number">1057</span><span class="token punctuation">,</span> <span class="token keyword">in</span> _new_conn raise <span class="token function">ImportError</span><span class="token punctuation">(</span> ImportError<span class="token operator">:</span> Can't connect to <span class="token constant">HTTPS</span> <span class="token constant">URL</span> because the <span class="token constant">SSL</span> module is not available<span class="token punctuation">.</span>
</code></pre>
    <p>
     deepseek一直提示安装openssl,我检查openssl是有的，使用以下命令装了几次也还是一样
    </p>
    <pre><code class="prism language-javascript">sudo <span class="token punctuation">.</span><span class="token operator">/</span>configure <span class="token operator">--</span>enable<span class="token operator">-</span>optimizations <span class="token operator">--</span><span class="token keyword">with</span><span class="token operator">-</span>openssl<span class="token operator">=</span><span class="token operator">/</span>usr <span class="token operator">--</span><span class="token keyword">with</span><span class="token operator">-</span>ssl<span class="token operator">-</span><span class="token keyword">default</span><span class="token operator">-</span>suites<span class="token operator">=</span>openssl
</code></pre>
    <p>
     后面想起来可能是版本兼容问题，我用的python是3.12 我查了他对应的 openssl版本应该是1.1以上，我查了一下我当前的版本是1.0。于是我开始升级openssl的版本，可是无论我怎么升也还是1.0，后面才发现我的服务器版本是centos7 他对应的openssl就是1.0。于是我手动升级openssl到1.1 ，然后发现问题就解决了。特此记录，若能帮到遇到同样问题的小伙伴，也算是没有白费我这几分钟写下此博文。
    </p>
   </div>
   <link href="./../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="./../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f6c75636b797775786e2f:61727469636c652f64657461696c732f313436313031333239" class_="artid" style="display:none">
 </p>
</div>


