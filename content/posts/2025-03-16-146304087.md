---
layout: post
title: "Python进阶编程总结"
date: 2025-03-16 23:48:04 +0800
description: "Python作为一种功能强大且广泛应用的编程语言，其进阶编程领域蕴含着丰富的知识与技巧。在当今数字化快速发展的时代，深入掌握Python进阶编程对于提升开发效率、优化代码质量以及应对复杂项目需求有着至关重要的意义。函数式编程提供了一种全新的编程范式，它强调将计算视为函数的求值过程，通过高阶函数、匿名函数等特性，使代码更加简洁灵活且易于维护。而面向对象编程则以类和对象为核心，通过合理定义变量、方法和属性，构建出清晰的程序结构。"
keywords: "Python进阶编程总结"
categories: ['基础入门教程', 'Python']
tags: ['开发语言', 'Python', 'Notepad']
artid: "146304087"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146304087
    alt: "Python进阶编程总结"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146304087
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146304087
cover: https://bing.ee123.net/img/rand?artid=146304087
image: https://bing.ee123.net/img/rand?artid=146304087
img: https://bing.ee123.net/img/rand?artid=146304087
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Python进阶编程总结
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-tomorrow-night-eighties" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <blockquote>
     <p>
      🧑 博主简介：
      <strong>
       CSDN博客专家
      </strong>
      ，
      <strong>
       历代文学网
      </strong>
      （PC端可以访问：
      <a href="https://literature.sinhy.com/#/literature?__c=1000" rel="nofollow">
       https://literature.sinhy.com/#/literature?__c=1000
      </a>
      ，移动端可微信小程序搜索“
      <strong>
       历代文学
      </strong>
      ”）总架构师，
      <code>
       15年
      </code>
      工作经验，精通
      <code>
       Java编程
      </code>
      ，
      <code>
       高并发设计
      </code>
      ，
      <code>
       Springboot和微服务
      </code>
      ，熟悉
      <code>
       Linux
      </code>
      ，
      <code>
       ESXI虚拟化
      </code>
      以及
      <code>
       云原生Docker和K8s
      </code>
      ，热衷于探索科技的边界，并将理论知识转化为实际应用。保持对新技术的好奇心，乐于分享所学，希望通过我的实践经历和见解，启发他人的创新思维。在这里，我希望能与志同道合的朋友交流探讨，共同进步，一起在技术的世界里不断学习成长。
      <br/>
      <strong>
       技术合作
      </strong>
      请加本人wx（
      <em>
       注明来自csdn
      </em>
      ）：
      <code>
       foreast_sea
      </code>
     </p>
    </blockquote>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/11968bb92b404ca7bd9fdfe004b640b1.gif#pic_center"/>
    </p>
    <hr/>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/276e2c8c5e7e4d2b80da84b1c6b4c5ce.png"/>
    </p>
    <p>
    </p>
    <p>
    </p>
    <h2>
     <a id="Python_12">
     </a>
     Python进阶编程总结
    </h2>
    <p>
     <code>
      Python
     </code>
     作为一种功能强大且广泛应用的编程语言，其进阶编程领域蕴含着丰富的知识与技巧。在当今数字化快速发展的时代，深入掌握
     <code>
      Python
     </code>
     <strong>
      进阶编程
     </strong>
     对于提升开发效率、优化代码质量以及应对复杂项目需求有着至关重要的意义。
    </p>
    <p>
     <strong>
      函数式编程
     </strong>
     提供了一种全新的编程范式，它强调将计算视为函数的求值过程，通过高阶函数、匿名函数等特性，使代码更加
     <strong>
      简洁
     </strong>
     、
     <strong>
      灵活
     </strong>
     且易于维护。而面向对象编程则以类和对象为核心，通过合理定义变量、方法和属性，构建出清晰的程序结构。无论是使用常规方式还是借助枚举类来创建类，都为开发者提供了多样化的选择，以满足不同场景的建模需求。
    </p>
    <p>
     高级面向对象中的元类、
     <code>
      Slot 机制
     </code>
     以及装饰器等进一步拓展了
     <code>
      Python
     </code>
     的编程能力。元类能够深入控制类的创建过程，
     <code>
      Slot
     </code>
     可有效限制属性添加从而优化内存使用，装饰器则为代码的动态增强提供了便捷手段。同时，理解
     <code>
      Python
     </code>
     的垃圾回收机制有助于更好地管理内存资源。
     <br/>
     在程序运行过程中，异常处理、调试与回溯是保障程序稳定性和可维护性的关键环节。熟悉常见异常类型能让我们快速定位和解决问题，单元测试和文档测试为代码质量保驾护航，回溯则清晰呈现错误发生的路径。此外，with 用法简化了资源管理，f_string 提供了高效的字符串格式化方式，数组复制的多种方法也为数据处理提供了更多灵活性。
    </p>
    <p>
     本文将深入探讨
     <code>
      Python
     </code>
     进阶编程的这些核心要点，帮助读者全面提升
     <code>
      Python
     </code>
     编程水平，更好地应对实际开发中的各种挑战。
    </p>
    <h3>
     <a id="_23">
     </a>
     函数式编程
    </h3>
    <ul>
     <li>
      高阶函数(参数里有函数类型)
     </li>
    </ul>
    <blockquote>
     <p>
      map/reduce(functools.reduce())
      <br/>
      filter
      <br/>
      sorted
     </p>
    </blockquote>
    <ul>
     <li>
      返回函数（返回函数类型）
     </li>
     <li>
      匿名函数（
      <code>
       lambda
      </code>
      ）
     </li>
     <li>
      装饰器（
      <code>
       @：有参装饰器、无参装饰器,functools.wraps(function)
      </code>
      ）
     </li>
     <li>
      偏函数（
      <code>
       functools.partor(function[,args,**kwords]
      </code>
      )
     </li>
    </ul>
    <h3>
     <a id="_36">
     </a>
     面向对象
    </h3>
    <h4>
     <a id="_37">
     </a>
     变量
    </h4>
    <blockquote>
     <p>
      1.静态字段
      <br/>
      2.普通字段(self.value)
     </p>
    </blockquote>
    <h4>
     <a id="_41">
     </a>
     方法(存储在内存中)
    </h4>
    <blockquote>
     <p>
      1.普通方法def func(self[,args])
      <br/>
      2.类方法(@classmethod def func(cls[,args]))
      <br/>
      3.静态方法(@staticmethod def func())
     </p>
    </blockquote>
    <h4>
     <a id="property_def_funcself_47">
     </a>
     属性（@property def func(self)）
    </h4>
    <blockquote>
     <p>
      1.静态字段
      <br/>
      2.装饰类
     </p>
     <blockquote>
      <p>
       经典装饰器
       <br/>
       新装饰器(使用方法模拟成员变量以及对成员变量的操作)
      </p>
      <p>
       方法一
       <br/>
       继承object
      </p>
      <pre><code class="prism language-python"><span class="token decorator annotation punctuation">@property</span> 			<span class="token builtin">object</span><span class="token punctuation">.</span>funcName <span class="token operator">//</span>user funcName to get the function <span class="token keyword">return</span> value like member value
<span class="token decorator annotation punctuation">@funcName<span class="token punctuation">.</span>setter</span> 	<span class="token builtin">object</span><span class="token punctuation">.</span>func <span class="token operator">=</span> value
<span class="token decorator annotation punctuation">@funcName<span class="token punctuation">.</span>deleter</span> 	<span class="token keyword">del</span> <span class="token builtin">object</span><span class="token punctuation">.</span>funcName
</code></pre>
      <p>
       方法二
       <br/>
       创建property对象的静态字段
      </p>
      <pre><code class="prism language-python">pro <span class="token operator">=</span> <span class="token builtin">property</span><span class="token punctuation">(</span>get_value<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>set_value<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>del_value<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>__doc__<span class="token punctuation">)</span>
obj <span class="token operator">=</span> Object<span class="token punctuation">(</span><span class="token punctuation">)</span>
ov <span class="token operator">=</span> obj<span class="token punctuation">.</span>pro
obj<span class="token punctuation">.</span>pro <span class="token operator">=</span> value
<span class="token keyword">del</span> obj<span class="token punctuation">.</span>pro
obj<span class="token punctuation">.</span>pro<span class="token punctuation">.</span>__doc__
</code></pre>
     </blockquote>
    </blockquote>
    <blockquote>
     <p>
      类的特殊成员
     </p>
     <ul>
      <li>
       <p>
        <code>
         __doc__
        </code>
        表示类的描述信息
       </p>
      </li>
      <li>
       <p>
        <code>
         __name__
        </code>
        类名
       </p>
      </li>
      <li>
       <p>
        <code>
         __bases__
        </code>
        类的所有父类构成的元组:tuple,不包含该类的type (类名即type类型使用
        <code>
         (my_class,)
        </code>
        可获得该类名的元组）
       </p>
      </li>
      <li>
       <p>
        <code>
         __mro__
        </code>
        类的继承顺序包含类本身&lt;class ‘
        <strong>
         main
        </strong>
        .My_class’&gt;,
       </p>
      </li>
      <li>
       <p>
        <code>
         __module__
        </code>
        表示当前操作的对象在那个模块 packages.module
       </p>
      </li>
      <li>
       <p>
        <code>
         __class__
        </code>
        表示当前操作的对象的类 packages.module.class
       </p>
      </li>
      <li>
       <p>
        <code>
         __init__()
        </code>
        类的构造方法
       </p>
      </li>
      <li>
       <p>
        <code>
         __del__()
        </code>
        类的析构方法
       </p>
      </li>
      <li>
       <p>
        <code>
         __call__()
        </code>
        对象的方法 obj() self()
       </p>
      </li>
      <li>
       <p>
        <code>
         __getattr__()
        </code>
        当访问obj不存在的属性时会调用该方法
       </p>
       <p>
        getattr(obj, name, value) ==&gt; obj.name 不存在该属性返回value
       </p>
       <p>
        name是函数name()需要添加@property 描述符
       </p>
      </li>
      <li>
       <p>
        <code>
         __dict__
        </code>
        类或对象中的所有成员
       </p>
      </li>
      <li>
       <p>
        <code>
         __str__
        </code>
        将类格式化成字符串 print(obj) 时调用,即toString()方法
       </p>
      </li>
      <li>
       <p>
        <code>
         __repr__
        </code>
        将类格式化成字符串 print(obj) 时调用,和
        <code>
         __str__
        </code>
        的区别：更适合从编程语言上理解
       </p>
      </li>
     </ul>
     <blockquote>
      <pre><code class="prism language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> 

<span class="token punctuation">[</span>output<span class="token punctuation">:</span><span class="token punctuation">]</span> class_name<span class="token punctuation">.</span>method<span class="token punctuation">(</span>self<span class="token punctuation">,</span> arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
</code></pre>
     </blockquote>
     <ul>
      <li>
       <p>
        <code>
         __getitem__
        </code>
        用于索引操作[num]，获取数据
       </p>
      </li>
      <li>
       <p>
        <code>
         __setitem__
        </code>
        用于索引操作[num]，设置数据
       </p>
      </li>
      <li>
       <p>
        <code>
         __delitem__
        </code>
        用于索引操作[num]，删除数据
       </p>
      </li>
     </ul>
     <blockquote>
      <pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">mydict</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">def</span> <span class="token function">__getitem__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">:</span>
 		<span class="token keyword">return</span> self<span class="token punctuation">.</span>key
	<span class="token keyword">def</span> <span class="token function">__setitem__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
 		self<span class="token punctuation">.</span>key <span class="token operator">=</span> value
	<span class="token keyword">def</span> <span class="token function">__delitem__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">:</span>
 		<span class="token keyword">del</span> self<span class="token punctuation">.</span>key
 		obj <span class="token operator">=</span> mydict<span class="token punctuation">(</span><span class="token punctuation">)</span>
 result <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
 obj<span class="token punctuation">[</span><span class="token string">'key'</span><span class="token punctuation">]</span> <span class="token operator">=</span> value
 <span class="token keyword">del</span> obj<span class="token punctuation">[</span><span class="token string">'key'</span><span class="token punctuation">]</span>
</code></pre>
     </blockquote>
    </blockquote>
    <blockquote>
     <p>
      <strong>
       实现切片操作
      </strong>
     </p>
     <blockquote>
      <p>
       <code>
        __getitem__(self, n)
       </code>
       传入的参数n 可能是int也可能是slice
      </p>
      <pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Fib</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token keyword">def</span> <span class="token function">__getiter__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>
 <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
       a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span>
       <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
           a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a <span class="token operator">+</span> b
     <span class="token keyword">return</span> a
   <span class="token keyword">if</span> isinstanece<span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token builtin">slice</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
       l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
       <span class="token builtin">slice</span><span class="token punctuation">.</span>start <span class="token operator">=</span> <span class="token number">0</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token builtin">slice</span><span class="token punctuation">.</span>start <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">)</span>
       a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span>
       <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>stop<span class="token punctuation">)</span><span class="token punctuation">:</span>
         <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&gt;=</span> n<span class="token punctuation">.</span>start <span class="token keyword">and</span> <span class="token punctuation">(</span>x <span class="token operator">-</span> n<span class="token punctuation">.</span>start<span class="token punctuation">)</span><span class="token operator">%</span>n<span class="token punctuation">.</span>step <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
             l<span class="token punctuation">.</span>append<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
           a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a<span class="token operator">+</span>b
       <span class="token keyword">return</span> l
       

</code></pre>
     </blockquote>
     <ul>
      <li>
       <p>
        <code>
         __getslice__
        </code>
        (self, i, j) obj[-1:1]
       </p>
      </li>
      <li>
       <p>
        <code>
         __setslice__
        </code>
        (self, i, j, sequence) obj[0:1] = [11,22,33,44]
       </p>
      </li>
      <li>
       <p>
        <code>
         __delslice__
        </code>
        (self, i, j) del obj[0:2]
       </p>
      </li>
      <li>
       <p>
        <code>
         __iter__
        </code>
        迭代器
       </p>
      </li>
      <li>
       <p>
        <code>
         __next__
        </code>
        配合
        <code>
         __iter__
        </code>
        实现类的interable属性
       </p>
      </li>
      <li>
       <p>
        <code>
         __new__
        </code>
        方法
        <code>
         __new__(cls, name, bases, attrs)
        </code>
        类准备将自身实例化时调用，在
        <code>
         __init__()
        </code>
        调用之前调用
        <code>
         __new__（）
        </code>
        ，该方法是一个类方法@classmethod
       </p>
       <p>
        cls：当前准备创建的类的对象:type
       </p>
       <p>
        name：类的名字:str
       </p>
       <p>
        bases：类继承的父类集合:class
       </p>
       <p>
        attrs：类的方法集合:dict
       </p>
      </li>
      <li>
       <p>
        <code>
         __metaclass__
        </code>
        该属性定义一个类的元类，即表示类该有哪个类（元类）来实例化
       </p>
      </li>
     </ul>
    </blockquote>
    <h4>
     <a id="_176">
     </a>
     创建类的两种方法
    </h4>
    <blockquote>
     <p>
      1.普通方法
     </p>
     <pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
  	<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'hello world!'</span><span class="token punctuation">)</span>
<span class="token builtin">object</span> <span class="token operator">=</span> Object<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
     <p>
      2.特殊方法（元类type构造对象）
     </p>
     <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
  	<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello world!'</span><span class="token punctuation">)</span>
  <span class="token builtin">object</span> <span class="token operator">=</span> <span class="token builtin">type</span><span class="token punctuation">(</span><span class="token string">'Object'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token string">'func'</span><span class="token punctuation">:</span>func<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">#arg1:str 类名 ;arg2:tuple 基类; arg3:dict 成员;</span>
</code></pre>
     <p>
      <em>
       <strong>
        类的创建过程
       </strong>
      </em>
      <br/>
      <img alt="外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传" src="https://img-home.csdnimg.cn/images/20230724024159.png?origin_url=file%3A%2F%2F%2FC%3A%2FUsers%2FLiuQixuan%2FDesktop%2Fpypro%2Ftype_class.png&amp;pos_id=img-siKV5W4I-1733369256963">
       <br/>
       【CODE】
      </img>
     </p>
     <pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">MyType</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> what<span class="token punctuation">,</span> bases<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token builtin">dict</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
       <span class="token builtin">super</span><span class="token punctuation">(</span>MyType<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>what<span class="token punctuation">,</span> bases<span class="token punctuation">,</span> <span class="token builtin">dict</span><span class="token punctuation">)</span>

   <span class="token keyword">def</span> <span class="token function">__call__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
       obj <span class="token operator">=</span> self<span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
       self<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
   __metaclass__ <span class="token operator">=</span> MyType
   <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
       self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
   <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
       <span class="token keyword">return</span> <span class="token builtin">object</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
<span class="token comment"># 第一阶段：解释器从上到下执行代码创建Foo类</span>
<span class="token comment"># 第二阶段：通过Foo类创建obj对象</span>
obj <span class="token operator">=</span> Foo<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre>
    </blockquote>
    <h4>
     <a id="is__not_is_215">
     </a>
     使用枚举类(枚举类不可比较大小，但是同一枚举类的成员可以做等值is / not is判断)
    </h4>
    <blockquote>
     <pre><code class="prism language-python"><span class="token keyword">from</span> enum <span class="token keyword">import</span> Enum
month <span class="token operator">=</span> Enum<span class="token punctuation">(</span><span class="token string">'Mouth'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'Jan'</span><span class="token punctuation">,</span> <span class="token string">'Feb'</span><span class="token punctuation">,</span> <span class="token string">'Mar'</span><span class="token punctuation">,</span> <span class="token string">'Apr'</span><span class="token punctuation">,</span> <span class="token string">'May'</span><span class="token punctuation">,</span> <span class="token string">'Jun'</span><span class="token punctuation">,</span> <span class="token string">'Jul'</span><span class="token punctuation">,</span> <span class="token string">'Aug'</span><span class="token punctuation">,</span> <span class="token string">'Sep'</span><span class="token punctuation">,</span> <span class="token string">'Oct'</span><span class="token punctuation">,</span> <span class="token string">'Nov'</span><span class="token punctuation">,</span> <span class="token string">'Dec'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> name <span class="token punctuation">,</span>member <span class="token keyword">in</span> month<span class="token punctuation">.</span>__members__<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>name<span class="token punctuation">}</span></span><span class="token string">=&gt;</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>member<span class="token punctuation">}</span></span><span class="token string">=&gt;</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>member<span class="token punctuation">.</span>value<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
</code></pre>
    </blockquote>
    <h4>
     <a id="_222">
     </a>
     定义枚举类
    </h4>
    <blockquote>
     <pre><code class="prism language-python"><span class="token keyword">from</span> enum <span class="token keyword">import</span> Enum<span class="token punctuation">,</span> unique
<span class="token decorator annotation punctuation">@unique</span><span class="token comment">#unique装饰器帮助检查Enum内部字段，保证字段不重复</span>
<span class="token keyword">class</span> <span class="token class-name">My_weekday</span><span class="token punctuation">(</span>Enum<span class="token punctuation">)</span><span class="token punctuation">:</span>
  Sun <span class="token operator">=</span> <span class="token number">0</span>
  Mon <span class="token operator">=</span> <span class="token number">1</span>
  Tue <span class="token operator">=</span> <span class="token number">2</span>
  Wed <span class="token operator">=</span> <span class="token number">3</span>
  Thu <span class="token operator">=</span> <span class="token number">4</span>
  Fri <span class="token operator">=</span> <span class="token number">5</span>
  Sat <span class="token operator">=</span> <span class="token number">6</span> 
my_weekday <span class="token operator">=</span> My_weekday<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#my_weekday.Sun</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_weekday<span class="token punctuation">.</span>Sun<span class="token punctuation">)</span><span class="token comment">#my_weekday.Sun</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_weekday<span class="token punctuation">[</span><span class="token string">'Sun'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#my_weekday.Sun</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_weekday<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#my_weekday.Sun</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_weekday<span class="token punctuation">.</span>Sun<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token comment">#0</span>
<span class="token keyword">for</span> name<span class="token punctuation">,</span> member <span class="token keyword">in</span> my_weekday<span class="token punctuation">.</span>__members__<span class="token punctuation">.</span>item<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>name<span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>member<span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>member<span class="token punctuation">.</span>value<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
【output】
<span class="token triple-quoted-string string">"""
Sun  My_weekday.Sun 0
Mon  My_weekday.Mon 1
Tue  My_weekday.Tue 2
Wed  My_weekday.Wed 3
Thu  My_weekday.Thu 4
Fri  My_weekday.Fri 5
Sat  My_weekday.Sat 6
"""</span>
</code></pre>
    </blockquote>
    <h3>
     <a id="_254">
     </a>
     高级面向对象
    </h3>
    <h4>
     <a id="types_256">
     </a>
     元类types
    </h4>
    <blockquote>
     <p>
      动态地给对象添加方法(MethodType(func[, object/None], Object))
     </p>
     <pre><code class="prism language-python"><span class="token keyword">from</span> types <span class="token keyword">import</span> MethodType

<span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
  self<span class="token punctuation">.</span>age <span class="token operator">=</span> value
<span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
      self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
student <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'Bob'</span><span class="token punctuation">)</span>
student<span class="token punctuation">.</span>age_setter <span class="token operator">=</span> MethodType<span class="token punctuation">(</span>age_setter<span class="token punctuation">,</span>func<span class="token punctuation">)</span>
student<span class="token punctuation">.</span>age_setter<span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>student<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">is </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>student<span class="token punctuation">.</span>age<span class="token punctuation">}</span></span><span class="token string"> years old.'</span></span><span class="token punctuation">)</span>
</code></pre>
     <p>
      动态的给类添加方法
     </p>
     <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
  	self<span class="token punctuation">.</span>age <span class="token operator">=</span> value
<span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  	<span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
      	self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
Student<span class="token punctuation">.</span>age_setter <span class="token operator">=</span> func
Student<span class="token punctuation">.</span>age_setter <span class="token operator">=</span> MethodType<span class="token punctuation">(</span>func<span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">,</span> Student<span class="token punctuation">)</span>
student <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'Bob'</span><span class="token punctuation">)</span>
student<span class="token punctuation">.</span>age_setter<span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>student<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">is </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>student<span class="token punctuation">.</span>age<span class="token punctuation">}</span></span><span class="token string"> years old.'</span></span><span class="token punctuation">)</span>
</code></pre>
    </blockquote>
    <h4>
     <a id="type_284">
     </a>
     元类type构造对象
    </h4>
    <blockquote>
     <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
  	<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello world!'</span><span class="token punctuation">)</span>
<span class="token builtin">object</span> <span class="token operator">=</span> <span class="token builtin">type</span><span class="token punctuation">(</span><span class="token string">'Object'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token string">'func'</span><span class="token punctuation">:</span>func<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">#arg1:str 类名 ;arg2:tuple 基类; arg3:dict('a' = a, 'b' = b...) 类变量/静态字段;</span>
</code></pre>
    </blockquote>
    <h4>
     <a id="Slot_291">
     </a>
     使用Slot限制添加属性
    </h4>
    <blockquote>
     <p>
      slot是一个特殊静态字段,tuple类型.slot只对当前类起作用，对其子类并不起作用
     </p>
     <pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
      __slot__ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">)</span>
      <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>
          <span class="token builtin">super</span><span class="token punctuation">(</span>Student<span class="token punctuation">,</span>self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
          self<span class="token punctuation">.</span>age <span class="token operator">=</span> age
      <span class="token decorator annotation punctuation">@property</span>
      <span class="token keyword">def</span> <span class="token function">name</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
          <span class="token keyword">return</span> self<span class="token punctuation">.</span>name

      <span class="token decorator annotation punctuation">@name<span class="token punctuation">.</span>setter</span>
      <span class="token keyword">def</span> <span class="token function">name</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>name <span class="token operator">=</span> name

      <span class="token decorator annotation punctuation">@property</span>
      <span class="token keyword">def</span> <span class="token function">age</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
          <span class="token keyword">return</span> self<span class="token punctuation">.</span>age

      <span class="token decorator annotation punctuation">@age<span class="token punctuation">.</span>setter</span>
      <span class="token keyword">def</span> <span class="token function">age</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>age <span class="token operator">=</span> age
s1 <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'Bill'</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">)</span>
s1<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">89</span>                <span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span><span class="token punctuation">:</span>不能添加score字段
</code></pre>
    </blockquote>
    <h4>
     <a id="_319">
     </a>
     装饰器
    </h4>
    <blockquote>
     <p>
      一般装饰器（@decorate）
     </p>
    </blockquote>
    <blockquote>
     <p>
      描述符装饰器
     </p>
     <blockquote>
      <p>
       实现了
       <code>
        __get__() __set__() __del__()@property @func.setter @func.deleter
       </code>
      </p>
      <p>
       数据描述符（实现了get set）
       <br/>
       非数据描述符（只实现get 没有实现set)
      </p>
     </blockquote>
    </blockquote>
    <h4>
     <a id="python_329">
     </a>
     python垃圾回收机制
    </h4>
    <blockquote>
     <ul>
      <li>
       引用计数器（当一个对象被引用机会增加其引用计数，当不被引用时减少引用计数，减少至0时在合适的时机下内存被回收）
      </li>
      <li>
       循环垃圾收集器（针对循环引用）
      </li>
      <li>
       手动内存回收 del obj.obj (将引用计数置零，只有最后引用该内存的对象释放后才执行析构函数__del__())
      </li>
     </ul>
    </blockquote>
    <h3>
     <a id="python_ExceptionDebugTraceback_337">
     </a>
     python 异常（Exception）、调试（Debug）、回溯（Traceback)
    </h3>
    <h4>
     <a id="Exception_338">
     </a>
     异常（Exception）
    </h4>
    <blockquote>
     <pre><code class="prism language-python">
<span class="token keyword">try</span><span class="token punctuation">:</span>
  <span class="token keyword">pass</span>
<span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
  <span class="token keyword">raise</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
  <span class="token keyword">pass</span>
<span class="token keyword">finally</span><span class="token punctuation">:</span>
  <span class="token keyword">pass</span>

</code></pre>
     <h5>
      <a id="_353">
      </a>
      常见的异常：
     </h5>
     <blockquote>
      <table>
       <thead>
        <tr>
         <th>
          异常名称
         </th>
         <th>
          描述
         </th>
        </tr>
       </thead>
       <tbody>
        <tr>
         <td>
          BaseException
         </td>
         <td>
          所有异常K的基类
         </td>
        </tr>
        <tr>
         <td>
          SystemExit
         </td>
         <td>
          解释器请求退出
         </td>
        </tr>
        <tr>
         <td>
          KeyboardInterrupt
         </td>
         <td>
          用户自行中断执行^C
         </td>
        </tr>
        <tr>
         <td>
          Exception
         </td>
         <td>
          常规错误的基类
         </td>
        </tr>
        <tr>
         <td>
          StopIteration
         </td>
         <td>
          迭代器溢出
         </td>
        </tr>
        <tr>
         <td>
          GeneratorExit
         </td>
         <td>
          生成器发生异常后通知退出
         </td>
        </tr>
        <tr>
         <td>
          StandardError
         </td>
         <td>
          所有标准异常类的基类
         </td>
        </tr>
        <tr>
         <td>
          ArithmeticError
         </td>
         <td>
          所有数值计算错误的基类
         </td>
        </tr>
        <tr>
         <td>
          FloattingPointError
         </td>
         <td>
          浮点计算错误
         </td>
        </tr>
        <tr>
         <td>
          OverflowError
         </td>
         <td>
          数值运算溢出
         </td>
        </tr>
        <tr>
         <td>
          ZeroDivisionError
         </td>
         <td>
          除[,取模]by0
         </td>
        </tr>
        <tr>
         <td>
          AssertionError
         </td>
         <td>
          断言语句失败
         </td>
        </tr>
        <tr>
         <td>
          AttributeError
         </td>
         <td>
          对象缺失该属性
         </td>
        </tr>
        <tr>
         <td>
          EOFError
         </td>
         <td>
          没有内建输入，到达EOF标记
         </td>
        </tr>
        <tr>
         <td>
          EnvironmentError
         </td>
         <td>
          操作系统错误的基类
         </td>
        </tr>
        <tr>
         <td>
          IOError
         </td>
         <td>
          输入/输出操作失败
         </td>
        </tr>
        <tr>
         <td>
          OSError
         </td>
         <td>
          操作系统错误
         </td>
        </tr>
        <tr>
         <td>
          WindowsError
         </td>
         <td>
          系统调用失败
         </td>
        </tr>
        <tr>
         <td>
          ImportError
         </td>
         <td>
          导入模块/对象失败
         </td>
        </tr>
        <tr>
         <td>
          LookupError
         </td>
         <td>
          无效数据查询的基类
         </td>
        </tr>
        <tr>
         <td>
          IndexError
         </td>
         <td>
          序列中没有此索引
         </td>
        </tr>
        <tr>
         <td>
          KeyError
         </td>
         <td>
          映射中没有此键
         </td>
        </tr>
        <tr>
         <td>
          MemoryError
         </td>
         <td>
          内存溢出（对于Python解释起来说非致命）
         </td>
        </tr>
        <tr>
         <td>
          NameError
         </td>
         <td>
          未声明/初始化对象
         </td>
        </tr>
        <tr>
         <td>
          UnboundLocalError
         </td>
         <td>
          访问未初始化的本地变量
         </td>
        </tr>
        <tr>
         <td>
          ReferenceError
         </td>
         <td>
          试图访问已被回收器回收的对象（弱引用）
         </td>
        </tr>
        <tr>
         <td>
          RuntimeError
         </td>
         <td>
          一般运行时错误
         </td>
        </tr>
        <tr>
         <td>
          NotImplementedError
         </td>
         <td>
          尚未实现的方法
         </td>
        </tr>
        <tr>
         <td>
          SyntaxError
         </td>
         <td>
          Python语法错误
         </td>
        </tr>
        <tr>
         <td>
          IndentationError
         </td>
         <td>
          缩进错误
         </td>
        </tr>
        <tr>
         <td>
          TabError
         </td>
         <td>
          Tab和Space混用
         </td>
        </tr>
        <tr>
         <td>
          SystemError
         </td>
         <td>
          一般的解释器系统错误
         </td>
        </tr>
        <tr>
         <td>
          TypeError
         </td>
         <td>
          对类型无效的操作
         </td>
        </tr>
        <tr>
         <td>
          ValueError
         </td>
         <td>
          传入无效的参数
         </td>
        </tr>
        <tr>
         <td>
          UnicodeError
         </td>
         <td>
          Unicode相关错误
         </td>
        </tr>
        <tr>
         <td>
          UnicodeDecodeError
         </td>
         <td>
          Unicode解码时的错误
         </td>
        </tr>
        <tr>
         <td>
          UnicodeEncodeError
         </td>
         <td>
          Unicode编码时的错误
         </td>
        </tr>
        <tr>
         <td>
          UnicodeTranslateError
         </td>
         <td>
          Unicode转码时的错误
         </td>
        </tr>
        <tr>
         <td>
          Warning
         </td>
         <td>
          警告的基类
         </td>
        </tr>
        <tr>
         <td>
          DeprecationWarning
         </td>
         <td>
          关于被弃用的特性的警告
         </td>
        </tr>
        <tr>
         <td>
          FutureWarning
         </td>
         <td>
          关于构造将来语义会有改变的警告
         </td>
        </tr>
        <tr>
         <td>
          OverflowWarning
         </td>
         <td>
          旧的关于自动提升为长整型(long)的警告
         </td>
        </tr>
        <tr>
         <td>
          pendingDeprecationWarning
         </td>
         <td>
          关于特性将会被废弃的警告
         </td>
        </tr>
        <tr>
         <td>
          RuntimeWarning
         </td>
         <td>
          可疑的运行时行为的警告
         </td>
        </tr>
        <tr>
         <td>
          SysntaxWarning
         </td>
         <td>
          可疑语法的警告
         </td>
        </tr>
        <tr>
         <td>
          UserWarning
         </td>
         <td>
          用户代码生成的警告
         </td>
        </tr>
       </tbody>
      </table>
     </blockquote>
    </blockquote>
    <h4>
     <a id="Debug_405">
     </a>
     调试（Debug）
    </h4>
    <blockquote>
     <h5>
      <a id="_407">
      </a>
      单元测试
     </h5>
     <blockquote>
      <p>
       单元测试的类在unittest包中使用时直接导入包
       <code>
        import unittest
       </code>
       .
      </p>
      <pre><code class="prism language-python"><span class="token keyword">import</span> unittest
<span class="token keyword">class</span> <span class="token class-name">TestClass</span><span class="token punctuation">(</span>unitest<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>
 <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
       <span class="token keyword">pass</span>
   <span class="token keyword">def</span> <span class="token function">tearDown</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
       <span class="token keyword">pass</span>
   <span class="token keyword">def</span> <span class="token function">test_init</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
       self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span><span class="token punctuation">)</span>
       self<span class="token punctuation">.</span>assertTrue<span class="token punctuation">(</span><span class="token punctuation">)</span>
       self<span class="token punctuation">.</span>assertRaises<span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token keyword">def</span> <span class="token function">test_func1</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
       <span class="token keyword">pass</span>
   <span class="token keyword">def</span> <span class="token function">test_func2</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
       <span class="token keyword">pass</span>
</code></pre>
     </blockquote>
     <h5>
      <a id="doctest_427">
      </a>
      文档测试(doctest)
     </h5>
     <blockquote>
      <p>
       Python的文档测试模块可以直接提取注释中的代码并执行
      </p>
      <pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Dict</span><span class="token punctuation">(</span><span class="token builtin">dict</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token triple-quoted-string string">'''
   Simple dict but also support access as x.y style.

   &gt;&gt;&gt; d1 = Dict()
   &gt;&gt;&gt; d1['x'] = 100
   &gt;&gt;&gt; d1.x
   100
   &gt;&gt;&gt; d1.y = 200
   &gt;&gt;&gt; d1['y']
   200
   &gt;&gt;&gt; d2 = Dict(a=1, b=2, c='3')
   &gt;&gt;&gt; d2.c
   '3'
   &gt;&gt;&gt; d2['empty']
   Traceback (most recent call last):
       ...
   KeyError: 'empty'
   &gt;&gt;&gt; d2.empty
   Traceback (most recent call last):
       ...
   AttributeError: 'Dict' object has no attribute 'empty'
   '''</span>
   <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token operator">**</span>kw<span class="token punctuation">)</span><span class="token punctuation">:</span>
       <span class="token builtin">super</span><span class="token punctuation">(</span>Dict<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token operator">**</span>kw<span class="token punctuation">)</span>

   <span class="token keyword">def</span> <span class="token function">__getattr__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">:</span>
       <span class="token keyword">try</span><span class="token punctuation">:</span>
           <span class="token keyword">return</span> self<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
       <span class="token keyword">except</span> KeyError<span class="token punctuation">:</span>
           <span class="token keyword">raise</span> AttributeError<span class="token punctuation">(</span><span class="token string">r"'Dict' object has no attribute '%s'"</span> <span class="token operator">%</span> key<span class="token punctuation">)</span>

   <span class="token keyword">def</span> <span class="token function">__setattr__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
       self<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value

<span class="token keyword">if</span> __name__<span class="token operator">==</span><span class="token string">'__main__'</span><span class="token punctuation">:</span>
   <span class="token keyword">import</span> doctest
   doctest<span class="token punctuation">.</span>testmod<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
     </blockquote>
    </blockquote>
    <h4>
     <a id="Traceback_474">
     </a>
     回溯（Traceback)
    </h4>
    <blockquote>
     <p>
      代码
      <br/>
      以下代码功能相同
     </p>
     <pre><code class="prism language-python"><span class="token keyword">import</span> traceback

traceback<span class="token punctuation">.</span>print_exc<span class="token punctuation">(</span><span class="token punctuation">)</span>
traceback<span class="token punctuation">.</span>format_exc<span class="token punctuation">(</span><span class="token punctuation">)</span>
traceback<span class="token punctuation">.</span>print_exception<span class="token punctuation">(</span><span class="token operator">*</span>ss<span class="token punctuation">.</span>exc_info<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre>
    </blockquote>
    <h3>
     <a id="with__485">
     </a>
     with 用法
    </h3>
    <blockquote>
     <p>
      事前事后用with（前后文管理器）
     </p>
     <pre><code class="prism language-python">【version <span class="token number">1.0</span>】
<span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"/src/tmp.txt"</span><span class="token punctuation">)</span>
data <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token comment">#可能会忘记关闭句柄</span>
<span class="token comment">#可能会出现异常</span>
【version <span class="token number">2.0</span>】
<span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"/src/tmp.txt"</span><span class="token punctuation">)</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
  data <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">finally</span><span class="token punctuation">:</span>
  <span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">#总体结构安全性都有提升</span>
【version <span class="token number">3.0</span> <span class="token keyword">with</span>】
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"/src/tmp.txt"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span>
  data <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
     <p>
      with 对处理对象需要自定义
      <code>
       __enter__() __exit__()
      </code>
      方法
     </p>
     <pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Sample</span><span class="token punctuation">:</span>
<span class="token keyword">def</span> <span class="token function">__enter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'function:enter'</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token string">"SAMPLE"</span>
   <span class="token keyword">def</span> <span class="token function">__exit__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token punctuation">,</span> value<span class="token punctuation">,</span> trace<span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'function:exit'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">get_sample</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">return</span> Sample<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">with</span> get_sample<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> sample<span class="token punctuation">:</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>sample<span class="token punctuation">}</span></span><span class="token string">do somethings'</span></span><span class="token punctuation">)</span>


<span class="token punctuation">[</span>result<span class="token punctuation">:</span><span class="token punctuation">]</span>
function<span class="token punctuation">:</span>enter
SAMPLE do somethings
function<span class="token punctuation">:</span>exit

<span class="token keyword">class</span> <span class="token class-name">Sample</span><span class="token punctuation">:</span>
<span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
  self<span class="token punctuation">.</span>num <span class="token operator">=</span> value
<span class="token keyword">def</span> <span class="token function">__enter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'function:enter'</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> self
   <span class="token keyword">def</span> <span class="token function">__exit__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token punctuation">,</span> value<span class="token punctuation">,</span> trace<span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'function:exit'</span><span class="token punctuation">)</span>
      <span class="token keyword">print</span><span class="token punctuation">(</span>'m_type<span class="token punctuation">:</span><span class="token punctuation">{<!-- --></span><span class="token builtin">type</span><span class="token punctuation">}</span>\tm_value<span class="token punctuation">:</span><span class="token punctuation">{<!-- --></span>value<span class="token punctuation">}</span>\ttrace<span class="token punctuation">:</span><span class="token punctuation">{<!-- --></span>trace<span class="token punctuation">}</span><span class="token punctuation">)</span>
   <span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> self<span class="token punctuation">.</span>num<span class="token operator">/</span>value
<span class="token keyword">def</span> <span class="token function">get_sample</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token keyword">return</span> Sample<span class="token punctuation">(</span>num<span class="token punctuation">)</span>

<span class="token keyword">with</span> get_sample<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> sample<span class="token punctuation">:</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>sample<span class="token punctuation">}</span></span><span class="token string">do somethings'</span></span><span class="token punctuation">)</span>
  num <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"input a number:"</span><span class="token punctuation">)</span>
  sample<span class="token punctuation">.</span>func<span class="token punctuation">(</span>num<span class="token punctuation">)</span>


<span class="token comment">#执行顺序：</span>
<span class="token comment">#with 后面的函数/或type对象使用类的__init__()创建出一个对象,然后调用__enter__()方法将返回值赋给as 后的变量。在with执行完毕后调用类中的__exit__（）方法，清理或关闭句柄。</span>
</code></pre>
     <ul>
      <li>
       <code>
        open
       </code>
       (
       <em>
        file
       </em>
       ,
       <em>
        mode=‘r’
       </em>
       ,
       <em>
        buffering=-1
       </em>
       ,
       <em>
        encoding=None
       </em>
       ,
       <em>
        errors=None
       </em>
       ,
       <em>
        newline=None
       </em>
       ,
       <em>
        closefd=True
       </em>
       ,
       <em>
        opener=None
       </em>
       )
      </li>
     </ul>
    </blockquote>
    <h3>
     <a id="f_string__553">
     </a>
     f_string 处理
    </h3>
    <p>
     <code>
      __str__，__repr__
     </code>
    </p>
    <blockquote>
     <ul>
      <li>
       <code>
        __str __（）
       </code>
       和
       <code>
        __repr __（）
       </code>
       方法处理对象如何呈现为字符串，因此您需要确保在类定义中包含至少一个这些方法。如果必须选择一个，请使用
       <code>
        __repr __（）
       </code>
       ，因为它可以代替
       <code>
        __str __（）
       </code>
       。
      </li>
      <li>
       <code>
        __str __（）
       </code>
       返回的字符串是对象的非正式字符串表示，应该可读。
       <code>
        __repr __（）
       </code>
       返回的字符串是官方表示，应该是明确的。调用
       <code>
        str（）
       </code>
       和
       <code>
        repr（）
       </code>
       比直接使用
       <code>
        __str __（）
       </code>
       和
       <code>
        __repr __（）
       </code>
       更好。
      </li>
      <li>
       默认情况下，f字符串将使用
       <code>
        __str __（）
       </code>
       ，但如果包含转换标志
       <code>
        !r
       </code>
       ，则可以确保它们使用
       <code>
        __repr __（）
       </code>
       。
      </li>
     </ul>
     <pre><code class="prism language-python"><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>new_comedian<span class="token punctuation">}</span></span><span class="token string">"</span></span>
<span class="token string">'This __str__'</span>
<span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>new_comedian<span class="token conversion-option punctuation">!r</span><span class="token punctuation">}</span></span><span class="token string">"</span></span>
<span class="token string">'This __repr__'</span>
</code></pre>
    </blockquote>
    <h3>
     <a id="5_568">
     </a>
     数组复制的5种方法
    </h3>
    <p>
     python中简单将一个数组赋值给另一个数组,实际上是两个引用指向同一块内存,可能无法达到预期目的.因此这里整理了几种数组拷贝复制的方法.
    </p>
    <blockquote>
     <ol>
      <li>
       切片
      </li>
     </ol>
     <pre><code class="prism language-python">newArr <span class="token operator">=</span> oldArr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
</code></pre>
     <ol start="2">
      <li>
       list()
      </li>
     </ol>
     <pre><code class="prism language-python">newArr <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>oldArr<span class="token punctuation">)</span>
</code></pre>
     <ol start="3">
      <li>
       Arr*1
      </li>
     </ol>
     <pre><code class="prism language-python">newArr <span class="token operator">=</span> oldArr<span class="token operator">*</span><span class="token number">1</span>
</code></pre>
     <ol start="4">
      <li>
       copy.copy()浅拷贝方法
      </li>
     </ol>
     <pre><code class="prism language-python">newArr <span class="token operator">=</span> copy<span class="token punctuation">.</span>copy<span class="token punctuation">(</span>oldArr<span class="token punctuation">)</span>
newArr <span class="token operator">=</span> oldArr<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
     <ol start="5">
      <li>
       copy.deepcopy()深拷贝方法
      </li>
     </ol>
     <pre><code class="prism language-python">newArr <span class="token operator">=</span> copy<span class="token punctuation">.</span>deepcopy<span class="token punctuation">(</span>oldArr<span class="token punctuation">)</span>
</code></pre>
    </blockquote>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6c696c696e6861693534382f:61727469636c652f64657461696c732f313436333034303837" class_="artid" style="display:none">
 </p>
</div>


