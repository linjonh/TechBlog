---
arturl_encode: "68747470733a2f:2f626c6f672e6373646e2e6e65742f5a68757a68757374752f:61727469636c652f64657461696c732f313036353239333139"
layout: post
title: "网络安全刘建伟毛剑版本重点整理复试期末"
date: 2024-09-06 22:09:28 +08:00
description: "这份重点是在准备复试时边看书和ppt边手打的。掐指一算已经是整整一个月前的事情惹。复试发挥还八错，哈"
keywords: "网络安全技术与实践第三版刘建伟课后答案"
categories: ['自用材料']
tags: ['面试', '经验分享', '安全']
artid: "106529319"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=106529319
    alt: "网络安全刘建伟毛剑版本重点整理复试期末"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=106529319
featuredImagePreview: https://bing.ee123.net/img/rand?artid=106529319
---

# 网络安全（刘建伟/毛剑版本）重点整理/复试/期末

这份重点是在准备复试时边看书和ppt边手打的。掐指一算已经是整整一个月前的事情惹。
  
这本教材是哈工程复试参考书目，但是网络上关于它的材料比较少。把自己整理的重点放上来，希望能帮到期末、复试以及自学网络安全的小可爱♥
  
网络安全
  
2.1基本协议

1. ARP地址解析协议：将局域网中的32bitIP地址→48bit物理地址（网卡的MAC地址）
     
   ARP欺骗：计算机发出假冒的ARP查询或应答信息，然后将所有流向它的数据流转移，以此伪装成某台机器或修改数据流向。通过伪造IP地址和MAC地址实现ARP欺骗，能够在网络中产生大量的ARP通信量使网络阻塞或者实现“man in the middle” 进行ARP重定向和嗅探攻击。
2. ICMP控制消息协议：介于网络层和传输层，传输网络诊断信息（error）或咨询信息（information），既传输差错报文，又传输控制报文。是监控工具Ping和Traceroute的重要组成部分。
     
   安全威胁：①滥用ICMP来中断某些连接②利用ICMP对消息重定向（redirect）③死亡之ping。
3. TCP传输控制协议：由于IP数据包易丢失、被复制或乱序传递，TCP可以将数据包排序并进行错误检查，重传重组，同时实现虚电路间的连接。
     
   安全威胁：①unix系统规定超级用户才可创建1024以下端口（特权端口）；
     
   ②三次握手进行连接时TCP协议处于半开放状态下，SYNFlood攻击会使服务器保持半开放连接状态进而无法完成三步握手协议，无法响应其他客户机的连接请求。
     
   ③序号攻击：若攻击者能预测目标主机选择的起始序号就可欺骗目标主机。如Morris。
4. UDP用户数据报协议：与TCP位于同一层，但是没有连接建立的过程（TCP具有连接建立、撤销和状态维护的过程），没有纠错和重传机制，也没有数据包检测机制，进行大流量数据传输时易造成堵塞主机或路由器并导致数据包丢失，没有交换握手信息和序号的过程导致使用UDP实施欺骗比使用TCP简单；用于交换消息的开销比TCP小，适用于挑战/响应类型的应用，如NFS,NTP,DNS(DNS也使用TCP)。
     
   2.2网络地址和域名管理
5. 路由协议：一种在Internet上动态寻找恰当路径的机制，是支撑TCP/IP、IPX/SPX、AppleTalk等协议工作的基础，目的是实现网络互联。
6. 非对称路由（返回通道与发送通道不一致）：
     
   优点：起到负载均衡作用；
     
   缺点：有多个防火墙时会引发安全问题。
7. 宽松路由（loose source route）：指定数据包必须经过的确切路由地址，根据RFC1122，目标主机必须使用逆通道作为返回路由，使得攻击者可以假冒目标主机信任的任一主机。（最容易的攻击方式）。
8. 源路由欺骗：IP地址并非是出厂时就与MAC地址固定在一起的，攻击者通过自封包和修改网络节点的IP地址冒充某个可信节点的IP地址。
     
   源路由攻击：获取TCP序列号进行序号攻击。
     
   防范：①拒绝接收含有源路由功能的数据包，关闭主机和路由器上的源路由功能；②抛弃由外部网进来却声称是内部主机的报文。
9. RIP路由信息协议：动态路由选择，用于自治系统内的路由信息的传递，基于距离矢量算法，使用跳数衡量到达目标地址的路由距离，只与15跳以内的路由器交换信息。
     
   安全缺陷：①通过RIP数据包注入，若攻击主机比真正的源点主机距离更近则可能改变数据流方向；防范：采用备份路由/使用hopcount站计数衡量路径长短②有些实现方案可以接收特定主机的路由，使检测更加困难。
10. DNS域名系统：分布式数据系统，实现域名到IP之间的相互映射。
      
    安全威胁：
      
    ①DNS欺骗：DNS的查询请求基于UDP，客户端对DNS应答包仅通过随机发生的查询ID和UDP端口号验证，且只接受首先到达的应答包，为DNS欺骗提供了机会。
      
    步骤：1）Arp欺骗。欺骗者向用户发送伪造的arp应答报文，更新用户本地的arp缓存，使用户认为欺骗者为网关。这样，在用户向本地DNS服务器发送请求时，数据的流向就改为用户—欺骗者—网关—本地DNS服务器。欺骗者通过sniffer软件，嗅探到DNS请求包的ID和端口号。2）欺骗者利用得到的ID和端口号，优先向用户发送伪造DNS应答，用户在对ID和端口号进行核对后认为是正确的应答。此时用户访问的域名已经被替换为欺骗者伪造的IP。3）本地DNS服务器发送的真的DNS应答包因为晚于伪造包，用户收到后丢弃。（前提：攻击者与用户处于同一局域网）
      
    \*不满足前提时，攻击者对DNS缓存进行攻击（如生日攻击），使DNS缓存中毒。
      
    ②分布式拒绝服务攻击DDos：攻击者通过庞大的被控主机群向目标DNS服务器发送DNS查询请求，使其过载以及网络线路堵塞。
      
    ③DNS软件漏洞攻击：Dos攻击（发送特定数据包请求使BIND自动关闭无法应答）、缓冲区溢出攻击（利用DNS软件对输入的请求字符串不做严格检查的安全漏洞，构造特殊数据包使缓冲区溢出后执行特殊代码获取控制权）
      
    ④管理缺陷
      
    防范措施：防范ARP攻击、采用UDP随机端口、建立静态IP映射、运行最新版本BIND、限制查询、利用防火墙、利用交叉检验、利用DNSsec机制、TCP区转移。
      
    DNSsec机制：兼容现有协议的基础上引入加密和认证体系，允许校验应答信息的可靠性。
11. NAT网络地址转换协议：将私有（保留）地址转换为合法IP地址的转换技术，解决了IPv4地址短缺的问题，有效避免来自网络外部的攻击，隐藏并保护网络内部的计算机。
      
    安全威胁：①不能与加密协调工作，不能对加密的应用数据流进行检查；②与IPsec冲突。③单点攻击：SYN flood/Ping flood。
      
    2.3电子邮件协议
12. SMTP简单邮件传输协议：最常用，使用25号端口。
      
    安全威胁：①主叫方通过命令指定一个返回地址，本地主机无法验证正确性（无法确认发信人）；②可能成为Dos攻击的工具攻击邮件服务器；③最常见的实现方案Sendmail中包含很多C代码并常以root用户权限工作造成安全漏洞，可能会被网络蠕虫利用；④开放中继允许任何人之间进行邮件传递造成危险，比如收到垃圾邮件（使用邮件托付mail submission认证功能拒绝接受开放中继）；⑤垃圾邮件spam；
13. POP3邮局协议：规定如何将个人计算机连接到网络邮件服务器上来下载邮件。使用110端口。
      
    安全威胁：口令以明文传输或以明文形式存储在服务器上；POP3服务器软件在认证结束前以root权限运行，给服务器带来风险。
14. IMAP消息访问协议：一种邮件获取协议，支持摘要浏览、选择性下载附件、支持离线阅读，运行在TCP/IP协议之上，使用143号端口。
      
    不足：挑战/响应机制使用了一个共享密钥且必须存储在服务器上；协议复杂度太高。
15. MIME多用途网际邮件扩充协议：服务器通过说明MIME类型通知接收方/浏览器发送的多媒体数据类型。
      
    安全威胁：①缺少MIME可能引起计算机崩溃；②MIME编码消息可能带有攻击代码；③MIME分段攻击；④邮寄可执行程序和含有危险动作的PostScript文件，其中蠕虫和病毒传播的主要根源就是通过电邮发送可执行程序，或者发送含有伪造的“From：”命令行的MIME信息。
      
    3.数字证书与公钥基础设施
16. PKI(Public Key Infrastructure)即提供安全服务的公钥基础设施，目的是从技术上解决网上身份认证、电子信息的完整性和不可否认性等安全问题为网络应用提供可靠的安全服务。PKI是遵循标准的密钥管理平台，提供密钥和证书管理。组成包括：证书机构CA（发放和管理数字证书）、注册机构RA（对证书申请进行资格审查）、证书发布库（存放颁发证书与证书撤销列表供公众查询）、密钥备份与恢复（仅针对加/解密密钥）、证书撤销、PKI应用接口
17. PKI的应用：①认证服务（身份识别与认证）②数据完整性服务（使用数字签名确认数据没有被修改过）③数据保密性服务（“数字信封”机制：使用接收方的公钥加密对称密钥）④不可否认服务（从技术上保证实体对行为的认可，主要是数据来源、接收与接收后的不可否认性）⑤公证服务（数据认证：有效性和正确性）。
18. 数字证书：是一个用户的身份与其所持有的公钥的结合，由证书机构CA对证书进行数字签名证明有效性。
      
    生成参与方：参与方：最终用户、RA（签发、维护、撤销）、CA（接收和验证最终用户的信息、为最终用户生成密钥、接收和授权密钥备份与恢复请求、接收与授权证书撤销请求）；
      
    生成步骤：密钥生成-注册-验证-证书生成；
19. 属性证书AC：结构与数字证书相似，不包含用户的公钥而是在实体及其一组属性之间建立联系，在授权服务中控制对网络、数据库等的访问和对特定物理环境的访问。
20. PKI实例：PKI/CA认证系统=签发系统Authority+密钥管理中心系统KMC+申请注册系统RA+证书发布系统DA+在线证书状态查询系统OCSP.
21. PMI权限/授权管理基础设施：属性证书AC、属性管理机构/属性权威AA、属性证书库等的集合体。以向用户和应用程序提供权限管理和授权服务为目标。主要负责向业务应用系统提供与应用相关的授权服务管理，提供用户身份到应用授权的映射功能，实现与实际应用处理模式相对应的、与具体应用系统开发和管理无关的访问控制机制，极大简化了应用中访问控制和权限管理系统的开发与维护，减少管理成本和复杂性。
22. PKI与PMI的区别：PMI主要进行授权管理，证明“你能做什么”；PKI主要进行身份认证，证明“你是谁”。
23. 实现PMI的机制：
      
    ①基于Kerberos：基于对称密码技术，但不便于密钥管理和单点失败的问题，最适用于大量的实时事务处理环境中的授权管理。
      
    ②基于策略服务器概念：有一个中心服务器用来创建、维护和验证身份、组合角色，便于实行单点管理，但易形成通信瓶颈，最适用于地理位置相对集中的实体环境，具有很强的中心管理控制功能。
      
    ③基于属性证书：分布式解决方案，具有失败拒绝的优点，但性能不高，适用于支持不可否认服务的授权管理。
24. PMI模型：目标+权限持有者+权限验证者。

4.密钥管理
  
25. 密钥管理：处理密钥从产生到最终销毁的整个过程中的有关问题，包括系统的初始化及密钥的产生、存储、备份/恢复、装入、分配、保护、更新、控制、丢失、撤销和销毁等内容。
  
26. 密钥管理中的常见威胁：①秘密钥的泄露；②密钥的确证性（authenticity）的丧失，即共享或关于一个密钥的实体身份的知识或可证实性；③密钥未经授权使用。
  
27. 密钥种类：
  
①基本密钥/初始密钥/用户密钥Kp：在较长时间内由一对用户专用的秘密钥，可与会话密钥一起控制密钥产生器，产生用于加密数据的密钥流。
  
②会话密钥/专用密钥Ks：通信双方在一次通话或数据交换时用的密钥，保护数据时为数据加密密钥，保护文件时为文件密钥，时间短暂。
  
③密钥加密密钥/次主密钥/辅助（二级）密钥/密钥传送密钥Ke：对密钥加密时采用的密钥，每节点应互不相同。
  
④主机主密钥Km：对密钥加密密钥进行加密的密钥。

28. 密钥产生方式：
      
     理想的主机密钥：随机性、不可重复性、不可预测性；
      
     密钥加密密钥：安全算法、二极管噪声产生器、伪随机数产生器；
      
     会话密钥、数据加密密钥：安全算法。
29. 密钥分配：研究密钥的分发和传送问题，使用一串数字或密钥对通信双方所交换的秘密信息进行加密、解密、传送等操作以实现保密通信或认证签名等。
30. 秘密信息共享的三种方法：
      
    ①利用安全信道实现密钥传递；
      
    由通信双方直接面议或通过可靠信使传递密钥，成本高，保证及时性和安全性，偶尔出现丢失、泄密。可采用分层方式即信使只传送密钥加密密钥，或将密钥拆分传送，或使用主密钥对会话密钥加密。
      
    ②利用双钥体制建立安全信道传递；
      
    运算量大，不适合用于实时数据加解密，适合用来进行密钥分配。一公一私，发送方使用公钥对会话密钥加密，收方收到密文后使用私钥解密可得会话密钥。公钥可通过验证接收方的数字证书获得。
      
    ③利用特定物理现象（如量子技术）实现密钥传递。
      
    量子密码不可窃听、不可破译。
31. 密钥分配的基本工具：认证技术（保障）、协议技术（流程）。
32. 密钥分配的基本模式：
      
    ①点对点分配：每对用户共享一个密钥，N个用户需要N(N-1)/2个密钥。只适用小型网。
      
    ②中心化密钥管理：将一个可信的联机服务器作为密钥分配KDC或转递KTC中心。各用户只需保存一个与KDC或KTC共享的长期密钥。
33. 可信第三方TTP：
      
    ①参与方式：协调（中间人，为AB通信提供实时服务
    *AB属于不同安全区域时尤为重要）、联机（实时参与AB每次协议的执行，不必参与通信）、脱机（不实时参与AB的协议，而是预先向AB提供双方执行协议所需信息，对计算资源要求低，但撤销权宜时不方便*
    证书发放管理机构常采用此种方式）。
      
    ②其他功能：密钥服务器（KDC/KTC）；密钥管理设备；密钥查阅服务；时戳代理；仲裁代理；托管代理。
34. 密钥交换协议：
      
    ①单钥体制的密钥建立协议：分为密钥传输协议与密钥协商协议。两方用户都分别与密钥分配中心KDC（即Trent）共享一个密钥。
      
    缺点：协议安全性完全依赖Trent的安全性；Trent可能成为影响系统性能的瓶颈；Trent出现故障会影响整个系统的正常工作。
      
    ②双钥体制的密钥交换协议：公钥+会话密钥，双方公钥存放在数据库中。
      
    缺点：中间人攻击（Men-in-the-middle Attack），窃听、修改、删除消息，或截获数据库查询指令，或进入数据库修改双方公钥。之所以有效，是因为AB无法验证他们正在与另一方会话。
      
    ③联锁协议Interlock：一半密文既不可解密，也不可重新加密，可有效抵挡中间人攻击。
      
    ④采用数字签名的密钥交换：可信实体Trent对双方公钥进行数字签名，签名的公钥包含在数字证书中。可有效防止假冒攻击（攻击者无法获得双方的私钥），防止中间人攻击（攻击者无法获得Trent的私钥）。
      
    ⑤密钥和消息广播：发送者使用随机数作为会话密钥对消息进行加密，从数据库中得到接收方的公钥并对加密后的信息再次加密，发送方广播加密的信息和所有加密的密钥。可以在存储转发网络上实现，且服务器不必是安全可信的。
      
    ⑥Diffie-Hellman密钥交换协议：安全性建立在计算离散对数难题的基础上，但无法抵抗中间人攻击，因为没有对通信双方的身份进行认证。
35. 认证的密钥交换协议：将认证与密钥建立结合。
      
    密钥认证是为了确保自己是和安全的一方通信，而不是和中间人通信。包括隐式密钥认证、密钥确证、显式密钥认证。
      
    分类：
      
    ①基于单钥体制的密钥交换协议：大嘴青蛙协议、Yahalom协议、NeedhamSchroeder协议、Otway-Rees协议、Neuman-Stubblebine协议、Kerberos协议。
      
    ②基于双钥体制的密钥交换协议：如Diffie-Hellman协议
      
    ③基于混合体制的密钥交换协议：如DASS协议、Denning-Sacco协议、Woo-Lam协议、EKE协议；
      
    e.g：Kerberos协议：AB各与Trent共享一个密钥，采用时戳技术保证消息新鲜性；AB 通信的会话密钥由A产生。运行前提是每个用户必须具有与Trent同步的时钟，通过设立有效时间间隔，可检测到重放攻击。
      
    EKE加密密钥交换协议：既采用单钥又采用双钥，采用共享密钥对随机生成的公钥加密，通信双方可实现相互认证并共享一个会话密钥K。
36. 选用/设计协议需考虑的因素：认证的特性、认证的互易性、密钥的新鲜性、密钥的控制、有效性、第三方参与、是否采用证书、不可否认性。
37. 密钥的保护、存储与备份：
      
    保护：保证环境安全、密钥不能以明文形式出现。
      
    ①终端密钥的保护：使用二级通信密钥（终端主密钥）对会话密钥进行加密保护，终端主密钥存储于主密钥寄存器中，由主机对各终端主密钥进行管理。
      
    ②主机密钥的保护：主密钥原则
      
    ③密钥分级保护管理法：

    存储：保证密钥的机密性、认证性、完整性，防止泄露与被修改。
      
    备份：安全员保管、共享密钥协议。
38. 密钥的泄露、撤销、过期与销毁：
      
    泄露与撤销：一旦泄露要及时撤销。补救方法是及时更换密钥。
      
    有效期：①短期密钥：如会话密钥（至少一天一换）
      
    ②长期性密钥：如密钥加密密钥（一月或一年一换）
      
    ③用于加密数据文件或存储数据的密钥不能经常更换
      
    ④公钥密码的秘密密钥由具体应用确定，一般以年计，过期密钥也要保留。
      
    销毁：旧密钥要及时销毁，碎纸机、多次重写、自毁装置。
      
    5.防火墙原理与设计
39. 防火墙：由软件和硬件组成的系统，处于安全的网络和不安全的网络之间，根据系统管理员设置的访问控制规则对数据流进行过滤。
      
     不足：防外不防内；绕过防火墙的连接无效；必须允许重要的服务通过，也为攻击预留了通道。
      
     设计要求：
      
    a) 所有进出网络的数据流都必须通过防火墙；
      
    b) 只允许经过授权的数据流通过防火墙；
      
    c) 防火墙自身对入侵是免疫的。
      
    d) 与防火墙的功能实现不相干但又可能给防火墙自身带来安全威胁的网络服务和应用程序应当从防火墙中剥离出去。如NIS\rlogin
      
    
      
    
      
     包过滤-电路级网关-应用级网关-状态检测-内核代理结构/自适应代理。
      
     分类：
      
    根据过滤层次：包过滤防火墙、电路级网关防火墙、应用级网关防火墙。

\*防火墙通常建立在TCP/IP模型基础上。
  
\*防火墙工作的层次越高，检查数据包中的信息越多，工作周期越长，安全保护等级越高。
  
40. 静态包过滤防火墙：采用路由器上的过滤模块实现，无需采用专门设备，低开销，每个网络入口都可配备。
  
a) 工作原理：对两个方向的每一个数据包根据一组过滤规则对数据包中IP头和协议头等特定域（数据源地址、目的地址、源端口号、目的端口号、应用或协议）进行检查和判定从而进行过滤。工作于网络层。
  
b) 实现的三个功能：①接收到达的每个数据包；②对数据包采用过滤规则；③若无规则与数据包头信息匹配，则对包施加默认规则。
  
c) 访问控制规则库：将特定域与规则逐条比较；默认规则包括允许一切或拒绝一切；可规定拒绝或接收发往/来自某特定IP地址或地址范围的数据包；可规定拒绝或接收发往/来自某特定服务端口的数据包。
  
d) 配置步骤：明确企业网络的安全策略；用逻辑表达式表示数据包的类型；语法重写。
  
e) 安全威胁：
  
①检查是按顺序进行的，所以过滤规则顺序极其重要；
  
②无法识别伪造IP地址，可能受到IP地址欺骗攻击；
  
③不检查数据包的净荷部分，可能遭受隐信道攻击；
  
④没有状态感知能力，不能动态打开端口。
  
f) 优缺点：网络性能影响小，成本低；
  
安全性低，缺少状态感知能力，创建访问控制规则比较困难。
  
41. 动态包过滤防火墙：根据当前网络状态检查数据包，兼具安全性和透明性，所有客户端软件不加修改即可工作，过滤规则表动态化。
  
a) 工作原理：具有状态感知能力，工作在网络层/传输层，既对数据包头信息进行检查（与静态包过滤原理一致），又可对连接进行处理，能感知新建连接与已建连接的区别，若某包与外出数据包有相同连接，则无需检查直接放行。可处理TCP和UDP协议。
  
b) 特点：①面向连接；②将连接状态记录于RAM表单，后续数据包与RAM表单比较，在系统内核层实现；
  
c) 实现方式：动态改变规则集；模仿电路级防火墙。
  
d) 安全性讨论：
  
①FTP数据通道的安全性，要对21号端口（FTP命令通道）进行特别处理；
  
②具有性能差异。来源1.是否支持对称多处理技术2.建立连接的方式；
  
③有些防火墙不满足三步握手协议，接收第一个SYN数据包时就打开新连接，使服务器易受伪装IP地址攻击，如单数据包攻击（如LAND、PING OF DEATH、Tear Drop）。
  
e) 优缺点：网络性能影响小，安全性优于静态包过滤，状态感知带来性能提升；
  
检查字段有限，不检查净荷，易受伪装IP地址欺骗，创建规则较难，不一定遵循TCP三次握手协议而引入风险。
  
42. 电路级网关：又名线路级网关，类似中继计算机的作用，作为服务器接收外来请求，有内部主机请求访问外部网络时充当代理服务器。当有效连接建立后仅进行转发不再过滤。如SOCKS（其实是一种网络代理协议）。
  
a) 工作原理：是包过滤防火墙的扩展，工作在会话层。除了基本的包过滤检查，还增加了对连接建立过程中的握手信息及序列号合法性的验证。
  
①阻止了IP数据包端到端的流动；②IP层存在的碎片攻击、firewalking等问题都会在中继主机上终结；③在两个无任何IP连通性的网络之间架起了一道桥梁；④一般可直接建立电路连接，有时需要网关协助。
  
b) 处理过程：接收-检查更多字段-处理。
  
c) 安全性讨论：
  
①对网络性能影响较小；
  
②一旦建立连接，任何应用均可通过连接运行，缺少对数据包内容的过滤。
  
d) 优缺点：对网络性能有一定程度的影响，切断了外部网络到防火墙后的服务器的直 接连接，比包过滤防火墙具有更高的安全性；不能对数据净荷进行检测，无法提供应用级的安全保障，当增加新的内部程序或资源时，需要对网关代码进行修改
  
43. 应用级网关：只对特定服务的数据流进行过滤，为特定的应用服务编写特定的应用代理即“服务代理”。
  
a) 工作原理：截获进出网络的数据包，运行代理程序来回复制和传递通过网关的信息，起代理服务器的作用，避免直接连接。
  
b) 与电路级网关的差别：代理针对应用；在应用层对整个数据包进行检查。
  
c) 工作原理：运行的代理程序对数据包进行逐个检查和过滤而不再只是简单复制；对应用协议中的特定信息或命令进行过滤，即关键词过滤或命令字过滤；采用“强应用代理”技术。
  
d) 特点：在更高层上过滤信息，自动创建必要规则，因此更易配置；对真个数据包进行检查；缺乏对新应用、协议的支持。
  
e) 安全性讨论：
  
①检查内容更多，更复杂；
  
②不是采用通用机制处理数据包，而是采用特定的代理程序处理特定应用服务的数据包；
  
③容易记录和控制所有进出网络的数据流；
  
④需要编写专门的用户程序或用户接口，只支持重要服务，范围有限；
  
⑤不适合复杂网络环境，若高并发、大流量可能会拥塞或死机；
  
⑥可以解决IP地址缺乏的问题，运行的FTP代理程序可以传输文件。
  
f) 优缺点：安全性高、认证功能强大、日志功能强大、规则配置简单；
  
灵活性差（一个代理for一个应用）、代理配置繁琐、性能瓶颈。
  
44. 状态检测防火墙：基于连接的状态检测机制，将属于同一连接的所有包作为一个数据流的整体看待，构成连接状态表。通过状态表和规则表的配合对表中的各个连接状态因素加以识别。多数只工作于网络层。
  
a) 工作原理：
  
①通信信息：即所有7层协议的当前信息。分析多层标志，在所有层上进行过滤，安全性更全面；
  
②通信状态：即以前的通信信息。无需事先打开端口，对于无连接的协议如UDP,RPC将创建虚会话信息进行跟踪；
  
③应用状态：即其他相关应用的信息。理解和学习各种协议和应用以支持最新应用，从应用程序中收集状态信息存入状态表以做检测策略；
  
④操作信息：即在数据包中能执行逻辑运算或数学运算的信息。面向对象，基于多方面因素，利用灵活表达式形式构造策略规则；
  
b) 安全性讨论：
  
①有的状态检测防火墙不能对内部主机发出的数据包的序列号进行检测，内部主机可伪装成其他主机的IP；
  
②仍采用C/S模式，在应用层上截获和检查每个数据包，但影响防火墙性能；
  
③依赖引擎中的算法识别和处理应用层数据。
  
c) 优缺点：具有动态包过滤的所有优点且更安全，提供集成的动/状态包过滤功能，以动态包过滤模式运行时速度很快，采用SMP兼容更快；
  
采用单线程进程对性能影响很大，没有打破C/S模式产生安全风险，依赖于Inetd进程，并发连接数受到极大限制。
  
45. 切换代理Cutoff Proxy：动/状态包过滤与电路级代理的结合。分为两个阶段：连接建立和连接完成。建立阶段-电路级代理-会话层；完成阶段-动态包过滤-网络层。
  
a) 与电路级代理区别：切换代理无法打破C/S模式。
  
b) 优缺点：对网络性能影响比电路级网关小，对三次握手进行验证降低IP欺骗风险
  
未打破C/S模式，具有动态包过滤的缺陷，不检查数据包净荷，难于创建规则，安全性不及电路级网关。
  
6.入侵检测系统
  
46. 入侵检测概述：入侵包括攻击者非法取得系统控制权、收集系统漏洞信息并由此对系统造成危害的行为。入侵检测是对企图入侵、正在进行的入侵或已经发生的入侵行为进行识别的过程。
  
47. IDS的任务：
  
①信息收集（探测、收集用户在网络、系统、DB及应用系统中活动的状态和行为）；
  
②信息分析（对信息进行模式匹配、统计分析和完整性分析）
  
③安全响应（发现入侵行为后进行响应）
  
48. IDS的主要功能：对防火墙进行合理补充。包括网络流量的跟踪与分析、已知攻击特征的识别功能、异常行为的分析统计与响应功能、特征库的在线和离线升级功能、数据文件的完整性检查功能、自定义的响应功能、系统漏洞的预报警功能、IDS探测器集中管理功能。
  
49. IDS的评价标准：性能测试（高负载下的运行情况）、功能测试（扩展性、可定制、完备性）、用户可用性测试。
  
50. IDS通用模型：数据收集器/探测器+检测器/分析器/检测引擎+知识库+控制器。
  
51. 入侵检测原理及主要方法：
  
①异常检测：基于行为，识别主机或网络中的异常行为。基于“攻击与正常活动具有明显差异”的假设。方法：统计异常检测法、特征选择异常检测法、基于贝叶斯推理/网络异常检测法、基于模式预测异常检测法。
  
②误用检测：基于知识，基于“所有入侵行为和手段都能表达为一种模式或特征“的假设。方法：基于条件的概率误用检测方法、基于专家系统误用检测方法、基于状态迁移分析误用检测方法、基于键盘监控误用检测方法、基于模型误用检测方法。
  
③其他技术：
  
基于概率统计的检测：最常用，对用户历史行为建立模型，如IDES；
  
基于神经网络的检测：不成熟，对基于概率方法进行改进，训练困难；
  
基于专家系统的检测：基于由专家经验事先定义的规则的推理系统，不全面、效率低；
  
基于模型推理的检测：为某些行为建立模型，为不同攻击者和系统建立特定攻击脚本；
  
基于免疫的检测：吸取自然免疫系统的特征，使系统适应性、自我调节、可扩展；
  
新：适用数据挖掘技术、移动代理技术。
  
52. IDS的体系结构：
  
组件划分：事件（网络数据包、日志）、事件产生器、事件分析器、响应单元、事件数据库。
  
功能结构：事件提取、入侵分析、入侵响应、远程管理。
  
53. IDS分类：
  
①按数据来源：
  
基于网络的IDS（快、不易受攻击、资源消耗少、误报率高）、基于主机的IDS（误报少、实时性差）、分布式IDS。
  
②按入侵检测策略：
  
滥用检测（减少系统负担、需要不断升级）、异常检测（可检测未知入侵、易误报漏报、不适应用户行为突然改变）、完整性分析（只要攻击导致改变都能发现、采用批处理实时响应性差）
  
54. IDS的前沿技术：
  
①NIDS: 基于网络，根据网络流量、网络数据包和协议来分析入侵检测。
  
常用技术：模式、表达式或字节匹配，频率或穿越阈值，低级事件的相关性，统计学意义上的非常规事件检测。
  
优点：成本低，攻击者转移证据困难，实时检测和响应，能检测未成功的攻击和企图，操作系统独立。
  
关键技术：IP碎片重组（先重组再检测，避免碎片攻击）、TCP流重组（重组通过TCP连接交换的数据）、TCP状态检测（避免基于规则的误报，有效避免stick攻击）、协议分析（利用协议的有序性，根据协议到固定位置取值，假如状态特性分析即为状态协议分析，提高性能、准确性、反规避能力）、零复制（采用DMA数据传输技术和内存区域映射技术减少数据复制次数，实现CPU零参与，解决“抓包”瓶颈）、蜜罐（吸引潜在攻击者的陷阱，收集分析现有威胁的信息）。
  
②HIDS:基于主机，检测系统文件、进程和日志文件寻找可疑活动。
  
特点：监视特定的系统活动，适用于加密和文件交换，近实时的检测和应答，不需要额外的硬件。
  
关键技术：文件和注册表保护、网络安全防护、IIS保护（针对HTTP请求、缓冲区溢出、关键字和物理目录）、文件完整性分析。
  
③DIDS：由数据采集构件、通信传输构件、入侵检测分析构件、应急处理构件和用户管理构件组成。
  
55. IDS发展方向：宽带高速实时检测技术、大规模分布式检测技术、数据挖掘技术、更先进的检测算法、入侵响应技术。
  
7.VPN技术、身份认证、网安新技术
  
56. VPN基础概念：
  
①概念：（virtual private network）将物理上分布在不同地点的网络通过公用网络连接而构成逻辑上的虚拟子网。
  
②特点：费用低，安全保障，服务质量保证，可扩充性和灵活性，可管理性。
  
③分类：
  
根据访问方式：移动用户远程访问VPN连接（链路上的第一个数据包总是由远程访问客户机提出）；网关-网关VPN连接（链路两端分别是专用网络的两个不同部分）。
  
④关键技术：隧道技术（在公用网使用隧道协议建立一条数据通道传输数据包）、加解密技术（加解密认证信息和通信数据等）、密钥管理技术（保证密钥在公用数据网行安全传递）、身份认证技术、访问控制。
  
57. 隧道协议：对数据包添加报头进行封装（或封装后加密）的规则协议。分为两类：
  
①第二层隧道协议：对数据链路层（OSI第二层）的数据包进行封装，主用于构建远程访问VPN，如PPTP、L2TP、L2F.
  
特点：简单易行，但扩展性不好；没有提供内在的安全机制，不能提供企业和外部客户及供应商之间会话的保密性要求。
  
②第三层隧道协议：对网络层（OSI第三层）的网络协议数据包进行封装，主用于构建LAN-to-LAN型网关，如IPSec、GRE、多协议标记交换MPLS。
  
58. 常见的VPN类型：
  
1）IPSec VPN:在IPv6协议制定时产生，对IP数据包进行加密和认证。包括AH(认证首部协议，只涉及认证，抵御中间人攻击与IP数据包重放攻击)、ESP(封装安全负荷协议，主要负责加密IP数据包)、IKE(密钥交换协议，动态建立安全关联)。面向企业。
  
工作模式：隧道模式（对整个IP数据包进行加密或认证）、传输模式（只对IP数据包净荷进行加密或认证）。

构成：管理模块、密钥分配和生成模块、身份认证模块、数据加/解密模块、数据分组封装/分解模块、加密函数库。
  
特点：成本高，需要在每台计算机上配置相应的安全策略。
  
2）SSL/TLS VPN:传输层安全协议VPN，TLS（即SSL）协议主要用于HTTPS协议。
  
特点：用户不需安装和配置客户端软件，只需安装一个浏览器；允许使用数字签名和证书，提供强大认证功能。面向用户。
  
原理：采用HTTP反向代理，通过web浏览器访问，即插即用，连接TLS服务器。
  
所需协议：握手协议（建立在可靠的传输协议上，为高层协议提供数据封装、压缩和加密等功能，主要用于会话参数加密）、TLS记录协议（建立在TCP/IP之上，用于在实际数据传输开始前通信双方进行身份认证、协商加密算法和交换加密密钥）、警告协议（提示何时TSL协议发生错误或两主机间的会话何时终止，TSL协议失效时才会被激活）。
  
优点：无需安装客户端软件，适用大多数设备、操作系统，支持网络驱动器访问，无需对远程设备或网络进行改变，资源控制能力较强，费用低，安全性良好，可绕过防火墙和代理服务器进行访问，加密内嵌于浏览器无需额外软件。
  
缺点：认证方式单一，应用局限性大（仅适用于数据库-应用服务器-web服务器-浏览器这一模式），仅对应用通道加密，不能对应用层消息数字签名，不支持LAN-to-LAN，加密不如IPSec，不能保护UDP通道安全。
  
59. 身份认证：
  
系统组成：示证者P/申请者C、验证者V、攻击者、\*可信者；
  
要求：正确识别的概率极大化、不可传递性、抗已知攻击、计算有效性、通信有效性、秘密参数安全存储、交互识别、第三方实时参与、第三方可信性、可证明安全性。
  
分类：身份验证、身份识别。
  
实现途径：所知Knowledge、所有Possesses、个人特征Characteristics。
  
60. 口令认证系统：
  
口令选择原则：易记、难猜、抗暴力破解。
  
控制措施：抑制系统消息、限制试探次数、限定有效期、双口令系统、限制最小长度、封锁用户系统、保护root根口令、系统生成口令。
  
检验方法：反应法（被检口令与易猜测口令对比，如RPC、CRACK、OPUS，费时间，无法保障验证之间的安全性）、支持法（用户自选口令，系统检验安全性）。
  
安全存储：一般方法（加密形式存储口令或存储口令的单项杂凑值）、UNIX系统中的口令存储（口令＋12bit填充后迭代加密25次输出11字符密文）、用智能卡令牌Token产生一次性口令（本质由随机数产生器生成，一般用于第三方认证，用户需要输入PIN，被截获也难以使用）
  
61. 个人特征的身份证明：手写签字、指纹、语音、视网膜图样、虹膜图样、脸型；
  
设计考虑因素：安全设备的系统强度、用户的可接受性、系统成本。
  
62. 黑客攻击的主要技术：缓冲区溢出、木马、计算机病毒（宏病毒和网络蠕虫）、分布式拒绝服务攻击、穷举攻击（Brute Force）、Sniffer报文截获。
  
63. 一次性口令认证：在登录过程中加入不确定因素，通过某种运算（一般是单向函数如MD5、SHA）使每次登录时用户使用密码都不同以抵御口令窃取和搭线窃听攻击。
  
现用方案：①挑战/响应机制：客户端将认证请求发往服务器得到挑战值，使用令牌计算后得到一次性口令传回服务器端进行认证；
  
②口令序列机制：使用单向函数计算n个数值按次序作为n次登录的口令打印出来，仅支持服务器对用户单方面认证，无法防范假冒服务器欺骗用户，迭代到0或口令泄露系统必须初始化；
  
③时间同步机制：把当前时间作为不确定因素产生一次性口令，简单方便，通信量小，要求时钟偏差不能太大；
  
④事件同步机制：计数器同步机制，使用密钥K和计数器数值+1作为杂凑函数的输入。

64. 基于证书的认证：
      
    实现步骤：①生成、存储与发布数字证书（CA将数字证书发给用户，服务器数据库以
      
    二进制格式存储副本）；
      
    ②发送用户名和数字证书；
      
    ③服务器随机生成挑战值；
      
    ④用户对随机挑战值签名（用户对挑战值进行杂凑运输再输入口令打开私钥文件
      
    对其签名，将签名发送给服务器进行验证）；
      
    ⑤服务器向用户返回相应消息。
65. 网安发展的新趋势与新挑战：
66. 新型网安技术