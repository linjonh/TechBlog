---
layout: post
title: "ALSA-vs-OSSLinux-音频架构的演变与核心区别"
date: 2025-03-13 20:16:24 +0800
description: "OSS 是 Linux 早期的音频架构，而 ALSA 作为其继任者，自 Linux 2.6 内核起成为默认的音频子系统。框架，以支持 CPU DAI（I2S 控制器）和 Codec DAI（DAC/ADC）绑定。是 Linux 早期（2.4 及更早版本）默认的音频子系统，由。它提供了最基础的音频设备管理，主要通过。它提供了更高级的音频管理功能，如多应用同时播放（软件混音。对于嵌入式设备（如 i.MX8MP），ALSA 还提供了。）、更强的驱动支持、可扩展的 API。，OSS 兼容性逐渐被废弃。"
keywords: "ALSA vs OSS：Linux 音频架构的演变与核心区别"
categories: ['Linux']
tags: ['音视频', 'Linux', 'Java']
artid: "146240322"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146240322
    alt: "ALSA-vs-OSSLinux-音频架构的演变与核心区别"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146240322
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146240322
cover: https://bing.ee123.net/img/rand?artid=146240322
image: https://bing.ee123.net/img/rand?artid=146240322
img: https://bing.ee123.net/img/rand?artid=146240322
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     ALSA vs OSS：Linux 音频架构的演变与核心区别
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-tomorrow-night" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     在 Linux 音频系统的发展过程中，
     <strong>
      OSS（Open Sound System）
     </strong>
     和
     <strong>
      ALSA（Advanced Linux Sound Architecture）
     </strong>
     曾分别在不同阶段承担着音频管理的角色。OSS 是 Linux 早期的音频架构，而 ALSA 作为其继任者，自 Linux 2.6 内核起成为默认的音频子系统。那么，
     <strong>
      ALSA 为什么会取代 OSS？二者在架构、功能、使用方式上有哪些关键区别？本文将深入解析。
     </strong>
    </p>
    <hr/>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/1360e5079d0243c692b28abb410c253d.png"/>
    </p>
    <h3>
     <a id="1_OSSOpen_Sound_SystemLinux__8">
     </a>
     <strong>
      1. OSS（Open Sound System）——Linux 早期的音频架构
     </strong>
    </h3>
    <h4>
     <a id="11__OSS_9">
     </a>
     <strong>
      1.1 什么是 OSS？
     </strong>
    </h4>
    <p>
     <strong>
      OSS（开放式声音系统）
     </strong>
     是 Linux 早期（2.4 及更早版本）默认的音频子系统，由
     <strong>
      Hannu Savolainen
     </strong>
     在 1992 年开发。它提供了最基础的音频设备管理，主要通过
     <code>
      /dev/dsp
     </code>
     和
     <code>
      /dev/mixer
     </code>
     设备文件来与应用程序交互。
    </p>
    <h4>
     <a id="12_OSS__12">
     </a>
     <strong>
      1.2 OSS 主要特性
     </strong>
    </h4>
    <p>
     ✅
     <strong>
      基于设备文件的访问
     </strong>
     （/dev/dsp，/dev/mixer）
     <br/>
     ✅
     <strong>
      简单易用，直接用
      <code>
       read()
      </code>
      和
      <code>
       write()
      </code>
      进行音频操作
     </strong>
     <br/>
     ✅
     <strong>
      依赖声卡硬件 Mixer 进行音量控制
     </strong>
     <br/>
     ✅
     <strong>
      默认情况下，一个应用独占
      <code>
       /dev/dsp
      </code>
      ，无法多应用同时播放
     </strong>
    </p>
    <h4>
     <a id="13_OSS__18">
     </a>
     <strong>
      1.3 OSS 的使用示例
     </strong>
    </h4>
    <h5>
     <a id="1_devdsp__19">
     </a>
     <strong>
      （1）直接写入
      <code>
       /dev/dsp
      </code>
      进行播放
     </strong>
    </h5>
    <pre><code class="prism language-c"><span class="token keyword">int</span> dsp <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"/dev/dsp"</span><span class="token punctuation">,</span> O_WRONLY<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">write</span><span class="token punctuation">(</span>dsp<span class="token punctuation">,</span> buffer<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">close</span><span class="token punctuation">(</span>dsp<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h5>
     <a id="2_sox__25">
     </a>
     <strong>
      （2）使用
      <code>
       sox
      </code>
      进行播放
     </strong>
    </h5>
    <pre><code class="prism language-sh">play <span class="token parameter variable">-t</span> raw <span class="token parameter variable">-r</span> <span class="token number">44100</span> <span class="token parameter variable">-s</span> <span class="token parameter variable">-2</span> <span class="token parameter variable">-c</span> <span class="token number">2</span> /dev/dsp
</code></pre>
    <p>
     🔹
     <strong>
      问题：
     </strong>
     由于
     <code>
      /dev/dsp
     </code>
     只能由一个应用程序访问，
     <strong>
      无法同时播放多个音频流
     </strong>
     ，如果一个应用占用了
     <code>
      /dev/dsp
     </code>
     ，其他应用就无法播放声音。
    </p>
    <hr/>
    <h3>
     <a id="2_ALSAAdvanced_Linux_Sound_Architecture_Linux__33">
     </a>
     <strong>
      2. ALSA（Advanced Linux Sound Architecture）——现代 Linux 的音频架构
     </strong>
    </h3>
    <h4>
     <a id="21__ALSA_34">
     </a>
     <strong>
      2.1 什么是 ALSA？
     </strong>
    </h4>
    <p>
     <strong>
      ALSA（高级 Linux 音频架构）
     </strong>
     是 OSS 的替代方案，由
     <strong>
      Jaroslav Kysela
     </strong>
     开发，并自
     <strong>
      Linux 2.6 内核起成为默认的音频子系统
     </strong>
     。它提供了更高级的音频管理功能，如多应用同时播放（软件混音
     <code>
      dmix
     </code>
     ）、更强的驱动支持、可扩展的 API。
    </p>
    <h4>
     <a id="22_ALSA__37">
     </a>
     <strong>
      2.2 ALSA 主要特性
     </strong>
    </h4>
    <p>
     ✅
     <strong>
      支持多声卡、多应用并行播放（
      <code>
       dmix
      </code>
      机制）
     </strong>
     <br/>
     ✅
     <strong>
      提供
      <code>
       alsa-lib
      </code>
      API，支持更复杂的音频控制
     </strong>
     <br/>
     ✅
     <strong>
      兼容 OSS（通过
      <code>
       snd-pcm-oss
      </code>
      、
      <code>
       snd-mixer-oss
      </code>
      提供
      <code>
       /dev/dsp
      </code>
      模拟）
     </strong>
     <br/>
     ✅
     <strong>
      适用于桌面、服务器、嵌入式设备（ASoC 支持）
     </strong>
    </p>
    <h4>
     <a id="23_ALSA__43">
     </a>
     <strong>
      2.3 ALSA 的使用示例
     </strong>
    </h4>
    <h5>
     <a id="1_alsalib__44">
     </a>
     <strong>
      （1）使用
      <code>
       alsa-lib
      </code>
      进行播放
     </strong>
    </h5>
    <pre><code class="prism language-c"><span class="token class-name">snd_pcm_t</span> <span class="token operator">*</span>handle<span class="token punctuation">;</span>
<span class="token function">snd_pcm_open</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>handle<span class="token punctuation">,</span> <span class="token string">"default"</span><span class="token punctuation">,</span> SND_PCM_STREAM_PLAYBACK<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">snd_pcm_writei</span><span class="token punctuation">(</span>handle<span class="token punctuation">,</span> buffer<span class="token punctuation">,</span> frames<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">snd_pcm_close</span><span class="token punctuation">(</span>handle<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <h5>
     <a id="2_aplay__51">
     </a>
     <strong>
      （2）使用
      <code>
       aplay
      </code>
      播放音频
     </strong>
    </h5>
    <pre><code class="prism language-sh">aplay <span class="token parameter variable">-D</span> hw:0,0 <span class="token parameter variable">-f</span> S16_LE <span class="token parameter variable">-r</span> <span class="token number">44100</span> test.wav
</code></pre>
    <p>
     🔹
     <strong>
      优势：
     </strong>
     ALSA 允许多个应用程序同时播放音频，并且提供
     <code>
      amixer
     </code>
     、
     <code>
      aplay
     </code>
     等工具，便于调试和音量控制。
    </p>
    <hr/>
    <h3>
     <a id="3_ALSA_vs_OSS__59">
     </a>
     <strong>
      3. ALSA vs OSS 关键区别
     </strong>
    </h3>
    <table>
     <thead>
      <tr>
       <th>
        <strong>
         特性
        </strong>
       </th>
       <th>
        <strong>
         ALSA（Linux 2.6+ 默认）
        </strong>
       </th>
       <th>
        <strong>
         OSS（Linux 2.4 及更早）
        </strong>
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <strong>
         驱动模式
        </strong>
       </td>
       <td>
        <strong>
         模块化，支持多声卡
        </strong>
       </td>
       <td>
        <strong>
         每个声卡一个
         <code>
          /dev/dsp
         </code>
         设备
        </strong>
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         多路音频
        </strong>
       </td>
       <td>
        <strong>
         支持多个应用同时播放（软件混音
         <code>
          dmix
         </code>
         ）
        </strong>
       </td>
       <td>
        <strong>
         默认只支持一个应用占用
         <code>
          /dev/dsp
         </code>
        </strong>
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         音频 API
        </strong>
       </td>
       <td>
        <strong>
         提供
         <code>
          alsa-lib
         </code>
         ，支持高级音频管理
        </strong>
       </td>
       <td>
        <strong>
         基于
         <code>
          /dev/dsp
         </code>
         的 read/write 操作
        </strong>
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         音量控制
        </strong>
       </td>
       <td>
        <strong>
         支持软件 Mixer
        </strong>
       </td>
       <td>
        <strong>
         仅依赖硬件 Mixer
        </strong>
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         适用场景
        </strong>
       </td>
       <td>
        <strong>
         桌面、服务器、嵌入式（ASoC）
        </strong>
       </td>
       <td>
        <strong>
         早期 PC 声卡
        </strong>
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         支持状态
        </strong>
       </td>
       <td>
        <strong>
         Linux 默认音频架构，长期维护
        </strong>
       </td>
       <td>
        <strong>
         大部分 Linux 发行版已废弃
        </strong>
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <h3>
     <a id="4_ALSA__LinuxASoC_71">
     </a>
     <strong>
      4. ALSA 在嵌入式 Linux（ASoC）中的优势
     </strong>
    </h3>
    <p>
     对于嵌入式设备（如 i.MX8MP），ALSA 还提供了
     <strong>
      ASoC（ALSA System-on-Chip）
     </strong>
     框架，以支持 CPU DAI（I2S 控制器）和 Codec DAI（DAC/ADC）绑定。
    </p>
    <p>
     <strong>
      设备树示例（绑定 PCM1754 DAC 到 SAI3）
     </strong>
    </p>
    <pre><code class="prism language-dts">sound-pcm1754 {
    compatible = "simple-audio-card";
    simple-audio-card,name = "pcm1754-audio";
    simple-audio-card,format = "i2s";
    simple-audio-card,frame-master = &lt;&amp;pcm1754_cpu&gt;;
    simple-audio-card,bitclock-master = &lt;&amp;pcm1754_cpu&gt;;

    pcm1754_cpu: simple-audio-card,cpu {
        sound-dai = &lt;&amp;sai3&gt;;
    };

    simple-audio-card,codec {
        sound-dai = &lt;&amp;pcm1754&gt;;
    };
};

&amp;sai3 {
    status = "okay";
};
</code></pre>
    <p>
     🔹
     <strong>
      OSS 不支持嵌入式 SoC，无法像 ALSA ASoC 那样绑定 I2S 和 DAC。
     </strong>
    </p>
    <hr/>
    <h3>
     <a id="5_OSS__100">
     </a>
     <strong>
      5. 兼容性：OSS 是否仍然可用？
     </strong>
    </h3>
    <p>
     🔹
     <strong>
      虽然 ALSA 取代了 OSS，但 Linux 仍然提供了一些 OSS 兼容性层
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       <code>
        snd-pcm-oss
       </code>
       、
       <code>
        snd-mixer-oss
       </code>
       内核模块
      </strong>
      ，让
      <code>
       /dev/dsp
      </code>
      仍然可用
     </li>
     <li>
      <strong>
       某些应用（如
       <code>
        mplayer
       </code>
       ）仍然支持 OSS
      </strong>
     </li>
    </ul>
    <p>
     如果要启用 OSS 兼容性：
    </p>
    <pre><code class="prism language-sh">modprobe snd-pcm-oss
modprobe snd-mixer-oss
</code></pre>
    <p>
     但大多数新软件
     <strong>
      默认使用 ALSA 或 PulseAudio
     </strong>
     ，OSS 兼容性逐渐被废弃。
    </p>
    <hr/>
    <h3>
     <a id="6_ALSA__OSS_114">
     </a>
     <strong>
      6. 结论：ALSA 为什么取代 OSS？
     </strong>
    </h3>
    <p>
     ✅
     <strong>
      ALSA 解决了 OSS 的限制，如无法同时播放多个音频流
     </strong>
     <br/>
     ✅
     <strong>
      ALSA 提供了更丰富的 API，支持更复杂的音频控制
     </strong>
     <br/>
     ✅
     <strong>
      ALSA 适用于嵌入式（ASoC 框架），OSS 仅适用于老旧 PC
     </strong>
     <br/>
     ✅
     <strong>
      现代 Linux 发行版都默认使用 ALSA，OSS 已基本淘汰
     </strong>
    </p>
    <hr/>
    <h3>
     <a id="7__122">
     </a>
     <strong>
      7. 总结
     </strong>
    </h3>
    <p>
     💡
     <strong>
      OSS 是 Linux 早期的音频系统，简单但功能有限，已被 ALSA 取代。
     </strong>
     <br/>
     💡
     <strong>
      ALSA 更强大，支持多设备、多应用同时播放，适用于桌面和嵌入式。
     </strong>
     <br/>
     💡
     <strong>
      如果你在开发 Linux 音频系统，建议直接使用 ALSA，而不是 OSS！
     </strong>
    </p>
    <p>
     🚀
     <strong>
      ALSA 是现代 Linux 的音频标准，为高效音频管理提供了更强大的支持！
     </strong>
     🎵
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c:6f672e6373646e2e6e65742f496e746572766965775f54432f:61727469636c652f64657461696c732f313436323430333232" class_="artid" style="display:none">
 </p>
</div>


