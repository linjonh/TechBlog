---
layout: post
title: "脚本git-push直到成功windows-powershell命令Github连不上Github断开"
date: 2025-08-23T19:38:45+0800
description: "这条命令适用于需要自动重试 Git 推送的场景，尤其在网络不稳定或临时性错误的情况下非常有用。PowerShell 中用于获取上一个外部命令的退出状态码。如果命令执行成功，返回。在每次失败后暂停 5 秒再重试，避免短时间内频繁推送，提升稳定性和用户体验。失败（即退出码不为 0），则输出提示信息并等待 5 秒后重试。在 PowerShell 中，你可以使用以下命令来实现。向控制台输出提示信息，帮助用户了解当前状态。可以上厕所去了ε=(´ο｀*)))唉。执行 Git 的推送操作。循环确保至少执行一次。"
keywords: "脚本：git push直到成功（windows powershell命令）（Github连不上、Github断开）"
categories: ['Github']
tags: ['Github', 'Git']
artid: "150648528"
arturl: "https://blog.csdn.net/Dontla/article/details/150648528"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=150648528
    alt: "脚本git-push直到成功windows-powershell命令Github连不上Github断开"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=150648528
featuredImagePreview: https://bing.ee123.net/img/rand?artid=150648528
cover: https://bing.ee123.net/img/rand?artid=150648528
image: https://bing.ee123.net/img/rand?artid=150648528
img: https://bing.ee123.net/img/rand?artid=150648528
---



# 脚本：git push直到成功（windows powershell命令）（Github连不上、Github断开）



## github太烦了，老是连不上，我都开了魔法了还老是断

叫ai写了个powershell命令，执行git push直到成功，命令粘贴进去就能运行：

```powershell
do {
    git push
    if ($LASTEXITCODE -ne 0) {
        Write-Host "Push failed. Retrying in 5 seconds..." -ForegroundColor Red
        Start-Sleep -Seconds 1
    }
} while ($LASTEXITCODE -ne 0)

```

![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/068c60f9aa114ace9f79333bc4b0cca9.png)

执行了n次终于推上去了：

![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/056e4a04cd3047d29c2d73996c9d18ee.png)

---

## ✅ 命令解释

在 PowerShell 中，你可以使用以下命令来实现 **持续执行 `git push` 直到成功** 的功能：

```powershell
do {
    git push
    if ($LASTEXITCODE -ne 0) {
        Write-Host "Push failed. Retrying in 5 seconds..." -ForegroundColor Red
        Start-Sleep -Seconds 5
    }
} while ($LASTEXITCODE -ne 0)

```

* **`do { ... } while (...)`**  
   使用 `do-while` 循环确保至少执行一次 `git push`，无论是否成功。
* **`git push`**  
   执行 Git 的推送操作。
* **`$LASTEXITCODE`**  
   PowerShell 中用于获取上一个外部命令的退出状态码。如果命令执行成功，返回 `0`；否则返回非零值。
* **`if ($LASTEXITCODE -ne 0)`**  
   如果 `git push` 失败（即退出码不为 0），则输出提示信息并等待 5 秒后重试。
* **`Write-Host`**  
   向控制台输出提示信息，帮助用户了解当前状态。
* **`Start-Sleep -Seconds 5`**  
   在每次失败后暂停 5 秒再重试，避免短时间内频繁推送，提升稳定性和用户体验。

---

## 🛠️ 使用建议

* 确保你已正确安装 Git 并将其路径加入系统环境变量（PowerShell 能识别 `git` 命令）。
* 如果你在推送时需要身份验证（如密码或 HTTPS），建议配置好 SSH 密钥，避免脚本卡在交互式输入阶段。
* 你可以根据需要修改等待时间（如 `Start-Sleep -Seconds 3`）或去掉该行以立即重试。

---

## 🔁 示例输出（模拟失败后重试）

```
Push failed. Retrying in 5 seconds...
Push failed. Retrying in 5 seconds...
Everything up-to-date

```

---

这条命令适用于需要自动重试 Git 推送的场景，尤其在网络不稳定或临时性错误的情况下非常有用。

ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍  
 ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ        ‌‍ᅟᅠ



