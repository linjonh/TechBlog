---
layout: post
title: "C-using和typedef的异同"
date: 2025-03-10 14:56:17 +0800
description: "/ 定义模板别名return 0;总结typedef：适用于简单的类型别名，但在复杂场景下可读性较差，且不支持模板别名。using：语法更直观，支持模板别名，推荐在现代 C++ 中使用。在 C++11 及更高版本中，建议优先使用using。"
keywords: "C++ using和typedef的异同"
categories: ['道阻且长C']
tags: ['算法', 'C']
artid: "146154821"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146154821
    alt: "C-using和typedef的异同"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146154821
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146154821
cover: https://bing.ee123.net/img/rand?artid=146154821
image: https://bing.ee123.net/img/rand?artid=146154821
img: https://bing.ee123.net/img/rand?artid=146154821
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     C++ using和typedef的异同
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     在 C++ 中，
     <code>
      typedef
     </code>
     和
     <code>
      using
     </code>
     都可以用来为类型创建别名，但它们有一些关键的区别和适用场景。以下是它们的异同点：
    </p>
    <hr/>
    <h4>
     <a id="_4">
     </a>
     <strong>
      相同点
     </strong>
    </h4>
    <ol>
     <li>
      <p>
       <strong>
        类型别名
       </strong>
       ：
      </p>
      <ul>
       <li>
        两者都可以用来为类型创建别名，简化代码。
       </li>
       <li>
        例如：
        <pre><code class="prism language-cpp"><span class="token keyword">typedef</span> <span class="token keyword">int</span> MyInt<span class="token punctuation">;</span>  <span class="token comment">// 使用 typedef</span>
<span class="token keyword">using</span> MyInt <span class="token operator">=</span> <span class="token keyword">int</span><span class="token punctuation">;</span>  <span class="token comment">// 使用 using</span>
</code></pre>
        这样，
        <code>
         MyInt
        </code>
        就是
        <code>
         int
        </code>
        的别名。
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        兼容性
       </strong>
       ：
      </p>
      <ul>
       <li>
        两者在大多数情况下可以互换使用。
       </li>
      </ul>
     </li>
    </ol>
    <hr/>
    <h4>
     <a id="_19">
     </a>
     <strong>
      不同点
     </strong>
    </h4>
    <table>
     <thead>
      <tr>
       <th>
        特性
       </th>
       <th>
        <code>
         typedef
        </code>
       </th>
       <th>
        <code>
         using
        </code>
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        <strong>
         语法
        </strong>
       </td>
       <td>
        语法较为复杂，尤其是对于复杂类型。
       </td>
       <td>
        语法更直观，类似于变量赋值。
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         模板别名
        </strong>
       </td>
       <td>
        不支持模板别名。
       </td>
       <td>
        支持模板别名。
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         可读性
        </strong>
       </td>
       <td>
        对于复杂类型，可读性较差。
       </td>
       <td>
        对于复杂类型，可读性更好。
       </td>
      </tr>
      <tr>
       <td>
        <strong>
         适用范围
        </strong>
       </td>
       <td>
        仅适用于类型别名。
       </td>
       <td>
        适用于类型别名和模板别名。
       </td>
      </tr>
     </tbody>
    </table>
    <hr/>
    <h4>
     <a id="_29">
     </a>
     <strong>
      详细说明
     </strong>
    </h4>
    <h5>
     <a id="1__31">
     </a>
     1.
     <strong>
      语法
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       <strong>
        <code>
         typedef
        </code>
       </strong>
       ：
      </p>
      <ul>
       <li>
        语法较为复杂，尤其是在定义函数指针或复杂类型时，容易搞混，比如重定义函数指针
       </li>
       <li>
        例如：
        <pre><code class="prism language-cpp"><span class="token keyword">typedef</span> <span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">*</span>FuncPtr<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 定义函数指针类型</span>
</code></pre>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        <code>
         using
        </code>
       </strong>
       ：
      </p>
      <ul>
       <li>
        语法更直观，类似于变量赋值。
       </li>
       <li>
        例如：
        <pre><code class="prism language-cpp"><span class="token keyword">using</span> FuncPtr <span class="token operator">=</span> <span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 定义函数指针类型</span>
</code></pre>
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h5>
     <a id="2__48">
     </a>
     2.
     <strong>
      模板别名
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       <strong>
        <code>
         typedef
        </code>
       </strong>
       ：
      </p>
      <ul>
       <li>
        不支持模板别名。
       </li>
       <li>
        例如，以下代码会报错：
        <pre><code class="prism language-cpp"><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">typedef</span> std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Vec<span class="token punctuation">;</span>  <span class="token comment">// 错误！</span>
</code></pre>
       </li>
       <li>
        需要用结构体进行封装，然后才能实现和using同样的 功能
       </li>
      </ul>
      <pre><code class="prism language-cpp"><span class="token keyword">struct</span> <span class="token class-name">myvec</span>
<span class="token punctuation">{<!-- --></span>
	 <span class="token keyword">typedef</span> std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> val<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
myvec<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>val vec<span class="token punctuation">;</span>

</code></pre>
     </li>
     <li>
      <p>
       <strong>
        <code>
         using
        </code>
       </strong>
       ：
      </p>
      <ul>
       <li>
        支持模板别名。
       </li>
       <li>
        例如：
        <pre><code class="prism language-cpp"><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">using</span> Vec <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// 正确！</span>
</code></pre>
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h5>
     <a id="3__76">
     </a>
     3.
     <strong>
      可读性
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       <strong>
        <code>
         typedef
        </code>
       </strong>
       ：
      </p>
      <ul>
       <li>
        对于复杂类型，可读性较差。
       </li>
       <li>
        例如：
        <pre><code class="prism language-cpp"><span class="token keyword">typedef</span> std<span class="token double-colon punctuation">::</span>map<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>string<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> MapType<span class="token punctuation">;</span>  <span class="token comment">// 可读性较差</span>
</code></pre>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        <code>
         using
        </code>
       </strong>
       ：
      </p>
      <ul>
       <li>
        对于复杂类型，可读性更好。
       </li>
       <li>
        例如：
        <pre><code class="prism language-cpp"><span class="token keyword">using</span> MapType <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>map<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>string<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// 可读性更好</span>
</code></pre>
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h5>
     <a id="4__93">
     </a>
     4.
     <strong>
      适用范围
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       <strong>
        <code>
         typedef
        </code>
       </strong>
       ：
      </p>
      <ul>
       <li>
        仅适用于类型别名。
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        <code>
         using
        </code>
       </strong>
       ：
      </p>
      <ul>
       <li>
        适用于类型别名和模板别名。
       </li>
      </ul>
     </li>
    </ul>
    <hr/>
    <h4>
     <a id="_102">
     </a>
     <strong>
      示例代码
     </strong>
    </h4>
    <h5>
     <a id="_typedef_104">
     </a>
     使用
     <code>
      typedef
     </code>
    </h5>
    <pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;map&gt;</span></span>

<span class="token comment">// 定义类型别名</span>
<span class="token keyword">typedef</span> <span class="token keyword">int</span> MyInt<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> IntVec<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> std<span class="token double-colon punctuation">::</span>map<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> StringToIntMap<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    MyInt a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    IntVec vec <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    StringToIntMap map <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span><span class="token string">"one"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token string">"two"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a: "</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v <span class="token operator">:</span> vec<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> v <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> pair <span class="token operator">:</span> map<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> pair<span class="token punctuation">.</span>first <span class="token operator">&lt;&lt;</span> <span class="token string">": "</span> <span class="token operator">&lt;&lt;</span> pair<span class="token punctuation">.</span>second <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <h5>
     <a id="_using_133">
     </a>
     使用
     <code>
      using
     </code>
    </h5>
    <pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;map&gt;</span></span>

<span class="token comment">// 定义类型别名</span>
<span class="token keyword">using</span> MyInt <span class="token operator">=</span> <span class="token keyword">int</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> IntVec <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> StringToIntMap <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>map<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    MyInt a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    IntVec vec <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    StringToIntMap map <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span><span class="token string">"one"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token string">"two"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a: "</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v <span class="token operator">:</span> vec<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> v <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> pair <span class="token operator">:</span> map<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> pair<span class="token punctuation">.</span>first <span class="token operator">&lt;&lt;</span> <span class="token string">": "</span> <span class="token operator">&lt;&lt;</span> pair<span class="token punctuation">.</span>second <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <h5>
     <a id="_using__162">
     </a>
     使用
     <code>
      using
     </code>
     定义模板别名
    </h5>
    <pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>

<span class="token comment">// 定义模板别名</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">using</span> Vec <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    Vec<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> vec <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v <span class="token operator">:</span> vec<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> v <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <hr/>
    <h5>
     <a id="usingtypedef_183">
     </a>
     using还有声明命名空间的作用，typedef则没有
    </h5>
    <h4>
     <a id="_184">
     </a>
     <strong>
      总结
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       <code>
        typedef
       </code>
      </strong>
      ：适用于简单的类型别名，但在复杂场景下可读性较差，且不支持模板别名。
     </li>
     <li>
      <strong>
       <code>
        using
       </code>
      </strong>
      ：语法更直观，支持模板别名，推荐在现代 C++ 中使用。
     </li>
    </ul>
    <p>
     在 C++11 及更高版本中，建议优先使用
     <code>
      using
     </code>
     。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f67:2e6373646e2e6e65742f646f75626c65696e74666c6f61742f:61727469636c652f64657461696c732f313436313534383231" class_="artid" style="display:none">
 </p>
</div>


