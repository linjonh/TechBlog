---
layout: post
title: "coding-ability-展开第四幕滑动指针巩固篇超详细"
date: 2025-03-15 23:38:43 +0800
description: "滑动窗口进阶习题，让你体会到滑动窗口加上哈希的爽快"
keywords: "coding ability 展开第四幕（滑动指针——巩固篇）超详细！！！！"
categories: ['Code', 'Ability']
tags: ['算法', '滑动窗口', '字符串', '哈希算法', 'C']
artid: "146286802"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146286802
    alt: "coding-ability-展开第四幕滑动指针巩固篇超详细"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146286802
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146286802
cover: https://bing.ee123.net/img/rand?artid=146286802
image: https://bing.ee123.net/img/rand?artid=146286802
img: https://bing.ee123.net/img/rand?artid=146286802
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     coding ability 展开第四幕（滑动指针——巩固篇）超详细！！！！
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-tomorrow-night" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/b6a656c095b3470ca11059d656a8db73.webp#pic_center"/>
    </p>
    <p>
    </p>
    <p>
    </p>
    <h2>
     <a id="_5">
     </a>
     前言
    </h2>
    <blockquote>
     <p>
      本专栏上一篇博客，带着大家从认识滑动窗口到慢慢熟悉
      <br/>
      相信大家对滑动窗口已经有了大概的认识
      <br/>
      其实主要就是抓住——一段连续的区间
      <br/>
      今天来学习一些滑动窗口进阶的题目
      <br/>
      fellow me
     </p>
    </blockquote>
    <h2>
     <a id="httpsleetcodecnproblemsfruitintobaskets_12">
     </a>
     <a href="https://leetcode.cn/problems/fruit-into-baskets/" rel="nofollow">
      水果成篮
     </a>
    </h2>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/9f80b73b4ebf49bbb64eb05a678dac61.png"/>
    </p>
    <h3>
     <a id="_15">
     </a>
     思路
    </h3>
    <p>
     一开始看到这个题目，一段连续的区间，想到了滑动窗口
     <br/>
     然后就想着怎么维护窗口，每次更新到新的水果种类就要，开始对left++，然后处理数据
     <br/>
     其实是有点麻烦的，但是经过半个多小时的调试，最后还是ac了
     <br/>
     思路：
     <strong>
      每次更新两个种类的水果，x，y，如果下一个水果的种类不相符合
     </strong>
     ，就更新
     <strong>
      新的x，y
     </strong>
     <br/>
     这个时候
     <strong>
      right - 1 和 right 所对应的水果就是新的两种
     </strong>
     ，然后就是处理从
     <strong>
      left 到 right - 1这段区间
     </strong>
     <br/>
     符合条件的情况， 也就是
     <strong>
      从right - 1 一直往前走，到与 right - 1 所对应种类不同的水果
     </strong>
     ，然后再更新结果
     <br/>
     在反复进窗口，维护窗口，出窗口
    </p>
    <p>
     代码如下 ：
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">totalFruit</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> fruits<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> fruits<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> x <span class="token operator">=</span> fruits<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> y <span class="token operator">=</span> fruits<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>fruits<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">!=</span> x <span class="token operator">&amp;&amp;</span> fruits<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">!=</span> y<span class="token punctuation">)</span>  <span class="token comment">// 和前面确定的水果种类</span>
            <span class="token punctuation">{<!-- --></span>
                y <span class="token operator">=</span> fruits<span class="token punctuation">[</span>right <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>		<span class="token comment">//  更新新的水果种类  </span>
                x <span class="token operator">=</span> fruits<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword">int</span> i <span class="token operator">=</span> right <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">!=</span> left<span class="token punctuation">)</span>  <span class="token comment">// left  到  right - 1  区间  </span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">while</span> <span class="token punctuation">(</span>fruits<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> y <span class="token operator">&amp;&amp;</span> i <span class="token operator">&gt;</span> left<span class="token punctuation">)</span>  <span class="token comment">//  i一直靠近left  直到种类不同</span>
                    <span class="token punctuation">{<!-- --></span>
                        i<span class="token operator">--</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> left <span class="token operator">&amp;&amp;</span> y <span class="token operator">!=</span> fruits<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">//  更新  left 的指向</span>
                        left<span class="token operator">++</span><span class="token punctuation">;</span>
                    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">!=</span> left<span class="token punctuation">)</span>
                        left <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            ans <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//    更新结果</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     后面又想到了一种思路：
     <br/>
     就是用哈希来统计种类数量，哈希相对于前面的那种方法还是简单的
     <br/>
     <mark>
      <strong>
       就是把两个种类的水果放入哈希表，然后right++ 水果进窗口，如果哈希表的水果种类大于2
       <br/>
       就从左侧 left 开始逐步出窗口，直到哈希表种类等于2，然后更新结果
      </strong>
     </mark>
    </p>
    <p>
     代码如下：
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">totalFruit</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> f<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        unordered_map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> hash<span class="token punctuation">;</span> <span class="token comment">// 统计窗口内出现了多少种水果</span>
        <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> f<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            hash<span class="token punctuation">[</span>f<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// 进窗口</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>hash<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 判断</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 出窗口</span>
                hash<span class="token punctuation">[</span>f<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>hash<span class="token punctuation">[</span>f<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
                    hash<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                left<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            ret <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ret<span class="token punctuation">,</span> right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
    <h2>
     <a id="httpsleetcodecnproblemsfindallanagramsinastring_94">
     </a>
     <a href="https://leetcode.cn/problems/find-all-anagrams-in-a-string/" rel="nofollow">
      找到字符串中所有字母异位词
     </a>
    </h2>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/3bfc489fb14f4a42bde9aac31ac79e00.png"/>
    </p>
    <h3>
     <a id="_96">
     </a>
     思路
    </h3>
    <p>
     看到又是一段连续的区间，就想到了滑动窗口
     <br/>
     这一题 p 的异位词，说白了就是包含了 p 的所有字母，不管先后顺序
     <br/>
     想到上一题用哈希优化的爽快，这题好像也可以用哈希来解
     <br/>
     把 p 中字符都用哈希统计频次，然后在遍历 s 时，进窗口，维护窗口，出窗口
     <br/>
     <mark>
      <strong>
       每次进入窗口，就用哈希统计出现次数，只要没有到达次数上限，就进窗口
      </strong>
     </mark>
     <br/>
     如果进入窗口的字符数量
     <strong>
      大于了 p 的长度，
      <strong>
       就
      </strong>
      维护窗口
     </strong>
     ，
     <strong>
      从left开始往右开始出窗口
     </strong>
     <br/>
     在
     <strong>
      每一次统计进入窗口的数量
     </strong>
     时，都
     <strong>
      比较一下 p 的字符个数
     </strong>
     ，如果进入窗口的字符个数
     <strong>
      等于 p的个数大小相等
     </strong>
     ，就更新结果
    </p>
    <p>
     代码如下：
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">findAnagrams</span><span class="token punctuation">(</span>string s<span class="token punctuation">,</span> string p<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> ret<span class="token punctuation">;</span>
		<span class="token keyword">int</span> hash1<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 统计字符串 p 中每个字符出现的个数</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> ch <span class="token operator">:</span> p<span class="token punctuation">)</span> hash1<span class="token punctuation">[</span>ch <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> hash2<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 统计窗口里面的每一个字符出现的个数</span>
		<span class="token keyword">int</span> m <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">char</span> in <span class="token operator">=</span> s<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token comment">// 进窗口 + 维护 count</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">++</span>hash2<span class="token punctuation">[</span>in <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> hash1<span class="token punctuation">[</span>in <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> count<span class="token operator">++</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&gt;</span> m<span class="token punctuation">)</span> <span class="token comment">// 判断</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">char</span> out <span class="token operator">=</span> s<span class="token punctuation">[</span>left<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
				<span class="token comment">// 出窗口 + 维护 count</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span>hash2<span class="token punctuation">[</span>out <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span><span class="token operator">--</span> <span class="token operator">&lt;=</span> hash1<span class="token punctuation">[</span>out <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> count<span class="token operator">--</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token comment">// 更新结果</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>count <span class="token operator">==</span> m<span class="token punctuation">)</span> ret<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
    <hr/>
    <p>
     下面就上难度了嗷~~~~
    </p>
    <h2>
     <a id="httpsleetcodecnproblemssubstringwithconcatenationofallwords_138">
     </a>
     <a href="https://leetcode.cn/problems/substring-with-concatenation-of-all-words/" rel="nofollow">
      串联所有单词的子串
     </a>
    </h2>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/2250167c30314147b9695873927edb53.png"/>
    </p>
    <h3>
     <a id="_141">
     </a>
     思路
    </h3>
    <p>
     这个题目看起来很难，其实一点也不简单，看到困难的标签就让人望而生畏
     <br/>
     但其实也没有想象的那么难，慢慢抽丝剥茧，其实也能拿下
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/3e15f08bd2614d14952df99c04dc2a39.png">
      <br/>
      看到这里，其实就想到了上一题的那个
      <strong>
       字母异位词
      </strong>
      ，本题是说所有单词都包含，然后不管顺序
      <br/>
      上一题是——所有字母都包含，然后不管顺序，我们不妨试试上一题的思路呢
      <br/>
      <mark>
       <strong>
        首先要解决的就是把单词抽象变成字符，我们可以定义一个 string，映射 int 的 哈希表，这个问题就迎刃而解了
       </strong>
      </mark>
      <br/>
      下一个问题就是怎么才能知道哪个是单词的开头字母呢？？又怎么在 s 中遍历单词然后进窗口呢？？
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/23956c76bdb74abfa0fc86ec92ae9abd.png">
       <br/>
       我又看到了这个条件，雪中送炭，
       <strong>
        所有单词长度相等
       </strong>
       ，那岂不是起飞了，
       <strong>
        就让 right 每次遍历 += 单词长度就好了
       </strong>
       <br/>
       这些都处理好了，最后一个问题就是，我怎么知道
       <strong>
        哪个字符是单词的第一个字母
       </strong>
       ，错乱了怎么办，那不是gg
       <br/>
       我们只需要在
       <strong>
        外面套一层for循环
       </strong>
       ，从0到单词的长度，这段区间都
       <strong>
        做一次滑动窗口
       </strong>
       就好啦
       <br/>
       核心问题都解决了，剩下的就是一些细节处理问题了
       <br/>
       话不多说，这些都解决了，开始执行代码：
      </img>
     </img>
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> 
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">findSubstring</span><span class="token punctuation">(</span>string s<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span><span class="token operator">&amp;</span> words<span class="token punctuation">)</span> 
    <span class="token punctuation">{<!-- --></span>
        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> ret<span class="token punctuation">;</span>
        unordered_map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> hash1<span class="token punctuation">;</span> <span class="token comment">// 保存 words 里面所有单词的频次</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> c <span class="token operator">:</span> words<span class="token punctuation">)</span>
            hash1<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> len <span class="token operator">=</span> words<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">=</span> words<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token comment">// 执行 len 次</span>
        <span class="token punctuation">{<!-- --></span>
            unordered_map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> hash2<span class="token punctuation">;</span> <span class="token comment">// 维护窗口内单词的频次</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> left <span class="token operator">=</span> i<span class="token punctuation">,</span> right <span class="token operator">=</span> i<span class="token punctuation">,</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">+</span> len <span class="token operator">&lt;=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>right <span class="token operator">+=</span> len<span class="token punctuation">)</span> 
            <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 进窗口 + 维护 count</span>
                string in <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>right<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
                hash2<span class="token punctuation">[</span>in<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>hash1<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span>in<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> hash2<span class="token punctuation">[</span>in<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> hash1<span class="token punctuation">[</span>in<span class="token punctuation">]</span><span class="token punctuation">)</span>
                    count<span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token comment">// 判断</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&gt;</span> len <span class="token operator">*</span> m<span class="token punctuation">)</span> 
                <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 出窗口 + 维护 count</span>
                    string out <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>hash1<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span>out<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> hash2<span class="token punctuation">[</span>out<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> hash1<span class="token punctuation">[</span>out<span class="token punctuation">]</span><span class="token punctuation">)</span>
                        count<span class="token operator">--</span><span class="token punctuation">;</span>
                    hash2<span class="token punctuation">[</span>out<span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span>
                    left <span class="token operator">+=</span> len<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token comment">// 更新结果</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> m<span class="token punctuation">)</span>
                    ret<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     其实hard题也是由一个一个小问题糅合起来的，解决核心问题，其实也没有那么难
     <br/>
     慢慢啃下来，还是有成就感的 come on
    </p>
    <h2>
     <a id="httpsleetcodecnproblemsminimumwindowsubstring_198">
     </a>
     <a href="https://leetcode.cn/problems/minimum-window-substring/" rel="nofollow">
      最小覆盖子串
     </a>
    </h2>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/13a486e5646b487999eff7f60a7334c5.png"/>
    </p>
    <h3>
     <a id="_200">
     </a>
     思路
    </h3>
    <p>
     又又又是一段连续的区间，来吧来吧，滑动窗口，滑动窗口
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/ae5ba48df07a4aa196a60e8ccdcda720.png">
      <br/>
      这道题不是上一题的恰好涵盖所有字符了，要返回的是最小子串，也就是能包含其他的
      <br/>
      但是经过前面题目的磨砺，我感觉好像自己有点门道了
      <br/>
      思路：用
      <strong>
       哈希1统计字符串 t 的每一个字符的频次，还有种类
      </strong>
      <br/>
      构造一个新的哈希2，然后遍历 s 字符串，
      <strong>
       每个字符都统计到新的哈希表
      </strong>
      <br/>
      当这个
      <strong>
       字符的频次和 哈希1中统计的字符频次相等时，种类数++
      </strong>
      <br/>
      当
      <strong>
       种类数和哈希1种类数相等时
      </strong>
      ，
      <strong>
       维护窗口，更新结果
      </strong>
      <br/>
      大致思路就差不多是这样，来执行代码吧
     </img>
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> 
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    string <span class="token function">minWindow</span><span class="token punctuation">(</span>string s<span class="token punctuation">,</span> string t<span class="token punctuation">)</span> 
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> hash1<span class="token punctuation">[</span><span class="token number">128</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 统计字符串 t 中每一个字符的频次</span>
        <span class="token keyword">int</span> kinds <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token comment">// 统计有效字符有多少种</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> ch <span class="token operator">:</span> t<span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>hash1<span class="token punctuation">[</span>ch<span class="token punctuation">]</span><span class="token operator">++</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
                kinds<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> hash2<span class="token punctuation">[</span><span class="token number">128</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 统计窗口内每个字符的频次</span>
        <span class="token keyword">int</span> minlen <span class="token operator">=</span> INT_MAX<span class="token punctuation">,</span> begin <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span> 
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">char</span> in <span class="token operator">=</span> s<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">++</span>hash2<span class="token punctuation">[</span>in<span class="token punctuation">]</span> <span class="token operator">==</span> hash1<span class="token punctuation">[</span>in<span class="token punctuation">]</span><span class="token punctuation">)</span>
                count<span class="token operator">++</span><span class="token punctuation">;</span>           <span class="token comment">// 进窗口 + 维护 count</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> kinds<span class="token punctuation">)</span> <span class="token comment">// 判断条件</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> minlen<span class="token punctuation">)</span> <span class="token comment">// 更新结果</span>
                <span class="token punctuation">{<!-- --></span>
                    minlen <span class="token operator">=</span> right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                    begin <span class="token operator">=</span> left<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">char</span> out <span class="token operator">=</span> s<span class="token punctuation">[</span>left<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>hash2<span class="token punctuation">[</span>out<span class="token punctuation">]</span><span class="token operator">--</span> <span class="token operator">==</span> hash1<span class="token punctuation">[</span>out<span class="token punctuation">]</span><span class="token punctuation">)</span>
                    count<span class="token operator">--</span><span class="token punctuation">;</span> <span class="token comment">// 出窗口 + 维护 count</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>begin <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            <span class="token keyword">return</span> s<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>begin<span class="token punctuation">,</span> minlen<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     这个困难也拿下啦，滑动窗口和哈希一起用感觉有点爽，绝佳组合
    </p>
    <h2>
     <a id="_250">
     </a>
     总结
    </h2>
    <blockquote>
     <p>
      滑动窗口的核心在于
      <strong>
       维护一段连续区间
      </strong>
      ，通过
      <strong>
       哈希表优化统计与比较
      </strong>
      过程。面对不同问题需灵活调整：
      <br/>
      <strong>
       哈希表
      </strong>
      记录元素频次，快速判断窗口合法性（如水果种类、异位词）
      <br/>
      <strong>
       双指针
      </strong>
      动态伸缩窗口，确保时间复杂度为O(N)
      <br/>
      <strong>
       多层循环
      </strong>
      处理定长元素（如单词串联），覆盖所有起点情况
      <br/>
      <strong>
       种类与频次匹配
      </strong>
      时更新结果，最小子串问题需全局记录最优解
      <br/>
      掌握滑动窗口+哈希的组合，能高效解决子串、子数组等连续区间问题，突破Hard瓶颈
     </p>
    </blockquote>
    <p>
     今天的内容就到这里啦，不要走开，小编持续更新中~~~~
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/d6e460733a5f4a97b4a39dafdf189f46.webp#pic_center"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f6461696c795f3233332f:61727469636c652f64657461696c732f313436323836383032" class_="artid" style="display:none">
 </p>
</div>


