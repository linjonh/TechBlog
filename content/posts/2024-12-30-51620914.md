---
layout: post
title: "操作系统CPU模式习题"
date: 2024-12-30 20:16:02 +0800
description: "1、什么是内核态和用户态？处理器为什么要区分内核态和用户态两种操作方式？计算机如何识别？答：内核态是"
keywords: "cpu状态考题"
categories: ['操作系统']
tags: ['无标签']
artid: "51620914"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=51620914
    alt: "操作系统CPU模式习题"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=51620914
featuredImagePreview: https://bing.ee123.net/img/rand?artid=51620914
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     操作系统（CPU模式）习题
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     1、什么是内核态和用户态？处理器为什么要区分内核态和用户态两种操作方式？计算机如何识别？
    </p>
    <p>
     答：
     <strong>
      <span style="color:#3333ff">
       内核态
      </span>
     </strong>
     是指操作系统程序的运行状态，也称之为
     <strong>
      特权态
     </strong>
     。相对来说，
     <strong>
      <span style="color:#3333ff">
       用户态
      </span>
     </strong>
     就是非特权态，在此种状态下访问的资源将受到限制。
    </p>
    <p>
     如果一个程序运行在
     <strong>
      <span style="color:#cc33cc">
       内核态
      </span>
     </strong>
     ，则该程序就
     <strong>
      可以访问
     </strong>
     计算机的任何资源，即它的
     <span style="color:#3333ff">
      <strong>
       资源访问权限
      </strong>
      不受限制
     </span>
     。
    </p>
    <p>
     如果一个程序运行在
     <strong>
      <span style="color:#cc33cc">
       用户态
      </span>
     </strong>
     ，则其
     <strong>
      <span style="color:#6633ff">
       资源需求将受到各种限制
      </span>
     </strong>
     。区分内核态和用户态两种操作方式的目的是为了
     <strong>
      <span style="color:#000099">
       保护操作系统程序
      </span>
     </strong>
     ，
    </p>
    <p>
     提高操作系统的
     <strong style="color:rgb(51,51,255)">
      可靠性
     </strong>
     <span style="color:rgb(0,0,0)">
      和
     </span>
     <strong style="color:rgb(51,51,255)">
      安全性
     </strong>
     。处理器的程序状态字寄存器（PSW）中有一个
     <strong>
      状态位
     </strong>
     用于记录
     <span style="color:rgb(51,51,255)">
      程序的
      <strong>
       运行状态
      </strong>
     </span>
     ，即当前程序是内核态
    </p>
    <p>
     还是用户态，这种状态是
     <span style="color:rgb(51,51,255)">
      <strong>
       处理器
      </strong>
     </span>
     的一种状态，而不是程序的状态。
    </p>
    <p>
     2、简述用户态切换到内核态的几种方式。
    </p>
    <p>
     答：用户态切换到内核态主要有如下3种方式：
    </p>
    <p>
     ----
     <span style="background-color:rgb(153,255,153)">
      系统调用
     </span>
     。这是用户态进程
     <span style="color:#3333ff">
      主动要求
     </span>
     切换到内核态的一种方式，用户态进程通过系统调用申请使用操作系统提供的的
     <span style="color:#3333ff">
      服务程序
     </span>
     完成
    </p>
    <p>
     工作。系统调用机制的核心还是使用了操作系统为用户特别开放的一个
     <span style="color:#3333ff">
      中断
     </span>
     来实现。
    </p>
    <p>
     ----
     <span style="background-color:rgb(153,255,153)">
      异常
     </span>
     。当CPU在执行用户态程序时，发生了某些事先不可知的异常，这时会触发由
     <span style="color:#3333ff">
      当前运行进程
     </span>
     切换到
     <span style="color:#3333ff">
      处理此异常
     </span>
     的内核相关程序中，
    </p>
    <p>
     也就转到了内核态，例如缺页异常。
    </p>
    <p>
     ----
     <span style="background-color:rgb(153,255,153)">
      I/O设备的中断
     </span>
     。当I/O设备完成用户请求操作后，会向CPU发出相应的中断信号，这时CPU会
     <span style="color:#3333ff">
      暂停执行
     </span>
     下一条即将要执行的指令，转
    </p>
    <p>
     而去执行与中断信号对应的的处理程序，如果先前执行的指令是用户态下的程序，那么这个转换的过程自然也就发生了由用户态到内核态
    </p>
    <p>
     的切换。例如硬盘读写操作完成，系统会切换到硬盘读写的中断处理程序中执行后续的操作。
    </p>
    <p>
     ---   以上的这3种方式是系统在运行时由用户态转到内核态的最主要方式。
    </p>
    <p>
     其中
     <span style="color:#3333ff">
      <strong>
       系统调用
      </strong>
     </span>
     可以认为是
     <span style="color:#3333ff">
      <strong>
       用户进程主动
      </strong>
     </span>
     发起的，
     <span style="color:#3333ff">
      <strong>
       异常
      </strong>
     </span>
     和
     <span style="color:#3333ff">
      <strong>
       外部设备中断
      </strong>
     </span>
     则是
     <span style="color:#3333ff">
      <strong>
       被动
      </strong>
     </span>
     的。
    </p>
    <p>
     3、用户程序如何使用系统调用？
    </p>
    <p>
     答：
     <strong>
      访管指令
     </strong>
     是一条可以在
     <strong>
      <span style="color:#3333ff">
       用户态
      </span>
     </strong>
     下执行的指令，用户程序在编译时将
     <strong>
      调用操作系统
     </strong>
     的逻辑要求转换成一条访管指令，并设置一些参数；
    </p>
    <p>
     当执行到访管指令，访管中断，转入内核态执行系统调用程序，实现指定功能；系统调用完成后回到用户态执行用户程序。
    </p>
    <p>
     4、简述系统调用的概念和操作系统提供系统调用的原因。
    </p>
    <p>
     答：系统调用也称
     <strong>
      <span style="color:#3333ff">
       程序接口
      </span>
     </strong>
     ，是程序级的接口，即用户程序可以利用系统调用提供的一组系统调用命令去调用操作系统内核中的一个
    </p>
    <p>
     （或一组）过程来完成自己所需要的功能。
    </p>
    <p>
     系统调用可以看作是
     <strong>
      <span style="color:#3333ff">
       操作系统内核
      </span>
     </strong>
     和
     <strong>
      <span style="color:#3333ff">
       应用程序
      </span>
     </strong>
     之间进行交互的接口，操作系统向用户程序提供系统调用的原因是为了
     <strong>
      对系统进行“保护”
     </strong>
     。
    </p>
    <p>
     当用户程序需要系统服务，也就是要调用系统内核中的某些程序时，只能
     <strong>
      <span style="color:#3333ff">
       从规定的位置进入内核
      </span>
     </strong>
     ，这样才能保证系统的安全。
    </p>
    <p>
     5、简述系统调用的实现过程。
    </p>
    <p>
     答：系统调用的一般处理过程如下：
    </p>
    <p>
     ----  系统
     <strong>
      <span style="color:#6633ff">
       产生软中断
      </span>
     </strong>
     ，由硬件完成现场保护，并通过中断向量转向系统调用总控程序，同时
     <strong>
      <span style="color:#6633ff">
       处理器状态
      </span>
     </strong>
     由用户态切换为内核态。
    </p>
    <p>
     ----  系统调用总控程序根据
     <strong>
      <span style="color:#6633ff">
       系统调用号
      </span>
     </strong>
     和系统内部的
     <strong>
      <span style="color:#6633ff">
       系统调用入口
      </span>
     </strong>
     转入相应的
     <strong>
      <span style="color:#3333ff">
       系统调用处理过程
      </span>
     </strong>
     。
    </p>
    <p>
     ----  系统调用处理过程执行完毕后，返回
     <strong>
      <span style="color:#6633ff">
       执行成功与否
      </span>
     </strong>
     以及成功时的执行结果给调用者，
     <strong>
      恢复
      <span style="color:#cc33cc">
       中断进程
      </span>
     </strong>
     或
     <strong>
      <span style="color:#cc33cc">
       新调度进程
      </span>
     </strong>
     的CPU现场，
    </p>
    <p>
     返回被中断进程或新进程运行。
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f646f6e6779616e78696131303030:2f61727469636c652f64657461696c732f3531363230393134" class_="artid" style="display:none">
 </p>
</div>


