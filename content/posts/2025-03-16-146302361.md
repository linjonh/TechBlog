---
layout: post
title: "MySQL-在-CentOS-7-上安装的步骤指南"
date: 2025-03-16 21:55:09 +0800
description: "这将安装 MySQL 服务器、客户端及所需的库文件。"
keywords: "MySQL 在 CentOS 7 上安装的步骤指南"
categories: ['Mysql']
tags: ['服务器', 'Mysql']
artid: "146302361"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146302361
    alt: "MySQL-在-CentOS-7-上安装的步骤指南"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146302361
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146302361
cover: https://bing.ee123.net/img/rand?artid=146302361
image: https://bing.ee123.net/img/rand?artid=146302361
img: https://bing.ee123.net/img/rand?artid=146302361
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     MySQL 在 CentOS 7 上安装的步骤指南
    </h1>
   </div>
  </div>
 </div>
 <a data-report-click='{"spm":"1001.2101.3001.8632"}' data-report-query="spm=1001.2101.3001.8632" data-report-view='{"spm":"1001.2101.3001.8632"}' href="https://activity.csdn.net/writing?id=10858" id="creatActivityHref" style="display:block;margin-top:16px;font-size:16px;color:#5094d5;font-weight:500" target="_blank">
  #新星杯·14天创作挑战营·第9期#
 </a>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <hr/>
    <hr/>
    <h4 id="1.%20%E5%8D%B8%E8%BD%BD%E4%B8%8D%E9%9C%80%E8%A6%81%E7%9A%84%E7%8E%AF%E5%A2%83" name="1.%20%E5%8D%B8%E8%BD%BD%E4%B8%8D%E9%9C%80%E8%A6%81%E7%9A%84%E7%8E%AF%E5%A2%83">
     1.
     <strong>
      卸载不需要的环境
     </strong>
    </h4>
    <p>
     如果系统中已经安装了 MariaDB 或旧版 MySQL，请先卸载它们，以避免冲突：
    </p>
    <ul>
     <li>
      检查是否有 MariaDB 正在运行：
     </li>
    </ul>
    <pre><code>ps ajx | grep mariadb
</code></pre>
    <ul>
     <li>
      停止 MariaDB 服务：
     </li>
    </ul>
    <pre><code>systemctl stop mariadb.service
</code></pre>
    <ul>
     <li>
      卸载 MySQL 或 MariaDB 安装包：
     </li>
    </ul>
    <pre><code>rpm -qa | grep mariadb
rpm -qa | grep mysql
sudo yum remove mariadb mysql
</code></pre>
    <p>
     在卸载之前，请确保备份
     <code>
      /etc/my.cnf
     </code>
     配置文件和
     <code>
      /var/lib/mysql
     </code>
     数据目录。
    </p>
    <hr/>
    <h4 id="2.%20%E8%8E%B7%E5%8F%96%20MySQL%20YUM%20%E4%BB%93%E5%BA%93" name="2.%20%E8%8E%B7%E5%8F%96%20MySQL%20YUM%20%E4%BB%93%E5%BA%93">
     2.
     <strong>
      获取 MySQL YUM 仓库
     </strong>
    </h4>
    <ul>
     <li>
      下载并安装 MySQL 官方 YUM 仓库：
     </li>
    </ul>
    <pre><code>rpm -Uvh mysql57-community-release-el7-10.noarch.rpm
</code></pre>
    <ul>
     <li>
      确认 MySQL 仓库已经添加：
     </li>
    </ul>
    <pre><code>ls /etc/yum.repos.d/
</code></pre>
    <p>
     在该目录下应能看到
     <code>
      mysql-community.repo
     </code>
     文件。
    </p>
    <hr/>
    <h4 id="3.%20%E5%AE%89%E8%A3%85%20MySQL" name="3.%20%E5%AE%89%E8%A3%85%20MySQL">
     3.
     <strong>
      安装 MySQL
     </strong>
    </h4>
    <ul>
     <li>
      安装 MySQL 服务器：
     </li>
    </ul>
    <pre><code>sudo yum install -y mysql-community-server
</code></pre>
    <p>
     该命令将安装 MySQL 服务器、客户端及所需的库文件。
    </p>
    <hr/>
    <h4 id="4.%20%E5%90%AF%E5%8A%A8%20MySQL%20%E6%9C%8D%E5%8A%A1" name="4.%20%E5%90%AF%E5%8A%A8%20MySQL%20%E6%9C%8D%E5%8A%A1">
     4.
     <strong>
      启动 MySQL 服务
     </strong>
    </h4>
    <ul>
     <li>
      启动 MySQL 服务：
     </li>
    </ul>
    <pre><code>systemctl start mysqld.service
</code></pre>
    <ul>
     <li>
      检查 MySQL 是否正常启动：
     </li>
    </ul>
    <pre><code>ps axj | grep mysqld
</code></pre>
    <hr/>
    <h4 id="5.%20%E8%8E%B7%E5%8F%96%E4%B8%B4%E6%97%B6%20Root%20%E5%AF%86%E7%A0%81" name="5.%20%E8%8E%B7%E5%8F%96%E4%B8%B4%E6%97%B6%20Root%20%E5%AF%86%E7%A0%81">
     5.
     <strong>
      获取临时 Root 密码
     </strong>
    </h4>
    <p>
     MySQL 安装过程中会自动生成一个临时的 root 密码，您可以通过以下命令获取：
    </p>
    <pre><code>sudo grep 'temporary password' /var/log/mysqld.log
</code></pre>
    <p>
     示例输出：
    </p>
    <pre><code>2021-04-12T03:23:46.153263Z 1 [Note] A temporary password is generated for root@localhost: yLMalT:v+5l*
</code></pre>
    <hr/>
    <h4 id="6.%20%E7%99%BB%E5%BD%95%20MySQL" name="6.%20%E7%99%BB%E5%BD%95%20MySQL">
     6.
     <strong>
      登录 MySQL
     </strong>
    </h4>
    <ul>
     <li>
      使用临时密码登录 MySQL：
     </li>
    </ul>
    <pre><code>mysql -uroot -p
</code></pre>
    <p>
     输入临时密码后，成功登录。
    </p>
    <hr/>
    <h4 id="7.%20%E6%9B%B4%E6%94%B9%20Root%20%E5%AF%86%E7%A0%81" name="7.%20%E6%9B%B4%E6%94%B9%20Root%20%E5%AF%86%E7%A0%81">
     7.
     <strong>
      更改 Root 密码
     </strong>
    </h4>
    <ul>
     <li>
      禁用默认密码策略（可选）：
     </li>
    </ul>
    <pre><code>set global validate_password_policy=0;
</code></pre>
    <ul>
     <li>
      修改 root 密码：
     </li>
    </ul>
    <pre><code>ALTER USER 'root'@'localhost' IDENTIFIED BY 'your_new_password';
</code></pre>
    <ul>
     <li>
      刷新权限以使更改生效：
     </li>
    </ul>
    <pre><code>FLUSH PRIVILEGES;
</code></pre>
    <hr/>
    <h4 id="8.%20%E8%AE%BE%E7%BD%AE%20MySQL%20%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF%E5%8A%A8" name="8.%20%E8%AE%BE%E7%BD%AE%20MySQL%20%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF%E5%8A%A8">
     8.
     <strong>
      设置 MySQL 开机自启动
     </strong>
    </h4>
    <ul>
     <li>
      配置 MySQL 开机自动启动：
     </li>
    </ul>
    <pre><code>systemctl enable mysqld
systemctl daemon-reload
</code></pre>
    <hr/>
    <h4 id="9.%20%E9%85%8D%E7%BD%AE%20MySQL%20%E7%BC%96%E7%A0%81" name="9.%20%E9%85%8D%E7%BD%AE%20MySQL%20%E7%BC%96%E7%A0%81">
     9.
     <strong>
      配置 MySQL 编码
     </strong>
    </h4>
    <ul>
     <li>
      编辑 MySQL 配置文件
      <code>
       /etc/my.cnf
      </code>
      ，设置字符编码（可选）：
     </li>
    </ul>
    <pre><code>vim /etc/my.cnf
</code></pre>
    <p>
     在
     <code>
      [mysqld]
     </code>
     部分添加以下配置：
    </p>
    <pre><code>character-set-server=utf8
default-storage-engine=innodb
</code></pre>
    <hr/>
    <h4 id="10.%20%E9%87%8D%E5%90%AF%20MySQL%20%E9%85%8D%E7%BD%AE%E7%94%9F%E6%95%88" name="10.%20%E9%87%8D%E5%90%AF%20MySQL%20%E9%85%8D%E7%BD%AE%E7%94%9F%E6%95%88">
     10.
     <strong>
      重启 MySQL 配置生效
     </strong>
    </h4>
    <ul>
     <li>
      重启 MySQL 服务，使配置更改生效：
     </li>
    </ul>
    <pre><code>systemctl restart mysqld
</code></pre>
    <hr/>
    <h4 id="11.%20%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3" name="11.%20%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3">
     11.
     <strong>
      常见问题解决
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       GPG 密钥问题
      </strong>
      ：如果在安装过程中遇到 GPG 错误，使用以下命令更新 GPG 密钥：
     </li>
    </ul>
    <pre><code>rpm --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2022
</code></pre>
    <ul>
     <li>
      <strong>
       MySQL 密码策略问题
      </strong>
      ：如果遇到密码策略限制，可以通过以下命令调整策略：
     </li>
    </ul>
    <pre><code>set global validate_password_policy=0;
</code></pre>
    <h4 id="" name="">
    </h4>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330315f38313833313432332f:61727469636c652f64657461696c732f313436333032333631" class_="artid" style="display:none">
 </p>
</div>


