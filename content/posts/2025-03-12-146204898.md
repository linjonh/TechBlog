---
layout: post
title: "Docker部署Penpot"
date: 2025-03-12 14:43:45 +0800
description: "Penpot是一个基于Web的设计工具，专为团队合作而设计。它支持多用户协作、设计工具集、原型设计、版本控制等功能，旨在帮助设计师、开发者和产品经理在同一平台上无缝地创建、分享和迭代设计项目，"
keywords: "Docker部署Penpot"
categories: ['未分类']
tags: ['运维', '容器', 'Docker']
artid: "146204898"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146204898
    alt: "Docker部署Penpot"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146204898
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146204898
cover: https://bing.ee123.net/img/rand?artid=146204898
image: https://bing.ee123.net/img/rand?artid=146204898
img: https://bing.ee123.net/img/rand?artid=146204898
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Docker部署Penpot
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-tomorrow-night" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="_0">
     </a>
     简介
    </h3>
    <p>
     Penpot是一个基于Web的设计工具，专为团队合作而设计。它支持多用户协作、设计工具集、原型设计、版本控制等功能，旨在帮助设计师、开发者和产品经理在同一平台上无缝地创建、分享和迭代设计项目，
    </p>
    <h3>
     <a id="_2">
     </a>
     多用户协作：
    </h3>
    <p>
     Penpot允许多个用户实时查看和编辑项目，提高团队协作效率。每个成员都可以查看历史变更，评论并提出反馈，促进团队间的有效沟通。设计工具集：内置矢量绘图工具，支持形状、文本、图像操作，以及自定义颜色和样式。提供丰富的图形工具，满足设计师的各种需求。原型设计：允许用户创建交互式原型，设置页面间跳转。预览并分享给团队或客户，以便更好地测试和验证设计想法。版本控制：跟踪项目的每个更改，确保设计项目的稳定性和可追溯性。允许用户轻松回滚到以前的状态，避免误操作导致的数据丢失。权限管理：提供精细的权限控制功能，允许管理员设置团队成员的角色和访问级别。保护敏感信息，确保团队数据的安全。﻿
     <br/>
     技术特点﻿开源与免费：Penpot是一个完全免费且开放源代码的项目，允许社区贡献和定制。用户可以选择将其部署到自己的服务器上，确保数据的安全与自主控制。跨平台与兼容性：Penpot基于Web技术构建，不依赖于特定的操作系统。可在任何现代浏览器上流畅运行，支持Windows、macOS和Linux等操作系统。高性能与稳定性：采用React、Puppeteer、Node.js和MongoDB等现代技术栈，确保平台的性能和稳定性。提供GraphQL API，方便与其他工具和服务集成。微服务架构：遵循微服务架构原则，使各个组件能够独立开发和扩展。保证系统的可维护性和伸缩性，满足大型团队的需求。
    </p>
    <h3>
     <a id="_5">
     </a>
     应用场景
    </h3>
    <p>
     Penpot广泛应用于产品设计、UI/UX设计、网站开发等领域。它可以帮助团队实现设计与开发之间的无缝协作，减少沟通成本，提高项目的整体效率和质量。例如：产品设计团队：可以使用Penpot进行产品设计、原型制作和测试验证。UI/UX设计团队：可以使用Penpot进行界面设计、交互设计和用户体验优化。网站开发团队：可以使用Penpot进行网站规划、页面设计和功能原型制作。如需了解更多信息，可以访问其官方网站或查阅相关的技术文档。
    </p>
    <h5>
     <a id="GitHubhttpsgithubcompenpotpenpottabreadmeovfile_8">
     </a>
     GitHub地址：https://github.com/penpot/penpot?tab=readme-ov-file
    </h5>
    <h5>
     <a id="httpshelppenpotapptechnicalguidegettingstartedinstallwithdocker_9">
     </a>
     官方文档：https://help.penpot.app/technical-guide/getting-started/#install-with-docker
    </h5>
    <h5>
     <a id="_httpspenpotapp_10">
     </a>
     官方网站 https://penpot.app/
    </h5>
    <h4>
     <a id="Docker_11">
     </a>
     安装Docker
    </h4>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> docker.io <span class="token function">docker-compose</span>
</code></pre>
    <p>
     拉取配置文件docker-compose.yml
    </p>
    <pre><code class="prism language-bash"><span class="token function">curl</span> <span class="token parameter variable">-o</span> docker-compose.yaml https://raw.githubusercontent.com/penpot/penpot/main/docker/images/docker-compose.yaml
</code></pre>
    <pre><code class="prism language-bash"><span class="token function">wget</span> https://raw.githubusercontent.com/penpot/penpot/main/docker/images/docker-compose.yaml
</code></pre>
    <p>
     或者自己创建
    </p>
    <pre><code class="prism language-bash"><span class="token comment">## Common flags:</span>
<span class="token comment"># demo-users</span>
<span class="token comment"># email-verification</span>
<span class="token comment"># log-emails</span>
<span class="token comment"># log-invitation-tokens</span>
<span class="token comment"># login-with-github</span>
<span class="token comment"># login-with-gitlab</span>
<span class="token comment"># login-with-google</span>
<span class="token comment"># login-with-ldap</span>
<span class="token comment"># login-with-oidc</span>
<span class="token comment"># login-with-password</span>
<span class="token comment"># prepl-server</span>
<span class="token comment"># registration</span>
<span class="token comment"># secure-session-cookies</span>
<span class="token comment"># smtp</span>
<span class="token comment"># smtp-debug</span>
<span class="token comment"># telemetry</span>
<span class="token comment"># webhooks</span>
<span class="token comment">##</span>
<span class="token comment">## You can read more about all available flags and other</span>
<span class="token comment">## environment variables here:</span>
<span class="token comment">## https://help.penpot.app/technical-guide/configuration/#advanced-configuration</span>
<span class="token comment">#</span>
<span class="token comment"># WARNING: if you're exposing Penpot to the internet, you should remove the flags</span>
<span class="token comment"># 'disable-secure-session-cookies' and 'disable-email-verification'</span>
x-flags: <span class="token operator">&amp;</span>penpot-flags
  PENPOT_FLAGS: disable-email-verification enable-smtp enable-prepl-server disable-secure-session-cookies

x-uri: <span class="token operator">&amp;</span>penpot-public-uri
  PENPOT_PUBLIC_URI: http://localhost:9001

x-body-size: <span class="token operator">&amp;</span>penpot-http-body-size
  <span class="token comment"># Max body size (30MiB); Used for plain requests, should never be</span>
  <span class="token comment"># greater than multi-part size</span>
  PENPOT_HTTP_SERVER_MAX_BODY_SIZE: <span class="token number">31457280</span>

  <span class="token comment"># Max multipart body size (350MiB)</span>
  PENPOT_HTTP_SERVER_MAX_MULTIPART_BODY_SIZE: <span class="token number">367001600</span>


networks:
  penpot:

volumes:
  penpot_postgres_v15:
  penpot_assets:
  <span class="token comment"># penpot_traefik:</span>
  <span class="token comment"># penpot_minio:</span>

services:
  <span class="token comment">## Traefik service declaration example. Consider using it if you are going to expose</span>
  <span class="token comment">## penpot to the internet, or a different host than `localhost`.</span>

  <span class="token comment"># traefik:</span>
  <span class="token comment">#   image: traefik:v2.9</span>
  <span class="token comment">#   networks:</span>
  <span class="token comment">#     - penpot</span>
  <span class="token comment">#   command:</span>
  <span class="token comment">#     - "--api.insecure=true"</span>
  <span class="token comment">#     - "--entryPoints.web.address=:80"</span>
  <span class="token comment">#     - "--providers.docker=true"</span>
  <span class="token comment">#     - "--providers.docker.exposedbydefault=false"</span>
  <span class="token comment">#     - "--entryPoints.websecure.address=:443"</span>
  <span class="token comment">#     - "--certificatesresolvers.letsencrypt.acme.tlschallenge=true"</span>
  <span class="token comment">#     - "--certificatesresolvers.letsencrypt.acme.email=&lt;EMAIL_ADDRESS&gt;"</span>
  <span class="token comment">#     - "--certificatesresolvers.letsencrypt.acme.storage=/traefik/acme.json"</span>
  <span class="token comment">#   volumes:</span>
  <span class="token comment">#     - "penpot_traefik:/traefik"</span>
  <span class="token comment">#     - "/var/run/docker.sock:/var/run/docker.sock"</span>
  <span class="token comment">#   ports:</span>
  <span class="token comment">#     - "80:80"</span>
  <span class="token comment">#     - "443:443"</span>

  penpot-frontend:
    image: <span class="token string">"penpotapp/frontend:<span class="token variable">${PENPOT_VERSION<span class="token operator">:-</span>latest}</span>"</span>
    restart: always
    ports:
      - <span class="token number">9001</span>:8080

    volumes:
      - penpot_assets:/opt/data/assets

    depends_on:
      - penpot-backend
      - penpot-exporter

    networks:
      - penpot

    labels:
      - <span class="token string">"traefik.enable=true"</span>

      <span class="token comment">## HTTP: example of labels for the case where penpot will be exposed to the</span>
      <span class="token comment">## internet with only HTTP (without HTTPS) using traefik.</span>

      <span class="token comment"># - "traefik.http.routers.penpot-http.entrypoints=web"</span>
      <span class="token comment"># - "traefik.http.routers.penpot-http.rule=Host(`&lt;DOMAIN_NAME&gt;`)"</span>
      <span class="token comment"># - "traefik.http.services.penpot-http.loadbalancer.server.port=80"</span>

      <span class="token comment">## HTTPS: example of labels for the case where penpot will be exposed to the</span>
      <span class="token comment">## internet with HTTPS using traefik.</span>

      <span class="token comment"># - "traefik.http.middlewares.http-redirect.redirectscheme.scheme=https"</span>
      <span class="token comment"># - "traefik.http.middlewares.http-redirect.redirectscheme.permanent=true"</span>
      <span class="token comment"># - "traefik.http.routers.penpot-http.entrypoints=web"</span>
      <span class="token comment"># - "traefik.http.routers.penpot-http.rule=Host(`&lt;DOMAIN_NAME&gt;`)"</span>
      <span class="token comment"># - "traefik.http.routers.penpot-http.middlewares=http-redirect"</span>
      <span class="token comment"># - "traefik.http.routers.penpot-https.entrypoints=websecure"</span>
      <span class="token comment"># - "traefik.http.routers.penpot-https.rule=Host(`&lt;DOMAIN_NAME&gt;`)"</span>
      <span class="token comment"># - "traefik.http.services.penpot-https.loadbalancer.server.port=80"</span>
      <span class="token comment"># - "traefik.http.routers.penpot-https.tls=true"</span>
      <span class="token comment"># - "traefik.http.routers.penpot-https.tls.certresolver=letsencrypt"</span>

    environment:
      <span class="token operator">&lt;&lt;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">[</span>*penpot-flags, *penpot-http-body-size<span class="token punctuation">]</span>

  penpot-backend:
    image: <span class="token string">"penpotapp/backend:<span class="token variable">${PENPOT_VERSION<span class="token operator">:-</span>latest}</span>"</span>
    restart: always

    volumes:
      - penpot_assets:/opt/data/assets

    depends_on:
      penpot-postgres:
        condition: service_healthy
      penpot-redis:
        condition: service_healthy

    networks:
      - penpot

    <span class="token comment">## Configuration envronment variables for the backend</span>
    <span class="token comment">## container.</span>

    environment:
      <span class="token operator">&lt;&lt;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">[</span>*penpot-flags, *penpot-public-uri, *penpot-http-body-size<span class="token punctuation">]</span>

      <span class="token comment">## Penpot SECRET KEY. It serves as a master key from which other keys for subsystems</span>
      <span class="token comment">## (eg http sessions, or invitations) are derived.</span>
      <span class="token comment">##</span>
      <span class="token comment">## If you leave it commented, all created sessions and invitations will</span>
      <span class="token comment">## become invalid on container restart.</span>
      <span class="token comment">##</span>
      <span class="token comment">## If you going to uncomment this, we recommend to use a trully randomly generated</span>
      <span class="token comment">## 512 bits base64 encoded string here.  You can generate one with:</span>
      <span class="token comment">##</span>
      <span class="token comment">## python3 -c "import secrets; print(secrets.token_urlsafe(64))"</span>

      <span class="token comment"># PENPOT_SECRET_KEY: my-insecure-key</span>

      <span class="token comment">## The PREPL host. Mainly used for external programatic access to penpot backend</span>
      <span class="token comment">## (example: admin). By default it will listen on `localhost` but if you are going to use</span>
      <span class="token comment">## the `admin`, you will need to uncomment this and set the host to `0.0.0.0`.</span>

      <span class="token comment"># PENPOT_PREPL_HOST: 0.0.0.0</span>

      <span class="token comment">## Database connection parameters. Don't touch them unless you are using custom</span>
      <span class="token comment">## postgresql connection parameters.</span>

      PENPOT_DATABASE_URI: postgresql://penpot-postgres/penpot
      PENPOT_DATABASE_USERNAME: penpot
      PENPOT_DATABASE_PASSWORD: penpot

      <span class="token comment">## Redis is used for the websockets notifications. Don't touch unless the redis</span>
      <span class="token comment">## container has different parameters or different name.</span>

      PENPOT_REDIS_URI: redis://penpot-redis/0

      <span class="token comment">## Default configuration for assets storage: using filesystem based with all files</span>
      <span class="token comment">## stored in a docker volume.</span>

      PENPOT_ASSETS_STORAGE_BACKEND: assets-fs
      PENPOT_STORAGE_ASSETS_FS_DIRECTORY: /opt/data/assets

      <span class="token comment">## Also can be configured to to use a S3 compatible storage</span>
      <span class="token comment">## service like MiniIO. Look below for minio service setup.</span>

      <span class="token comment"># AWS_ACCESS_KEY_ID: &lt;KEY_ID&gt;</span>
      <span class="token comment"># AWS_SECRET_ACCESS_KEY: &lt;ACCESS_KEY&gt;</span>
      <span class="token comment"># PENPOT_ASSETS_STORAGE_BACKEND: assets-s3</span>
      <span class="token comment"># PENPOT_STORAGE_ASSETS_S3_ENDPOINT: http://penpot-minio:9000</span>
      <span class="token comment"># PENPOT_STORAGE_ASSETS_S3_BUCKET: &lt;BUKET_NAME&gt;</span>

      <span class="token comment">## Telemetry. When enabled, a periodical process will send anonymous data about this</span>
      <span class="token comment">## instance. Telemetry data will enable us to learn how the application is used,</span>
      <span class="token comment">## based on real scenarios. If you want to help us, please leave it enabled. You can</span>
      <span class="token comment">## audit what data we send with the code available on github.</span>

      PENPOT_TELEMETRY_ENABLED: <span class="token boolean">true</span>
      PENPOT_TELEMETRY_REFERER: compose

      <span class="token comment">## Example SMTP/Email configuration. By default, emails are sent to the mailcatch</span>
      <span class="token comment">## service, but for production usage it is recommended to setup a real SMTP</span>
      <span class="token comment">## provider. Emails are used to confirm user registrations &amp; invitations. Look below</span>
      <span class="token comment">## how the mailcatch service is configured.</span>

      PENPOT_SMTP_DEFAULT_FROM: no-reply@example.com
      PENPOT_SMTP_DEFAULT_REPLY_TO: no-reply@example.com
      PENPOT_SMTP_HOST: penpot-mailcatch
      PENPOT_SMTP_PORT: <span class="token number">1025</span>
      PENPOT_SMTP_USERNAME:
      PENPOT_SMTP_PASSWORD:
      PENPOT_SMTP_TLS: <span class="token boolean">false</span>
      PENPOT_SMTP_SSL: <span class="token boolean">false</span>

  penpot-exporter:
    image: <span class="token string">"penpotapp/exporter:<span class="token variable">${PENPOT_VERSION<span class="token operator">:-</span>latest}</span>"</span>
    restart: always

    depends_on:
      penpot-redis:
        condition: service_healthy

    networks:
      - penpot

    environment:
      <span class="token comment"># Don't touch it; this uses an internal docker network to</span>
      <span class="token comment"># communicate with the frontend.</span>
      PENPOT_PUBLIC_URI: http://penpot-frontend:8080

      <span class="token comment">## Redis is used for the websockets notifications.</span>
      PENPOT_REDIS_URI: redis://penpot-redis/0

  penpot-postgres:
    image: <span class="token string">"postgres:15"</span>
    restart: always
    stop_signal: SIGINT

    healthcheck:
      test: <span class="token punctuation">[</span><span class="token string">"CMD-SHELL"</span>, <span class="token string">"pg_isready -U penpot"</span><span class="token punctuation">]</span>
      interval: 2s
      timeout: 10s
      retries: <span class="token number">5</span>
      start_period: 2s

    volumes:
      - penpot_postgres_v15:/var/lib/postgresql/data

    networks:
      - penpot

    environment:
      - <span class="token assign-left variable">POSTGRES_INITDB_ARGS</span><span class="token operator">=</span>--data-checksums
      - <span class="token assign-left variable">POSTGRES_DB</span><span class="token operator">=</span>penpot
      - <span class="token assign-left variable">POSTGRES_USER</span><span class="token operator">=</span>penpot
      - <span class="token assign-left variable">POSTGRES_PASSWORD</span><span class="token operator">=</span>penpot

  penpot-redis:
    image: redis:7.2
    restart: always

    healthcheck:
      test: <span class="token punctuation">[</span><span class="token string">"CMD-SHELL"</span>, <span class="token string">"redis-cli ping | grep PONG"</span><span class="token punctuation">]</span>
      interval: 1s
      timeout: 3s
      retries: <span class="token number">5</span>
      start_period: 3s

    networks:
      - penpot

  <span class="token comment">## A mailcatch service, used as temporal SMTP server. You can access via HTTP to the</span>
  <span class="token comment">## port 1080 for read all emails the penpot platform has sent. Should be only used as a</span>
  <span class="token comment">## temporal solution while no real SMTP provider is configured.</span>

  penpot-mailcatch:
    image: sj26/mailcatcher:latest
    restart: always
    expose:
      - <span class="token string">'1025'</span>
    ports:
      - <span class="token string">"1080:1080"</span>
    networks:
      - penpot

  <span class="token comment">## Example configuration of MiniIO (S3 compatible object storage service); If you don't</span>
  <span class="token comment">## have preference, then just use filesystem, this is here just for the completeness.</span>

  <span class="token comment"># minio:</span>
  <span class="token comment">#   image: "minio/minio:latest"</span>
  <span class="token comment">#   command: minio server /mnt/data --console-address ":9001"</span>
  <span class="token comment">#   restart: always</span>
  <span class="token comment">#</span>
  <span class="token comment">#   volumes:</span>
  <span class="token comment">#     - "penpot_minio:/mnt/data"</span>
  <span class="token comment">#</span>
  <span class="token comment">#   environment:</span>
  <span class="token comment">#     - MINIO_ROOT_USER=minioadmin</span>
  <span class="token comment">#     - MINIO_ROOT_PASSWORD=minioadmin</span>
  <span class="token comment">#</span>
  <span class="token comment">#   ports:</span>
  <span class="token comment">#     - 9000:9000</span>
  <span class="token comment">#     - 9001:9001</span>
</code></pre>
    <p>
     启动服务
    </p>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span>
</code></pre>
    <p>
     服务启动后，在浏览器访问http://IP:9001即可。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/cfaa0549bfb54a039634f07a610cca7c.png"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f7765696d65696c617965722f:61727469636c652f64657461696c732f313436323034383938" class_="artid" style="display:none">
 </p>
</div>


