---
layout: post
title: "零基础学习性能测试第三章测试目标制定"
date: 2025-07-23T08:03:43+0800
description: "当前生产环境最高处理过多少TPS？我们按120%设计是否合理？“当页面加载超过几秒时，用户流失率会显著上升？✅ 输出3-5个核心场景量化目标。“模糊的目标 = 无效的测试”✅ 获得关键干系人签字确认。：用此目标指导测试计划制定。✅ 建立目标达成追踪机制。以下是为零基础定制的。"
keywords: "零基础学习性能测试第三章：测试目标制定"
categories: ['未分类']
tags: ['零基础', '性能测试', '学习']
artid: "149558718"
arturl: "https://blog.csdn.net/u011537504/article/details/149558718"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=149558718
    alt: "零基础学习性能测试第三章测试目标制定"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=149558718
featuredImagePreview: https://bing.ee123.net/img/rand?artid=149558718
cover: https://bing.ee123.net/img/rand?artid=149558718
image: https://bing.ee123.net/img/rand?artid=149558718
img: https://bing.ee123.net/img/rand?artid=149558718
---



# 零基础学习性能测试第三章：测试目标制定



以下是为零基础定制的
**性能测试目标制定**实战指南，结合企业级案例模板和即用脚本，助你快速输出精准可衡量的测试目标：

---

#### **核心学习理念**

> “模糊的目标 = 无效的测试”  
>  **本章目标：30分钟制定出开发买账、老板认可的量化性能目标**

---

#### **模块1：理解性能测试目标的价值（0.5小时）**

##### **1.1 为什么必须明确目标？**

* **血泪教训**：
  + 团队优化了登录接口响应时间，但用户投诉支付卡顿 → **目标偏离核心业务**
  + 测试报告显示支持500并发，上线后300并发崩了 → **目标未匹配真实场景**
* **核心作用**：
  + **对齐预期**：让开发/运维/业务方对“性能达标”有统一认知
  + **聚焦资源**：避免在非关键功能上过度优化
  + **量化验收**：建立明确的通过/失败标准

##### **1.2 优秀目标的SMART原则**

| 原则 | 错误示例 | 正确示例 |
| --- | --- | --- |
| **具体(S)** | “系统要快” | “搜索接口P95≤1.5秒” |
| **可测(M)** | “用户体验好” | “支付成功页加载时间≤2秒” |
| **可达(A)** | “单机支撑10万并发” | “集群支撑5000并发（历史峰值2倍）” |
| **相关®** | “优化后台导出速度” | “缩短用户下单流程响应时间” |
| **时限(T)** | “提升性能” | “Q3末达成80TPS” |

---

#### **模块2：四步制定测试目标（附企业模板）**

##### **步骤1：锁定核心业务场景（关键！）**

* **操作工具**：**KANO模型分析**

  影响80%用户






  影响<5%用户








  用户反馈







  生产日志







  功能影响范围







  核心场景







  低优先级
* **输出成果**：**场景优先级矩阵**

  | 场景 | 用户影响面 | 业务收益 | 优先级 |
  | --- | --- | --- | --- |
  | 用户登录 | 100% | 高 | ★★★ |
  | 商品搜索 | 80% | 极高 | ★★★ |
  | 订单支付 | 60% | 极高 | ★★★ |
  | 售后申请 | 20% | 中 | ★★ |

##### **步骤2：量化性能指标（3大核心维度）**

* **维度1：响应时间**（用户体验）  
   行业基准（Web系统）

  | 百分位 | 合格线 | 优秀线 |
  | --- | --- | --- |
  | **P90** | ≤2秒 | ≤1秒 |
  | **P95** | ≤3秒 | ≤1.5秒 |
  | **P99** | ≤5秒 | ≤3秒 |
* **维度2：吞吐量**（系统能力）

  ```python
  # 计算目标TPS（以电商支付为例）
  日均订单量 = 10万  
  高峰时段占比 = 70%    # 晚8-10点  
  高峰时长 = 2小时 = 7200秒  
  目标TPS = (100000 × 0.7) / 7200 ≈ 9.7 → **取整10 TPS**

  ```
* **维度3：容错能力**（系统健壮性）
  + 错误率：<0.5%（非200响应占比）
  + 资源水位：CPU<75%，内存<80%

##### **步骤3：定义验收标准（防止扯皮）**

* **示例模板**：

  | 场景 | 负载条件 | 通过标准 | 失败条件 |
  | --- | --- | --- | --- |
  | 用户登录 | 100并发持续5分钟 | P95≤1.2s, 错误率<0.1% | P95>1.5s 或 错误率>0.5% |
  | 订单支付 | 80 TPS持续30分钟 | 资源波动<15%, 无线程死锁 | TPS下降>20% |

##### **步骤4：获得关键方签字确认**

* **会签清单**：
  + 业务方：确保目标匹配用户体验需求
  + 架构师：确认技术可行性
  + 运维：承诺提供匹配的测试环境
  + **输出物**：《性能目标确认书》电子签

---

#### **模块3：企业级目标模板（直接套用）**

**XX系统性能测试目标 v1.0**  
 一、核心业务目标

1. **用户登录场景**
   * 性能指标：200并发下 P95≤1.2秒
   * 业务依据：登录是所有用户的必经路径（UV 100%）
2. **支付下单场景**
   * 性能指标：稳定支持100 TPS（峰值120 TPS）
   * 业务依据：大促期间预估订单量86,400单/天

二、资源健康目标

| 指标 | 阈值 | 监控工具 |
| --- | --- | --- |
| CPU使用率 | <75% | Grafana |
| 内存占用 | <80% | Prometheus |
| MySQL连接数 | <90% | Zabbix |

三、容错能力目标

* 网络闪断5秒时：事务恢复时间≤30秒
* 错误率持续>1%时：自动触发熔断

四、验收签字

| 角色 | 签字 | 日期 |
| --- | --- | --- |
| 产品负责人 | _________ | 2023-08-01 |
| 技术总监 | _________ | 2023-08-01 |
| 运维经理 | _________ | 2023-08-01 |

---

#### **快速应用工具箱**

##### **1. 目标沟通话术**

* **问业务方**：  
   *“当页面加载超过几秒时，用户流失率会显著上升？”*  
   **（锚定响应时间阈值）**
* **问技术主管**：  
   *“当前生产环境最高处理过多少TPS？我们按120%设计是否合理？”*  
   **（获取基线数据）**

##### **2. 自动化计算脚本**

```python
# 吞吐量计算工具（保存为calc_tps.py）
import argparse

def calc_tps(daily_requests, peak_ratio, peak_hours):
    peak_requests = daily_requests * peak_ratio
    seconds = peak_hours * 3600
    tps = peak_requests / seconds
    return round(tps * 1.2, 2)  # 增加20%安全冗余

if __name__ == "__main__":
    parser = argparse.ArgumentParser()
    parser.add_argument("--daily", type=int, required=True, help="日均请求量")
    parser.add_argument("--ratio", type=float, default=0.7, help="高峰流量占比")
    parser.add_argument("--hours", type=float, default=2, help="高峰持续小时数")
    args = parser.parse_args()
    
    target_tps = calc_tps(args.daily, args.ratio, args.hours)
    print(f"目标TPS(含冗余): {target_tps}")

```

**使用示例**：

```bash
python calc_tps.py --daily 100000 --ratio 0.7 --hours 2
> 目标TPS(含冗余): 11.67

```

##### **3. 目标追踪看板**

![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/66868df81fee4f258071c4e92145054d.png)

---

#### **避坑指南：新人高频错误**

1. **目标过高**：要求单机支撑万级并发 → **参考历史数据×1.5倍**
2. **忽略容错**：只测正常流程 → **必须包含网络抖动/节点宕机场景**
3. **脱离业务**：优化后台接口响应 → **优先保障用户端体验**
4. **静态目标**：未考虑业务增长 → **目标有效期不超过6个月**

> **终极心法**：性能目标不是数字游戏，核心公式：  
>  **业务价值 × 可测量性 × 技术可行性 = 有效目标**

通过本章学习，你将在1天内完成：  
 ✅ 输出3-5个核心场景量化目标  
 ✅ 获得关键干系人签字确认  
 ✅ 建立目标达成追踪机制  
 **下一步行动**：用此目标指导测试计划制定



