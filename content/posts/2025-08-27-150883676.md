---
layout: post
title: "PortSwigger靶场之SQL-injection-with-filter-bypass-via-XML-encoding通关秘籍"
date: 2025-08-27T00:56:01+0800
description: "摘要：该文档描述了如何利用SQL注入漏洞获取管理员凭证的过程。首先发现库存查询功能存在SQL注入漏洞，但受WAF拦截。通过Hackvertor扩展对恶意查询进行编码混淆，成功绕过防火墙过滤。确认数据库为PostgreSQL后，使用UNION语句分别获取users表中的用户名和密码字段，最终成功以管理员身份登录系统。文中详细演示了从漏洞发现到利用的全过程，重点介绍了绕过安全防护的技术手段。"
keywords: "PortSwigger靶场之SQL injection with filter bypass via XML encoding通关秘籍"
categories: ['未分类']
tags: ['数据库', 'Xml', 'Sql']
artid: "150883676"
arturl: "https://blog.csdn.net/m0_65361643/article/details/150883676"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=150883676
    alt: "PortSwigger靶场之SQL-injection-with-filter-bypass-via-XML-encoding通关秘籍"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=150883676
featuredImagePreview: https://bing.ee123.net/img/rand?artid=150883676
cover: https://bing.ee123.net/img/rand?artid=150883676
image: https://bing.ee123.net/img/rand?artid=150883676
img: https://bing.ee123.net/img/rand?artid=150883676
---



# PortSwigger靶场之SQL injection with filter bypass via XML encoding通关秘籍



![](https://i-blog.csdnimg.cn/direct/6cdec01906ef4fec99bcc2c9f37d8eb3.png)

## 一、题目分析

该实验室的库存查询功能存在 SQL 注入漏洞。查询结果为这些信息会出现在应用程序的响应中，因此您可以利用“联合”攻击来从其他表中获取数据。该数据库中有一个“用户”表，该表包含了已注册用户的用户名和密码。要解决，需进行一次 SQL 注入攻击以获取管理员用户的登录凭证，然后登录到他们的账户。

提示网络应用防火墙（WAF）会拦截那些明显带有 SQL 注入攻击迹象的请求。您需要找到一种方法来对恶意查询进行混淆处理，以绕过这一过滤机制。我们建议使用 Hackvertor 扩展来进行此操作。

## 二、下载插件

我们先在拓展里面下这个插件：

![](https://i-blog.csdnimg.cn/direct/00bf6ae4790149ca9f42a916e4aaf0c3.png)

![](https://i-blog.csdnimg.cn/direct/f8962a628f7d44408db87f21e2e8be91.png)

## 三、寻找注入点

![](https://i-blog.csdnimg.cn/direct/b8394f0ac5a24d1c80260a8766baec0d.png)

![](https://i-blog.csdnimg.cn/direct/c919d944de7f4af2a150a071cf6d894d.png)

![](https://i-blog.csdnimg.cn/direct/a7b35258a17341bb9d57b5e0c220e4b0.png)

如上修改语句为“1+1”，返回结果发生了变化；同时如下修改输入单引号，会被识别成攻击语句，被拦截。

![](https://i-blog.csdnimg.cn/direct/0b2feb6301c742e8b885c53291c70840.png)

## 四、使用 Hackvertor 扩展

这里我们使用 Hackvertor 扩展，进行加密，为什么呢？

**因为**使用 Hackvertor 扩展，进行加密我们可以**绕过安全过滤器和 WAF（Web 应用防火墙）**

* 这是它在网络安全领域中非常重要的一个应用。很多简单的安全过滤器会通过黑名单来阻止恶意的输入，比如直接拦截包含 `<script>` 字符串的请求。
* 攻击者为了绕过这种检测，可以将他的攻击载荷（Payload）进行十六进制实体编码。
* 例如，将 `<script>alert(1)</script>` 完全编码成： `&#x3c;&#x73;&#x63;&#x72;&#x69;&#x70;&#x74;&#x3e;&#x61;&#x6c;&#x65;&#x72;&#x74;&#x28;&#x31;&#x29;&#x3c;&#x2f;&#x73;&#x63;&#x72;&#x69;&#x70;&#x74;&#x3e;`
* 这个编码后的字符串可能不会触发 WAF 的规则，但当它被浏览器接收并解析时，会被还原成原始的恶意脚本并执行，从而导致 **跨站脚本攻击（XSS）**。

---

![](https://i-blog.csdnimg.cn/direct/549795c81fed452d80ad9f31e5d1cf0d.png)

![](https://i-blog.csdnimg.cn/direct/6b695161e58f4ac79f3de404a977925b.png)

此时，再次点击Send，发现响应中返回了正常的内容。

## 五、判断数据库类型

![](https://i-blog.csdnimg.cn/direct/d319592abb7b40849472d4ff10d75fa4.png)

此时识别出数据库类型为PostgreSQL

## 六、寻找用户名和密码

![](https://i-blog.csdnimg.cn/direct/2562ace9f8ed4bb4814be5dae88bc577.png)

利用下面语句得出用户名：

```

1 union SELECT username from users

```

![](https://i-blog.csdnimg.cn/direct/9863bb8830314b8f98e6c815bf8b15c1.png)

利用该语句得出密码

```

1 union SELECT password from users where username='administrator'
```

## 

## 七、成功通关

用账号密码登录成功通关

![](https://i-blog.csdnimg.cn/direct/4e0cdbcb12e1428bbdf9116308ea449d.png)



