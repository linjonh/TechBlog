---
layout: post
title: "docker后台运行,便于后期用命令行进入它的终端"
date: 2025-03-16 00:03:10 +0800
description: "在 docker compose up --build -d 命令中，​**-d​（或 --detach）参数的作用是让容器以后台模式（detached mode）​**运行。默认情况下，docker compose up 会附着（attach）​到容器的日志输出，占用当前终端窗口。-d：仅控制容器的运行模式，与 --build 无依赖关系。​适用场景：需要长期运行服务或自动化部署时，优先使用 -d。​**-d 的核心作用**：让容器在后台运行，释放终端。​**-d 参数的作用**"
keywords: "docker后台运行，便于后期用命令行进入它的终端"
categories: ['未分类']
tags: ['运维', '容器', 'Docker']
artid: "146288107"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146288107
    alt: "docker后台运行,便于后期用命令行进入它的终端"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146288107
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146288107
cover: https://bing.ee123.net/img/rand?artid=146288107
image: https://bing.ee123.net/img/rand?artid=146288107
img: https://bing.ee123.net/img/rand?artid=146288107
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     docker后台运行，便于后期用命令行进入它的终端
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     在 docker compose up --build -d 命令中，​**-d​（或 --detach）参数的作用是让容器以后台模式（detached mode）​**运行。以下是详细解释：
    </p>
    <p>
     ​**-d 参数的作用**
     <br/>
     ​后台运行容器：
    </p>
    <p>
     默认情况下，docker compose up 会附着（attach）​到容器的日志输出，占用当前终端窗口。
     <br/>
     添加 -d 后，容器启动后会立即释放终端，允许你继续在终端中执行其他操作。
     <br/>
     ​适用场景：
    </p>
    <p>
     在脚本或自动化流程中启动服务，无需手动干预。
     <br/>
     长期运行的服务（如 Web 服务器、数据库），不需要实时查看日志。
     <br/>
     ​命令行为对比
    </p>
    <ol>
     <li>
      ​不使用 -d 参数：
      <br/>
      bash
      <br/>
      docker compose up --build
      <br/>
      终端会实时打印所有容器的日志输出。
      <br/>
      按下 Ctrl+C 会停止容器并退出。
     </li>
     <li>
      ​使用 -d 参数：
      <br/>
      bash
      <br/>
      docker compose up --build -d
      <br/>
      容器启动后，终端仅显示容器名称和状态（如 done），随后返回命令行。
      <br/>
      按下 Ctrl+C ​不会影响容器运行，需手动停止（见下文）。
      <br/>
      ​附加操作
      <br/>
      ​查看运行中的容器：
     </li>
    </ol>
    <p>
     bash
     <br/>
     docker compose ps
     <br/>
     ​查看实时日志：
    </p>
    <p>
     bash
     <br/>
     docker compose logs -f # -f 表示持续跟踪日志
     <br/>
     ​停止后台容器：
    </p>
    <p>
     bash
     <br/>
     docker compose down # 停止并删除容器（保留卷）
     <br/>
     docker compose stop # 仅停止容器
     <br/>
     ​参数组合说明
     <br/>
     –build：强制重新构建镜像（无论镜像是否已存在）。
     <br/>
     -d：仅控制容器的运行模式，与 --build 无依赖关系。
     <br/>
     ​总结
     <br/>
     ​**-d 的核心作用**：让容器在后台运行，释放终端。
     <br/>
     ​适用场景：需要长期运行服务或自动化部署时，优先使用 -d。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f7368695f7469616e7a68752f:61727469636c652f64657461696c732f313436323838313037" class_="artid" style="display:none">
 </p>
</div>


