---
layout: post
title: "图像处理篇-opencv中的图像特征"
date: 2025-03-08 18:10:42 +0800
description: "OpenCV 提供了多种传统图像特征提取方法，这些特征可以用于机器学习任务（如图像分类、目标检测）。以下是 OpenCV 中常用的纹理特征（LBP）和形状特征（Hu矩）的详细介绍，以及其他可用于传统机器学习的特征。局部二值模式（Local Binary Pattern, LBP）是一种用于描述图像局部纹理特征的算子。它通过比较像素点与其邻域像素的灰度值，生成二进制模式，进而提取纹理信息。Hu矩是一种基于图像几何矩的形状特征，具有平移、旋转和缩放不变性。它通过计算图像的七个不变矩来描述图像的形状特征。"
keywords: "图像处理纹理特征"
categories: ['深度学习篇', '图像处理篇']
tags: ['图像处理', '人工智能', 'Python', 'Opencv']
artid: "146119916"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146119916
    alt: "图像处理篇-opencv中的图像特征"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146119916
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146119916
cover: https://bing.ee123.net/img/rand?artid=146119916
image: https://bing.ee123.net/img/rand?artid=146119916
img: https://bing.ee123.net/img/rand?artid=146119916
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     图像处理篇---opencv中的图像特征
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <hr/>
    <p>
    </p>
    <p>
    </p>
    <hr/>
    <h2>
     <a id="_10">
     </a>
     前言
    </h2>
    <p>
     OpenCV 提供了
     <strong>
      多种传统图像特征提取方法
     </strong>
     ，这些特征可以用于
     <strong>
      机器学习任务（如图像分类、目标检测）
     </strong>
     。以下是 OpenCV 中常用的
     <strong>
      纹理特征（LBP）和形状特征（Hu矩）
      <strong>
       的详细介绍，以及其他可用于
      </strong>
      传统机器学习的特征
     </strong>
     。
    </p>
    <hr/>
    <h2>
     <a id="LBP_18">
     </a>
     一、纹理特征：局部二值模式（LBP）
    </h2>
    <h3>
     <a id="1_LBP__19">
     </a>
     1. LBP 简介
    </h3>
    <p>
     <strong>
      局部二值模式（Local Binary Pattern, LBP）
      <strong>
       是一种用于描述
      </strong>
      图像局部纹理特征的算子
     </strong>
     。它通过比较
     <strong>
      像素点与其邻域像素的灰度值，生成二进制模式，进而提取纹理信息。
     </strong>
    </p>
    <h3>
     <a id="2_LBP__22">
     </a>
     2. LBP 计算步骤
    </h3>
    <blockquote>
     <p>
      选择一个
      <strong>
       中心像素点。
      </strong>
      <br/>
      比较
      <strong>
       中心像素点与其邻域像素的灰度值
      </strong>
      ：
      <br/>
      如果
      <strong>
       邻域像素值大于中心像素值
      </strong>
      ，则标记为 1。
      <br/>
      否则，标记为 0。
      <br/>
      将
      <strong>
       二进制结果转换为十进制数
      </strong>
      ，作为该中心像素的 LBP 值。
      <br/>
      对整个图像重复上述过程，生成
      <strong>
       LBP 图像
      </strong>
      。
     </p>
    </blockquote>
    <h3>
     <a id="3_OpenCV__30">
     </a>
     3. OpenCV 实现
    </h3>
    <pre><code class="prism language-python"><span class="token keyword">import</span> cv2
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

<span class="token comment">#读取图像并转换为灰度图</span>
image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"image.jpg"</span><span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>IMREAD_GRAYSCALE<span class="token punctuation">)</span>

<span class="token comment">#计算 LBP 特征</span>
radius <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment"># 邻域半径</span>
n_points <span class="token operator">=</span> <span class="token number">8</span> <span class="token operator">*</span> radius  <span class="token comment"># 邻域像素点数</span>
lbp <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros_like<span class="token punctuation">(</span>image<span class="token punctuation">,</span> dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>radius<span class="token punctuation">,</span> image<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> radius<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>radius<span class="token punctuation">,</span> image<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> radius<span class="token punctuation">)</span><span class="token punctuation">:</span>
        center <span class="token operator">=</span> image<span class="token punctuation">[</span>i<span class="token punctuation">,</span> j<span class="token punctuation">]</span>
        binary <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n_points<span class="token punctuation">)</span><span class="token punctuation">:</span>
            x <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token builtin">int</span><span class="token punctuation">(</span>radius <span class="token operator">*</span> np<span class="token punctuation">.</span>cos<span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>pi <span class="token operator">*</span> k <span class="token operator">/</span> n_points<span class="token punctuation">)</span><span class="token punctuation">)</span>
            y <span class="token operator">=</span> j <span class="token operator">-</span> <span class="token builtin">int</span><span class="token punctuation">(</span>radius <span class="token operator">*</span> np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>pi <span class="token operator">*</span> k <span class="token operator">/</span> n_points<span class="token punctuation">)</span><span class="token punctuation">)</span>
            binary <span class="token operator">|</span><span class="token operator">=</span> <span class="token punctuation">(</span>image<span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> center<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> k
        lbp<span class="token punctuation">[</span>i<span class="token punctuation">,</span> j<span class="token punctuation">]</span> <span class="token operator">=</span> binary

<span class="token comment">#显示 LBP 图像</span>
cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">"LBP Image"</span><span class="token punctuation">,</span> lbp<span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="4__60">
     </a>
     4. 优点
    </h3>
    <blockquote>
     <p>
      <strong>
       计算简单，速度快
      </strong>
      。
      <br/>
      对
      <strong>
       光照变化具有一定的鲁棒性
      </strong>
      。
     </p>
    </blockquote>
    <h3>
     <a id="5__64">
     </a>
     5. 缺点
    </h3>
    <blockquote>
     <p>
      对
      <strong>
       噪声敏感。
      </strong>
      <br/>
      <strong>
       仅适用于局部纹理描述
      </strong>
      。
     </p>
    </blockquote>
    <h2>
     <a id="Hu_68">
     </a>
     二、形状特征：Hu矩
    </h2>
    <h3>
     <a id="1_Hu_69">
     </a>
     1. Hu矩简介
    </h3>
    <p>
     Hu矩是一种
     <strong>
      基于图像几何矩的形状特征
     </strong>
     ，具有
     <strong>
      平移、旋转和缩放不变性
     </strong>
     。它通过计算图像的
     <strong>
      七个不变矩来描述图像的形状特征
     </strong>
     。
    </p>
    <h3>
     <a id="2_Hu_72">
     </a>
     2. Hu矩计算步骤
    </h3>
    <blockquote>
     <p>
      计算图像的
      <strong>
       几何矩
      </strong>
      。
      <br/>
      计算
      <strong>
       中心矩
      </strong>
      。
      <br/>
      <strong>
       归一化中心矩
      </strong>
      。
      <br/>
      计算
      <strong>
       七个 Hu 不变矩
      </strong>
      。
     </p>
    </blockquote>
    <h3>
     <a id="3_OpenCV__78">
     </a>
     3. OpenCV 实现
    </h3>
    <pre><code class="prism language-python"><span class="token keyword">import</span> cv2

<span class="token comment">#读取图像并转换为灰度图</span>
image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"image.jpg"</span><span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>IMREAD_GRAYSCALE<span class="token punctuation">)</span>

<span class="token comment">#二值化图像</span>
_<span class="token punctuation">,</span> binary <span class="token operator">=</span> cv2<span class="token punctuation">.</span>threshold<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>THRESH_BINARY<span class="token punctuation">)</span>

<span class="token comment">#计算 Hu 矩</span>
moments <span class="token operator">=</span> cv2<span class="token punctuation">.</span>moments<span class="token punctuation">(</span>binary<span class="token punctuation">)</span>
hu_moments <span class="token operator">=</span> cv2<span class="token punctuation">.</span>HuMoments<span class="token punctuation">(</span>moments<span class="token punctuation">)</span>

<span class="token comment">#打印 Hu 矩</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Hu Moments:"</span><span class="token punctuation">,</span> hu_moments<span class="token punctuation">.</span>flatten<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="4__97">
     </a>
     4. 优点
    </h3>
    <blockquote>
     <p>
      具有
      <strong>
       平移、旋转和缩放不变性
      </strong>
      。
      <br/>
      适用于
      <strong>
       形状描述。
      </strong>
     </p>
    </blockquote>
    <h3>
     <a id="5__101">
     </a>
     5. 缺点
    </h3>
    <blockquote>
     <p>
      对
      <strong>
       噪声敏感。
      </strong>
      <br/>
      仅适用于
      <strong>
       全局形状描述。
      </strong>
     </p>
    </blockquote>
    <h2>
     <a id="_105">
     </a>
     三、其他可用于传统机器学习的特征
    </h2>
    <h3>
     <a id="1__106">
     </a>
     1. 颜色特征
    </h3>
    <h4>
     <a id="_107">
     </a>
     颜色直方图
    </h4>
    <p>
     颜色直方图：描述图像中颜色的分布。
    </p>
    <pre><code class="prism language-python">hist <span class="token operator">=</span> cv2<span class="token punctuation">.</span>calcHist<span class="token punctuation">(</span><span class="token punctuation">[</span>image<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">256</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

</code></pre>
    <h4>
     <a id="_113">
     </a>
     颜色矩
    </h4>
    <p>
     颜色矩：计算图像颜色的
     <strong>
      均值、方差和偏度
     </strong>
     。
    </p>
    <h3>
     <a id="2__116">
     </a>
     2. 边缘特征
    </h3>
    <h4>
     <a id="Canny_117">
     </a>
     Canny边缘检测
    </h4>
    <p>
     Canny 边缘检测：
     <strong>
      提取图像的边缘信息。
     </strong>
    </p>
    <pre><code class="prism language-python">edges <span class="token operator">=</span> cv2<span class="token punctuation">.</span>Canny<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
</code></pre>
    <h4>
     <a id="HOG_123">
     </a>
     HOG（方向梯度直方图）
    </h4>
    <p>
     HOG（
     <strong>
      方向梯度直方图
     </strong>
     ）：描述图像的
     <strong>
      局部形状和外观
     </strong>
     。
    </p>
    <pre><code class="prism language-python">hog <span class="token operator">=</span> cv2<span class="token punctuation">.</span>HOGDescriptor<span class="token punctuation">(</span><span class="token punctuation">)</span>
features <span class="token operator">=</span> hog<span class="token punctuation">.</span>compute<span class="token punctuation">(</span>image<span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="3__131">
     </a>
     3. 关键点特征
    </h3>
    <h4>
     <a id="SIFT_132">
     </a>
     SIFT
    </h4>
    <p>
     SIFT：检测图像的
     <strong>
      关键点并计算描述符。
     </strong>
    </p>
    <pre><code class="prism language-python">sift <span class="token operator">=</span> cv2<span class="token punctuation">.</span>SIFT_create<span class="token punctuation">(</span><span class="token punctuation">)</span>
keypoints<span class="token punctuation">,</span> descriptors <span class="token operator">=</span> sift<span class="token punctuation">.</span>detectAndCompute<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>
</code></pre>
    <h4>
     <a id="SURF_140">
     </a>
     SURF
    </h4>
    <p>
     SURF：类似于 SIFT，但
     <strong>
      计算速度更快。
     </strong>
    </p>
    <pre><code class="prism language-python">surf <span class="token operator">=</span> cv2<span class="token punctuation">.</span>xfeatures2d<span class="token punctuation">.</span>SURF_create<span class="token punctuation">(</span><span class="token punctuation">)</span>
keypoints<span class="token punctuation">,</span> descriptors <span class="token operator">=</span> surf<span class="token punctuation">.</span>detectAndCompute<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="4__148">
     </a>
     4. 纹理特征
    </h3>
    <h4>
     <a id="Haralick_150">
     </a>
     Haralick纹理特征
    </h4>
    <p>
     Haralick 纹理特征：基于**灰度共生矩阵（GLCM）**计算纹理特征。
    </p>
    <pre><code class="prism language-python"><span class="token keyword">from</span> skimage<span class="token punctuation">.</span>feature <span class="token keyword">import</span> graycomatrix<span class="token punctuation">,</span> graycoprops
glcm <span class="token operator">=</span> graycomatrix<span class="token punctuation">(</span>image<span class="token punctuation">,</span> distances<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> angles<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> levels<span class="token operator">=</span><span class="token number">256</span><span class="token punctuation">,</span> symmetric<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> normed<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
contrast <span class="token operator">=</span> graycoprops<span class="token punctuation">(</span>glcm<span class="token punctuation">,</span> <span class="token string">'contrast'</span><span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="5__159">
     </a>
     5. 几何特征
    </h3>
    <h4>
     <a id="_160">
     </a>
     轮廓特征
    </h4>
    <p>
     轮廓特征：提取图像中
     <strong>
      物体的轮廓信息。
     </strong>
    </p>
    <pre><code class="prism language-python">contours<span class="token punctuation">,</span> _ <span class="token operator">=</span> cv2<span class="token punctuation">.</span>findContours<span class="token punctuation">(</span>binary<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>RETR_EXTERNAL<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>CHAIN_APPROX_SIMPLE<span class="token punctuation">)</span>
<span class="token keyword">for</span> contour <span class="token keyword">in</span> contours<span class="token punctuation">:</span>
    area <span class="token operator">=</span> cv2<span class="token punctuation">.</span>contourArea<span class="token punctuation">(</span>contour<span class="token punctuation">)</span>
    perimeter <span class="token operator">=</span> cv2<span class="token punctuation">.</span>arcLength<span class="token punctuation">(</span>contour<span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre>
    <h2>
     <a id="_170">
     </a>
     四、总结
    </h2>
    <h3>
     <a id="1_LBP_171">
     </a>
     1. LBP
    </h3>
    <p>
     用于
     <strong>
      局部纹理描述。
     </strong>
     <br/>
     计算简单，但对
     <strong>
      噪声敏感。
     </strong>
    </p>
    <h3>
     <a id="2_Hu_175">
     </a>
     2. Hu矩
    </h3>
    <p>
     用于
     <strong>
      全局形状描述。
     </strong>
     <br/>
     具有
     <strong>
      平移、旋转和缩放不变性
     </strong>
     。
    </p>
    <h3>
     <a id="3__179">
     </a>
     3. 其他特征
    </h3>
    <p>
     <strong>
      颜色特征、边缘特征、关键点特征、纹理特征和几何特征
     </strong>
     均可用于传统机器学习任务。
    </p>
    <p>
     根据具体
     <strong>
      任务选择合适的特征组合
     </strong>
     。
     <br/>
     通过结合多种特征，可以提
     <strong>
      高传统机器学习模型在图像任务中的性能
     </strong>
     。
    </p>
    <hr/>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330315f37393535363430322f:61727469636c652f64657461696c732f313436313139393136" class_="artid" style="display:none">
 </p>
</div>


