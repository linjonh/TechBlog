---
layout: post
title: Luceneå’ŒSolrå’ŒElasticsearchåŒºåˆ«,å…¨æ–‡æ£€ç´¢å¼•æ“å·¥å…·åŒ…Luceneç´¢å¼•æµç¨‹å’Œæœç´¢æµç¨‹å®æ“
date: 2023-05-06 11:21:59 +0800
categories: ['ğŸ±ä¸»æµæ¡†æ¶']
tags: ['å…¨æ–‡æ£€ç´¢', 'Lucene', 'Elasticsearch']
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=130523033
    alt: Luceneå’ŒSolrå’ŒElasticsearchåŒºåˆ«,å…¨æ–‡æ£€ç´¢å¼•æ“å·¥å…·åŒ…Luceneç´¢å¼•æµç¨‹å’Œæœç´¢æµç¨‹å®æ“
artid: 130523033
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=130523033
featuredImagePreview: https://bing.ee123.net/img/rand?artid=130523033
---

# Luceneå’ŒSolrå’ŒElasticsearchåŒºåˆ«ï¼Œå…¨æ–‡æ£€ç´¢å¼•æ“å·¥å…·åŒ…Luceneç´¢å¼•æµç¨‹å’Œæœç´¢æµç¨‹å®æ“

#### æ–‡ç« ç›®å½•

* [åŸºæœ¬æ¦‚å¿µ](#_1)
* + [ä»€ä¹ˆæ˜¯å…¨æ–‡æ£€ç´¢æŠ€æœ¯](#_2)
  + [å…¨æ–‡æ£€ç´¢çš„åº”ç”¨åœºæ™¯](#_20)
  + - [æœç´¢å¼•æ“](#_21)
    - [ç«™å†…æœç´¢ï¼ˆå…³æ³¨ï¼‰](#_24)
    - [æ–‡ä»¶ç³»ç»Ÿçš„æœç´¢](#_27)
  + [Lucene & solr & es](#Lucene__solr__es_29)
  + - [ä»‹ç»](#_30)
    - [åŒºåˆ«](#_44)
    - * [Solrä¸Luceneå¯¹æ¯”](#SolrLucene_45)
      * [ESä¸Luceneçš„åŒºåˆ«](#ESLucene_48)
      * [ESä¸Solrå¯¹æ¯”](#ESSolr_55)
* [Luceneå®ç°å…¨æ–‡æ£€ç´¢çš„æµç¨‹](#Lucene_62)
* [å…¥é—¨ç¨‹åº](#_70)
* + [éœ€æ±‚](#_71)
  + [ç¯å¢ƒå‡†å¤‡](#_73)
  + - [æ•°æ®åº“è„šæœ¬åˆå§‹åŒ–](#_77)
    - [Luceneä¸‹è½½](#Lucene_92)
  + [å·¥ç¨‹æ­å»º](#_97)
  + [ç´¢å¼•æµç¨‹](#_136)
  + - [ä¸ºä»€ä¹ˆé‡‡é›†æ•°æ®](#_137)
    - [é‡‡é›†æ•°æ®çš„æ–¹å¼](#_140)
    - * [ç½‘é¡µçˆ¬è™«é‡‡é›†](#_145)
      * [æ•°æ®åº“é‡‡é›†](#_151)
    - [ç´¢å¼•æ–‡ä»¶çš„é€»è¾‘ç»“æ„](#_154)
    - [é‡‡é›†æ•°æ®](#_172)
    - [åˆ›å»ºç´¢å¼•](#_226)
    - * [åˆ›å»ºDocument](#Document_231)
      * [åˆ†è¯](#_290)
      * [ä½¿ç”¨lukeå·¥å…·æŸ¥çœ‹ç´¢å¼•](#luke_397)
  + [æœç´¢æµç¨‹](#_407)
  + - [è¾“å…¥æŸ¥è¯¢è¯­å¥](#_418)
    - [æœç´¢ç´¢å¼•](#_427)

## åŸºæœ¬æ¦‚å¿µ

### ä»€ä¹ˆæ˜¯å…¨æ–‡æ£€ç´¢æŠ€æœ¯

æˆ‘ä»¬ç”Ÿæ´»ä¸­çš„æ•°æ®æ€»ä½“åˆ†ä¸ºä¸¤ç§ï¼š
**ç»“æ„åŒ–æ•°æ®å’Œéç»“æ„åŒ–æ•°æ®**
ã€‚

* **ç»“æ„åŒ–æ•°æ®**
  ï¼šæŒ‡å…·æœ‰å›ºå®šæ ¼å¼æˆ–æœ‰é™é•¿åº¦çš„æ•°æ®ï¼Œå¦‚æ•°æ®åº“ï¼Œå…ƒæ•°æ®ç­‰ã€‚
* **éç»“æ„åŒ–æ•°æ®**
  ï¼šæŒ‡ä¸å®šé•¿æˆ–æ— å›ºå®šæ ¼å¼çš„æ•°æ®ï¼Œå¦‚ äº’è”ç½‘æ•°æ®ã€é‚®ä»¶ï¼Œwordæ–‡æ¡£ç­‰ã€‚
  **éç»“æ„åŒ–æ•°æ®åˆæœ‰ä¸€ç§å«æ³•å«å…¨æ–‡æ•°æ®**

æŒ‰ç…§æ•°æ®çš„åˆ†ç±»ï¼Œæœç´¢ä¹Ÿåˆ†ä¸ºä¸¤ç§ï¼š

* **å¯¹ç»“æ„åŒ–æ•°æ®çš„æœç´¢ï¼š**
  å¦‚å¯¹æ•°æ®åº“çš„æœç´¢ï¼Œç”¨SQLè¯­å¥ã€‚å†å¦‚å¯¹å…ƒæ•°æ®çš„æœç´¢ï¼Œå¦‚åˆ©ç”¨windowsæœç´¢å¯¹æ–‡ä»¶åï¼Œç±»å‹ï¼Œä¿®æ”¹æ—¶é—´è¿›è¡Œæœç´¢ç­‰ã€‚
* **å¯¹éç»“æ„åŒ–æ•°æ®çš„æœç´¢ï¼š**
  å¦‚ç”¨Googleå’Œç™¾åº¦å¯ä»¥æœç´¢å¤§é‡å†…å®¹æ•°æ®ã€‚

å¯¹éç»“æ„åŒ–æ•°æ®ä¹Ÿå³å…¨æ–‡æ•°æ®çš„æœç´¢ä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•ï¼š
**é¡ºåºæ‰«ææ³•å’Œåå‘ç´¢å¼•æ³•**
ã€‚

* \*\*é¡ºåºæ‰«ææ³•ï¼š\*\*æ‰€è°“é¡ºåºæ‰«ææ³•ï¼Œå°±æ˜¯é¡ºåºæ‰«ææ¯ä¸ªæ–‡æ¡£å†…å®¹ï¼Œçœ‹çœ‹æ˜¯å¦æœ‰è¦æœç´¢çš„å…³é”®å­—ï¼Œå®ç°æŸ¥æ‰¾æ–‡æ¡£çš„ åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯æ ¹æ®æ–‡æ¡£æ‰¾è¯ã€‚
* \*\*åå‘ç´¢å¼•æ³•ï¼š\*\*æ‰€è°“åå‘ç´¢å¼•ï¼Œå°±æ˜¯æå‰å°†æœç´¢çš„å…³é”®å­—å»ºæˆç´¢å¼•ï¼Œç„¶åå†æ ¹æ®ç´¢å¼•æŸ¥æ‰¾æ–‡æ¡£ï¼Œä¹Ÿå°±æ˜¯æ ¹æ®è¯ æ‰¾æ–‡æ¡£ã€‚

å…¨æ–‡æ£€ç´¢é¦–å…ˆå¯¹è¦æœç´¢çš„æ–‡æ¡£è¿›è¡Œåˆ†è¯ï¼Œç„¶åå½¢æˆç´¢å¼•ï¼Œé€šè¿‡æŸ¥è¯¢ç´¢å¼•æ¥æŸ¥è¯¢æ–‡æ¡£ã€‚
**è¿™ç§å…ˆå»ºç«‹ ç´¢å¼• ï¼Œå†å¯¹ç´¢å¼•è¿›è¡Œ æœç´¢æ–‡æ¡£çš„è¿‡ç¨‹å°±å« å…¨æ–‡æ£€ç´¢(Full-text Search) ã€‚**

### å…¨æ–‡æ£€ç´¢çš„åº”ç”¨åœºæ™¯

#### æœç´¢å¼•æ“

å¦‚ç”¨Googleå’Œç™¾åº¦å¯ä»¥æœç´¢å¤§é‡å†…å®¹æ•°æ®ã€‚
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/f54019eda9c4ba2f9da4f4de6eeb0804.png)

#### ç«™å†…æœç´¢ï¼ˆå…³æ³¨ï¼‰

äº¬ä¸œã€æ·˜å®ç­‰è´­ç‰©ç½‘ç«™çš„ç«™å†…æœç´¢ã€‚
  
![image.png](https://img-blog.csdnimg.cn/img_convert/56231512160cfeede0b352cea96be4f5.png#averageHue=#f8f0ef&clientId=u16a90a34-671b-4&from=paste&height=133&id=u23e4e608&originHeight=166&originWidth=1016&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=29223&status=done&style=none&taskId=uef613889-7eb9-4768-ba6f-96a6bf9473b&title=&width=812.8)

#### æ–‡ä»¶ç³»ç»Ÿçš„æœç´¢

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/acfeef789a5901044399f8b2c48f6114.png)

### Lucene & solr & es

#### ä»‹ç»

* Lucene

Luceneæ˜¯apacheä¸‹çš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œæ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç çš„å…¨æ–‡æ£€ç´¢å¼•æ“å·¥å…·åŒ…ï¼Œä½†å®ƒä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„å…¨æ–‡æ£€ç´¢å¼•æ“ï¼Œè€Œæ˜¯ä¸€ä¸ªå…¨æ–‡æ£€ç´¢å¼•æ“çš„æ¶æ„ï¼Œæä¾›äº†å®Œæ•´çš„æŸ¥è¯¢å¼•æ“å’Œç´¢å¼•å¼•æ“ï¼Œéƒ¨åˆ†æ–‡æœ¬åˆ†æå¼•æ“ã€‚Luceneæ˜¯ä¸€ä¸ªå·¥å…·åŒ…ï¼Œå®ƒä¸èƒ½ç‹¬ç«‹è¿è¡Œï¼Œä¸èƒ½å•ç‹¬å¯¹å¤–æä¾›æœåŠ¡ã€‚æœç´¢å¼•æ“å¯ä»¥ç‹¬ç«‹è¿è¡Œå¯¹å¤–æä¾›æœç´¢æœåŠ¡ã€‚å®˜ç½‘åœ°å€ï¼š
<https://lucene.apache.org/>

* Solr

Solræ˜¯ä¸€ä¸ªé«˜æ€§èƒ½ï¼Œé‡‡ç”¨Java5å¼€å‘ï¼Œ
**åŸºäºLuceneçš„å…¨æ–‡æœç´¢æœåŠ¡å™¨**
ã€‚åŒæ—¶å¯¹å…¶è¿›è¡Œäº†æ‰©å±•ï¼Œæä¾›äº†æ¯”Luceneæ›´ä¸ºä¸°å¯Œçš„æŸ¥è¯¢è¯­è¨€ï¼ŒåŒæ—¶å®ç°äº†å¯é…ç½®ã€å¯æ‰©å±•å¹¶å¯¹æŸ¥è¯¢æ€§èƒ½è¿›è¡Œäº†ä¼˜åŒ–ï¼Œå¹¶ä¸”æä¾›äº†ä¸€ä¸ªå®Œå–„çš„åŠŸèƒ½ç®¡ç†ç•Œé¢ï¼Œæ˜¯ä¸€æ¬¾éå¸¸ä¼˜ç§€çš„å…¨æ–‡æœç´¢å¼•æ“ã€‚å®˜ç½‘åœ°å€ï¼š
<http://lucene.apache.org/solr/>

* Elasticsearch

Elasticsearchè·ŸSolrä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸€ä¸ª
**åŸºäºLuceneçš„æœç´¢æœåŠ¡å™¨**
ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªåˆ†å¸ƒå¼å¤šç”¨æˆ·èƒ½åŠ›çš„å…¨æ–‡æœç´¢å¼•æ“ï¼ŒåŸºäºRESTful webæ¥å£ï¼ŒElasticsearchæ˜¯ç”¨Javaå¼€å‘å¹¶ä¸”æ˜¯å½“å‰æœ€æµè¡Œçš„å¼€æºçš„ä¼ä¸šçº§æœç´¢å¼•æ“ï¼Œæ”¯æŒå¤šç§è¯­è¨€ã€‚å®˜ç½‘åœ°å€ï¼š
<https://www.elastic.co/products/elasticsearch>

#### åŒºåˆ«

##### Solrä¸Luceneå¯¹æ¯”

Luceneæ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç çš„å…¨æ–‡æ£€ç´¢å¼•æ“å·¥å…·åŒ…ï¼Œå®ƒä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„å…¨æ–‡æ£€ç´¢å¼•æ“ï¼ŒLuceneæä¾›äº†å®Œæ•´çš„æŸ¥è¯¢å¼•æ“å’Œç´¢å¼•å¼•æ“ï¼Œç›®çš„æ˜¯ä¸ºè½¯ä»¶å¼€å‘äººå‘˜æä¾›ä¸€ä¸ªç®€å•æ˜“ç”¨çš„å·¥å…·åŒ…ï¼Œä»¥æ–¹ä¾¿çš„åœ¨ç›®æ ‡ç³»ç»Ÿä¸­å®ç°å…¨æ–‡æ£€ç´¢çš„åŠŸèƒ½ï¼Œæˆ–è€…ä»¥Luceneä¸ºåŸºç¡€æ„å»ºå…¨æ–‡æ£€ç´¢å¼•æ“ã€‚
  
Solrçš„ç›®æ ‡æ˜¯æ‰“é€ ä¸€æ¬¾ä¼ä¸šçº§çš„æœç´¢å¼•æ“ç³»ç»Ÿï¼Œå®ƒæ˜¯ä¸€ä¸ªæœç´¢å¼•æ“æœåŠ¡ï¼Œå¯ä»¥ç‹¬ç«‹è¿è¡Œï¼Œé€šè¿‡Solrå¯ä»¥éå¸¸å¿«é€Ÿçš„æ„å»ºä¼ä¸šçš„æœç´¢å¼•æ“ï¼Œé€šè¿‡Solrä¹Ÿå¯ä»¥é«˜æ•ˆçš„å®Œæˆç«™å†…æœç´¢åŠŸèƒ½ã€‚

##### ESä¸Luceneçš„åŒºåˆ«

Luceneï¼Œå¿…é¡»ä½¿ç”¨Javaæ¥ä½œä¸ºå¼€å‘è¯­è¨€å¹¶å°†å…¶ç›´æ¥é›†æˆåˆ°ä½ çš„åº”ç”¨ä¸­ï¼Œå¹¶ä¸”Luceneçš„é…ç½®åŠä½¿ç”¨éå¸¸å¤æ‚ï¼Œä½ éœ€è¦æ·±å…¥äº†è§£æ£€ç´¢çš„ç›¸å…³çŸ¥è¯†æ¥ç†è§£å®ƒ æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚luceneæœ‰å¾ˆå¤šç¼ºé™·ï¼Œeså¹¶ä¸å­˜åœ¨ã€‚

* åªèƒ½åœ¨Javaé¡¹ç›®ä¸­ä½¿ç”¨,å¹¶ä¸”è¦ä»¥jaråŒ…çš„æ–¹å¼ç›´æ¥é›†æˆé¡¹ç›®ä¸­
* ä½¿ç”¨éå¸¸å¤æ‚-åˆ›å»ºç´¢å¼•å’Œæœç´¢ç´¢å¼•ä»£ç ç¹æ‚
* ä¸æ”¯æŒé›†ç¾¤ç¯å¢ƒ-ç´¢å¼•æ•°æ®ä¸åŒæ­¥ï¼ˆä¸æ”¯æŒå¤§å‹é¡¹ç›®ï¼‰
* ç´¢å¼•æ•°æ®å¦‚æœå¤ªå¤šå°±ä¸è¡Œï¼Œç´¢å¼•åº“å’Œåº”ç”¨æ‰€åœ¨åŒä¸€ä¸ªæœåŠ¡å™¨,å…±åŒå ç”¨ç¡¬ ç›˜.å…±ç”¨ç©ºé—´å°‘.

##### ESä¸Solrå¯¹æ¯”

* å•çº¯å¯¹å·²æœ‰æ•°æ®è¿›è¡Œæœç´¢æ—¶ï¼Œsolræ›´å¿«ï¼›ä½†æ˜¯å®æ—¶ç®€å†ç´¢å¼•æ—¶ï¼Œsolrä¼šäº§ç”Ÿioé˜»å¡ï¼ŒæŸ¥è¯¢æ€§èƒ½è¾ƒå·®ã€‚è€Œesä¸ä¼š
* solråˆ©ç”¨zkè¿›è¡Œåˆ†å¸ƒå¼ç®¡ç†ï¼Œè€Œesè‡ªèº«å¸¦æœ‰åˆ†å¸ƒå¼åè°ƒç®¡ç†åŠŸèƒ½ã€‚
* solræ”¯æŒæ›´å¤šçš„æ•°æ®æ ¼å¼ï¼Œå¦‚jsonã€xmlã€csvç­‰ï¼Œè€Œesä»…æ”¯æŒjsonæ–‡ä»¶æ ¼å¼
* solråœ¨ä¼ ç»Ÿçš„æœç´¢åº”ç”¨ä¸­è¡¨ç°å¥½äºesï¼Œä½†åœ¨å¤„ç†å®æ—¶æœç´¢åº”ç”¨æ—¶æ•ˆç‡æ˜æ˜¾ä½äºesã€‚

## Luceneå®ç°å…¨æ–‡æ£€ç´¢çš„æµç¨‹

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/d8f107617b705a4f93217fd62409b63b.png)
  
å…¨æ–‡æ£€ç´¢çš„æµç¨‹ï¼šç´¢å¼•æµç¨‹ã€æœç´¢æµç¨‹

**ç´¢å¼•æµç¨‹**
ï¼šé‡‡é›†æ•°æ®â€”ã€‹æ–‡æ¡£å¤„ç†Ã å­˜å‚¨åˆ°ç´¢å¼•åº“ä¸­
  
**æœç´¢æµç¨‹**
ï¼šè¾“å…¥æŸ¥è¯¢æ¡ä»¶â€”ã€‹é€šè¿‡luceneçš„æŸ¥è¯¢å™¨æŸ¥è¯¢ç´¢å¼•â€”ã€‹ä»ç´¢å¼•åº“ä¸­å–å‡ºç»“â€”ã€‹è§†å›¾æ¸²æŸ“
  
PSï¼šLuceneæœ¬èº«ä¸èƒ½è¿›è¡Œè§†å›¾æ¸²æŸ“ã€‚

## å…¥é—¨ç¨‹åº

### éœ€æ±‚

ä½¿ç”¨luceneå®Œæˆå¯¹æ•°æ®åº“ä¸­å›¾ä¹¦ä¿¡æ¯çš„ç´¢å¼•å’Œæœç´¢åŠŸèƒ½ã€‚

### ç¯å¢ƒå‡†å¤‡

Jdkï¼š1.7åŠä»¥ä¸Š
  
Luceneï¼š9.4.2
  
æ•°æ®åº“ï¼šmysql 5.7

#### æ•°æ®åº“è„šæœ¬åˆå§‹åŒ–

```sql
create table `book` (
	`id` int (11),
	`name` varchar (192),
	`price` float ,
	`pic` varchar (96),
	`description` text 
); 
insert into `book` (`id`, `name`, `price`, `pic`, `description`) values('1','java ç¼–ç¨‹æ€æƒ³','71.5','23488292934.jpg','ä½œè€…ç®€ä»‹ã€€ã€€Bruce Eckelï¼Œæ˜¯MindViewå…¬å¸çš„æ€»è£ï¼Œè¯¥å…¬å¸å‘å®¢æˆ·æä¾›è½¯ä»¶å’¨è¯¢å’ŒåŸ¹è®­ã€‚ä»–æ˜¯C++æ ‡å‡†å§”å‘˜ä¼šæ‹¥æœ‰è¡¨å†³æƒçš„æˆå‘˜ä¹‹ä¸€ï¼Œæ‹¥æœ‰åº”ç”¨ç‰©ç†å­¦å­¦å£«å’Œè®¡ç®—æœºå·¥ç¨‹ç¡•å£«å­¦ä½ã€‚é™¤æœ¬ä¹¦å¤–ï¼Œä»–è¿˜æ˜¯ã€ŠC++ç¼–ç¨‹æ€æƒ³ã€‹çš„ä½œè€…ï¼Œå¹¶ä¸äººåˆè‘—äº†ã€ŠC++ç¼–ç¨‹æ€æƒ³ç¬¬2å·ã€‹ã€‚\r\n\r\nã€Šè®¡ç®—æœºç§‘å­¦ä¸›ä¹¦ï¼šJavaç¼–ç¨‹æ€æƒ³ï¼ˆç¬¬4ç‰ˆï¼‰ã€‹èµ¢å¾—äº†å…¨çƒç¨‹åºå‘˜çš„å¹¿æ³›èµèª‰ï¼Œå³ä½¿æ˜¯æœ€æ™¦æ¶©çš„æ¦‚å¿µï¼Œåœ¨BruceEckelçš„æ–‡å­—äº²å’ŒåŠ›å’Œå°è€Œç›´æ¥çš„ç¼–ç¨‹ç¤ºä¾‹é¢å‰ä¹Ÿä¼šåŒ–è§£äºæ— å½¢ã€‚ä»Javaçš„åŸºç¡€è¯­æ³•åˆ°æœ€é«˜çº§ç‰¹æ€§ï¼ˆæ·±å…¥çš„é¢å‘å¯¹è±¡æ¦‚å¿µã€å¤šçº¿ç¨‹ã€è‡ªåŠ¨é¡¹ç›®æ„å»ºã€å•å…ƒæµ‹è¯•å’Œè°ƒè¯•ç­‰ï¼‰ï¼Œæœ¬ä¹¦éƒ½èƒ½é€æ­¥æŒ‡å¯¼ä½ è½»æ¾æŒæ¡ã€‚\r\nã€€ã€€ä»ã€Šè®¡ç®—æœºç§‘å­¦ä¸›ä¹¦ï¼šJavaç¼–ç¨‹æ€æƒ³ï¼ˆç¬¬4ç‰ˆï¼‰ã€‹è·å¾—çš„å„é¡¹å¤§å¥–ä»¥åŠæ¥è‡ªä¸–ç•Œå„åœ°çš„è¯»è€…è¯„è®ºä¸­ï¼Œä¸éš¾çœ‹å‡ºè¿™æ˜¯ä¸€æœ¬ç»å…¸ä¹‹ä½œã€‚æœ¬ä¹¦çš„ä½œè€…æ‹¥æœ‰å¤šå¹´æ•™å­¦ç»éªŒï¼Œå¯¹Cã€C++ä»¥åŠJavaè¯­è¨€éƒ½æœ‰ç‹¬åˆ°ã€æ·±å…¥çš„è§è§£ï¼Œä»¥é€šä¿—æ˜“æ‡‚åŠå°è€Œç›´æ¥çš„ç¤ºä¾‹è§£é‡Šäº†ä¸€ä¸ªä¸ªæ™¦æ¶©æŠ½è±¡çš„æ¦‚å¿µã€‚æœ¬ä¹¦å…±22ç« ï¼ŒåŒ…æ‹¬æ“ä½œç¬¦ã€æ§åˆ¶æ‰§è¡Œæµç¨‹ã€è®¿é—®æƒé™æ§åˆ¶ã€å¤ç”¨ç±»ã€å¤šæ€ã€æ¥å£ã€é€šè¿‡å¼‚å¸¸å¤„ç†é”™è¯¯ã€å­—ç¬¦ä¸²ã€æ³›å‹ã€æ•°ç»„ã€å®¹å™¨æ·±å…¥ç ”ç©¶ã€JavaI/Oç³»ç»Ÿã€æšä¸¾ç±»å‹ã€å¹¶å‘ä»¥åŠå›¾å½¢åŒ–ç”¨æˆ·ç•Œé¢ç­‰å†…å®¹ã€‚è¿™äº›ä¸°å¯Œçš„å†…å®¹ï¼ŒåŒ…å«äº†Javaè¯­è¨€åŸºç¡€è¯­æ³•ä»¥åŠé«˜çº§ç‰¹æ€§ï¼Œé€‚åˆå„ä¸ªå±‚æ¬¡çš„Javaç¨‹åºå‘˜é˜…è¯»ï¼ŒåŒæ—¶ä¹Ÿæ˜¯é«˜ç­‰é™¢æ ¡è®²æˆé¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡è¯­è¨€ä»¥åŠJavaè¯­è¨€çš„ç»ä½³æ•™æå’Œå‚è€ƒä¹¦ã€‚\r\nã€€ã€€ã€Šè®¡ç®—æœºç§‘å­¦ä¸›ä¹¦ï¼šJavaç¼–ç¨‹æ€æƒ³ï¼ˆç¬¬4ç‰ˆï¼‰ã€‹ç‰¹ç‚¹ï¼š\r\nã€€ã€€é€‚åˆåˆå­¦è€…ä¸ä¸“ä¸šäººå‘˜çš„ç»å…¸çš„é¢å‘å¯¹è±¡å™è¿°æ–¹å¼ï¼Œä¸ºæ›´æ–°çš„JavaSE5/6å¢åŠ äº†æ–°çš„ç¤ºä¾‹å’Œç« èŠ‚ã€‚\r\nã€€ã€€æµ‹éªŒæ¡†æ¶æ˜¾ç¤ºç¨‹åºè¾“å‡ºã€‚\r\nã€€ã€€è®¾è®¡æ¨¡å¼è´¯ç©¿äºä¼—å¤šç¤ºä¾‹ä¸­ï¼šé€‚é…å™¨ã€æ¡¥æ¥å™¨ã€èŒè´£é“¾ã€å‘½ä»¤ã€è£…é¥°å™¨ã€å¤–è§‚ã€å·¥å‚æ–¹æ³•ã€äº«å…ƒã€ç‚¹åã€æ•°æ®ä¼ è¾“å¯¹è±¡ã€ç©ºå¯¹è±¡ã€ä»£ç†ã€å•ä¾‹ã€çŠ¶æ€ã€ç­–ç•¥ã€æ¨¡æ¿æ–¹æ³•ä»¥åŠè®¿é—®è€…ã€‚\r\nã€€ã€€ä¸ºæ•°æ®ä¼ è¾“å¼•å…¥äº†XMLï¼Œä¸ºç”¨æˆ·ç•Œé¢å¼•å…¥äº†SWTå’ŒFlashã€‚\r\nã€€ã€€é‡æ–°æ’°å†™äº†æœ‰å…³å¹¶å‘çš„ç« èŠ‚ï¼Œæœ‰åŠ©äºè¯»è€…æŒæ¡çº¿ç¨‹çš„ç›¸å…³çŸ¥è¯†ã€‚\r\nã€€ã€€ä¸“é—¨ä¸ºç¬¬4ç‰ˆä»¥åŠJavaSE5/6é‡å†™äº†700å¤šä¸ªç¼–è¯‘æ–‡ä»¶ä¸­çš„500å¤šä¸ªç¨‹åºã€‚\r\nã€€ã€€æ”¯æŒç½‘ç«™åŒ…å«äº†æ‰€æœ‰æºä»£ç ã€å¸¦æ³¨è§£çš„è§£å†³æ–¹æ¡ˆæŒ‡å—ã€ç½‘ç»œæ—¥å¿—ä»¥åŠå¤šåª’ä½“å­¦ä¹ èµ„æ–™ã€‚\r\nã€€ã€€è¦†ç›–äº†æ‰€æœ‰åŸºç¡€çŸ¥è¯†ï¼ŒåŒæ—¶è®ºè¿°äº†é«˜çº§ç‰¹æ€§ã€‚\r\nã€€ã€€è¯¦ç»†åœ°é˜è¿°äº†é¢å‘å¯¹è±¡åŸç†ã€‚\r\nã€€ã€€åœ¨çº¿å¯è·å¾—Javaè®²åº§CDï¼Œå…¶ä¸­åŒ…å«BruceEckelçš„å…¨éƒ¨å¤šåª’ä½“è®²åº§ã€‚\r\nã€€ã€€åœ¨ç½‘ç«™ä¸Šå¯ä»¥è§‚çœ‹ç°åœºè®²åº§ã€å’¨è¯¢å’Œè¯„è®ºã€‚\r\nã€€ã€€ä¸“é—¨ä¸ºç¬¬4ç‰ˆä»¥åŠJavaSE5/6é‡å†™äº†700å¤šä¸ªç¼–è¯‘æ–‡ä»¶ä¸­çš„500å¤šä¸ªç¨‹åºã€‚\r\nã€€ã€€æ”¯æŒç½‘ç«™åŒ…å«äº†æ‰€æœ‰æºä»£ç ã€å¸¦æ³¨è§£çš„è§£å†³æ–¹æ¡ˆæŒ‡å—ã€ç½‘ç»œæ—¥å¿—ä»¥åŠå¤šåª’ä½“å­¦ä¹ èµ„æ–™ã€‚\r\nã€€ã€€è¦†ç›–äº†æ‰€æœ‰åŸºç¡€çŸ¥è¯†ï¼ŒåŒæ—¶è®ºè¿°äº†é«˜çº§ç‰¹æ€§ã€‚\r\nã€€ã€€è¯¦ç»†åœ°é˜è¿°äº†é¢å‘å¯¹è±¡åŸç†ã€‚\r\n\r\n\r\n');
insert into `book` (`id`, `name`, `price`, `pic`, `description`) values('2','apache lucene','66.0','77373773737.jpg','luceneæ˜¯apacheçš„å¼€æºé¡¹ç›®ï¼Œæ˜¯ä¸€ä¸ªå…¨æ–‡æ£€ç´¢çš„å·¥å…·åŒ…ã€‚\r\n# Apache Lucene README file\r\n\r\n## Introduction\r\n\r\nLucene is a Java full-text search engine.  Lucene is not a complete\r\napplication, but rather a code library and API that can easily be used\r\nto add search capabilities to applications.\r\n\r\n * The Lucene web site is at: http://lucene.apache.org/\r\n * Please join the Lucene-User mailing list by sending a message to:\r\n   java-user-subscribe@lucene.apache.org\r\n\r\n## Files in a binary distribution\r\n\r\nFiles are organized by module, for example in core/:\r\n\r\n* `core/lucene-core-XX.jar`:\r\n  The compiled core Lucene library.\r\n\r\nTo review the documentation, read the main documentation page, located at:\r\n`docs/index.html`\r\n\r\nTo build Lucene or its documentation for a source distribution, see BUILD.txt');
insert into `book` (`id`, `name`, `price`, `pic`, `description`) values('3','mybatis','55.0','88272828282.jpg','MyBatisä»‹ç»\r\n\r\nMyBatis æœ¬æ˜¯apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatis, 2010å¹´è¿™ä¸ªé¡¹ç›®ç”±apache software foundation è¿ç§»åˆ°äº†google codeï¼Œå¹¶ä¸”æ”¹åä¸ºMyBatisã€‚ \r\nMyBatisæ˜¯ä¸€ä¸ªä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ï¼Œå®ƒå¯¹jdbcçš„æ“ä½œæ•°æ®åº“çš„è¿‡ç¨‹è¿›è¡Œå°è£…ï¼Œä½¿å¼€å‘è€…åªéœ€è¦å…³æ³¨ SQL æœ¬èº«ï¼Œè€Œä¸éœ€è¦èŠ±è´¹ç²¾åŠ›å»å¤„ç†ä¾‹å¦‚æ³¨å†Œé©±åŠ¨ã€åˆ›å»ºconnectionã€åˆ›å»ºstatementã€æ‰‹åŠ¨è®¾ç½®å‚æ•°ã€ç»“æœé›†æ£€ç´¢ç­‰jdbcç¹æ‚çš„è¿‡ç¨‹ä»£ç ã€‚\r\nMybatisé€šè¿‡xmlæˆ–æ³¨è§£çš„æ–¹å¼å°†è¦æ‰§è¡Œçš„statementé…ç½®èµ·æ¥ï¼Œå¹¶é€šè¿‡javaå¯¹è±¡å’Œstatementä¸­çš„sqlè¿›è¡Œæ˜ å°„ç”Ÿæˆæœ€ç»ˆæ‰§è¡Œçš„sqlè¯­å¥ï¼Œæœ€åç”±mybatisæ¡†æ¶æ‰§è¡Œsqlå¹¶å°†ç»“æœæ˜ å°„æˆjavaå¯¹è±¡å¹¶è¿”å›ã€‚\r\n');
insert into `book` (`id`, `name`, `price`, `pic`, `description`) values('4','spring','56.0','83938383222.jpg','## Spring Framework\r\nspringmvc.txt\r\nThe Spring Framework provides a comprehensive programming and configuration model for modern\r\nJava-based enterprise applications - on any kind of deployment platform. A key element of Spring is\r\ninfrastructural support at the application level: Spring focuses on the \"plumbing\" of enterprise\r\napplications so that teams can focus on application-level business logic, without unnecessary ties\r\nto specific deployment environments.\r\n\r\nThe framework also serves as the foundation for\r\n[Spring Integration](https://github.com/SpringSource/spring-integration),\r\n[Spring Batch](https://github.com/SpringSource/spring-batch) and the rest of the Spring\r\n[family of projects](http://springsource.org/projects). Browse the repositories under the\r\n[SpringSource organization](https://github.com/SpringSource) on GitHub for a full list.\r\n\r\n[.NET](https://github.com/SpringSource/spring-net) and\r\n[Python](https://github.com/SpringSource/spring-python) variants are available as well.\r\n\r\n## Downloading artifacts\r\nInstructions on\r\n[downloading Spring artifacts](https://github.com/SpringSource/spring-framework/wiki/Downloading-Spring-artifacts)\r\nvia Maven and other build systems are available via the project wiki.\r\n\r\n## Documentation\r\nSee the current [Javadoc](http://static.springsource.org/spring-framework/docs/current/api)\r\nand [Reference docs](http://static.springsource.org/spring-framework/docs/current/reference).\r\n\r\n## Getting support\r\nCheck out the [Spring forums](http://forum.springsource.org) and the\r\n[Spring tag](http://stackoverflow.com/questions/tagged/spring) on StackOverflow.\r\n[Commercial support](http://springsource.com/support/springsupport) is available too.\r\n\r\n## Issue Tracking\r\nSpring\'s JIRA issue tracker can be found [here](http://jira.springsource.org/browse/SPR). Think\r\nyou\'ve found a bug? Please consider submitting a reproduction project via the\r\n[spring-framework-issues](https://github.com/springsource/spring-framework-issues) repository. The\r\n[readme](https://github.com/springsource/spring-framework-issues#readme) provides simple\r\nstep-by-step instructions.\r\n\r\n## Building from source\r\nInstructions on\r\n[building Spring from source](https://github.com/SpringSource/spring-framework/wiki/Building-from-source)\r\nare available via the project wiki.\r\n\r\n## Contributing\r\n[Pull requests](http://help.github.com/send-pull-requests) are welcome; you\'ll be asked to sign our\r\ncontributor license agreement ([CLA](https://support.springsource.com/spring_committer_signup)).\r\nTrivial changes like typo fixes are especially appreciated (just\r\n[fork and edit!](https://github.com/blog/844-forking-with-the-edit-button)). For larger changes,\r\nplease search through JIRA for similiar issues, creating a new one if necessary, and discuss your\r\nideas with the Spring team.\r\n\r\n## Staying in touch\r\nFollow [@springframework](http://twitter.com/springframework) and its\r\n[team members](http://twitter.com/springframework/team/members) on Twitter. In-depth articles can be\r\nfound at the SpringSource [team blog](http://blog.springsource.org), and releases are announced via\r\nour [news feed](http://www.springsource.org/news-events).\r\n\r\n## License\r\nThe Spring Framework is released under version 2.0 of the\r\n[Apache License](http://www.apache.org/licenses/LICENSE-2.0).\r\n');
insert into `book` (`id`, `name`, `price`, `pic`, `description`) values('5','solr','78.0','99999229292.jpg','solræ˜¯ä¸€ä¸ªå…¨æ–‡æ£€ç´¢æœåŠ¡\r\n# Licensed to the Apache Software Foundation (ASF) under one or more\r\n# contributor license agreements.  See the NOTICE file distributed with\r\n# this work for additional information regarding copyright ownership.\r\n# The ASF licenses this file to You under the Apache License, Version 2.0\r\n# (the \"License\"); you may not use this file except in compliance with\r\n# the License.  You may obtain a copy of the License at\r\n#\r\n#     http://www.apache.org/licenses/LICENSE-2.0\r\n#\r\n# Unless required by applicable law or agreed to in writing, software\r\n# distributed under the License is distributed on an \"AS IS\" BASIS,\r\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n# See the License for the specific language governing permissions and\r\n# limitations under the License.\r\n\r\n\r\nWelcome to the Apache Solr project!\r\n-----------------------------------\r\n\r\nSolr is the popular, blazing fast open source enterprise search platform\r\nfrom the Apache Lucene project.\r\n\r\nFor a complete description of the Solr project, team composition, source\r\ncode repositories, and other details, please see the Solr web site at\r\nhttp://lucene.apache.org/solr\r\n\r\n\r\nGetting Started\r\n---------------\r\n\r\nSee the \"example\" directory for an example Solr setup.  A tutorial\r\nusing the example setup can be found at\r\n   http://lucene.apache.org/solr/tutorial.html\r\nor linked from \"docs/index.html\" in a binary distribution.\r\nAlso, there are Solr clients for many programming languages, see \r\n   http://wiki.apache.org/solr/IntegratingSolr\r\n\r\n\r\nFiles included in an Apache Solr binary distribution\r\n----------------------------------------------------\r\n\r\nexample/\r\n  A self-contained example Solr instance, complete with a sample\r\n  configuration, documents to index, and the Jetty Servlet container.\r\n  Please see example/README.txt for information about running this\r\n  example.\r\n\r\ndist/solr-XX.war\r\n  The Apache Solr Application.  Deploy this WAR file to any servlet\r\n  container to run Apache Solr.\r\n\r\ndist/solr-<component>-XX.jar\r\n  The Apache Solr libraries.  To compile Apache Solr Plugins,\r\n  one or more of these will be required.  The core library is\r\n  required at a minimum. (see http://wiki.apache.org/solr/SolrPlugins\r\n  for more information).\r\n\r\ndocs/index.html\r\n  The Apache Solr Javadoc API documentation and Tutorial\r\n\r\n\r\nInstructions for Building Apache Solr from Source\r\n-------------------------------------------------\r\n\r\n1. Download the Java SE 7 JDK (Java Development Kit) or later from http://java.sun.com/\r\n   You will need the JDK installed, and the $JAVA_HOME/bin (Windows: %JAVA_HOME%\\bin) \r\n   folder included on your command path. To test this, issue a \"java -version\" command \r\n   from your shell (command prompt) and verify that the Java version is 1.7 or later.\r\n\r\n2. Download the Apache Ant binary distribution (1.8.2+) from \r\n   http://ant.apache.org/  You will need Ant installed and the $ANT_HOME/bin (Windows: \r\n   %ANT_HOME%\\bin) folder included on your command path. To test this, issue a \r\n   \"ant -version\" command from your shell (command prompt) and verify that Ant is \r\n   available. \r\n\r\n   You will also need to install Apache Ivy binary distribution (2.2.0) from \r\n   http://ant.apache.org/ivy/ and place ivy-2.2.0.jar file in ~/.ant/lib -- if you skip \r\n   this step, the Solr build system will offer to do it for you.\r\n\r\n3. Download the Apache Solr distribution, linked from the above web site. \r\n   Unzip the distribution to a folder of your choice, e.g. C:\\solr or ~/solr\r\n   Alternately, you can obtain a copy of the latest Apache Solr source code\r\n   directly from the Subversion repository:\r\n\r\n     http://lucene.apache.org/solr/versioncontrol.html\r\n\r\n4. Navigate to the \"solr\" folder and issue an \"ant\" command to see the available options\r\n   for building, testing, and packaging Solr.\r\n  \r\n   NOTE: \r\n   To see Solr in action, you may want to use the \"ant example\" command to build\r\n   and package Solr into the example/webapps directory. See also example/README.txt.\r\n\r\n\r\nExport control\r\n-------------------------------------------------\r\nThis distribution includes cryptographic software.  The country in\r\nwhich you currently reside may have restrictions on the import,\r\npossession, use, and/or re-export to another country, of\r\nencryption software.  BEFORE using any encryption software, please\r\ncheck your country\'s laws, regulations and policies concerning the\r\nimport, possession, or use, and re-export of encryption software, to\r\nsee if this is permitted.  See <http://www.wassenaar.org/> for more\r\ninformation.\r\n\r\nThe U.S. Government Department of Commerce, Bureau of Industry and\r\nSecurity (BIS), has classified this software as Export Commodity\r\nControl Number (ECCN) 5D002.C.1, which includes information security\r\nsoftware using or performing cryptographic functions with asymmetric\r\nalgorithms.  The form and manner of this Apache Software Foundation\r\ndistribution makes it eligible for export under the License Exception\r\nENC Technology Software Unrestricted (TSU) exception (see the BIS\r\nExport Administration Regulations, Section 740.13) for both object\r\ncode and source code.\r\n\r\nThe following provides more details on the included cryptographic\r\nsoftware:\r\n    Apache Solr uses the Apache Tika which uses the Bouncy Castle generic encryption libraries for\r\n    extracting text content and metadata from encrypted PDF files.\r\n    See http://www.bouncycastle.org/ for more details on Bouncy Castle.\r\n');

```

#### Luceneä¸‹è½½

å®˜æ–¹ç½‘ç«™ï¼š
<http://lucene.apache.org/>
  
ç›®å‰æœ€æ–°ç‰ˆæœ¬ï¼š9.5.0
  
ä¸‹è½½åœ°å€ï¼š
<http://archive.apache.org/dist/lucene/java/>

### å·¥ç¨‹æ­å»º

æ–°å»ºmavenå·¥ç¨‹ï¼Œæ·»åŠ å¦‚ä¸‹jar

```xml
            <!--luceneæ ¸å¿ƒåŒ…-->
            <dependency>
                <groupId>org.apache.lucene</groupId>
                <artifactId>lucene-core</artifactId>
                <version>8.3.1</version>
            </dependency>

            <!--æŸ¥è¯¢è§£æå™¨åŒ…-->
            <dependency>
                <groupId>org.apache.lucene</groupId>
                <artifactId>lucene-queryparser</artifactId>
                <version>8.3.1</version>
            </dependency>

            <!--åˆ†æå™¨é€šç”¨åŒ…-->
            <dependency>
                <groupId>org.apache.lucene</groupId>
                <artifactId>lucene-analyzers-common</artifactId>
                <version>8.3.1</version>
            </dependency>

            <!--mysqlé©±åŠ¨åŒ…-->
            <dependency>
                <groupId>mysql</groupId>
                <artifactId>mysql-connector-java</artifactId>
                <version>5.1.32</version>
            </dependency>

            <!--å•å…ƒæµ‹è¯•-->
            <dependency>
                <groupId>junit</groupId>
                <artifactId>junit</artifactId>
                <version>4.12</version>
            </dependency>

```

### ç´¢å¼•æµç¨‹

#### ä¸ºä»€ä¹ˆé‡‡é›†æ•°æ®

å…¨æ–‡æ£€ç´¢æœç´¢çš„å†…å®¹çš„æ ¼å¼æ˜¯å¤šç§å¤šæ ·çš„ï¼Œæ¯”å¦‚ï¼šè§†é¢‘ã€mp3ã€å›¾ç‰‡ã€æ–‡æ¡£ç­‰ç­‰ã€‚å¯¹äºè¿™ç§æ ¼å¼ä¸åŒçš„æ•°æ®ï¼Œéœ€è¦å…ˆå°†ä»–ä»¬é‡‡é›†åˆ°æœ¬åœ°ï¼Œ
**ç„¶åç»Ÿä¸€å°è£…åˆ°luceneçš„æ–‡æ¡£å¯¹è±¡ä¸­**
ï¼Œä¹Ÿå°±æ˜¯è¯´éœ€è¦å°†å­˜å‚¨çš„å†…å®¹è¿›è¡Œç»Ÿä¸€æ‰èƒ½å¯¹å®ƒè¿›è¡ŒæŸ¥è¯¢ã€‚

#### é‡‡é›†æ•°æ®çš„æ–¹å¼

* å¯¹äºäº’è”ç½‘ä¸­çš„æ•°æ®ï¼Œä½¿ç”¨çˆ¬è™«å·¥å…·ï¼ˆhttpå·¥å…·ï¼‰å°†ç½‘é¡µçˆ¬å–åˆ°æœ¬åœ°
* **å¯¹äºæ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œä½¿ç”¨jdbcç¨‹åºè¿›è¡Œæ•°æ®é‡‡é›†**
* å¯¹äºæ–‡ä»¶ç³»ç»Ÿçš„æ•°æ®ï¼Œä½¿ç”¨ioæµé‡‡é›†

##### ç½‘é¡µçˆ¬è™«é‡‡é›†

å› ä¸ºç›®å‰
**æœç´¢å¼•æ“**
ä¸»è¦æœç´¢æ•°æ®çš„æ¥æºæ˜¯äº’è”ç½‘ï¼Œæœç´¢å¼•æ“ä½¿ç”¨ä¸€ç§çˆ¬è™«ç¨‹åºæŠ“å–ç½‘é¡µï¼ˆé€šè¿‡httpæŠ“å–htmlç½‘é¡µä¿¡æ¯ï¼‰ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›çˆ¬è™«é¡¹ç›®ï¼š

* Solrï¼ˆ
  <https://solr.apache.org/>
  ï¼‰ï¼Œsolræ˜¯apacheçš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œæ”¯æŒä»å…³ç³»æ•°æ®åº“ã€xmlæ–‡æ¡£ä¸­æå–åŸå§‹æ•°æ®ã€‚
* jsoupï¼ˆ
  <http://jsoup.org/>
  ï¼‰ï¼Œjsoup æ˜¯ä¸€æ¬¾Java çš„HTMLè§£æå™¨ï¼Œå¯ç›´æ¥è§£ææŸä¸ªURLåœ°å€ã€HTMLæ–‡æœ¬å†…å®¹ã€‚å®ƒæä¾›äº†ä¸€å¥—éå¸¸çœåŠ›çš„APIï¼Œå¯é€šè¿‡DOMï¼ŒCSSä»¥åŠç±»ä¼¼äºjQueryçš„æ“ä½œæ–¹æ³•æ¥å–å‡ºå’Œæ“ä½œæ•°æ®ã€‚
* heritrixï¼ˆ
  <http://sourceforge.net/projects/archive-crawler/files/>
  ï¼‰ï¼ŒHeritrix æ˜¯ä¸€ä¸ªç”± java å¼€å‘çš„ã€å¼€æºçš„ç½‘ç»œçˆ¬è™«ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨å®ƒæ¥ä»ç½‘ä¸ŠæŠ“å–æƒ³è¦çš„èµ„æºã€‚å…¶æœ€å‡ºè‰²ä¹‹å¤„åœ¨äºå®ƒè‰¯å¥½çš„å¯æ‰©å±•æ€§ï¼Œæ–¹ä¾¿ç”¨æˆ·å®ç°è‡ªå·±çš„æŠ“å–é€»è¾‘ã€‚

##### æ•°æ®åº“é‡‡é›†

é’ˆå¯¹ç”µå•†ç«™å†…æœç´¢åŠŸèƒ½ï¼Œå…¨æ–‡æ£€ç´¢çš„æ•°æ®æºåœ¨æ•°æ®åº“ä¸­ï¼Œéœ€è¦é€šè¿‡jdbcè®¿é—®æ•°æ®åº“ä¸­bookè¡¨çš„å†…å®¹ã€‚
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/e1a33540ba48be46640c3bb6f00b0b58.png)

#### ç´¢å¼•æ–‡ä»¶çš„é€»è¾‘ç»“æ„

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/d8aae4cf5f8d9a9862138be85939b8fc.png)

* æ–‡æ¡£åŸŸ

æ–‡æ¡£åŸŸå­˜å‚¨çš„ä¿¡æ¯å°±æ˜¯é‡‡é›†åˆ°çš„ä¿¡æ¯ï¼Œé€šè¿‡Documentå¯¹è±¡æ¥å­˜å‚¨ï¼Œå…·ä½“è¯´æ˜¯é€šè¿‡Documentå¯¹è±¡ä¸­fieldåŸŸæ¥å­˜å‚¨æ•°æ®ã€‚
  
æ¯”å¦‚ï¼šæ•°æ®åº“ä¸­ä¸€æ¡è®°å½•ä¼šå­˜å‚¨ä¸€ä¸ªDocumentå¯¹è±¡ï¼Œæ•°æ®åº“ä¸­ä¸€åˆ—ä¼šå­˜å‚¨æˆDocumentä¸­ä¸€ä¸ªfieldåŸŸã€‚
  
æ–‡æ¡£åŸŸä¸­ï¼ŒDocumentå¯¹è±¡ä¹‹é—´æ˜¯æ²¡æœ‰å…³ç³»çš„ã€‚è€Œä¸”æ¯ä¸ªDocumentä¸­çš„fieldåŸŸä¹Ÿä¸ä¸€å®šä¸€æ ·ã€‚

* ç´¢å¼•åŸŸ

ç´¢å¼•åŸŸä¸»è¦æ˜¯ä¸ºäº†æœç´¢ä½¿ç”¨çš„ã€‚ç´¢å¼•åŸŸå†…å®¹æ˜¯ç»è¿‡luceneåˆ†è¯ä¹‹åå­˜å‚¨çš„ã€‚

* å€’æ’ç´¢å¼•è¡¨

ä¼ ç»Ÿæ–¹æ³•æ˜¯å…ˆæ‰¾åˆ°æ–‡ä»¶ï¼Œå¦‚ä½•åœ¨æ–‡ä»¶ä¸­æ‰¾å†…å®¹ï¼Œåœ¨æ–‡ä»¶å†…å®¹ä¸­åŒ¹é…æœç´¢å…³é”®å­—ï¼Œè¿™ç§æ–¹æ³•æ˜¯
**é¡ºåºæ‰«ææ–¹æ³•**
ï¼Œæ•°æ®é‡å¤§å°±æœç´¢æ…¢ã€‚
  
\*\* å€’æ’ç´¢å¼•ç»“æ„\*\*æ˜¯æ ¹æ®å†…å®¹ï¼ˆè¯è¯­ï¼‰æ‰¾æ–‡æ¡£ï¼Œ
**å€’æ’ç´¢å¼•ç»“æ„ä¹Ÿå«åå‘ç´¢å¼•ç»“æ„ï¼ŒåŒ…æ‹¬ç´¢å¼•å’Œæ–‡æ¡£ä¸¤éƒ¨åˆ†ï¼Œç´¢å¼•å³è¯æ±‡è¡¨ï¼Œå®ƒæ˜¯åœ¨ç´¢å¼•ä¸­åŒ¹é…æœç´¢å…³é”®å­—ï¼Œç”±äºç´¢å¼•å†…å®¹é‡æœ‰é™å¹¶ä¸”é‡‡ç”¨å›ºå®šä¼˜åŒ–ç®—æ³•æœç´¢é€Ÿåº¦å¾ˆå¿«ï¼Œæ‰¾åˆ°äº†ç´¢å¼•ä¸­çš„è¯æ±‡ï¼Œè¯æ±‡ä¸æ–‡æ¡£å…³è”ï¼Œä»è€Œæœ€ç»ˆæ‰¾åˆ°äº†æ–‡æ¡£ã€‚**

#### é‡‡é›†æ•°æ®

```java
public class BookDaoImpl implements BookDao {

	@Override
	public List<Book> queryBooks() {
		// æ•°æ®åº“é“¾æ¥
		Connection connection = null;

		// é¢„ç¼–è¯‘statement
		PreparedStatement preparedStatement = null;

		// ç»“æœé›†
		ResultSet resultSet = null;

		// å›¾ä¹¦åˆ—è¡¨
		List<Book> list = new ArrayList<Book>();

		try {
			// åŠ è½½æ•°æ®åº“é©±åŠ¨
			Class.forName("com.mysql.jdbc.Driver");
			// è¿æ¥æ•°æ®åº“
			connection = DriverManager.getConnection(
					"jdbc:mysql://localhost:3306/test", "root", "root");

			// SQLè¯­å¥
			String sql = "SELECT * FROM book";
			// åˆ›å»ºpreparedStatement
			preparedStatement = connection.prepareStatement(sql);

			// è·å–ç»“æœé›†
			resultSet = preparedStatement.executeQuery();

			// ç»“æœé›†è§£æ
			while (resultSet.next()) {
				Book book = new Book();
				book.setId(resultSet.getInt("id"));
				book.setName(resultSet.getString("name"));
				book.setPrice(resultSet.getFloat("price"));
				book.setPic(resultSet.getString("pic"));
				book.setDescription(resultSet.getString("description"));
				list.add(book);
			}

		} catch (Exception e) {
			e.printStackTrace();
		}

		return list;
	}

}

```

#### åˆ›å»ºç´¢å¼•

åˆ›å»ºç´¢å¼•æµç¨‹ï¼š
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/e79067a42d40f5305cce0b1cae2a9db0.png)
  
**IndexWriter**
æ˜¯ç´¢å¼•è¿‡ç¨‹çš„æ ¸å¿ƒç»„ä»¶ï¼Œé€šè¿‡IndexWriterå¯ä»¥
**åˆ›å»ºæ–°ç´¢å¼•ã€æ›´æ–°ç´¢å¼•ã€åˆ é™¤ç´¢å¼•**
æ“ä½œã€‚IndexWriteréœ€è¦é€šè¿‡
**Directory**
å¯¹ç´¢å¼•è¿›è¡Œå­˜å‚¨æ“ä½œã€‚
  
**Directory**
æè¿°äº†ç´¢å¼•çš„å­˜å‚¨ä½ç½®ï¼Œåº•å±‚å°è£…äº†I/Oæ“ä½œï¼Œè´Ÿè´£å¯¹ç´¢å¼•è¿›è¡Œå­˜å‚¨ã€‚å®ƒæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå®ƒçš„å­ç±»å¸¸ç”¨çš„åŒ…æ‹¬
**FSDirectory**
ï¼ˆåœ¨æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨ç´¢å¼•ï¼‰ã€
**RAMDirectory**
ï¼ˆåœ¨å†…å­˜å­˜å‚¨ç´¢å¼•ï¼‰ã€‚

##### åˆ›å»ºDocument

é‡‡é›†æ•°æ®çš„ç›®çš„æ˜¯ä¸ºäº†ç´¢å¼•ï¼Œåœ¨ç´¢å¼•å‰éœ€è¦å°†åŸå§‹å†…å®¹åˆ›å»ºæˆ
**æ–‡æ¡£ï¼ˆDocumentï¼‰ï¼Œæ–‡æ¡£ï¼ˆDocumentï¼‰ä¸­åŒ…æ‹¬ä¸€ä¸ªä¸€ä¸ªçš„åŸŸï¼ˆFieldï¼‰ã€‚**
  
**ä»£ç å®ç°ï¼š**

```java
    @Test
    public void createIndex() throws Exception {
        // é‡‡é›†æ•°æ®
        BookDao dao = new BookDaoImpl();
        List<Book> list = dao.queryBooks();

        // å°†é‡‡é›†åˆ°çš„æ•°æ®å°è£…åˆ°Documentå¯¹è±¡ä¸­
        List<Document> docList = new ArrayList<>();
        Document document;
        for (Book book : list) {
            document = new Document();
            // store:å¦‚æœæ˜¯yesï¼Œåˆ™è¯´æ˜å­˜å‚¨åˆ°æ–‡æ¡£åŸŸä¸­
            // å›¾ä¹¦ID
            Field id = new TextField("id", book.getId().toString(), Field.Store.YES);
            // å›¾ä¹¦åç§°
            Field name = new TextField("name", book.getName(), Field.Store.YES);
            // å›¾ä¹¦ä»·æ ¼
            Field price = new TextField("price", book.getPrice().toString(),	Field.Store.YES);
            // å›¾ä¹¦å›¾ç‰‡åœ°å€
            Field pic = new TextField("pic", book.getPic(), Field.Store.YES);
            // å›¾ä¹¦æè¿°
            Field description = new TextField("description",
                    book.getDescription(), Field.Store.YES);

            // å°†fieldåŸŸè®¾ç½®åˆ°Documentå¯¹è±¡ä¸­
            document.add(id);
            document.add(name);
            document.add(price);
            document.add(pic);
            document.add(description);

            docList.add(document);
        }

        // åˆ›å»ºåˆ†è¯å™¨ï¼Œæ ‡å‡†åˆ†è¯å™¨
        StandardAnalyzer analyzer = new StandardAnalyzer();

        // åˆ›å»ºIndexWriter
        IndexWriterConfig cfg = new IndexWriterConfig(analyzer);
        // æŒ‡å®šç´¢å¼•åº“çš„åœ°å€
        Path path = Paths.get("D:\\usr\\lucene\\");
        Directory directory = FSDirectory.open(path);
        IndexWriter writer = new IndexWriter(directory, cfg);

        // é€šè¿‡IndexWriterå¯¹è±¡å°†Documentå†™å…¥åˆ°ç´¢å¼•åº“ä¸­
        for (Document doc : docList) {
            writer.addDocument(doc);
        }

        // å…³é—­writer
        writer.close();
    }

```

æ‰§è¡Œåå¯ä»¥çœ‹åˆ°å¯¹åº”ç›®å½•å·²ç”Ÿæˆç›¸å…³ç´¢å¼•åº“æ–‡ä»¶ã€‚

##### åˆ†è¯

Luceneä¸­åˆ†è¯ä¸»è¦åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼šåˆ†è¯ã€è¿‡æ»¤

* `åˆ†è¯`
  ï¼šå°†fieldåŸŸä¸­çš„å†…å®¹ä¸€ä¸ªä¸ªçš„åˆ†è¯ã€‚
* `è¿‡æ»¤`
  ï¼šå°†åˆ†å¥½çš„è¯è¿›è¡Œè¿‡æ»¤ï¼Œæ¯”å¦‚å»æ‰æ ‡ç‚¹ç¬¦å·ã€å¤§å†™è½¬å°å†™ã€è¯çš„å‹è¿˜åŸï¼ˆå¤æ•°è½¬å•æ•°ã€è¿‡å»å¼è½¬æˆç°åœ¨å¼ï¼‰ã€åœç”¨è¯è¿‡æ»¤ã€‚
  + åœç”¨è¯ï¼šå•ç‹¬åº”ç”¨æ²¡æœ‰ç‰¹æ®Šæ„ä¹‰çš„è¯ã€‚æ¯”å¦‚çš„ã€å•Šã€ç­‰ï¼Œè‹±æ–‡ä¸­çš„this is a theç­‰ç­‰ã€‚

Luceneä½œä¸ºäº†ä¸€ä¸ªå·¥å…·åŒ…æä¾›ä¸åŒå›½å®¶çš„åˆ†è¯å™¨ï¼Œå¦‚ä¸‹å›¾ï¼š
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/7c6954071b33476797f64c116cefd002.png)
  
æ¡ˆä¾‹ï¼š
  
è¦åˆ†è¯çš„å†…å®¹
  
Lucene is a Java full-text search engine.

* åˆ†è¯
    
  Lucene
    
  is
    
  a
    
  Java
    
  Full
    
  text
    
  search
    
  engine
    
  .
* è¿‡æ»¤

å»æ‰æ ‡ç‚¹ç¬¦å·
  
Lucene
  
is
  
a
  
Java
  
Full
  
text
  
search
  
engine

* å»æ‰åœç”¨è¯

Lucene
  
Java
  
Full
  
text
  
search
  
engine

* å¤§å†™è½¬å°å†™

lucene
  
java
  
full
  
text
  
search
  
engine

å¦‚ä¸‹æ˜¯
`org.apache.lucene.analysis.standard.StandardAnalyzer`
çš„éƒ¨åˆ†æºç ï¼š

```java
    protected TokenStreamComponents createComponents(String fieldName) {
        StandardTokenizer src = new StandardTokenizer();
        src.setMaxTokenLength(this.maxTokenLength);
        TokenStream tok = new LowerCaseFilter(src);
        TokenStream tok = new StopFilter(tok, this.stopwords);
        return new TokenStreamComponents((r) -> {
            src.setMaxTokenLength(this.maxTokenLength);
            src.setReader(r);
        }, tok);
    }

```

Tokenizeræ˜¯åˆ†è¯å™¨ï¼Œè´Ÿè´£å°†readerè½¬æ¢ä¸ºè¯­æ±‡å•å…ƒå³è¿›è¡Œåˆ†è¯ï¼ŒLuceneæä¾›äº†å¾ˆå¤šçš„åˆ†è¯å™¨ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„åˆ†è¯ï¼Œæ¯”å¦‚IKAnalyzerä¸€ä¸ªä¸­æ–‡åˆ†è¯å™¨ã€‚
  
org.apache.lucene.analysis.TokenFilter
  
å¦‚ä¸‹å›¾æ˜¯è¯­æ±‡å•å…ƒçš„ç”Ÿæˆè¿‡ç¨‹ï¼š
  
![image.png](https://img-blog.csdnimg.cn/img_convert/b7d1358ddd1953448b0486d9fb0be59a.png#averageHue=#bebfbe&clientId=u90255c52-fb21-4&from=paste&height=102&id=u34020972&originHeight=128&originWidth=692&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=355087&status=done&style=none&taskId=u7e7de85a-3099-49d0-ad9d-d3ff7c77e6b&title=&width=553.6)
  
**ä»ä¸€ä¸ªReaderå­—ç¬¦æµå¼€å§‹ï¼Œåˆ›å»ºä¸€ä¸ªåŸºäºReaderçš„Tokenizeråˆ†è¯å™¨ï¼Œç»è¿‡ä¸‰ä¸ªTokenFilterç”Ÿæˆè¯­æ±‡å•å…ƒTokenã€‚**
  
æ¯”å¦‚ä¸‹è¾¹çš„æ–‡æ¡£ç»è¿‡åˆ†æå™¨åˆ†æå¦‚ä¸‹ï¼š
  
åŸæ–‡æ¡£å†…å®¹ï¼š

> Lucene is a Java full-text search engine.

åˆ†æåå¾—åˆ°çš„è¯­æ±‡å•å…ƒï¼š

> luceneã€javaã€fullã€textã€searchã€engine

**åŒä¸€ä¸ªåŸŸä¸­ç›¸åŒçš„è¯­æ±‡å•å…ƒï¼ˆTokenï¼‰å¯¹åº”åŒä¸€ä¸ªTermï¼ˆè¯ï¼‰ï¼Œå®ƒè®°å½•äº†è¯­æ±‡å•å…ƒçš„å†…å®¹åŠæ‰€åœ¨åŸŸçš„åŸŸåç­‰ï¼Œè¿˜åŒ…æ‹¬æ¥è¯¥tokenå‡ºç°çš„é¢‘ç‡åŠä½ç½®ã€‚**

* **ä¸åŒçš„åŸŸä¸­æ‹†åˆ†å‡ºæ¥çš„ç›¸åŒçš„å•è¯å¯¹åº”ä¸åŒçš„termã€‚**
* **ç›¸åŒçš„åŸŸä¸­æ‹†åˆ†å‡ºæ¥çš„ç›¸åŒçš„å•è¯å¯¹åº”ç›¸åŒçš„termã€‚**

ä¾‹å¦‚ï¼šå›¾ä¹¦ä¿¡æ¯é‡Œé¢ï¼Œå›¾ä¹¦åç§°ä¸­çš„javaå’Œå›¾ä¹¦æè¿°ä¸­çš„javaå¯¹åº”ä¸åŒçš„term

ä»£ç å®ç°ï¼š

```java
    	// åˆ›å»ºåˆ†è¯å™¨ï¼Œæ ‡å‡†åˆ†è¯å™¨
        StandardAnalyzer analyzer = new StandardAnalyzer();

        // åˆ›å»ºIndexWriter
        IndexWriterConfig cfg = new IndexWriterConfig(analyzer);
        // æŒ‡å®šç´¢å¼•åº“çš„åœ°å€
        Path path = Paths.get("D:\\usr\\lucene\\");
        Directory directory = FSDirectory.open(path);
        IndexWriter writer = new IndexWriter(directory, cfg);

        // é€šè¿‡IndexWriterå¯¹è±¡å°†Documentå†™å…¥åˆ°ç´¢å¼•åº“ä¸­
        for (Document doc : docList) {
            writer.addDocument(doc);
        }

        // å…³é—­writer
        writer.close();

```

##### ä½¿ç”¨lukeå·¥å…·æŸ¥çœ‹ç´¢å¼•

Lukeä½œä¸ºLuceneå·¥å…·åŒ…ä¸­çš„ä¸€ä¸ªå·¥å…·ï¼ˆ
<http://www.getopt.org/luke/>
ï¼‰ï¼Œå¯ä»¥é€šè¿‡ç•Œé¢æ¥è¿›è¡Œç´¢å¼•æ–‡ä»¶çš„æŸ¥è¯¢ã€ä¿®æ”¹ã€‚

æ‰“å¼€Lukeæ–¹æ³•ï¼š

* å‘½ä»¤è¿è¡Œï¼šcmdè¿è¡Œï¼šjava -jar lukeall-4.10.3.jar
* æ‰‹åŠ¨æ‰§è¡Œï¼šåŒå‡»lukeall-4.10.3.jar
    
  ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/2a64d5950e87bba7dc668f19f574c232.png)
    
  ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/22fc880a0df87bdf3ac885e82fac73ec.png)

### æœç´¢æµç¨‹

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/077709427e3e6f8a8626f88a2bd68b6e.png)

1. ç”¨æˆ·å®šä¹‰æŸ¥è¯¢è¯­å¥ï¼Œç”¨æˆ·ç¡®å®šæŸ¥è¯¢ä»€ä¹ˆå†…å®¹ï¼ˆè¾“å…¥ä»€ä¹ˆå…³é”®å­—ï¼‰

æŒ‡å®šæŸ¥è¯¢è¯­æ³•ï¼Œç›¸å½“äºsqlè¯­å¥ã€‚

2. IndexSearcherç´¢å¼•æœç´¢å¯¹è±¡ï¼Œå®šä¹‰äº†å¾ˆå¤šæœç´¢æ–¹æ³•ï¼Œç¨‹åºå‘˜è°ƒç”¨æ­¤æ–¹æ³•æœç´¢ã€‚
3. IndexReaderç´¢å¼•è¯»å–å¯¹è±¡ï¼Œå®ƒå¯¹åº”çš„ç´¢å¼•ç»´æŠ¤å¯¹è±¡IndexWriterï¼ŒIndexSearcheré€šè¿‡IndexReaderè¯»å–ç´¢å¼•ç›®å½•ä¸­çš„ç´¢å¼•æ–‡ä»¶
4. Directoryç´¢å¼•æµå¯¹è±¡ï¼ŒIndexReaderéœ€è¦Directoryè¯»å–ç´¢å¼•åº“ï¼Œä½¿ç”¨FSDirectoryæ–‡ä»¶ç³»ç»Ÿæµå¯¹è±¡
5. IndexSearcheræœç´¢å®Œæˆï¼Œè¿”å›ä¸€ä¸ªTopDocsï¼ˆåŒ¹é…åº¦é«˜çš„å‰è¾¹çš„ä¸€äº›è®°å½•ï¼‰

#### è¾“å…¥æŸ¥è¯¢è¯­å¥

åŒæ•°æ®åº“çš„sqlä¸€æ ·ï¼Œluceneå…¨æ–‡æ£€ç´¢ä¹Ÿæœ‰å›ºå®šçš„è¯­æ³•ï¼š
  
æœ€åŸºæœ¬çš„æœ‰æ¯”å¦‚ï¼šAND, OR, NOT ç­‰

ä¸¾ä¸ªä¾‹å­ï¼Œç”¨æˆ·æƒ³æ‰¾ä¸€ä¸ªdescriptionä¸­åŒ…æ‹¬javaå…³é”®å­—å’Œluceneå…³é”®å­—çš„æ–‡æ¡£ã€‚
  
å®ƒå¯¹åº”çš„æŸ¥è¯¢è¯­å¥ï¼š
**description:java AND lucene**
  
å¦‚ä¸‹æ˜¯ä½¿ç”¨lukeæœç´¢çš„ä¾‹å­ï¼š
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/6b5ec61908042f97da3dadaaaf94dd2d.png)

#### æœç´¢ç´¢å¼•

å’Œç´¢å¼•è¿‡ç¨‹çš„åˆ†è¯ä¸€æ ·ï¼Œè¿™é‡Œè¦å¯¹ç”¨æˆ·è¾“å…¥çš„å…³é”®å­—è¿›è¡Œåˆ†è¯ï¼Œä¸€èˆ¬æƒ…å†µç´¢å¼•å’Œæœç´¢ä½¿ç”¨çš„åˆ†è¯å™¨ä¸€è‡´ã€‚
  
æ ¹æ®å…³é”®å­—ä»ç´¢å¼•ä¸­æ‰¾åˆ°å¯¹åº”çš„ç´¢å¼•ä¿¡æ¯ï¼Œå³è¯termã€‚termä¸documentç›¸å…³è”ï¼Œæ‰¾åˆ°äº†termå°±æ‰¾åˆ°äº†å…³è”çš„documentï¼Œä»documentå–å‡ºFieldä¸­çš„ä¿¡æ¯å³æ˜¯è¦æœç´¢çš„ä¿¡æ¯ã€‚

ä»£ç å®ç°ï¼š

```java
    @Test
    public void indexSearch() throws Exception {
        // åˆ›å»ºqueryå¯¹è±¡
        // ä½¿ç”¨QueryParseræœç´¢æ—¶ï¼Œéœ€è¦æŒ‡å®šåˆ†è¯å™¨ï¼Œæœç´¢æ—¶çš„åˆ†è¯å™¨è¦å’Œç´¢å¼•æ—¶çš„åˆ†è¯å™¨ä¸€è‡´
        // ç¬¬ä¸€ä¸ªå‚æ•°ï¼šé»˜è®¤æœç´¢çš„åŸŸçš„åç§°
        QueryParser parser = new QueryParser("description",
                new StandardAnalyzer());

        // é€šè¿‡queryparseræ¥åˆ›å»ºqueryå¯¹è±¡
        // å‚æ•°ï¼šè¾“å…¥çš„luceneçš„æŸ¥è¯¢è¯­å¥(å…³é”®å­—ä¸€å®šè¦å¤§å†™)
        Query query = parser.parse("description:java AND lucene");

        // åˆ›å»ºIndexSearcher
        // æŒ‡å®šç´¢å¼•åº“çš„åœ°å€
        Path path = Paths.get("D:\\usr\\lucene\\");
        Directory directory = FSDirectory.open(path);
        IndexReader reader = DirectoryReader.open(directory);
        IndexSearcher searcher = new IndexSearcher(reader);

        // é€šè¿‡searcheræ¥æœç´¢ç´¢å¼•åº“
        // ç¬¬äºŒä¸ªå‚æ•°ï¼šæŒ‡å®šéœ€è¦æ˜¾ç¤ºçš„é¡¶éƒ¨è®°å½•çš„Næ¡
        TopDocs topDocs = searcher.search(query, 10);

        // æ ¹æ®æŸ¥è¯¢æ¡ä»¶åŒ¹é…å‡ºçš„è®°å½•æ€»æ•°
        long count = topDocs.totalHits.value;
        System.out.println("åŒ¹é…å‡ºçš„è®°å½•æ€»æ•°:" + count);
        // æ ¹æ®æŸ¥è¯¢æ¡ä»¶åŒ¹é…å‡ºçš„è®°å½•
        ScoreDoc[] scoreDocs = topDocs.scoreDocs;

        for (ScoreDoc scoreDoc : scoreDocs) {
            // è·å–æ–‡æ¡£çš„ID
            int docId = scoreDoc.doc;

            // é€šè¿‡IDè·å–æ–‡æ¡£
            Document doc = searcher.doc(docId);
            System.out.println("å•†å“IDï¼š" + doc.get("id"));
            System.out.println("å•†å“åç§°ï¼š" + doc.get("name"));
            System.out.println("å•†å“ä»·æ ¼ï¼š" + doc.get("price"));
            System.out.println("å•†å“å›¾ç‰‡åœ°å€ï¼š" + doc.get("pic"));
            System.out.println("==========================");
            // System.out.println("å•†å“æè¿°ï¼š" + doc.get("description"));
        }
        // å…³é—­èµ„æº
        reader.close();
    }

```

æ‰§è¡Œåè¾“å‡ºå¦‚ä¸‹ï¼š
  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/blog_migrate/d53904650023e7756d52d5f6cb19137a.png)

å‚è€ƒ:
  
<https://www.cnblogs.com/yebuzhiqiu/p/14817079.html>
  
<https://blog.csdn.net/qq_41946557/article/details/103540619>

> æœ¬æ–‡å†…å®¹åˆ°æ­¤ç»“æŸäº†ï¼Œ
>   
> å¦‚æœ‰æ”¶è·æ¬¢è¿ç‚¹èµğŸ‘æ”¶è—ğŸ’–å…³æ³¨âœ”ï¸ï¼Œæ‚¨çš„é¼“åŠ±æ˜¯æˆ‘æœ€å¤§çš„åŠ¨åŠ›ã€‚
>   
> å¦‚æœ‰é”™è¯¯âŒç–‘é—®ğŸ’¬æ¬¢è¿å„ä½æŒ‡å‡ºã€‚
>   
> **ä¸»é¡µ**
> ï¼š
> [å…±é¥®ä¸€æ¯æ— çš„åšå®¢æ±‡æ€»ğŸ‘¨â€ğŸ’»](https://zhanjq.blog.csdn.net/?type=blog)
>
> **ä¿æŒçƒ­çˆ±ï¼Œå¥”èµ´ä¸‹ä¸€åœºå±±æµ·**
> ã€‚ğŸƒğŸƒğŸƒ