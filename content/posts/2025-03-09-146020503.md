---
layout: post
title: "数据结构-图-基础"
date: 2025-03-09 02:10:37 +0800
description: "图的常见概念、两种存储结构(邻接矩阵、邻接表)"
keywords: "数据结构 -图 -基础"
categories: ['数据结构']
tags: ['数据结构']
artid: "146020503"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146020503
    alt: "数据结构-图-基础"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146020503
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146020503
cover: https://bing.ee123.net/img/rand?artid=146020503
image: https://bing.ee123.net/img/rand?artid=146020503
img: https://bing.ee123.net/img/rand?artid=146020503
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     数据结构 -图 -基础
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-kimbie-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <blockquote>
     <p>
      博客主页：【
      <a href="https://blog.csdn.net/2401_86587256?type=blog">
       夜泉_ly
      </a>
      】
      <br/>
      本文专栏：【
      <a href="https://blog.csdn.net/2401_86587256/category_12785209.html">
       数据结构
      </a>
      】
      <br/>
      欢迎点赞👍收藏⭐关注❤️
     </p>
    </blockquote>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/183f1207c2864a13b8ef6ab79fc1cc30.gif#pic_center"/>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
     今天简单讲讲图的相关概念。
    </p>
    <h3>
     <a id="_15">
     </a>
     常见概念
    </h3>
    <h4>
     <a id="_16">
     </a>
     有向无向
    </h4>
    <p>
     首先，
     <br/>
     图主要被分成了两种，
     <br/>
     <strong>
      无向
     </strong>
     和
     <strong>
      有向
     </strong>
     ，
     <br/>
     大概长这样：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/0e93de4967094250b6564bf81da8fec5.png" width="400"/>
    </p>
    <p>
     无向图的一条边是双向的，
     <br/>
     有向图的一条边是单向的，有方向。
     <br/>
     因此，
     <br/>
     无向图中，
     <br/>
     相邻的两个点之间最多一条边；
     <br/>
     而有向图，
     <br/>
     相邻的两个点之间最多两条边。
    </p>
    <h4>
     <a id="_31">
     </a>
     完全图
    </h4>
    <p>
     我们把图中所有的点全部通过边两两相连，
     <br/>
     这就是
     <strong>
      完全图
     </strong>
     ：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/8c434c56ffa6466a9a0148bd9dc34afa.png" width="400"/>
    </p>
    <p>
     然后，用等差数列就可以得出，
     <br/>
     无向完全图的边有n(n - 1)/2条，
     <br/>
     有向n(n - 1)。
    </p>
    <h4>
     <a id="_40">
     </a>
     子图
    </h4>
    <p>
     我们把图中的点或线随便拆掉一些，
     <br/>
     新图就是老图的
     <strong>
      子图
     </strong>
     ：(图片)
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/5b368c4e731a4c9497da7c80545611d0.png" width="400"/>
    </p>
    <p>
     不过要记住，
     <br/>
     你只能删，
     <br/>
     不能增或改。
    </p>
    <h4>
     <a id="_50">
     </a>
     连通/强连通/弱连通图
    </h4>
    <p>
     对于无向图，
     <br/>
     如果任意两点都有路径相连，
     <br/>
     没有分什么小团体，
     <br/>
     那这就叫
     <strong>
      连通图
     </strong>
     。
     <br/>
     下面的红、蓝就是连通图，而黄、绿不是：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/3e99028d42a24180938a072acc8b5e02.png" width="400"/>
    </p>
    <p>
     对于有向图，
     <br/>
     如果任意一个点都有走到其余点的路径，
     <br/>
     这就叫
     <strong>
      强连通图
     </strong>
     ；
     <br/>
     如果把边的方向去掉，
     <br/>
     即，把它当作无向图后，
     <br/>
     还是一个连通图，
     <br/>
     那这就叫
     <strong>
      弱连通图
     </strong>
     。
     <br/>
     （很明显，
     <br/>
     强连通必是弱连通，
     <br/>
     但弱不一定是强）
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/6629de4ce28e4b49b36e1288b0f2bbcd.png" width="400"/>
    </p>
    <h4>
     <a id="_71">
     </a>
     生成树
    </h4>
    <p>
     生成树，
     <br/>
     首先得是个连通图，
     <br/>
     然后得是这个
     <strong>
      连通图的最小联通子图
     </strong>
     ，
     <br/>
     联通图刚刚讲了，子图也讲了，
     <br/>
     剩个最小没讲，
     <br/>
     这个最小不代表它的点变少了，
     <br/>
     而代表它没有多余的边，
     <br/>
     具体讲，
     <br/>
     n个顶点的连通图，
     <br/>
     其生成树只能是
     <strong>
      n个点、n-1条边
     </strong>
     的连通子图。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/6d94c18dbaac434f8a7427f1df59f21d.png" width="400"/>
    </p>
    <h3>
     <a id="_83">
     </a>
     存储结构
    </h3>
    <p>
     没学图之前，
     <br/>
     我还以为图是一堆Node的组合，
     <br/>
     就像二叉树那样，
     <br/>
     然后每个Node又存了相邻Node的指针。。。
    </p>
    <p>
     不过现在一看，
     <br/>
     搞个数组建立映射关系就行了，
     <br/>
     在这之后，点的问题就解决了：
     <br/>
     一个下标对应一个点。
    </p>
    <p>
     那么，现在只需要知道如何表示边。
     <br/>
     最主要的方法有两个：
     <br/>
     <strong>
      邻接矩阵
     </strong>
     和
     <strong>
      邻接表
     </strong>
     。
    </p>
    <p>
     先看邻接矩阵，
     <br/>
     这里用到的是二维数组，
     <br/>
     刚刚不是把点对应到了数组下标吗，
     <br/>
     那么这里，
     <br/>
     每个格子的横纵坐标就代表两个点，
     <br/>
     格子存的值对应的是边的权值
     <br/>
     （无穷代表该处没有边）
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/de34bfe635de47c389d3a7053267f59e.png" width="400">
      <br/>
      上面这是无向图的，
      <br/>
      可以看到整个格子轴对称，
      <br/>
      也就是每次需在对称的两个位置填数。
      <br/>
      而有向图，
      <br/>
      每次只在轴的一边填数，
      <br/>
      另一边保持不变就行。
     </img>
    </p>
    <p>
     再来看看邻接表，
     <br/>
     大概长这样：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/b6db9f10b2894778917ff29cf61b39ce.png" width="400"/>
     <br/>
     有向图，你也可以用两个表，
     <br/>
     一个记录这个点指向谁，
     <br/>
     一个记录谁指向这个点。
    </p>
    <p>
     知道了邻接矩阵和邻接表是什么，
     <br/>
     我们还得关注一下它们的特点：
    </p>
    <table>
     <thead>
      <tr>
       <th>
       </th>
       <th>
        <strong>
         邻接矩阵
        </strong>
       </th>
       <th>
        <strong>
         邻接表
        </strong>
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        便于判断两个点间是否有边
       </td>
       <td>
        ✅
       </td>
       <td>
        ❎
       </td>
      </tr>
      <tr>
       <td>
        便于计算各个顶点的度
       </td>
       <td>
        ✅
       </td>
       <td>
        ❎
       </td>
      </tr>
      <tr>
       <td>
        便于增加删除顶点
       </td>
       <td>
        ❎
       </td>
       <td>
        ✅
       </td>
      </tr>
      <tr>
       <td>
        便于统计边的数量
       </td>
       <td>
        ❎
       </td>
       <td>
        ✅
       </td>
      </tr>
      <tr>
       <td>
        较高的空间效率
       </td>
       <td>
        ❎
       </td>
       <td>
        ✅
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     概念大致理解了，
     <br/>
     现在开始敲代码。
    </p>
    <p>
     先写邻接矩阵。
     <br/>
     模板：
     <br/>
     <code>
      template&lt;class V, class W, W W_MAX = INT_MAX, bool Direction = false&gt;
     </code>
     <br/>
     点类型、权值类型、权值的最大值、是否有向
    </p>
    <p>
     成员变量：
     <br/>
     <code>
      std::vector&lt;V&gt; _v;
     </code>
     点
     <br/>
     <code>
      std::unordered_map&lt;V, int&gt; _index;
     </code>
     下标
     <br/>
     <code>
      std::vector&lt;std::vector&lt;W&gt;&gt; _matrix;
     </code>
     矩阵
    </p>
    <p>
     简单搭个架子，能跑就行：
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">namespace</span> AdjacencyMatrix
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">V</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">W</span><span class="token punctuation">,</span> W W_MAX <span class="token operator">=</span> INT_MAX<span class="token punctuation">,</span> <span class="token keyword">bool</span> Direction <span class="token operator">=</span> <span class="token boolean">false</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">Graph</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">Graph</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>
	<span class="token function">Graph</span><span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token operator">&amp;</span> v<span class="token punctuation">)</span>
		<span class="token operator">:</span> <span class="token function">_v</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_matrix</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">vector</span><span class="token generic class-name"><span class="token operator">&lt;</span>W<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> W_MAX<span class="token punctuation">)</span><span class="token punctuation">)</span> 
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_index<span class="token punctuation">[</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">AddEdge</span><span class="token punctuation">(</span><span class="token keyword">const</span> V<span class="token operator">&amp;</span> src<span class="token punctuation">,</span> <span class="token keyword">const</span> V<span class="token operator">&amp;</span> dst<span class="token punctuation">,</span> <span class="token keyword">const</span> W<span class="token operator">&amp;</span> w<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> i_src <span class="token operator">=</span> _index<span class="token punctuation">[</span>src<span class="token punctuation">]</span><span class="token punctuation">,</span> i_dst <span class="token operator">=</span> _index<span class="token punctuation">[</span>dst<span class="token punctuation">]</span><span class="token punctuation">;</span>
		_matrix<span class="token punctuation">[</span>i_src<span class="token punctuation">]</span><span class="token punctuation">[</span>i_dst<span class="token punctuation">]</span> <span class="token operator">=</span> w<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Direction<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_matrix<span class="token punctuation">[</span>i_dst<span class="token punctuation">]</span><span class="token punctuation">[</span>i_src<span class="token punctuation">]</span> <span class="token operator">=</span> w<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
	<span class="token punctuation">{<!-- --></span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"   "</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> e <span class="token operator">:</span> _v<span class="token punctuation">)</span>
			std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> e <span class="token operator">&lt;&lt;</span> <span class="token string">"  "</span><span class="token punctuation">;</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> _matrix<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> _v<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"  "</span><span class="token punctuation">;</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> _matrix<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>_matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> W_MAX<span class="token punctuation">)</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"∞ "</span><span class="token punctuation">;</span>
				<span class="token keyword">else</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> _matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"  "</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token operator">~</span><span class="token function">Graph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span> _v<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>unordered_map<span class="token operator">&lt;</span>V<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> _index<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>W<span class="token operator">&gt;&gt;</span> _matrix<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">Test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	Graph<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">,</span> INT_MAX<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token operator">&gt;</span> <span class="token function">g</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token char">'A'</span><span class="token punctuation">,</span> <span class="token char">'B'</span><span class="token punctuation">,</span> <span class="token char">'D'</span><span class="token punctuation">,</span> <span class="token char">'C'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	g<span class="token punctuation">.</span><span class="token function">AddEdge</span><span class="token punctuation">(</span><span class="token char">'A'</span><span class="token punctuation">,</span> <span class="token char">'C'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	g<span class="token punctuation">.</span><span class="token function">AddEdge</span><span class="token punctuation">(</span><span class="token char">'B'</span><span class="token punctuation">,</span> <span class="token char">'D'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	g<span class="token punctuation">.</span><span class="token function">AddEdge</span><span class="token punctuation">(</span><span class="token char">'D'</span><span class="token punctuation">,</span> <span class="token char">'B'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	g<span class="token punctuation">.</span><span class="token function">AddEdge</span><span class="token punctuation">(</span><span class="token char">'C'</span><span class="token punctuation">,</span> <span class="token char">'A'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	g<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token comment">// namespace AdjacencyMatrix</span>
</code></pre>
    <p>
     调用
     <code>
      AdjacencyMatrix::Test1()
     </code>
     ，输出：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/4fead7ffd76d4c5e83e3563b65ea410d.png"/>
    </p>
    <p>
     然后CV一下，稍稍改改，
     <br/>
     就成了邻接表：
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">namespace</span> AdjacencyList
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">W</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> <span class="token class-name">Edge</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">Edge</span><span class="token punctuation">(</span><span class="token keyword">const</span> W<span class="token operator">&amp;</span> w<span class="token punctuation">)</span> <span class="token operator">:</span><span class="token function">_index</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_w</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_next</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

	<span class="token keyword">int</span> _index<span class="token punctuation">;</span>
	W _w<span class="token punctuation">;</span>
	Edge<span class="token operator">&lt;</span>W<span class="token operator">&gt;</span><span class="token operator">*</span> _next<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">V</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">W</span><span class="token punctuation">,</span> W W_MAX <span class="token operator">=</span> INT_MAX<span class="token punctuation">,</span> <span class="token keyword">bool</span> Direction <span class="token operator">=</span> <span class="token boolean">false</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">Graph</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">typedef</span> Edge<span class="token operator">&lt;</span>W<span class="token operator">&gt;</span> Edge<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">Graph</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>
	<span class="token function">Graph</span><span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span><span class="token operator">&amp;</span> v<span class="token punctuation">)</span>
		<span class="token operator">:</span> <span class="token function">_v</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_list</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_index<span class="token punctuation">[</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">void</span> <span class="token function">_AddEdge</span><span class="token punctuation">(</span><span class="token keyword">int</span> src<span class="token punctuation">,</span> <span class="token keyword">int</span> dst<span class="token punctuation">,</span> <span class="token keyword">const</span> W<span class="token operator">&amp;</span> w<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		Edge<span class="token operator">*</span> pNew <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Edge</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pNew<span class="token operator">-&gt;</span>_index <span class="token operator">=</span> dst<span class="token punctuation">;</span>
		pNew<span class="token operator">-&gt;</span>_next <span class="token operator">=</span> _list<span class="token punctuation">[</span>src<span class="token punctuation">]</span><span class="token punctuation">;</span>
		_list<span class="token punctuation">[</span>src<span class="token punctuation">]</span> <span class="token operator">=</span> pNew<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">void</span> <span class="token function">AddEdge</span><span class="token punctuation">(</span><span class="token keyword">const</span> V<span class="token operator">&amp;</span> src<span class="token punctuation">,</span> <span class="token keyword">const</span> V<span class="token operator">&amp;</span> dst<span class="token punctuation">,</span> <span class="token keyword">const</span> W<span class="token operator">&amp;</span> w<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">_AddEdge</span><span class="token punctuation">(</span>_index<span class="token punctuation">[</span>src<span class="token punctuation">]</span><span class="token punctuation">,</span> _index<span class="token punctuation">[</span>dst<span class="token punctuation">]</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Direction<span class="token punctuation">)</span> <span class="token function">_AddEdge</span><span class="token punctuation">(</span>_index<span class="token punctuation">[</span>dst<span class="token punctuation">]</span><span class="token punctuation">,</span> _index<span class="token punctuation">[</span>src<span class="token punctuation">]</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">void</span> <span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> _list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> 
		<span class="token punctuation">{<!-- --></span>
			std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> _v<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" :: "</span><span class="token punctuation">;</span>
			Edge<span class="token operator">*</span> cur <span class="token operator">=</span> _list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">)</span> 
			<span class="token punctuation">{<!-- --></span>
				std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> _v<span class="token punctuation">[</span>cur<span class="token operator">-&gt;</span>_index<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token char">':'</span> <span class="token operator">&lt;&lt;</span> cur<span class="token operator">-&gt;</span>_w <span class="token operator">&lt;&lt;</span> <span class="token string">"-&gt;"</span><span class="token punctuation">;</span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"nullptr"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token operator">~</span><span class="token function">Graph</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> e <span class="token operator">:</span> _list<span class="token punctuation">)</span> 
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> 
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">auto</span> tmp <span class="token operator">=</span> e<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>
				<span class="token keyword">delete</span> e<span class="token punctuation">;</span>
				e <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

<span class="token keyword">private</span><span class="token operator">:</span>
	std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>V<span class="token operator">&gt;</span> _v<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>unordered_map<span class="token operator">&lt;</span>V<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> _index<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>Edge<span class="token operator">*</span><span class="token operator">&gt;</span> _list<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">Test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	Graph<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">,</span> INT_MAX<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token operator">&gt;</span> <span class="token function">g</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token char">'A'</span><span class="token punctuation">,</span> <span class="token char">'B'</span><span class="token punctuation">,</span> <span class="token char">'D'</span><span class="token punctuation">,</span> <span class="token char">'C'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	g<span class="token punctuation">.</span><span class="token function">AddEdge</span><span class="token punctuation">(</span><span class="token char">'A'</span><span class="token punctuation">,</span> <span class="token char">'C'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	g<span class="token punctuation">.</span><span class="token function">AddEdge</span><span class="token punctuation">(</span><span class="token char">'B'</span><span class="token punctuation">,</span> <span class="token char">'D'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	g<span class="token punctuation">.</span><span class="token function">AddEdge</span><span class="token punctuation">(</span><span class="token char">'D'</span><span class="token punctuation">,</span> <span class="token char">'B'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	g<span class="token punctuation">.</span><span class="token function">AddEdge</span><span class="token punctuation">(</span><span class="token char">'C'</span><span class="token punctuation">,</span> <span class="token char">'A'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	g<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token comment">// namespace AdjacencyList</span>
</code></pre>
    <p>
     调用AdjacencyList::Test1()，输出：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/3482ac2e927748a9bea0a97f9c479fc0.png"/>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/c7433c4ad535413a9279bfef23bcae1c.gif#pic_center"/>
    </p>
    <hr/>
    <p>
     希望本篇文章对你有所帮助！并激发你进一步探索编程的兴趣！
     <br/>
     本人仅是个C语言初学者，如果你有任何疑问或建议，欢迎随时留言讨论！让我们一起学习，共同进步！
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323430315f38363538373235362f:61727469636c652f64657461696c732f313436303230353033" class_="artid" style="display:none">
 </p>
</div>


