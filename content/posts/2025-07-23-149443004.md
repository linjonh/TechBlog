---
layout: post
title: "RabbitMQ-RabbitListeneråŠRabbitHandle"
date: 2025-07-23T08:34:22+0800
description: "Spring AMQPä¸­@RabbitListenerä¸@RabbitHandlerçš„æ ¸å¿ƒåŒºåˆ«ï¼šå‰è€…è´Ÿè´£ç»‘å®šé˜Ÿåˆ—ä¸å¯åŠ¨ç›‘å¬ï¼Œåè€…å¤„ç†æ¶ˆæ¯ç±»å‹åˆ†å‘ã€‚@RabbitListenerå¯å•ç‹¬ç”¨äºæ–¹æ³•çº§ç›‘å¬ï¼ˆå¤„ç†å•ä¸€æ¶ˆæ¯ç±»å‹ï¼‰ï¼Œç±»çº§ä½¿ç”¨æ—¶éœ€é…åˆ@RabbitHandlerå®ç°å¤šç±»å‹æ¶ˆæ¯å¤„ç†ã€‚å…³é”®å·®å¼‚åœ¨äºï¼š@RabbitListenerå®šä¹‰ç›‘å¬ç›®æ ‡ï¼Œ@RabbitHandlerå®šä¹‰å¤„ç†æ–¹æ³•ã€‚åœ¨Fanoutå¹¿æ’­åœºæ™¯ä¸‹ï¼Œå¤šä¸ª@RabbitListenerå¯ç»‘å®šä¸åŒé˜Ÿåˆ—æ¥æ”¶ç›¸åŒæ¶ˆæ¯ï¼›è€ŒåŒä¸€é˜Ÿåˆ—çš„å¤šç±»å‹æ¶ˆæ¯å¤„ç†åˆ™éœ€è¦ç±»çº§@Ra"
keywords: "rabbitlistener"
categories: ['Rabbitmq']
tags: ['å¼€å‘è¯­è¨€', 'åç«¯', 'Rabbitmq', 'Java']
artid: "149443004"
arturl: "https://blog.csdn.net/m0_57921272/article/details/149443004"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=149443004
    alt: "RabbitMQ-RabbitListeneråŠRabbitHandle"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=149443004
featuredImagePreview: https://bing.ee123.net/img/rand?artid=149443004
cover: https://bing.ee123.net/img/rand?artid=149443004
image: https://bing.ee123.net/img/rand?artid=149443004
img: https://bing.ee123.net/img/rand?artid=149443004
---



# RabbitMQ--@RabbitListeneråŠ@RabbitHandle



> ## ä¸¤è€…åŒºåˆ«
>
> Â Â Â åœ¨Â **Spring AMQP**Â ä¸­ï¼Œ`@RabbitListener`Â å’ŒÂ `@RabbitHandler`Â æ˜¯å¤„ç† RabbitMQ æ¶ˆæ¯çš„æ ¸å¿ƒæ³¨è§£ï¼Œä½†èŒè´£å’Œä½¿ç”¨åœºæ™¯å®Œå…¨ä¸åŒã€‚ä»¥ä¸‹ä»Â **å®šä¹‰ã€åŒºåˆ«ã€åœºæ™¯ã€ç¤ºä¾‹**Â é€å±‚è§£æï¼š
>
> #### **ä¸€ã€æ ¸å¿ƒå®šä¹‰**
>
> 1.Â `@RabbitListener`
>
> * **ä½œç”¨**ï¼šæ ‡è®°Â **æ–¹æ³•æˆ–ç±»**Â ä¸ºÂ **RabbitMQ æ¶ˆæ¯ç›‘å¬å™¨**ï¼Œè´Ÿè´£ç»‘å®šé˜Ÿåˆ—ã€å¯åŠ¨æ¶ˆæ¯ç›‘å¬ã€‚
> * **èƒ½åŠ›**ï¼š
>   + å¯ç›´æ¥å£°æ˜é˜Ÿåˆ—ã€äº¤æ¢æœºã€ç»‘å®šå…³ç³»ï¼ˆé€šè¿‡Â `@QueueBinding`ï¼‰ã€‚
>   + å¯åŠ¨åï¼ŒæŒç»­ç›‘å¬é˜Ÿåˆ—ï¼Œæ¥æ”¶æ¶ˆæ¯å¹¶å¤„ç†ã€‚
>
> 2.Â `@RabbitHandler`
>
> * **ä½œç”¨**ï¼šåœ¨Â **`@RabbitListener`Â æ ‡è®°çš„ç±»ä¸­**ï¼Œæ ¹æ®Â **æ¶ˆæ¯ payload çš„ç±»å‹**ï¼Œå°†æ¶ˆæ¯åˆ†å‘ç»™å¯¹åº”çš„æ–¹æ³•ã€‚
> * **èƒ½åŠ›**ï¼šå®ç°Â **åŒä¸€é˜Ÿåˆ—å†…å¤šç§æ¶ˆæ¯ç±»å‹çš„å·®å¼‚åŒ–å¤„ç†**ï¼ˆç±»ä¼¼ Java çš„æ–¹æ³•é‡è½½ï¼‰ã€‚
>
> #### **äºŒã€å…³é”®åŒºåˆ«**
>
> | **ç»´åº¦** | `@RabbitListener` | `@RabbitHandler` |
> | --- | --- | --- |
> | **æ ‡è®°ä½ç½®** | æ–¹æ³•Â **æˆ–**Â ç±»ï¼ˆç±»éœ€æ˜¯ Spring ç»„ä»¶ï¼Œå¦‚Â `@Component`ï¼‰ | **åªèƒ½æ ‡è®°æ–¹æ³•**ï¼Œä¸”å¿…é¡»åœ¨Â `@RabbitListener`Â æ ‡è®°çš„ç±»ä¸­ |
> | **æ ¸å¿ƒèŒè´£** | ç»‘å®šé˜Ÿåˆ—ã€å¯åŠ¨ç›‘å¬ï¼Œå®šä¹‰ â€œç›‘å¬å“ªä¸ªé˜Ÿåˆ—â€ | æ ¹æ®æ¶ˆæ¯ç±»å‹ï¼Œåˆ†å‘åˆ°å…·ä½“æ–¹æ³•ï¼Œå®šä¹‰ â€œå¦‚ä½•å¤„ç†è¯¥ç±»å‹æ¶ˆæ¯â€ |
> | **ä¾èµ–å…³ç³»** | å¯ç‹¬ç«‹ä½¿ç”¨ï¼ˆæ–¹æ³•çº§ï¼‰ï¼›ç±»çº§ä½¿ç”¨æ—¶éœ€é…åˆÂ `@RabbitHandler` | **å¿…é¡»ä¾èµ–Â `@RabbitListener`ï¼ˆç±»çº§ï¼‰**ï¼Œæ— æ³•å•ç‹¬ä½¿ç”¨ |
> | **æ¶ˆæ¯ç»‘å®š** | é€šè¿‡Â `@QueueBinding`Â å£°æ˜é˜Ÿåˆ—ã€äº¤æ¢æœºã€è·¯ç”±é”® | ä¸æ¶‰åŠé˜Ÿåˆ—ç»‘å®šï¼Œåªè´Ÿè´£ç±»å‹åŒ¹é… |
>
> #### **ä¸‰ã€ä½¿ç”¨åœºæ™¯å¯¹æ¯”**
>
> 1.Â `@RabbitListener`Â å•ç‹¬ä½¿ç”¨ï¼ˆæ–¹æ³•çº§ï¼‰
>
> * **åœºæ™¯**ï¼šé˜Ÿåˆ—ä¸­çš„Â **æ¶ˆæ¯ç±»å‹å•ä¸€**ï¼ˆå¦‚åªæœ‰Â `String`Â æˆ–å•ä¸€å¯¹è±¡ï¼‰ï¼Œä¸€ä¸ªæ–¹æ³•å³å¯å¤„ç†ã€‚
> * **ç¤ºä¾‹**ï¼š
>
>   ```
>
>   @Component
>   public class SimpleListener {
>       // ç›´æ¥ç›‘å¬ "simple_queue"ï¼Œå¤„ç† String ç±»å‹æ¶ˆæ¯
>       @RabbitListener(queues = "simple_queue")
>       public void handleString(String message) {
>           System.out.println("æ”¶åˆ°å­—ç¬¦ä¸²æ¶ˆæ¯: " + message);
>       }
>   }
>
>   ```
>
> 2.Â `@RabbitListener`ï¼ˆç±»çº§ï¼‰ +Â `@RabbitHandler`ï¼ˆå¤šæ–¹æ³•ï¼‰
>
> * **åœºæ™¯**ï¼šé˜Ÿåˆ—ä¸­çš„Â **æ¶ˆæ¯ç±»å‹å¤šæ ·**ï¼ˆå¦‚åŒæ—¶æœ‰Â `String`ã€`User`ã€`Order`Â ç­‰ï¼‰ï¼Œéœ€ä¸åŒæ–¹æ³•å¤„ç†ã€‚
> * **ç¤ºä¾‹**ï¼š
>
>   ```
>
>   @Component
>   @RabbitListener(queues = "mixed_queue") // ç›‘å¬æ··åˆç±»å‹æ¶ˆæ¯çš„é˜Ÿåˆ—
>   public class MixedListener {
>
>       // å¤„ç† String ç±»å‹æ¶ˆæ¯
>       @RabbitHandler
>       public void handleString(String message) {
>           System.out.println("å­—ç¬¦ä¸²æ¶ˆæ¯: " + message);
>       }
>
>       // å¤„ç† User ç±»å‹æ¶ˆæ¯ï¼ˆéœ€ä¿è¯ç”Ÿäº§è€…å‘é€çš„æ˜¯ User å¯¹è±¡ï¼Œä¸”åºåˆ—åŒ–æ­£ç¡®ï¼‰
>       @RabbitHandler
>       public void handleUser(User user) {
>           System.out.println("ç”¨æˆ·æ¶ˆæ¯: " + user.getName());
>       }
>
>       // å¤„ç† Order ç±»å‹æ¶ˆæ¯
>       @RabbitHandler
>       public void handleOrder(Order order) {
>           System.out.println("è®¢å•æ¶ˆæ¯: " + order.getOrderId());
>       }
>   }
>
>   ```
>
> 3. é«˜çº§ç”¨æ³•ï¼š`@QueueBinding`Â ä¸Â `@RabbitListener`Â ç»“åˆ
>
> * **åœºæ™¯**ï¼šç›‘å¬é˜Ÿåˆ—æ—¶ï¼Œéœ€Â **åŠ¨æ€å£°æ˜é˜Ÿåˆ—ã€äº¤æ¢æœºã€ç»‘å®šå…³ç³»**ï¼ˆæ— éœ€æ‰‹åŠ¨åœ¨ RabbitMQ ç®¡ç†ç•Œé¢åˆ›å»ºï¼‰ã€‚
> * **ç¤ºä¾‹**ï¼ˆDirect äº¤æ¢æœº + è·¯ç”±é”®ç»‘å®šï¼‰ï¼š
>
>   java
>
>   ```
>
>   @Component
>   public class DirectListener {
>       // å£°æ˜é˜Ÿåˆ—ã€äº¤æ¢æœºã€ç»‘å®šå…³ç³»ï¼ŒåŒæ—¶ç›‘å¬æ¶ˆæ¯
>       @RabbitListener(bindings = @QueueBinding(
>           value = @Queue(name = "direct_queue", durable = "true"),
>           exchange = @Exchange(name = "direct_exchange", type = ExchangeTypes.DIRECT),
>           key = "direct_key" // è·¯ç”±é”®
>       ))
>       public void handleDirectMessage(String message) {
>           System.out.println("Direct æ¶ˆæ¯: " + message);
>       }
>   }
>
>   ```
>
> #### **å››ã€åº•å±‚åŸç†ï¼šä¸ºä»€ä¹ˆéœ€è¦ä¸¤è€…é…åˆï¼Ÿ**
>
> * **`@RabbitListener`**Â è´Ÿè´£Â **â€œè¿æ¥ MQ å¹¶è®¢é˜…é˜Ÿåˆ—â€**ï¼Œæ˜¯æ¶ˆæ¯ç›‘å¬çš„å…¥å£ã€‚
> * **`@RabbitHandler`**Â è´Ÿè´£Â **â€œæ¶ˆæ¯ç±»å‹åˆ†å‘â€**ï¼Œè§£å†³ â€œåŒä¸€é˜Ÿåˆ—å†…å¤šç§æ¶ˆæ¯ç±»å‹å¦‚ä½•å·®å¼‚åŒ–å¤„ç†â€ çš„é—®é¢˜ã€‚
>
> ç±»æ¯”ï¼š`@RabbitListener`Â æ˜¯ â€œå¿«é€’ç«™â€ï¼ˆè®¢é˜…é˜Ÿåˆ—ï¼Œæ¥æ”¶åŒ…è£¹ï¼‰ï¼Œ`@RabbitHandler`Â æ˜¯ â€œåˆ†æ‹£å‘˜â€ï¼ˆæ ¹æ®åŒ…è£¹å†…å®¹ï¼Œåˆ†ç»™ä¸åŒçš„å¤„ç†äººå‘˜ï¼‰ã€‚
>
> #### **äº”ã€é¿å‘æŒ‡å—**
>
> 1. **`@RabbitHandler`Â åªåœ¨ç±»çº§Â `@RabbitListener`Â ä¸­ç”Ÿæ•ˆ**ï¼š
>
>    * å¦‚æœÂ `@RabbitListener`Â æ ‡è®°æ–¹æ³•ï¼Œ`@RabbitHandler`Â ä¼šè¢«å¿½ç•¥ã€‚
> 2. **æ¶ˆæ¯ç±»å‹å¿…é¡»åŒ¹é…**ï¼š
>
>    * ç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯éœ€æ­£ç¡®åºåˆ—åŒ–ï¼ˆå¦‚ JSONï¼‰ï¼Œæ¶ˆè´¹è€…æ‰èƒ½ååºåˆ—åŒ–ä¸ºÂ `@RabbitHandler`Â æ–¹æ³•çš„å‚æ•°ç±»å‹ã€‚
>    * è‹¥ç±»å‹ä¸åŒ¹é…ï¼Œä¼šæŠ›å‡ºÂ `AmqpException`ï¼ˆå¦‚ â€œæ‰¾ä¸åˆ°åŒ¹é…çš„Â `@RabbitHandler`Â æ–¹æ³•â€ï¼‰ã€‚
> 3. **ç±»çº§Â `@RabbitListener`Â éœ€æ˜¯ Spring ç»„ä»¶**ï¼š
>
>    * æ ‡è®°Â `@Component`ã€`@Service`Â ç­‰ï¼Œç¡®ä¿ Spring æ‰«æå¹¶åˆ›å»º Beanï¼Œå¦åˆ™ç›‘å¬ä¸ç”Ÿæ•ˆã€‚
>
> #### **æ€»ç»“ï¼šå¦‚ä½•é€‰æ‹©ï¼Ÿ**
>
> * **ç®€å•åœºæ™¯**ï¼ˆå•ä¸€æ¶ˆæ¯ç±»å‹ï¼‰ï¼šç›´æ¥ç”¨Â **æ–¹æ³•çº§Â `@RabbitListener`**ï¼Œæ— éœ€Â `@RabbitHandler`ã€‚
> * **å¤æ‚åœºæ™¯**ï¼ˆå¤šæ¶ˆæ¯ç±»å‹ï¼‰ï¼šç”¨Â **ç±»çº§Â `@RabbitListener`Â + å¤šä¸ªÂ `@RabbitHandler`**ï¼ŒæŒ‰ç±»å‹åˆ†å‘å¤„ç†ã€‚
> * **éœ€åŠ¨æ€å£°æ˜é˜Ÿåˆ— / äº¤æ¢æœº**ï¼šç»“åˆÂ `@QueueBinding`Â å’ŒÂ `@RabbitListener`ï¼ˆæ–¹æ³•çº§æˆ–ç±»çº§å‡å¯ï¼‰ã€‚
>
> ## é‚£è¦æ˜¯ç»‘å®šä¸åŒçš„æ¶ˆæ¯é˜Ÿåˆ—å‘¢ï¼Ÿ
>
> **ä»¥Fanoutäº¤æ¢æœºä¸ºä¾‹**
>
> #### **å…ˆçœ‹ä»£ç çš„æ ¸å¿ƒé€»è¾‘ï¼šæ¯ä¸ªÂ `@RabbitListener`Â éƒ½ç»‘å®šäº†**ç‹¬ç«‹çš„ä¸´æ—¶é˜Ÿåˆ—
>
> **Fanout äº¤æ¢æœºçš„å¹¿æ’­ç‰¹æ€§**
>
> Â ç¤ºä¾‹ä¸­ï¼Œä¸¤ä¸ªÂ `@RabbitListener`Â çš„ç»“æ„å¦‚ä¸‹ï¼ˆç®€åŒ–åˆ†æï¼‰ï¼š
>
> ```
>
> @Component
> public class FanoutCustomer {
>
>     // ğŸ”µ æ¶ˆè´¹è€…1ï¼šç»‘å®šä¸´æ—¶é˜Ÿåˆ—A â†’ äº¤æ¢æœºlogsï¼ˆFanoutï¼‰
>     @RabbitListener(bindings = @QueueBinding(
>         value = @Queue, // ä¸´æ—¶é˜Ÿåˆ—Aï¼ˆæ— åç§°ï¼Œè‡ªåŠ¨ç”Ÿæˆï¼‰
>         exchange = @Exchange(value = "logs", type = "fanout")
>     ))
>     public void receive1(String message) { ... }
>
>     // ğŸ”µ æ¶ˆè´¹è€…2ï¼šç»‘å®šä¸´æ—¶é˜Ÿåˆ—B â†’ äº¤æ¢æœºlogsï¼ˆFanoutï¼‰
>     @RabbitListener(bindings = @QueueBinding(
>         value = @Queue, // ä¸´æ—¶é˜Ÿåˆ—Bï¼ˆæ— åç§°ï¼Œè‡ªåŠ¨ç”Ÿæˆï¼Œä¸Aä¸åŒï¼‰
>         exchange = @Exchange(value = "logs", type = "fanout")
>     ))
>     public void receive2(String message) { ... }
> }
>
> ```
>
> #### **äºŒã€å…³é”®æœºåˆ¶ï¼šæ¯ä¸ªÂ `@RabbitListener`Â éƒ½ä¼šåˆ›å»ºç‹¬ç«‹çš„é˜Ÿåˆ—**
>
> * **`@Queue`Â æ— åç§° â†’ ä¸´æ—¶é˜Ÿåˆ—**ï¼š  
>   Spring AMQP ä¼šä¸ºæ¯ä¸ªÂ `@Queue`ï¼ˆæ— åç§°ï¼‰ç”ŸæˆÂ **å”¯ä¸€çš„ä¸´æ—¶é˜Ÿåˆ—**ï¼ˆå¦‚Â `amq.gen-xxx`ï¼‰ï¼Œè¿æ¥å…³é—­æ—¶è‡ªåŠ¨åˆ é™¤ã€‚
> * **æ¯ä¸ªÂ `@RabbitListener`Â ç»‘å®šè‡ªå·±çš„é˜Ÿåˆ—**ï¼š  
>   `receive1`Â ç»‘å®šÂ **ä¸´æ—¶é˜Ÿåˆ— A**ï¼Œ`receive2`Â ç»‘å®šÂ **ä¸´æ—¶é˜Ÿåˆ— B**ï¼Œä¸¤ä¸ªé˜Ÿåˆ—ç›¸äº’ç‹¬ç«‹ã€‚
>
> #### **ä¸‰ã€Fanout äº¤æ¢æœºçš„å¹¿æ’­ç‰¹æ€§ï¼šä¸¤ä¸ªé˜Ÿåˆ—éƒ½ä¼šæ”¶åˆ°æ¶ˆæ¯**
>
> Fanout äº¤æ¢æœºçš„æ ¸å¿ƒæ˜¯Â **â€œå¹¿æ’­æ¶ˆæ¯åˆ°æ‰€æœ‰ç»‘å®šçš„é˜Ÿåˆ—â€**ï¼š
>
> * å½“ç”Ÿäº§è€…å‘Â `logs`Â äº¤æ¢æœºå‘æ¶ˆæ¯æ—¶ï¼Œ**ä¸´æ—¶é˜Ÿåˆ— A å’Œ B éƒ½ä¼šæ”¶åˆ°ç›¸åŒçš„æ¶ˆæ¯**ã€‚
> * å› æ­¤ï¼Œ`receive1`Â å’ŒÂ `receive2`Â éƒ½ä¼šè¢«è§¦å‘ï¼Œå„è‡ªå¤„ç†è‡ªå·±é˜Ÿåˆ—é‡Œçš„æ¶ˆæ¯ï¼ˆå†…å®¹ç›¸åŒï¼Œä½†å±äºä¸åŒé˜Ÿåˆ—çš„æ¶ˆè´¹ï¼‰ã€‚
>
> #### **å››ã€ä¸ºä»€ä¹ˆä¸ç”¨Â `@RabbitHandler`ï¼Ÿï¼ˆå¯¹æ¯”åœºæ™¯ï¼‰**
>
> Â Â Â Â Â Â Â Â ä»¥Â **Fanout äº¤æ¢æœºçš„å¹¿æ’­**
>
> `@RabbitHandler`Â çš„æ ¸å¿ƒæ˜¯Â **â€œåŒä¸€é˜Ÿåˆ—å†…çš„æ¶ˆæ¯ç±»å‹åˆ†å‘â€**ï¼Œè€Œç¤ºä¾‹çš„åœºæ™¯æ˜¯Â **â€œå¤šé˜Ÿåˆ—çš„å¹¿æ’­æ¶ˆè´¹â€**ï¼Œä¸¤è€…é€‚ç”¨åœºæ™¯å®Œå…¨ä¸åŒï¼š
>
> **åœºæ™¯ 1ï¼šå¤šé˜Ÿåˆ—å¹¿æ’­ï¼ˆç¤ºä¾‹ä¸­çš„ç”¨æ³•ï¼‰**
>
> * **éœ€æ±‚**ï¼šè®©Â **å¤šä¸ªæ¶ˆè´¹è€…ï¼ˆé˜Ÿåˆ—ï¼‰éƒ½æ”¶åˆ°æ¶ˆæ¯**ï¼ˆå¦‚æ—¥å¿—ç³»ç»Ÿï¼Œå¤šä¸ªæ¶ˆè´¹è€…åˆ†åˆ«è®°å½•æ—¥å¿—ã€æ¨é€é€šçŸ¥ï¼‰ã€‚
> * **å®ç°**ï¼šæ¯ä¸ªæ¶ˆè´¹è€…ç”¨Â `@RabbitListener`Â ç»‘å®šç‹¬ç«‹é˜Ÿåˆ—ï¼ˆä¸´æ—¶é˜Ÿåˆ—ï¼‰ï¼Œå€ŸåŠ© Fanout äº¤æ¢æœºçš„å¹¿æ’­ç‰¹æ€§ï¼Œè®©æ‰€æœ‰é˜Ÿåˆ—éƒ½æ”¶åˆ°æ¶ˆæ¯ã€‚
>
> **åœºæ™¯ 2ï¼šåŒä¸€é˜Ÿåˆ—çš„å¤šç±»å‹æ¶ˆæ¯ï¼ˆéœ€ç”¨Â `@RabbitHandler`ï¼‰**
>
> * **éœ€æ±‚**ï¼šåŒä¸€é˜Ÿåˆ—é‡Œæœ‰Â **ä¸åŒç±»å‹çš„æ¶ˆæ¯**ï¼ˆå¦‚Â `String`ã€`User`ã€`Order`ï¼‰ï¼Œéœ€åˆ†å‘ç»™ä¸åŒæ–¹æ³•å¤„ç†ã€‚
> * **å®ç°**ï¼š
>
>   ```
>
>   @Component
>   @RabbitListener(queues = "mixed_queue") // ç›‘å¬åŒä¸€ä¸ªé˜Ÿåˆ—
>   public class MixedListener {
>       // å¤„ç† String ç±»å‹
>       @RabbitHandler
>       public void handleString(String msg) { ... }
>       // å¤„ç† User ç±»å‹
>       @RabbitHandler
>       public void handleUser(User user) { ... }
>   }
>
>   ```
>
> #### **äº”ã€æ€»ç»“ï¼šä¸¤ä¸ªÂ `@RabbitListener`Â çš„è®¾è®¡æ„å›¾**
>
> **Fanout äº¤æ¢æœºçš„å¹¿æ’­ç‰¹æ€§**
>
> Â  Â ç¤ºä¾‹ä¸­ï¼Œä¸¤ä¸ªÂ `@RabbitListener`Â å¹¶é â€œå¤„ç†ä¸åŒæ¶ˆæ¯ç±»å‹â€ï¼Œè€Œæ˜¯Â **â€œæ¨¡æ‹Ÿä¸¤ä¸ªç‹¬ç«‹çš„æ¶ˆè´¹è€…ï¼ŒåŒæ—¶æ¥æ”¶ Fanout äº¤æ¢æœºçš„å¹¿æ’­æ¶ˆæ¯â€**ï¼š
>
> * æ¯ä¸ªÂ `@RabbitListener`Â å¯¹åº”ä¸€ä¸ªÂ **ç‹¬ç«‹çš„ä¸´æ—¶é˜Ÿåˆ—**ï¼Œéƒ½ç»‘å®šåˆ° Fanout äº¤æ¢æœºã€‚
> * Fanout äº¤æ¢æœºå°†æ¶ˆæ¯å¹¿æ’­åˆ°ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œå› æ­¤Â `receive1`Â å’ŒÂ `receive2`Â éƒ½ä¼šè¢«è°ƒç”¨ï¼Œå®ç° â€œåŒä¸€æ¶ˆæ¯è¢«å¤šä¸ªæ¶ˆè´¹è€…å¤„ç†â€ çš„æ•ˆæœï¼ˆå¦‚æ—¥å¿—æ—¢å­˜æ–‡ä»¶åˆæ¨é€åˆ°å‰ç«¯ï¼‰ã€‚
>
> #### **æ‰©å±•æ€è€ƒï¼šå¦‚æœè¦è®©åŒä¸€é˜Ÿåˆ—æ”¯æŒå¤šç±»å‹æ¶ˆæ¯ï¼Œå¦‚ä½•æ”¹é€ ï¼Ÿ**
>
> åªéœ€å°†ä¸¤ä¸ªÂ `@RabbitListener`Â æ”¹ä¸ºÂ **ç±»çº§Â `@RabbitListener`Â +Â `@RabbitHandler`**
>
> ```
>
> @Component
> @RabbitListener(bindings = @QueueBinding(
>     value = @Queue, // å•ä¸ªä¸´æ—¶é˜Ÿåˆ—
>     exchange = @Exchange(value = "logs", type = "fanout")
> ))
> public class FanoutCustomer {
>     // å¤„ç† String æ¶ˆæ¯
>     @RabbitHandler
>     public void receive1(String message) { ... }
>     // å¤„ç† User æ¶ˆæ¯ï¼ˆå‡è®¾ç”Ÿäº§è€…å‘ User å¯¹è±¡ï¼‰
>     @RabbitHandler
>     public void receive2(User user) { ... }
> }
>
> ```
>
> æ­¤æ—¶ï¼Œ**åŒä¸€ä¸ªä¸´æ—¶é˜Ÿåˆ—**Â æ¥æ”¶ Fanout å¹¿æ’­çš„æ¶ˆæ¯ï¼Œ`@RabbitHandler`Â æ ¹æ®æ¶ˆæ¯ç±»å‹ï¼ˆ`String`Â æˆ–Â `User`ï¼‰åˆ†å‘åˆ°ä¸åŒæ–¹æ³•ã€‚
>
> ç†è§£è¿™ä¸€ç‚¹åï¼Œå°±èƒ½åŒºåˆ†ï¼š
>
> * **å¤šé˜Ÿåˆ—å¹¿æ’­**Â â†’ å¤šä¸ªÂ `@RabbitListener`ï¼ˆæ¯ä¸ªç»‘å®šç‹¬ç«‹é˜Ÿåˆ—ï¼‰ã€‚
> * **åŒä¸€é˜Ÿåˆ—å¤šç±»å‹**Â â†’ ç±»çº§Â `@RabbitListener`Â + å¤šä¸ªÂ `@RabbitHandler`ã€‚



