---
arturl_encode: "68747470733a2f2f62:6c6f672e6373646e2e6e65742f7778647a756973686175692f:61727469636c652f64657461696c732f313436323038383431"
layout: post
title: "ç®—æ³•ç²¾è®²-æ ‘ç•ªå¤–å¹³è¡¡ä¸–ç•Œçš„å››å¤§å®ˆæŠ¤è€…AVL-vs-çº¢é»‘æ ‘-vs-Bæ ‘-vs-Bæ ‘"
date: 2025-03-12 16:42:54 +08:00
description: "â‘  æ–‡ä»¶ç³»ç»Ÿéœ€è¦å¿«é€Ÿå®šä½å•ä¸ªæ–‡ä»¶ â‘¡ Bæ ‘éå¶èŠ‚ç‚¹å­˜æ•°æ®æœ‰åˆ©å°æ–‡ä»¶ â‘¢ B+æ ‘æ›´é€‚åˆèŒƒå›´æ‰«æã€‚æ˜¯å¼ºè¿«ç—‡çš„AVLï¼Œæ½®æµçš„çº¢é»‘æ ‘ï¼Œè¿˜æ˜¯ç£ç›˜å¤§å¸ˆB+æ ‘ï¼Ÿæ¯”å¦‚4KBé¡µï¼Œå‡è®¾keyå 16Bï¼Œtâ‰ˆ4KB/(16B+8B)=170ã€‚ï¼šâ‘  æŸ¥è¯¢æ›´ç¨³å®šï¼ˆéƒ½è¦åˆ°å¶å­å±‚ï¼‰ â‘¡ èŒƒå›´æŸ¥è¯¢åŠæ‰“Bæ ‘ â‘¢ éå¶èŠ‚ç‚¹æ›´\"è‹—æ¡\"ï¼šä¸ºä»€ä¹ˆLinuxæ–‡ä»¶ç³»ç»Ÿç”¨Bæ ‘è€Œä¸ç”¨B+æ ‘ï¼Ÿï¼šçº¢é»‘æ ‘ä¸ºä»€ä¹ˆæ¯”AVLæ ‘åº”ç”¨æ›´å¹¿ï¼Ÿï¼šHashMapä¸ºä»€ä¹ˆä¸ç”¨çº¢é»‘æ ‘ï¼Ÿï¼šä¸ºä»€ä¹ˆæ•°æ®åº“ç”¨B+æ ‘ä¸ç”¨Bæ ‘ï¼Ÿï¼šB+æ ‘å¶å­é“¾è¡¨å¦‚ä½•ç»´æŠ¤ï¼Ÿï¼šBæ ‘çš„tå€¼æ€ä¹ˆé€‰ï¼Ÿ"
keywords: "ç®—æ³•ç²¾è®² | æ ‘ï¼ˆç•ªå¤–ï¼‰ï¼šå¹³è¡¡ä¸–ç•Œçš„å››å¤§å®ˆæŠ¤è€…ï¼šAVL vs çº¢é»‘æ ‘ vs Bæ ‘ vs B+æ ‘"
categories: ['ç®—æ³•ç²¾è®²', 'æ ‘å›¾']
tags: ['ç®—æ³•', 'å‰ç«¯', 'B']
artid: "146208841"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146208841
    alt: "ç®—æ³•ç²¾è®²-æ ‘ç•ªå¤–å¹³è¡¡ä¸–ç•Œçš„å››å¤§å®ˆæŠ¤è€…AVL-vs-çº¢é»‘æ ‘-vs-Bæ ‘-vs-Bæ ‘"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146208841
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146208841
cover: https://bing.ee123.net/img/rand?artid=146208841
image: https://bing.ee123.net/img/rand?artid=146208841
img: https://bing.ee123.net/img/rand?artid=146208841
---

# ç®—æ³•ç²¾è®² | æ ‘ï¼ˆç•ªå¤–ï¼‰ï¼šå¹³è¡¡ä¸–ç•Œçš„å››å¤§å®ˆæŠ¤è€…ï¼šAVL vs çº¢é»‘æ ‘ vs Bæ ‘ vs B+æ ‘

## ğŸŒ² **ç®—æ³•ç²¾è®² | æ ‘ï¼ˆç•ªå¤–ï¼‰ï¼šå¹³è¡¡ä¸–ç•Œçš„å››å¤§å®ˆæŠ¤è€…ï¼šAVL vs çº¢é»‘æ ‘ vs Bæ ‘ vs B+æ ‘**

> `ğŸ“… 2025/03/12 || ğŸŒŸ æ¨èé˜…è¯»æ—¶é—´ 30åˆ†é’Ÿ`

---

### ğŸš€ å¼€ç¯‡ï¼šæ•°æ®ç»“æ„ç•Œçš„å››å¤§å¤©ç‹

æƒ³è±¡ä½ æ˜¯ä¸€åå›¾ä¹¦ç®¡ç†å‘˜ï¼Œé¢å¯¹å››ç§ç¥å¥‡çš„ä¹¦æ¶ï¼š

* **AVLæ ‘ä¹¦æ¶**
  ï¼šå¼ºè¿«ç—‡æ™šæœŸï¼Œæ¯æ”¾ä¸€æœ¬ä¹¦éƒ½è¦æ‹¿æ°´å¹³ä»ªæµ‹é‡ ğŸ“
* **çº¢é»‘æ ‘ä¹¦æ¶**
  ï¼šæ—¶å°šå¼„æ½®å„¿ï¼Œç»™ä¹¦æ¶æ¶‚çº¢é»‘æ¡çº¹ ğŸ¨
* **Bæ ‘ä¹¦æ¶**
  ï¼šä¿„ç½—æ–¯å¥—å¨ƒå¤§å¸ˆï¼Œæ¯ä¸ªéš”å±‚èƒ½è£… 100 æœ¬ä¹¦ ğŸ“š
* **B+æ ‘ä¹¦æ¶**
  ï¼šç›®å½•ç‹‚é­”ï¼ŒæŠŠç´¢å¼•åˆ»åœ¨æ¯ä¸€å±‚ ğŸ—‚ï¸

ä»Šå¤©æˆ‘ä»¬ä¸€èµ·ç ´è§£å®ƒä»¬çš„ç§˜å¯†ï¼

---

### ğŸ—ºï¸ çŸ¥è¯†å¯¼èˆªå›¾

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/8ac7625414fb46ee9cddbe65ade7e573.png)

---

### ä¸€ã€AVLæ ‘ï¼šå¹³è¡¡å¼ºè¿«ç—‡æ‚£è€…

#### 1.1 æ—‹è½¬æ‰‹æœ¯å››éƒ¨æ›²

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/df21d710c4e24b04b43cd9873ea8688e.png)

##### âš”ï¸ å³æ—‹ä»£ç æ¼”ç¤º

```java
TreeNode rightRotate(TreeNode y) {
    TreeNode x = y.left;   // æŠ“ä½å·¦å­©å­
    TreeNode T2 = x.right; // å¯„å­˜å³å­™å­
  
    x.right = y;           // ä¹¾å¤å¤§æŒªç§»
    y.left = T2;           // è®¤é¢†æ–°å­™å­
  
    updateHeight(y);       // ğŸ“ æ›´æ–°èº«é«˜
    updateHeight(x);       // ğŸ“ ç²¾ç¡®åˆ°æ¯«ç±³
    return x;              // æ–°æŒé—¨ç™»åŸº
}

```

---

### äºŒã€çº¢é»‘æ ‘ï¼šæŸ“å‘è‰ºæœ¯å®¶

#### 2.1 çº¢é»‘æ³•å…¸äº”æ¡

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/9ce687e6247847d89aabb14d0fce6387.png)

#### 2.2 æ’å…¥ä¿®å¤ä¸‰éƒ¨æ›²

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/28574bd27ecf4188b436bce4a63e2159.png)

##### ğŸ¨ æŸ“è‰²ä»£ç ç‰‡æ®µ

```java
void fixInsertion(Node z) {
    while (z.parent.color == RED) {
        if (uncle.color == RED) {         // å”å”æ˜¯çº¢å‘
            parent.color = BLACK;        // ğŸ”´ â†’ âš«
            uncle.color = BLACK;         // ğŸ”´ â†’ âš«
            grandparent.color = RED;     // âš« â†’ ğŸ”´
            z = grandparent;             // å‘ä¸Šæ£€æŸ¥
        } else {
            // æ—‹è½¬æ“ä½œ...
        }
    }
    root.color = BLACK; // æœ€ç»ˆæŸ“é»‘
}

```

---

### ä¸‰ã€Bæ ‘ï¼šå›¾ä¹¦é¦†é•¿

#### 3.1 Bæ ‘ç»“æ„è§£å‰–

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/f674639ae10e41ea9960deab793b0e5c.png)

##### ğŸ“š èŠ‚ç‚¹åˆ†è£‚æ¼”ç¤º

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/1105cf55ca2f41649751195499c3b2b1.png)

#### 3.2 å®æˆ˜ä»£ç ï¼šBæ ‘æ’å…¥

```python
class BTreeNode:
    def __init__(self, t):
        self.keys = []         # å…³é”®ç åº“
        self.children = []     # å­èŠ‚ç‚¹åº“
        self.leaf = True       # æ˜¯å¦å¶å­

def insert(self, key):
    if len(self.keys) == 2*t - 1:  # ğŸš¨ èŠ‚ç‚¹æ»¡äº†ï¼
        new_node = BTreeNode(self.t)
        # åˆ†è£‚è¿‡ç¨‹...
    # æ’å…¥é€»è¾‘...

```

---

### å››ã€B+æ ‘ï¼šè¶…çº§ç›®å½•

#### 4.1 ä¸Bæ ‘çš„ä¸‰å¤§åŒºåˆ«

* ğŸ“š æ•°æ®åªå­˜åœ¨å¶å­èŠ‚ç‚¹
* ğŸ”— å¶å­èŠ‚ç‚¹å½¢æˆæœ‰åºé“¾è¡¨
* ğŸ§² éå¶èŠ‚ç‚¹æ˜¯å¯†é›†ç´¢å¼•

#### 4.2 èŒƒå›´æŸ¥è¯¢æ¼”ç¤º

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/15521be38714486f9ab9a93cea2f638b.png)

##### ğŸš€ æŸ¥è¯¢ä»£ç ç¤ºä¾‹

```java
List<Integer> rangeQuery(BPlusTree tree, int start, int end) {
    Node curr = findLeaf(tree.root, start);
    List<Integer> result = new ArrayList<>();
    while (curr != null && curr.keys[0] <= end) {
        for (int key : curr.keys) {
            if (key >= start && key <= end) 
                result.add(key);
        }
        curr = curr.next; // é“¾è¡¨è·³è·ƒ
    }
    return result;
}

```

---

### äº”ã€åå±±è®ºå‰‘ï¼šå››å¤§å¤©ç‹ç»ˆæPK

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/4ae9dc6f196a4844b53a17dc4c232e1d.png)

| ç‰¹æ€§ | AVLæ ‘ | çº¢é»‘æ ‘ | Bæ ‘ | B+æ ‘ |
| --- | --- | --- | --- | --- |
| **å¹³è¡¡æ ‡å‡†** | ç»å¯¹å¹³è¡¡ | é»‘é«˜å¹³è¡¡ | èŠ‚ç‚¹å¡«å……ç‡ | èŠ‚ç‚¹å¡«å……ç‡ |
| **æ’å…¥å¤æ‚åº¦** | O(log n) | O(log n) | O(log_t n) | O(log_t n) |
| **æŸ¥è¯¢é€Ÿåº¦** | âš¡æå¿« | ğŸš€å¿«é€Ÿ | ğŸš¢ç¨³å®š | âœˆï¸æé€Ÿ |
| **é€‚ç”¨åœºæ™¯** | å†…å­˜æ•æ„Ÿ | ç»¼åˆåœºæ™¯ | æ–‡ä»¶ç³»ç»Ÿ | æ•°æ®åº“ç´¢å¼• |
| **ç£ç›˜å‹å¥½åº¦** | âŒ | âŒ | âœ… | âœ…âœ… |
| **ä»£ç å¤æ‚åº¦** | ğŸ˜«é«˜ | ğŸ˜£ä¸­ | ğŸ˜Œè¾ƒé«˜ | ğŸ˜…è¾ƒé«˜ |
| **ç»å…¸åº”ç”¨** | å†…å­˜æ•°æ®åº“ | Java TreeMap | NTFSæ–‡ä»¶ç³»ç»Ÿ | MySQLç´¢å¼• |

---

### å…­ã€çµé­‚æ‹·é—®å®¤ ğŸ’¬

> **é¢è¯•å®˜**
> ï¼šä¸ºä»€ä¹ˆLinuxæ–‡ä»¶ç³»ç»Ÿç”¨Bæ ‘è€Œä¸ç”¨B+æ ‘ï¼Ÿ
>
> **ç­”**
> ï¼šâ‘  æ–‡ä»¶ç³»ç»Ÿéœ€è¦å¿«é€Ÿå®šä½å•ä¸ªæ–‡ä»¶ â‘¡ Bæ ‘éå¶èŠ‚ç‚¹å­˜æ•°æ®æœ‰åˆ©å°æ–‡ä»¶ â‘¢ B+æ ‘æ›´é€‚åˆèŒƒå›´æ‰«æ

> **é¢è¯•å®˜**
> ï¼šçº¢é»‘æ ‘ä¸ºä»€ä¹ˆæ¯”AVLæ ‘åº”ç”¨æ›´å¹¿ï¼Ÿ
>
> **ç­”**
> ï¼šâ‘  æ’å…¥åˆ é™¤æ—‹è½¬æ¬¡æ•°å°‘ â‘¡ é¢œè‰²æ ‡è®°æ¯”å­˜å‚¨é«˜åº¦èŠ‚çœå†…å­˜ â‘¢ ç»¼åˆæ€§èƒ½æ›´å‡è¡¡

> **é¢è¯•å®˜**
> ï¼šB+æ ‘å¶å­é“¾è¡¨å¦‚ä½•ç»´æŠ¤ï¼Ÿ
>
> **ç­”**
> ï¼šåˆ†è£‚æ—¶æ›´æ–°æŒ‡é’ˆâ†’ç±»ä¼¼åŒå‘é“¾è¡¨æ’å…¥èŠ‚ç‚¹ï¼Œåˆå¹¶æ—¶åŒæ­¥è°ƒæ•´

> **é¢è¯•å®˜**
> ï¼šä¸ºä»€ä¹ˆæ•°æ®åº“ç”¨B+æ ‘ä¸ç”¨Bæ ‘ï¼Ÿ
>
> **ç­”**
> ï¼šâ‘  æŸ¥è¯¢æ›´ç¨³å®šï¼ˆéƒ½è¦åˆ°å¶å­å±‚ï¼‰ â‘¡ èŒƒå›´æŸ¥è¯¢åŠæ‰“Bæ ‘ â‘¢ éå¶èŠ‚ç‚¹æ›´"è‹—æ¡"

> **é¢è¯•å®˜**
> ï¼šHashMapä¸ºä»€ä¹ˆä¸ç”¨çº¢é»‘æ ‘ï¼Ÿ
>
> **ç­”**
> ï¼šâ‘  å“ˆå¸Œå†²çªå°‘æ—¶é“¾è¡¨æ›´å¿« â‘¡ çº¢é»‘æ ‘é€‚åˆæŒä¹…åŒ–ç»“æ„ â‘¢ è¾¾åˆ°é˜ˆå€¼æ‰æ ‘åŒ–

> **é¢è¯•å®˜**
> ï¼šBæ ‘çš„tå€¼æ€ä¹ˆé€‰ï¼Ÿ
>
> **ç­”**
> ï¼šæ ¹æ®ç£ç›˜é¡µå¤§å°ï¼æ¯”å¦‚4KBé¡µï¼Œå‡è®¾keyå 16Bï¼Œtâ‰ˆ4KB/(16B+8B)=170

---

### ä¸ƒã€å®æˆ˜è®­ç»ƒåœº

#### 7.1 AVLæ ‘å¹³è¡¡æ£€æµ‹

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/4e65b5349197469fb2d8a77c0796fd63.png)

#### 7.2 çº¢é»‘æ ‘æ’å…¥æ¡ˆä¾‹

```java
// æ’å…¥æ•°å­—åºåˆ—ï¼š3 â†’ 7 â†’ 2 â†’ 5 â†’ 4
public static void main(String[] args) {
    RedBlackTree tree = new RedBlackTree();
    tree.insert(3); // âš«
    tree.insert(7); // ğŸ”´ â†’ è§¦å‘æŸ“è‰²
    tree.insert(2); // ğŸ”´ â†’ è§¦å‘æ—‹è½¬
    tree.insert(5); // ğŸ”´ â†’ å”å”èŠ‚ç‚¹å¤„ç†
    tree.insert(4); // ğŸ”´ â†’ å¤æ‚æ—‹è½¬
}

```

---

### å…«ã€ä¸‹æœŸé¢„å‘Š

**ã€Šå¹³è¡¡æ£®æ—çš„å¥‡å¦™ç‰©è¯­ï¼šä»2-3æ ‘åˆ°è·³è¡¨ã€‹**
ğŸ”¥ çœ‹ç‚¹æŠ¢å…ˆï¼š

* ğŸŒ³ 2-3æ ‘çš„æŸ”æ€§å¹³è¡¡ä¹‹é“
* ğŸªœ è·³è¡¨ï¼šç”¨æ¦‚ç‡æ‰“ç ´å¹³è¡¡çš„å›é€†è€…
* ğŸ§¬ B*æ ‘ï¼šåœ¨Bæ ‘åŸºç¡€ä¸Šç©å‡ºæ–°èŠ±æ ·

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/60844fc740d549dc8a44aeb0d6dc8624.png)

---

> ğŸŒŸ
> **äº’åŠ¨æ—¶åˆ»**
> ï¼šå››å¤§å¤©ç‹ä¸­ä½ æœ€å–œæ¬¢å“ªä½ï¼Ÿæ˜¯å¼ºè¿«ç—‡çš„AVLï¼Œæ½®æµçš„çº¢é»‘æ ‘ï¼Œè¿˜æ˜¯ç£ç›˜å¤§å¸ˆB+æ ‘ï¼Ÿç•™è¨€åŒºç­‰ä½ æ•…äº‹ï¼