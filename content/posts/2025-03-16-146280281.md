---
layout: post
title: "ArcGis使用-对轨迹起点终点的网格化编号"
date: 2025-03-16 18:55:07 +0800
description: "将轨迹起点和终点的经纬度，使用arcgis进行网格化编号"
keywords: "ArcGis使用-对轨迹起点终点的网格化编号"
categories: ['未分类']
tags: ['轨迹点网格化', '网格化', '渔网', 'Arcgis']
artid: "146280281"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146280281
    alt: "ArcGis使用-对轨迹起点终点的网格化编号"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146280281
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146280281
cover: https://bing.ee123.net/img/rand?artid=146280281
image: https://bing.ee123.net/img/rand?artid=146280281
img: https://bing.ee123.net/img/rand?artid=146280281
---

# ArcGis使用-对轨迹起点终点的网格化编号

* * *

## 前言

本篇的主要工作是将轨迹起点和终点的经纬度，使用arcgis进行网格化编号，使用的示例数据是武汉市的一个小区。

## 操作

### （1）安装arcgis

[ArcGIS10.8保姆式安装教程，超详细；附安装包_arcgis10.8安装教程-
CSDN博客](https://blog.csdn.net/qq_57342311/article/details/128675890
"ArcGIS10.8保姆式安装教程，超详细；附安装包_arcgis10.8安装教程-CSDN博客")

### （2）导入城市shp文件

①打开arcmap，新建一个空白地图

![](https://i-blog.csdnimg.cn/direct/b35fa502e57b4b5b9b4f53c5aafc0e7f.png)

②准备好要用城市shp文件，并放在一个文件夹中

![](https://i-blog.csdnimg.cn/direct/adb11473363142f5a95fb7b26ac24e8a.png)

③在文件夹连接中选择该文件夹，所包含的shp文件就显示出来了

![](https://i-blog.csdnimg.cn/direct/f5b5f263505d47a0853bf33c6d3dd238.png)

④拖拽这个shp文件到左边的图层栏，就会在图层中显示出来

![](https://i-blog.csdnimg.cn/direct/6274e370ec854f19abcbb2f31ed454d5.png)

### （3）进行网格化

这位博主的文章的也很详细：[ArcGIS创建渔网步骤及一些问题-
CSDN博客](https://blog.csdn.net/qq_46877697/article/details/127938970
"ArcGIS创建渔网步骤及一些问题-CSDN博客")

**注意：**

①该过程需要搞清楚投影坐标系，常用的是图中这两种。

![](https://i-blog.csdnimg.cn/direct/7643abdc72184b1293feb91f51dcff8b.png)

第一个采用的是角度单位，即常用的经纬度，显示为地理坐标系

![](https://i-blog.csdnimg.cn/direct/be204977a8054b849d064a273749a11e.png)

第二个采用的是线性单位，即常用的米，显示为投影坐标系

![](https://i-blog.csdnimg.cn/direct/12b14be4923e4c66be334a71903692a4.png)

②如果网格划分需要的单位是meter，但原始数据的单位是度，可以使用

“工具箱-系统工具箱-Data Management Tools.tbx-投影和变化-投影”

进行投影坐标系的转化，将以度为单位的数据转换为以meter为单位

![](https://i-blog.csdnimg.cn/direct/b7c4b809133f4014ad9e8fa93857dc76.png)

![](https://i-blog.csdnimg.cn/direct/32da49d64ae64413aa10981e09788b84.png)

**渔网操作**

①创建渔网

“工具箱-系统工具箱-Data Management Tools.tbx-采样-创建渔网”

![](https://i-blog.csdnimg.cn/direct/ff4fbe58016f41578887c00d5558af6a.png)

②先在环境设置中选择输出坐标系，根据网格划分单位选择，我这里单位用米划分

![](https://i-blog.csdnimg.cn/direct/a5c5f29098e340ac8f7701b829c854b6.png)

![](https://i-blog.csdnimg.cn/direct/6f4089106dbd4904b462b39d6c0ba944.png)

③渔网参数

**输入要素类** ：进行渔网的要素名称

**模板范围**
：输入需要创建渔网的范围（只需确定上下左右），或者选择与要创建渔网范围相同的要素。如果单位是meter，就像我图中这样显示；如果单位是度，就显示的经纬度

**像素宽度高度** ：单位与投影坐标系有关，我的投影坐标系是WGS_1984_World_Merctor，单位为meter

**行数列数** ：渔网的行列数，若填写了宽度高度就不用填这个

**几何类型** ：POLYGON创建面要素渔网，适合需要面积和区域分析的场景；POLYLINE创建线要素渔网

![](https://i-blog.csdnimg.cn/direct/4ba177379d1a46528c4ee7ce12d14b17.png)

④渔网结果

![](https://i-blog.csdnimg.cn/direct/94ffdd921f1144198d03875324c9e61a.png)

⑤由于我后续要用经纬度为单位的数据，将该数据使用投影方式变化坐标系（详细见上）

![](https://i-blog.csdnimg.cn/direct/ab8b30c4b3644d62a2dfe60fff4b2d43.png)

⑥最后得到结果

![](https://i-blog.csdnimg.cn/direct/847122b877c743b29f9141b4f0d853c7.png)

### （4）将渔网数据与轨迹点相交

我的轨迹表结构是这样的，csv文件，记录每段轨迹的起点和终点的经纬度

![](https://i-blog.csdnimg.cn/direct/76b4d1f6ca96404d8b328c25950b0b01.png)

①csv转shp

连接到csv文件所在文件夹，右键csv文件，选择“创建要素类-从XY表-选择XY字段”，选择坐标系和输出文件夹

注：我的数据以经纬度为单位，选择对应的投影坐标系。路径要求无中文

![](https://i-blog.csdnimg.cn/direct/299740e0aa9e4873934734fdc273d6fe.png)

![](https://i-blog.csdnimg.cn/direct/52c6f04ad3d24d26966d0a63b5dc5ce9.png)![](https://i-blog.csdnimg.cn/direct/0e24ef0ea9c14191982f076c4280e86b.png)

得到结果如图

![](https://i-blog.csdnimg.cn/direct/f1832c991dfb42fc91b71bf47daebfae.png)

②轨迹点与渔网相交

“工具箱-系统工具箱-Analysis Tools.tbx-叠加分析-相交”

![](https://i-blog.csdnimg.cn/direct/01b8006517464db19576fa0f9c0d3100.png)

输入要素：轨迹点要素shp和渔网要素shp，连接属性all

![](https://i-blog.csdnimg.cn/direct/23f27b985d2e41b6960acd08cb575b95.png)

![](https://i-blog.csdnimg.cn/direct/2014442ddfd24bfab8d12344a069a32e.png)

相交结果：查看属性表，可以看到轨迹id、经纬度信息和网格id对应

![](https://i-blog.csdnimg.cn/direct/4eccd766c992432a9f56863efa78852c.png)

![](https://i-blog.csdnimg.cn/direct/d3ee9ee9a1c740efa64440bcbc098da1.png)

③对起点和终点进行属性连接

右键点要素sid_50m，选择“连接和关联-连接”，选择关联字段和另一个表eid_50m，验证来连接，然后进行连接

![](https://i-blog.csdnimg.cn/direct/91098a709b95490dabb984dd4318088c.png)

![](https://i-blog.csdnimg.cn/direct/0b44bca8c7c640c7a079087412e4cc9a.png)

连接完后，sid_50m的属性表字段太多，不便于观察，可以在属性中选择可见字段进行显示

![](https://i-blog.csdnimg.cn/direct/22fe9a1260d8414ca4ea616a020cf759.png)

这样就完成了轨迹点和网格编号的连接，结果：

![](https://i-blog.csdnimg.cn/direct/1981ae5ba11f40d98c3526e4e05c0fc8.png)

### （5）导出excel文件

“工具箱-系统工具箱-Conversion Tools.tbx-Excel-表转Excel”

![](https://i-blog.csdnimg.cn/direct/b5507f7acf464d888d7787cd36869129.png)

![](https://i-blog.csdnimg.cn/direct/a62d5044e08f4df182f210b44d7937e8.png)

完成：

![](https://i-blog.csdnimg.cn/direct/2b3fe7f3061d40029f1548b2c47ca390.png)



