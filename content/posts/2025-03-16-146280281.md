---
layout: post
title: "ArcGis使用-对轨迹起点终点的网格化编号"
date: 2025-03-16 18:55:07 +0800
description: "将轨迹起点和终点的经纬度，使用arcgis进行网格化编号"
keywords: "ArcGis使用-对轨迹起点终点的网格化编号"
categories: ['未分类']
tags: ['轨迹点网格化', '网格化', '渔网', 'Arcgis']
artid: "146280281"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146280281
    alt: "ArcGis使用-对轨迹起点终点的网格化编号"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146280281
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146280281
cover: https://bing.ee123.net/img/rand?artid=146280281
image: https://bing.ee123.net/img/rand?artid=146280281
img: https://bing.ee123.net/img/rand?artid=146280281
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     ArcGis使用-对轨迹起点终点的网格化编号
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
    </p>
    <hr id="hr-toc" name="tableOfContents"/>
    <p>
    </p>
    <h2 name="%E5%89%8D%E8%A8%80">
     前言
    </h2>
    <p>
     本篇的主要工作是将轨迹起点和终点的经纬度，使用arcgis进行网格化编号，使用的示例数据是武汉市的一个小区。
    </p>
    <h2 id="%E6%93%8D%E4%BD%9C" name="%E6%93%8D%E4%BD%9C">
     操作
    </h2>
    <h3 id="%EF%BC%881%EF%BC%89%E5%AE%89%E8%A3%85arcgis" name="%EF%BC%881%EF%BC%89%E5%AE%89%E8%A3%85arcgis">
     （1）安装arcgis
    </h3>
    <p>
     <a href="https://blog.csdn.net/qq_57342311/article/details/128675890" title="ArcGIS10.8保姆式安装教程，超详细；附安装包_arcgis10.8安装教程-CSDN博客">
      ArcGIS10.8保姆式安装教程，超详细；附安装包_arcgis10.8安装教程-CSDN博客
     </a>
    </p>
    <h3 id="%EF%BC%882%EF%BC%89%E6%89%93%E5%BC%80%E5%B9%B6%E5%AF%BC%E5%85%A5%E5%9F%8E%E5%B8%82shp%E6%96%87%E4%BB%B6" name="%EF%BC%882%EF%BC%89%E6%89%93%E5%BC%80%E5%B9%B6%E5%AF%BC%E5%85%A5%E5%9F%8E%E5%B8%82shp%E6%96%87%E4%BB%B6">
     （2）导入城市shp文件
    </h3>
    <p>
     ①打开arcmap，新建一个空白地图
    </p>
    <p class="img-center">
     <img alt="" height="355" src="https://i-blog.csdnimg.cn/direct/b35fa502e57b4b5b9b4f53c5aafc0e7f.png" width="600"/>
    </p>
    <p>
     ②准备好要用城市shp文件，并放在一个文件夹中
    </p>
    <p class="img-center">
     <img alt="" height="146" src="https://i-blog.csdnimg.cn/direct/adb11473363142f5a95fb7b26ac24e8a.png" width="350"/>
    </p>
    <p>
     ③在文件夹连接中选择该文件夹，所包含的shp文件就显示出来了
    </p>
    <p class="img-center">
     <img alt="" height="173" src="https://i-blog.csdnimg.cn/direct/f5b5f263505d47a0853bf33c6d3dd238.png" width="250"/>
    </p>
    <p>
     ④拖拽这个shp文件到左边的图层栏，就会在图层中显示出来
    </p>
    <p class="img-center">
     <img alt="" height="355" src="https://i-blog.csdnimg.cn/direct/6274e370ec854f19abcbb2f31ed454d5.png" width="600"/>
    </p>
    <h3 id="%EF%BC%883%EF%BC%89%E8%BF%9B%E8%A1%8C%E7%BD%91%E6%A0%BC%E5%8C%96" name="%EF%BC%883%EF%BC%89%E8%BF%9B%E8%A1%8C%E7%BD%91%E6%A0%BC%E5%8C%96">
     （3）进行网格化
    </h3>
    <p>
     这位博主的文章的也很详细：
     <a href="https://blog.csdn.net/qq_46877697/article/details/127938970" title="ArcGIS创建渔网步骤及一些问题-CSDN博客">
      ArcGIS创建渔网步骤及一些问题-CSDN博客
     </a>
    </p>
    <p>
     <strong>
      注意：
     </strong>
    </p>
    <p>
     ①该过程需要搞清楚投影坐标系，常用的是图中这两种。
    </p>
    <p class="img-center">
     <img alt="" height="45" src="https://i-blog.csdnimg.cn/direct/7643abdc72184b1293feb91f51dcff8b.png" width="200"/>
    </p>
    <p>
     第一个采用的是角度单位，即常用的经纬度，显示为地理坐标系
    </p>
    <p class="img-center">
     <img alt="" height="298" src="https://i-blog.csdnimg.cn/direct/be204977a8054b849d064a273749a11e.png" width="400"/>
    </p>
    <p>
     第二个采用的是线性单位，即常用的米，显示为投影坐标系
    </p>
    <p class="img-center">
     <img alt="" height="317" src="https://i-blog.csdnimg.cn/direct/12b14be4923e4c66be334a71903692a4.png" width="400"/>
    </p>
    <p>
     ②如果网格划分需要的单位是meter，但原始数据的单位是度，可以使用
    </p>
    <p style="text-align:center">
     “工具箱-系统工具箱-Data Management Tools.tbx-投影和变化-投影”
    </p>
    <p>
     进行投影坐标系的转化，将以度为单位的数据转换为以meter为单位
    </p>
    <p class="img-center">
     <img alt="" height="134" src="https://i-blog.csdnimg.cn/direct/b7c4b809133f4014ad9e8fa93857dc76.png" width="200"/>
    </p>
    <p class="img-center">
     <img alt="" height="383" src="https://i-blog.csdnimg.cn/direct/32da49d64ae64413aa10981e09788b84.png" width="400"/>
    </p>
    <p>
     <strong>
      渔网操作
     </strong>
    </p>
    <p>
     ①创建渔网
    </p>
    <p style="text-align:center">
     “工具箱-系统工具箱-Data Management Tools.tbx-采样-创建渔网”
    </p>
    <p class="img-center">
     <img alt="" height="144" src="https://i-blog.csdnimg.cn/direct/ff4fbe58016f41578887c00d5558af6a.png" width="200"/>
    </p>
    <p>
    </p>
    <p>
     ②先在环境设置中选择输出坐标系，根据网格划分单位选择，我这里单位用米划分
    </p>
    <p class="img-center">
     <img alt="" height="351" src="https://i-blog.csdnimg.cn/direct/a5c5f29098e340ac8f7701b829c854b6.png" width="500"/>
    </p>
    <p class="img-center">
     <img alt="" height="349" src="https://i-blog.csdnimg.cn/direct/6f4089106dbd4904b462b39d6c0ba944.png" width="500"/>
    </p>
    <p>
     ③渔网参数
    </p>
    <p>
     <strong>
      输入要素类
     </strong>
     ：进行渔网的要素名称
    </p>
    <p>
     <strong>
      模板范围
     </strong>
     ：输入需要创建渔网的范围（只需确定上下左右），或者选择与要创建渔网范围相同的要素。如果单位是meter，就像我图中这样显示；如果单位是度，就显示的经纬度
    </p>
    <p>
     <strong>
      像素宽度高度
     </strong>
     ：单位与投影坐标系有关，我的投影坐标系是WGS_1984_World_Merctor，单位为meter
    </p>
    <p>
     <strong>
      行数列数
     </strong>
     ：渔网的行列数，若填写了宽度高度就不用填这个
    </p>
    <p>
     <strong>
      几何类型
     </strong>
     ：POLYGON创建面要素渔网，适合需要面积和区域分析的场景；POLYLINE创建线要素渔网
    </p>
    <p class="img-center">
     <img alt="" height="574" src="https://i-blog.csdnimg.cn/direct/4ba177379d1a46528c4ee7ce12d14b17.png" width="600"/>
    </p>
    <p>
     ④渔网结果
    </p>
    <p class="img-center">
     <img alt="" height="385" src="https://i-blog.csdnimg.cn/direct/94ffdd921f1144198d03875324c9e61a.png" width="650"/>
    </p>
    <p>
     ⑤由于我后续要用经纬度为单位的数据，将该数据使用投影方式变化坐标系（详细见上）
    </p>
    <p class="img-center">
     <img alt="" height="478" src="https://i-blog.csdnimg.cn/direct/ab8b30c4b3644d62a2dfe60fff4b2d43.png" width="500"/>
    </p>
    <p>
     ⑥最后得到结果
    </p>
    <p class="img-center">
     <img alt="" height="458" src="https://i-blog.csdnimg.cn/direct/847122b877c743b29f9141b4f0d853c7.png" width="600"/>
    </p>
    <h3 id="%EF%BC%884%EF%BC%89%E5%B0%86%E6%B8%94%E7%BD%91%E6%95%B0%E6%8D%AE%E4%B8%8E%E8%BD%A8%E8%BF%B9%E7%82%B9%E7%9B%B8%E4%BA%A4" name="%EF%BC%884%EF%BC%89%E5%B0%86%E6%B8%94%E7%BD%91%E6%95%B0%E6%8D%AE%E4%B8%8E%E8%BD%A8%E8%BF%B9%E7%82%B9%E7%9B%B8%E4%BA%A4">
     （4）将渔网数据与轨迹点相交
    </h3>
    <p>
     我的轨迹表结构是这样的，csv文件，记录每段轨迹的起点和终点的经纬度
    </p>
    <p class="img-center">
     <img alt="" height="193" src="https://i-blog.csdnimg.cn/direct/76b4d1f6ca96404d8b328c25950b0b01.png" width="350"/>
    </p>
    <p>
     ①csv转shp
    </p>
    <p>
     连接到csv文件所在文件夹，右键csv文件，选择“创建要素类-从XY表-选择XY字段”，选择坐标系和输出文件夹
    </p>
    <p>
     注：我的数据以经纬度为单位，选择对应的投影坐标系。路径要求无中文
    </p>
    <p class="img-center">
     <img alt="" height="154" src="https://i-blog.csdnimg.cn/direct/299740e0aa9e4873934734fdc273d6fe.png" width="250"/>
    </p>
    <p>
     <img alt="" height="454" src="https://i-blog.csdnimg.cn/direct/52c6f04ad3d24d26966d0a63b5dc5ce9.png" width="300"/>
     <img alt="" height="454" src="https://i-blog.csdnimg.cn/direct/0e24ef0ea9c14191982f076c4280e86b.png" width="300"/>
    </p>
    <p>
     得到结果如图
    </p>
    <p class="img-center">
     <img alt="" height="385" src="https://i-blog.csdnimg.cn/direct/f1832c991dfb42fc91b71bf47daebfae.png" width="650"/>
    </p>
    <p>
     ②轨迹点与渔网相交
    </p>
    <p style="text-align:center">
     “工具箱-系统工具箱-Analysis Tools.tbx-叠加分析-相交”
    </p>
    <p class="img-center">
     <img alt="" height="123" src="https://i-blog.csdnimg.cn/direct/01b8006517464db19576fa0f9c0d3100.png" width="150"/>
    </p>
    <p>
     输入要素：轨迹点要素shp和渔网要素shp，连接属性all
    </p>
    <p class="img-center">
     <img alt="" height="332" src="https://i-blog.csdnimg.cn/direct/23f27b985d2e41b6960acd08cb575b95.png" width="500"/>
    </p>
    <p class="img-center">
     <img alt="" height="332" src="https://i-blog.csdnimg.cn/direct/2014442ddfd24bfab8d12344a069a32e.png" width="500"/>
    </p>
    <p>
     相交结果：查看属性表，可以看到轨迹id、经纬度信息和网格id对应
    </p>
    <p class="img-center">
     <img alt="" height="210" src="https://i-blog.csdnimg.cn/direct/4eccd766c992432a9f56863efa78852c.png" width="650"/>
    </p>
    <p class="img-center">
     <img alt="" height="208" src="https://i-blog.csdnimg.cn/direct/d3ee9ee9a1c740efa64440bcbc098da1.png" width="650"/>
    </p>
    <p>
     ③对起点和终点进行属性连接
    </p>
    <p>
     右键点要素sid_50m，选择“连接和关联-连接”，选择关联字段和另一个表eid_50m，验证来连接，然后进行连接
    </p>
    <p class="img-center">
     <img alt="" height="147" src="https://i-blog.csdnimg.cn/direct/91098a709b95490dabb984dd4318088c.png" width="300"/>
    </p>
    <p class="img-center">
     <img alt="" height="442" src="https://i-blog.csdnimg.cn/direct/0b44bca8c7c640c7a079087412e4cc9a.png" width="300"/>
    </p>
    <p>
     连接完后，sid_50m的属性表字段太多，不便于观察，可以在属性中选择可见字段进行显示
    </p>
    <p class="img-center">
     <img alt="" height="335" src="https://i-blog.csdnimg.cn/direct/22fe9a1260d8414ca4ea616a020cf759.png" width="400"/>
    </p>
    <p>
     这样就完成了轨迹点和网格编号的连接，结果：
    </p>
    <p class="img-center">
     <img alt="" height="191" src="https://i-blog.csdnimg.cn/direct/1981ae5ba11f40d98c3526e4e05c0fc8.png" width="300"/>
    </p>
    <h3 id="%EF%BC%885%EF%BC%89%E5%AF%BC%E5%87%BAexcel%E6%96%87%E4%BB%B6" name="%EF%BC%885%EF%BC%89%E5%AF%BC%E5%87%BAexcel%E6%96%87%E4%BB%B6">
     （5）导出excel文件
    </h3>
    <p style="text-align:center">
     “工具箱-系统工具箱-Conversion Tools.tbx-Excel-表转Excel”
    </p>
    <p class="img-center">
     <img alt="" height="71" src="https://i-blog.csdnimg.cn/direct/b5507f7acf464d888d7787cd36869129.png" width="200"/>
    </p>
    <p class="img-center">
     <img alt="" height="399" src="https://i-blog.csdnimg.cn/direct/a62d5044e08f4df182f210b44d7937e8.png" width="600"/>
    </p>
    <p>
     完成：
    </p>
    <p class="img-center">
     <img alt="" height="242" src="https://i-blog.csdnimg.cn/direct/2b3fe7f3061d40029f1548b2c47ca390.png" width="400"/>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f37303232303937332f:61727469636c652f64657461696c732f313436323830323831" class_="artid" style="display:none">
 </p>
</div>


