---
layout: post
title: 2021-08-09-Java迷宫小游戏,老程序员花一天时间完成,你可以吗
date: 2021-08-09 07:53:34 +0800
categories: ['Java', 'Java']
tags: ['Java', 'Java', '迷宫小游戏', 'Java', '迷宫算法']
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=119465016
  alt: Java迷宫小游戏,老程序员花一天时间完成,你可以吗
artid: 119465016
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=119465016
featuredImagePreview: https://bing.ee123.net/img/rand?artid=119465016
---
<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Java迷宫小游戏，老程序员花一天时间完成，你可以吗？
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="./../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="./../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-dracula" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <div class="video">
     <iframe allowfullscreen="true" data-mediaembed="csdn" frameborder="0" id="Dgq4MjGv-1628465767037" src="https://live.csdn.net/v/embed/174822" style="width:100%;height:100%;">
     </iframe>
     <p>
      Java迷宫，老程序员又来了
     </p>
    </div>
    <p>
    </p>
    <h2>
     <a id="_3">
     </a>
     作者简介
    </h2>
    <blockquote>
     <p>
      <font color="OrangeRed">
       作者名：编程界明世隐
      </font>
      <br/>
      <font color="SeaGreen">
       简介：CSDN博客专家，从事软件开发多年，精通Java、JavaScript，博主也是从零开始一步步把学习成长、深知学习和积累的重要性，喜欢跟广大ADC一起打野升级，欢迎您关注，期待与您一起学习、成长、起飞！
      </font>
     </p>
    </blockquote>
    <h2>
     <a id="_6">
     </a>
     系列目录
    </h2>
    <p>
     <a href="https://blog.csdn.net/dkm123456/article/details/117675468">
      <u>
       1. Java俄罗斯方块
      </u>
     </a>
     <br/>
     <a href="https://blog.csdn.net/dkm123456/article/details/118904917">
      <u>
       2. Java五子棋小游戏
      </u>
     </a>
     <br/>
     <a href="https://blog.csdn.net/dkm123456/article/details/117265359">
      <u>
       3. 老Java程序员花一天时间写了个飞机大战
      </u>
     </a>
     <br/>
     <a href="https://blog.csdn.net/dkm123456/article/details/117047116">
      <u>
       4. Java植物大战僵尸
      </u>
     </a>
     <br/>
     <a href="https://blog.csdn.net/dkm123456/article/details/117431591">
      <u>
       5. 老Java程序员花2天写了个连连看
      </u>
     </a>
     <br/>
     <a href="https://blog.csdn.net/dkm123456/article/details/118079900">
      <u>
       6. Java消消乐（天天爱消除）
      </u>
     </a>
     <br/>
     <a href="https://blog.csdn.net/dkm123456/article/details/117933331">
      <u>
       7. Java贪吃蛇小游戏
      </u>
     </a>
     <br/>
     <a href="https://blog.csdn.net/dkm123456/article/details/116637184">
      <u>
       8. Java扫雷小游戏
      </u>
     </a>
     <br/>
     <a href="https://blog.csdn.net/dkm123456/article/details/116609629">
      <u>
       9. Java坦克大战
      </u>
     </a>
    </p>
    <h2>
     <a id="_17">
     </a>
     效果图
    </h2>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/fd19320e01d2af909f23897d3802e393.gif#pic_center"/>
    </p>
    <h2>
     <a id="_20">
     </a>
     实现思路
    </h2>
    <blockquote>
     <p>
      <font color="SeaGreen">
       1.创建运行窗口。
       <br/>
       2.创建菜单。
       <br/>
       3.绘制迷宫的每个单元。
       <br/>
       4.通过算法计算迷宫路径，并打通路径，形成迷宫。
       <br/>
       5.绘制起点终点。
       <br/>
       6.添加键盘事件控制起点方块移动。
       <br/>
       7.收尾。
      </font>
     </p>
    </blockquote>
    <h2>
     <a id="_29">
     </a>
     迷宫算法（网上参考的)
    </h2>
    <ol>
     <li>
      将起点作为当前迷宫单元并标记为已访问
     </li>
     <li>
      当还存在未标记的迷宫单元，进行循环
      <br/>
      1).如果当前迷宫单元有未被访问过的的相邻的迷宫单元
      <br/>
      (1).随机选择一个未访问的相邻迷宫单元
      <br/>
      (2).将当前迷宫单元入栈
      <br/>
      (3).移除当前迷宫单元与相邻迷宫单元的墙
      <br/>
      (4).标记相邻迷宫单元并用它作为当前迷宫单元
      <br/>
      2).如果当前迷宫单元不存在未访问的相邻迷宫单元，并且栈不空
      <br/>
      (1).栈顶的迷宫单元出栈
      <br/>
      (2).令其成为当前迷宫单元
     </li>
    </ol>
    <p>
     **这个算法叫做“深度优先”，简单来说，就是从起点开始走，寻找它的上下左右4个邻居，然后随机一个走，到走不通的时候就返回上一步继续走，直到全部单元都走完。 **
    </p>
    <h2>
     <a id="_44">
     </a>
     相关图示说明
    </h2>
    <ol>
     <li>
      每个单元的墙，分为上墙、右墙、下墙、左墙，把这些墙用长度为4的数组表示，元素的值为true则表示墙存在，否则墙不存在，代码里数组的下标方式来确定墙是否存在。
      <br/>
      <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/edb95c7759c8433b0b802f5c309def7a.png"/>
     </li>
     <li>
      单元是根据行列来创建的，会用到双循环，类似表格，比如第二行用 i 来表示的话就是 1，第3列用 j 来表示就是2，那第二行第3列的元素组合起来就是（1,2）
      <br/>
      <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/471159a03f720dd3040ab88edfaf0746.png"/>
     </li>
     <li>
      那同理它的上邻居就是（0,2），右邻居（1,3），下邻居（2,2），左邻居（1,1），也就是上下邻居是 i 减加1，左右邻居是 j 减加1。
      <br/>
      <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/396333d2e133dc2bff1ceaa772750ca3.png"/>
     </li>
     <li>
      正方形4个点的坐标分别为(x1,y1)(x2,y2)(x3,y3)(x4,y4)，计算坐标的公式为(其中start为相对偏移量，为了让迷宫两边有些空隙)：
     </li>
    </ol>
    <pre><code class="prism language-java"><span class="token comment">//i代表行 j代表列 h为单元高度</span>
<span class="token comment">//左上角坐标</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>x1<span class="token operator">=</span>start<span class="token operator">+</span>j<span class="token operator">*</span>h<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>y1<span class="token operator">=</span>start<span class="token operator">+</span>i<span class="token operator">*</span>h<span class="token punctuation">;</span>
<span class="token comment">//右上角坐标</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>x2<span class="token operator">=</span>start<span class="token operator">+</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>h<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>y2<span class="token operator">=</span>start<span class="token operator">+</span>i<span class="token operator">*</span>h<span class="token punctuation">;</span>
<span class="token comment">//右下角坐标</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>x3<span class="token operator">=</span>start<span class="token operator">+</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>h<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>y3<span class="token operator">=</span>start<span class="token operator">+</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>h<span class="token punctuation">;</span>
<span class="token comment">//左下角坐标</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>x4<span class="token operator">=</span>start<span class="token operator">+</span>j<span class="token operator">*</span>h<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>y4<span class="token operator">=</span>start<span class="token operator">+</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>h<span class="token punctuation">;</span>	
</code></pre>
    <p>
     计算坐标，假如每个正方形的宽高都是40，那么（1,2）这个单元的坐标如下图：
     <br/>
     <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/b442c9c052d01ebffb88f6ed6d3269a6.png">
      <br/>
      5. 墙的处理，之前说到墙是以一个4个元素的数组来表示的，比如数组为：[true,true,true,true]，则图为：
      <br/>
      <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/2c60882a5e6c7c37bd2608eceff735c6.png">
       <br/>
       如果数组为[false,true,true,true]，则图为：
       <br/>
       <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/0bef034a7cf70c6b0bc6f600461ccdd4.png">
        <br/>
        6. 如果要联通右边的邻居要怎么做呢？当前单元去除右墙，右边单元去除左墙，这样就联通了。
        <br/>
        <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/7cda2d6a4117ad204d19648cb313459d.png">
         <br/>
         去除后就这样，以此类推
         <br/>
         <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/1120363dd125277bebf70a1e32defdf3.png"/>
        </img>
       </img>
      </img>
     </img>
    </p>
    <h2>
     <a id="_80">
     </a>
     代码实现
    </h2>
    <h3>
     <a id="_81">
     </a>
     创建窗口
    </h3>
    <p>
     <strong>
      首先创建一个游戏窗体类GameFrame，继承至JFrame，用来显示在屏幕上（window的对象），每个游戏都有一个窗口，设置好窗口标题、尺寸、布局等就可以。
     </strong>
    </p>
    <pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token class-name">JFrame</span><span class="token punctuation">;</span>
<span class="token comment">/**
 *窗体类
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GameFrame</span> <span class="token keyword">extends</span> <span class="token class-name">JFrame</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">//构造方法</span>
	<span class="token keyword">public</span> <span class="token class-name">GameFrame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">"迷宫"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置标题</span>
		<span class="token function">setSize</span><span class="token punctuation">(</span><span class="token number">420</span><span class="token punctuation">,</span> <span class="token number">470</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置窗体大小</span>
		<span class="token function">setDefaultCloseOperation</span><span class="token punctuation">(</span><span class="token class-name">JFrame</span><span class="token punctuation">.</span>EXIT_ON_CLOSE<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//关闭后进程退出</span>
		<span class="token function">setLocationRelativeTo</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//居中</span>
		<span class="token function">setResizable</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//不允许变大</span>
		<span class="token comment">//setVisible(true);//设置显示窗体</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      创建面板容器GamePanel继承至JPanel
     </strong>
    </p>
    <pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token class-name">JMenuBar</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token class-name">JPanel</span><span class="token punctuation">;</span>

<span class="token comment">/*
 * 画布类
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GamePanel</span> <span class="token keyword">extends</span> <span class="token class-name">JPanel</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">private</span> <span class="token class-name">JMenuBar</span> jmb <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token class-name">GameFrame</span> mainFrame <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token class-name">GamePanel</span> panel <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> gameFlag<span class="token operator">=</span><span class="token string">"start"</span><span class="token punctuation">;</span><span class="token comment">//游戏状态</span>
	<span class="token comment">//构造方法</span>
	<span class="token keyword">public</span> <span class="token class-name">GamePanel</span><span class="token punctuation">(</span><span class="token class-name">GameFrame</span> mainFrame<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setLayout</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setOpaque</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>mainFrame<span class="token operator">=</span>mainFrame<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>panel <span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      再创建一个Main类，来启动这个窗口。
     </strong>
    </p>
    <pre><code class="prism language-java"><span class="token comment">//Main类</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{<!-- --></span>

	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token class-name">GameFrame</span> frame <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GameFrame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">GamePanel</span> panel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GamePanel</span><span class="token punctuation">(</span>frame<span class="token punctuation">)</span><span class="token punctuation">;</span>
		frame<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>panel<span class="token punctuation">)</span><span class="token punctuation">;</span>
		frame<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      右键执行这个Main类，窗口建出来了
     </strong>
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/f04ad697c68b043687dc360b84d370cc.png"/>
    </p>
    <h3>
     <a id="_143">
     </a>
     创建菜单及菜单选项
    </h3>
    <p>
     <strong>
      创建菜单
     </strong>
    </p>
    <pre><code class="prism language-java"><span class="token keyword">private</span> <span class="token class-name">Font</span> <span class="token function">createFont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span><span class="token string">"思源宋体"</span><span class="token punctuation">,</span><span class="token class-name">Font</span><span class="token punctuation">.</span>BOLD<span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//创建菜单</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">createMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">//创建JMenuBar</span>
	jmb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JMenuBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//取得字体</span>
	<span class="token class-name">Font</span> tFont <span class="token operator">=</span> <span class="token function">createFont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token comment">//创建游戏选项</span>
	<span class="token class-name">JMenu</span> jMenu1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JMenu</span><span class="token punctuation">(</span><span class="token string">"游戏"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	jMenu1<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span>tFont<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//创建帮助选项</span>
	<span class="token class-name">JMenu</span> jMenu2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JMenu</span><span class="token punctuation">(</span><span class="token string">"帮助"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	jMenu2<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span>tFont<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token class-name">JMenuItem</span> jmi1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JMenuItem</span><span class="token punctuation">(</span><span class="token string">"新游戏"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	jmi1<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span>tFont<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">JMenuItem</span> jmi2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JMenuItem</span><span class="token punctuation">(</span><span class="token string">"退出"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	jmi2<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span>tFont<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//jmi1 jmi2添加到菜单项“游戏”中</span>
	jMenu1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>jmi1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	jMenu1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>jmi2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token class-name">JMenuItem</span> jmi3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JMenuItem</span><span class="token punctuation">(</span><span class="token string">"操作帮助"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	jmi3<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span>tFont<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">JMenuItem</span> jmi4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JMenuItem</span><span class="token punctuation">(</span><span class="token string">"胜利条件"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	jmi4<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span>tFont<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//jmi13 jmi4添加到菜单项“游戏”中</span>
	jMenu2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>jmi3<span class="token punctuation">)</span><span class="token punctuation">;</span>
	jMenu2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>jmi4<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	
	jmb<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>jMenu1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	jmb<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>jMenu2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	mainFrame<span class="token punctuation">.</span><span class="token function">setJMenuBar</span><span class="token punctuation">(</span>jmb<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//添加监听</span>
	jmi1<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	jmi2<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	jmi3<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	jmi4<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//设置指令</span>
	jmi1<span class="token punctuation">.</span><span class="token function">setActionCommand</span><span class="token punctuation">(</span><span class="token string">"restart"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	jmi2<span class="token punctuation">.</span><span class="token function">setActionCommand</span><span class="token punctuation">(</span><span class="token string">"exit"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	jmi3<span class="token punctuation">.</span><span class="token function">setActionCommand</span><span class="token punctuation">(</span><span class="token string">"help"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	jmi4<span class="token punctuation">.</span><span class="token function">setActionCommand</span><span class="token punctuation">(</span><span class="token string">"win"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      实现ActionListener并重写方法actionPerformed
     </strong>
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/8859f459cab6feea601dfa0e77508f65.png">
      <br/>
      此时GamePanel是报错的，需重写actionPerformed方法。
      <br/>
      <strong>
       <mark>
        actionPerformed方法的实现
       </mark>
      </strong>
     </img>
    </p>
    <pre><code class="prism language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">actionPerformed</span><span class="token punctuation">(</span><span class="token class-name">ActionEvent</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token class-name">String</span> command <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">getActionCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">UIManager</span><span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"OptionPane.buttonFont"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">FontUIResource</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span><span class="token string">"思源宋体"</span><span class="token punctuation">,</span> <span class="token class-name">Font</span><span class="token punctuation">.</span>ITALIC<span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">UIManager</span><span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"OptionPane.messageFont"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">FontUIResource</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span><span class="token string">"思源宋体"</span><span class="token punctuation">,</span> <span class="token class-name">Font</span><span class="token punctuation">.</span>ITALIC<span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"exit"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> options <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"确定"</span><span class="token punctuation">,</span> <span class="token string">"取消"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> response <span class="token operator">=</span> <span class="token class-name">JOptionPane</span><span class="token punctuation">.</span><span class="token function">showOptionDialog</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"您确认要退出吗"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span>
				<span class="token class-name">JOptionPane</span><span class="token punctuation">.</span>YES_OPTION<span class="token punctuation">,</span> <span class="token class-name">JOptionPane</span><span class="token punctuation">.</span>QUESTION_MESSAGE<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
				options<span class="token punctuation">,</span> options<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>response <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> 
	<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"restart"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token function">restart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"help"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token class-name">JOptionPane</span><span class="token punctuation">.</span><span class="token function">showMessageDialog</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"通过键盘的上下左右来移动"</span><span class="token punctuation">,</span>
				<span class="token string">"提示！"</span><span class="token punctuation">,</span> <span class="token class-name">JOptionPane</span><span class="token punctuation">.</span>INFORMATION_MESSAGE<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"win"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token class-name">JOptionPane</span><span class="token punctuation">.</span><span class="token function">showMessageDialog</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"移动到终点获得胜利"</span><span class="token punctuation">,</span>
				<span class="token string">"提示！"</span><span class="token punctuation">,</span> <span class="token class-name">JOptionPane</span><span class="token punctuation">.</span>INFORMATION_MESSAGE<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>	
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      此时的GamePanel代码如下：
     </strong>
    </p>
    <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">main</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token class-name">Font</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>event<span class="token punctuation">.</span></span><span class="token class-name">ActionEvent</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>event<span class="token punctuation">.</span></span><span class="token class-name">ActionListener</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token class-name">JMenu</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token class-name">JMenuBar</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token class-name">JMenuItem</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token class-name">JOptionPane</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token class-name">JPanel</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token class-name">UIManager</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span>plaf<span class="token punctuation">.</span></span><span class="token class-name">FontUIResource</span><span class="token punctuation">;</span>

<span class="token comment">/*
 * 画布类
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GamePanel</span> <span class="token keyword">extends</span> <span class="token class-name">JPanel</span> <span class="token keyword">implements</span> <span class="token class-name">ActionListener</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">private</span> <span class="token class-name">JMenuBar</span> jmb <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token class-name">GameFrame</span> mainFrame <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token class-name">GamePanel</span> panel <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> gameFlag<span class="token operator">=</span><span class="token string">"start"</span><span class="token punctuation">;</span><span class="token comment">//游戏状态</span>
	<span class="token comment">//构造方法</span>
	<span class="token keyword">public</span> <span class="token class-name">GamePanel</span><span class="token punctuation">(</span><span class="token class-name">GameFrame</span> mainFrame<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setLayout</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setOpaque</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>mainFrame<span class="token operator">=</span>mainFrame<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>panel <span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span>
		<span class="token comment">//创建菜单</span>
		<span class="token function">createMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">private</span> <span class="token class-name">Font</span> <span class="token function">createFont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span><span class="token string">"思源宋体"</span><span class="token punctuation">,</span><span class="token class-name">Font</span><span class="token punctuation">.</span>BOLD<span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//创建菜单</span>
	<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">createMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">//创建JMenuBar</span>
		jmb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JMenuBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//取得字体</span>
		<span class="token class-name">Font</span> tFont <span class="token operator">=</span> <span class="token function">createFont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
		<span class="token comment">//创建游戏选项</span>
		<span class="token class-name">JMenu</span> jMenu1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JMenu</span><span class="token punctuation">(</span><span class="token string">"游戏"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		jMenu1<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span>tFont<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//创建帮助选项</span>
		<span class="token class-name">JMenu</span> jMenu2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JMenu</span><span class="token punctuation">(</span><span class="token string">"帮助"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		jMenu2<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span>tFont<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token class-name">JMenuItem</span> jmi1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JMenuItem</span><span class="token punctuation">(</span><span class="token string">"新游戏"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		jmi1<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span>tFont<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">JMenuItem</span> jmi2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JMenuItem</span><span class="token punctuation">(</span><span class="token string">"退出"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		jmi2<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span>tFont<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//jmi1 jmi2添加到菜单项“游戏”中</span>
		jMenu1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>jmi1<span class="token punctuation">)</span><span class="token punctuation">;</span>
		jMenu1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>jmi2<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token class-name">JMenuItem</span> jmi3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JMenuItem</span><span class="token punctuation">(</span><span class="token string">"操作帮助"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		jmi3<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span>tFont<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">JMenuItem</span> jmi4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JMenuItem</span><span class="token punctuation">(</span><span class="token string">"胜利条件"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		jmi4<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span>tFont<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//jmi13 jmi4添加到菜单项“游戏”中</span>
		jMenu2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>jmi3<span class="token punctuation">)</span><span class="token punctuation">;</span>
		jMenu2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>jmi4<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		
		jmb<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>jMenu1<span class="token punctuation">)</span><span class="token punctuation">;</span>
		jmb<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>jMenu2<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		mainFrame<span class="token punctuation">.</span><span class="token function">setJMenuBar</span><span class="token punctuation">(</span>jmb<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//添加监听</span>
		jmi1<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		jmi2<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		jmi3<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		jmi4<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//设置指令</span>
		jmi1<span class="token punctuation">.</span><span class="token function">setActionCommand</span><span class="token punctuation">(</span><span class="token string">"restart"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		jmi2<span class="token punctuation">.</span><span class="token function">setActionCommand</span><span class="token punctuation">(</span><span class="token string">"exit"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		jmi3<span class="token punctuation">.</span><span class="token function">setActionCommand</span><span class="token punctuation">(</span><span class="token string">"help"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		jmi4<span class="token punctuation">.</span><span class="token function">setActionCommand</span><span class="token punctuation">(</span><span class="token string">"win"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">actionPerformed</span><span class="token punctuation">(</span><span class="token class-name">ActionEvent</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token class-name">String</span> command <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">getActionCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">UIManager</span><span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"OptionPane.buttonFont"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">FontUIResource</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span><span class="token string">"思源宋体"</span><span class="token punctuation">,</span> <span class="token class-name">Font</span><span class="token punctuation">.</span>ITALIC<span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">UIManager</span><span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"OptionPane.messageFont"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">FontUIResource</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span><span class="token string">"思源宋体"</span><span class="token punctuation">,</span> <span class="token class-name">Font</span><span class="token punctuation">.</span>ITALIC<span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"exit"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> options <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"确定"</span><span class="token punctuation">,</span> <span class="token string">"取消"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
			<span class="token keyword">int</span> response <span class="token operator">=</span> <span class="token class-name">JOptionPane</span><span class="token punctuation">.</span><span class="token function">showOptionDialog</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"您确认要退出吗"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span>
					<span class="token class-name">JOptionPane</span><span class="token punctuation">.</span>YES_OPTION<span class="token punctuation">,</span> <span class="token class-name">JOptionPane</span><span class="token punctuation">.</span>QUESTION_MESSAGE<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
					options<span class="token punctuation">,</span> options<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>response <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> 
		<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"restart"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token function">restart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"help"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token class-name">JOptionPane</span><span class="token punctuation">.</span><span class="token function">showMessageDialog</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"通过键盘的上下左右来移动"</span><span class="token punctuation">,</span>
					<span class="token string">"提示！"</span><span class="token punctuation">,</span> <span class="token class-name">JOptionPane</span><span class="token punctuation">.</span>INFORMATION_MESSAGE<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"win"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token class-name">JOptionPane</span><span class="token punctuation">.</span><span class="token function">showMessageDialog</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"移动到终点获得胜利"</span><span class="token punctuation">,</span>
					<span class="token string">"提示！"</span><span class="token punctuation">,</span> <span class="token class-name">JOptionPane</span><span class="token punctuation">.</span>INFORMATION_MESSAGE<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>	
	<span class="token punctuation">}</span>
	
	<span class="token keyword">void</span> <span class="token function">restart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		
	<span class="token punctuation">}</span>
	
<span class="token punctuation">}</span>

</code></pre>
    <p>
     <strong>
      运行它
     </strong>
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/c5664722192aa87955c2d0b16c9cc14c.png"/>
    </p>
    <h3>
     <a id="_342">
     </a>
     绘制迷宫的每个单元
    </h3>
    <ol>
     <li>
      初始化相关参数
     </li>
    </ol>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">int</span> ROWS<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">;</span><span class="token comment">//行</span>
<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">int</span> COLS<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">;</span><span class="token comment">//列</span>
<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token class-name">H</span><span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">;</span><span class="token comment">//每一块的宽高</span>
<span class="token class-name">Block</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> blocks <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">//存储每个单元的二维数组</span>
</code></pre>
    <ol start="2">
     <li>
      创建迷宫单元类（如果对坐标计算不明白，可以往上翻，有图示说明解释）
     </li>
    </ol>
    <pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token class-name">Graphics</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>
<span class="token comment">/*
 * 迷宫单元类
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Block</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">private</span> <span class="token class-name">GamePanel</span> panel <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//二维数组的下标i</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//二维数组的下标j</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> h<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//宽高</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> start<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">;</span><span class="token comment">//偏移像素</span>
	<span class="token comment">//4个顶点坐标</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> x1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//x1坐标</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> y1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//y1坐标</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> x2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//x2坐标</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> y2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//y2坐标</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> x3<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//x3坐标</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> y3<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//y3坐标</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> x4<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//x4坐标</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> y4<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//y4坐标</span>
	<span class="token comment">//上下左右4个墙是否显示,true：显示，false：隐藏</span>
	<span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span> walls<span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	
	<span class="token keyword">private</span> <span class="token keyword">boolean</span> visited<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//是否被访问</span>
	<span class="token comment">//构造</span>
	<span class="token keyword">public</span> <span class="token class-name">Block</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span><span class="token keyword">int</span> j<span class="token punctuation">,</span><span class="token keyword">int</span> h<span class="token punctuation">,</span><span class="token class-name">GamePanel</span> panel<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>i<span class="token operator">=</span>i<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>j<span class="token operator">=</span>j<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>h<span class="token operator">=</span>h<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>panel<span class="token operator">=</span>panel<span class="token punctuation">;</span>
		<span class="token comment">//计算4个顶点的坐标</span>
		<span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">//计算4个顶点的坐标</span>
	<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">//i代表行 j代表列</span>
		<span class="token comment">//左上角坐标</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>x1<span class="token operator">=</span>start<span class="token operator">+</span>j<span class="token operator">*</span>h<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>y1<span class="token operator">=</span>start<span class="token operator">+</span>i<span class="token operator">*</span>h<span class="token punctuation">;</span>
		<span class="token comment">//右上角坐标</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>x2<span class="token operator">=</span>start<span class="token operator">+</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>h<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>y2<span class="token operator">=</span>start<span class="token operator">+</span>i<span class="token operator">*</span>h<span class="token punctuation">;</span>
		<span class="token comment">//右下角坐标</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>x3<span class="token operator">=</span>start<span class="token operator">+</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>h<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>y3<span class="token operator">=</span>start<span class="token operator">+</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>h<span class="token punctuation">;</span>
		<span class="token comment">//左下角坐标</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>x4<span class="token operator">=</span>start<span class="token operator">+</span>j<span class="token operator">*</span>h<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>y4<span class="token operator">=</span>start<span class="token operator">+</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>h<span class="token punctuation">;</span>	
		<span class="token comment">//默认上下左右4个墙都显示</span>
		walls<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
		walls<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
		walls<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
		walls<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//绘制指示器的方法</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token class-name">Graphics</span> g<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">//绘制迷宫块</span>
		<span class="token function">drawBlock</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//绘制迷宫块</span>
	<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">drawBlock</span><span class="token punctuation">(</span><span class="token class-name">Graphics</span> g<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">//判断上、右、下、左 的墙，true的话墙就会有，否则墙就没有</span>
		<span class="token keyword">boolean</span> top    <span class="token operator">=</span> walls<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">boolean</span> right  <span class="token operator">=</span> walls<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">boolean</span> bottom <span class="token operator">=</span> walls<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">boolean</span> left   <span class="token operator">=</span> walls<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>top<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//绘制上墙</span>
			g<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> y2<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//绘制右墙</span>
			g<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span>x2<span class="token punctuation">,</span> y2<span class="token punctuation">,</span> x3<span class="token punctuation">,</span> y3<span class="token punctuation">)</span><span class="token punctuation">;</span>	
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>bottom<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//绘制下墙</span>
			g<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span>x3<span class="token punctuation">,</span> y3<span class="token punctuation">,</span> x4<span class="token punctuation">,</span> y4<span class="token punctuation">)</span><span class="token punctuation">;</span>	
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//绘制左墙</span>
			g<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span>x4<span class="token punctuation">,</span> y4<span class="token punctuation">,</span> x1<span class="token punctuation">,</span> y1<span class="token punctuation">)</span><span class="token punctuation">;</span>	
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <ol start="3">
     <li>
      在GamePanel类中创建方法createBlocks
     </li>
    </ol>
    <pre><code class="prism language-java"><span class="token comment">//创建数组内容</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">createBlocks</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	blocks <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Block</span><span class="token punctuation">[</span>ROWS<span class="token punctuation">]</span><span class="token punctuation">[</span>COLS<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token class-name">Block</span> block <span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ROWS<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> COLS<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			block <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Block</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span><span class="token class-name">H</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			blocks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>block<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <ol start="4">
     <li>
      在构造函数中调用此方法
     </li>
    </ol>
    <pre><code class="prism language-java"><span class="token comment">//构造方法</span>
<span class="token keyword">public</span> <span class="token class-name">GamePanel</span><span class="token punctuation">(</span><span class="token class-name">GameFrame</span> mainFrame<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setLayout</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setOpaque</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>mainFrame<span class="token operator">=</span>mainFrame<span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>panel <span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token comment">//创建菜单</span>
	<span class="token function">createMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//创建数组内容</span>
	<span class="token function">createBlocks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <ol start="5">
     <li>
      在GamePanel中重新paint方法，绘制这些方块
     </li>
    </ol>
    <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">paint</span><span class="token punctuation">(</span><span class="token class-name">Graphics</span> g<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">paint</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//绘制网格</span>
	<span class="token function">drawBlock</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//绘制迷宫块</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">drawBlock</span><span class="token punctuation">(</span><span class="token class-name">Graphics</span> g<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token class-name">Block</span> block <span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ROWS<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> COLS<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			block <span class="token operator">=</span> blocks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>block<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				block<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     运行可以看到一个个的方形绘制出来了
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/2d27eedf139f14e3230692fcfc86ec02.png"/>
    </p>
    <h3>
     <a id="_491">
     </a>
     计算并打通迷宫
    </h3>
    <ol>
     <li>
      给每个单元都增加邻居查找方法（Block类中）
     </li>
    </ol>
    <pre><code class="prism language-java"><span class="token comment">//查找当前单元是否有未被访问的邻居单元</span>
<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Block</span><span class="token punctuation">&gt;</span></span> <span class="token function">findNeighbors</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">//邻居分为上下左右</span>
	<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Block</span><span class="token punctuation">&gt;</span></span> res<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Block</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//返回的数组</span>
	
	<span class="token class-name">Block</span> top    <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getNeighbor</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">Block</span> right  <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getNeighbor</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">Block</span> bottom <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getNeighbor</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">Block</span> left   <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getNeighbor</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token keyword">if</span><span class="token punctuation">(</span>top<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		res<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>top<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>right<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		res<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>bottom<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		res<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>bottom<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>left<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		res<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> res<span class="token punctuation">;</span><span class="token comment">//返回邻居数组</span>
<span class="token punctuation">}</span>
<span class="token comment">//根据方向，获得邻居</span>
<span class="token keyword">public</span> <span class="token class-name">Block</span> <span class="token function">getNeighbor</span><span class="token punctuation">(</span><span class="token keyword">int</span> type<span class="token punctuation">,</span><span class="token keyword">boolean</span> lose_visited<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token class-name">Block</span> neighbor<span class="token punctuation">;</span>
	<span class="token keyword">int</span> ti<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>tj<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>type<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		ti <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
		tj <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>j<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>type<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		ti <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>i<span class="token punctuation">;</span>
		tj <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>type<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		ti <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
		tj <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>j<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>type<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		ti <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>i<span class="token punctuation">;</span>
		tj <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token class-name">Block</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> blocks <span class="token operator">=</span> panel<span class="token punctuation">.</span>blocks<span class="token punctuation">;</span>
	
	<span class="token keyword">if</span><span class="token punctuation">(</span>ti<span class="token operator">&lt;</span><span class="token number">0</span> <span class="token operator">||</span> tj<span class="token operator">&lt;</span><span class="token number">0</span> <span class="token operator">||</span> ti<span class="token operator">&gt;=</span>panel<span class="token punctuation">.</span>ROWS <span class="token operator">||</span> tj<span class="token operator">&gt;=</span>panel<span class="token punctuation">.</span>COLS<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//超出边界了</span>
		neighbor <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
		<span class="token comment">//首先找到这个邻居</span>
		neighbor <span class="token operator">=</span> blocks<span class="token punctuation">[</span>ti<span class="token punctuation">]</span><span class="token punctuation">[</span>tj<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token comment">//判断是否被访问，如果被访问了返回null</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>neighbor<span class="token punctuation">.</span>visited <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>lose_visited<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//lose_visited等于true表示忽略访问</span>
			neighbor <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> neighbor<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <ol start="2">
     <li>
      计算
      <br/>
      跟着算法来写的代码，唯一要注意的是我设置了一个值unVisitedCount，初始值为所有单元的数量，每当一个单元被标记为已访问后，这个值就递减1，当值为0后就终止循环，结束算法。
     </li>
    </ol>
    <pre><code class="prism language-java"><span class="token comment">//线路的计算处理</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token comment">/*
	1.将起点作为当前迷宫单元并标记为已访问
	2.当还存在未标记的迷宫单元，进行循环
		1).如果当前迷宫单元有未被访问过的的相邻的迷宫单元
			(1).随机选择一个未访问的相邻迷宫单元
			(2).将当前迷宫单元入栈
			(3).移除当前迷宫单元与相邻迷宫单元的墙
			(4).标记相邻迷宫单元并用它作为当前迷宫单元
		2).如果当前迷宫单元不存在未访问的相邻迷宫单元，并且栈不空
			(1).栈顶的迷宫单元出栈
			(2).令其成为当前迷宫单元
	 */</span>
	<span class="token class-name">Random</span> random <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Block</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Block</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//栈</span>
	<span class="token class-name">Block</span> current <span class="token operator">=</span> blocks<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//取第一个为当前单元</span>
	current<span class="token punctuation">.</span><span class="token function">setVisited</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//标记为已访问</span>
	
	<span class="token keyword">int</span> unVisitedCount<span class="token operator">=</span>ROWS<span class="token operator">*</span>COLS<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//因为第一个已经设置为访问了</span>
	<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Block</span><span class="token punctuation">&gt;</span></span> neighbors <span class="token punctuation">;</span><span class="token comment">//定义邻居</span>
	<span class="token class-name">Block</span> next<span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>unVisitedCount<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		neighbors <span class="token operator">=</span> current<span class="token punctuation">.</span><span class="token function">findNeighbors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//查找邻居集合(未被访问的)</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>neighbors<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//如果当前迷宫单元有未被访问过的的相邻的迷宫单元</span>
			<span class="token comment">//随机选择一个未访问的相邻迷宫单元</span>
			<span class="token keyword">int</span> index <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>neighbors<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
			next <span class="token operator">=</span> neighbors<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">//将当前迷宫单元入栈</span>
			stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">//移除当前迷宫单元与相邻迷宫单元的墙</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">removeWall</span><span class="token punctuation">(</span>current<span class="token punctuation">,</span>next<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">//标记相邻迷宫单元并用它作为当前迷宫单元</span>
			next<span class="token punctuation">.</span><span class="token function">setVisited</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">//标记一个为访问，则计数器递减1</span>
			unVisitedCount<span class="token operator">--</span><span class="token punctuation">;</span><span class="token comment">//递减</span>
			current <span class="token operator">=</span> next<span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//如果当前迷宫单元不存在未访问的相邻迷宫单元，并且栈不空</span>
			<span class="token comment">/*
				1.栈顶的迷宫单元出栈
				2.令其成为当前迷宫单元
			*/</span>
			<span class="token class-name">Block</span> cell <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			current <span class="token operator">=</span> cell<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <ol start="3">
     <li>
      移除墙
     </li>
    </ol>
    <pre><code class="prism language-java"><span class="token comment">//移除当前迷宫单元与相邻迷宫单元的墙</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">removeWall</span><span class="token punctuation">(</span><span class="token class-name">Block</span> current<span class="token punctuation">,</span> <span class="token class-name">Block</span> next<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>current<span class="token punctuation">.</span><span class="token function">getI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span>next<span class="token punctuation">.</span><span class="token function">getI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//横向邻居</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>current<span class="token punctuation">.</span><span class="token function">getJ</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>next<span class="token punctuation">.</span><span class="token function">getJ</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//匹配到的是左边邻居</span>
			<span class="token comment">//左边邻居的话，要移除自己的左墙和邻居的右墙</span>
			current<span class="token punctuation">.</span>walls<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
			next<span class="token punctuation">.</span>walls<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span><span class="token comment">//匹配到的是右边邻居</span>
			<span class="token comment">//右边邻居的话，要移除自己的右墙和邻居的左墙</span>
			current<span class="token punctuation">.</span>walls<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
			next<span class="token punctuation">.</span>walls<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>current<span class="token punctuation">.</span><span class="token function">getJ</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span>next<span class="token punctuation">.</span><span class="token function">getJ</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//纵向邻居</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>current<span class="token punctuation">.</span><span class="token function">getI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>next<span class="token punctuation">.</span><span class="token function">getI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//匹配到的是上边邻居</span>
			<span class="token comment">//上边邻居的话，要移除自己的上墙和邻居的下墙</span>
			current<span class="token punctuation">.</span>walls<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
			next<span class="token punctuation">.</span>walls<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span><span class="token comment">//匹配到的是下边邻居</span>
			<span class="token comment">//下边邻居的话，要移除自己的下墙和邻居的上墙</span>
			current<span class="token punctuation">.</span>walls<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
			next<span class="token punctuation">.</span>walls<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <ol start="4">
     <li>
      在构造函数中调用computed方法
     </li>
    </ol>
    <pre><code class="prism language-java"><span class="token comment">//构造方法</span>
<span class="token keyword">public</span> <span class="token class-name">GamePanel</span><span class="token punctuation">(</span><span class="token class-name">GameFrame</span> mainFrame<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setLayout</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setOpaque</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>mainFrame<span class="token operator">=</span>mainFrame<span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>panel <span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token comment">//创建菜单</span>
	<span class="token function">createMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//创建数组内容</span>
	<span class="token function">createBlocks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//计算处理线路</span>
	<span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <ol start="5">
     <li>
      运行效果
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/dc18961363a1190b39db6d8bc377c1b0.png"/>
     </li>
    </ol>
    <h3>
     <a id="_650">
     </a>
     绘制起点终点
    </h3>
    <ol>
     <li>
      创建Rect类
     </li>
    </ol>
    <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">main</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token class-name">Color</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token class-name">Graphics</span><span class="token punctuation">;</span>

<span class="token comment">//开始结束方块</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Rect</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//二维数组的下标i</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//二维数组的下标j</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//x坐标</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> y<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//y坐标</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> h<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//宽高</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> start<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">;</span><span class="token comment">//偏移像素</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> type<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span><span class="token comment">//start end </span>
	
	<span class="token keyword">public</span> <span class="token class-name">Rect</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span><span class="token keyword">int</span> j<span class="token punctuation">,</span><span class="token keyword">int</span> h<span class="token punctuation">,</span><span class="token class-name">String</span> type<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>i<span class="token operator">=</span>i<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>j<span class="token operator">=</span>j<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>h<span class="token operator">=</span>h<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>type<span class="token operator">=</span>type<span class="token punctuation">;</span>
		
	<span class="token punctuation">}</span>
	<span class="token comment">//初始化</span>
	<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token operator">=</span>start<span class="token operator">+</span>j<span class="token operator">*</span>h<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token operator">=</span>start<span class="token operator">+</span>i<span class="token operator">*</span>h<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//绘制</span>
	<span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token class-name">Graphics</span> g<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token comment">//计算x、y坐标</span>
		<span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token class-name">Color</span> oColor <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token function">getColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"start"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//红色</span>
			g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
			g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		g<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> h<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> h<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>oColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">//移动</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token keyword">int</span> type<span class="token punctuation">,</span> <span class="token class-name">Block</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> blocks<span class="token punctuation">,</span><span class="token class-name">GamePanel</span> panel<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">//根据当前start方形，获得对应的迷宫单元</span>
		<span class="token class-name">Block</span> cur <span class="token operator">=</span> blocks<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
		
		<span class="token keyword">boolean</span> wall <span class="token operator">=</span> cur<span class="token punctuation">.</span>walls<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//得到对应的那面墙	</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>wall<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token comment">//得到移动方块对应的单元</span>
			<span class="token class-name">Block</span> next <span class="token operator">=</span> cur<span class="token punctuation">.</span><span class="token function">getNeighbor</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>next<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>i <span class="token operator">=</span> next<span class="token punctuation">.</span><span class="token function">getI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>j <span class="token operator">=</span> next<span class="token punctuation">.</span><span class="token function">getJ</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				panel<span class="token punctuation">.</span><span class="token function">repaint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">//判断如果i,j等于终点的，则表示获得成功</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>i<span class="token operator">==</span>panel<span class="token punctuation">.</span>end<span class="token punctuation">.</span>i <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>j<span class="token operator">==</span>panel<span class="token punctuation">.</span>end<span class="token punctuation">.</span>j<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
					panel<span class="token punctuation">.</span><span class="token function">gameWin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getI</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> i<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setI</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>i <span class="token operator">=</span> i<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getJ</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> j<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setJ</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>j <span class="token operator">=</span> j<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
    <ol start="2">
     <li>
      在GamePanel类中创建方法，并在构造中调用。
     </li>
    </ol>
    <pre><code class="prism language-java"><span class="token comment">//创建开始结束的方形</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">createRects</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	start <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token class-name">H</span><span class="token punctuation">,</span> <span class="token string">"start"</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
	end <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rect</span><span class="token punctuation">(</span>ROWS<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> COLS<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">H</span><span class="token punctuation">,</span> <span class="token string">"end"</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <pre><code class="prism language-java"><span class="token comment">//构造方法</span>
<span class="token keyword">public</span> <span class="token class-name">GamePanel</span><span class="token punctuation">(</span><span class="token class-name">GameFrame</span> mainFrame<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setLayout</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setOpaque</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>mainFrame<span class="token operator">=</span>mainFrame<span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>panel <span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token comment">//创建菜单</span>
	<span class="token function">createMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//创建数组内容</span>
	<span class="token function">createBlocks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//计算处理线路</span>
	<span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//创建开始结束的方形</span>
	<span class="token function">createRects</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <ol start="3">
     <li>
      在paint方法中绘制
     </li>
    </ol>
    <pre><code class="prism language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">paint</span><span class="token punctuation">(</span><span class="token class-name">Graphics</span> g<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">paint</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//绘制网格</span>
	<span class="token function">drawBlock</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//绘制开始结束方向</span>
	<span class="token function">drawRect</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//绘制开始结束方块</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">drawRect</span><span class="token punctuation">(</span><span class="token class-name">Graphics</span> g<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	end<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>
	start<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <ol start="4">
     <li>
      运行一下
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/a74a9cad9fe8d4e675970d6c292e2a01.png"/>
     </li>
    </ol>
    <h3>
     <a id="_779">
     </a>
     加入键盘移动监听
    </h3>
    <ol>
     <li>
      创建监听方法
     </li>
    </ol>
    <pre><code class="prism language-java"><span class="token comment">//添加键盘监听</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">createKeyListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token class-name">KeyAdapter</span> l <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">KeyAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">//按下</span>
		<span class="token annotation punctuation">@Override</span>
		<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">keyPressed</span><span class="token punctuation">(</span><span class="token class-name">KeyEvent</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token string">"start"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>gameFlag<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>
			<span class="token keyword">int</span> key <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">getKeyCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">switch</span> <span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token comment">//向上</span>
				<span class="token keyword">case</span> <span class="token class-name">KeyEvent</span><span class="token punctuation">.</span>VK_UP<span class="token operator">:</span>
				<span class="token keyword">case</span> <span class="token class-name">KeyEvent</span><span class="token punctuation">.</span>VK_W<span class="token operator">:</span>
					<span class="token keyword">if</span><span class="token punctuation">(</span>start<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span> start<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>blocks<span class="token punctuation">,</span>panel<span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
					
				<span class="token comment">//向右	</span>
				<span class="token keyword">case</span> <span class="token class-name">KeyEvent</span><span class="token punctuation">.</span>VK_RIGHT<span class="token operator">:</span>
				<span class="token keyword">case</span> <span class="token class-name">KeyEvent</span><span class="token punctuation">.</span>VK_D<span class="token operator">:</span>
					<span class="token keyword">if</span><span class="token punctuation">(</span>start<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span> start<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>blocks<span class="token punctuation">,</span>panel<span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
					
				<span class="token comment">//向下</span>
				<span class="token keyword">case</span> <span class="token class-name">KeyEvent</span><span class="token punctuation">.</span>VK_DOWN<span class="token operator">:</span>
				<span class="token keyword">case</span> <span class="token class-name">KeyEvent</span><span class="token punctuation">.</span>VK_S<span class="token operator">:</span>
					<span class="token keyword">if</span><span class="token punctuation">(</span>start<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span> start<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span>blocks<span class="token punctuation">,</span>panel<span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
					
				<span class="token comment">//向左</span>
				<span class="token keyword">case</span> <span class="token class-name">KeyEvent</span><span class="token punctuation">.</span>VK_LEFT<span class="token operator">:</span>
				<span class="token keyword">case</span> <span class="token class-name">KeyEvent</span><span class="token punctuation">.</span>VK_A<span class="token operator">:</span>
					<span class="token keyword">if</span><span class="token punctuation">(</span>start<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span> start<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span>blocks<span class="token punctuation">,</span>panel<span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		
		<span class="token punctuation">}</span>
		<span class="token comment">//松开</span>
		<span class="token annotation punctuation">@Override</span>
		<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">keyReleased</span><span class="token punctuation">(</span><span class="token class-name">KeyEvent</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token punctuation">}</span>
		
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token comment">//给主frame添加键盘监听</span>
	mainFrame<span class="token punctuation">.</span><span class="token function">addKeyListener</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <ol start="2">
     <li>
      在构造中调用
     </li>
    </ol>
    <pre><code class="prism language-java"><span class="token comment">//构造方法</span>
<span class="token keyword">public</span> <span class="token class-name">GamePanel</span><span class="token punctuation">(</span><span class="token class-name">GameFrame</span> mainFrame<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setLayout</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setOpaque</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>mainFrame<span class="token operator">=</span>mainFrame<span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>panel <span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token comment">//创建菜单</span>
	<span class="token function">createMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//创建数组内容</span>
	<span class="token function">createBlocks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//计算处理线路</span>
	<span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//创建开始结束的方形</span>
	<span class="token function">createRects</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//添加键盘事件监听</span>
	<span class="token function">createKeyListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <ol start="3">
     <li>
      运行
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/21c3919ae2ce6814c5962e71f9fdcfbe.gif#pic_center"/>
     </li>
    </ol>
    <h3>
     <a id="_851">
     </a>
     收尾
    </h3>
    <p>
     此时代码已经基本完成，加入游戏胜利、重新开始等方法即可
    </p>
    <pre><code class="prism language-java"><span class="token comment">//重新开始</span>
<span class="token keyword">void</span> <span class="token function">restart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">/*参数重置
	1.游戏状态
	2.迷宫单元重置
	3.重新计算线路
	*/</span>
	
	<span class="token comment">//1.游戏状态</span>
	gameFlag<span class="token operator">=</span><span class="token string">"start"</span><span class="token punctuation">;</span>
	<span class="token comment">//2.迷宫单元重置</span>
	<span class="token class-name">Block</span> block <span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ROWS<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> COLS<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			block <span class="token operator">=</span> blocks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>block<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				block<span class="token punctuation">.</span><span class="token function">setVisited</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				block<span class="token punctuation">.</span>walls<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
				block<span class="token punctuation">.</span>walls<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
				block<span class="token punctuation">.</span>walls<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
				block<span class="token punctuation">.</span>walls<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//3.计算处理线路</span>
	<span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//开始方块归零</span>
	start<span class="token punctuation">.</span><span class="token function">setI</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	start<span class="token punctuation">.</span><span class="token function">setJ</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//重绘</span>
	<span class="token function">repaint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <strong>
      看到这里的大佬，动动发财的小手
      <font color="red">
       点赞
      </font>
      +
      <font color="red">
       回复
      </font>
      +
      <font color="red">
       收藏
      </font>
      ，能
      <font color="red">
       【 关注
      </font>
      】一波就更好了。
     </strong>
    </p>
    <h2>
     <a id="font_colorredfont_892">
     </a>
     <font color="red">
      代码获取方式
     </font>
     ：
    </h2>
    <p>
     <strong>
      订阅我的专栏《
      <u>
       <a href="https://blog.csdn.net/dkm123456/category_11085592.html">
        Java游戏大全
       </a>
      </u>
      》后，可以查看专栏内所有的文章，并且
      <font color="red">
       联系博主
      </font>
      免费获取其中
      <font color="red">
       1-3份你心仪的源代码
      </font>
      ，专栏的文章都是上过csdn热榜的，值得信赖！专栏内目前有[14]篇实例，未来2个月内专栏会更新到15篇以上，一般2周一更，
      <u>
       <a href="https://blog.csdn.net/dkm123456/category_11085592.html">
        了解一下我的专栏
       </a>
      </u>
      。
     </strong>
    </p>
   </div>
   <link href="./../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="./../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
</div>


<p class="artid" style="display:none">68747470733a2f:2f626c6f672e6373646e2e6e65742f646b6d3132333435362f:61727469636c652f64657461696c732f313139343635303136</p>
