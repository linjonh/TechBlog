---
layout: post
title: "嵌入式八股C语言-面向对象篇"
date: 2025-03-12 20:57:21 +0800
description: "2026嵌入式秋招八股"
keywords: "嵌入式八股C语言---面向对象篇"
categories: ['嵌入式八股']
tags: ['开发语言', 'C']
artid: "146214795"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146214795
    alt: "嵌入式八股C语言-面向对象篇"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146214795
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146214795
cover: https://bing.ee123.net/img/rand?artid=146214795
image: https://bing.ee123.net/img/rand?artid=146214795
img: https://bing.ee123.net/img/rand?artid=146214795
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     嵌入式八股C语言---面向对象篇
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="_0">
     </a>
     面向对象与面向过程
    </h2>
    <ul>
     <li>
      面向过程
      <br/>
      就是把整个业务逻辑分成多个步骤,每步或每一个功能都可以使用一个函数来实现
     </li>
     <li>
      面向对象
      <br/>
      对象是类的实例化,此时一个类就内部有属性和相应的方法
     </li>
    </ul>
    <h2>
     <a id="_5">
     </a>
     封装
    </h2>
    <p>
     在C语言里实现封装就是实现一个结构体,里面包括的成员变量和函数指针,然后在构造函数中,为结构体的函数指针赋初值
     <br/>
     对于这个函数指针往往会把自身传入,因为只是在模仿class
    </p>
    <pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token keyword">struct</span> <span class="token class-name">student</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> height<span class="token punctuation">;</span>
    <span class="token keyword">char</span><span class="token operator">*</span> name<span class="token punctuation">;</span>
    <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">*</span>add_height<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">student</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">ADD_HEIGHT</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">student</span> <span class="token operator">*</span> stu<span class="token punctuation">,</span> <span class="token keyword">int</span> add<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    stu<span class="token operator">-&gt;</span>height <span class="token operator">+=</span> add<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">struct</span> <span class="token class-name">student</span> <span class="token operator">*</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token keyword">int</span> height<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span>name<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">struct</span> <span class="token class-name">student</span> <span class="token operator">*</span> stu <span class="token operator">=</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">student</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>stu<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        stu<span class="token operator">-&gt;</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>
        stu<span class="token operator">-&gt;</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        stu<span class="token operator">-&gt;</span>add_height <span class="token operator">=</span> ADD_HEIGHT<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> stu<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">freeStudent</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">student</span> <span class="token operator">*</span> stu <span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>stu<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">free</span><span class="token punctuation">(</span>stu<span class="token punctuation">)</span><span class="token punctuation">;</span>
        stu <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">struct</span> <span class="token class-name">student</span> <span class="token operator">*</span> stu <span class="token operator">=</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token number">180</span><span class="token punctuation">,</span><span class="token string">"LCS"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\r\n"</span><span class="token punctuation">,</span>stu<span class="token operator">-&gt;</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
    stu<span class="token operator">-&gt;</span><span class="token function">add_height</span><span class="token punctuation">(</span>stu<span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\r\n"</span><span class="token punctuation">,</span>stu<span class="token operator">-&gt;</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <h2>
     <a id="_50">
     </a>
     继承
    </h2>
    <ul>
     <li>
      实现方案一: 子类中嵌套父类结构体指针
      <br/>
      C语言模仿继承就是子类的结构体里嵌套一个父类的结构体
      <br/>
      那如何实现类似虚函数的效果呢–修改父类的函数指针的指向就行
     </li>
    </ul>
    <pre><code class="prism language-cpp"> 		<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
        <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
        <span class="token keyword">struct</span> <span class="token class-name">animal</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token comment">/* data */</span>
            <span class="token keyword">int</span> age<span class="token punctuation">;</span>
            <span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">*</span>speak<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">void</span> <span class="token function">cat_speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"speak miaomiao\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">void</span> <span class="token function">dog_speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"speak wangwang\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">struct</span> <span class="token class-name">cat</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">struct</span> <span class="token class-name">animal</span> <span class="token operator">*</span> anm<span class="token punctuation">;</span>
            <span class="token keyword">int</span> like_nothing<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">struct</span> <span class="token class-name">dog</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">struct</span> <span class="token class-name">animal</span> <span class="token operator">*</span> anm<span class="token punctuation">;</span>
            <span class="token keyword">int</span> like_eat_shit<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">struct</span> <span class="token class-name">animal</span><span class="token operator">*</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">struct</span> <span class="token class-name">animal</span><span class="token operator">*</span> anm <span class="token operator">=</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">animal</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            anm<span class="token operator">-&gt;</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
            anm<span class="token operator">-&gt;</span>speak <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> anm<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">struct</span> <span class="token class-name">cat</span><span class="token operator">*</span> <span class="token function">Cat</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">struct</span> <span class="token class-name">cat</span><span class="token operator">*</span> new_cat <span class="token operator">=</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">cat</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            new_cat<span class="token operator">-&gt;</span>anm <span class="token operator">=</span> <span class="token function">Animal</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这就意味着等会你释放内存是真麻烦</span>
            new_cat<span class="token operator">-&gt;</span>like_nothing <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            new_cat<span class="token operator">-&gt;</span>anm<span class="token operator">-&gt;</span>speak <span class="token operator">=</span> cat_speak<span class="token punctuation">;</span>
            <span class="token keyword">return</span> new_cat<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">struct</span> <span class="token class-name">dog</span><span class="token operator">*</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">struct</span> <span class="token class-name">dog</span><span class="token operator">*</span> new_dog <span class="token operator">=</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">dog</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            new_dog<span class="token operator">-&gt;</span>anm <span class="token operator">=</span> <span class="token function">Animal</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这就意味着等会你释放内存是真麻烦</span>
            new_dog<span class="token operator">-&gt;</span>like_eat_shit <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            new_dog<span class="token operator">-&gt;</span>anm<span class="token operator">-&gt;</span>speak <span class="token operator">=</span> dog_speak<span class="token punctuation">;</span>
            <span class="token keyword">return</span> new_dog<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">struct</span> <span class="token class-name">cat</span><span class="token operator">*</span> new_cat <span class="token operator">=</span> <span class="token function">Cat</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">struct</span> <span class="token class-name">dog</span><span class="token operator">*</span> new_dog <span class="token operator">=</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            new_cat<span class="token operator">-&gt;</span>anm<span class="token operator">-&gt;</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            new_dog<span class="token operator">-&gt;</span>anm<span class="token operator">-&gt;</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      继承的妙用: struct list_head 双向链表
      <br/>
      当我们想要实现自己的列表的实现 就把自己的链表中嵌入这个双向列表就行
     </li>
     <li>
      实现方案二: 父类提供一个void * 私有指针 不同的子类把void * 做不同的实现
     </li>
    </ul>
    <pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>

<span class="token comment">// 基类定义</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> age<span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">*</span>speak<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 虚函数指针</span>
    <span class="token keyword">void</span><span class="token operator">*</span> private_data<span class="token punctuation">;</span>   <span class="token comment">// 用于存储子类特定数据</span>
<span class="token punctuation">}</span> Animal<span class="token punctuation">;</span>

<span class="token comment">// Cat的私有数据结构</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> like_nothing<span class="token punctuation">;</span>
<span class="token punctuation">}</span> CatPrivate<span class="token punctuation">;</span>

<span class="token comment">// Dog的私有数据结构</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> like_eat_shit<span class="token punctuation">;</span>
<span class="token punctuation">}</span> DogPrivate<span class="token punctuation">;</span>

<span class="token comment">// 实现虚函数：猫叫声</span>
<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">cat_speak</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    CatPrivate<span class="token operator">*</span> private_data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>Animal<span class="token operator">*</span><span class="token punctuation">)</span>obj<span class="token punctuation">)</span><span class="token operator">-&gt;</span>private_data<span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Cat says: miaomiao, like_nothing=%d\n"</span><span class="token punctuation">,</span> private_data<span class="token operator">-&gt;</span>like_nothing<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 实现虚函数：狗叫声</span>
<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">dog_speak</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    DogPrivate<span class="token operator">*</span> private_data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>Animal<span class="token operator">*</span><span class="token punctuation">)</span>obj<span class="token punctuation">)</span><span class="token operator">-&gt;</span>private_data<span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Dog says: wangwang, like_eat_shit=%d\n"</span><span class="token punctuation">,</span> private_data<span class="token operator">-&gt;</span>like_eat_shit<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 创建Animal实例</span>
Animal<span class="token operator">*</span> <span class="token function">create_animal</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">*</span>speak_func<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token operator">*</span> private_data<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    Animal<span class="token operator">*</span> animal <span class="token operator">=</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    animal<span class="token operator">-&gt;</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    animal<span class="token operator">-&gt;</span>speak <span class="token operator">=</span> speak_func<span class="token punctuation">;</span>
    animal<span class="token operator">-&gt;</span>private_data <span class="token operator">=</span> private_data<span class="token punctuation">;</span> <span class="token comment">// 设置私有数据</span>
    <span class="token keyword">return</span> animal<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 创建Cat实例</span>
Animal<span class="token operator">*</span> <span class="token function">create_cat</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    CatPrivate<span class="token operator">*</span> cat_private <span class="token operator">=</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>CatPrivate<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cat_private<span class="token operator">-&gt;</span>like_nothing <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 设定Cat私有数据</span>

    Animal<span class="token operator">*</span> animal <span class="token operator">=</span> <span class="token function">create_animal</span><span class="token punctuation">(</span>age<span class="token punctuation">,</span> cat_speak<span class="token punctuation">,</span> cat_private<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> animal<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 创建Dog实例</span>
Animal<span class="token operator">*</span> <span class="token function">create_dog</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    DogPrivate<span class="token operator">*</span> dog_private <span class="token operator">=</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>DogPrivate<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dog_private<span class="token operator">-&gt;</span>like_eat_shit <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 设定Dog私有数据</span>

    Animal<span class="token operator">*</span> animal <span class="token operator">=</span> <span class="token function">create_animal</span><span class="token punctuation">(</span>age<span class="token punctuation">,</span> dog_speak<span class="token punctuation">,</span> dog_private<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> animal<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    Animal<span class="token operator">*</span> new_cat <span class="token operator">=</span> <span class="token function">create_cat</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Animal<span class="token operator">*</span> new_dog <span class="token operator">=</span> <span class="token function">create_dog</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 调用虚函数</span>
    new_cat<span class="token operator">-&gt;</span><span class="token function">speak</span><span class="token punctuation">(</span>new_cat<span class="token punctuation">)</span><span class="token punctuation">;</span>
    new_dog<span class="token operator">-&gt;</span><span class="token function">speak</span><span class="token punctuation">(</span>new_dog<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 清理资源</span>
    <span class="token function">free</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>CatPrivate<span class="token operator">*</span><span class="token punctuation">)</span>new_cat<span class="token operator">-&gt;</span>private_data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>DogPrivate<span class="token operator">*</span><span class="token punctuation">)</span>new_dog<span class="token operator">-&gt;</span>private_data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>new_cat<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>new_dog<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <ul>
     <li>
      <p>
       继承与抽象类
       <br/>
       含有纯虚函数的类，我们一般称之为抽象类。抽象类不能被实例化，实例化也没有意义,唯一的好处就是代码分层
      </p>
     </li>
     <li>
      <p>
       公共继承 私有继承 保护继承
       <br/>
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/2880fca4431c4724886d7105cddb4387.png"/>
      </p>
     </li>
     <li>
      <p>
       组合优于继承?
      </p>
     </li>
    </ul>
    <h2>
     <a id="_198">
     </a>
     多态
    </h2>
    <p>
     用父类指针调用子类的成员函数
     <br/>
     那就是给结构体的成员变量的函数指针指向不同的函数
    </p>
    <h2>
     <a id="_201">
     </a>
     深浅拷贝
    </h2>
    <p>
     浅拷贝只是对指针的拷贝，拷贝后两个指针指向同一个内存空间，
     <br/>
     深拷贝不但对指针进行拷贝，而且对指针指向的内容进行拷贝，经深拷贝后的指针是指向两个不同地址的指针
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f34353733313834352f:61727469636c652f64657461696c732f313436323134373935" class_="artid" style="display:none">
 </p>
</div>


