---
layout: post
title: "UI自动化Selenium常规的页面元素定位方法"
date: 2025-03-10 18:03:49 +0800
description: "中定位页面元素是自动化测试的核心操作之一。：使用相对 XPath 或 CSS 选择器，减少对页面结构的依赖。掌握这些方法后，可以覆盖 99% 的页面元素定位场景！：ID 唯一且加载快，但部分动态页面可能缺失或重复。灵活性高，支持层级、属性、文本等多种定位方式。：适用于表单元素，但 Name 可能不唯一。性能略低于 CSS 选择器，但适合复杂场景。：Class 可能重复，需确保唯一性。：改用 CSS 选择器或优化表达式。：使用其他固定属性或层级关系定位。：等待元素加载完成后再操作。中，或等待时间不足。"
keywords: "UI自动化：Selenium常规的页面元素定位方法"
categories: ['未分类']
tags: ['自动化', 'Ui', 'Selenium']
artid: "146160172"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146160172
    alt: "UI自动化Selenium常规的页面元素定位方法"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146160172
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146160172
cover: https://bing.ee123.net/img/rand?artid=146160172
image: https://bing.ee123.net/img/rand?artid=146160172
img: https://bing.ee123.net/img/rand?artid=146160172
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     UI自动化：Selenium常规的页面元素定位方法
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     在
     <strong>
      Selenium
     </strong>
     中定位页面元素是自动化测试的核心操作之一。以下是常规页面元素定位方法的总结，包含语法、示例及适用场景：
    </p>
    <hr/>
    <h4>
     <strong>
      1. 通过
      <code>
       ID
      </code>
      定位
     </strong>
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        语法
       </strong>
       ：
       <code>
        find_element(By.ID, "id_value")
       </code>
      </p>
     </li>
     <li>
      <p>
       <strong>
        特点
       </strong>
       ：ID 唯一且加载快，但部分动态页面可能缺失或重复。
      </p>
     </li>
     <li>
      <p>
       <strong>
        示例
       </strong>
       ：
      </p>
      <p>
       python
      </p>
      <p>
       复制
      </p>
      <pre><code class="language-python">from selenium.webdriver.common.by import By
element = driver.find_element(By.ID, "username")</code></pre>
     </li>
    </ul>
    <hr/>
    <h4>
     <strong>
      2. 通过
      <code>
       Name
      </code>
      定位
     </strong>
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        语法
       </strong>
       ：
       <code>
        find_element(By.NAME, "name_value")
       </code>
      </p>
     </li>
     <li>
      <p>
       <strong>
        特点
       </strong>
       ：适用于表单元素，但 Name 可能不唯一。
      </p>
     </li>
     <li>
      <p>
       <strong>
        示例
       </strong>
       ：
      </p>
      <p>
       python
      </p>
      <p>
       复制
      </p>
      <pre><code class="language-python">element = driver.find_element(By.NAME, "password")</code></pre>
     </li>
    </ul>
    <hr/>
    <h4>
     <strong>
      3. 通过
      <code>
       XPath
      </code>
      定位
     </strong>
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        语法
       </strong>
       ：
       <code>
        find_element(By.XPATH, "xpath_expression")
       </code>
      </p>
     </li>
     <li>
      <p>
       <strong>
        特点
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         灵活性高，支持层级、属性、文本等多种定位方式。
        </p>
       </li>
       <li>
        <p>
         性能略低于 CSS 选择器，但适合复杂场景。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        示例
       </strong>
       ：
      </p>
      <p>
       python
      </p>
      <p>
       复制
      </p>
      <pre><code class="language-python"># 绝对路径（不推荐）
element = driver.find_element(By.XPATH, "/html/body/div[1]/input")

# 相对路径 + 属性
element = driver.find_element(By.XPATH, "//input[@id='search']")

# 文本内容匹配
element = driver.find_element(By.XPATH, "//button[text()='Submit']")

# 部分属性匹配（包含）
element = driver.find_element(By.XPATH, "//a[contains(@href, 'example.com')]")</code></pre>
     </li>
    </ul>
    <hr/>
    <h4>
     <strong>
      4. 通过
      <code>
       CSS Selector
      </code>
      定位
     </strong>
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        语法
       </strong>
       ：
       <code>
        find_element(By.CSS_SELECTOR, "css_selector")
       </code>
      </p>
     </li>
     <li>
      <p>
       <strong>
        特点
       </strong>
       ：
      </p>
      <ul>
       <li>
        <p>
         语法简洁，性能优于 XPath。
        </p>
       </li>
       <li>
        <p>
         支持属性、层级、伪类等选择。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        示例
       </strong>
       ：
      </p>
      <p>
       python
      </p>
      <p>
       复制
      </p>
      <pre><code class="language-python"># ID 选择器
element = driver.find_element(By.CSS_SELECTOR, "#submit-btn")

# Class 选择器
element = driver.find_element(By.CSS_SELECTOR, ".btn-primary")

# 属性选择器
element = driver.find_element(By.CSS_SELECTOR, "input[name='email']")

# 子元素选择器
element = driver.find_element(By.CSS_SELECTOR, "div.container &gt; ul.list &gt; li:first-child")</code></pre>
     </li>
    </ul>
    <hr/>
    <h4>
     <strong>
      5. 通过
      <code>
       Class Name
      </code>
      定位
     </strong>
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        语法
       </strong>
       ：
       <code>
        find_element(By.CLASS_NAME, "class_value")
       </code>
      </p>
     </li>
     <li>
      <p>
       <strong>
        特点
       </strong>
       ：Class 可能重复，需确保唯一性。
      </p>
     </li>
     <li>
      <p>
       <strong>
        示例
       </strong>
       ：
      </p>
      <p>
       python
      </p>
      <p>
       复制
      </p>
      <pre><code class="language-python">element = driver.find_element(By.CLASS_NAME, "active-menu")</code></pre>
     </li>
    </ul>
    <hr/>
    <h4>
     <strong>
      6. 通过
      <code>
       Tag Name
      </code>
      定位
     </strong>
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        语法
       </strong>
       ：
       <code>
        find_element(By.TAG_NAME, "tag_name")
       </code>
      </p>
     </li>
     <li>
      <p>
       <strong>
        特点
       </strong>
       ：通常用于定位重复标签（如
       <code>
        &lt;a&gt;
       </code>
       ,
       <code>
        &lt;div&gt;
       </code>
       ），需结合其他条件筛选。
      </p>
     </li>
     <li>
      <p>
       <strong>
        示例
       </strong>
       ：
      </p>
      <p>
       python
      </p>
      <p>
       复制
      </p>
      <pre><code class="language-python">links = driver.find_elements(By.TAG_NAME, "a")  # 获取所有链接</code></pre>
     </li>
    </ul>
    <hr/>
    <h4>
     <strong>
      7. 通过
      <code>
       Link Text
      </code>
      或
      <code>
       Partial Link Text
      </code>
      定位
     </strong>
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        语法
       </strong>
       ：
      </p>
      <p>
       python
      </p>
      <p>
       复制
      </p>
      <pre><code class="language-python">find_element(By.LINK_TEXT, "完整链接文本")
find_element(By.PARTIAL_LINK_TEXT, "部分链接文本")</code></pre>
     </li>
     <li>
      <p>
       <strong>
        特点
       </strong>
       ：仅适用于
       <code>
        &lt;a&gt;
       </code>
       标签。
      </p>
     </li>
     <li>
      <p>
       <strong>
        示例
       </strong>
       ：
      </p>
      <p>
       python
      </p>
      <p>
       复制
      </p>
      <pre><code class="language-python"># 精确匹配链接文本
element = driver.find_element(By.LINK_TEXT, "点击这里")

# 模糊匹配部分文本
element = driver.find_element(By.PARTIAL_LINK_TEXT, "点击")</code></pre>
     </li>
    </ul>
    <hr/>
    <h4>
     <strong>
      8. 复合定位策略
     </strong>
    </h4>
    <p>
     结合多种定位方式提高稳定性：
    </p>
    <p>
     python
    </p>
    <p>
     复制
    </p>
    <pre><code class="language-python"># 使用 XPath 和 CSS 结合层级关系
element = driver.find_element(By.XPATH, "//div[@class='header']//input[@type='text']")</code></pre>
    <hr/>
    <h4>
     <strong>
      9. 动态元素处理
     </strong>
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        显式等待
       </strong>
       ：等待元素加载完成后再操作。
      </p>
      <p>
       python
      </p>
      <p>
       复制
      </p>
      <pre><code class="language-python">from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC

element = WebDriverWait(driver, 10).until(
    EC.presence_of_element_located((By.ID, "dynamic-element"))
)</code></pre>
     </li>
    </ul>
    <hr/>
    <h4>
     <strong>
      最佳实践
     </strong>
    </h4>
    <ol>
     <li>
      <p>
       <strong>
        优先级
       </strong>
       ：优先使用
       <code>
        ID
       </code>
       &gt;
       <code>
        Name
       </code>
       &gt;
       <code>
        CSS Selector
       </code>
       &gt;
       <code>
        XPath
       </code>
       。
      </p>
     </li>
     <li>
      <p>
       <strong>
        避免绝对路径
       </strong>
       ：使用相对 XPath 或 CSS 选择器，减少对页面结构的依赖。
      </p>
     </li>
     <li>
      <p>
       <strong>
        显式等待
       </strong>
       ：替代
       <code>
        time.sleep()
       </code>
       ，提升脚本稳定性。
      </p>
     </li>
     <li>
      <p>
       <strong>
        处理动态属性
       </strong>
       ：使用
       <code>
        contains()
       </code>
       、
       <code>
        starts-with()
       </code>
       等函数匹配部分属性。
      </p>
     </li>
    </ol>
    <hr/>
    <h4>
     <strong>
      常见问题
     </strong>
    </h4>
    <ul>
     <li>
      <p>
       <strong>
        元素找不到
       </strong>
       ：检查元素是否在
       <code>
        iframe
       </code>
       中，或等待时间不足。
      </p>
     </li>
     <li>
      <p>
       <strong>
        XPath 性能差
       </strong>
       ：改用 CSS 选择器或优化表达式。
      </p>
     </li>
     <li>
      <p>
       <strong>
        动态 ID
       </strong>
       ：使用其他固定属性或层级关系定位。
      </p>
     </li>
    </ul>
    <p>
     掌握这些方法后，可以覆盖 99% 的页面元素定位场景！
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f33333539343537392f:61727469636c652f64657461696c732f313436313630313732" class_="artid" style="display:none">
 </p>
</div>


