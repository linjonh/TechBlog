---
layout: post
title: "MrRobot靶机详细解答"
date: 2025-03-16 13:30:43 +0800
description: "进入靶机后发现一直在播放动画，输入prepare后，发现动画中有一个域名，但是也访问不到。在登陆页面发现有忘记密码这个功能点，尝试爆破用户名，字典就是刚刚下载下来的。这里可以在插件中进行反弹shell，也可以在Appearance中进行反弹。尝试第一种方法，发现提权不成功，版本在第二种提权方式范围内，尝试第二种方式。发现Elliot这个用户的状态码是500，该用户大概率是存在的。这里的nmap不能直接使用，环境变量的问题，需要使用绝对路径。这个靶机的其它关键词也没有提示什么信息，看看目录枚举的结果。"
keywords: "MrRobot靶机详细解答"
categories: ['未分类']
tags: ['运维', '网络', '服务器', '安全', 'Linux']
artid: "146294306"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146294306
    alt: "MrRobot靶机详细解答"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146294306
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146294306
cover: https://bing.ee123.net/img/rand?artid=146294306
image: https://bing.ee123.net/img/rand?artid=146294306
img: https://bing.ee123.net/img/rand?artid=146294306
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     MrRobot靶机详细解答
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2>
     一、主机发现
    </h2>
    <pre><code>arp-scan -l
</code></pre>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="459" src="https://i-blog.csdnimg.cn/img_convert/ed3f058a3771fa586456fc34553e3111.png" width="1729"/>
    </p>
    <h2>
     二、端口扫描、目录枚举、指纹识别
    </h2>
    <h3>
     2.1端口扫描
    </h3>
    <pre><code>nmap -p- 192.168.55.147
</code></pre>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="462" src="https://i-blog.csdnimg.cn/img_convert/8356a9d3cbdba1ad03410277a8646e47.png" width="1200"/>
    </p>
    <p>
     发现22端口关闭，且无其它特殊端口，只能去网页中寻找信息
    </p>
    <h3>
     2.2目录枚举
    </h3>
    <pre><code>dirb http://192.168.55.147
</code></pre>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="667" src="https://i-blog.csdnimg.cn/img_convert/878459c0804ca15e3e728b5a2fe62976.png" width="1132"/>
    </p>
    <h3>
     2.3指纹识别
    </h3>
    <pre><code>nmap 192.168.55.147 -sV -sC -O --version-all
</code></pre>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="561" src="https://i-blog.csdnimg.cn/img_convert/ad6644a763a316a16cf479dce547d2f7.png" width="1723"/>
    </p>
    <p>
     指纹识别没有发现重要信息
    </p>
    <h2>
     三、进入靶机进行信息收集
    </h2>
    <p>
     进入靶机后发现一直在播放动画，输入prepare后，发现动画中有一个域名，但是也访问不到
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="708" src="https://i-blog.csdnimg.cn/img_convert/87ffe1cbd7af29acf685e9875a517d07.png" width="1480"/>
    </p>
    <p>
     这个靶机的其它关键词也没有提示什么信息，看看目录枚举的结果
    </p>
    <p>
     访问刚刚扫描出来的目录发现这个是wordpress的站
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="958" src="https://i-blog.csdnimg.cn/img_convert/67be2ce80c64c7bf6271fbe880bd61c2.png" width="1416"/>
    </p>
    <p>
     发现他不会帮助我们
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="310" src="https://i-blog.csdnimg.cn/img_convert/5b8f065099a6f75ca394c8ac0bd5a201.png" width="1320"/>
    </p>
    <p>
     继续寻找敏感目录
    </p>
    <p>
     发现robots.txt文件，尝试将以下内容拼接到192.168.55.147后面
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="621" src="https://i-blog.csdnimg.cn/img_convert/537a83c56bf037f2adeb2431348ac70b.png" width="1725"/>
    </p>
    <p>
     其中fsocity.dic被下载下来，感觉是枚举时使用的文件
    </p>
    <p>
     这个key应该就是第一个key
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="1243" src="https://i-blog.csdnimg.cn/img_convert/8b37255c51932e62e6eee6addb9ad70f.png" width="1608"/>
    </p>
    <p>
     在登陆页面发现有忘记密码这个功能点，尝试爆破用户名，字典就是刚刚下载下来的
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="966" src="https://i-blog.csdnimg.cn/img_convert/fd89a5f5da1643c6d7283dae65334a78.png" width="1194"/>
    </p>
    <p>
     发现Elliot这个用户的状态码是500，该用户大概率是存在的
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="754" src="https://i-blog.csdnimg.cn/img_convert/76dc2ef3feaccb6282bcfe40e43b89a1.png" width="1375"/>
    </p>
    <p>
     在登录页面中使用Elliot用户名，只进行密码爆破即可
    </p>
    <p>
     也可以尝试使用wpscan进行爆破
    </p>
    <pre><code>wpscan --url http://192.168.55.147 -U Elliot -P fsocity.dic -t 50
</code></pre>
    <p>
     注：该字典文件有很多重复的，可以先去重再跑
    </p>
    <p>
     去重跑很快就可以跑出来账号和密码
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="432" src="https://i-blog.csdnimg.cn/img_convert/9efc7f00465ee641527c6db47b6a8c87.png" width="1720"/>
    </p>
    <pre><code>Elliot
ER28-0652
</code></pre>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="856" src="https://i-blog.csdnimg.cn/img_convert/ee1168d2ac3172f2867b6ded239f1664.png" width="1753"/>
    </p>
    <p>
     成功登陆
    </p>
    <h2>
     四、反弹shell
    </h2>
    <p>
     wordpress的插件有很多的漏洞
    </p>
    <p>
     这里可以在插件中进行反弹shell，也可以在Appearance中进行反弹
    </p>
    <p>
     选择404.php文件，将kali自带的反弹shell脚本复制粘贴在此处
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="694" src="https://i-blog.csdnimg.cn/img_convert/02779b1a77217f68aa111a6efb3459e9.png" width="1782"/>
    </p>
    <p>
     点击update
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="834" src="https://i-blog.csdnimg.cn/img_convert/e94337b42ccd1a6a7ba8af350c90f3de.png" width="1633"/>
    </p>
    <p>
     然后访问该文件
    </p>
    <pre><code>http://192.168.55.147/wp-admin/404.php
</code></pre>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="447" src="https://i-blog.csdnimg.cn/img_convert/f8229f95b4c209158500983354b8f86b.png" width="1714"/>
    </p>
    <p>
     成功反弹shell
    </p>
    <h2>
     五、提权
    </h2>
    <h3>
     5.1靶机信息收集
    </h3>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="301" src="https://i-blog.csdnimg.cn/img_convert/8022acc43c1ef9df8f7710391a5872dd.png" width="1728"/>
    </p>
    <h3>
     5.2第二个key
    </h3>
    <p>
     进入robot目录中找到了第二个key
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="490" src="https://i-blog.csdnimg.cn/img_convert/0716876d6c1fee3cbb49a913a6546d46.png" width="1122"/>
    </p>
    <h3>
     5.3nmap提权
    </h3>
    <p>
     使用find命令查找suid权限的文件
    </p>
    <pre><code>find / -perm -4000 -print 2&gt;/dev/null
</code></pre>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="595" src="https://i-blog.csdnimg.cn/img_convert/26d17680debda462d11a1090c87b59d5.png" width="1192"/>
    </p>
    <p>
     找到了nmap可以进行提权
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="696" src="https://i-blog.csdnimg.cn/img_convert/5205e1fdee5f515b26f5b4f072a5885d.png" width="1584"/>
    </p>
    <p>
     这里的nmap不能直接使用，环境变量的问题，需要使用绝对路径
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="255" src="https://i-blog.csdnimg.cn/img_convert/35df358cc0e5a4bf3d6a1cbd2f8054ea.png" width="1501"/>
    </p>
    <p>
     尝试第一种方法，发现提权不成功，版本在第二种提权方式范围内，尝试第二种方式
    </p>
    <pre><code>/usr/local/bin/nmap --interactive
!sh
</code></pre>
    <p>
    </p>
    <p class="img-center">
     <img alt="" height="442" src="https://i-blog.csdnimg.cn/img_convert/aa4cfb8fb64ee45776b606673c549319.png" width="1462"/>
    </p>
    <p>
     提权成功！
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34333433333134312f:61727469636c652f64657461696c732f313436323934333036" class_="artid" style="display:none">
 </p>
</div>


