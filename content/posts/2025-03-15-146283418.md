---
layout: post
title: "Git速查手册"
date: 2025-03-15 18:40:56 +0800
description: "远程仓库（Remote Repository）：托管在远程服务器上的仓库。暂存区（Stage/Index）：用来临时存放未提交的内容，一般在.git目录下的index中。本地仓库（Repository）：Git 在本地的版本库，仓库信息存储在.git这个隐藏目录中。：将本地改动的代码 rebase 到远程仓库的最新代码上，为了有一个干净、线性的提交历史。已提交（Committed）：把暂存区的文件提交到本地仓库后的状态。（git add 的反向操作）已暂存（Staged）：修改后已经保存到暂存区的文件。"
keywords: "Git：速查手册"
categories: ['Tool']
tags: ['Git']
artid: "146283418"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=146283418
    alt: "Git速查手册"
render_with_liquid: false
featuredImage: https://bing.ee123.net/img/rand?artid=146283418
featuredImagePreview: https://bing.ee123.net/img/rand?artid=146283418
cover: https://bing.ee123.net/img/rand?artid=146283418
image: https://bing.ee123.net/img/rand?artid=146283418
img: https://bing.ee123.net/img/rand?artid=146283418
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Git：速查手册
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <hr/>
    <p>
    </p>
    <p>
    </p>
    <hr/>
    <h2>
     <a id="1_6">
     </a>
     1.基础知识
    </h2>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/c50a97faefbc4a6c9c2b14af52fb6ac4.png"/>
    </p>
    <h3>
     <a id="_8">
     </a>
     四个区域
    </h3>
    <ul>
     <li>
      <p>
       工作区（Working Directory）：你在电脑里能实际看到的目录。
      </p>
     </li>
     <li>
      <p>
       暂存区（Stage/Index）：用来临时存放未提交的内容，一般在.git目录下的index中。
      </p>
     </li>
     <li>
      <p>
       本地仓库（Repository）：Git 在本地的版本库，仓库信息存储在.git这个隐藏目录中。
      </p>
     </li>
     <li>
      <p>
       远程仓库（Remote Repository）：托管在远程服务器上的仓库。常见有GitHub,GitLab,Gitee。
      </p>
     </li>
    </ul>
    <h3>
     <a id="_18">
     </a>
     文件状态
    </h3>
    <ul>
     <li>
      <p>
       已修改（Modified）：修改了但是没有保存到暂存区的文件。
      </p>
     </li>
     <li>
      <p>
       已暂存（Staged）：修改后已经保存到暂存区的文件。
      </p>
     </li>
     <li>
      <p>
       已提交（Committed）：把暂存区的文件提交到本地仓库后的状态。
      </p>
     </li>
    </ul>
    <h3>
     <a id="_27">
     </a>
     基本概念
    </h3>
    <ul>
     <li>
      <p>
       main/master: 默认主分支
      </p>
     </li>
     <li>
      <p>
       origin: 默认远程仓库
      </p>
     </li>
     <li>
      <p>
       HEAD: 指向当前分支的指针
      </p>
     </li>
     <li>
      <p>
       HEAD^: 上一个版本
      </p>
     </li>
     <li>
      <p>
       HEAD~: 上四个版本
      </p>
     </li>
    </ul>
    <h3>
     <a id="_39">
     </a>
     特殊文件
    </h3>
    <ul>
     <li>
      <p>
       .git: Git仓库的元数据和对象数据库
      </p>
     </li>
     <li>
      <p>
       .gitignore: 忽略文件，不需要提交到仓库的文件
      </p>
     </li>
     <li>
      <p>
       .gitattributes: 指向当前分支的指针
      </p>
     </li>
     <li>
      <p>
       .gitkeep: 使空目录被提交到仓库
      </p>
     </li>
     <li>
      <p>
       .gitmodules: 记录子模块的信息
      </p>
     </li>
     <li>
      <p>
       .gitconfig: 记录仓库的配置信息
      </p>
     </li>
    </ul>
    <h3>
     <a id="GitFlow_53">
     </a>
     GitFlow
    </h3>
    <ul>
     <li>
      <p>
       主分支（master/main）：代表项目的稳定版本。
      </p>
     </li>
     <li>
      <p>
       开发分支（develop）：用于日常开发。
      </p>
     </li>
     <li>
      <p>
       功能分支（feature）：用于开发单独的功能或特性。
      </p>
     </li>
     <li>
      <p>
       发布分支（release）：用于准备项目发布。
      </p>
     </li>
     <li>
      <p>
       热修复分支（hotfix）：用于修复主分支上的紧急问题。
      </p>
     </li>
    </ul>
    <p>
     .
    </p>
    <hr/>
    <h2>
     <a id="2CMD_69">
     </a>
     2.CMD
    </h2>
    <h3>
     <a id="_71">
     </a>
     初始化设置
    </h3>
    <ul>
     <li>
      <p>
       配置用户名：
       <code>
        git config --global user.name "Your Name"
       </code>
      </p>
     </li>
     <li>
      <p>
       配置邮箱：
       <code>
        git config --global user.email "[mail@example.com](mailto:mail@example.com)"
       </code>
      </p>
     </li>
     <li>
      <p>
       存储配置：
       <code>
        git config --global credential.helper store
       </code>
      </p>
     </li>
    </ul>
    <h3>
     <a id="_79">
     </a>
     创建仓库
    </h3>
    <ul>
     <li>
      <p>
       新建本地仓库：
       <code>
        git init &lt;project-name&gt;
       </code>
      </p>
      <ul>
       <li>
        （省略
        <code>
         project-name
        </code>
        则在当前目录创建）
       </li>
      </ul>
     </li>
     <li>
      <p>
       克隆远程仓库：
       <code>
        git clone &lt;url&gt;
       </code>
      </p>
     </li>
    </ul>
    <h3>
     <a id="_89">
     </a>
     添加与提交
    </h3>
    <ul>
     <li>
      <p>
       添加文件到暂存区：
       <code>
        git add &lt;file&gt;
       </code>
      </p>
      <ul>
       <li>
        （
        <code>
         git add .
        </code>
        表示添加所有文件到暂存区）
       </li>
      </ul>
     </li>
     <li>
      <p>
       提交所有暂存区的文件到本地仓库：
       <code>
        git commit -m "message"
       </code>
      </p>
     </li>
     <li>
      <p>
       提交所有已修改的文件到本地仓库：
       <code>
        git commit -am "message"
       </code>
      </p>
     </li>
    </ul>
    <h3>
     <a id="_101">
     </a>
     撤销与恢复
    </h3>
    <ul>
     <li>
      <p>
       <code>
        git mv &lt;file&gt; &lt;new-file&gt;
       </code>
       ：移动文件到新的位置
      </p>
     </li>
     <li>
      <p>
       <code>
        git rm &lt;file&gt;
       </code>
       ：从工作区和暂存区中删除文件
      </p>
     </li>
     <li>
      <p>
       <code>
        git rm --cached &lt;file&gt;
       </code>
       ：从索引/暂存区中删除文件，但本地工作区文件还在。
      </p>
     </li>
     <li>
      <p>
       <code>
        git checkout &lt;file&gt; &lt;commit-id&gt;
       </code>
       ：恢复文件到之前版本
      </p>
     </li>
     <li>
      <p>
       <code>
        git reset &lt;--soft|--mixed|--hard&gt; &lt;commit-id&gt;
       </code>
       ：回退到之前版本
      </p>
      <ul>
       <li>
        <p>
         –mixed：重置暂存区文件。（默认，可以不写）
        </p>
       </li>
       <li>
        <p>
         –hard：重置暂存区文件，重置工作区文件。
        </p>
       </li>
       <li>
        <p>
         –soft：只要回退版本，不重置文件。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <code>
        git restore --staged &lt;file&gt;
       </code>
       ：撤销暂存区的文件，重新放回工作区。（git add 的反向操作）
      </p>
     </li>
    </ul>
    <h3>
     <a id="_123">
     </a>
     状态与差异
    </h3>
    <ul>
     <li>
      <p>
       <code>
        git status
       </code>
       ：查看仓库状态，列出还未提交的新的或修改的文件：
      </p>
     </li>
     <li>
      <p>
       <code>
        git log --oneline
       </code>
       ：查看提交历史（–oneline表示简介模式）
      </p>
     </li>
     <li>
      <p>
       <code>
        git diff
       </code>
       ：查看未暂存的文件更新了哪些部分
      </p>
     </li>
     <li>
      <p>
       <code>
        git diff &lt;commit-id&gt; &lt;commit-id&gt;
       </code>
       ：查看两个提交之间的差异
      </p>
     </li>
    </ul>
    <h3>
     <a id="_135">
     </a>
     远程仓库操作
    </h3>
    <ul>
     <li>
      <p>
       <code>
        git remote add &lt;remote-name&gt; &lt;remote-url&gt;
       </code>
       ：添加远程仓库
      </p>
     </li>
     <li>
      <p>
       <code>
        git remote -v
       </code>
       ：查看远程仓库
      </p>
     </li>
     <li>
      <p>
       <code>
        git remote rm &lt;remote-name&gt;
       </code>
       ：删除远程仓库
      </p>
     </li>
     <li>
      <p>
       <code>
        git remote rename &lt;old-name&gt; &lt;new-name&gt;
       </code>
       ：重命名远程仓库。
      </p>
     </li>
     <li>
      <p>
       <code>
        git pull &lt;remote-name&gt; &lt;branch-name&gt;
       </code>
       ：从远程仓库拉取代码。
      </p>
      <ul>
       <li>
        默认拉取远程仓库名
        <code>
         origin
        </code>
        的
        <code>
         master
        </code>
        或者
        <code>
         main
        </code>
        分支。
       </li>
      </ul>
     </li>
     <li>
      <p>
       <code>
        git pull --rebase
       </code>
       ：将本地改动的代码 rebase 到远程仓库的最新代码上，为了有一个干净、线性的提交历史。
      </p>
     </li>
     <li>
      <p>
       <code>
        git push &lt;remote-name&gt; &lt;branch-name&gt;
       </code>
       ：推送代码到远程仓库，然后再发起 pull request。
      </p>
     </li>
     <li>
      <p>
       <code>
        git fetch &lt;remote-name&gt;
       </code>
       ：获取所有远程分支。
      </p>
     </li>
     <li>
      <p>
       <code>
        git branch -r
       </code>
       ：查看远程分支。
      </p>
     </li>
     <li>
      <p>
       <code>
        git fetch &lt;remote-name&gt; &lt;branch-name&gt;
       </code>
       ：Fetch 某一个特定的远程分支。
      </p>
     </li>
    </ul>
    <h3>
     <a id="_165">
     </a>
     分支
    </h3>
    <ul>
     <li>
      <p>
       <code>
        git branch
       </code>
       ：查看所有本地分支
      </p>
      <ul>
       <li>
        <p>
         当前分支前会有一个星号
         <code>
          *
         </code>
        </p>
       </li>
       <li>
        <p>
         <code>
          -r
         </code>
         查看远程分支
        </p>
       </li>
       <li>
        <p>
         <code>
          -a
         </code>
         查看所有分支
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <code>
        git branch &lt;branch-name&gt;
       </code>
       ：创建新分支
      </p>
     </li>
     <li>
      <p>
       <code>
        git checkout -b &lt;branch-name&gt;
       </code>
       ：切换到指定分支，并更新工作区
      </p>
     </li>
     <li>
      <p>
       <code>
        git branch -d &lt;branch-name&gt;
       </code>
       ：删除已经合并分支
      </p>
     </li>
     <li>
      <p>
       <code>
        git checkout -D &lt;branch-name&gt;
       </code>
       ：删除一个分支（不管是否合并）
      </p>
     </li>
     <li>
      <p>
       <code>
        git tag &lt;tag-name&gt;
       </code>
       ：给当前提交打上标签（通常用于版本发布）
      </p>
     </li>
     <li>
      <p>
       <code>
        git merge --no-ff -m message &lt;branch-name&gt;
       </code>
       ：合并分支
      </p>
      <ul>
       <li>
        <p>
         –no-ff 参数：表示禁用 Fast Forward 模式，合并后的历史有分支，能看出曾经做过合并。
        </p>
       </li>
       <li>
        <p>
         -ff 参数：表示使用 Fast Forward 模式，合并后的历史会变成一条直线。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <code>
        git squash &lt;branch-name&gt;
       </code>
       ：合并&amp;挤压（squash）所有提交到一个提交
      </p>
     </li>
     <li>
      <p>
       <code>
        git checkout &lt;dev&gt;
       </code>
       ：
      </p>
     </li>
     <li>
      <p>
       <code>
        git rebase &lt;main&gt;
       </code>
       ：合并分支-变基（Rebase）
      </p>
     </li>
    </ul>
    <pre><code class="prism language-Markdown">rebase 操作可以把本地未push的分叉提交历史整理成直线，看起来更加直观。但是，如果多人协作时，不要对已经推送到远程的分支执行rebase操作。

rebase不会产生新的提交，而是把当前分支的每一个提交都“复制”到目标分支上，然后再把当前分支指向目标分支，而merge会产生一个新的提交，这个提交有两个分支的所有修改。
</code></pre>
    <p>
     .
    </p>
    <hr/>
    <h3>
     <a id="Stash_212">
     </a>
     Stash:
    </h3>
    <ul>
     <li>
      <p>
       <code>
        git stash save "message"
       </code>
       ：Stash操作可以把当前工作现场“储藏”起来，等以后恢复现场后继续工作。
      </p>
      <ul>
       <li>
        <p>
         <code>
          -u
         </code>
         参数表示把所有未跟踪的文件也一并存储；
        </p>
       </li>
       <li>
        <p>
         <code>
          -a
         </code>
         参数表示把所有未跟踪的文件和忽略的文件也一并存储；
        </p>
       </li>
       <li>
        <p>
         <code>
          save
         </code>
         参数表示存储的信息，可以不写。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <code>
        git stash list
       </code>
       ：查看所有stash。
      </p>
     </li>
     <li>
      <p>
       <code>
        git stash pop
       </code>
       ：恢复最近一次stash。
      </p>
     </li>
     <li>
      <p>
       <code>
        git stash pop stash@{2}
       </code>
       ：恢复指定的stash，
       <code>
        stash@{2}
       </code>
       表示第三个stash，
       <code>
        stash@{0}
       </code>
       表示最近的stash。
      </p>
     </li>
     <li>
      <p>
       <code>
        git stash apply
       </code>
       ：重新接受最近一次stash。
      </p>
     </li>
     <li>
      <p>
       <code>
        git stash drop stash@{2}
       </code>
       ：删除指定的stash。
       <code>
        pop
       </code>
       和
       <code>
        apply
       </code>
       的区别是，
       <code>
        pop
       </code>
       会把stash内容删除，而
       <code>
        apply
       </code>
       不会。
      </p>
     </li>
     <li>
      <p>
       <code>
        git stash clear
       </code>
       ：删除所有stash。
      </p>
     </li>
    </ul>
    <hr/>
    <blockquote>
     <p>
      声明：资源可能存在第三方来源，若有侵权请联系删除！
     </p>
    </blockquote>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34383236373130342f:61727469636c652f64657461696c732f313436323833343138" class_="artid" style="display:none">
 </p>
</div>


