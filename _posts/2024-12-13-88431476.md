---
layout: post
title: "FFMpeg音视频操作命令"
date: 2024-12-13 16:11:00 +0800
description: "如果没有安装ffmpeg，请参考：Mac 配置FFmpeg环境视频视频裁剪：ffmpeg -i sr"
keywords: "ffmpeg timecode"
categories: ['Ffmpeg']
tags: ['Ffmpeg']
artid: "88431476"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=88431476
    alt: "FFMpeg音视频操作命令"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     FFMpeg音视频操作命令
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     如果没有安装ffmpeg，请参考：
     <a href="https://www.jianshu.com/p/627b2d462151" rel="nofollow">
      Mac 配置FFmpeg环境
     </a>
    </p>
    <p>
     FFmpeg官网：
     <a href="https://ffmpeg.org/" rel="nofollow">
      FFmpeg
     </a>
    </p>
    <p>
     GitHub FFmpeg-Android-Java：
     <a href="https://github.com/WritingMinds/ffmpeg-android-java">
      FFmpeg-Android-Java
     </a>
    </p>
    <hr/>
    <h3>
     <a id="_7">
     </a>
     命令参数
    </h3>
    <p>
     可以通过命令帮助查看：
    </p>
    <pre><code>ffmpeg -h
</code></pre>
    <h4>
     <a id="_14">
     </a>
     全局选项：
    </h4>
    <ul>
     <li>
      -y：覆盖输出文件
     </li>
     <li>
      -n：永远不会覆盖输出文件
     </li>
     <li>
      -ignore_unknown：忽略未知的流类型
     </li>
     <li>
      stats：编码期间打印进度报告
     </li>
     <li>
      -vol volume：改变音量（256 =正常）
     </li>
    </ul>
    <h4>
     <a id="_22">
     </a>
     每个文件的主要选项：
    </h4>
    <ul>
     <li>
      <p>
       -f fmt：强制格式，设置输出格式
      </p>
     </li>
     <li>
      <p>
       -c codec 或者 -codec codec ：编解码器名称
      </p>
     </li>
     <li>
      <p>
       -pre preset ：预设名称
      </p>
     </li>
     <li>
      <p>
       -map_metadata outfile[,metadata]:infile[,metadata]：从infile设置outfile的元数据信息
      </p>
     </li>
     <li>
      <p>
       -t duration ：记录或转码音频/视频的“持续时间”秒
      </p>
     </li>
     <li>
      <p>
       -to time_stop：记录或转码停止时间
      </p>
     </li>
     <li>
      <p>
       -fs limit_size：设置限制文件大小，以字节为单位，超过指定的文件大小时则结束转换
      </p>
     </li>
     <li>
      <p>
       -ss time_off：设置开始时间偏移量，从指定时间开始转换
      </p>
     </li>
     <li>
      <p>
       -sseof time_off：设置相对于EOF的开始时间偏移
      </p>
     </li>
     <li>
      <p>
       -seek_timestamp：使用-ss通过时间戳启用/禁用搜索
      </p>
     </li>
     <li>
      <p>
       -timestamp time：设置录制时间戳（'now’设置当前时间）
      </p>
     </li>
     <li>
      <p>
       -metadata string=string：添加元数据
      </p>
     </li>
     <li>
      <p>
       -program title=string:st=number…：使用指定的流添加程序
      </p>
     </li>
     <li>
      <p>
       -target type ：指定目标文件类型（“vcd”，“svcd”，“dvd”，“dv”或“dv50”，带有可选前缀“pal-”，“ntsc-”或“film-”）
      </p>
     </li>
     <li>
      <p>
       -apad：audio pad
      </p>
     </li>
     <li>
      <p>
       -frames number：设置要输出的帧数
      </p>
     </li>
     <li>
      <p>
       -filter filter_graph：设置流过滤器图
      </p>
     </li>
     <li>
      <p>
       -filter_script filename：从文件中读取流过滤器图形描述
      </p>
     </li>
     <li>
      <p>
       -reinit_filter：在输入参数更改时重新启动filtergraph
      </p>
     </li>
     <li>
      <p>
       -discard：丢弃
      </p>
     </li>
     <li>
      <p>
       -disposition ：规定
      </p>
     </li>
     <li>
      <p>
       -i：设置输入文件名
      </p>
     </li>
     <li>
      <p>
       -title：设置标题
      </p>
     </li>
     <li>
      <p>
       -vsync：增减Frame使影音同步
      </p>
     </li>
    </ul>
    <h4>
     <a id="_50">
     </a>
     视频选项：
    </h4>
    <ul>
     <li>
      -vframes number：设置要输出的视频帧数
     </li>
     <li>
      -r rate：设置帧速率（Hz值，分数或缩写）
     </li>
     <li>
      -s size ：设置帧大小（W x H或缩写）
     </li>
     <li>
      -aspect aspect：设置纵横比（4：3,16：9或1.3333,1.77777）
     </li>
     <li>
      -bits_per_raw_sample number：设置每个原始样本的位数
     </li>
     <li>
      -vn：禁用视频
     </li>
     <li>
      -vcodec codec：强制视频编解码器（'复制’复制流）
     </li>
     <li>
      -timecode hh:mm:ss[:;.]ff：设置初始TimeCode值
     </li>
     <li>
      -pass n ：选择密码（1到3）
     </li>
     <li>
      -vf filter_graph：设置视频过滤器
     </li>
     <li>
      -ab bitrate：音频比特率（请使用-b:a）
     </li>
     <li>
      -b bitrate：视频比特率（请使用-b：v）
     </li>
     <li>
      -dn：禁用数据
     </li>
    </ul>
    <h4>
     <a id="_66">
     </a>
     声音选项：
    </h4>
    <ul>
     <li>
      -aframes number：设置要输出的音频帧数
     </li>
     <li>
      -aq quality ：设置音频质量（特定于编解码器）
     </li>
     <li>
      -ar rate：设置音频采样率（Hz）
     </li>
     <li>
      -ac channels ：设置音频通道数
     </li>
     <li>
      -an：禁用音频
     </li>
     <li>
      -acodec codec：强制音频编解码器（'复制’到复制流）
     </li>
     <li>
      -vol volume ：改变音量（256 =正常）
     </li>
     <li>
      -af filter_graph：设置音频过滤器
     </li>
    </ul>
    <h4>
     <a id="_77">
     </a>
     字幕选项：
    </h4>
    <ul>
     <li>
      -s size：设置帧大小（W x H或缩写）
     </li>
     <li>
      -sn：禁用字幕
     </li>
     <li>
      -scodec codec ：强制字幕编解码器（'复制’复制流）
     </li>
     <li>
      -stag fourcc/tag：强制字幕标签/ fourcc
     </li>
     <li>
      -fix_sub_duration：修复字幕持续时间
     </li>
     <li>
      -canvas_size size：设置画布大小（W x H或缩写）
     </li>
     <li>
      -spre preset：将字幕选项设置为指定的预设
     </li>
    </ul>
    <hr/>
    <h3>
     <a id="_89">
     </a>
     操作视频
    </h3>
    <p>
     视频裁剪：
    </p>
    <pre><code>ffmpeg -i src.mp4  -ss 00:00:00 -t 00:00:20 des.mp4
裁剪前20秒
</code></pre>
    <p>
     视频去掉声音：
    </p>
    <pre><code>ffmpeg -i src.mp4 -c:v copy -an des.mp4
</code></pre>
    <p>
     音视频文件合成操作：
    </p>
    <pre><code>ffmpeg -i  src.mp3  -i src.mp4  des.mp4
</code></pre>
    <p>
     视频转gif：
    </p>
    <pre><code>ffmpeg -i src.mp4 des.gif
</code></pre>
    <p>
     视频转高质量gif：
    </p>
    <pre><code>ffmpeg -i src.mp4 -b 2048k des.gif
</code></pre>
    <hr/>
    <h3>
     <a id="_121">
     </a>
     操作音频
    </h3>
    <p>
     音频裁剪：
    </p>
    <pre><code>ffmpeg -i src.mp3  -ss 00:00:00 -t 00:00:20 des.mp3 
裁剪前20秒
</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77616e676a69616e675f7169616e6d6f:2f61727469636c652f64657461696c732f3838343331343736" class_="artid" style="display:none">
 </p>
</div>


