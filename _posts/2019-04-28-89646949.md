---
layout: post
title: "用JAVA实现数据库中信息的查询"
date: 2019-04-28 22:00:36 +0800
description: "查询代码如下：import java.sql.Connection;import java.sql."
keywords: "java 语言按照名称从数据库中查询改怎么查"
categories: ['']
tags: ['无标签']
artid: "89646949"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=89646949
    alt: "用JAVA实现数据库中信息的查询"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     用JAVA实现数据库中信息的查询
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     查询代码如下：
    </p>
    <pre><code>import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

Connection connection=null;
Statement statement=null;
ResultSet resultSet=null;
	try {
		Class.forName("com.mysql.jdbc.Driver");
		connection=DriverManager.getConnection("jdbc:mysql://127.0.0.1:3306/test","root","root");
		
		statement=connection.createStatement();
		String sql="select * from user_info";	//发出查询指令

		resultSet=statement.executeQuery(sql);//执行语句后得到的结果很多，存到定义的集合中，再用循环输出。
		while(resultSet.next()) {	//相当于迭代器循环。判断是否存在，当存在时调用getString();方法得到值。
			String id=resultSet.getString("id");
			String userName=resultSet.getString("user_name");
			String password=resultSet.getString("password");
			System.out.println(id+":"+userName+":"+password);
		}
	} catch (Exception e) {
		e.printStackTrace();
	}finally {	//释放资源：首先关闭循环，再关闭窗口，最后关闭连接。
		
		try {
			if(resultSet!=null) {
				resultSet.close();
			}
		} catch (SQLException e) {
			e.printStackTrace();
		}
		
		try {
			if(statement!=null) {
				statement.close();
			}
		} catch (SQLException e) {
			e.printStackTrace();
		}
		
		try {
			if(connection!=null) {
				connection.close();
			}
		} catch (SQLException e) {
			e.printStackTrace();
		}
	}
</code></pre>
    <p>
     finally中语句不能写成如下代码：因为resultSet.close();出现异常，终止下边同级代码的执行，将不会再执行关闭窗口和关闭连接的代码。
    </p>
    <pre><code>finally {
	try {
		if(resultSet!=null){
			resultSet.close();
			if (statement!=null) {
				statement.close();
				if (connection!=null) {
					connection.close();
				}
	} catch (SQLException e) {
	e.printStackTrace();
	}
}
</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f5958585f64656373646e:2f61727469636c652f64657461696c732f3839363436393439" class_="artid" style="display:none">
 </p>
</div>


