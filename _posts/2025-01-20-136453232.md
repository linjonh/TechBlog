---
layout: post
title: "HarmonyOS通过-axios发送HTTP请求"
date: 2025-01-20 13:44:40 +0800
description: "安装成功后  oh-package.json5 中的 dependencies  就能显示出工具的信"
keywords: "harmonyos怎么发送请求"
categories: ['未分类']
tags: ['鸿蒙', '华为', 'Harmonyos']
artid: "136453232"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=136453232
  alt: "HarmonyOS通过-axios发送HTTP请求"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     HarmonyOS通过 axios发送HTTP请求
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     我之前的文章
     <a href="https://blog.csdn.net/weixin_45966674/article/details/135750970">
      HarmonyOS 发送http网络请求
     </a>
     那么今天 我们就来说说axios
     <br/>
     这个第三方工具 想必所有的前端开发者都不会陌生
    </p>
    <p>
     axios 本身也属于 HTTP请求 所以鸿蒙开发中也支持它
     <br/>
     但首先 想在HarmonyOS中 使用第三方工具库 就要先下载安装 ohpm 具体可以参考我的文章
     <a href="https://blog.csdn.net/weixin_45966674/article/details/136453421">
      HarmonyOS 下载安装ohpm 鸿蒙第三方包管理工具
     </a>
    </p>
    <p>
     首先呢 我们还是要 在 对应模块下的 module.json5 文件中 的 module下 加上
    </p>
    <pre><code class="prism language-javascript"><span class="token string-property property">"requestPermissions"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
	<span class="token punctuation">{<!-- --></span>
	  <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"ohos.permission.INTERNET"</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre>
    <p>
     申请网络权限 这样 HTTP请求才能发出去
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/9462f954957d8b71598c68f0b1209f72.png">
      <br/>
      然后 我们访问地址
      <a href="https://ohpm.openharmony.cn/#/cn/home" rel="nofollow">
       https://ohpm.openharmony.cn/#/cn/home
      </a>
      <br/>
      OK 这个网站中 就是 OpenHmarmony 三方库的一个中心仓了
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/e697044b763551626c682b95e178eadc.png">
       <br/>
       这里 基本可以找到所有 harmonyos的第三方库
       <br/>
       最受欢迎中 就可以看到 axios
       <br/>
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/0de45c4e1cb108f96a3d7bad6284743d.png">
        <br/>
        这里呢 我们就可以点进去看一下
        <br/>
        <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/45575eaf2bc044546cf827efbd9ac49d.png">
         <br/>
         进入详情页后 就能看到 它的介绍后下载命令
         <br/>
         <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/883057f967d6fc54352808f67d11cb51.png">
          <br/>
          我们还是先打开编辑器 打开项目
          <br/>
          <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/de94be803a9fb44bd24b350a98789483.png">
           <br/>
           我们项目根目录中 会有一个 oh-package.json5
           <br/>
           <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/5b78cca54e10fd8c1e81e8b2ff5e9cea.png">
            <br/>
            我们常规web端项目 也都会有一个 package.json
            <br/>
            是有一些共同点的 我们项目所有的依赖 都会在 这个文件的 dependencies 下的
           </img>
          </img>
         </img>
        </img>
       </img>
      </img>
     </img>
    </p>
    <p>
     这里呢 我们打开项目的 Terminal 简单说 运行终端起来
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/554f10fb188748f975424e5b33947798.png"/>
     <br/>
     然后 我们将官方给我们的安装命令搬过来
     <br/>
     终端执行
    </p>
    <pre><code class="prism language-javascript">ohpm install @ohos<span class="token operator">/</span>axios
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/cc53fc4f98f6fa92d094c3a0051424e6.png"/>
     <br/>
     安装成功后 oh-package.json5 中的 dependencies 就能显示出工具的信息和版本啦
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/f96dcda394e3ff9dd56bc7dec48e949e.png"/>
     <br/>
     项目根目录下的 oh_modules 中 就装了 我们项目所有的依赖库
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/935250ee515546ded40fbd35a9dbcae1.png"/>
     <br/>
     那么 我们axios已经进来 就可以使用它了
    </p>
    <p>
     我这边 起了一个 java的项目
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/0e01c29a5c099a59fdbdf77abc8ee029.png"/>
     <br/>
     为本机 提供了一个数据接口
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/899f94a4b52d160a6eefc11f4e11b231.png"/>
     <br/>
     这边 大家也要想办法 自己弄个数据接口
    </p>
    <p>
     然后 我们在 需要请求的组件中这样写
    </p>
    <pre><code class="prism language-typescript"><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">"@ohos/axios"</span><span class="token punctuation">;</span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">Entry</span></span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span>
struct Dom <span class="token punctuation">{<!-- --></span>

<span class="token function">aboutToAppear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>
<span class="token string">"http://localhost/books"</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
<span class="token keyword">let</span> data<span class="token operator">:</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>err<span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"请求失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token function">Column</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>space<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string">'100%'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token string">'100%'</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>
首先 我们 要导入 axios import axios from “@ohos/axios”;
<br/>
然后 通过 axios 工具对象 调用它的 get 函数
<br/>
指定请求地址 和 请求路径
</p>
<p>
axios 怎么发请求这种问题 我就不具体讲了 大家可以去 axios 官方查 反正 和 web 端写法是一样的
<br/>
项目技术不同 但 axios 是一样的
</p>
<p>
预览器运行代码 通过终端输出可以看出 它明显是请求成功了
<br/>
<img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/8e29efe91eb68d3c864d2533c6bdcca4.png"/>
</p>

   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34353936363637342f:61727469636c652f64657461696c732f313336343533323332" class_="artid" style="display:none">
 </p>
</div>
