---
layout: post
title: "gs地图开发_Cesium开发常用地图事件"
date: 2021-03-06 02:09:39 +0800
description: "在地图开发中，地图移动、鼠标操作等一系列事件，都会使用到，而在地图封装的API中，一般都会进行提供。"
keywords: "业务项目gs地图"
categories: ['未分类']
tags: ['Gs']
artid: "115064536"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=115064536
  alt: "gs地图开发_Cesium开发常用地图事件"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     gs地图开发_Cesium开发：常用地图事件
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <div style="font-size:16px;">
     <p>
      在地图开发中，地图移动、鼠标操作等一系列事件，都会使用到，而在地图封装的API中，一般都会进行提供。
     </p>
     <p>
      Cesium开发中，会使用到对应的一些事件，下边列举一些常用的事件以及事件的使用。
     </p>
     <p>
      Cesium相机移动结束事件，这个在判断地图场景是否移动完成中进行使用，在移动完后，获取地图的相机坐标或者其他的一些坐标信息。
     </p>
     <p>
      viewer.scene.camera.moveEnd.addEventListener(function() {
      <!-- -->
     </p>
     <p>
      //实现对应的移动结束操作
     </p>
     <p>
      });
     </p>
     <p>
      鼠标移动事件，这个在判断当前地图的鼠标所在位置，获取鼠标位置的坐标，同时能够判断当前鼠标处，是否存在地图中的对象。
     </p>
     <p>
      var handler = new Cesium.ScreenSpaceEventHandler(scene.canvas);
     </p>
     <p>
      handler.setInputAction(function (movement) {
      <!-- -->
     </p>
     <p>
      //鼠标移动的结束坐标，也有起始坐标
     </p>
     <p>
      var pickedObject = scene.pick(movement.endPosition);
     </p>
     <p>
      //判断当前鼠标处，是否有对象
     </p>
     <p>
      if (
     </p>
     <p>
      Cesium.defined(pickedObject) &amp;&amp;
     </p>
     <p>
      pickedObject.id instanceof Cesium.Entity
     </p>
     <p>
      ) {
      <!-- -->
     </p>
     <p>
      //实体对象的处理
     </p>
     <p>
      }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);
     </p>
     <p>
      //鼠标的点击事件，这个是判断数据点击所在的位置
     </p>
     <p>
      var handler.setInputAction(function (movement) {
      <!-- -->
     </p>
     <p>
      //此处就只有鼠标的点击位置了
     </p>
     <p>
      var pickedObject = scene.pick(movement.position);
     </p>
     <p>
      if (
     </p>
     <p>
      //同样也是判断点击处的对象信息
     </p>
     <p>
      Cesium.defined(pickedObject) &amp;&amp;
     </p>
     <p>
      pickedObject.id instanceof Cesium.Entity
     </p>
     <p>
      ) {
      <!-- -->
     </p>
     <p>
      }
     </p>
     <p>
      }, Cesium.ScreenSpaceEventType.LEFT_CLICK);
     </p>
     <p>
      在使用完成后，用以下的方式去移除不需要的事件。
     </p>
     <p>
      //移除鼠标点击事件
     </p>
     <p>
      handler.removeInputAction(
     </p>
     <p>
      Cesium.ScreenSpaceEventType.LEFT_CLICK
     </p>
     <p>
      );
     </p>
     <p>
      //移除鼠标移动事件
     </p>
     <p>
      handler.removeInputAction(
     </p>
     <p>
      Cesium.ScreenSpaceEventType.MOUSE_MOVE
     </p>
     <p>
      );
     </p>
     <p>
      下边的是Cesium场景的实时渲染事件，每间隔很短的一个时间，就会执行一次事件，这个可以判断场景中的一些实时的对象情况。
     </p>
     <p>
      viewer.scene.preRender.addEventListener(function() {
      <!-- -->
     </p>
     <p>
      });
     </p>
     <p>
      其他的还有诸如鼠标的滚轮事件、鼠标按下或抬起的事件，这在Cesium的API文档中都能进行找到使用。
     </p>
    </div>
   </div>
  </div>
  <div id="recommendDown">
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f33353932373331382f:61727469636c652f64657461696c732f313135303634353336" class_="artid" style="display:none">
 </p>
</div>
