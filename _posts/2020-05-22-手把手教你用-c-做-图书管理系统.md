---
layout: post
title: 手把手教你用-c-做-图书管理系统
date: 2020-05-22 08:58:33 +0800
categories: [实战]
tags: [源码,教程,图书管理系统,c++]
image:
    path: https://img-blog.csdnimg.cn/20200521230221484.png?x-oss-process=image/resize,m_fixed,h_150
    alt: 手把手教你用-c-做-图书管理系统
artid: 106269628
render_with_liquid: false
---
<p class="artid" style="display:none">$url</p>
<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     手把手教你用 c++ 做 图书管理系统
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-dracula" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <div class="toc">
     <h4>
      图书管理系统设计
     </h4>
     <ul>
      <li>
       <a href="#_1" rel="nofollow">
        题目要求
       </a>
      </li>
      <li>
       <a href="#_22" rel="nofollow">
        思路分析
       </a>
      </li>
      <li>
       <a href="#_28" rel="nofollow">
        各个模块的实现
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#_29" rel="nofollow">
          “书”类的创建
         </a>
        </li>
        <li>
         <a href="#_47" rel="nofollow">
          管理模块的创建及实现
         </a>
        </li>
        <li>
         <ul>
          <li>
           <a href="#_49" rel="nofollow">
            管理权限
           </a>
          </li>
          <li>
           <a href="#_61" rel="nofollow">
            添加图书
           </a>
          </li>
          <li>
           <a href="#_161" rel="nofollow">
            查找图书
           </a>
          </li>
          <li>
           <a href="#_341" rel="nofollow">
            修改图书
           </a>
          </li>
          <li>
           <a href="#_525" rel="nofollow">
            删除图书
           </a>
          </li>
          <li>
           <a href="#_547" rel="nofollow">
            整理模块的封装
           </a>
          </li>
         </ul>
        </li>
        <li>
         <a href="#_647" rel="nofollow">
          销售模块的创建与实现
         </a>
        </li>
        <li>
         <a href="#_683" rel="nofollow">
          统计模块的创建与实现
         </a>
        </li>
        <li>
         <a href="#_780" rel="nofollow">
          文件的读取与存储
         </a>
        </li>
        <li>
         <a href="#_843" rel="nofollow">
          创建简易登录界面
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#_952" rel="nofollow">
        主函数的封装
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#_966" rel="nofollow">
          主菜单选项的封装
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <h2>
     <a id="_1">
     </a>
     题目要求
    </h2>
    <p>
     1、问题描述 :
     <br/>
     定义图书类，属性有：书名、出版社、ISBN 号、作者、库存量、价格等信息和相关的 对属性做操作的行为。 主要完成对图书的销售、统计和图书的简单管理。
     <br/>
     2、功能要求
     <br/>
     （1）销售功能:
     <br/>
     购买书籍时，输入相应的 ISBN 号，并在书库中查找该书的相关信息。 如果有库存量，输入购买的册数，进行相应计算。如果库存量不够，给出提示信息，结束购 买。
     <br/>
     （2）图书简单管理功能:
    </p>
    <p>
     添加功能：主要完成图书信息的添加，要求 ISBN 号唯一。当添加了重复的编号时，则提示数据添加重复并取消添加。
    </p>
    <p>
     查询功能：可按书名、ISBN 号、作者、出版社进行查询。若存在相应信息，输出所查 询的信息，若不存在该记录，则提示“该标题不存在！”。
    </p>
    <p>
     修改功能：可根据查询结果对相应的记录进行修改，修改时注意 ISBN 号的唯一性。
    </p>
    <p>
     删除功能：主要完成图书信息的删除。输入要删除的 ISBN 号，根据编号删除该物品的 记录，如果该编号不在物品库中，则提示“该编号不存在”。
    </p>
    <p>
     （3）统计功能。 输出当前书库中所有图书的总数及详细信息；可按书的价格、库存量、作者、出版社进 行统计，输出统计信息时，要按从大到小进行排序。
    </p>
    <p>
     （4）图书存盘：将当前程序中的图书信息存入文件中。
    </p>
    <p>
     （5）读出信息：从文件中将图书信息读入程序。
    </p>
    <h2>
     <a id="_22">
     </a>
     思路分析
    </h2>
    <p>
     图书管理系统肯定要定义“书”类啦~大概有这些属性叭。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/25bd86d9cca8c63b4598cee6c3ae22a0.png">
      <br/>
      再分析功能要求，大概这个系统是这样
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/02e736232d6de81916f2c8d06bfb50fb.png">
       <br/>
       大致将各个模块分了出来，接下来就开始实现了！
      </img>
     </img>
    </p>
    <h2>
     <a id="_28">
     </a>
     各个模块的实现
    </h2>
    <h3>
     <a id="_29">
     </a>
     “书”类的创建
    </h3>
    <p>
     这个简单，就这几个属性，直接上代码
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Book</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">Book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">~</span><span class="token function">Book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    string name<span class="token punctuation">;</span>
    <span class="token keyword">int</span> ISBN<span class="token punctuation">;</span>
    <span class="token keyword">int</span> price<span class="token punctuation">;</span><span class="token comment">//价格</span>
    string writer<span class="token punctuation">;</span><span class="token comment">//作者</span>
    string publishingHouse<span class="token punctuation">;</span><span class="token comment">//出版社</span>
    <span class="token keyword">int</span> inStock<span class="token punctuation">;</span> <span class="token comment">//库存</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     就把他放在Book.h 头文件吧
    </p>
    <h3>
     <a id="_47">
     </a>
     管理模块的创建及实现
    </h3>
    <h4>
     <a id="_49">
     </a>
     管理权限
    </h4>
    <p>
     定义bool类函数来判断用户输入的密码是否正确，随便写一字符串就好
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">bool</span> <span class="token function">quanxian</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请输入密码来证明您的权限"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    string c<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> c<span class="token punctuation">;</span>
    <span class="token keyword">return</span> c <span class="token operator">==</span> <span class="token string">"73748156"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
    <h4>
     <a id="_61">
     </a>
     添加图书
    </h4>
    <p>
     接下来是添加一本书，先声明一个临时的Book类型变量，然后依次读入他的各个属性，一定要注意判断ISBN号是否唯一
     <br/>
     先写一个判断ISBN号是否唯一的函数
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">isExist</span><span class="token punctuation">(</span><span class="token keyword">int</span> isbn<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> i <span class="token operator">:</span> b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> 
        <span class="token comment">//遍历这个Book类vector，判断ISBN是否唯一</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>ISBN <span class="token operator">==</span> isbn<span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     然后写添加书籍名称的函数
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">addBookName</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">,</span> Book<span class="token operator">&amp;</span> c<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    string name<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请输入书名"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> name<span class="token punctuation">;</span>
    c<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     添加ISBN的函数，在其中插入判断ISBN是否唯一的函数
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">addBookIsbn</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">,</span> Book<span class="token operator">&amp;</span> c<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> isbn<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请输入ISBN号"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        cin <span class="token operator">&gt;&gt;</span> isbn<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isExist</span><span class="token punctuation">(</span>isbn<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"ISBN号重复，请重新输入"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    c<span class="token punctuation">.</span>ISBN <span class="token operator">=</span> isbn<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     添加作者的函数
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">addBookWriter</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">,</span> Book<span class="token operator">&amp;</span> c<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    string writer<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请输入作者"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> writer<span class="token punctuation">;</span>
    c<span class="token punctuation">.</span>writer <span class="token operator">=</span> writer<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     添加出版社的函数
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">addBookPublishingHouse</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">,</span> Book<span class="token operator">&amp;</span> c<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    string chubanshe<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请输入出版社"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> chubanshe<span class="token punctuation">;</span>
    c<span class="token punctuation">.</span>publishingHouse <span class="token operator">=</span> chubanshe<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     添加库存的函数
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">addBookInStock</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">,</span> Book<span class="token operator">&amp;</span> c<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> kucun<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请输入库存"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> kucun<span class="token punctuation">;</span>
    c<span class="token punctuation">.</span>inStock <span class="token operator">=</span> kucun<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     添加价格的函数
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">addBookPrice</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">,</span> Book<span class="token operator">&amp;</span> c<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> jiage<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请输入价格"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> jiage<span class="token punctuation">;</span>
    c<span class="token punctuation">.</span>price <span class="token operator">=</span> jiage<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     最后一起调用，做添加图书的总函数
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">addBook</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    Book newbook<span class="token punctuation">;</span><span class="token comment">//声明一个Book类变量</span>
    <span class="token function">addBookName</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> newbook<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addBookIsbn</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> newbook<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addBookWriter</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> newbook<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addBookPublishingHouse</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> newbook<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addBookInStock</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> newbook<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addBookPrice</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> newbook<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//将信息读取到newbook变量中</span>
    b<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>newbook<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//再将newbook添加到Book类vector中</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"添加成功"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     这样就可以添加图书了
    </p>
    <h4>
     <a id="_161">
     </a>
     查找图书
    </h4>
    <p>
     查找图书肯定要按多种条件查找
     <br/>
     先做一个菜单
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">showMenu4</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*************************************"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"***   请选择您检索书籍的方式   *******"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"***   通过书名查找请按1        ******"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"***   通过IBSN号查找请按2      ******"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"***   通过作者查找请按3        ******"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"***   通过出版社查找请按4       ******"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"***   退出查找请按0           *******"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"***********************************"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     理科生整的菜单没有美感。。。。。。。
    </p>
    <p>
     接下来需要考虑的问题是书籍信息重复问题
     <br/>
     书名会重，一个作者会写好多本书，出版社也肯定不会只出一本书
     <br/>
     考虑到上述情况，查找结果可能不止一本书
    </p>
    <p>
     故在查找函数内部再声明一个Book类的vector，
     <br/>
     将查到的书存在里边，然后再做第二次确认
    </p>
    <p>
     还是先做查找书名的函数，参数传两个Book类的vector
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">findBookName</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> c<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    string name<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请输入您要查找的书籍名称"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> name<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> i <span class="token operator">:</span> b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>name <span class="token operator">==</span> name<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            c<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     然后是查找作者的函数
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">findBookWriter</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> c<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    string writer<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请输入您要查找的书籍作者"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> writer<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> i <span class="token operator">:</span> b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>writer <span class="token operator">==</span> writer<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            c<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     还有查找出版社的函数
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">findBookPublishingHouse</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> c<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    string chubanshe<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请输入您要查找的书籍出版社"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> chubanshe<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> i <span class="token operator">:</span> b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>publishingHouse <span class="token operator">==</span> chubanshe<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            c<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     最后是查找ISBN的函数，ISBN肯定是唯一的
     <br/>
     所以这种检索方式是最准确的
     <br/>
     但是为方便后续操作
     <br/>
     依旧传两个vector
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">findBookIsbn</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> c<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请输入您要查找的书籍ISBN"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token keyword">int</span> ISBN<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> ISBN<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> i <span class="token operator">:</span> b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>ISBN <span class="token operator">==</span> ISBN<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            c<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Book</span><span class="token double-colon punctuation">::</span><span class="token function">show</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     查找之后肯定要把图书信息显示出来供使用者确认
     <br/>
     做一个展示图书信息的函数
     <br/>
     我写到了Book类里
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token class-name">Book</span><span class="token double-colon punctuation">::</span><span class="token function">show</span><span class="token punctuation">(</span>Book b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"书名："</span> <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span>name 
    	 <span class="token operator">&lt;&lt;</span> <span class="token string">"\tISBN："</span> <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span>ISBN 
    	 <span class="token operator">&lt;&lt;</span> <span class="token string">"\t作者："</span><span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span>writer 
 	     <span class="token operator">&lt;&lt;</span> <span class="token string">"\t出版社："</span> <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span>publishingHouse 
 	     <span class="token operator">&lt;&lt;</span> <span class="token string">"\t价格："</span> <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span>price 
  	     <span class="token operator">&lt;&lt;</span> <span class="token string">"\t库存："</span> <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span>inStock <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     最后把这几个查找函数用一个函数封装到一起
    </p>
    <pre><code class="prism language-cpp">Book <span class="token function">findBook</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    Book tmp<span class="token punctuation">;</span>
    vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span>c<span class="token punctuation">;</span><span class="token comment">//为防止书籍其他信息重复，将信息重复的查找结果存在c中</span>
    tmp<span class="token punctuation">.</span>ISBN <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token function">showMenu4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span> choose2<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> choose2<span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>choose2<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">case</span> <span class="token char">'1'</span><span class="token operator">:</span><span class="token comment">//按书名查找</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">findBookName</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token char">'2'</span><span class="token operator">:</span><span class="token comment">//ISBN</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">findBookIsbn</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token char">'3'</span><span class="token operator">:</span><span class="token comment">//作者</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">findBookWriter</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token char">'4'</span><span class="token operator">:</span><span class="token comment">//出版社</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">findBookPublishingHouse</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token char">'0'</span><span class="token operator">:</span><span class="token comment">//退出</span>
    <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"欢迎下次使用"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        tmp<span class="token punctuation">.</span>ISBN <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"指令错误，请重新输入"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//开始二次检索</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tmp<span class="token punctuation">.</span>ISBN <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment">//判断找没找到，没找到vector就是空的</span>
        <span class="token punctuation">{<!-- --></span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"查无此书"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
            tmp<span class="token punctuation">.</span>ISBN <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">return</span> c<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//如果vector内只有一个函数，就不再遍历浪费时间啦</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{<!-- --></span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请确认您要查找的书籍"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
            <span class="token keyword">int</span> i<span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> c<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//c里不止一本书，遍历c确认查找的书</span>
                cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"、\t"</span><span class="token punctuation">;</span>
                <span class="token class-name">Book</span><span class="token double-colon punctuation">::</span><span class="token function">show</span><span class="token punctuation">(</span>c<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请选择您要查找的书籍序号"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
            cin <span class="token operator">&gt;&gt;</span> i<span class="token punctuation">;</span>
            <span class="token keyword">return</span> c<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> tmp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     完事，下一个
    </p>
    <h4>
     <a id="_341">
     </a>
     修改图书
    </h4>
    <p>
     修改图书也简单，跟添加图书差不多吧
     <br/>
     无非就是修改单个信息
     <br/>
     肯定是要先找到图书，再去修改，
     <br/>
     所以函数中传一个vector和一本书就好
    </p>
    <p>
     先做一个菜单
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">showMenu5</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*************************************"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*****   您想要修改该书哪种信息   ******"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*******    修改书名请按1      *******"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*******    修改ISBN请按2      *******"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*******    修改作者请按3      *******"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*******   修改出版社请按4     *******"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*******    修改价格请按5      *******"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*******    修改库存请按6      *******"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*******    退出修改请按0      *******"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"***********************************"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     理科生审美标配菜单~
    </p>
    <p>
     然后还是先做修改单个信息的函数
     <br/>
     修改书名的
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">modifyBookName</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">,</span> Book<span class="token operator">&amp;</span> c<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    string name<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请输入修改后书名"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> name<span class="token punctuation">;</span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> b<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ISBN <span class="token operator">==</span> c<span class="token punctuation">.</span>ISBN<span class="token punctuation">)</span><span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"修改成功"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     修改ISBN的
     <br/>
     这里注意修改后的ISBN不能重复，
     <br/>
     调用一次之前写好的函数来判断ISBN是否唯一
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">modifyBookIsbn</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">,</span> Book<span class="token operator">&amp;</span> c<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> isbn<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请输入修改后ISBN号"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> isbn<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isExist</span><span class="token punctuation">(</span>isbn<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//判断ISBN是否重复</span>
    <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"ISBN重复，修改失败"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> b<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ISBN <span class="token operator">==</span> c<span class="token punctuation">.</span>ISBN<span class="token punctuation">)</span><span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ISBN <span class="token operator">=</span> isbn<span class="token punctuation">;</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"修改成功"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     修改作者的
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">modifyBookWriter</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">,</span> Book<span class="token operator">&amp;</span> c<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    string zuozhe<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请输入修改后作者"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> zuozhe<span class="token punctuation">;</span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> b<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ISBN <span class="token operator">==</span> c<span class="token punctuation">.</span>ISBN<span class="token punctuation">)</span><span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>writer <span class="token operator">=</span> zuozhe<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"修改成功"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     修改出版社的
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">modifyBookChubanshe</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">,</span> Book<span class="token operator">&amp;</span> c<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    string chubanshe<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请输入修改后出版社"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> chubanshe<span class="token punctuation">;</span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> b<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ISBN <span class="token operator">==</span> c<span class="token punctuation">.</span>ISBN<span class="token punctuation">)</span><span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>publishingHouse <span class="token operator">=</span> chubanshe<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"修改成功"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     修改库存的
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">modifyBookKucun</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">,</span> Book<span class="token operator">&amp;</span> c<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> kucun<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请输入修改后库存"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> kucun<span class="token punctuation">;</span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> b<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ISBN <span class="token operator">==</span> c<span class="token punctuation">.</span>ISBN<span class="token punctuation">)</span><span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>inStock <span class="token operator">=</span> kucun<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"修改成功"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     修改价格的
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">modifyBookJiage</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">,</span> Book<span class="token operator">&amp;</span> c<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> jiage<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请输入修改后价格"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> jiage<span class="token punctuation">;</span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> b<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ISBN <span class="token operator">==</span> c<span class="token punctuation">.</span>ISBN<span class="token punctuation">)</span><span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>price <span class="token operator">=</span> jiage<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"修改成功"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
    <p>
     最后封装到一起
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">modifyBookInformation</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">,</span> Book<span class="token operator">&amp;</span> c<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">showMenu5</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">char</span> choose5<span class="token punctuation">;</span>
        cin <span class="token operator">&gt;&gt;</span> choose5<span class="token punctuation">;</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>choose5<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">case</span> <span class="token char">'1'</span><span class="token operator">:</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">modifyBookName</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">case</span> <span class="token char">'2'</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">modifyBookIsbn</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">case</span> <span class="token char">'3'</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">modifyBookWriter</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">case</span> <span class="token char">'4'</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">modifyBookChubanshe</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">case</span> <span class="token char">'5'</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">modifyBookJiage</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">case</span> <span class="token char">'6'</span><span class="token operator">:</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">modifyBookKucun</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">case</span> <span class="token char">'0'</span><span class="token operator">:</span>
        <span class="token punctuation">{<!-- --></span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"退出修改系统"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
        <span class="token punctuation">{<!-- --></span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"指令错误，请重新输入"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h4>
     <a id="_525">
     </a>
     删除图书
    </h4>
    <p>
     这个更简单了，因为是用的vector来存储书籍
     <br/>
     所以删除图书用vector中的erase方法就行
    </p>
    <p>
     同样也是先查找书籍再删除
     <br/>
     参数传一个vector和一本书
    </p>
    <p>
     我把这个函数写到了Book类中
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token class-name">Book</span><span class="token double-colon punctuation">::</span><span class="token function">deleteBook</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">,</span> Book c<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> b<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//通过ISBN查找这本书</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ISBN <span class="token operator">==</span> c<span class="token punctuation">.</span>ISBN<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            b<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//删除这本书</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"删除成功"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     已经完成一半多啦！
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/86138ca787e2d5fc31c4b5986a323f50.jpeg"/>
    </p>
    <h4>
     <a id="_547">
     </a>
     整理模块的封装
    </h4>
    <p>
     做一个修改书目的菜单函数，没什么要求（好看就行）
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">showMenu3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*************************************"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"********   修改该书籍请按1   *****"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"********   删除该书籍请按2   *****"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"********      退出请按0     *****"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*************************************"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     先将修改信息和删除书目两个功能封装到一块，还是用switch结构
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">modifyBook</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">,</span> Book<span class="token operator">&amp;</span> c<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">showMenu3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span> choose4<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> choose4<span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>choose4<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">case</span> <span class="token char">'0'</span><span class="token operator">:</span><span class="token comment">//退出</span>
        <span class="token punctuation">{<!-- --></span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"退出修改系统"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">case</span> <span class="token char">'1'</span><span class="token operator">:</span><span class="token comment">//修改</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">modifyBookInformation</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">case</span> <span class="token char">'2'</span><span class="token operator">:</span><span class="token comment">//删除</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">Book</span><span class="token double-colon punctuation">::</span><span class="token function">deleteBook</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
        <span class="token punctuation">{<!-- --></span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"指令错误，修改失败"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     在做一个整理功能的菜单，将功能选项都写好
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">showMenu2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*************************************"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"********   添加书籍信息请按1      *****"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"********   修改书籍信息请按2      *****"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"********   退出整理系统请按0      *****"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*************************************"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     还是熟悉的风格 ~
     <br/>
     然后将整理模块所有功能封装到一个函数中，一样是用switch，大同小异
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">arrangeBook</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">showMenu2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">char</span> choose3<span class="token punctuation">;</span>
        cin <span class="token operator">&gt;&gt;</span> choose3<span class="token punctuation">;</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>choose3<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">case</span><span class="token char">'0'</span><span class="token operator">:</span><span class="token comment">//退出</span>
            <span class="token punctuation">{<!-- --></span>
                cout <span class="token operator">&lt;&lt;</span> <span class="token string">"退出整理系统"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">case</span> <span class="token char">'1'</span><span class="token operator">:</span><span class="token comment">//添加</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token function">addBook</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">case</span> <span class="token char">'2'</span><span class="token operator">:</span><span class="token comment">//修改</span>
            <span class="token punctuation">{<!-- --></span>
                Book gai <span class="token operator">=</span> <span class="token function">findBook</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>gai<span class="token punctuation">.</span>ISBN <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token function">modifyBook</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> gai<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//按任意键继续</span>
        <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"cls"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//清屏</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     整理模块的所有功能就都包含在
     <code>
      arrangeBook(vector&lt;Book&gt;&amp; b)
     </code>
     这个函数中了
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/5fca7dc3ee410c67f562d2041eacd419.jpeg"/>
    </p>
    <h3>
     <a id="_647">
     </a>
     销售模块的创建与实现
    </h3>
    <p>
     销售图书无非就是先检索出来
     <br/>
     判断库存，然后输出
    </p>
    <p>
     直接上代码
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">buyBook</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    Book mai <span class="token operator">=</span> <span class="token function">findBook</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mai<span class="token punctuation">.</span>ISBN <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> number<span class="token punctuation">;</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请输入要购买的数量"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        cin <span class="token operator">&gt;&gt;</span> number<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>number <span class="token operator">&gt;</span> mai<span class="token punctuation">.</span>inStock<span class="token punctuation">)</span><span class="token comment">//判断库存够不够</span>
        <span class="token punctuation">{<!-- --></span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"库存不足，购买失败"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> huaxiao <span class="token operator">=</span> number <span class="token operator">*</span> mai<span class="token punctuation">.</span>price<span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> b<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//遍历找到这本书，并调整他的库存</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ISBN <span class="token operator">==</span> mai<span class="token punctuation">.</span>ISBN<span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>inStock <span class="token operator">-=</span> number<span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"购买成功"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"共花费 "</span> <span class="token operator">&lt;&lt;</span> huaxiao <span class="token operator">&lt;&lt;</span> <span class="token string">" 元"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <h3>
     <a id="_683">
     </a>
     统计模块的创建与实现
    </h3>
    <p>
     统计也就是按ISBN，库存或价格排序输出下，
     <br/>
     还是先做个菜单
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">showMenu6</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*********************************************"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"******    选择你要统计图书信息的排序方式    ******"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*******        按ISBN统计请按1         *******"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*******        按库存统计请按2          *******"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*******        按价格统计请按3          *******"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*******          退出请按0             *******"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*********************************************"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     简洁且美观！
    </p>
    <p>
     因为是用vector存储的书籍
     <br/>
     所以排序也是很容易操作
     <br/>
     直接用sort方法就可以
     <br/>
     故只需要自己定义比较函数
    </p>
    <p>
     先定义比较ISBN的比较函数
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">bool</span> <span class="token function">isbnCmp</span><span class="token punctuation">(</span><span class="token keyword">const</span> Book<span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> Book<span class="token operator">&amp;</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> a<span class="token punctuation">.</span>ISBN <span class="token operator">&gt;</span> b<span class="token punctuation">.</span>ISBN<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     接着是库存比较函数
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">bool</span> <span class="token function">inStockCmp</span><span class="token punctuation">(</span><span class="token keyword">const</span> Book<span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> Book<span class="token operator">&amp;</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span>inStock <span class="token operator">==</span> b<span class="token punctuation">.</span>inStock<span class="token punctuation">)</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>ISBN <span class="token operator">&gt;</span> b<span class="token punctuation">.</span>ISBN<span class="token punctuation">;</span>
    <span class="token comment">//库存相等的时候按ISBN排序</span>
    <span class="token keyword">return</span> a<span class="token punctuation">.</span>inStock <span class="token operator">&gt;</span> b<span class="token punctuation">.</span>inStock<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
    <p>
     然后是价格比较函数
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">bool</span> <span class="token function">priceCmp</span><span class="token punctuation">(</span><span class="token keyword">const</span> Book<span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> Book<span class="token operator">&amp;</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span>price <span class="token operator">==</span> b<span class="token punctuation">.</span>price<span class="token punctuation">)</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>ISBN <span class="token operator">&gt;</span> b<span class="token punctuation">.</span>ISBN<span class="token punctuation">;</span>
    <span class="token comment">//价格相等的时候按ISBN排序</span>
    <span class="token keyword">return</span> a<span class="token punctuation">.</span>price <span class="token operator">&gt;</span> b<span class="token punctuation">.</span>price<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     最后封装好统计函数
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">tongji</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">showMenu6</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span> choose6<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> choose6<span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>choose6<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">case</span> <span class="token char">'0'</span><span class="token operator">:</span><span class="token comment">//退出</span>
    <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"退出统计系统"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token char">'1'</span><span class="token operator">:</span><span class="token comment">//isbn</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">sort</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> b<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> isbnCmp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//排序</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> i <span class="token operator">:</span> b<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">Book</span><span class="token double-colon punctuation">::</span><span class="token function">show</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//显示排完序后的书库</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token char">'2'</span><span class="token operator">:</span><span class="token comment">//库存</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">sort</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> b<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> inStockCmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> i <span class="token operator">:</span> b<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">Book</span><span class="token double-colon punctuation">::</span><span class="token function">show</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token char">'3'</span><span class="token operator">:</span><span class="token comment">//价格</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">sort</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> b<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> priceCmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> i <span class="token operator">:</span> b<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">Book</span><span class="token double-colon punctuation">::</span><span class="token function">show</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
    <h3>
     <a id="_780">
     </a>
     文件的读取与存储
    </h3>
    <p>
     用文件流写入或读取文件
     <br/>
     记得要加 ftream 的头文件
     <br/>
     并且加上宏定义
     <code>
      #define FILENAME "library.txt"
     </code>
    </p>
    <p>
     open函数要写打开模式
    </p>
    <p>
     写入模式
     <code>
      ios::out
     </code>
     <br/>
     读取模式
     <code>
      ios::in
     </code>
    </p>
    <p>
     具体操作方法如下
     <br/>
     保存Book类vector信息代码
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    ofstream ofs<span class="token punctuation">;</span>
    ofs<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>FILENAME<span class="token punctuation">,</span> ios<span class="token double-colon punctuation">::</span>out<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> i <span class="token operator">:</span> b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//录入每本书信息</span>
        ofs <span class="token operator">&lt;&lt;</span> i<span class="token punctuation">.</span>name <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> i<span class="token punctuation">.</span>ISBN <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> i<span class="token punctuation">.</span>writer <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span>
            <span class="token operator">&lt;&lt;</span> i<span class="token punctuation">.</span>publishingHouse <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> 
            <span class="token operator">&lt;&lt;</span> i<span class="token punctuation">.</span>inStock <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> i<span class="token punctuation">.</span>price <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token comment">//将所有信息存储，信息之间以空格分隔，书之间以换行符分隔</span>
    <span class="token punctuation">}</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"保存成功"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    ofs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//关闭文件</span>

<span class="token punctuation">}</span>
</code></pre>
    <p>
     还有将文件内容读取到Book类vector中
     <br/>
     方法是先声明一个Book变量，读取信息后将其插入vector中
     <br/>
     代码如下
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">fetchBook</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    ifstream ifs<span class="token punctuation">;</span>
    ifs<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>FILENAME<span class="token punctuation">,</span> ios<span class="token double-colon punctuation">::</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//读文件</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ifs<span class="token punctuation">.</span><span class="token function">is_open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//判断是否存在</span>
    <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"图书文件不存在"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        ifs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    Book temp<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>ifs <span class="token operator">&gt;&gt;</span> temp<span class="token punctuation">.</span>name <span class="token operator">&amp;&amp;</span> ifs <span class="token operator">&gt;&gt;</span> temp<span class="token punctuation">.</span>ISBN <span class="token operator">&amp;&amp;</span> ifs 
    	<span class="token operator">&gt;&gt;</span> temp<span class="token punctuation">.</span>writer <span class="token operator">&amp;&amp;</span> ifs <span class="token operator">&gt;&gt;</span> temp<span class="token punctuation">.</span>publishingHouse <span class="token operator">&amp;&amp;</span>
        ifs <span class="token operator">&gt;&gt;</span> temp<span class="token punctuation">.</span>inStock <span class="token operator">&amp;&amp;</span> ifs <span class="token operator">&gt;&gt;</span> temp<span class="token punctuation">.</span>price<span class="token punctuation">)</span><span class="token comment">//信息读取到temp中</span>
    <span class="token punctuation">{<!-- --></span>
        b<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//将temp存在b中</span>
    <span class="token punctuation">}</span>
    ifs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"图书文件为空"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"当前图书种类数目为"</span> <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"本"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     完成！
     <br/>
     到这里，题目要求的几个模块就都完成啦~
     <br/>
     顺手拓展下再加个用户登录界面完善下吧
    </p>
    <h3>
     <a id="_843">
     </a>
     创建简易登录界面
    </h3>
    <p>
     有登录肯定得有注册
     <br/>
     还是老样子
     <br/>
     先做一个巨好看的菜单
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">showMenu0</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*************************************"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"********  书是人类进步的阶梯  *********"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"********    登录帐号请按1    *********"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"********    注册账号请按2    *********"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"********  退出图书系统请按0  *********"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*************************************"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     好看！
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/a63b892cbefa53070548705433459679.gif"/>
    </p>
    <p>
     接着先写一个类，就叫User叭
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    <span class="token operator">~</span><span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    string userName<span class="token punctuation">;</span>
    string password<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     然后开始写注册函数
     <br/>
     当然也要判断用户名是否唯一
    </p>
    <p>
     判断用户名是否唯一的函数代码
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">isUserExist</span><span class="token punctuation">(</span>string name<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>User<span class="token operator">&gt;</span>u<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> u<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>u<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>userName <span class="token operator">==</span> name<span class="token punctuation">)</span> <span class="token keyword">return</span> i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     接着是注册函数的实现，跟添加图书差不多，
     <br/>
     还是先声明一个User类变量，输入各信息后再将其插入到vector中
    </p>
    <p>
     既然是存储用户信息的vector，当然也要保存在文件中
     <br/>
     同样加一个宏定义
     <code>
      #define FILENAME2 "users.txt"
     </code>
    </p>
    <p>
     然后上代码
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">zhuce</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>User<span class="token operator">&gt;</span><span class="token operator">&amp;</span> u<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    string password<span class="token punctuation">;</span>
    User tmp<span class="token punctuation">;</span>
    string name<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请输入用户名"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> name<span class="token punctuation">;</span>
    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token function">isUserExist</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> u<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        tmp<span class="token punctuation">.</span>userName <span class="token operator">=</span> name<span class="token punctuation">;</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请输入密码"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        cin <span class="token operator">&gt;&gt;</span> password<span class="token punctuation">;</span>
        tmp<span class="token punctuation">.</span>password <span class="token operator">=</span> password<span class="token punctuation">;</span>
        u<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ofstream ofs<span class="token punctuation">;</span>
        ofs<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>FILENAME2<span class="token punctuation">,</span> ios<span class="token double-colon punctuation">::</span>out<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> i <span class="token operator">:</span> u<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//录入用户信息</span>
            ofs  <span class="token operator">&lt;&lt;</span> i<span class="token punctuation">.</span>userName <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token operator">&lt;&lt;</span> i<span class="token punctuation">.</span>password <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"保存成功"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        ofs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//关闭文件</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"该用户名已被使用，注册失败"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     当然不能忘了还有登录的代码没写
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">bool</span> <span class="token function">denglu</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>User<span class="token operator">&gt;</span> u<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    string name<span class="token punctuation">,</span> password<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请输入用户名"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cin <span class="token operator">&gt;&gt;</span> name<span class="token punctuation">;</span>
    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token function">isUserExist</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> u<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"用户名不存在，登录失败"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"请输入密码"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        cin <span class="token operator">&gt;&gt;</span> password<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>u<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">.</span>password <span class="token operator">==</span> password<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"登录成功"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{<!-- --></span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"密码错误，登录失败"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
    <p>
     再补一下主函数的封装
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/64f810a2e84572d8dab99a1e3c3f2d4f.gif"/>
    </p>
    <h2>
     <a id="_952">
     </a>
     主函数的封装
    </h2>
    <p>
     主函数中声明两个 vector ，再调用两个函数读取本地文件到 vector 中
     <br/>
     之后调用 选择函数，来封装所有的模块
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span>lib<span class="token punctuation">;</span>
    vector<span class="token operator">&lt;</span>User<span class="token operator">&gt;</span>users<span class="token punctuation">;</span>
    <span class="token function">fetchUser</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">fetchBook</span><span class="token punctuation">(</span>lib<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">selectOption</span><span class="token punctuation">(</span>lib<span class="token punctuation">,</span> users<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
    <h3>
     <a id="_966">
     </a>
     主菜单选项的封装
    </h3>
    <p>
     还是先做一个百看不腻的美丽菜单
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">showMenu1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*************************************"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"********  书是人类进步的阶梯  *********"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"********    购买书籍请按1    *********"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"********    整理书籍请按2    *********"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"********  显示书籍信息请按3  *********"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"********  保存图书信息请按4  *********"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"********  退出图书系统请按0  *********"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"*************************************"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     <em>
      <strong>
       觉得好看可以多看一会，我不会不好意思的
      </strong>
     </em>
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/d730b33eeca9a7e59640a57fa6cfeaf6.jpeg">
      <br/>
      接着是 选择函数，就把所有模块扔到一个 switch 结构里就好啦 ~
     </img>
    </p>
    <pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">selectOption</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Book<span class="token operator">&gt;</span><span class="token operator">&amp;</span> b<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>User<span class="token operator">&gt;</span><span class="token operator">&amp;</span> u<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> h <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span> choose0<span class="token punctuation">;</span>
    <span class="token keyword">do</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">showMenu0</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cin <span class="token operator">&gt;&gt;</span> choose0<span class="token punctuation">;</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>choose0<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">case</span><span class="token char">'1'</span><span class="token operator">:</span><span class="token comment">//登录</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">denglu</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                h <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
                <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span><span class="token char">'2'</span><span class="token operator">:</span><span class="token comment">//注册</span>
            <span class="token function">zhuce</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span><span class="token char">'0'</span><span class="token operator">:</span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"欢迎下次使用"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"cls"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>choose0 <span class="token operator">!=</span> <span class="token char">'0'</span> <span class="token operator">&amp;&amp;</span> h <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//展示主菜单</span>
        <span class="token function">showMenu1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">char</span> choose<span class="token punctuation">;</span>
        cin <span class="token operator">&gt;&gt;</span> choose<span class="token punctuation">;</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>choose<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">case</span><span class="token char">'1'</span><span class="token operator">:</span><span class="token comment">//购买</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">buyBook</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">case</span><span class="token char">'2'</span><span class="token operator">:</span><span class="token comment">//整理</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">quanxian</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token function">arrangeBook</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">else</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"密码错误，您没有权限"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">case</span> <span class="token char">'3'</span><span class="token operator">:</span><span class="token comment">//统计</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                cout <span class="token operator">&lt;&lt;</span> <span class="token string">"当前无图书"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token function">tongji</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">case</span> <span class="token char">'4'</span><span class="token operator">:</span><span class="token comment">//保存</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">save</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">case</span><span class="token char">'0'</span><span class="token operator">:</span><span class="token comment">//退出</span>
        <span class="token punctuation">{<!-- --></span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"欢迎下次使用"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
        <span class="token punctuation">{<!-- --></span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"指令错误，请重新输入"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"cls"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/c911bbd43e46e6bcfe635f9aa1f7d8f5.gif"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
</div>


