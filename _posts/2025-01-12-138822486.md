---
layout: post
title: "Docker系列Linux部署Docker-Compose"
date: 2025-01-12 04:37:31 +0800
description: "💝💝💝欢迎来到我的博客，很高兴能够在这里和您见面！希望您在这里可以感受到一份轻松愉快的氛围，不仅可以"
keywords: "linux环境,docker-compose-2.yml后端启动脚本在主机路径"
categories: ['分布式', 'S']
tags: ['容器', 'Linux', 'Docker']
artid: "138822486"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=138822486
    alt: "Docker系列Linux部署Docker-Compose"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【Docker系列】Linux部署Docker Compose
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <blockquote>
     <p>
      💝💝💝欢迎来到我的博客，很高兴能够在这里和您见面！希望您在这里可以感受到一份轻松愉快的氛围，不仅可以获得有趣的内容和知识，也可以畅所欲言、分享您的想法和见解。
      <br/>
      <img alt="img" src="https://i-blog.csdnimg.cn/blog_migrate/5b7d56665d406fee3159289ac61fa974.jpeg#pic_center"/>
     </p>
     <ul>
      <li>
       推荐:
       <a href="https://qinyingjie.blog.csdn.net/?type=blog" rel="nofollow">
        kwan 的首页
       </a>
       ,持续学习,不断总结,共同进步,活到老学到老
      </li>
      <li>
       导航
       <ul>
        <li>
         <a href="https://blog.csdn.net/qyj19920704/category_11763029.html">
          檀越剑指大厂系列
         </a>
         :全面总结 java 核心技术点,如集合,jvm,并发编程 redis,kafka,Spring,微服务,Netty 等
        </li>
        <li>
         <a href="https://blog.csdn.net/qyj19920704/category_11474211.html">
          常用开发工具系列
         </a>
         :罗列常用的开发工具,如 IDEA,Mac,Alfred,electerm,Git,typora,apifox 等
        </li>
        <li>
         <a href="https://blog.csdn.net/qyj19920704/category_11474265.html">
          数据库系列
         </a>
         :详细总结了常用数据库 mysql 技术点,以及工作中遇到的 mysql 问题等
        </li>
        <li>
         <a href="https://blog.csdn.net/qyj19920704/category_7540627.html">
          懒人运维系列
         </a>
         :总结好用的命令,解放双手不香吗?能用一个命令完成绝不用两个操作
        </li>
        <li>
         <a href="https://blog.csdn.net/qyj19920704/category_11480075.html">
          数据结构与算法系列
         </a>
         :总结数据结构和算法,不同类型针对性训练,提升编程思维,剑指大厂
        </li>
       </ul>
      </li>
     </ul>
     <p>
      非常期待和您一起在这个小小的网络世界里共同探索、学习和成长。💝💝💝 ✨✨ 欢迎订阅本专栏 ✨✨
     </p>
    </blockquote>
    <p>
    </p>
    <div class="toc">
     <h4>
      博客目录
     </h4>
     <ul>
      <li>
       <ul>
        <li>
         <a href="#_docker_15" rel="nofollow">
          一.卸载 docker
         </a>
        </li>
        <li>
         <ul>
          <li>
           <a href="#1_docker_17" rel="nofollow">
            1.卸载旧 docker
           </a>
          </li>
         </ul>
        </li>
        <li>
         <a href="#_Docker_34" rel="nofollow">
          二.安装 Docker
         </a>
        </li>
        <li>
         <ul>
          <li>
           <a href="#1_38" rel="nofollow">
            1.安装所需的软件包
           </a>
          </li>
          <li>
           <a href="#2_Docker__44" rel="nofollow">
            2.设置 Docker 的仓库
           </a>
          </li>
          <li>
           <a href="#3_Docker_Engine_50" rel="nofollow">
            3.安装 Docker Engine
           </a>
          </li>
          <li>
           <a href="#4_Docker__56" rel="nofollow">
            4.启动 Docker 服务
           </a>
          </li>
          <li>
           <a href="#5_Docker__62" rel="nofollow">
            5.并确保 Docker 服务开机自启
           </a>
          </li>
         </ul>
        </li>
        <li>
         <a href="#_Docker_Compose_68" rel="nofollow">
          三.安装 Docker Compose
         </a>
        </li>
        <li>
         <ul>
          <li>
           <a href="#1_Docker_Compose_72" rel="nofollow">
            1.下载 Docker Compose
           </a>
          </li>
          <li>
           <a href="#2_80" rel="nofollow">
            2.执行权限
           </a>
          </li>
          <li>
           <a href="#3_86" rel="nofollow">
            3.验证
           </a>
          </li>
         </ul>
        </li>
        <li>
         <a href="#_94" rel="nofollow">
          四.关于下载慢的问题
         </a>
        </li>
        <li>
         <ul>
          <li>
           <a href="#1_96" rel="nofollow">
            1.命令解释
           </a>
          </li>
          <li>
           <a href="#2_114" rel="nofollow">
            2.解决方案
           </a>
          </li>
          <li>
           <a href="#3_124" rel="nofollow">
            3.对应的版本
           </a>
          </li>
         </ul>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <h3>
     <a id="_docker_15">
     </a>
     一.卸载 docker
    </h3>
    <h4>
     <a id="1_docker_17">
     </a>
     1.卸载旧 docker
    </h4>
    <p>
     <strong>
      卸载旧版本的 Docker（如果存在）
     </strong>
     :
    </p>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> yum remove <span class="token function">docker</span> <span class="token punctuation">\</span>
              docker-client <span class="token punctuation">\</span>
              docker-client-latest <span class="token punctuation">\</span>
              docker-common <span class="token punctuation">\</span>
              docker-latest <span class="token punctuation">\</span>
              docker-latest-logrotate <span class="token punctuation">\</span>
              docker-logrotate <span class="token punctuation">\</span>
              docker-selinux <span class="token punctuation">\</span>
              docker-engine-selinux <span class="token punctuation">\</span>
              docker-engine
</code></pre>
    <h3>
     <a id="_Docker_34">
     </a>
     二.安装 Docker
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/7484588a98f343f6f9bbc51640de18f7.png#pic_center"/>
    </p>
    <h4>
     <a id="1_38">
     </a>
     1.安装所需的软件包
    </h4>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> yum <span class="token function">install</span> <span class="token parameter variable">-y</span> yum-utils
</code></pre>
    <h4>
     <a id="2_Docker__44">
     </a>
     2.设置 Docker 的仓库
    </h4>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
</code></pre>
    <h4>
     <a id="3_Docker_Engine_50">
     </a>
     3.安装 Docker Engine
    </h4>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce docker-ce-cli containerd.io
</code></pre>
    <h4>
     <a id="4_Docker__56">
     </a>
     4.启动 Docker 服务
    </h4>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> systemctl start <span class="token function">docker</span>
</code></pre>
    <h4>
     <a id="5_Docker__62">
     </a>
     5.并确保 Docker 服务开机自启
    </h4>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span>
</code></pre>
    <h3>
     <a id="_Docker_Compose_68">
     </a>
     三.安装 Docker Compose
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/00a1f91e0e055c8e130457d80c5b7502.png#pic_center"/>
    </p>
    <h4>
     <a id="1_Docker_Compose_72">
     </a>
     1.下载 Docker Compose
    </h4>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">curl</span> <span class="token parameter variable">-L</span> <span class="token string">"https://github.com/docker/compose/releases/download/1.29.2/docker-compose-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> <span class="token parameter variable">-s</span><span class="token variable">)</span></span>-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> <span class="token parameter variable">-m</span><span class="token variable">)</span></span>"</span> <span class="token parameter variable">-o</span> /usr/local/bin/docker-compose
</code></pre>
    <p>
     注意：请检查 Docker Compose 的
     <a href="https://github.com/docker/compose/releases">
      官方 GitHub 仓库
     </a>
     以获取最新版本的链接。
    </p>
    <h4>
     <a id="2_80">
     </a>
     2.执行权限
    </h4>
    <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">chmod</span> +x /usr/local/bin/docker-compose
</code></pre>
    <h4>
     <a id="3_86">
     </a>
     3.验证
    </h4>
    <pre><code class="prism language-bash">  <span class="token function">docker-compose</span> <span class="token parameter variable">--version</span>
</code></pre>
    <p>
     这将输出 Docker Compose 的版本号
    </p>
    <h3>
     <a id="_94">
     </a>
     四.关于下载慢的问题
    </h3>
    <h4>
     <a id="1_96">
     </a>
     1.命令解释
    </h4>
    <blockquote>
     <p>
      sudo curl -L “https://github.com/docker/compose/releases/download/1.29.2/docker-compose-
      <span class="katex--inline">
       <span class="katex">
        <span class="katex-mathml">
         ( 
         
        
          u 
         
        
          n 
         
        
          a 
         
        
          m 
         
        
          e 
         
        
          − 
         
        
          s 
         
        
          ) 
         
        
          − 
         
        
       
         (uname -s)-
        </span>
        <span class="katex-html">
         <span class="base">
          <span class="strut" style="height: 1em; vertical-align: -0.25em;">
          </span>
          <span class="mopen">
           (
          </span>
          <span class="mord mathnormal">
           u
          </span>
          <span class="mord mathnormal">
           nam
          </span>
          <span class="mord mathnormal">
           e
          </span>
          <span class="mspace" style="margin-right: 0.2222em;">
          </span>
          <span class="mbin">
           −
          </span>
          <span class="mspace" style="margin-right: 0.2222em;">
          </span>
         </span>
         <span class="base">
          <span class="strut" style="height: 1em; vertical-align: -0.25em;">
          </span>
          <span class="mord mathnormal">
           s
          </span>
          <span class="mclose">
           )
          </span>
          <span class="mord">
           −
          </span>
         </span>
        </span>
       </span>
      </span>
      (uname -m)” -o /usr/local/bin/docker-compose
     </p>
    </blockquote>
    <p>
     这是一个使用
     <code>
      curl
     </code>
     命令从 GitHub 下载 Docker Compose 特定版本并将其保存到
     <code>
      /usr/local/bin/docker-compose
     </code>
     路径的命令。让我们逐步解释该命令的各个部分：
    </p>
    <ul>
     <li>
      <p>
       <code>
        sudo
       </code>
       : 这个关键字用于以超级用户或管理员权限执行命令。它要求你具有适当的权限来执行该命令。
      </p>
     </li>
     <li>
      <p>
       <code>
        curl
       </code>
       : 这是一个用于在命令行中进行网络请求的工具。在这个命令中，
       <code>
        curl
       </code>
       被用于从指定的 URL 下载文件。
      </p>
     </li>
     <li>
      <p>
       <code>
        -L
       </code>
       : 这个选项告诉
       <code>
        curl
       </code>
       跟随重定向链接，以确保下载最新版本的 Docker Compose。
      </p>
     </li>
     <li>
      <p>
       <code>
        "https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)"
       </code>
       : 这是要下载的 Docker Compose 版本的 URL。其中
       <code>
        1.29.2
       </code>
       是 Docker Compose 的版本号，
       <code>
        $(uname -s)
       </code>
       和
       <code>
        $(uname -m)
       </code>
       是命令替换的部分，用于获取当前系统的操作系统类型和机器架构信息，以便下载对应的二进制文件。
      </p>
     </li>
     <li>
      <p>
       <code>
        -o /usr/local/bin/docker-compose
       </code>
       : 这个选项指定要将下载的文件保存到的路径和文件名。在这个命令中，
       <code>
        -o
       </code>
       后面的路径
       <code>
        /usr/local/bin/docker-compose
       </code>
       表示将下载的文件保存为
       <code>
        /usr/local/bin
       </code>
       目录下的
       <code>
        docker-compose
       </code>
       文件。
      </p>
     </li>
    </ul>
    <p>
     总结起来，该命令的目的是使用
     <code>
      curl
     </code>
     下载指定版本的 Docker Compose，并将其保存到
     <code>
      /usr/local/bin/docker-compose
     </code>
     文件中，以便以后可以通过
     <code>
      docker-compose
     </code>
     命令来运行 Docker Compose。
    </p>
    <h4>
     <a id="2_114">
     </a>
     2.解决方案
    </h4>
    <ul>
     <li>
      <a href="https://github.com/docker/compose/releases">
       在官网下载 docker-compose
      </a>
     </li>
     <li>
      重命名为 docker-compose
     </li>
     <li>
      放在服务器/usr/local/bin/docker-compose 目录下
     </li>
    </ul>
    <pre><code class="prism language-apl">scp /Users/qinyingjie/Downloads/docker-compose root@xx.201.0.xxx:/usr/local/bin
</code></pre>
    <h4>
     <a id="3_124">
     </a>
     3.对应的版本
    </h4>
    <p>
     <code>
      $(uname -s)
     </code>
     和
     <code>
      $(uname -m)
     </code>
     是命令替换的部分，用于获取当前系统的操作系统类型和机器架构信息，以便下载对应的二进制文件。
    </p>
    <blockquote>
     <p>
      觉得有用的话点个赞
      <code>
       👍🏻
      </code>
      呗。
      <br/>
      ❤️❤️❤️本人水平有限，如有纰漏，欢迎各位大佬评论批评指正！😄😄😄
     </p>
     <p>
      💘💘💘如果觉得这篇文对你有帮助的话，也请给个点赞、收藏下吧，非常感谢!👍 👍 👍
     </p>
     <p>
      🔥🔥🔥Stay Hungry Stay Foolish 道阻且长,行则将至,让我们一起加油吧！🌙🌙🌙
     </p>
     <p>
      <img alt="img" src="https://i-blog.csdnimg.cn/blog_migrate/101469850485989da7dda6f53e80e19d.gif#pic_center"/>
     </p>
    </blockquote>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71796a31393932303730342f:61727469636c652f64657461696c732f313338383232343836" class_="artid" style="display:none">
 </p>
</div>


