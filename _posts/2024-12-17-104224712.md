---
layout: post
title: "HanLP-Java-配置和初步使用"
date: 2024-12-17 21:13:59 +0800
description: "本文详细介绍HanLP在Java环境下的配置与使用方法，包括通过Maven仓库安装和自行下载jar包"
keywords: "hanlp java"
categories: ['Java']
tags: ['自然语言处理', 'Nlp', 'Java', 'Hanlp']
artid: "104224712"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=104224712
    alt: "HanLP-Java-配置和初步使用"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     HanLP Java 配置和初步使用
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <div class="toc">
     <h4>
      HanLP Java IDEA配置和初步使用
     </h4>
     <ul>
      <li>
       <a href="#HanLP_2" rel="nofollow">
        HanLP介绍
       </a>
      </li>
      <li>
       <a href="#HanLPJava_12" rel="nofollow">
        HanLP安装（Java）
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#Maven_19" rel="nofollow">
          方式一：Maven仓库
         </a>
        </li>
        <li>
         <a href="#jardatahanlpproperties_35" rel="nofollow">
          方式二：自行下载jar、data、hanlp.properties。
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#HanLP_55" rel="nofollow">
        HanLP初步使用
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#NLP_57" rel="nofollow">
          NLP分词初体验
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <h2>
     <a id="HanLP_2">
     </a>
     HanLP介绍
    </h2>
    <p>
     HanLP是一款面向生产环境的自然语言处理工具包。
     <br/>
     具有的功能如下：
     <br/>
     中文分词 词性标注 命名实体识别 依存句法分析 语义依存分析 新词发现 关键词短语提取 自动摘要 文本分类聚类 拼音简繁 自然语言处理
     <br/>
     <a href="http://hanlp.com" rel="nofollow">
      【官方地址】http://hanlp.com
     </a>
     <br/>
     <a href="https://github.com/hankcs/HanLP">
      【GitHub地址】https://github.com/hankcs/HanLP
     </a>
    </p>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/1a8f24f5a595230b9e90ea0388efd93c.png"/>
    </p>
    <h2>
     <a id="HanLPJava_12">
     </a>
     HanLP安装（Java）
    </h2>
    <p>
     本文章着重对HanLP的Java项目的安装进行讲解。
    </p>
    <p>
     如果你想在Java项目中使用HanLP，那么现在还不能体验到HanLP2.0版本（20200208），现在只能安装在1.X分支（
     <a href="https://github.com/hankcs/HanLP/tree/1.x">
      https://github.com/hankcs/HanLP/tree/1.x
     </a>
     ）。
    </p>
    <p>
     安装方法有两种：
    </p>
    <h3>
     <a id="Maven_19">
     </a>
     方式一：Maven仓库
    </h3>
    <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.hankcs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>hanlp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>portable-1.7.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <p>
     零配置，即可使用基本功能（除由字构词、依存句法分析外的全部功能）。
    </p>
    <p>
     对于分词来说，StandardTokenizer标准分词器可用，但是NLPTokenizer分词器会出错，需要data包。
    </p>
    <p>
     本方法同样支持hanlp.properties（方式二中），也就是可配置data，无需手动引入jar包
    </p>
    <h3>
     <a id="jardatahanlpproperties_35">
     </a>
     方式二：自行下载jar、data、hanlp.properties。
    </h3>
    <ol>
     <li>
      <p>
       下载
       <br/>
       <a href="http://nlp.hankcs.com/download.php?file=data" rel="nofollow">
        data.zip
       </a>
       <br/>
       <a href="http://nlp.hankcs.com/download.php?file=jar" rel="nofollow">
        hanlp-release.zip
       </a>
      </p>
     </li>
     <li>
      <p>
       data.zip包含dictionary和mode两个文件夹。
       <br/>
       lhanlp-release.zip包含hanlp-1.7.6.jar、hanlp-1.7.6-sources.jar以及最重要的hanlp.properties。
       <br/>
       解压data.zip得到data文件夹。
      </p>
     </li>
     <li>
      <p>
       将data文件夹、hanlp.properties移动到java项目中，这里我移动到了resources中，具体路径：
      </p>
     </li>
    </ol>
    <pre><code>src/main/resources
</code></pre>
    <ol start="4">
     <li>
      修改hanlp.properties中的root路径（data的父目录）：
     </li>
    </ol>
    <pre><code>root=./src/main/resources
</code></pre>
    <ol start="5">
     <li>
      引入jar包（如果同时使用了方式一就不需要这一步），这里自行百度，不同IDE方式不同。
     </li>
    </ol>
    <h2>
     <a id="HanLP_55">
     </a>
     HanLP初步使用
    </h2>
    <h3>
     <a id="NLP_57">
     </a>
     NLP分词初体验
    </h3>
    <pre><code class="prism language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>hankcs<span class="token punctuation">.</span>demo<span class="token punctuation">;</span>

<span class="token keyword">import</span> com<span class="token punctuation">.</span>hankcs<span class="token punctuation">.</span>hanlp<span class="token punctuation">.</span>tokenizer<span class="token punctuation">.</span>NLPTokenizer<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>hankcs<span class="token punctuation">.</span>hanlp<span class="token punctuation">.</span>utility<span class="token punctuation">.</span>TestUtility<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DemoNLPSegment</span> <span class="token keyword">extends</span> <span class="token class-name">TestUtility</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        NLPTokenizer<span class="token punctuation">.</span>ANALYZER<span class="token punctuation">.</span><span class="token function">enableCustomDictionary</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 不用词典照样分词。</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>NLPTokenizer<span class="token punctuation">.</span><span class="token function">segment</span><span class="token punctuation">(</span><span class="token string">"在我国，春季田间管理的重点是夏季粮油作物，主要是冬小麦和油菜，产量超过全年粮食产量的五分之一。"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        NLPTokenizer<span class="token punctuation">.</span>ANALYZER<span class="token punctuation">.</span><span class="token function">enableCustomDictionary</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 使用用词典分词。</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>NLPTokenizer<span class="token punctuation">.</span><span class="token function">segment</span><span class="token punctuation">(</span><span class="token string">"在我国，春季田间管理的重点是夏季粮油作物，主要是冬小麦和油菜，产量超过全年粮食产量的五分之一。"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>NLPTokenizer<span class="token punctuation">.</span><span class="token function">analyze</span><span class="token punctuation">(</span><span class="token string">"我救的不是他，是多年前一个寒夜里，在篝火与烈酒中，想仗剑江湖的少年。"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">translateLabels</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        result.setData(JSON.toJSON(segmentList));</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <p>
     输出结果：
    </p>
    <blockquote>
     <p>
      [在/p, 我国/n, ，/w, 春季/t, 田间管理/l, 的/u, 重点/n, 是/v, 夏季/t, 粮油/j, 作物/n, ，/w, 主要/d, 是/v, 冬小麦/n, 和/c, 油菜/n, ，/w, 产量/n, 超过/v, 全年/n, 粮食/n, 产量/n, 的/u, 五分之一/m, 。/w]
      <br/>
      [在/p, 我国/n, ，/w, 春季/t, 田间管理/l, 的/u, 重点/n, 是/v, 夏季/t, 粮油/j, 作物/n, ，/w, 主要/d, 是/v, 冬小麦/n, 和/c, 油菜/n, ，/w, 产量/n, 超过/v, 全年/n, 粮食产量/nz, 的/u, 五分之一/m, 。/w]
      <br/>
      我/代词 救/动词 的/助词 不是/成语 他/代词 ，/标点符号 是/动词 多年前/数词 一个/数词 寒夜/名词 里/方位词 ，/标点符号 在/介词 篝火/名词 与/介词 烈酒/名词 中/方位词 ，/标点符号 想/动词 仗剑/动词 江湖/名词 的/助词 少年/名词 。/标点符号
     </p>
    </blockquote>
    <p>
     从结果可以看出，使用词典的NLP分词（如果没配置data会出错）将“粮食产量”识别为一个词，不使用词典则分为“粮食”“产量”两个词。
    </p>
    <p>
     更多实例请移步
     <a href="https://github.com/hankcs/HanLP/tree/1.x/src/test/java/com/hankcs/demo">
      【官方GitHub-Demo】
     </a>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f753031303939323331332f:61727469636c652f64657461696c732f313034323234373132" class_="artid" style="display:none">
 </p>
</div>


