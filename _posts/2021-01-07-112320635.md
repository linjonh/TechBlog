---
layout: post
title: "OpenDDS简介开源DDS解决方案"
date: 2021-01-07 19:36:01 +0800
description: "OpenDDSOpenDDS是用C++语言针对\"对象管理组织“（OMG）关于数据分发服务（Data "
keywords: "opendds"
categories: ['中间件']
tags: ['网络传输', '网络', '分布式', '中间件']
artid: "112320635"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=112320635
    alt: "OpenDDS简介开源DDS解决方案"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     OpenDDS简介：开源DDS解决方案
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <div class="toc">
     <h4>
      文章目录
     </h4>
     <ul>
      <li>
       <a href="#OpenDDS__1" rel="nofollow">
        OpenDDS 简介
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#ACE_10" rel="nofollow">
          ACE
         </a>
        </li>
        <li>
         <a href="#TAO_14" rel="nofollow">
          TAO
         </a>
        </li>
        <li>
         <a href="#ACETAO_18" rel="nofollow">
          ACE+TAO
         </a>
        </li>
        <li>
         <a href="#OpenDDS_30" rel="nofollow">
          OpenDDS类型定义
         </a>
        </li>
        <li>
         <a href="#OpenDDS_Demo_Code_57" rel="nofollow">
          OpenDDS Demo Code
         </a>
        </li>
        <li>
         <a href="#OpenDDS__66" rel="nofollow">
          OpenDDS 可扩展的传输框架
         </a>
        </li>
        <li>
         <a href="#OpenDDS__74" rel="nofollow">
          OpenDDS 发现
         </a>
        </li>
        <li>
         <ul>
          <li>
           <a href="#DCPSInfoRepo_84" rel="nofollow">
            利用DCPSInfoRepo的集中式发现（动态发现）
           </a>
          </li>
          <li>
           <a href="#RTPS_95" rel="nofollow">
            利用RTPS的对等发现（静态发现）
           </a>
          </li>
         </ul>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <h2>
     <a id="OpenDDS__1">
     </a>
     OpenDDS 简介
    </h2>
    <p>
     OpenDDS 是一个开源的 C++ 框架，用于在分布式系统中交换数据，遵循对象管理组织（OMG）关于数据分发服务（DDS）规范的实现。它不仅支持 C++，还为 Java 和 JMS 提供开发接口，允许 Java 程序员也能使用 OpenDDS。
    </p>
    <p>
     该框架构建在 ACE（自适应通信环境）之上，确保了跨平台和可移植性。同时，OpenDDS 利用 TAO（基于 ACE 的 CORBA 实现框架），提供了 IDL 编译器等功能，以作为其 DCPS 信息仓库。
    </p>
    <p>
     OpenDDS 遵循 OMG 的 DDS V1.2 规范，采用与 ACE/TAO 相同的许可证，允许开发者在保留版权声明的前提下，在各种场合（包括商业用途）使用和修改源代码。OpenDDS 的最新发行版本为 3.15。
    </p>
    <p>
     用户可以通过
     <a href="https://opendds.org" rel="nofollow">
      OpenDDS 官网
     </a>
     和
     <a href="https://github.com/OpenDDS/OpenDDS">
      GitHub
     </a>
     获取更多信息和资源。此外，OpenDDS 社区的用户还贡献并维护了对其他语言（如 C#、Node.js 和 Python）的绑定，进一步扩展了其适用范围。
    </p>
    <h3>
     <a id="ACE_10">
     </a>
     ACE
    </h3>
    <p>
     <a href="https://www.huihoo.org/ace_tao/ace.html" rel="nofollow">
      What is ACE?
     </a>
    </p>
    <h3>
     <a id="TAO_14">
     </a>
     TAO
    </h3>
    <p>
     <a href="https://www.huihoo.org/ace_tao/TAO-architecture.html" rel="nofollow">
      What is TAO?
     </a>
    </p>
    <h3>
     <a id="ACETAO_18">
     </a>
     ACE+TAO
    </h3>
    <p>
     <a href="https://www.huihoo.org/ace_tao/TAO-overview.html" rel="nofollow">
      What is ACE+TAO?
     </a>
    </p>
    <p>
     <a href="https://blog.csdn.net/linuxarmsummary/article/details/85475711">
      More about ACE &amp; TAO
     </a>
    </p>
    <hr/>
    <p>
     <strong>
      读OpenDDS-latest.pdf
     </strong>
    </p>
    <h3>
     <a id="OpenDDS_30">
     </a>
     OpenDDS类型定义
    </h3>
    <p>
     OpenDDS定义IDL文件
    </p>
    <pre><code class="prism language-c++">@topic
struct Message
{
    string from;
    string subject;
    @key long subject_id;
    string text;
    long count;
}
</code></pre>
    <p>
     <code>
      @topic
     </code>
     注释说明：该类型可以与某一个Topic进行绑定，用作OpenDDS的传输类型。
    </p>
    <p>
     <code>
      @key
     </code>
     注释说明：subject_id字段被定义为键值。键值的作用是用来区分同一个topic下的不同的instance。
    </p>
    <p>
     简单理解DDS中关于topic，instance和sample之间的关系，如图
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/c2a674a9824334489bfa2de201180a07.png#pic_center"/>
    </p>
    <p>
     同一个topic可以创建多个instance，不同的instance是按照key来进行区分的。而每一个instance可以理解为sample的模子，sample是实际的在节点间进行收发的数据。
    </p>
    <h3>
     <a id="OpenDDS_Demo_Code_57">
     </a>
     OpenDDS Demo Code
    </h3>
    <p>
     简单如下：
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/e0223a90c0e7373dbf6847553e1a9423.png#pic_center"/>
    </p>
    <h3>
     <a id="OpenDDS__66">
     </a>
     OpenDDS 可扩展的传输框架
    </h3>
    <p>
     OpenDDS使用由DDS规范定义的
     <strong>
      IDL接口
     </strong>
     ，以便于初始化以及控制服务使用。通过一个OpenDDS特有的传输框架，可以实现数据传输，而此框架可以允许服务利用各种传输协议，因此可称为
     <strong>
      可插拔的传输层
     </strong>
     ，使得OpenDDS的架构具有很大的灵活性。
     <br/>
     目前，OpenDDS支持
     <strong>
      TCP/IP
     </strong>
     、
     <strong>
      UDP/IP
     </strong>
     、
     <strong>
      IP多点发送
     </strong>
     、
     <strong>
      共享内存
     </strong>
     以及
     <strong>
      RTPS_UDP
     </strong>
     等多种传输协议，如图。传输协议可以通过配置文件指定，并在发布和订阅者进程中附于各种实体。
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/6e7bdccdb42658c4090d2c5455e8b440.png#pic_center"/>
    </p>
    <h3>
     <a id="OpenDDS__74">
     </a>
     OpenDDS 发现
    </h3>
    <p>
     OpenDDS发现服务，一种是peer-peer的发现（RTPS的对等发现），该发现的特点是节点在启动前需要配置好我所关心节点的信息（IP）。另一种是与第一种相反的方式（DCPSInfoRepo的集中式发现），在整个OpenDDS的系统中，所有节点之间并不知道彼此的存在，在程序启动后，由程序去检索DCPSInfoRepo服务实现动态发现。
    </p>
    <p>
     我理解为
     <strong>
      动态发现
     </strong>
     和
     <strong>
      静态发现
     </strong>
     。
    </p>
    <ul>
     <li>
      <strong>
       信息仓库 （InfoRepo）
      </strong>
      ：
      <strong>
       集中式
      </strong>
      的储存库类型，其作为一个单独的进程运行，可以允许发布者和订阅者以集中式发现彼此。—动态发现
     </li>
     <li>
      <strong>
       RTPS发现
      </strong>
      ：一种
      <strong>
       对等
      </strong>
      的发现类型，使用RTPS协议通知可用性和本地信息。 —静态发现
      <br/>
      与其他DDS实现的互操作性必须使用对等方法，但只在OpenDDS部署中才有用。
     </li>
    </ul>
    <h4>
     <a id="DCPSInfoRepo_84">
     </a>
     利用DCPSInfoRepo的集中式发现（动态发现）
    </h4>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/9425a6943158260a775716cc1031ad3c.png#pic_center"/>
    </p>
    <p>
     DCPSInfoRepo是OpenDDS执行的一种
     <strong>
      独立式服务
     </strong>
     ，以便于实现
     <strong>
      集中式方法
     </strong>
     ，他作为一个
     <strong>
      CORBA服务器
     </strong>
     进行实现。当用户请求关于一个主题的订阅时，DCPSInfoRepo就会定位主题，通知发布者目前有新的订阅者。当在非RTPS配置中使用OpenDDS时，就需要运行DCPSInfoRepo，而RTPS配置时则不需要使用DCPSInfoRepo。DCPSInfoRepo不包含在数据传播中，它的任务被限制在发现彼此的OpenDDS应用程序范围内。
    </p>
    <p>
     应用程序使用者可利用DCPS域的非重叠性部分，灵活、自由地运行多个InfoRepo。
    </p>
    <p>
     域操作可以在多个仓库上进行，从而形成一个
     <strong>
      分布式虚拟仓库
     </strong>
     ，即
     <strong>
      仓库联盟
     </strong>
     （Repository Federation）。为了使每个仓库参与到联盟中，每个仓库都必须在启动时指定它自己的
     <strong>
      联盟标识符
     </strong>
     数值（一个32位的数字值）。
    </p>
    <h4>
     <a id="RTPS_95">
     </a>
     利用RTPS的对等发现（静态发现）
    </h4>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/376b0b27e9a89f48f9da7cc6ca583a36.png#pic_center"/>
    </p>
    <p>
     需要
     <strong>
      对等发现
     </strong>
     模式的DDS应用程序可由OpenDDS性能设定，通过使用RTPS协议可以完成这种类型的发现。这个简单的发现形式可通过DDS对DataReader和DataWriter的配置进行实现。
    </p>
    <p>
     当每个参与者的进程激活DDS-RTPS发现机制时，需要利用默认（或者配置）的网络端口，网络端点才能被创建，这样才能方便后续DDS参与者发布DataReader以及DataWriter的详细配置信息。一段时间后，各个节点就会基于所配置的、
     <strong>
      可插拔的传输协议
     </strong>
     ，发现彼此并创建一个连接。
     <br/>
     当开发并部署需要使用RTPS发现的应用程序时，开发人员需考虑以下限制因素：
    </p>
    <ul>
     <li>
      由于UDP端口的方式被分配给域ID，那么，域ID应当在0~231（包含231）之间。在每个OpenDDS进程、每个域中，支持多达120个域参与者。
     </li>
     <li>
      主题名称以及类型识别码被限制到256个字符。
     </li>
     <li>
      由于全局唯一标识符（GUID）的方式被指定，OpenDDS的本地多点发送传输不能与RTPS发现一并工作（如果试图这样，那么将发布一个警告信息）。
     </li>
    </ul>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c:6f672e6373646e2e6e65742f546f6d3934323036373035392f:61727469636c652f64657461696c732f313132333230363335" class_="artid" style="display:none">
 </p>
</div>


