---
layout: post
title: "已解决-误删Ubuntu下自带的Python3和3.4怎么办-解决dpkg-error-processing-xxx-configure错误"
date: 2025-01-16 19:47:55 +0800
description: "昨天一时冲动卸载，删掉了Ubuntu 14.04 系统下的 Python 3和3.4，然后运行`ap"
keywords: "报错 error processing package python3.6-minimal (--configure):"
categories: ['研二上学期寒假']
tags: ['无标签']
artid: "87800790"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=87800790
    alt: "已解决-误删Ubuntu下自带的Python3和3.4怎么办-解决dpkg-error-processing-xxx-configure错误"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     [已解决] 误删Ubuntu下自带的Python3和3.4怎么办？—— 解决dpkg: error processing xxx (--configure)错误
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atelier-sulphurpool-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="_0">
     </a>
     前言
    </h3>
    <p>
     昨天一时冲动卸载，删掉了Ubuntu 14.04 系统下的 Python 3和3.4，然后运行
     <code>
      apt-get
     </code>
     指令来安装或者更新程序的时候，不停出现
     <code>
      dpkg: error processing xxx (--configure)
     </code>
     ，
     <code>
      E: Sub-process /usr/bin/dpkg returned an error code (1)
     </code>
     这样的错误信息。我就知道自己删掉Python3引发了系统功能缺失停用。。。
    </p>
    <p>
     本文旨在解决此问题。
    </p>
    <p>
     我认为这个方案不仅适用于Ubuntu 14，对16版本也同样有效，值得一看。
    </p>
    <h3>
     <a id="1__7">
     </a>
     1 问题描述
    </h3>
    <p>
     问：我为什么要删Python3和3.4呢？
     <br/>
     答：首先，我的Ubuntu 14.04系统上默认自带了Python2.7版本和Python3.4版本。但是我现在需要安装Python3.6版本来运行程序（一个12306 抢票软件 [1]），我安装Python3.6的过程记录在：
     <a href="https://blog.csdn.net/weixin_39278265/article/details/87659130">
      https://blog.csdn.net/weixin_39278265/article/details/87659130
     </a>
     [2] 中。
    </p>
    <p>
     然后自然要开始安装Python3.6需要的pip，为此，我使用了
     <code>
      apt-get install python3-pip
     </code>
     的指令来安装pip。
     <br/>
     但是呢，我在用
     <code>
      pip install
     </code>
     指令安装Python包的时候，发现安装的包都默认放在了
     <code>
      /usr/local/lib/python3.4/dist-packages
     </code>
     文件夹的路径下，很神奇…
    </p>
    <p>
     所以气恼之下，我直接输入 [3]：
    </p>
    <pre><code>sudo apt-get remove --purge python3.4
sudo apt-get remove --auto-remove python3.4
sudo apt-get purge --auto-remove python3.4
</code></pre>
    <p>
     然后我发现
     <code>
      /usr/lib/
     </code>
     下面还有
     <code>
      python
     </code>
     和
     <code>
      python3.4
     </code>
     文件夹；
     <code>
      /usr/local/lib
     </code>
     下面还有
     <code>
      python3.4
     </code>
     文件夹。为了
     <strong>
      彻底删除
     </strong>
     ，我直接把这些文件夹都删了。。。可以说是很彻底了。
    </p>
    <p>
     然后，我就发现有点不对劲了，使用
     <code>
      sudo apt-get upgrade
     </code>
     或者
     <code>
      sudo apt-get -f install
     </code>
     ，就会出现包含：
     <code>
      dpkg: error processing xxx (--configure)
     </code>
     ，
     <code>
      E: Sub-process /usr/bin/dpkg returned an error code (1)
     </code>
     这样的错误信息。具体信息描述可以参考：
     <a href="#ref1" rel="nofollow">
      [4 - 10]
     </a>
     （因为我当时没有详细记录下来）.
    </p>
    <p>
     大概是这样：
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/a7dc29b0e34d957758db6f438ce4a450.png"/>
    </p>
    <h3>
     <a id="2__29">
     </a>
     2 解决方案
    </h3>
    <p>
     看了这么多参考文献
     <a href="#ref1" rel="nofollow">
      [4 - 10]
     </a>
     ，没有找到满意的解决方案。
    </p>
    <p>
     昨天也想了一天，没明白怎么办。网上都说要重装系统，但是：一来我不熟悉重装系统的细节（不知道怎么保留Ubuntu的分区，格式化某个分区。这个操作还不太会），二来重装还是很麻烦的。所以我没有这样做。
    </p>
    <p>
     今早，起来之后，把自己另外一台Ubuntu 14.04 系统的python文件夹拷贝到自己出现问题的Ubuntu 16.04指定路径下，然后神奇的发现ok了！！！。。。（即无以上错误出现）
    </p>
    <p>
     真的震惊。我就只是简单的复制粘贴文件夹而已。
    </p>
    <p>
     这里详细记录下步骤：
     <br/>
     1）从一台好的Ubuntu系统（我的是Ubuntu 14.04）中拷贝出如下文件夹：
    </p>
    <ul>
     <li>
      /usr/lib/python3
     </li>
     <li>
      /usr/lib/python3.4
     </li>
     <li>
      /usr/local/lib/python3.4
      <br/>
      2）然后粘贴到自己这台出问题的Ubuntu系统上（我的是Ubuntu14.04）：
      <br/>
      注意：粘贴后，要确保这些粘贴过来的python文件夹目录和正常的Ubuntu系统的路径是一致的。
     </li>
     <li>
      /usr/lib/python3
     </li>
     <li>
      /usr/lib/python3.4
     </li>
     <li>
      /usr/local/lib/python3.4
     </li>
    </ul>
    <p>
     然后就可以了。
     <br/>
     即：现在在运行
     <code>
      apt-get
     </code>
     安装指令或者
     <code>
      pip install
     </code>
     之类的指令都没问题了，一切恢复正常。
    </p>
    <h3>
     <a id="3__53">
     </a>
     3 思考
    </h3>
    <p>
     其实这个解决方案的思路等价于
     <strong>
      备份python文件夹
     </strong>
     。
     <br/>
     但是我在误删的时候根本没想到会导致系统问题，所以没有备份
     <br/>
     但是可以想到，因为python3和3.4是Ubuntu系统自带的软件，一般各个正常Ubuntu系统中的python3和3.4的文件夹都应该是一样的，所以直接拷贝过来，理论上是可行的。
    </p>
    <p>
     实践也是如此。
    </p>
    <h3>
     <a id="_61">
     </a>
     参考文献
    </h3>
    <p>
     [1] py12306 购票助手
     <a href="https://github.com/pjialin/py12306">
      https://github.com/pjialin/py12306
     </a>
     <br/>
     [2] Ubuntu安装Python3.6并切换到3.6版本
     <a href="https://blog.csdn.net/weixin_39278265/article/details/87659130">
      https://blog.csdn.net/weixin_39278265/article/details/87659130
     </a>
     <br/>
     [3] 完全卸载python for Ubuntu 14.04
     <a href="https://www.cnblogs.com/songfucai/p/7976623.html" rel="nofollow">
      https://www.cnblogs.com/songfucai/p/7976623.html
     </a>
    </p>
    <div id="ref1">
    </div>
    <p>
     [4] Accidentally deleted /usr/lib/python3.4
     <a href="https://askubuntu.com/questions/711095/accidentally-deleted-usr-lib-python3-4" rel="nofollow">
      https://askubuntu.com/questions/711095/accidentally-deleted-usr-lib-python3-4
     </a>
     <br/>
     [5] sudo apt-get and most commands don’t work
     <a href="https://ubuntuforums.org/showthread.php?t=2312981" rel="nofollow">
      https://ubuntuforums.org/showthread.php?t=2312981
     </a>
     <br/>
     [6] Broken dependencies after upgrade
     <a href="https://askubuntu.com/questions/316189/broken-dependencies-after-upgrade" rel="nofollow">
      https://askubuntu.com/questions/316189/broken-dependencies-after-upgrade
     </a>
     <br/>
     [7] [SOLVED] A Packages Problem,Unable to install anything due to unconfigured and depandesies
     <a href="https://ubuntuforums.org/archive/index.php/t-2148838.html" rel="nofollow">
      https://ubuntuforums.org/archive/index.php/t-2148838.html
     </a>
     <br/>
     [8] Can’t install python3 on Ubuntu 18.04
     <a href="https://unix.stackexchange.com/questions/457411/cant-install-python3-on-ubuntu-18-04" rel="nofollow">
      https://unix.stackexchange.com/questions/457411/cant-install-python3-on-ubuntu-18-04
     </a>
     <br/>
     [9] dpkg returns error when installing python package (Debian)
     <a href="https://unix.stackexchange.com/questions/437788/dpkg-returns-error-when-installing-python-package-debian" rel="nofollow">
      https://unix.stackexchange.com/questions/437788/dpkg-returns-error-when-installing-python-package-debian
     </a>
     <br/>
     [10] Cannot install ANY packages because of Python
     <a href="https://superuser.com/questions/1266423/cannot-install-any-packages-because-of-python" rel="nofollow">
      https://superuser.com/questions/1266423/cannot-install-any-packages-because-of-python
     </a>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f67:2e6373646e2e6e65742f77656978696e5f3339323738323635:2f61727469636c652f64657461696c732f3837383030373930" class_="artid" style="display:none">
 </p>
</div>


