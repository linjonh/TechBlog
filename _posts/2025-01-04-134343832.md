---
layout: post
title: "不会被封的外挂,为何使用FPGA作为FPS游戏的DMA桥梁"
date: 2025-01-04 22:58:54 +0800
description: "点击蓝字关注我们关注、星标公众号，精彩内容每日送达来源：网络素材“不会被封的外挂”，为何使用FPGA"
keywords: "dma原理"
categories: ['']
tags: ['游戏', 'Fpga']
artid: "134343832"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=134343832
    alt: "不会被封的外挂,为何使用FPGA作为FPS游戏的DMA桥梁"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     “不会被封的外挂”，为何使用FPGA作为FPS游戏的“DMA”桥梁
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <div id="js_content">
     <p style="text-align:left;">
      点击蓝字关注我们
     </p>
     <pre class="has"><code class="language-go">关注、星标公众号，精彩内容每日送达
来源：网络素材</code></pre>
     <p>
      “不会被封的外挂”，为何使用FPGA作为fps游戏的“DMA”桥梁
     </p>
     <hr/>
     <img alt="ec712240989de00cd5dd9f7806a9576b.png" src="https://i-blog.csdnimg.cn/blog_migrate/5148381a2f9cfe899a7e68410243aa64.png">
      <p>
       最近，CF中某些主播“开（下称KG）挂”升上热搜，作为十年老兵，瓜是吃的饱饱的。之后官方下场进行检测，但是没有检测到软件KG行为，而是检测到主播有硬件设备异常情况。关于事件的来龙去脉就不过多赘述了，大家可以去某些社区吃瓜，我们今天只谈技术，不吃瓜。
      </p>
      <img alt="7400fecdb6493f32ed21a46802b2b192.png" src="https://i-blog.csdnimg.cn/blog_migrate/1ce539dc0ce19dec12c1b6c1eae648ec.png">
       <p>
        现在已经是3202年了，软件KG已经是过去式了，因为可以检测到电脑中的数据异常，所以游戏官方对于这种G是一查一个准。现在的高级G都是硬件G，而硬件G中一个最常见的就是FPGA做的DMA G。
       </p>
       <img alt="e8954c91949d981190ca42a77f290d3a.png" src="https://i-blog.csdnimg.cn/blog_migrate/bb54919ff28ad700d6c7f150baa58672.png">
        <p>
         原理
        </p>
        <hr/>
        <p>
         使用FPGA进行DMA（Direct Memory Access，直接内存访问）作弊原理：主要是通过FPGA直接访问计算机内存中的数据，可以进行数据修改（血量，金币等），或者将数据导出来到其他设备上显示（对手位置）。那为什么要使用FPGA进行操作呢？
        </p>
        <p>
         主要原因就是FPGA灵活，这种行业就是灰色产业，不会有专用的ASIC（未来可能有），所以FPGA的优势就体现出来了；二是驱动易改，可以模拟电脑中的网卡、GPU等，这样即使官方查到，最多就是硬件设备异常，不会直接查到KG的证据。
        </p>
        <img alt="ddb48d624be602a70f04e24862cc0368.png" src="https://i-blog.csdnimg.cn/blog_migrate/66748354daf49d8cac94cdd8b6ec52cf.png">
         <p>
          自己做一个？
         </p>
         <hr/>
         <p>
          这种灰色产业，国内肯定不会直接出来卖的，但是出于学习的目的，我们今天看一个项目：
         </p>
         <blockquote>
          <p>
           https://github.com/ufrisk/pcileech
          </p>
         </blockquote>
         <img alt="ee2a424a2df44492ae20ee24fe0aa7d6.png" src="https://i-blog.csdnimg.cn/blog_migrate/a68d05ad20fa0257a54f444a027d2d18.png">
          <p>
           PCILeech FPGA 项目包含用于基于 FPGA 的设备的软件和 HDL 代码（还有硬件），可与PCILeech 直接内存访问 (DMA) 攻击工具包（https://github.com/ufrisk/pcileech/）和MemProcFS（https://github.com/ufrisk/MemProcFS/） - 内存处理文件系统一起使用。使用基于 FPGA 的设备具有许多优势：其一是基于 FPGA 的硬件提供对 64 位内存空间的访问，而无需依赖目标系统上运行的内核；其二是基于 FPGA 的设备也更加稳定。基于 FPGA 的设备还可以发送原始 PCIe 事务层数据包 TLP - 允许进行更专业的研究。
          </p>
          <img alt="94a4e1ce4b3cb649bbb917f5f6befe32.png" src="https://i-blog.csdnimg.cn/blog_migrate/81057815b91719f35924d99c58f10087.png">
           <p>
            支持的设备：
           </p>
           <p>
            目前该项目支持的硬件（大部分硬件开源）：
           </p>
           <img alt="eb7d74e9439bce9dfd0b7917837061a2.jpeg" src="https://i-blog.csdnimg.cn/blog_migrate/f269a9792e6ffa91a1d618c48195a483.jpeg">
            <p>
             *) PCILeech FPGA 只使用 PCIe x1，即使硬件方面有更多 PCIe 通道可用。因为x1就足以提供我们需要的性能。
            </p>
            <p>
             请从上面的列表中选择最适合需求的 FPGA 硬件。如果性能是关键，目前建议使用 Screamer 系列、Enigma X1 或 AC701。
            </p>
            <p>
             下图就是 ScreamerM2 和 Screamer PCIe Squirrel、Enigma X1 和 LeetDMA以及 NeTV2、SP605 和 AC701 。
            </p>
            <img alt="a1e5f7f5c817cf0911dc16d145f38c5d.png" src="https://i-blog.csdnimg.cn/blog_migrate/bb057dccfc596aedfed2858e66afe4e9.png"/>
            <img alt="6d4a398a25ce3c1fab43153f2657d16c.png" src="https://i-blog.csdnimg.cn/blog_migrate/005d14b0c72d657034c5f71e9665863d.png"/>
            <img alt="8d292d42583db5190225752f3266a564.png" src="https://i-blog.csdnimg.cn/blog_migrate/861532038673a765bfc9bba02d8364ca.png"/>
            <p>
             其他项目
            </p>
            <hr/>
            <blockquote>
             <p>
              https://github.com/c1sc0/csgo-dma-overlay
             </p>
            </blockquote>
            <p>
             这个项目是基于上面项目进行延伸的，使用的是NETV2（硬件地址：https://github.com/AlphamaxMedia/netv2-mainboard），获取DMA数据后标记敌人的位置，然后与输入的HDMI数据叠加，最后HDMI输出画面就是游戏画面和标记的敌人画面叠加的画面。
            </p>
            <p>
             总结
            </p>
            <hr/>
            <p>
             今天的话题比较敏（有点）感，项目都是开源的，非常有助于学习PCIe DMA原理，以及等等...
            </p>
            <img alt="9c6a63641d602513e0b734b11ffd52aa.png" src="https://i-blog.csdnimg.cn/blog_migrate/beb533c63bdb66b70033d8d67b1333e1.png"/>
            <img alt="58f44dff43f56b1def72867393d31892.jpeg" src="https://i-blog.csdnimg.cn/blog_migrate/351d6916ce5ebe46bf9f69eeff15480a.jpeg"/>
            <p>
             想要了解FPGA吗？这里有实例分享，ZYNQ设计，关注我们的公众号，探索
            </p>
           </img>
          </img>
         </img>
        </img>
       </img>
      </img>
     </img>
    </div>
   </div>
  </div>
 </article>
 <p alt="6874747073:3a2f2f626c6f672e6373646e2e6e65742f4861636b456c652f:61727469636c652f64657461696c732f313334333433383332" class_="artid" style="display:none">
 </p>
</div>


