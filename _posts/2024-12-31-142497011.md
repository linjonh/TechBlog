---
layout: post
title: 2024-12-31-验证集为何不能代替测试集
date: 2024-12-31 00:25:06 +0800
categories: ['未分类']
tags: ['机器学习']
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=142497011
  alt: 验证集为何不能代替测试集
artid: 142497011
render_with_liquid: false
---
<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     验证集为何不能代替测试集
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p style="margin-left:0;">
     <strong>
      <span style="color:#FF0000;">
       上课时提过这个问题，本来我以为很简单，仔细想了想突然发现还是有点复杂，上网求证了下，发现众说纷纭，给出的解释含糊不清，有些概念又混淆在一起，实际上本质是一样的，非常的让我费解，最后自己总结了一下，因为动用了chatgpt以及其他ai，也不知道对错，想了想还是发给出来，看看有没有什么错误或者补充，毕竟我懂得太少。
      </span>
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      验证集与测试集的区别
     </strong>
     ，
    </p>
    <p style="margin-left:0;">
     <strong>
     </strong>
     <strong>
      首先还是进行用途介绍：
     </strong>
    </p>
    <ul>
     <li>
      <strong>
       验证集
      </strong>
      ：在训练过程中用于
      <strong>
       调参
      </strong>
      和
      <strong>
       模型选择
      </strong>
      ，模型通过验证集上的表现来调整超参数和优化模型结构。验证集参与了模型的训练和选择过程，起到了对模型的“调试”作用。
     </li>
     <li>
      <strong>
       测试集
      </strong>
      ：用于对最终模型的
      <strong>
       客观评估
      </strong>
      ，测试模型在未见过的数据上的表现。测试集不参与模型训练和优化过程，只用于
      <strong>
       一次性评估
      </strong>
      ，以判断模型的泛化能力。
     </li>
    </ul>
    <p style="margin-left:0;">
     <strong>
      问题一：验证集代替测试集导致数据过拟合无法检测（数据泄漏、偏差积累、模型选择性偏见、验证集操控、防止过拟合到验证集的特定模式）
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      过拟合现象不仅可能发生在训练集的训练数据上，还可能发生在验证集上。这种情况被称为对验证集的过拟合，即模型在不断根据验证集的表现进行调整时，可能会逐渐适应验证集中的噪声和细节，从而无法正确泛化到其他全新数据集（例如测试集或实际应用中的数据）。
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      <span style="color:#FF0000;">
       也就是说，不仅有对训练集数据的过拟合，还有对验证集数据的过拟合。
      </span>
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      而如果没有测试集的数据，我们将无从知晓对验证集过拟合的程度，最终会影响到模型实际应用时的优劣。
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      <span style="color:#FF0000;">
       数据泄漏（Data Leakage）
      </span>
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      是指在模型训练过程中，不该让模型接触的数据被无意或错误地包含在训练数据或模型构建的过程中。
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      本质上是因为模型在训练时获得了“不该知道”的信息，这些信息通常来自未来信息、测试数据或目标变量。
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      <span style="color:#FF0000;">
       验证集代替测试集产生的过拟合现象就是数据泄漏的一种。（chatgpt承认这是对的。）
      </span>
     </strong>
    </p>
    <p style="margin-left:0;">
     <img alt="" height="291" src="https://i-blog.csdnimg.cn/direct/acadfa59fc25418fa410e1ce571eb2c3.png" width="1165"/>
    </p>
    <p style="margin-left:0;">
     <strong>
      <span style="color:#FF0000;">
       偏差积累（Bias Accumulation）
      </span>
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      定义：偏差积累是指在模型训练和调优过程中，由于多次使用同一验证集，导致模型对验证集的特定特征、噪声或分布的适应，使得模型的泛化能力受到影响。
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      如何导致过拟合：当模型在验证集上进行调整时，它会逐渐学习到验证集中的细节，包括噪声和偶然性特征。随着模型对验证集的适应程度提高，其在验证集上的表现会不断改善，但这种改善并不能代表模型在全新数据上的真实性能。
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      影响：偏差积累会导致模型对验证集的表现过于依赖，使得在实际应用中面对新的数据时，模型的泛化能力降低，从而表现不佳。
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      <span style="color:#FF0000;">
       模型选择性偏见（Model Selection Bias）
      </span>
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      定义：模型选择性偏见是指开发人员在选择模型或调整超参数时，过于依赖于验证集的表现，进而导致选择出在验证集上表现最佳但在实际应用中可能表现不佳的模型。
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      如何导致过拟合：当模型多次基于验证集进行调参时，开发人员可能不自觉地选择适应验证集特征的模型架构或超参数。这种选择并未考虑模型在真实环境中面对的新数据时的能力，因此最终选出的模型可能在验证集上表现优异，但在全新数据上的泛化能力却很差。
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      影响：这种偏见使得最终选择的模型并不是最适合实际应用的模型，而是过于“专注”于验证集数据的模型，从而影响模型的实际应用效果。
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      <span style="color:#FF0000;">
       验证集操控（Validation Set Manipulation）
      </span>
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      定义：验证集操控是指在模型开发过程中，开发人员对验证集的数据或模型的训练过程进行不恰当的调整，从而导致模型对验证集的结果产生人为的偏差。
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      如何导致过拟合：当开发人员在调参过程中不断查看验证集的结果并做出调整时，可能会无意中优化模型以便在验证集上获得更高的分数。这种“操控”导致模型不再是基于普遍特征进行训练，而是围绕验证集的特定特征进行优化，从而产生过拟合。
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      影响：通过操控验证集，模型变得更擅长处理验证集中的特定特征，而这并不反映它在未知数据集上的能力，从而导致泛化性能的下降。
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      <span style="color:#FF0000;">
       验证集代替测试集产生的过拟合现象与
       <a name="_Hlk178092039">
        偏差积累、模型选择性偏见、验证集操控以及防止过拟合到验证集的特定模式
       </a>
       都有直接关系。（chatgpt承认这是对的。）
      </span>
     </strong>
    </p>
    <p style="margin-left:0;">
    </p>
    <p style="margin-left:0;">
     <img alt="" height="277" src="https://i-blog.csdnimg.cn/direct/baf0182a6d7e4b029f6514a4e1342001.png" width="1200"/>
    </p>
    <p style="margin-left:0;">
     <strong>
      问题二：原则上的客观公平性，机器学习的工作流程优化，确保模型的泛化能力
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      1.
     </strong>
     <strong>
      在机器学习中，测试集之所以存在，是为了模拟模型在真实应用中的表现，这就是原则上的客观公平性，测试集必须独立，未知，因为他需要模拟模型在真实应用中的表现。
      <span style="color:#FF0000;">
       即确保模型的泛化能力
      </span>
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      我认为这类似于薛定谔的猫，如果我们不去观测它，那我们永远就不会知道猫是生是死，所以我们在训练好这个模型以后，需要一次观测来评定模型的优劣，而观测模型的方式就是用完全未知独立的数据来测试它，（这就是测试集）所以，即使你只把现有的数据分为训练集和验证集，你最终还是需要一个测试集给出最终的评定结果，这就需要一批新的数据，这又实际上只是把你前面数据采集，清洗等工作再重复了一遍，
      <span style="color:#FF0000;">
       而一开始就划分测试集实质上优化了工作流程，且保证了实验（模型训练）的原则
      </span>
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      2.
     </strong>
     <strong>
      保持评估过程的可重复性
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      可重复的评估结果：如果没有独立的测试集，其他人就无法重复验证模型的性能。使用一个独立的测试集来评估模型，保证了评估过程的可重复性。我们可以通过同样的数据和方法重新测试模型的性能，确保模型在多次实验中具有一致性。
      <span style="color:#FF0000;">
       可重复的测试优化了工作流程。
      </span>
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      问题三：测试集的额外作用，其在机器学习工作流程中的地位
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      促进公平比较
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      原因：在多个模型或算法的比较中，使用独立的测试集可以确保每个模型的评估条件一致，提供公平的比较基础。
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      影响：这种公平性保证了各模型在相同数据集上的表现能够真实反映它们的优劣，促进更科学的模型选择与改进。
     </strong>
    </p>
    <p style="margin-left:0;">
       验证集：虽然可以在多次实验中用于模型选择，但其在模型调参过程中已经被“使用”，因此不再能提供一个完全公平的比较基础。
    </p>
    <p style="margin-left:0;">
       测试集：提供一个完全独立的数据集用于最终评估，确保每个模型在相同条件下进行比较，从而真实反映它们的优劣。
    </p>
    <p style="margin-left:0;">
     <strong>
      <span style="color:#FF0000;">
       提供额外的学习反馈
      </span>
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      原因：测试集不仅用于最终评估，还可以为模型提供反馈，帮助识别其在特定场景下的不足之处。
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      影响：这种反馈可以为模型后续的改进和调整提供依据，使得模型在面对实际应用时能够更为有效。
     </strong>
    </p>
    <p style="margin-left:0;">
     验证集：由于模型的调整过程会依赖于验证集的结果，开发者在调参过程中可能会“操控”模型以获得更好的验证集表现，这样的反馈并不反映模型在全新数据上的真实能力。
    </p>
    <p style="margin-left:0;">
     测试集：为模型提供无偏见的评估反馈，帮助开发者识别模型在未见数据上的不足之处，从而进行更为有效的改进。
    </p>
    <p style="margin-left:0;">
     <strong>
      <span style="color:#FF0000;">
       支持模型的生命周期管理
      </span>
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      原因：在实际应用中，模型的表现可能会随时间变化，定期使用测试集评估模型可以帮助监控其性能。
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      影响：通过持续的评估，开发团队能够及时识别模型衰退的情况，并根据测试集结果做出相应的更新和调整。
     </strong>
    </p>
    <p style="margin-left:0;">
       验证集：因为它在训练过程中已经被多次使用，可能无法准确评估模型在实际应用中随着时间变化的表现。
    </p>
    <p style="margin-left:0;">
       测试集：能够定期使用，并提供持续的评估，帮助开发团队及时监控模型表现，识别模型衰退并进行必要的更新和调整。
    </p>
    <p style="margin-left:0;">
     <strong>
      <span style="color:#FF0000;">
       促进共享，提高透明度
      </span>
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      原因：使用独立测试集能够增强模型开发过程的透明度，便于研究人员和开发者之间的知识共享。
     </strong>
    </p>
    <p style="margin-left:0;">
     <strong>
      影响：其他人可以复现研究结果，并在同样的数据集上进行对比与验证，推动领域内的进步和发展。
     </strong>
    </p>
    <p style="margin-left:0;">
       验证集：由于其参与模型选择与调优的过程，其他研究者在复现时无法确保评估的透明性。
    </p>
    <p style="margin-left:0;">
       测试集：使用独立的测试集可以保证研究结果的可复现性，增强模型开发过程的透明度，促进研究人员之间的知识共享和交流。
    </p>
    <p style="margin-left:0;">
     以上就是我能找到的，实际上验证集是否能代替测试集是个很简单的问题，但想要彻底弄清楚，还是需要耗费一定的精力和时间。
    </p>
    <p style="margin-left:0;">
     我的措辞可能有些不正确，思路也有可能错误，若有发现错误，望大佬提醒我。
    </p>
   </div>
  </div>
 </article>
</div>


<p class="artid" style="display:none">68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f37343034383830332f:61727469636c652f64657461696c732f313432343937303131</p>
