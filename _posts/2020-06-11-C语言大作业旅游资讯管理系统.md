---
title: 2020-06-11-C语言大作业旅游资讯管理系统
date: 2020-06-11 13:22:51 +0800
categories: [C语言]
tags: [c语言,程序设计,单链表]
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=106686387
  alt: C语言大作业旅游资讯管理系统
artid: 106686387
---
<span class="artid" style="display:none" artid=6874747073:3a2f2f626c6f672e6373646e2e6e65742f435248313132392f:61727469636c652f64657461696c732f313036363836333837></span>
<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     C语言大作业：旅游资讯管理系统
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="C_0">
     </a>
     C语言大作业：旅游资讯管理系统
    </h3>
    <p>
     题目：
     <br/>
     一、主体功能点要求：
     <br/>
     1.设计主菜单实现用户交互
     <br/>
     a、添加旅游资讯记录
     <br/>
     每条记录至少包含如下项：编号、日程安排、费用、点赞数。添加旅游资讯记录时，要求键盘输入对应的编号、日程安排等信息。添加成功后屏幕打印出相应的提示信息。
     <br/>
     b、查询旅游资讯记录
     <br/>
     查询旅游资讯记录时，打印相应提示语句，用户输入“1~3”之间的整数，如果输入1，按编号大小升序排序显示所有的记录；如果输入2，按点赞数降序排序显示所有的记录；如果输入3，则提示输入记录的编号，然后单独显示该编号对应的记录（若无该编号的记录，打印出错的提示信息，并返回主菜单）。
     <br/>
     c、修改旅游资讯记录
     <br/>
     修改旅游资讯记录时，打印相应提示语句，输入待修改记录的编号（若无该编号的记录，打印出错的提示信息，并返回主菜单），然后输入需修改记录的字段名称，比如编号、日程安排、费用等（点赞数不能在此处修改），再输入相应字段修改后的值。
     <br/>
     d、删除旅游资讯记录
     <br/>
     删除旅游资讯记录时，打印相应提示语句，输入待删除记录的编号（若无该编号的记录，打印出错的提示信息，并返回主菜单），然后打印是否删除的提示语句，输入y，删除选中的记录，否则不进行删除操作。
     <br/>
     e、点赞旅游资讯记录
     <br/>
     点赞旅游资讯记录时，打印相应提示语句，输入待删除记录的编号（若无该编号的记录，打印出错的提示信息，并返回主菜单），该记录的点赞数增1。
     <br/>
     2、扩展要求：
     <br/>
      能够实现将编辑完毕的旅游资讯记录保存在txt文件中，
     <br/>
      每次重新打开程序能够导入之前存储的旅游资讯记录。
     <br/>
     二、编程要求：
     <br/>
     1、注意每条旅游资讯记录至少包含编号、日程安排、费用、点赞数这四个字段，并且要求将字段的信息定义为一个结构体。
     <br/>
     2、若采用链表存储每条旅游资讯记录，则属于扩展实现，可加分。
     <br/>
     3、注意将程序的功能点进行模块化设计，避免将全部功能点实现代码写在主函数main中。
    </p>
    <pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;conio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string.h&gt;</span></span>
 <span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Tour</span> <span class="token operator">*</span>tour<span class="token punctuation">,</span>TOUR<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">Tour</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> id<span class="token punctuation">;</span><span class="token comment">//编号</span>
		<span class="token keyword">char</span> plan<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//日程安排</span>
		<span class="token keyword">float</span> cost<span class="token punctuation">;</span><span class="token comment">//花费</span>
		<span class="token keyword">int</span> agree<span class="token punctuation">;</span><span class="token comment">//点赞数</span>
		tour next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
	tour head<span class="token punctuation">,</span>tail<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">read_tour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 从data.txt中读取信息保存到单链表中</span>
<span class="token keyword">void</span> <span class="token function">write_cars</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//把旅游资讯记录存储到data.txt中</span>
<span class="token keyword">void</span> <span class="token function">add_tour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//添加旅游资讯记录</span>
<span class="token keyword">void</span> <span class="token function">search_tour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//查询旅游资讯记录</span>
<span class="token keyword">void</span> <span class="token function">display_tourid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//按编号大小来显示旅游资讯记录</span>
<span class="token keyword">void</span> <span class="token function">display_touragree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//按点赞数大小来显示旅游资讯记录</span>
<span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//将所有的旅游资讯记录输出到显示器中</span>
<span class="token keyword">void</span> <span class="token function">search_tourid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//按照编号来查询某个旅游资讯记录</span>
<span class="token keyword">void</span> <span class="token function">change_tour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//修改旅游资讯记录</span>
<span class="token keyword">void</span> <span class="token function">delect_tour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//删除旅游资讯记录</span>
<span class="token keyword">void</span> <span class="token function">agree_tour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//点赞某个旅游资讯记录</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"==========欢迎使用旅游资讯管理系统==========\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">read_tour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//读取文件</span>
	<span class="token keyword">int</span> i<span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>true<span class="token punctuation">)</span><span class="token comment">//每当执行完一个功能时，都会自动显示主菜单</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//判断数字输入是否正确，如果不正确继续循环输入</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请选择相关操作:\n1.增加旅游资讯记录\n2.查询旅游资讯记录\n3.浏览旅游资讯记录\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"4.修改旅游资讯记录\n5.删除旅游资讯记录\n6.点赞旅游资讯记录\n7.保存数据并退出管理系统\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入数字选择要实现的功能：\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&gt;=</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>i<span class="token operator">&lt;=</span><span class="token number">7</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"数字错误，请重新输入"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		    <span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">switch</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token function">add_tour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token comment">//进入添加旅游资讯信息功能</span>
		<span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token function">search_tour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token comment">//进入查询旅游资讯信息功能</span>
		<span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token comment">//进入浏览旅游资讯信息功能</span>
		<span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span> <span class="token function">change_tour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token comment">//进入修改旅游资讯信息功能</span>
		<span class="token keyword">case</span> <span class="token number">5</span><span class="token operator">:</span> <span class="token function">delect_tour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token comment">//进入删除旅游资讯信息功能</span>
		<span class="token keyword">case</span> <span class="token number">6</span><span class="token operator">:</span> <span class="token function">agree_tour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token comment">//进入点赞功能</span>
		<span class="token keyword">case</span> <span class="token number">7</span><span class="token operator">:</span> <span class="token function">write_cars</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//把数据信息保存到文件里</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"谢谢使用！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">read_tour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	FILE <span class="token operator">*</span>fp<span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">!=</span> <span class="token function">fopen_s</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>fp<span class="token punctuation">,</span> <span class="token string">"data.txt"</span><span class="token punctuation">,</span> <span class="token string">"a+b"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"打开文件失败，原因是"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">getch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	tour T<span class="token punctuation">;</span>
	head <span class="token operator">=</span> <span class="token punctuation">(</span>tour<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>TOUR<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> head<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"内存分配失败！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">exit</span><span class="token punctuation">(</span>EXIT_FAILURE<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	head<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	tail <span class="token operator">=</span> head<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		T<span class="token operator">=</span> <span class="token punctuation">(</span>tour<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>TOUR<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">fread</span><span class="token punctuation">(</span>T<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>TOUR<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> fp<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">free</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		T<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
		tail<span class="token operator">-&gt;</span>next <span class="token operator">=</span> T<span class="token punctuation">;</span>
		tail <span class="token operator">=</span> T<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">fclose</span><span class="token punctuation">(</span>fp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//关闭文件</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">write_cars</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	FILE <span class="token operator">*</span>fp<span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">!=</span> <span class="token function">fopen_s</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>fp<span class="token punctuation">,</span> <span class="token string">"data.txt"</span><span class="token punctuation">,</span> <span class="token string">"w+"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"打开文件失败，原因是"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">_getch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	tour T <span class="token operator">=</span> head<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>T <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">fwrite</span><span class="token punctuation">(</span>T<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>TOUR<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> fp<span class="token punctuation">)</span><span class="token punctuation">;</span>
		T <span class="token operator">=</span> T<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">fclose</span><span class="token punctuation">(</span>fp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//关闭文件</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">add_tour</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	tour T<span class="token punctuation">,</span>temp<span class="token punctuation">;</span>
	T<span class="token operator">=</span><span class="token punctuation">(</span>tour<span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>TOUR<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>T<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"空间分配失败！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入编号："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>T<span class="token operator">-&gt;</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入日程安排："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span>T<span class="token operator">-&gt;</span>plan<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入费用："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%f"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>T<span class="token operator">-&gt;</span>cost<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入点赞数："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>T<span class="token operator">-&gt;</span>agree<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>head<span class="token operator">-&gt;</span>next<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		head<span class="token operator">-&gt;</span>next<span class="token operator">=</span>T<span class="token punctuation">;</span>
		T<span class="token operator">-&gt;</span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		temp<span class="token operator">=</span>head<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span><span class="token comment">//头插法</span>
		head<span class="token operator">-&gt;</span>next<span class="token operator">=</span>T<span class="token punctuation">;</span>
		T<span class="token operator">-&gt;</span>next<span class="token operator">=</span>temp<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%-15s|%-15s|%-15s|%-15s\n"</span><span class="token punctuation">,</span>
		<span class="token string">"编号"</span><span class="token punctuation">,</span> <span class="token string">"日程安排"</span><span class="token punctuation">,</span> <span class="token string">"费用"</span><span class="token punctuation">,</span> <span class="token string">"点赞数"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%-16d%-16s%-16.1f%-7d%\n"</span><span class="token punctuation">,</span>T<span class="token operator">-&gt;</span>id<span class="token punctuation">,</span>T<span class="token operator">-&gt;</span>plan<span class="token punctuation">,</span>T<span class="token operator">-&gt;</span>cost<span class="token punctuation">,</span>T<span class="token operator">-&gt;</span>agree<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">search_tour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> i<span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"1.按编号大小升序排序显示所有的记录\n2.按点赞数降序排序显示所有的记录\n3.输入编号查询记录\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请选择查询的方式：\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&gt;=</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>i<span class="token operator">&lt;</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">else</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"输入的数字错误，请重新输入：\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">switch</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span><span class="token function">display_tourid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span><span class="token function">display_touragree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span><span class="token function">search_tourid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">display_tourid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	tour T<span class="token punctuation">;</span>
	T<span class="token operator">=</span>head<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	tail<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span> 
	<span class="token keyword">if</span><span class="token punctuation">(</span>T<span class="token operator">==</span><span class="token constant">NULL</span><span class="token operator">||</span>T<span class="token operator">-&gt;</span>next<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"目前该系统尚未保存有旅游资讯记录，返回主菜单！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//退出</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>T<span class="token operator">!=</span>tail<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>T<span class="token operator">-&gt;</span>next<span class="token operator">!=</span>tail<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>T<span class="token operator">-&gt;</span>id<span class="token operator">&gt;</span>T<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>id<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				<span class="token keyword">int</span> temp<span class="token operator">=</span>T<span class="token operator">-&gt;</span>id<span class="token punctuation">;</span>
				T<span class="token operator">-&gt;</span>id<span class="token operator">=</span>T<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>id<span class="token punctuation">;</span>
				T<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>id<span class="token operator">=</span>temp<span class="token punctuation">;</span>
				<span class="token keyword">char</span> tempplan<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
				<span class="token function">strcpy</span><span class="token punctuation">(</span>tempplan<span class="token punctuation">,</span> T<span class="token operator">-&gt;</span>plan<span class="token punctuation">)</span><span class="token punctuation">;</span>  
				<span class="token function">strcpy</span><span class="token punctuation">(</span>T<span class="token operator">-&gt;</span>plan<span class="token punctuation">,</span>T<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>plan<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">strcpy</span><span class="token punctuation">(</span>T<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>plan<span class="token punctuation">,</span>tempplan<span class="token punctuation">)</span><span class="token punctuation">;</span> 
				<span class="token keyword">float</span> tempcost<span class="token operator">=</span>T<span class="token operator">-&gt;</span>cost<span class="token punctuation">;</span>
				T<span class="token operator">-&gt;</span>cost<span class="token operator">=</span>T<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>cost<span class="token punctuation">;</span>
				T<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>cost<span class="token operator">=</span>tempcost<span class="token punctuation">;</span>
				<span class="token keyword">int</span> tempagree<span class="token operator">=</span>T<span class="token operator">-&gt;</span>agree<span class="token punctuation">;</span>
				T<span class="token operator">-&gt;</span>agree<span class="token operator">=</span>T<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>agree<span class="token punctuation">;</span>
				T<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>agree<span class="token operator">=</span>tempagree<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			T<span class="token operator">=</span>T<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		tail<span class="token operator">=</span>T<span class="token punctuation">;</span>
		T<span class="token operator">=</span>head<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//将信息输出到显示器中</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">display_touragree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	tour T<span class="token punctuation">;</span>
	T<span class="token operator">=</span>head<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	tail<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span> 
	<span class="token keyword">if</span><span class="token punctuation">(</span>T<span class="token operator">==</span><span class="token constant">NULL</span><span class="token operator">||</span>T<span class="token operator">-&gt;</span>next<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"目前该系统尚未保存有旅游资讯记录，返回主菜单！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>T<span class="token operator">!=</span>tail<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>T<span class="token operator">-&gt;</span>next<span class="token operator">!=</span>tail<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>T<span class="token operator">-&gt;</span>agree<span class="token operator">&gt;</span>T<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>agree<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				<span class="token keyword">int</span> temp<span class="token operator">=</span>T<span class="token operator">-&gt;</span>id<span class="token punctuation">;</span>
				T<span class="token operator">-&gt;</span>id<span class="token operator">=</span>T<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>id<span class="token punctuation">;</span>
				T<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>id<span class="token operator">=</span>temp<span class="token punctuation">;</span>
				<span class="token keyword">char</span> tempplan<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
				<span class="token function">strcpy</span><span class="token punctuation">(</span>tempplan<span class="token punctuation">,</span> T<span class="token operator">-&gt;</span>plan<span class="token punctuation">)</span><span class="token punctuation">;</span>  
				<span class="token function">strcpy</span><span class="token punctuation">(</span>T<span class="token operator">-&gt;</span>plan<span class="token punctuation">,</span>T<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>plan<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">strcpy</span><span class="token punctuation">(</span>T<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>plan<span class="token punctuation">,</span>tempplan<span class="token punctuation">)</span><span class="token punctuation">;</span> 
				<span class="token keyword">float</span> tempcost<span class="token operator">=</span>T<span class="token operator">-&gt;</span>cost<span class="token punctuation">;</span>
				T<span class="token operator">-&gt;</span>cost<span class="token operator">=</span>T<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>cost<span class="token punctuation">;</span>
				T<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>cost<span class="token operator">=</span>tempcost<span class="token punctuation">;</span>
				<span class="token keyword">int</span> tempagree<span class="token operator">=</span>T<span class="token operator">-&gt;</span>agree<span class="token punctuation">;</span>
				T<span class="token operator">-&gt;</span>agree<span class="token operator">=</span>T<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>agree<span class="token punctuation">;</span>
				T<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>agree<span class="token operator">=</span>tempagree<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			T<span class="token operator">=</span>T<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		tail<span class="token operator">=</span>T<span class="token punctuation">;</span>
		T<span class="token operator">=</span>head<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//将信息输出到显示器中</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">search_tourid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	tour T<span class="token punctuation">;</span>
	T<span class="token operator">=</span>head<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入要查找的编号："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> searchid<span class="token punctuation">;</span>
	<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>searchid<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%-15s|%-15s|%-15s|%-15s\n"</span><span class="token punctuation">,</span>
		<span class="token string">"编号"</span><span class="token punctuation">,</span> <span class="token string">"日程安排"</span><span class="token punctuation">,</span> <span class="token string">"费用"</span><span class="token punctuation">,</span> <span class="token string">"点赞数"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>T<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>T<span class="token operator">-&gt;</span>id <span class="token operator">==</span>searchid<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%-16d%-16s%-16.1f%-7d%\n"</span><span class="token punctuation">,</span>T<span class="token operator">-&gt;</span>id<span class="token punctuation">,</span>T<span class="token operator">-&gt;</span>plan<span class="token punctuation">,</span>T<span class="token operator">-&gt;</span>cost<span class="token punctuation">,</span>T<span class="token operator">-&gt;</span>agree<span class="token punctuation">)</span><span class="token punctuation">;</span>
			T<span class="token operator">=</span>T<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
			j<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		T<span class="token operator">=</span>T<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"该系统无该编号的旅游信息\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	tour T<span class="token operator">=</span>head<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> head<span class="token operator">-&gt;</span>next<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"无旅游信息\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%-15s|%-15s|%-15s|%-15s\n"</span><span class="token punctuation">,</span>
		<span class="token string">"编号"</span><span class="token punctuation">,</span> <span class="token string">"日程安排"</span><span class="token punctuation">,</span> <span class="token string">"费用"</span><span class="token punctuation">,</span> <span class="token string">"点赞数"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span>T<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>T<span class="token operator">=</span>T<span class="token operator">-&gt;</span>next<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%-16d%-16s%-16.1f%-7d%\n"</span><span class="token punctuation">,</span>T<span class="token operator">-&gt;</span>id<span class="token punctuation">,</span>T<span class="token operator">-&gt;</span>plan<span class="token punctuation">,</span>T<span class="token operator">-&gt;</span>cost<span class="token punctuation">,</span>T<span class="token operator">-&gt;</span>agree<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">change_tour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	tour T<span class="token punctuation">;</span>
	T<span class="token operator">=</span>head<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token keyword">int</span> changeid<span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入待修改的编号："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>changeid<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span>T<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>T<span class="token operator">=</span>T<span class="token operator">-&gt;</span>next<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>T<span class="token operator">-&gt;</span>id<span class="token operator">==</span>changeid<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			j<span class="token operator">++</span><span class="token punctuation">;</span>
			<span class="token keyword">char</span> arr<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入要修改的项目：编号、日程安排、费用\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span><span class="token string">"编号"</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入修改后的值："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">int</span> changeid<span class="token punctuation">;</span>
				<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>changeid<span class="token punctuation">)</span><span class="token punctuation">;</span>
				T<span class="token operator">-&gt;</span>id<span class="token operator">=</span>changeid<span class="token punctuation">;</span>  
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span><span class="token string">"日程安排"</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入修改后的值："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">char</span> str<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
				<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">strcpy</span><span class="token punctuation">(</span>T<span class="token operator">-&gt;</span>plan<span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span> 
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span><span class="token string">"费用"</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入修改后的值："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">float</span> changecost<span class="token punctuation">;</span>
				<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%f"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>changecost<span class="token punctuation">)</span><span class="token punctuation">;</span>
				T<span class="token operator">-&gt;</span>cost<span class="token operator">=</span>changecost<span class="token punctuation">;</span> <span class="token comment">//赋值</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"系统无该编号的信息\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">delect_tour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	tour T<span class="token punctuation">,</span>temp<span class="token punctuation">;</span>
	T<span class="token operator">=</span>head<span class="token punctuation">;</span>
	<span class="token keyword">int</span> delectid<span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入待删除的编号："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>delectid<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>T<span class="token operator">-&gt;</span>next<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>T<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>id<span class="token operator">==</span>delectid<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			j<span class="token operator">++</span><span class="token punctuation">;</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"是否要删除（Y/N),请选择：\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">char</span> ch<span class="token punctuation">;</span>
			<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>ch<span class="token operator">==</span><span class="token char">'y'</span><span class="token operator">||</span>ch<span class="token operator">==</span><span class="token char">'Y'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			  temp<span class="token operator">=</span>T<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
              T<span class="token operator">-&gt;</span>next <span class="token operator">=</span> T<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
			  <span class="token function">free</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
			  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"数据删除成功！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			  <span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"不进行删除操作！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		T<span class="token operator">=</span>T<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"系统无该编号的信息\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">agree_tour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	tour T<span class="token punctuation">;</span>
	T<span class="token operator">=</span>head<span class="token punctuation">;</span>
	<span class="token keyword">int</span> agreeid<span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入待点赞的编号："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>agreeid<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span>T<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>T<span class="token operator">=</span>T<span class="token operator">-&gt;</span>next<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>T<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>id<span class="token operator">==</span>agreeid<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			j<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"是否要删除（Y/N),请选择：\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">char</span> ch<span class="token punctuation">;</span>
			<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>ch<span class="token operator">==</span><span class="token char">'y'</span><span class="token operator">||</span>ch<span class="token operator">==</span><span class="token char">'Y'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			  T<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>agree<span class="token operator">=</span>T<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>agree<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//点赞数+1</span>
			  <span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"不进行点赞操作！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	     <span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"系统无该编号的信息\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	     <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
</div>


