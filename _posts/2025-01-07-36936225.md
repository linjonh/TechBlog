---
layout: post
title: "为什么windows不是实时操作系统"
date: 2025-01-07 17:26:29 +0800
description: "文章浏览阅读7.7k次，点赞2次，实时操作系统要求用户任务可以得到及时响应，多用于嵌入式设备，而wi"
keywords: "window是实时性操作吗"
categories: ['']
tags: []
artid: "36936225"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=36936225
    alt: "为什么windows不是实时操作系统"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     为什么windows不是实时操作系统
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <div class="content-head clearfix" style="zoom:1; color:rgb(69,69,69); font-family:tahoma,helvetica,arial">
     <h3 class="title content-title" style="margin:0px 0px 10px; padding:0px; font-size:20px; font-family:tahoma,helvetica,'microsoft yahei',arial; color:rgb(58,58,58); font-weight:normal; float:left">
      <br/>
     </h3>
    </div>
    <div class="content mod-cs-content text-content clearfix" id="content" style="zoom:1; width:758px; overflow:hidden; line-height:1.5; margin:7px 0px 10px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial">
     <p style="font-size:14px; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
     </p>
     <a href="http://hiphotos.baidu.com/trueailei/pic/item/52bfac2666fb3c0a8a82a15f.jpg" rel="nofollow noopener noreferrer" style="font-size:14px; color:rgb(10,0,0)" target="_blank">
      <img alt="" src="http://hiphotos.baidu.com/trueailei/abpic/item/52bfac2666fb3c0a8a82a15f.jpg" style="border:0px; margin-bottom:8px; clear:both; max-width:758px; vertical-align:top"/>
     </a>
     <p style="font-size:14px; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      <br/>
      实时操作系统要求用户任务可以得到及时响应，多用于嵌入式设备，而windows和linux属于通用型操作系统，更注重数据吞吐量而不是系统响应时间，这是通常的说法。
     </p>
     <p style="font-size:14px; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      从操作系统的管理机制来看，windows具备多级中断体系和线程优先级。获得windows最高优先响应的是级别最高的中断，中断是一种可以打乱正常执行流程的机制，在IA32体系中，它来源于设备对CPU的请求，一般也称为IO中断。这是因为设备的IO体系处理速度要远远低于几千MIPS的CPU处理速度，CPU若不想白费力气的轮询，只能让设备完成IO任务之后中断自己以便继续处理。举个生活中的例子，中断机制就像打电话通知，比如你维修一个电器，根据损坏程序，也许是1天也许是一周可以修好，你通常不会每天去一遍维修店（轮询）而是等待维修店给你的电话（中断）。
     </p>
     <p style="font-size:14px; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      windows用IRQL来标示中断优先级，0号中断跟电源相关，级别最高；最低的三级分别是DPC/Dispatch，APC和Passive级别。IA32体系中，优先级最高的中断可以中断优先级低的中断，这叫做中断屏蔽：这也很容易理解：我们生活中总是优先处理更重要的电话。当然，中断屏蔽之前会保存现场，比如你可以在挂掉低级中断的电话前跟对方抱歉，说一会儿再打过去。
     </p>
     <p style="font-size:14px; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      中断屏蔽是这样实现的：CPU在接到一个中断请求(IRQ)之后，会提升当前中断请求级别，此时和当前级别相同甚至更低的中断请求就被屏蔽了，所有的时间片都用于当前中断的处理（除了时钟，因为时钟中断级别够高），只有当处理完当前中断后，CPU才会降查看是否有低级中断出现，如果有，就将当前IRQ降低到该中断请求级别并进行处理。所以CPU是否能够及时响应取决于该中断的优先级。那么用户线程（任务）在windows中断级别中排在那个位置呢？——排在最低：Passive级别。这样，用户任务的实时性就无法保证。所以windows不是实时操作系统。
     </p>
     <p style="font-size:14px; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      passive以及比它高的俩级别都是软件中断，平时用户任务在线程调度程序（位于dispatch级别）的安排下按照时间片进行分时处理，用户任务（线程）虽然也有优先级，但是因为它们出于passive这一级别的IRQL上，所以总会被其他发生的中断所打断。举例来说，老师是线程调度程序，学生们是用户线程，老师调度每个学生在固定时间（时间片固定）内发言，但根据学生（线程）优先级的不同，老师可以决定学生的发言频率（线程调度策略），但是如果发生意外事件，比如校长跑到教室有事情要讲（软中断），或者停电（最高级别的硬件中断），那么正常的课堂秩序被打乱，除非中断响应程序执行完毕，才会恢复。这种情况下，假如学生（用户线程）即使出现什么实时性要求高的事件，也得不到CPU的响应。
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
     </p>
     <p style="margin:0px 0px 10px; padding:0px; font-family:tahoma,helvetica,'microsoft yahei',arial; color:rgb(58,58,58); font-weight:normal">
      <a href="http://hi.baidu.com/trueailei/item/9e21b3cd22b5f83f44941603" rel="nofollow noopener noreferrer" target="_blank">
       <span style="font-size:12px">
        转载自：http://hi.baidu.com/trueailei/item/9e21b3cd22b5f83f44941603
       </span>
      </a>
     </p>
     <br/>
    </div>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f71715f3137323539383239:2f61727469636c652f64657461696c732f3336393336323235" class_="artid" style="display:none">
 </p>
</div>


