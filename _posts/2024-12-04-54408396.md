---
layout: post
title: "微信小程序实现页面内的跳转scroll-view"
date: 2024-12-04 19:57:16 +0800
description: "微信小程序实现页面内的跳转——scroll-view需求：在页面内我们常常会写这样一个效果，一个a标"
keywords: "小程序同一个页面内切换切换view"
categories: ['微信小程序']
tags: ['无标签']
artid: "54408396"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=54408396
    alt: "微信小程序实现页面内的跳转scroll-view"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     微信小程序实现页面内的跳转——scroll-view
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     <span style="font-family:宋体">
      微信小程序实现页面内的跳转
     </span>
     ——
     <span style="font-family:Calibri">
      scroll-view
     </span>
    </p>
    <p>
     <span style="font-family:宋体">
      需求：在页面内我们常常会写这样一个效果，一个
     </span>
     a
     <span style="font-family:宋体">
      标签
     </span>
     <span style="font-family:Calibri">
      href=
     </span>
     ”#id”
     <span style="font-family:宋体">
      点击会跳转到本页面的某个模块。微信小程序里我们要实现这个效果需要用到
     </span>
     scroll-view
     <span style="font-family:宋体">
      组件
     </span>
    </p>
    <p>
     官方组件介绍：
     <a href="https://mp.weixin.qq.com/debug/wxadoc/dev/component/scroll-view.html?t=2017112" rel="nofollow noopener noreferrer" target="_blank">
      <u>
       <span style="color:rgb(0,0,255)">
        https://mp.weixin.qq.com/debug/wxadoc/dev/component/scroll-view.html?t=2017112
       </span>
      </u>
     </a>
    </p>
    <p>
     问题：我第一次尝试这个组件的时候应用到自己的项目里发现完全没有反应
    </p>
    <p>
    </p>
    <p>
     然后我开始检查我的代码：
    </p>
    <p>
     <img alt="" border="1" src="https://img-blog.csdn.net/20170113143943303">
      <br/>
     </img>
    </p>
    <p>
     <span style="background-color:rgb(255,255,102)">
      Scroll-y=”true”
      <span style="font-family:宋体">
       设置
      </span>
      --ok
     </span>
    </p>
    <p>
    </p>
    <p>
     <img alt="" border="1" src="https://img-blog.csdn.net/20170113144013546">
      <br/>
     </img>
    </p>
    <p>
     <span style="background-color:rgb(255,255,51)">
      <span style="font-family:宋体">
       目标元素
      </span>
      Id
      <span style="font-family:宋体">
       设置
      </span>
      <span style="font-family:Calibri">
       --ok
      </span>
     </span>
    </p>
    <p>
     <span style="background-color:rgb(255,255,51)">
      Scroll-into-view
      <span style="font-family:宋体">
       点击跳转时设置为
      </span>
      <span style="font-family:Calibri">
       id--ok
      </span>
     </span>
    </p>
    <p>
    </p>
    <p>
     <img alt="" border="1" src="https://img-blog.csdn.net/20170113144029709">
      <br/>
     </img>
    </p>
    <p>
     <span style="background-color:rgb(255,255,51)">
      <span style="font-family:宋体">
       将
      </span>
      scroll-view
      <span style="font-family:宋体">
       组件包裹在整个页面外面并且设置高度为整个页面的高度
      </span>
      <span style="font-family:Calibri">
       --ok
      </span>
     </span>
    </p>
    <p>
     表面看完全遵从官方文档，但在我把官方给出的例子看了之后对这个组件有了更清楚的认识，我意识到他其实给我之前写的图片轮播用了一样的思路，在固定大小的视觉窗口里有一个超出这个窗口大小的页面，通过滚动这个大页面的位置让它的不同部位显示在窗口的可视部分这就给我们造成了页面或图片其实是在滚动的感觉。
    </p>
    <p>
     Scroll-view
     <span style="font-family:宋体">
      的官方介绍里说需要给
     </span>
     <span style="font-family:Calibri">
      scroll-view
     </span>
     <span style="font-family:宋体">
      组件一个固定高度就是这个意思，所以我其实不应该设置
     </span>
     <span style="font-family:Calibri">
      scroll-view
     </span>
     <span style="font-family:宋体">
      的固定高度为整个页面的高度，只需要设置为整个屏幕的可视区域高度就可以了。
     </span>
    </p>
    <p>
     <span style="font-family:宋体">
      <img alt="" src="https://img-blog.csdn.net/20170113144051928">
       <br/>
      </img>
     </span>
    </p>
    <p>
    </p>
    <p>
     <span style="font-family:宋体">
      就像上面这张图展示的，
     </span>
     scroll-view
     <span style="font-family:宋体">
      组件的高度要设置为移动设备屏幕可视区域高度。
     </span>
    </p>
    <p>
     <span style="font-family:宋体">
      而得到设备高度就又需要微信小程序提供的
     </span>
     API
     <span style="font-family:宋体">
      ：
     </span>
     <span style="font-family:Calibri">
      wx.getSystemInfo
     </span>
    </p>
    <p>
    </p>
    <p>
     https://mp.weixin.qq.com/debug/wxadoc/dev/api/systeminfo.html#wxgetsysteminfoobject
     <br/>
    </p>
    <p>
     <img alt="" border="1" src="https://img-blog.csdn.net/20170113144142710">
      <br/>
     </img>
    </p>
    <p>
     <strong>
      Js
      <span style="font-family:宋体">
       页
      </span>
     </strong>
    </p>
    <p>
     Page({
     <!-- -->
    </p>
    <p>
     onLoad:function(){
     <!-- -->
    </p>
    <p>
     var that=this
    </p>
    <p>
     <strong>
      <span style="color:rgb(255,0,0)">
       wx.getSystemInfo({
       <!-- -->
      </span>
     </strong>
    </p>
    <p>
     <strong>
      <span style="color:rgb(255,0,0)">
       success: function(res) {
       <!-- -->
      </span>
     </strong>
    </p>
    <p>
     <strong>
      <span style="color:rgb(255,0,0)">
       that.setData({
       <!-- -->
      </span>
     </strong>
    </p>
    <p>
     <strong>
      <span style="color:rgb(255,0,0)">
       systemInfo:res
      </span>
     </strong>
    </p>
    <p>
     <strong>
      <span style="color:rgb(255,0,0)">
       })
      </span>
     </strong>
    </p>
    <p>
     <strong>
      <span style="color:rgb(255,0,0)">
       that.update()
      </span>
     </strong>
    </p>
    <p>
     <strong>
      <span style="color:rgb(255,0,0)">
       }
      </span>
     </strong>
    </p>
    <p>
     <strong>
      <span style="color:rgb(255,0,0)">
       })
      </span>
     </strong>
    </p>
    <p>
     },
    </p>
    <p>
     data:{
     <!-- -->
    </p>
    <p>
     viewID:'main',
    </p>
    <p>
     <strong>
      <span style="color:rgb(255,0,0)">
       systemInfo:{}
      </span>
     </strong>
    </p>
    <p>
     },
    </p>
    <p>
     toBuyCar:function(){
     <!-- -->
    </p>
    <p>
     var id='buyCar'
    </p>
    <p>
     this.setData({
     <!-- -->
    </p>
    <p>
     viewID:id
    </p>
    <p>
     })
    </p>
    <p>
     }
    </p>
    <p>
     })
    </p>
    <p>
     <strong>
      <span style="font-family:宋体">
       页面上
      </span>
      wxml
     </strong>
    </p>
    <p>
     &lt;scroll-view
     <strong>
      <span style="color:rgb(255,0,0)">
       style="height:{
       <!-- -->
       {systemInfo.windowHeight}}px;"
      </span>
     </strong>
     scroll-into-view="{
     <!-- -->
     {viewID}}" scroll-y="true"&gt;
    </p>
    <p>
    </p>
    <p>
     成功！
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6c696f6e615f6b6f756b6f75:2f61727469636c652f64657461696c732f3534343038333936" class_="artid" style="display:none">
 </p>
</div>


