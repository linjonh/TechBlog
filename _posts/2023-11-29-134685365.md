---
layout: post
title: "2023年全国职业院校技能大赛高职组区块链技术应用赛项赛卷6卷解析"
date: 2023-11-29 15:42:38 +0800
description: "题目中给了具体的P2P起始端口、channel起始端口、JSONRPC地具体要求。先下载脚本（因为是"
keywords: "区块链技能竞赛"
categories: ['未分类']
tags: ['区块链', 'Linux']
artid: "134685365"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=134685365
  alt: "2023年全国职业院校技能大赛高职组区块链技术应用赛项赛卷6卷解析"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     2023年全国职业院校技能大赛高职组“区块链技术应用”赛项赛卷（6卷）解析
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     <img alt="" height="597" src="https://i-blog.csdnimg.cn/blog_migrate/9c8b29a1813ec4e0c3d717f84bb3f49d.png" width="821"/>
    </p>
    <p>
     <img alt="" height="388" src="https://i-blog.csdnimg.cn/blog_migrate/bc944bf525c428e321df38a7cfeb34f4.png" width="786"/>
    </p>
    <p>
     <img alt="" height="235" src="https://i-blog.csdnimg.cn/blog_migrate/eb9eb7198a89808b7fd49af94cece6a1.png" width="808"/>
    </p>
    <p>
     <img alt="" height="640" src="https://i-blog.csdnimg.cn/blog_migrate/0d94bca352651b8bd240344b20809070.png" width="767"/>
    </p>
    <p>
     <img alt="" height="649" src="https://i-blog.csdnimg.cn/blog_migrate/6d92ae2895520a0a2359fd17d630ecd9.png" width="838"/>
    </p>
    <p>
     <img alt="" height="457" src="https://i-blog.csdnimg.cn/blog_migrate/01fb0648a30334e2d0dbe59358116901.png" width="912">
      配置节点搭建区块链
     </img>
    </p>
    <p>
     这边我们基于网络下配置
    </p>
    <p>
     先下载脚本（因为是默认docker搭建在做题的时候要注意安装docker）
    </p>
    <pre><code class="language-bash">curl -#LO https://osp-1257653870.cos.ap-guangzhou.myqcloud.com/FISCO-BCOS/FISCO-BCOS/releases/v2.9.1/build_chain.sh &amp;&amp; chmod u+x build_chain.sh</code></pre>
    <p>
     <img alt="" height="138" src="https://i-blog.csdnimg.cn/blog_migrate/a5649efee3561520b3ea196d056354eb.png" width="836">
     </img>
    </p>
    <p>
     题目中给了具体的P2P起始端口、channel起始端口、JSONRPC地具体要求
    </p>
    <pre><code class="language-bash">bash build_chain.sh -d -l 127.0.0.1:4 -p 30500,20500,8945</code></pre>
    <p>
     <img alt="" height="534" src="https://i-blog.csdnimg.cn/blog_migrate/e1bf4cdf889c3aa7c8631017644fb3c6.png" width="845"/>
    </p>
    <p>
     这边用默认docker打开各个节点的时候会出现以下条码
    </p>
    <p>
     <img alt="" height="375" src="https://i-blog.csdnimg.cn/blog_migrate/959fead4712fb1ca8f23dfaf217cefab.png" width="804"/>
    </p>
    <p>
     我们用的是默认fiscoorg/fiscobcos：v2.9.1镜像所以在docker容器库会找到相应的镜像自动下载
    </p>
    <p>
     <img alt="" height="613" src="https://i-blog.csdnimg.cn/blog_migrate/d3eb582ade992358435540143e2392b0.png" width="815"/>
    </p>
    <p>
     这样就是节点成功打开了
    </p>
    <p>
     用docker命令查看区块链系统状态
    </p>
    <pre><code class="language-bash">docker ps -a | egrep fiscobcos</code></pre>
    <p>
     <img alt="" height="246" src="https://i-blog.csdnimg.cn/blog_migrate/f38026e8350dfacfd4c870d70f3db292.png" width="821"/>
     查看连接中node0的链接状态
    </p>
    <pre><code class="language-bash">tail -f nodes/127.0.0.1/node0/log/log*  | grep connected</code></pre>
    <p>
     <img alt="" height="139" src="https://i-blog.csdnimg.cn/blog_migrate/ca2ad9898b729866ac927b7aefc7beb1.png" width="818"/>
    </p>
    <p>
     <img alt="" height="291" src="https://i-blog.csdnimg.cn/blog_migrate/01ca106516833a8c0c478b0adba2ab51.png" width="716"/>
    </p>
    <p>
     因为我们是联网状态下需要获取控制台（下载）
    </p>
    <pre><code class="language-bash">curl -#LO https://gitee.com/FISCO-BCOS/console/raw/master-2.0/tools/download_console.sh &amp;&amp; bash download_console.sh</code></pre>
    <p>
     <img alt="" height="288" src="https://i-blog.csdnimg.cn/blog_migrate/742f6418d9cdc9dcd09be0594ab2355a.png" width="811"/>
     进入我们需要拷贝控制台配置文件
    </p>
    <pre><code class="language-bash">cp -n console/conf/config-example.toml console/conf/config.toml</code></pre>
    <p>
     <img alt="" height="85" src="https://i-blog.csdnimg.cn/blog_migrate/e469200616aefd74fa3033acbc79e63e.png" width="821"/>
    </p>
    <p>
     拷贝控制台证书
    </p>
    <pre><code class="language-bash">cp -r nodes/127.0.0.1/sdk/* console/conf/</code></pre>
    <p>
     启动控制台
    </p>
    <pre><code class="language-bash">bash ~/tools/console/start.sh</code></pre>
    <p>
     可能会出现的报错
    </p>
    <p>
     <img alt="" height="488" src="https://i-blog.csdnimg.cn/blog_migrate/c14c58e7799020db860d7e0a91125c60.png" width="809"/>
    </p>
    <p>
     是因为我们没有修改我们控制台里的peers端口号(两个文件修改的地方是一样的)
    </p>
    <pre><code class="language-bash">cd ~/toosl/
vim console/conf/config-example.toml
vim console/conf/config.toml</code></pre>
    <p>
     <img alt="" height="138" src="https://i-blog.csdnimg.cn/blog_migrate/4dec3272e3348d8b5ff14d7f1267f856.png" width="1076"/>
    </p>
    <p>
     修改完成后我们打开控制台
    </p>
    <pre><code class="language-bash">cd console &amp;&amp; ./start.sh</code></pre>
    <p>
     <img alt="" height="433" src="https://i-blog.csdnimg.cn/blog_migrate/bbdbce3ffdd37002634cf718d2888c96.png" width="1018"/>
    </p>
    <pre><code class="language-bash">getBlockNumber //查看区块链中区块高度
getBlockHeaderByNumber 0 查看创世区块的信息
getConsensusStatus //查看区块共识状态</code></pre>
    <p>
     <img alt="" height="183" src="https://i-blog.csdnimg.cn/blog_migrate/497ee007bf2e6ddf6e37a7175db68258.png" width="640"/>
    </p>
    <p>
     <img alt="" height="796" src="https://i-blog.csdnimg.cn/blog_migrate/21f709e1f27a55aa5e8184ea4382489b.png" width="1200"/>
    </p>
    <p>
     <img alt="" height="856" src="https://i-blog.csdnimg.cn/blog_migrate/16460814873624adf0c5ba1d7f09ff86.png" width="1200"/>
    </p>
    <p>
    </p>
    <p>
     <img alt="" height="346" src="https://i-blog.csdnimg.cn/blog_migrate/4b35db258ec4c6a2987cca64fcee6f88.png" width="731"/>
    </p>
    <p>
     我们先创建3个用户
    </p>
    <pre><code class="language-bash">curl -#LO https://osp-1257653870.cos.ap-guangzhou.myqcloud.com/FISCO-BCOS/FISCO-BCOS/tools/get_account.sh &amp;&amp; chmod u+x get_account.sh &amp;&amp; bash get_account.sh -h //获取get_account.sh的脚本
./get_account.sh</code></pre>
    <p>
     <img alt="" height="293" src="https://i-blog.csdnimg.cn/blog_migrate/52d1e854eed287f7363b0727901b948a.png" width="1200"/>
    </p>
    <p>
     <img alt="" height="324" src="https://i-blog.csdnimg.cn/blog_migrate/3de7555b4a2197a3a41f45cadb12ddbc.png" width="951"/>
    </p>
    <p>
     生成三个账户
    </p>
    <p>
     <img alt="" height="145" src="https://i-blog.csdnimg.cn/blog_migrate/55ff519c4ecccc1fca33c8775d582974.png" width="481"/>
    </p>
    <p>
     我们用控制台命令
    </p>
    <pre><code class="language-bash">grantCommitteeMember [账户] //添加某个账户进入委员会（ps加入过程中可能会有委员会同意加入的问题，因为一开始设定的权重是一样的，也可以先修改Account1的权重）
updateCommitteeMemberWeight [账户] [权重数] //更改某个账户的权重
listCommitteeMembers //查看委员会里的成员</code></pre>
    <p>
     <img alt="" height="167" src="https://i-blog.csdnimg.cn/blog_migrate/aa8db538df3d33380a9adfe2cced5d4c.png" width="885"/>
    </p>
    <p>
     <img alt="" height="196" src="https://i-blog.csdnimg.cn/blog_migrate/1223eb4e09cfeee4d6cae0223e3d8355.png" width="914"/>
     <img alt="" height="182" src="https://i-blog.csdnimg.cn/blog_migrate/afb923e29c6fb1b852ca3e4054766e35.png" width="873"/>
    </p>
    <p>
     修改Account的权重
     <img alt="" height="178" src="https://i-blog.csdnimg.cn/blog_migrate/6cdc46ec994b3d7e341665e489754605.png" width="883"/>
    </p>
    <p>
     我们要把Account2在委员会中剔除同意的投票数要大于50%所以我们要进行两场投票分别是用Account1进入控制台投票Account3进入控制台投票
    </p>
    <pre><code class="language-bash">revokeCommitteeMember [账户]</code></pre>
    <p>
     投票一次后我们不难发现投票成功但是还没有将Account2在委员会中移除
     <img alt="" height="183" src="https://i-blog.csdnimg.cn/blog_migrate/ebc8cb8df2cdab45b18302a91d12c55c.png" width="888"/>
    </p>
    <p>
     换账号登录控制台后我们投完票成功移除Account2
    </p>
    <p>
     <img alt="" height="177" src="https://i-blog.csdnimg.cn/blog_migrate/028fe091fd9f45e7cd3175df7ba35df2.png" width="923"/>
     <img alt="" height="171" src="https://i-blog.csdnimg.cn/blog_migrate/fac80d8b9fefd8144926ae1111d1783f.png" width="963"/>
    </p>
    <pre><code class="language-bash">./start.sh [group] -pem [account] //用某个群组中的某个账户登录控制台</code></pre>
    <p>
     <img alt="" height="354" src="https://i-blog.csdnimg.cn/blog_migrate/e379ed0255c1db6c9ebee7811345fa4d.png" width="861"/>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f323330315f37363733373030302f:61727469636c652f64657461696c732f313334363835333635" class_="artid" style="display:none">
 </p>
</div>
