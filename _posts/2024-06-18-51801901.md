---
layout: post
title: "手把手教你做视频直播音视频直播的实现"
date: 2024-06-18 09:34:34 +0800
description: "手把手教你做视频直播：音视频直播的实现博客分类： 水煮RIAFlex应用服务器ActionScrip"
keywords: "netstream如何添加直播源"
categories: ['未分类']
tags: ['无标签']
artid: "51801901"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=51801901
  alt: "手把手教你做视频直播音视频直播的实现"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     手把手教你做视频直播：音视频直播的实现
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <div class="blog_title" style="margin-bottom:15px; font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:18px">
     <h4 style="font-size:16px; line-height:1.5em; margin:0px 0px 0.5em; padding:10px 0px 0px">
      <a href="http://mhqawjh.iteye.com/blog/726913" rel="nofollow noopener noreferrer" style="color:rgb(16,138,198)" target="_blank">
       手把手教你做视频直播：音视频直播的实现
      </a>
      <span class="actions" style="font-style:italic">
      </span>
     </h4>
     <ul class="blog_categories" style="margin:0px; padding:0px; list-style-type:none">
      <li>
       <strong>
        博客分类：
       </strong>
      </li>
      <li style="margin:0px 5px 0px 0px; padding:0px; list-style-type:none; display:inline">
       <a href="http://mhqawjh.iteye.com/category/22027" rel="nofollow noopener noreferrer" style="color:rgb(16,138,198)" target="_blank">
        水煮RIA
       </a>
      </li>
     </ul>
     <div class="news_tag" style="clear:both; margin:10px 0px 5px; line-height:20px">
      <a href="http://www.iteye.com/blogs/tag/Flex" rel="noopener noreferrer" style="color:rgb(255,255,255); text-decoration:none; display:inline-block; margin:0px 5px 5px 0px; padding:0px 10px; background-color:rgb(170,181,195)" target="_blank">
       Flex
      </a>
      <a href="http://www.iteye.com/blogs/tag/%E5%BA%94%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%99%A8" rel="noopener noreferrer" style="color:rgb(255,255,255); text-decoration:none; display:inline-block; margin:0px 5px 5px 0px; padding:0px 10px; background-color:rgb(170,181,195)" target="_blank">
       应用服务器
      </a>
      <a href="http://www.iteye.com/blogs/tag/ActionScript" rel="noopener noreferrer" style="color:rgb(255,255,255); text-decoration:none; display:inline-block; margin:0px 5px 5px 0px; padding:0px 10px; background-color:rgb(170,181,195)" target="_blank">
       ActionScript
      </a>
      <a href="http://www.iteye.com/blogs/tag/%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8" rel="noopener noreferrer" style="color:rgb(255,255,255); text-decoration:none; display:inline-block; margin:0px 5px 5px 0px; padding:0px 10px; background-color:rgb(170,181,195)" target="_blank">
       网络应用
      </a>
      <a href="http://www.iteye.com/blogs/tag/%E4%BA%92%E8%81%94%E7%BD%91" rel="noopener noreferrer" style="color:rgb(255,255,255); text-decoration:none; display:inline-block; margin:0px 5px 5px 0px; padding:0px 10px; background-color:rgb(170,181,195)" target="_blank">
       互联网
      </a>
     </div>
    </div>
    <div class="blog_content" id="blog_content" style="font-size:14px; line-height:1.8em; font-family:Helvetica,Tahoma,Arial,sans-serif">
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      开发环境及工具准备：
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      Adobe Flex Builder 3
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      FlashMeidaServer 2 及以上（简称：FMS 本人有一个FMS2破解版，需要的话联系我）
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      技能准备：
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      ActionScript 3 （简称：AS）
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      本功能的实现方式基于FMS为主，ActionScript为辅，双方交互的原则，示意图如下：
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      <img alt="" height="264" src="https://i-blog.csdnimg.cn/blog_migrate/8c0c78ebd502f6d3b0729b6b474a4653.jpeg" style="border:0px" width="523"/>
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      描述：教师端采集本地摄像头视频及MIC音频通过AS发布到FMS，学生端通过AS连接FMS服务器或者教师传输的音视频数据进行播放。至此为止，即可实现教师的音视频数据共享（即直播效果）。
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      具体实现（教师端）：
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      STEP1:在Flex Application 的creationComplete事件调用init方法
     </p>
     <div class="dp-highlighter" id="" style='font-family:Monaco,"DejaVu Sans Mono","Bitstream Vera Sans Mono",Consolas,"Courier New",monospace; font-size:12px; width:679px; overflow:auto; margin-left:9px; padding:1px; word-break:break-all; word-wrap:break-word; background-color:transparent'>
      <div class="bar">
       <div class="tools" style="padding:3px; margin:0px; font-weight:bold">
        Java代码
        <a style="color:rgb(16,138,198); text-decoration:underline" target="_blank" title="收藏这段代码">
         <img alt="收藏代码" class="star" src="https://i-blog.csdnimg.cn/blog_migrate/fac8a7481834b0481b87edfc079e03d1.png" style="border:0px"/>
        </a>
       </div>
      </div>
      <ol class="dp-j" start="1" style="font-size:1em; line-height:1.4em; margin:0px 0px 1px; padding:2px 0px; border:1px solid rgb(209,215,220); color:rgb(43,145,175)">
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          private
         </span>
         var conn:NetConnection =
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          new
         </span>
         NetConnection();
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //用来连接FMS
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          private
         </span>
         var stream:NetStream =
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          null
         </span>
         ;
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //盛放音视频数据
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //FMS连接串（例如：rtmp://192.168.1.101/fmsapp）
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //其中需要在FMS_HOME/applications/新建一个fmsapp的文件夹
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          private
         </span>
         var fms:String =
         <span class="string" style="color:blue">
          ""
         </span>
         ;
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          private
         </span>
         function init():
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          void
         </span>
         {
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //轨道通信，必须要设置
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         conn.objectEncoding = ObjectEncoding.AMF0 ;
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //共享对象轨道通信设置
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         SharedObject.defaultObjectEncoding = ObjectEncoding.AMF0;
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //连接FMS服务器
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         conn.connect(fms) ;
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //连接FMS结果事件处理器
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         conn.addEventListener(NetStatusEvent.NET_STATUS,connectFMS) ;
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         }
        </span>
       </li>
      </ol>
     </div>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      STEP2:连接FMS成功后，发布音视频数据到FMS服务端
     </p>
     <div class="dp-highlighter" id="" style='font-family:Monaco,"DejaVu Sans Mono","Bitstream Vera Sans Mono",Consolas,"Courier New",monospace; font-size:12px; width:679px; overflow:auto; margin-left:9px; padding:1px; word-break:break-all; word-wrap:break-word; background-color:transparent'>
      <div class="bar">
       <div class="tools" style="padding:3px; margin:0px; font-weight:bold">
        Java代码
        <a style="color:rgb(16,138,198); text-decoration:underline" target="_blank" title="收藏这段代码">
         <img alt="收藏代码" class="star" src="https://i-blog.csdnimg.cn/blog_migrate/fac8a7481834b0481b87edfc079e03d1.png" style="border:0px"/>
        </a>
       </div>
      </div>
      <ol class="dp-j" start="1" style="font-size:1em; line-height:1.4em; margin:0px 0px 1px; padding:2px 0px; border:1px solid rgb(209,215,220); color:rgb(43,145,175)">
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          private
         </span>
         function connectFMS(e:NetStatusEvent):
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          void
         </span>
         {
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         var result:String = e.info.code ;
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //连接FMS的返回代码
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          switch
         </span>
         (result) {
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          case
         </span>
         <span class="string" style="color:blue">
          "NetConnection.Connect.Success"
         </span>
         :
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //连接FMS成功
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         playStream();
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //开发传送音视频数据
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          break
         </span>
         ;
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          case
         </span>
         <span class="string" style="color:blue">
          "NetStream.Play.StreamNotFound"
         </span>
         :
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         Alert.show(
         <span class="string" style="color:blue">
          "视频流没有找到"
         </span>
         );
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          break
         </span>
         ;
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          default
         </span>
         :
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         Alert.show(
         <span class="string" style="color:blue">
          "连接服务器失败,检查网络环境"
         </span>
         );
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          break
         </span>
         ;
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         }
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         }
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          public
         </span>
         var cam1:Camera =
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          null
         </span>
         ;
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //摄像头对象
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          private
         </span>
         var mir:Microphone =
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          null
         </span>
         ;
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //麦克对象
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          private
         </span>
         function playStream():
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          void
         </span>
         {
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         stream =
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          new
         </span>
         NetStream(conn);
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //创建于FMS连接相关的音视频数据流对象
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         cam1 = Camera.getCamera(
         <span class="string" style="color:blue">
          "0"
         </span>
         );
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //获得默认摄像头
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         cam1.setMode(
         <span class="number" style="color:rgb(192,0,0)">
          320
         </span>
         ,
         <span class="number" style="color:rgb(192,0,0)">
          240
         </span>
         ,
         <span class="number" style="color:rgb(192,0,0)">
          15
         </span>
         );
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //经试验：320*240效果较佳而占用网络流量较小 15为keyFrame
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         cam1.setQuality(
         <span class="number" style="color:rgb(192,0,0)">
          100
         </span>
         *
         <span class="number" style="color:rgb(192,0,0)">
          1000
         </span>
         ,
         <span class="number" style="color:rgb(192,0,0)">
          90
         </span>
         );
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //100*1000为上传带宽 90为图像质量
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         mir = Microphone.getMicrophone();
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //获得麦克对象
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         mir.setUseEchoSuppression(
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          true
         </span>
         );
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //抑制回声
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         stream.attachAudio(mir);
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //将音频加入到流中
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         stream.attachCamera(cam1);
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //将视频加入到流中
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         vd.attachCamera(cam1);
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //在Flex Application中放一个VideoDisplay对象，用来本地观看图像
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         stream.publish(
         <span class="string" style="color:blue">
          "conf"
         </span>
         ,
         <span class="string" style="color:blue">
          "live"
         </span>
         );
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //将音视频数据发布到FMS服务器上，流名称为：conf 发布类型为：live（实时）
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         }
        </span>
       </li>
      </ol>
     </div>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      至此：教师已将音视频数据发布到FMS。
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      <span style="color:rgb(255,0,0)">
       需要注意的点：摄像头对象的分辨率设置，这样会直接影响到图像的清晰度和传送数据量的大小。
      </span>
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      接下来将由学生端对此数据进行读取
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      STEP1:如教师端STEP1进行相关设置
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      STEP2:成功连接FMS服务器后，进行音视频数据播放（学生端playStream方法的实现）
     </p>
     <div class="dp-highlighter" id="" style='font-family:Monaco,"DejaVu Sans Mono","Bitstream Vera Sans Mono",Consolas,"Courier New",monospace; font-size:12px; width:679px; overflow:auto; margin-left:9px; padding:1px; word-break:break-all; word-wrap:break-word; background-color:transparent'>
      <div class="bar">
       <div class="tools" style="padding:3px; margin:0px; font-weight:bold">
        Java代码
        <a style="color:rgb(16,138,198); text-decoration:underline" target="_blank" title="收藏这段代码">
         <img alt="收藏代码" class="star" src="https://i-blog.csdnimg.cn/blog_migrate/fac8a7481834b0481b87edfc079e03d1.png" style="border:0px"/>
        </a>
       </div>
      </div>
      <ol class="dp-j" start="1" style="font-size:1em; line-height:1.4em; margin:0px 0px 1px; padding:2px 0px; border:1px solid rgb(209,215,220); color:rgb(43,145,175)">
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         stream =
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          new
         </span>
         NetStream(conn);
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //学生端的流对象 conn为NetConnection对象
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //学生端的缓冲时间。此参数很重要，很多朋友反应：播放视频不流畅。
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //要明确一个观点：没有绝对的实时直播，所谓的直播其实就是在不断的播放缓冲区的数据
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         stream.bufferTime =
         <span class="number" style="color:rgb(192,0,0)">
          15
         </span>
         ;
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //按照道理来说这里应该是检测缓冲区的代码
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //但本程序为展示直播的核心将此代码略掉，有兴趣的朋友可以问我
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         v =
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          new
         </span>
         Video();
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         v.attachNetStream(stream);
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //将音视频流附加到video对象中
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         v.width = vd.width;
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         v.height = vd.height;
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         v.smoothing =
         <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">
          true
         </span>
         ;
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         vd.addChildAt(v,
         <span class="number" style="color:rgb(192,0,0)">
          1
         </span>
         );
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //VideoDisplay通过对Video的添加来播放音视频流
         </span>
        </span>
       </li>
       <li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); line-height:18px; background-color:rgb(250,250,250)">
        <span style="color:black">
         stream.play(
         <span class="string" style="color:blue">
          "conf"
         </span>
         );
         <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">
          //播放教师发布的conf流
         </span>
        </span>
       </li>
      </ol>
     </div>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      至此，学生将实现音视频流的播放。
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      <span style="color:rgb(255,0,0)">
       需要注意的点：缓冲区的设置，实际应用中应根据实际客户带宽来设置缓冲区大小
      </span>
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      大家最好找个局域网环境测试下，最好不要在本机测试，这会隐藏很多问题，有什么疑问大家尽管留言！
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      ---------------------------------------------------------
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      比较有用的学习FMS的资料
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      基于FMS的远程互动教学系统设计与实现
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
      <a href="http://www.docin.com/p-116813055.html" rel="nofollow noopener noreferrer" style="color:rgb(16,138,198)" target="_blank">
       http://www.docin.com/p-116813055.html
      </a>
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
     </p>
     <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">
     </p>
    </div>
    <div id="BAIDU_SSP__wrapper_u1405021_0" style="font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:18px">
     id="iframeu1405021_0" src="http://pos.baidu.com/hcim?rdid=1405021&amp;dc=2&amp;di=u1405021&amp;dri=0&amp;dis=0&amp;dai=1&amp;ps=2982x470&amp;dcb=BAIDU_SSP_define&amp;dtm=BAIDU_DUP_SETJSONADSLOT&amp;dvi=0.0&amp;dci=-1&amp;dpt=none&amp;tsr=0&amp;tpr=1467357899461&amp;ti=%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E5%81%9A%E8%A7%86%E9%A2%91%E7%9B%B4%E6%92%AD%EF%BC%9A%E9%9F%B3%E8%A7%86%E9%A2%91%E7%9B%B4%E6%92%AD%E7%9A%84%E5%AE%9E%E7%8E%B0%20-%20%E4%B8%9C%E7%9E%85%E8%A5%BF%E6%9C%9B%E5%B7%A6%E7%9E%A7%E5%8F%B3%E7%9C%8B%20-%20ITeye%E6%8A%80%E6%9C%AF%E7%BD%91%E7%AB%99&amp;ari=1&amp;dbv=2&amp;drs=1&amp;pcs=1423x775&amp;pss=1423x3030&amp;cfv=0&amp;cpl=4&amp;chi=2&amp;cce=true&amp;cec=UTF-8&amp;tlm=1467357899&amp;rw=775&amp;ltu=http%3A%2F%2Fmhqawjh.iteye.com%2Fblog%2F726913&amp;ltr=http%3A%2F%2Fmhqawjh.iteye.com%2Fblog%2F725047&amp;ecd=1&amp;psr=1440x900&amp;par=1440x860&amp;pis=-1x-1&amp;ccd=24&amp;cja=false&amp;cmi=5&amp;col=zh-CN&amp;cdo=-1&amp;tcn=1467357900&amp;qn=9b09f78ad84588da&amp;tt=1467357899424.263.1774.1778" width="468" height="60" align="center,center" vspace="0" hspace="0" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" allowtransparency="true" style="border-width: 0px; border-style: initial; vertical-align: bottom; margin: 0px;"&gt;
    </div>
    <div class="clearfix" id="bottoms" style="font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:18px">
     <div id="share_weibo" style="display:inline-block; float:right; width:160px; height:32px; margin:0px; padding:27px 5px 0px 0px; color:rgb(51,51,51); text-align:right; line-height:32px!important; font-family:Arial,Helvetica,sans-serif!important; background:none">
      分享到：
      <a style="color:rgb(16,138,198); text-decoration:underline; background:transparent" target="_blank" title="分享到新浪微博">
       <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/10cf8bd44b2a906b0a37420ea8d0d3f7.jpeg" style="border:0px; margin:0px 5px"/>
      </a>
      <a style="color:rgb(16,138,198); text-decoration:underline; background:transparent" target="_blank" title="分享到腾讯微博">
       <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/12cf9b20906dc6f5e662659eabefd6cd.jpeg" style="border:0px; margin:0px 5px"/>
      </a>
     </div>
    </div>
    <div class="blog_nav" style="right:20px; margin-bottom:15px; font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:18px">
     <div class="pre_next" style="float:right; text-align:right; padding-top:5px">
      <a class="next" href="http://mhqawjh.iteye.com/blog/868727" rel="nofollow noopener noreferrer" style="color:rgb(16,138,198); padding:0px 15px" target="_blank" title="FMS学习资料列表">
       FMS学习资料列表
      </a>
      |
      <a class="pre" href="http://mhqawjh.iteye.com/blog/725047" rel="nofollow noopener noreferrer" style="color:rgb(16,138,198); padding:0px 15px" target="_blank" title="手把手教你做视频直播：基于Flex+FMS+Java的视频直播软件">
       手把手教你做视频直播：基于Flex+FMS+Java ...
      </a>
     </div>
    </div>
    <div class="blog_bottom" style="padding:15px 0px 5px; font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:18px">
     <ul style="margin:0px 0px 1.5em; padding:0px">
      <li style="margin:0px 10px 0px 0px; padding:0px 10px 0px 0px; list-style:none; display:inline; float:left; border-right-width:1px; border-right-style:solid; border-right-color:rgb(16,138,198); color:rgb(16,138,198)">
       2010-08-02 10:57
      </li>
      <li style="margin:0px 10px 0px 0px; padding:0px 10px 0px 0px; list-style:none; display:inline; float:left; border-right-width:1px; border-right-style:solid; border-right-color:rgb(16,138,198); color:rgb(16,138,198)">
       浏览 7499
      </li>
      <li style="margin:0px 10px 0px 0px; padding:0px 10px 0px 0px; list-style:none; display:inline; float:left; border-right-width:1px; border-right-style:solid; border-right-color:rgb(16,138,198); color:rgb(16,138,198)">
       <a href="http://mhqawjh.iteye.com/blog/726913#comments" rel="nofollow noopener noreferrer" style="color:rgb(16,138,198)" target="_blank">
        评论(9)
       </a>
      </li>
      <li style="margin:0px 10px 0px 0px; padding:0px 10px 0px 0px; list-style:none; display:inline; float:left; border-right-width:1px; border-right-style:solid; border-right-color:rgb(16,138,198); color:rgb(16,138,198)">
       分类:
       <a href="http://www.iteye.com/blogs/category/web" rel="noopener noreferrer" style="color:rgb(16,138,198)" target="_blank">
        Web前端
       </a>
      </li>
      <li class="last" style="margin:0px 10px 0px 0px; padding:0px 10px 0px 0px; list-style:none; display:inline; float:left; border-right-style:none; color:rgb(16,138,198)">
       <a class="more" href="http://www.iteye.com/wiki/blog/726913" rel="noopener noreferrer" style="color:rgb(16,138,198); padding-right:50px" target="_blank">
        相关推荐
       </a>
      </li>
     </ul>
    </div>
    <div class="boutique-curr-box blog_comment" style="margin-top:15px; padding:15px; border-top-width:1px; border-top-style:solid; border-top-color:rgb(16,138,198); width:685px; font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:18px">
     <div class="boutique-curr clearfix">
      <h6 class="h3titles" style="font-size:1.1em; line-height:1.3em; margin:0px 0px 0.25em; padding:0px; color:rgb(51,51,51); font-weight:normal; font-family:微软雅黑">
       参考知识库
      </h6>
      <dl class="dlnewlist" style="margin:0px 0px 1.5em; padding:18px 0px 0px; line-height:1.4em; float:left; height:60px; overflow:hidden">
       <dd style="margin:0px; padding:0px; float:left; width:60px; height:60px">
        <a href="http://lib.csdn.net/base/softwaretest" rel="nofollow noopener noreferrer" style="color:rgb(16,138,198); display:block" target="_blank">
         <img alt="" height="58" src="http://img.knowledge.csdn.net/upload/base/1467193268346_346.jpg" style="border:1px solid rgb(245,245,245)" width="58"/>
        </a>
       </dd>
       <a href="http://lib.csdn.net/base/softwaretest" rel="nofollow noopener noreferrer" style="color:rgb(16,138,198)" target="_blank">
        软件测试知识库
       </a>
       <span style="display:block; color:rgb(153,153,153); font-size:14px; margin-top:12px; vertical-align:middle">
        <span style="color:rgb(100,177,203); vertical-align:middle">
         61
        </span>
        关注
        <span style="font-size:undefined">
         |
        </span>
        <span style="color:rgb(100,177,203); vertical-align:middle">
         244
        </span>
        收录
       </span>
      </dl>
      <dl class="dlnewlist" style="margin:0px 0px 1.5em; padding:18px 0px 0px; line-height:1.4em; float:left; height:60px; overflow:hidden">
       <dd style="margin:0px; padding:0px; float:left; width:60px; height:60px">
        <a href="http://lib.csdn.net/base/cplusplus" rel="nofollow noopener noreferrer" style="color:rgb(16,138,198); display:block" target="_blank">
         <img alt="" height="58" src="http://img.knowledge.csdn.net/upload/base/1466674255874_874.jpg" style="border:1px solid rgb(245,245,245)" width="58"/>
        </a>
       </dd>
       <a href="http://lib.csdn.net/base/cplusplus" rel="nofollow noopener noreferrer" style="color:rgb(16,138,198)" target="_blank">
        C++知识库
       </a>
       <span style="display:block; color:rgb(153,153,153); font-size:14px; margin-top:12px; vertical-align:middle">
        <span style="color:rgb(100,177,203); vertical-align:middle">
         522
        </span>
        关注
        <span style="font-size:undefined">
         |
        </span>
        <span style="color:rgb(100,177,203); vertical-align:middle">
         579
        </span>
        收录
       </span>
      </dl>
      <dl class="dlnewlist" style="margin:0px 0px 1.5em; padding:18px 0px 0px; line-height:1.4em; float:left; height:60px; overflow:hidden">
       <dd style="margin:0px; padding:0px; float:left; width:60px; height:60px">
        <a href="http://lib.csdn.net/base/c" rel="nofollow noopener noreferrer" style="color:rgb(16,138,198); display:block" target="_blank">
         <img alt="" height="58" src="http://img.knowledge.csdn.net/upload/base/1466132253931_931.jpg" style="border:1px solid rgb(245,245,245)" width="58"/>
        </a>
       </dd>
       <a href="http://lib.csdn.net/base/c" rel="nofollow noopener noreferrer" style="color:rgb(16,138,198)" target="_blank">
        C语言知识库
       </a>
       <span style="display:block; color:rgb(153,153,153); font-size:14px; margin-top:12px; vertical-align:middle">
        <span style="color:rgb(100,177,203); vertical-align:middle">
         664
        </span>
        关注
        <span style="font-size:undefined">
         |
        </span>
        <span style="color:rgb(100,177,203); vertical-align:middle">
         1842
        </span>
        收录
       </span>
      </dl>
      <dl class="dlnewlist" style="margin:0px 0px 1.5em; padding:18px 0px 0px; line-height:1.4em; float:left; height:60px; overflow:hidden">
       <dd style="margin:0px; padding:0px; float:left; width:60px; height:60px">
        <a href="http://lib.csdn.net/base/react" rel="nofollow noopener noreferrer" style="color:rgb(16,138,198); display:block" target="_blank">
         <img alt="" height="58" src="http://img.knowledge.csdn.net/upload/base/1465887837340_340.jpg" style="border:1px solid rgb(245,245,245)" width="58"/>
        </a>
       </dd>
       <a href="http://lib.csdn.net/base/react" rel="nofollow noopener noreferrer" style="color:rgb(16,138,198)" target="_blank">
        React知识库
       </a>
       <span style="display:block; color:rgb(153,153,153); font-size:14px; margin-top:12px; vertical-align:middle">
        <span style="color:rgb(100,177,203); vertical-align:middle">
         344
        </span>
        关注
        <span style="font-size:undefined">
         |
        </span>
        <span style="color:rgb(100,177,203); vertical-align:middle">
         282
        </span>
        收录
       </span>
      </dl>
     </div>
    </div>
    <div class="blog_comment" style="margin-top:15px; padding:15px; border-top-width:1px; border-top-style:solid; border-top-color:rgb(16,138,198); width:685px; font-family:Helvetica,Tahoma,Arial,sans-serif; line-height:18px">
     <h6 style="font-size:1.1em; line-height:1.3em; margin:0px 0px 0.25em; padding:0px">
      评论
     </h6>
     <a id="comments" name="comments" style="color:rgb(16,138,198); text-decoration:underline" target="_blank">
     </a>
     <div id="bc2365391">
      <div class="comment_title" style="padding:3px; background-color:rgb(239,250,255)">
       9 楼
       <a href="http://726681665.iteye.com/" rel="nofollow noopener noreferrer" style="color:rgb(16,138,198)" target="_blank" title="726681665">
        726681665
       </a>
       2014-12-28
      </div>
      <div class="comment_content" style="padding:3px; margin-bottom:10px">
       正需要
       <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/fc570bb5c65faa93c7f12856da7b9e61.gif" style="border:0px"/>
      </div>
     </div>
     <div id="bc2227325">
      <div class="comment_title" style="padding:3px; background-color:rgb(239,250,255)">
       8 楼
       <a href="http://zhangguofeng123.iteye.com/" rel="nofollow noopener noreferrer" style="color:rgb(16,138,198)" target="_blank" title="zhangguofeng123">
        zhangguofeng123
       </a>
       2011-11-07
      </div>
      <div class="comment_content" style="padding:3px; margin-bottom:10px">
       博主您好：
       <br/>
       请教一个问题
       <br/>
       private function playStream():void {
       <br/>
       stream = new NetStream(conn);//创建于FMS连接相关的音视频数据流对象
       <br/>
       cam1 = Camera.getCamera("0");//获得默认摄像头
       <br/>
       cam1.setMode(320,240,15); //经试验：320*240效果较佳而占用网络流量较小 15为keyFrame
       <br/>
       cam1.setQuality(100 * 1000,90); //100*1000为上传带宽 90为图像质量
       <br/>
       mir = Microphone.getMicrophone();//获得麦克对象
       <br/>
       mir.setUseEchoSuppression(true);//抑制回声
       <br/>
       stream.attachAudio(mir);//将音频加入到流中
       <br/>
       stream.attachCamera(cam1);//将视频加入到流中
       <br/>
       vd.attachCamera(cam1);//在Flex Application中放一个VideoDisplay对象，用来本地观看图像
       <br/>
       stream.publish("conf","live");//将音视频数据发布到FMS服务器上，流名称为：conf 发布类型为：live（实时）
       <br/>
       }
       <br/>
       以上代码是您以摄像的方式将流发布到服务器上。如果我要发布一个现有的视频到服务器上，客户端以同步的方式看录像（有点类似于直播）。这边要怎么样操作呢。。？
      </div>
     </div>
     <div id="bc2225509">
      <div class="comment_title" style="padding:3px; background-color:rgb(239,250,255)">
       7 楼
       <a href="http://tqingguang6688.iteye.com/" rel="nofollow noopener noreferrer" style="color:rgb(16,138,198)" target="_blank" title="tqingguang6688">
        tqingguang6688
       </a>
       2011-10-29
      </div>
      <div class="comment_content" style="padding:3px; margin-bottom:10px">
       楼主你好，最近我在在研究rtmp这方面的，RTMP服务我已经自行实现，通过flex编写的视频直播也挺流畅的，但过了一个小时后，就出现画面跳动现象，关了FLEX客户端，再连就正常了。不知道是什么问题，望交流研究，q：280429608
       <br/>
       附flex代码：
       <br/>
       package
       <br/>
       {
       <br/>
       import flash.display.Sprite;
       <br/>
       import flash.events.*;
       <br/>
       import flash.media.Video;
       <br/>
       import flash.net.NetConnection;
       <br/>
       import flash.net.NetStream;
       <br/>
       <br/>
       <br/>
       public class ftest extends Sprite
       <br/>
       {
       <br/>
       public function ftest()
       <br/>
       {
       <br/>
       //var params:Object = FlexGlobals.topLevelApplication.parameters;
       <br/>
       var fileName:String = "mp4:guang.3gp";
       <br/>
       var nc:NetConnection = new NetConnection();
       <br/>
       var ns:NetStream;
       <br/>
       <br/>
       nc.objectEncoding = flash.net.ObjectEncoding.AMF0;
       <br/>
       nc.addEventListener(NetStatusEvent.NET_STATUS, onNetStatus);
       <br/>
       <br/>
       var counter:int = 0;
       <br/>
       function onNetStatus(evt:NetStatusEvent):void {
       <br/>
       trace("onNetStatus: "+evt.info.code);
       <br/>
       if (evt.info.code =="NetConnection.Connect.Success") {
       <br/>
       ns = new NetStream(nc);
       <br/>
       ns.addEventListener(NetStatusEvent.NET_STATUS, onNetStatus);
       <br/>
       ns.addEventListener(AsyncErrorEvent.ASYNC_ERROR, asyncErrorHandler);
       <br/>
       <br/>
       var myVideo:Video = new Video(480, 320);
       <br/>
       myVideo.attachNetStream(ns);
       <br/>
       <br/>
       addChild(myVideo);
       <br/>
       myVideo.x = 0;
       <br/>
       myVideo.y = 0;
       <br/>
       <br/>
       ns.bufferTime = 0;
       <br/>
       ns.backBufferTime = 0;
       <br/>
       <br/>
       ns.play(fileName, true);
       <br/>
       }
       <br/>
       }
       <br/>
       //nc.connect("rtmp://192.168.9.128/oflaDemo", true);
       <br/>
       nc.connect("rtmp://192.168.1.20/oflaDemo", true);
       <br/>
       //nc.close();
       <br/>
       <br/>
       function asyncErrorHandler(event:AsyncErrorEvent):void{
       <br/>
       //ignore error;
       <br/>
       }
       <br/>
       <br/>
       NetConnection.prototype.onBWDone = function(p_bw) {
       <br/>
       trace("onBWDone: "+ p_bw);
       <br/>
       };
       <br/>
       <br/>
       NetConnection.prototype.onBWCheck = function() {
       <br/>
       return ++counter;
       <br/>
       }
       <br/>
       }
       <br/>
       <br/>
       <br/>
       }
       <br/>
       }
      </div>
     </div>
     <div id="bc2218721">
      <div class="comment_title" style="padding:3px; background-color:rgb(239,250,255)">
       6 楼
       <a href="http://yangpixxxx.iteye.com/" rel="nofollow noopener noreferrer" style="color:rgb(16,138,198)" target="_blank" title="yangpixxxx">
        yangpixxxx
       </a>
       2011-09-23
      </div>
      <div class="comment_content" style="padding:3px; margin-bottom:10px">
       这也叫“手把手教......”，呵呵，玩笑呐？标题党吧
      </div>
     </div>
     <div id="bc1849227">
      <div class="comment_title" style="padding:3px; background-color:rgb(239,250,255)">
       5 楼
       <a href="http://sailei1.iteye.com/" rel="nofollow noopener noreferrer" style="color:rgb(16,138,198)" target="_blank" title="sailei1">
        sailei1
       </a>
       2011-01-13
      </div>
      <div class="comment_content" style="padding:3px; margin-bottom:10px">
       我觉得 你应该 发个源码在javaeye上  好上大家学习 共同进步！
      </div>
     </div>
     <div id="bc1767279">
      <div class="comment_title" style="padding:3px; background-color:rgb(239,250,255)">
       4 楼
       <a href="http://adriny.iteye.com/" rel="nofollow noopener noreferrer" style="color:rgb(16,138,198)" target="_blank" title="adriny">
        adriny
       </a>
       2010-11-21
      </div>
      <div class="comment_content" style="padding:3px; margin-bottom:10px">
       你好，我们公司是一个开发互联网远程教育平台的公司，目前正在尝试开发直播功能，使用FMS来完成，看过了你的帖子，我自己也已经完成了直播流程的实现，但是还是有很多的细节地方没有注意好，就像 你帖子里面说过的缓冲等相关问题都没有仔细考虑，不知道你是不是能够给我一个建议，关于直播需要特别关注的一些性能或其他方面的问题，谢谢！
      </div>
     </div>
     <div id="bc1719569">
      <div class="comment_title" style="padding:3px; background-color:rgb(239,250,255)">
       3 楼
       <a href="http://myworkfirst.iteye.com/" rel="nofollow noopener noreferrer" style="color:rgb(16,138,198)" target="_blank" title="myworkfirst">
        myworkfirst
       </a>
       2010-10-21
      </div>
      <div class="comment_content" style="padding:3px; margin-bottom:10px">
       上面是java代码吗?
      </div>
     </div>
     <div id="bc1613374">
      <div class="comment_title" style="padding:3px; background-color:rgb(239,250,255)">
       2 楼
       <a href="http://dabai.iteye.com/" rel="nofollow noopener noreferrer" style="color:rgb(16,138,198)" target="_blank" title="takingoff">
        takingoff
       </a>
       2010-08-05
      </div>
      <div class="comment_content" style="padding:3px; margin-bottom:10px">
       博主 上一篇博文的屏幕共享实现了吗？
       <br/>
       我最近也在做这方面的开发
       <br/>
       采用 虚拟摄像头录制屏幕 在flex里加载摄像头 publish到red5或者fms服务器上
       <br/>
       效果均不是很好 一卡一卡的
       <br/>
       你遇到过类似问题吗？
      </div>
     </div>
     <div id="bc1612025">
      <div class="comment_title" style="padding:3px; background-color:rgb(239,250,255)">
       1 楼
       <a href="http://qianlei007.iteye.com/" rel="nofollow noopener noreferrer" style="color:rgb(16,138,198)" target="_blank" title="qianlei007">
        qianlei007
       </a>
       2010-08-05
      </div>
      <div class="comment_content" style="padding:3px; margin-bottom:10px">
       可否 提供 代码， 学习一下呢！
      </div>
     </div>
    </div>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f75303134333836343734:2f61727469636c652f64657461696c732f3531383031393031" class_="artid" style="display:none">
 </p>
</div>
