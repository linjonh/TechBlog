---
layout: post
title: "小程序引入字体注意点"
date: 2025-01-21 11:30:54 +0800
description: "小程序引入字体有2种方式，第一种是通过 @font-face ，第二种是通过小程序提供的方法 loa"
keywords: "微信小程序端字体链接必须是同源下的,或开启了cors支持,微信小程序的域名是servic"
categories: ['小程序']
tags: ['无标签']
artid: "104617619"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=104617619
    alt: "小程序引入字体注意点"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     小程序引入字体注意点
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     <strong>
      小程序引入字体有2种方式，
     </strong>
     <br/>
     第一种是通过
     <code>
      @font-face
     </code>
     ，第二种是通过小程序提供的方法
     <a href="https://developers.weixin.qq.com/miniprogram/dev/api/ui/font/wx.loadFontFace.html" rel="nofollow">
      loadFontFace
     </a>
     。
    </p>
    <p>
     <strong>
      引入的方式不同但是需要注意的地方大致形同：
     </strong>
    </p>
    <blockquote>
     <p>
      官方提出了以下的注意事项
      <br/>
      字体文件返回的 contet-type 参考 font，格式不正确时会解析失败。
      <br/>
      字体链接必须是https（ios不支持http)
      <br/>
      字体链接必须是同源下的，或开启了cors支持，小程序的域名是servicewechat.com
      <br/>
      canvas等原生组件不支持使用接口添加的字体
      <br/>
      工具里提示 Faild to load font可以忽略
      <br/>
      ‘2.10.0’ 以前仅在调用页面生效。
     </p>
    </blockquote>
    <p>
     <strong>
      总的来说
     </strong>
    </p>
    <ol>
     <li>
      微信小程序端只支持网络字体，字体链接
      <code>
       必须是https
      </code>
      ，所以本地引入的方法是行不通的。（想想也是。字体包动不动几个M，很难编译）
     </li>
     <li>
      引入中文字体，体积过大时会发生错误
     </li>
     <li>
      工具里提示 Faild to load font可以忽略 （不要看到开发者工具里提示就以为有问题）
     </li>
    </ol>
    <p>
     <strong>
      这里记录几种解决字体引入的几种方式：
     </strong>
    </p>
    <p>
     <strong>
      1. 字体转base64
     </strong>
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/63031ac51504cb9ac404418255342f06.png"/>
    </p>
    <ul>
     <li>
      打开字体在线转换工具
      <a href="https://transfonter.org/" rel="nofollow">
       https://transfonter.org/
      </a>
     </li>
     <li>
      将下载解压后的css 文件打开，复制黏贴就好了
     </li>
     <li>
      需要注意的是，这里的字体最大可以上传 10M
     </li>
    </ul>
    <p>
     <strong>
      2. 第二种就是官方提供的一种方法，抽离出部分中文，减少体积，或者用图片代替。
     </strong>
     <br/>
     图片代替我们都知道，这里记录一下抽离文字，对于抽离文字，我们需要利用一个工具
     <br/>
     <a href="https://ecomfe.github.io/fontmin/" rel="nofollow">
      Fontmin
     </a>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/697bbe1e09b2e7f2043f2f6aad40a7f7.png"/>
    </p>
    <ul>
     <li>
      下载安装包后解压软件
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/318f961e53156de49c57cf2fceb13af8.png"/>
     </li>
     <li>
      在左侧输入我们能够使用到的文字，点击生成，就会得到一个新的字体库，这里面包括新的ttf 文件和 css引入文件。
     </li>
     <li>
      最后只要看需要，不管是引入base64 还是引入新的 ttf 字体都是可以的。
     </li>
    </ul>
    <p>
     <strong>
      3. 考虑插件
     </strong>
     <br/>
     因为我使用的uni-app 这种多端开发，所以插件库里会有各种插件，这里官方推荐了一种字体引入的插件
     <a href="https://ext.dcloud.net.cn/plugin?id=954" rel="nofollow">
      https://ext.dcloud.net.cn/plugin?id=954
     </a>
     <br/>
     （因为我还没有使用过这个插件，所以就不记录了，有兴趣的可以去看看）
    </p>
    <h3>
     <a id="_40">
     </a>
     以上
    </h3>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f33373032363235342f:61727469636c652f64657461696c732f313034363137363139" class_="artid" style="display:none">
 </p>
</div>


