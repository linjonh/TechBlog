---
layout: post
title: "vue-antd-自定义搜索筛选栏组件封装"
date: 2025-01-04 19:47:24 +0800
description: "这里写自定义目录标题1、背景2、分析3、实现（1）form表单组件（sear"
keywords: "vue antd 封装search"
categories: ['设计模式']
tags: ['设计模式', 'Js', 'Javascript']
artid: "123886980"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=123886980
    alt: "vue-antd-自定义搜索筛选栏组件封装"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     vue antd 自定义搜索筛选栏组件封装
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <div class="toc">
     <h4>
      这里写自定义目录标题
     </h4>
     <ul>
      <li>
       <a href="#1_2" rel="nofollow">
        1、背景
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#2_10" rel="nofollow">
          2、分析
         </a>
        </li>
        <li>
         <a href="#3_14" rel="nofollow">
          3、实现
         </a>
        </li>
        <li>
         <ul>
          <li>
           <a href="#1formsearchFormvue_16" rel="nofollow">
            （1）form表单组件（searchForm.vue）示例代码：
           </a>
          </li>
          <li>
           <a href="#2formItemformItemvue_71" rel="nofollow">
            （2）formItem表单项组件（formItem.vue）示例代码：
           </a>
          </li>
         </ul>
        </li>
        <li>
         <a href="#4_152" rel="nofollow">
          4、关键点
         </a>
        </li>
        <li>
         <a href="#5_155" rel="nofollow">
          5、参数配置项解释
         </a>
        </li>
        <li>
         <ul>
          <li>
           <a href="#1_156" rel="nofollow">
            （1）示例：
           </a>
          </li>
          <li>
           <a href="#2_180" rel="nofollow">
            （2）参数传递解析的流程：
           </a>
          </li>
          <li>
           <a href="#3_312" rel="nofollow">
            （3）特殊情况的处理
           </a>
          </li>
         </ul>
        </li>
        <li>
         <a href="#6_346" rel="nofollow">
          6、按钮组
         </a>
        </li>
        <li>
         <a href="#7_358" rel="nofollow">
          7、使用方式示例
         </a>
        </li>
        <li>
         <a href="#8_510" rel="nofollow">
          8、完整代码
         </a>
        </li>
        <li>
         <ul>
          <li>
           <a href="#1searchFormvue_511" rel="nofollow">
            （1）searchForm.vue
           </a>
          </li>
          <li>
           <a href="#2formItemvue_722" rel="nofollow">
            （2）formItem.vue
           </a>
          </li>
          <li>
           <a href="#_toolsjs_919" rel="nofollow">
            依赖引入的一些函数方法 tools.js
           </a>
          </li>
         </ul>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <h2>
     <a id="1_2">
     </a>
     1、背景
    </h2>
    <p>
     vue后台管理系统，会有很多表格页面，表格上方会有一些搜索选项。表格直接使用a-table即可，而搜索栏区域每次写起来都很繁琐，且多人开发情况下每个人写的样式都不相同，布局样式无法统一。
    </p>
    <p>
     所以要考虑对搜索栏做一个封装，统一配置引用，提升开发维护效率和界面统一。
    </p>
    <p>
     完成后的效果大概就是长这样：
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/f4883696222a4d80178d32b37eda93d5.png#pic_center"/>
    </p>
    <h3>
     <a id="2_10">
     </a>
     2、分析
    </h3>
    <p>
     项目使用的是antd框架，搜索栏这种表单提交，首先要使用a-form-model组件来封装，而复杂点就是表单项可能有很多种，例如input输入框、select选择框、日期时间选择框、日期时间范围选择框、cascader级联选择框等，每一项的字段名prop、名称label、绑定的属性方法都不尽相同。所以不能通过普通的绑定个别属性的方式来处理，而slot插槽的方式也无法简化，最终决定通过传递一个配置项数组的形式来解析生成相应的结构。
    </p>
    <h3>
     <a id="3_14">
     </a>
     3、实现
    </h3>
    <p>
     目前实现的方式由两部分组成，一部分是form表单组件，接受父组件传递的配置项数组，一部分是封装一些常用的表单项组件，通过v-if来控制，form表单组件里引入该表单项组件，循环遍历，根据传递的表单项类型来匹配显示具体的表单项。
    </p>
    <h4>
     <a id="1formsearchFormvue_16">
     </a>
     （1）form表单组件（searchForm.vue）示例代码：
    </h4>
    <pre><code class="prism language-js">  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"search-form-box"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>a<span class="token operator">-</span>row<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>a<span class="token operator">-</span>form<span class="token operator">-</span>model 
        <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">"formData"</span>
        ref<span class="token operator">=</span><span class="token string">"formRef"</span>
        layout<span class="token operator">=</span><span class="token string">"horizontal"</span>
        <span class="token operator">:</span>label<span class="token operator">-</span>col<span class="token operator">=</span><span class="token string">"labelCol"</span>
        <span class="token operator">:</span>wrapper<span class="token operator">-</span>col<span class="token operator">=</span><span class="token string">"wrapperCol"</span>
      <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>a<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">"6"</span> v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"(item, index) in formOptions"</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"newKeys[index]"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>a<span class="token operator">-</span>form<span class="token operator">-</span>model<span class="token operator">-</span>item
            <span class="token operator">:</span>prop<span class="token operator">=</span><span class="token string">"item.prop"</span>
            <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">"item.label ? item.label + '：' : ''"</span>
            <span class="token operator">:</span>rules<span class="token operator">=</span><span class="token string">"item.rules"</span>
          <span class="token operator">&gt;</span>
            
              <span class="token operator">&lt;</span>formItem v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"formData[item.prop]"</span> <span class="token operator">:</span>itemOptions<span class="token operator">=</span><span class="token string">"item"</span> <span class="token operator">:</span>needParams<span class="token operator">=</span><span class="token string">"needParams"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>form<span class="token operator">-</span>model<span class="token operator">-</span>item<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>col<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 自定义插槽，可用于特殊表单块 <span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>form<span class="token operator">-</span>model<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>row<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>a<span class="token operator">-</span>row type<span class="token operator">=</span><span class="token string">"flex"</span> justify<span class="token operator">=</span><span class="token string">"end"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 提交按钮 <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"btn-box"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>a<span class="token operator">-</span>button
          v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"btnItems.includes('search')"</span>
          type<span class="token operator">=</span><span class="token string">"primary"</span>
          <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"btn-search"</span>
          @click<span class="token operator">=</span><span class="token string">"onSearch"</span>
          <span class="token operator">&gt;</span>搜索<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>button
        <span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span>a<span class="token operator">-</span>button
          v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"btnItems.includes('export')"</span>
          type<span class="token operator">=</span><span class="token string">"primary"</span>
          <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"btn-export"</span>
          @click<span class="token operator">=</span><span class="token string">"onExport"</span>
          <span class="token operator">&gt;</span>导出<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>button
        <span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span>a<span class="token operator">-</span>button
          v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"btnItems.includes('reset')"</span>
          type<span class="token operator">=</span><span class="token string">"default"</span>
          <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"btn-reset"</span>
          @click<span class="token operator">=</span><span class="token string">"onReset"</span>
          <span class="token operator">&gt;</span>重置<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>button
        <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>row<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre>
    <h4>
     <a id="2formItemformItemvue_71">
     </a>
     （2）formItem表单项组件（formItem.vue）示例代码：
    </h4>
    <pre><code class="prism language-js"><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"form-item"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>a<span class="token operator">-</span>input
      v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"isInput"</span>
      v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"currentVal"</span>
      v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">"bindProps"</span>
      v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">"bindEvents"</span>
      allowClear
    <span class="token operator">/</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>a<span class="token operator">-</span>input<span class="token operator">-</span>number
      v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"isInputNumber"</span>
      v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"currentVal"</span>
      v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">"bindProps"</span>
      v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">"bindEvents"</span>
      allowClear
    <span class="token operator">/</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>a<span class="token operator">-</span>select
      v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"isSelect"</span>
      v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"currentVal"</span>
      v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">"bindProps"</span>
      v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">"bindEvents"</span>
      allowClear
    <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>a<span class="token operator">-</span>select<span class="token operator">-</span>option
        v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"item in itemOptions.options"</span>
        <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"item.value"</span>
        <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">"item.label"</span>
        <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">"item.value"</span>
      <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>select<span class="token operator">-</span>option<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>select<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> datetimerange<span class="token operator">/</span>daterange <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>a<span class="token operator">-</span>range<span class="token operator">-</span>picker
      v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"isDatePickerDateRange"</span>
      v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"currentVal"</span>
      v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">"bindProps"</span>
      v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">"bindEvents"</span>
      <span class="token literal-property property">allowClear</span>
      <span class="token operator">:</span>placeholder<span class="token operator">=</span><span class="token string">"['开始日期', '结束日期']"</span>
      separator<span class="token operator">=</span><span class="token string">"至"</span>
      <span class="token operator">:</span><span class="token keyword">default</span><span class="token operator">-</span>time<span class="token operator">=</span><span class="token string">"['00:00:00', '23:59:59']"</span>
      valueFormat<span class="token operator">=</span><span class="token string">"YYYY-MM-DD"</span>
    <span class="token operator">/</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> monthrange <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>a<span class="token operator">-</span>date<span class="token operator">-</span>picker
      v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"isDatePickerMonthRange"</span>
      v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"currentVal"</span>
      v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">"bindProps"</span>
      v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">"bindEvents"</span>
      type<span class="token operator">=</span><span class="token string">"monthrange"</span>
      <span class="token literal-property property">allowClear</span>
      <span class="token operator">:</span>placeholder<span class="token operator">=</span><span class="token string">"['开始日期', '结束日期']"</span>
      range<span class="token operator">-</span>separator<span class="token operator">=</span><span class="token string">"至"</span>
      valueFormat<span class="token operator">=</span><span class="token string">"YYYY-MM"</span>
    <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>date<span class="token operator">-</span>picker<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> others <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>a<span class="token operator">-</span>date<span class="token operator">-</span>picker
      v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"isDatePickerOthers"</span>
      v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"currentVal"</span>
      v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">"bindProps"</span>
      v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">"bindEvents"</span>
      allowClear
      placeholder<span class="token operator">=</span><span class="token string">"请选择日期"</span>
      valueFormat<span class="token operator">=</span><span class="token string">"YYYY-MM-DD"</span>
    <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>date<span class="token operator">-</span>picker<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>a<span class="token operator">-</span>cascader
      v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"isCascader"</span>
      v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"currentVal"</span>
      v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">"bindProps"</span>
      v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">"bindEvents"</span>
      <span class="token operator">:</span>options<span class="token operator">=</span><span class="token string">"itemOptions.options"</span>
      allowClear
    <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>cascader<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre>
    <h3>
     <a id="4_152">
     </a>
     4、关键点
    </h3>
    <p>
     由于antd表单组件本身有很多配置属性，不可能把所有的属性和方法都写死封装，要想无缝支持，需要用到vue的v-bind和v-on特性，vue的v-bind和v-on支持赋值为对象类型，vue会自动遍历对象里的属性依次绑定，v2.4.0+支持。
    </p>
    <h3>
     <a id="5_155">
     </a>
     5、参数配置项解释
    </h3>
    <h4>
     <a id="1_156">
     </a>
     （1）示例：
    </h4>
    <pre><code class="prism language-js"> <span class="token comment">/**
     * 表单配置
     * 示例：
     * [{
     *   label: '用户名', // label文字
     *   prop: 'username', // 字段名
     *   type: 'input', // 指定antd组件
     *   defaultValue: '阿黄', // 字段初始值
     *   placeholder: '请输入用户名', // antd组件属性
     *   rules: [{ required: true, message: '必填项', trigger: 'blur' }], // antd组件属性
     *   events: { // antd组件方法
     *     input (val) {
     *       console.log(val)
     *     },
     *     ...... // 可添加任意antd组件支持的方法
     *   }
     *   ...... // 可添加任意antd组件支持的属性
     * }]
     */</span>
</code></pre>
    <p>
     具体扩展属性可参考antd官方文档（
     <a href="https://www.antdv.com/docs/vue/introduce-cn/" rel="nofollow">
      antd官方文档
     </a>
     ）
    </p>
    <h4>
     <a id="2_180">
     </a>
     （2）参数传递解析的流程：
    </h4>
    <ol>
     <li>
      首先，searchForm.vue组件里通过props接收参数：
     </li>
    </ol>
    <pre><code class="prism language-js"><span class="token literal-property property">formOptions</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
     <span class="token literal-property property">type</span><span class="token operator">:</span> Array<span class="token punctuation">,</span>
     <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
     <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
       <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
     <span class="token punctuation">}</span>
     <span class="token comment">/**
    * 请求所需参数
    * 示例：
    * needParams: {
    *   // 参数名
    *   // 参数值
    *   token: "123"
    *  },
    */</span>
   <span class="token literal-property property">needParams</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
     <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
     <span class="token keyword">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
       <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

</code></pre>
    <ol start="2">
     <li>
      created生命周期里处理初始值：
     </li>
    </ol>
    <pre><code class="prism language-js"><span class="token comment">// 添加初始值</span>
<span class="token function">addInitValue</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
 <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
 <span class="token keyword">this</span><span class="token punctuation">.</span>formOptions<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">.</span>initValue <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
     obj<span class="token punctuation">[</span>v<span class="token punctuation">.</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">.</span>initValue
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token keyword">this</span><span class="token punctuation">.</span>formData <span class="token operator">=</span> obj
<span class="token punctuation">}</span>
</code></pre>
    <ol start="3">
     <li>
      一部分配置项绑定在a-form-model-item上，一部分传递给formItem表单项组件再绑定：
     </li>
    </ol>
    <pre><code class="prism language-js"><span class="token operator">&lt;</span>a<span class="token operator">-</span>form<span class="token operator">-</span>model 
        <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">"formData"</span>
        ref<span class="token operator">=</span><span class="token string">"formRef"</span>
        layout<span class="token operator">=</span><span class="token string">"horizontal"</span>
        <span class="token operator">:</span>label<span class="token operator">-</span>col<span class="token operator">=</span><span class="token string">"labelCol"</span>
        <span class="token operator">:</span>wrapper<span class="token operator">-</span>col<span class="token operator">=</span><span class="token string">"wrapperCol"</span>
      <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>a<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">"6"</span> v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"(item, index) in formOptions"</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"newKeys[index]"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>a<span class="token operator">-</span>form<span class="token operator">-</span>model<span class="token operator">-</span>item
            <span class="token operator">:</span>prop<span class="token operator">=</span><span class="token string">"item.prop"</span>
            <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">"item.label ? item.label + '：' : ''"</span>
            <span class="token operator">:</span>rules<span class="token operator">=</span><span class="token string">"item.rules"</span>
          <span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>formItem v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"formData[item.prop]"</span> <span class="token operator">:</span>itemOptions<span class="token operator">=</span><span class="token string">"item"</span> <span class="token operator">:</span>needParams<span class="token operator">=</span><span class="token string">"needParams"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>form<span class="token operator">-</span>model<span class="token operator">-</span>item<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>col<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 自定义插槽，可用于特殊表单块 <span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>form<span class="token operator">-</span>model<span class="token operator">&gt;</span>
</code></pre>
    <ol start="4">
     <li>
      formItem.vue表单项组件里props接受传参：
     </li>
    </ol>
    <pre><code class="prism language-js"><span class="token literal-property property">itemOptions</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
  <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
    <ol start="5">
     <li>
      computed里处理接收的参数itemOptions，生成要绑定的所有属性对象bindProps：
     </li>
    </ol>
    <pre><code class="prism language-js"> <span class="token comment">// 绑定属性</span>
    <span class="token function">bindProps</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>itemOptions <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token comment">// 移除冗余属性</span>
      <span class="token keyword">delete</span> obj<span class="token punctuation">.</span>label<span class="token punctuation">;</span>
      <span class="token keyword">delete</span> obj<span class="token punctuation">.</span>prop<span class="token punctuation">;</span>
      <span class="token keyword">delete</span> obj<span class="token punctuation">.</span>type<span class="token punctuation">;</span>
      <span class="token keyword">delete</span> obj<span class="token punctuation">.</span>defaultValue<span class="token punctuation">;</span>
      <span class="token keyword">delete</span> obj<span class="token punctuation">.</span>rules<span class="token punctuation">;</span>
      <span class="token keyword">delete</span> obj<span class="token punctuation">.</span>events<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">"select"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">delete</span> obj<span class="token punctuation">.</span>options<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre>
    <ol start="6">
     <li>
      computed里生成要绑定的所有方法对象bindEvents：
     </li>
    </ol>
    <pre><code class="prism language-js"> <span class="token comment">// 绑定方法</span>
   <span class="token function">bindEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
     <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>itemOptions<span class="token punctuation">.</span>events <span class="token operator">||</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre>
    <ol start="7">
     <li>
      处理请求所需参数
     </li>
    </ol>
    <pre><code class="prism language-js"><span class="token comment">// 获取请求参数</span>
   <span class="token function">requestParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
     <span class="token keyword">let</span> params <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>needParams <span class="token punctuation">}</span><span class="token punctuation">;</span>
     <span class="token keyword">let</span> results <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>itemOptions<span class="token punctuation">.</span>dicParamsList<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>itemOptions<span class="token punctuation">.</span>dicParamsList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
         <span class="token keyword">if</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
           results<span class="token punctuation">[</span>item<span class="token punctuation">.</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
         <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
           results<span class="token punctuation">[</span>item<span class="token punctuation">.</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> params<span class="token punctuation">[</span>item<span class="token punctuation">.</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
       <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> results<span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre>
    <ol start="8">
     <li>
      最后组件上使用
     </li>
    </ol>
    <pre><code class="prism language-js"><span class="token operator">&lt;</span>a<span class="token operator">-</span>input
     v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"isInput"</span>
     v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"currentVal"</span>
     v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">"bindProps"</span>
     v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">"bindEvents"</span>
     allowClear
   <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre>
    <h4>
     <a id="3_312">
     </a>
     （3）特殊情况的处理
    </h4>
    <p>
     由于antd的a-select里是通过a-select-option遍历实现的，而遍历数组options按antd官方不是绑定在a-select上的，所以针对a-select的配置项再加一个options属性，即select选择项的数据数组。
    </p>
    <pre><code class="prism language-js"><span class="token operator">&lt;</span>a<span class="token operator">-</span>select
      v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"isSelect"</span>
      v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"currentVal"</span>
      v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">"bindProps"</span>
      v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">"bindEvents"</span>
      allowClear
    <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>a<span class="token operator">-</span>select<span class="token operator">-</span>option
        v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"item in itemOptions.options"</span>
        <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"item.value"</span>
        <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">"item.label"</span>
        <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">"item.value"</span>
      <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>select<span class="token operator">-</span>option<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>select<span class="token operator">&gt;</span>
</code></pre>
    <p>
     created中请求数据
    </p>
    <pre><code class="prism language-js"><span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// select 动态添加options</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>itemOptions<span class="token punctuation">.</span>url<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>itemOptions<span class="token punctuation">.</span>url<span class="token punctuation">,</span>
        <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>requestParams
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>itemOptions<span class="token punctuation">.</span>options <span class="token operator">=</span> res<span class="token punctuation">.</span>data <span class="token operator">&amp;&amp;</span> res<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>itemOptions<span class="token punctuation">.</span>propsHttpRes<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre>
    <h3>
     <a id="6_346">
     </a>
     6、按钮组
    </h3>
    <p>
     目前通过prop传入，三个按钮
    </p>
    <pre><code class="prism language-js"><span class="token comment">// 提交按钮项，多个用逗号分隔（search搜索, export导出, reset重置）</span>
<span class="token literal-property property">btnItems</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
  <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token string">'search'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
    <h3>
     <a id="7_358">
     </a>
     7、使用方式示例
    </h3>
    <p>
     template
    </p>
    <pre><code class="prism language-js"><span class="token operator">&lt;</span>searchForm
      <span class="token operator">:</span>formOptions<span class="token operator">=</span><span class="token string">"formOptions"</span>
      <span class="token operator">:</span>needParams<span class="token operator">=</span><span class="token string">"needParams"</span>
      btnItems<span class="token operator">=</span><span class="token string">"search, export, reset"</span>
    <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre>
    <p>
     data
    </p>
    <pre><code class="prism language-js"><span class="token literal-property property">formOptions</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"用户名很长是是是"</span><span class="token punctuation">,</span> <span class="token comment">// label文字</span>
          <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">"username"</span><span class="token punctuation">,</span> <span class="token comment">// 字段名</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"input"</span><span class="token punctuation">,</span> <span class="token comment">// 指定antd组件</span>
          <span class="token literal-property property">defaultValue</span><span class="token operator">:</span> <span class="token string">"阿黄"</span><span class="token punctuation">,</span> <span class="token comment">// 字段初始值</span>
          <span class="token literal-property property">placeholder</span><span class="token operator">:</span> <span class="token string">"请输入用户名"</span><span class="token punctuation">,</span> <span class="token comment">// antd组件属性</span>
          <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"必填项"</span><span class="token punctuation">,</span> <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">"blur"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// antd组件属性</span>
          <span class="token literal-property property">events</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// antd组件方法</span>
            <span class="token function">input</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"年龄"</span><span class="token punctuation">,</span> <span class="token comment">// label文字</span>
          <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">"age"</span><span class="token punctuation">,</span> <span class="token comment">// 字段名</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"number"</span><span class="token punctuation">,</span> <span class="token comment">// 指定antd组件</span>
          <span class="token literal-property property">defaultValue</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token comment">// 字段初始值</span>
          <span class="token literal-property property">placeholder</span><span class="token operator">:</span> <span class="token string">"请输入年龄"</span><span class="token punctuation">,</span> <span class="token comment">// antd组件属性</span>
          <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"必填项"</span><span class="token punctuation">,</span> <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">"blur"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// antd组件属性</span>
          <span class="token literal-property property">events</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// antd组件方法</span>
            <span class="token function">input</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"性别"</span><span class="token punctuation">,</span> <span class="token comment">// label文字</span>
          <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">"sex"</span><span class="token punctuation">,</span> <span class="token comment">// 字段名</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"select"</span><span class="token punctuation">,</span> <span class="token comment">// 指定antd组件</span>
          <span class="token literal-property property">defaultValue</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token comment">// 字段初始值</span>
          <span class="token literal-property property">placeholder</span><span class="token operator">:</span> <span class="token string">"请选择性别"</span><span class="token punctuation">,</span> <span class="token comment">// antd组件属性</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{<!-- --></span>
              <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"男"</span><span class="token punctuation">,</span>
              <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span>
              <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"女"</span><span class="token punctuation">,</span>
              <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">"2"</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token literal-property property">events</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// antd组件方法</span>
            <span class="token function">change</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"下拉框"</span><span class="token punctuation">,</span> <span class="token comment">// label文字</span>
          <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">"address"</span><span class="token punctuation">,</span> <span class="token comment">// 字段名</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"select"</span><span class="token punctuation">,</span> <span class="token comment">// 指定antd组件</span>
          <span class="token literal-property property">defaultValue</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token comment">// 字段初始值</span>
          <span class="token literal-property property">placeholder</span><span class="token operator">:</span> <span class="token string">"请选择性别"</span><span class="token punctuation">,</span> <span class="token comment">// antd组件属性</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'http://rap2api.taobao.org/app/mock/270426/city'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token string">'get'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">dicParamsList</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{<!-- --></span>
              <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'token'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span>
              <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'bussinessId'</span><span class="token punctuation">,</span>
              <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'324'</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token literal-property property">filedName</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'id'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">propsHttpRes</span><span class="token operator">:</span> <span class="token string">'data'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">events</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// antd组件方法</span>
            <span class="token function">change</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"项目地址"</span><span class="token punctuation">,</span> <span class="token comment">// label文字</span>
          <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">"project"</span><span class="token punctuation">,</span> <span class="token comment">// 字段名</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"cascader"</span><span class="token punctuation">,</span> <span class="token comment">// 指定antd组件</span>
          <span class="token literal-property property">defaultValue</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 字段初始值</span>
          <span class="token literal-property property">placeholder</span><span class="token operator">:</span> <span class="token string">"请选择性别"</span><span class="token punctuation">,</span> <span class="token comment">// antd组件属性</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'http://rap2api.taobao.org/app/mock/270426/getCascaderList'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token string">'get'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">dicParamsList</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{<!-- --></span>
              <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'token'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span>
              <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'bussinessId'</span><span class="token punctuation">,</span>
              <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'324'</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token literal-property property">filedName</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'id'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">propsHttpRes</span><span class="token operator">:</span> <span class="token string">'data'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">events</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// antd组件方法</span>
            <span class="token function">change</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"到货日期"</span><span class="token punctuation">,</span> <span class="token comment">// label文字</span>
          <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">"arrialDate"</span><span class="token punctuation">,</span> <span class="token comment">// 字段名</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"range-picker"</span><span class="token punctuation">,</span> <span class="token comment">// 指定antd组件</span>
          <span class="token literal-property property">defaultValue</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 字段初始值</span>
          <span class="token literal-property property">placeholder</span><span class="token operator">:</span> <span class="token string">"请选择"</span><span class="token punctuation">,</span> <span class="token comment">// antd组件属性</span>
          <span class="token literal-property property">events</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// antd组件方法</span>
            <span class="token function">change</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"发货日期"</span><span class="token punctuation">,</span> <span class="token comment">// label文字</span>
          <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">"delieverDate"</span><span class="token punctuation">,</span> <span class="token comment">// 字段名</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"date-picker"</span><span class="token punctuation">,</span> <span class="token comment">// 指定antd组件</span>
          <span class="token literal-property property">defaultValue</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 字段初始值</span>
          <span class="token literal-property property">placeholder</span><span class="token operator">:</span> <span class="token string">"请选择"</span><span class="token punctuation">,</span> <span class="token comment">// antd组件属性</span>
          <span class="token literal-property property">events</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// antd组件方法</span>
            <span class="token function">change</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre>
    <h3>
     <a id="8_510">
     </a>
     8、完整代码
    </h3>
    <h4>
     <a id="1searchFormvue_511">
     </a>
     （1）searchForm.vue
    </h4>
    <pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"search-form-box"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>a<span class="token operator">-</span>row<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>a<span class="token operator">-</span>form<span class="token operator">-</span>model 
        <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">"formData"</span>
        ref<span class="token operator">=</span><span class="token string">"formRef"</span>
        layout<span class="token operator">=</span><span class="token string">"horizontal"</span>
        <span class="token operator">:</span>label<span class="token operator">-</span>col<span class="token operator">=</span><span class="token string">"labelCol"</span>
        <span class="token operator">:</span>wrapper<span class="token operator">-</span>col<span class="token operator">=</span><span class="token string">"wrapperCol"</span>
      <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>a<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">"6"</span> v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"(item, index) in formOptions"</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"newKeys[index]"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>a<span class="token operator">-</span>form<span class="token operator">-</span>model<span class="token operator">-</span>item
            <span class="token operator">:</span>prop<span class="token operator">=</span><span class="token string">"item.prop"</span>
            <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">"item.label ? item.label + '：' : ''"</span>
            <span class="token operator">:</span>rules<span class="token operator">=</span><span class="token string">"item.rules"</span>
          <span class="token operator">&gt;</span>
            
              <span class="token operator">&lt;</span>formItem v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"formData[item.prop]"</span> <span class="token operator">:</span>itemOptions<span class="token operator">=</span><span class="token string">"item"</span> <span class="token operator">:</span>needParams<span class="token operator">=</span><span class="token string">"needParams"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>form<span class="token operator">-</span>model<span class="token operator">-</span>item<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>col<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 自定义插槽，可用于特殊表单块 <span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>form<span class="token operator">-</span>model<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>row<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>a<span class="token operator">-</span>row type<span class="token operator">=</span><span class="token string">"flex"</span> justify<span class="token operator">=</span><span class="token string">"end"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 提交按钮 <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"btn-box"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>a<span class="token operator">-</span>button
          v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"btnItems.includes('search')"</span>
          type<span class="token operator">=</span><span class="token string">"primary"</span>
          <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"btn-search"</span>
          @click<span class="token operator">=</span><span class="token string">"onSearch"</span>
          <span class="token operator">&gt;</span>搜索<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>button
        <span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span>a<span class="token operator">-</span>button
          v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"btnItems.includes('export')"</span>
          type<span class="token operator">=</span><span class="token string">"primary"</span>
          <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"btn-export"</span>
          @click<span class="token operator">=</span><span class="token string">"onExport"</span>
          <span class="token operator">&gt;</span>导出<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>button
        <span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span>a<span class="token operator">-</span>button
          v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"btnItems.includes('reset')"</span>
          type<span class="token operator">=</span><span class="token string">"default"</span>
          <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"btn-reset"</span>
          @click<span class="token operator">=</span><span class="token string">"onReset"</span>
          <span class="token operator">&gt;</span>重置<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>button
        <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>row<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> formItem <span class="token keyword">from</span> <span class="token string">"./formItem"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> tools <span class="token keyword">from</span> <span class="token string">'@/utils/tools'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'searchForm'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">/**
     * 表单配置
     * 示例：
     * [{
     *   label: '用户名', // label文字
     *   prop: 'username', // 字段名
     *   type: 'input', // 指定antd组件
     *   defaultValue: '阿黄', // 字段初始值
     *   placeholder: '请输入用户名', // antd组件属性
     *   rules: [{ required: true, message: '必填项', trigger: 'blur' }], // antd组件属性
     *   events: { // antd组件方法
     *     input (val) {
     *       console.log(val)
     *     },
     *     ...... // 可添加任意antd组件支持的方法
     *   }
     *   ...... // 可添加任意antd组件支持的属性
     * }]
     */</span>
    <span class="token literal-property property">formOptions</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Array<span class="token punctuation">,</span>
      <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/**
     * 请求所需参数
     * 示例：
     * needParams: {
     *   // 参数名
     *   // 参数值
     *   token: "123"
     *  },
     */</span>
    <span class="token literal-property property">needParams</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 提交按钮项，多个用逗号分隔（search, export, reset）</span>
    <span class="token literal-property property">btnItems</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"search"</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">labelCol</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">xs</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">span</span><span class="token operator">:</span> <span class="token number">24</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">sm</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">span</span><span class="token operator">:</span> <span class="token number">9</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">md</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">span</span><span class="token operator">:</span> <span class="token number">11</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">wrapperCol</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">xs</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">span</span><span class="token operator">:</span> <span class="token number">24</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">sm</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">span</span><span class="token operator">:</span> <span class="token number">15</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">md</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">span</span><span class="token operator">:</span> <span class="token number">13</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">formData</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 生成新的key</span>
    <span class="token function">newKeys</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>formOptions<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> tools<span class="token punctuation">.</span><span class="token function">createUniqueString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addDefaultValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 校验</span>
    <span class="token function">onValidate</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>formRef<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token parameter">valid</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>valid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"提交成功"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>formData<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 搜索</span>
    <span class="token function">onSearch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onValidate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"onSearch"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>formData<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 导出</span>
    <span class="token function">onExport</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onValidate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"onExport"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>formData<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">onReset</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>formRef<span class="token punctuation">.</span><span class="token function">resetFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 添加初始值</span>
    <span class="token function">addDefaultValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>formOptions<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">.</span>defaultValue <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          obj<span class="token punctuation">[</span>v<span class="token punctuation">.</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">.</span>defaultValue<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>formData <span class="token operator">=</span> obj<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> formItem <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">"scss"</span><span class="token operator">&gt;</span>
<span class="token punctuation">.</span>search<span class="token operator">-</span>form<span class="token operator">-</span>box <span class="token punctuation">{<!-- --></span>
  margin<span class="token operator">-</span>bottom<span class="token operator">:</span> 15px<span class="token punctuation">;</span>

  <span class="token punctuation">.</span>btn<span class="token operator">-</span>box <span class="token punctuation">{<!-- --></span>
    padding<span class="token operator">-</span>top<span class="token operator">:</span> 5px<span class="token punctuation">;</span>
    <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>

    button <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> 28px<span class="token punctuation">;</span>
      <span class="token literal-property property">margin</span><span class="token operator">:</span> <span class="token number">0</span> 5px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">.</span>ant<span class="token operator">-</span>input<span class="token operator">-</span>number <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span> <span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">.</span>ant<span class="token operator">-</span>form<span class="token operator">-</span>item <span class="token punctuation">{<!-- --></span>
    margin<span class="token operator">-</span>bottom<span class="token operator">:</span> 10px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>

</code></pre>
    <h4>
     <a id="2formItemvue_722">
     </a>
     （2）formItem.vue
    </h4>
    <pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"form-item"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>a<span class="token operator">-</span>input
      v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"isInput"</span>
      v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"currentVal"</span>
      v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">"bindProps"</span>
      v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">"bindEvents"</span>
      allowClear
    <span class="token operator">/</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>a<span class="token operator">-</span>input<span class="token operator">-</span>number
      v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"isInputNumber"</span>
      v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"currentVal"</span>
      v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">"bindProps"</span>
      v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">"bindEvents"</span>
      allowClear
    <span class="token operator">/</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>a<span class="token operator">-</span>select
      v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"isSelect"</span>
      v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"currentVal"</span>
      v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">"bindProps"</span>
      v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">"bindEvents"</span>
      allowClear
    <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>a<span class="token operator">-</span>select<span class="token operator">-</span>option
        v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"item in itemOptions.options"</span>
        <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"item.value"</span>
        <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">"item.label"</span>
        <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">"item.value"</span>
      <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>select<span class="token operator">-</span>option<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>select<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> datetimerange<span class="token operator">/</span>daterange <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>a<span class="token operator">-</span>range<span class="token operator">-</span>picker
      v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"isDatePickerDateRange"</span>
      v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"currentVal"</span>
      v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">"bindProps"</span>
      v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">"bindEvents"</span>
      <span class="token literal-property property">allowClear</span>
      <span class="token operator">:</span>placeholder<span class="token operator">=</span><span class="token string">"['开始日期', '结束日期']"</span>
      separator<span class="token operator">=</span><span class="token string">"至"</span>
      <span class="token operator">:</span><span class="token keyword">default</span><span class="token operator">-</span>time<span class="token operator">=</span><span class="token string">"['00:00:00', '23:59:59']"</span>
      valueFormat<span class="token operator">=</span><span class="token string">"YYYY-MM-DD"</span>
    <span class="token operator">/</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> monthrange <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>a<span class="token operator">-</span>date<span class="token operator">-</span>picker
      v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"isDatePickerMonthRange"</span>
      v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"currentVal"</span>
      v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">"bindProps"</span>
      v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">"bindEvents"</span>
      type<span class="token operator">=</span><span class="token string">"monthrange"</span>
      <span class="token literal-property property">allowClear</span>
      <span class="token operator">:</span>placeholder<span class="token operator">=</span><span class="token string">"['开始日期', '结束日期']"</span>
      range<span class="token operator">-</span>separator<span class="token operator">=</span><span class="token string">"至"</span>
      valueFormat<span class="token operator">=</span><span class="token string">"YYYY-MM"</span>
    <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>date<span class="token operator">-</span>picker<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> others <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>a<span class="token operator">-</span>date<span class="token operator">-</span>picker
      v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"isDatePickerOthers"</span>
      v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"currentVal"</span>
      v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">"bindProps"</span>
      v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">"bindEvents"</span>
      allowClear
      placeholder<span class="token operator">=</span><span class="token string">"请选择日期"</span>
      valueFormat<span class="token operator">=</span><span class="token string">"YYYY-MM-DD"</span>
    <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>date<span class="token operator">-</span>picker<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>a<span class="token operator">-</span>cascader
      v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"isCascader"</span>
      v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"currentVal"</span>
      v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">"bindProps"</span>
      v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">"bindEvents"</span>
      <span class="token operator">:</span>options<span class="token operator">=</span><span class="token string">"itemOptions.options"</span>
      allowClear
    <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>cascader<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">"axios"</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">inheritAttrs</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">itemOptions</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">needParams</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
      <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 双向绑定数据值</span>
    <span class="token literal-property property">currentVal</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 绑定属性</span>
    <span class="token function">bindProps</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>itemOptions <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token comment">// 移除冗余属性</span>
      <span class="token keyword">delete</span> obj<span class="token punctuation">.</span>label<span class="token punctuation">;</span>
      <span class="token keyword">delete</span> obj<span class="token punctuation">.</span>prop<span class="token punctuation">;</span>
      <span class="token keyword">delete</span> obj<span class="token punctuation">.</span>type<span class="token punctuation">;</span>
      <span class="token keyword">delete</span> obj<span class="token punctuation">.</span>defaultValue<span class="token punctuation">;</span>
      <span class="token keyword">delete</span> obj<span class="token punctuation">.</span>rules<span class="token punctuation">;</span>
      <span class="token keyword">delete</span> obj<span class="token punctuation">.</span>events<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">"select"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">delete</span> obj<span class="token punctuation">.</span>options<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 绑定方法</span>
    <span class="token function">bindEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>itemOptions<span class="token punctuation">.</span>events <span class="token operator">||</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 获取请求参数</span>
    <span class="token function">requestParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">let</span> params <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>needParams <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> results <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>itemOptions<span class="token punctuation">.</span>dicParamsList<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>itemOptions<span class="token punctuation">.</span>dicParamsList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            results<span class="token punctuation">[</span>item<span class="token punctuation">.</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            results<span class="token punctuation">[</span>item<span class="token punctuation">.</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> params<span class="token punctuation">[</span>item<span class="token punctuation">.</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> results<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// a-input</span>
    <span class="token function">isInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>itemOptions<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">"input"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// a-input-number</span>
    <span class="token function">isInputNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>itemOptions<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">"number"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// a-select</span>
    <span class="token function">isSelect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>itemOptions<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">"select"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// a-date-picker (type: datetimerange/daterange)</span>
    <span class="token function">isDatePickerDateRange</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>itemOptions<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">"range-picker"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// a-date-picker (type: monthrange)</span>
    <span class="token function">isDatePickerMonthRange</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>itemOptions<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">"month-range"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//  a-date-picker (type: other)</span>
    <span class="token function">isDatePickerOthers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>itemOptions<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">"date-picker"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// a-cascader</span>
    <span class="token function">isCascader</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>itemOptions<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">"cascader"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// select 动态添加options</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>itemOptions<span class="token punctuation">.</span>url<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>itemOptions<span class="token punctuation">.</span>url<span class="token punctuation">,</span>
        <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>requestParams
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>itemOptions<span class="token punctuation">.</span>options <span class="token operator">=</span> res<span class="token punctuation">.</span>data <span class="token operator">&amp;&amp;</span> res<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>itemOptions<span class="token punctuation">.</span>propsHttpRes<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">"less"</span> scoped<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>

</code></pre>
    <h4>
     <a id="_toolsjs_919">
     </a>
     依赖引入的一些函数方法 tools.js
    </h4>
    <pre><code class="prism language-js"><span class="token comment">/**
 * 创建唯一的字符串
 * @return {string} ojgdvbvaua40
 */</span>
<span class="token keyword">function</span> <span class="token function">createUniqueString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> timestamp <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">""</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> randomNum <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">65536</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">""</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">+</span><span class="token punctuation">(</span>randomNum <span class="token operator">+</span> timestamp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span> 
  createUniqueString<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34363635363938332f:61727469636c652f64657461696c732f313233383836393830" class_="artid" style="display:none">
 </p>
</div>


