---
layout: post
title: "微信小程序开发-app.json全局配置"
date: 2025-01-06 17:51:07 +0800
description: "简单介绍一下微信小程序常见全局配置，方便理解和使用。_app.json"
keywords: "app.json"
categories: ["未分类"]
tags: ["微信小程序", "小程序", "前端", "Json", "Javascript"]
artid: "128799159"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=128799159
  alt: "微信小程序开发-app.json全局配置"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     微信小程序开发 app.json全局配置
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <div class="kdocs-document">
     <p style="">
      JSON 是一种数据格式，在实际开发中，JSON 总是以配置文件的形式出现。
     </p>
     <p style="">
      app.json 是当前小程序的全局配置，可以通过app.json对小程序项目进行设置所有页面路径、窗口外观、界面表现、底部 tab 等。
     </p>
     <pre class="kdocs-javascript"><code class="language-javascript">{
  "pages": [
    "pages/index/index",
    "pages/mine/mine",
    "pages/play/play",
    "pages/mycard/mycard",
    "pages/Record/Record",
    "pages/prize/prize",
    "pages/details/details",
    "pages/lottery/lottery",
    "pages/ar/ar"
  ],
  "window": {
    "backgroundTextStyle": "light",
    "navigationBarBackgroundColor": "#fff",
    "navigationBarTitleText": "我是展示标题",
    "navigationBarTextStyle": "black"
  },
  "tabBar": {
    "backgroundColor": "#FFFFFF",
    "color": "#181818",
    "selectedColor": "#221415",
    "list": [
      {
        "pagePath": "pages/ar/ar",
        "iconPath": "images/tabbar/arg.png",
        "selectedIconPath": "images/tabbar/AR.png",
        "text": "AR"
      },
      {
        "pagePath": "pages/play/play",
        "iconPath": "images/tabbar/play.png",
        "selectedIconPath": "images/tabbar/playg.png",
        "text": "玩法"
      },
      {
        "pagePath": "pages/index/index",
        "iconPath": "images/tabbar/mine.png",
        "selectedIconPath": "images/tabbar/my.png",
        "text": "我的"
      }
    ]
  },
  "usingComponents": {
    "van-image": "@vant/weapp/image/index",
    "van-field": "@vant/weapp/field/index",
    "van-divider": "@vant/weapp/divider/index",
    "van-button": "@vant/weapp/button/index",
    "van-toast": "@vant/weapp/toast/index"
  },
  "requiredPrivateInfos": [
    "getLocation"
  ],
  "permission": {
    "scope.userLocation": {
      "desc": "你的位置信息将用于小程序位置接口的效果展示"
    }
  },
  "sitemapLocation": "sitemap.json"
}</code></pre>
     <div class="kdocs-line-container" style="display:flex;">
      <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1067px;justify-content:center;align-items:center;height:auto;">
       <div class="kdocs-img" style="padding-top:56.23243%;height:0;">
        <img src="https://i-blog.csdnimg.cn/blog_migrate/7f0056200a41f09a282ab5ae03db0454.png" style="margin-left:;display:block;width:1067px;margin-top:-56.23243%;height:auto;">
        </img>
       </div>
      </div>
     </div>
     <p style="">
      pages配置项是一个数组，主要用于记录页面路径。
     </p>
     <p style="">
      第一项路径是小程序默认进入的首页
     </p>
     <pre class="kdocs-javascript"><code class="language-javascript">  "pages": [
    "pages/index/index",
    "pages/mine/mine",
    "pages/play/play",
    "pages/mycard/mycard",
    "pages/Record/Record",
    "pages/prize/prize",
    "pages/details/details",
    "pages/lottery/lottery",
    "pages/ar/ar"
  ],</code></pre>
     <p style="">
      window配置项主要用于更改所有页面的状态栏、导航栏、标题、窗口背景色等。
     </p>
     <pre class="kdocs-javascript"><code class="language-javascript">  "window": {
    "backgroundTextStyle": "light",
    "navigationBarBackgroundColor": "#fff",
    "navigationBarTitleText": "我是展示标题",
    "navigationBarTextStyle": "black"
  },</code></pre>
     <p style="">
      tarBar如果小程序是一个多 tab 应用（客户端窗口的底部或顶部有 tab 栏可以切换页面），可以通过 tabBar 配置项指定 tab 栏的表现，以及 tab 切换时显示的对应页面。
     </p>
     <pre class="kdocs-javascript"><code class="language-javascript">  "tabBar": {
    "backgroundColor": "#FFFFFF",
    "color": "#181818",
    "selectedColor": "#221415",
    "list": [
      {
        "pagePath": "pages/ar/ar",
        "iconPath": "images/tabbar/arg.png",
        "selectedIconPath": "images/tabbar/AR.png",
        "text": "AR"
      },
      {
        "pagePath": "pages/play/play",
        "iconPath": "images/tabbar/play.png",
        "selectedIconPath": "images/tabbar/playg.png",
        "text": "玩法"
      },
      {
        "pagePath": "pages/index/index",
        "iconPath": "images/tabbar/mine.png",
        "selectedIconPath": "images/tabbar/my.png",
        "text": "我的"
      }
    ]
  },</code></pre>
     <div class="kdocs-line-container" style="display:flex;">
      <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;">
       <div class="kdocs-img" style="padding-top:15.0%;height:0;">
        <img src="https://i-blog.csdnimg.cn/blog_migrate/ed82a66dc79549be318f9caaa0d39a63.png" style="margin-left:;display:block;width:740px;margin-top:-15.0%;height:auto;">
        </img>
       </div>
      </div>
     </div>
     <h4 style="">
      usingComponents
     </h4>
     <p style="text-align:null;">
      <span class="kdocs-fontSize" style="font-size:9pt;">
       在 app.json 中声明的自定义组件视为全局自定义组件，在小程序内的页面或自定义组件中可以直接使用而无需再声明。
       <span class="kdocs-italic" style="font-style:italic;">
        建议仅在此声明几乎所有页面都会用到的自定义组件。
       </span>
      </span>
     </p>
     <p style="text-align:null;">
      <span class="kdocs-fontSize" style="font-size:9pt;">
       <span class="kdocs-bold" style="font-weight:bold;">
        注1：全局自定义组件会视为被所有页面依赖，会在所有页面启动时进行初始化，影响启动性能且会占用主包大小。只被个别页面或分包引用的自定义组件应尽量在页面配置中声明。
       </span>
       <span class="kdocs-bold" style="font-weight:bold;">
        注2：在全局声明使用率低的自定义组件会大幅影响
       </span>
      </span>
      <a class="kdocs-link" href="https://developers.weixin.qq.com/miniprogram/dev/framework/ability/lazyload.html" rel="nofollow noopener noreferrer" style="color:#0A6CFF;" target="_blank">
       <span class="kdocs-fontSize" style="font-size:9pt;">
        <span class="kdocs-bold" style="font-weight:bold;">
         按需注入
        </span>
       </span>
      </a>
      <span class="kdocs-fontSize" style="font-size:9pt;">
       <span class="kdocs-bold" style="font-weight:bold;">
        的效果。
       </span>
      </span>
     </p>
     <p style="text-align:null;">
      <span class="kdocs-fontSize" style="font-size:9pt;">
       我在这里用的是vant的微信小程序组件库
      </span>
      <a class="kdocs-link" href="https://youzan.github.io/vant-weapp/#/home" rel="nofollow noopener noreferrer" style="color:#0A6CFF;" target="_blank">
       <span class="kdocs-fontSize" style="font-size:9pt;">
        https://youzan.github.io/vant-weapp/#/home
       </span>
      </a>
      <span class="kdocs-fontSize" style="font-size:9pt;">
       （Vant Weapp）
      </span>
     </p>
     <pre class="kdocs-javascript"><code class="language-javascript">  "usingComponents": {
    "van-image": "@vant/weapp/image/index",
    "van-field": "@vant/weapp/field/index",
    "van-divider": "@vant/weapp/divider/index",
    "van-button": "@vant/weapp/button/index",
    "van-toast": "@vant/weapp/toast/index"
  },</code></pre>
     <h4 style="text-align:left;">
      <span class="kdocs-bold" style="font-weight:bold;">
       requiredPrivateInfos
      </span>
     </h4>
     <p style="text-align:null;">
      <span class="kdocs-fontSize" style="font-size:9pt;">
       自 2022 年 7 月 14 日后发布的小程序，使用以下8个地理位置相关接口时，需要声明该字段，否则将无法正常使用。2022 年 7 月 14 日前发布的小程序不受影响。
      </span>
     </p>
     <p style="text-align:null;">
      <span class="kdocs-fontSize" style="font-size:9pt;">
       申明需要使用的地理位置相关接口，类型为数组。目前支持以下项目：
      </span>
     </p>
     <ul>
      <li style="margin-left:1.4em;list-style-type:disc;text-indent:0;">
       <p>
        <a class="kdocs-link" href="https://developers.weixin.qq.com/miniprogram/dev/api/location/wx.getFuzzyLocation.html" rel="nofollow noopener noreferrer" style="color:#0A6CFF;" target="_blank">
         getFuzzyLocation
        </a>
        : 获取模糊地理位置
       </p>
      </li>
     </ul>
     <ul>
      <li style="margin-left:1.4em;list-style-type:disc;text-indent:0;">
       <p>
        <a class="kdocs-link" href="https://developers.weixin.qq.com/miniprogram/dev/api/location/wx.getLocation.html" rel="nofollow noopener noreferrer" style="color:#0A6CFF;" target="_blank">
         getLocation
        </a>
        : 获取精确地理位置
       </p>
      </li>
     </ul>
     <ul>
      <li style="margin-left:1.4em;list-style-type:disc;text-indent:0;">
       <p>
        <a class="kdocs-link" href="https://developers.weixin.qq.com/miniprogram/dev/api/location/wx.onLocationChange.html" rel="nofollow noopener noreferrer" style="color:#0A6CFF;" target="_blank">
         onLocationChange
        </a>
        : 监听试试地理位置变化事件
       </p>
      </li>
     </ul>
     <ul>
      <li style="margin-left:1.4em;list-style-type:disc;text-indent:0;">
       <p>
        <a class="kdocs-link" href="https://developers.weixin.qq.com/miniprogram/dev/api/location/wx.startLocationUpdate.html" rel="nofollow noopener noreferrer" style="color:#0A6CFF;" target="_blank">
         startLocationUpdate
        </a>
        : 接收位置消息（前台）
       </p>
      </li>
     </ul>
     <ul>
      <li style="margin-left:1.4em;list-style-type:disc;text-indent:0;">
       <p>
        <a class="kdocs-link" href="https://developers.weixin.qq.com/miniprogram/dev/api/location/wx.startLocationUpdateBackground.html" rel="nofollow noopener noreferrer" style="color:#0A6CFF;" target="_blank">
         startLocationUpdateBackground
        </a>
        : 接收位置消息（前后台）
       </p>
      </li>
     </ul>
     <ul>
      <li style="margin-left:1.4em;list-style-type:disc;text-indent:0;">
       <p>
        <a class="kdocs-link" href="https://developers.weixin.qq.com/miniprogram/dev/api/location/wx.chooseLocation.html" rel="nofollow noopener noreferrer" style="color:#0A6CFF;" target="_blank">
         chooseLocation
        </a>
        : 打开地图选择位置
       </p>
      </li>
     </ul>
     <ul>
      <li style="margin-left:1.4em;list-style-type:disc;text-indent:0;">
       <p>
        <a class="kdocs-link" href="https://developers.weixin.qq.com/miniprogram/dev/api/location/wx.choosePoi.html" rel="nofollow noopener noreferrer" style="color:#0A6CFF;" target="_blank">
         choosePoi
        </a>
        : 打开 POI 列表选择位置
       </p>
      </li>
     </ul>
     <ul>
      <li style="margin-left:1.4em;list-style-type:disc;text-indent:0;">
       <p>
        <a class="kdocs-link" href="https://developers.weixin.qq.com/miniprogram/dev/api/open-api/address/wx.chooseAddress.html" rel="nofollow noopener noreferrer" style="color:#0A6CFF;" target="_blank">
         chooseAddress
        </a>
        : 获取用户地址信息
       </p>
      </li>
     </ul>
     <pre class="kdocs-javascript"><code class="language-javascript">  "requiredPrivateInfos": [
    "getLocation"
  ],</code></pre>
     <h4 style="text-align:left;">
      <span class="kdocs-bold" style="font-weight:bold;">
       permission
      </span>
     </h4>
     <blockquote class="kdocs-blockquote" style="text-align:left;">
      <span class="kdocs-fontSize" style="font-size:9pt;">
       微信客户端 7.0.0 及以上版本支持
      </span>
     </blockquote>
     <p style="text-align:null;">
      <span class="kdocs-fontSize" style="font-size:9pt;">
       小程序
      </span>
      <a class="kdocs-link" href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/authorize.html" rel="nofollow noopener noreferrer" style="color:#0A6CFF;" target="_blank">
       <span class="kdocs-fontSize" style="font-size:9pt;">
        接口权限
       </span>
      </a>
      <span class="kdocs-fontSize" style="font-size:9pt;">
       相关设置。字段类型为
      </span>
      Object
      <span class="kdocs-fontSize" style="font-size:9pt;">
       ，结构为：
      </span>
     </p>
     <pre class="kdocs-javascript"><code class="language-javascript">  "permission": {
    "scope.userLocation": {
      "desc": "你的位置信息将用于小程序位置接口的效果展示"
    }
  },</code></pre>
     <h4 style="text-align:left;">
      <span class="kdocs-bold" style="font-weight:bold;">
       sitemapLocation
      </span>
     </h4>
     <p style="text-align:null;">
      <span class="kdocs-fontSize" style="font-size:9pt;">
       指明
      </span>
      <a class="kdocs-link" href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/sitemap.html" rel="nofollow noopener noreferrer" style="color:#0A6CFF;" target="_blank">
       <span class="kdocs-fontSize" style="font-size:9pt;">
        sitemap.json
       </span>
      </a>
      <span class="kdocs-fontSize" style="font-size:9pt;">
       的位置；默认为 'sitemap.json' 即在 app.json 同级目录下名字的
      </span>
      sitemap.json
      <span class="kdocs-fontSize" style="font-size:9pt;">
       文件
      </span>
     </p>
     <pre class="kdocs-javascript"><code class="language-javascript">  "sitemapLocation": "sitemap.json"</code></pre>
    </div>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f36303332323631342f:61727469636c652f64657461696c732f313238373939313539" class_="artid" style="display:none">
 </p>
</div>
