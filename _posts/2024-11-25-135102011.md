---
layout: post
title: 微信小程序开发从零到壹持续更新
date: 2024-11-25 11:46:30 +0800
categories: ['前端基础']
tags: ['微信小程序', 'Notepad']
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=135102011
    alt: 微信小程序开发从零到壹持续更新
artid: 135102011
render_with_liquid: false
---
<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     微信小程序开发从零到壹（持续更新）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <div style="text-align:center;">
     <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/b378bd14b855a1c7c468ff2746ac193e.png">
     </img>
    </div>
    <div>
    </div>
    <div>
     <div>
      <h3 style="text-align:left;">
      </h3>
      <h3 style="text-align:left;">
       <strong>
        <span style="color:#1a1a1a;">
         1、注册或者登录到微信小程序；
        </span>
       </strong>
      </h3>
      <p style="margin-left:0;text-align:left;">
       <a href="https://mp.weixin.qq.com/wxamp/home/guide?lang=zh_CN&amp;token=1924168921" rel="nofollow" title="小程序">
        小程序
       </a>
      </p>
      <p style="margin-left:0;text-align:left;">
       <span style="background-color:#ffffff;">
        <span style="color:#9a9a9a;">
         补充小程序的基本信息，如名称、图标、描述等
        </span>
       </span>
      </p>
      <p style="margin-left:0;text-align:left;">
       <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/4a52e465ef13c1c4ec016d8d11bfcae1.png"/>
      </p>
      <p style="margin-left:0;text-align:left;">
       <span style="background-color:#ffffff;">
        <span style="color:#9a9a9a;">
         补充小程序的服务类目，设置主营类目
        </span>
       </span>
      </p>
      <p style="margin-left:0px;text-align:center;">
       <span style="background-color:#ffffff;">
        <span style="color:#9a9a9a;">
         <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/2fc816e94aaceee12b833c030580f002.png"/>
        </span>
       </span>
      </p>
      <div>
      </div>
      <div>
       <div>
        <p style="margin-left:0;text-align:left;">
         <span style="background-color:#ffffff;">
          <span style="color:#9a9a9a;">
           AppID(小程序ID)：
          </span>
         </span>
         <span style="background-color:#ffffff;">
          <span style="color:#353535;">
           wx710efeb42778d131
          </span>
         </span>
        </p>
        <p style="margin-left:0;text-align:left;">
         <span style="background-color:#ffffff;">
          <span style="color:#9a9a9a;">
           AppSecret(小程序密钥)：
          </span>
         </span>
         <span style="background-color:#ffffff;">
          <span style="color:#000000;">
           d12a7e2b135593f6fxxxxbe35666
          </span>
         </span>
        </p>
        <p style="margin-left:0;text-align:left;">
        </p>
        <div>
        </div>
        <div>
         <div>
          <h3 style="background-color:transparent;text-align:left;">
           <strong>
            <span style="color:#1a1a1a;">
             2、开发者工具；
            </span>
           </strong>
          </h3>
          <p>
           <strong>
            <span style="color:#1a1a1a;">
             下载开发者工具进行代码的开发和上传
            </span>
           </strong>
          </p>
          <p style="margin-left:0;text-align:left;">
           <span style="color:#333333;">
            打开微信开发者工具，
           </span>
          </p>
          <p style="margin-left:0;text-align:left;">
           <span style="color:#333333;">
            可以选择商场模版或者使用空白模版创建小程序文件夹；
           </span>
          </p>
          <p style="margin-left:0;text-align:left;">
           <span style="color:#333333;">
            代码进行自定义之后， 在开发者工具的右上角选择上传。
           </span>
          </p>
          <p style="margin-left:0;text-align:left;">
           <span style="background-color:#ffffff;">
            <span style="color:#9a9a9a;">
             添加开发者，进行代码上传。
            </span>
           </span>
          </p>
          <p style="margin-left:0;text-align:left;">
           <span style="background-color:#ffffff;">
            <span style="color:#9a9a9a;">
             在
            </span>
           </span>
           <a href="https://mp.weixin.qq.com/wxamp/devprofile/get_profile?token=363982839&amp;lang=zh_CN" rel="nofollow" title="开发设置">
            开发设置
           </a>
           <span style="background-color:#ffffff;">
            <span style="color:#9a9a9a;">
             页面查看AppID和AppSecret，配置服务器域名，或使用
            </span>
           </span>
           <a href="https://cloud.weixin.qq.com/cloudbase" rel="nofollow" title="微信云开发">
            微信云开发
           </a>
           <span style="background-color:#ffffff;">
            <span style="color:#9a9a9a;">
             或
            </span>
           </span>
           <span style="background-color:#ffffff;">
            <span style="color:#576b95;">
             微信云托管
            </span>
           </span>
           <span style="background-color:#ffffff;">
            <span style="color:#9a9a9a;">
             ，免配置服务器。
            </span>
           </span>
          </p>
          <p style="margin-left:0;text-align:left;">
           <span style="background-color:#ffffff;">
            <span style="color:#9a9a9a;">
             可以阅读入门介绍（
            </span>
           </span>
           <a href="https://developers.weixin.qq.com/miniprogram/introduction/index.html" rel="nofollow" title="普通小程序">
            普通小程序
           </a>
           <span style="background-color:#ffffff;">
            <span style="color:#9a9a9a;">
             |
            </span>
           </span>
           <a href="https://developers.weixin.qq.com/minigame/introduction/index.html" rel="nofollow" title="小游戏">
            小游戏
           </a>
           <span style="background-color:#ffffff;">
            <span style="color:#9a9a9a;">
             ）、开发文档（
            </span>
           </span>
           <a href="https://developers.weixin.qq.com/miniprogram/dev/index.html" rel="nofollow" title="普通小程序">
            普通小程序
           </a>
           <span style="background-color:#ffffff;">
            <span style="color:#9a9a9a;">
             |
            </span>
           </span>
           <a href="https://developers.weixin.qq.com/minigame/dev/guide/" rel="nofollow" title="小游戏">
            小游戏
           </a>
           <span style="background-color:#ffffff;">
            <span style="color:#9a9a9a;">
             ）、
            </span>
           </span>
           <a href="https://mp.weixin.qq.com/wxopen/wawiki?action=dir_list&amp;type=design&amp;token=363982839&amp;lang=zh_CN" rel="nofollow" title="设计规范">
            设计规范
           </a>
           <span style="background-color:#ffffff;">
            <span style="color:#9a9a9a;">
             和
            </span>
           </span>
           <a href="https://mp.weixin.qq.com/wxopen/wawiki?action=dir_list&amp;type=manage&amp;token=363982839&amp;lang=zh_CN" rel="nofollow" title="运营规范">
            运营规范
           </a>
           <span style="background-color:#ffffff;">
            <span style="color:#9a9a9a;">
             。
            </span>
           </span>
          </p>
          <p style="margin-left:0;text-align:left;">
          </p>
          <h3 style="text-align:left;">
           <strong>
            <span style="color:#1a1a1a;">
             3、选择模版；
            </span>
           </strong>
          </h3>
          <p style="margin-left:0;text-align:left;">
           <span style="color:#333333;">
            选择相对应的模版快速创建小程序， 然后修改之后进行上传；
           </span>
          </p>
          <p style="margin-left:0;text-align:left;">
           <span style="color:#333333;">
            点击版本管理可以查看上传记录；
           </span>
          </p>
          <p style="margin-left:0;text-align:left;">
          </p>
          <h3 style="background-color:transparent;text-align:left;">
           <strong>
            <span style="color:#1a1a1a;">
             4、版本管理；
            </span>
           </strong>
          </h3>
          <p style="margin-left:0;text-align:left;">
           <span style="background-color:#ffffff;">
            <span style="color:#9a9a9a;">
             先提交代码，然后提交审核，审核通过后可发布。
            </span>
           </span>
          </p>
          <p style="margin-left:0;text-align:left;">
          </p>
          <h3 style="text-align:left;">
           <strong>
            <span style="color:#1a1a1a;">
             5、小程序登录；
            </span>
           </strong>
          </h3>
          <p style="margin-left:0;text-align:left;">
           <span style="color:#333333;">
            第一步： 使用wx.login 获取code。
           </span>
          </p>
          <p style="margin-left:0;text-align:left;">
           <span style="color:#333333;">
            第二步： 获取头像、昵称等使用 wx.getUserProfile 获取 iv 与 encryptedData；
           </span>
          </p>
          <p style="margin-left:0;text-align:left;">
           <span style="color:#333333;">
            第三步： 使用code、iv、encryptedData 作为参数请求服务器接口；
           </span>
          </p>
          <p style="margin-left:0;text-align:left;">
           <span style="color:#333333;">
            第四步： 服务器使用code和小程序的appid 和 secret 请求
           </span>
           <span style="color:#333333;">
            api.weixin.qq.com/sns/jscode2session 换取
           </span>
           <span style="background-color:#ffffff;">
            <span style="color:#de3c36;">
             sessionKey
            </span>
           </span>
           <span style="background-color:#ffffff;">
            <span style="color:#de3c36;">
             和openid；
            </span>
           </span>
          </p>
          <p style="margin-left:0;text-align:left;">
           <span style="color:#333333;">
            第五步： 使用appid 和seccionKey制作解密文， 再将iv、encryptedData解密得到用户基本信息；
           </span>
          </p>
          <pre><span style="background-color:#fafafa;"><code><span style="color:#000000;">let bizDataCrypt = new WXBizDataCrypt(appid, sessionKey)</span>
<span style="color:#000000;">const data = bizDataCrypt.decryptData(encryptedData, iv)</span>
</code></span>
</pre>
          <h6 style="margin-left:0pt;text-align:left;">
           <strong>
            <span style="color:#1a1a1a;">
             企业微信登录相关
            </span>
           </strong>
          </h6>
          <p style="margin-left:0;text-align:left;">
           <span style="color:#333333;">
            选择企业微信小程序模式： 调用
           </span>
           <a href="http://wx.qy.login" rel="nofollow" title="wx.qy.login">
            wx.qy.login
           </a>
           <span style="color:#333333;">
            获取code，
           </span>
          </p>
          <p style="margin-left:0;text-align:left;">
           <span style="color:#333333;">
            请求后端接口获取
           </span>
          </p>
          <p style="margin-left:0;text-align:left;">
          </p>
          <pre><span style="background-color:#fafafa;"><code><span style="color:#000000;">接口地址：https://qyapi.weixin.qq.com/cgi-bin/miniprogram/jscode2session?access_token=ACCESS_TOKEN&amp;js_code=CODE&amp;grant_type=authorization_code</span>
<span style="color:#000000;">access_token 调用接口凭证(注意，此处的access_token 是企业微信应用的access_token，获取方法参见“获取access_token”。要求必须由该小程序关联的企业微信应用的secret获取</span>
<span style="color:#000000;">js_code	  登录时获取的 code</span>
<span style="color:#000000;">grant_type  此处固定为authorization_code</span>
<span style="color:#000000;">最终得到： </span>
<span style="color:#000000;"> "corpid": "CORPID",  </span>
<span style="color:#000000;"> "userid": "USERID", </span>
<span style="color:#000000;"> "session_key": "kJtdi6RF+Dv67QkbLlPGjw=="</span>
</code></span>
</pre>
          <h6 style="margin-left:0pt;text-align:left;">
           <strong>
            <span style="color:#1a1a1a;">
             获取access_token
            </span>
           </strong>
          </h6>
          <p style="margin-left:0;text-align:left;">
           <span style="color:#0e131a;">
            为了安全考虑，开发者
           </span>
           <strong>
            <span style="color:#0e131a;">
             请勿
            </span>
           </strong>
           <span style="color:#0e131a;">
            将 access_token 返回给前端，需要开发者保存在后台，所有访问企业微信api的请求由后台发起
           </span>
          </p>
          <pre><span style="background-color:#fafafa;"><code><span style="color:#000000;">请求方式： </span><span style="color:#990055;">GET</span><span style="color:#000000;">（</span><span style="color:#990055;">HTTPS</span><span style="color:#000000;">）</span>
<span style="color:#000000;">请求地址： https</span><span style="color:#999999;">:</span><span style="color:#9a6e3a;">//</span><span style="color:#000000;">qyapi</span><span style="color:#999999;">.</span><span style="color:#000000;">weixin</span><span style="color:#999999;">.</span><span style="color:#000000;">qq</span><span style="color:#999999;">.</span><span style="color:#000000;">com</span><span style="color:#9a6e3a;">/</span><span style="color:#000000;">cgi</span><span style="color:#9a6e3a;">-</span><span style="color:#000000;">bin</span><span style="color:#9a6e3a;">/</span><span style="color:#000000;">gettoken</span><span style="color:#9a6e3a;">?</span><span style="color:#000000;">corpid</span><span style="color:#9a6e3a;">=</span><span style="color:#990055;">ID</span><span style="color:#9a6e3a;">&amp;</span><span style="color:#000000;">corpsecret</span><span style="color:#9a6e3a;">=</span><span style="color:#990055;">SECRET</span>
<span style="color:#000000;">需要企业</span><span style="color:#990055;">ID</span><span style="color:#000000;"> 与 应用的凭证密钥</span>
</code></span></pre>
          <p>
          </p>
          <h6 style="margin-left:0pt;text-align:left;">
           <strong>
            <span style="color:#1a1a1a;">
             获取个人信息
            </span>
           </strong>
          </h6>
          <pre><span style="background-color:#fafafa;"><code><span style="color:#000000;">https:</span><span style="color:#708090;">//qyapi.weixin.qq.com/cgi-bin/user/getuserinfo?access_token=ACCESS_TOKEN&amp;code=CODE。</span>
<span style="color:#000000;">解析API返回的JSON数据，获取到用户的详细信息，包括姓名、头像、手机号码等。</span>

<span style="color:#000000;">需要注意的是，企业微信小程序只能获取到企业内部员工的个人信息，对于未在企业微信中注册的用户无法获取。</span>
</code></span>
</pre>
          <h3 style="text-align:left;">
           <strong>
            <span style="color:#1a1a1a;">
             6、小程序开发细节
            </span>
           </strong>
          </h3>
          <h6 style="margin-left:0pt;text-align:left;">
           <strong>
            <span style="color:#1a1a1a;">
             Q：主体信息是 上海翌擎智能科技有限公司， 关联到  上海吉驾 ， 会不会有问题？
            </span>
           </strong>
          </h6>
          <p style="margin-left:0;text-align:left;">
           <span style="color:#333333;">
            A：
           </span>
           <span style="color:#333333;">
            走的服务商代开发模式，服务商是翌擎，小程序属于翌擎，翌擎帮吉驾开发小程序，关联翌擎帮吉驾代开发的企业应用。
           </span>
          </p>
          <p style="margin-left:0;text-align:left;">
          </p>
          <h6 style="margin-left:0px;text-align:left;">
           <span style="color:#333333;">
            wxml上给函数传参数：
           </span>
          </h6>
          <pre><span style="background-color:#fafafa;"><code><span style="color:#9a6e3a;">&lt;</span><span style="color:#ee9900;">view</span> <span style="color:#ee9900;">bindtap</span><span style="color:#9a6e3a;">=</span><span style="color:#669900;">"handleTap"</span> <span style="color:#ee9900;">data</span><span style="color:#9a6e3a;">-</span><span style="color:#ee9900;">id</span><span style="color:#9a6e3a;">=</span><span style="color:#669900;">"123"</span><span style="color:#9a6e3a;">&gt;</span><span style="color:#000000;">点击我</span><span style="color:#9a6e3a;">&lt;/</span><span style="color:#ee9900;">view</span><span style="color:#9a6e3a;">&gt;</span>
<span style="color:#dd4a68;">Page</span><span style="color:#999999;">({<!-- --></span>
  <span style="color:#ee9900;">handleTap</span><span style="color:#999999;">:</span> <span style="color:#dd4a68;">function</span><span style="color:#999999;">(</span><span style="color:#ee9900;">event</span><span style="color:#999999;">)</span> <span style="color:#999999;">{<!-- --></span>
    <span style="color:#ee9900;">var</span> <span style="color:#ee9900;">id</span> <span style="color:#9a6e3a;">=</span> <span style="color:#ee9900;">event</span><span style="color:#999999;">.</span><span style="color:#ee9900;">currentTarget</span><span style="color:#999999;">.</span><span style="color:#ee9900;">dataset</span><span style="color:#999999;">.</span><span style="color:#ee9900;">id</span><span style="color:#999999;">;</span>
    <span style="color:#ee9900;">console</span><span style="color:#999999;">.</span><span style="color:#dd4a68;">log</span><span style="color:#999999;">(</span><span style="color:#669900;">'参数值为:'</span><span style="color:#999999;">,</span> <span style="color:#ee9900;">id</span><span style="color:#999999;">);</span>
  <span style="color:#999999;">}</span>
<span style="color:#999999;">});</span>
</code></span></pre>
          <p>
          </p>
          <h6 style="margin-left:0px;text-align:left;">
           <span style="color:#333333;">
            小程序路由跳转：
           </span>
          </h6>
          <pre><span style="background-color:#fafafa;"><code><span style="color:#000000;">   wx</span><span style="color:#999999;">.</span><span style="color:#dd4a68;">navigateTo</span><span style="color:#999999;">({<!-- --></span>
<span style="color:#000000;">      url</span><span style="color:#999999;">:</span><span style="color:#000000;"> '</span><span style="color:#9a6e3a;">/</span><span style="color:#000000;">pages</span><span style="color:#9a6e3a;">/</span><span style="color:#000000;">delivery</span><span style="color:#9a6e3a;">/</span><span style="color:#000000;">feat</span><span style="color:#9a6e3a;">/</span><span style="color:#000000;">index'</span>
    <span style="color:#999999;">});</span>
</code></span></pre>
          <p>
          </p>
          <h6 style="margin-left:0px;text-align:left;">
           <span style="color:#333333;">
            父组件调用子组件
           </span>
          </h6>
          <pre><span style="background-color:#fafafa;"><code><span style="color:#000000;">调用时：   </span><span style="color:#9a6e3a;">&lt;</span><span style="color:#0077aa;">to</span><span style="color:#9a6e3a;">-</span><span style="color:#000000;">json id</span><span style="color:#9a6e3a;">=</span><span style="color:#669900;">'to_json'</span><span style="color:#9a6e3a;">&gt;&lt;/</span><span style="color:#0077aa;">to</span><span style="color:#9a6e3a;">-</span><span style="color:#000000;">json</span><span style="color:#9a6e3a;">&gt;</span>
<span style="color:#000000;">使用数据： </span><span style="color:#0077aa;">const</span><span style="color:#000000;"> component </span><span style="color:#9a6e3a;">=</span> <span style="color:#0077aa;">this</span><span style="color:#999999;">.</span><span style="color:#dd4a68;">selectComponent</span><span style="color:#999999;">(</span><span style="color:#669900;">"#to_json"</span><span style="color:#999999;">);</span>
<span style="color:#dd4a68;">childF</span><span style="color:#999999;">(){<!-- --></span>
	<span style="color:#0077aa;">this</span><span style="color:#999999;">.</span><span style="color:#000000;">childEle</span><span style="color:#999999;">.</span><span style="color:#dd4a68;">foo</span><span style="color:#999999;">()</span> <span style="color:#708090;">// 调用方法</span>
    <span style="color:#0077aa;">const</span> <span style="color:#0077aa;">data</span> <span style="color:#9a6e3a;">=</span><span style="color:#000000;"> component</span><span style="color:#999999;">.</span><span style="color:#000000;">data</span><span style="color:#999999;">;</span> <span style="color:#708090;">// 子组件的data</span>
<span style="color:#999999;">}</span>
</code></span></pre>
          <p>
          </p>
          <h6 style="margin-left:0px;text-align:left;">
           <span style="color:#333333;">
            子组件调用父组件
           </span>
          </h6>
          <pre><span style="background-color:#fafafa;"><code><span style="color:#000000;">传值</span>
<span style="color:#9a6e3a;">&lt;</span><span style="color:#ee9900;">childEle</span> <span style="color:#ee9900;">childParams</span><span style="color:#9a6e3a;">=</span><span style="color:#669900;">"{<!-- -->{params}}"</span><span style="color:#9a6e3a;">&gt;&lt;/</span><span style="color:#ee9900;">childEle</span><span style="color:#9a6e3a;">&gt;</span>
<span style="color:#ee9900;">properties</span><span style="color:#999999;">:</span> <span style="color:#999999;">{<!-- --></span>
	<span style="color:#ee9900;">childParams</span><span style="color:#999999;">:</span> <span style="color:#999999;">{<!-- --></span> <span style="color:#ee9900;">type</span><span style="color:#999999;">:</span> <span style="color:#ee9900;">String</span> <span style="color:#999999;">}</span>
<span style="color:#999999;">}</span>
<span style="color:#000000;">调用方法</span>
<span style="color:#9a6e3a;">&lt;</span><span style="color:#ee9900;">childEle</span> <span style="color:#ee9900;">childParams</span><span style="color:#9a6e3a;">=</span><span style="color:#669900;">"{<!-- -->{params}}"</span> <span style="color:#ee9900;">bind</span><span style="color:#999999;">:</span><span style="color:#ee9900;">childFun</span><span style="color:#9a6e3a;">=</span><span style="color:#669900;">"fun"</span><span style="color:#9a6e3a;">&gt;&lt;/</span><span style="color:#ee9900;">childEle</span><span style="color:#9a6e3a;">&gt;</span>
<span style="color:#dd4a68;">clickFun</span><span style="color:#999999;">(){<!-- --></span>
	<span style="color:#ee9900;">this</span><span style="color:#999999;">.</span><span style="color:#dd4a68;">triggerEvent</span><span style="color:#999999;">(</span><span style="color:#669900;">'childFun'</span><span style="color:#999999;">);</span>
<span style="color:#999999;">}</span>
</code></span></pre>
          <p>
          </p>
          <p style="margin-left:0;text-align:left;">
          </p>
          <p style="margin-left:0pt;text-align:left;">
           <strong>
            <span style="color:#1a1a1a;">
             Q: 微信小程序没有双向绑定，所以输入框增加输入事件
            </span>
           </strong>
          </p>
          <pre><span style="background-color:#fafafa;"><code><span style="color:#9a6e3a;">&lt;</span><span style="color:#000000;">input bindinput</span><span style="color:#9a6e3a;">=</span><span style="color:#669900;">"onInput"</span><span style="color:#000000;"> value</span><span style="color:#9a6e3a;">=</span><span style="color:#669900;">"{<!-- -->{ inputValue }}"</span> <span style="color:#9a6e3a;">/&gt;</span>
<span style="color:#708090;">// 在页面或组件的方法中定义事件处理函数</span>
<span style="color:#dd4a68;">onInput</span><span style="color:#999999;">(</span><span style="color:#000000;">event</span><span style="color:#999999;">)</span> <span style="color:#999999;">{<!-- --></span>
  <span style="color:#0077aa;">const</span><span style="color:#000000;"> value </span><span style="color:#9a6e3a;">=</span><span style="color:#000000;"> event</span><span style="color:#999999;">.</span><span style="color:#000000;">detail</span><span style="color:#999999;">.</span><span style="color:#000000;">value</span><span style="color:#999999;">;</span> <span style="color:#708090;">// 获取输入框的值</span>
  <span style="color:#0077aa;">this</span><span style="color:#999999;">.</span><span style="color:#dd4a68;">setData</span><span style="color:#999999;">({<!-- --></span>
<span style="color:#000000;">    inputValue</span><span style="color:#9a6e3a;">:</span><span style="color:#000000;"> value</span><span style="color:#999999;">,</span> <span style="color:#708090;">// 将输入框的值保存到页面或组件的 data 中</span>
  <span style="color:#999999;">});</span>
<span style="color:#999999;">}</span>
</code></span></pre>
          <p>
          </p>
          <p style="margin-left:0;text-align:left;">
          </p>
          <h6 style="margin-left:0pt;text-align:left;">
           <strong>
            <span style="color:#1a1a1a;">
             Q: T_Design组件t-input绑定事件并且传参数。。（折腾半天）
            </span>
           </strong>
          </h6>
          <pre><span style="background-color:#fafafa;"><code><span style="color:#000000;"> html：  </span><span style="color:#9a6e3a;">&lt;</span><span style="color:#000000;">t</span><span style="color:#9a6e3a;">-</span><span style="color:#000000;">input bindchange</span><span style="color:#9a6e3a;">=</span><span style="color:#669900;">"inputModel"</span>  <span style="color:#0077aa;">data</span><span style="color:#9a6e3a;">-</span><span style="color:#000000;">index</span><span style="color:#9a6e3a;">=</span><span style="color:#669900;">"{<!-- -->{index}}"</span> <span style="color:#0077aa;">data</span><span style="color:#9a6e3a;">-</span><span style="color:#000000;">key</span><span style="color:#9a6e3a;">=</span><span style="color:#669900;">"{<!-- -->{'carrierOrder'}}"</span><span style="color:#000000;">  value</span><span style="color:#9a6e3a;">=</span><span style="color:#669900;">"{<!-- -->{item.carrierOrder}}"</span><span style="color:#9a6e3a;">/&gt;</span>
<span style="color:#000000;"> js：     </span><span style="color:#dd4a68;">inputModel</span><span style="color:#999999;">(</span><span style="color:#000000;">e</span><span style="color:#999999;">){<!-- --></span>
         <span style="color:#0077aa;">const</span> <span style="color:#999999;">{<!-- --></span><span style="color:#000000;"> index </span><span style="color:#999999;">}</span> <span style="color:#9a6e3a;">=</span><span style="color:#000000;"> e</span><span style="color:#999999;">.</span><span style="color:#000000;">currentTarget</span><span style="color:#999999;">.</span><span style="color:#000000;">dataset</span><span style="color:#999999;">;</span>
         <span style="color:#0077aa;">const</span> <span style="color:#999999;">{<!-- --></span><span style="color:#000000;"> key </span><span style="color:#999999;">}</span> <span style="color:#9a6e3a;">=</span><span style="color:#000000;"> e</span><span style="color:#999999;">.</span><span style="color:#000000;">currentTarget</span><span style="color:#999999;">.</span><span style="color:#000000;">dataset</span><span style="color:#999999;">;</span>
         <span style="color:#0077aa;">this</span><span style="color:#999999;">.</span><span style="color:#000000;">data</span><span style="color:#999999;">.</span><span style="color:#000000;">carriers</span><span style="color:#999999;">[</span><span style="color:#000000;">index</span><span style="color:#999999;">][</span><span style="color:#000000;">key</span><span style="color:#999999;">]</span><span style="color:#9a6e3a;">=</span><span style="color:#000000;"> e</span><span style="color:#999999;">.</span><span style="color:#000000;">detail</span><span style="color:#999999;">.</span><span style="color:#000000;">value </span>
      <span style="color:#999999;">},</span>
</code></span></pre>
          <p>
          </p>
          <h6 style="margin-left:0pt;text-align:left;">
           <strong>
            <span style="color:#1a1a1a;">
             Q: 文件上传报错解析异常！
            </span>
           </strong>
          </h6>
          <pre><span style="background-color:#fafafa;"><code><span style="color:#000000;">微信小程序将本地文件转为临时路径： url</span><span style="color:#999999;">:</span> <span style="color:#669900;">"http://tmp/ej9OO3rcqW7fa59be7ad13d5aafefae7f9b6c9c285f6.png"</span><span style="color:#000000;">文件上传的几种形式： base64、本地文件流。 </span>
<span style="color:#000000;">最终确认为服务端的问题，但是如果不是自己反证法，服务端看都不会看。</span>
</code></span></pre>
          <p>
          </p>
          <p style="margin-left:0;text-align:left;">
          </p>
          <h6 style="margin-left:0pt;text-align:center;">
           <strong>
            <span style="color:#1a1a1a;">
             Q：T-upload组件在微信小程序和电脑中可以正常上传图片，但是企业微信中无法完成调用！
             <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/c21ed6ec85a773f43629b7e5a256ec49.png"/>
            </span>
           </strong>
          </h6>
          <p>
          </p>
          <div>
           <div>
           </div>
           <div>
            <div>
             <p style="margin-left:0;text-align:left;">
              <span style="color:#000000;">
               A：组件使用的api不支持苹果手机， 支持所有机型的wx
              </span>
              <span style="color:#999999;">
               .
              </span>
              <span style="color:#000000;">
               chooseImage在基础库
              </span>
              <span style="color:#990055;">
               2.0.0
              </span>
              <span style="color:#000000;">
               上不再维护，但是仍旧可以使用，在组件中替换API成功解决问题。
              </span>
             </p>
            </div>
           </div>
          </div>
          <div>
           <div>
            <p>
            </p>
            <p style="margin-left:0;text-align:left;">
            </p>
            <h6 style="margin-left:0pt;text-align:left;">
             <strong>
              <span style="color:#1a1a1a;">
               Q： 小程序的ui库显示异常
              </span>
             </strong>
            </h6>
            <p style="margin-left:0;text-align:left;">
             <span style="color:#333333;">
              A： 因为没有按照流程构建， 先是npm init， 再是npm i，下载好之后需要点击工具中的构建npm，这才是完整的流程。
             </span>
            </p>
            <p style="margin-left:0;text-align:left;">
            </p>
            <h6 style="margin-left:0pt;text-align:left;">
             <strong>
              <span style="color:#1a1a1a;">
               Q:
              </span>
             </strong>
             <a href="http://wx.qy.login" rel="nofollow" title="wx.qy.login">
              wx.qy.login
             </a>
             <strong>
              <span style="color:#1a1a1a;">
               在企业微信打开后却无法调用， 也没有任何报错？
              </span>
             </strong>
            </h6>
            <p style="margin-left:0;text-align:left;">
             <span style="color:#333333;">
              在开发者工具中选择企业微信小程序模式后可以正常调用
             </span>
             <a href="http://wx.qy.login" rel="nofollow" title="wx.qy.login">
              wx.qy.login
             </a>
             <span style="color:#333333;">
              请求， 但是在企业微信打开后却无法调用， 也没有任何报错？
             </span>
             <span style="background-color:#fff3eb;">
              <span style="color:#333333;">
               获取用户信息需要选择相应的企业，在真机中调用
              </span>
             </span>
             <a href="http://wx.qy.login" rel="nofollow" title="wx.qy.login">
              wx.qy.login
             </a>
             <span style="background-color:#fff3eb;">
              <span style="color:#333333;">
               报错无效的 suiteId。
              </span>
             </span>
            </p>
            <p style="margin-left:0;text-align:left;">
             <span style="background-color:#fff3eb;">
              <span style="color:#333333;">
               暂未解决！
              </span>
             </span>
            </p>
            <h6 style="margin-left:0pt;text-align:left;">
             <strong>
              <span style="color:#1a1a1a;">
               Q: 小程序如何区分环境
              </span>
             </strong>
            </h6>
            <p style="margin-left:0;text-align:left;">
             <span style="background-color:#fafafa;">
              <code>
               <span style="color:#000000;">
                wx.
               </span>
               <span style="color:#dd4a68;">
                getAccountInfoSync
               </span>
               <span style="color:#999999;">
                ()
               </span>
               <span style="color:#000000;">
                .miniProgram.envVersion
               </span>
               <span style="color:#000000;">
                develop  开发版
               </span>
               <span style="color:#000000;">
                trial  体验版
               </span>
               <span style="color:#000000;">
                release  正式版
               </span>
               <span style="color:#000000;">
                小程序的体验版本 会调用 测试环境的业务接口 ，小程序的正式版本会调用 uat 环境的 业务接口
               </span>
              </code>
             </span>
             <span style="background-color:#fafafa;">
              <code>
              </code>
             </span>
            </p>
            <p>
            </p>
            <p style="margin-left:0;text-align:left;">
            </p>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
</div>


