---
layout: post
title: "Ubuntu22.04.3安装pyenvpipenv来管理python版本和每个项目的虚拟环境,vscode中配置pipenv环境"
date: 2025-01-03 14:44:29 +0800
description: "pyenv和pipenv是两个不同的工具，分别用于管理 Python 版本和 Python 项目依赖"
keywords: "ubuntu pyenv"
categories: ["未分类"]
tags: ["开发语言", "Vscode", "Python"]
artid: "135286125"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=135286125
  alt: "Ubuntu22.04.3安装pyenvpipenv来管理python版本和每个项目的虚拟环境,vscode中配置pipenv环境"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Ubuntu22.04.3安装pyenv、pipenv来管理python版本和每个项目的虚拟环境，vscode中配置pipenv环境
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-tomorrow-night" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="_0">
     </a>
     前言
    </h2>
    <p>
     每次放假的时候，在公司和家里电脑切换使用，存在环境问题，远程比较卡，在
     <code>
      Virtual box
     </code>
     中安装了一个
     <code>
      Ubuntu22.04.3
     </code>
     系统，需要使用的时候导出，然后导入到另一个电脑即可。
    </p>
    <hr/>
    <h2>
     <a id="_5">
     </a>
     安装步骤
    </h2>
    <h3>
     <a id="_Ubuntu_22043__Pyenv__6">
     </a>
     在 Ubuntu 22.04.3 上安装 Pyenv 的步骤如下：
    </h3>
    <ol>
     <li>
      <p>
       <strong>
        安装依赖:
       </strong>
       <br/>
       在开始安装之前，确保系统已安装以下依赖：
      </p>
      <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token function">git</span> <span class="token function">curl</span> build-essential libssl-dev zlib1g-dev libbz2-dev <span class="token punctuation">\</span>
libreadline-dev libsqlite3-dev <span class="token function">wget</span> llvm libncurses5-dev libncursesw5-dev <span class="token punctuation">\</span>
xz-utils tk-dev libffi-dev liblzma-dev python3-openssl <span class="token function">git</span>
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        安装 Pyenv:
       </strong>
       <br/>
       利用 curl 安装 Pyenv。在终端中执行以下命令：
      </p>
      <pre><code class="prism language-bash"><span class="token function">curl</span> https://pyenv.run <span class="token operator">|</span> <span class="token function">bash</span>
</code></pre>
      <p>
       <img alt="安装完成" src="https://i-blog.csdnimg.cn/blog_migrate/97b9603ad5e0ad6a4ae75a24c21a1aeb.png"/>
      </p>
     </li>
     <li>
      <p>
       <strong>
        添加 Pyenv 到 Shell 配置文件:
       </strong>
       <br/>
       安装完成会后有提示，打开你的 shell 配置文件，比如
       <code>
        .bashrc
       </code>
       、
       <code>
        .zshrc
       </code>
       或者其他自己使用的 shell 的配置文件，并在文件末尾添加以下行：
      </p>
      <pre><code class="prism language-bash"><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">"<span class="token environment constant">$HOME</span>/.pyenv/bin:<span class="token environment constant">$PATH</span>"</span>
<span class="token builtin class-name">eval</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span>pyenv init <span class="token parameter variable">--path</span><span class="token variable">)</span></span>"</span>
<span class="token comment"># eval "$(pyenv virtualenv-init -)"  这个我没添加，我用pipenv来管理虚拟环境</span>
</code></pre>
      <p>
       然后执行以下命令使配置生效：
      </p>
      <pre><code class="prism language-bash"><span class="token builtin class-name">source</span> ~/.bashrc   <span class="token comment"># 或者 source ~/.zshrc，取决于你的 shell</span>
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        验证安装:
       </strong>
       <br/>
       执行以下命令验证 Pyenv 是否安装成功：
      </p>
      <pre><code class="prism language-bash">pyenv <span class="token parameter variable">--version</span>
</code></pre>
      <p>
       <img alt="版本信息" src="https://i-blog.csdnimg.cn/blog_migrate/eb1983557ff7de75d6d718a3652e3daf.png"/>
      </p>
      <p>
       如果正确安装，将显示 Pyenv 的版本信息。
      </p>
     </li>
     <li>
      <p>
       <strong>
        安装 Python:
       </strong>
       <br/>
       使用 Pyenv 安装你需要的 Python 版本。例如，安装 Python 3.8.10：
      </p>
      <pre><code class="prism language-bash">pyenv <span class="token function">install</span> <span class="token number">3.8</span>.10
</code></pre>
      <p>
       安装完成后，设置默认 Python 版本：
      </p>
      <pre><code class="prism language-bash">pyenv global <span class="token number">3.8</span>.10
</code></pre>
      <p>
       <img alt="python版本" src="https://i-blog.csdnimg.cn/blog_migrate/9ffdd7dea1c7adf5a96d1af163e3f43b.png"/>
      </p>
      <p>
       这样就完成了 Pyenv 的安装和 Python 版本的设置。
      </p>
     </li>
    </ol>
    <p>
     现在可以使用 Pyenv 来管理 Python 版本，方便地切换不同版本的 Python。
    </p>
    <h3>
     <a id="pipenv_64">
     </a>
     安装pipenv
    </h3>
    <p>
     安装
     <code>
      pipenv
     </code>
     的步骤如下：
    </p>
    <ol>
     <li>
      <p>
       <strong>
        安装 pipenv
       </strong>
       ：
      </p>
      <p>
       打开终端（命令行界面）并运行以下命令：
      </p>
      <pre><code class="prism language-bash"><span class="token comment"># pip install pipenv 国内环境执行太慢用下面的指定镜像执行</span>
pip <span class="token function">install</span> <span class="token parameter variable">-i</span> https://pypi.tuna.tsinghua.edu.cn/simple pipenv
</code></pre>
      <p>
       这将使用
       <code>
        pip
       </code>
       安装
       <code>
        pipenv
       </code>
       包。
      </p>
     </li>
     <li>
      <p>
       <strong>
        验证安装
       </strong>
       ：
      </p>
      <p>
       安装完成后，你可以运行以下命令来验证
       <code>
        pipenv
       </code>
       是否成功安装：
      </p>
      <pre><code class="prism language-bash">pipenv <span class="token parameter variable">--version</span>
</code></pre>
      <p>
       <img alt="pipenv 版本" src="https://i-blog.csdnimg.cn/blog_migrate/bdd0f7c914377fa17f990b8af72de836.png"/>
      </p>
      <p>
       如果一切顺利，你应该看到
       <code>
        pipenv
       </code>
       的版本信息。
      </p>
     </li>
    </ol>
    <p>
     现在，你已经成功安装了
     <code>
      pipenv
     </code>
     。你可以使用
     <code>
      pipenv
     </code>
     来创建和管理 Python 项目的虚拟环境，以及安装项目的依赖。例如，你可以使用以下命令创建一个新的虚拟环境并安装依赖：
    </p>
    <pre><code class="prism language-bash">pipenv <span class="token function">install</span>
</code></pre>
    <p>
     这将根据项目中的
     <code>
      Pipfile
     </code>
     文件安装所有必需的依赖项。
    </p>
    <h3>
     <a id="vscodepipenv_98">
     </a>
     在vscode中配置pipenv环境
    </h3>
    <ol>
     <li>
      之前项目用的pipenv管理的，以上环境配置完成之后，把项目下载下来
     </li>
     <li>
      在项目根目录执行pipenv install
      <br/>
      <img alt="项目描述" src="https://i-blog.csdnimg.cn/blog_migrate/d37f4bee5fefea280ca158171d639329.png"/>
     </li>
     <li>
      箭头指向的是系统默认python版本，安装完成后会显示上面安装python3.8.10的虚拟位置，点击箭头指向的
      <code>
       3.10.12 64-bit
      </code>
      切换python版本
     </li>
     <li>
      /home/dennis/.local/share/virtualenvs/ip_python-BOqXR_MO 去这个虚拟环境下面有目录，最终在添加入下图，每个人的路径不一样，添加自己安装完成提示的目录
      <br/>
      <img alt="vscode对应python环境" src="https://i-blog.csdnimg.cn/blog_migrate/541b7800483aa4f4b867c6a0cdf945a7.png"/>
     </li>
     <li>
      完成之后，调试代码会选择这个环境进行调试，运行代码的话可以用pipenv run python main.py，也可以执行pipenv shell，进入执行虚拟环境来执行代码 python main.py
     </li>
    </ol>
    <h2>
     <a id="_107">
     </a>
     总结
    </h2>
    <p>
     <code>
      pyenv
     </code>
     和
     <code>
      pipenv
     </code>
     是两个不同的工具，分别用于管理 Python 版本和 Python 项目依赖。这两者之间并没有直接的结合关系。下面分别介绍它们的作用和好处：
    </p>
    <ol>
     <li>
      <p>
       <strong>
        pyenv:
       </strong>
      </p>
      <ul>
       <li>
        <p>
         <strong>
          管理 Python 版本：
         </strong>
         <code>
          pyenv
         </code>
         是一个用于管理多个 Python 版本的工具。通过
         <code>
          pyenv
         </code>
         ，你可以轻松地在同一台机器上切换不同版本的 Python，以适应不同项目的需求。
        </p>
       </li>
       <li>
        <p>
         <strong>
          独立性：
         </strong>
         每个项目可以有自己的 Python 版本，而不会影响全局的 Python 环境。这在项目需要不同 Python 版本的情况下非常有用。
        </p>
       </li>
       <li>
        <p>
         <strong>
          全局和局部配置：
         </strong>
         <code>
          pyenv
         </code>
         支持全局 Python 版本的设置，也支持在项目级别进行配置。
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       <strong>
        pipenv:
       </strong>
      </p>
      <ul>
       <li>
        <p>
         <strong>
          虚拟环境管理：
         </strong>
         <code>
          pipenv
         </code>
         是一个用于管理 Python 项目的依赖和虚拟环境的工具。它使用
         <code>
          Pipfile
         </code>
         和
         <code>
          Pipfile.lock
         </code>
         来定义项目的依赖关系。
        </p>
       </li>
       <li>
        <p>
         <strong>
          自动化：
         </strong>
         <code>
          pipenv
         </code>
         可以自动创建和管理虚拟环境，同时记录项目的依赖版本。这使得在不同环境之间共享项目变得更加简单。
        </p>
       </li>
       <li>
        <p>
         <strong>
          清晰的依赖关系：
         </strong>
         <code>
          pipenv
         </code>
         通过清晰的依赖关系图和版本锁定，确保了项目的依赖关系的可重现性。
        </p>
       </li>
      </ul>
     </li>
    </ol>
    <p>
     结合使用
     <code>
      pyenv
     </code>
     和
     <code>
      pipenv
     </code>
     的好处在于，你可以在项目级别使用
     <code>
      pipenv
     </code>
     管理依赖和虚拟环境，而同时使用
     <code>
      pyenv
     </code>
     管理全局 Python 版本。这样，你可以确保每个项目都有自己的依赖和虚拟环境，而全局 Python 版本可以根据需要灵活切换。这种组合使用的场景通常在需要同时处理多个 Python 项目，而这些项目可能有不同的 Python 版本和依赖的情况下非常有用。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f753031303834343833362f:61727469636c652f64657461696c732f313335323836313235" class_="artid" style="display:none">
 </p>
</div>
