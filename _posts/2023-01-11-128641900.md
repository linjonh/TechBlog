---
layout: post
title: 2023-01-11-数据库课程设计-图书馆管理系统1.数据库分析部分
date: 2023-01-11 12:22:54 +0800
categories: ['未分类']
tags: [数据库,课程设计]
image:
  path: https://img-blog.csdnimg.cn/c76dd3ef6cdf4928974f0b0020e7fefc.png?x-oss-process=image/resize,m_fixed,h_150
  alt: 数据库课程设计-图书馆管理系统1.数据库分析部分
artid: 128641900
render_with_liquid: false
---
<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     数据库课程设计-图书馆管理系统(1.数据库分析部分)
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     <span style="color:#4da8ee;">
      如果对你有帮助，可以给卑微的博主留个赞、关注、收藏   (不是)
     </span>
    </p>
    <p>
    </p>
    <p>
     图书馆管理系统第一部分，数据库分析。
    </p>
    <p>
     主要是需求分析、设计概要模块、数据库概念结构设计(E-R图)、数据库逻辑结构设计(表、存储过程、触发器)
    </p>
    <p>
    </p>
    <p id="main-toc">
     <strong>
      目录
     </strong>
    </p>
    <p id="1.%20%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-toc" style="margin-left:40px;">
     <a href="#1.%20%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90" rel="nofollow">
      1. 需求分析
     </a>
    </p>
    <p id="1.1%20%E6%95%B0%E6%8D%AE%E6%B5%81%E5%9B%BE-toc" style="margin-left:80px;">
     <a href="#1.1%20%E6%95%B0%E6%8D%AE%E6%B5%81%E5%9B%BE" rel="nofollow">
      1.1 数据流图
     </a>
    </p>
    <p id="%C2%A01.2%20%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8-toc" style="margin-left:80px;">
     <a href="#%C2%A01.2%20%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8" rel="nofollow">
      1.2 数据字典
     </a>
    </p>
    <p id="1.3%20%E7%B3%BB%E7%BB%9F%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90-toc" style="margin-left:80px;">
     <a href="#1.3%20%E7%B3%BB%E7%BB%9F%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90" rel="nofollow">
      1.3 系统流程分析
     </a>
    </p>
    <p id="2.%C2%A0%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%A6%81%E6%A8%A1%E5%9D%97%E8%AE%BE%E8%AE%A1-toc" style="margin-left:40px;">
     <a href="#2.%C2%A0%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%A6%81%E6%A8%A1%E5%9D%97%E8%AE%BE%E8%AE%A1" rel="nofollow">
      2. 系统概要模块设计
     </a>
    </p>
    <p id="3.%C2%A0%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A6%82%E5%BF%B5%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1(E-R%E5%9B%BE)-toc" style="margin-left:40px;">
     <a href="#3.%C2%A0%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A6%82%E5%BF%B5%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%28E-R%E5%9B%BE%29" rel="nofollow">
      3. 数据库概念结构设计(E-R图)
     </a>
    </p>
    <p id="%C2%A04.%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1-toc" style="margin-left:40px;">
     <a href="#%C2%A04.%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1" rel="nofollow">
      4. 数据库逻辑结构设计
     </a>
    </p>
    <p id="%C2%A04.1%20%E5%9F%BA%E6%9C%AC%E8%A1%A8%E8%AE%BE%E8%AE%A1-toc" style="margin-left:80px;">
     <a href="#%C2%A04.1%20%E5%9F%BA%E6%9C%AC%E8%A1%A8%E8%AE%BE%E8%AE%A1" rel="nofollow">
      4.1 基本表设计
     </a>
    </p>
    <p id="4.2%C2%A0%E8%A7%86%E5%9B%BE%E7%9A%84%E8%AE%BE%E8%AE%A1-toc" style="margin-left:80px;">
     <a href="#4.2%C2%A0%E8%A7%86%E5%9B%BE%E7%9A%84%E8%AE%BE%E8%AE%A1" rel="nofollow">
      4.2 视图的设计
     </a>
    </p>
    <p id="4.3%C2%A0%E5%AE%8C%E6%95%B4%E6%80%A7%E7%9A%84%E8%AE%BE%E8%AE%A1-toc" style="margin-left:80px;">
     <a href="#4.3%C2%A0%E5%AE%8C%E6%95%B4%E6%80%A7%E7%9A%84%E8%AE%BE%E8%AE%A1" rel="nofollow">
      4.3 完整性的设计
     </a>
    </p>
    <p id="4.4%20%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E8%AE%BE%E8%AE%A1-toc" style="margin-left:80px;">
     <a href="#4.4%20%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E8%AE%BE%E8%AE%A1" rel="nofollow">
      4.4 存储过程设计
     </a>
    </p>
    <p>
    </p>
    <h3 id="1.%20%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90">
     1. 需求分析
    </h3>
    <h4 id="1.1%20%E6%95%B0%E6%8D%AE%E6%B5%81%E5%9B%BE">
     1.1 数据流图
    </h4>
    <p>
     1.1顶级数据流图
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     基于对图书馆管理信息系统的初步需求分析结果，其顶级数据流图如图1：
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     <img alt="" height="478" src="https://i-blog.csdnimg.cn/blog_migrate/2c78bf1e7d2ce9c9d488ba46968d1ea7.png" width="1200">
      用户通过终端和系统交互，普通读者、图书管理员、系统管理员都可以使用终端，但是他们的账户权限不同，登录成功后，所能做的操作不同。交互的结果会在显示器以图形界面显示。
     </img>
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     1.1.2 一级数据流图
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     一级数据流图如图2 ：
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     <img alt="" height="867" src="https://i-blog.csdnimg.cn/blog_migrate/93239015300139caa425674c9aa19e8a.png" width="889"/>
    </p>
    <p>
     1.1.3 各模块数据流图
    </p>
    <p>
     各功能模块的数据流图如图3:
    </p>
    <p>
     <img alt="" height="1104" src="https://i-blog.csdnimg.cn/blog_migrate/de14e3cac369fa9d539d378fd61a1f8b.png" width="640"/>
    </p>
    <h4 id="%C2%A01.2%20%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8">
     1.2 数据字典
    </h4>
    <p style="margin-left:.0001pt;text-align:justify;">
     表1  读者注册信息数据字典
     <strong>
     </strong>
    </p>
    <table border="1" cellspacing="0" style="width:456.45pt;">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:36.7pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         名字:
        </p>
       </td>
       <td style="vertical-align:top;width:419.75pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         读者注册信息
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:36.7pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         别名:
        </p>
       </td>
       <td style="vertical-align:top;width:419.75pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:36.7pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         描述:
        </p>
       </td>
       <td style="vertical-align:top;width:419.75pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         用户在注册时，输入的个人信息聚合成的类（读者）
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:36.7pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         定义:
        </p>
       </td>
       <td style="vertical-align:top;width:419.75pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         用户名+姓名+密码md5+身份证+电话
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:36.7pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         位置:
        </p>
       </td>
       <td style="vertical-align:top;width:419.75pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         写入数据库readers表
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="margin-left:.0001pt;text-align:justify;">
     表2  读者用户信息数据字典
    </p>
    <table border="1" cellspacing="0" style="width:456.45pt;">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:36.7pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         名字:
        </p>
       </td>
       <td style="vertical-align:top;width:419.75pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         读者用户信息
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:36.7pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         别名:
        </p>
       </td>
       <td style="vertical-align:top;width:419.75pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:36.7pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         描述:
        </p>
       </td>
       <td style="vertical-align:top;width:419.75pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         用户查询个人信息
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:36.7pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         定义:
        </p>
       </td>
       <td style="vertical-align:top;width:419.75pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         用户名+姓名+年龄+身份证+电话
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:36.7pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         位置:
        </p>
       </td>
       <td style="vertical-align:top;width:419.75pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         读者个人信息查询结果
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="margin-left:.0001pt;text-align:justify;">
     表3 图书管理员注册信息数据字典
    </p>
    <table border="1" cellspacing="0" style="width:456.7pt;">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         名字:
        </p>
       </td>
       <td style="vertical-align:top;width:413.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         图书管理员注册信息
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         别名:
        </p>
       </td>
       <td style="vertical-align:top;width:413.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         描述:
        </p>
       </td>
       <td style="vertical-align:top;width:413.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         图书管理员账户信息，由系统管理员插入
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         定义:
        </p>
       </td>
       <td style="vertical-align:top;width:413.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         用户名+姓名+密码md5+身份证+电话+入职时间+工作位置+账户状态
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         位置:
        </p>
       </td>
       <td style="vertical-align:top;width:413.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         写入数据库managers表
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="margin-left:.0001pt;text-align:justify;">
     表4 图书管理员用户信息数据字典
    </p>
    <table border="1" cellspacing="0" style="width:456.45pt;">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         名字:
        </p>
       </td>
       <td style="vertical-align:top;width:412.9pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         图书管理员用户信息
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         别名:
        </p>
       </td>
       <td style="vertical-align:top;width:412.9pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         描述:
        </p>
       </td>
       <td style="vertical-align:top;width:412.9pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         图书管理员查询个人信息
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         定义:
        </p>
       </td>
       <td style="vertical-align:top;width:412.9pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         用户名+姓名+年龄+身份证+电话+入职时间+工作位置
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         位置:
        </p>
       </td>
       <td style="vertical-align:top;width:412.9pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         图书管理员个人信息查询结果
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="margin-left:.0001pt;text-align:justify;">
     表5 书籍信息数据字典
    </p>
    <table border="1" cellspacing="0" style="width:458pt;">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         名字:
        </p>
       </td>
       <td style="vertical-align:top;width:414.45pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         书籍信息
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         别名:
        </p>
       </td>
       <td style="vertical-align:top;width:414.45pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         描述:
        </p>
       </td>
       <td style="vertical-align:top;width:414.45pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         馆藏书籍的信息
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         定义:
        </p>
       </td>
       <td style="vertical-align:top;width:414.45pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         书籍编号+书籍名字+价格+状态+馆藏位置
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         位置:
        </p>
       </td>
       <td style="vertical-align:top;width:414.45pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         书籍信息查询返回结果,数据库books表
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="margin-left:.0001pt;text-align:justify;">
     表6 意见数据 数据字典
    </p>
    <table border="1" cellspacing="0" style="width:457.2pt;">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         名字:
        </p>
       </td>
       <td style="vertical-align:top;width:412.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         意见数据
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         别名:
        </p>
       </td>
       <td style="vertical-align:top;width:412.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         描述:
        </p>
       </td>
       <td style="vertical-align:top;width:412.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         用户提交的意见经过处理后形成的一条记录，存入数据库
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         定义:
        </p>
       </td>
       <td style="vertical-align:top;width:412.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         意见记录编号+提交者用户名+用户提交的意见(文本)+时间+处理状态
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         位置:
        </p>
       </td>
       <td style="vertical-align:top;width:412.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         数据库opinions表,反馈处理界面
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="margin-left:.0001pt;text-align:justify;">
     表7 意见处理结果数据字典
    </p>
    <table border="1" cellspacing="0" style="width:456.95pt;">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         名字:
        </p>
       </td>
       <td style="vertical-align:top;width:413.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         意见处理结果
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         别名:
        </p>
       </td>
       <td style="vertical-align:top;width:413.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         描述:
        </p>
       </td>
       <td style="vertical-align:top;width:413.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         对于用户提交的意见，由图书管理员处理后给出结果，再被意见处理模块封装成一条记录，存入数据库
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         定义:
        </p>
       </td>
       <td style="vertical-align:top;width:413.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         意见记录编号+处理结果(文本)+处理人用户名+时间
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         位置:
        </p>
       </td>
       <td style="vertical-align:top;width:413.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         数据库opinion_results表
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="margin-left:.0001pt;text-align:justify;">
     表8 反馈结果数据字典
    </p>
    <table border="1" cellspacing="0" style="width:457.75pt;">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         名字:
        </p>
       </td>
       <td style="vertical-align:top;width:414.2pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         反馈结果
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         别名:
        </p>
       </td>
       <td style="vertical-align:top;width:414.2pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         描述:
        </p>
       </td>
       <td style="vertical-align:top;width:414.2pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         处理完成的反馈，查询显示意见数据和意见处理结果的自然连接
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         定义:
        </p>
       </td>
       <td style="vertical-align:top;width:414.2pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         参考 意见数据和意见处理结果
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         位置:
        </p>
       </td>
       <td style="vertical-align:top;width:414.2pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         反馈记录查询结果
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="margin-left:.0001pt;text-align:justify;">
     表9 借阅记录数据字典
    </p>
    <table border="1" cellspacing="0" style="width:457.2pt;">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         名字:
        </p>
       </td>
       <td style="vertical-align:top;width:413.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         借阅记录
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         别名:
        </p>
       </td>
       <td style="vertical-align:top;width:413.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         描述:
        </p>
       </td>
       <td style="vertical-align:top;width:413.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         读者借书形成的记录
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         定义:
        </p>
       </td>
       <td style="vertical-align:top;width:413.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         借阅记录号+读者用户名+书籍编号+时间+办理人用户名+状态+可借时长
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         位置:
        </p>
       </td>
       <td style="vertical-align:top;width:413.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         数据库borrows表
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="margin-left:.0001pt;text-align:justify;">
     表10 归还记录数据字典
    </p>
    <table border="1" cellspacing="0" style="width:456.7pt;">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         名字:
        </p>
       </td>
       <td style="vertical-align:top;width:413.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         归还记录
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         别名:
        </p>
       </td>
       <td style="vertical-align:top;width:413.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         描述:
        </p>
       </td>
       <td style="vertical-align:top;width:413.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         读者归还所借书籍形成的记录
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         定义:
        </p>
       </td>
       <td style="vertical-align:top;width:413.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         借阅记录号+归还时间+办理人用户名+滞纳金额+类型
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:43.55pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         位置:
        </p>
       </td>
       <td style="vertical-align:top;width:413.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         数据库returns表
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
    </p>
    <h4 id="1.3%20%E7%B3%BB%E7%BB%9F%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90">
     1.3 系统流程分析
    </h4>
    <p style="margin-left:.0001pt;text-align:justify;">
     用户先进行选择，经过注册后登录系统，或者使用已有账号登录系统。进入用户操作界面，普通读者、图书管理员、系统管理员有各自可以执行的操作。选择某个操作后，系统执行并输出结果到显示器。系统流程图如图4：
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     <img alt="" height="717" src="https://i-blog.csdnimg.cn/blog_migrate/172f72827dc76c6bcf5d7b20cf047aa3.png" width="1200"/>
    </p>
    <p>
    </p>
    <h3 id="2.%C2%A0%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%A6%81%E6%A8%A1%E5%9D%97%E8%AE%BE%E8%AE%A1">
     2.
     <strong>
      <strong>
       <strong>
        系统概要模块设计
       </strong>
      </strong>
     </strong>
    </h3>
    <p style="margin-left:.0001pt;text-align:justify;">
     通过对图书馆管理信息系统的分析，定义出系统模块设计图如图5:
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     <img alt="" height="638" src="https://i-blog.csdnimg.cn/blog_migrate/92601d481db926b6aa1b365063cef426.png" width="1200"/>
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     其中定义的功能模块包括以下方面：
    </p>
    <p style="text-align:justify;">
     注册模块：进入系统前需要登录，没有账号就需要注册账号。填写用户名，姓名,密码以及身份证，手机号。验证通过即可注册成功。该模块注册只能获得读者账号。
    </p>
    <p style="text-align:justify;">
     登录模块：用户输入用户名，密码，经过系统验证通过后可以进入系统操作界面。不同类别的用户都可以使用此模块，但是进入的操作界面功能不同。
    </p>
    <p style="text-align:justify;">
     用户操作模块：登录成功后，进入此模块。分3类用户：
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     第一类是读者，读者账户可以进行的操作有个人信息查询修改、书籍信息查询、意见反馈、借阅记录查询、反馈记录查询；
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     第二类是图书管理员，图书管理员账户可以进行的操作有个人信息查询修改、书籍信息查询、图书管理、意见反馈处理、图书借阅、图书归还、借阅延期、借阅记录查询、反馈记录查询，归还记录查询；
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     第三类是系统管理员，系统管理员账户可以进行的操作是管理图书管理员账户，他只进行图书管理员的查询、添加、修改、删除。对于图书的处理，由图书管理员进行。
    </p>
    <h3 id="3.%C2%A0%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A6%82%E5%BF%B5%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1(E-R%E5%9B%BE)" style="margin-left:.0001pt;text-align:justify;">
     3.
     <strong>
      <strong>
       <strong>
        数据库概念结构设计(E-R图)
       </strong>
      </strong>
     </strong>
    </h3>
    <p>
     E-R图 如图6:
    </p>
    <p>
     <img alt="" height="910" src="https://i-blog.csdnimg.cn/blog_migrate/6c2314a5991fe2a4d9f947b09ed00ac5.png" width="1200"/>
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     图书管理员账户由系统管理员创建并管理，一个系统管理员创建多个图书管理员，之后图书馆由图书管理员进行管理,但是不关心图书管理员是被谁创建。读者可以进行登录，然后在用户终端查询和修改个人信息，查询图书信息，借阅记录，提交反馈，查询反馈结果，这些是个人可以完成的，由系统去查询数据库并返回结果给用户；读者进行借书和还书需要图书管理员帮助。总体上说，一个图书管理员可以服务多名读者，一名读者可以被多个图书管理员服务，具体的，
     <span style="color:#0070c0;">
      一名读者可以同时借多本书，一本书同时只能被一名读者借，每一本书借书过程只能由一个图书管理员负责。一本书还书过程由一个图书管理员负责
     </span>
     <span style="color:#0070c0;">
      ，
     </span>
     <span style="color:#0070c0;">
      这样形成借阅表和归还表
     </span>
     <span style="color:#0070c0;">
      。
     </span>
     <span style="color:#7030a0;">
      一名读者可以提交多条反馈记录，
     </span>
     <span style="color:#7030a0;">
      一个图书管理员可以处理多条反馈记录，而
     </span>
     <span style="color:#7030a0;">
      一条反馈记录只由一个图书管理员处理
     </span>
     <span style="color:#7030a0;">
      ，
     </span>
     <span style="color:#7030a0;">
      形成意见反馈表和反馈结果表。
     </span>
     而图书管理员对图书的增删改查我们也不关心，不成为表。
    </p>
    <h3 id="%C2%A04.%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1">
     4. 数据库逻辑结构设计
    </h3>
    <h4 id="%C2%A04.1%20%E5%9F%BA%E6%9C%AC%E8%A1%A8%E8%AE%BE%E8%AE%A1">
     4.1 基本表设计
    </h4>
    <p style="text-align:justify;">
     读者用户表 ,存放已注册读者用户的账户信息
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     表11 读者用户表(readers)
    </p>
    <table border="1" cellspacing="0" style="margin-left:5.4pt;">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:73.4pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         字段名称
        </p>
       </td>
       <td style="vertical-align:top;width:77.9pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         数据类型
        </p>
       </td>
       <td style="vertical-align:top;width:268.95pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         说   明
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:73.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         reader_name
        </p>
       </td>
       <td style="vertical-align:top;width:77.9pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(20)
        </p>
       </td>
       <td style="vertical-align:top;width:268.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         用户名(账号)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:73.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         password
        </p>
       </td>
       <td style="vertical-align:top;width:77.9pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(35)
        </p>
       </td>
       <td style="vertical-align:top;width:268.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         密码md5
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:73.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         name
        </p>
       </td>
       <td style="vertical-align:top;width:77.9pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(10)
        </p>
       </td>
       <td style="vertical-align:top;width:268.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         姓名
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:73.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         id_num
        </p>
       </td>
       <td style="vertical-align:top;width:77.9pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(20)
        </p>
       </td>
       <td style="vertical-align:top;width:268.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         身份证号
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         phone_num
        </p>
       </td>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(15)
        </p>
       </td>
       <td style="vertical-align:top;width:268.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         手机号
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="text-align:justify;">
     图书管理员用户表,存放所有图书管理员的账户信息
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     表12 图书管理员用户表(managers)
    </p>
    <table border="1" cellspacing="0" style="margin-left:5.4pt;">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:73.4pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         字段名称
        </p>
       </td>
       <td style="vertical-align:top;width:77.9pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         数据类型
        </p>
       </td>
       <td style="vertical-align:top;width:268.4pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         说   明
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:73.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         manager_name
        </p>
       </td>
       <td style="vertical-align:top;width:77.9pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(20)
        </p>
       </td>
       <td style="vertical-align:top;width:268.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         用户名(账号)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:73.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         password
        </p>
       </td>
       <td style="vertical-align:top;width:77.9pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(35)
        </p>
       </td>
       <td style="vertical-align:top;width:268.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         密码md5
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:73.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         name
        </p>
       </td>
       <td style="vertical-align:top;width:77.9pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(10)
        </p>
       </td>
       <td style="vertical-align:top;width:268.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         姓名
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:73.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         id_num
        </p>
       </td>
       <td style="vertical-align:top;width:77.9pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(20)
        </p>
       </td>
       <td style="vertical-align:top;width:268.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         身份证号
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         phone_num
        </p>
       </td>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(15)
        </p>
       </td>
       <td style="vertical-align:top;width:268.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         手机号
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         entry_time
        </p>
       </td>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         date
        </p>
       </td>
       <td style="vertical-align:top;width:268.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         入职时间
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         work_position
        </p>
       </td>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(20)
        </p>
       </td>
       <td style="vertical-align:top;width:268.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         工作位置
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         state
        </p>
       </td>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(5)
        </p>
       </td>
       <td style="vertical-align:top;width:268.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         账户状态(正常、注销之一)(默认正常)
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="text-align:justify;">
     意见反馈表,存放用户的意见反馈形成的记录
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     表13 意见反馈表(opinions)
    </p>
    <table border="1" cellspacing="0" style="margin-left:5.4pt;">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:78.3pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         字段名称
        </p>
       </td>
       <td style="vertical-align:top;width:77.9pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         数据类型
        </p>
       </td>
       <td style="vertical-align:top;width:263.25pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         说   明
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:78.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         opinion_rec_num
        </p>
       </td>
       <td style="vertical-align:top;width:77.9pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         int
        </p>
       </td>
       <td style="vertical-align:top;width:263.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         反馈记录的编号
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:78.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         reader_name
        </p>
       </td>
       <td style="vertical-align:top;width:77.9pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(20)
        </p>
       </td>
       <td style="vertical-align:top;width:263.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         提交者用户名
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:78.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         opinion
        </p>
       </td>
       <td style="vertical-align:top;width:77.9pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(100)
        </p>
       </td>
       <td style="vertical-align:top;width:263.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         反馈意见文本
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:78.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         submit_time
        </p>
       </td>
       <td style="vertical-align:top;width:77.9pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         date
        </p>
       </td>
       <td style="vertical-align:top;width:263.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         意见提交时间
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:78.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         state
        </p>
       </td>
       <td style="vertical-align:top;width:77.9pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(10)
        </p>
       </td>
       <td style="vertical-align:top;width:263.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         处理状态(待处理、处理完成)(默认待处理)
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="text-align:justify;">
     书籍信息表, 图书馆藏书的信息
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     表14 书籍信息表(books)
    </p>
    <table border="1" cellspacing="0" style="margin-left:5.4pt;">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:70pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         字段名称
        </p>
       </td>
       <td style="vertical-align:top;width:67.1pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         数据类型
        </p>
       </td>
       <td style="vertical-align:top;width:314.2pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         说   明
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:70pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         book_num
        </p>
       </td>
       <td style="vertical-align:top;width:67.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         int
        </p>
       </td>
       <td style="vertical-align:top;width:314.2pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         图书在图书馆的编号
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:70pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         book_name
        </p>
       </td>
       <td style="vertical-align:top;width:67.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(30)
        </p>
       </td>
       <td style="vertical-align:top;width:314.2pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         书籍名字
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:70pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         book_price
        </p>
       </td>
       <td style="vertical-align:top;width:67.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         float
        </p>
       </td>
       <td style="vertical-align:top;width:314.2pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         书籍价格
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:70pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         book_state
        </p>
       </td>
       <td style="vertical-align:top;width:67.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(10)
        </p>
       </td>
       <td style="vertical-align:top;width:314.2pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         书籍状态(可借，不可借) (默认不可借)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:70pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         book_position
        </p>
       </td>
       <td style="vertical-align:top;width:67.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(30)
        </p>
       </td>
       <td style="vertical-align:top;width:314.2pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         馆藏位置(刚添加时暂时为空)
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="text-align:justify;">
     意见处理结果表, 意见处理完成后，结果存入此表。
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     表15 意见处理结果表(opinion_results)
    </p>
    <table border="1" cellspacing="0" style="margin-left:5.4pt;">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:79.45pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         字段名称
        </p>
       </td>
       <td style="vertical-align:top;width:67.65pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         数据类型
        </p>
       </td>
       <td style="vertical-align:top;width:302.35pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         说   明
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:79.45pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         opinion_rec_num
        </p>
       </td>
       <td style="vertical-align:top;width:67.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         int
        </p>
       </td>
       <td style="vertical-align:top;width:302.35pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         被处理的记录的编号
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:79.45pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         result
        </p>
       </td>
       <td style="vertical-align:top;width:67.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(100)
        </p>
       </td>
       <td style="vertical-align:top;width:302.35pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         意见处理结果文本
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:79.45pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         transactor
        </p>
       </td>
       <td style="vertical-align:top;width:67.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         Varchar(20)
        </p>
       </td>
       <td style="vertical-align:top;width:302.35pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         处理人的用户名，是一个图书管理员
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:79.45pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         finish_time
        </p>
       </td>
       <td style="vertical-align:top;width:67.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         date
        </p>
       </td>
       <td style="vertical-align:top;width:302.35pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         处理完成时间
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="text-align:justify;">
     借阅记录表, 读者借阅书籍形成的记录
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     表16 借阅记录表(borrows)
    </p>
    <table border="1" cellspacing="0" style="margin-left:5.4pt;">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:79.45pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         字段名称
        </p>
       </td>
       <td style="vertical-align:top;width:67.65pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         数据类型
        </p>
       </td>
       <td style="vertical-align:top;width:301.3pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         说   明
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:79.45pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrow_rec_num
        </p>
       </td>
       <td style="vertical-align:top;width:67.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         int
        </p>
       </td>
       <td style="vertical-align:top;width:301.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         借阅记录的编号
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:79.45pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         reader_name
        </p>
       </td>
       <td style="vertical-align:top;width:67.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(20)
        </p>
       </td>
       <td style="vertical-align:top;width:301.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         借阅者用户名
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:79.45pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         book_num
        </p>
       </td>
       <td style="vertical-align:top;width:67.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         int
        </p>
       </td>
       <td style="vertical-align:top;width:301.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         被借图书在图书馆的编号
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:79.45pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrow_time
        </p>
       </td>
       <td style="vertical-align:top;width:67.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         date
        </p>
       </td>
       <td style="vertical-align:top;width:301.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         借阅时间
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:79.45pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         transactor
        </p>
       </td>
       <td style="vertical-align:top;width:67.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(20)
        </p>
       </td>
       <td style="vertical-align:top;width:301.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         办理人的用户名
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:79.45pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrow_state
        </p>
       </td>
       <td style="vertical-align:top;width:67.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(10)
        </p>
       </td>
       <td style="vertical-align:top;width:301.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         借阅状态(已还，待还)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:79.45pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrow_duration
        </p>
       </td>
       <td style="vertical-align:top;width:67.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         smallint
        </p>
       </td>
       <td style="vertical-align:top;width:301.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         允许借阅时长(天)(默认30)
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="text-align:justify;">
     归还记录表 , 读者归还书籍形成的记录
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     表17 归还记录表(returns)
    </p>
    <table border="1" cellspacing="0" style="margin-left:5.4pt;">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:79.45pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         字段名称
        </p>
       </td>
       <td style="vertical-align:top;width:67.65pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         数据类型
        </p>
       </td>
       <td style="vertical-align:top;width:301.3pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         说   明
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:79.45pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrow_rec_num
        </p>
       </td>
       <td style="vertical-align:top;width:67.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         int
        </p>
       </td>
       <td style="vertical-align:top;width:301.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         对应借阅记录的编号
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:79.45pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         return_time
        </p>
       </td>
       <td style="vertical-align:top;width:67.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         date
        </p>
       </td>
       <td style="vertical-align:top;width:301.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         归还时间
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:79.45pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         transactor
        </p>
       </td>
       <td style="vertical-align:top;width:67.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(20)
        </p>
       </td>
       <td style="vertical-align:top;width:301.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         办理人的用户名
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:79.45pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         fee
        </p>
       </td>
       <td style="vertical-align:top;width:67.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         float
        </p>
       </td>
       <td style="vertical-align:top;width:301.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         滞纳/赔偿金额(默认空)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:79.45pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         kind
        </p>
       </td>
       <td style="vertical-align:top;width:67.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         varchar(5)
        </p>
       </td>
       <td style="vertical-align:top;width:301.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         归还的类型(正常、丢失、损坏)
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="margin-left:.0001pt;text-align:justify;">
     上述表已经优化到BC范式，没有插入删除更新异常。
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     根据E-R图的实体联系，关于图书管理员管理书籍，读者不会关心书籍是哪个管理员添加的，书籍被删也只会知道没有这本书，位置变了读者也不知道，而对管理员来说，也不关心这些记录，所以我们没必要将这些记录存储，需要查询时由系统管理员导出日志就可以了。
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     读者提交意见反馈形成一条记录，管理员处理意见反馈形成一条记录。
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     读者提交借书请求，由管理员代理执行形成一条记录。
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     读者提交还书请求，由管理员代理执行形成一条记录。
    </p>
    <h4 id="4.2%C2%A0%E8%A7%86%E5%9B%BE%E7%9A%84%E8%AE%BE%E8%AE%A1">
     4.2
     <strong>
      视图的设计
     </strong>
    </h4>
    <p style="margin-left:.0001pt;text-align:justify;">
     表18 视图定义
    </p>
    <table align="center" cellspacing="0" style="width:441.65pt;">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:170.6pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         视图名
        </p>
       </td>
       <td style="vertical-align:top;width:271.05pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         作用
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:170.6pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         读者用户信息
        </p>
       </td>
       <td style="vertical-align:top;width:271.05pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         读者查询个人信息的返回结果
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:170.6pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         图书管理员用户信息
        </p>
       </td>
       <td style="vertical-align:top;width:271.05pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         图书管理员查询个人信息的返回结果
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:170.6pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         反馈结果信息
        </p>
       </td>
       <td style="vertical-align:top;width:271.05pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         读者或管理员查询反馈的处理结果
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:170.6pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         归还信息
        </p>
       </td>
       <td style="vertical-align:top;width:271.05pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         读者或管理员查询借阅归还记录的返回结果
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:170.6pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         图书信息(book_message)
        </p>
       </td>
       <td style="vertical-align:top;width:271.05pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         读者或管理员查询图书记录的返回结果(同books)
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
    </p>
    <p style="margin-left:.0001pt;text-align:justify;">
     表19 读者用户信息视图(reader_message)
    </p>
    <table align="center" border="1" cellspacing="0" style="width:439.05pt;">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:195.35pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         字段名称
        </p>
       </td>
       <td style="vertical-align:top;width:81.3pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         说    明
        </p>
       </td>
       <td style="vertical-align:top;width:162.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         所来自的基本表的字段
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:195.35pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         reader_name
        </p>
       </td>
       <td style="vertical-align:top;width:81.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         读者用户名
        </p>
       </td>
       <td style="vertical-align:top;width:162.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         readers.reader_name
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:195.35pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         name
        </p>
       </td>
       <td style="vertical-align:top;width:81.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         读者姓名
        </p>
       </td>
       <td style="vertical-align:top;width:162.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         readers.name
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:195.35pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         id_num
        </p>
       </td>
       <td style="vertical-align:top;width:81.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         身份证号码
        </p>
       </td>
       <td style="vertical-align:top;width:162.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         readers.id_num
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:195.35pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         age
        </p>
       </td>
       <td style="vertical-align:top;width:81.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         年龄
        </p>
       </td>
       <td style="vertical-align:top;width:162.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         当前时间减去身份证的出生日期
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:195.35pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         phone_num
        </p>
       </td>
       <td style="vertical-align:top;width:81.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         手机号
        </p>
       </td>
       <td style="vertical-align:top;width:162.4pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         readers.phone_num
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="margin-left:.0001pt;text-align:justify;">
     表20 图书管理员用户信息视图(manager_message)
    </p>
    <table align="center" border="1" cellspacing="0" style="width:439.05pt;">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:196.15pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         字段名称
        </p>
       </td>
       <td style="vertical-align:top;width:80.25pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         说    明
        </p>
       </td>
       <td style="vertical-align:top;width:162.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         所来自的基本表的字段
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:196.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         manager_name
        </p>
       </td>
       <td style="vertical-align:top;width:80.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         管理员用户名
        </p>
       </td>
       <td style="vertical-align:top;width:162.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         managers.reader_name
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:196.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         name
        </p>
       </td>
       <td style="vertical-align:top;width:80.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         管理员姓名
        </p>
       </td>
       <td style="vertical-align:top;width:162.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         managers.name
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:196.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         age
        </p>
       </td>
       <td style="vertical-align:top;width:80.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         年龄
        </p>
       </td>
       <td style="vertical-align:top;width:162.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         当前时间减去身份证的出生日期
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:196.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         id_num
        </p>
       </td>
       <td style="vertical-align:top;width:80.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         身份证号码
        </p>
       </td>
       <td style="vertical-align:top;width:162.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         managers.id_num
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:196.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         phone_num
        </p>
       </td>
       <td style="vertical-align:top;width:80.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         手机号
        </p>
       </td>
       <td style="vertical-align:top;width:162.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         managers.phone_num
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:196.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         entry_time
        </p>
       </td>
       <td style="vertical-align:top;width:80.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         入职时间
        </p>
       </td>
       <td style="vertical-align:top;width:162.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         managers.entry_time
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:196.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         work_position
        </p>
       </td>
       <td style="vertical-align:top;width:80.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         工作位置
        </p>
       </td>
       <td style="vertical-align:top;width:162.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         managers.work_position
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="margin-left:.0001pt;text-align:justify;">
     表21 反馈结果信息视图(opinion_result_message)
    </p>
    <table align="center" border="1" cellspacing="0" style="width:439.05pt;">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:168.25pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         字段名称
        </p>
       </td>
       <td style="vertical-align:top;width:108.15pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         说    明
        </p>
       </td>
       <td style="vertical-align:top;width:162.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         所来自的基本表的字段
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:168.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         opinion_rec_num
        </p>
       </td>
       <td style="vertical-align:top;width:108.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         反馈记录编号
        </p>
       </td>
       <td style="vertical-align:top;width:162.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         opinions.rec_num
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:168.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         reader_name
        </p>
       </td>
       <td style="vertical-align:top;width:108.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         提出反馈的读者用户名
        </p>
       </td>
       <td style="vertical-align:top;width:162.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         opinions.reader_name
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:168.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         opinion
        </p>
       </td>
       <td style="vertical-align:top;width:108.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         读者提出的意见文本
        </p>
       </td>
       <td style="vertical-align:top;width:162.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         opinions.opinion
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:168.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         submit_time
        </p>
       </td>
       <td style="vertical-align:top;width:108.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         提交时间
        </p>
       </td>
       <td style="vertical-align:top;width:162.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         opinions.submit_time
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:168.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         state
        </p>
       </td>
       <td style="vertical-align:top;width:108.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         处理状态
        </p>
       </td>
       <td style="vertical-align:top;width:162.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         opinions.state
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:168.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         result
        </p>
       </td>
       <td style="vertical-align:top;width:108.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         处理结果文本
        </p>
       </td>
       <td style="vertical-align:top;width:162.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         opinion_results.result
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:168.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         transactor
        </p>
       </td>
       <td style="vertical-align:top;width:108.15pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         处理人同户名
        </p>
       </td>
       <td style="vertical-align:top;width:162.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         opinion_results.transactor
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         finish_time
        </p>
       </td>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         处理完成时间
        </p>
       </td>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         opinion_results.finish_time
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="margin-left:.0001pt;text-align:justify;">
     表22 归还信息视图(return_message)
    </p>
    <table align="center" border="1" cellspacing="0" style="width:439.05pt;">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:168.25pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         字段名称
        </p>
       </td>
       <td style="vertical-align:top;width:113.7pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         说    明
        </p>
       </td>
       <td style="vertical-align:top;width:157.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         所来自的基本表的字段
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:168.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrow_rec_num
        </p>
       </td>
       <td style="vertical-align:top;width:113.7pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         借阅记录编号
        </p>
       </td>
       <td style="vertical-align:top;width:157.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrows.borrow_rec_num
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:168.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         reader_name
        </p>
       </td>
       <td style="vertical-align:top;width:113.7pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         借阅者用户名
        </p>
       </td>
       <td style="vertical-align:top;width:157.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrows.reader_name
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:168.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         book_num
        </p>
       </td>
       <td style="vertical-align:top;width:113.7pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         被借图书在图书馆的编号
        </p>
       </td>
       <td style="vertical-align:top;width:157.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrows.book_num
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:168.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         book_name
        </p>
       </td>
       <td style="vertical-align:top;width:113.7pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         图书名字
        </p>
       </td>
       <td style="vertical-align:top;width:157.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         books.book_name
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:168.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrow_time
        </p>
       </td>
       <td style="vertical-align:top;width:113.7pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         借阅时间
        </p>
       </td>
       <td style="vertical-align:top;width:157.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrows.borrow_time
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:168.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrow_transactor
        </p>
       </td>
       <td style="vertical-align:top;width:113.7pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         借阅办理人的用户名
        </p>
       </td>
       <td style="vertical-align:top;width:157.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrows.transactor
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:168.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrow_state
        </p>
       </td>
       <td style="vertical-align:top;width:113.7pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         借阅状态
        </p>
       </td>
       <td style="vertical-align:top;width:157.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrows.borrow_state
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrow_duration
        </p>
       </td>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         借阅期限
        </p>
       </td>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrows.borrow_duration
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         return_time
        </p>
       </td>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         归还时间
        </p>
       </td>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         returns.return_time
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         return_transactor
        </p>
       </td>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         归还办理人的用户名
        </p>
       </td>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         returns.transactor
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         fee
        </p>
       </td>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         滞纳/赔偿金额
        </p>
       </td>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         returns.fee
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         kind
        </p>
       </td>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         归还时的类型
        </p>
       </td>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         returns.kind
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="margin-left:.0001pt;text-align:justify;">
     表23  图书信息视图
    </p>
    <table align="center" border="1" cellspacing="0" style="width:439.05pt;">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:168.25pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         字段名称
        </p>
       </td>
       <td style="vertical-align:top;width:113.7pt;">
        <p style="margin-left:.0001pt;text-align:center;">
         说    明
        </p>
       </td>
       <td style="vertical-align:top;width:157.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         所来自的基本表的字段
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:168.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         book_num
        </p>
       </td>
       <td style="vertical-align:top;width:113.7pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         图书编号
        </p>
       </td>
       <td style="vertical-align:top;width:157.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         books.bok_num
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:168.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         book_name
        </p>
       </td>
       <td style="vertical-align:top;width:113.7pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         图书名
        </p>
       </td>
       <td style="vertical-align:top;width:157.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         books.book_name
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:168.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         book_price
        </p>
       </td>
       <td style="vertical-align:top;width:113.7pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         图书价格
        </p>
       </td>
       <td style="vertical-align:top;width:157.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         books.book_price
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:168.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         book_state
        </p>
       </td>
       <td style="vertical-align:top;width:113.7pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         图书状态
        </p>
       </td>
       <td style="vertical-align:top;width:157.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         books.book_state
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:168.25pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         book_position
        </p>
       </td>
       <td style="vertical-align:top;width:113.7pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         图书位置
        </p>
       </td>
       <td style="vertical-align:top;width:157.1pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         books.book_position
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h4 id="4.3%C2%A0%E5%AE%8C%E6%95%B4%E6%80%A7%E7%9A%84%E8%AE%BE%E8%AE%A1">
     4.3
     <strong>
      完整性的设计
     </strong>
    </h4>
    <p style="margin-left:.0001pt;text-align:justify;">
     表24 完整性约束
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         字段名
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         约束类型及描述
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         readers.reader_name
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         主键
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         readers.password
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         非空
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         readers.name
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         非空
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         readers.id_num
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         候选码，长度15或18位
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         readers.phone_num
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         空或11位数字
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         managers.manager_name
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         主键
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         managers.password
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         非空
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         managers.name
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         非空
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         managers.id_num
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         候选码，长度15或18位
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         managers.phone_num
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         非空,11位数字
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         managers.entry_time
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         非空
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         managers.work_position
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         非空
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         managers.state
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         非空，(正常、注销之一)(默认正常)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         books.book_num
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         主键
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         books.book_name
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         非空
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         books.book_price
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         非空,非负
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         books.book_state
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         非空(可借，不可借之一)(默认不可借)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         opinions.opinion_rec_num
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         主键
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         opinions.reader_name
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         外键，参照readers.reader_name
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         opinions.opinion
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         非空
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         opinions.submit_time
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         非空
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         opinions.state
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         非空,(待处理、处理完成其中之一)(默认待处理)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         opinion_results.opinion_rec_num
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         主键，外键，参照opinions.opinion_rec_num
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         opinion_results.result
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         非空
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         opinion_results.transactor
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         外键，参照managers.manager_name
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         opinion_results.finish_time
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         非空
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrows.borrow_rec_num
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         主键
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrows.reader_name
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         外键,参照readers.reader_name
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrows.book_num
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         外键,参照books.book_num
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrows.borrow_time
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         非空
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrows.transactor
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         外键,参照managers.manager_name
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrows.borrow_state
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         非空,(已还、未还之一)(默认未还)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         borrows.borrow_duration
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         非空(默认30)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         returns.borrow_rec_num
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         主键,外键，参照borrows
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         returns.return_time
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         非空
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         returns.transactor
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         外键,参照managers.manager_name
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:150.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         returns.kind
        </p>
       </td>
       <td style="vertical-align:top;width:294.65pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         非空,(正常、丢失、损坏之一)(默认正常)
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p style="margin-left:.0001pt;text-align:justify;">
     表25 触发器
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         触发器名
        </p>
       </td>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         作用
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         insert_opinion_results
        </p>
       </td>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         after insert 触发器,opinion_results表,插入数据后,将opinions表对应记录的state置为’处理完成’
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         insert_borrows
        </p>
       </td>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         after insert 触发器,borrows表,插入数据后,将books表对应记录的book_state置为’不可借’
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         insert_books
        </p>
       </td>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         before insert 触发器,books表,，如果要插入数据book_position字段不为空,将book_state置为’可借’
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         update_books
        </p>
       </td>
       <td style="vertical-align:top;">
        <p style="margin-left:.0001pt;text-align:justify;">
         after update 触发器,books表,修改数据后，如果是添加馆藏位置，将book_state置为’可借’
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <h4 id="4.4%20%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E8%AE%BE%E8%AE%A1">
     4.4 存储过程设计
    </h4>
    <p style="margin-left:.0001pt;text-align:justify;">
     表26 存储过程
    </p>
    <table border="1" cellspacing="0">
     <tbody>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         存储过程名
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         作用
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         insert_reader
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         注册验证通过后插入读者信息,无返回值
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(用户名,密码md5,姓名,身份证号,手机号)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         insert_manager
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         注册验证通过后插入图书管理员信息,无返回值
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(用户名,密码md5,姓名,身份证号,手机号,入职时间,工作位置)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         insert_opinion
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         意见反馈模块插入意见反馈记录，无返回值
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(用户名,意见,当前时间)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         insert_book
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         插入图书记录,无返回值
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(书籍名字,书籍价格,馆藏位置)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         insert_opinion_result
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         管理员处理完成后插入意见处理结果记录,无返回值
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(被处理的记录的编号,意见处理结果文本,处理人的用户名,当前时间)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         insert_borrow
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         管理员代理用户执行图书借阅,插入借阅记录,无返回值
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(借阅者用户名,被借图书在图书馆的编号,当前时间,办理人的用户名)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         insert_return
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         管理员代理用户执行图书归还,插入归还记录,返回值为滞纳金额
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(对应借阅记录的编号,当前时间,办理人的用户名,类型)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         select_reader_message
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         查询读者的个人信息,返回外模式(reader_message)
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(读者用户名)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         select_manager_message
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         查询图书管理员的个人信息,返回外模式(manager_message)
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(图书管理员用户名)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         select_book_message
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         查询图书信息,返回图书信息(book_message)
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(书籍名)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         select_book_by_num
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         查询图书信息,返回图书信息(book_message)
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(书籍编号)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         select_pending_opinion
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         查询待处理的意见,返回待处理意见信息(pending_opinion_message)
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数()
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         select_opinion
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         查询意见的主要信息,返回内容和状态
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(意见编号)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         select_opinion_result_message
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         查询反馈记录，返回反馈结果信息(opinion_result_message)
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(读者用户名)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         select_return_message
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         查询借阅归还记录，返回借阅归还信息(return_message)
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(读者用户名)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         select_borrow_by_booknum
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         查询借阅归还记录，返回借阅归还信息(return_message)
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(借阅记录编号)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         update_reader_message
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         修改读者个人信息,无返回值
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(读者用户名,新姓名,新身份证,新电话)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         update_reader_password
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         修改读者个人密码,无返回值
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(读者用户名,新密码的md5)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         update_manager_message
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         修改图书管理员个人信息,无返回值
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(管理员用户名,新姓名,新身份证,新电话)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         update_manager_password
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         修改图书管理员个人密码,无返回值
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(管理员用户名,新密码的md5)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         update_manager_work
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         系统管理员修改图书管理员的工作信息,无返回值
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(管理员用户名,新工作位置,新账户状态)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         update_book
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         修改图书信息,无返回值
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(图书编号,新书籍名字,新书籍价格,新书籍状态,新馆藏位置)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         delete_book
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         删除图书,无返回值
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(图书编号)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         delete_manager
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         删除图书管理员账户,无返回值
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(图书管理员用户名)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         extend_time
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         延长借阅时间,返回操作结果(成功/超期)
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(图书编号)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         check_reader
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         检查读者用户密码,返回结果(正确/错误)
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(用户名，密码md5)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         check_manager
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         检查图书管理员用户密码,返回结果(正确/错误)
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(用户名，密码md5)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         check_reader_sign_up
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         检查读者注册信息,返回结果(用户名已存在/身份证号已被注册/OK)
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(用户名,身份证号)
        </p>
       </td>
      </tr>
      <tr>
       <td style="vertical-align:top;width:141.3pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         check_manager_sign_up
        </p>
       </td>
       <td style="vertical-align:top;width:311.95pt;">
        <p style="margin-left:.0001pt;text-align:justify;">
         检查图书管理员注册信息,返回结果(用户名已存在/身份证号已被注册/OK)
        </p>
        <p style="margin-left:.0001pt;text-align:justify;">
         参数(用户名,身份证号)
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
    </p>
    <p>
     至此数据库基本设计完成,之后是使用数据库产品进行实现
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
</div>


<p class="artid" style="display:none">68747470733a2f:2f626c6f672e6373646e2e6e65742f6173733133333735352f:61727469636c652f64657461696c732f313238363431393030</p>
