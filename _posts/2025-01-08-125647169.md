---
layout: post
title: "记录linux性能测试工具-stress常用命令"
date: 2025-01-08 15:30:01 +0800
description: "linux性能测试工具 stress 的一些常用命令记录_stress内存加压"
keywords: "stress内存加压"
categories: ['虚拟机相关内容']
tags: ['运维', '测试工具', '云计算', 'Linux']
artid: "125647169"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=125647169
    alt: "记录linux性能测试工具-stress常用命令"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     记录——linux性能测试工具 stress常用命令
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     <em>
      <strong>
       Linux性能测试工具 stress 常用命令：
      </strong>
     </em>
    </p>
    <ul>
     <li>
      <strong>
       对CPU进行加压
      </strong>
      ,可以使用top命令查看使用情况
      <br/>
      <code>
       stress -c 2 增加2个cpu进程，处理sqrt()函数函数，以提高系统CPU负荷，
      </code>
     </li>
    </ul>
    <p>
     <img alt="stress_cpu" src="https://i-blog.csdnimg.cn/blog_migrate/12d1c3b50cf3f885721eb3a70714bece.png"/>
    </p>
    <ul>
     <li>
      <p>
       <strong>
        对内存进行加压
       </strong>
       ，可以使用free -h 查看使用情况
      </p>
      <p>
       <code>
        stress --vm 2 --vm-bytes 2000M --vm-keep ：模拟产生2个进程，每个进程分配2个G内存
       </code>
      </p>
      <p>
       –vm-keep：一直占用内存，区别于不断的释放和重新分配(默认是不断释放并重新分配内存)
       <br/>
       –vm-hang N：指示每个消耗内存的进程在分配到内存后转入睡眠状态 N 秒，然后释放内存，一直重复执行这个过程
      </p>
     </li>
    </ul>
    <p>
     <strong>
      - 消耗IO资源：
     </strong>
     <br/>
     <code>
      stress -i 4（模拟产生4个进程，每个进程反复调用sync方法把内存上的内容写到硬盘上）
     </code>
     ，可以使用iotop查看io情况
    </p>
    <p>
     <strong>
      - 对磁盘io进行压测：
     </strong>
     <br/>
     <code>
      stress -d 1 --hdd-bytes 10M 创建一个进程不断的在磁盘上创建 10M 大小的文件并写入内容
     </code>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f626567696e6572546f4265747465722f:61727469636c652f64657461696c732f313235363437313639" class_="artid" style="display:none">
 </p>
</div>


