---
layout: post
title: "Linux下的网络模式-NAT模式桥接模式以及仅主机模式"
date: 2025-01-01 20:58:54 +0800
description: "1、桥接模式我们电脑里的IP地址一般都是我们电脑在当前局域网的子网的IP地址值，并不是我们上网到外面"
keywords: "计算机网络网络配置 nat 仅主机"
categories: ['未分类']
tags: ['网络', '桥接模式', 'Linux']
artid: "131439177"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=131439177
  alt: "Linux下的网络模式-NAT模式桥接模式以及仅主机模式"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Linux下的网络模式--NAT模式、桥接模式以及仅主机模式
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     我们电脑里的IP地址一般都是我们电脑在当前局域网的子网的IP地址值，并不是我们上网到外面去连接的IP。
    </p>
    <p style="text-align:center;">
     <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/c633ee0c1b4f9d9cd80b49d750aeac9b.png"/>
    </p>
    <p>
     <span style="color:#fe2c24;">
      <strong>
       上面的内容不重要，可以不看！
      </strong>
     </span>
    </p>
    <h2>
     <span style="color:#0d0016;">
      1、桥接模式
     </span>
    </h2>
    <p>
     <span style="color:#0d0016;">
      虚拟机直接连接外部物理网络的模式，主机起到了网桥的作用。这种模式下，虚拟机可以直接访问外部网络，并且对外部网络是可见的。
     </span>
    </p>
    <p style="text-align:center;">
     <span style="color:#0d0016;">
      <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/f3785578b5d7da3cbbe230f7db5fbe76.png"/>
     </span>
    </p>
    <p>
     桥接模式就是将主机网卡与虚拟机虚拟的网卡利用虚拟网桥进行通信。
    </p>
    <p>
     桥接模式下虚拟系统就像是局域网中的一台独立的主机，它可以访问网内任何一台机器，需要手工为虚拟系统配置IP地址,子网掩码，而且还要和宿主机器处于同一网段，这样虚拟系统才能和宿主机器进行通信，虚拟系统和宿主机器的关系，就像连接在同一个交换机上的两台电脑。从网络技术上理解相当于在宿主机前端加设了一个虚拟交换机，然后宿主机和所有虚拟机共享这个交换机。
    </p>
    <p>
     如果主机连接在开启了DHCP服务的（无线）路由器上，这时虚拟机能够自动获得IP地址。如果局域网内没有提供DHCP服务的设备，那就需要手动配置 IP地址，只需仿照主机网卡的IP地址，设置一个同网段的不同的IP地址即可，一般只需修改IP地址的最后第四组数字不同就行了，其它的照搬
    </p>
    <p>
     在这种情况下，主机和虚拟机可以相互通信，虚拟机可以上外网。
    </p>
    <p>
     优点：任何一台主机和虚拟机可以相互通信、访问
    </p>
    <p>
     缺点：隐私性、安全性差，局域网内的所有主机都能访问到别人搭建的虚拟机集群
    </p>
    <p>
     同一个局域网内，IP数量有限，容易造成IP冲突。
    </p>
    <h2>
     2、NAT（Network Addrress Transition）模式。
    </h2>
    <p>
     虚拟机和主机构建一个专用网络，并通过
     <span style="color:#fe2c24;">
      虚拟网络地址转换（NAT）设备
     </span>
     对IP进行转换。虚拟机通过
     <strong>
      共享主机IP
     </strong>
     可以访问外部网络，但外部网络无法访问虚拟机。
    </p>
    <p style="text-align:center;">
     <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/a851aa01cb573e4a88299278ea48eec2.png"/>
    </p>
    <p>
     在NAT模式中，主机网卡直接与虚拟NAT设备相连，然后虚拟NAT设备与虚拟DHCP服务器一起连接在虚拟网卡VMnet8上，这样就实现了虚拟机联网 ，虚拟网卡的功能只有一个，实现该虚拟机与该主机的直接通信。
    </p>
    <p>
     在这种模式下宿主机成为双网卡主机，同时参与现有的宿主局域网 和新建的虚拟局域网，但由于加设了一个虚拟的NAT服务器，使得虚拟局域网内的虚拟机在对外访问时，使用的则是宿主机的IP地址，这样从外部网络来 看，只能看到宿主机，完全看不到新建的虚拟局域网。
    </p>
    <p>
     优点：无IP冲突，其他主机和因特网无法访问虚拟机，比较安全。
    </p>
    <p>
     缺点：通信慢。
    </p>
    <h2>
     3、仅主机模式
    </h2>
    <p>
     虚拟机只与主机共享一个专用网络，与外部网络无法通信。
    </p>
    <p>
     这是在NAT模式下，物理网卡和虚拟网卡直接连在虚拟交换机上，就没有了NAT路由器和DHCP服务器，意味着虚拟机不能上网，即与外部网络无法通信，仅能实现与主机之间的通信。
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6d305f35393731373236322f:61727469636c652f64657461696c732f313331343339313737" class_="artid" style="display:none">
 </p>
</div>
