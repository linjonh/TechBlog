---
layout: post
title: "深入了解GRUB命令行用法"
date: 2023-11-13 20:17:39 +0800
description: "本文详细介绍了GRUB命令行的启动方法、基础和高级用法，包括设置内核、分区、加载模块，以及高级功能如"
keywords: "grub命令"
categories: ["未分类"]
tags: ["Linux"]
artid: "134385596"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=134385596
  alt: "深入了解GRUB命令行用法"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     深入了解GRUB命令行用法
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h4>
     <a id="1_GRUB_0">
     </a>
     1. 启动GRUB命令行
    </h4>
    <p>
     GRUB命令行可以在系统引导时进入，或者通过编辑GRUB配置文件手动启动。在引导过程中，按下键盘上的"e"键可以进入编辑模式，然后找到以"linux"或"kernel"开头的行，将其替换为"linux /vmlinuz root=/dev/sdX"，其中"/dev/sdX"是你的根分区。按下Ctrl + X 启动修改后的配置并进入GRUB命令行。
    </p>
    <h4>
     <a id="2_GRUB_4">
     </a>
     2. GRUB命令行基础
    </h4>
    <p>
     GRUB命令行具有一些基础命令，如下所示：
    </p>
    <ul>
     <li>
      <p>
       <strong>
        ls
       </strong>
       : 列出当前设备上的文件和目录。
      </p>
      <pre><code class="prism language-bash">grub<span class="token operator">&gt;</span> <span class="token function">ls</span>
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        set
       </strong>
       : 显示或设置GRUB变量。
      </p>
      <pre><code class="prism language-bash">grub<span class="token operator">&gt;</span> <span class="token builtin class-name">set</span>
grub<span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> <span class="token assign-left variable">root</span><span class="token operator">=</span><span class="token punctuation">(</span>hd0,1<span class="token punctuation">)</span>
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        insmod
       </strong>
       : 加载一个GRUB模块。
      </p>
      <pre><code class="prism language-bash">grub<span class="token operator">&gt;</span> insmod ext2
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        linux
       </strong>
       : 设置内核文件和参数。
      </p>
      <pre><code class="prism language-bash">grub<span class="token operator">&gt;</span> linux /vmlinuz <span class="token assign-left variable">root</span><span class="token operator">=</span>/dev/sdX
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        initrd
       </strong>
       : 设置初始化RAM磁盘文件。
      </p>
      <pre><code class="prism language-bash">grub<span class="token operator">&gt;</span> initrd /initrd.img
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        boot
       </strong>
       : 启动操作系统。
      </p>
      <pre><code class="prism language-bash">grub<span class="token operator">&gt;</span> boot
</code></pre>
     </li>
    </ul>
    <h4>
     <a id="3_GRUB_39">
     </a>
     3. GRUB命令行高级用法
    </h4>
    <p>
     GRUB命令行还支持更高级的操作，例如引导多个内核、修复引导等。
    </p>
    <ul>
     <li>
      <p>
       <strong>
        chainloader
       </strong>
       : 引导另一个引导加载程序。
      </p>
      <pre><code class="prism language-bash">grub<span class="token operator">&gt;</span> chainloader <span class="token punctuation">(</span>hd1,0<span class="token punctuation">)</span>+1
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        configfile
       </strong>
       : 加载并执行指定的GRUB配置文件。
      </p>
      <pre><code class="prism language-bash">grub<span class="token operator">&gt;</span> configfile /grub/grub.cfg
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        search
       </strong>
       : 在文件系统中搜索文件。
      </p>
      <pre><code class="prism language-bash">grub<span class="token operator">&gt;</span> search <span class="token parameter variable">--file</span> /vmlinuz
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        set pager=1
       </strong>
       : 启用分页显示输出。
      </p>
      <pre><code class="prism language-bash">grub<span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> <span class="token assign-left variable">pager</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre>
     </li>
    </ul>
    <h4>
     <a id="4__63">
     </a>
     4. 保存和退出
    </h4>
    <p>
     在GRUB命令行中进行配置后，可以使用以下命令保存并退出：
    </p>
    <ul>
     <li>
      <strong>
       Ctrl + X
      </strong>
      : 启动修改后的配置并引导系统。
     </li>
     <li>
      <strong>
       Ctrl + C
      </strong>
      : 中断当前命令的执行。
     </li>
     <li>
      <strong>
       reboot
      </strong>
      : 重新启动计算机。
     </li>
    </ul>
    <h4>
     <a id="_71">
     </a>
     结语
    </h4>
    <p>
     GRUB命令行提供了强大的工具，使用户能够更灵活地管理引导过程。通过深入了解这些命令的用法，我们可以更好地理解和调整系统的引导配置。虽然在大多数情况下不需要手动操作GRUB命令行，但了解这些命令对于系统管理员和Linux爱好者来说是一个有用的技能。希望这篇博客能够帮助你更好地掌握GRUB命令行的用法。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="6874747073:3a2f2f626c6f672e6373646e2e6e65742f646d67793131302f:61727469636c652f64657461696c732f313334333835353936" class_="artid" style="display:none">
 </p>
</div>
