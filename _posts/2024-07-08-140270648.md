---
layout: post
title: 2024-07-08-用Python代码制作6款小游戏动画演示代码分享,学习再也不会枯燥无味啦
date: 2024-07-08 16:02:16 +0800
categories: []
tags: [python,学习,pygame,python3.11,游戏]
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=140270648
  alt: 用Python代码制作6款小游戏动画演示代码分享,学习再也不会枯燥无味啦
artid: 140270648
render_with_liquid: false
---
</p>
<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     用Python代码制作6款小游戏（动画演示+代码分享），学习再也不会枯燥无味啦！！！
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     大家好，我是疯狂的超级玛丽！
     <br/>
     在编程过程中都是枯燥无味的，所以呢今天给大家带来一些有趣的小项目。
     <br/>
     让我们快乐的学习和编程吧！
     <br/>
     如果大家喜欢，一定要收藏哦！还有更多的教程和项目教学需要的可以联系我哦！！
    </p>
    <h5>
     <a id="1_7">
     </a>
     1、飞机大战
    </h5>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/2182f193f63a1789a08c0c2ec0116b7f.gif"/>
    </p>
    <p>
     源码分享：
    </p>
    <pre><code class="prism language-python">
<span class="token keyword">import</span> sys
<span class="token keyword">import</span> cfg
<span class="token keyword">import</span> pygame
<span class="token keyword">from</span> modules <span class="token keyword">import</span> <span class="token operator">*</span>


<span class="token triple-quoted-string string">'''游戏界面'''</span>
<span class="token keyword">def</span> <span class="token function">GamingInterface</span><span class="token punctuation">(</span>num_player<span class="token punctuation">,</span> screen<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 初始化</span>
    pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>load<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>SOUNDPATHS<span class="token punctuation">[</span><span class="token string">'Cool Space Music'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>set_volume<span class="token punctuation">(</span><span class="token number">0.4</span><span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    explosion_sound <span class="token operator">=</span> pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>Sound<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>SOUNDPATHS<span class="token punctuation">[</span><span class="token string">'boom'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    fire_sound <span class="token operator">=</span> pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>Sound<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>SOUNDPATHS<span class="token punctuation">[</span><span class="token string">'shot'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    font <span class="token operator">=</span> pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span>Font<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>FONTPATH<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
    <span class="token comment"># 游戏背景图</span>
    bg_imgs <span class="token operator">=</span> <span class="token punctuation">[</span>cfg<span class="token punctuation">.</span>IMAGEPATHS<span class="token punctuation">[</span><span class="token string">'bg_big'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>IMAGEPATHS<span class="token punctuation">[</span><span class="token string">'seamless_space'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>IMAGEPATHS<span class="token punctuation">[</span><span class="token string">'space3'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
    bg_move_dis <span class="token operator">=</span> <span class="token number">0</span>
    bg_1 <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span>bg_imgs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>convert<span class="token punctuation">(</span><span class="token punctuation">)</span>
    bg_2 <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span>bg_imgs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>convert<span class="token punctuation">(</span><span class="token punctuation">)</span>
    bg_3 <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span>bg_imgs<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>convert<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 玩家, 子弹和小行星精灵组</span>
    player_group <span class="token operator">=</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Group<span class="token punctuation">(</span><span class="token punctuation">)</span>
    bullet_group <span class="token operator">=</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Group<span class="token punctuation">(</span><span class="token punctuation">)</span>
    asteroid_group <span class="token operator">=</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Group<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 产生小行星的时间间隔</span>
    asteroid_ticks <span class="token operator">=</span> <span class="token number">90</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>num_player<span class="token punctuation">)</span><span class="token punctuation">:</span>
        player_group<span class="token punctuation">.</span>add<span class="token punctuation">(</span>Ship<span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> cfg<span class="token punctuation">)</span><span class="token punctuation">)</span>
    clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 分数</span>
    score_1<span class="token punctuation">,</span> score_2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span>
    <span class="token comment"># 游戏主循环</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
                pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
                sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># --玩家一: ↑↓←→控制, j射击; 玩家二: wsad控制, 空格射击</span>
        pressed_keys <span class="token operator">=</span> pygame<span class="token punctuation">.</span>key<span class="token punctuation">.</span>get_pressed<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> idx<span class="token punctuation">,</span> player <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>player_group<span class="token punctuation">)</span><span class="token punctuation">:</span>
            direction <span class="token operator">=</span> <span class="token boolean">None</span>
            <span class="token keyword">if</span> idx <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> pressed_keys<span class="token punctuation">[</span>pygame<span class="token punctuation">.</span>K_UP<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    direction <span class="token operator">=</span> <span class="token string">'up'</span>
                <span class="token keyword">elif</span> pressed_keys<span class="token punctuation">[</span>pygame<span class="token punctuation">.</span>K_DOWN<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    direction <span class="token operator">=</span> <span class="token string">'down'</span>
                <span class="token keyword">elif</span> pressed_keys<span class="token punctuation">[</span>pygame<span class="token punctuation">.</span>K_LEFT<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    direction <span class="token operator">=</span> <span class="token string">'left'</span>
                <span class="token keyword">elif</span> pressed_keys<span class="token punctuation">[</span>pygame<span class="token punctuation">.</span>K_RIGHT<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    direction <span class="token operator">=</span> <span class="token string">'right'</span>
                <span class="token keyword">if</span> direction<span class="token punctuation">:</span>
                    player<span class="token punctuation">.</span>move<span class="token punctuation">(</span>direction<span class="token punctuation">)</span>
                <span class="token keyword">if</span> pressed_keys<span class="token punctuation">[</span>pygame<span class="token punctuation">.</span>K_j<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    <span class="token keyword">if</span> player<span class="token punctuation">.</span>cooling_time <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                        fire_sound<span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token punctuation">)</span>
                        bullet_group<span class="token punctuation">.</span>add<span class="token punctuation">(</span>player<span class="token punctuation">.</span>shot<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                        player<span class="token punctuation">.</span>cooling_time <span class="token operator">=</span> <span class="token number">20</span>
            <span class="token keyword">elif</span> idx <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> pressed_keys<span class="token punctuation">[</span>pygame<span class="token punctuation">.</span>K_w<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    direction <span class="token operator">=</span> <span class="token string">'up'</span>
                <span class="token keyword">elif</span> pressed_keys<span class="token punctuation">[</span>pygame<span class="token punctuation">.</span>K_s<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    direction <span class="token operator">=</span> <span class="token string">'down'</span>
                <span class="token keyword">elif</span> pressed_keys<span class="token punctuation">[</span>pygame<span class="token punctuation">.</span>K_a<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    direction <span class="token operator">=</span> <span class="token string">'left'</span>
                <span class="token keyword">elif</span> pressed_keys<span class="token punctuation">[</span>pygame<span class="token punctuation">.</span>K_d<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    direction <span class="token operator">=</span> <span class="token string">'right'</span>
                <span class="token keyword">if</span> direction<span class="token punctuation">:</span>
                    player<span class="token punctuation">.</span>move<span class="token punctuation">(</span>direction<span class="token punctuation">)</span>
                <span class="token keyword">if</span> pressed_keys<span class="token punctuation">[</span>pygame<span class="token punctuation">.</span>K_SPACE<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    <span class="token keyword">if</span> player<span class="token punctuation">.</span>cooling_time <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                        fire_sound<span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token punctuation">)</span>
                        bullet_group<span class="token punctuation">.</span>add<span class="token punctuation">(</span>player<span class="token punctuation">.</span>shot<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                        player<span class="token punctuation">.</span>cooling_time <span class="token operator">=</span> <span class="token number">20</span>
            <span class="token keyword">if</span> player<span class="token punctuation">.</span>cooling_time <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
                player<span class="token punctuation">.</span>cooling_time <span class="token operator">-=</span> <span class="token number">1</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>score_1 <span class="token operator">+</span> score_2<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">500</span><span class="token punctuation">:</span>
            background <span class="token operator">=</span> bg_1
        <span class="token keyword">elif</span> <span class="token punctuation">(</span>score_1 <span class="token operator">+</span> score_2<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">1500</span><span class="token punctuation">:</span>
            background <span class="token operator">=</span> bg_2
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            background <span class="token operator">=</span> bg_3
        <span class="token comment"># --向下移动背景图实现飞船向上移动的效果</span>
        screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>background<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span>background<span class="token punctuation">.</span>get_rect<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>height <span class="token operator">+</span> bg_move_dis<span class="token punctuation">)</span><span class="token punctuation">)</span>
        screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>background<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> bg_move_dis<span class="token punctuation">)</span><span class="token punctuation">)</span>
        bg_move_dis <span class="token operator">=</span> <span class="token punctuation">(</span>bg_move_dis <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">%</span> background<span class="token punctuation">.</span>get_rect<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>height
        <span class="token comment"># --生成小行星</span>
        <span class="token keyword">if</span> asteroid_ticks <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            asteroid_ticks <span class="token operator">=</span> <span class="token number">90</span>
            asteroid_group<span class="token punctuation">.</span>add<span class="token punctuation">(</span>Asteroid<span class="token punctuation">(</span>cfg<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            asteroid_ticks <span class="token operator">-=</span> <span class="token number">1</span>
        <span class="token comment"># --画飞船</span>
        <span class="token keyword">for</span> player <span class="token keyword">in</span> player_group<span class="token punctuation">:</span>
            <span class="token keyword">if</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>spritecollide<span class="token punctuation">(</span>player<span class="token punctuation">,</span> asteroid_group<span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                player<span class="token punctuation">.</span>explode_step <span class="token operator">=</span> <span class="token number">1</span>
                explosion_sound<span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">elif</span> player<span class="token punctuation">.</span>explode_step <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> player<span class="token punctuation">.</span>explode_step <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">:</span>
                    player_group<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>player<span class="token punctuation">)</span>
                    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>player_group<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                        <span class="token keyword">return</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    player<span class="token punctuation">.</span>explode<span class="token punctuation">(</span>screen<span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                player<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>screen<span class="token punctuation">)</span>
        <span class="token comment"># --画子弹</span>
        <span class="token keyword">for</span> bullet <span class="token keyword">in</span> bullet_group<span class="token punctuation">:</span>
            bullet<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>spritecollide<span class="token punctuation">(</span>bullet<span class="token punctuation">,</span> asteroid_group<span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                bullet_group<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>bullet<span class="token punctuation">)</span>
                <span class="token keyword">if</span> bullet<span class="token punctuation">.</span>player_idx <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                    score_1 <span class="token operator">+=</span> <span class="token number">1</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    score_2 <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                bullet<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>screen<span class="token punctuation">)</span>
        <span class="token comment"># --画小行星</span>
        <span class="token keyword">for</span> asteroid <span class="token keyword">in</span> asteroid_group<span class="token punctuation">:</span>
            asteroid<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token punctuation">)</span>
            asteroid<span class="token punctuation">.</span>rotate<span class="token punctuation">(</span><span class="token punctuation">)</span>
            asteroid<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>screen<span class="token punctuation">)</span>
        <span class="token comment"># --显示分数</span>
        score_1_text <span class="token operator">=</span> <span class="token string">'玩家一得分: %s'</span> <span class="token operator">%</span> score_1
        score_2_text <span class="token operator">=</span> <span class="token string">'玩家二得分: %s'</span> <span class="token operator">%</span> score_2
        text_1 <span class="token operator">=</span> font<span class="token punctuation">.</span>render<span class="token punctuation">(</span>score_1_text<span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        text_2 <span class="token operator">=</span> font<span class="token punctuation">.</span>render<span class="token punctuation">(</span>score_2_text<span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>text_1<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>text_2<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># --屏幕刷新</span>
        pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
        clock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>


<span class="token triple-quoted-string string">'''主函数'''</span>
<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
    screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>SCREENSIZE<span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token string">'飞机大战 —— 九歌'</span><span class="token punctuation">)</span>
    num_player <span class="token operator">=</span> StartInterface<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> cfg<span class="token punctuation">)</span>
    <span class="token keyword">if</span> num_player <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            GamingInterface<span class="token punctuation">(</span>num_player<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> screen<span class="token operator">=</span>screen<span class="token punctuation">)</span>
            EndInterface<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> cfg<span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            GamingInterface<span class="token punctuation">(</span>num_player<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> screen<span class="token operator">=</span>screen<span class="token punctuation">)</span>
            EndInterface<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> cfg<span class="token punctuation">)</span>


<span class="token triple-quoted-string string">'''run'''</span>
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    main<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <pre><code></code></pre>
    <h5>
     <a id="2_175">
     </a>
     <strong>
      2、消消乐
     </strong>
    </h5>
    <p>
     <strong>
      玩法：三个相连就能消除
     </strong>
    </p>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/3399be8d6d22052d0191010547ed59c7.gif"/>
    </p>
    <p>
     <strong>
      源码分享：
     </strong>
    </p>
    <pre><code class="prism language-python">
<span class="token keyword">import</span> os
<span class="token keyword">import</span> sys
<span class="token keyword">import</span> cfg
<span class="token keyword">import</span> pygame
<span class="token keyword">from</span> modules <span class="token keyword">import</span> <span class="token operator">*</span>


<span class="token triple-quoted-string string">'''游戏主程序'''</span>
<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
    screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>SCREENSIZE<span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token string">'Gemgem —— 九歌'</span><span class="token punctuation">)</span>
    <span class="token comment"># 加载背景音乐</span>
    pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>load<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>ROOTDIR<span class="token punctuation">,</span> <span class="token string">"resources/audios/bg.mp3"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>set_volume<span class="token punctuation">(</span><span class="token number">0.6</span><span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token comment"># 加载音效</span>
    sounds <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    sounds<span class="token punctuation">[</span><span class="token string">'mismatch'</span><span class="token punctuation">]</span> <span class="token operator">=</span> pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>Sound<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>ROOTDIR<span class="token punctuation">,</span> <span class="token string">'resources/audios/badswap.wav'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    sounds<span class="token punctuation">[</span><span class="token string">'match'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        sounds<span class="token punctuation">[</span><span class="token string">'match'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>Sound<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>ROOTDIR<span class="token punctuation">,</span> <span class="token string">'resources/audios/match%s.wav'</span> <span class="token operator">%</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># 加载字体</span>
    font <span class="token operator">=</span> pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span>Font<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>ROOTDIR<span class="token punctuation">,</span> <span class="token string">'resources/font/font.TTF'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span>
    <span class="token comment"># 图片加载</span>
    gem_imgs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        gem_imgs<span class="token punctuation">.</span>append<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>ROOTDIR<span class="token punctuation">,</span> <span class="token string">'resources/images/gem%s.png'</span> <span class="token operator">%</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># 主循环</span>
    game <span class="token operator">=</span> gemGame<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> sounds<span class="token punctuation">,</span> font<span class="token punctuation">,</span> gem_imgs<span class="token punctuation">,</span> cfg<span class="token punctuation">)</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        score <span class="token operator">=</span> game<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
        flag <span class="token operator">=</span> <span class="token boolean">False</span>
        <span class="token comment"># 一轮游戏结束后玩家选择重玩或者退出</span>
        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT <span class="token keyword">or</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>KEYUP <span class="token keyword">and</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> pygame<span class="token punctuation">.</span>K_ESCAPE<span class="token punctuation">)</span><span class="token punctuation">:</span>
                    pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
                    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token keyword">elif</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>KEYUP <span class="token keyword">and</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> pygame<span class="token punctuation">.</span>K_r<span class="token punctuation">:</span>
                    flag <span class="token operator">=</span> <span class="token boolean">True</span>
            <span class="token keyword">if</span> flag<span class="token punctuation">:</span>
                <span class="token keyword">break</span>
            screen<span class="token punctuation">.</span>fill<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">135</span><span class="token punctuation">,</span> <span class="token number">206</span><span class="token punctuation">,</span> <span class="token number">235</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            text0 <span class="token operator">=</span> <span class="token string">'Final score: %s'</span> <span class="token operator">%</span> score
            text1 <span class="token operator">=</span> <span class="token string">'Press &lt;R&gt; to restart the game.'</span>
            text2 <span class="token operator">=</span> <span class="token string">'Press &lt;Esc&gt; to quit the game.'</span>
            y <span class="token operator">=</span> <span class="token number">150</span>
            <span class="token keyword">for</span> idx<span class="token punctuation">,</span> text <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>text0<span class="token punctuation">,</span> text1<span class="token punctuation">,</span> text2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                text_render <span class="token operator">=</span> font<span class="token punctuation">.</span>render<span class="token punctuation">(</span>text<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">85</span><span class="token punctuation">,</span> <span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                rect <span class="token operator">=</span> text_render<span class="token punctuation">.</span>get_rect<span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span> idx <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                    rect<span class="token punctuation">.</span>left<span class="token punctuation">,</span> rect<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">212</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span>
                <span class="token keyword">elif</span> idx <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                    rect<span class="token punctuation">.</span>left<span class="token punctuation">,</span> rect<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">122.5</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    rect<span class="token punctuation">.</span>left<span class="token punctuation">,</span> rect<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">126.5</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span>
                y <span class="token operator">+=</span> <span class="token number">100</span>
                screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>text_render<span class="token punctuation">,</span> rect<span class="token punctuation">)</span>
            pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
        game<span class="token punctuation">.</span>reset<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token triple-quoted-string string">'''run'''</span>
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    main<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <pre><code></code></pre>
    <h5>
     <a id="3_255">
     </a>
     <strong>
      3、俄罗斯方块
     </strong>
    </h5>
    <p>
     <strong>
      玩法：童年经典，普通模式没啥意思，小时候我们都是玩加速的。
     </strong>
    </p>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/17ab5eba28c9e71e0ffe776f91c44f70.gif"/>
    </p>
    <p>
     <strong>
      源码分享：
     </strong>
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> os
<span class="token keyword">import</span> sys
<span class="token keyword">import</span> random
<span class="token keyword">from</span> modules <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> <span class="token operator">*</span>


<span class="token triple-quoted-string string">'''定义俄罗斯方块游戏类'''</span>
<span class="token keyword">class</span> <span class="token class-name">TetrisGame</span><span class="token punctuation">(</span>QMainWindow<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>TetrisGame<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
        <span class="token comment"># 是否暂停ing</span>
        self<span class="token punctuation">.</span>is_paused <span class="token operator">=</span> <span class="token boolean">False</span>
        <span class="token comment"># 是否开始ing</span>
        self<span class="token punctuation">.</span>is_started <span class="token operator">=</span> <span class="token boolean">False</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token triple-quoted-string string">'''界面初始化'''</span>
    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># icon</span>
        self<span class="token punctuation">.</span>setWindowIcon<span class="token punctuation">(</span>QIcon<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>os<span class="token punctuation">.</span>getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'resources/icon.jpg'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># 块大小</span>
        self<span class="token punctuation">.</span>grid_size <span class="token operator">=</span> <span class="token number">22</span>
        <span class="token comment"># 游戏帧率</span>
        self<span class="token punctuation">.</span>fps <span class="token operator">=</span> <span class="token number">200</span>
        self<span class="token punctuation">.</span>timer <span class="token operator">=</span> QBasicTimer<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 焦点</span>
        self<span class="token punctuation">.</span>setFocusPolicy<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>StrongFocus<span class="token punctuation">)</span>
        <span class="token comment"># 水平布局</span>
        layout_horizontal <span class="token operator">=</span> QHBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>inner_board <span class="token operator">=</span> InnerBoard<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>external_board <span class="token operator">=</span> ExternalBoard<span class="token punctuation">(</span>self<span class="token punctuation">,</span> self<span class="token punctuation">.</span>grid_size<span class="token punctuation">,</span> self<span class="token punctuation">.</span>inner_board<span class="token punctuation">)</span>
        layout_horizontal<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>external_board<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>side_panel <span class="token operator">=</span> SidePanel<span class="token punctuation">(</span>self<span class="token punctuation">,</span> self<span class="token punctuation">.</span>grid_size<span class="token punctuation">,</span> self<span class="token punctuation">.</span>inner_board<span class="token punctuation">)</span>
        layout_horizontal<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>side_panel<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>status_bar <span class="token operator">=</span> self<span class="token punctuation">.</span>statusBar<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>external_board<span class="token punctuation">.</span>score_signal<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>status_bar<span class="token punctuation">.</span>showMessage<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>center<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'Tetris —— 九歌'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setFixedSize<span class="token punctuation">(</span>self<span class="token punctuation">.</span>external_board<span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>side_panel<span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>side_panel<span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>status_bar<span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token triple-quoted-string string">'''游戏界面移动到屏幕中间'''</span>
    <span class="token keyword">def</span> <span class="token function">center</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        screen <span class="token operator">=</span> QDesktopWidget<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>screenGeometry<span class="token punctuation">(</span><span class="token punctuation">)</span>
        size <span class="token operator">=</span> self<span class="token punctuation">.</span>geometry<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> size<span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>screen<span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> size<span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token triple-quoted-string string">'''更新界面'''</span>
    <span class="token keyword">def</span> <span class="token function">updateWindow</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>external_board<span class="token punctuation">.</span>updateData<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>side_panel<span class="token punctuation">.</span>updateData<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token triple-quoted-string string">'''开始'''</span>
    <span class="token keyword">def</span> <span class="token function">start</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>is_started<span class="token punctuation">:</span>
            <span class="token keyword">return</span>
        self<span class="token punctuation">.</span>is_started <span class="token operator">=</span> <span class="token boolean">True</span>
        self<span class="token punctuation">.</span>inner_board<span class="token punctuation">.</span>createNewTetris<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>timer<span class="token punctuation">.</span>start<span class="token punctuation">(</span>self<span class="token punctuation">.</span>fps<span class="token punctuation">,</span> self<span class="token punctuation">)</span>
    <span class="token triple-quoted-string string">'''暂停/不暂停'''</span>
    <span class="token keyword">def</span> <span class="token function">pause</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>is_started<span class="token punctuation">:</span>
            <span class="token keyword">return</span>
        self<span class="token punctuation">.</span>is_paused <span class="token operator">=</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>is_paused
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>is_paused<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>timer<span class="token punctuation">.</span>stop<span class="token punctuation">(</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>external_board<span class="token punctuation">.</span>score_signal<span class="token punctuation">.</span>emit<span class="token punctuation">(</span><span class="token string">'Paused'</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>timer<span class="token punctuation">.</span>start<span class="token punctuation">(</span>self<span class="token punctuation">.</span>fps<span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>updateWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token triple-quoted-string string">'''计时器事件'''</span>
    <span class="token keyword">def</span> <span class="token function">timerEvent</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span>timerId<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>timer<span class="token punctuation">.</span>timerId<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            removed_lines <span class="token operator">=</span> self<span class="token punctuation">.</span>inner_board<span class="token punctuation">.</span>moveDown<span class="token punctuation">(</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>external_board<span class="token punctuation">.</span>score <span class="token operator">+=</span> removed_lines
            self<span class="token punctuation">.</span>updateWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token builtin">super</span><span class="token punctuation">(</span>TetrisGame<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>timerEvent<span class="token punctuation">(</span>event<span class="token punctuation">)</span>
    <span class="token triple-quoted-string string">'''按键事件'''</span>
    <span class="token keyword">def</span> <span class="token function">keyPressEvent</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>is_started <span class="token keyword">or</span> self<span class="token punctuation">.</span>inner_board<span class="token punctuation">.</span>current_tetris <span class="token operator">==</span> tetrisShape<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>shape_empty<span class="token punctuation">:</span>
            <span class="token builtin">super</span><span class="token punctuation">(</span>TetrisGame<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>keyPressEvent<span class="token punctuation">(</span>event<span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        key <span class="token operator">=</span> event<span class="token punctuation">.</span>key<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># P键暂停</span>
        <span class="token keyword">if</span> key <span class="token operator">==</span> Qt<span class="token punctuation">.</span>Key_P<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>pause<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>is_paused<span class="token punctuation">:</span>
            <span class="token keyword">return</span>
        <span class="token comment"># 向左</span>
        <span class="token keyword">elif</span> key <span class="token operator">==</span> Qt<span class="token punctuation">.</span>Key_Left<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>inner_board<span class="token punctuation">.</span>moveLeft<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 向右</span>
        <span class="token keyword">elif</span> key <span class="token operator">==</span> Qt<span class="token punctuation">.</span>Key_Right<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>inner_board<span class="token punctuation">.</span>moveRight<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 旋转</span>
        <span class="token keyword">elif</span> key <span class="token operator">==</span> Qt<span class="token punctuation">.</span>Key_Up<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>inner_board<span class="token punctuation">.</span>rotateAnticlockwise<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 快速坠落</span>
        <span class="token keyword">elif</span> key <span class="token operator">==</span> Qt<span class="token punctuation">.</span>Key_Space<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>external_board<span class="token punctuation">.</span>score <span class="token operator">+=</span> self<span class="token punctuation">.</span>inner_board<span class="token punctuation">.</span>dropDown<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token builtin">super</span><span class="token punctuation">(</span>TetrisGame<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>keyPressEvent<span class="token punctuation">(</span>event<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>updateWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token triple-quoted-string string">'''run'''</span>
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    tetris <span class="token operator">=</span> TetrisGame<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
    <pre><code></code></pre>
    <p>
     扫一扫获取更多实战小项目
     <br/>
     <img alt="安装包" src="https://i-blog.csdnimg.cn/direct/0f680929a5ae45f8a2ead44433e5d922.jpeg#pic_center"/>
    </p>
    <h5>
     <a id="4_384">
     </a>
     <strong>
      4、贪吃蛇
     </strong>
    </h5>
    <p>
     <strong>
      玩法：童年经典，普通魔术也没啥意思，小时候玩的也是加速的。
     </strong>
    </p>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/fb4cd0fb5e204af1446bb9e90927db42.gif"/>
    </p>
    <p>
     <strong>
      源码分享：
     </strong>
    </p>
    <pre><code class="prism language-python">
<span class="token keyword">import</span> cfg
<span class="token keyword">import</span> sys
<span class="token keyword">import</span> pygame
<span class="token keyword">from</span> modules <span class="token keyword">import</span> <span class="token operator">*</span>


<span class="token triple-quoted-string string">'''主函数'''</span>
<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span>cfg<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 游戏初始化</span>
    pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
    screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>SCREENSIZE<span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token string">'Greedy Snake —— 九歌'</span><span class="token punctuation">)</span>
    clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 播放背景音乐</span>
    pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>load<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>BGMPATH<span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token comment"># 游戏主循环</span>
    snake <span class="token operator">=</span> Snake<span class="token punctuation">(</span>cfg<span class="token punctuation">)</span>
    apple <span class="token operator">=</span> Apple<span class="token punctuation">(</span>cfg<span class="token punctuation">,</span> snake<span class="token punctuation">.</span>coords<span class="token punctuation">)</span>
    score <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        screen<span class="token punctuation">.</span>fill<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>BLACK<span class="token punctuation">)</span>
        <span class="token comment"># --按键检测</span>
        <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
                pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
                sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">elif</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>KEYDOWN<span class="token punctuation">:</span>
                <span class="token keyword">if</span> event<span class="token punctuation">.</span>key <span class="token keyword">in</span> <span class="token punctuation">[</span>pygame<span class="token punctuation">.</span>K_UP<span class="token punctuation">,</span> pygame<span class="token punctuation">.</span>K_DOWN<span class="token punctuation">,</span> pygame<span class="token punctuation">.</span>K_LEFT<span class="token punctuation">,</span> pygame<span class="token punctuation">.</span>K_RIGHT<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    snake<span class="token punctuation">.</span>setDirection<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>pygame<span class="token punctuation">.</span>K_UP<span class="token punctuation">:</span> <span class="token string">'up'</span><span class="token punctuation">,</span> pygame<span class="token punctuation">.</span>K_DOWN<span class="token punctuation">:</span> <span class="token string">'down'</span><span class="token punctuation">,</span> pygame<span class="token punctuation">.</span>K_LEFT<span class="token punctuation">:</span> <span class="token string">'left'</span><span class="token punctuation">,</span> pygame<span class="token punctuation">.</span>K_RIGHT<span class="token punctuation">:</span> <span class="token string">'right'</span><span class="token punctuation">}</span><span class="token punctuation">[</span>event<span class="token punctuation">.</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token comment"># --更新贪吃蛇和食物</span>
        <span class="token keyword">if</span> snake<span class="token punctuation">.</span>update<span class="token punctuation">(</span>apple<span class="token punctuation">)</span><span class="token punctuation">:</span>
            apple <span class="token operator">=</span> Apple<span class="token punctuation">(</span>cfg<span class="token punctuation">,</span> snake<span class="token punctuation">.</span>coords<span class="token punctuation">)</span>
            score <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token comment"># --判断游戏是否结束</span>
        <span class="token keyword">if</span> snake<span class="token punctuation">.</span>isgameover<span class="token punctuation">:</span> <span class="token keyword">break</span>
        <span class="token comment"># --显示游戏里必要的元素</span>
        drawGameGrid<span class="token punctuation">(</span>cfg<span class="token punctuation">,</span> screen<span class="token punctuation">)</span>
        snake<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>screen<span class="token punctuation">)</span>
        apple<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>screen<span class="token punctuation">)</span>
        showScore<span class="token punctuation">(</span>cfg<span class="token punctuation">,</span> score<span class="token punctuation">,</span> screen<span class="token punctuation">)</span>
        <span class="token comment"># --屏幕更新</span>
        pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
        clock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>FPS<span class="token punctuation">)</span>
    <span class="token keyword">return</span> endInterface<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> cfg<span class="token punctuation">)</span>


<span class="token triple-quoted-string string">'''run'''</span>
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> main<span class="token punctuation">(</span>cfg<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">break</span>
</code></pre>
    <pre><code></code></pre>
    <h5>
     <a id="524_450">
     </a>
     <strong>
      5、24点小游戏
     </strong>
    </h5>
    <p>
     <strong>
      玩法：通过加减乘除操作，小学生都没问题的。
     </strong>
    </p>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/82bd11b08f7ddb61bf0d4e45b480e9b1.gif"/>
    </p>
    <p>
     <strong>
      源码分享：
     </strong>
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> os
<span class="token keyword">import</span> sys
<span class="token keyword">import</span> pygame
<span class="token keyword">from</span> cfg <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">from</span> modules <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">from</span> fractions <span class="token keyword">import</span> Fraction


<span class="token triple-quoted-string string">'''检查控件是否被点击'''</span>
<span class="token keyword">def</span> <span class="token function">checkClicked</span><span class="token punctuation">(</span>group<span class="token punctuation">,</span> mouse_pos<span class="token punctuation">,</span> group_type<span class="token operator">=</span><span class="token string">'NUMBER'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    selected <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token comment"># 数字卡片/运算符卡片</span>
    <span class="token keyword">if</span> group_type <span class="token operator">==</span> GROUPTYPES<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">or</span> group_type <span class="token operator">==</span> GROUPTYPES<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        max_selected <span class="token operator">=</span> <span class="token number">2</span> <span class="token keyword">if</span> group_type <span class="token operator">==</span> GROUPTYPES<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">else</span> <span class="token number">1</span>
        num_selected <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> each <span class="token keyword">in</span> group<span class="token punctuation">:</span>
            num_selected <span class="token operator">+=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>each<span class="token punctuation">.</span>is_selected<span class="token punctuation">)</span>
        <span class="token keyword">for</span> each <span class="token keyword">in</span> group<span class="token punctuation">:</span>
            <span class="token keyword">if</span> each<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>collidepoint<span class="token punctuation">(</span>mouse_pos<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> each<span class="token punctuation">.</span>is_selected<span class="token punctuation">:</span>
                    each<span class="token punctuation">.</span>is_selected <span class="token operator">=</span> <span class="token keyword">not</span> each<span class="token punctuation">.</span>is_selected
                    num_selected <span class="token operator">-=</span> <span class="token number">1</span>
                    each<span class="token punctuation">.</span>select_order <span class="token operator">=</span> <span class="token boolean">None</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    <span class="token keyword">if</span> num_selected <span class="token operator">&lt;</span> max_selected<span class="token punctuation">:</span>
                        each<span class="token punctuation">.</span>is_selected <span class="token operator">=</span> <span class="token keyword">not</span> each<span class="token punctuation">.</span>is_selected
                        num_selected <span class="token operator">+=</span> <span class="token number">1</span>
                        each<span class="token punctuation">.</span>select_order <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>num_selected<span class="token punctuation">)</span>
            <span class="token keyword">if</span> each<span class="token punctuation">.</span>is_selected<span class="token punctuation">:</span>
                selected<span class="token punctuation">.</span>append<span class="token punctuation">(</span>each<span class="token punctuation">.</span>attribute<span class="token punctuation">)</span>
    <span class="token comment"># 按钮卡片</span>
    <span class="token keyword">elif</span> group_type <span class="token operator">==</span> GROUPTYPES<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> each <span class="token keyword">in</span> group<span class="token punctuation">:</span>
            <span class="token keyword">if</span> each<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>collidepoint<span class="token punctuation">(</span>mouse_pos<span class="token punctuation">)</span><span class="token punctuation">:</span>
                each<span class="token punctuation">.</span>is_selected <span class="token operator">=</span> <span class="token boolean">True</span>
                selected<span class="token punctuation">.</span>append<span class="token punctuation">(</span>each<span class="token punctuation">.</span>attribute<span class="token punctuation">)</span>
    <span class="token comment"># 抛出异常</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'checkClicked.group_type unsupport %s, expect %s, %s or %s...'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>group_type<span class="token punctuation">,</span> <span class="token operator">*</span>GROUPTYPES<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> selected


<span class="token triple-quoted-string string">'''获取数字精灵组'''</span>
<span class="token keyword">def</span> <span class="token function">getNumberSpritesGroup</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">:</span>
    number_sprites_group <span class="token operator">=</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Group<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> idx<span class="token punctuation">,</span> number <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">:</span>
        args <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>NUMBERCARD_POSITIONS<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">,</span> NUMBERFONT<span class="token punctuation">,</span> NUMBERFONT_COLORS<span class="token punctuation">,</span> NUMBERCARD_COLORS<span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">)</span>
        number_sprites_group<span class="token punctuation">.</span>add<span class="token punctuation">(</span>Card<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> number_sprites_group


<span class="token triple-quoted-string string">'''获取运算符精灵组'''</span>
<span class="token keyword">def</span> <span class="token function">getOperatorSpritesGroup</span><span class="token punctuation">(</span>operators<span class="token punctuation">)</span><span class="token punctuation">:</span>
    operator_sprites_group <span class="token operator">=</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Group<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> idx<span class="token punctuation">,</span> operator <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>operators<span class="token punctuation">)</span><span class="token punctuation">:</span>
        args <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>OPERATORCARD_POSITIONS<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>operator<span class="token punctuation">)</span><span class="token punctuation">,</span> OPERATORFONT<span class="token punctuation">,</span> OPREATORFONT_COLORS<span class="token punctuation">,</span> OPERATORCARD_COLORS<span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>operator<span class="token punctuation">)</span><span class="token punctuation">)</span>
        operator_sprites_group<span class="token punctuation">.</span>add<span class="token punctuation">(</span>Card<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> operator_sprites_group


<span class="token triple-quoted-string string">'''获取按钮精灵组'''</span>
<span class="token keyword">def</span> <span class="token function">getButtonSpritesGroup</span><span class="token punctuation">(</span>buttons<span class="token punctuation">)</span><span class="token punctuation">:</span>
    button_sprites_group <span class="token operator">=</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Group<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> idx<span class="token punctuation">,</span> button <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>buttons<span class="token punctuation">)</span><span class="token punctuation">:</span>
        args <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>BUTTONCARD_POSITIONS<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>button<span class="token punctuation">)</span><span class="token punctuation">,</span> BUTTONFONT<span class="token punctuation">,</span> BUTTONFONT_COLORS<span class="token punctuation">,</span> BUTTONCARD_COLORS<span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>button<span class="token punctuation">)</span><span class="token punctuation">)</span>
        button_sprites_group<span class="token punctuation">.</span>add<span class="token punctuation">(</span>Button<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> button_sprites_group


<span class="token triple-quoted-string string">'''计算'''</span>
<span class="token keyword">def</span> <span class="token function">calculate</span><span class="token punctuation">(</span>number1<span class="token punctuation">,</span> number2<span class="token punctuation">,</span> operator<span class="token punctuation">)</span><span class="token punctuation">:</span>
    operator_map <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'+'</span><span class="token punctuation">:</span> <span class="token string">'+'</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">:</span> <span class="token string">'-'</span><span class="token punctuation">,</span> <span class="token string">'×'</span><span class="token punctuation">:</span> <span class="token string">'*'</span><span class="token punctuation">,</span> <span class="token string">'÷'</span><span class="token punctuation">:</span> <span class="token string">'/'</span><span class="token punctuation">}</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        result <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">eval</span><span class="token punctuation">(</span>number1<span class="token operator">+</span>operator_map<span class="token punctuation">[</span>operator<span class="token punctuation">]</span><span class="token operator">+</span>number2<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> result <span class="token keyword">if</span> <span class="token string">'.'</span> <span class="token keyword">not</span> <span class="token keyword">in</span> result <span class="token keyword">else</span> <span class="token builtin">str</span><span class="token punctuation">(</span>Fraction<span class="token punctuation">(</span>number1<span class="token operator">+</span>operator_map<span class="token punctuation">[</span>operator<span class="token punctuation">]</span><span class="token operator">+</span>number2<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">except</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">None</span>


<span class="token triple-quoted-string string">'''在屏幕上显示信息'''</span>
<span class="token keyword">def</span> <span class="token function">showInfo</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> screen<span class="token punctuation">)</span><span class="token punctuation">:</span>
    rect <span class="token operator">=</span> pygame<span class="token punctuation">.</span>Rect<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>draw<span class="token punctuation">.</span>rect<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> PAPAYAWHIP<span class="token punctuation">,</span> rect<span class="token punctuation">)</span>
    font <span class="token operator">=</span> pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span>Font<span class="token punctuation">(</span>FONTPATH<span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span>
    text_render <span class="token operator">=</span> font<span class="token punctuation">.</span>render<span class="token punctuation">(</span>text<span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> BLACK<span class="token punctuation">)</span>
    font_size <span class="token operator">=</span> font<span class="token punctuation">.</span>size<span class="token punctuation">(</span>text<span class="token punctuation">)</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>text_render<span class="token punctuation">,</span> <span class="token punctuation">(</span>rect<span class="token punctuation">.</span>x<span class="token operator">+</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span>width<span class="token operator">-</span>font_size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> rect<span class="token punctuation">.</span>y<span class="token operator">+</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span>height<span class="token operator">-</span>font_size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token triple-quoted-string string">'''主函数'''</span>
<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 初始化, 导入必要的游戏素材</span>
    pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
    screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>SCREENSIZE<span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token string">'24 point —— 九歌'</span><span class="token punctuation">)</span>
    win_sound <span class="token operator">=</span> pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>Sound<span class="token punctuation">(</span>AUDIOWINPATH<span class="token punctuation">)</span>
    lose_sound <span class="token operator">=</span> pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>Sound<span class="token punctuation">(</span>AUDIOLOSEPATH<span class="token punctuation">)</span>
    warn_sound <span class="token operator">=</span> pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>Sound<span class="token punctuation">(</span>AUDIOWARNPATH<span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>load<span class="token punctuation">(</span>BGMPATH<span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">)</span>
    <span class="token comment"># 24点游戏生成器</span>
    game24_gen <span class="token operator">=</span> game24Generator<span class="token punctuation">(</span><span class="token punctuation">)</span>
    game24_gen<span class="token punctuation">.</span>generate<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 精灵组</span>
    <span class="token comment"># --数字</span>
    number_sprites_group <span class="token operator">=</span> getNumberSpritesGroup<span class="token punctuation">(</span>game24_gen<span class="token punctuation">.</span>numbers_now<span class="token punctuation">)</span>
    <span class="token comment"># --运算符</span>
    operator_sprites_group <span class="token operator">=</span> getOperatorSpritesGroup<span class="token punctuation">(</span>OPREATORS<span class="token punctuation">)</span>
    <span class="token comment"># --按钮</span>
    button_sprites_group <span class="token operator">=</span> getButtonSpritesGroup<span class="token punctuation">(</span>BUTTONS<span class="token punctuation">)</span>
    <span class="token comment"># 游戏主循环</span>
    clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>
    selected_numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    selected_operators <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    selected_buttons <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    is_win <span class="token operator">=</span> <span class="token boolean">False</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
                pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
                sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token keyword">elif</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>MOUSEBUTTONUP<span class="token punctuation">:</span>
                mouse_pos <span class="token operator">=</span> pygame<span class="token punctuation">.</span>mouse<span class="token punctuation">.</span>get_pos<span class="token punctuation">(</span><span class="token punctuation">)</span>
                selected_numbers <span class="token operator">=</span> checkClicked<span class="token punctuation">(</span>number_sprites_group<span class="token punctuation">,</span> mouse_pos<span class="token punctuation">,</span> <span class="token string">'NUMBER'</span><span class="token punctuation">)</span>
                selected_operators <span class="token operator">=</span> checkClicked<span class="token punctuation">(</span>operator_sprites_group<span class="token punctuation">,</span> mouse_pos<span class="token punctuation">,</span> <span class="token string">'OPREATOR'</span><span class="token punctuation">)</span>
                selected_buttons <span class="token operator">=</span> checkClicked<span class="token punctuation">(</span>button_sprites_group<span class="token punctuation">,</span> mouse_pos<span class="token punctuation">,</span> <span class="token string">'BUTTON'</span><span class="token punctuation">)</span>
        screen<span class="token punctuation">.</span>fill<span class="token punctuation">(</span>AZURE<span class="token punctuation">)</span>
        <span class="token comment"># 更新数字</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>selected_numbers<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span> <span class="token keyword">and</span> <span class="token builtin">len</span><span class="token punctuation">(</span>selected_operators<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
            noselected_numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            <span class="token keyword">for</span> each <span class="token keyword">in</span> number_sprites_group<span class="token punctuation">:</span>
                <span class="token keyword">if</span> each<span class="token punctuation">.</span>is_selected<span class="token punctuation">:</span>
                    <span class="token keyword">if</span> each<span class="token punctuation">.</span>select_order <span class="token operator">==</span> <span class="token string">'1'</span><span class="token punctuation">:</span>
                        selected_number1 <span class="token operator">=</span> each<span class="token punctuation">.</span>attribute
                    <span class="token keyword">elif</span> each<span class="token punctuation">.</span>select_order <span class="token operator">==</span> <span class="token string">'2'</span><span class="token punctuation">:</span>
                        selected_number2 <span class="token operator">=</span> each<span class="token punctuation">.</span>attribute
                    <span class="token keyword">else</span><span class="token punctuation">:</span>
                        <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'Unknow select_order %s, expect 1 or 2...'</span> <span class="token operator">%</span> each<span class="token punctuation">.</span>select_order<span class="token punctuation">)</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    noselected_numbers<span class="token punctuation">.</span>append<span class="token punctuation">(</span>each<span class="token punctuation">.</span>attribute<span class="token punctuation">)</span>
                each<span class="token punctuation">.</span>is_selected <span class="token operator">=</span> <span class="token boolean">False</span>
            <span class="token keyword">for</span> each <span class="token keyword">in</span> operator_sprites_group<span class="token punctuation">:</span>
                each<span class="token punctuation">.</span>is_selected <span class="token operator">=</span> <span class="token boolean">False</span>
            result <span class="token operator">=</span> calculate<span class="token punctuation">(</span>selected_number1<span class="token punctuation">,</span> selected_number2<span class="token punctuation">,</span> <span class="token operator">*</span>selected_operators<span class="token punctuation">)</span>
            <span class="token keyword">if</span> result <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
                game24_gen<span class="token punctuation">.</span>numbers_now <span class="token operator">=</span> noselected_numbers <span class="token operator">+</span> <span class="token punctuation">[</span>result<span class="token punctuation">]</span>
                is_win <span class="token operator">=</span> game24_gen<span class="token punctuation">.</span>check<span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span> is_win<span class="token punctuation">:</span>
                    win_sound<span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span> <span class="token keyword">not</span> is_win <span class="token keyword">and</span> <span class="token builtin">len</span><span class="token punctuation">(</span>game24_gen<span class="token punctuation">.</span>numbers_now<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                    lose_sound<span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                warn_sound<span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token punctuation">)</span>
            selected_numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            selected_operators <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            number_sprites_group <span class="token operator">=</span> getNumberSpritesGroup<span class="token punctuation">(</span>game24_gen<span class="token punctuation">.</span>numbers_now<span class="token punctuation">)</span>
        <span class="token comment"># 精灵都画到screen上</span>
        <span class="token keyword">for</span> each <span class="token keyword">in</span> number_sprites_group<span class="token punctuation">:</span>
            each<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> pygame<span class="token punctuation">.</span>mouse<span class="token punctuation">.</span>get_pos<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> each <span class="token keyword">in</span> operator_sprites_group<span class="token punctuation">:</span>
            each<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> pygame<span class="token punctuation">.</span>mouse<span class="token punctuation">.</span>get_pos<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> each <span class="token keyword">in</span> button_sprites_group<span class="token punctuation">:</span>
            <span class="token keyword">if</span> selected_buttons <span class="token keyword">and</span> selected_buttons<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token string">'RESET'</span><span class="token punctuation">,</span> <span class="token string">'NEXT'</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                is_win <span class="token operator">=</span> <span class="token boolean">False</span>
            <span class="token keyword">if</span> selected_buttons <span class="token keyword">and</span> each<span class="token punctuation">.</span>attribute <span class="token operator">==</span> selected_buttons<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                each<span class="token punctuation">.</span>is_selected <span class="token operator">=</span> <span class="token boolean">False</span>
                number_sprites_group <span class="token operator">=</span> each<span class="token punctuation">.</span>do<span class="token punctuation">(</span>game24_gen<span class="token punctuation">,</span> getNumberSpritesGroup<span class="token punctuation">,</span> number_sprites_group<span class="token punctuation">,</span> button_sprites_group<span class="token punctuation">)</span>
                selected_buttons <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            each<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> pygame<span class="token punctuation">.</span>mouse<span class="token punctuation">.</span>get_pos<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># 游戏胜利</span>
        <span class="token keyword">if</span> is_win<span class="token punctuation">:</span>
            showInfo<span class="token punctuation">(</span><span class="token string">'Congratulations'</span><span class="token punctuation">,</span> screen<span class="token punctuation">)</span>
        <span class="token comment"># 游戏失败</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> is_win <span class="token keyword">and</span> <span class="token builtin">len</span><span class="token punctuation">(</span>game24_gen<span class="token punctuation">.</span>numbers_now<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
            showInfo<span class="token punctuation">(</span><span class="token string">'Game Over'</span><span class="token punctuation">,</span> screen<span class="token punctuation">)</span>
        pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>
        clock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span>


<span class="token triple-quoted-string string">'''run'''</span>
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    main<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <pre><code></code></pre>
    <h5>
     <a id="6_646">
     </a>
     <strong>
      6、外星人入侵
     </strong>
    </h5>
    <p>
     <strong>
      玩法：这让我想起了魂斗罗那第几关的boss，有点类似，不过魂斗罗那个难度肯定高点。
     </strong>
    </p>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/ad737a37cfdc06395a950abff13acbe2.gif"/>
    </p>
    <p>
     <strong>
      源码分享：
     </strong>
    </p>
    <pre><code class="prism language-python">
<span class="token keyword">import</span> os
<span class="token keyword">import</span> sys
<span class="token keyword">import</span> cfg
<span class="token keyword">import</span> random
<span class="token keyword">import</span> pygame
<span class="token keyword">from</span> modules <span class="token keyword">import</span> <span class="token operator">*</span>


<span class="token triple-quoted-string string">'''开始游戏'''</span>
<span class="token keyword">def</span> <span class="token function">startGame</span><span class="token punctuation">(</span>screen<span class="token punctuation">)</span><span class="token punctuation">:</span>
    clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 加载字体</span>
    font <span class="token operator">=</span> pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span>SysFont<span class="token punctuation">(</span><span class="token string">'arial'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isfile<span class="token punctuation">(</span><span class="token string">'score'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'score'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span>
        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'0'</span><span class="token punctuation">)</span>
        f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'score'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
        highest_score <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># 敌方</span>
    enemies_group <span class="token operator">=</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Group<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">55</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> i <span class="token operator">&lt;</span> <span class="token number">11</span><span class="token punctuation">:</span>
            enemy <span class="token operator">=</span> enemySprite<span class="token punctuation">(</span><span class="token string">'small'</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>WHITE<span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>WHITE<span class="token punctuation">)</span>
        <span class="token keyword">elif</span> i <span class="token operator">&lt;</span> <span class="token number">33</span><span class="token punctuation">:</span>
            enemy <span class="token operator">=</span> enemySprite<span class="token punctuation">(</span><span class="token string">'medium'</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>WHITE<span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>WHITE<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            enemy <span class="token operator">=</span> enemySprite<span class="token punctuation">(</span><span class="token string">'large'</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>WHITE<span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>WHITE<span class="token punctuation">)</span>
        enemy<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">85</span> <span class="token operator">+</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">50</span>
        enemy<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">120</span> <span class="token operator">+</span> <span class="token punctuation">(</span>i <span class="token operator">//</span> <span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">45</span>
        enemies_group<span class="token punctuation">.</span>add<span class="token punctuation">(</span>enemy<span class="token punctuation">)</span>
    boomed_enemies_group <span class="token operator">=</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Group<span class="token punctuation">(</span><span class="token punctuation">)</span>
    en_bullets_group <span class="token operator">=</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Group<span class="token punctuation">(</span><span class="token punctuation">)</span>
    ufo <span class="token operator">=</span> ufoSprite<span class="token punctuation">(</span>color<span class="token operator">=</span>cfg<span class="token punctuation">.</span>RED<span class="token punctuation">)</span>
    <span class="token comment"># 我方</span>
    myaircraft <span class="token operator">=</span> aircraftSprite<span class="token punctuation">(</span>color<span class="token operator">=</span>cfg<span class="token punctuation">.</span>GREEN<span class="token punctuation">,</span> bullet_color<span class="token operator">=</span>cfg<span class="token punctuation">.</span>WHITE<span class="token punctuation">)</span>
    my_bullets_group <span class="token operator">=</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Group<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 用于控制敌方位置更新</span>
    <span class="token comment"># --移动一行</span>
    enemy_move_count <span class="token operator">=</span> <span class="token number">24</span>
    enemy_move_interval <span class="token operator">=</span> <span class="token number">24</span>
    enemy_move_flag <span class="token operator">=</span> <span class="token boolean">False</span>
    <span class="token comment"># --改变移动方向(改变方向的同时集体下降一次)</span>
    enemy_change_direction_count <span class="token operator">=</span> <span class="token number">0</span>
    enemy_change_direction_interval <span class="token operator">=</span> <span class="token number">60</span>
    enemy_need_down <span class="token operator">=</span> <span class="token boolean">False</span>
    enemy_move_right <span class="token operator">=</span> <span class="token boolean">True</span>
    enemy_need_move_row <span class="token operator">=</span> <span class="token number">6</span>
    enemy_max_row <span class="token operator">=</span> <span class="token number">5</span>
    <span class="token comment"># 用于控制敌方发射子弹</span>
    enemy_shot_interval <span class="token operator">=</span> <span class="token number">100</span>
    enemy_shot_count <span class="token operator">=</span> <span class="token number">0</span>
    enemy_shot_flag <span class="token operator">=</span> <span class="token boolean">False</span>
    <span class="token comment"># 游戏进行中</span>
    running <span class="token operator">=</span> <span class="token boolean">True</span>
    is_win <span class="token operator">=</span> <span class="token boolean">False</span>
    <span class="token comment"># 主循环</span>
    <span class="token keyword">while</span> running<span class="token punctuation">:</span>
        screen<span class="token punctuation">.</span>fill<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>BLACK<span class="token punctuation">)</span>
        <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># --点右上角的X或者按Esc键退出游戏</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
                pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
                sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>KEYDOWN<span class="token punctuation">:</span>
                <span class="token keyword">if</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> pygame<span class="token punctuation">.</span>K_ESCAPE<span class="token punctuation">:</span>
                    pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
                    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token comment"># --射击</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>MOUSEBUTTONDOWN<span class="token punctuation">:</span>
                my_bullet <span class="token operator">=</span> myaircraft<span class="token punctuation">.</span>shot<span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span> my_bullet<span class="token punctuation">:</span>
                    my_bullets_group<span class="token punctuation">.</span>add<span class="token punctuation">(</span>my_bullet<span class="token punctuation">)</span>
        <span class="token comment"># --我方子弹与敌方/UFO碰撞检测</span>
        <span class="token keyword">for</span> enemy <span class="token keyword">in</span> enemies_group<span class="token punctuation">:</span>
            <span class="token keyword">if</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>spritecollide<span class="token punctuation">(</span>enemy<span class="token punctuation">,</span> my_bullets_group<span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                boomed_enemies_group<span class="token punctuation">.</span>add<span class="token punctuation">(</span>enemy<span class="token punctuation">)</span>
                enemies_group<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>enemy<span class="token punctuation">)</span>
                myaircraft<span class="token punctuation">.</span>score <span class="token operator">+=</span> enemy<span class="token punctuation">.</span>reward
        <span class="token keyword">if</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>spritecollide<span class="token punctuation">(</span>ufo<span class="token punctuation">,</span> my_bullets_group<span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            ufo<span class="token punctuation">.</span>is_dead <span class="token operator">=</span> <span class="token boolean">True</span>
            myaircraft<span class="token punctuation">.</span>score <span class="token operator">+=</span> ufo<span class="token punctuation">.</span>reward
        <span class="token comment"># --更新并画敌方</span>
        <span class="token comment"># ----敌方子弹</span>
        enemy_shot_count <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">if</span> enemy_shot_count <span class="token operator">&gt;</span> enemy_shot_interval<span class="token punctuation">:</span>
            enemy_shot_flag <span class="token operator">=</span> <span class="token boolean">True</span>
            enemies_survive_list <span class="token operator">=</span> <span class="token punctuation">[</span>enemy<span class="token punctuation">.</span>number <span class="token keyword">for</span> enemy <span class="token keyword">in</span> enemies_group<span class="token punctuation">]</span>
            shot_number <span class="token operator">=</span> random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>enemies_survive_list<span class="token punctuation">)</span>
            enemy_shot_count <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token comment"># ----敌方移动</span>
        enemy_move_count <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">if</span> enemy_move_count <span class="token operator">&gt;</span> enemy_move_interval<span class="token punctuation">:</span>
            enemy_move_count <span class="token operator">=</span> <span class="token number">0</span>
            enemy_move_flag <span class="token operator">=</span> <span class="token boolean">True</span>
            enemy_need_move_row <span class="token operator">-=</span> <span class="token number">1</span>
            <span class="token keyword">if</span> enemy_need_move_row <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                enemy_need_move_row <span class="token operator">=</span> enemy_max_row
            enemy_change_direction_count <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">if</span> enemy_change_direction_count <span class="token operator">&gt;</span> enemy_change_direction_interval<span class="token punctuation">:</span>
                enemy_change_direction_count <span class="token operator">=</span> <span class="token number">1</span>
                enemy_move_right <span class="token operator">=</span> <span class="token keyword">not</span> enemy_move_right
                enemy_need_down <span class="token operator">=</span> <span class="token boolean">True</span>
                <span class="token comment"># ----每次下降提高移动和射击速度</span>
                enemy_move_interval <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> enemy_move_interval<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span>
                enemy_shot_interval <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> enemy_move_interval<span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span>
        <span class="token comment"># ----遍历更新</span>
        <span class="token keyword">for</span> enemy <span class="token keyword">in</span> enemies_group<span class="token punctuation">:</span>
            <span class="token keyword">if</span> enemy_shot_flag<span class="token punctuation">:</span>
                <span class="token keyword">if</span> enemy<span class="token punctuation">.</span>number <span class="token operator">==</span> shot_number<span class="token punctuation">:</span>
                    en_bullet <span class="token operator">=</span> enemy<span class="token punctuation">.</span>shot<span class="token punctuation">(</span><span class="token punctuation">)</span>
                    en_bullets_group<span class="token punctuation">.</span>add<span class="token punctuation">(</span>en_bullet<span class="token punctuation">)</span>
            <span class="token keyword">if</span> enemy_move_flag<span class="token punctuation">:</span>
                <span class="token keyword">if</span> enemy<span class="token punctuation">.</span>number <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token punctuation">(</span>enemy_need_move_row<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">11</span><span class="token punctuation">,</span> enemy_need_move_row<span class="token operator">*</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                    <span class="token keyword">if</span> enemy_move_right<span class="token punctuation">:</span>
                        enemy<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token string">'right'</span><span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>SCREENSIZE<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                    <span class="token keyword">else</span><span class="token punctuation">:</span>
                        enemy<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token string">'left'</span><span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>SCREENSIZE<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                enemy<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>SCREENSIZE<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> enemy_need_down<span class="token punctuation">:</span>
                <span class="token keyword">if</span> enemy<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token string">'down'</span><span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>SCREENSIZE<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                    running <span class="token operator">=</span> <span class="token boolean">False</span>
                    is_win <span class="token operator">=</span> <span class="token boolean">False</span>
                enemy<span class="token punctuation">.</span>change_count <span class="token operator">-=</span> <span class="token number">1</span>
            enemy<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>screen<span class="token punctuation">)</span>
        enemy_move_flag <span class="token operator">=</span> <span class="token boolean">False</span>
        enemy_need_down <span class="token operator">=</span> <span class="token boolean">False</span>
        enemy_shot_flag <span class="token operator">=</span> <span class="token boolean">False</span>
        <span class="token comment"># ----敌方爆炸特效</span>
        <span class="token keyword">for</span> boomed_enemy <span class="token keyword">in</span> boomed_enemies_group<span class="token punctuation">:</span>
            <span class="token keyword">if</span> boomed_enemy<span class="token punctuation">.</span>boom<span class="token punctuation">(</span>screen<span class="token punctuation">)</span><span class="token punctuation">:</span>
                boomed_enemies_group<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>boomed_enemy<span class="token punctuation">)</span>
                <span class="token keyword">del</span> boomed_enemy
        <span class="token comment"># --敌方子弹与我方飞船碰撞检测</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> myaircraft<span class="token punctuation">.</span>one_dead<span class="token punctuation">:</span>
            <span class="token keyword">if</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>spritecollide<span class="token punctuation">(</span>myaircraft<span class="token punctuation">,</span> en_bullets_group<span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                myaircraft<span class="token punctuation">.</span>one_dead <span class="token operator">=</span> <span class="token boolean">True</span>
        <span class="token keyword">if</span> myaircraft<span class="token punctuation">.</span>one_dead<span class="token punctuation">:</span>
            <span class="token keyword">if</span> myaircraft<span class="token punctuation">.</span>boom<span class="token punctuation">(</span>screen<span class="token punctuation">)</span><span class="token punctuation">:</span>
                myaircraft<span class="token punctuation">.</span>resetBoom<span class="token punctuation">(</span><span class="token punctuation">)</span>
                myaircraft<span class="token punctuation">.</span>num_life <span class="token operator">-=</span> <span class="token number">1</span>
                <span class="token keyword">if</span> myaircraft<span class="token punctuation">.</span>num_life <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">:</span>
                    running <span class="token operator">=</span> <span class="token boolean">False</span>
                    is_win <span class="token operator">=</span> <span class="token boolean">False</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token comment"># ----更新飞船</span>
            myaircraft<span class="token punctuation">.</span>update<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>SCREENSIZE<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token comment"># ----画飞船</span>
            myaircraft<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>screen<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">not</span> ufo<span class="token punctuation">.</span>has_boomed<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span>ufo<span class="token punctuation">.</span>is_dead<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> ufo<span class="token punctuation">.</span>boom<span class="token punctuation">(</span>screen<span class="token punctuation">)</span><span class="token punctuation">:</span>
                ufo<span class="token punctuation">.</span>has_boomed <span class="token operator">=</span> <span class="token boolean">True</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token comment"># ----更新UFO</span>
            ufo<span class="token punctuation">.</span>update<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>SCREENSIZE<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token comment"># ----画UFO</span>
            ufo<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>screen<span class="token punctuation">)</span>
        <span class="token comment"># --画我方飞船子弹</span>
        <span class="token keyword">for</span> bullet <span class="token keyword">in</span> my_bullets_group<span class="token punctuation">:</span>
            <span class="token keyword">if</span> bullet<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                my_bullets_group<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>bullet<span class="token punctuation">)</span>
                <span class="token keyword">del</span> bullet
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                bullet<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>screen<span class="token punctuation">)</span>
        <span class="token comment"># --画敌方子弹</span>
        <span class="token keyword">for</span> bullet <span class="token keyword">in</span> en_bullets_group<span class="token punctuation">:</span>
            <span class="token keyword">if</span> bullet<span class="token punctuation">.</span>update<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>SCREENSIZE<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                en_bullets_group<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>bullet<span class="token punctuation">)</span>
                <span class="token keyword">del</span> bullet
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                bullet<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>screen<span class="token punctuation">)</span>
        <span class="token keyword">if</span> myaircraft<span class="token punctuation">.</span>score <span class="token operator">&gt;</span> highest_score<span class="token punctuation">:</span>
            highest_score <span class="token operator">=</span> myaircraft<span class="token punctuation">.</span>score
        <span class="token comment"># --得分每增加2000我方飞船增加一条生命</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>myaircraft<span class="token punctuation">.</span>score <span class="token operator">%</span> <span class="token number">2000</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span>myaircraft<span class="token punctuation">.</span>score <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span>myaircraft<span class="token punctuation">.</span>score <span class="token operator">!=</span> myaircraft<span class="token punctuation">.</span>old_score<span class="token punctuation">)</span><span class="token punctuation">:</span>
            myaircraft<span class="token punctuation">.</span>old_score <span class="token operator">=</span> myaircraft<span class="token punctuation">.</span>score
            myaircraft<span class="token punctuation">.</span>num_life <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>myaircraft<span class="token punctuation">.</span>num_life <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> myaircraft<span class="token punctuation">.</span>max_num_life<span class="token punctuation">)</span>
        <span class="token comment"># --敌人都死光了的话就胜利了</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>enemies_group<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">:</span>
            is_win <span class="token operator">=</span> <span class="token boolean">True</span>
            running <span class="token operator">=</span> <span class="token boolean">False</span>
        <span class="token comment"># --显示文字</span>
        <span class="token comment"># ----当前得分</span>
        showText<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> <span class="token string">'SCORE: '</span><span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>WHITE<span class="token punctuation">,</span> font<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span>
        showText<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>myaircraft<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>WHITE<span class="token punctuation">,</span> font<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">)</span>
        <span class="token comment"># ----敌人数量</span>
        showText<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> <span class="token string">'ENEMY: '</span><span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>WHITE<span class="token punctuation">,</span> font<span class="token punctuation">,</span> <span class="token number">370</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span>
        showText<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>enemies_group<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>WHITE<span class="token punctuation">,</span> font<span class="token punctuation">,</span> <span class="token number">370</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">)</span>
        <span class="token comment"># ----历史最高分</span>
        showText<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> <span class="token string">'HIGHEST: '</span><span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>WHITE<span class="token punctuation">,</span> font<span class="token punctuation">,</span> <span class="token number">540</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span>
        showText<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>highest_score<span class="token punctuation">)</span><span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>WHITE<span class="token punctuation">,</span> font<span class="token punctuation">,</span> <span class="token number">540</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">)</span>
        <span class="token comment"># ----FPS</span>
        showText<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> <span class="token string">'FPS: '</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>clock<span class="token punctuation">.</span>get_fps<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>RED<span class="token punctuation">,</span> font<span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span>
        <span class="token comment"># --显示剩余生命值</span>
        showLife<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> myaircraft<span class="token punctuation">.</span>num_life<span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>GREEN<span class="token punctuation">)</span>
        pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
        clock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>FPS<span class="token punctuation">)</span>
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'score'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>highest_score<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> is_win


<span class="token triple-quoted-string string">'''主函数'''</span>
<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 初始化</span>
    pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token string">'外星人入侵 —— 九歌'</span><span class="token punctuation">)</span>
    screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>SCREENSIZE<span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>load<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>BGMPATH<span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>set_volume<span class="token punctuation">(</span><span class="token number">0.4</span><span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        is_win <span class="token operator">=</span> startGame<span class="token punctuation">(</span>screen<span class="token punctuation">)</span>
        endInterface<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>BLACK<span class="token punctuation">,</span> is_win<span class="token punctuation">)</span>


<span class="token triple-quoted-string string">'''run'''</span>
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    main<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <pre><code></code></pre>
    <p>
     想要学习交流，获取学习资料请扫一扫！
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/ef689b597b77409d8fbf814811bda7ed.jpeg#pic_center"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
</div>


<p class="artid" style="display:none">68747470733a2f2f626c6f:672e6373646e2e6e65742f323430315f38363136383834322f:61727469636c652f64657461696c732f313430323730363438
