---
layout: post
title: "小程序给视频加默认图片封面,点击播放视频并停止播放上一个视频"
date: 2024-12-12 11:53:03 +0800
description: "微信小程序开发交流qq群 173683895 承接微信小程序开发。扫码加微信。实现的功能：微信小程序"
keywords: "微信小程序开发上传视频自动上传封面图片"
categories: ['未分类']
tags: []
  [
    "微信小程序视频播放功能",
    "微信小程序视频加图片封面并点击播放",
    "微信小程序点击自动停止播放视频并播放当前点击的视频",
    "微信小程序点击暂停播放视频",
    "微信小程序点击播放视频"
  ]
artid: "85228812"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=85228812
  alt: "小程序给视频加默认图片封面,点击播放视频并停止播放上一个视频"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     小程序给视频加默认图片封面，点击播放视频并停止播放上一个视频
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     微信小程序开发交流qq群   173683895
    </p>
    <h4>
     <img alt="" class="has" height="260" src="https://i-blog.csdnimg.cn/blog_migrate/4829897990f5befd95b939f751f2afa8.jpeg" width="260">
      承接微信小程序开发。扫码加微信。
     </img>
    </h4>
    <h4>
     实现的功能：
    </h4>
    <h4>
     微信小程序视频组件添加图片封面,
    </h4>
    <h4>
     点击图片播放视频,
    </h4>
    <h4>
     点击下一个视频的封面图自动停止播放当前视频并播放点击的视频。
    </h4>
    <h4>
    </h4>
    <h4>
     效果GIF图：
    </h4>
    <p>
     <img alt="" class="has" height="670" src="https://i-blog.csdnimg.cn/blog_migrate/3505a65f55142dbc916df9e727d68ef0.gif" width="377"/>
    </p>
    <h4>
     实现代码：
    </h4>
    <p>
     WXML
    </p>
    <pre class="has"><code>&lt;view class='vv' wx:for='{<!-- -->{vedio_data}}' wx:key=''&gt;
  &lt;view class='block' style='margin-left:20rpx;'&gt;
    &lt;image src='/img/1.png' class='img1' style='margin-left:20rpx'&gt;&lt;/image&gt;
    &lt;text class='text'&gt;{<!-- -->{item.title}} &lt;/text&gt;
    &lt;view id="{<!-- -->{index}}" class="cover" style="display: {<!-- -->{ _index == index ? 'none' : 'block' }};" bindtap="videoPlay"&gt;
      &lt;!-- 视频图层 --&gt;
      &lt;image class="videoVideo2" src="{<!-- -->{item.img}}" mode="scaleToFill"&gt;
        &lt;!-- 视频按钮 --&gt;
        &lt;image class="videoPlay" src="/img/bf.png" mode="scaleToFill"&gt;&lt;/image&gt;
      &lt;/image&gt;
    &lt;/view&gt;
  &lt;/view&gt;
  &lt;!-- 视频 --&gt;
  &lt;video src="{<!-- -->{item.url}}" id="{<!-- -->{index}}" class='video' wx:if="{<!-- -->{_index == index}}"&gt;
  &lt;/video&gt;
&lt;/view&gt;</code></pre>
    <p>
     js
    </p>
    <pre class="has"><code>var util = require('../../utils/util');
var app = getApp();
Page({
  data: {
    videoPlay: null,
    vedio_data: [{
      title: '视频标题1',
      url: 'http://wxsnsdy.tc.qq.com/105/20210/snsdyvideodownload?filekey=30280201010421301f0201690402534804102ca905ce620b1241b726bc41dcff44e00204012882540400&amp;bizid=1023&amp;hy=SH&amp;fileparam=302c020101042530230204136ffd93020457e3c4ff02024ef202031e8d7f02030f42400204045a320a0201000400',
      img: 'https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=1437596250,215562873&amp;fm=26&amp;gp=0.jpg',

    }, {
        title: '视频标题2',
        url: 'http://wxsnsdy.tc.qq.com/105/20210/snsdyvideodownload?filekey=30280201010421301f0201690402534804102ca905ce620b1241b726bc41dcff44e00204012882540400&amp;bizid=1023&amp;hy=SH&amp;fileparam=302c020101042530230204136ffd93020457e3c4ff02024ef202031e8d7f02030f42400204045a320a0201000400',
        img: 'https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1545625549289&amp;di=4bf95a6bd0d05003dea5598aa516f718&amp;imgtype=0&amp;src=http%3A%2F%2Fi2.hdslb.com%2Fbfs%2Farchive%2F7cec9a37f417277ec1bb62840da6b9d9c2c22f05.jpg',

    }]

},
// 点击 cover 播放，其它视频结束
videoPlay: function(e) {
var \_index = e.currentTarget.id
this.setData({
\_index: \_index
})
//停止正在播放的视频
var videoContextPrev = wx.createVideoContext(this.data.\_index)
videoContextPrev.stop();
setTimeout(function() {
//将点击视频进行播放
var videoContext = wx.createVideoContext(\_index)
videoContext.play();
}, 500)
}
})</code></pre>
<p>
css
</p>
<pre class="has"><code>.vv {
width: 700rpx;
height: 530rpx;
border-left: gainsboro 1px solid;
border-right: gainsboro 1px solid;
border-top: gainsboro 1px solid;
margin-bottom: 80rpx;
border-radius: 15rpx;
overflow: hidden;
position: relative;
top: 40rpx;
left: 20rpx;
}

/_ 小图标 _/
.img1 {
width: 36rpx;
height: 28rpx;
margin-top: 30rpx;
}

/_ 标题文字 _/
.text {
font-size: 28rpx;
color: #585858;
margin-left: 10rpx;
}

/_ 视频 _/
.video {
width: 100%;
height: 450rpx;
margin-top: 20rpx;
border-bottom-left-radius: 15rpx;
border-bottom-right-radius: 15rpx;
}
.videoVideo2 {
width: 703rpx;
height: 453rpx;
position: absolute;
top: 80rpx;
left: 20rpx;
z-index: 99;
}
.videoPlay{
position: absolute;
width: 80rpx;
height: 80rpx;
top:45%;
left: 45%;
margin: -30rpx 0 0 -30rpx;
z-index: 100;
}

/_ 底部盒子 _/
.bottom {
width: 40rpx;
height: 40rpx;
}</code></pre>
<p>
</p>

   </div>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f71715f3335373133373532:2f61727469636c652f64657461696c732f3835323238383132" class_="artid" style="display:none">
 </p>
</div>
