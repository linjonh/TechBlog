---
layout: post
title: "Electron-桌面应用开发框架"
date: 2025-01-13 11:08:24 +0800
description: "Electron 是一个开源框架，旨在使用 Web 技术（如 HTML、CSS 和 JavaScri"
keywords: "electron框架"
categories: ["未分类"]
tags: ["桌面应用", "前端框架", "Electron"]
artid: "140599270"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=140599270
  alt: "Electron-桌面应用开发框架"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Electron----桌面应用开发框架
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     Electron 是一个开源框架，旨在使用 Web 技术（如 HTML、CSS 和 JavaScript）开发跨平台的桌面应用。它结合了 Chromium 和 Node.js，使开发者能够构建具有原生应用体验的桌面应用程序，同时使用熟悉的 Web 开发工具和技术。
    </p>
    <h4>
     <a id="1__Electron_2">
     </a>
     <strong>
      1. 什么是 Electron？
     </strong>
    </h4>
    <ul>
     <li>
      <strong>
       定义
      </strong>
      ：Electron 是一个跨平台的桌面应用开发框架，由 GitHub 开发并维护。它允许使用 Web 技术（HTML、CSS 和 JavaScript）创建桌面应用，支持 Windows、macOS 和 Linux 操作系统。
     </li>
     <li>
      <strong>
       核心技术
      </strong>
      ：
      <ul>
       <li>
        <strong>
         Chromium
        </strong>
        ：作为渲染引擎，提供 Web 页面的显示和渲染功能。
       </li>
       <li>
        <strong>
         Node.js
        </strong>
        ：作为后台运行环境，提供与系统交互的能力，如文件系统访问、网络请求等。
       </li>
      </ul>
     </li>
    </ul>
    <h4>
     <a id="2_Electron__9">
     </a>
     <strong>
      2. Electron 的核心概念
     </strong>
    </h4>
    <h5>
     <a id="1__11">
     </a>
     <strong>
      1. 主进程与渲染进程
     </strong>
    </h5>
    <ul>
     <li>
      <p>
       <strong>
        主进程
       </strong>
       ：负责管理应用的生命周期、创建和管理窗口以及处理系统级别的 API 请求。每个 Electron 应用只有一个主进程。
      </p>
      <ul>
       <li>
        <strong>
         示例代码
        </strong>
        （
        <code>
         main.js
        </code>
        ）：
        <pre><code class="prism language-javascript"><span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> app<span class="token punctuation">,</span> BrowserWindow <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'electron'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">createWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">const</span> win <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BrowserWindow</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">800</span><span class="token punctuation">,</span>
<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">600</span><span class="token punctuation">,</span>
<span class="token literal-property property">webPreferences</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
<span class="token literal-property property">preload</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>\_\_dirname<span class="token punctuation">,</span> <span class="token string">'preload.js'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token literal-property property">nodeIntegration</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token literal-property property">contextIsolation</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

win<span class="token punctuation">.</span><span class="token function">loadURL</span><span class="token punctuation">(</span><span class="token string">'http://localhost:3000'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 加载应用的页面</span>
<span class="token punctuation">}</span>

app<span class="token punctuation">.</span><span class="token function">whenReady</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
<span class="token function">createWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'activate'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>BrowserWindow<span class="token punctuation">.</span><span class="token function">getAllWindows</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token function">createWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'window-all-closed'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>platform <span class="token operator">!==</span> <span class="token string">'darwin'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
app<span class="token punctuation">.</span><span class="token function">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</li>
</ul>
</li>
<li>
<p>
<strong>
渲染进程
</strong>
：负责显示应用的界面和处理用户交互。每个窗口都是一个渲染进程，渲染进程可以与主进程通信。
</p>
<ul>
<li>
<strong>
示例代码
</strong>
（
<code>
renderer.js
</code>
）：
<pre><code class="prism language-javascript"><span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> ipcRenderer <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'electron'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 发送消息到主进程</span>
ipcRenderer<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token string">'Hello from renderer process'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 监听主进程发送的消息</span>
ipcRenderer<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'response'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> arg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 从主进程接收消息</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</li>
</ul>
</li>
</ul>
<h5>
<a id="2_IPC_64">
</a>
<strong> 2. IPC（进程间通信）
</strong>
</h5>
<ul>
<li>
<strong>
主进程和渲染进程的通信
</strong>
：Electron 使用 IPC（进程间通信）来实现主进程和渲染进程之间的消息传递。
<ul>
<li>
<p>
<strong>
主进程
</strong>
：
</p>
<pre><code class="prism language-javascript"><span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> ipcMain <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'electron'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ipcMain<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> arg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 处理来自渲染进程的消息</span>
event<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token string">'response'</span><span class="token punctuation">,</span> <span class="token string">'Hello from main process'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</li>
<li>
<p>
<strong>
渲染进程
</strong>
：
</p>
<pre><code class="prism language-javascript"><span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> ipcRenderer <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'electron'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ipcRenderer<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token string">'Hello from renderer process'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ipcRenderer<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'response'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> arg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 处理来自主进程的消息</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</li>
</ul>
</li>
</ul>
<h5>
<a id="3__88">
</a>
<strong> 3. 窗口和菜单
</strong>
</h5>
<ul>
<li>
<p>
<strong>
创建窗口
</strong>
：使用
<code>
BrowserWindow
</code>
类来创建和管理应用窗口。
</p>
<ul>
<li>
<strong>
示例
</strong>
：
<pre><code class="prism language-javascript"><span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> BrowserWindow <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'electron'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> win <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BrowserWindow</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">800</span><span class="token punctuation">,</span>
<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">600</span><span class="token punctuation">,</span>
<span class="token literal-property property">webPreferences</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
<span class="token literal-property property">nodeIntegration</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

win<span class="token punctuation">.</span><span class="token function">loadURL</span><span class="token punctuation">(</span><span class="token string">'http://localhost:3000'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 加载页面</span>
</code></pre>
</li>
</ul>
</li>
<li>
<p>
<strong>
原生菜单
</strong>
：Electron 支持创建原生菜单，允许开发者自定义应用的菜单。
</p>
<ul>
<li>
<strong>
示例
</strong>
：
<pre><code class="prism language-javascript"><span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> Menu <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'electron'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> menu <span class="token operator">=</span> Menu<span class="token punctuation">.</span><span class="token function">buildFromTemplate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
<span class="token punctuation">{<!-- --></span>
<span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'File'</span><span class="token punctuation">,</span>
<span class="token literal-property property">submenu</span><span class="token operator">:</span> <span class="token punctuation">[</span>
<span class="token punctuation">{<!-- --></span> <span class="token literal-property property">role</span><span class="token operator">:</span> <span class="token string">'quit'</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Menu<span class="token punctuation">.</span><span class="token function">setApplicationMenu</span><span class="token punctuation">(</span>menu<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</li>
</ul>
</li>
</ul>
<h5>
<a id="4__123">
</a>
<strong> 4. 文件系统和网络请求
</strong>
</h5>
<ul>
<li>
<p>
<strong>
文件系统操作
</strong>
：使用 Node.js 的
<code>
fs
</code>
模块进行文件读写操作。
</p>
<ul>
<li>
<strong>
示例
</strong>
：
<pre><code class="prism language-javascript"><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'example.txt'</span><span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 读取文件内容</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</li>
</ul>
</li>
<li>
<p>
<strong>
网络请求
</strong>
：可以使用 Node.js 的
<code>
http
</code>
模块或第三方库（如 Axios）进行网络请求。
</p>
<ul>
<li>
<strong>
示例
</strong>
：
<pre><code class="prism language-javascript"><span class="token keyword">const</span> axios <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'axios'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'https://api.example.com/data'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 处理 API 响应</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 处理错误</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</li>
</ul>
</li>
</ul>
<h4>
<a id="3_Electron__150">
</a>
<strong> 3. Electron 的特性和优势
</strong>
</h4>
<h5>
<a id="1__152">
</a>
<strong> 1. 跨平台支持
</strong>
</h5>
<ul>
<li>
<strong>
操作系统
</strong>
：Electron 支持 Windows、macOS 和 Linux 操作系统，通过一套代码实现跨平台兼容。
</li>
</ul>
<h5>
<a id="2__API_156">
</a>
<strong> 2. 访问原生 API
</strong>
</h5>
<ul>
<li>
<strong>
系统资源
</strong>
：Electron 允许访问系统资源（如文件系统、剪贴板、通知等），使得桌面应用能够提供丰富的原生功能。
</li>
</ul>
<h5>
<a id="3__160">
</a>
<strong> 3. 自动更新
</strong>
</h5>
<ul>
<li>
<strong>
更新机制
</strong>
：Electron 提供了自动更新功能，能够在应用有新版本时自动下载和安装更新。
</li>
</ul>
<h5>
<a id="4__164">
</a>
<strong> 4. 集成开发者工具
</strong>
</h5>
<ul>
<li>
<strong>
调试工具
</strong>
：Electron 集成了 Chrome DevTools，提供强大的调试和性能分析工具。
</li>
</ul>
<h4>
<a id="4__168">
</a>
<strong> 4. 常用工具和库
</strong>
</h4>
<h5>
<a id="1_Electron_Builder_170">
</a>
<strong> 1. Electron Builder
</strong>
</h5>
<ul>
<li>
<p>
<strong>
功能
</strong>
：用于打包和分发 Electron 应用，支持将应用打包为安装程序（如
<code>
.exe
</code>
、
<code>
.dmg
</code>
、
<code>
.AppImage
</code>
）。
</p>
</li>
<li>
<p>
<strong>
安装
</strong>
：
</p>
<pre><code class="prism language-bash"><span class="token function">npm</span> <span class="token function">install</span> electron-builder --save-dev
</code></pre>
</li>
<li>
<p>
<strong>
示例配置
</strong>
（
<code>
package.json
</code>
）：
</p>
<pre><code class="prism language-json"><span class="token string-property property">"build"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
<span class="token string-property property">"appId"</span><span class="token operator">:</span> <span class="token string">"com.example.app"</span><span class="token punctuation">,</span>
<span class="token string-property property">"files"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
<span class="token string">"dist/**/*"</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token string-property property">"directories"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
<span class="token string-property property">"output"</span><span class="token operator">:</span> <span class="token string">"build"</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</li>
</ul>
<h5>
<a id="2_Electron_Forge_192">
</a>
<strong> 2. Electron Forge
</strong>
</h5>
<ul>
<li>
<p>
<strong>
功能
</strong>
：提供了简化的工具链来创建、开发、打包和发布 Electron 应用。
</p>
</li>
<li>
<p>
<strong>
安装
</strong>
：
</p>
<pre><code class="prism language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev @electron-forge/cli
npx electron-forge <span class="token function">import</span>
</code></pre>
</li>
</ul>
<h4>
<a id="5__202">
</a>
<strong> 5. 示例应用和项目
</strong>
</h4>
<ul>
<li>
<p>
<strong>
示例应用
</strong>
：许多知名桌面应用（如 Visual Studio Code、Slack、Discord）都使用 Electron 开发。
</p>
</li>
<li>
<p>
<strong>
开源项目
</strong>
：可以参考一些开源 Electron 项目，如
<a href="https://github.com/electron-react-boilerplate/electron-react-boilerplate">
Electron React Boilerplate
</a>
和
<a href="https://github.com/SimulatedGREG/electron-vue">
Electron Vue
</a>
来学习如何使用 Electron 构建桌面应用。
</p>
</li>
</ul>
<hr/>
<p>
Electron 是一个强大的工具，允许开发者利用 Web 技术创建跨平台的桌面应用程序。它的灵活性、强大的功能和良好的社区支持使得它成为构建现代桌面应用的热门选择。
</p>

   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34313937383137342f:61727469636c652f64657461696c732f313430353939323730" class_="artid" style="display:none">
 </p>
</div>
