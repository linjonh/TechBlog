---
layout: post
title: LivePortrait-æ•°å­—äººå¼€æºçš„å›¾ç”Ÿè§†é¢‘æ¨¡å‹,æœ¬åœ°éƒ¨ç½²å’Œä¸“ä¸šè§†é¢‘åˆ¶ä½œè¯¦ç»†æ•™ç¨‹
date: 2025-01-16 10:59:36 +0800
categories: [AI]
tags: [å¤§æ¨¡å‹,å›¾ç”Ÿè§†é¢‘,äººå·¥æ™ºèƒ½,LivePortrait,AI]
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=140415974
    alt: LivePortrait-æ•°å­—äººå¼€æºçš„å›¾ç”Ÿè§†é¢‘æ¨¡å‹,æœ¬åœ°éƒ¨ç½²å’Œä¸“ä¸šè§†é¢‘åˆ¶ä½œè¯¦ç»†æ•™ç¨‹
artid: 140415974
render_with_liquid: false
---
<p class="artid" style="display:none">$url</p>
<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     LivePortrait æ•°å­—äººï¼šå¼€æºçš„å›¾ç”Ÿè§†é¢‘æ¨¡å‹ï¼Œæœ¬åœ°éƒ¨ç½²å’Œä¸“ä¸šè§†é¢‘åˆ¶ä½œè¯¦ç»†æ•™ç¨‹
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-dracula" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/direct/f71db382305d41efb794cb800043f9c6.gif#pic_center">
      <img alt="è„¸éƒ¨åŠ¨ç”»" src="https://i-blog.csdnimg.cn/direct/bacaa4fdd55341188d7aefd8cb44febb.gif#pic_center">
       <br/>
       çœ‹åˆ°ä¸Šé¢é¢éƒ¨è¡¨æƒ…åŠ¨æ€å›¾ç‰‡ï¼Œæ˜¯ä¸æ˜¯æ„Ÿè§‰æŒºæœ‰æœ‰æ„æ€ï¼Ÿå®ƒå°±æ˜¯é€šè¿‡å¿«æ‰‹ã€ä¸­ç§‘å¤§å’Œå¤æ—¦å¤§å­¦è”åˆç ”å‘çš„
       <strong>
        å›¾ç”Ÿè§†é¢‘
       </strong>
       å¼€æºå¤§æ¨¡å‹
       <strong>
        LivePortrait
       </strong>
       ï¼ˆçµåŠ¨äººåƒï¼‰ç”Ÿæˆçš„è§†é¢‘ã€‚é€šè¿‡
       <strong>
        LivePortrait
       </strong>
       å¤§æ¨¡å‹ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸€å¼ äººè„¸æ­£é¢å›¾ç‰‡å’Œä¸€æ®µæ–‡å­—æˆ–éŸ³é¢‘ï¼Œå³å¯åˆ¶ä½œä¸“ä¸šçš„è§†é¢‘å†…å®¹ï¼Œä¾‹å¦‚äº§å“ä»‹ç»ã€æ•™å­¦è¯¾ç¨‹ã€è¶£å‘³è§†é¢‘ç­‰ã€‚
      </img>
     </img>
    </p>
    <p>
     <img alt="åŒæ­¥çš„é¢éƒ¨è¡¨æƒ…" src="https://i-blog.csdnimg.cn/direct/c39cd46189d74f81982d901de9df883d.png#pic_center">
      <br/>
      æœ‰å…³
      <strong>
       LivePortrait
      </strong>
      æ›´å¤šçš„å±•ç¤ºæ ·ä¾‹å‚è§ï¼š
      <a href="https://liveportrait.github.io" rel="nofollow">
       https://liveportrait.github.io/
      </a>
     </img>
    </p>
    <p>
     è€ç‰›åŒå­¦å°†å’Œå¤§å®¶ä¸€èµ·ï¼Œåœ¨æœ¬åœ°éƒ¨ç½²
     <strong>
      LivePortrait
     </strong>
     å›¾ç”Ÿè§†é¢‘å¤§æ¨¡å‹ï¼Œå¹¶ä¸”ç”Ÿæˆæˆ‘ä»¬è‡ªå·±çš„è§†é¢‘ã€‚æœ¬æ–‡å°†åŒ…æ‹¬ä»¥ä¸‹å‡ éƒ¨åˆ†ï¼š
    </p>
    <ol>
     <li>
      åŸºç¡€ç¯å¢ƒå‡†å¤‡ï¼šä¸æˆ‘ä»¬ä¹‹å‰éƒ¨ç½² LLM å¤§æ¨¡å‹ä¸åŒï¼Œ
      <strong>
       LivePortrait
      </strong>
      æ¶‰åŠåˆ°éŸ³é¢‘å’Œè§†é¢‘ç­‰å¤šåª’ä½“æ•°æ®çš„å¤„ç†ï¼Œå› æ­¤ç¯å¢ƒè¦ç¨å¾®å¤æ‚ä¸€ç‚¹
     </li>
     <li>
      LivePortrait é…ç½®ï¼šåŒ…æ‹¬å¤§æ¨¡å‹æƒé‡æ–‡ä»¶ä¸‹è½½ã€é…ç½®ç­‰
     </li>
     <li>
      LivePortrait ä½¿ç”¨ï¼šåŒ…æ‹¬é€šè¿‡å›¾ç‰‡ç”Ÿæˆè§†é¢‘ã€Web ç•Œé¢å¯è§†åŒ–ç”Ÿæˆè§†é¢‘ç­‰ï¼ˆå»ºè®®é…åˆ GPU è¿›è¡Œä½¿ç”¨ï¼Œè€ç‰›åŒå­¦
      <strong>
       çº¯ CPU
      </strong>
      æ¨ç†é€Ÿåº¦è¾ƒæ…¢ï¼‰
     </li>
    </ol>
    <p>
     LivePortrait ç†è®ºç ”ç©¶ï¼Œå¯ä»¥å‚è§è®ºæ–‡ï¼š
     <a href="https://arxiv.org/pdf/2407.03168" rel="nofollow">
      https://arxiv.org/pdf/2407.03168
     </a>
    </p>
    <h3>
     <a id="LivePortrait__14">
     </a>
     LivePortrait åŸºç¡€ç¯å¢ƒå‡†å¤‡
    </h3>
    <p>
     åŸºç¡€ç¯å¢ƒå‡†å¤‡åˆ†ä¸ºä»¥ä¸‹ 3 æ­¥ï¼šå…‹éš† GitHub ç¤ºä¾‹æºä»£ç ã€å®‰è£… Python ä¾èµ–åŒ…å’Œä¸‹è½½é…ç½®
     <strong>
      FFmpeg
     </strong>
     éŸ³è§†é¢‘å·¥å…·åº“
    </p>
    <p>
     ã€ç¬¬ä¸€æ­¥ï¼šä¸‹è½½ GitHub ç¤ºä¾‹æºç ã€‘
    </p>
    <p>
     GitHub ç¤ºä¾‹æºç ä¸‹è½½ç›®å½•ï¼š
     <code>
      LivePortrait
     </code>
    </p>
    <pre><code class="prism language-shell"><span class="token function">git</span> clone https://github.com/KwaiVGI/LivePortrait
</code></pre>
    <p>
     <strong>
      ç‰¹åˆ«æ³¨æ„ï¼š
     </strong>
     ç¤ºä¾‹ä»£ç å…‹éš†æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç¤ºä¾‹æºç ç›®å½•
     <code>
      LivePortrait
     </code>
     ä¸‹ï¼Œæœ‰ä¸ª
     <code>
      pretrained_weights
     </code>
     ç©ºç›®å½•ï¼Œå®ƒå°±æ˜¯ç”¨æ¥å­˜æ”¾é¢„è®­ç»ƒæƒé‡æ–‡ä»¶çš„ç›®å½•ï¼Œæ¥ä¸‹æ¥çš„æˆ‘ä»¬ä¼šä¸‹è½½æƒé‡æ–‡ä»¶ï¼
    </p>
    <p>
     ã€ç¬¬äºŒæ­¥ï¼šå®‰è£… Python ä¾èµ–åŒ…ã€‘
    </p>
    <p>
     åˆ‡æ¢åˆ° GitHub ç¤ºä¾‹æºç ç›®å½•ï¼š
     <code>
      cd LivePortrait
     </code>
    </p>
    <pre><code class="prism language-shell"><span class="token comment"># æ¿€æ´»ç¯å¢ƒï¼šç‰¹åˆ«æ³¨æ„Pythonç‰ˆæœ¬ä¸º3.9.18ï¼Œå…¶ä»–ç‰ˆæœ¬å¯èƒ½ä¸æ”¯æŒï¼ˆè€ç‰›åŒå­¦3.12å°±ä¸æ”¯æŒï¼‰</span>
conda create <span class="token parameter variable">-n</span> LivePortrait <span class="token assign-left variable">python</span><span class="token operator">==</span><span class="token number">3.9</span>.18
conda activate LivePortrait

<span class="token comment"># å®‰è£…ä¾èµ–åŒ…</span>
pip <span class="token function">install</span> <span class="token parameter variable">-r</span> requirements.txt
</code></pre>
    <p>
     å¦‚æœ
     <strong>
      Miniconda
     </strong>
     è¿˜æœªå®Œæˆå®‰è£…ï¼Œå»ºè®®å…ˆæå‰å®‰è£…å¥½ï¼š
     <a href="https://mp.weixin.qq.com/s/P_ufvz4MWVSqv_VM-rJp9w" rel="nofollow">
      å¤§æ¨¡å‹åº”ç”¨ç ”å‘åŸºç¡€ç¯å¢ƒé…ç½®ï¼ˆMinicondaã€Pythonã€Jupyter Labã€Ollama ç­‰ï¼‰
     </a>
    </p>
    <p>
     ã€ç¬¬ä¸‰æ­¥ï¼šä¸‹è½½å’Œé…ç½® FFmpeg éŸ³è§†é¢‘å·¥å…·åº“ã€‘
    </p>
    <p>
     <strong>
      FFmpeg
     </strong>
     æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„å¼€æºè½¯ä»¶å·¥å…·åº“ï¼Œä¸»è¦ç”¨äºå¤„ç†å¤šåª’ä½“æ•°æ®ï¼ŒåŒ…æ‹¬éŸ³é¢‘å’Œè§†é¢‘çš„ç¼–ç ã€è§£ç ã€è½¬ç ã€å¤ç”¨ã€è§£å¤ç”¨ã€æµåª’ä½“ä¼ è¾“ä»¥åŠæ’­æ”¾ç­‰ã€‚
    </p>
    <p>
     æˆ‘ä»¬å¯ä»¥é€šè¿‡ FFmpeg å®˜ç½‘ä¸‹è½½ï¼š
     <a href="https://ffmpeg.org/download.html" rel="nofollow">
      https://ffmpeg.org/download.html
     </a>
    </p>
    <p>
     æˆ–è€…ï¼Œè€ç‰›åŒå­¦å·²ç»ä¸‹è½½å¥½äº†ï¼Œæ”¾åˆ°äº†ç™¾åº¦ç½‘ç›˜ï¼ˆè¯„è®ºåŒºä¹Ÿæœ‰åœ°å€ï¼‰ï¼š
     <a href="https://pan.baidu.com/s/1IYutMbJGJSxLVY56-h4IPg?pwd=LNTX" rel="nofollow">
      https://pan.baidu.com/s/1IYutMbJGJSxLVY56-h4IPg?pwd=LNTX
     </a>
    </p>
    <p>
     ä¸‹è½½å®‰è£…å¥½ä¹‹åï¼ŒæŠŠ FFmpeg ç›®å½•è®¾ç½®åœ¨
     <code>
      PATH
     </code>
     ç¯å¢ƒå˜é‡ä¸­ï¼ŒåŒæ—¶æ‰§è¡Œå‘½ä»¤è¿›è¡Œæ£€æµ‹ï¼š
     <code>
      ffmpeg -version
     </code>
    </p>
    <pre><code class="prism language-plaintext">&gt;ffmpeg -version
ffmpeg version 7.0.1-essentials_build-www.gyan.dev Copyright (c) 2000-2024 the FFmpeg developers
built with gcc 13.2.0 (Rev5, Built by MSYS2 project)
configuration: --enable-gpl --enable-version3 --enable-static --disable-w32threads --disable-autodetect --enable-fontconfig --enable-iconv --enable-gnutls --enable-libxml2 --enable-gmp --enable-bzlib --enable-lzma --enable-zlib --enable-libsrt --enable-libssh --enable-libzmq --enable-avisynth --enable-sdl2 --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxvid --enable-libaom --enable-libopenjpeg --enable-libvpx --enable-mediafoundation --enable-libass --enable-libfreetype --enable-libfribidi --enable-libharfbuzz --enable-libvidstab --enable-libvmaf --enable-libzimg --enable-amf --enable-cuda-llvm --enable-cuvid --enable-dxva2 --enable-d3d11va --enable-d3d12va --enable-ffnvcodec --enable-libvpl --enable-nvdec --enable-nvenc --enable-vaapi --enable-libgme --enable-libopenmpt --enable-libopencore-amrwb --enable-libmp3lame --enable-libtheora --enable-libvo-amrwbenc --enable-libgsm --enable-libopencore-amrnb --enable-libopus --enable-libspeex --enable-libvorbis --enable-librubberband
libavutil      59.  8.100 / 59.  8.100
libavcodec     61.  3.100 / 61.  3.100
libavformat    61.  1.100 / 61.  1.100
libavdevice    61.  1.100 / 61.  1.100
libavfilter    10.  1.100 / 10.  1.100
libswscale      8.  1.100 /  8.  1.100
libswresample   5.  1.100 /  5.  1.100
libpostproc    58.  1.100 / 58.  1.100
</code></pre>
    <h3>
     <a id="LivePortrait__68">
     </a>
     LivePortrait æ¨¡å‹æƒé‡ä¸‹è½½å’Œé…ç½®
    </h3>
    <p>
     æˆ‘ä»¬å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼ä¸‹è½½é¢„è®­ç»ƒæƒé‡æ–‡ä»¶ï¼ŒåŒ…æ‹¬ HF å’Œäº‘ç›˜ç­‰ï¼š
    </p>
    <p>
     ã€æ–¹å¼ä¸€ï¼šHF ä¸‹è½½æƒé‡æ–‡ä»¶ã€‘
    </p>
    <p>
     ç”±äºæ–‡ä»¶æ¯”è¾ƒå¤§ï¼ŒGit æ— æ³•ç›´æ¥ä¸‹è½½ï¼Œé¦–å…ˆéœ€è¦è®¾ç½® Git å¤§æ–‡ä»¶ç¯å¢ƒï¼š
    </p>
    <pre><code class="prism language-shell"><span class="token function">git</span> lfs <span class="token function">install</span>
</code></pre>
    <p>
     ç„¶åå…‹éš†æƒé‡æ–‡ä»¶ï¼Œä¸‹è½½çš„ç›®å½•ï¼š
     <code>
      pretrained_weights
     </code>
    </p>
    <pre><code class="prism language-shell"><span class="token function">git</span> clone https://www.modelscope.cn/AI-ModelScope/LivePortrait.git pretrained_weights
</code></pre>
    <p>
     ç”±äºæ–‡ä»¶æ¯”è¾ƒå¤§ï¼ŒGit åœ¨å…‹éš†è¿‡ç¨‹ä¸­å¯èƒ½ä¼šä¸­æ–­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ Git å‘½ä»¤é‡è¯•ï¼š
    </p>
    <pre><code class="prism language-shell"><span class="token comment"># åˆ‡æ¢åˆ°æƒé‡æ–‡ä»¶ç›®å½•</span>
<span class="token builtin class-name">cd</span> pretrained_weights

<span class="token comment"># ç»§ç»­ä¸­æ–­ä¸‹è½½</span>
<span class="token function">git</span> lfs pull
</code></pre>
    <p>
     ã€æ–¹å¼äºŒï¼šç™¾åº¦äº‘ç›˜æˆ– Google Drive ä¸‹è½½ã€‘
    </p>
    <p>
     ç™¾åº¦äº‘ç›˜ï¼š
     <a href="https://pan.baidu.com/s/1MGctWmNla_vZxDbEp2Dtzw?pwd=z5cn" rel="nofollow">
      https://pan.baidu.com/s/1MGctWmNla_vZxDbEp2Dtzw?pwd=z5cn
     </a>
    </p>
    <p>
     Google äº‘ç›˜ï¼š
     <a href="https://drive.google.com/drive/folders/1UtKgzKjFAOmZkhNK-OYT0caJ_w2XAnib" rel="nofollow">
      https://drive.google.com/drive/folders/1UtKgzKjFAOmZkhNK-OYT0caJ_w2XAnib
     </a>
    </p>
    <p>
     <strong>
      ç‰¹åˆ«æ³¨æ„ï¼š
     </strong>
     æˆ‘ä»¬é€šè¿‡ Git æˆ–è€…äº‘ç›˜ä¸‹è½½åˆ°å®Œæ•´çš„æƒé‡æ–‡ä»¶ä¹‹åï¼Œç¡®è®¤ä¸€ä¸‹å®ƒçš„ç›®å½•ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š
    </p>
    <pre><code class="prism language-plaintext">pretrained_weights
â”œâ”€â”€ insightface
â”‚   â””â”€â”€ models
â”‚       â””â”€â”€ buffalo_l
â”‚           â”œâ”€â”€ 2d106det.onnx
â”‚           â””â”€â”€ det_10g.onnx
â””â”€â”€ liveportrait
    â”œâ”€â”€ base_models
    â”‚   â”œâ”€â”€ appearance_feature_extractor.pth
    â”‚   â”œâ”€â”€ motion_extractor.pth
    â”‚   â”œâ”€â”€ spade_generator.pth
    â”‚   â””â”€â”€ warping_module.pth
    â”œâ”€â”€ landmark.onnx
    â””â”€â”€ retargeting_models
        â””â”€â”€ stitching_retargeting_module.pth
</code></pre>
    <p>
     æœ€åï¼ŒæŠŠ
     <code>
      pretrained_weights
     </code>
     ç›®å½•ä¸‹çš„
     <code>
      insightface
     </code>
     å’Œ
     <code>
      liveportrait
     </code>
     è¿™ 2 ä¸ªç›®å½•å’Œæ–‡ä»¶å…¨éƒ¨å¤åˆ¶åˆ° GitHub å®ä¾‹æºç çš„
     <code>
      pretrained_weights
     </code>
     ç›®å½•ä¸‹ã€‚
    </p>
    <p>
     <strong>
      å°æç¤ºï¼š
     </strong>
     å¦‚æœæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ MacOS æˆ–è€… Linux æ“ä½œç³»ç»Ÿï¼Œä¹Ÿå¯ä»¥å°è¯•é€šè¿‡è½¯é“¾æ¥æ¥ä»£æ›¿æ–‡ä»¶å¤åˆ¶ï¼ˆå› è€ç‰›åŒå­¦æ˜¯ Windows ç³»ç»Ÿï¼Œåœ¨è¿™é‡Œæ— æ³•å±•ç¤ºï¼Œè¯·å¤§å®¶å°è¯•ï¼‰ï¼
    </p>
    <h3>
     <a id="_LivePortrait__126">
     </a>
     ä½¿ç”¨ LivePortrait ç”Ÿæˆè§†é¢‘
    </h3>
    <p>
     æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»ˆç«¯å‘½ä»¤è¡Œæˆ–è€… Web å¯è§†åŒ–ç•Œé¢ 2 ç§æ–¹å¼æ¥ä½¿ç”¨ LivePortrait ç”Ÿæˆè§†é¢‘ï¼š
    </p>
    <p>
     ã€
     <strong>
      æ–¹å¼ä¸€ï¼š
     </strong>
     ä½¿ç”¨ç»ˆç«¯å‘½ä»¤è¡Œç”Ÿæˆè§†é¢‘ã€‘
    </p>
    <ol>
     <li>
      æ‰“å¼€ç»ˆç«¯ï¼Œåˆ‡æ¢åˆ° GitHub ç¤ºä¾‹æºç ç›®å½•ï¼š
      <code>
       cd LivePortrait
      </code>
     </li>
     <li>
      æ¿€æ´» Python ç¯å¢ƒï¼š
      <code>
       conda activate LivePortrait
      </code>
     </li>
     <li>
      ç»è€ç‰›åŒå­¦æµ‹è¯•ï¼Œè¿˜éœ€è¦å®‰è£…é¢å¤– Python ä¾èµ–åŒ…ï¼š
     </li>
    </ol>
    <pre><code class="prism language-shell"><span class="token comment"># é¢å¤–ä¾èµ–åŒ…</span>
pip <span class="token function">install</span> tyro
pip <span class="token function">install</span> patch_ng

<span class="token comment"># å®‰è£…ä¾èµ–åŒ…ï¼šå¦‚æœå‰é¢å·²å®‰è£…åˆ™å¯å¿½ç•¥ï¼ˆç‰¹åˆ«æ³¨æ„Pythonç‰ˆæœ¬ï¼š3.9.18ï¼‰</span>
pip <span class="token function">install</span> <span class="token parameter variable">-r</span> requirements.txt
</code></pre>
    <ol start="4">
     <li>
      æ‰§è¡Œ Python ç¨‹åºï¼šåœ¨ GitHub ç¤ºä¾‹æºç ä¸­ï¼Œ
      <code>
       inference.py
      </code>
      å°±æ˜¯æˆ‘ä»¬çš„å¤§æ¨¡å‹æ¨ç†å‡½æ•°å…¥å£
     </li>
    </ol>
    <p>
     æ‰“å¼€ç»ˆç«¯ï¼Œåˆ‡æ¢åˆ° GitHub ç¤ºä¾‹æºç ç›®å½•
     <code>
      cd LivePortrait
     </code>
     ï¼Œç„¶åæ¨ç†æ‰§è¡Œï¼š
     <code>
      python inference.py
     </code>
    </p>
    <p>
     <strong>
      å¯èƒ½çš„æŠ¥é”™ï¼š
     </strong>
     å¦‚æœå‡ºç°å¦‚ä¸‹æŠ¥é”™ï¼Œè¯·ç”¨
     <strong>
      Miniconda
     </strong>
     è®¾ç½® Python
     <code>
      3.9.18
     </code>
     ç‰ˆæœ¬çš„ç¯å¢ƒï¼š
    </p>
    <pre><code class="prism language-plaintext">ValueError: mutable default &lt;class 'numpy.ndarray'&gt; for field mask_crop is not allowed: use default_factory
</code></pre>
    <p>
     <strong>
      å¯èƒ½çš„æŠ¥é”™ï¼š
     </strong>
     å¦‚æœå‡ºç°å¦‚ä¸‹æŠ¥é”™ï¼Œé»˜è®¤éœ€è¦ GPU è¿›è¡Œæ¨ç†ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ GPU åˆ™éœ€è¦æ­£ç¡®å®‰è£… GPU é©±åŠ¨ï¼Œæˆ–è€…æˆ‘ä»¬å¯ä»¥å¼ºåˆ¶
     <strong>
      CPU
     </strong>
     è¿è¡Œï¼š
    </p>
    <pre><code class="prism language-plaintext">RuntimeError: Found no NVIDIA driver on your system. Please check that you have an NVIDIA GPU and installed a driver from http://www.nvidia.com/Download/index.aspx
</code></pre>
    <p>
     ã€
     <strong>
      å¼ºåˆ¶ CPU è¿è¡Œ
     </strong>
     ã€‘æˆ‘ä»¬å¯ä»¥é€šè¿‡
     <strong>
      â€“flag-force-cpu
     </strong>
     å‚æ•°å¼ºåˆ¶ä½¿ç”¨ CPU æ¨ç†ï¼š
     <code>
      python inference.py --flag-force-cpu
     </code>
    </p>
    <p>
     å¦‚æœå†…å­˜æˆ–è€…å¡å†…å­˜è¶³å¤Ÿï¼Œæœ€ç»ˆä¼šåœ¨ GitHub æºç ç›®å½•ä¸­ç”Ÿæˆäº†æœ€ç»ˆè§†é¢‘æ–‡ä»¶ï¼š
     <code>
      ./animations/s6--d0_concat.mp4
     </code>
    </p>
    <p>
     å¾ˆä¸å¹¸ï¼Œè€ç‰›åŒå­¦
     <strong>
      16GB
     </strong>
     å†…å­˜ä¸è¶³ï¼Œå¯¼è‡´æœ€ç»ˆç”Ÿæˆè§†é¢‘å¤±è´¥ï¼ˆé¢„è®¡è‡³å°‘ 22GB å†…å­˜ï¼‰ï¼š
    </p>
    <pre><code>RuntimeError: [enforce fail at alloc_cpu.cpp:114] data. DefaultCPUAllocator: not enough memory: you tried to allocate 6383992832 bytes.
</code></pre>
    <p>
     æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ä¸ªå‚æ•°ï¼Œæ¥è®¾ç½®äººåƒæ­£è„¸å›¾ç‰‡ã€é¢éƒ¨åŠ¨ç”»å’Œç”Ÿæˆè§†é¢‘ç›®å½•ï¼š
     <code>
      python inference.py --flag-force-cpu -s ./assets/examples/source/s6.jpg -d ./assets/examples/driving/d0.mp4 -o animations
     </code>
    </p>
    <p>
     ã€
     <strong>
      æ–¹å¼äºŒï¼š
     </strong>
     é€šè¿‡ Web ç•Œé¢ç”Ÿæˆè§†é¢‘ã€‘
    </p>
    <ol>
     <li>
      æ‰“å¼€ç»ˆç«¯ï¼Œåˆ‡æ¢åˆ° GitHub ç¤ºä¾‹æºç ç›®å½•ï¼š
      <code>
       cd LivePortrait
      </code>
     </li>
     <li>
      æ¿€æ´» Python ç¯å¢ƒï¼š
      <code>
       conda activate LivePortrait
      </code>
     </li>
     <li>
      å¯åŠ¨ Web ç•Œé¢ï¼š
      <code>
       python app.py --flag-force-cpu
      </code>
     </li>
    </ol>
    <pre><code class="prism language-plaintext">....
FaceAnalysisDIY warmup time: 0.163s                                                                      face_analysis_diy.py:79
Running on local URL:  http://127.0.0.1:8890
</code></pre>
    <p>
     æˆ‘ä»¬é€šè¿‡æµè§ˆå™¨æ‰“å¼€åœ°å€ï¼š
     <a href="http://127.0.0.1:8890" rel="nofollow">
      http://127.0.0.1:8890
     </a>
    </p>
    <p>
     <img alt="Webå¯è§†åŒ–ç•Œé¢" src="https://i-blog.csdnimg.cn/blog_migrate/173495c4327ea6afc55eee47eef57813.png"/>
    </p>
    <p>
     æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨å®ä¾‹æºç çš„å¤´åƒå›¾ç‰‡å’Œå¤´éƒ¨åŠ¨ç”»ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©è‡ªå·±çš„å›¾ç‰‡æˆ–å¤´éƒ¨åŠ¨ç”»ï¼Œè¿˜å¯ä»¥ç‚¹å‡»
     <strong>
      æ‘„åƒå¤´
     </strong>
     å›¾æ ‡ï¼Œ
     <strong>
      æ‹æ‘„å’Œå½•åˆ¶
     </strong>
     æˆ‘ä»¬è‡ªå·±çš„æ­£è„¸å’Œé¢éƒ¨è§†é¢‘ï¼Œä¹‹åç‚¹å‡»
     <strong>
      ğŸš€ Animate
     </strong>
     æŒ‰é’®å³å¼€å§‹ç”Ÿæˆè§†é¢‘ã€‚
    </p>
    <h2>
     <a id="_GPU__191">
     </a>
     æ²¡æœ‰ GPU åœ¨çº¿ä½“éªŒ
    </h2>
    <p>
     <strong>
      LivePortrait
     </strong>
     å¼€æºçš„å›¾ç”Ÿè§†é¢‘æ¨¡å‹ï¼Œå¯ä»¥è®©æ›´å¤šä¸ªäººã€å°å›¢ä½“å’Œä¼ä¸šç­‰èƒ½è½»æ¾éƒ¨ç½²ä½¿ç”¨ï¼Œä»¥ç”Ÿæˆè‡ªå·±çš„æ•°å­—åŒ–äººç‰©è§†é¢‘ã€‚
     <strong>
      LivePortrait
     </strong>
     èƒ½æ˜¾è‘—é™ä½äº†æ•°å­—åŒ–äººç‰©åˆ›å»ºçš„é—¨æ§›ï¼Œé¢„ç¤ºç€å®æ—¶è§†é¢‘å¤„ç†é¢†åŸŸçš„å·¨å¤§æ½œåŠ›ï¼ŒåŒæ—¶ä¹Ÿä¼šåœ¨æŠ€æœ¯å’Œåº”ç”¨å±‚é¢æ¨åŠ¨äº†å›¾ç”Ÿè§†é¢‘æŠ€æœ¯çš„å¿«é€Ÿå‘å±•ï¼ŒåŒ…æ‹¬åœ¨
     <strong>
      è§†é¢‘ä¼šè®®
     </strong>
     ã€
     <strong>
      ç¤¾äº¤åª’ä½“ç›´æ’­
     </strong>
     ä»¥åŠ
     <strong>
      å®æ—¶æ¸¸æˆåŠ¨ç”»
     </strong>
     ç­‰å®æ—¶åº”ç”¨åœºæ™¯ä¸­å±•ç°äº†å·¨å¤§çš„åº”ç”¨æ½œåŠ›ã€‚
    </p>
    <p>
     <strong>
      LivePortrait
     </strong>
     å¼€æºçš„å›¾ç”Ÿè§†é¢‘æ¨¡å‹ä¸ä»…åœ¨æŠ€æœ¯ä¸Šå–å¾—äº†é‡è¦è¿›å±•ï¼Œä¹Ÿå¯¹å›¾ç”Ÿè§†é¢‘çš„å•†ä¸šåº”ç”¨å’Œç¤¾ä¼šå½±å“æå‡ºäº†æ–°çš„æ€è€ƒã€‚éšç€æŠ€æœ¯çš„è¿›ä¸€æ­¥æˆç†Ÿå’Œç¤¾ä¼šåº”ç”¨çš„æ·±å…¥ï¼Œæœªæ¥å›¾ç”Ÿè§†é¢‘æŠ€æœ¯å°†åœ¨å¤šä¸ªé¢†åŸŸå±•ç°æ›´å¹¿é˜”çš„åº”ç”¨å‰æ™¯ã€‚
    </p>
    <p>
     ModelScope æ¨¡æ­ç¤¾åŒºæä¾›äº†åœ¨çº¿ä½“éªŒ Web ç•Œé¢ï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰ GPU æœ¬åœ°éƒ¨ç½²æ¨ç†å¤ªæ…¢äº†ï¼Œä¹Ÿå¯ä»¥å»ä½“éªŒä¸€ä¸‹ï¼š
     <a href="https://modelscope.cn/studios/DAMOXR/LivePortrait" rel="nofollow">
      https://modelscope.cn/studios/DAMOXR/LivePortrait
     </a>
    </p>
    <p>
     <img alt="LivePortraitä½¿ç”¨ä½“éªŒ" src="https://i-blog.csdnimg.cn/blog_migrate/258af89b3bb4bb99823278aa88188be7.png"/>
    </p>
    <p>
     <a href="https://mp.weixin.qq.com/s/PpY3k3kReKfQdeOJyrB6aw" rel="nofollow">
      åŸºäº Qwen2/Lllama3 ç­‰å¤§æ¨¡å‹ï¼Œéƒ¨ç½²å›¢é˜Ÿç§æœ‰åŒ– RAG çŸ¥è¯†åº“ç³»ç»Ÿçš„è¯¦ç»†æ•™ç¨‹ï¼ˆDocker+AnythingLLMï¼‰
     </a>
    </p>
    <p>
     <a href="https://mp.weixin.qq.com/s/vt1EXVWtwm6ltZVYtB4-Tg" rel="nofollow">
      ä½¿ç”¨ Llama3/Qwen2 ç­‰å¼€æºå¤§æ¨¡å‹ï¼Œéƒ¨ç½²å›¢é˜Ÿç§æœ‰åŒ– Code Copilot å’Œä½¿ç”¨æ•™ç¨‹
     </a>
    </p>
    <p>
     <a href="https://mp.weixin.qq.com/s/g7lDfnRRGdrHqN7WGMSkAg" rel="nofollow">
      æœ¬åœ°éƒ¨ç½² GLM-4-9B æ¸…åæ™ºè°±å¼€æºå¤§æ¨¡å‹æ–¹æ³•å’Œå¯¹è¯æ•ˆæœä½“éªŒ
     </a>
    </p>
    <p>
     <a href="https://mp.weixin.qq.com/s/MekCUJDhKzuUnoykkGoH2g" rel="nofollow">
      ç©è½¬ AIï¼Œç¬”è®°æœ¬ç”µè„‘å®‰è£…å±äºè‡ªå·±çš„ Llama 3 8B å¤§æ¨¡å‹å’Œå¯¹è¯å®¢æˆ·ç«¯
     </a>
    </p>
    <p>
     <a href="https://mp.weixin.qq.com/s/rL3vyJ_xEj7GGoKaxUh8_A" rel="nofollow">
      ChatTTS å¼€æºæ–‡æœ¬è½¬è¯­éŸ³æ¨¡å‹æœ¬åœ°éƒ¨ç½²ã€API ä½¿ç”¨å’Œæ­å»º WebUI ç•Œé¢
     </a>
    </p>
    <p>
     <a href="https://mp.weixin.qq.com/s/majDONtuAUzN2SAaYWxH1Q" rel="nofollow">
      Ollama å®Œæ•´æ•™ç¨‹ï¼šæœ¬åœ° LLM ç®¡ç†ã€WebUI å¯¹è¯ã€Python/Java å®¢æˆ·ç«¯ API åº”ç”¨
     </a>
    </p>
    <p>
     <img alt="å¾®ä¿¡å…¬ä¼—å·ï¼šè€ç‰›åŒå­¦" src="https://i-blog.csdnimg.cn/blog_migrate/01655f229db2afc103a18928be32551c.png"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
</div>


