---
layout: post
title: "nginx自定义错误页面"
date: 2024-07-07 17:33:36 +0800
description: "当请求到达web服务器，nginx先根据配置判断请求是否做了静态化，没有则转发到配置指定的后端服务器"
keywords: "检查是否自定义nginx返回的错误信息"
categories: ['']
tags: ['无标签']
artid: "90641715"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=90641715
    alt: "nginx自定义错误页面"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     nginx自定义错误页面
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     当请求到达web服务器，nginx先根据配置判断请求是否做了静态化，没有则转发到配置指定的后端服务器。当后端出现异常时，如果后端不配置错误返回或者在nginx就用error_page做异常跳转，直接就把后端的异常返回去了
    </p>
    <p>
     1、改配置，在nginx.conf的http区域加入
    </p>
    <p>
     #当被代理的后端响应状态码&gt;=300时，直接将响应发送给客户端，或配置nginx将响应转error_page来处理。
    </p>
    <p>
     proxy_intercept_errors on;
    </p>
    <p>
     #当FastCGI后端响应状态码&gt;=300时，直接将响应发送给客户端，或配置nginx将响应转error_page来处理。
    </p>
    <p>
     fastcgi_intercept_errors on;
    </p>
    <p>
     <br/>
     2、在nginx.conf的server区加入
    </p>
    <p>
     error_page  403 404  /40x.html;
     <br/>
     error_page   500 501 502 503 504  /50x.html;
     <br/>
     location = /40x.html {
     <!-- -->
     <br/>
     root   html/errorpage;
    </p>
    <p>
     location = /50x.html {
     <!-- -->
     <br/>
     root   html/errorpage/;      #错误页面40x/50x.html的路径。大于512字节，否则会跳到IE默认的404错误页面
     <br/>
     }
    </p>
    <p>
     3、测试配置并重启
    </p>
    <p>
     nginx -t
    </p>
    <p>
     nginx -s reload
    </p>
    <p>
     然后浏览器模拟访问不存在的页面看看，看是否跳到指定的错误页面
    </p>
   </div>
  </div>
 </article>
 <p alt="687474:70733a2f2f626c6f672e6373646e2e6e65742f693135363233:2f61727469636c652f64657461696c732f3930363431373135" class_="artid" style="display:none">
 </p>
</div>


