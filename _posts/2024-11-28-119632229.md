---
layout: post
title: "Python中._pth文件的作用"
date: 2024-11-28 17:49:24 +0800
description: "Python在遍历已知的库文件目录过程中，如果见到一个._pth 文件，就会将文件中所记录的路径加入"
keywords: "pth文件用来干什么"
categories: ['']
tags: ['Python']
artid: "119632229"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=119632229
    alt: "Python中._pth文件的作用"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Python中._pth文件的作用
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     Python在
     <span style="color:#fe2c24;">
      遍历已知的库文件目录
     </span>
     过程中，如果见到一个._pth 文件，就会
     <span style="color:#fe2c24;">
      将文件中所记录的路径加入到 sys.path 设置中
     </span>
     ，于是 .pth 文件说指明的库也就可以被 Python 运行环境找到了。
     <br/>
     python中有一个.pth文件，该文件的用法是：
    </p>
    <p>
     <span style="color:#fe2c24;">
      首先xxx._pth文件里面会书写一些路径，
      <strong>
       一行一个
      </strong>
      。
     </span>
     <br/>
     将xxx._pth文件放在特定位置，则可以让python在加载模块时，读取xxx._pth中指定的路径。
    </p>
    <p>
     <span style="color:#fe2c24;">
      在python中，一个扩展名.py的文件就是一个模块
     </span>
    </p>
    <p>
     <strong>
      1. 使用import语句导入模块
     </strong>
    </p>
    <p>
     import modulename 导入文件名为modulename.py的所有模块
    </p>
    <p>
     import modulename [as alias] 设置别名
    </p>
    <p>
     备注：
     <strong>
      使用import导入模块后，每执行一条import语句会创建一个新的命名空间，在该命名空间中执行与.py文件相关的所有语句。在执行时，需要在具体的变量、函数和类名前加上”模块名.”。
     </strong>
    </p>
    <p>
     <strong>
      2. 使用from....import语句导入模块
     </strong>
    </p>
    <p>
     from modelname import member： 导入
     <strong>
      某个变量、函数或者类
     </strong>
     等。
    </p>
    <p>
     from modelname import *：导入
     <strong>
      全部定义
     </strong>
    </p>
    <p>
     <strong>
      3. 模块搜索顺序
     </strong>
    </p>
    <p>
     当import 导入模块之后，会按照以下顺序进行查找：
    </p>
    <p>
     <strong>
      1)当前目录下查找
     </strong>
    </p>
    <p>
     <strong>
      2)在PYTHONPATH下的每个目录中查找
     </strong>
    </p>
    <p>
     <strong>
      3)到python默认安装目录下查找
     </strong>
    </p>
    <p>
     上面的目录可以通过sys的
     <strong>
      sys.path
     </strong>
     查看
    </p>
    <pre><code class="language-python">import sysprint(sys.path)</code></pre>
    <p>
     输出结果：
    </p>
    <pre><code>['E:PyProjectChapter13', 'E:PyProject', 'D:python3python38.zip', 'D:python3DLLs', 'D:python3lib', 'D:python3', 'E:PyProjectvenv', 'E:PyProjectvenvlibsite-packages', 'E:PyProjectvenvlibsite-packagessetuptools-40.8.0-py3.8.egg', 'E:PyProjectvenvlibsite-packagespip-19.0.3-py3.8.egg']</code></pre>
    <p>
     可通过以下3种方式将指定的目录加到path中
    </p>
    <p>
     <strong>
      a. 临时加入
     </strong>
    </p>
    <pre><code class="language-python">import syssys.path.append('E:/')print(sys.path)</code></pre>
    <p>
     输出结果
    </p>
    <pre><code class="language-javascript">['E:PyProjectChapter13', 'E:PyProject', 'D:python3python38.zip', 'D:python3DLLs', 'D:python3lib', 'D:python3', 'E:PyProjectvenv', 'E:PyProjectvenvlibsite-packages', 'E:PyProjectvenvlibsite-packagessetuptools-40.8.0-py3.8.egg', 'E:PyProjectvenvlibsite-packagespip-19.0.3-py3.8.egg', 'E:/']</code></pre>
    <p>
     备注：只在当前文件的窗口中有效，窗口关闭后即失效。
    </p>
    <p>
     <strong>
      b. 增加.pth文件
     </strong>
    </p>
    <p>
     在python安装目录下的Libsite-packages中(我的在D:\python3\Libsite-packages)，创建扩展名为.pth的文件，文件名自定，在该文件中添加要导入的目录
    </p>
    <p>
     备注：此种方法，
     <span style="color:#fe2c24;">
      需要重新打开要执行的导入模块的python文件，否则不生效
     </span>
     。只在当前版本中有效。
    </p>
    <p>
     <strong>
      c. 在PYTHONPATH环境变量中添加
     </strong>
    </p>
    <p>
     打开windows的“环境变量”对话框，若没有PYTHONPATH则需要添加，否则双击PYTHONPATH变量，在弹出对话框的变量值文本中添加新的模块目录，目录之前使用逗号分隔。
    </p>
    <p>
     <img alt="aefa2287ebcc797a6348ba68cca0e590.png" src="https://i-blog.csdnimg.cn/blog_migrate/b4d02f4eef2a49cec2df85ed1afb55cd.jpeg"/>
    </p>
    <p>
     备注：此种方法，需要重新打开要执行的导入模块的python文件，否则不生效。只在当前版本中有效。
    </p>
    <p>
     4. 以主程序的形式执行
    </p>
    <p>
     <strong>
      christmastree.py文件内容为:
     </strong>
    </p>
    <pre><code class="language-python">pinetree = '我是一颗松树'
def fun_christmastree(): ''' 功能：一个梦 无返回值 ''' 
    pinetree = '挂上彩灯、礼物.....我变成一颗圣诞树'
    print(pinetree)</code></pre>
    <p>
     <img alt="5e5ff8348e512b344c7b5c59ea593717.png" src="https://i-blog.csdnimg.cn/blog_migrate/7fd6af06a626826a9912a701c634bdd5.jpeg"/>
    </p>
    <p>
     <strong>
      main.py文件内容为:
     </strong>
    </p>
    <pre><code class="language-python">import christmastreeprint('全局变量的值为： ', christmastree.pinetree)</code></pre>
    <p>
     <strong>
      第一次使用灰色框中的内容：
     </strong>
    </p>
    <p>
     输出结果为：
    </p>
    <pre><code>下雪了.....=================开始做梦......==============挂上彩灯、礼物.....我变成一颗圣诞树=================梦醒了......==============我身上落满雪花. 我是一颗松树-_-</code></pre>
    <p>
     <strong>
      第二次使用红色框中的代码：
     </strong>
    </p>
    <p>
     输出结果：
    </p>
    <pre><code>全局变量的值为： 我是一颗松树</code></pre>
    <p>
     <strong>
      说明：
     </strong>
    </p>
    <p>
     通俗的理解__name__ == '__main__'：
     <span style="color:#fe2c24;">
      假如你叫小明.py，在朋友眼中，你是小明(__name__ == '小明')；在你自己眼中，你是你自己(__name__ == '__main__')
     </span>
     。python为动态解释型语言，也就是
     <span style="color:#fe2c24;">
      从脚本第一行开始运行，没有统一的入口。
     </span>
    </p>
    <p>
     <span style="color:#fe2c24;">
      每一个模块(.py)都有一个__name__，当模块被
      <strong>
       直接执行
      </strong>
      时，此时__name__ '__main__'；而被其他模块导入时，此时__name__为
      <strong>
       被导入的
      </strong>
      模块名称，程序执行被导入模块的所有代码。
     </span>
     但更多时候只是希望执行部分代码，此时如红框处表示，可以加上if __name__ == '__main__'，作为文件的入口。
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f667568616e6768616e672f:61727469636c652f64657461696c732f313139363332323239" class_="artid" style="display:none">
 </p>
</div>


