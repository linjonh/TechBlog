---
layout: post
title: "2020年山东省网络空间安全技能大赛Web-安全之综合渗透测试"
date: 2022-01-10 18:18:06 +0800
description: "本文详细介绍了2020年山东省网络空间安全技能大赛中的Web安全挑战，涵盖多个渗透测试环节，包括扫描"
keywords: "172.16.5.193.login"
categories: ['2021年中职组网络安全赛项分析']
tags: ['网络安全', 'Web']
artid: "122410480"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=122410480
    alt: "2020年山东省网络空间安全技能大赛Web-安全之综合渗透测试"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     2020年山东省网络空间安全技能大赛Web 安全之综合渗透测试
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     任务环境说明：
    </p>
    <p>
     <a id="PYFile_W_907">
     </a>
     服务器场景名称：
    </p>
    <p>
     <a id="_908">
     </a>
     服务器场景操作系统：未知（关闭链接）
    </p>
    <h4>
     1.使用渗透机场景 Kali2.0 中的工具扫描服务器，通过扫描服务器得到 web
     <br/>
     端口，登陆网站（网站路径为 IP/up）,找到网站首页中的 Flag 并提交;
    </h4>
    <p style="text-align:justify;">
     url输入172.16.5.193/up/ 查看源码发现一个flag路径打开后得到flag
    </p>
    <p style="text-align:justify;">
     <img alt="" height="920" src="https://i-blog.csdnimg.cn/blog_migrate/84aabb99fb791c0495d6d401c127900f.png" width="1200">
      flag：
      <span style="color:#000000;">
       sacasceafvdbtsd
      </span>
     </img>
    </p>
    <p style="text-align:justify;">
    </p>
    <h4>
     2.使用渗透机场景 windows7 访问服务其场景中的网站，通过上题给的信息
     <br/>
     获取本题，并将本题中的 Flag 提交；
    </h4>
    <p style="margin-left:.0001pt;text-align:justify;">
     <span style="color:#000000;">
      要求上传一个图片格式的木马，将一句话木马写到1.php中在将后缀改为1.png
     </span>
    </p>
    <p>
     <img alt="" height="522" src="https://i-blog.csdnimg.cn/blog_migrate/baf24a6938e875d8a55f3b008dc77c05.png" width="736"/>
    </p>
    <p>
     <span style="color:#000000;">
      在用burpsuite抓包，将数据包中的1.png改为1.php后发送数据包
     </span>
    </p>
    <p>
     <img alt="" height="451" src="https://i-blog.csdnimg.cn/blog_migrate/2598fe410e7b6f636bf6c3d107f02712.png" width="554"/>
    </p>
    <p>
     得到flag:sdv4sg8r9vd6bw6ddcw
    </p>
    <p>
     <img alt="" height="348" src="https://i-blog.csdnimg.cn/blog_migrate/6dfe531461dd071e98d3893e6b45e81f.png" width="554"/>
    </p>
    <h4>
     3.使用渗透机场景 windows7 根据第二题的入口继续访问服务器本题场景，
     <br/>
     通过提示得到 Flag 并提交；
    </h4>
    <p style="margin-left:.0001pt;text-align:left;">
     直接上传一个2.php的一句话木马 然后Burpsuite抓包
    </p>
    <p style="margin-left:.0001pt;text-align:left;">
     将Content-Type: application/octet-stream 改为Content-Type: image/jpeg
    </p>
    <p style="margin-left:.0001pt;text-align:left;">
     <img alt="" height="440" src="https://i-blog.csdnimg.cn/blog_migrate/a78f03a0fdaa28b4849a6b4ff31da58b.png" width="554"/>
    </p>
    <p style="margin-left:.0001pt;text-align:left;">
     发送数据包得到flag:KJIhnHbJIyhJIU
    </p>
    <p>
     <img alt="" height="523" src="https://i-blog.csdnimg.cn/blog_migrate/4a7f14528b05648117892d548db0b18d.png" width="504"/>
    </p>
    <h4>
     4.使用渗透机场景 windows7 根据第三题入口继续访问服务器的本题场景
     <br/>
     通过提示联系前两题上传特定文件名得到 Flag 并提交；
    </h4>
    <p>
    </p>
    <p>
     通过观察源码发现不允许上传.asp,.aspx,.php,.jsp后缀文件
    </p>
    <p style="margin-left:.0001pt;text-align:left;">
     我们可以用别的
     <span style="background-color:#ffffff;">
      <span style="color:#4d4d4d;">
       常见的可执行文件的后缀
      </span>
     </span>
     <span style="background-color:#ffffff;">
      <span style="color:#4d4d4d;">
       ：
      </span>
     </span>
    </p>
    <p style="margin-left:.0001pt;text-align:left;">
     <span style="background-color:#fafafa;">
      <span style="color:#000000;">
       PHP: php2、php3、php5、phtml、pht
      </span>
     </span>
    </p>
    <p style="margin-left:.0001pt;text-align:left;">
     <span style="background-color:#fafafa;">
      <span style="color:#000000;">
       ASP: aspx、ascx、ashx、cer、asa
      </span>
     </span>
    </p>
    <p style="margin-left:.0001pt;text-align:left;">
     <span style="background-color:#fafafa;">
      <span style="color:#000000;">
       JSP: jspx
      </span>
     </span>
    </p>
    <p style="margin-left:.0001pt;text-align:left;">
     <span style="background-color:#fafafa;">
      <span style="color:#000000;">
       这里使用了3.phtml成功上传
      </span>
     </span>
    </p>
    <p style="margin-left:.0001pt;text-align:left;">
     <span style="background-color:#fafafa;">
      <span style="color:#000000;">
       得到
      </span>
     </span>
     flag:352346fgdgsds35
    </p>
    <p style="margin-left:.0001pt;text-align:left;">
     <img alt="" height="489" src="https://i-blog.csdnimg.cn/blog_migrate/294c9ea5980825805e2a91c6c350ef68.png" width="479"/>
    </p>
    <h4>
     5.使用渗透机场景 windows7 根据第四题入口继续访问服务器的本题场景，
     <br/>
     通过提示得到 Flag 并提交；
    </h4>
    <p style="text-align:left;">
     “php",".php5",".php4",".php3",".php2",".html",".htm",".phtml",".pht",".pHp",".pHp5",".pHp4",".pHp3",".pHp2",".Html",".Htm",".pHtml”都禁用了，我们可以上传一个3.png的文件，里面写入
    </p>
    <p style="margin-left:.0001pt;text-align:left;">
     &lt;?php @eval($_GET['123']);?&gt;
    </p>
    <p style="margin-left:.0001pt;text-align:left;">
     <img alt="" height="519" src="https://i-blog.csdnimg.cn/blog_migrate/79b1211022e334efe2ee10276407bfff.png" width="554"/>
    </p>
    <p style="margin-left:.0001pt;text-align:left;">
     成功获取flag：FEDS25E54SD2C2S5
    </p>
    <h4>
     6.使用渗透机场景 windows7 根据第五题入口继续访问服务器的本题场景，
     <br/>
     通过提示得到 Flag 并提交；
    </h4>
    <p style="text-align:left;">
     看源码有点像是双写漏洞尝试phphp  phpphp pphphp 最终输入pphphp得到flag
    </p>
    <p style="text-align:left;">
     <img alt="" height="500" src="https://i-blog.csdnimg.cn/blog_migrate/efdab46585e2ac90e4c3107fc4b440a0.png" width="554"/>
    </p>
    <p style="text-align:left;">
     <img alt="" height="51" src="https://i-blog.csdnimg.cn/blog_migrate/328c457c52ef577baf0a71543819789f.png" width="254"/>
    </p>
    <h4>
     7.使用渗透机场景 windows7 访问 http://靶机 IP/7，对该页面进行渗透测
     <br/>
     试,通过提示得到 Flag 并提交；
    </h4>
    <p style="margin-left:.0001pt;text-align:left;">
     <span style="color:#000000;">
      输入robots.txt  出来了一个
     </span>
     <span style="color:#000000;">
      flag_asd.php
     </span>
     <span style="color:#000000;">
      路径，url输入然后再源码中看到flag
     </span>
    </p>
    <p style="margin-left:.0001pt;text-align:left;">
     <img alt="" height="107" src="https://i-blog.csdnimg.cn/blog_migrate/0e2d301679fef55560fdf201dac29047.png" width="554"/>
    </p>
    <h4>
     9.使用渗透机场景 windows7 访问 http://靶机 IP/9，对该页面进行渗透测
     <br/>
     试,通过提示得到 Flag 并提交；
    </h4>
    <p style="margin-left:.0001pt;text-align:left;">
     下载一个数据包文件  打开后ctrl+f在分组字节流中查找flag
    </p>
    <p style="margin-left:.0001pt;text-align:left;">
     <img alt="" height="457" src="https://i-blog.csdnimg.cn/blog_migrate/43b37c8e95c25ff336ccdb8bbc3f1226.png" width="554"/>
    </p>
    <h4>
     10.使用渗透机场景 windows7 访问 http://靶机 IP/10，对该页面进行渗透
     <br/>
     测试,通过提示得到 Flag 并提交；
    </h4>
    <p>
     密码破解下载一个八进制的txt文件，先进行八进制转ASCII码
    </p>
    <p>
     <img alt="" height="153" src="https://i-blog.csdnimg.cn/blog_migrate/eeb65b13c6a25177060338c27fdf7830.png" width="445"/>
    </p>
    <p>
     <img alt="" height="196" src="https://i-blog.csdnimg.cn/blog_migrate/6e25a11543ac85b0de2a84a28b596bfc.png" width="380"/>
    </p>
    <p style="margin-left:.0001pt;text-align:left;">
     V2VsbCBkb25lIQoKIEZsYWc6IElTQ0N7TjBfMG5lX2Nhbl9zdDBwX3kwdX0K
    </p>
    <p style="margin-left:.0001pt;text-align:left;">
     在base64解码得到flag
    </p>
    <p>
     <img alt="" height="412" src="https://i-blog.csdnimg.cn/blog_migrate/5e91b6c7151267d3d7a838f567d1e023.png" width="533"/>
    </p>
    <h4>
     11.使用渗透机场景 windows7 访问 http://靶机 IP/11，对该页面进行渗透
     <br/>
     测试,通过提示得到 Flag 并提交；
    </h4>
    <p style="margin-left:.0001pt;text-align:left;">
     一张动态的图片，利用burpsuite抓包
    </p>
    <p style="margin-left:.0001pt;text-align:left;">
     <img alt="" height="312" src="https://i-blog.csdnimg.cn/blog_migrate/308d693916dbca43daf2bc3d63af4d5b.png" width="498"/>
    </p>
    <h4 style="margin-left:.0001pt;text-align:left;">
     12.使用渗透机场景 windows7 访问 http://靶机 IP/12，对该页面进行渗透
     <br/>
     测试,通过提示得到 Flag 并提交；
    </h4>
    <p>
     修复一张图片，将它下载到桌面再用WinHeX打开加入图片文件头FFD8FFE0
    </p>
    <p>
     <img alt="" height="517" src="https://i-blog.csdnimg.cn/blog_migrate/071f217669d7f5cb4ee3c6b513e9ddcc.png" width="764"/>
    </p>
    <p>
     保存后打开得到flag
    </p>
    <p>
     <img alt="" height="448" src="https://i-blog.csdnimg.cn/blog_migrate/dc19303492aeec20c67b73945499f503.png" width="962"/>
    </p>
    <h4>
     13.使用渗透机场景 windows7 访问 http://靶机 IP/13，对该页面进行渗透
     <br/>
     测试,通过提示得到 Flag 并提交；
    </h4>
    <p style="margin-left:.0001pt;text-align:left;">
     F12查看源码
    </p>
    <p style="margin-left:.0001pt;text-align:left;">
     删掉disabled并将maxlength的值改为100然后根据提示输入zhimakaimen
    </p>
    <p style="margin-left:.0001pt;text-align:left;">
     <img alt="" height="238" src="https://i-blog.csdnimg.cn/blog_migrate/895dcc6bfe283d94157f4a944f820bb5.png" width="420"/>
    </p>
    <p style="margin-left:.0001pt;text-align:left;">
     又提示没有管理员权限
    </p>
    <p style="margin-left:.0001pt;text-align:left;">
     再次利用burpsuite，抓输入zhimakaimen的包
    </p>
    <p style="margin-left:.0001pt;text-align:left;">
     并将数据包发送到Repeater模块将login改为1后点击send发送数据包得到flag
    </p>
    <p>
     <img alt="" height="372" src="https://i-blog.csdnimg.cn/blog_migrate/4001e7151158fe4198dd4264aafac12f.png" width="553"/>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f666f726765745f6d742f:61727469636c652f64657461696c732f313232343130343830" class_="artid" style="display:none">
 </p>
</div>


