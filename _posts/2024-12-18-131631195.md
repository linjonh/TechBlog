---
layout: post
title: "Java-比对两张图片的差异"
date: 2024-12-18 10:18:33 +0800
description: "​Github上的“https://github.com/akullpp/awesome-java”"
keywords: "java 图片对比"
categories: ['未分类']
tags: ['陈冬冬', '图片对比', '个人博客', 'Www', 'Java']
artid: "131631195"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=131631195
  alt: "Java-比对两张图片的差异"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Java 比对两张图片的差异
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     <strong>
      1.基本介绍
     </strong>
    </p>
    <p>
     Github上的“
     <a href="https://github.com/akullpp/awesome-java" title="https://github.com/akullpp/awesome-java">
      https://github.com/akullpp/awesome-java
     </a>
     ”页整理了非常多的各类Java组件的实现，前面一篇从它的图片处理篇找到了《image-comparison》进行了动手实践，关于图片处理的二维码组件《ZXing》本站曾有实践；关于图片识别的组件《Tess4J》页略有实践；关于图片操作（放大、缩小、旋转、水印等）的《Thumbnailator》组件也略有实践，所以在看到了《image-comparison》这个时觉得挺有意思的，专门拿过来实践了一下，它可以
     <strong>
      比较 2 个相同大小的图像
     </strong>
     <strong>
      （图片大小必须一致）
     </strong>
     ，并通过绘制矩形直观地显示差异，图像的某些部分可以从比较中排除，可用于自动化质量保证测试，项目的官方地址为“
     <a href="https://github.com/romankh3/image-comparison" title="https://github.com/romankh3/image-comparison">
      https://github.com/romankh3/image-comparison
     </a>
     ”，更多描述和项目介绍可转至这里查看。
    </p>
    <p>
     <strong>
      <a id="index_22">
      </a>
      2.Github原图实践
     </strong>
    </p>
    <p>
     代码实践这块应用起来比较简单，直接借助于官网的图片进行运行输出，可以得到与官网一致的效果，详细如下文所示：
    </p>
    <p>
     <strong>
      参考代码
     </strong>
    </p>
    <pre><code class="language-java">/**
 * 图片比较演示 https://github.com/romankh3/image-comparison
 * 【Github官方图片，略有小改动】
 *
 * @author chendd
 * @date 2023/7/8 14:37
 */
public class GithubImageComparisonTest {

    public static void main(String[] args) {
        //加载图片
        BufferedImage expectedImage = ImageComparisonUtil.readImageFromResources("Expected.png");
        BufferedImage actualImage = ImageComparisonUtil.readImageFromResources("Actual.png");
        //对比两个图片
        ImageComparisonResult imageComparisonResult = new ImageComparison(expectedImage, actualImage).compareImages();
        String folder = ImageComparisonUtil.class.getClassLoader().getResource("").getPath();
        //存储图片和输出结果
        ImageComparisonUtil.saveImage(new File(folder , "Github图片对比结果.png") , imageComparisonResult.getResult());
        System.out.println("Github图片对比状态：" + imageComparisonResult.getImageComparisonState());
    }

}</code></pre>
<p>
</p>
<p>
<strong>
结果输出
</strong>
</p>
<p class="img-center">
<img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/5e331acf444fdc7589040b71db881db6.png"/>
</p>
<p>
（源图片）
</p>
<p class="img-center">
<img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/2994baf47b10cc647047ebef5e199dda.png"/>
</p>
<p>
（对比图片）
</p>
<p class="img-center">
<img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/2bb472855a87633f0b863d05e586d9ff.png"/>
</p>
<p>
（对比结果）
</p>
<p>
PS：对比结果的图片中两处红色细线边框就是程序执行后自动标记的。
</p>
<p>
<strong>
<a id="index_33">
</a> 3.自定义图片实践
</strong>
</p>
<p>
<strong>
参考代码
</strong>
</p>
<pre><code class="language-java">/\*\*

- 图片比较演示 https://github.com/romankh3/image-comparison
-
- @author chendd
- @date 2023/7/8 14:37
  \*/
  public class ImageComparisonTest {

      public static void main(String[] args) {
          //加载图片
          BufferedImage expectedImage = ImageComparisonUtil.readImageFromResources("图片1.png");
          BufferedImage actualImage = ImageComparisonUtil.readImageFromResources("图片2.png");
          //对比两个图片
          ImageComparisonResult imageComparisonResult = new ImageComparison(expectedImage, actualImage).compareImages();
          String folder = ImageComparisonUtil.class.getClassLoader().getResource("").getPath();
          //存储图片和输出结果
          ImageComparisonUtil.saveImage(new File(folder , "图片对比结果.png") , imageComparisonResult.getResult());
          System.out.println("图片对比状态：" + imageComparisonResult.getImageComparisonState());
      }

}</code></pre>
<p>
</p>
<p>
<strong>
结果输出
</strong>
</p>
<p class="img-center">
<img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/4e0e63a3f6b83abc5e09278e9f4e08f0.png"/>
</p>
<p>
（源图片）
</p>
<p class="img-center">
<img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/470a70fca6ff089d7ab51ff147b13e59.png"/>
</p>
<p>
（对比图片）
</p>
<p class="img-center">
<img alt="" src="https://i-blog.csdnimg.cn/blog_migrate/b4a661496e1bdc6fa4b27ae56b3739ab.png"/>
</p>
<p>
（对比结果）
</p>
<p>
PS：对比结果的图片中两处红色细线边框就是程序执行后自动标记的，第一处是第 11 行的蓝色背景类名称，截图时双击选中了类名称，导致有背景色；第二处是第 25 行，增加了一行的代码注释；
</p>
<p>
<strong>
<a id="index_44">
</a> 4.源码下载
</strong>
</p>
<p>
IDEA 源码工程 demo 下载见原文。
</p>
<p>
<a class="has-card" href="https://www.chendd.cn/blog/article/1678031638323060737.html" rel="nofollow" title="Java 比对两张图片的差异">
<span class="link-card-box">
<span class="link-title">
Java 比对两张图片的差异
</span>
<span class="link-desc">
欢迎来到陈冬冬的个人经验分享平台
</span>
<span class="link-link">
<img alt="" class="link-link-icon" src="https://i-blog.csdnimg.cn/blog_migrate/a3e4a424fa486ade5ddb9edbaf864b85.png">
https://www.chendd.cn/blog/article/1678031638323060737.html
</img>
</span>
</span>
</a>
</p>

   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f68616979616e67796962612f:61727469636c652f64657461696c732f313331363331313935" class_="artid" style="display:none">
 </p>
</div>
