---
layout: post
title: "在自己的服务器上搭建git仓库服务器本地推送到远程仓库远程仓库推送到本地"
date: 2025-01-02 08:30:00 +0800
description: "文章目录Git服务器一、安装Git二、配置Git1.创建Git用户2.仓库初始化三、使用仓库1.本地"
keywords: "git 分支推送仓库"
categories: ['']
tags: ['Svn', 'Jenkins', 'Git']
artid: "120596743"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=120596743
    alt: "在自己的服务器上搭建git仓库服务器本地推送到远程仓库远程仓库推送到本地"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     在自己的服务器上搭建git仓库服务器（本地推送到远程仓库、远程仓库推送到本地）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-tomorrow-night" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <div class="toc">
     <h4>
      文章目录
     </h4>
     <ul>
      <li>
       <a href="#Git_8" rel="nofollow">
        Git服务器
       </a>
      </li>
      <li>
       <a href="#Git_17" rel="nofollow">
        一、安装Git
       </a>
      </li>
      <li>
       <a href="#Git_34" rel="nofollow">
        二、配置Git
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#1Git_35" rel="nofollow">
          1.创建Git用户
         </a>
        </li>
        <li>
         <a href="#2_44" rel="nofollow">
          2.仓库初始化
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#_67" rel="nofollow">
        三、使用仓库
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#1_68" rel="nofollow">
          1.本地推送到远程仓库
         </a>
        </li>
        <li>
         <a href="#2_101" rel="nofollow">
          2.远程仓库推送到本地
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#_122" rel="nofollow">
        总结
       </a>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <hr color="#000000" size='1"'/>
    <h2>
     <a id="Git_8">
     </a>
     Git服务器
    </h2>
    <p>
     <font color="#999AAA">
      一般，我们编写项目，都会保留工程项目源代码。在“上个世纪”，一般使用U盘、硬盘等设备，进行备份，而现在，一般使用GitHub、Gitee等Git软件项目版本管理器。方便备份、管理工程版本。
      <br/>
      如果是个人项目，或者是小型团队项目，不希望放到GitHub、Gitee这样的公共仓库包管理而让别人看到你的“工程空间“，那么你可以试试自己搭建Git服务器。
     </font>
    </p>
    <hr color="#000000" size='1"'/>
    <h2>
     <a id="Git_17">
     </a>
     一、安装Git
    </h2>
    <p>
     <font color="#999AAA">
      连接到服务器，方法有很多，这里不再赘述。这里使用git bash连接。
      <br/>
      登录远程服务器
      <code>
       ssh root@服务器地址
      </code>
      <br/>
      然后输入密码登录，如下
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/e48bc83621eccff8540ee7302319d9c0.png">
       <br/>
       这个时候，安装git，在买的服务器的话，都会有软件安装包管理器。方便一点，你也可以直接使用git源码用gcc安装
       <br/>
       直接键入
       <code>
        sudo yum install git
       </code>
       或者
       <code>
        sudo apt-get install git
       </code>
       <br/>
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/11544a591b237847508a795a85cec7f5.png">
        <br/>
        安装之后，键入
        <code>
         git --version
        </code>
        即可看到效果：git 版本为 1.8.3.1
        <br/>
        <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/de78a9bca320fecdf4e5ec4b08236317.png"/>
       </img>
      </img>
     </font>
    </p>
    <h2>
     <a id="Git_34">
     </a>
     二、配置Git
    </h2>
    <h3>
     <a id="1Git_35">
     </a>
     1.创建Git用户
    </h3>
    <p>
     创建用户组
     <code>
      groupadd git
     </code>
     <br/>
     建立用户帐号（由于之前有，自动给我填上去了）
     <code>
      useradd git -g git
     </code>
     <br/>
     设置密码
     <code>
      passwd git
     </code>
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/f182fdac30c3e70e6b7a867622c971b9.png">
      <br/>
      <font color="#999AAA">
       创建完成后，进入/home目录，就可以看到新添加的git这个用户的文件夹了
       <br/>
       进入
       <code>
        cd /home
       </code>
       查看
       <code>
        ls
       </code>
       <br/>
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/c5006483b2c8dc44a0ccbad46a74d53e.png">
        <br/>
        到此，Git配置已经完成，接下来看看如何使用
       </img>
      </font>
     </img>
    </p>
    <h3>
     <a id="2_44">
     </a>
     2.仓库初始化
    </h3>
    <p>
     <font color="#999AAA">
      我们搭建好一个Git服务器后，需要初始化仓库
     </font>
    </p>
    <ul>
     <li>
      <strong>
       git init
      </strong>
      用于本地项目初始化
     </li>
     <li>
      <strong>
       git init –bare
      </strong>
      用于Git服务器项目初始化
     </li>
    </ul>
    <p>
     <font color="#999AAA">
      进入git目录内
      <br/>
      <code>
       cd /home/git/
      </code>
      <br/>
      创建一个mytelefilegit（名字随意）文件
      <br/>
      <code>
       mkdir mytelefile
      </code>
      <br/>
      修改文件归属者
      <br/>
      <code>
       chown git:git mytelefile/
      </code>
      <br/>
      进入刚创建的文件
      <br/>
      <code>
       cd mytelefile/
      </code>
      <br/>
      在此目录下初始化git仓库keelycenc（名字随意）.git
      <br/>
      <code>
       git init --bare keelycenc.git
      </code>
      <br/>
      修改仓库归属者
      <br/>
      <code>
       chown -R git:git keelycenc.git
      </code>
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/0b51acf0ee8d2bd30ec9c7f0c7f0020f.png">
       <br/>
       ls查看，出现.git项目文件夹，最后keelycenc仓库创建成功。
      </img>
     </font>
    </p>
    <h2>
     <a id="_67">
     </a>
     三、使用仓库
    </h2>
    <h3>
     <a id="1_68">
     </a>
     1.本地推送到远程仓库
    </h3>
    <p>
     <font color="#999AAA">
      本地也需要安装Git。这里不再赘述。
      <br/>
      这里也是使用git bash，在本地新建一个仓库
      <br/>
      <font color="#999AAA">
       我们搭建好一个Git服务器后，需要初始化仓库
      </font>
     </font>
    </p>
    <ul>
     <li>
      <strong>
       git init
      </strong>
      用于本地项目初始化
     </li>
     <li>
      <strong>
       git init –bare
      </strong>
      用于Git服务器项目初始化
     </li>
    </ul>
    <p>
     进入到需要创建仓库的文件目录下，这里以我的工作文件为例，
     <br/>
     <code>
      cd /K/CEN/21V2CC
     </code>
     <br/>
     初始化一个git仓库
     <br/>
     <code>
      git init
     </code>
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/5c23062c290df051422f5c724e88a544.png">
      <br/>
      <strong>
       初始化完成后，当前目录下出现.git隐藏文件
      </strong>
     </img>
    </p>
    <p>
     将所有文件添加到git暂存仓（. 表示所有）
     <br/>
     <code>
      git add .
     </code>
     <br/>
     提交文件到本地仓
     <br/>
     <code>
      git commit -m "备注信息"
     </code>
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/3b8c8cd058554cc0ecdf3b7ddd038da4.png"/>
     <br/>
     可以看到，执行完
     <code>
      git commit -m "备注信息
     </code>
     后，上面显示了所有已提交的文件，接下来就是连接到远程仓库
    </p>
    <pre><code>git remote add origin git@服务器IP:/home/git/mytelefile/keelycenc.git
</code></pre>
    <p>
     将项目推送到远程仓库
     <code>
      git push -u origin master
     </code>
     <br/>
     输入git用户密码，因为这里是以git用户登录服务器
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/94a80ba9d75e05a01828c98fe70c2939.png"/>
     <br/>
     推送完成。之后，你可以使用Git命令查看远程分支版本
     <code>
      git branch -a
     </code>
     <br/>
     git查看远程仓库地址命令：
     <code>
      git remote -v
     </code>
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/e506916d3bfa35f9089ea7431250a911.png"/>
    </p>
    <p>
     到此已经完成搭建自己的git仓库并推送。
    </p>
    <h3>
     <a id="2_101">
     </a>
     2.远程仓库推送到本地
    </h3>
    <p>
     <font color="#999AAA">
      当然创建git服务器可不只是从本地推送到远程而已，有时候也需要从远程git到本地，来看看怎么实现吧
      <br/>
      首项创建一个文件夹，等会用来放git过来的项目文件
     </font>
    </p>
    <ul>
     <li>
      <code>
       cd /k
      </code>
     </li>
     <li>
      <code>
       mkdir pagit
      </code>
     </li>
     <li>
      <code>
       cd pagit/
      </code>
     </li>
    </ul>
    <p>
     在K盘创建一个名为“pagit“”文件。进入当前目录后
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/7564c1c81ef316273b040397a764a4c4.png"/>
     <br/>
     键入命令，同步远程仓到本地
    </p>
    <pre><code>git clone git@服务器IP:/home/git/mytelefile/keelycenc.git
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/b3c82c6e8c715d8c1419a81c349ebe72.png"/>
     <br/>
     可以查看刚刚git过来的项目文件。至此，远程仓库同步到本地已完成。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/06476d2d9327f3b4e3380caabe2df77a.png"/>
    </p>
    <h2>
     <a id="_122">
     </a>
     总结
    </h2>
    <p>
     <font color="#999AAA">
      搭建Git服务器就是这么简单，非常适合个人开发者和小型团队嗷。甚至还可以创建SSH配对密钥添加到authorized_keys，用于免密推送和下载。
     </font>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f34373535333430332f:61727469636c652f64657461696c732f313230353936373433" class_="artid" style="display:none">
 </p>
</div>


