---
layout: post
title: "DeepSeek-R1-入门指南架构训练本地部署和硬件要求"
date: 2025-02-11 16:10:59 +0800
description: "DeepSeek-R1 不是一个单一的模型，而是一系列模型，包括：DeepSeek-R1-Zero "
keywords: "本地部署deepseek"
categories: ["未分类"]
tags: ["架构", "无人机", "大数据", "人工智能", "Python", "Microsoft"]
artid: "145400137"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=145400137
  alt: "DeepSeek-R1-入门指南架构训练本地部署和硬件要求"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     DeepSeek R1 入门指南：架构、训练、本地部署和硬件要求
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h4>
     <a id="DeepSeek__0">
     </a>
     DeepSeek 改进大型语言模型推理能力的新方法
    </h4>
    <p>
     DeepSeek 通过强化学习（RL）引入了一种创新方法，以提升大型语言模型（LLMs）的推理能力，这一方法在他们近期发布的论文《DeepSeek-R1》中有详细阐述。这项研究在通过纯强化学习而无需大量监督微调来增强 LLM 解决复杂问题的能力方面，代表了一个重要的进展。
    </p>
    <h3>
     <a id="DeepSeekR1__4">
     </a>
     DeepSeek-R1 的技术概述
    </h3>
    <h4>
     <a id="_7">
     </a>
     <strong>
      模型架构：
     </strong>
    </h4>
    <p>
     DeepSeek-R1 不是一个单一的模型，而是一系列模型，包括：DeepSeek-R1-Zero 和 DeepSeek-R1。
    </p>
    <p>
     让我说明一下 DeepSeek-R1 和 DeepSeek-R1-Zero 之间的关键区别：
    </p>
    <h4>
     <a id="_13">
     </a>
     <strong>
      主要区别
     </strong>
    </h4>
    <p>
     DeepSeek-R1-Zero 代表团队使用纯强化学习而不进行任何监督微调的初步实验。他们从基础模型开始，直接应用强化学习，让模型通过试错过程发展推理能力。虽然这种方法取得了令人印象深刻的结果（在 AIME 2024 上达到 71% 的准确率），但在可读性和语言一致性方面存在一些显著的限制。该模型拥有 6710 亿个参数，采用混合专家（MoE）架构，每个标记激活相当于 370 亿个参数。这个模型展现出了新兴的推理行为，如自我验证、反思和长链思维（CoT）推理。
    </p>
    <p>
     相比之下，DeepSeek-R1 使用了更复杂的多阶段训练方法。它不是纯粹依赖强化学习，而是在应用强化学习之前，首先在一小部分经过精心挑选的示例（称为“冷启动数据”）上进行监督微调。这种方法解决了 DeepSeek-R1-Zero 的局限性，同时实现了更好的性能。该模型同样保持了 6710 亿参数，但在响应的可读性和连贯性方面表现更佳。
    </p>
    <h4>
     <a id="_19">
     </a>
     <strong>
      训练过程比较
     </strong>
    </h4>
    <p>
     <strong>
      训练方法论：
     </strong>
    </p>
    <ul>
     <li>
      <p>
       <strong>
        强化学习（RL）：
       </strong>
       与主要依赖监督学习的传统模型不同，DeepSeek-R1 广泛使用 RL。训练利用群体相对策略优化（GRPO），专注于准确性和格式奖励，以在不需要大量标签数据的情况下增强推理能力。
      </p>
     </li>
     <li>
      <p>
       <strong>
        蒸馏技术：
       </strong>
       为了普及高性能模型的访问，DeepSeek 还发布了从 15 亿到 700 亿参数的 R1 蒸馏版本。这些模型基于 Qwen 和 Llama 等架构，表明复杂的推理能力可以被封装在更小、更高效的模型中。蒸馏过程包括使用由完整 DeepSeek-R1 生成的合成推理数据对这些较小的模型进行微调，从而在降低计算成本的同时保持高性能。
      </p>
     </li>
    </ul>
    <p>
     <strong>
      DeepSeek-R1-Zero 的训练过程非常简单：
     </strong>
    </p>
    <ol>
     <li>
      <p>
       从基础模型开始
      </p>
     </li>
     <li>
      <p>
       直接应用强化学习
      </p>
     </li>
     <li>
      <p>
       使用基于准确性和格式的简单奖励
      </p>
     </li>
    </ol>
    <p>
     <strong>
      DeepSeek-R1 的训练过程则包括四个不同阶段：
     </strong>
    </p>
    <ol>
     <li>
      <p>
       使用数千个高质量示例进行初始监督微调
      </p>
     </li>
     <li>
      <p>
       重点针对推理任务进行强化学习
      </p>
     </li>
     <li>
      <p>
       通过拒绝采样收集新的训练数据
      </p>
     </li>
     <li>
      <p>
       在所有类型的任务上进行最终的强化学习
      </p>
     </li>
    </ol>
    <p>
     <strong>
      性能指标：
     </strong>
    </p>
    <ul>
     <li>
      <p>
       <strong>
        推理基准测试：
       </strong>
       DeepSeek-R1 在各种基准测试中表现出色：
      </p>
     </li>
     <li>
      <p>
       <strong>
        AIME 2024：
       </strong>
       达到 79.8% 的通过率，相比之下，OpenAI 的 o1–1217 达到 79.2%。
      </p>
     </li>
     <li>
      <p>
       <strong>
        MATH-500：
       </strong>
       获得 97.3% 的高分，略高于 o1–1217 的 96.4%。
      </p>
     </li>
     <li>
      <p>
       <strong>
        SWE-bench Verified：
       </strong>
       在编程任务中表现优异，展示了其编程能力。
      </p>
     </li>
     <li>
      <p>
       <strong>
        成本效益：
       </strong>
       DeepSeek-R1 的 API 定价为每百万输入标记 0.14 美元，对于缓存命中，显著低于类似模型如 OpenAI 的 o1。
      </p>
     </li>
    </ul>
    <p>
     <strong>
      局限性与未来工作
     </strong>
    </p>
    <p>
     论文承认了几项需要改进的领域：
    </p>
    <ul>
     <li>
      <p>
       模型在需要特定输出格式的任务上有时会遇到困难
      </p>
     </li>
     <li>
      <p>
       在软件工程任务上的性能可以进一步提升
      </p>
     </li>
     <li>
      <p>
       在多语言环境中存在语言混合的挑战
      </p>
     </li>
     <li>
      <p>
       少样本提示（Few-shot prompting）会持续降低性能
      </p>
     </li>
    </ul>
    <p>
     未来的工作将重点解决这些限制，并扩展模型在函数调用、多轮交互和复杂角色扮演场景等方面的能力。
    </p>
    <h3>
     <a id="_78">
     </a>
     部署与可访问性
    </h3>
    <p>
     <strong>
      开源与许可：
     </strong>
     DeepSeek-R1 及其变体在 MIT 许可下发布，促进了开源合作和商业使用，包括模型蒸馏。此举对于促进创新和降低 AI 模型开发的门槛至关重要。
    </p>
    <p>
     <strong>
      模型格式：
     </strong>
     两种模型及其蒸馏版本均提供 GGML、GGUF、GPTQ 和 HF 等格式，允许灵活地在本地部署。
    </p>
    <h4>
     <a id="_DeepSeek__85">
     </a>
     <strong>
      通过 DeepSeek 聊天平台的网页访问
     </strong>
    </h4>
    <p>
     DeepSeek 聊天平台提供了一个用户友好的界面，可以无需任何设置即可与 DeepSeek-R1 互动。
    </p>
    <p>
     <strong>
      访问步骤：
     </strong>
    </p>
    <ul>
     <li>
      <p>
       访问 DeepSeek 聊天平台
      </p>
     </li>
     <li>
      <p>
       注册一个账号或登录已有账号
      </p>
     </li>
     <li>
      <p>
       登录后，选择“Deep Think”模式，体验 DeepSeek-R1 的逐步推理能力
      </p>
     </li>
    </ul>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/img_convert/b7c69eb0566ee95a649cbdd47daefd19.png"/>
    </p>
    <h4>
     <a id="_DeepSeek_API__102">
     </a>
     <strong>
      通过 DeepSeek API 访问
     </strong>
    </h4>
    <p>
     对于编程访问，DeepSeek 提供了与 OpenAI 格式兼容的 API，允许集成到各种应用中。
    </p>
    <p>
     <strong>
      使用 API 的步骤：
     </strong>
    </p>
    <p>
     a.
     <strong>
      获取 API 密钥：
     </strong>
    </p>
    <ul>
     <li>
      访问 DeepSeek API 平台创建账号并生成唯一的 API 密钥
     </li>
    </ul>
    <p>
     b.
     <strong>
      配置你的环境：
     </strong>
    </p>
    <ul>
     <li>
      <p>
       将 base_url 设置为 https://api.deepseek.com/v1
      </p>
     </li>
     <li>
      <p>
       使用你的 API 密钥进行认证，通常通过 HTTP 头中的 Bearer Token
      </p>
     </li>
    </ul>
    <p>
     c.
     <strong>
      进行 API 调用：
     </strong>
    </p>
    <ul>
     <li>
      <p>
       使用 API 发送提示并接收 DeepSeek-R1 的响应
      </p>
     </li>
     <li>
      <p>
       详细的文档和示例可在 DeepSeek API 文档中找到
      </p>
     </li>
    </ul>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/img_convert/673e84b4e201798da69e1306a642908d.png"/>
    </p>
    <h4>
     <a id="_DeepSeekR1_129">
     </a>
     <strong>
      在本地运行 DeepSeek-R1
     </strong>
    </h4>
    <p>
     <strong>
      两种模型（R1 和 R1-Zero）：
     </strong>
    </p>
    <ul>
     <li>
      <p>
       <strong>
        硬件要求：
       </strong>
       由于其庞大的规模，完整模型需要显著的硬件支持。推荐使用具有大量 VRAM（如 Nvidia RTX 3090 或更高）的 GPU。对于 CPU 使用，至少需要 48GB 的 RAM 和 250GB 的磁盘空间，尽管没有 GPU 加速，性能会较慢。
      </p>
     </li>
     <li>
      <p>
       <strong>
        蒸馏模型：
       </strong>
       为了在资源需求较低的硬件上进行本地部署，DeepSeek 提供了蒸馏版本。这些模型的参数范围从 15 亿到 700 亿，使其适合具有更为适度硬件的系统。例如，7B 模型可以在至少 12GB VRAM 的 GPU 或在 CPU 上以 GGML/GGUF 格式运行，所需 RAM 大约为 16GB。
      </p>
     </li>
    </ul>
    <p>
     <img alt="" src="https://i-blog.csdnimg.cn/img_convert/b62975bf7b9e9e195e27e1537c875c59.png"/>
    </p>
    <p>
     <strong>
      本地运行的软件工具：
     </strong>
    </p>
    <ul>
     <li>
      <p>
       <strong>
        Ollama
       </strong>
       ：你可以使用 Ollama 在本地提供模型服务：Ollama 是一个用于在你的机器上本地运行开源 AI 模型的工具。你可以在 Ollama 下载页面 下载它。
      </p>
      <p>
       接下来，你需要本地下载并运行 DeepSeek R1 模型。
      </p>
      <p>
       Ollama 提供了不同大小的模型——基本上，模型越大，AI 越聪明，但需要更好的 GPU。以下是模型系列：
      </p>
      <p>
       为了开始实验 DeepSeek-R1，建议从较小的模型开始，以熟悉设置并确保与你的硬件兼容。你可以通过打开终端并执行以下命令来启动这个过程：
      </p>
      <pre><code class="prism language-C">ollama run deepseek-r1:8b
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        1.5B 版本（最小）:
       </strong>
      </p>
      <p>
       <code>
        ollama run deepseek-r1:1.5b
       </code>
      </p>
     </li>
     <li>
      <p>
       <strong>
        8B 版本:
       </strong>
      </p>
      <p>
       <code>
        ollama run deepseek-r1:8b
       </code>
      </p>
     </li>
     <li>
      <p>
       <strong>
        14B 版本:
       </strong>
      </p>
      <p>
       <code>
        ollama run deepseek-r1:14b
       </code>
      </p>
     </li>
     <li>
      <p>
       <strong>
        32B 版本:
       </strong>
      </p>
      <p>
       <code>
        ollama run deepseek-r1:32b
       </code>
      </p>
     </li>
     <li>
      <p>
       <strong>
        70B 版本（最大/最智能）:
       </strong>
      </p>
      <p>
       <code>
        ollama run deepseek-r1:70b
       </code>
      </p>
     </li>
    </ul>
    <p>
     <strong>
      通过 Ollama 向本地下载的 DeepSeek-R1 发送请求：
     </strong>
    </p>
    <p>
     Ollama 提供了一个 API ，可以以编程方式与 DeepSeek-R1 互动。确保 Ollama 服务器在本地运行后再进行 API 请求。你可以通过运行以下命令启动服务器：
    </p>
    <pre><code class="prism language-C">ounter(line``ollama serve
</code></pre>
    <p>
     服务器启动后，你可以使用 curl 发送请求，如下所示：
    </p>
    <pre><code class="prism language-C">ounter(lineounter(lineounter(lineounter(lineounter(line``curl -X POST &lt;http://localhost:11434/api/generate&gt; -d '{`  `"model": "deepseek-r1",`  `"prompt": "你的问题或提示内容"``}'``   
</code></pre>
    <p>
     将“你的问题或提示内容”替换为你希望提供给模型的实际输入。该命令向本地 Ollama 服务器发送一个 POST 请求，服务器使用指定的 DeepSeek-R1 模型处理提示并返回生成的响应。
    </p>
    <p>
     <strong>
      本地运行/访问模型的其他方法包括：
     </strong>
    </p>
    <ul>
     <li>
      <p>
       <strong>
        vLLM/SGLang：
       </strong>
       用于本地提供模型。对于蒸馏版本，可以使用类似以下的命令：
      </p>
      <pre><code class="prism language-C">vllm serve deepseek-ai/DeepSeek-R1-Distill-Qwen-32B — tensor-parallel-size 2 — max-model-len 32768 — enforce-eager
</code></pre>
     </li>
     <li>
      <p>
       <strong>
        llama.cpp：
       </strong>
       你也可以使用 llama.cpp 在本地运行模型。
      </p>
     </li>
    </ul>
    <h3>
     <a id="_206">
     </a>
     <strong>
      结论
     </strong>
    </h3>
    <p>
     从 DeepSeek-R1-Zero 到 DeepSeek-R1 的这一进展，代表了研究中的重要学习历程。虽然 DeepSeek-R1-Zero 证明了纯强化学习的可行性，但 DeepSeek-R1 展示了将监督学习与强化学习相结合如何能够创建一个更强大且实用的模型。
    </p>
    <h3>
     <a id="_AI__212">
     </a>
     如何学习大模型 AI ？
    </h3>
    <p>
     由于新岗位的生产效率，要优于被取代岗位的生产效率，所以实际上整个社会的生产效率是提升的。
    </p>
    <p>
     但是具体到个人，只能说是：
    </p>
    <p>
     <strong>
      “最先掌握AI的人，将会比较晚掌握AI的人有竞争优势”。
     </strong>
    </p>
    <p>
     这句话，放在计算机、互联网、移动互联网的开局时期，都是一样的道理。
    </p>
    <p>
     我在一线互联网企业工作十余年里，指导过不少同行后辈。帮助很多人得到了学习和成长。
    </p>
    <p>
     我意识到有很多经验和知识值得分享给大家，也可以通过我们的能力和经验解答大家在人工智能学习中的很多困惑，所以在工作繁忙的情况下还是坚持各种整理和分享。但苦于知识传播途径有限，很多互联网行业朋友无法获得正确的资料得到学习提升，故此将并将重要的AI大模型资料包括AI大模型入门学习思维导图、精品AI大模型学习书籍手册、视频教程、实战学习等录播视频免费分享出来。
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/ff5d7fd5f46f5766762b23b1f9121454.png#pic_center"/>
    </p>
    <h3>
     <a id="10_230">
     </a>
     第一阶段（10天）：初阶应用
    </h3>
    <p>
     该阶段让大家对大模型 AI有一个最前沿的认识，对大模型 AI 的理解超过 95% 的人，可以在相关讨论时发表高级、不跟风、又接地气的见解，别人只会和 AI 聊天，而你能调教 AI，并能用代码将大模型和业务衔接。
    </p>
    <ul>
     <li>
      大模型 AI 能干什么？
     </li>
     <li>
      大模型是怎样获得「智能」的？
     </li>
     <li>
      用好 AI 的核心心法
     </li>
     <li>
      大模型应用业务架构
     </li>
     <li>
      大模型应用技术架构
     </li>
     <li>
      代码示例：向 GPT-3.5 灌入新知识
     </li>
     <li>
      提示工程的意义和核心思想
     </li>
     <li>
      Prompt 典型构成
     </li>
     <li>
      指令调优方法论
     </li>
     <li>
      思维链和思维树
     </li>
     <li>
      Prompt 攻击和防范
     </li>
     <li>
      …
     </li>
    </ul>
    <h3>
     <a id="30_251">
     </a>
     第二阶段（30天）：高阶应用
    </h3>
    <p>
     该阶段我们正式进入大模型 AI 进阶实战学习，学会构造私有知识库，扩展 AI 的能力。快速开发一个完整的基于 agent 对话机器人。掌握功能最强的大模型开发框架，抓住最新的技术进展，适合 Python 和 JavaScript 程序员。
    </p>
    <ul>
     <li>
      为什么要做 RAG
     </li>
     <li>
      搭建一个简单的 ChatPDF
     </li>
     <li>
      检索的基础概念
     </li>
     <li>
      什么是向量表示（Embeddings）
     </li>
     <li>
      向量数据库与向量检索
     </li>
     <li>
      基于向量检索的 RAG
     </li>
     <li>
      搭建 RAG 系统的扩展知识
     </li>
     <li>
      混合检索与 RAG-Fusion 简介
     </li>
     <li>
      向量模型本地部署
     </li>
     <li>
      …
     </li>
    </ul>
    <h3>
     <a id="30_267">
     </a>
     第三阶段（30天）：模型训练
    </h3>
    <p>
     恭喜你，如果学到这里，你基本可以找到一份大模型 AI相关的工作，自己也能训练 GPT 了！通过微调，训练自己的垂直大模型，能独立训练开源多模态大模型，掌握更多技术方案。
    </p>
    <p>
     到此为止，大概2个月的时间。你已经成为了一名“AI小子”。那么你还想往下探索吗？
    </p>
    <ul>
     <li>
      为什么要做 RAG
     </li>
     <li>
      什么是模型
     </li>
     <li>
      什么是模型训练
     </li>
     <li>
      求解器 &amp; 损失函数简介
     </li>
     <li>
      小实验2：手写一个简单的神经网络并训练它
     </li>
     <li>
      什么是训练/预训练/微调/轻量化微调
     </li>
     <li>
      Transformer结构简介
     </li>
     <li>
      轻量化微调
     </li>
     <li>
      实验数据集的构建
     </li>
     <li>
      …
     </li>
    </ul>
    <h3>
     <a id="20_285">
     </a>
     第四阶段（20天）：商业闭环
    </h3>
    <p>
     对全球大模型从性能、吞吐量、成本等方面有一定的认知，可以在云端和本地等多种环境下部署大模型，找到适合自己的项目/创业方向，做一名被 AI 武装的产品经理。
    </p>
    <ul>
     <li>
      硬件选型
     </li>
     <li>
      带你了解全球大模型
     </li>
     <li>
      使用国产大模型服务
     </li>
     <li>
      搭建 OpenAI 代理
     </li>
     <li>
      热身：基于阿里云 PAI 部署 Stable Diffusion
     </li>
     <li>
      在本地计算机运行大模型
     </li>
     <li>
      大模型的私有化部署
     </li>
     <li>
      基于 vLLM 部署大模型
     </li>
     <li>
      案例：如何优雅地在阿里云私有部署开源大模型
     </li>
     <li>
      部署一套开源 LLM 项目
     </li>
     <li>
      内容安全
     </li>
     <li>
      互联网信息服务算法备案
     </li>
     <li>
      …
     </li>
    </ul>
    <p>
     学习是一个过程，只要学习就会有挑战。天道酬勤，你越努力，就会成为越优秀的自己。
    </p>
    <p>
     如果你能在15天内完成所有的任务，那你堪称天才。然而，如果你能完成 60-70% 的内容，你就已经开始具备成为一名大模型 AI 的正确特征了。
    </p>
    <h6>
     <a id="httpsblogcsdnnetJavachichiarticledetails122513096spm1001201430015501httpsblogcsdnnetm0_57081622articledetails122378123spm1001201430015501_AI_CSDNCSDN100_309">
     </a>
     <a href="https://blog.csdn.net/Javachichi/article/details/122513096?spm=1001.2014.3001.5501">
     </a>
     <a href="https://blog.csdn.net/m0_57081622/article/details/122378123?spm=1001.2014.3001.5501">
     </a>
     这份完整版的大模型 AI 学习资料已经上传CSDN，朋友们如果需要可以微信扫描下方CSDN官方认证二维码免费领取【
     <code>
      保证100%免费
     </code>
     】
    </h6>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/00d50d26803d72e8d5d75a1905815354.png#pic_center"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="6874747073:3a2f2f626c6f672e6373646e2e6e65742f78785f6e6d39382f:61727469636c652f64657461696c732f313435343030313337" class_="artid" style="display:none">
 </p>
</div>
