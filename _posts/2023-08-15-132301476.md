---
layout: post
title: "微信小程序-js-时间戳与日期格式的转换"
date: 2023-08-15 17:28:45 +0800
description: "列举微信小程序如何利用js将时间戳转换为日期格式_微信小程序时间戳转日期"
keywords: "微信小程序时间戳转日期"
categories: ['时间戳与日期格式', '微信小程序', 'Js']
tags: ['微信小程序', '小程序', 'Javascript']
artid: "132301476"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=132301476
    alt: "微信小程序-js-时间戳与日期格式的转换"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     微信小程序-js-时间戳与日期格式的转换
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h4>
     一、
     <a href="https://so.csdn.net/so/search?q=%E6%97%B6%E9%97%B4%E6%88%B3%E8%BD%AC%E6%8D%A2&amp;spm=1001.2101.3001.7020" title="时间戳转换">
      时间戳转换
     </a>
     成日期格式
    </h4>
    <h5>
     1、代码片段
    </h5>
    <pre><code class="language-javascript">function timestampToTime(value, type = 0){
    var time = new Date(value);
    var year = time.getFullYear();
    var month = time.getMonth() + 1;
    var date = time.getDate();
    var hour = time.getHours();
    var minute = time.getMinutes();
    var second = time.getSeconds();
    month = month &lt; 10 ? "0" + month : month; 
    date = date &lt; 10 ? "0" + date : date; 
    hour = hour &lt; 10 ? "0" + hour : hour; 
    minute = minute &lt; 10 ? "0" + minute : minute; 
    second = second &lt; 10 ? "0" + second : second; 
    var arr = [ 
        year + "-" + month + "-" + date, 
        year + "-" + month + "-" + date + " " + hour + ":" + minute + ":" + second, 
        year + "年" + month + "月" + date, 
        year + "年" + month + "月" + date + " " + hour + ":" + minute + ":" + second, 
        hour + ":" + minute + ":" + second 
    ] 
    return arr[type]; 
} </code></pre>
    <blockquote>
     <p>
      使用方法:
     </p>
     <p>
      timestampToTime(1591841249)   //返回2020-06-11
     </p>
     <p>
      timestampToTime(1591841249,1) //返回 2020-06-11 10:10:10
     </p>
     <p>
      timestampToTime(1591841249,2)   //返回2020年06月11日
     </p>
    </blockquote>
    <h5>
     2、微信小程序中，时间戳转换成日期格式的具体步骤
    </h5>
    <h6>
     （1）在utils文件夹下创建一个 js文件，在此js文件中 export 上面的代码片段
    </h6>
    <p>
     <img alt="" height="565" src="https://i-blog.csdnimg.cn/blog_migrate/26704e665c4a6d04245fdfa3e904e198.png" width="876"/>
    </p>
    <h6>
     （2）在需要引入的页面的 js文件中引入，需要注意的是对应的方法名称和此应的文件路径
    </h6>
    <pre><code class="language-javascript"> import {timestampToTime} from "../../utils/common.js"</code></pre>
    <p>
     <img alt="" height="271" src="https://i-blog.csdnimg.cn/blog_migrate/47a3ea24deac1dced8309a0ef8f70413.png" width="866"/>
    </p>
    <h6>
     （3）在需要引入的页面的 js文件中使用此方法
    </h6>
    <pre><code class="language-javascript">success:(res)=&gt;{
      console.log(res);
      //遍历每一个对象
      res.data.data.forEach(item=&gt;{
       item.publish_date=timestampToTime(item.publish_date)
      })
      this.setData({
        newsARR:res.data.data
      })
    }</code></pre>
    <p>
     <img alt="" height="386" src="https://i-blog.csdnimg.cn/blog_migrate/0046be7e077ca99d3bb7b0486c8fe2b5.png" width="872"/>
    </p>
    <p>
    </p>
    <h4>
     二、
     <a href="https://so.csdn.net/so/search?q=%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2&amp;spm=1001.2101.3001.7020" title="日期格式转换">
      日期格式转换
     </a>
     成时间戳
    </h4>
    <pre><code class="language-javascript">var date = new Date("2022-12-04 17:15:53:555");
// 有三种方式获取
var time1 = date.getTime();
var time2 = date.valueOf();
var time3 = Date.parse(date);
console.log(time1); //1670145353555
console.log(time2); //1670145353555
console.log(time3); //1670145353000</code></pre>
    <p>
     <br/>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f35393533333734362f:61727469636c652f64657461696c732f313332333031343736" class_="artid" style="display:none">
 </p>
</div>


