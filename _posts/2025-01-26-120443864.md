---
layout: post
title: "nginx部署多个前端项目基于location配置"
date: 2025-01-26 21:59:11 +0800
description: "基于loaction配置；同端口，同域名，不同的前端项目目录；项目1： 放在/www/dist目录下"
keywords: "browserrouter 二级目录配置"
categories: ['Linux']
tags: ['Nginx']
artid: "120443864"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=120443864
    alt: "nginx部署多个前端项目基于location配置"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     nginx部署多个前端项目（基于location配置）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     基于loaction配置；同端口，同域名，不同的前端项目目录；
    </p>
    <p>
     项目1放在/www/dist目录下；
    </p>
    <p>
     项目2放在/www/dist2目录下；
    </p>
    <pre><code>server {
       listen 8888 default_server;   
       server_name localhost;
        location / {
            root /www/dist;
            index index.html;
        }
        location /edu {
            alias /www/dist2;
           index index.html;
        }
        location /vod {
            alias /www/dist;
            index index.html;
        }
    }    </code></pre>
    <p>
     location / 目录是root；其他的要使用alias；
    </p>
    <p>
     访问预览结果：
    </p>
    <p>
     <img alt="" height="189" src="https://i-blog.csdnimg.cn/blog_migrate/ab92e0bcffd2275a7da0ed0e1b1be77f.png" width="491"/>
    </p>
    <p>
     <img alt="" height="238" src="https://i-blog.csdnimg.cn/blog_migrate/5f639d7b6fc1176da5dd973ab51227aa.png" width="457"/>
    </p>
    <p>
     React项目配置时参考博客：
     <a href="https://blog.csdn.net/mollerlala/article/details/96427751" title="react-BrowserRouter-nginx-二级目录配置_mollerlala的博客-CSDN博客_nginx react 二级目录">
      react-BrowserRouter-nginx-二级目录配置_mollerlala的博客-CSDN博客_nginx react 二级目录
     </a>
    </p>
    <p>
     1）. 要在package.json中添加homepage属性;(绝对路径)
    </p>
    <p>
     <img alt="" height="267" src="https://i-blog.csdnimg.cn/blog_migrate/789f321a84b16743ace745a29b678646.png" width="499">
      ​
     </img>
    </p>
    <p>
     添加homepage属性后，在打包生成的index.html入口文件中，引入的静态资源文件会加上ip后面的内容；这里会在引入的资源链接前添加上/edu 前缀
    </p>
    <p>
     <img alt="" height="257" src="https://i-blog.csdnimg.cn/blog_migrate/0ba21480ff42169e26e69b98ae85bd5f.png" width="468"/>
    </p>
    <p>
     2）. 在 BrowserRouter/HashRouter 元素里面加basename属性；
    </p>
    <p>
     basename配置参考：
     <a href="https://reactrouter.com/web/api/BrowserRouter/basename-string" rel="nofollow" title="React Router: Declarative Routing for React.js">
      React Router: Declarative Routing for React.js
     </a>
    </p>
    <p>
     <img alt="" height="495" src="https://i-blog.csdnimg.cn/blog_migrate/7667f8dda162c0490468b755fc515be6.png" width="1200">
      ​
     </img>
    </p>
    <p>
     全文配置参考博客：
     <a href="https://www.cnblogs.com/zhaoxxnbsp/p/12691398.html" rel="nofollow" title="使用nginx部署多个前端项目 - 直角漫步 - 博客园">
      使用nginx部署多个前端项目 - 直角漫步 - 博客园
     </a>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e6373:646e2e6e65742f7a68616e6777656e3830393837373636352f:61727469636c652f64657461696c732f313230343433383634" class_="artid" style="display:none">
 </p>
</div>


