---
layout: post
title: "layui-支持搜索的树形组件eleTree实现"
date: 2023-04-28 10:31:48 +0800
description: "没有废话直接上效果图，如果符合需求就往下看吧。H5代码  <div class=\"layui-btn"
keywords: "layui,eleTree,树形结构"
categories: ['Web']
tags: ['树形组件', 'Tree', 'Layui', 'Eletree']
artid: "103035226"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=103035226
    alt: "layui-支持搜索的树形组件eleTree实现"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     layui 支持搜索的树形组件eleTree实现
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     没有废话直接上效果图，如果符合需求就往下看吧。
    </p>
    <p style="text-indent:33px;">
     <img alt="" class="has" height="376" src="https://i-blog.csdnimg.cn/blog_migrate/a5e8077991f4d099217dd674354c902c.png" width="653"/>
    </p>
    <p>
     H5代码
    </p>
    <pre class="has"><code class="language-html">  &lt;div class="layui-btn-container"&gt;
        &lt;button class="layui-btn layui-btn-sm"     id="getChecked" &gt;勾选指定节点&lt;/button&gt;
  &lt;/div&gt;

   &lt;input type="text" placeholder="请输入关键字进行搜索" autocomplete="off" class="layui-input eleTree-search" &gt;
   &lt;div class="eleTree ele6" lay-filter="data6" id="treeInfo"  &gt;&lt;/div&gt;
</code></pre>
    <p>
     js代码
    </p>
    <pre class="has"><code class="language-javascript">&lt;script&gt;

    layui.config({
        base: "/admin/lib/layui/lay/mymodules/"
    }).use(['eleTree' ], function(){
        var $ = layui.jquery;
        var eleTree = layui.eleTree;

        var data=[
            {
                "id": 1,
                "label": "dababase1",
                spread: false,
                "children": [
                    {
                        "id": 2,
                        "label": "table1",
                        //"disabled": true,
                        "children": [
                            {
                                "id": 3,
                                "label": "id"
                            },
                            {
                                "id": 4,
                                "label": "name"
                                //"checked": true
                            }
                        ]
                    },
                    {
                        "id": 22,
                        "label": "table2",
                        "children": [
                            {
                                "id": 23,
                                "label": "sex"
                            },
                            {
                                "id": 24,
                                "label": "age",
                                "checked": true
                            }
                        ]
                    }
                ]
            },
            {
                "id": 10,
                "label": "dababase2",
                "children": [
                    {
                        "id": 12,
                        "label": "table1",
                        "children": [
                            {
                                "id": 13,
                                "label": "status"
                            },
                            {
                                "id": 14,
                                "label": "id"
                            }
                        ]
                    }
                ]
            }
        ];

        $(".eleTree-search").keydown(function(){
            el6.search($(this).val());
        });
        $(".eleTree-search").keyup(function(){
            el6.search($(this).val());
        });

        var el6=eleTree.render({
            elem: '#treeInfo',
            data: data,
            id: 'demoId1',
            showCheckbox: true,
            defaultExpandAll: true,
            defaultCheckedKeys: [23,24],
            searchNodeMethod: function(value,data) {
                if (!value) return true;
                return data.label.indexOf(value) !== -1;
            }
        });

        //获取指定的选中信息
        $("#getChecked").click(function(){
            var checkedData = el6.getChecked(false,true); //获取选中节点的数据

            layer.alert(JSON.stringify(checkedData), {shade:0});
            console.log(checkedData);
        });


    });


&lt;/script&gt;</code></pre>
    <p>
     引入文件
    </p>
    <pre class="has"><code class="language-html"> &lt;link rel="stylesheet" href="/admin/lib/layui/css/eleTree.css"&gt;
&lt;script src="/admin/lib/layui/layui.js" charset="utf-8"&gt;&lt;/script&gt;</code></pre>
    <p>
     layui的样式部分结构图
    </p>
    <p>
     <img alt="" class="has" height="294" src="https://i-blog.csdnimg.cn/blog_migrate/2d9fd55d94c032b253b71a699bf2aac0.png" width="427"/>
    </p>
    <p>
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f:672e6373646e2e6e65742f5869616f646f6e6767653532312f:61727469636c652f64657461696c732f313033303335323236" class_="artid" style="display:none">
 </p>
</div>


