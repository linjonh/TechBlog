---
layout: post
title: "乐鑫ESP8266EX连接阿里云物联网套件指南"
date: 2025-01-14 15:01:05 +0800
description: "一、软硬件准备windows 环境用来编译&烧写&运行等操作的必须环境。ESP8266 设备    "
keywords: "乐鑫的wifi模块对接阿里云物联网教程"
categories: ['']
tags: ['无标签']
artid: "78979629"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=78979629
    alt: "乐鑫ESP8266EX连接阿里云物联网套件指南"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     乐鑫ESP8266EX连接阿里云物联网套件指南
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2>
     一、软硬件准备
    </h2>
    <ul>
     <li>
      <span style="">
      </span>
      <strong style="">
       windows 环境
      </strong>
      <br style=""/>
      <span style="">
       用来编译&amp;烧写&amp;运行等操作的必须环境。
      </span>
     </li>
     <li>
      <span style="">
       <strong style="">
        ESP8266 设备
       </strong>
       <br/>
      </span>
     </li>
    </ul>
    <p>
     <span style="">
      ESP8266 设备包括
     </span>
     <a href="http://espressif.com/zh-hans/products/hardware/esp8266ex/overview" rel="nofollow noopener noreferrer" style="" target="_blank">
      ESP8266 芯片
     </a>
     <span style="">
      ，
     </span>
     <a href="http://espressif.com/zh-hans/products/hardware/esp-wroom-02/overview" rel="nofollow noopener noreferrer" style="" target="_blank">
      ESP8266 模组 ESP-WROOM-02
     </a>
     <span style="">
      ，
     </span>
     <a href="http://espressif.com/zh-hans/products/hardware/development-boards" rel="nofollow noopener noreferrer" style="" target="_blank">
      ESP8266 开发板 ESP-Launcher
     </a>
     <span style="">
      等。如:
     </span>
    </p>
    <p>
     <span style="">
      <img alt="" src="https://img-blog.csdn.net/20180105115351901?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvamlhbjcyNA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast">
       <br/>
      </img>
     </span>
    </p>
    <h2>
     <span style="">
      二、阿里云物联网套件
     </span>
    </h2>
    <p>
     <span style="">
      <span style="">
       根据
      </span>
      <a href="https://github.com/aliyun/iotkit-embedded?spm=5176.doc42648.2.4.e9Zu05" rel="noopener noreferrer" style="" target="_blank">
       阿里官方文档
      </a>
      <span style="">
       ，在阿里云平台创建产品，创建设备，同时自动产生 product key, device name, device secret。
      </span>
      <br style=""/>
      <span style="">
       product key, device name, device secret 将在 5.1.1 节用到。
      </span>
     </span>
    </p>
    <h2>
     <span style="">
      三、环境搭建
     </span>
    </h2>
    <p>
     <span style="">
      <strong style="">
       如果您熟悉 ESP8266 开发环境，可以很顺利理解下面步骤; 如果您不熟悉某个部分，比如编译，烧录，需要您结合官方的相关文档来理解。如您需阅读
       <a href="http://espressif.com/zh-hans/support/download/overview" rel="nofollow noopener noreferrer" style="background-color:transparent; color:rgb(3,102,214); text-decoration:none" target="_blank">
        ESP8266 快速入门指南
       </a>
       文档等。
      </strong>
     </span>
    </p>
    <h4>
     <span style="">
      3.1编译器环境搭建
     </span>
    </h4>
    <p>
     <span style="">
      <span style="">
       下载
       <a href="https://www.virtualbox.org/wiki/Downloads" rel="nofollow noopener noreferrer" target="_blank">
        VirtualBox虚拟机
       </a>
       <span class="fontstyle0">
       </span>
       <br style=""/>
       下载包含有编译器
       <a href="http://downloads.espressif.com/FB/ESP8266_GCC.zip" rel="nofollow noopener noreferrer" target="_blank">
        ESP8266_lubuntu_20141021.ova
       </a>
      </span>
      <br style=""/>
      <span style="">
       根据官方的
      </span>
      <a href="http://espressif.com/zh-hans/support/download/documents?keys=&amp;field_type_tid%5B%5D=14" rel="nofollow noopener noreferrer" style="" target="_blank">
       ESP8266 SDK 入门指南
      </a>
      <span style="">
       中 3.3 节来获取编译器
      </span>
      <br/>
     </span>
    </p>
    <h4>
     <span style="">
      3.2烧录工具/下载工具获取
     </span>
    </h4>
    <p>
     <span style="">
      <span style="">
       烧录工具链接：
      </span>
      <a href="http://espressif.com/zh-hans/support/download/other-tools" rel="nofollow noopener noreferrer" style="" target="_blank">
       Flash 下载工具(ESP8266 &amp; ESP32)
      </a>
      <br style=""/>
      <span style="">
       烧录方式参考
      </span>
      <a href="http://espressif.com/zh-hans/support/download/documents?keys=&amp;field_type_tid%5B%5D=14" rel="nofollow noopener noreferrer" style="" target="_blank">
       ESP8266 SDK 入门指南
      </a>
      <span style="">
       中第六节下载固件
      </span>
     </span>
    </p>
    <h2>
     <span style="">
      四、SDK准备
     </span>
    </h2>
    <p>
     <span style="">
      通过以下两个连接获取完整的SDK
     </span>
    </p>
    <p>
     <span style="">
      <a href="https://github.com/espressif/esp8266-aliyun?spm=5176.doc42648.2.9.hGozJJ" rel="noopener noreferrer" target="_blank">
       ESP8266-aliyun
      </a>
     </span>
     <span style="color:#33CCFF">
      <a href="https://github.com/espressif/ESP8266_RTOS_SDK" rel="noopener noreferrer" target="_blank">
       和ESP8266_RTOS_SDK
      </a>
     </span>
    </p>
    <p>
     <span style="color:#33CCFF">
      <a href="https://github.com/espressif/ESP8266_RTOS_SDK" rel="noopener noreferrer" target="_blank">
      </a>
     </span>
    </p>
    <p style="">
     ESP8266-aliyun目录结构如下：
    </p>
    <pre style=""><code style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; padding:0px; margin:0px; background:transparent; word-break:normal; white-space:pre; border:0px; display:inline; overflow:visible; line-height:inherit; word-wrap:normal'>├── bin				  // 存放编译后生成的文件
├── esp8266-rtos-sdk		  // esp8266 rtos 核心组件
├── gen_misc.sh			  // 编译命令
├── include			  // 用户可用的头文件
|	├── aliyun_config.h	  // 配置连接阿里云相关参数
|	├── mqtt.h		  // 用户可用的 mqtt 接口
|	└── ota.h		  // 配置 OTA 相关参数
├── Makefile			  // 总编译入口 makefile
├── mqtt			  // mqtt 实现
├── ota				  // OTA 实现
├── platforms			  // 适配阿里物联网套件
|	├── aliyun			  
|	│   ├── IoT-SDK_V2.0  	  // 阿里物联网套件
|	│   ├── Makefile	  // 套件编译 makefile
|	│   └── platform     	  // 物联网套件平台适配
|	├── Makefile		  // 套件编译 makefile
|	└── README.md	  	  // 说明文档
├── README.md			  // 说明文档
└── user			  // 用户程序入口</code></pre>
    将下载的ESP8266_RTOS_SDK里面的文件复制到上目录中的esp8266-rtos-sdk文件夹当中。
    <br/>
    <h2>
     <span style="">
      五、编译&amp;烧写&amp;运行
     </span>
    </h2>
    <p>
     <span style="">
     </span>
    </p>
    <h3 style="">
     5.1 编译
     <span style="">
     </span>
    </h3>
    <h4 style="">
     <span style="font-size:18px">
      5.1.1 SDK 修改
     </span>
     <span style="">
     </span>
     <p style="">
      aliyun_config.h
     </p>
    </h4>
    <p>
    </p>
    <p>
     <span style="">
     </span>
    </p>
    <pre style=""><code style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; padding:0px; margin:0px; background:transparent; word-break:normal; white-space:pre; border:0px; display:inline; overflow:visible; line-height:inherit; word-wrap:normal'>#define PRODUCT_KEY             "********"  // type:string
#define DEVICE_NAME             "********"  // type:string
#define DEVICE_SECRET           "********"  // type:string
...
#define WIFI_SSID       "********"       // type:string, your AP/router SSID to config your device networking
#define WIFI_PASSWORD   "********"       // type:string, your AP/router password
</code></pre>
    <p>
    </p>
    <p style="">
     将第三节中阿里云平台产生的参数填充到 PRODUCT_KEY,DEVICE_NAME,DEVICE_SECRET
     <br style=""/>
     将你可用的热点/路由器用户名密码填充到 WIFI_SSID,WIFI_PASSWORD
    </p>
    <h4 style="">
     5.1.2 编译 SDK
    </h4>
    <pre style=""><code style='font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace; font-size:13.6px; padding:0px; margin:0px; background:transparent; word-break:normal; white-space:pre; border:0px; display:inline; overflow:visible; line-height:inherit; word-wrap:normal'>$ ./gen_misc.sh</code></pre>
    <span style="">
     编译完成后，将生成
    </span>
    <code style="">
     esp8266-aliyun/bin/upgrade/user1.2048.new.5.bin
    </code>
    <span style="">
     固件。
    </span>
    <p>
     <span style="">
      <span style="">
      </span>
     </span>
    </p>
    <h3 style="">
     <span style="font-size:24px">
      5.2 烧写/下载固件
     </span>
    </h3>
    <p>
    </p>
    <p style="">
     将 USB 线连接好 ESP8266 和 PC,确保下面烧写端口正确。烧写方法参考 3.2 节，烧写 bin 和烧写地址参考
     <span style="">
      <span style="">
      </span>
      <a href="http://espressif.com/zh-hans/support/download/documents?keys=&amp;field_type_tid%5B%5D=14" rel="nofollow noopener noreferrer" style="" target="_blank">
       ESP8266 SDK 入门指南
      </a>
      <span style="">
       中第四节。
      </span>
     </span>
    </p>
    <h3 style="">
     5.3 运行
    </h3>
    <span style="">
     打开串口工具（Serial Port Utility），连接，连接配置如下:
    </span>
    <br style=""/>
    <span style="">
     波特率: 74880
    </span>
    <br style=""/>
    <span style="">
     数据位: 8
    </span>
    <br style=""/>
    <span style="">
     停止位: 1
    </span>
    <br style=""/>
    <span style="">
     奇偶校验: None
    </span>
    <br style=""/>
    <span style="">
     流控: None
    </span>
    <br/>
   </div>
  </div>
 </article>
 <p alt="68747470:733a2f2f626c6f672e6373646e2e6e65742f6a69616e373234:2f61727469636c652f64657461696c732f3738393739363239" class_="artid" style="display:none">
 </p>
</div>


