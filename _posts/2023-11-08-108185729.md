---
layout: post
title: "树莓派连接阿里云物联网平台设备"
date: 2023-11-08 10:40:26 +0800
description: "文章知识大多来源于总结https://www.bilibili.com/video/BV1W7411"
keywords: "树莓派和阿里云平台连接"
categories: ['笔记']
tags: ['阿里云', 'Raspberry', 'Pi', 'Linux']
artid: "108185729"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=108185729
    alt: "树莓派连接阿里云物联网平台设备"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     树莓派连接阿里云物联网平台设备
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     文章知识大多来源于总结
     <a href="https://www.bilibili.com/video/BV1W7411t7Tv?t=19" rel="nofollow">
      https://www.bilibili.com/video/BV1W7411t7Tv?t=19
     </a>
     视频内容，非作者自创
    </p>
    <p>
     ESP8266坏了，手上有个同学的树莓派，也想上个云。折腾一下午，来个简单总结。
    </p>
    <h3>
     <a id="1_4">
     </a>
     1.创建阿里云设备
    </h3>
    <p>
     点击产品的快速入门，建立产品
     <br/>
     <img alt="1" src="https://i-blog.csdnimg.cn/blog_migrate/62fe240c5ff2c9325876c523b4519db0.png#pic_center">
      <br/>
      注册设备，进入下一步
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/97763effe3b51be0f09739392914fb7e.png#pic_center">
       <br/>
       选择nodejs,进入下一步
       <br/>
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/00e49717ca4570e833bd1340f8d00398.png#pic_center"/>
      </img>
     </img>
    </p>
    <h3>
     <a id="2Linux_12">
     </a>
     2.下载Linux工具包
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/0b9888d5bac326e8740835c8bc0452d2.png#pic_center">
      <br/>
      下载好后，是一个压缩包，保存在自己的Windows系统电脑上，需要将文件从Windows传输到树莓派上。
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/6440e4350803c620b62d0b7920ffb804.png#pic_center">
       <br/>
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/09cdeb58fcc3eacad38b46f78f846c53.png#pic_center"/>
      </img>
     </img>
    </p>
    <p>
     我是用Xshell与树莓派进行文件传输
     <br/>
     用Xshell连接上树莓派后，
     <br/>
     输入命令：
     <code>
      sudo apt-get install lrzsz
     </code>
     ，安装文件传输工具。
     <br/>
     再输入
     <code>
      rz
     </code>
     可以选择要上传的文件。
     <br/>
     输入
     <code>
      sz 文件名
     </code>
     可从树莓派上下载文件到Windows上。
    </p>
    <p>
     进入第四步，通过rz跳出的窗口选择文件上传好后，在对其进行解压。
     <br/>
     输入
     <code>
      unzip aliyun_iot_d_evice_quickstart.zip
     </code>
     ，解压文件。
     <br/>
     之后，如果树莓派上安装了最新的nodejs,则无需安装，直接cd进解压后的文件夹，输入
     <code>
      sudo bash start.sh
     </code>
     开始连接阿里云。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/1636215e19010cce317ede649382393c.png#pic_center">
      <br/>
      否则，需要下载安装最新版的nodejs安装进树莓派。
     </img>
    </p>
    <h3>
     <a id="3NodeJs_31">
     </a>
     3.安装NodeJs
    </h3>
    <p>
     通过输入
     <code>
      node -v
     </code>
     根据其返回的指令判断是否安装了。
     <br/>
     如果没有返回版本号，则没有安装，要安装最新的NodeJs,首先进入网址
     <code>
      https://nodejs.org/en/download/
     </code>
     ，获取最新版本的下载链接。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/fb8adbe75a820c26c958e262ae5337ba.png#pic_center">
      <br/>
      右击复制链接，即可获取连接地址。
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/7f02d6f084890a4d81adb1517d2aecf3.png#pic_center"/>
     </img>
    </p>
    <p>
     在家路径下，用wget命令下载：输入
     <code>
      wget https://nodejs.org/dist/v12.18.3/node-v12.18.3-linux-armv7l.tar.xz
     </code>
     ，开始下载。
     <br/>
     之后解压，输入
     <code>
      tar -xvf node-v12.18.3-linux-armv7l.tar.xz
     </code>
     进行解压。
     <br/>
     将解压文件复制到指定位置：
     <code>
      sudo mv ./node-v12.18.3-linux-armv7l /usr/local/node
     </code>
     。
     <br/>
     之后为 node 和 npm 创建软连接：
    </p>
    <pre><code class="prism language-powershell">sudo ln <span class="token operator">-</span>s <span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>node<span class="token operator">/</span>bin<span class="token operator">/</span>node <span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>node
sudo ln <span class="token operator">-</span>s <span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>node<span class="token operator">/</span>bin<span class="token operator">/</span>npm <span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>npm
（注意是usr<span class="token punctuation">,</span>不是user）
</code></pre>
    <p>
     这样就安装NodeJs完成了，可以通过
     <code>
      node -v
     </code>
     和
     <code>
      npm -v
     </code>
     ,两个指令查询。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/332e60eb72279e86a2be005e2eee2ea5.png#pic_center"/>
    </p>
    <h3>
     <a id="4_51">
     </a>
     4.连接阿里云平台设备
    </h3>
    <p>
     这一切之后，cd进从阿里云下载的文件后，输入指令
     <code>
      sudo bash start.sh
     </code>
     就可以开始连接阿里云。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/6ce686e39d8fd76a71608d84647a4f37.png#pic_center"/>
     <br/>
     看到，Successfully就代表你成功了，这样在设备界面就可以看到上线了。
    </p>
    <p>
     知识点补充：
     <br/>
     1.Linux文件夹的复制、删除
     <br/>
     （1）复制文件夹：
    </p>
    <pre><code class="prism language-powershell">sudo <span class="token function">cp</span> <span class="token operator">-</span>r  <span class="token operator">/</span>想要复制的文件地址<span class="token operator">/</span>文件名 目的文件地址
</code></pre>
    <p>
     （2）删除：
    </p>
    <p>
     删除指定位置的文件夹： 该指定会删除文件夹以及它里面的所有文件
    </p>
    <pre><code class="prism language-powershell"><span class="token function">rm</span> <span class="token operator">-</span>rf 想要删除的文件夹地址<span class="token operator">/</span>文件夹名称
</code></pre>
    <p>
     删除制定位置的文件：
    </p>
    <pre><code class="prism language-powershell"><span class="token function">rm</span> <span class="token operator">-</span>f 想要删除的文件夹地址<span class="token operator">/</span>文件夹名称<span class="token punctuation">.</span>文件后缀
</code></pre>
    <p>
     2.Linux上进入到了nano编辑文本
     <br/>
     <code>
      Ctrl+x
     </code>
     退出
     <br/>
     <code>
      Ctrl+o
     </code>
     保存退出，写好文件名
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f34343033363634352f:61727469636c652f64657461696c732f313038313835373239" class_="artid" style="display:none">
 </p>
</div>


