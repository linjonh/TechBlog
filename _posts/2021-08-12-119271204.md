---
layout: post
title: "h3c服务器设置u盘引导,44-U盘启动"
date: 2021-08-12 16:53:48 +0800
description: "1U盘零配置启动设备初始安装时通常需要预先进行配置才能上线。传统上此项业务主要交由实施人员手工进行配"
keywords: "h3c服务器u盘启动"
categories: ['']
tags: ['H']
artid: "119271204"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=119271204
    alt: "h3c服务器设置u盘引导,44-U盘启动"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     h3c服务器设置u盘引导,44-U盘启动
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <div style="font-size:16px;">
     <p>
      1U盘零配置启动
     </p>
     <p>
      设备初始安装时通常需要预先进行配置才能上线。传统上此项业务主要交由实施人员手工进行配置。但此种上线模式主要适合小规模安装，并容忍一定的人为出错几率。而对于较大型的项目，需要实施的网点多，手工配置的方式则较为费时费力，安装和实施成本较高。因此需要支持通过U盘进行零配置上线的方案。
     </p>
     <p>
      具体流程如下：
     </p>
     <p>
      (1)     设备在启动过程中判断U盘根目录是否有文件名为“ausbsetup.tst”的文件，有表示该盘是零配置启动盘，没有则表示该盘非零配置启动盘；
     </p>
     <p>
      (2)     当确认是零配置启动盘之后，需要设备根据自己的硬件序列号，查找该零配置启动盘上是否有按照自己硬件序列号命名的文件夹；
     </p>
     <p>
      (3)     如果有以自己硬件序列号命名的文件夹，则读取改文件夹下的version文件，从中获取需要升级的版本号和需要升级的bin文件；
     </p>
     <p>
      (4)     通过设备上运行的版本号读取到的版本号判断是否需要升级，版本号相同则不需要升级，版本号不同则需要升级；
     </p>
     <p>
      (5)     根据需要升级的bin文件名到U盘跟目录下的version文件夹中获取需要升级的bin文件，获取到bin文件后开始正常的升级流程；
     </p>
     <p>
      (6)     设备版本升级完成之后继续执行配置的导入，将与设备序列号一致的文件夹中名为startup-config-u.cfg的文件作为设备启动后默认运行的配置导入到设备中；为了配置的安全性考虑，配置文件是经过加密处理的，具体的加密方式是将文件内容以字节为单位进行高低位互换已达到加密的目的；
     </p>
     <p>
      (7)     目前设备还是支持备份配置的导入，其在设备序列号命名的文件加下，有一个backup-conf命名的文件夹，里面存放是设备备份配置信息，设备在零启动过程中可以将其作为备份配置信息导入，最多可以导入三份备份文件；
     </p>
     <p>
      (8)     U盘零配置启动完成，需要在设备序列号命名的文件夹下创建一个名finish.txt的文件，以便标志本次零配置启动完成，从而避免了设备反复运行零启动过程。
     </p>
    </div>
   </div>
  </div>
  <div id="recommendDown">
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f33333238323134362f:61727469636c652f64657461696c732f313139323731323034" class_="artid" style="display:none">
 </p>
</div>


