---
layout: post
title: æ¯•ä¸šè®¾è®¡-pythonå°æ¸¸æˆè®¾è®¡-èµ°è¿·å®«æ¸¸æˆè®¾è®¡ä¸å®ç°
date: 2022-09-21 09:56:53 +0800
description: æ–‡ç« æµè§ˆé˜…è¯»8.4kæ¬¡ï¼Œç‚¹èµ9æ¬¡ï¼Œæ”¶è—178æ¬¡ã€‚ğŸ”¥ è¿™ä¸¤å¹´å¼€å§‹æ¯•ä¸šè®¾è®¡å’Œæ¯•ä¸šç­”è¾©çš„è¦æ±‚å’Œéš¾åº¦ä¸æ–­æå‡
keywords: æ¯•ä¸šè®¾è®¡æ¸¸æˆè®¾è®¡é¢˜ç›®
categories: ['è®¡ç®—æœºä¸“ä¸š', 'æ¯•è®¾é€‰é¢˜', 'æ¯•ä¸šè®¾è®¡ç³»åˆ—']
tags: ['èµ°è¿·å®«æ¸¸æˆè®¾è®¡', 'æ¸¸æˆ', 'æ¯•ä¸šè®¾è®¡', 'Python', 'Pygame']
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=126966726
    alt: æ¯•ä¸šè®¾è®¡-pythonå°æ¸¸æˆè®¾è®¡-èµ°è¿·å®«æ¸¸æˆè®¾è®¡ä¸å®ç°
artid: 126966726
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     ã€æ¯•ä¸šè®¾è®¡ã€‘ pythonå°æ¸¸æˆè®¾è®¡ - èµ°è¿·å®«æ¸¸æˆè®¾è®¡ä¸å®ç°
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <div class="toc">
     <h4>
      æ–‡ç« ç›®å½•
     </h4>
     <ul>
      <li>
       <a href="#0__3" rel="nofollow">
        0 å‰è¨€
       </a>
      </li>
      <li>
       <a href="#1__23" rel="nofollow">
        1 è¯¾é¢˜èƒŒæ™¯
       </a>
      </li>
      <li>
       <a href="#2__31" rel="nofollow">
        2 å®ç°æ•ˆæœ
       </a>
      </li>
      <li>
       <a href="#3_Pygame_42" rel="nofollow">
        3 Pygameä»‹ç»
       </a>
      </li>
      <li>
       <a href="#4__101" rel="nofollow">
        4 å…·ä½“å®ç°
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#41__103" rel="nofollow">
          4.1 åˆ›å»ºè¿·å®«
         </a>
        </li>
        <li>
         <a href="#42__196" rel="nofollow">
          4.2 å®šä¹‰è§’è‰²ç±»
         </a>
        </li>
        <li>
         <a href="#43__266" rel="nofollow">
          4.3 ç•Œé¢åˆ‡æ¢
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#5__345" rel="nofollow">
        5 æœ€å
       </a>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <hr color="#000000" size='1"'/>
    <h2>
     <a id="0__3">
     </a>
     0 å‰è¨€
    </h2>
    <p>
     ğŸ”¥ è¿™ä¸¤å¹´å¼€å§‹æ¯•ä¸šè®¾è®¡å’Œæ¯•ä¸šç­”è¾©çš„è¦æ±‚å’Œéš¾åº¦ä¸æ–­æå‡ï¼Œä¼ ç»Ÿçš„æ¯•è®¾é¢˜ç›®ç¼ºå°‘åˆ›æ–°å’Œäº®ç‚¹ï¼Œå¾€å¾€è¾¾ä¸åˆ°æ¯•ä¸šç­”è¾©çš„è¦æ±‚ï¼Œè¿™ä¸¤å¹´ä¸æ–­æœ‰å­¦å¼Ÿå­¦å¦¹å‘Šè¯‰å­¦é•¿è‡ªå·±åšçš„é¡¹ç›®ç³»ç»Ÿè¾¾ä¸åˆ°è€å¸ˆçš„è¦æ±‚ã€‚
    </p>
    <p>
     ä¸ºäº†å¤§å®¶èƒ½å¤Ÿé¡ºåˆ©ä»¥åŠæœ€å°‘çš„ç²¾åŠ›é€šè¿‡æ¯•è®¾ï¼Œå­¦é•¿åˆ†äº«ä¼˜è´¨æ¯•ä¸šè®¾è®¡é¡¹ç›®ï¼Œä»Šå¤©è¦åˆ†äº«çš„æ˜¯
    </p>
    <p>
     ğŸš©
     <strong>
      åŸºäºpythonçš„èµ°è¿·å®«æ¸¸æˆè®¾è®¡ä¸å®ç°
     </strong>
    </p>
    <p>
     ğŸ¥‡å­¦é•¿è¿™é‡Œç»™ä¸€ä¸ªé¢˜ç›®ç»¼åˆè¯„åˆ†(æ¯é¡¹æ»¡åˆ†5åˆ†)
    </p>
    <ul>
     <li>
      éš¾åº¦ç³»æ•°ï¼š3åˆ†
     </li>
     <li>
      å·¥ä½œé‡ï¼š3åˆ†
     </li>
     <li>
      åˆ›æ–°ç‚¹ï¼š3åˆ†
     </li>
    </ul>
    <p>
     ğŸ§¿
     <strong>
      é€‰é¢˜æŒ‡å¯¼, é¡¹ç›®åˆ†äº«ï¼š
     </strong>
    </p>
    <p>
     <a href="https://gitee.com/dancheng-senior/project-sharing-1/blob/master/%E6%AF%95%E8%AE%BE%E6%8C%87%E5%AF%BC/README.md" rel="nofollow">
      https://gitee.com/dancheng-senior/project-sharing-1/blob/master/%E6%AF%95%E8%AE%BE%E6%8C%87%E5%AF%BC/README.md
     </a>
    </p>
    <h2>
     <a id="1__23">
     </a>
     1 è¯¾é¢˜èƒŒæ™¯
    </h2>
    <p>
     äººç±»å»ºé€ è¿·å®«å·²æœ‰5000å¹´çš„å†å²ã€‚åœ¨ä¸–ç•Œçš„ä¸åŒæ–‡åŒ–å‘å±•æ—¶æœŸï¼Œè¿™äº›å¥‡ç‰¹çš„å»ºç­‘ç‰©å§‹ç»ˆå¸å¼•äººä»¬æ²¿ç€å¼¯å¼¯æ›²æ›²ã€å›°éš¾é‡é‡çš„å°è·¯åƒåŠ›åœ°è¡Œèµ°ï¼Œå¯»æ‰¾çœŸç›¸ã€‚è¿·å®«ç±»å°æ¸¸æˆåº”è¿è€Œç”Ÿã€‚
    </p>
    <p>
     ä»Šå¤©æˆ‘ä»¬ç”¨pygameåšä¸€ä¸ªèµ°è¿·å®«å°æ¸¸æˆï¼Œæ¸¸æˆè§„åˆ™å¦‚ä¸‹ï¼š
    </p>
    <p>
     ç©å®¶é€šè¿‡â†‘â†“â†â†’é”®æ§åˆ¶ä¸»è§’è¡ŒåŠ¨ï¼Œä½¿ä¸»è§’ä»å‡ºå‘ç‚¹(å·¦ä¸Šè§’)ç»•å‡ºè¿·å®«ï¼Œåˆ°è¾¾ç»ˆç‚¹(å³ä¸‹è§’)å³ä¸ºæ¸¸æˆèƒœåˆ©ã€‚
    </p>
    <h2>
     <a id="2__31">
     </a>
     2 å®ç°æ•ˆæœ
    </h2>
    <p>
     <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://i-blog.csdnimg.cn/blog_migrate/2766045271564c94a905c9ca3762b381.png#pic_center" width="600"/>
    </p>
    <p>
     <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://i-blog.csdnimg.cn/blog_migrate/83002fc19f354179720559c0c1e798fc.png#pic_center" width="600"/>
    </p>
    <p>
     <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://i-blog.csdnimg.cn/blog_migrate/05820d794c2f528115a8a97eec441a47.png#pic_center" width="600"/>
    </p>
    <h2>
     <a id="3_Pygame_42">
     </a>
     3 Pygameä»‹ç»
    </h2>
    <p>
     <strong>
      ç®€ä»‹
     </strong>
    </p>
    <p>
     Pygameæ˜¯ä¸€ç³»åˆ—ä¸“é—¨ä¸ºç¼–å†™ç”µå­æ¸¸æˆè€Œè®¾è®¡çš„Pythonæ¨¡å—(modules)ã€‚Pygameåœ¨å·²ç»éå¸¸ä¼˜ç§€çš„SDLåº“çš„åŸºç¡€ä¸Šå¢åŠ äº†è®¸å¤šåŠŸèƒ½ã€‚è¿™è®©ä½ èƒ½å¤Ÿç”¨Pythonè¯­è¨€ç¼–å†™å‡ºä¸°å¯Œå¤šå½©çš„æ¸¸æˆç¨‹åºã€‚
    </p>
    <p>
     Pygameå¯ç§»æ¤æ€§é«˜ï¼Œå‡ ä¹èƒ½åœ¨ä»»ä½•å¹³å°å’Œæ“ä½œç³»ç»Ÿä¸Šè¿è¡Œã€‚
    </p>
    <p>
     Pygameå·²ç»è¢«ä¸‹è½½è¿‡æ•°ç™¾ä¸‡æ¬¡ã€‚
    </p>
    <p>
     Pygameå…è´¹å¼€æºã€‚å®ƒåœ¨LGPLè®¸å¯è¯(Lesser General Public Licenseï¼ŒGNUå®½é€šç”¨å…¬å…±è®¸å¯è¯)ä¸‹å‘è¡Œã€‚ä½¿ç”¨Pygameï¼Œä½ å¯ä»¥åˆ›é€ å‡ºå…è´¹å¼€æºï¼Œå¯å…±äº«ï¼Œæˆ–è€…å•†ä¸šåŒ–çš„æ¸¸æˆã€‚è¯¦æƒ…è¯·è§LGPLè®¸å¯è¯ã€‚
    </p>
    <p>
     <strong>
      ä¼˜ç‚¹
     </strong>
    </p>
    <ul>
     <li>
      <p>
       èƒ½å¤Ÿè½»æ¾ä½¿ç”¨å¤šæ ¸CPU(multi core CPUs) :å¦‚ä»ŠåŒæ ¸CPUå¾ˆå¸¸ç”¨ï¼Œ8æ ¸CPUåœ¨æ¡Œé¢ç³»ç»Ÿä¸­ä¹Ÿå¾ˆä¾¿å®œï¼Œè€Œåˆ©ç”¨å¥½å¤šæ ¸ç³»ç»Ÿï¼Œèƒ½è®©ä½ åœ¨ä½ çš„æ¸¸æˆä¸­å®ç°æ›´å¤šä¸œè¥¿ã€‚ç‰¹å®šçš„pygameå‡½æ•°èƒ½å¤Ÿé‡Šæ”¾ä»¤äººç”Ÿç•çš„python GIL(å…¨å±€è§£é‡Šå™¨é”),è¿™å‡ ä¹æ˜¯ä½ ç”¨Cè¯­è¨€æ‰èƒ½åšçš„äº‹ã€‚
      </p>
     </li>
     <li>
      <p>
       æ ¸å¿ƒå‡½æ•°ç”¨æœ€ä¼˜åŒ–çš„Cè¯­è¨€æˆ–æ±‡ç¼–è¯­è¨€ç¼–å†™:Cè¯­è¨€ä»£ç é€šå¸¸æ¯”Pythonä»£ç è¿è¡Œé€Ÿåº¦å¿«10-20å€ã€‚è€Œæ±‡ç¼–è¯­è¨€ç¼–å†™çš„ä»£ç (assembly code)æ¯”Pythonç”šè‡³å¿«åˆ°100å¤šå€ã€‚
      </p>
     </li>
     <li>
      <p>
       å®‰è£…ä¾¿æ·:ä¸€èˆ¬ä»…éœ€åŒ…ç®¡ç†ç¨‹åºæˆ–äºŒè¿›åˆ¶ç³»ç»Ÿç¨‹åºä¾¿èƒ½å®‰è£…ã€‚
      </p>
     </li>
     <li>
      <p>
       çœŸæ­£åœ°å¯ç§»æ¤:æ”¯æŒLinux (ä¸»è¦å‘è¡Œç‰ˆ), Windows (95, 98, ME, 2000, XP, Vista, 64-bit Windows,), Windows CE, BeOS, MacOS, Mac OS X, FreeBSD, NetBSD, OpenBSD, BSD/OS, Solaris, IRIX, and QNXç­‰æ“ä½œç³»ç»Ÿ.ä¹Ÿèƒ½æ”¯æŒAmigaOS, Dreamcast, Atari, AIX, OSF/Tru64, RISC OS, SymbianOS and OS/2ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å—åˆ°å®˜æ–¹è®¤å¯ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨æ‰‹æŒè®¾å¤‡,æ¸¸æˆæ§åˆ¶å°ï¼Œ One Laptop Per Child (OLPC) computeré¡¹ç›®çš„ç”µè„‘ç­‰è®¾å¤‡ä¸­ä½¿ç”¨pygame.
      </p>
     </li>
     <li>
      <p>
       ç”¨æ³•ç®€å•:æ— è®ºæ˜¯å°å­©å­è¿˜æ˜¯å¤§äººéƒ½èƒ½å­¦ä¼šç”¨pygameæ¥åˆ¶ä½œå°„å‡»ç±»æ¸¸æˆã€‚
      </p>
     </li>
     <li>
      <p>
       å¾ˆå¤šPygameæ¸¸æˆå·²å‘è¡Œ:å…¶ä¸­åŒ…æ‹¬å¾ˆå¤šæ¸¸æˆå¤§èµ›å…¥å›´ä½œå“ã€éå¸¸å—æ¬¢è¿çš„å¼€æºå¯åˆ†äº«çš„æ¸¸æˆã€‚
      </p>
     </li>
     <li>
      <p>
       ç”±ä½ æ¥æ§åˆ¶ä¸»å¾ªç¯:ç”±ä½ æ¥è°ƒç”¨pygameçš„å‡½æ•°ï¼Œpygameçš„å‡½æ•°å¹¶ä¸éœ€è¦è°ƒç”¨ä½ çš„å‡½æ•°ã€‚å½“ä½ åŒæ—¶è¿˜åœ¨ä½¿ç”¨å…¶ä»–åº“æ¥ç¼–å†™å„ç§å„ç§çš„ç¨‹åºæ—¶ï¼Œè¿™èƒ½å¤Ÿä¸ºä½ æä¾›æå¤§çš„æŒæ§æƒã€‚
      </p>
     </li>
     <li>
      <p>
       ä¸éœ€è¦GUIå°±èƒ½ä½¿ç”¨æ‰€æœ‰å‡½æ•°:ä»…åœ¨å‘½ä»¤è¡Œä¸­ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨pygameçš„æŸäº›å‡½æ•°æ¥å¤„ç†å›¾ç‰‡ï¼Œè·å–æ¸¸æˆæ†è¾“å…¥ï¼Œæ’­æ”¾éŸ³ä¹â€¦â€¦
      </p>
     </li>
     <li>
      <p>
       å¯¹bugååº”è¿…é€Ÿ:å¾ˆå¤šbugåœ¨è¢«ä¸ŠæŠ¥çš„1å°æ—¶å†…å°±èƒ½è¢«æˆ‘ä»¬ä¿®å¤ã€‚è™½ç„¶æœ‰æ—¶å€™æˆ‘ä»¬ç¡®å®ä¼šå¡åœ¨æŸä¸€ä¸ªbugä¸Šå¾ˆä¹…ï¼Œä½†å¤§å¤šæ•°æ—¶å€™æˆ‘ä»¬éƒ½æ˜¯å¾ˆä¸é”™çš„bugä¿®å¤è€…ã€‚å¦‚ä»Šbugçš„ä¸ŠæŠ¥å·²ç»å¾ˆå°‘äº†ï¼Œå› ä¸ºè®¸å¤šbugæ—©å·²è¢«æˆ‘ä»¬ä¿®å¤ã€‚
      </p>
     </li>
     <li>
      <p>
       ä»£ç é‡å°‘:pygameå¹¶æ²¡æœ‰æ•°ä»¥ä¸‡è®¡çš„ä¹Ÿè®¸ä½ æ°¸è¿œç”¨ä¸åˆ°çš„å†—æ‚ä»£ç ã€‚pygameçš„æ ¸å¿ƒä»£ç ä¸€ç›´ä¿æŒç€ç®€æ´ç‰¹ç‚¹ï¼Œå…¶ä»–é™„åŠ ç‰©è¯¸å¦‚GUIåº“ç­‰ï¼Œéƒ½æ˜¯åœ¨æ ¸å¿ƒä»£ç ä¹‹å¤–å•ç‹¬è®¾è®¡ç ”å‘çš„ã€‚
      </p>
     </li>
     <li>
      <p>
       æ¨¡å—åŒ–:ä½ å¯ä»¥å•ç‹¬ä½¿ç”¨pygameçš„æŸä¸ªæ¨¡å—ã€‚æƒ³è¦æ¢ç€ä½¿ç”¨ä¸€ä¸ªåˆ«çš„å£°éŸ³å¤„ç†åº“ï¼Ÿæ²¡é—®é¢˜ã€‚pygameçš„å¾ˆå¤šæ ¸å¿ƒæ¨¡å—æ”¯æŒç‹¬ç«‹åˆå§‹åŒ–ä¸ä½¿ç”¨ã€‚
      </p>
     </li>
    </ul>
    <p>
     <strong>
      æœ€å°å¼€å‘æ¡†æ¶
     </strong>
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> pygame<span class="token punctuation">,</span>sys <span class="token comment">#sysæ˜¯pythonçš„æ ‡å‡†åº“ï¼Œæä¾›Pythonè¿è¡Œæ—¶ç¯å¢ƒå˜é‡çš„æ“æ§</span>

pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">#å†…éƒ¨å„åŠŸèƒ½æ¨¡å—è¿›è¡Œåˆå§‹åŒ–åˆ›å»ºåŠå˜é‡è®¾ç½®ï¼Œé»˜è®¤è°ƒç”¨</span>
size <span class="token operator">=</span> width<span class="token punctuation">,</span>height <span class="token operator">=</span> <span class="token number">800</span><span class="token punctuation">,</span><span class="token number">600</span>  <span class="token comment">#è®¾ç½®æ¸¸æˆçª—å£å¤§å°ï¼Œåˆ†åˆ«æ˜¯å®½åº¦å’Œé«˜åº¦</span>
screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>size<span class="token punctuation">)</span>  <span class="token comment">#åˆå§‹åŒ–æ˜¾ç¤ºçª—å£</span>
pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token string">"å°æ¸¸æˆç¨‹åº"</span><span class="token punctuation">)</span>  <span class="token comment">#è®¾ç½®æ˜¾ç¤ºçª—å£çš„æ ‡é¢˜å†…å®¹ï¼Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>  <span class="token comment">#æ— é™å¾ªç¯ï¼Œç›´åˆ°Pythonè¿è¡Œæ—¶é€€å‡ºç»“æŸ</span>
    <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment">#ä»Pygameçš„äº‹ä»¶é˜Ÿåˆ—ä¸­å–å‡ºäº‹ä»¶ï¼Œå¹¶ä»é˜Ÿåˆ—ä¸­åˆ é™¤è¯¥äº‹ä»¶</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>  <span class="token comment">#è·å¾—äº‹ä»¶ç±»å‹ï¼Œå¹¶é€ç±»å“åº”</span>
            sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">#ç”¨äºé€€å‡ºç»“æŸæ¸¸æˆå¹¶é€€å‡º          </span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">#å¯¹æ˜¾ç¤ºçª—å£è¿›è¡Œæ›´æ–°ï¼Œé»˜è®¤çª—å£å…¨éƒ¨é‡ç»˜</span>

</code></pre>
    <p>
     <strong>
      ä»£ç æ‰§è¡Œæµç¨‹
     </strong>
    </p>
    <p>
     <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://i-blog.csdnimg.cn/blog_migrate/36f02db4ff5ef470d20b6f8d270b7017.png"/>
    </p>
    <h2>
     <a id="4__101">
     </a>
     4 å…·ä½“å®ç°
    </h2>
    <h3>
     <a id="41__103">
     </a>
     4.1 åˆ›å»ºè¿·å®«
    </h3>
    <p>
     é¦–å…ˆï¼Œå½“ç„¶æ˜¯åˆ›å»ºè¿·å®«å•¦ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œè¿™é‡Œé‡‡ç”¨éšæœºç”Ÿæˆè¿·å®«çš„æ–¹å¼(äººå·¥è®¾è®¡çœŸçš„è´¹çœ¼ç›ï¼Œå¼„åˆ°ä¸€åŠä¸æƒ³å¼„äº†ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªè¡Œå°è¯•ã€‚)ã€‚æ€è·¯å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯æŠŠæ¸¸æˆç•Œé¢åˆ’åˆ†æˆå¤šä¸ªcellï¼Œç±»ä¼¼è¿™æ ·å­ï¼š
    </p>
    <p>
     <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://i-blog.csdnimg.cn/blog_migrate/8f43b1f77723737235d7c9c0a9ad54cf.png#pic_center">
      <br/>
      ç„¶åè®¾è®¡ç®—æ³•éå†æ‰€æœ‰çš„cellï¼Œæ¯ä¸ªè¢«éå†åˆ°çš„cellåœ¨æŸå‡ ä¸ªéšæœºçš„æ–¹å‘ä¸Šæ‰“å¼€ä¸€å µå¢™(å°±æ˜¯å»æ‰åˆ†å‰²cellçš„çº¿æ¡)å°±okå•¦~
     </img>
    </p>
    <p>
     ç®—æ³•å¦‚ä¸‹ï¼š
    </p>
    <pre><code class="prism language-python"><span class="token triple-quoted-string string">'''éšæœºç”Ÿæˆè¿·å®«ç±»'''</span>
<span class="token keyword">class</span> <span class="token class-name">RandomMaze</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> maze_size<span class="token punctuation">,</span> block_size<span class="token punctuation">,</span> border_size<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    self<span class="token punctuation">.</span>block_size <span class="token operator">=</span> block_size
    self<span class="token punctuation">.</span>border_size <span class="token operator">=</span> border_size
    self<span class="token punctuation">.</span>maze_size <span class="token operator">=</span> maze_size
    self<span class="token punctuation">.</span>blocks_list <span class="token operator">=</span> RandomMaze<span class="token punctuation">.</span>createMaze<span class="token punctuation">(</span>maze_size<span class="token punctuation">,</span> block_size<span class="token punctuation">,</span> border_size<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>font <span class="token operator">=</span> pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span>SysFont<span class="token punctuation">(</span><span class="token string">'Consolas'</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>
  <span class="token triple-quoted-string string">'''ç”»åˆ°å±å¹•ä¸Š'''</span>
  <span class="token keyword">def</span> <span class="token function">draw</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> screen<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> row <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>maze_size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">for</span> col <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>maze_size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>blocks_list<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token punctuation">.</span>draw<span class="token punctuation">(</span>screen<span class="token punctuation">)</span>
    <span class="token comment"># èµ·ç‚¹å’Œç»ˆç‚¹æ ‡å¿—</span>
    showText<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> self<span class="token punctuation">.</span>font<span class="token punctuation">,</span> <span class="token string">'S'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>border_size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>border_size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    showText<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> self<span class="token punctuation">.</span>font<span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>border_size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>maze_size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>self<span class="token punctuation">.</span>block_size<span class="token punctuation">,</span> self<span class="token punctuation">.</span>border_size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>self<span class="token punctuation">.</span>maze_size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>self<span class="token punctuation">.</span>block_size<span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token triple-quoted-string string">'''åˆ›å»ºè¿·å®«'''</span>
  <span class="token decorator annotation punctuation">@staticmethod</span>
  <span class="token keyword">def</span> <span class="token function">createMaze</span><span class="token punctuation">(</span>maze_size<span class="token punctuation">,</span> block_size<span class="token punctuation">,</span> border_size<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">nextBlock</span><span class="token punctuation">(</span>block_now<span class="token punctuation">,</span> blocks_list<span class="token punctuation">)</span><span class="token punctuation">:</span>
      directions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'top'</span><span class="token punctuation">,</span> <span class="token string">'bottom'</span><span class="token punctuation">,</span> <span class="token string">'left'</span><span class="token punctuation">,</span> <span class="token string">'right'</span><span class="token punctuation">]</span>
      blocks_around <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token builtin">zip</span><span class="token punctuation">(</span>directions<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token boolean">None</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      block_next <span class="token operator">=</span> <span class="token boolean">None</span>
      count <span class="token operator">=</span> <span class="token number">0</span>
      <span class="token comment"># æŸ¥çœ‹ä¸Šè¾¹block</span>
      <span class="token keyword">if</span> block_now<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>
        block_now_top <span class="token operator">=</span> blocks_list<span class="token punctuation">[</span>block_now<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>block_now<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> block_now_top<span class="token punctuation">.</span>is_visited<span class="token punctuation">:</span>
          blocks_around<span class="token punctuation">[</span><span class="token string">'top'</span><span class="token punctuation">]</span> <span class="token operator">=</span> block_now_top
          count <span class="token operator">+=</span> <span class="token number">1</span>
      <span class="token comment"># æŸ¥çœ‹ä¸‹è¾¹block</span>
      <span class="token keyword">if</span> block_now<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span> <span class="token operator">&lt;</span> maze_size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        block_now_bottom <span class="token operator">=</span> blocks_list<span class="token punctuation">[</span>block_now<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>block_now<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> block_now_bottom<span class="token punctuation">.</span>is_visited<span class="token punctuation">:</span>
          blocks_around<span class="token punctuation">[</span><span class="token string">'bottom'</span><span class="token punctuation">]</span> <span class="token operator">=</span> block_now_bottom
          count <span class="token operator">+=</span> <span class="token number">1</span>
      <span class="token comment"># æŸ¥çœ‹å·¦è¾¹block</span>
      <span class="token keyword">if</span> block_now<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>
        block_now_left <span class="token operator">=</span> blocks_list<span class="token punctuation">[</span>block_now<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>block_now<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> block_now_left<span class="token punctuation">.</span>is_visited<span class="token punctuation">:</span>
          blocks_around<span class="token punctuation">[</span><span class="token string">'left'</span><span class="token punctuation">]</span> <span class="token operator">=</span> block_now_left
          count <span class="token operator">+=</span> <span class="token number">1</span>
      <span class="token comment"># æŸ¥çœ‹å³è¾¹block</span>
      <span class="token keyword">if</span> block_now<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span> <span class="token operator">&lt;</span> maze_size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        block_now_right <span class="token operator">=</span> blocks_list<span class="token punctuation">[</span>block_now<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>block_now<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> block_now_right<span class="token punctuation">.</span>is_visited<span class="token punctuation">:</span>
          blocks_around<span class="token punctuation">[</span><span class="token string">'right'</span><span class="token punctuation">]</span> <span class="token operator">=</span> block_now_right
          count <span class="token operator">+=</span> <span class="token number">1</span>
      <span class="token keyword">if</span> count <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
          direction <span class="token operator">=</span> random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>directions<span class="token punctuation">)</span>
          <span class="token keyword">if</span> blocks_around<span class="token punctuation">.</span>get<span class="token punctuation">(</span>direction<span class="token punctuation">)</span><span class="token punctuation">:</span>
            block_next <span class="token operator">=</span> blocks_around<span class="token punctuation">.</span>get<span class="token punctuation">(</span>direction<span class="token punctuation">)</span>
            <span class="token keyword">if</span> direction <span class="token operator">==</span> <span class="token string">'top'</span><span class="token punctuation">:</span>
              block_next<span class="token punctuation">.</span>has_walls<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>
              block_now<span class="token punctuation">.</span>has_walls<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>
            <span class="token keyword">elif</span> direction <span class="token operator">==</span> <span class="token string">'bottom'</span><span class="token punctuation">:</span>
              block_next<span class="token punctuation">.</span>has_walls<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>
              block_now<span class="token punctuation">.</span>has_walls<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>
            <span class="token keyword">elif</span> direction <span class="token operator">==</span> <span class="token string">'left'</span><span class="token punctuation">:</span>
              block_next<span class="token punctuation">.</span>has_walls<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>
              block_now<span class="token punctuation">.</span>has_walls<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>
            <span class="token keyword">elif</span> direction <span class="token operator">==</span> <span class="token string">'right'</span><span class="token punctuation">:</span>
              block_next<span class="token punctuation">.</span>has_walls<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>
              block_now<span class="token punctuation">.</span>has_walls<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>
            <span class="token keyword">break</span>
      <span class="token keyword">return</span> block_next
    blocks_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>Block<span class="token punctuation">(</span><span class="token punctuation">[</span>col<span class="token punctuation">,</span> row<span class="token punctuation">]</span><span class="token punctuation">,</span> block_size<span class="token punctuation">,</span> border_size<span class="token punctuation">)</span> <span class="token keyword">for</span> col <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>maze_size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> row <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>maze_size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    block_now <span class="token operator">=</span> blocks_list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    records <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
      <span class="token keyword">if</span> block_now<span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> block_now<span class="token punctuation">.</span>is_visited<span class="token punctuation">:</span>
          block_now<span class="token punctuation">.</span>is_visited <span class="token operator">=</span> <span class="token boolean">True</span>
          records<span class="token punctuation">.</span>append<span class="token punctuation">(</span>block_now<span class="token punctuation">)</span>
        block_now <span class="token operator">=</span> nextBlock<span class="token punctuation">(</span>block_now<span class="token punctuation">,</span> blocks_list<span class="token punctuation">)</span>
      <span class="token keyword">else</span><span class="token punctuation">:</span>
        block_now <span class="token operator">=</span> records<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>records<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
          <span class="token keyword">break</span>
    <span class="token keyword">return</span> blocks_list
</code></pre>
    <h3>
     <a id="42__196">
     </a>
     4.2 å®šä¹‰è§’è‰²ç±»
    </h3>
    <p>
     è§’è‰²ç±»éœ€è¦æ ¹æ®ç”¨æˆ·çš„æ“ä½œè¿›è¡Œä¸Šä¸‹å·¦å³çš„ç§»åŠ¨ï¼ŒåŒæ—¶ï¼Œä¿è¯ç§»åŠ¨æ˜¯ä¸èƒ½è·¨è¶Šå¢™çš„å°±OKäº†~å…·ä½“è€Œè¨€ï¼Œä»¥ä¸‹ä¸¤ç‚¹ï¼š
    </p>
    <p>
     <strong>
      å®šä¹‰è§’è‰²
     </strong>
    </p>
    <pre><code class="prism language-python"><span class="token triple-quoted-string string">'''å®šä¹‰hero'''</span>
<span class="token keyword">class</span> <span class="token class-name">Hero</span><span class="token punctuation">(</span>pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Sprite<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> imagepath<span class="token punctuation">,</span> coordinate<span class="token punctuation">,</span> block_size<span class="token punctuation">,</span> border_size<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Sprite<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>image <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span>imagepath<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>image <span class="token operator">=</span> pygame<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>scale<span class="token punctuation">(</span>self<span class="token punctuation">.</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span>block_size<span class="token punctuation">,</span> block_size<span class="token punctuation">)</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>rect <span class="token operator">=</span> self<span class="token punctuation">.</span>image<span class="token punctuation">.</span>get_rect<span class="token punctuation">(</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>left<span class="token punctuation">,</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>top <span class="token operator">=</span> coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> block_size <span class="token operator">+</span> border_size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> block_size <span class="token operator">+</span> border_size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
    self<span class="token punctuation">.</span>coordinate <span class="token operator">=</span> coordinate
    self<span class="token punctuation">.</span>block_size <span class="token operator">=</span> block_size
    self<span class="token punctuation">.</span>border_size <span class="token operator">=</span> border_size
</code></pre>
    <p>
     <strong>
      ç§»åŠ¨è®¾ç½®
     </strong>
    </p>
    <pre><code class="prism language-python"><span class="token triple-quoted-string string">'''ç§»åŠ¨'''</span>
  <span class="token keyword">def</span> <span class="token function">move</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> direction<span class="token punctuation">,</span> maze<span class="token punctuation">)</span><span class="token punctuation">:</span>
    blocks_list <span class="token operator">=</span> maze<span class="token punctuation">.</span>blocks_list
    <span class="token keyword">if</span> direction <span class="token operator">==</span> <span class="token string">'up'</span><span class="token punctuation">:</span>
      <span class="token keyword">if</span> blocks_list<span class="token punctuation">[</span>self<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>has_walls<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
      <span class="token keyword">else</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">elif</span> direction <span class="token operator">==</span> <span class="token string">'down'</span><span class="token punctuation">:</span>
      <span class="token keyword">if</span> blocks_list<span class="token punctuation">[</span>self<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>has_walls<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
      <span class="token keyword">else</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">elif</span> direction <span class="token operator">==</span> <span class="token string">'left'</span><span class="token punctuation">:</span>
      <span class="token keyword">if</span> blocks_list<span class="token punctuation">[</span>self<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>has_walls<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
      <span class="token keyword">else</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">elif</span> direction <span class="token operator">==</span> <span class="token string">'right'</span><span class="token punctuation">:</span>
      <span class="token keyword">if</span> blocks_list<span class="token punctuation">[</span>self<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>has_walls<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
      <span class="token keyword">else</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
      <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'Unsupport direction &lt;%s&gt; in Hero.move...'</span> <span class="token operator">%</span> direction<span class="token punctuation">)</span>
  <span class="token triple-quoted-string string">'''ç»‘å®šåˆ°å±å¹•'''</span>
  <span class="token keyword">def</span> <span class="token function">draw</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> screen<span class="token punctuation">)</span><span class="token punctuation">:</span>
    self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>left<span class="token punctuation">,</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>top <span class="token operator">=</span> self<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> self<span class="token punctuation">.</span>block_size <span class="token operator">+</span> self<span class="token punctuation">.</span>border_size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> self<span class="token punctuation">.</span>block_size <span class="token operator">+</span> self<span class="token punctuation">.</span>border_size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>self<span class="token punctuation">.</span>image<span class="token punctuation">,</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>
</code></pre>
    <p>
     <strong>
      ç»‘å®šåˆ°å±å¹•
     </strong>
    </p>
    <pre><code class="prism language-python"> <span class="token triple-quoted-string string">'''ç»‘å®šåˆ°å±å¹•'''</span>
  <span class="token keyword">def</span> <span class="token function">draw</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> screen<span class="token punctuation">)</span><span class="token punctuation">:</span>
    self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>left<span class="token punctuation">,</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>top <span class="token operator">=</span> self<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> self<span class="token punctuation">.</span>block_size <span class="token operator">+</span> self<span class="token punctuation">.</span>border_size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> self<span class="token punctuation">.</span>block_size <span class="token operator">+</span> self<span class="token punctuation">.</span>border_size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>self<span class="token punctuation">.</span>image<span class="token punctuation">,</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>
</code></pre>
    <h3>
     <a id="43__266">
     </a>
     4.3 ç•Œé¢åˆ‡æ¢
    </h3>
    <p>
     æœ€åè¦å®Œæˆæ¸¸æˆä¸»å¾ªç¯ï¼Œåªè¦æ¯æ¬¡è½½å…¥ä¸€ä¸ªéšæœºç”Ÿæˆçš„è¿·å®«åœ°å›¾å’Œå®ä¾‹åŒ–ä¸€ä¸ªä¸»è§’ï¼Œä¸æ–­è¿›è¡ŒæŒ‰é”®æ£€æµ‹ï¼Œå¹¶æ ¹æ®æŒ‰é”®æ£€æµ‹çš„ç»“æœç§»åŠ¨ä¸»è§’ï¼Œæœ€åæ ¹æ®è¡ŒåŠ¨ç»“æœæ›´æ–°ç•Œé¢æ•°æ®å°±å¯ä»¥äº†
    </p>
    <p>
     è‹¥ä¸»è§’åˆ°è¾¾äº†ç»ˆç‚¹ï¼Œåˆ™è¿›å…¥å…³å¡åˆ‡æ¢ç•Œé¢ã€‚
    </p>
    <p>
     å…·ä½“è€Œè¨€ï¼Œä»£ç å®ç°å¦‚ä¸‹ï¼š
    </p>
    <pre><code class="prism language-python"><span class="token triple-quoted-string string">'''ä¸»å‡½æ•°'''</span>
<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span>cfg<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token comment"># åˆå§‹åŒ–</span>
  pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
  pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
  pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
  pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>load<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>BGMPATH<span class="token punctuation">)</span>
  pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">)</span>
  screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>SCREENSIZE<span class="token punctuation">)</span>
  pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token string">'Maze - å¾®ä¿¡å…¬ä¼—å·: Charlesçš„çš®å¡ä¸˜'</span><span class="token punctuation">)</span>
  font <span class="token operator">=</span> pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span>SysFont<span class="token punctuation">(</span><span class="token string">'Consolas'</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>
  <span class="token comment"># å¼€å§‹ç•Œé¢</span>
  Interface<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> cfg<span class="token punctuation">,</span> <span class="token string">'game_start'</span><span class="token punctuation">)</span>
  <span class="token comment"># è®°å½•å…³å¡æ•°</span>
  num_levels <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token comment"># è®°å½•æœ€å°‘ç”¨äº†å¤šå°‘æ­¥é€šå…³</span>
  best_scores <span class="token operator">=</span> <span class="token string">'None'</span>
  <span class="token comment"># å…³å¡å¾ªç¯åˆ‡æ¢</span>
  <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    num_levels <span class="token operator">+=</span> <span class="token number">1</span>
    clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>
    screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>SCREENSIZE<span class="token punctuation">)</span>
    <span class="token comment"># --éšæœºç”Ÿæˆå…³å¡åœ°å›¾</span>
    maze_now <span class="token operator">=</span> RandomMaze<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>MAZESIZE<span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>BLOCKSIZE<span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>BORDERSIZE<span class="token punctuation">)</span>
    <span class="token comment"># --ç”Ÿæˆhero</span>
    hero_now <span class="token operator">=</span> Hero<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>HEROPICPATH<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>BLOCKSIZE<span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>BORDERSIZE<span class="token punctuation">)</span>
    <span class="token comment"># --ç»Ÿè®¡æ­¥æ•°</span>
    num_steps <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token comment"># --å…³å¡å†…ä¸»å¾ªç¯</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
      dt <span class="token operator">=</span> clock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>FPS<span class="token punctuation">)</span>
      screen<span class="token punctuation">.</span>fill<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      is_move <span class="token operator">=</span> <span class="token boolean">False</span>
      <span class="token comment"># ----â†‘â†“â†â†’æ§åˆ¶hero</span>
      <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
          pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
          sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>KEYDOWN<span class="token punctuation">:</span>
          <span class="token keyword">if</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> pygame<span class="token punctuation">.</span>K_UP<span class="token punctuation">:</span>
            is_move <span class="token operator">=</span> hero_now<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token string">'up'</span><span class="token punctuation">,</span> maze_now<span class="token punctuation">)</span>
          <span class="token keyword">elif</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> pygame<span class="token punctuation">.</span>K_DOWN<span class="token punctuation">:</span>
            is_move <span class="token operator">=</span> hero_now<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token string">'down'</span><span class="token punctuation">,</span> maze_now<span class="token punctuation">)</span>
          <span class="token keyword">elif</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> pygame<span class="token punctuation">.</span>K_LEFT<span class="token punctuation">:</span>
            is_move <span class="token operator">=</span> hero_now<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token string">'left'</span><span class="token punctuation">,</span> maze_now<span class="token punctuation">)</span>
          <span class="token keyword">elif</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> pygame<span class="token punctuation">.</span>K_RIGHT<span class="token punctuation">:</span>
            is_move <span class="token operator">=</span> hero_now<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token string">'right'</span><span class="token punctuation">,</span> maze_now<span class="token punctuation">)</span>
      num_steps <span class="token operator">+=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>is_move<span class="token punctuation">)</span>
      hero_now<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>screen<span class="token punctuation">)</span>
      maze_now<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>screen<span class="token punctuation">)</span>
      <span class="token comment"># ----æ˜¾ç¤ºä¸€äº›ä¿¡æ¯</span>
      showText<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> font<span class="token punctuation">,</span> <span class="token string">'LEVELDONE: %d'</span> <span class="token operator">%</span> num_levels<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      showText<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> font<span class="token punctuation">,</span> <span class="token string">'BESTSCORE: %s'</span> <span class="token operator">%</span> best_scores<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">210</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      showText<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> font<span class="token punctuation">,</span> <span class="token string">'USEDSTEPS: %s'</span> <span class="token operator">%</span> num_steps<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">410</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      showText<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> font<span class="token punctuation">,</span> <span class="token string">'S: your starting point    D: your destination'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token comment"># ----åˆ¤æ–­æ¸¸æˆæ˜¯å¦èƒœåˆ©</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>hero_now<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> cfg<span class="token punctuation">.</span>MAZESIZE<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span>hero_now<span class="token punctuation">.</span>coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> cfg<span class="token punctuation">.</span>MAZESIZE<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">break</span>
      pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># æ›´æ–°æœ€ä¼˜æˆç»©</span>
    <span class="token keyword">if</span> best_scores <span class="token operator">==</span> <span class="token string">'None'</span><span class="token punctuation">:</span>
      best_scores <span class="token operator">=</span> num_steps
    <span class="token keyword">else</span><span class="token punctuation">:</span>
      <span class="token keyword">if</span> best_scores <span class="token operator">&gt;</span> num_steps<span class="token punctuation">:</span>
        best_scores <span class="token operator">=</span> num_steps
    <span class="token comment"># å…³å¡åˆ‡æ¢</span>
    Interface<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> cfg<span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">'game_switch'</span><span class="token punctuation">)</span>
</code></pre>
    <h2>
     <a id="5__345">
     </a>
     5 æœ€å
    </h2>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470:733a2f2f626c6f672e6373646e2e6e65742f485558494e592f:61727469636c652f64657461696c732f313236393636373236" class_="artid" style="display:none">
 </p>
</div>


