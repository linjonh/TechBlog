---
layout: post
title: "LINUX-硬件如何被识别"
date: 2024-03-13 00:45:00 +0800
description: "在项目中有时候会遇见网卡明明在物理上显示有2块，在系统上只看到一块。这种情况延伸到系统中如何识别一个"
keywords: "linux服务器后添加硬件如何被系统识别"
categories: ['未分类']
tags: ['操作系统', '前端', 'Viewui']
artid: "93063745"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=93063745
  alt: "LINUX-硬件如何被识别"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     LINUX 硬件如何被识别
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <div class="artical-content-bak main-content editor-side-new">
     <div class="con editor-preview-side" id="result">
      <p>
       在项目中有时候会遇见网卡明明在物理上显示有2块，在系统上只看到一块。这种情况延伸到系统中如何识别一个硬件，到其发挥作用。
      </p>
      <p>
       和windows一样，一个硬件要首先别识别，识别之后可以加载驱动，然后正常工作。
      </p>
      <p>
       在linux中，有一个命令kudzu，这个命令检查是否这个硬件能被系统识别，如果这个都没发现，说明硬件出问题了。
      </p>
      <p>
       例kudzu --probe --class=network    lspci | grep "Ethernet"  这里面显示能看到几个网卡。
      </p>
      <p>
      </p>
      <p>
       linux系统识别之后。会自动在系统中里面内核里找相就驱动，
      </p>
      <p>
       <span style="line-height:0px;">
        /lib/modules/release/kernel/driver
       </span>
       <span style="line-height:0px;">
       </span>
       <span style="line-height:0px;">
        s,p 这个目录装了系统自带的很多驱动，如果很不幸这个硬件比较
       </span>
      </p>
      <p>
       偏僻，系统里没有对应的驱动，这是你要从厂家那里下一个驱动进行安装和编译。
      </p>
      <p>
      </p>
      <p>
       例子来说明：
      </p>
      <p>
      </p>
      <p>
       如果很不幸的，您使用的是比较罕见的一些网卡，或者是 Linux 核心支持不够的网卡，以致于在安装 Linux 时，并无法检测到网卡，那也不用担心，我们可以使用较为简单的核心模块编译来支持这张网卡。下面以笔者的3Com的3CR990-TX-97 网卡为例（一款具有安全特性网卡）看看如何进行模块编译。首先在其网站
       <a href="http://www.3com.com/infodeli/tools/nic/linuxdownload.htm" rel="nofollow">
        http://www.3com.com/infodeli/tools/nic/linuxdownload.htm
       </a>
       下载合适你使用内核版本的相关驱动程序，这里以2.4内核为例。
      </p>
      <p>
       #wegt
       <a href="http://www.3com.com/infodeli/tools/nic/3c990-1.0.0a.tar.gz" rel="nofollow">
        http://www.3com.com/infodeli/tools/nic/3c990-1.0.0a.tar.gz
       </a>
      </p>
      <p>
       另外在开始编译核心模块之前，因为驱动程序需要配合核心来编译，所以会使用到 kernel source 或者是 kernel header 的数据，此外，也需要编译器 ( compiler ) 的帮助，因此，先确定您的 Linux 系统当中已经下列软件的存在 ：kernel-source 、kernel 、gcc 、make。
      </p>
      <p>
       #tar zxvf 3c990-1.0.0a.tar.gz
      </p>
      <p>
       #make
      </p>
      <p>
       此时会产生3c990.o 驱动模块。然后使用命令拷贝到相应地方然后查看加载是否正常。
      </p>
      <p>
       #modprobe 3c990  ********加载改驱动
      </p>
      <p>
       #cp 3c990.o /lib/modules/2.4.20-8/kernel/drivers/net
      </p>
      <p>
       # depmod -a   ********
       <a href="http://baike.baidu.com/view/4197921.htm" rel="nofollow">
        depmod
       </a>
       -a的输出/lib/modules/version/modules.dep全部模块。
      </p>
      <p>
       然后使用lsmod 命令检查加载情况，如果一切正常的话。可以让系统启动时自动加载该模块：
      </p>
      <p>
       #echo “alias eth0 3c990”&gt;;&gt;; /etc/modules.conf   *****写你硬件别名，方便人来识别。
      </p>
      <p>
       $modprobe -l
      </p>
      <p>
      </p>
      <p>
       至此完成整个硬件加载了。
      </p>
      <p>
      </p>
      <p>
      </p>
      <p>
      </p>
     </div>
    </div>
    <p>
     转载于:https://blog.51cto.com/startliu/1376720
    </p>
   </div>
  </div>
  <div id="recommendDown">
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f67:2e6373646e2e6e65742f77656978696e5f3333393430313032:2f61727469636c652f64657461696c732f3933303633373435" class_="artid" style="display:none">
 </p>
</div>
