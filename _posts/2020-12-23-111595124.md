---
layout: post
title: "5分钟实现微信云小程序支付功能含源码"
date: 2020-12-23 21:29:22 +0800
description: "文章浏览阅读7.5k次，点赞48次，1 先上效果图 快速实现支付功能，有多快？有五连鞭这么快，不用搭"
keywords: "小程序支付源码"
categories: ['小程序', '前端']
tags: ['支付', '微信支付', '微信云开发', '小程序支付', '小程序']
artid: "111595124"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=111595124
    alt: "5分钟实现微信云小程序支付功能含源码"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     5分钟实现微信云小程序支付功能（含源码）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h5>
     <a id="1__0">
     </a>
     1 先上效果图
    </h5>
    <img src="https://i-blog.csdnimg.cn/blog_migrate/da3e928519b3fcf8099639f67898431c.jpeg#pic_center" width="600px">
     <p>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/3b82c91ebb9790786f6e0e88a078d888.jpeg#pic_center"/>
     </p>
     <blockquote>
      <p>
       快速实现支付功能，有多快？有
       <a href="https://www.zhihu.com/question/406079072" rel="nofollow">
        五连鞭
       </a>
       这么快，不用搭建自己的服务器，不用买域名，不用备案域名，不用支持https。只需要一个简单的云函数，就可以轻松的实现微信小程序支付功能
      </p>
     </blockquote>
     <h5>
      <a id="2__6">
      </a>
      2 准备工作
     </h5>
     <p>
      1，非个人小程序，个人小程序用不了支付（
      <a href="https://developers.weixin.qq.com/community/develop/doc/000e6c51c2cd0823a2f7b98175b000?_at=1577928984776" rel="nofollow">
       小程序appid
      </a>
      ）
     </p>
     <font color="red">
      无需任何资质，个体户公司营业执照快速下证，可咨询我 拿到证后可以开通微信商户号和注册拥有支付功能的小程序
     </font>
     <br/>
     <br/>
     <p>
      2，已经申请微信支付的商户号（
      <a href="https://zhidao.baidu.com/question/241358316804757324.html" rel="nofollow">
       商户id，商户秘钥
      </a>
      ）。
     </p>
     <p>
      3，小程序里关联你的商户号（
      <a href="https://pay.weixin.qq.com/static/pay_setting/appid_protocol.shtml" rel="nofollow">
       小程序和商户号绑定
      </a>
      ）
     </p>
     <p>
      4，
      <a href="https://developers.weixin.qq.com/community/develop/doc/000c0c196140e0d5f8fa2e4dc56000" rel="nofollow">
       微信小程序开通云开发
      </a>
     </p>
     <h5>
      <a id="3___23">
      </a>
      3 开干
     </h5>
     <h6>
      <a id="1_24">
      </a>
      （1）初始化云开发环境
     </h6>
     <p>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/d6603ddfd71e058518f006901a28f652.png#pic_center">
       <br/>
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/234353ae66b4fdf4cdee504e1a5ae927.png#pic_center"/>
      </img>
     </p>
     <h6>
      <a id="2pay_27">
      </a>
      （2）创建云函数pay
     </h6>
     <p>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/1d20d1b3259ff436048cdd8fcaada9fe.png#pic_center"/>
     </p>
     <h6>
      <a id="3tenpay_29">
      </a>
      （3）引入第三方支付依赖tenpay
     </h6>
     <p>
      pay文件夹右键 选择在终端打开，安装依赖
      <code>
       npm i tenpay
      </code>
     </p>
     <p>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/39029f7a0b7fee4275c7ec885693ec00.png#pic_center">
       <br/>
       安装完成后，我们的pay云函数会多出一个package.json 文件
      </img>
     </p>
     <h6>
      <a id="4_35">
      </a>
      （4）编写云函数
     </h6>
     <p>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/bb075ffa67d00d929308ecb831b81d3b.png#pic_center"/>
     </p>
     <h6>
      <a id="5_37">
      </a>
      （5）简单写一个页面调用云函数
     </h6>
     <p>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/6b73660cad81fd0695ba070d534fb401.png#pic_center"/>
     </p>
     <h5>
      <a id="_41">
      </a>
      异常问题
     </h5>
     <ol>
      <li>
       <p>
        <code>
         Error: errCode: -404011 cloud function execution error
        </code>
        <br/>
        是由于没有上传并部署，右键云函数上传并部署
       </p>
      </li>
      <li>
       <p>
        <code>
         签名错误
        </code>
        <a href="https://developers.weixin.qq.com/community/develop/doc/00028a960246382f12883227255400" rel="nofollow">
         微信支付签名错误
        </a>
       </p>
      </li>
     </ol>
     <p>
      帮助
      <br/>
      大家支付有问题有不懂的地方，源码,可咨询我
     </p>
     <h5>
      <a id="_54">
      </a>
      作者相关文章
     </h5>
     <p>
      <a href="https://blog.csdn.net/qq_32340877/article/details/124768532">
       【精选】微信小程序支付unicloud版（附源码）
      </a>
     </p>
     <p>
      <a href="https://blog.csdn.net/qq_32340877/article/details/110993362">
       反编译获取任何微信小程序源码——看这篇就够了
      </a>
     </p>
     <p>
      <a href="https://blog.csdn.net/qq_32340877/article/details/124525217">
       万能节日头像生成器
      </a>
     </p>
     <p>
      <a href="https://nxmin.blog.csdn.net/article/details/121436270" rel="nofollow">
       零基础搭建智能垃圾分类小程序(可做毕设，可加入流量主，赚取零花钱)
      </a>
     </p>
    </img>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f33323334303837372f:61727469636c652f64657461696c732f313131353935313234" class_="artid" style="display:none">
 </p>
</div>


