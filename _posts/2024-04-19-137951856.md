---
layout: post
title: "Python实战教你如何用Python批量裁剪图片,轻松提升工作效率"
date: 2024-04-19 14:45:00 +0800
description: "本文详细介绍了如何使用Python的Pillow和opencv-"
keywords: "python剪切图片"
categories: ['Python', 'Python', 'Python']
tags: ['数据分析', '开发语言', 'Python']
artid: "137951856"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=137951856
    alt: "Python实战教你如何用Python批量裁剪图片,轻松提升工作效率"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【Python实战】教你如何用Python批量裁剪图片，轻松提升工作效率！
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     本文旨在介绍基于Python如何批量裁剪图片并保存，主要内容包括以下几个方面：
    </p>
    <p>
     裁剪图片的原理与方法、Python中用于裁剪图片的库、代码实现过程以及批量裁剪图片的实际案例等。
    </p>
    <h6>
     <a id="_7">
     </a>
     一、裁剪图片的原理与方法
    </h6>
    <p>
     图片裁剪是指将一张图片中的某一部分选中并保存，通常用于将图片缩小或者只选取图片中的部分内容。
    </p>
    <p>
     具体来看，图片裁剪的过程大致包括以下几个步骤：
    </p>
    <ol>
     <li>
      选定裁剪区域。
     </li>
    </ol>
    <p>
     需要确定需要裁剪的区域，以一定的方式选定区域的位置和大小。
    </p>
    <ol>
     <li>
      选定裁剪方式。
     </li>
    </ol>
    <p>
     需要确定使用何种方式对图片进行裁剪，例如按照比例缩放、按照像素大小裁剪、按照像素位置裁剪等。
    </p>
    <ol>
     <li>
      裁剪图片并保存。
     </li>
    </ol>
    <p>
     使用选定的裁剪方式对图片进行裁剪，并将裁剪后的图片保存到指定的位置。
    </p>
    <p>
     针对以上步骤，Python中有许多用于裁剪图片的库可以使用，下面将分别介绍。
    </p>
    <h6>
     <a id="Python_27">
     </a>
     二、Python中用于裁剪图片的库
    </h6>
    <ol>
     <li>
      Pillow库
     </li>
    </ol>
    <p>
     Pillow是Python的一个图像处理库，提供了许多图像处理操作，其中也包括图片裁剪。
    </p>
    <p>
     使用Pillow裁剪图片的代码示例如下：
    </p>
    <pre><code class="prism language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image

<span class="token comment"># 打开图片image，并裁剪出左上角为(0,0)，右下角为 (100, 100) 的矩形区域</span>
image <span class="token operator">=</span> Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"image.jpg"</span><span class="token punctuation">)</span>
rect <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
crop_image <span class="token operator">=</span> image<span class="token punctuation">.</span>crop<span class="token punctuation">(</span>rect<span class="token punctuation">)</span>
crop_image<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     以上代码首先使用Pillow库中的Image模块打开了一张名为“image.jpg”的图片。
    </p>
    <p>
     然后使用crop()方法对该图片进行裁剪，裁剪出左上角为(0,0)，右下角为(100,100)的矩形区域。
    </p>
    <p>
     并将该区域保存到变量crop_image中，最后使用show()方法展示裁剪后的图片。
    </p>
    <ol>
     <li>
      opencv-python库
     </li>
    </ol>
    <p>
     OpenCV是一个广泛应用于计算机视觉领域的开源计算机视觉库。
    </p>
    <p>
     它拥有一系列用于图像处理和计算机视觉的函数、类和工具，并提供了Python的接口。
    </p>
    <p>
     使用opencv-python库裁剪图片的代码示例如下：
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> cv2

<span class="token comment"># 打开图片image，并裁剪出左上角为(0,0)，右下角为 (100, 100) 的矩形区域</span>
image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"image.jpg"</span><span class="token punctuation">)</span>
rect <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
crop_image <span class="token operator">=</span> image<span class="token punctuation">[</span>rect<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>rect<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> rect<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>rect<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">"crop_image"</span><span class="token punctuation">,</span> crop_image<span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     以上代码首先使用opencv-python库中的imread()方法打开了一张名为“image.jpg”的图片。
    </p>
    <p>
     然后使用数组索引对该图片进行裁剪，裁剪出左上角为(0,0)，右下角为(100,100)的矩形区域。
    </p>
    <p>
     并将该区域保存到变量crop_image中，最后使用imshow()方法展示裁剪后的图片。
    </p>
    <h6>
     <a id="_77">
     </a>
     三、代码实现过程
    </h6>
    <p>
     在介绍代码实现过程之前，需要先安装Python的图像处理库Pillow。
    </p>
    <p>
     在安装Pillow库之前，需要确保已安装Python版本不低于Python3.7。
    </p>
    <p>
     安装Pillow库的命令为：
    </p>
    <pre><code class="prism language-python">pip install Pillow
</code></pre>
    <p>
     安装完成之后，就可以使用Pillow库中的Image模块进行图片裁剪操作。
    </p>
    <p>
     具体实现步骤如下：
    </p>
    <ol>
     <li>
      导入Pillow库中的Image模块
     </li>
    </ol>
    <pre><code class="prism language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image
</code></pre>
    <ol>
     <li>
      打开需要裁剪的图片，并设置需要裁剪的区域
     </li>
    </ol>
    <pre><code class="prism language-python">image_path <span class="token operator">=</span> <span class="token string">"image.jpg"</span>
image <span class="token operator">=</span> Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>image_path<span class="token punctuation">)</span>
rect <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
</code></pre>
    <ol>
     <li>
      对图片进行裁剪，并保存到指定路径
     </li>
    </ol>
    <pre><code class="prism language-python">crop_image <span class="token operator">=</span> image<span class="token punctuation">.</span>crop<span class="token punctuation">(</span>rect<span class="token punctuation">)</span>
crop_image<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">"crop_image.jpg"</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     完整的Python裁剪图片代码示例如下：
    </p>
    <pre><code class="prism language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image

image_path <span class="token operator">=</span> <span class="token string">"image.jpg"</span>
image <span class="token operator">=</span> Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>image_path<span class="token punctuation">)</span>
rect <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>

crop_image <span class="token operator">=</span> image<span class="token punctuation">.</span>crop<span class="token punctuation">(</span>rect<span class="token punctuation">)</span>
crop_image<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">"crop_image.jpg"</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     以上代码首先使用Pillow库中的Image模块打开了一张名为“image.jpg”的图片。
    </p>
    <p>
     然后使用crop()方法对该图片进行裁剪，裁剪出左上角为(0,0)。
    </p>
    <p>
     右下角为(100,100)的矩形区域，并将该区域保存到名为“crop_image.jpg”的文件中。
    </p>
    <h6>
     <a id="_143">
     </a>
     四、批量裁剪图片案例
    </h6>
    <p>
     批量裁剪图片是指同时对指定路径下所有图片进行裁剪操作。
    </p>
    <p>
     具体实现过程与单张图片裁剪相似，只需要在代码中对指定路径下的所有图片进行循环即可。
    </p>
    <p>
     下面是一个这样的实际案例：
    </p>
    <p>
     需求：批量将指定文件夹下所有图片的左上角裁剪为正方形并保存。
    </p>
    <ol>
     <li>
      确定裁剪区域
     </li>
    </ol>
    <p>
     裁剪的区域为左上角正方形，大小为图片中宽度和高度中小的那个值。
    </p>
    <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">get_rect</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">:</span>
    width<span class="token punctuation">,</span> height <span class="token operator">=</span> image<span class="token punctuation">.</span>size
    size <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">)</span>
    rect <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> size<span class="token punctuation">)</span>
    <span class="token keyword">return</span> rect
</code></pre>
    <p>
     以上代码中，get_rect()函数接收一张PIL格式的图片作为参数，获取该图片的宽度和高度，并计算出左上角正方形的大小。
    </p>
    <p>
     最后将左上角正方形的坐标和大小封装成一个元组并返回。
    </p>
    <ol>
     <li>
      批量裁剪图片并保存
     </li>
    </ol>
    <p>
     对所有图片进行循环裁剪，并将裁剪后的图片保存在指定路径下。
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> os

<span class="token keyword">def</span> <span class="token function">crop_images</span><span class="token punctuation">(</span>root_path<span class="token punctuation">,</span> save_path<span class="token punctuation">)</span><span class="token punctuation">:</span>
    images <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>root_path<span class="token punctuation">)</span>
    <span class="token keyword">for</span> image_name <span class="token keyword">in</span> images<span class="token punctuation">:</span>
        <span class="token keyword">if</span> image_name<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token string">".jpg"</span><span class="token punctuation">)</span> <span class="token keyword">or</span> image_name<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token string">".png"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            image_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>root_path<span class="token punctuation">,</span> image_name<span class="token punctuation">)</span>
            image <span class="token operator">=</span> Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>image_path<span class="token punctuation">)</span>
            rect <span class="token operator">=</span> get_rect<span class="token punctuation">(</span>image<span class="token punctuation">)</span>
            crop_image <span class="token operator">=</span> image<span class="token punctuation">.</span>crop<span class="token punctuation">(</span>rect<span class="token punctuation">)</span>
            crop_image<span class="token punctuation">.</span>save<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>save_path<span class="token punctuation">,</span> image_name<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
    <p>
     以上代码中，crop_images()函数接收两个参数，root_path表示需要裁剪图片的文件夹路径，save_path表示裁剪后保存的文件夹路径。
    </p>
    <p>
     首先使用os.listdir()方法获取root_path文件夹下的所有文件和文件夹名，并对所有文件进行循环。
    </p>
    <p>
     如果文件名以“.jpg”或“.png”结尾，则认为该文件是图片文件，获取该文件的完整路径并打开该图片。
    </p>
    <p>
     然后调用get_rect()函数获取该图片需要裁剪的区域，使用crop()方法进行裁剪，并将裁剪后的图片保存到指定路径下。
    </p>
    <p>
     完整的Python批量裁剪图片代码示例如下：
    </p>
    <pre><code class="prism language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image
<span class="token keyword">import</span> os

<span class="token keyword">def</span> <span class="token function">get_rect</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">:</span>
    width<span class="token punctuation">,</span> height <span class="token operator">=</span> image<span class="token punctuation">.</span>size
    size <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">)</span>
    rect <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> size<span class="token punctuation">)</span>
    <span class="token keyword">return</span> rect

<span class="token keyword">def</span> <span class="token function">crop_images</span><span class="token punctuation">(</span>root_path<span class="token punctuation">,</span> save_path<span class="token punctuation">)</span><span class="token punctuation">:</span>
    images <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>root_path<span class="token punctuation">)</span>
    <span class="token keyword">for</span> image_name <span class="token keyword">in</span> images<span class="token punctuation">:</span>
        <span class="token keyword">if</span> image_name<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token string">".jpg"</span><span class="token punctuation">)</span> <span class="token keyword">or</span> image_name<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token string">".png"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            image_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>root_path<span class="token punctuation">,</span> image_name<span class="token punctuation">)</span>
            image <span class="token operator">=</span> Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>image_path<span class="token punctuation">)</span>
            rect <span class="token operator">=</span> get_rect<span class="token punctuation">(</span>image<span class="token punctuation">)</span>
            crop_image <span class="token operator">=</span> image<span class="token punctuation">.</span>crop<span class="token punctuation">(</span>rect<span class="token punctuation">)</span>
            crop_image<span class="token punctuation">.</span>save<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>save_path<span class="token punctuation">,</span> image_name<span class="token punctuation">)</span><span class="token punctuation">)</span>

root_path <span class="token operator">=</span> <span class="token string">"images"</span>
save_path <span class="token operator">=</span> <span class="token string">"cropped_images"</span>
crop_images<span class="token punctuation">(</span>root_path<span class="token punctuation">,</span> save_path<span class="token punctuation">)</span>
</code></pre>
    <p>
     以上代码假设存在一个名为“images”的文件夹，其中包含需要裁剪的所有图片，裁剪结果将保存到名为“cropped_images”的文件夹下。
    </p>
    <h6>
     <a id="_224">
     </a>
     五、总结
    </h6>
    <p>
     本文详细介绍了Python如何通过Pillow库对单张或批量图片进行裁剪操作，通过实际案例演示了批量裁剪图片的具体实现过程。
    </p>
    <p>
     掌握了这些知识，我们可以更加轻松地对大量图片进行批量处理，节省时间和精力。
    </p>
    <p>
     当然，图片裁剪只是图像处理的冰山一角，希望通过本文的介绍可以为读者提供更多启发，更好地掌握Python图像处理的技巧和方法。
    </p>
    <h2>
     <a id="Python_235">
     </a>
     关于Python学习指南
    </h2>
    <p>
     学好 Python 不论是就业还是做副业赚钱都不错，但要学会 Python 还是要有一个学习规划。最后给大家分享一份全套的 Python 学习资料，给那些想学习 Python 的小伙伴们一点帮助！
    </p>
    <p>
     <mark>
      包括：Python激活码+安装包、Python web开发，Python爬虫，Python数据分析，人工智能、自动化办公等学习教程。带你从零基础系统性的学好Python！
     </mark>
    </p>
    <h4>
     <a id="Python_246">
     </a>
     👉Python所有方向的学习路线👈
    </h4>
    <p>
     Python所有方向路线就是把Python常用的技术点做整理，形成各个领域的知识点汇总，它的用处就在于，你可以按照上面的知识点去找对应的学习资源，保证自己学得较为全面。
     <mark>
      <strong>
       （全套教程文末领取）
      </strong>
     </mark>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/37e0defe6d5a98ad6ad7a0780a1ba67e.png"/>
    </p>
    <h4>
     <a id="Python600_257">
     </a>
     👉Python学习视频600合集👈
    </h4>
    <p>
     观看零基础学习视频，看视频学习是最快捷也是最有效果的方式，跟着视频中老师的思路，从基础到深入，还是很容易入门的。
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/bd6f837d59c5d967e7bbead0cfd6e1d6.png"/>
    </p>
    <h4>
     <a id="mark_265">
     </a>
     <mark>
      温馨提示：篇幅有限，已打包文件夹，获取方式在：文末
     </mark>
    </h4>
    <h4>
     <a id="Python70_272">
     </a>
     👉Python70个实战练手案例&amp;源码👈
    </h4>
    <p>
     光学理论是没用的，要学会跟着一起敲，要动手实操，才能将自己的所学运用到实际当中去，这时候可以搞点实战案例来学习。
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/0ac9850f4ffe07019ebc6537d6d53795.png"/>
    </p>
    <h4>
     <a id="Python_280">
     </a>
     👉Python大厂面试资料👈
    </h4>
    <p>
     我们学习Python必然是为了找到高薪的工作，下面这些面试题是来自
     <strong>
      阿里、腾讯、字节等一线互联网大厂
     </strong>
     最新的面试资料，并且有阿里大佬给出了权威的解答，刷完这一套面试资料相信大家都能找到满意的工作。
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/bdc1ce97ea9f251ca2711a7f905a2480.png"/>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/6017cf6930ff8bdfd0c5cb6ca53caeed.png"/>
    </p>
    <h4>
     <a id="Python_289">
     </a>
     👉Python副业兼职路线&amp;方法👈
    </h4>
    <p>
     学好 Python 不论是就业还是做副业赚钱都不错，但要学会兼职接单还是要有一个学习规划。
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/f6c242b466f058269472e474ddddc80f.png"/>
    </p>
    <p>
     <strong>
      👉
     </strong>
     <strong>
      这份完整版的Python全套学习资料已经上传，朋友们如果需要可以扫描下方CSDN官方认证二维码或者点击链接免费领取
     </strong>
     【
     <strong>
      <code>
       保证100%免费
      </code>
     </strong>
     】
    </p>
    <img src="https://i-blog.csdnimg.cn/blog_migrate/1d25d3164111f124db218faa1a60fe93.png">
    </img>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f707974686f6e313233345f2f:61727469636c652f64657461696c732f313337393531383536" class_="artid" style="display:none">
 </p>
</div>


