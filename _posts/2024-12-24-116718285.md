---
layout: post
title: "云平台配置与搭建环境配置"
date: 2024-12-24 13:15:52 +0800
description: "网卡配置进入网卡配置目录 cd /etc/sysconfig/network-scripts/vi "
keywords: "云平台账号注册和环境配置"
categories: ['']
tags: ['云计算', 'Yum', 'Linux', 'Centos']
artid: "116718285"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=116718285
    alt: "云平台配置与搭建环境配置"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     云平台配置与搭建(环境配置）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="_0">
     </a>
     网卡配置
    </h3>
    <pre><code>进入网卡配置目录 cd /etc/sysconfig/network-scripts/
</code></pre>
    <pre><code>vi ifcfg-eno16777736

static

IPADDR=192.168.73.100

NETMASK=255.255.255.0

GATEWAY=192.168.73.1

DNS=114.114.114.114
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/731656fa7bf824cf10e5d70c6f2d56a8.png#pic_center">
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/b656de8f64f0573d5f953ed0ea1716ec.png#pic_center"/>
     </img>
    </p>
    <pre><code>修改主机名 hostnamectl set-hostname controller 
切换目录 su
查看目录名hostname
</code></pre>
    <pre><code>编辑主机网址
 vi /etc/hosts
添加
​     192.168.73.100 xyxcontroller

​     192.168.72.110 xyxcompute

</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/2472cd1f714b934aef14637100e8569d.png#pic_center"/>
    </p>
    <pre><code>查看防火墙
systemctl status firewalld
关闭防火墙
systemctl stop firewalld &amp;&amp; systemctl disable firewalld
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/ea4dc6908fbd1b6e9d2d4da6606964ab.png#pic_center"/>
    </p>
    <pre><code>cat /etc/selinux/config
getenforce
sed -i s#SELINUX=enforcing#SELINUX=disabled# /etc/selinux/config
setenforce 0
getenforce
</code></pre>
    <h3>
     <a id="_60">
     </a>
     控制节点
    </h3>
    <pre><code>ls -ltr
创建文件夹挂载镜像
mkdir software
切换到送创建的文件夹下
cd software
在software下分别创建文件挂载路径
mkdir /opt/{centos,iaas}
挂载镜像在不同路径下
mount -o loop   CentOS-7-x86_64-DVD-1511.iso /opt/centos/
mount -o loop   XianDian-IaaS-v2.2.iso  /opt/iaas/
查看是否挂在成功
df -Th
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/6cc5d364f55b8770b597d9c9c5859c20.png#pic_center">
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/83b54b52cd59a893e97620392bf6ffaf.png#pic_center"/>
     </img>
    </p>
    <pre><code>进入yum.repos.d目录
cd /etc/yum.repos.d/
建立备份文件夹
 mkdir bak
 将文件移动到bak目录下
 mv *.repo bak/
 安装yum源
 yum list
 拷贝Media.repo到同级目录
 cp bak/CentOS-Media.repo ./local.repo
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/9d2dee5a27d454434707429f8a864fd5.png#pic_center"/>
    </p>
    <pre><code>编辑local.repo
vi local.repo
修改内容
 [centos]
name=centos
baseurl=file:///opt/centos
gpgcheck= 0
enabled= 1
[iaas]
name=iaas
baseurl=file:///opt/iaas/iaas-repo
gpgcheck= 0
enabled= 1
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/12b2b0d35500fc72adfba98e7e968509.png#pic_center"/>
    </p>
    <h3>
     <a id="_115">
     </a>
     安装配置
    </h3>
    <h4>
     <a id="_117">
     </a>
     控制节点
    </h4>
    <pre><code>安装ftp
 yum -y install vsftpd
编辑vsftpd.conf
  在最后加：anon_root=/opt/
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/aeb1dc098901e2bb955bf46970cb0bf3.png#pic_center"/>
    </p>
    <pre><code>设置vsftpd开机自启  
 systemctl start vsftpd &amp;&amp; systemctl enable vsftpd
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/c277e445c98b89db8a5367d3ac4580d5.png#pic_center"/>
    </p>
    <pre><code>安装xiandian安装包(安装完成后会自动生成xiandian文件)
yum -y install iaas-xiandian
</code></pre>
    <pre><code>安装完成后进入本地bin目录
cd /usr/local/bin
查看
ls -ltr
</code></pre>
    <pre><code>进入配置文件
cd /etc/xiandian/
修改配置文件openrc.sh
vi openrc.sh
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/2d0723435417a0d5a8e6fe6b658e53eb.png#pic_center"/>
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/d756977764549f748ae1c9f55afff752.png#pic_center"/>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/aa25cf10120972c97ae9ebfaa8deaa34.png#pic_center"/>
    </p>
    <pre><code>2进入本地bin目录
cd  /usr/local/bin
  查看目录下内容：ls -ltr
安装
1、iaas-pre-host.sh
2、iaas-install-mysql.sh
3、iaas-install-keystone.sh
4、iaas-install-glance.sh
5、iaas-install-nova-controller.sh
6、iaas-install-dashboard.sh
7、iaas-install-dashboard.sh
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/aba5bf41e73453f831a940952f96ab14.png#pic_center"/>
    </p>
    <h4>
     <a id="_177">
     </a>
     计算节点
    </h4>
    <pre><code>进入yum.repos.d目录
cd /etc/yum.repos.d/
建立备份文件夹
 mkdir bak
 将文件移动到bak目录下
 mv *.repo bak/
 安装yum源
 yum list
 拷贝Media.repo到同级目录
 cp bak/CentOS-Media.repo ftp.repo
</code></pre>
    <pre><code>编辑ftp.repo
vi ftp.repo
更改为
[centos]
name=centos
baseurl=ftp://controller/centos
gpgcheck= 0
enabled= 1
[iaas]
name=iaas
baseurl=ftp://controller/iaas/iaas-repo
gpgcheck= 0
enabled= 1
</code></pre>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/b30b1a081f057eb506e1867221841612.png#pic_center"/>
    </p>
    <p>
     上述完成后可在本机计算机上查看
    </p>
    <p>
     注：网址使用控制节点第一张网卡所配置的IP
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/0bad778427504a273f9222084ef144a8.png#pic_center"/>
    </p>
    <pre><code>1、在计算节点和控制节点上安装iaas-xiandian软件包
yum -y install iaas-xiandian 
2、进入目录
cd /etc/xiandian/
3、使用sed命令进行批量修改密码信息
sed -i 's/_PASS=/_PASS=000000/' /etc/xiandian/openrc.sh
sed -i 's/_DBPASS=/_DBPASS=000000/' /etc/xiandian/openrc.sh
4、查看 openrc
cat openrc.sh
5、从控制节点拷贝变量配置文件
scp root@xyxcontroller:/etc/xiandian/openrc.sh /etc/xiandian/openrc.sh 
6、使环境变量生效
source /etc/xiandian/openrc.sh
7、进入本地bin目录
cd  /usr/local/bin
  查看目录下内容：ls -ltr
安装
1、iaas-pre-host.sh
2、iaas-install-nova-compute.sh 
3、iaas-install-neutron-compute.sh
</code></pre>
    <p>
     dian/openrc.sh
     <br/>
     6、使环境变量生效
     <br/>
     source /etc/xiandian/openrc.sh
     <br/>
     7、进入本地bin目录
     <br/>
     cd /usr/local/bin
     <br/>
     查看目录下内容：ls -ltr
     <br/>
     安装
     <br/>
     1、iaas-pre-host.sh
     <br/>
     2、iaas-install-nova-compute.sh
     <br/>
     3、iaas-install-neutron-compute.sh
    </p>
    <pre><code>![在这里插入图片描述](https://img-blog.csdnimg.cn/20210512190122935.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzUyNTExMDI2,size_16,color_FFFFFF,t_70#pic_center)

</code></pre>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f35323531313032362f:61727469636c652f64657461696c732f313136373138323835" class_="artid" style="display:none">
 </p>
</div>


