---
layout: post
title: "小程序中半屏打开其他小程序,开发者工具调试半屏"
date: 2023-06-13 14:47:14 +0800
description: "小程序中半屏打开其他小程序_半屏小程序跳转"
keywords: "半屏小程序跳转"
categories: ['未分类']
tags: ['小程序']
artid: "131187591"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=131187591
  alt: "小程序中半屏打开其他小程序,开发者工具调试半屏"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     小程序中半屏打开其他小程序，开发者工具调试半屏
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h4>
     前言：
    </h4>
    <h4>
     有需要是在当前小程序中，点击操作时，如果他没有注册会员，则强制去另一个小程序去注册会员，注册成功在返回，在这期间，打开另一个小程序是半屏来展示的。
    </h4>
    <h2>
     实现效果：
    </h2>
    <blockquote>
     <p>
      在a小程序中半屏展示b小程序，半屏上方展示b小程序信息，打开的vconsole还有底部分享等都是b小程序的内容
     </p>
    </blockquote>
    <p>
     <img alt="" height="887" src="https://i-blog.csdnimg.cn/blog_migrate/7a93181c0b086fa4bd77478a0679ae50.png" width="399"/>
    </p>
    <h2>
     实现步骤：
    </h2>
    <h4>
     1、
     <a class="link-info" href="https://mp.weixin.qq.com/" rel="nofollow" title="微信公众号平台">
      微信公众号平台
     </a>
     中配置两个小程序的  appid
    </h4>
    <blockquote>
     <p>
      设置--》第三方设置--》半屏小程序管理     添加你的双方小程序
     </p>
    </blockquote>
    <p>
     <img alt="" height="293" src="https://i-blog.csdnimg.cn/blog_migrate/1f339e4ca95ef95c25a9aa2ddeafe716.png" width="929"/>
    </p>
    <p>
     <img alt="" height="603" src="https://i-blog.csdnimg.cn/blog_migrate/4b514e15b100383ead3b5bfaaca9b2e9.png" width="1200"/>
    </p>
    <h4>
     2、a小程序中 app.json 中添加
    </h4>
    <blockquote>
     <p>
      <strong>
       2.23.1以下版本基础库
      </strong>
      ，开发者需要在全局配置
      <code>
       app.json
      </code>
      的
      <code>
       embeddedAppIdList
      </code>
      字段中声明需要半屏跳转的小程序，若不配置将切换为普通的小程序跳转小程序。
      <strong>
       2.23.1及以上版本起无需配置
      </strong>
      。
     </p>
    </blockquote>
    <pre><code class="language-javascript">"embeddedAppIdList": ["wx5e7f6f2293842***", "wxfc028f6cd8075***"],</code></pre>
    <p>
     <img alt="" height="586" src="https://i-blog.csdnimg.cn/blog_migrate/7e6450563dce11bee9f44516bb0eeabc.png" width="1200"/>
    </p>
    <h4>
     3、b小程序中 app.json 配置同a小程序，跳转方法：
    </h4>
    <pre><code class="language-javascript">wx.openEmbeddedMiniProgram({
    // 要跳转的小程序的appid
    appId: 'wxfc028f6cd8075***',
    path: `/pages/index/index?scene=inviteCode%3D1668147166040371201`,
    success: () =&gt; {},
    fail: (error) =&gt; {
        console.log('跳转小程序失败', error)
    },
    complete: () =&gt; {

}
})</code></pre>
<h4>
4、官方提供的其他功能
</h4>
<blockquote>
<p id="半屏小程序环境判断">
<strong>
半屏小程序环境判断
</strong>
</p>
<p>
开发者可以通过调用
<a href="https://developers.weixin.qq.com/miniprogram/dev/api/base/app/life-cycle/wx.getEnterOptionsSync.html" rel="nofollow" title=" wx.getEnterOptionsSync">
wx.getEnterOptionsSync
</a>
读取
<code>
<strong>
apiCategory
</strong>
</code>
参数，当值为
<code>
embedded
</code>
时，可以判断此时小程序被半屏打开。
</p>
<p id="返回原小程序">
<strong>
返回原小程序
</strong>
</p>
<p>
被半屏打开的小程序可以以通过调用
<a href="https://developers.weixin.qq.com/miniprogram/dev/api/navigate/wx.navigateBackMiniProgram.html" rel="nofollow" title="wx.navigateBackMiniProgram">
wx.navigateBackMiniProgram
</a>
返回上一个小程序。
</p>
</blockquote>
<h2>
开发者工具调试半屏效果方法：
</h2>
<h4>
1、点击开发者工具的   普通编译，如果新项目没有，新建一个
</h4>
<p>
<img alt="" height="636" src="https://i-blog.csdnimg.cn/blog_migrate/85ba23ca82f38b340932c9bd64d2f97c.png" width="645"/>
</p>
<h4>
2、打开小程序模块，可以看到有多种半屏可以选择
</h4>
<p>
<img alt="" height="557" src="https://i-blog.csdnimg.cn/blog_migrate/6c0b3b606fe52be0ef4563711468986c.png" width="668"/>
</p>
<h4>
3、选择最下面的 就是我们半屏的效果了，半屏类原生是我们项目中加的半屏弹框
</h4>
<p>
<img alt="" height="201" src="https://i-blog.csdnimg.cn/blog_migrate/ea8d4434b98503c56366211cdd424c25.png" width="446"/>
</p>
<p>
<img alt="" height="819" src="https://i-blog.csdnimg.cn/blog_migrate/542f30fb804863b916f08abdc49b6fed.png" width="384"/>
</p>
<h2>
半屏打开的 b 小程序的注意事项：
</h2>
<blockquote>
<ul>
<li>
b 小程序必须做到，使用所有的单位都是响应式的 rpx,  vh 等等，如果有 px  以及   calc  计算出来的 px  会导致高度出现异常
</li>
<li>
b 小程序半屏的比例是:   665/812
</li>
</ul>
</blockquote>
<h2>
官方 api:
</h2>
<p>
<a class="has-card" href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/openEmbeddedMiniProgram.html" rel="nofollow" title="打开半屏小程序 | 微信开放文档">
<span class="link-card-box">
<span class="link-title">
打开半屏小程序 | 微信开放文档
</span>
<span class="link-desc">
微信开发者平台文档
</span>
<span class="link-link">
<img alt="" class="link-link-icon" src="https://i-blog.csdnimg.cn/blog_migrate/aace7af9b4cf9ef918e2e8591ffc7a2b.png"/>
https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/openEmbeddedMiniProgram.html
</span>
</span>
</a>
<img alt="" height="849" src="https://i-blog.csdnimg.cn/blog_migrate/a07d0891b5d30d660450e158e073cab9.png" width="1023"/>
</p>
<p>
</p>

   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f34313631393739362f:61727469636c652f64657461696c732f313331313837353931" class_="artid" style="display:none">
 </p>
</div>
