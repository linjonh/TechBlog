---
layout: post
title: "Web3-游戏教程-学习如何用-TON-区块链构建-Web3-游戏"
date: 2025-01-07 18:05:31 +0800
description: "在本教程中，我们将探讨如何将 TON 区块链添加到游戏中。作为示例，我们将使用 Phaser 编写的"
keywords: "tonconnect-manifest.json"
categories: ['未分类']
tags: ['游戏', '学习', 'Web']
artid: "140006804"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=140006804
  alt: "Web3-游戏教程-学习如何用-TON-区块链构建-Web3-游戏"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Web3 游戏教程 - 学习如何用 TON 区块链构建 Web3 游戏
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h3 id="教程内容">
     教程内容
     <a href="https://docs.ton.org/mandarin/develop/dapps/tutorials/building-web3-game#%E6%95%99%E7%A8%8B%E5%86%85%E5%AE%B9" rel="nofollow" title="​">
      ​
     </a>
    </h3>
    <p>
     在本教程中，我们将探讨如何将 TON 区块链添加到游戏中。作为示例，我们将使用 Phaser 编写的 Flappy Bird 克隆游戏，并逐步添加 GameFi 功能。在教程中，我们将使用短代码片段和伪代码来增加可读性。同时，我们还将提供指向真实代码块的链接，以帮助您更好地理解。完整的实现可以在
     <a href="https://github.com/ton-community/flappy-bird" title="演示库">
      演示库
     </a>
     中找到。
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="没有 GameFi 功能的 Flappy Bird 游戏" height="1068" src="https://i-blog.csdnimg.cn/blog_migrate/7cfd3a52d9a4220874ef21812314d54b.png" width="602"/>
    </p>
    <p>
     我们将实现以下功能：
    </p>
    <ul>
     <li>
      成就奖励。让我们用
      <a href="https://docs.ton.org/learn/glossary#sbt" rel="nofollow" title="SBTs">
       SBTs
      </a>
      奖励我们的用户。成就系统是增加用户参与度的绝佳工具。
     </li>
     <li>
      游戏货币。在 TON 区块链上，启动自己的代币（jetton）很容易。代币可以用来创建游戏内经济。我们的用户将能够赚取游戏币并在之后消费它们。
     </li>
     <li>
      游戏商店。我们将为用户提供使用游戏货币或 TON 代币购买游戏内物品的可能性。
     </li>
    </ul>
    <h3 id="准备工作">
     准备工作
     <a href="https://docs.ton.org/mandarin/develop/dapps/tutorials/building-web3-game#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C" rel="nofollow" title="​">
      ​
     </a>
    </h3>
    <h4 id="安装-gamefi-sdk">
     安装 GameFi SDK
     <a href="https://docs.ton.org/mandarin/develop/dapps/tutorials/building-web3-game#%E5%AE%89%E8%A3%85-gamefi-sdk" rel="nofollow" title="​">
      ​
     </a>
    </h4>
    <p>
     首先，我们将设置游戏环境。为此，我们需要安装
     <code>
      assets-sdk
     </code>
     。该包旨在准备开发者集成区块链到游戏中所需的一切。该库可以从 CLI 或 Node.js 脚本中使用。在本教程中，我们选择 CLI 方法。
    </p>
    <pre><code>npm install -g @ton-community/assets-sdk@beta
</code></pre>
    <p>
    </p>
    <h4 id="创建主钱包">
     创建主钱包
     <a href="https://docs.ton.org/mandarin/develop/dapps/tutorials/building-web3-game#%E5%88%9B%E5%BB%BA%E4%B8%BB%E9%92%B1%E5%8C%85" rel="nofollow" title="​">
      ​
     </a>
    </h4>
    <p>
     接下来，我们需要创建一个主钱包。主钱包是我们将用来铸造 jetton、收藏品、NFT、SBT 和接收支付的钱包。
    </p>
    <pre><code>assets-cli setup-env
</code></pre>
    <p>
    </p>
    <p>
     您将被问及几个问题：
    </p>
    <table>
     <thead>
      <tr>
       <th>
        字段
       </th>
       <th>
        提示
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        网络
       </td>
       <td>
        选择
        <code>
         testnet
        </code>
        ，因为它是测试游戏。
       </td>
      </tr>
      <tr>
       <td>
        类型
       </td>
       <td>
        选择
        <code>
         highload-v2
        </code>
        类型的钱包，因为它是用作主钱包的最佳、最高性能选项。
       </td>
      </tr>
      <tr>
       <td>
        存储
       </td>
       <td>
        用于存储
        <code>
         NFT
        </code>
        /
        <code>
         SBT
        </code>
        文件的存储。可以选择
        <code>
         Amazon S3
        </code>
        （集中式）或
        <code>
         Pinata
        </code>
        （去中心化）。 对于本教程，让我们使用
        <code>
         Pinata
        </code>
        ，因为去中心化存储对 Web3 游戏更具说明性。
       </td>
      </tr>
      <tr>
       <td>
        IPFS 网关
       </td>
       <td>
        从中加载资产元数据的服务：
        <code>
         pinata
        </code>
        、
        <code>
         ipfs.io
        </code>
        或输入其他服务 URL。
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     脚本输出您可以打开的链接，以查看创建的钱包状态。
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="新钱包处于 Nonexist 状态" height="692" src="https://i-blog.csdnimg.cn/blog_migrate/b26dd926bd3fce51719d0c59a0a4cb85.png" width="1200"/>
    </p>
    <p>
     如您所见，钱包实际上还没有创建。要想钱包真正创建，我们需要往里面存一些资金。在现实世界场景中，您可以使用任何喜欢的方式通过钱包地址存入钱包。在我们的案例中，我们将使用
     <a href="https://t.me/testgiver_ton_bot" rel="nofollow" title="Testgiver TON Bot">
      Testgiver TON Bot
     </a>
     。请打开它领取 5 个测试 TON 代币。
    </p>
    <p>
     稍后您将看到钱包中有 5 个 TON，并且其状态变为
     <code>
      Uninit
     </code>
     。钱包准备就绪。首次使用后，其状态会变为
     <code>
      Active
     </code>
     。
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="充值后的钱包状态" height="692" src="https://i-blog.csdnimg.cn/blog_migrate/b26dd926bd3fce51719d0c59a0a4cb85.png" width="1200"/>
    </p>
    <h4 id="铸造游戏货币">
     铸造游戏货币
     <a href="https://docs.ton.org/mandarin/develop/dapps/tutorials/building-web3-game#%E9%93%B8%E9%80%A0%E6%B8%B8%E6%88%8F%E8%B4%A7%E5%B8%81" rel="nofollow" title="​">
      ​
     </a>
    </h4>
    <p>
     我们打算创建游戏货币，以奖励用户：
    </p>
    <pre><code>assets-cli deploy-jetton
</code></pre>
    <p>
    </p>
    <p>
     您将被问及几个问题：
    </p>
    <table>
     <thead>
      <tr>
       <th>
        字段
       </th>
       <th>
        提示
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        名称
       </td>
       <td>
        代币名称，例如
        <code>
         Flappy Jetton
        </code>
        。
       </td>
      </tr>
      <tr>
       <td>
        描述
       </td>
       <td>
        代币描述，例如：来自 Flappy Bird 宇宙的生动数字代币。
       </td>
      </tr>
      <tr>
       <td>
        图片
       </td>
       <td>
        下载预备好的
        <a href="https://raw.githubusercontent.com/ton-community/flappy-bird/ca4b6335879312a9b94f0e89384b04cea91246b1/scripts/tokens/flap/image.png" rel="nofollow" title="jetton 标志">
         jetton 标志
        </a>
        并指定文件路径。当然，您也可以使用任何图片。
       </td>
      </tr>
      <tr>
       <td>
        符号
       </td>
       <td>
        <code>
         FLAP
        </code>
        或输入您想使用的任何缩写。
       </td>
      </tr>
      <tr>
       <td>
        小数位
       </td>
       <td>
        货币小数点后将有多少个零。在我们的案例中，让它为
        <code>
         0
        </code>
        。
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     脚本输出您可以打开的链接，以查看创建的 jetton 状态。它将具有
     <code>
      Active
     </code>
     状态。钱包状态将从
     <code>
      Uninit
     </code>
     变为
     <code>
      Active
     </code>
     。
    </p>
    <p>
    </p>
    <p class="img-center">
     <img alt="游戏货币 / jetton" height="1118" src="https://i-blog.csdnimg.cn/blog_migrate/9bbc6347341e80b7aa26ee79f5ee9175.png" width="1200"/>
    </p>
    <h4 id="为-sbt-创建收藏品">
     为 SBT 创建收藏品
     <a href="https://docs.ton.org/mandarin/develop/dapps/tutorials/building-web3-game#%E4%B8%BA-sbt-%E5%88%9B%E5%BB%BA%E6%94%B6%E8%97%8F%E5%93%81" rel="nofollow" title="​">
      ​
     </a>
    </h4>
    <p>
     仅作为示例，演示游戏中我们将奖励用户玩第一次和第五次游戏。因此，我们将铸造两个收藏品，以便在用户达到相关条件（第一次和第五次玩游戏）时将 SBT 放入其中：
    </p>
    <pre><code>assets-cli deploy-nft-collection
</code></pre>
    <p>
    </p>
    <table>
     <thead>
      <tr>
       <th>
        字段
       </th>
       <th>
        第一次游戏
       </th>
       <th>
        第五次游戏
       </th>
      </tr>
     </thead>
     <tbody>
      <tr>
       <td>
        类型
       </td>
       <td>
        <code>
         sbt
        </code>
       </td>
       <td>
        <code>
         sbt
        </code>
       </td>
      </tr>
      <tr>
       <td>
        名称
       </td>
       <td>
        Flappy First Flight
       </td>
       <td>
        Flappy High Fiver
       </td>
      </tr>
      <tr>
       <td>
        描述
       </td>
       <td>
        纪念您在 Flappy Bird 游戏中的首次旅行！
       </td>
       <td>
        以 Flappy High Fiver NFT 庆祝您的持续游戏！
       </td>
      </tr>
      <tr>
       <td>
        图片
       </td>
       <td>
        您可以在此处下载
        <a href="https://raw.githubusercontent.com/ton-community/flappy-bird/article-v1/scripts/tokens/first-time/image.png" rel="nofollow" title="图片">
         图片
        </a>
       </td>
       <td>
        您可以在此处下载
        <a href="https://raw.githubusercontent.com/ton-community/flappy-bird/article-v1/scripts/tokens/five-times/image.png" rel="nofollow" title="图片">
         图片
        </a>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     我们已经做好充分准备。接下来，让我们进入逻辑实现。
    </p>
    <h3 id="连接钱包">
     连接钱包
     <a href="https://docs.ton.org/mandarin/develop/dapps/tutorials/building-web3-game#%E8%BF%9E%E6%8E%A5%E9%92%B1%E5%8C%85" rel="nofollow" title="​">
      ​
     </a>
    </h3>
    <p>
     一切从用户连接其钱包开始。因此，让我们添加钱包连接集成。要从客户端操作区块链，我们需要为 Phaser 安装 GameFi SDK：
    </p>
    <pre><code>npm install --save @ton/phaser-sdk@beta
</code></pre>
    <p>
    </p>
    <p>
     现在，让我们设置 GameFi SDK 并创建它的实例：
    </p>
    <pre><code>import { GameFi } from '@ton/phaser-sdk'

const gameFi = await GameFi.create({
network: 'testnet'
connector: {
// 如果 tonconnect-manifest.json 放在根目录，您可以跳过此选项
manifestUrl: '/assets/tonconnect-manifest.json',
actionsConfiguration: {
// 已连接钱包后返回到您的 Telegram Mini App 的地址
// 您在创建应用过程中向 BothFather 提供的 URL
// 了解更多，请阅读 https://github.com/ton-community/flappy-bird#telegram-bot--telegram-web-app
twaReturnUrl: URL_YOU_ASSIGNED_TO_YOUR_APP
},
contentResolver: {
// 一些 NFT 市场不支持 CORS，因此我们需要使用代理
// 您可以使用任何 URL 格式，%URL% 将被替换为实际 URL
urlProxy: `${YOUR_BACKEND_URL}/${PROXY_URL}?url=%URL%`
},
// 游戏内购买的去处
merchant: {
// 游戏内 jetton 购买（FLAP）
// 使用运行 `assets-cli deploy-jetton` 获得的地址
jettonAddress: FLAP_ADDRESS,
// 游戏内 TON 购买
// 使用运行 `assets-cli setup-env` 获得的主钱包地址
tonAddress: MASTER_WALLET_ADDRESS
}
},

})
</code></pre>
<p>
</p>
<blockquote>
<p>
要了解更多关于初始化选项，请阅读
<a href="https://github.com/ton-org/game-engines-sdk" title="库文档">
库文档
</a>
。
</p>
</blockquote>
<blockquote>
<p>
要了解什么是
<code>
tonconnect-manifest.json
</code>
，请查看 ton-connect
<a href="https://docs.ton.org/develop/dapps/ton-connect/manifest" rel="nofollow" title="manifest描述">
manifest 描述
</a>
。
</p>
</blockquote>
<p>
现在我们准备创建一个连接钱包按钮。让我们在 Phaser 中创建一个 UI 场景，该场景将包含连接按钮：
</p>
<pre><code>class UiScene extends Phaser.Scene {
// 通过构造函数接收 gameFi 实例
private gameFi: GameFi;

    create() {
        this.button = this.gameFi.createConnectButton({
            scene: this,
            // 您可以为按钮计算 UI 场景中的位置
            x: 0,
            y: 0,
            button: {
                onError: (error) =&gt; {
                    console.error(error)
                }
                // 其他选项，请阅读文档
            }
        })
    }

}
</code></pre>
<p>
</p>
<blockquote>
<p>
阅读如何创建
<a href="https://github.com/ton-community/flappy-bird/blob/article-v1/workspaces/client/src/connect-wallet-ui.ts#L82" title="连接按钮">
连接按钮
</a>
和
<a href="https://github.com/ton-community/flappy-bird/blob/article-v1/workspaces/client/src/connect-wallet-ui.ts#L45" title="UI 场景">
UI 场景
</a>
。
</p>
</blockquote>
<p>
要监控用户何时连接或断开其钱包，让我们使用以下代码片段：
</p>
<pre><code>function onWalletChange(wallet: Wallet | null) {
if (wallet) {
// 钱包已准备就绪
} else {
// 钱包已断开连接
}
}
const unsubscribe = gameFi.onWalletChange(onWalletChange)
</code></pre>
<p>
</p>
<blockquote>
<p>
要了解更多复杂场景，请查看
<a href="https://github.com/ton-community/flappy-bird/blob/article-v1/workspaces/client/src/index.ts#L16" title="钱包连接流程">
钱包连接流程
</a>
的完整实现。
</p>
</blockquote>
<p>
阅读如何实现
<a href="https://github.com/ton-community/flappy-bird/blob/article-v1/workspaces/client/src/index.ts#L50" title="游戏 UI 管理">
游戏 UI 管理
</a>
。
</p>
<p>
现在我们已经连接了用户钱包，可以继续进行了。
</p>
<p>
</p>
<p class="img-center">
<img alt="连接钱包按钮" height="1068" src="https://i-blog.csdnimg.cn/blog_migrate/d73cdddbb4b77b946d1a3061eeb98ae5.png" width="601"/>
</p>
<p>
</p>
<p class="img-center">
<img alt="确认钱包连接" height="1068" src="https://i-blog.csdnimg.cn/blog_migrate/ee69e1eb5dcebd92e6da578a24303a96.png" width="602"/>
</p>
<p>
</p>
<p class="img-center">
<img alt="钱包已连接" height="1068" src="https://i-blog.csdnimg.cn/blog_migrate/3aad2ea6dba2a1093e7867428dff6209.png" width="602"/>
</p>
<h3 id="实现成就和奖励">
实现成就和奖励
<a href="https://docs.ton.org/mandarin/develop/dapps/tutorials/building-web3-game#%E5%AE%9E%E7%8E%B0%E6%88%90%E5%B0%B1%E5%92%8C%E5%A5%96%E5%8A%B1" rel="nofollow" title="​">
​
</a>
</h3>
<p>
为了实现成就和奖励系统，我们需要准备一个端点，每个用户尝试时都会请求该端点。
</p>
<h4 id="played-端点">
<code>
/played
</code>
端点
<a href="https://docs.ton.org/mandarin/develop/dapps/tutorials/building-web3-game#played-%E7%AB%AF%E7%82%B9" rel="nofollow" title="​">
​
</a>
</h4>
<p>
我们需要创建一个
<code>
/played
</code>
端点，该端点必须完成以下操作：
</p>
<ul>
<li>
接收带有用户钱包地址和 Mini App 启动时传递给 Mini App 的 Telegram 初始数据的正文。需要解析初始数据以提取认证数据，并确保用户只代表其自身发送请求。
</li>
<li>
该端点必须计算并存储用户玩的游戏数。
</li>
<li>
该端点必须检查是否是用户的第一次或第五次游戏，如果是，便使用相关的 SBT 奖励用户。
</li>
<li>
该端点必须为每次游戏奖励用户 1 FLAP。
</li>
</ul>
<blockquote>
<p>
阅读
<a href="https://github.com/ton-community/flappy-bird/blob/article-v1/workspaces/server/src/index.ts#L197" title="/played 端点">
/played 端点
</a>
的代码。
</p>
</blockquote>
<h4 id="请求-played-端点">
请求
<code>
/played
</code>
端点
<a href="https://docs.ton.org/mandarin/develop/dapps/tutorials/building-web3-game#%E8%AF%B7%E6%B1%82-played-%E7%AB%AF%E7%82%B9" rel="nofollow" title="​">
​
</a>
</h4>
<p>
每次小鸟撞到管道或掉落时，客户端代码必须调用
<code>
/played
</code>
端点并传递正确的正文：
</p>
<pre><code>async function submitPlayed(endpoint: string, walletAddress: string) {
return await (await fetch(endpoint + '/played', {
body: JSON.stringify({
tg_data: (window as any).Telegram.WebApp.initData,
wallet: walletAddress
}),
headers: {
'content-type': 'application/json'
},
method: 'POST'
})).json()
}

const playedInfo = await submitPlayed('http://localhost:3001', wallet.account.address);
</code></pre>
<p>
</p>
<blockquote>
<p>
阅读
<a href="https://github.com/ton-community/flappy-bird/blob/article-v1/workspaces/client/src/game-scene.ts#L10" title="submitPlayer 函数">
submitPlayer 函数
</a>
的代码。
</p>
</blockquote>
<p>
让我们玩第一次，确保我们将获得 FLAP 代币和 SBT 的奖励。点击 Play 按钮，穿过一个或两个管道，然后撞到一个管道上。好的，一切都在工作！
</p>
<p>
</p>
<p class="img-center">
<img alt="被奖励的代币和 SBT" height="1068" src="https://i-blog.csdnimg.cn/blog_migrate/04b988a0793bc2e98e6cf756b19a988b.png" width="601"/>
</p>
<p>
再次玩 4 次以获得第二个 SBT，然后打开您的钱包，TON Space。这里是您的收藏品：
</p>
<p>
</p>
<p class="img-center">
<img alt="钱包中的成就 SBT" height="1068" src="https://i-blog.csdnimg.cn/blog_migrate/f4ef337185f91d55047974ef102a7744.png" width="601"/>
</p>
<h3 id="实现游戏商店">
实现游戏商店
<a href="https://docs.ton.org/mandarin/develop/dapps/tutorials/building-web3-game#%E5%AE%9E%E7%8E%B0%E6%B8%B8%E6%88%8F%E5%95%86%E5%BA%97" rel="nofollow" title="​">
​
</a>
</h3>
<p>
要拥有游戏内商店，我们需要两个组件。第一个是提供关于用户购买的信息的端点。第二个是全局循环，以监视用户交易并为其所有者分配游戏属性。
</p>
<h4 id="purchases-端点">
<code>
/purchases
</code>
端点
<a href="https://docs.ton.org/mandarin/develop/dapps/tutorials/building-web3-game#purchases-%E7%AB%AF%E7%82%B9" rel="nofollow" title="​">
​
</a>
</h4>
<p>
该端点执行以下操作：
</p>
<ul>
<li>
接收带有 Telegram Mini Apps 初始数据的
<code>
auth
</code>
get 参数。
</li>
<li>
该端点获取用户购买的物品并以物品列表的形式做出响应。
</li>
</ul>
<blockquote>
<p>
阅读
<a href="https://github.com/ton-community/flappy-bird/blob/article-v1/workspaces/server/src/index.ts#L303" title="/purchases">
/purchases
</a>
端点的代码。
</p>
</blockquote>
<h4 id="购买循环">
购买循环
<a href="https://docs.ton.org/mandarin/develop/dapps/tutorials/building-web3-game#%E8%B4%AD%E4%B9%B0%E5%BE%AA%E7%8E%AF" rel="nofollow" title="​">
​
</a>
</h4>
<p>
要知道用户何时进行支付，我们需要监视主钱包的交易记录。每笔交易都必须包含消息
<code>
userId
</code>
：
<code>
itemId
</code>
。我们将记住最后处理的交易，只获取新的交易，使用
<code>
userId
</code>
和
<code>
itemId
</code>
为用户分配他们购买的属性，重写最后一笔交易的哈希。这将在无限循环中工作。
</p>
<blockquote>
<p>
阅读
<a href="https://github.com/ton-community/flappy-bird/blob/article-v1/workspaces/server/src/index.ts#L110" title="购买循环">
购买循环
</a>
的代码。
</p>
</blockquote>
<h4 id="客户端的商店">
客户端的商店
<a href="https://docs.ton.org/mandarin/develop/dapps/tutorials/building-web3-game#%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9A%84%E5%95%86%E5%BA%97" rel="nofollow" title="​">
​
</a>
</h4>
<p>
在客户端，我们有进入商店的按钮。
</p>
<p>
</p>
<p class="img-center">
<img alt="进入商店按钮" height="1068" src="https://i-blog.csdnimg.cn/blog_migrate/e373924e8a7bbe53570a751da6230409.png" width="602"/>
</p>
<p>
当用户点击按钮时，将打开商店场景。商店场景包含用户可以购买的物品列表。每个物品都有价格和购买按钮。当用户点击购买按钮时，将进行购买。
</p>
<p>
打开商店会触发购买商品的加载，并每 10 秒更新一次：
</p>
<pre><code>// 在 fetchPurchases 函数内部
await fetch('http://localhost:3000/purchases?auth=' + encodeURIComponent((window as any).Telegram.WebApp.initData))
// 监视购买
setTimeout(() =&gt; { fetchPurchases() }, 10000)
</code></pre>
<p>
</p>
<blockquote>
<p>
阅读
<a href="https://github.com/ton-community/flappy-bird/blob/article-v1/workspaces/client/src/ui.ts#L191" title="showShop 函数">
showShop 函数
</a>
的代码。
</p>
</blockquote>
<p>
现在我们需要实现购买本身。为此，我们首先将创建 GameFi SDK 实例，然后使用
<code>
buyWithJetton
</code>
方法：
</p>
<pre><code>gameFi.buyWithJetton({
amount: BigInt(price),
forwardAmount: BigInt(1),
forwardPayload: (window as any).Telegram.WebApp.initDataUnsafe.user.id + ':' + itemId
});
</code></pre>
<p>
</p>
<p>
</p>
<p class="img-center">
<img alt="要购买的游戏道具" height="1068" src="https://i-blog.csdnimg.cn/blog_migrate/a9dc83944a0d4c94010e57336c7ed7f9.png" width="603"/>
</p>
<p>
</p>
<p class="img-center">
<img alt="购买确认" height="1068" src="https://i-blog.csdnimg.cn/blog_migrate/8ad3929d41906ef242c3a3ac4c81bd00.png" width="601"/>
</p>
<p>
</p>
<p class="img-center">
<img alt="道具准备使用" height="1068" src="https://i-blog.csdnimg.cn/blog_migrate/83988a0c8e9c223d0c2597e20cdda769.png" width="602"/>
</p>
<p>
也可以用 TON 代币支付：
</p>
<pre><code>import { toNano } from '@ton/phaser-sdk'

gameFi.buyWithTon({
amount: toNano(0.5),
comment: (window as any).Telegram.WebApp.initDataUnsafe.user.id + ':' + 1
});
</code></pre>
<p>
</p>
<h3 id="后记">
后记
<a href="https://docs.ton.org/mandarin/develop/dapps/tutorials/building-web3-game#%E5%90%8E%E8%AE%B0" rel="nofollow" title="​">
​
</a>
</h3>
<p>
本教程到此结束！我们考虑了基本的 GameFi 功能，但 SDK 提供了更多功能，如玩家之间的转账、操作 NFT 和收藏品的工具等。将来我们会提供更多功能。
</p>
<p>
要了解所有可用的 GameFi 功能，请阅读
<a href="https://github.com/ton-org/game-engines-sdk" title="ton-org/game-engines-sdk">
ton-org/game-engines-sdk
</a>
和
<a href="https://github.com/ton-community/assets-sdk" title="@ton-community/assets-sdk">
@ton-community/assets-sdk
</a>
的文档。
</p>
<p>
所以，请在
<a href="https://github.com/ton-org/game-engines-sdk/discussions" title="讨论区">
讨论区
</a>
告诉我们您的想法！
</p>
<p>
社区：https://t.me/ton_community_zh
</p>

   </div>
  </div>
 </article>
 <p alt="68747470733a:2f2f626c6f672e6373646e2e6e65742f79617961676f6e672f:61727469636c652f64657461696c732f313430303036383034" class_="artid" style="display:none">
 </p>
</div>
