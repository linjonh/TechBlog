---
layout: post
title: "微信小程序使用scroll-view的布局方法"
date: 2024-12-01 17:12:28 +0800
description: "最近在做微信小程序的时候用到了scroll-view这个组件，官方文档表明在使用竖向滚动时，需要给组"
keywords: "小程序 scroll-view 两列布局"
categories: ['未分类']
tags: ['Ui']
artid: "91387381"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=91387381
  alt: "微信小程序使用scroll-view的布局方法"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     微信小程序使用scroll-view的布局方法
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <div class="article-content">
     <p>
      最近在做微信小程序的时候用到了scroll-view这个组件，官方文档表明在使用竖向滚动时，需要给组件一个固定高度，但是在实际应用时需要自适应高度，需求如下。
     </p>
     <h2 class="heading">
      需求
     </h2>
     <ol>
      <li>
       顶部搜索框固定高度；
      </li>
      <li>
       scroll-view部分自适应高度滚动；
      </li>
     </ol>
     <h2 class="heading">
      解决办法
     </h2>
     <p>
      在开发的时候是在js中用窗口高度减去已知固定高度，再赋值给scroll-view组件，但是出现了在部分手机上出现滚动条或者无法铺满屏幕的问题，在求助网友之后，得到了几种解决办法，一一测试过，都是好用的，再次记录一下。
     </p>
     <p>
      wxml结构如下
     </p>
     <pre><code class="hljs bash copyable">&lt;view class=<span class="hljs-string">"container"</span>&gt;
  &lt;view class=<span class="hljs-string">"search-wrapper"</span>&gt;
    这里是搜索框
  &lt;/view&gt;
    &lt;scroll-view class=<span class="hljs-string">"scrollView-wrapper"</span> scroll-y=<span class="hljs-string">"true"</span>&gt;
      &lt;view&gt;复健科熊家符合胡荣海可敬的防护UI人埃及覅合家福我看得见覅阿牛见覅积分为我埃及覅就爱润肺久见覅爱抚你自己覅诶IEu菲欧自己覅诶恶魔女阿努OK骄傲诶覅&lt;/view&gt;
      &lt;view&gt;复健科熊家符合胡荣海可敬的防护UI人埃及覅合家福我看得见覅阿牛见覅积分为我埃及覅就爱润肺久见覅爱抚你自己覅诶IEu菲欧自己覅诶恶魔女阿努OK骄傲诶覅&lt;/view&gt;
      &lt;view&gt;复健科熊家符合胡荣海可敬的防护UI人埃及覅合家福我看得见覅阿牛见覅积分为我埃及覅就爱润肺久见覅爱抚你自己覅诶IEu菲欧自己覅诶恶魔女阿努OK骄傲诶覅&lt;/view&gt;
      &lt;view&gt;复健科熊家符合胡荣海可敬的防护UI人埃及覅合家福我看得见覅阿牛见覅积分为我埃及覅就爱润肺久见覅爱抚你自己覅诶IEu菲欧自己覅诶恶魔女阿努OK骄傲诶覅&lt;/view&gt;
      &lt;view&gt;复健科熊家符合胡荣海可敬的防护UI人埃及覅合家福我看得见覅阿牛见覅积分为我埃及覅就爱润肺久见覅爱抚你自己覅诶IEu菲欧自己覅诶恶魔女阿努OK骄傲诶覅&lt;/view&gt;
      &lt;view&gt;复健科熊家符合胡荣海可敬的防护UI人埃及覅合家福我看得见覅阿牛见覅积分为我埃及覅就爱润肺久见覅爱抚你自己覅诶IEu菲欧自己覅诶恶魔女阿努OK骄傲诶覅&lt;/view&gt;
      &lt;view&gt;复健科熊家符合胡荣海可敬的防护UI人埃及覅合家福我看得见覅阿牛见覅积分为我埃及覅就爱润肺久见覅爱抚你自己覅诶IEu菲欧自己覅诶恶魔女阿努OK骄傲诶覅&lt;/view&gt;
      &lt;view&gt;复健科熊家符合胡荣海可敬的防护UI人埃及覅合家福我看得见覅阿牛见覅积分为我埃及覅就爱润肺久见覅爱抚你自己覅诶IEu菲欧自己覅诶恶魔女阿努OK骄傲诶覅&lt;/view&gt;
      &lt;view&gt;复健科熊家符合胡荣海可敬的防护UI人埃及覅合家福我看得见覅阿牛见覅积分为我埃及覅就爱润肺久见覅爱抚你自己覅诶IEu菲欧自己覅诶恶魔女阿努OK骄傲诶覅&lt;/view&gt;
      &lt;view&gt;复健科熊家符合胡荣海可敬的防护UI人埃及覅合家福我看得见覅阿牛见覅积分为我埃及覅就爱润肺久见覅爱抚你自己覅诶IEu菲欧自己覅诶恶魔女阿努OK骄傲诶覅&lt;/view&gt;
      &lt;view&gt;复健科熊家符合胡荣海可敬的防护UI人埃及覅合家福我看得见覅阿牛见覅积分为我埃及覅就爱润肺久见覅爱抚你自己覅诶IEu菲欧自己覅诶恶魔女阿努OK骄傲诶覅&lt;/view&gt;
      &lt;view&gt;复健科熊家符合胡荣海可敬的防护UI人埃及覅合家福我看得见覅阿牛见覅积分为我埃及覅就爱润肺久见覅爱抚你自己覅诶IEu菲欧自己覅诶恶魔女阿努OK骄傲诶覅&lt;/view&gt;
      &lt;view&gt;复健科熊家符合胡荣海可敬的防护UI人埃及覅合家福我看得见覅阿牛见覅积分为我埃及覅就爱润肺久见覅爱抚你自己覅诶IEu菲欧自己覅诶恶魔女阿努OK骄傲诶覅&lt;/view&gt;
      &lt;view&gt;复健科熊家符合胡荣海可敬的防护UI人埃及覅合家福我看得见覅阿牛见覅积分为我埃及覅就爱润肺久见覅爱抚你自己覅诶IEu菲欧自己覅诶恶魔女阿努OK骄傲诶覅&lt;/view&gt;
    &lt;/scroll-view&gt;
&lt;/view&gt;
<span class="copy-code-btn">复制代码</span></code></pre>
     <p>
      以下css代码都在page高度为100%的基础上使用
     </p>
     <h3 class="heading">
      flex布局
     </h3>
     <pre><code class="hljs bash copyable">.container {
  height: 100%;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
}
.search-wrapper {
  flex: 0 0 80rpx;
  height: 80rpx;
}
.scrollView-wrapper {
  flex: 1;
  overflow: hidden;
}
<span class="copy-code-btn">复制代码</span></code></pre>
     <p>
      <font color="#ff0000">
       注意，一定要使用overflow: hidden;
      </font>
      我觉得overflow实在是太强大，我觉得我还需要再研究一下它的用法。
     </p>
     <h3 class="heading">
      定位
     </h3>
     <pre><code class="hljs bash copyable">.container {
  position: relative;
  height: 100%;
  box-sizing: border-box;
}
.search-wrapper {
  height: 80rpx;
}
.scrollView-wrapper {
  position: absolute;
  top: 80rpx;
  bottom: 0;
}
<span class="copy-code-btn">复制代码</span></code></pre>
     <h3 class="heading">
      calc()函数计算高度
     </h3>
     <pre><code class="hljs bash copyable">.container {
  height: 100%;
  box-sizing: border-box;
}
.search-wrapper {
  height: 80rpx;
}
.scrollView-wrapper {
  height: calc(100% - 80rpx);
  /* height: calc(100vh - 80rpx); */
}
<span class="copy-code-btn">复制代码</span></code></pre>
     <h3 class="heading">
      容器使用padding-top
     </h3>
     <pre><code class="hljs bash copyable">.container {
  height: 100%;
  padding-top: 80rpx;
  box-sizing: border-box;
}
.search-wrapper {
  position: fixed;
  top: 0;
  width: 100%;
  height: 80rpx;
}
.scrollView-wrapper {
  height: 100%;
}
<span class="copy-code-btn">复制代码</span></code></pre>
     <p>
      这是第一次写文章记录，本来想多写点儿啥，但是也不知道写啥，就这样写干货吧。希望以后能越来越好！！！
     </p>
    </div>
   </div>
  </div>
  <div id="recommendDown">
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f67:2e6373646e2e6e65742f77656978696e5f3333393533323439:2f61727469636c652f64657461696c732f3931333837333831" class_="artid" style="display:none">
 </p>
</div>
