---
layout: post
title: "开发宝典数据库设计技巧,你知道几个"
date: 2019-10-05 06:30:18 +0800
description: "数据库是整个系统的核心，它的设计直接关系系统执行的效率和系统的稳定性。因此在"
keywords: "如果你来设计,你想设计一个什么主题的数据库系统?2)可以实现哪些功能?3)现在"
categories: ['数据库']
tags: ['数据库', 'Mysql']
artid: "52475413"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=52475413
    alt: "开发宝典数据库设计技巧,你知道几个"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     开发宝典：数据库设计技巧，你知道几个？
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <span style="font-family:Arial; font-size:14px; line-height:26px">
     数据库是整个系统的核心，它的设计直接关系系统执行的效率和系统的稳定性。因此在软件系统开发中，
    </span>
    <span style="font-family:Arial; font-size:14px; line-height:26px; background-color:rgb(255,153,153)">
     数据库设计
    </span>
    <span style="font-family:Arial; font-size:14px; line-height:26px">
     应遵循必要的数据库范式理论，以减少冗余、保证数据的完整性与正确性。在数据库的设计过程中还是存在一些技巧，值得学习和借鉴。
    </span>
    <br style="font-family:Arial; font-size:14px; line-height:26px"/>
    <br style="font-family:Arial; font-size:14px; line-height:26px"/>
    <span style="font-family:Arial; font-size:14px; line-height:26px">
     <strong>
      <span style="background-color:rgb(255,153,153)">
       数据库设计
      </span>
      方法、规范与技巧
     </strong>
    </span>
    <br style="font-family:Arial; font-size:14px; line-height:26px"/>
    <span style="font-family:Arial; font-size:14px; line-height:26px">
     数据库技术是信息资源管理最有效的手段。
    </span>
    <span style="font-family:Arial; font-size:14px; line-height:26px; background-color:rgb(255,153,153)">
     数据库设计
    </span>
    <span style="font-family:Arial; font-size:14px; line-height:26px">
     是指对于一个给定的应用环境，构造最优的数据库模式，建立数据库及其应用系统，有效存储数据，满足用户信息要求和处理要求。
    </span>
    <br style="font-family:Arial; font-size:14px; line-height:26px"/>
    <br style="font-family:Arial; font-size:14px; line-height:26px"/>
    <span style="font-family:Arial; font-size:14px; line-height:26px">
     <strong>
      浅谈
      <span style="background-color:rgb(255,153,153)">
       数据库设计
      </span>
      技巧
     </strong>
    </span>
    <br style="font-family:Arial; font-size:14px; line-height:26px"/>
    <span style="font-family:Arial; font-size:14px; line-height:26px">
     说到数据库，我认为不能不先谈数据结构。1996年，在我初入大学学习计算机编程时，当时的老师就告诉我们说：计算机程序＝数据结构＋算法。尽管现在的程序开发已由面向过程为主逐步过渡到面向对象为主，但我还是深深赞同8年前老师的告诉我们的公式：计算机程序＝数据结构＋算法。
    </span>
    <br style="font-family:Arial; font-size:14px; line-height:26px"/>
    <br style="font-family:Arial; font-size:14px; line-height:26px"/>
    <span style="font-family:Arial; font-size:14px; line-height:26px">
     <strong>
      大型数据库的设计原则与开发技巧
     </strong>
    </span>
    <br style="font-family:Arial; font-size:14px; line-height:26px"/>
    <span style="font-family:Arial; font-size:14px; line-height:26px">
     随着计算机技术越来越广泛地应用于国民经济的各个领域，在计算机硬件不断微型化的同时，应用系统向着复杂化、大型化的方向发展。数据库是整个系统的核心，它的设计直接关系系统执行的效率和系统的稳定性。因此在软件系统开发中，
    </span>
    <span style="font-family:Arial; font-size:14px; line-height:26px; background-color:rgb(255,153,153)">
     数据库设计
    </span>
    <span style="font-family:Arial; font-size:14px; line-height:26px">
     应遵循必要的数据库范式理论，以减少冗余、保证数据的完整性与正确性。
    </span>
    <br style="font-family:Arial; font-size:14px; line-height:26px"/>
    <br style="font-family:Arial; font-size:14px; line-height:26px"/>
    <span style="font-family:Arial; font-size:14px; line-height:26px">
     <strong>
      利用Oracle执行计划机制提高查询性能
     </strong>
    </span>
    <br style="font-family:Arial; font-size:14px; line-height:26px"/>
    <span style="font-family:Arial; font-size:14px; line-height:26px">
     消耗在准备利用Oracle执行计划机制提高查询性能新的SQL语句的时间是Oracle SQL语句执行时间的最重要的组成部分。但是通过理解Oracle内部产生执行计划的机制，你能够控制Oracle花费在评估连接顺序的时间数量，并且能在大体上提高查询性能。
    </span>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">
     <br/>
     <strong>
      MySQL导入导出大量数据的程序实现方法
     </strong>
     <br/>
     数据库超过一定尺寸，比如6M 这时使用导出一般没问题，可以正确的保存到本机硬盘上面，但是导入则不行！
     <br/>
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">
     <strong>
      数据库性能提升之减少访问数据库次数
     </strong>
     <br/>
     前面两个方法我们通过调用ProductsBLL类的GetProductsByCategoryID(categoryID)方法来获取当前 category的product(第一种通过ObjectDataSource,第二种通过GetProductsInCategory (categoryID)).每次方法被调用时,BLL调用DAL,DAL通过SQL查询数据库,返回特定的记录.
     <br/>
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">
     <strong>
      关系数据库的几种设计范式
      <br/>
     </strong>
     什么是范式呢？范式其实就是
     <span style="background-color:rgb(255,153,153)">
      数据库设计
     </span>
     的一种规范，按照这种规范设计的数据库会使结构更清晰，其实最主要的目的就是尽量减少数据的冗余，避免数据异常。因此我们应该从这方面来理解范式，而不是单单从概念上理解范式 。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">
     <br/>
     <strong>
      关于数据库的权限设置深入剖析
     </strong>
     <br/>
     随着近年来数据库技术的深入发展，以Unix平台为代表的Informix Dynamic Server和以NT平台为代表的MS SQL Sserver得到了广泛的应用。在一个公共的环境中，存在大量的用户操作，有数据库管理员，主要做数据管理维护工作，也有普通用户，做一定授权下的数据修改和数据查询。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px">
     (详情请见下面几个)
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     一、
     <span style="background-color:rgb(255,153,153)">
      数据库设计
     </span>
     过程
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     数据库技术是信息资源管理最有效的手段。
     <span style="background-color:rgb(255,153,153)">
      数据库设计
     </span>
     是指对于一个给定的应用环境，构造最优的数据库模式，建立数据库及其应用系统，有效存储数据，满足用户信息要求和处理要求。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     数 据库设计中需求分析阶段综合各个用户的应用需求（现实世界的需求），在概念设计阶段形成独立于机器特点、独立于各个DBMS产品的概念模式（信息世界模 型），用E-R图来描述。在逻辑设计阶段将E-R图转换成具体的数据库产品支持的数据模型如关系模型，形成数据库逻辑模式。然后根据用户处理的要求，安全 性的考虑，在基本表的基础上再建立必要的视图（VIEW）形成数据的外模式。在物理设计阶段根据DBMS特点和处理的需要，进行物理存储安排，设计索引， 形成数据库内模式。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     1. 需求分析阶段
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     需求收集和分析，结果得到数据字典描述的数据需求（和数据流图描述的处理需求）。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     需求分析的重点是调查、收集与分析用户在数据管理中的信息要求、处理要求、安全性与完整性要求。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     需求分析的方法：调查组织机构情况、调查各部门的业务活动情况、协助用户明确对新系统的各种要求、确定新系统的边界。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     常用的调查方法有： 跟班作业、开调查会、请专人介绍、询问、设计调查表请用户填写、查阅记录。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     分析和表达用户需求的方法主要包括自顶向下和自底向上两类方法。自顶向下的结构化分析方法（Structured Analysis，简称SA方法）从最上层的系统组织机构入手，采用逐层分解的方式分析系统，并把每一层用数据流图和数据字典描述。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     数据流图表达了数据和处理过程的关系。系统中的数据则借助数据字典（Data Dictionary，简称DD）来描述。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     数据字典是各类数据描述的集合，它是关于数据库中数据的描述，即元数据，而不是数据本身。数据字典通常包括数据项、数据结构、数据流、数据存储和处理过程五个部分(至少应该包含每个字段的数据类型和在每个表内的主外键)。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     数据项描述＝｛数据项名，数据项含义说明，别名，数据类型，长度，
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     取值范围，取值含义，与其他数据项的逻辑关系｝
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     数据结构描述＝｛数据结构名，含义说明，组成:｛数据项或数据结构｝｝
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     数据流描述＝｛数据流名，说明，数据流来源，数据流去向，
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     组成:｛数据结构｝，平均流量，高峰期流量｝
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     数据存储描述＝｛数据存储名，说明，编号，流入的数据流，流出的数据流，
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     组成:｛数据结构｝，数据量，存取方式｝
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     处理过程描述＝｛处理过程名，说明，输入:｛数据流｝，输出:｛数据流｝,
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     处理:｛简要说明｝｝
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2. 概念结构设计阶段
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     通过对用户需求进行综合、归纳与抽象，形成一个独立于具体DBMS的概念模型，可以用E-R图表示。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     概念模型用于信息世界的建模。概念模型不依赖于某一个DBMS支持的数据模型。概念模型可以转换为计算机上某一DBMS支持的特定数据模型。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     概念模型特点：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     (1) 具有较强的语义表达能力，能够方便、直接地表达应用中的各种语义知识。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     (2) 应该简单、清晰、易于用户理解，是用户与
     <span style="background-color:rgb(255,153,153)">
      数据库设计
     </span>
     人员之间进行交流的语言。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     概念模型设计的一种常用方法为IDEF1X方法，它就是把实体-联系方法应用到语义数据模型中的一种语义模型化技术，用于建立系统信息模型。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     使用IDEF1X方法创建E-R模型的步骤如下所示:
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2.1 第零步——初始化工程
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     这个阶段的任务是从目的描述和范围描述开始，确定建模目标，开发建模计划，组织建模队伍，收集源材料，制定约束和规范。收集源材料是这阶段的重点。通过调查和观察结果，业务流程，原有系统的输入输出，各种报表，收集原始数据，形成了基本数据资料表。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2.2 第一步——定义实体
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     实 体集成员都有一个共同的特征和属性集，可以从收集的源材料——基本数据资料表中直接或间接标识出大部分实体。根据源材料名字表中表示物的术语以及具有“代 码”结尾的术语，如客户代码、代理商代码、产品代码等将其名词部分代表的实体标识出来，从而初步找出潜在的实体，形成初步实体表。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2.3 第二步——定义联系
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     IDEF1X 模型中只允许二元联系，n元联系必须定义为n个二元联系。根据实际的业务需求和规则，使用实体联系矩阵来标识实体间的二元关系，然后根据实际情况确定出连 接关系的势、关系名和说明，确定关系类型，是标识关系、非标识关系（强制的或可选的）还是非确定关系、分类关系。如果子实体的每个实例都需要通过和父实体 的关系来标识，则为标识关系，否则为非标识关系。非标识关系中，如果每个子实体的实例都与而且只与一个父实体关联，则为强制的，否则为非强制的。如果父实 体与子实体代表的是同一现实对象，那么它们为分类关系。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2.4 第三步——定义码
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     通过引入交叉实体除去上一阶段产生的非确定关系，然后从 非交叉实体和独立实体开始标识侯选码属性，以便唯一识别每个实体的实例，再从侯选码中确定主码。为了确定主码和关系的有效性，通过非空规则和非多值规则来 保证，即一个实体实例的一个属性不能是空值，也不能在同一个时刻有一个以上的值。找出误认的确定关系，将实体进一步分解，最后构造出IDEF1X模型的键 基视图（KB图）。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2.5 第四步——定义属性
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     从源数据表中抽取说明性的名词开发出属性表，确定属性的所有者。定义非主码属性，检查属性 的非空及非多值规则。此外，还要检查完全依赖函数规则和非传递依赖规则，保证一个非主码属性必须依赖于主码、整个主码、仅仅是主码。以此得到了至少符合关 系理论第三范式的改进的IDEF1X模型的全属性视图。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2.6 第五步——定义其他对象和规则
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     定义属性的数据类型、长度、精度、非空、缺省值、约束规则等。定义触发器、存储过程、视图、角色、同义词、序列等对象信息。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     3. 逻辑结构设计阶段
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     将概念结构转换为某个DBMS所支持的数据模型（例如关系模型），并对其进行优化。设计逻辑结构应该选择最适于描述与表达相应概念结构的数据模型，然后选择最合适的DBMS。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     将E-R图转换为关系模型实际上就是要将实体、实体的属性和实体之间的联系转化为关系模式,这种转换一般遵循如下原则：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     1）一个实体型转换为一个关系模式。实体的属性就是关系的属性。实体的码就是关系的码。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2）一个m:n联系转换为一个关系模式。与该联系相连的各实体的码以及联系本身的属性均转换为关系的属性。而关系的码为各实体码的组合。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     3）一个1:n联系可以转换为一个独立的关系模式，也可以与n端对应的关系模式合并。如果转换为一个独立的关系模式，则与该联系相连的各实体的码以及联系本身的属性均转换为关系的属性，而关系的码为n端实体的码。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     4）一个1:1联系可以转换为一个独立的关系模式，也可以与任意一端对应的关系模式合并。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     5）三个或三个以上实体间的一个多元联系转换为一个关系模式。与该多元联系相连的各实体的码以及联系本身的属性均转换为关系的属性。而关系的码为各实体码的组合。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     6）同一实体集的实体间的联系，即自联系，也可按上述1:1、1:n和m:n三种情况分别处理。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     7）具有相同码的关系模式可合并。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     为了进一步提高数据库应用系统的性能，通常以规范化理论为指导，还应该适当地修改、调整数据模型的结构，这就是数据模型的优化。确定数据依赖。消除冗余的联系。确定各关系模式分别属于第几范式。确定是否要对它们进行合并或分解。一般来说将关系分解为3NF的标准，即：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     表内的每一个值都只能被表达一次。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ??表内的每一行都应该被唯一的标识（有唯一键）。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     表内不应该存储依赖于其他键的非键信息。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     4. 数据库物理设计阶段
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     为逻辑数据模型选取一个最适合应用环境的物理结构（包括存储结构和存取方法）。根据DBMS特点和处理的需要，进行物理存储安排，设计索引，形成数据库内模式。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     5. 数据库实施阶段
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     运 用DBMS提供的数据语言（例如SQL）及其宿主语言（例如C），根据逻辑设计和物理设计的结果建立数据库，编制与调试应用程序，组织数据入库，并进行试 运行。 数据库实施主要包括以下工作：用DDL定义数据库结构、组织数据入库 、编制与调试应用程序、数据库试运行
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     6. 数据库运行和维护阶段
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     数据库应用系统经过试运行后即可投入正式运行。在数据库系统运行过程中必须不断地对其进行评价、调整与修改。包括：数据库的转储和恢复、数据库的安全性、完整性控制、数据库性能的监督、分析和改进、数据库的重组织和
     <a name="baidusnap1" style="color:rgb(202,0,0)" target="_blank">
     </a>
     <span style="background-color:rgb(160,255,255)">
      重构
     </span>
     造。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     建模工具的使用
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     为加快
     <span style="background-color:rgb(255,153,153)">
      数据库设计
     </span>
     速度，目前有很多数据库辅助工具（CASE工具），如Rational公司的Rational Rose，CA公司的Erwin和Bpwin，Sybase公司的PowerDesigner以及Oracle公司的Oracle Designer等。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ERwin 主要用来建立数据库的概念模型和物理模型。它能用图形化的方式，描述出实体、联系及实体的属性。ERwin支持IDEF1X方法。通过使用ERwin建模 工具自动生成、更改和分析IDEF1X模型，不仅能得到优秀的业务功能和数据需求模型，而且可以实现从IDEF1X模型到数据库物理设计的转变。 ERwin工具绘制的模型对应于逻辑模型和物理模型两种。在逻辑模型中，IDEF1X工具箱可以方便地用图形化的方式构建和绘制实体联系及实体的属性。在 物理模型中，ERwin可以定义对应的表、列，并可针对各种数据库管理系统自动转换为适当的类型。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     设计人员可根据需要选用相应的
     <span style="background-color:rgb(255,153,153)">
      数据库设计
     </span>
     建模工具。例如需求分析完成之后，设计人员可以使用Erwin画ER图，将ER图转换为关系数据模型，生成数据库结构；画数据流图，生成应用程序。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     二、
     <span style="background-color:rgb(255,153,153)">
      数据库设计
     </span>
     技巧
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     1. 设计数据库之前（需求分析阶段）
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     1) 理解客户需求，询问用户如何看待未来需求变化。让客户解释其需求，而且随着开发的继续，还要经常询问客户保证其需求仍然在开发的目的之中。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2) 了解企业业务可以在以后的开发阶段节约大量的时间。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     3) 重视输入输出。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     在定义数据库表和字段需求（输入）时，首先应检查现有的或者已经设计出的报表、查询和视图（输出）以决定为了支持这些输出哪些是必要的表和字段。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     举例：假如客户需要一个报表按照邮政编码排序、分段和求和，你要保证其中包括了单独的邮政编码字段而不要把邮政编码糅进地址字段里。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     4) 创建数据字典和ER 图表
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ER 图表和数据字典可以让任何了解数据库的人都明确如何从数据库中获得数据。ER图对表明表之间关系很有用，而数据字典则说明了每个字段的用途以及任何可能存在的别名。对SQL 表达式的文档化来说这是完全必要的。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     5) 定义标准的对象命名规范
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     数据库各种对象的命名必须规范。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2. 表和字段的设计（数据库逻辑设计）
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     表设计原则
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     1) 标准化和规范化
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     数 据的标准化有助于消除数据库中的数据冗余。标准化有好几种形式，但Third Normal Form（3NF）通常被认为在性能、扩展性和数据完整性方 面达到了最好平衡。简单来说，遵守3NF 标准的数据库的表设计原则是：“One Fact in One Place”即某个表只包括其本身基本的属 性，当不是它们本身所具有的属性时需进行分解。表之间的关系通过外键相连接。它具有以下特点：有一组表专门存放通过键连接起来的关联数据。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     举例：某个存放客户及其有关定单的3NF 数据库就可能有两个表：Customer 和Order。Order 表不包含定单关联客户的任何信息，但表内会存放一个键值，该键指向Customer 表里包含该客户信息的那一行。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     事实上，为了效率的缘故，对表不进行标准化有时也是必要的。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2) 数据驱动
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     采用数据驱动而非硬编码的方式，许多策略变更和维护都会方便得多，大大增强系统的灵活性和扩展性。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     举 例，假如用户界面要访问外部数据源（文件、XML 文档、其他数据库等），不妨把相应的连接和路径信息存储在用户界面支持表里。还有，如果用户界面执行工 作流之类的任务（发送邮件、打印信笺、修改记录状态等），那么产生工作流的数据也可以存放在数据库里。角色权限管理也可以通过数据驱动来完成。事实上，如 果过程是数据驱动的，你就可以把相当大的责任推给用户，由用户来维护自己的工作流过程。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     3) 考虑各种变化
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     在设计数据库的时候考虑到哪些数据字段将来可能会发生变更。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     举例，姓氏就是如此（注意是西方人的姓氏，比如女性结婚后从夫姓等）。所以，在建立系统存储客户信息时，在单独的一个数据表里存储姓氏字段，而且还附加起始日和终止日等字段，这样就可以跟踪这一数据条目的变化。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     字段设计原则
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     4) 每个表中都应该添加的3 个有用的字段
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ??dRecordCreationDate，在VB 下默认是Now()，而在SQL Server 下默认为GETDATE()
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ??sRecordCreator，在SQL Server 下默认为NOT NULL DEFAULT USER
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ??nRecordVersion，记录的版本标记；有助于准确说明记录中出现null 数据或者丢失数据的原因
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     5) 对地址和电话采用多个字段
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     描述街道地址就短短一行记录是不够的。Address_Line1、Address_Line2 和Address_Line3 可以提供更大的灵活性。还有，电话号码和邮件地址最好拥有自己的数据表，其间具有自身的类型和标记类别。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     6) 使用角色实体定义属于某类别的列
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     在需要对属于特定类别或者具有特定角色的事物做定义时，可以用角色实体来创建特定的时间关联关系，从而可以实现自我文档化。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     举 例：用PERSON 实体和PERSON_TYPE 实体来描述人员。比方说，当John Smith, Engineer 提升为 John Smith, Director 乃至最后爬到John Smith, CIO 的高位，而所有你要做的不过是改变两个表PERSON 和 PERSON_TYPE 之间关系的键值，同时增加一个日期/时间字段来知道变化是何时发生的。这样，你的PERSON_TYPE 表就包含了所有 PERSON 的可能类型，比如Associate、Engineer、Director、CIO 或者CEO 等。还有个替代办法就是改变 PERSON 记录来反映新头衔的变化，不过这样一来在时间上无法跟踪个人所处位置的具体时间。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     7) 选择数字类型和文本类型尽量充足
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     在SQL 中使用smallint 和tinyint 类型要特别小心。比如，假如想看看月销售总额，总额字段类型是smallint，那么，如果总额超过了$32,767 就不能进行计算操作了。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     而ID 类型的文本字段，比如客户ID 或定单号等等都应该设置得比一般想象更大。假设客户ID 为10 位数长。那你应该把数据库表字段的长度设为12 或者13 个字符长。但这额外占据的空间却无需将来
     <span style="background-color:rgb(160,255,255)">
      重构
     </span>
     整个数据库就可以实现数据库规模的增长了。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     8) 增加删除标记字段
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     在表中包含一个“删除标记”字段，这样就可以把行标记为删除。在关系数据库里不要单独删除某一行；最好采用清除数据程序而且要仔细维护索引整体性。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     3. 选择键和索引（数据库逻辑设计）
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     键选择原则：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     1) 键设计4 原则
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ??为关联字段创建外键。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ??所有的键都必须唯一。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ??避免使用复合键。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ??外键总是关联唯一的键字段。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2) 使用系统生成的主键
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     设计数据库的时候采用系统生成的键作为主键，那么实际控制了数据库的索引完整性。这样，数据库和非人工机制就有效地控制了对存储数据中每一行的访问。采用系统生成键作为主键还有一个优点：当拥有一致的键结构时，找到逻辑缺陷很容易。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     3) 不要用用户的键(不让主键具有可更新性)
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     在确定采用什么字段作为表的键的时候，可一定要小心用户将要编辑的字段。通常的情况下不要选择用户可编辑的字段作为键。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     4) 可选键有时可做主键
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     把可选键进一步用做主键，可以拥有建立强大索引的能力。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     索引使用原则：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     索引是从数据库中获取数据的最高效方式之一。95%的数据库性能问题都可以采用索引技术得到解决。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     1) 逻辑主键使用唯一的成组索引，对系统键（作为存储过程）采用唯一的非成组索引，对任何外键列采用非成组索引。考虑数据库的空间有多大，表如何进行访问，还有这些访问是否主要用作读写。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2) 大多数数据库都索引自动创建的主键字段，但是可别忘了索引外键，它们也是经常使用的键，比如运行查询显示主表和所有关联表的某条记录就用得上。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     3) 不要索引memo/note 字段，不要索引大型字段（有很多字符），这样作会让索引占用太多的存储空间。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     4) 不要索引常用的小型表
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     不要为小型数据表设置任何键，假如它们经常有插入和删除操作就更别这样作了。对这些插入和删除操作的索引维护可能比扫描表空间消耗更多的时间。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     4. 数据完整性设计（数据库逻辑设计）
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     1) 完整性实现机制：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     实体完整性：主键
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     参照完整性：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     父表中删除数据：级联删除；受限删除；置空值
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     父表中插入数据：受限插入；递归插入
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     父表中更新数据：级联更新；受限更新；置空值
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     DBMS对参照完整性可以有两种方法实现：外键实现机制（约束规则）和触发器实现机制
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     用户定义完整性：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     NOT NULL；CHECK；触发器
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2) 用约束而非商务规则强制数据完整性
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     采用数据库系统实现数据的完整性。这不但包括通过标准化实现的完整性而且还包括数据的功能性。在写数据的时候还可以增加触发器来保证数据的正确性。不要依赖于商务层保证数据完整性；它不能保证表之间（外键）的完整性所以不能强加于其他完整性规则之上。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     3) 强制指示完整性
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     在有害数据进入数据库之前将其剔除。激活数据库系统的指示完整性特性。这样可以保持数据的清洁而能迫使开发人员投入更多的时间处理错误条件。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     4) 使用查找控制数据完整性
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     控制数据完整性的最佳方式就是限制用户的选择。只要有可能都应该提供给用户一个清晰的价值列表供其选择。这样将减少键入代码的错误和误解同时提供数据的一致性。某些公共数据特别适合查找：国家代码、状态代码等。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     5) 采用视图
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     为了在数据库和应用程序代码之间提供另一层抽象，可以为应用程序建立专门的视图而不必非要应用程序直接访问数据表。这样做还等于在处理数据库变更时给你提供了更多的自由。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     5. 其他设计技巧
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     1) 避免使用触发器
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     触发器的功能通常可以用其他方式实现。在调试程序时触发器可能成为干扰。假如你确实需要采用触发器，你最好集中对它文档化。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2) 使用常用英语（或者其他任何语言）而不要使用编码
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     在创建下拉菜单、列表、报表时最好按照英语名排序。假如需要编码，可以在编码旁附上用户知道的英语。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     3) 保存常用信息
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     让 一个表专门存放一般数据库信息非常有用。在这个表里存放数据库当前版本、最近检查/修复（对Access）、关联设计文档的名称、客户等信息。这样可以实 现一种简单机制跟踪数据库，当客户抱怨他们的数据库没有达到希望的要求而与你联系时，这样做对非客户机/服务器环境特别有用。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     4) 包含版本机制
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     在数据库中引入版本控制机制来确定使用中的数据库的版本。时间一长，用户的需求总是会改变的。最终可能会要求修改数据库结构。把版本信息直接存放到数据库中更为方便。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     5) 编制文档
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     对所有的快捷方式、命名规范、限制和函数都要编制文档。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     采用给表、列、触发器等加注释的数据库工具。对开发、支持和跟踪修改非常有用。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     对数据库文档化，或者在数据库自身的内部或者单独建立文档。这样，当过了一年多时间后再回过头来做第2 个版本，犯错的机会将大大减少。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     6) 测试、测试、反复测试
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     建立或者修订数据库之后，必须用用户新输入的数据测试数据字段。最重要的是，让用户进行测试并且同用户一道保证选择的数据类型满足商业要求。测试需要在把新数据库投入实际服务之前完成。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     7) 检查设计
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     在开发期间检查
     <span style="background-color:rgb(255,153,153)">
      数据库设计
     </span>
     的常用技术是通过其所支持的应用程序原型检查数据库。换句话说，针对每一种最终表达数据的原型应用，保证你检查了数据模型并且查看如何取出数据。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     三、数据库命名规范
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     1. 实体（表）的命名
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     1)  表以名词或名词短语命名，确定表名是采用复数还是单数形式，此外给表的别名定义简单规则（比方说，如果表名是一个单词，别名就取单词的前4 个字母；如 果表名是两个单词，就各取两个单词的前两个字母组成4 个字母长的别名；如果表的名字由3 个单词组成，从头两个单词中各取一个然后从最后一个单词中再取 出两个字母，结果还是组成4 字母长的别名，其余依次类推）
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     对工作用表来说，表名可以加上前缀WORK_ 后面附上采用该表的应用程序的名字。在命名过程当中，根据语义拼凑缩写即可。注意，由于ORCLE会将字段名称统一成大写或者小写中的一种，所以要求加上下划线。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     举例：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     定义的缩写 Sales: Sal 销售；
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     Order: Ord 订单；
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     Detail: Dtl 明细；
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     则销售订单明细表命名为：Sal_Ord_Dtl;
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2) 如果表或者是字段的名称仅有一个单词，那么建议不使用缩写，而是用完整的单词。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     举例：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     定义的缩写 Material Ma 物品；
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     物品表名为：Material, 而不是 Ma.
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     但是字段物品编码则是：Ma_ID;而不是Material_ID
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     3) 所有的存储值列表的表前面加上前缀Z
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     目的是将这些值列表类排序在数据库最后。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     4) 所有的冗余类的命名(主要是累计表)前面加上前缀X
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     冗余类是为了提高数据库效率，非规范化数据库的时候加入的字段或者表
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     5) 关联类通过用下划线连接两个基本类之后，再加前缀R的方式命名,后面按照字母顺序罗列两个表名或者表名的缩写。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     关联表用于保存多对多关系。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     如果被关联的表名大于10个字母，必须将原来的表名的进行缩写。如果没有其他原因，建议都使用缩写。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     举例：表Object与自身存在多对多的关系,则保存多对多关系的表命名为：R_Object；
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     表 Depart和Employee;存在多对多的关系；则关联表命名为R_Dept_Emp
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2. 属性（列）的命名
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     1)  采用有意义的列名，表内的列要针对键采用一整套设计规则。每一个表都将有一个自动ID作为主健,逻辑上的主健作为第一组候选主健来定义,如果是数据库自 动生成的编码，统一命名为：ID;如果是自定义的逻辑上的编码则用缩写加“ID”的方法命名。如果键是数字类型，你可以用_NO 作为后缀；如果是字符类 型则可以采用_CODE 后缀。对列名应该采用标准的前缀和后缀。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     举例：销售订单的编号字段命名：Sal_Ord_ID；如果还存在一个数据库生成的自动编号，则命名为：ID。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2) 所有的属性加上有关类型的后缀，注意，如果还需要其它的后缀，都放在类型后缀之前。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     注: 数据类型是文本的字段，类型后缀TX可以不写。有些类型比较明显的字段，可以不写类型后缀。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     3) 采用前缀命名
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     给每个表的列名都采用统一的前缀，那么在编写SQL表达式的时候会得到大大的简化。这样做也确实有缺点，比如破坏了自动表连接工具的作用，后者把公共列名同某些数据库联系起来。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     3. 视图的命名
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     1) 视图以V作为前缀，其他命名规则和表的命名类似；
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2) 命名应尽量体现各视图的功能。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     4. 触发器的命名
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     触发器以TR作为前缀，触发器名为相应的表名加上后缀，Insert触发器加 _I ，Delete触发器加 _D ，Update触发器加 _U ，如：TR_Customer_I，TR_Customer_D，TR_Customer_U。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     5. 存储过程名
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     存储过程应以 UP_ 开头，和系统的存储过程区分，后续部分主要以动宾形式构成，并用下划线分割各个组成部分。如增加代理商的帐户的存储过程为 UP_Ins_Agent_Account 。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     6. 变量名
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     变量名采用小写，若属于词组形式，用下划线分隔每个单词，如@my_err_no。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     7. 命名中其他注意事项
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     1)  以上命名都不得超过30个字符的系统限制。变量名的长度限制为29（不包括标识字符@）。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2)  数据对象、变量的命名都采用英文字符，禁止使用中文命名。绝对不要在对象名的字符之间留空格。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     3) 小心保留词，要保证你的字段名没有和保留词、数据库系统或者常用访问方法冲突
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     5) 保持字段名和类型的一致性，在命名字段并为其指定数据类型的时候一定要保证一致性。假如数据类型在一个表里是整数，那在另一个表里可就别变成字符型了。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     随着计算机技术越来越广泛地应用于国民经济的各个领域，在计算机硬件不断微型化的同时，应用系统向着复杂化、大型化的方向发展。数据库是整个系统的核心，它的设计直接关系系统执行的效率和系统的稳定性。因此在软件系统开发中，
     <span style="background-color:rgb(255,153,153)">
      数据库设计
     </span>
     应遵循必要的数据库范式理论，以减少冗余、保证数据的完整性与正确性。只有在合适的数据库产品上设计出合理的数据库模型，才能降低整个系统的编程和维护难度，提高系统的实际运行效率。虽然对于小项目或中等规模的项目开发人员可以很容易地利用范式理论设计出一套符合要求的数据库，但对于一个包含大型数据库的软件项目，就必须有一套完整的设计原则与技巧。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     一、成立数据小组
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     大型数据库数据元素多，在设计上有必要成立专门的数据小组。由于
     <span style="background-color:rgb(255,153,153)">
      数据库设计
     </span>
     者不一定是使用者，对系统设计中的数据元素不可能考虑周全，
     <span style="background-color:rgb(255,153,153)">
      数据库设计
     </span>
     出来后，往往难以找到所需的库表，因此数据小组最好由熟悉业务的项目骨干组成。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     数据小组的职能并非是设计数据库，而是通过需求分析，在参考其他相似系统的基础上，提取系统的基本数据元素，担负对数据库的审核。审核内容包括审核新的数据库元素是否完全、能否实现全部业务需求；对旧数据库（如果存在旧系统）的分析及数据转换；
     <span style="background-color:rgb(255,153,153)">
      数据库设计
     </span>
     的审核、控制及必要调整。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     二、设计原则
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     １．规范命名。所有的库名、表名、域名必须遵循统一的命名规则，并进行必要说明，以方便设计、维护、查询。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ２．控制字段的引用。在设计时，可以选择适当的
     <span style="background-color:rgb(255,153,153)">
      数据库设计
     </span>
     管理工具，以方便开发人员的分布式设计和数据小组的集中审核管理。采用统一的命名规则，如果设计的字段已经存在，可直接引用；否则，应重新设计。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ３．库表重复控制。在设计过程中，如果发现大部分字段都已存在，开发人员应怀疑所设计的库表是否已存在。通过对字段所在库表及相应设计人员的查询，可以确认库表是否确实重复。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ４．并发控制。设计中应进行并发控制，即对于同一个库表，在同一时间只有一个人有控制权，其他人只能进行查询。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ５．必要的讨论。
     <span style="background-color:rgb(255,153,153)">
      数据库设计
     </span>
     完成后，数据小组应与相关人员进行讨论，通过讨论来熟悉数据库，从而对设计中存在的问题进行控制或从中获取
     <span style="background-color:rgb(255,153,153)">
      数据库设计
     </span>
     的必要信息。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ６．数据小组的审核。库表的定版、修改最终都要通过数据小组的审核，以保证符合必要的要求。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ７．头文件处理。每次数据修改后，数据小组要对相应的头文件进行修改（可由管理软件自动完成），并通知相关的开发人员，以便进行相应的程序修改。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     三、设计技巧
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     １．分类
     <a name="baidusnap2" style="color:rgb(202,0,0)" target="_blank">
     </a>
     <span style="background-color:rgb(153,255,153)">
      拆分数据
     </span>
     量大的表。对于经常使用的表（如某些参数表或代码对照表），由于其使用频率很高，要尽量减少表中的记录数量。例如，银行的户主账表原来设计成一张表，虽然可以方便程序的设计与维护，但经过分析发现，由于数据量太大，会影响数据的迅速定位。如果将户主账表分别设计为活期户主账、定期户主账及对公户主账等，则可以大大提高查询效率。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ２．索引设计。对于大的数据库表，合理的索引能够提高整个数据库的操作效率。在索引设计中，索引字段应挑选重复值较少的字段；在对建有复合索引的字段进行检索时，应注意按照复合索引字段建立的顺序进行。例如，如果对一个５万多条记录的流水表以日期和流水号为序建立复合索引，由于在该表中日期的重复值接近整个表的记录数，用流水号进行查询所用的时间接近３秒；而如果以流水号为索引字段建立索引进行相同的查询，所用时间不到１秒。因此在大型
     <span style="background-color:rgb(255,153,153)">
      数据库设计
     </span>
     中，只有进行合理的索引字段选择，才能有效提高整个数据库的操作效率。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ３．数据操作的优化。在大型数据库中，如何提高数据操作效率值得关注。例如，每在数据库流水表中增加一笔业务，就必须从流水控制表中取出流水号，并将其流水号的数值加一。正常情况下，单笔操作的反应速度尚属正常，但当用它进行批量业务处理时，速度会明显减慢。经过分析发现，每次对流水控制表中的流水号数值加一时都要锁定该表，而该表却是整个系统操作的核心，有可能在操作时被其他进程锁定，因而使整个事务操作速度变慢。对这一问题的解决的办法是，根据批量业务的总笔数批量申请流水号，并对流水控制表进行一次更新，即可提高批量业务处理的速度。另一个例子是对插表的优化。对于大批量的业务处理，如果在插入数据库表时用普通的Ｉｎｓｅｒｔ语句，速度会很慢。其原因在于，每次插表都要进行一次Ｉ/Ｏ操作，花费较长的时间。改进后，可以用Ｐｕｔ语句等缓冲区形式等满页后再进行Ｉ/Ｏ操作，从而提高效率。对大的数据库表进行删除时，一般会直接用Ｄｅｌｅｔｅ语句，这个语句虽然可以进行小表操作，但对大表却会因带来大事务而导致删除速度很慢甚至失败。解决的方法是去掉事务，但更有效的办法是先进行Ｄｒｏｐ操作再进行重建。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ４．数据库参数的调整。数据库参数的调整是一个经验不断积累的过程，应由有经验的系统管理员完成。以Ｉｎｆｏｒｍｉｘ数据库为例，记录锁的数目太少会造成锁表的失败；逻辑日志的文件数目太少会造成插入大表失败等，这些问题都应根据实际情况进行必要的调整。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ５．必要的工具。在整个数据库的开发与设计过程中，可以先开发一些小的应用工具，如自动生成库表的头文件、插入数据的初始化、数据插入的函数封装、错误跟踪或自动显示等，以此提高数据库的设计与开发效率。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ６．避免长事务。对单个大表的删除或插入操作会带来大事务，解决的办法是对参数进行调整，也可以在插入时对文件进行分割。对于一个由一系列小事务顺序操作共同构成的长事务（如银行交易系统的日终交易），可以由一系列操作完成整个事务，但其缺点是有可能因整个事务太大而使不能完成，或者，由于偶然的意外而使事务重做所需的时间太长。较好的解决方法是，把整个事务分解成几个较小的事务，再由应用程序控制整个系统的流程。这样，如果其中某个事务不成功，则只需重做该事务，因而既可节约时间，又可避免长事务。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ７．适当超前。计算机技术发展日新月异，数据库的设计必须具有一定前瞻性，不但要满足当前的应用要求，还要考虑未来的业务发展，同时必须有利于扩展或增加应用系统的处理功能。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     相对于中小型数据库，大型数据库的设计与开发要复杂得多，因此在设计、开发过程中，除了要遵循数据库范式理论、增加系统的一致性和完整性外，还要在总体上根据具体情况进行分布式设计，紧紧把握集中控制、统一审核的基本原则，保证
     <span style="background-color:rgb(255,153,153)">
      数据库设计
     </span>
     结构紧凑、分布平衡、定位迅速。在数据库操作上，要采用一定的技巧提高整个应用系统的执行效率，并注意适当超前，以适应不断变化的应用及系统发展的要求。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     消耗在准备利用Oracle执行计划机制提高查询性能新的SQL语句的时间是Oracle SQL语句执行时间的最重要的组成部分。但是通过理解Oracle内部产生执行计划的机制，你能够控制Oracle花费在评估连接顺序的时间数量，并且能在大体上提高查询性能。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     准备执行SQL语句
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     当SQL语句进入Oracle的库缓存后，在该语句准备执行之前，将执行下列步骤：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     1) 语法检查：检查SQL语句拼写是否正确和词序。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2) 语义分析：核实所有的与数据字典不一致的表和列的名字。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     3) 轮廓存储检查：检查数据字典，以确定该SQL语句的轮廓是否已经存在。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     4) 生成执行计划：使用基于成本的优化规则和数据字典中的统计表来决定最佳执行计划。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     5) 建立二进制代码：基于执行计划，Oracle生成二进制执行代码。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     一 旦为执行准备好了SQL语句，以后的执行将很快发生，因为Oracle认可同一个SQL语句，并且重用那些语句的执行。然而，对于生成特殊的SQL语句， 或嵌入了文字变量的SQL语句的系统，SQL执行计划的生成时间就很重要了，并且前一个执行计划通常不能够被重用。对那些连接了很多表的查询， Oracle需要花费大量的时间来检测连接这些表的适当顺序。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     评估表的连接顺序
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     在SQL 语句的准备过程中，花费最多的步骤是生成执行计划，特别是处理有多个表连接的查询。当Oracle评估表的连接顺序时，它必须考虑到表之间所有可能的连 接。例如：六个表的之间连接有720（6的阶乘，或6 * 5 * 4 * 3 * 2 * 1 = 720）种可能的连接线路。当一个查询中含有超过10个表的连接时，排列的问题将变得更为显著。对于15个表之间的连接，需要评估的可能查询排列将超过1 万亿（准确的数字是1,307,674,368,000）种。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     使用optimizer_search_limit参数来设定限制
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     通 过使用optimizer_search_limit参数，你能够指定被优化器用来评估的最大的连接组合数量。使用这个参数，我们将能够防止优化器消耗不 定数量的时间来评估所有可能的连接组合。如果在查询中表的数目小于optimizer_search_limit的值，优化器将检查所有可能的连接组合。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     例 如：有五个表连接的查询将有120（5! = 5 * 4 * 3 * 2 * 1 = 120）种可能的连接组合，因此如果optimizer_search_limit等于5（默认值），则优化器将评估所有的120种可能。 optimizer_search_limit参数也控制着调用带星号的连接提示的阀值。当查询中的表的数目比 optimizer_search_limit小时，带星号的提示将被优先考虑。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     另一个工具：参数optimizer_max_permutations
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     初始化参数optimizer_max_permutations定义了优化器所考虑组合数目的上限，且依赖于初始参数optimizer_search_limit。optimizer_max_permutations的默认值是80,000。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     参 数optimizer_search_limit和optimizer_max_permutations一起来确定优化器所考虑的组合数目的上限：除非 （表或组合数目）超过参数optimizer_search_limit 或者 optimizer_max_permutations设定的值，否则优化器将生成所有可能的连接组合。一旦优化器停止评估表的连接组合，它将选择成本最 低的组合。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     使用ordered提示指定连接顺序
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     你 能够设定优化器所执行的评估数目的上限。但是即使采用有很高价值的排列评估，我们仍然拥有使优化器可以尽早地放弃复杂的查询的重要机会。回想一下含有15 个连接查询的例子，它将有超过1万亿种的连接组合。如果优化器在评估了80,000个组合后停止，那么它才仅仅评估了0.000006%的可能组合，而且 或许还没有为这个巨大的查询找到最佳的连接顺序。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     在Oracle SQL中解决此问题的最好的方法是手工指定表的连接顺序。为了尽快创建最小的解决方案集，这里所遵循的规则是将表结合起来，通常优先使用限制最严格的WHERE子句来连接表。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     下面的代码是一个查询执行计划的例子，该例子在emp表的关联查询上强制执行了嵌套的循环连接。注意，我已经使用了ordered提示来直接最优化表的评估顺序，最终它们表现在WHERE子句上。
    </p>
    <table align="center" border="1" cellpadding="2" cellspacing="0" style="color:rgb(0,0,0); font-family:Arial; font-size:14px; line-height:26px" width="400">
     <tbody>
      <tr>
       <td bgcolor="#e6e6e6">
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
         select /*+ ordered use_nl(bonus) parallel(e, 4) */
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
         e.ename,
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
         hiredate,
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
         b.comm.
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
         from
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
         emp e,
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
         bonus b
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
         where
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
         e.ename = b.ename
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <span style="font-family:Arial; font-size:14px; line-height:26px">
    </span>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     这个例子要求优化器按顺序连接在SQL语句的FROM子句中指定的表，在FROM子句中的第一个表指定了驱动表。ordered提示通常被用来与其它的提示联合起来来保证采用正确的顺序连接多个表。它的用途更多的是在扭转连接表数在四个以上的数据仓库的查询方面。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     另外一个例子，下面的查询使用ordered提示按照指定的顺序来连接表：emp、dept、sal，最后是bonus。我通过指定emp到dept使用哈希连接和sal到bonus使用嵌套循环连接，来进一步精炼执行计划。
    </p>
    <table align="center" border="1" cellpadding="2" cellspacing="0" style="color:rgb(0,0,0); font-family:Arial; font-size:14px; line-height:26px" width="400">
     <tbody>
      <tr>
       <td bgcolor="#e6e6e6">
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
         select /*+ ordered use_hash (emp, dept) use_nl (sal, bonus) */
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
         from
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
         emp,
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
         dept,
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
         sal,
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
         bonus
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
        </p>
        <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; text-indent:2em">
         where . . .
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <span style="font-family:Arial; font-size:14px; line-height:26px">
    </span>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     实践建议
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     实 际上，更有效率的做法是在产品环境中减小optimizer_max_permutations参数的大小，并且总是使用稳定的优化计划或存储轮廓来防止 出现耗时的含有大量连接的查询。一旦找到最佳的连接顺序，您就可以通过增加ordered提示到当前的查询中，并保存它的存储轮廓，来为这些表手工指定连 接顺序，从而使其持久化。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     当 你打算使用优化器来稳定计划，则可以照下面的方法使执行计划持久化，临时将optimizer_search_limit设置为查询中的表的数目，从而允 许优化器考虑所有可能的连接顺序。然后，通过重新编排WHERE子句中表的名字，并使用ordered提示，与存储轮廓一起使变更持久化，来调整查询。在 查询中包含四个以上的表时，ordered提示和存储轮廓将排除耗时的评估SQL连接顺序解析的任务，从而提高查询的速度。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     一 旦检测到最佳的连接顺序，我们就可以使用ordered提示来重载optimizer_search_limit和 optimizer_max_permutations参数。ordered提示要求表按照它们出现在FROM子句中的顺序进行连接，所以优化器没有加入 描述。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     作为一个Oracle专业人员，你应该知道在SQL语句第一次进入库缓存时可能存在重大的启动延迟。但是聪明的Oracle DBA和开发人员能够改变表的搜索限制参数或者使用ordered提示来手工指定表的连接顺序，从而显著地减少优化和执行新查询所需的时间。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     1 数据库超过一定尺寸，比如6M 这时使用导出一般没问题，可以正确的保存到本机硬盘上面，但是导入则不行！原因是：一般的
     <a name="baidusnap0" style="color:rgb(202,0,0)" target="_blank">
     </a>
     <span style="background-color:rgb(255,255,102)">
      PHP
     </span>
     .INI 里面设置临时文件/上传文件的大小限制为2M，而phpmyadmin使用了上传的方式，造成失败。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2 导出到硬盘的 .SQL 文件在导回时，经常出现由于某些单引号的问题引起失败，造成导入失败，只能用 mysql等应用程序导入了。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     我的数据库已经超过10M,所以必须解决这个问题。我的思路：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     导出： 用phpmyadmin 保存数据库/表格结构，用脚本读取数据库内容并保存到文件里面！
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     导入： 用phpmyadmin 恢复数据库/表格结构，用脚本读取文件，然后保存到库里面！
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     导出程序如下：调用方法为 ****.
     <span style="background-color:rgb(255,255,102)">
      php
     </span>
     ?table=tablename
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     这个简单的程序目前一次保存一个表格！！每行为一个字段的数据！！
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     &lt; ?
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     if($table==\"\")exit();
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     mysql_connect(\"localhost\",\"name\",\"password\");
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     mysql_select_db(\"database\");
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     $result = mysql_query(\"select * from $table\");
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     if(mysql_num_rows($result) &lt; = 0) exit();
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     echo \"开始转换数据到文本...
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     \";
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     $handle = fopen(\"$table.txt\",\"w\");
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     $numfields = mysql_num_fields($result);
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     fputs($handle,$numfields.\"\r\n\");
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     for($k=0;$k&lt; mysql_num_rows($result);$k++)
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     {
     <!-- -->
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     $msg = mysql_fetch_row($result);
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     for($i=0;$i&lt; $numfields;$i++)
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     {
     <!-- -->
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     $msg[$i] = str_replace(\"\r\n\",\"&amp;&amp;
     <span style="background-color:rgb(255,255,102)">
      php
     </span>
     2000mysqlreturn&amp;&amp;\",$msg[$i]);
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     $msg[$i] = str_replace(\"\n\" ,\"&amp;&amp;
     <span style="background-color:rgb(255,255,102)">
      php
     </span>
     2000mysqlreturn&amp;&amp;\",$msg[$i]);
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     fputs($handle,$msg[$i].\"\r\n\");
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     }
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     fputs($handle,\"-------
     <span style="background-color:rgb(255,255,102)">
      php
     </span>
     2000 dump data program V1.0 for MySQL --------\r\n\");
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     }
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     fclose($handle);
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     echo \"ok\";
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ?&gt;
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     导入的程序如下：用法同上面！
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     &lt; ?
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     if($table==\"\")exit();
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     mysql_connect(\"localhost\",\"name\",\"password\");
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     mysql_select_db(\"database\");
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     $message = file(\"$table.txt\");
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     echo $numfields = chop($message[0]);
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     for($k=1;$k&lt; count($message);$k+=($numfields+1))
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     {
     <!-- -->
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     $value=\"\";
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     for ($i=$k;$i&lt; ($k+$numfields-1);$i++)
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     {
     <!-- -->
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     $tmp = str_replace(\"&amp;&amp;
     <span style="background-color:rgb(255,255,102)">
      php
     </span>
     2000mysqlreturn&amp;&amp;\",\"\r\n\",chop($message[$i]));
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     $value .= \"\'\".addslashes($tmp).\"\',\";
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     }
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     $tmp = str_replace(\"&amp;&amp;
     <span style="background-color:rgb(255,255,102)">
      php
     </span>
     2000mysqlreturn&amp;&amp;\",\"\r\n\",chop($message[$k+$numfields-1]));
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     $value .= \"\'\".$tmp.\"\'\";
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     $query = \"insert into $table values (\".$value.\")\";
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     echo mysql_error();
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     mysql_query($query);
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     echo $k.\" \";
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     }
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     echo \"ok\";
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     ?&gt;
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     使用方法和可能的问题！
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     1 导入时 file()函数可能会有问题（我的10M的数据没出现问题），可以改为 fopen()然后没次读一行！！
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2 导入，导出都需要用 ftp 操作，也就是导出后，用 ftp 把数据转到本机，导入时先用ftp转移数据到服务器！
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     前面两个方法我们通过调用ProductsBLL类的GetProductsByCategoryID(categoryID)方法来获取当前 category的product(第一种通过ObjectDataSource,第二种通过GetProductsInCategory (categoryID)).每次方法被调用时,BLL调用DAL,DAL通过SQL查询数据库,返回特定的记录.
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     如果有N个category,这个方法会访问数据库N+1次— 一次返回所有的category,N次返回特定category下的product.然而我们可以通过访问数据库两次来获取所有需要的数据— 一次返回所有的category,一次返回所有的product.一旦我们得到所有的product,我们可以根据CategoryID来过滤,然后再绑 定.
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     我们只需要稍微修改ASP.NET页的code-behind里的GetProductsInCategory(categoryID)方法来实现这个功能.我们首先来返回所有的product,然后根据传入的CategoryID里过滤.
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     <img alt="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog" border="0" src="https://i-blog.csdnimg.cn/blog_migrate/6810355c2f78c12e91b7997a8e8c583a.gif" style="border:none; max-width:100%" title="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog">
      private Northwind.ProductsDataTable allProducts = null;
     </img>
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     <img alt="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog" border="0" src="https://i-blog.csdnimg.cn/blog_migrate/6810355c2f78c12e91b7997a8e8c583a.gif" style="border:none; max-width:100%" title="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog">
      protected Northwind.ProductsDataTable GetProductsInCategory(int categoryID)
     </img>
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     <img alt="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog" border="0" src="https://i-blog.csdnimg.cn/blog_migrate/a41954a27d6ad96fa2c2cf816e677448.gif" style="border:none; max-width:100%" title="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog">
      <img alt="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog" border="0" src="https://i-blog.csdnimg.cn/blog_migrate/1327ab569c1ae82736693a50b8e33378.gif" style="border:none; max-width:100%" title="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog">
       ...{
       <!-- -->
      </img>
     </img>
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     <img alt="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog" border="0" src="https://i-blog.csdnimg.cn/blog_migrate/6a9c071a08f1dae2d3e1c512000eef41.gif" style="border:none; max-width:100%" title="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog">
      // First, see if we've yet to have accessed all of the product information
     </img>
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     <img alt="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog" border="0" src="https://i-blog.csdnimg.cn/blog_migrate/6a9c071a08f1dae2d3e1c512000eef41.gif" style="border:none; max-width:100%" title="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog">
      if (allProducts == null)
     </img>
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     <img alt="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog" border="0" src="https://i-blog.csdnimg.cn/blog_migrate/37c8bf68cdc3cc81759c34160776bc53.gif" style="border:none; max-width:100%" title="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog">
      <img alt="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog" border="0" src="https://i-blog.csdnimg.cn/blog_migrate/7ff8d92cded7e0ce15e7ca1acc870052.gif" style="border:none; max-width:100%" title="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog">
       ...{
       <!-- -->
      </img>
     </img>
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     <img alt="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog" border="0" src="https://i-blog.csdnimg.cn/blog_migrate/6a9c071a08f1dae2d3e1c512000eef41.gif" style="border:none; max-width:100%" title="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog"/>
     ProductsBLL productAPI = new ProductsBLL();
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     <img alt="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog" border="0" src="https://i-blog.csdnimg.cn/blog_migrate/6a9c071a08f1dae2d3e1c512000eef41.gif" style="border:none; max-width:100%" title="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog"/>
     allProducts = productAPI.GetProducts();
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     <img alt="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog" border="0" src="https://i-blog.csdnimg.cn/blog_migrate/717446ca04a6125dc5b6b54e0fa14ab4.gif" style="border:none; max-width:100%" title="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog"/>
     }
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     <img alt="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog" border="0" src="https://i-blog.csdnimg.cn/blog_migrate/6a9c071a08f1dae2d3e1c512000eef41.gif" style="border:none; max-width:100%" title="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog"/>
     // Return the filtered view
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     <img alt="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog" border="0" src="https://i-blog.csdnimg.cn/blog_migrate/6a9c071a08f1dae2d3e1c512000eef41.gif" style="border:none; max-width:100%" title="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog"/>
     allProducts.DefaultView.RowFilter = "CategoryID = " + categoryID;
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     <img alt="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog" border="0" src="https://i-blog.csdnimg.cn/blog_migrate/6a9c071a08f1dae2d3e1c512000eef41.gif" style="border:none; max-width:100%" title="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog"/>
     return allProducts;
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     <img alt="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog" border="0" src="https://i-blog.csdnimg.cn/blog_migrate/0196c3df5ea9e936f21e9932cca91014.gif" style="border:none; max-width:100%" title="开发宝典：数据库设计技巧，你知道几个？ - 心海飘云 - zctyas blog"/>
     }
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     注意allProducts变量.它在第一次调用GetProductsInCategory(categoryID)时返回所有 product信息.确定allProducts对象被创建后,在根据CategoryID来对DataTable过滤.这个方法将访问数据库的次数从N +1减少到2次.
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     这个改进没有修改页面的声明语言.仅仅只是减少了数据库的访问次数.
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     注意:可能想当然的觉得减少了数据库访问次数会提高性能.但是这个不一定.如果你有大量的categoryID为NULL的product,这样使 用GetProducts方法返回的product有一部分不会被显示.而且如果你只需要显示一部分category的proudct(分页时就是这 样),而返回所有的product,这样对资源也是一种浪费.
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     通常对两种技术进行性能分析,唯一正确的方法是设置程序常见的场景来进行压力测试.
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     从这周开始进入数据库的学习。以前数据库方面接触很少，这次是个难得机会，一定要尽力把数据库学好。今天主要学习了范式。什么是范式呢？范式其实就是
     <span style="background-color:rgb(255,153,153)">
      数据库设计
     </span>
     的一种规范，按照这种规范设计的数据库会使结构更清晰，其实最主要的目的就是尽量减少数据的冗余，避免数据异常。因此我们应该从这方面来理解范式，而不是单单从概念上理解范式 。下面是从其他地方转来的关于范式的介绍，相信从这篇文章里能够基本上对范式的概念以及示例有个全方面的了解。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     关系数据库的几种设计范式介绍
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     1 第一范式（1NF）
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     在任何一个关系数据库中，第一范式（1NF）是对关系模式的基本要求，不满足第一范式（1NF）的数据库就不是关系数据库。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     所谓第一范式（1NF）是指数据库表的每一列都是不可分割的基本数据项，同一列中不能有多个值，即实体中的某个属性不能有多个值或者不能有重复的属性。如果出现重复的属性，就可能需要定义一个新的实体，新的实体由重复的属性构成，新实体与原实体之间为一对多关系。在第一范式（1NF）中表的每一行只包含一个实例的信息。例如，对于图3-2 中的员工信息表，不能将员工信息都放在一列中显示，也不能将其中的两列或多列在一列中显示；员工信息表的每一行只表示一个员工的信息，一个员工的信息在表中只出现一次。简而言之，第一范式就是无重复的列。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2 第二范式（2NF）
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     第二范式（2NF）是在第一范式（1NF）的基础上建立起来的，即满足第二范式（2NF）必须先满足第一范式（1NF）。第二范式（2NF）要求数据库表中的每个实例或行必须可以被惟一地区分。为实现区分通常需要为表加上一个列，以存储各个实例的惟一标识。如图3-2 员工信息表中加上了员工编号（emp_id）列，因为每个员工的员工编号是惟一的，因此每个员工可以被惟一区分。这个惟一属性列被称为主关键字或主键、主码。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     第二范式（2NF）要求实体的属性完全依赖于主关键字。所谓完全依赖是指不能存在仅依赖主关键字一部分的属性，如果存在，那么这个属性和主关键字的这一部分应该分离出来形成一个新的实体，新实体与原实体之间是一对多的关系。为实现区分通常需要为表加上一个列，以存储各个实例的惟一标识。简而言之，第二范式就是非主属性非部分依赖于主关键字。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     3 第三范式（3NF）
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     满足第三范式（3NF）必须先满足第二范式（2NF）。简而言之，第三范式（3NF）要求一个数据库表中不包含已在其它表中已包含的非主关键字信息。例如，存在一个部门信息表，其中每个部门有部门编号（dept_id）、部门名称、部门简介等信息。那么在图3-2的员工信息表中列出部门编号后就不能再将部门名称、部门简介等与部门有关的信息再加入员工信息表中。如果不存在部门信息表，则根据第三范式（3NF）也应该构建它，否则就会有大量的数据冗余。简而言之，第三范式就是属性不依赖于其它非主属性。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     <span style="background-color:rgb(255,153,153)">
      数据库设计
     </span>
     三大范式应用实例剖析
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     数据库的设计范式是
     <span style="background-color:rgb(255,153,153)">
      数据库设计
     </span>
     所需要满足的规范，满足这些规范的数据库是简洁的、结构明晰的，同时，不会发生插入（insert）、删除（delete）和更新（update）操作异常。反之则是乱七八糟，不仅给数据库的编程人员制造麻烦，而且面目可憎，可能存储了大量不需要的冗余信息。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     设计范式是不是很难懂呢？非也，大学教材上给我们一堆数学公式我们当然看不懂，也记不住。所以我们很多人就根本不按照范式来设计数据库。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     实质上，设计范式用很形象、很简洁的话语就能说清楚，道明白。本文将对范式进行通俗地说明，并以笔者曾经设计的一个简单论坛的数据库为例来讲解怎样将这些范式应用于实际工程。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     范式说明
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     第一范式（1NF）：数据库表中的字段都是单一属性的，不可再分。这个单一属性由基本类型构成，包括整型、实数、字符型、逻辑型、日期型等。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     例如，如下的数据库表是符合第一范式的：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     字段1  字段2  字段3  字段4
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     而这样的数据库表是不符合第一范式的：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     字段1  字段2  字段3  字段4
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     字段3.1  字段3.2
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     很显然，在当前的任何关系数据库管理系统（DBMS）中，傻瓜也不可能做出不符合第一范式的数据库，因为这些DBMS不允许你把数据库表的一列再分成二列或多列。因此，你想在现有的DBMS中设计出不符合第一范式的数据库都是不可能的。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     第二范式（2NF）：数据库表中不存在非关键字段对任一候选关键字段的部分函数依赖（部分函数依赖指的是存在组合关键字中的某些字段决定非关键字段的情况），也即所有非关键字段都完全依赖于任意一组候选关键字。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     假定选课关系表为SelectCourse(学号, 姓名, 年龄, 课程名称, 成绩, 学分)，关键字为组合关键字(学号, 课程名称)，因为存在如下决定关系：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     (学号, 课程名称) → (姓名, 年龄, 成绩, 学分)
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     这个数据库表不满足第二范式，因为存在如下决定关系：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     (课程名称) → (学分)
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     (学号) → (姓名, 年龄)
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     即存在组合关键字中的字段决定非关键字的情况。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     由于不符合2NF，这个选课关系表会存在如下问题：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     (1) 数据冗余：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     同一门课程由n个学生选修，"学分"就重复n-1次；同一个学生选修了m门课程，姓名和年龄就重复了m-1次。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     (2) 更新异常：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     若调整了某门课程的学分，数据表中所有行的"学分"值都要更新，否则会出现同一门课程学分不同的情况。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     (3) 插入异常：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     假设要开设一门新的课程，暂时还没有人选修。这样，由于还没有"学号"关键字，课程名称和学分也无法记录入数据库。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     (4) 删除异常：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     假设一批学生已经完成课程的选修，这些选修记录就应该从数据库表中删除。但是，与此同时，课程名称和学分信息也被删除了。很显然，这也会导致插入异常。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     把选课关系表SelectCourse改为如下三个表：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     学生：Student(学号, 姓名, 年龄)；
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     课程：Course(课程名称, 学分)；
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     选课关系：SelectCourse(学号, 课程名称, 成绩)。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     这样的数据库表是符合第二范式的， 消除了数据冗余、更新异常、插入异常和删除异常。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     另外，所有单关键字的数据库表都符合第二范式，因为不可能存在组合关键字。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     第三范式（3NF）：在第二范式的基础上，数据表中如果不存在非关键字段对任一候选关键字段的传递函数依赖则符合第三范式。所谓传递函数依赖，指的是如果存在"A → B → C"的决定关系，则C传递函数依赖于A。因此，满足第三范式的数据库表应该不存在如下依赖关系：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     关键字段 → 非关键字段x → 非关键字段y
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     假定学生关系表为Student(学号, 姓名, 年龄, 所在学院, 学院地点, 学院电话)，关键字为单一关键字"学号"，因为存在如下决定关系：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     (学号) → (姓名, 年龄, 所在学院, 学院地点, 学院电话)
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     这个数据库是符合2NF的，但是不符合3NF，因为存在如下决定关系：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     (学号) → (所在学院) → (学院地点, 学院电话)
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     即存在非关键字段"学院地点"、"学院电话"对关键字段"学号"的传递函数依赖。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     它也会存在数据冗余、更新异常、插入异常和删除异常的情况，读者可自行分析得知。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     把学生关系表分为如下两个表：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     学生：(学号, 姓名, 年龄, 所在学院)；
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     学院：(学院, 地点, 电话)。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     这样的数据库表是符合第三范式的，消除了数据冗余、更新异常、插入异常和删除异常。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     鲍依斯-科得范式（BCNF）：在第三范式的基础上，数据库表中如果不存在任何字段对任一候选关键字段的传递函数依赖则符合第三范式。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     假设仓库管理关系表为StorehouseManage(仓库ID, 存储物品ID, 管理员ID, 数量)，且有一个管理员只在一个仓库工作；一个仓库可以存储多种物品。这个数据库表中存在如下决定关系：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     (仓库ID, 存储物品ID) →(管理员ID, 数量)
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     (管理员ID, 存储物品ID) → (仓库ID, 数量)
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     所以，(仓库ID, 存储物品ID)和(管理员ID, 存储物品ID)都是StorehouseManage的候选关键字，表中的唯一非关键字段为数量，它是符合第三范式的。但是，由于存在如下决定关系：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     (仓库ID) → (管理员ID)
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     (管理员ID) → (仓库ID)
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     即存在关键字段决定关键字段的情况，所以其不符合BCNF范式。它会出现如下异常情况：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     (1) 删除异常：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     当仓库被清空后，所有"存储物品ID"和"数量"信息被删除的同时，"仓库ID"和"管理员ID"信息也被删除了。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     (2) 插入异常：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     当仓库没有存储任何物品时，无法给仓库分配管理员。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     (3) 更新异常：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     如果仓库换了管理员，则表中所有行的管理员ID都要修改。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     把仓库管理关系表分解为二个关系表：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     仓库管理：StorehouseManage(仓库ID, 管理员ID)；
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     仓库：Storehouse(仓库ID, 存储物品ID, 数量)。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     这样的数据库表是符合BCNF范式的，消除了删除异常、插入异常和更新异常。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     范式应用
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     我们来逐步搞定一个论坛的数据库，有如下信息：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     （1） 用户：用户名，email，主页，电话，联系地址
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     （2） 帖子：发帖标题，发帖内容，回复标题，回复内容
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     第一次我们将
     <span style="background-color:rgb(255,153,153)">
      数据库设计
     </span>
     为仅仅存在表：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     用户名  email  主页  电话  联系地址  发帖标题  发帖内容  回复标题  回复内容
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     这个数据库表符合第一范式，但是没有任何一组候选关键字能决定数据库表的整行，唯一的关键字段用户名也不能完全决定整个元组。我们需要增加"发帖ID"、"回复ID"字段，即将表修改为：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     用户名  email  主页  电话  联系地址  发帖ID  发帖标题  发帖内容  回复ID  回复标题  回复内容
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     这样数据表中的关键字(用户名，发帖ID，回复ID)能决定整行：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     (用户名,发帖ID,回复ID) → (email,主页,电话,联系地址,发帖标题,发帖内容,回复标题,回复内容)
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     但是，这样的设计不符合第二范式，因为存在如下决定关系：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     (用户名) → (email,主页,电话,联系地址)
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     (发帖ID) → (发帖标题,发帖内容)
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     (回复ID) → (回复标题,回复内容)
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     即非关键字段部分函数依赖于候选关键字段，很明显，这个设计会导致大量的数据冗余和操作异常。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     我们将数据库表分解为（带下划线的为关键字）：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     （1） 用户信息：用户名，email，主页，电话，联系地址
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     （2） 帖子信息：发帖ID，标题，内容
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     （3） 回复信息：回复ID，标题，内容
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     （4） 发贴：用户名，发帖ID
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     （5） 回复：发帖ID，回复ID
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     这样的设计是满足第1、2、3范式和BCNF范式要求的，但是这样的设计是不是最好的呢？
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     不一定。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     观察可知，第4项"发帖"中的"用户名"和"发帖ID"之间是1：N的关系，因此我们可以把"发帖"合并到第2项的"帖子信息"中；第5项"回复"中的"发帖ID"和"回复ID"之间也是1：N的关系，因此我们可以把"回复"合并到第3项的"回复信息"中。这样可以一定量地减少数据冗余，新的设计为：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     （1） 用户信息：用户名，email，主页，电话，联系地址
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     （2） 帖子信息：用户名，发帖ID，标题，内容
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     （3） 回复信息：发帖ID，回复ID，标题，内容
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     数据库表1显然满足所有范式的要求；
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     数据库表2中存在非关键字段"标题"、"内容"对关键字段"发帖ID"的部分函数依赖，即不满足第二范式的要求，但是这一设计并不会导致数据冗余和操作异常；
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     数据库表3中也存在非关键字段"标题"、"内容"对关键字段"回复ID"的部分函数依赖，也不满足第二范式的要求，但是与数据库表2相似，这一设计也不会导致数据冗余和操作异常。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     由此可以看出，并不一定要强行满足范式的要求，对于1：N关系，当1的一边合并到N的那边后，N的那边就不再满足第二范式了，但是这种设计反而比较好！
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     对于M：N的关系，不能将M一边或N一边合并到另一边去，这样会导致不符合范式要求，同时导致操作异常和数据冗余。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     对于1：1的关系，我们可以将左边的1或者右边的1合并到另一边去，设计导致不符合范式要求，但是并不会导致操作异常和数据冗余。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     结论
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     满足范式要求的
     <span style="background-color:rgb(255,153,153)">
      数据库设计
     </span>
     是结构清晰的，同时可避免数据冗余和操作异常。这并意味着不符合范式要求的设计一定是错误的，在数据库表中存在1：1或1：N关系这种较特殊的情况下，合并导致的不符合范式要求反而是合理的。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     在我们设计数据库的时候，一定要时刻考虑范式的要求。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     一、必要性
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     随着近年来数据库技术的深入发展，以Unix平台为代表的Informix Dynamic Server和以NT平台为代表的MS SQL Server得到了广泛的应用。在一个公共的环境中，存在大量的用户操作，有数据库管理员，主要做数据管理维护工作，也有普通用户，做一定授权下的数据修改和数据查询。我们知道，每个数据库服务器上可建立多个不同类别的数据库，而每个数据库中也可以生成多个存储过程、表、视图等。如何保证数据的安全可靠，防止非法存取所造成的破坏和数据泄露，如何进行权限的划分和设置，这是安全管理的重点，也是数据库可靠运行的保证。本文以Informix Dynamic Server为例做详细说明。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     二、权限的划分
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     Informix Dynamic Server使用了三级权限来保证数据的安全性，它们分别是数据库级权限、表级权限和字段级权限，具体为：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     1．数据库级权限
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     包括Connect、Resource、DBA三种类别，其中：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     Connect：最低级，仅允许用户访问数据库中的表和索引，但不能创建和删除它们；
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     Resource: 建立在Connect之上，允许用户在数据库中创建、删除表和索引；
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     DBA：即数据库管理员，拥有数据库管理的全部权限，包括访问数据库表、创建和删除索引、修改表结构、授予数据库权限给其他用户等。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2．表/字段（视图）级权限
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     指允许进行何种具体操作，主要包括：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     Select: 从表或字段中检索信息；
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     Update: 修改指定字段的值；
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     Insert: 向数据库表中添加记录；
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     Delete: 从数据库表中删除记录；
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     Index: 为一个数据库表创建索引；
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     Alter: 增加、删除数据库表中的字段，或修改字段的数据类型；
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     All: 以上所有权限。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     三、权限的设置
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     Informix Dynamic Server通过一系列SQL控制语句来实施对用户权限的设置，使得不同的用户只能在各自限定的范围内存取数据。以下命令格式中Grant表示授予权限，Revoke表示撤消权限，User-List指用户名列表，多个用户以逗号（，）分隔，对大多数数据库系统而言，PUBLIC代表所有用户。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     1．对于数据库，其格式为：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     Grant { DBA 　 Resource 　 Connect } to { PUBLIC 　 User-List }；
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     Revoke { DBA 　 Resource 　 Connect } from { PUBLIC 　 User-List }
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     缺省情况下，建立数据库的用户就是数据库管理员（DBA），除其本身和Informix用户外，其它用户不对该数据库拥有任何权限，因此也就不能进行任何形式的访问。数据库管理员可根据其他用户的业务分工、操作范围授予或撤消DBA、Resource、Connect三种不同的权限。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2．对于表及视图，其格式为：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     Grant TAB-PRI on [ tab_name 　 view_name ] to { PUBLIC 　 User-List }；
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     Revoke TAB-PRI on [ tab_name 　 view_name ] from { PUBLIC 　 User-List }
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     其中TAB_PRI表示select、update、delete等操作权限，tab_name、 view_name分别代表数据库表名和视图名。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     缺省情况下，新建的数据库表和视图对能够访问该数据库的用户赋予了除alter外的所有权限，有时这是比较危险的，比如对普通查询用户，应该有针对性地对权限重新定义。此外，对一些重要的表或视图，为防止敏感信息泄露，也应该重新授权。具体做法是：先用Revoke命令撤消原来所有的权限，再用Grant授予新的权限。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     3．对于字段：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     字段级权限的授予和撤消同表级的命令方式基本一致，所不同的仅在于必须把赋予权限的字段名列在操作权限如select、insert、update等之后，通过这样细化可以实施更有效的数据保护。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     4．对于存储过程：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     存储过程由SQL语句编写，存放于数据库中，常与触发器配合，可以对数据进行批量处理，使用非常方便。但如果授权不严格，将导致非法修改现有数据。其权限设置格式为：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     Grant Execute on proc_name to { PUBLIC 　 User-List }；
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     Revoke Execute on proc_name from { PUBLIC 　 User-List }
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     其中proc_name表示存储过程名。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     四、角色(role)的使用
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     在数据库用户的管理中，我们可以根据用户对数据库数据的需要情况把用户分为几组，每一组用户可以作为一个"角色"，每个用户就是角色的成员。通过使用角色，数据库系统更容易进行安全性管理，因为一旦某个用户属于某一个角色，对权限的授予和撤消只需针对角色便可。具体使用方法为：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     1．创建角色：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     Create Role role_name1
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     其中role_name1表示角色名。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     2．划分用户角色：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     即将相关用户加入到角色中使之成为角色的成员。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     Grant role_name1 to { User-List 　 Role_List }
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     其中Role_List表示角色列表，因为一个角色可以是另外一个或一组角色的成员。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     3．授权角色权限：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     同授权用户权限的方法相同，但只能对表级和字段级权限有效，不能授予数据库级权限给一个角色。
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     4．激活角色：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     执行以下语句，使以上定义的角色成为可用状态：
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     Set Role role_name1
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     五、结束语
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     以Internet技术为代表的网络业务的迅猛增长为数据库应用开辟了新的发展空间，同时也对数据库的安全性管理提出了更高的要求，网络的开放性导致非法存取常有发生，因而深刻领会和理解数据库权限的具体设置方法，结合自身实际应用，制定出一套完整的安全保护策略具有重要意义。Informix Dynamic Server对以上控制语句的使用除角色外，严格执行SQL ANSI 标准，因此对建立在NT平台上的MS SQL Server同样有效.
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     <br/>
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     <br/>
    </p>
    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px; line-height:26px; text-indent:2em">
     转自：
     <a href="http://blog.csdn.net/yangqicong/article/details/7096106" rel="noopener noreferrer" target="_blank">
      点击打开链接
     </a>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f75303133313236333739:2f61727469636c652f64657461696c732f3532343735343133" class_="artid" style="display:none">
 </p>
</div>


