---
layout: post
title: "AVL-CRUISE硬件在环台架测试"
date: 2025-01-18 21:58:04 +0800
description: "当今车辆部件和子系统与其控制系统的相互作用日益增强，控制函数的日益复杂使得各种各样的测试开发任务呈级"
keywords: "avl cruise与ni 仿真测试"
categories: ['未分类']
tags: ['自动驾驶', '安全', '其他']
artid: "106680601"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=106680601
  alt: "AVL-CRUISE硬件在环台架测试"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     AVL CRUISE硬件在环台架测试
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     当今车辆部件和子系统与其控制系统的相互作用日益增强，控制函数的日益复杂使得各种各样的测试开发任务呈级数增长。AVL的系统仿真模型的实时功能为HiL阶段提供了更多的技术手段并使得标定工作更高效。AVL的实时模型可以集成于多种HiL系统中，例如AVL InMotion、 IPG CarMaker、 dSPACE,、ETAS,、National
     <br/>
     Instruments 以及 Opal RT, 还有 AVLPUMA Open台架测试系统。
    </p>
    <p>
     使用AVL CRUISE和AVL Cruise M所建立的进行动力总成系统分析和优化的仿真模型能够随后应用于零部件和控制系统的测试和标定过程中（台架测试与硬件在环）。AVL的模拟技术实现了在办公室阶段和测试阶段使用相同的系统求解器并保证其在测试系统上运行的实时性。因此，将办公室使用的模型修改为测试系统能够运行的模型所需要的工作是及少量的。这样的工作流程和方法能够成功的实现在整个系统开发阶段都能保证数据的共享和结果的可比性。
    </p>
    <p>
     硬件在环仿真（Hardware In the Loop Simulation，HILS）作为 V 型开发流程中重要的一环。可以减少了部分实车测试，缩短了开发时间并降低开发成本，同时也降低了车辆开发过程中的风险。
    </p>
    <h3>
     <a id="_9">
     </a>
     一、基于模型的台架测试
    </h3>
    <p>
     AVL CRUISE M能够为很多测试设备提供具有高精度的可植入模型，如实时发动机模型、传动系统模型等。重复使用这些多物理系统模型，保证了车辆开发过程中的一致性、模型的连续性和结果的可比性，降低测试准备时间：
     <br/>
     1）在任意车辆动力系统中测试和标定各部件，从传统方案到最新概念的设计方案；
     <br/>
     2）重复使用工程师在车辆系统开发中所搭建的各个子系统模型；
     <br/>
     3）在项目前期就将某些需要在道路上实际测试才能完成的任务前置到测试台架上，4）降低开发周期和成本，提高产品的成熟度；
     <br/>
     5）在虚拟环境下进行各种极端工况测试，降低驾驶员和设备实际测试时可能遇到的风险。
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/577f28ec1270045edc0e0768ea9c1218.png"/>
    </p>
    <p>
     图1
    </p>
    <h3>
     <a id="_21">
     </a>
     二、硬件在环测试系统
    </h3>
    <p>
     HIL仿真是一种功能强大的测试方法，可以用于更加有效的测试嵌入式控制系统。当测试嵌入式控制系统时，从安全性，可行性和合理的成本上考虑，使用全系统进行所有必要的测试是不现实的。
    </p>
    <p>
     (Hardware-in-the-Loop)硬件在环测试系统是以实时处理器运行仿真模型来模拟受控对象的运行状态，通过I/O接口与被测的ECU连接，对被测ECU进行全方面的、系统的测试。从安全性、可行性和合理的成本上考虑，硬件在环测试已经成为ECU开发流程中非常重要的一环，减少了实车路试的次数，缩短开发时间和降低成本的同时提高ECU的软件质量，降低汽车厂的风险。
    </p>
    <h3>
     <a id="1dSPACE_27">
     </a>
     1.dSPACE实时仿真系统
    </h3>
    <p>
     dSPACE实时仿真系统是由德国dSPACE公司开发的一套基于MATLAB/Simulink的控制系统开发及半实物仿真软硬件工作平台，实现了和MATLAB/Simulink/RTW的完全无缝连接。dSPACE实时系统拥有实时性强，可靠性高，扩充性好等优点。
    </p>
    <p>
     dSPACE中的处理器运算性能强大，并且I/0接口十分丰富，用户可根据需要自行组合;软件环境功能强大而又灵活，提供自动生成代码及调试和下载等一系列的功能，在快速控制原型控制仿真方而，dSPACE允许反复修改模型设计，进行离线及实时仿真，可在设计之初就将错误修正，节省设计费用。使用RCP技术，可以在费用和性能之间进行折衷。通过将快速原型硬件系统和所要控制的实际设备相连接，可以反复研究使用不同传感器及驱动机构时系统的性能特征。而且，还可以利用旁路技术将原型控制单元或控制器集成于开发过程中，从而逐步完成从原型控制器到产品型控制器的顺利转换。
    </p>
    <p>
     在硬件在回路仿真方面，dSPACE平台可以实现对控制器的极限测试，失效测试。
    </p>
    <h3>
     <a id="2NI_35">
     </a>
     2.NI硬件在环仿真平台
    </h3>
    <p>
     NI开发的硬件在环仿真平台帮助用户节省了在汽车研发到生产各个阶段耗费的时间和成本。凭借业内领先的I/0、灵活现成的硬件、强大高效的LabVIEW开发环境，用户可以创建各种应用的解决方案。
    </p>
    <p>
     NI开发了基于PXI实时控制器的硬件在环仿真方案。PXI全称为面向仪器系统的PCI扩展，结合了PCI的电气总线特性和通用计算机强大的功能和高性价比，提供了一种高性能、低成本的虚拟仪器测试方案。
    </p>
    <p>
     仿真模型建立在PXI实时控制器之中，NI提供FPGA模块以适应更高动态性能和更高精度的模型应用需求。NI硬件在环仿真平台具有开放的软硬件技术架构，可以减少工程师的开发时间、成本和风险。在支持第三方硬件和软件建模工具的同时，NI还提供一系列高性能模拟和数字I/0设备，CAN,LIN和FlexRay总线接口，故障注入硬件等，便于用户高效实现应用。基于开放的工业标准，用户总能将最新的PC技术用在自己的HIL测试系统中。同时，HIL测试系统的可扩展性满足了多种快速变化的需求，以适应新技术发展所带来的测试挑战。
    </p>
    <h3>
     <a id="CRUISEdSAPCE_43">
     </a>
     三、CRUISE-dSAPCE联合仿真
    </h3>
    <p>
     将搭建的AVL-Cruise整车仿真模型通过CMC（Common Model Compiler）功能生成CMC文件（S函数的形式）转入至Simulink中，在Simulink模型中定义相应接口，然后通过MATLAB/Simulink的实时工作空间RTW（Real Time Workshop）功能，将整车模型生成C代码并下载至dSPACE仿真器simulator中，另一方面，将MATLAB/Simulink中搭建好的挡位决策控制策略通过RTW生成C代码，在CodeWarrior中将其与底层驱动代码进行编译，并将编译后的可执行文件通过P&amp;E USB Multilink下载器下载到TCU中，最后，通过CAN总线接口进行控制器与被控对象的信号交互，具体硬件在环测试方案流程如图2所示。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/25e917547137b06cbde10000f837728c.png"/>
    </p>
    <p>
     图2 硬件在环测试方案
    </p>
    <h3>
     <a id="AVL_51">
     </a>
     AVL动力总成试验台
    </h3>
    <h3>
     <a id="1AVL_53">
     </a>
     1.AVL动力总成测试平台
    </h3>
    <p>
     http://xnyqc.hfut.edu.cn/2018/1109/c9236a189758/page.htm
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/5fad2764255831df1cced83e3a59d0bf.png">
      <br/>
      新能源汽车动力总成试验台架，配备双电力测功机系统、电池模拟器、自动驾驶执行机构及整车模拟系统等，能够满足新能源汽车（纯电动、混动）动力总成的开发需求，具备整车路况与零部件模拟能力。
     </img>
    </p>
    <h3>
     <a id="_61">
     </a>
     系统描述
    </h3>
    <p>
     台架主要针对混合动力汽车动力总成性能评估，此外传统汽车动力总成前驱系统同样可在台架上进行测试。台架采用了灵活的配置方案，能够适应于MT、AT、CVT、AMT及DCT等多种变速箱的安装与测试。双测功机直接安装到轮毂法兰上，用于模拟整车与道路负载工况，驾驶员模拟系统实现车辆在指定路况下的控制，结合自动驾驶执行机构能够实现类似真人的换挡操作。
    </p>
    <p>
     系统具有完备的基于模型设计的开发能力。台架、自动化控制系统、整车模拟系统能够实现从零部件、整车到负载工况全系统的模拟。在系统开发过程中，可为零部件、动力总成的开发提供虚拟零部件（如变速箱、电池、电动机、发动机等）、驾驶员、道路工况等，提前开展各种模拟测试，提高系统开发速度，降低开发成本。
    </p>
    <p>
     可开展试验：
    </p>
    <p>
     1）驾驶性能评估
    </p>
    <p>
     2）换挡质量与舒适性评估
    </p>
    <p>
     3）同步性评估
    </p>
    <p>
     4）动力总成零部件寿命评估
    </p>
    <p>
     5）控制单元标定
    </p>
    <p>
     6）排放分析
    </p>
    <p>
     7）燃油经济性分析与优化
    </p>
    <p>
     8）混合动力总成优化
    </p>
    <p>
     9）变速器壳体和旋转部件的设计破坏应力评估
    </p>
    <p>
     10）齿轮和轴承设计寿命评估
    </p>
    <p>
     主要技术指标
    </p>
    <p>
     1）负载特性
    </p>
    <p>
     扭矩 &gt;1500 Nm
    </p>
    <p>
     功率 &gt;100 kW
    </p>
    <p>
     最高转速 &gt;3000 rpm
    </p>
    <p>
     转速控制精度 ±1 rpm
    </p>
    <p>
     扭矩控制精度 0.4% FS
    </p>
    <p>
     2）被测件电源特性
    </p>
    <p>
     额定功率 &gt;120 kW
    </p>
    <p>
     输出电压 50-600 VDC
    </p>
    <p>
     电压精度 0.1% FS
    </p>
    <p>
     电流精度 0.1% FS
    </p>
    <p>
     3）自动驾驶执行机构
    </p>
    <p>
     包含换档执行器及控制单元，油门、制动踏板执行器，自动驾驶机器人。能够实现变速箱的换挡，控制油门与刹车踏板，驱动方向盘，自动完成手动档和自动档车辆的驾驶操作。
    </p>
    <p>
     4）测量范围
    </p>
    <p>
     电压测量范围 0 - 600 V
    </p>
    <p>
     电流测量范围 0 - 500 A
    </p>
    <p>
     功率测量范围 0 - 300 kW
    </p>
    <h3>
     <a id="2_125">
     </a>
     2.发动机及动力总成实验
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/552a96bd69fc4ebd30fd2dfaafb81279.png">
      <br/>
      https://www.auto-testing.net/sell/show-10194.html
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/59d8282e2e1f8136bc5590ac0b6d591f.png"/>
     </img>
    </p>
    <h3>
     <a id="3AVL_131">
     </a>
     3.AVL用于功能试验的动力总成试验台架
    </h3>
    <p>
     (插电式)混合动力总成功能试验.pdf
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/2f637fcae9203ec8cc2b1fb81e9125eb.png"/>
    </p>
    <p>
     https://www.sohu.com/a/119108083_472882
    </p>
    <p>
     测试时，要从要评估的车辆上取下轮胎及轮毂，在4轮的传动轴上安装动力计。动力计的最高输出功率为260kW/1台，“最高时速支持300km/h”（北原）。另外，AVL公司将支持这些测试的试验室叫做“PTTB（Powertrain Test Bed）”（图2）。
    </p>
    <p>
     可评估整车的试验室“PTTB（Powertrain Test
     <br/>
     Bed）
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/b02e84954cfc35206770244d9ee8451e.png"/>
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c:6f672e6373646e2e6e65742f47656e677869616f313939362f:61727469636c652f64657461696c732f313036363830363031" class_="artid" style="display:none">
 </p>
</div>
