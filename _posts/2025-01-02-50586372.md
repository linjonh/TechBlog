---
layout: post
title: "QT-QMediaPlayer-播放音视频文件"
date: 2025-01-02 17:05:55 +0800
description: "QMediaPlayer类是QT自带的多媒体类。 实现简单的音视频播放是很简单的。QMediaPla"
keywords: "qt 播放器无效的url"
categories: ['Qt']
tags: ['播放音视', 'Qt', 'Qmediaplayer']
artid: "50586372"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=50586372
    alt: "QT-QMediaPlayer-播放音视频文件"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     QT QMediaPlayer 播放音视频文件
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     QMediaPlayer类是QT自带的多媒体类。 实现简单的音视频播放是很简单的。
    </p>
    <p>
     <br/>
    </p>
    <p>
     QMediaPlayer qtaudioPlayer;
    </p>
    <p>
     <span style="font-size:12px">
      qtaudioPlayer-&gt;setMedia(QUrl::fromLocalFile(filePath));
     </span>
    </p>
    <p>
     qtaudioPlayer-&gt;play();
     <br/>
    </p>
    <p>
     <span style="font-size:12px">
      这里的filePath如果是音频路径，就直接播放音频， 如果是视频路径就直接播放视频。
     </span>
    </p>
    <p>
     <br/>
    </p>
    <p>
     值得一提的是：
    </p>
    <p>
     如果是服务上的音视频路径的话， 需要在前面加上一个http://头， 当然如果返回就自带http://头就不用加。
    </p>
    <p>
     如：服务器返回一个www.test.com/test.wav,
    </p>
    <p>
     filePath = QLatin1String(http://www.test.com/test.wav);
     <br/>
    </p>
    <p>
     qtaudioPlayer-&gt;setMedia(QUrl::fromLocalFile(filePath));
    </p>
    <p>
     这样就可以直接播放网络上的音视频文件了。
    </p>
    <p>
     <br/>
    </p>
    <p>
     当然简单的音视频播放是很容易，在实际的播放器制作过程中，需要控制播放过程中的很多操作，QMediaPlayer 提供了很多信号，来让用户处理。
    </p>
    <p>
     如：
    </p>
    <p>
     mediaStatusChanged(QMediaPlayer::MediaStatus) // 这个是音视频状态改变的信号， 如：暂停， 停止， 播放，它都能直接监控
    </p>
    <p>
     durationChanged(qint64)//这个是播放文件数据总大小的信号， 它可以获得文件时间长度。
     <br/>
    </p>
    <p>
     positionChanged(qint64)// 这个是播放到什么位置的信号， 参数是以毫秒来计算的。
     <br/>
    </p>
    <p>
     volumeChanged(int)// 这个是声音调节的信号，监控当前声音的大小
     <br/>
    </p>
    <p>
     mutedChanged(bool)//这个是是否为静音的信号。
     <br/>
    </p>
    <p>
     <br/>
    </p>
    <p>
     音视频播放的过程中， 位置和总大小都是用毫秒表示的，可以进行单位换算。
    </p>
    <p>
     <br/>
    </p>
    <p>
     <br/>
    </p>
    <p>
     <br/>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f6c69323335343536373839:2f61727469636c652f64657461696c732f3530353836333732" class_="artid" style="display:none">
 </p>
</div>


