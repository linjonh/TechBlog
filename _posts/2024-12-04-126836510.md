---
layout: post
title: "Selenium自动化测试设计模式-PO模式"
date: 2024-12-04 21:21:37 +0800
description: "本文介绍了如何使用PageObject模式优化Selenium自动化测试，通过封装公共方法、元素定位"
keywords: "selenium+po模式设计测试用例"
categories: ['未分类']
tags: ['设计模式', '自动化', '单元测试', 'Selenium']
artid: "126836510"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=126836510
  alt: "Selenium自动化测试设计模式-PO模式"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Selenium自动化测试设计模式-PO模式
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2>
     前言：
    </h2>
    <p>
     在python自动化过程中，Selenium自动化测试中有一个名字常常被提及PageObject（思想与面向对象的特性相同），通过PO模式可以大大提高测试用例的维护效率。
    </p>
    <p>
     <strong>
      不了解po设计模式的可自行百度
     </strong>
    </p>
    <p>
     <strong>
      面向对象的特性
     </strong>
     ：封装、继承、多态
    </p>
    <p>
     <strong>
      传统测试脚本的弊端：
     </strong>
    </p>
    <ul>
     <li>
      测试脚本分离，维护成本高
     </li>
     <li>
      可扩展性差
     </li>
     <li>
      复用性低等
     </li>
    </ul>
    <h2>
     1、实现案例
    </h2>
    <h3>
     <strong>
      1.1 工程目录
     </strong>
    </h3>
    <p>
     <img alt="" height="904" src="https://i-blog.csdnimg.cn/blog_migrate/8f8a380aac4d4bd6c0cd3873a40e0e36.png" width="717"/>
    </p>
    <p>
     listing：项目根目录
    </p>
    <p>
     cofig：配置文件
    </p>
    <p>
     data：用例数据
    </p>
    <p>
     logs：日志记录
    </p>
    <p>
     picture：图片存放（用于UI）
    </p>
    <p>
     pylib：自定义库
    </p>
    <p>
     report：报告
    </p>
    <p>
     test_case：用例相关
    </p>
    <p>
     main_test：程序运行入口
    </p>
    <p>
     pytest.ini：pytest框架配置的标签
    </p>
    <h3>
     1.2 公共方法
    </h3>
    <p>
     封装BasePage：
    </p>
    <p>
     1.由于做selenium自动化测试的时候需要webdriver的实例，我们可以将driver封装在init方法里面，并且需要加一个判断。判断当前对象有没有driver，
     <strong>
      没有driver就生成driver，有了driver就不再产生新的driver
     </strong>
     ，这一步可以通过
     <strong>
      单例模式
     </strong>
     实现
    </p>
    <p>
     2.将公共的操作如：点击操作、输入框、获取文本信息、获取元素属性、检测元素是否可见等方法封装在基类里面以便于直接调用方法
    </p>
    <p>
     <img alt="" height="906" src="https://i-blog.csdnimg.cn/blog_migrate/946a1030ee73f5ce5d6ebe549b339346.png" width="1069"/>
    </p>
    <h3>
     2.2 元素定位
    </h3>
    <p>
     将元素定位表达式写在配置文件里面（yaml文件），然后编写业务代码的时候直接读取配置文件对应的元素表达式就好了
    </p>
    <p>
     优点：如果有100个地方用到了一个元素，当元素定位表达式变了，只需要改配置文件就行了，不用100个地方每个都修改。
    </p>
    <p>
     <img alt="" height="388" src="https://i-blog.csdnimg.cn/blog_migrate/7ba7c9800ff98f9f0fbfe662f4efb2d1.png" width="1003"/>
    </p>
    <h3>
     2.3业务代码
    </h3>
    <p>
     编写具体的业务代码，实现步骤：
    </p>
    <p>
     1.登录，继承基类BasePage的方法，登录被测系统，并且return登录以后的页面，也就是下面截图里面的：
    </p>
    <pre><strong>return ShopeeDraftPage()</strong></pre>
    <p>
     2.具体页面操作
    </p>
    <p>
     <img alt="" height="875" src="https://i-blog.csdnimg.cn/blog_migrate/8b766590f5884d78baa8b049c7fc00b4.png" width="911"/>
    </p>
    <h3>
     2.4 测试用例、报告
    </h3>
    <p>
     框架采用pytest，报告用的allure
    </p>
    <p>
     要点：编写用例的时候调用对应业务代码的方法，然后将具体步骤拼接起来
    </p>
    <p>
     <img alt="" height="916" src="https://i-blog.csdnimg.cn/blog_migrate/fcbd8b02dafc90e49f98eec458252572.png" width="1106"/>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f49616d53636f7270696f5f2f:61727469636c652f64657461696c732f313236383336353130" class_="artid" style="display:none">
 </p>
</div>
