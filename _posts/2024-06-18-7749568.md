---
layout: post
title: "Derby数据库简单介绍和使用方法"
date: 2024-06-18 09:46:18 +0800
description: "一、 Derby 数据库介绍Apache Derby 是100% Java 编写的内存数据库，属于 "
keywords: "derby数据库"
categories: ['Database']
tags: ['数据库', 'Jvm', 'Jdbc', 'Java', 'Derby', 'Apache']
artid: "7749568"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=7749568
    alt: "Derby数据库简单介绍和使用方法"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Derby数据库简单介绍和使用方法
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2>
     <span style="font-family:Comic Sans MS; font-size:24px">
      一、 Derby 数据库介绍
     </span>
    </h2>
    <span style="font-family:Comic Sans MS">
     <span style="font-size:18px">
      Apache Derby 是
      <span style="color:#ff0000">
       100% Java 编写的内存数据库
      </span>
      ，属于 Apache 的一个开源项目。并且是一个容易
     </span>
     <span style="font-size:18px">
      管理的关系数据库管理系统，可以和一些商业产品的特性进行交付。
     </span>
     <br/>
     <span style="font-size:18px">
      Apache Derby 是一个与平台无关的数据库引擎，它以 Java 类库的形式对外提供服务。
     </span>
     <span style="font-size:18px">
      与其他难以部署的数据库不同， Derby 数据库体积小、安装非常简单，只需要将其 *.jar 文件复制到系统中并
     </span>
     <span style="font-size:18px">
      为用户的项目添加该 *.jar 文件即可。
     </span>
     <br/>
    </span>
    <h2>
     <span style="font-family:Comic Sans MS; font-size:24px">
      二、 Derby 数据库的两种运行模式
     </span>
    </h2>
    <span style="font-family:Comic Sans MS">
     <span style="font-size:18px">
      1） 内嵌模式。Derby数据库与应用程序共享同一个JVM，通常由应用程序负责启动和停止，对除启动它的应用程
     </span>
     <br/>
     <span style="font-size:18px">
      序外的其它应用程序不可见，即其它应用程序不可访问它；
     </span>
     <br/>
     <span style="font-size:18px">
      2） 网络模式。Derby数据库独占一个JVM，做为服务器上的一个独立进程运行。在这种模式下，允许有多个应用
     </span>
     <br/>
     <span style="font-size:18px">
      程序来访问同一个Derby数据库。
     </span>
     <br/>
    </span>
    <h2>
     <span style="font-family:Comic Sans MS; font-size:24px">
      三、可以从许多技术方面来区分 Derby 和其他数据库系统
     </span>
    </h2>
    <span style="font-family:Comic Sans MS">
     <span style="font-size:18px">
      Derby 易于管理。当嵌入到客户机应用程序中时， Derby 系统不需要任何管理干预。
     </span>
     <br/>
     <span style="font-size:18px">
      Derby 是可嵌入的。应用程序可以将数据库管理系统（ Database Management System ， DBMS ）引擎嵌入应用
     </span>
     <br/>
     <span style="font-size:18px">
      程序进程中，从而无需管理单独的数据库进程或服务。
     </span>
     <span style="font-size:18px">
      通过网络服务器（ Network Server ）架构或您选择的服务器架构，可以将 Derby 作为单独的进程来运行。
     </span>
     <br/>
    </span>
    <p>
     <span style="font-family:Comic Sans MS">
      <span style="font-size:18px">
       Derby 是一个
       <span style="color:#ff0000">
        纯 Java 的类库
       </span>
       ：对于 Java 开发人员，这点十分重要，因为他们正试图维护 Java 技术的优点，
      </span>
     </span>
    </p>
    <p>
     <span style="font-family:Comic Sans MS">
      <span style="font-size:18px">
       例如
       <span style="color:#ff0000">
        平台无关性
       </span>
       、易于配置以及易于安装。
      </span>
     </span>
    </p>
    <span style="font-family:Comic Sans MS">
     <span style="font-size:18px">
      Derby
      <span style="color:#ff0000">
       不需要专有的 Java 虚拟机
      </span>
      （ Java Virtual Machine ， JVM ）。因为完全是用 Java 语言编写的，所以
     </span>
     <br/>
     <span style="font-size:18px">
      它适应所有合格的 JVM 。
     </span>
     <br/>
     <span style="font-size:18px">
      DerbyDBMS 引擎是轻量级的。类文件大小大约是
      <span style="color:#ff0000">
       2MB
      </span>
      ，并且只使用了
      <span style="color:#ff0000">
       4MB 的 Java 堆
      </span>
      。
     </span>
     <br/>
     <span style="font-size:18px">
      Derby 支持使用 Java 编写存储过程和函数，这些存储过程和函数可以在应用程序的任何层上运行。 Derby 没有
     </span>
     <br/>
     <span style="font-size:18px">
      专用的存储过程语言，它使用 JDBC 。
     </span>
     <br/>
    </span>
    <h2>
     <span style="font-family:Comic Sans MS; font-size:24px">
      四、 Derby 数据库的优缺点
     </span>
    </h2>
    <span style="font-family:Comic Sans MS">
     <span style="font-size:18px">
      1 、 Derby 定位是小型数据库 , 特别是嵌入式 .
      <span style="color:#ff0000">
       支持的数据库小于 50GB
      </span>
      , 对于小型网站 , 事务不复杂的应用
     </span>
     <br/>
     <span style="font-size:18px">
      , 使用它的还是很不错的 . 另外大型桌面应用也可以用它来保存配置和其他数据 , 可以做到与文件格式无关 ,
     </span>
     <br/>
     <span style="font-size:18px">
      因为都是访问数据库 .
     </span>
     <br/>
     <span style="font-size:18px">
      2 、功能： Derby
      <span style="color:#ff0000">
       支持标准 SQL92, SQL1999, SQL2003
      </span>
      , 支持临时表 , 索引 , 触发器 , 视图 , 存储过程 ,
     </span>
     <br/>
     <span style="font-size:18px">
      外键 , 约束 , 并行 , 事务 , 加密与安全等 . 只要有
      <span style="color:#ff0000">
       JDK(&gt;=1.3)
      </span>
      , 就可以运行 Derby.
     </span>
     <br/>
     <span style="font-size:18px">
      3 、安全性： Derby 的安全性也做得很到位 , 包括用户鉴权和加密解密 .
     </span>
     <br/>
     <span style="font-size:18px">
      4 、
      <span style="color:#ff0000">
       性能
      </span>
      ： Derby 的性能也是不错的 . 在插入 100 万条记录时 , CPU 的占用率一直
      <span style="color:#ff0000">
       低于 40%
      </span>
      , 平均
      <span style="color:#ff0000">
       每插一条
      </span>
     </span>
     <br/>
     <span style="font-size:18px">
      记录耗时
      <span style="color:#ff0000">
       小于 0.3 毫秒
      </span>
      . 这对于满足桌面应用程序是绰绰有余的 . 但是比 Oracle 、 MySql 等专业数据库性
     </span>
     <br/>
    </span>
    <p>
     <span style="font-family:Comic Sans MS">
      <span style="font-size:18px">
       能要低
      </span>
     </span>
    </p>
    <p>
     <span style="font-family:Comic Sans MS">
      <span style="font-size:18px">
      </span>
     </span>
    </p>
    <h2>
     <span style="font-family:Comic Sans MS; font-size:24px">
      五、 使用方法
     </span>
    </h2>
    <h3>
     <span style="font-family:Comic Sans MS">
      <span style="font-size:18px">
       1、安装Derby数据库
      </span>
     </span>
    </h3>
    <span style="font-family:Comic Sans MS">
     <span style="font-size:18px">
      只需要从Derby官方网站
      <span style="color:#ff0000">
       下载Derby的zip或者tar包
      </span>
      ，解压就可以了。这里以db-derby-10.4.1.3-bin版本为例，解
      <br/>
      压后得到以下目录：
      <br/>
      1） bin目录，包含了一些工具脚本和设备环境的脚本；
      <br/>
      2） demo目录，包含了一些实例程序；
      <br/>
      3） docs目录，包含了Derby的文档；
      <br/>
      4） javadoc目录，包含了Derby的API文档；
      <br/>
      5） lib目录，包含了Derby数据库的jar文件；
      <br/>
      6） test目录，Derby的一些测试jar包；
     </span>
    </span>
    <p>
    </p>
    <p>
    </p>
    <h3>
     <span style="font-family:Comic Sans MS">
      <span style="font-size:18px">
       2、使用ij脚本
      </span>
     </span>
    </h3>
    <span style="font-family:Comic Sans MS">
     <span style="font-size:18px">
      <span style="color:#ff0000">
       1） 运行内嵌模式的Derby数据库
      </span>
      <br/>
      在命令行中找到bin目录，使用输入ij使用ij工具（或单击ij.bat后
      <span style="color:#ff0000">
       启动ij工具
      </span>
      ）。然后通过如下命令创建数据库，并与数据库创建连接：
      <br/>
      <span style="color:#ff0000">
       connect ‘jdbc:derby:firstdb;create=true';
      </span>
      <br/>
      （通过connect命令可以与指定数据库创建连接，通过一个JDBC URL来指定与哪个数据库创建连接。ij命令是不区分大小写的。参数中jdbc:derby是Derby数据库的驱动协议；firstdb是数据库名称，由于没有指定路径，数据库将会被创建在当前你命令行下所在的目录下；create=true表示如果数据库不存在，则创建该数据库；";"是ij命令的终止符。当数据库创建成功时，Derby会在当前你命令行下所在的目录下创建一个与数据库命一致（这里是firstdb）的目录，其中存放了数据库的文件。）
      <br/>
      与数据库连接上后，就可以开始执行SQL脚本了，如创建一个表格：
      <br/>
      create table firsttable(id int primary key, name varchar(20));
      <br/>
      然后插入记录：
      <br/>
      insert into firsttable values(1, ‘Hotpepper');
      <br/>
      也可以执行查询：
      <br/>
      select * from firsttable;
      <br/>
      也可以通过run命令来执行sql文件：
      <br/>
      run 'E:/derby/demo/ToursDB_schema.sql';
      <br/>
      最后通过exit;来退出ij工具。
      <br/>
      你可以在当前你命令行下所在的目录中找到一个derby.log的日志文件，derby在其中记录的数据库启动、关闭的信息。
     </span>
    </span>
    <p>
    </p>
    <p>
     <span style="font-family:Comic Sans MS">
      <span style="font-size:18px">
       <span style="color:#ff0000">
        2） 运行网络模式的Derby数据库
       </span>
       <br/>
       这种模式下，需要使用
       <span style="color:#ff0000">
        两个控制台窗口
       </span>
       ，一个用于
       <span style="color:#ff0000">
        启动Derby数据库服务端
       </span>
       ，另一个做为访问Derby数据库的客户端。需要在命令行进入bin目录，运行startNetworkServer.bat启动数据库服务器，另一个端口跟
       <span style="font-family:'Comic Sans MS'; font-size:18px">
        运行内嵌模式的Derby数据库类似，只是连接的命令不同：
       </span>
      </span>
     </span>
    </p>
    <p>
     <span style="font-family:Comic Sans MS">
      <span style="font-size:18px">
       <span style="font-family:'Comic Sans MS'; font-size:18px">
        <span style="font-family:'Comic Sans MS'; font-size:18px">
         connect 'jdbc:derby://localhost:1527/G:/CSESI_DATA/CSESI;create=true';
        </span>
       </span>
       <br/>
      </span>
     </span>
    </p>
    <p>
     <span style="font-family:Comic Sans MS; font-size:18px">
      （其中localhost：
      <span style="color:#ff0000">
       1527
      </span>
      是本地和端口号，后面的是G盘的某个数据库，也可以是网上的）
     </span>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f6b61695f7765695f7a68616e:672f61727469636c652f64657461696c732f37373439353638" class_="artid" style="display:none">
 </p>
</div>


