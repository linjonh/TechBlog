---
layout: post
title: "调用API在Android平台下实现音视频通信"
date: 2022-04-06 11:37:46 +0800
description: "音视频通信作为独立开发者或想缩短音视频开发周期的公司来说，想要在Android平台下实现音视频通信，"
keywords: "android 音视频通信调用"
categories: ['']
tags: ['聊天', '即时通讯开发', 'Android']
artid: "8643114"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=8643114
    alt: "调用API在Android平台下实现音视频通信"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     调用API在Android平台下实现音视频通信
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p style="font-family:Simsun">
     <span style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="font-size:18px">
       音视频通信
      </span>
     </span>
    </p>
    <p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
     作为独立开发者或想缩短音视频开发周期的公司来说，想要在Android平台下实现音视频通信，最快捷的方法是寻找开源项目或调用其他公司API。之所以这么说是因为音视频通信技术涉及到底层音视频采集、解码、
     <span style="padding:0px; margin:0px">
      <span style="padding:0px; margin:0px; font-weight:normal; line-height:24px; font-family:tahoma,arial; color:rgb(51,51,51)">
       FFmpeg（音视频处理解决方案）、媒体流传输协议
      </span>
     </span>
     等太多太多相关技术知识点。试了 几个开源项目，视频差强人意，语音与视频不同步等不稳定因素。因此我把目光放到其他公司的API上（
     <a href="http://www.anychat.cn/" rel="nofollow noopener noreferrer" style="padding:0px; margin:0px; color:rgb(1,95,145); text-decoration:none" target="_blank">
      点击下载demo程序
     </a>
     ）。demo程序API提供了一系列纯Java语言的调用接口，通过JNI即可调用内核共享库（.so 类似win32 的dll），根据官方开发文档我很快就实现音视频通信，下面是我在调用其API的经验总结。视频效果图如下：
    </p>
    <p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
     <a href="https://i-blog.csdnimg.cn/blog_migrate/3325ad2dd84d4bb99a6dc4c98e11ed51.png" rel="nofollow noopener noreferrer" style="padding:0px; margin:0px; color:rgb(1,95,145); text-decoration:none" target="_blank">
      <img alt="" border="0" src="https://i-blog.csdnimg.cn/blog_migrate/3325ad2dd84d4bb99a6dc4c98e11ed51.png" style="padding:0px; margin:0px; vertical-align:top; border:none" width="650"/>
     </a>
    </p>
    <p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
     Android通信平台相关API方法
    </p>
    <pre style="font-family:'Courier New',monospace; width:712.7833251953125px; overflow:auto; margin-top:0px; margin-bottom:1em; background-color:rgb(247,247,247); padding:0px; color:rgb(85,85,85)"> 
 <ol class="dp-j" style="margin:0px 0px 1px 3em!important; padding:5px 0px; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(20,107,0); list-style-position:initial; color:rgb(92,92,92)"><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">    // 初始化SDK </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">public</span> <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">native</span> <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">int</span> InitSDK(<span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">int</span> osver, <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">int</span> flags);  </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">    <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">// 连接服务器 </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">public</span> <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">native</span> <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">int</span> Connect(String serverip, <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">int</span> port);  </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">    <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">// 登录系统 </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">public</span> <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">native</span> <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">int</span> Login(String username, String password);  </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">    <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">// 进入房间（房间ID） </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">public</span> <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">native</span> <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">int</span> EnterRoom(<span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">int</span> roomid, String password);  </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">    <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">// 进入房间（房间名称） </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">public</span> <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">native</span> <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">int</span> EnterRoomEx(String roomname, String password);  </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">    <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">// 退出房间 </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">public</span> <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">native</span> <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">int</span> LeaveRoom(<span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">int</span> roomid);  </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">    <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">// 设置视频显示位置 </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">public</span> <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">native</span> <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">int</span> SetVideoPos(<span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">int</span> userid, Surface surface, <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">int</span> lef,  </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">            <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">int</span> top, <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">int</span> right, <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">int</span> bottom);  </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">    <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">/** </span> </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">     * 功能： 设置视频显示位置，或是刷新视频显示 返回值：0表示成功，否则为出错代码  </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">     * 参数：  </span> </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">     * userid  用户ID  </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">     * surface 视频显示界面，android客户端只需提供SurfaceView控件，内核自动将视频显示在控件上 </span> </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">     * lef,top,right,bottom视频显示位置信息 </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">     */</span> </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">    <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">// 注销登录 </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">public</span> <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">native</span> <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">int</span> Logout();  </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">    <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">// 释放资源 </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">public</span> <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">native</span> <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">int</span> Release(); </li></ol></pre>
    <h2 style="padding:0px; margin:0px; font-size:12px; font-weight:normal; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
     一、初始化SDK
    </h2>
    <p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
     初始化SDK是首先要完成的，用于设置SDK的一些行为，包括设置对应的回调函数。代码如下：
    </p>
    <pre style="font-family:'Courier New',monospace; width:712.7833251953125px; overflow:auto; margin-top:0px; margin-bottom:1em; background-color:rgb(247,247,247); padding:0px; color:rgb(85,85,85)"> 
 <ol class="dp-j" style="margin:0px 0px 1px 3em!important; padding:5px 0px; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(20,107,0); list-style-position:initial; color:rgb(92,92,92)"><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">    //初始化SDK </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">    <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">private</span> <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">void</span> InitialSDK() {  </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">if</span> (anychat == <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">null</span>) {  </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">            anychat = <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">new</span> AnyChatCoreSDK();  </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">            <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//设置基本事件回调函数 </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">            anychat.SetBaseEvent(<span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">this</span>);  </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">            <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">if</span> (configEntity.useARMv6Lib != <span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">0</span>)  </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">                anychat.SetSDKOptionInt(AnyChatDefine.  </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">                        BRAC_SO_CORESDK_USEARMV6LIB, <span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">1</span>);            <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//使用ARMv6指令集 </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">            anychat.InitSDK(android.os.Build.VERSION.SDK_INT, <span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">0</span>);   <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//初始化SDK 的一个参数是android API版本 </span> </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">            bNeedRelease = <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">true</span>;  </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">        }  </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">    } </li></ol></pre>
    <h2 style="padding:0px; margin:0px; font-size:12px; font-weight:normal; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
     二、登录系统
    </h2>
    <p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
     当初始化SDK完成之后，便可以实现连接服务器、验证用户身份、用户登录等。
    </p>
    <pre style="font-family:'Courier New',monospace; width:712.7833251953125px; overflow:auto; margin-top:0px; margin-bottom:1em; background-color:rgb(247,247,247); padding:0px; color:rgb(85,85,85)"> 
 <ol class="dp-j" style="margin:0px 0px 1px 3em!important; padding:5px 0px; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(20,107,0); list-style-position:initial; color:rgb(92,92,92)"><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">        //连接服务器 </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">        anychat.Connect(<span class="string" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit">"211.155.25.90"</span>, <span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">8906</span>);  </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">        <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//登录系统 </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">        anychat.Login(<span class="string" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit">"android"</span>,<span class="string" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit">""</span>); </li></ol></pre>
    <p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
     连接服务器和登录系统都是一个异步的过程，调用后会立即返回。在回调函数中根据返回代码判断服务器是否连接成功和登录成功。
    </p>
    <h2 style="padding:0px; margin:0px; font-size:12px; font-weight:normal; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
     三、进入房间
    </h2>
    <p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
     登录成功后就可进入相应的房间，只有在相同房间的用户才能进行音视频通信。代码如下
    </p>
    <p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
     1、进入房间
    </p>
    <pre style="font-family:'Courier New',monospace; width:712.7833251953125px; overflow:auto; margin-top:0px; margin-bottom:1em; background-color:rgb(247,247,247); padding:0px; color:rgb(85,85,85)"> 
 <ol class="dp-j" style="margin:0px 0px 1px 3em!important; padding:5px 0px; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(20,107,0); list-style-position:initial; color:rgb(92,92,92)"><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//进入1号房间 </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">anychat.EnterRoom(<span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">1</span>, <span class="string" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit">""</span>);    </li></ol></pre>
    <p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
     进入房间后系统会将该房间在线用户发送给客户端，只有在同一个房间用户才能进行音视频互交、文字聊天、文件传输等。当新用户进入房间或用户下线，都会触发异步消息通知上层应用更改状态。
    </p>
    <p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
     2、文字聊天
    </p>
    <p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
     成功进入房间后，便可调用API接口向指定用户或房间中所有在线用户发送文字 聊天消息。
    </p>
    <pre style="font-family:'Courier New',monospace; width:712.7833251953125px; overflow:auto; margin-top:0px; margin-bottom:1em; background-color:rgb(247,247,247); padding:0px; color:rgb(85,85,85)"> 
 <ol class="dp-j" style="margin:0px 0px 1px 3em!important; padding:5px 0px; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(20,107,0); list-style-position:initial; color:rgb(92,92,92)"><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">        //发送文字聊天消息 </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">        String message = messageEditText.getText().toString();  </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">        anychat.SendTextMessage(-<span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">1</span>, <span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">0</span>,message); </li></ol></pre>
    <p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
     其他用户收到文字聊天消息会触发相应的回调函数并将聊天消息显示在界面上。
    </p>
    <p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
     3、请求其他用户的音视频
    </p>
    <pre style="font-family:'Courier New',monospace; width:712.7833251953125px; overflow:auto; margin-top:0px; margin-bottom:1em; background-color:rgb(247,247,247); padding:0px; color:rgb(85,85,85)"> 
 <ol class="dp-j" style="margin:0px 0px 1px 3em!important; padding:5px 0px; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(20,107,0); list-style-position:initial; color:rgb(92,92,92)"><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">        // 请求对方的视频流  </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">        anychat.UserCameraControl(userID, <span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">1</span>);  </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">        <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">// 请求对方的音频流  </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">        anychat.UserSpeakControl(userID, <span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">1</span>); </li></ol></pre>
    <p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
     4、音视频的显示与播放
    </p>
    <pre style="font-family:'Courier New',monospace; width:712.7833251953125px; overflow:auto; margin-top:0px; margin-bottom:1em; background-color:rgb(247,247,247); padding:0px; color:rgb(85,85,85)"> 
 <ol class="dp-j" style="margin:0px 0px 1px 3em!important; padding:5px 0px; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(20,107,0); list-style-position:initial; color:rgb(92,92,92)"><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">       //判断远程用户视频是否已打开 </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">if</span> (!bOtherVideoOpened) {  </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">            <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">if</span> (anychat.GetCameraState(userID) == <span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">2</span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">                    &amp;&amp; anychat.GetUserVideoWidth(userID) != <span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">0</span>) {  </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">                SurfaceHolder holder = otherView.getHolder();   <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//获得SurfaceView控件 </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">                holder.setFormat(PixelFormat.RGB_565);          <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//设置显示格式 </span> </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">                holder.setFixedSize(anychat.GetUserVideoWidth(userID),  </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">                        anychat.GetUserVideoHeight(userID));    <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//设置视频显示宽高 </span> </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">                Surface s = holder.getSurface();                <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//获得视频画面 </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">                anychat.SetVideoPos(userID, s, <span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">0</span>, <span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">0</span>, <span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">0</span>, <span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">0</span>);     <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//调用API显示视频画面 </span> </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">                bOtherVideoOpened = <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">true</span>;  </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">            }  </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">        }  </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">        <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//判断本地视频是否已打开 </span> </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">        <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">if</span> (!bSelfVideoOpened) {  </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">            <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">if</span> (anychat.GetCameraState(-<span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">1</span>) == <span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">2</span> </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">                    &amp;&amp; anychat.GetUserVideoWidth(-<span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">1</span>) != <span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">0</span>) {  </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">                SurfaceHolder holder = myView.getHolder();      <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//获得SurfaceView控件 </span> </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">                holder.setFormat(PixelFormat.RGB_565);          <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//设置显示格式 </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">                holder.setFixedSize(anychat.GetUserVideoWidth(-<span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">1</span>),  </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">                        anychat.GetUserVideoHeight(-<span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">1</span>));        <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//设置视频显示宽高 </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">                Surface s = holder.getSurface();                <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//获得视频画面 </span> </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">                anychat.SetVideoPos(-<span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">1</span>, s, <span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">0</span>, <span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">0</span>, <span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">0</span>, <span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">0</span>);         <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//调用API显示视频画面 </span> </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">                bSelfVideoOpened = <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">true</span>;  </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">            }  </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">        } </li></ol></pre>
    <p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
     Android程序中，当收到用户的媒体流数据时，Android客户端只需提供一个SurfaceView控件，内核自动将视频媒体流数据显示在该控件上并播放声音。
    </p>
    <h2 style="padding:0px; margin:0px; font-size:12px; font-weight:normal; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
     四、释放资源
    </h2>
    <p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
     与前面讲的连接服务器、登录系统、进入房间对应的的是离开房间、注销系统、释放资源。代码如下：
    </p>
    <pre style="font-family:'Courier New',monospace; width:712.7833251953125px; overflow:auto; margin-top:0px; margin-bottom:1em; background-color:rgb(247,247,247); padding:0px; color:rgb(85,85,85)"> 
 <ol class="dp-j" style="margin:0px 0px 1px 3em!important; padding:5px 0px; border-style:none none none solid; border-left-width:3px; border-left-color:rgb(20,107,0); list-style-position:initial; color:rgb(92,92,92)"><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em"><span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">    protected</span> <span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">void</span> onDestroy() {  </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">    <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//离开房间 </span> </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">    anychat.LeaveRoom(-<span class="number" style="margin:0px; padding:0px; border:none; color:rgb(192,0,0); background-color:inherit">1</span>);  </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">    <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//注销登录 </span> </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">    anychat.Logout();  </li><li style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; line-height:1.3em">    <span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//释放资源 关闭SDK 不再返回登录界面 </span> </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">    anychat.Release(); </li><li class="alt" style="margin-top:0px!important; margin-right:0px!important; margin-bottom:0px!important; margin-left:20px; padding:0px 3px 0px 10px!important; border:none; list-style:decimal-leading-zero outside; color:inherit; line-height:1.3em">}</li></ol></pre>
    <p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
     离开房间后可再进入房间，但是注销登录和释放资源后，SDK将不再工作。在Activity生命周期结束的时候可以将占用资源释放，程序退出。
    </p>
    <p style="padding-top:0px; padding-bottom:15px; margin-top:0px; margin-bottom:0px; color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; font-size:14px; line-height:28px">
     总结：还有其他诸如发送文件、P2P连接、对Android设备设置、获取在线用户等非常实用功能等待你们去挖掘。用java我们也能快速实现音视频通信。
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f6261697275695f416c6c65:6e2f61727469636c652f64657461696c732f38363433313134" class_="artid" style="display:none">
 </p>
</div>


