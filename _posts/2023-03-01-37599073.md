---
layout: post
title: "HTML移动开发一-RequireJS使用简略说明"
date: 2023-03-01 11:06:00 +0800
description: "1、在web开发zhong_html require.js"
keywords: "html require.js"
categories: ['Hmlt']
tags: ['无标签']
artid: "37599073"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=37599073
    alt: "HTML移动开发一-RequireJS使用简略说明"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     HTML移动开发(一) -- RequireJS使用简略说明
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     <span style="font-size:18px">
      1、在web开发中，我们引入js文件最常见的写法是：
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      &lt;script type="text/javascript" src="js/file1.js"&gt;&lt;/script&gt;
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      <span style="font-size:18px">
       &lt;script type="text/javascript" src="js/file2.js"&gt;&lt;/script&gt;
      </span>
      <br/>
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      <span style="font-size:18px">
       <span style="font-size:18px">
        &lt;script type="text/javascript" src="js/file3.js"&gt;&lt;/script&gt;
       </span>
       <br/>
      </span>
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      <span style="font-size:18px">
       <span style="font-size:18px">
        <span style="font-size:18px">
         &lt;script type="text/javascript" src="js/file4.js"&gt;&lt;/script&gt;
        </span>
       </span>
      </span>
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      <span style="font-size:18px">
       <span style="font-size:18px">
        <span style="font-size:18px">
         <span style="font-size:18px">
          &lt;script type="text/javascript" src="js/file5.js"&gt;&lt;/script&gt;
         </span>
        </span>
       </span>
      </span>
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      首先，这样的写法会增加http的请求数，影响其网页加载的速度。其次，如果这个这个js文件是相互依赖的话，那么加载的顺序是不能颠倒的，因为浏览器解析html是自上而下的解析。require.js的出现可以使得js文件异步加载，大大提升了网页渲染的速度，更便于管理模块之间的依赖和管理，便于代码的编写与维护。
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      2、如何通过require.js去加载文件？
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      a、首先我们先创建一个主文件index.js,通过require.js去加载这个文件。在这个index.js文件中，我们可以去加载其他的js文件。
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      在html页面中的引入index.js文件：写法如下
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      &lt;script type="text/javascript" data-main="
      <span style="font-size:18px">
       index
      </span>
      .js" src="js/require.js"&gt;
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      b、在主模块中，我们可以添加其他的模块：
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      index.js的代码如下：
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      require.config({
      <!-- -->
      <br/>
      <span style="white-space:pre">
      </span>
      baseUrl: './',
      <span style="color:#009900">
       //这里的路径是基于index.js文件路径
      </span>
      <br/>
      <span style="white-space:pre">
      </span>
      paths: {
      <span style="color:#009900">
       //定义加载模块的路径
      </span>
      <br/>
      <span style="white-space:pre">
      </span>
      text: 'js/text',
      <span style="color:#009900">
       //我这里引入的是requireJS的中的文本插件
      </span>
      <br/>
      <span style="white-space:pre">
      </span>
      zepto: 'js/zepto',
      <span style="color:#009900">
       //轻量级仿JQ类库，适合在移动web中使用
      </span>
      <br/>
      <span style="white-space:pre">
      </span>
      underscore: 'js/underscore',
      <span style="color:#009900">
       //Backbone强烈依赖的类库
      </span>
      <br/>
      <span style="white-space:pre">
      </span>
      backbone: 'js/backbone',
      <span style="color:#009900">
       //BackBone
      </span>
      <br/>
      <span style="white-space:pre">
      </span>
      },
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      <span style="color:#009900">
       //config对象除了path属性之外还有一个shim属性，专门用来引入非规范的模块
      </span>
      <br/>
      <span style="white-space:pre">
      </span>
      shim: {
      <span style="color:#009900">
       //以下是引入非规范化JS文件(模块)的写法
      </span>
      <br/>
      <span style="white-space:pre">
      </span>
      backbone: {
      <br/>
      <span style="white-space:pre">
      </span>
      deps: ['underscore'],
      <span style="color:#009900">
       //这里是数组的形式，说明backbone依赖的是哪些模块
      </span>
      <br/>
      <span style="white-space:pre">
      </span>
      exports: 'Backbone'
      <span style="color:#009900">
       //一个变量名，说明在被别的模块调用是缩被使用的变量名称。
      </span>
      <br/>
      <span style="white-space:pre">
      </span>
      },
      <br/>
      <span style="white-space:pre">
      </span>
      zepto: {
      <!-- -->
      <br/>
      <span style="white-space:pre">
      </span>
      exports: '$'
      <br/>
      <span style="white-space:pre">
      </span>
      },
      <br/>
      <span style="white-space:pre">
      </span>
      underscore: {
      <!-- -->
      <br/>
      <span style="white-space:pre">
      </span>
      exports: '_'
      <br/>
      <span style="white-space:pre">
      </span>
      },
      <br/>
      <span style="white-space:pre">
      </span>
      }
      <br/>
      });
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      //通过上面配置的路径配置和非规范化的配置之后，下面我们可以通过require的方法引入这些模块。
      <br/>
      require(['zepto', 'underscore', 'backbone','text'],
      <br/>
      <span style="white-space:pre">
      </span>
      function($, _, Backbone,Text) {
      <!-- -->
      <br/>
      <span style="white-space:pre">
      </span>
      console.info("==============");
      <br/>
      <span style="white-space:pre">
      </span>
      var el = $(".content");
      <br/>
      <span style="white-space:pre">
      </span>
      console.info(el);
      <br/>
      <span style="white-space:pre">
      </span>
      });
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      说明：require(arr,fn,[fnFail])方法接收两个或三个参数，第一个参数是一个数组，表明这个index.js文件(主模块)依赖哪些模块，这里的是数组可以是上面配置中path对象中的key值，也可以是一个包含有路径的文件，如："other/js/i18n" 。第二个参数是一个回调函数，这个回调函数会在所有的模块都被加载完之后调用，这个回调函数的参数对应你引用模块的变量，供模块被调用的时候引用。第三个参数也是一个回调函数，当加载模块失败的时候调用的函数。
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      如上例：我在页面中定义了一个&lt;div class="content"&gt;&lt;/div&gt; ，在上面的回调函数里可以通过已经引入的zepto模块去获取该div。
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      综合所述，我们可以在回调函数里面做一些相应的操作了。
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      <br/>
     </span>
    </p>
    <p>
     <br/>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f:626c6f672e6373646e2e6e65742f6161353734323032323238:2f61727469636c652f64657461696c732f3337353939303733" class_="artid" style="display:none">
 </p>
</div>


