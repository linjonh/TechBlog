---
layout: post
title: "Unity2022.3.14引入MySql数据库"
date: 2024-03-12 13:34:38 +0800
description: "本文详细介绍了如何在Unity中下载和配置MySQLServer，处理中文字符问题，设置环境变量，以"
keywords: "数据库导入unity3d"
categories: ['']
tags: ['数据库', 'Mysql']
artid: "136604865"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=136604865
    alt: "Unity2022.3.14引入MySql数据库"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Unity2022.3.14引入MySql数据库
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <div class="toc">
     <h4>
      文章目录
     </h4>
     <ul>
      <li>
       <a href="#MySql_5" rel="nofollow">
        一、下载MySql
       </a>
      </li>
      <li>
       <a href="#Unity_39" rel="nofollow">
        二、将数据库引入Unity
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#_40" rel="nofollow">
          (一)准备
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#_56" rel="nofollow">
        三、链接数据库
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#_57" rel="nofollow">
          （一）设置数据库
         </a>
        </li>
        <li>
         <a href="#_80" rel="nofollow">
          （二）连接数据库
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <hr/>
    <h2>
     <a id="MySql_5">
     </a>
     一、下载MySql
    </h2>
    <p>
     <mark>
      在后续测试中发现版本MySQL Server 5.7 和MySQL Connector Net 6.3.9比较稳定
     </mark>
     <br/>
     1、
     <a href="https://downloads.mysql.com/archives/installer/" rel="nofollow">
      点击即可
     </a>
     ，选择你所需要下载的版本，选择下载下方这个。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/3c86a87b94befab0f314365a8cc21f68.png#pic_center">
      <br/>
      2、在安装前，你需要检查你的电脑(设备)名称中是否含有 中文字符 ，如果含有中文字符 ，后续安装可能会失败 。
      <br/>
      3、点击启动MySQL Installer - Community，在打开的页面中有五个选项
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/4f43ea6b486a44a2f3661dddf837c123.png#pic_center"/>
     </img>
    </p>
    <ul>
     <li>
      Developer Default —— 安装MySQL服务器以及开发MySQL应用所需的工具
     </li>
     <li>
      Server only——仅安装MySQL服务器
     </li>
     <li>
      Client only —— 仅安装客户端
     </li>
     <li>
      Full —— 安装MySQL所有可用组件
     </li>
     <li>
      Custom —— （经典）自定义安装
     </li>
    </ul>
    <p>
     根据自己的需求选择下载，可以参考
     <br/>
     <mark>
      注意
     </mark>
     不要下载这个版本的Connector/NET,等下载完成后
     <a href="https://downloads.mysql.com/archives/c-net/" rel="nofollow">
      点击下载低版本的
     </a>
     ，原因会在下方解释。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/622481c207f2353d6e7358784fd8a48b.png#pic_center">
      <br/>
      可以自定义存储路径
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/fff3cc4edd9d61ebdeae73461e46d6db.png#pic_center">
       <br/>
       <mark>
        注意
       </mark>
       ：在下载之前请确保电脑清空了之前的MySql否则Next之后就会出现下面这种情况
       <br/>
       <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/549a10038b236a8b7144fbe4e19ce4db.png#pic_center">
        <br/>
        清空后
        <br/>
        <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/386400dc4e4851d82e5d9176ac4f1299.png#pic_center">
         <br/>
         下载完成后一直Next到此。设置自己的密码
         <br/>
         <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/90e866be62aee3e7a7176b5361cd6914.png#pic_center">
          <br/>
          设置完成后一直点击下一步即可
          <br/>
          4、配置环境变量
          <br/>
          （1）打开电脑的环境变量设置
          <br/>
          <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/a436ce56250143d319acbf64b1545a41.png#pic_center">
           <br/>
           （2）打开Path添加MySql Server的bin文件路径,而后保存即可。
           <br/>
           <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/aa6f9d9dded1646b0564e92362219e7b.png#pic_center"/>
           <br/>
           5、验证
           <br/>
           （1）打开电脑的cmd窗口，输入mysql -u root -p，运行之后输入之前设置的密码，出现下图则表示安装成功。
           <br/>
           <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/7a107ce931a5f6a3c1510471621b3df3.png#pic_center"/>
          </img>
         </img>
        </img>
       </img>
      </img>
     </img>
    </p>
    <h2>
     <a id="Unity_39">
     </a>
     二、将数据库引入Unity
    </h2>
    <h3>
     <a id="_40">
     </a>
     (一)准备
    </h3>
    <p>
     1、创建一个文件夹命名为
     <a href="https://docs.unity.cn/cn/2019.4/Manual/Plugins.html" rel="nofollow">
      Plugins
     </a>
    </p>
    <p>
     2、Unity\Hub\Editor\2022.3.14f1c1\Editor\Data\MonoBleedingEdge\lib\mono目录下的这四个文件复制到Plugins文件夹中
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/b0660ec7b3becf669eff5945b38e5980.png#pic_center"/>
    </p>
    <p>
     3、将Program Files (x86)\MySQL\MySQL Connector Net 6.3.9\Assemblies\v4.0目录下的这个文件拖入
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/fe93c4d8350a9fca21fddd1085a6c15d.png#pic_center"/>
    </p>
    <blockquote>
     <p>
      在上文中说到不要下载8.0.28版本的Connector/NET的原因是因为MySQL-connector-net包的版本过高，Unity不兼容，会出现下面的情况
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/ab6c62c0370f8e4ccb07dcde52d351e7.png#pic_center"/>
     </p>
    </blockquote>
    <p>
     4、将创建的Plugins文件夹直接拖入到Unity中，如果你的Unity中已经有了Plugins文件夹可以直接将文件拖入。
     <br/>
     5、打开Unity，新建一个脚本，尝试调取API，如果不报错，则说明引入成功。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/26401780d2367b472d345c2ca7ceaca3.png#pic_center"/>
    </p>
    <h2>
     <a id="_56">
     </a>
     三、链接数据库
    </h2>
    <h3>
     <a id="_57">
     </a>
     （一）设置数据库
    </h3>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/2e4db0ba9213cb6d1007bd5515d1b807.png#pic_center"/>
    </p>
    <p>
     （1）右键新建表
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/91d3314feacb5c51dced02bd8d7bb302.png#pic_center"/>
    </p>
    <p>
     （2）
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/965ebe72ff41aa8cd8d26f705d5a6c19.png#pic_center"/>
    </p>
    <ul>
     <li>
      PK：primary key 主键
     </li>
     <li>
      NN：not null 非空
     </li>
     <li>
      UQ：unique 唯一索引
     </li>
     <li>
      BIN：binary 二进制数据(比text更大的二进制数据)
     </li>
     <li>
      UN：unsigned 无符号 整数（非负数）
     </li>
     <li>
      ZF：zero fill 填充0 例如字段内容是1 int(4), 则内容显示为0001
     </li>
     <li>
      AI：auto increment 自增
     </li>
     <li>
      G：generated column 生成列
     </li>
    </ul>
    <p>
     （3）设置数据
     <br/>
     右键点击选择，打开进行数据的配置
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/d1328eb24bf826703ef617fce4a3d8b2.png#pic_center"/>
    </p>
    <h3>
     <a id="_80">
     </a>
     （二）连接数据库
    </h3>
    <p>
     1、在Unity中新建脚本，引入
     <strong>
      MySql.Data.MySqlClient
     </strong>
     命名空间
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/3d474ed3f99199c8392105d90a018e73.png#pic_center"/>
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/e696bdf1669ee867c113add9dcaca15b.png#pic_center"/>
    </p>
    <p>
     2、输入下面代码，在Awake中执行
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/9cc0ccafee00f3239544e3d3ad0a9a93.png#pic_center"/>
    </p>
    <p>
     <mark>
      注意
     </mark>
     ：“server——port——database——user——password”，这里的英文字符只能这样写或者大写，写成其它字符均会报错。
     <br/>
     3、写好后返回Unity启动
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/b0c5e63ff9ef201576d0a763b341232a.png#pic_center"/>
     <br/>
     5、输入下面代码，在Start中执行
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/9fc74c8acf02e3b813a3a9b6483d5c9b.png#pic_center"/>
    </p>
    <p>
     6、返回Unity启动
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/1f05a2d0db5078e00c9d008cfdc6b645.png#pic_center"/>
     <br/>
     数据读取成功！！
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f37343431383736352f:61727469636c652f64657461696c732f313336363034383635" class_="artid" style="display:none">
 </p>
</div>


