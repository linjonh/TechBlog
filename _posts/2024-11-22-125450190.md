---
layout: post
title: "Learn-Git-Branching在游戏中学会Git"
date: 2024-11-22 14:46:35 +0800
description: "LearnGitBranching是一个互动教程，通过游戏化学习体验帮助用户掌握Git的命令，包括c"
keywords: "learngitbranching怎么玩"
categories: ['编程基础']
tags: ['游戏', 'Git']
artid: "125450190"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=125450190
    alt: "Learn-Git-Branching在游戏中学会Git"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Learn Git Branching：在游戏中学会Git
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="Learn_Git_BranchingGit_0">
     </a>
     Learn Git Branching：在游戏中学会Git
    </h2>
    <blockquote>
     <p>
      Learn Git Branching是一个学习Git操作的教程，作者为不同的命令设计了相应的关卡，它并不枯燥乏味，相反，我们每通过一个关卡，自信心就会提升，兴趣也会加深，带着满满的成就感去学习，真的很有趣！考虑到自我思考的重要性，作者将相关隐藏命令陆续放在了后面的关卡中，不至于让玩家一开始就急于看答案，而且配上优雅的动图，看起来真的舒心。作者考虑真的很周到，必须点个赞~
     </p>
     <p>
      每个关卡的答案不唯一，只要发挥你的想象达到目标即可。下面是我的关卡挑战合集。
     </p>
     <p>
      快去玩转Git吧！（https://learngitbranching.js.org）
     </p>
    </blockquote>
    <p>
     <font color="red" size="5">
      链接💨💨💨
      <a href="https://learngitbranching.js.org" rel="nofollow">
       Learn Git Branching
      </a>
     </font>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/1ff901d7fdcaf58595955129ea827b4f.png#pic_center"/>
    </p>
    <p>
    </p>
    <div class="toc">
     <h4>
      文章目录
     </h4>
     <ul>
      <li>
       <a href="#Learn_Git_BranchingGit_0" rel="nofollow">
        Learn Git Branching：在游戏中学会Git
       </a>
      </li>
      <li>
       <ul>
        <li>
         <a href="#_17" rel="nofollow">
          基础篇
         </a>
        </li>
        <li>
         <ul>
          <li>
           <ul>
            <li>
             <a href="#1_git_commit_19" rel="nofollow">
              1️⃣ git commit
             </a>
            </li>
            <li>
             <a href="#2_git_branch_25" rel="nofollow">
              2️⃣ git branch
             </a>
            </li>
            <li>
             <a href="#3_git_merge_40" rel="nofollow">
              3️⃣ git merge
             </a>
            </li>
            <li>
             <a href="#4_git_rebase_52" rel="nofollow">
              4️⃣ git rebase
             </a>
            </li>
           </ul>
          </li>
         </ul>
        </li>
        <li>
         <a href="#_65" rel="nofollow">
          高级篇
         </a>
        </li>
        <li>
         <ul>
          <li>
           <ul>
            <li>
             <a href="#1__HEAD_67" rel="nofollow">
              1️⃣ 分离 HEAD
             </a>
            </li>
            <li>
             <a href="#2__80" rel="nofollow">
              2️⃣ 相对引用（^）
             </a>
            </li>
            <li>
             <a href="#3__97" rel="nofollow">
              3️⃣ 相对引用（~）
             </a>
            </li>
            <li>
             <a href="#4__113" rel="nofollow">
              4️⃣ 撤销变更
             </a>
            </li>
           </ul>
          </li>
         </ul>
        </li>
        <li>
         <a href="#_127" rel="nofollow">
          移动提交记录
         </a>
        </li>
        <li>
         <ul>
          <li>
           <ul>
            <li>
             <a href="#1_git_cherrypick_129" rel="nofollow">
              1️⃣ git cherry-pick
             </a>
            </li>
            <li>
             <a href="#2_rebase_137" rel="nofollow">
              2️⃣ 交互式rebase
             </a>
            </li>
           </ul>
          </li>
         </ul>
        </li>
        <li>
         <a href="#_145" rel="nofollow">
          杂项
         </a>
        </li>
        <li>
         <ul>
          <li>
           <ul>
            <li>
             <a href="#1__147" rel="nofollow">
              1️⃣ 只做一个提交记录
             </a>
            </li>
            <li>
             <a href="#2_1_161" rel="nofollow">
              2️⃣ 提交的技巧#1
             </a>
            </li>
            <li>
             <a href="#3_2_176" rel="nofollow">
              3️⃣ 提交的技巧#2
             </a>
            </li>
            <li>
             <a href="#4_git_tag_193" rel="nofollow">
              4️⃣ git tag
             </a>
            </li>
            <li>
             <a href="#5_git_describe_205" rel="nofollow">
              5️⃣ git describe
             </a>
            </li>
           </ul>
          </li>
         </ul>
        </li>
        <li>
         <a href="#_216" rel="nofollow">
          高级话题
         </a>
        </li>
        <li>
         <ul>
          <li>
           <ul>
            <li>
             <a href="#1_rebase_218" rel="nofollow">
              1️⃣ 多次rebase
             </a>
            </li>
            <li>
             <a href="#2__235" rel="nofollow">
              2️⃣ 两个父节点
             </a>
            </li>
            <li>
             <a href="#3__249" rel="nofollow">
              3️⃣ 纠缠不清的分支
             </a>
            </li>
           </ul>
          </li>
         </ul>
        </li>
        <li>
         <a href="#Push__Pull__Git__259" rel="nofollow">
          Push &amp; Pull —— Git 远程仓库
         </a>
        </li>
        <li>
         <ul>
          <li>
           <ul>
            <li>
             <a href="#1_git_clone_261" rel="nofollow">
              1️⃣ git clone
             </a>
            </li>
            <li>
             <a href="#2__274" rel="nofollow">
              2️⃣ 远程分支
             </a>
            </li>
            <li>
             <a href="#3_git_fetch_285" rel="nofollow">
              3️⃣ git fetch
             </a>
            </li>
            <li>
             <a href="#4_git_pull_300" rel="nofollow">
              4️⃣ git pull
             </a>
            </li>
            <li>
             <a href="#5__312" rel="nofollow">
              5️⃣ 模拟团队合作
             </a>
            </li>
            <li>
             <a href="#6_git_push_327" rel="nofollow">
              6️⃣ git push
             </a>
            </li>
            <li>
             <a href="#7__338" rel="nofollow">
              7️⃣ 偏离的提交历史
             </a>
            </li>
            <li>
             <a href="#8_mainlocked_main_380" rel="nofollow">
              8️⃣ 锁定的main（locked main）
             </a>
            </li>
           </ul>
          </li>
         </ul>
        </li>
        <li>
         <a href="#_origin___Git__408" rel="nofollow">
          关于 origin 和它的周边 —— Git 远程仓库高级操作
         </a>
        </li>
        <li>
         <ul>
          <li>
           <ul>
            <li>
             <a href="#1__410" rel="nofollow">
              1️⃣ 推送主分支
             </a>
            </li>
            <li>
             <a href="#2__430" rel="nofollow">
              2️⃣ 合并远程分支
             </a>
            </li>
            <li>
             <a href="#3__460" rel="nofollow">
              3️⃣ 远程追踪
             </a>
            </li>
            <li>
             <a href="#4_git_push_481" rel="nofollow">
              4️⃣ git push的参数
             </a>
            </li>
            <li>
             <a href="#5_git_push2_492" rel="nofollow">
              5️⃣ git push的参数2
             </a>
            </li>
            <li>
             <a href="#6_git_fetch_501" rel="nofollow">
              6️⃣ git fetch的参数
             </a>
            </li>
            <li>
             <a href="#7_sourcesource_514" rel="nofollow">
              7️⃣ 没有source的source
             </a>
            </li>
            <li>
             <a href="#8_git_pull_526" rel="nofollow">
              8️⃣ git pull的参数
             </a>
            </li>
           </ul>
          </li>
         </ul>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <br/>
    <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/016af72ae49be38b54fdbc54488aa42d.gif#pic_center">
     <p>
     </p>
     <h3>
      <a id="_17">
      </a>
      基础篇
     </h3>
     <h5>
      <a id="1_git_commit_19">
      </a>
      1️⃣ git commit
     </h5>
     <pre><code class="prism language-shell"><span class="token function">git</span> commit
</code></pre>
     <h5>
      <a id="2_git_branch_25">
      </a>
      2️⃣ git branch
     </h5>
     <p>
      <code>
       git branch 分支名
      </code>
      创建分支
     </p>
     <p>
      <code>
       git checkout 分支名
      </code>
      切换分支，即将
      <code>
       HEAD
      </code>
      移动到分支上
     </p>
     <p>
      创建并移动到分支上：
     </p>
     <pre><code class="prism language-shell"><span class="token function">git</span> branch bugFix
<span class="token function">git</span> checkout bugFix
---
<span class="token function">git</span> checkout -b bugFix
</code></pre>
     <h5>
      <a id="3_git_merge_40">
      </a>
      3️⃣ git merge
     </h5>
     <p>
      <code>
       git merge
      </code>
      合并分支
     </p>
     <pre><code class="prism language-shell"><span class="token function">git</span> checkout -b bugFix
<span class="token function">git</span> commit
<span class="token function">git</span> checkout main
<span class="token function">git</span> commit
<span class="token function">git</span> merge bugFix
</code></pre>
     <h5>
      <a id="4_git_rebase_52">
      </a>
      4️⃣ git rebase
     </h5>
     <p>
      合并分支并返回主线
     </p>
     <pre><code class="prism language-shell"><span class="token function">git</span> checkout -b bugFix
<span class="token function">git</span> commit
<span class="token function">git</span> checkout main
<span class="token function">git</span> commit
<span class="token function">git</span> checkout bugFix
<span class="token function">git</span> rebase main
</code></pre>
     <h3>
      <a id="_65">
      </a>
      高级篇
     </h3>
     <h5>
      <a id="1__HEAD_67">
      </a>
      1️⃣ 分离 HEAD
     </h5>
     <p>
      <mark>
       <code>
        HEAD
       </code>
       总是指向当前分支上最近一次提交记录，大多数修改提交树的
       <code>
        Git
       </code>
       命令都是从改变
       <code>
        HEAD
       </code>
       的指向开始的，
       <code>
        HEAD
       </code>
       通常情况下是指向分支名的（如 bugFix）。
      </mark>
     </p>
     <p>
      分离的
      <code>
       HEAD
      </code>
      就是让其指向了某个具体的提交记录而不是分支名。
     </p>
     <pre><code class="prism language-shell">查看HEAD指向  <span class="token function">cat</span> .git/HEAD
指向引用 <span class="token function">git</span> symbolio-ref HEAD
------------------------------
<span class="token function">git</span> checkout C4
</code></pre>
     <h5>
      <a id="2__80">
      </a>
      2️⃣ 相对引用（^）
     </h5>
     <p>
      <code>
       git log
      </code>
      查看提交记录的哈希值（基于SHA-1，共40位），仅输入前几个字符即可。
     </p>
     <ul>
      <li>
       使用
       <code>
        ^
       </code>
       向上移动1个提交记录，把
       <code>
        ^
       </code>
       加到引用名称的后面，表示让
       <code>
        git
       </code>
       寻找指定提交记录的父提交，比如切换到
       <code>
        main
       </code>
       的父节点
       <code>
        git checkout main^
       </code>
      </li>
      <li>
       使用
       <code>
        ~&lt;num&gt;
       </code>
       向上移动多个记录，如
       <code>
        ~3
       </code>
       ，完整如
       <code>
        git checkout main~3
       </code>
      </li>
     </ul>
     <pre><code class="prism language-shell"><span class="token function">git</span> checkout bugFix
<span class="token function">git</span> checkout C4
<span class="token function">git</span> checkout HEAD^
---
<span class="token function">git</span> checkout C4^
---
<span class="token function">git</span> checkout C4~1
</code></pre>
     <h5>
      <a id="3__97">
      </a>
      3️⃣ 相对引用（~）
     </h5>
     <ul>
      <li>
       使用
       <code>
        ~&lt;num&gt;
       </code>
       向上移动多个记录，如
       <code>
        ~3
       </code>
       ，完整如
       <code>
        git checkout HEAD~3
       </code>
      </li>
     </ul>
     <p>
      强行修改分支位置
     </p>
     <ul>
      <li>
       <p>
        <mark>
         使用
         <code>
          -f
         </code>
         选项让分支指向另一个提交
        </mark>
        ，
       </p>
       <p>
        如
        <code>
         git branch -f main HEAD~3
        </code>
        ，将
        <code>
         main
        </code>
        分支强制指向
        <code>
         HEAD
        </code>
        的第
        <code>
         3
        </code>
        级父提交
       </p>
      </li>
     </ul>
     <pre><code class="prism language-shell"><span class="token function">git</span> branch -f main C6
<span class="token function">git</span> checkout HEAD^
<span class="token function">git</span> branch -f bugFix HEAD~1
</code></pre>
     <h5>
      <a id="4__113">
      </a>
      4️⃣ 撤销变更
     </h5>
     <ul>
      <li>
       <p>
        本地分支的撤销：
        <code>
         git reset
        </code>
        ，通过把分支记录回退几个提交记录来实现撤销改动。
       </p>
       <p>
        例如，
        <code>
         git reset HEAD~1
        </code>
       </p>
      </li>
      <li>
       <p>
        远程分支的撤销：
        <code>
         git revert
        </code>
        ，例如
        <code>
         git revert HEAD
        </code>
       </p>
      </li>
     </ul>
     <pre><code class="prism language-shell"><span class="token function">git</span> reset HEAD^
<span class="token function">git</span> checkout pushed
<span class="token function">git</span> revert HEAD
</code></pre>
     <h3>
      <a id="_127">
      </a>
      移动提交记录
     </h3>
     <h5>
      <a id="1_git_cherrypick_129">
      </a>
      1️⃣ git cherry-pick
     </h5>
     <ul>
      <li>
       <code>
        git cherry-pick &lt;...&gt;
       </code>
       ，如果想将一些提交复制到当前所在的位置（
       <code>
        HEAD
       </code>
       ）下面的话，该命令非常实用，如
       <code>
        git cherry-pick C2 C4
       </code>
       是将
       <code>
        C2和C4分支
       </code>
       复制到当前位置
      </li>
     </ul>
     <pre><code class="prism language-shell"><span class="token function">git</span> cherry-pick C3 C4 C7
</code></pre>
     <h5>
      <a id="2_rebase_137">
      </a>
      2️⃣ 交互式rebase
     </h5>
     <ul>
      <li>
       <code>
        git rebase -i HEAD~4
       </code>
      </li>
     </ul>
     <pre><code class="prism language-shell"><span class="token function">git</span> rebase -i HEAD~4 <span class="token punctuation">(</span>pick C4 并 移动顺序<span class="token punctuation">)</span>
</code></pre>
     <h3>
      <a id="_145">
      </a>
      杂项
     </h3>
     <h5>
      <a id="1__147">
      </a>
      1️⃣ 只做一个提交记录
     </h5>
     <ul>
      <li>
       <code>
        git rebase -i
       </code>
      </li>
      <li>
       <code>
        git cherry-pick
       </code>
      </li>
     </ul>
     <pre><code class="prism language-shell"><span class="token function">git</span> rebase -i HEAD~3
<span class="token function">git</span> checkout main
<span class="token function">git</span> rebase bugFix
--
<span class="token function">git</span> rebase -i HEAD~3
<span class="token function">git</span> branch -f main HEAD
</code></pre>
     <h5>
      <a id="2_1_161">
      </a>
      2️⃣ 提交的技巧#1
     </h5>
     <ul>
      <li>
       在
       <code>
        newImage
       </code>
       分支上进行了一次提交，基于它又创建了option分支，然后又提交了一次。现在我们想修改
       <code>
        newImage
       </code>
       中的内容
       <ul>
        <li>
         使用
         <code>
          git rebase -i
         </code>
         将提交重排
        </li>
        <li>
         使用
         <code>
          git commit --amend
         </code>
         进行小修改
        </li>
        <li>
         再使用
         <code>
          git rebase -i
         </code>
         移动到原来的顺序
        </li>
        <li>
         将
         <code>
          main
         </code>
         移动到
         <code>
          HEAD
         </code>
        </li>
       </ul>
      </li>
     </ul>
     <pre><code class="prism language-shell"><span class="token function">git</span> rebase -i HEAD~2
<span class="token function">git</span> rebase -i HEAD
<span class="token function">git</span> rebase -i HEAD~2
<span class="token function">git</span> branch -f main HEAD
</code></pre>
     <h5>
      <a id="3_2_176">
      </a>
      3️⃣ 提交的技巧#2
     </h5>
     <p>
      <mark>
       <code>
        cherry-pick
       </code>
       可以将提交树上任何地方的提交记录取过来追加到
       <code>
        HEAD
       </code>
       上（只要不是
       <code>
        HEAD
       </code>
       上游的提交就没问题）
      </mark>
     </p>
     <pre><code class="prism language-shell"><span class="token function">git</span> checkout C1
<span class="token function">git</span> cherry-pick C2
<span class="token function">git</span> checkout C1
<span class="token function">git</span> cherry-pick C2 C3
<span class="token function">git</span> branch -f main HEAD
---
<span class="token function">git</span> checkout C1
<span class="token function">git</span> cherry-pick C2
<span class="token function">git</span> checkout main
<span class="token function">git</span> cherry-pick C2 C3
</code></pre>
     <h5>
      <a id="4_git_tag_193">
      </a>
      4️⃣ git tag
     </h5>
     <ul>
      <li>
       <p>
        标签
        <code>
         tag
        </code>
        在代码库中起着锚点的作用
       </p>
      </li>
      <li>
       <p>
        <code>
         git tag v1 C1
        </code>
        创建一个指向
        <code>
         C1
        </code>
        的标签
        <code>
         v1
        </code>
       </p>
      </li>
     </ul>
     <pre><code class="prism language-shell"><span class="token function">git</span> tag v0 C1
<span class="token function">git</span> tag v1 C2
<span class="token function">git</span> checkout v1
</code></pre>
     <h5>
      <a id="5_git_describe_205">
      </a>
      5️⃣ git describe
     </h5>
     <ul>
      <li>
       <p>
        <code>
         git describe &lt;ref&gt;
        </code>
        描述离当前（ref）最近的标签,
       </p>
       <p>
        输出为
        <code>
         &lt;tag&gt;_&lt;numCommits&gt;_g&lt;hash&gt;
        </code>
       </p>
      </li>
     </ul>
     <pre><code class="prism language-shell"><span class="token function">git</span> describe C5
<span class="token function">git</span> commit
</code></pre>
     <h3>
      <a id="_216">
      </a>
      高级话题
     </h3>
     <h5>
      <a id="1_rebase_218">
      </a>
      1️⃣ 多次rebase
     </h5>
     <pre><code class="prism language-shell"><span class="token function">git</span> checkout bugFix
<span class="token function">git</span> rebase main
<span class="token function">git</span> checkout side
<span class="token function">git</span> rebase bugFix
<span class="token function">git</span> checkout another
<span class="token function">git</span> rebase -i side
<span class="token function">git</span> branch -f main HEAD
---
<span class="token function">git</span> rebase main bugFix
<span class="token function">git</span> rebase bugFix side
<span class="token function">git</span> rebase side another
<span class="token function">git</span> rebase another main
</code></pre>
     <h5>
      <a id="2__235">
      </a>
      2️⃣ 两个父节点
     </h5>
     <ul>
      <li>
       <code>
        ^
       </code>
       后面也可以跟数字，表示指定合并提交记录的某个父提交（一个以上的父分支）,如
       <code>
        git checkout main^2
       </code>
      </li>
      <li>
       操作符
       <code>
        ~
       </code>
       和
       <code>
        ^
       </code>
       支持链式操作，如
       <code>
        git checkout HEAD~^2~2
       </code>
      </li>
     </ul>
     <pre><code class="prism language-shell"><span class="token function">git</span> checkout main~1^2^
<span class="token function">git</span> branch bugWork
<span class="token function">git</span> checkout main
---
<span class="token punctuation">(</span>分支不存在会主动创建<span class="token punctuation">)</span>
<span class="token function">git</span> branch -f bugWork main^^2^
</code></pre>
     <h5>
      <a id="3__249">
      </a>
      3️⃣ 纠缠不清的分支
     </h5>
     <pre><code class="prism language-shell"><span class="token function">git</span> checkout one
<span class="token function">git</span> cherry-pick C4 C3 C2
<span class="token function">git</span> checkout two
<span class="token function">git</span> cherry-pick C5 C4 C3 C2
<span class="token function">git</span> branch -f three C2
</code></pre>
     <h3>
      <a id="Push__Pull__Git__259">
      </a>
      Push &amp; Pull —— Git 远程仓库
     </h3>
     <h5>
      <a id="1_git_clone_261">
      </a>
      1️⃣ git clone
     </h5>
     <p>
      远程仓库的特点：
     </p>
     <ul>
      <li>
       数据备份
      </li>
      <li>
       代码社交化（为项目做贡献）
      </li>
     </ul>
     <p>
      <code>
       git clone
      </code>
      在本地创建一个远程仓库的克隆
     </p>
     <pre><code class="prism language-shell"><span class="token function">git</span> clone
</code></pre>
     <h5>
      <a id="2__274">
      </a>
      2️⃣ 远程分支
     </h5>
     <ul>
      <li>
       远程仓库名一般设置为
       <code>
        origin
       </code>
       ，且
       <code>
        git
       </code>
       默认将远程仓库设置为
       <code>
        origin
       </code>
      </li>
      <li>
       路径
       <code>
        &lt;remote name&gt;/&lt;branch name&gt;
       </code>
       ，如
       <code>
        o/main
       </code>
       ，
       <code>
        origin/main
       </code>
      </li>
     </ul>
     <pre><code class="prism language-shell"><span class="token function">git</span> commit
<span class="token function">git</span> checkout o/main
<span class="token function">git</span> commit
</code></pre>
     <h5>
      <a id="3_git_fetch_285">
      </a>
      3️⃣ git fetch
     </h5>
     <p>
      <code>
       git fetch
      </code>
      从远程仓库获取更新的分支，主要做了两步
     </p>
     <ul>
      <li>
       从远程仓库下载本地仓库中缺失的提交记录
      </li>
      <li>
       更新远程分支（如
       <code>
        origin/main
       </code>
       ）
      </li>
     </ul>
     <p>
      <code>
       git fetch
      </code>
      实际上将本地仓库中的远程分支更新成了远程仓库相应分支最新的状态。远程分支反映了远程仓库在你最后一次与它通信时的状态，
      <code>
       git fetch
      </code>
      就是你与远程仓库通信的方。
      <code>
       git fetch
      </code>
      通常通过互联网（使用
      <code>
       http://
      </code>
      或
      <code>
       git://
      </code>
      协议) 与远程仓库通信。
     </p>
     <p>
      ==
      <code>
       git fetch
      </code>
      并不会改变本地仓库的状态，也不会更新
      <code>
       main
      </code>
      分支，也不会修改磁盘上的文件。==所以可以将
      <code>
       git fetch
      </code>
      理解为单纯的下载操作。
     </p>
     <pre><code class="prism language-shell"><span class="token function">git</span> fetch
</code></pre>
     <h5>
      <a id="4_git_pull_300">
      </a>
      4️⃣ git pull
     </h5>
     <ul>
      <li>
       <code>
        git pull
       </code>
       抓取更新并合并到本地分支
      </li>
      <li>
       <code>
        git fetch ; git merge orign/main
       </code>
       等价于
       <code>
        git pull
       </code>
      </li>
     </ul>
     <pre><code class="prism language-shell"><span class="token function">git</span> fetch
<span class="token function">git</span> merge o/main
---
<span class="token function">git</span> pull
</code></pre>
     <h5>
      <a id="5__312">
      </a>
      5️⃣ 模拟团队合作
     </h5>
     <pre><code class="prism language-shell"><span class="token function">git</span> clone
<span class="token function">git</span> fakeTeamwork main <span class="token number">2</span>
<span class="token function">git</span> fetch
<span class="token function">git</span> commit
<span class="token function">git</span> merge o/main
---
<span class="token function">git</span> clone
<span class="token function">git</span> fakeTeamwork main <span class="token number">2</span>
<span class="token function">git</span> commit
<span class="token function">git</span> pull
</code></pre>
     <h5>
      <a id="6_git_push_327">
      </a>
      6️⃣ git push
     </h5>
     <ul>
      <li>
       <code>
        git push
       </code>
       负责将你的变更上传到指定的远程仓库
      </li>
      <li>
       注意——
       <em>
        <code>
         git push
        </code>
        不带任何参数时的行为与 Git 的一个名为
        <code>
         push.default
        </code>
        的配置有关。它的默认值取决于你正使用的 Git 的版本
       </em>
       。
      </li>
     </ul>
     <pre><code class="prism language-shell"><span class="token function">git</span> commit
<span class="token function">git</span> commit
<span class="token function">git</span> push
</code></pre>
     <h5>
      <a id="7__338">
      </a>
      7️⃣ 偏离的提交历史
     </h5>
     <p>
      假如你克隆了一个仓库，研发某个新功能完毕准备提交时，发现你的同事更新了好多分支并且已经推送到远程仓库了，因此你的工作就变成了基于项目旧版的代码，与远程仓库最新的代码不匹配了。
     </p>
     <p>
      解决办法：
      <mark>
       调整你的工作使你的工作基于最新的远程分支
      </mark>
     </p>
     <ul>
      <li>
       <p>
        使用
        <code>
         git fetch
        </code>
        更新本地仓库中的远程分支，然后用
        <code>
         rebase
        </code>
        将我们的工作移动到最新的提交记录下
       </p>
       <p>
        <code>
         git fetch; git rebase o/main
        </code>
        等价于
        <code>
         git pull --rebase
        </code>
       </p>
      </li>
      <li>
       <p>
        更新本地仓库中的远程分支，然后合并新变更到我们的本地分支
       </p>
       <p>
        <code>
         git fetch; git merge o/main
        </code>
        等价于
        <code>
         git pull
        </code>
       </p>
      </li>
     </ul>
     <pre><code class="prism language-shell"><span class="token function">git</span> clone
<span class="token function">git</span> fakeTeamwork main
<span class="token function">git</span> commit
<span class="token function">git</span> fetch
<span class="token function">git</span> rebase o/main
<span class="token function">git</span> push
--
<span class="token function">git</span> clone
<span class="token function">git</span> fakeTeamwork main
<span class="token function">git</span> commit
<span class="token function">git</span> fetch
<span class="token function">git</span> merge o/main
<span class="token function">git</span> push
---
<span class="token function">git</span> clone
<span class="token function">git</span> fakeTeamwork main
<span class="token function">git</span> commit
<span class="token function">git</span> pull --rebase
<span class="token function">git</span> push
---
<span class="token function">git</span> clone
<span class="token function">git</span> fakeTeamwork main
<span class="token function">git</span> commit
<span class="token function">git</span> pull
<span class="token function">git</span> push
</code></pre>
     <h5>
      <a id="8_mainlocked_main_380">
      </a>
      8️⃣ 锁定的main（locked main）
     </h5>
     <p>
      <code>
       main
      </code>
      被锁定时需要一些
      <code>
       pull request
      </code>
      流程来合并修改。
     </p>
     <p>
      新建一个分支
      <code>
       feature
      </code>
      ，推送到远程服务器。然后
      <code>
       reset
      </code>
      你的main分支和远程服务器保持一致，否则下次你
      <code>
       pull
      </code>
      并且他人的提交和你冲突的时候就会有问题。
     </p>
     <pre><code class="prism language-shell"><span class="token function">git</span> branch feature
<span class="token function">git</span> branch -f main o/main
<span class="token function">git</span> checkout feature
<span class="token function">git</span> push
---
<span class="token function">git</span> branch -f main o/main
<span class="token function">git</span> branch -f feature C2
<span class="token function">git</span> checkout feature
<span class="token function">git</span> push
---
<span class="token function">git</span> checkout -b feature
<span class="token function">git</span> branch -f main o/main
<span class="token function">git</span> push
---
show solution
<span class="token punctuation">(</span>在本程序中默认的行为是 --hard 硬重置，可以尽情省略掉那个选项以避免麻烦！但是要记录 Git 中默认的是 --mixed<span class="token punctuation">)</span>
<span class="token function">git</span> reset --hard o/main   
<span class="token function">git</span> checkout -b feature C2
<span class="token function">git</span> push origin feature
</code></pre>
     <h3>
      <a id="_origin___Git__408">
      </a>
      关于 origin 和它的周边 —— Git 远程仓库高级操作
     </h3>
     <h5>
      <a id="1__410">
      </a>
      1️⃣ 推送主分支
     </h5>
     <pre><code class="prism language-shell"><span class="token function">git</span> checkout main
<span class="token function">git</span> pull --rebase
<span class="token function">git</span> rebase main side1
<span class="token function">git</span> rebase HEAD side2
<span class="token function">git</span> rebase HEAD side3
<span class="token function">git</span> branch -f main side3
<span class="token function">git</span> checkout main
<span class="token function">git</span> push
---
<span class="token function">git</span> fetch
<span class="token function">git</span> rebase o/main side1
<span class="token function">git</span> rebase side1 side2
<span class="token function">git</span> rebase side2 side3
<span class="token function">git</span> rebase side3 main
<span class="token function">git</span> push
</code></pre>
     <h5>
      <a id="2__430">
      </a>
      2️⃣ 合并远程分支
     </h5>
     <ul>
      <li>
       为了 push 新变更到远程仓库，你要做的就是
       <strong>
        包含
       </strong>
       远程仓库中最新变更。意思就是只要你的本地分支包含了远程分支（如
       <code>
        o/main
       </code>
       ）中的最新变更就可以了，至于具体是用 rebase 还是 merge，并没有限制
      </li>
     </ul>
     <p>
      <code>
       rebase
      </code>
      的优点是使你的提交树变得很干净，所有的提交都在一条线上，缺点是修改了树的提交历史。
     </p>
     <pre><code class="prism language-shell"><span class="token function">git</span> fetch
<span class="token function">git</span> branch -f main o/main
<span class="token function">git</span> checkout main
<span class="token function">git</span> merge side1
<span class="token function">git</span> merge side2
<span class="token function">git</span> merge side3
<span class="token function">git</span> push
---
<span class="token function">git</span> fetch
<span class="token function">git</span> rebase o/main main
<span class="token function">git</span> merge side1
<span class="token function">git</span> merge side2
<span class="token function">git</span> merge side3
<span class="token function">git</span> push
---
<span class="token function">git</span> checkout main
<span class="token function">git</span> pull
<span class="token function">git</span> merge side1
<span class="token function">git</span> merge side2
<span class="token function">git</span> merge side3
<span class="token function">git</span> push
</code></pre>
     <h5>
      <a id="3__460">
      </a>
      3️⃣ 远程追踪
     </h5>
     <ul>
      <li>
       <code>
        pull
       </code>
       操作时, 提交记录会被先下载到
       <code>
        o/main
       </code>
       上，之后再合并到本地的
       <code>
        main
       </code>
       分支。隐含的合并目标由这个关联确定的。
      </li>
      <li>
       <code>
        push
       </code>
       操作时, 我们把工作从
       <code>
        main
       </code>
       推到远程仓库中的
       <code>
        main
       </code>
       分支(同时会更新远程分支
       <code>
        o/main
       </code>
       ) 。
      </li>
     </ul>
     <p>
      <code>
       main
      </code>
      和
      <code>
       o/main
      </code>
      的关联关系就是由分支的“remote tracking”属性决定的。
      <code>
       main
      </code>
      被设定为跟踪
      <code>
       o/main
      </code>
      —— 这意味着为
      <code>
       main
      </code>
      分支指定了推送的目的地以及拉取后合并的目标。当你克隆时, Git 会为远程仓库中的每个分支在本地仓库中创建一个远程分支（比如
      <code>
       o/main
      </code>
      ）。然后再创建一个跟踪远程仓库中活动分支的本地分支，默认情况下这个本地分支会被命名为
      <code>
       main
      </code>
      。克隆完成后，你会得到一个本地分支（如果没有这个本地分支的话，你的目录就是“空白”的）。
     </p>
     <p>
      我们可以让任意分支跟踪
      <code>
       o/main
      </code>
      , 然后该分支会像
      <code>
       main
      </code>
      分支一样得到隐含的 push 目的地以及
      <code>
       merge
      </code>
      的目标。 这意味着可以在分支
      <code>
       totallyNotMain
      </code>
      上执行
      <code>
       git push
      </code>
      ，将工作推送到远程仓库的
      <code>
       main
      </code>
      分支上。
     </p>
     <p>
      创建名为totallyNotMain的分支，来跟踪远程分支
      <code>
       o/main
      </code>
      ，有两证方式可实现：
     </p>
     <ul>
      <li>
       <code>
        git checkout -b totallyNotMain o/main
       </code>
      </li>
      <li>
       <code>
        git branch -u o/main totallyNotMain
       </code>
      </li>
     </ul>
     <pre><code class="prism language-shell"><span class="token function">git</span> checkout -b side o/main
<span class="token function">git</span> commit
<span class="token function">git</span> pull --rebase
<span class="token function">git</span> push
</code></pre>
     <h5>
      <a id="4_git_push_481">
      </a>
      4️⃣ git push的参数
     </h5>
     <p>
      为
      <code>
       git push
      </code>
      指定参数，语法为
      <code>
       git push &lt;remote&gt; &lt;place&gt;
      </code>
     </p>
     <p>
      例如
      <code>
       git push origin main
      </code>
      的意思是：切换到本地仓库中的
      <code>
       main
      </code>
      分支，获取所有的提交，再到远程仓库
      <code>
       origin
      </code>
      中找到
      <code>
       main
      </code>
      分支，将远程仓库中没有的提交都添加上去。
     </p>
     <pre><code class="prism language-shell"><span class="token function">git</span> push origin main
<span class="token function">git</span> push origin foo
</code></pre>
     <h5>
      <a id="5_git_push2_492">
      </a>
      5️⃣ git push的参数2
     </h5>
     <p>
      <code>
       git push origin &lt;source&gt;:&lt;destination&gt;
      </code>
      是将本地
      <code>
       source
      </code>
      分支推送到远程
      <code>
       destination
      </code>
      分支。并且
      <code>
       source
      </code>
      是
      <code>
       git
      </code>
      可识别的位置，如
      <code>
       name~3
      </code>
      、
      <code>
       name^
      </code>
      ，
      <code>
       name^2
      </code>
      等。如果推送的目的分支不存在
      <code>
       git
      </code>
      会在远程仓库中自动创建这个分支。
     </p>
     <pre><code class="prism language-shell"><span class="token function">git</span> push origin foo:main
<span class="token function">git</span> push origin main^:foo
</code></pre>
     <h5>
      <a id="6_git_fetch_501">
      </a>
      6️⃣ git fetch的参数
     </h5>
     <p>
      <code>
       git fetch
      </code>
      同样具有参数，只是方向相反，例如命令
      <code>
       git fetch origin foo
      </code>
      会到远程仓库
      <code>
       foo
      </code>
      分支上，获取本地不存在的提交，放到本地的
      <code>
       o/foo
      </code>
      上。
     </p>
     <ul>
      <li>
       如果
       <code>
        git fetch
       </code>
       没有参数，它会下载所有的提交记录到各个远程分支
      </li>
     </ul>
     <pre><code class="prism language-shell"><span class="token function">git</span> fetch origin main~:foo
<span class="token function">git</span> fetch origin foo:main
<span class="token function">git</span> checkout foo
<span class="token function">git</span> merge main
</code></pre>
     <h5>
      <a id="7_sourcesource_514">
      </a>
      7️⃣ 没有source的source
     </h5>
     <p>
      <code>
       git
      </code>
      有两种关于
      <code>
       &lt;source&gt;
      </code>
      的用法是比较诡异的，即你可以在
      <code>
       git push
      </code>
      或
      <code>
       git fetch
      </code>
      时不指定任何
      <code>
       source
      </code>
      ，方法就是仅保留冒号和
      <code>
       destination
      </code>
      部分，
      <code>
       source
      </code>
      部分留空。
     </p>
     <ul>
      <li>
       <code>
        git push origin :foo
       </code>
       操作是删除远程分支
       <code>
        foo
       </code>
      </li>
      <li>
       <code>
        git fetch origin :bar
       </code>
       操作是创建本地分支
       <code>
        bar
       </code>
      </li>
     </ul>
     <pre><code class="prism language-shell"><span class="token function">git</span> push origin :foo
<span class="token function">git</span> fetch origin :bar
</code></pre>
     <h5>
      <a id="8_git_pull_526">
      </a>
      8️⃣ git pull的参数
     </h5>
     <p>
      <code>
       git pull
      </code>
      即
      <code>
       git fetch
      </code>
      和
      <code>
       git merge
      </code>
      的缩写。
     </p>
     <ul>
      <li>
       <code>
        git pull origin foo
       </code>
       相当于
       <code>
        git fetch origin foo; git merge o/foo
       </code>
      </li>
      <li>
       <code>
        git pull origin bar~1:bugFix
       </code>
       相当于
       <code>
        git fetch origin bar~1:bugFix; git merge bugFix
       </code>
      </li>
     </ul>
     <pre><code class="prism language-shell"><span class="token function">git</span> pull origin bar:foo
<span class="token function">git</span> pull origin main:side
</code></pre>
     <hr/>
     <p>
      <font color="red" face="华文彩云" size="6">
       恭喜通关！！！
      </font>
     </p>
     <p>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/69968735f9a2845425994ec3d0b47e4c.jpeg#pic_center"/>
     </p>
    </img>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f672e:6373646e2e6e65742f77656978696e5f34343336383433372f:61727469636c652f64657461696c732f313235343530313930" class_="artid" style="display:none">
 </p>
</div>


