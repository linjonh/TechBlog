---
layout: post
title: "Java后端接收时间字符串转成LocalDateTime,LocalDateTime转成时间字符串给前端"
date: 2024-12-12 23:49:08 +0800
description: "这篇博客详细介绍了后端如何处理前端传递的时间字符串，包括使用`@DateTimeFormat`注解自"
keywords: "localdatetime接收字符串"
categories: ['时间转换']
tags: ['Java']
artid: "112611562"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=112611562
    alt: "Java后端接收时间字符串转成LocalDateTime,LocalDateTime转成时间字符串给前端"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Java后端接收时间字符串转成LocalDateTime，LocalDateTime转成时间字符串给前端
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <h2>
     1.接收前端时间字符串
    </h2>
    <h3>
     1.1后端可以使用String去接收，手动在代码中进行转换成LocalDateTime操作，这里不做讨论。
    </h3>
    <h3>
     1.2后端使用LocalDateTime去接收，需要配合注解:
    </h3>
    <pre><code class="language-java">@DateTimeFormat(pattern = "yyyy-MM-dd HH:mm:ss")</code></pre>
    <h3>
     1.2.1例子:
    </h3>
    <h4>
     1.2.1.1前端请求的数据
    </h4>
    <pre><code class="language-java">import io.swagger.annotations.ApiModelProperty;
import java.time.LocalDateTime;
import lombok.Data;
import org.springframework.format.annotation.DateTimeFormat;

@Data
public class GetOrPostTimeConversionRequestVO{

  @ApiModelProperty(value = "id")
  private Integer id;

  @ApiModelProperty(value = "姓名")
  private String userName;

  @ApiModelProperty(value = "生日")
  @DateTimeFormat(pattern = "yyyy-MM-dd HH:mm:ss")
  private LocalDateTime birthday;

}</code></pre>
    <h4>
     1.2.1.2Controller层
    </h4>
    <pre><code class="language-java">  @ApiOperation("前端进行GET或者POST请求同时把时间字符串传到后台, 自动转成GetTimeConversionRequestVO")
  @PostMapping("/getOrPostTimeConversion")     // 也可以使用GET请求
  public void getOrPostTimeConversion(@RequestBody GetOrPostTimeConversionRequestVO getOrPostTimeConversionRequestVO) {

    Integer id = getOrPostTimeConversionRequestVO.getId();
    System.out.println(id);

    String userName = getOrPostTimeConversionRequestVO.getUserName();
    System.out.println(userName);

    LocalDateTime birthday = getOrPostTimeConversionRequestVO.getBirthday();
    System.out.println(birthday);

  }</code></pre>
    <p>
     Debug截图:
    </p>
    <p>
     <img alt="" height="331" src="https://i-blog.csdnimg.cn/blog_migrate/220e1efeda24c8f2fc59783f3f5bff23.png" width="996"/>
    </p>
    <p>
    </p>
    <p>
    </p>
    <h2>
     2.返回时间字符串给前端
    </h2>
    <h3>
     2.1可以自己手动转成String返回给前端，这里不做讨论。
    </h3>
    <h3>
     2.2可以使用阿里巴巴的fastjson注解:
    </h3>
    <pre><code class="language-java">@JSONField(format = "yyyy-MM-dd HH:mm:ss")</code></pre>
    <h4>
     2.2.1例子:
    </h4>
    <h4>
     2.2.1.1前端请求的数据
    </h4>
    <pre><code class="language-java">import io.swagger.annotations.ApiModelProperty;
import java.time.LocalDateTime;
import lombok.Data;
import org.springframework.format.annotation.DateTimeFormat;

@Data
public class GetOrPostTimeConversionRequestVO {

  @ApiModelProperty(value = "id")
  private Integer id;

  @ApiModelProperty(value = "姓名")
  private String userName;

  @ApiModelProperty(value = "生日")
  @DateTimeFormat(pattern = "yyyy-MM-dd HH:mm:ss")
  private LocalDateTime birthday;

}</code></pre>
    <h4>
     2.2.1.2Controller层
    </h4>
    <pre><code class="language-java">  @ApiOperation("前端进行GET或者POST请求同时把时间字符串传到后台, 自动转成GetTimeConversionRequestVO")
  @PostMapping("/getOrPostTimeConversion")     // 也可以使用GET请求
  public TimeConversionResultResponseVO getOrPostTimeConversion(@RequestBody GetOrPostTimeConversionRequestVO getOrPostTimeConversionRequestVO) {

    Integer id = getOrPostTimeConversionRequestVO.getId();
    System.out.println(id);

    String userName = getOrPostTimeConversionRequestVO.getUserName();
    System.out.println(userName);

    LocalDateTime birthday = getOrPostTimeConversionRequestVO.getBirthday();
    System.out.println(birthday);


    TimeConversionResultResponseVO timeConversionResultResponseVO = new TimeConversionResultResponseVO();
    timeConversionResultResponseVO.setId(id);
    timeConversionResultResponseVO.setUserName(userName);
    timeConversionResultResponseVO.setBirthday(birthday);
    return timeConversionResultResponseVO;

  }</code></pre>
    <h4>
     2.2.1.3响应的数据:
    </h4>
    <pre><code class="language-java">import com.alibaba.fastjson.annotation.JSONField;
import io.swagger.annotations.ApiModelProperty;
import java.time.LocalDateTime;
import lombok.Data;

@Data
public class TimeConversionResultResponseVO {

  @ApiModelProperty(value = "id")
  private Integer id;

  @ApiModelProperty(value = "姓名")
  private String userName;

  @ApiModelProperty(value = "生日")
  @JSONField(format = "yyyy-MM-dd HH:mm:ss")
  private LocalDateTime birthday;
}</code></pre>
    <h4>
     2.2.1.4Postman截图:
    </h4>
    <p>
     <img alt="" height="539" src="https://i-blog.csdnimg.cn/blog_migrate/909958ba1b3ab8bb3afe05c3ecfcbd25.png" width="809"/>
    </p>
    <p>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f32363130363630372f:61727469636c652f64657461696c732f313132363131353632" class_="artid" style="display:none">
 </p>
</div>


