---
layout: post
title: "c语言如何实现面向对象的机制"
date: 2025-01-26 08:47:38 +0800
description: "我们知道嵌入式是在操作系统内部做开发的，操作系统所有的内核几乎都是c语言。它具有出色的可移植性，能在"
keywords: "可以利用“结构在内存中的布局与结构的声明具有一致的顺序”这一事实实现继承。"
categories: ["未分类"]
tags: ["无标签"]
artid: "52973514"
image:
  path: https://api.vvhan.com/api/bing?rand=sj&artid=52973514
  alt: "c语言如何实现面向对象的机制"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     c语言如何实现面向对象的机制
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     <span style="font-size:18px">
      我们知道嵌入式是在操作系统内部做开发的，操作系统所有的内核几乎都是c语言。它具有出色的可移植性，能在多种不同体系结构的软硬件平台上运行。具有很高的运行效率，而且简洁紧凑，有灵活的语法机制，并能直接访问硬件。c语言是面向过程机制，它有很多的缺点，如代码的复用性，维护性，扩展性都比较差。所以c语言需要模拟面向对象机制来弥补这些缺点。
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      面向对象的特征为
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      （1）封装，隐藏内部实现
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      （2）继承，复用现有代码
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      （3）多态，改写对象行为
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      1.封装
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      封装是一种信息隐藏技术，它体现于类的说明，是对象的重要特征。封装数据和加工该数据的方法（函数）封装为一个整体，以实现独立性很强的模块，使得用户见到对象的外特性（对象能接受哪些消息，具有那些处理能力），而对象的内特性（保存内部状态的私有数据和实现加工能力的算法）对用户是隐蔽的。封装的目的在于把对象的设计者和对象者的使用分开，使用者不必知晓行为实现的细节，只须用设计者提供的消息来访问该对象。
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      在c语言中，可以用结构+函数指针来模拟类的实现，而用这种结构定义的变量就是对象。我们可以在头文件中声明，在c文件中真正定义，这样可以隐藏内部信息，因为外部不知道对象所占内存的大小，所以不能静态的创建该类的对象，只能调用类提供的创建函数才能创建。这种方法的缺陷是不支持继承，因为子类中得不到任何关于父类的信息。
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      2.继承
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      <span style="font-family:tahoma,arial,宋体; line-height:25.2px">
       继承性是子类自动共享父类之间数据和方法的机制。它由类的派生功能体现。一个类直接继承其它类的全部描述，同时可修改和扩充。继承具有传递性。继承分为单继承（一个子类只有一父类）和多重继承（一个类有多个父类，当前RT-Thread的对象系统不能支持）。类的对象是各自封闭的，如果没继承性机制，则类对象中数据、方法就会出现大量重复。继承不仅支持系统的可重用性，而且还促进系统的可扩充性。
      </span>
      <br/>
      在c语言中，可以利用“结构在内存中的布局与结构的声明具有一致的顺序”这一事实实现继承。
      <br/>
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      3.多态
     </span>
    </p>
    <p>
     <span style="font-size:18px">
      对象根据所接收的消息而做出动作。同一消息为不同的对象接受时可产生完全不同的行动，这种现象称为多态性。利用多态性用户可发送一个通用的信息，而将所有的实现细节都留给接受消息的对象自行决定，如是，同一消息即可调用不同的方法。例如：抽象设备具备接口统一的读写接口。串口是设备的一种，也应支持设备的读写。但串口的读写操作是串口所特有的，不应和其他设备
      <br/>
      操作完全相同，例如操作串口的操作不应应用于sd卡设备中。多态性的实现受到继承性的支持，利用类继承的层次关系，把具有通用功能的协议存放在类层次中尽可能高的地方，而将实现这一功能的不同方法置于较低层次，这样，在这些低层次上生成的对象就能给通用消息以不同的响应。在c语言中我们可以用万能指针void*来实现多态。
     </span>
    </p>
    <p>
     <br/>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470:733a2f2f626c6f672e6373646e2e6e65742f4d6f726d6f6e74:2f61727469636c652f64657461696c732f3532393733353134" class_="artid" style="display:none">
 </p>
</div>
