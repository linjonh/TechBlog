---
layout: post
title: "运维运维知识体系运维体系化成长"
date: 2024-12-30 09:46:14 +0800
description: "本文详细阐述了运维工作的职能划分，包括应用运维、安"
keywords: "运维知识体系"
categories: ['运维', '知识体系']
tags: ['运维职能', '运维', '知识体系']
artid: "83117450"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=83117450
    alt: "运维运维知识体系运维体系化成长"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     【运维】运维知识体系（运维体系化成长）
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <div class="toc">
     <h4>
      文章目录
     </h4>
     <ul>
      <li>
       <ul>
        <li>
         <ul>
          <li>
           <a href="#_2" rel="nofollow">
            职能划分
           </a>
          </li>
          <li>
           <ul>
            <li>
             <a href="#_3" rel="nofollow">
              应用运维
             </a>
            </li>
            <li>
             <a href="#_7" rel="nofollow">
              安全运维（安全宝）
             </a>
            </li>
            <li>
             <a href="#_10" rel="nofollow">
              监控运维
             </a>
            </li>
            <li>
             <a href="#__12" rel="nofollow">
              系统运维 （阿里云）
             </a>
            </li>
           </ul>
          </li>
          <li>
           <a href="#_19" rel="nofollow">
            运维标准化
           </a>
          </li>
          <li>
           <ul>
            <li>
             <a href="#1__20" rel="nofollow">
              1. 物理设备方面
             </a>
            </li>
            <li>
             <a href="#2__26" rel="nofollow">
              2. 操作系统层面
             </a>
            </li>
            <li>
             <a href="#3__31" rel="nofollow">
              3. 应用服务层面
             </a>
            </li>
           </ul>
          </li>
          <li>
           <a href="#_38" rel="nofollow">
            工具化
           </a>
          </li>
          <li>
           <ul>
            <li>
             <a href="#1_shell_39" rel="nofollow">
              1. shell脚本
             </a>
            </li>
            <li>
             <a href="#2__41" rel="nofollow">
              2. 开源工具
             </a>
            </li>
            <li>
             <a href="#web_46" rel="nofollow">
              web化
             </a>
            </li>
            <li>
             <ul>
              <li>
               <a href="#_47" rel="nofollow">
                好处
               </a>
              </li>
             </ul>
            </li>
            <li>
             <a href="#API_53" rel="nofollow">
              服务化（API）
             </a>
            </li>
            <li>
             <a href="#_64" rel="nofollow">
              智能化
             </a>
            </li>
            <li>
             <ul>
              <li>
               <a href="#_65" rel="nofollow">
                自动化扩容（虚拟机）
               </a>
              </li>
              <li>
               <ul>
                <li>
                 <a href="#_66" rel="nofollow">
                  触发机制-&gt;决策系统（决策树）
                 </a>
                </li>
                <li>
                 <a href="#_88" rel="nofollow">
                  工具
                 </a>
                </li>
                <li>
                 <a href="#2_98" rel="nofollow">
                  工具2
                 </a>
                </li>
               </ul>
              </li>
              <li>
               <a href="#_104" rel="nofollow">
                自动化缩容
               </a>
              </li>
              <li>
               <a href="#_112" rel="nofollow">
                缩容
               </a>
              </li>
              <li>
               <a href="#_114" rel="nofollow">
                服务降级
               </a>
              </li>
              <li>
               <a href="#_116" rel="nofollow">
                故障自愈
               </a>
              </li>
             </ul>
            </li>
            <li>
             <a href="#ITIL_118" rel="nofollow">
              基于ITIL的运维管理体系
             </a>
            </li>
            <li>
             <ul>
              <li>
               <a href="#_119" rel="nofollow">
                服务
               </a>
              </li>
              <li>
               <a href="#_122" rel="nofollow">
                服务管理
               </a>
              </li>
              <li>
               <a href="#ITSMIT_service_manage_124" rel="nofollow">
                ITSM（IT service manage）
               </a>
              </li>
              <li>
               <a href="#ITILIT_ITSM_125" rel="nofollow">
                ITIL（IT 基础架构库）是ITSM的最佳实践，是一种标准
               </a>
              </li>
              <li>
               <a href="#_135" rel="nofollow">
                管什么
               </a>
              </li>
              <li>
               <a href="#PDCA_138" rel="nofollow">
                PDCA四阶段
               </a>
              </li>
              <li>
               <a href="#_143" rel="nofollow">
                服务台（呼叫中心）
               </a>
              </li>
             </ul>
            </li>
            <li>
             <a href="#_153" rel="nofollow">
              监控概述
             </a>
            </li>
           </ul>
          </li>
          <li>
           <a href="#_248" rel="nofollow">
            缓存
           </a>
          </li>
         </ul>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <h4>
     <a id="_2">
     </a>
     职能划分
    </h4>
    <h5>
     <a id="_3">
     </a>
     应用运维
    </h5>
    <p>
     项目上线、服务部署、业务部署、版本管理、灰度发布、应用监控
    </p>
    <h5>
     <a id="_7">
     </a>
     安全运维（安全宝）
    </h5>
    <p>
     整体安全方案、规范、漏洞监测、安全防护
    </p>
    <h5>
     <a id="_10">
     </a>
     监控运维
    </h5>
    <p>
     7X24 故障处理
    </p>
    <h5>
     <a id="__12">
     </a>
     系统运维 （阿里云）
    </h5>
    <p>
     分布式缓存、分布式文件系统、日志收集、环境规划（测试、开发、生产）、架构设计、性能优化
     <br/>
     基础服务运维
     <br/>
     DNS、负载均衡、系统监控、运维平台、系统监控
    </p>
    <h4>
     <a id="_19">
     </a>
     运维标准化
    </h4>
    <h5>
     <a id="1__20">
     </a>
     1. 物理设备方面
    </h5>
    <ol>
     <li>
      服务器标签化、设备负责人、设备采购详情、设备摆放
     </li>
     <li>
      网络划分、远程控制卡、网卡端口
     </li>
     <li>
      服务器机型、硬盘、内存统一、根据业务分类
     </li>
     <li>
      资产命名规范、编号、类型
     </li>
     <li>
      监控标准
     </li>
    </ol>
    <h5>
     <a id="2__26">
     </a>
     2. 操作系统层面
    </h5>
    <ol>
     <li>
      操作系统版本
     </li>
     <li>
      系统初始化（DNS、NTP、内核参数调优、rsyslog、主机名规范）
     </li>
     <li>
      基础Agent配置（zabbix agent 、logstash agent 、saltstack minion）
     </li>
     <li>
      系统监控标准（CPU、内存、硬盘、网络、进程）
     </li>
    </ol>
    <h5>
     <a id="3__31">
     </a>
     3. 应用服务层面
    </h5>
    <ol>
     <li>
      web服务器选型（Apache、Nginx）
     </li>
     <li>
      进程启动用户、端口监听规范、日志收集规范（ 访问日志、错误日志、运行日志）
     </li>
     <li>
      配置管理（配置文件规范、脚本规范）
     </li>
     <li>
      架构规范（Nginx+keepalived、lvs+keepalived）
     </li>
     <li>
      部署规范（位置、包命名）
     </li>
    </ol>
    <h4>
     <a id="_38">
     </a>
     工具化
    </h4>
    <h5>
     <a id="1_shell_39">
     </a>
     1. shell脚本
    </h5>
    <p>
     功能性、检查性、报表性
    </p>
    <h5>
     <a id="2__41">
     </a>
     2. 开源工具
    </h5>
    <ul>
     <li>
      zabbix 监控
     </li>
     <li>
      elkstack 日志收集、分析
     </li>
     <li>
      saltstack 批量管理、配置管理
     </li>
     <li>
      cobbler 自动化安装
     </li>
    </ul>
    <h5>
     <a id="web_46">
     </a>
     web化
    </h5>
    <h6>
     <a id="_47">
     </a>
     好处
    </h6>
    <ul>
     <li>
      权限控制
     </li>
     <li>
      日志记录
     </li>
     <li>
      弱化流程
     </li>
     <li>
      不用ssh到服务器，减少人为错误
     </li>
    </ul>
    <h5>
     <a id="API_53">
     </a>
     服务化（API）
    </h5>
    <p>
     新增集群节点流程
    </p>
    <ol>
     <li>
      调用cobbler-api安装操作系统
     </li>
     <li>
      调用saltstack-api进行系统初始化
     </li>
     <li>
      调用dns-api解析主机名
     </li>
     <li>
      调用zabbix-api给上线机器加上监控
     </li>
     <li>
      再次调用saltstack-api部署软件（安装nginx+php）
     </li>
     <li>
      调用deploy-api 将当前版本的代码部署到服务器
     </li>
     <li>
      调用test-api 测试当前服务器运行是否正常
     </li>
     <li>
      调用slb-api 将该节点加入集群
     </li>
    </ol>
    <h5>
     <a id="_64">
     </a>
     智能化
    </h5>
    <h6>
     <a id="_65">
     </a>
     自动化扩容（虚拟机）
    </h6>
    <h6>
     <a id="_66">
     </a>
     触发机制-&gt;决策系统（决策树）
    </h6>
    <ol>
     <li>
      <p>
       访问量超过最大支撑量
      </p>
      <ol>
       <li>
        CPU使用率
       </li>
       <li>
        内存使用率
       </li>
      </ol>
     </li>
     <li>
      <p>
       持续5分钟
      </p>
     </li>
     <li>
      <p>
       不是攻击
      </p>
     </li>
     <li>
      <p>
       资源池有可用资源
       <br/>
       1.带宽
       <br/>
       2.钱
      </p>
     </li>
     <li>
      <p>
       当前后端服务支撑量是否超过阈值
      </p>
     </li>
     <li>
      <p>
       数据库是否可以支撑当前并发
      </p>
     </li>
     <li>
      <p>
       当前自动化扩展队列，是否有正在扩容的节点
      </p>
     </li>
     <li>
      <p>
       其他业务相关
      </p>
     </li>
    </ol>
    <h6>
     <a id="_88">
     </a>
     工具
    </h6>
    <ol>
     <li>
      zabbix触发action
     </li>
     <li>
      判断buffer里是否有最近已经创建的虚拟机，并查询软件版本是否和当前一致
     </li>
     <li>
      openstack 创建虚拟机
     </li>
     <li>
      Saltstack配置环境 ----监控
     </li>
     <li>
      部署系统，部署当前代码
     </li>
     <li>
      测试服务是否可用（注意间隔和次数） 例如 curl，不返回200 sleep 5秒再访问 sleep 20 再访问
     </li>
     <li>
      加入集群
     </li>
     <li>
      通知（短信、邮件通知）
     </li>
    </ol>
    <h6>
     <a id="2_98">
     </a>
     工具2
    </h6>
    <ol>
     <li>
      部署openstack
     </li>
     <li>
      创建虚拟机
     </li>
     <li>
      部署mesos + docker + marathon
     </li>
     <li>
      自动化创建docker容器进行自动化扩容
     </li>
    </ol>
    <h6>
     <a id="_104">
     </a>
     自动化缩容
    </h6>
    <ol>
     <li>
      触发条件和决策
     </li>
     <li>
      从集群中移除节点 --关闭监控–移除
     </li>
     <li>
      通知
     </li>
     <li>
      移除节点放在buffer里，以待未来扩容
     </li>
     <li>
      buffer里超过一天的虚拟机，自动关闭，存放于xx区
     </li>
     <li>
      xx区的虚拟机，每7天清理删除
     </li>
    </ol>
    <h6>
     <a id="_112">
     </a>
     缩容
    </h6>
    <h6>
     <a id="_114">
     </a>
     服务降级
    </h6>
    <h6>
     <a id="_116">
     </a>
     故障自愈
    </h6>
    <h5>
     <a id="ITIL_118">
     </a>
     基于ITIL的运维管理体系
    </h5>
    <h6>
     <a id="_119">
     </a>
     服务
    </h6>
    <p>
     是向客户提供价值的一种手段，使客户不用承担特定的成本和风险就可以获得所期望的结果
    </p>
    <h6>
     <a id="_122">
     </a>
     服务管理
    </h6>
    <p>
     特定的组织能力
    </p>
    <h6>
     <a id="ITSMIT_service_manage_124">
     </a>
     ITSM（IT service manage）
    </h6>
    <h6>
     <a id="ITILIT_ITSM_125">
     </a>
     ITIL（IT 基础架构库）是ITSM的最佳实践，是一种标准
    </h6>
    <ul>
     <li>
      公共框架
     </li>
     <li>
      流程和专有名词
     </li>
     <li>
      目的
      <ul>
       <li>
        标准化、模式化
       </li>
       <li>
        告诉业务部门，我们做了什么
       </li>
       <li>
        通过系列流程，知识库减轻对英雄式工程师的依赖
       </li>
       <li>
        通过对流程的管控，减少成本
       </li>
      </ul>
     </li>
    </ul>
    <h6>
     <a id="_135">
     </a>
     管什么
    </h6>
    <ul>
     <li>
      能力
     </li>
     <li>
      资源
     </li>
    </ul>
    <h6>
     <a id="PDCA_138">
     </a>
     PDCA四阶段
    </h6>
    <ul>
     <li>
      计划
     </li>
     <li>
      实施
     </li>
     <li>
      检查
     </li>
     <li>
      处理
     </li>
    </ul>
    <h6>
     <a id="_143">
     </a>
     服务台（呼叫中心）
    </h6>
    <ul>
     <li>
      纽带，任务分发
     </li>
     <li>
      监视器
     </li>
     <li>
      路由器
     </li>
     <li>
      客服窗口
     </li>
     <li>
      广播台
     </li>
     <li>
      过滤器（过滤无用请求）
     </li>
     <li>
      单一联系点
     </li>
    </ul>
    <h5>
     <a id="_153">
     </a>
     监控概述
    </h5>
    <ul>
     <li>
      <p>
       监控对象（需要理解原理）
      </p>
      <ul>
       <li>
        <p>
         CPU
        </p>
       </li>
       <li>
        <p>
         远程控制卡（和网卡口一样）
        </p>
        <ol>
         <li>
          DELL服务器 iDRAC
         </li>
         <li>
          HP服务器 ILO
         </li>
         <li>
          IBM服务器 IMM
         </li>
         <li>
          Linux可以使用IPMI协议和BMC控制器通信
         </li>
        </ol>
       </li>
      </ul>
     </li>
     <li>
      <p>
       监控对象的指标
      </p>
      <ul>
       <li>
        CPU使用率
       </li>
       <li>
        CPU负载
       </li>
       <li>
        CPU个数
       </li>
       <li>
        上下文切换
       </li>
       <li>
        确定性能基准线（报警线）
       </li>
      </ul>
     </li>
     <li>
      <p>
       监控范围（监控哪些对象）
      </p>
      <ul>
       <li>
        <p>
         硬件故障
        </p>
       </li>
       <li>
        <p>
         操作系统监控（资源监控）
        </p>
        <p>
         1.CPU
         <br/>
         2.内存
         <br/>
         <a href="http://3.IO" rel="nofollow">
          3.IO
         </a>
         <br/>
         4.进程
        </p>
       </li>
       <li>
        <p>
         服务监控
        </p>
       </li>
      </ul>
     </li>
     <li>
      <p>
       硬件监控
      </p>
      <ul>
       <li>
        工具 ipmitool
        <ul>
         <li>
          支持
          <ul>
           <li>
            硬件
           </li>
           <li>
            操作系统
           </li>
          </ul>
         </li>
         <li>
          安装
          <ul>
           <li>
            yum install -y OpenIPMI ipmitool
           </li>
          </ul>
         </li>
         <li>
          使用方式
          <ul>
           <li>
            本地
           </li>
           <li>
            远程
           </li>
          </ul>
         </li>
         <li>
          网络配置
          <ul>
           <li>
            网卡
           </li>
           <li>
            独立 交换机
           </li>
          </ul>
         </li>
        </ul>
       </li>
       <li>
        机房巡检
       </li>
       <li>
        路由器和交换机的监控
        <ul>
         <li>
          SNMP( 简单网路管理协议)
         </li>
        </ul>
       </li>
      </ul>
     </li>
     <li>
      <p>
       系统监控
      </p>
      <ul>
       <li>
        CPU
        <ul>
         <li>
          上下文切换
          <ul>
           <li>
            结合CPU使用来看
           </li>
          </ul>
         </li>
         <li>
          运行队列
          <ul>
           <li>
            1-3线程 1CPU 4核 负载不超过12
           </li>
          </ul>
         </li>
         <li>
          使用率
          <ul>
           <li>
            用户态
            <ul>
             <li>
              65%-70%
             </li>
             <li>
              30% -35%
             </li>
            </ul>
           </li>
           <li>
            内核态
           </li>
          </ul>
         </li>
         <li>
          确定服务类型
          <ul>
           <li>
            IO密集型
           </li>
           <li>
            CPU密集型
           </li>
          </ul>
         </li>
         <li>
          确定性能基准线
          <ul>
           <li>
            1-3线程
           </li>
          </ul>
         </li>
        </ul>
       </li>
       <li>
        内存监控
        <ul>
         <li>
          页 4k
         </li>
         <li>
          寻址
         </li>
         <li>
          空间
         </li>
         <li>
          内存使用100%后，Linux会自动kill掉占内存最大的进程
         </li>
        </ul>
       </li>
       <li>
        硬盘（IOtop）
        <ul>
         <li>
          IOPS IO’S per second
         </li>
         <li>
          类型
          <ul>
           <li>
            顺序IO（block是顺序连接的）
           </li>
           <li>
            随机IO
           </li>
          </ul>
         </li>
         <li>
          iftop(网络IO)
          <ul>
           <li>
            阿里测
           </li>
           <li>
            奇云测
           </li>
          </ul>
         </li>
        </ul>
       </li>
       <li>
        IBM nmon(提供系统状态报表)
       </li>
      </ul>
     </li>
     <li>
      <p>
       应用程序监控
      </p>
      <ul>
       <li>
        Nginx(举例)
       </li>
       <li>
        ./configure 执行它的作用 生成makefile
       </li>
      </ul>
     </li>
     <li>
      <p>
       Zabbix
      </p>
      <ul>
       <li>
        监控类型
        <ul>
         <li>
          IPMI
         </li>
         <li>
          SNMP
         </li>
         <li>
          JVM
         </li>
        </ul>
       </li>
       <li>
        模式
        <ul>
         <li>
          server-agent
         </li>
        </ul>
       </li>
       <li>
        体系
        <ul>
         <li>
          采集 存储 展示 告警
         </li>
        </ul>
       </li>
       <li>
        组成
        <ul>
         <li>
          zabbix-server
         </li>
         <li>
          采集的数据存入mysql
         </li>
         <li>
          zabbix-agent（所有待监控机器中需要安装）
         </li>
         <li>
          web界面
         </li>
        </ul>
       </li>
       <li>
        自定义监控项
        <ul>
         <li>
          cat /etc/zabbix/zabbix_agentd.d/nginx.conf
         </li>
        </ul>
       </li>
      </ul>
     </li>
    </ul>
    <h4>
     <a id="_248">
     </a>
     缓存
    </h4>
    <ul>
     <li>
      参考内容
      <a href="http://www.unixhot.com/page/cache" rel="nofollow">
       www.unixhot.com/page/cache
      </a>
     </li>
     <li>
      缓存 cache 读缓存
      <ul>
       <li>
        用户层 客户端 浏览器
       </li>
      </ul>
     </li>
     <li>
      缓冲 buffer 写缓冲
     </li>
     <li>
      存放介质
      <ul>
       <li>
        客户端 浏览器
       </li>
       <li>
        内存 本机内存 远程服务器内存
       </li>
       <li>
        硬盘 本机硬盘 远程服务器硬盘
       </li>
      </ul>
     </li>
     <li>
      特性
      <ul>
       <li>
        过期时间
       </li>
       <li>
        强制过期
       </li>
       <li>
        命中率
       </li>
      </ul>
     </li>
     <li>
      redis集群
      <ul>
       <li>
        客户端分片
        <ul>
         <li>
          优势 ：简单 可控
         </li>
         <li>
          缺点 ： 手动 手动故障解决 手动数据迁移
         </li>
        </ul>
       </li>
       <li>
        redis cluster
       </li>
       <li>
        proxy
        <ul>
         <li>
          twemproxy
         </li>
         <li>
          codis
         </li>
        </ul>
       </li>
      </ul>
     </li>
    </ul>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f67:2e6373646e2e6e65742f77656978696e5f3330383039303833:2f61727469636c652f64657461696c732f3833313137343530" class_="artid" style="display:none">
 </p>
</div>


