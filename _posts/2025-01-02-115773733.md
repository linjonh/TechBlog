---
layout: post
title: "java模板代码生成器还不是有手就行"
date: 2025-01-02 21:05:49 +0800
description: "简介代码生成感觉非常合适我们这种勤奋的人，废话不多说，直接上代码（有手就行）；知识点：mybatis"
keywords: "java代码模板生成代码 不生成文件"
categories: ['']
tags: ['Spring', 'Mysql', 'Mybatis', 'Java', 'Boot']
artid: "115773733"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=115773733
    alt: "java模板代码生成器还不是有手就行"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     java模板代码生成器(还不是有手就行)
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
     <strong>
      简介
     </strong>
     <br/>
     代码生成感觉非常合适我们这种勤奋的人，废话不多说，直接上代码（有手就行）；
    </p>
    <p>
     知识点：mybatis-plus框架，生成器根据mybatis-plus模板生成建议可以看官网：
     <a href="https://baomidou.com/" rel="nofollow">
      https://baomidou.com/
     </a>
     <br/>
     官网的生成器地址：
     <a href="https://baomidou.com/guide/generator.html" rel="nofollow">
      https://baomidou.com/guide/generator.html
     </a>
    </p>
    <h2>
     <a id="poxxml_6">
     </a>
     #pox.xml
    </h2>
    <pre><code>&lt;properties&gt;
        &lt;java.version&gt;1.8&lt;/java.version&gt;
        &lt;mysql.version&gt;8.0.22&lt;/mysql.version&gt;
        &lt;plus.version&gt;3.4.2&lt;/plus.version&gt;
        &lt;swagger.version&gt;2.9.2&lt;/swagger.version&gt;
        &lt;swaggerio.version&gt;1.5.21&lt;/swaggerio.version&gt;
        &lt;commons.io.version&gt;2.5&lt;/commons.io.version&gt;
    &lt;/properties&gt;
    &lt;dependencies&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;com.baomidou&lt;/groupId&gt;
            &lt;artifactId&gt;mybatis-plus-generator&lt;/artifactId&gt;
            &lt;version&gt;3.4.1&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.freemarker&lt;/groupId&gt;
            &lt;artifactId&gt;freemarker&lt;/artifactId&gt;
            &lt;version&gt;2.3.31&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;com.ibeetl&lt;/groupId&gt;
            &lt;artifactId&gt;beetl&lt;/artifactId&gt;
            &lt;version&gt;3.3.2.RELEASE&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;
            &lt;artifactId&gt;velocity-engine-core&lt;/artifactId&gt;
            &lt;version&gt;2.0&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;!--io常用工具类 --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;commons-io&lt;/groupId&gt;
            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;
            &lt;version&gt;${commons.io.version}&lt;/version&gt;
        &lt;/dependency&gt;


        &lt;dependency&gt;
            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;
            &lt;artifactId&gt;velocity-engine-core&lt;/artifactId&gt;
            &lt;version&gt;2.3&lt;/version&gt;
        &lt;/dependency&gt;


        &lt;dependency&gt;
            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
            &lt;artifactId&gt;lombok&lt;/artifactId&gt;
            &lt;optional&gt;true&lt;/optional&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;

        &lt;!--mysql--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;mysql&lt;/groupId&gt;
            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
            &lt;version&gt;${mysql.version}&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;!-- Mybatis-plus 依赖 --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.baomidou&lt;/groupId&gt;
            &lt;artifactId&gt;mybatis-plus&lt;/artifactId&gt;
            &lt;version&gt;${plus.version}&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.baomidou&lt;/groupId&gt;
            &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;
            &lt;version&gt;${plus.version}&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
</code></pre>
    <h3>
     <a id="PublicConstants_89">
     </a>
     PublicConstants（常量）
    </h3>
    <pre><code>/**
 * @ClassName PublicConstants
 * @Author zwy
 * @Data 15/4/2021 上午11:01
 */
public class PublicConstants {

    final public static String DRIVER_NAME = "com.mysql.cj.jdbc.Driver";

    final public static String URL = "jdbc:mysql://121.5.147.69:3306/material_system?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=Asia/Shanghai";

    final public static String USER_NAME = "root";

    final public static String PASSWORD = "密码";

    final public static String CONTROLLER = "templates/controller.java.vm";

    final public static String SERVICE = "templates/service.java.vm";

    final public static String SERVICE_IMPL = "templates/serviceImpl.java.vm";

    final public static String MAPPER = "templates/mapper.java.vm";

    final public static String MAPPER_XML = "templates/mapper.xml.vm";

    final public static String ENTRY = "templates/entity.java.vm";
}
</code></pre>
    <h3>
     <a id="Test_121">
     </a>
     Test（测试）
    </h3>
    <pre><code> @Test
    public void test3(){
            // 全局配置   说明白点，就是一些文件生成路径和创建类上面的一些注释，例如作者等
            GlobalConfig globalConfig = new GlobalConfig();
            globalConfig.setActiveRecord(true)
                    .setFileOverride(true)
                    .setOpen(false)
                    //作者
                    .setAuthor("lanys")
                    //生成文件
                    .setOutputDir("D:/lanys")
                    //指定生成的主键的ID类型
                    .setIdType(IdType.AUTO)
                    //service层的名称
                    .setServiceName("%sService")
                    .setBaseResultMap(true)
                    .setBaseColumnList(true);

            //2.配置数据源  数据源,url,username,password
            DataSourceConfig dataSourceConfig = new DataSourceConfig();
            dataSourceConfig.setDriverName(PublicConstants.DRIVER_NAME);
            dataSourceConfig.setUrl(PublicConstants.URL);
            dataSourceConfig.setUsername(PublicConstants.USER_NAME);
            dataSourceConfig.setPassword(PublicConstants.PASSWORD);

            //3.包的策略配置  //packageConfig.setModuleName(mysql.getTableName());
            PackageConfig packageConfig = new PackageConfig();
            //配置包名
            packageConfig.setParent("sys_user");
            //实体包名
            packageConfig.setEntity("model");

            //4.模板    如果没有什么set的，就会使用默认的mybatis-plus默认模板
            TemplateConfig templateConfig = new TemplateConfig();
            templateConfig.setXml(null);
            //下边是是定义模板
//            templateConfig.setController(PublicConstants.CONTROLLER);
//            templateConfig.setXml(PublicConstants.MAPPER_XML);
//            templateConfig.setService(PublicConstants.SERVICE);
//            templateConfig.setServiceImpl(PublicConstants.SERVICE_IMPL);
//            templateConfig.setMapper(PublicConstants.MAPPER);
//            templateConfig.setEntity(PublicConstants.ENTRY);


            //5.配置策略模式
            StrategyConfig strategyConfig = new StrategyConfig();
            //驼峰命名
            strategyConfig.setCapitalMode(true)
                    //驼峰命名
                    .setNaming(NamingStrategy.underline_to_camel)
                    /**
                     * 指定数据库表,如果不指定，就会生成数据库中的全部表
                     */
                    .setInclude("sys_user");

            //最主要的生成器
            AutoGenerator autoGenerator = new AutoGenerator();
            autoGenerator.setGlobalConfig(globalConfig)
                    .setDataSource(dataSourceConfig)
                    .setStrategy(strategyConfig)
                    .setTemplate(templateConfig)
                    .setPackageInfo(packageConfig);
            //自定义生成
            //autoGenerator.setCfg(injectionConfig());

            autoGenerator.execute();
        }
</code></pre>
    <p>
     解析：因为大部分的代码已经写好注解，可以自己去看，如果想自己用来测试需要注意的有：
    </p>
    <pre><code>1.常量文件中的对应的mysql配置：ip，端口，数据库名称，账号，密码
    final public static String URL = "jdbc:mysql://121.5.147.69:3306/material_system?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=Asia/Shanghai";

    final public static String USER_NAME = "root";

    final public static String PASSWORD = "密码"




2.生成对应表，或生成全部表，下边已注释：
    //5.配置策略模式
    StrategyConfig strategyConfig = new StrategyConfig();
      //驼峰命名
      strategyConfig.setCapitalMode(true)
        //驼峰命名
         .setNaming(NamingStrategy.underline_to_camel)
          /**
            * 指定数据库表,如果不指定，就会生成数据库中的全部表
            */
            .setInclude("sys_user");

</code></pre>
    <p>
     注意：这是模板生成，如果想要更进一步提升，可以自己写一个生成器，不用太原始，比如你想生成数据库的某个表，他是如何获取的等，到你真正的去探索就会发现很有意思！
    </p>
    <p>
     例如：1.获取数据库中的某个表：
    </p>
    <pre><code>select table_name, table_comment, create_time, update_time from
information_schema.tableswhere table_name NOT LIKE 'qrtz_%'
and table_name NOT LIKE 'gen_%' and table_schema = (select database())
and table_name='sys_notice'
</code></pre>
    <p>
     2.获取数据库中的所有表：
    </p>
    <pre><code>select table_name,table_comment,create_time,update_time from 
information_schema.tables where table_schema = (select database())
</code></pre>
    <p>
     3.获取数据表中的字段：
    </p>
    <pre><code>select column_name,column_type from information_schema.columns
 where table_schema = (select database()) and table_name = 'sys_user'
	 	order by ordinal_position
</code></pre>
    <p>
     声明：生成器简单入门，充当笔记，造轮子。
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f34343639373735342f:61727469636c652f64657461696c732f313135373733373333" class_="artid" style="display:none">
 </p>
</div>


