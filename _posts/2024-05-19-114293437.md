---
layout: post
title: "python操作mysql数据库"
date: 2024-05-19 15:51:39 +0800
description: "前期准备如果之前没有使用过python操作mysql数据库，需要先导入库打开PyCharm，在下方找"
keywords: "python链接mysql数据库dao"
categories: ['Python']
tags: ['Sql', 'Python', 'Mysql']
artid: "114293437"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=114293437
    alt: "python操作mysql数据库"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     python操作mysql数据库
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-tomorrow-night" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="_0">
     </a>
     前期准备
    </h3>
    <p>
     如果之前没有使用过python操作mysql数据库，需要先导入库
     <br/>
     打开PyCharm，在下方找到Terminal，输入pip install mysqlclient即可，我已经安装完成了，所以提示的不一样，安装成功就可以。
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/1f21bde3c04100aea75e35aa31d930b7.png"/>
    </p>
    <h3>
     <a id="_4">
     </a>
     代码
    </h3>
    <p>
     <strong>
      dao
     </strong>
    </p>
    <pre><code class="prism language-python"><span class="token keyword">import</span> MySQLdb         <span class="token comment">#需要导入的库</span>


<span class="token keyword">def</span> <span class="token function">insert</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> img<span class="token punctuation">,</span> src<span class="token punctuation">,</span> fen<span class="token punctuation">,</span> con<span class="token punctuation">)</span><span class="token punctuation">:</span>              <span class="token comment">#实现的按列表导入数据库</span>
    db <span class="token operator">=</span> MySQLdb<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token string">"localhost"</span><span class="token punctuation">,</span> <span class="token string">"root"</span><span class="token punctuation">,</span> <span class="token string">"123456"</span><span class="token punctuation">,</span> <span class="token string">"eighty"</span><span class="token punctuation">,</span> charset<span class="token operator">=</span><span class="token string">'utf8'</span><span class="token punctuation">)</span>
    cursor <span class="token operator">=</span> db<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> n<span class="token punctuation">,</span> i<span class="token punctuation">,</span> s<span class="token punctuation">,</span> f<span class="token punctuation">,</span> c <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> img<span class="token punctuation">,</span> src<span class="token punctuation">,</span> fen<span class="token punctuation">,</span> con<span class="token punctuation">)</span><span class="token punctuation">:</span>
        sql <span class="token operator">=</span> <span class="token triple-quoted-string string">'''
        insert into movie values(0,'%s','%s','%s','%s','%s')
        '''</span> <span class="token operator">%</span> <span class="token punctuation">(</span>n<span class="token punctuation">,</span> i<span class="token punctuation">,</span> s<span class="token punctuation">,</span> f<span class="token punctuation">,</span> c<span class="token punctuation">)</span>
        cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>sql<span class="token punctuation">)</span>
    db<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre>
    <p>
     只需要将sql语句填写完整之后，除了查询，其他都可以按照这个模板进行操作。
     <br/>
     <strong>
      查询方法
     </strong>
    </p>
    <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    db <span class="token operator">=</span> MySQLdb<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token string">"localhost"</span><span class="token punctuation">,</span> <span class="token string">"root"</span><span class="token punctuation">,</span> <span class="token string">"123456"</span><span class="token punctuation">,</span> <span class="token string">"eighty"</span><span class="token punctuation">,</span> charset<span class="token operator">=</span><span class="token string">'utf8'</span><span class="token punctuation">)</span>
    cursor <span class="token operator">=</span> db<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sql<span class="token operator">=</span><span class="token triple-quoted-string string">'''
    select * from movie
    '''</span>
    cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>sql<span class="token punctuation">)</span>
    results <span class="token operator">=</span> cursor<span class="token punctuation">.</span>fetchall<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> results
</code></pre>
    <p>
     通过这种方式就可以实现python对mysql的操作
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f71715f34333632373037362f:61727469636c652f64657461696c732f313134323933343337" class_="artid" style="display:none">
 </p>
</div>


