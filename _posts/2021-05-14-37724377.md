---
layout: post
title: "CentOS-6.5下GIT服务器gitweb搭建"
date: 2021-05-14 08:19:37 +0800
description: "1、服务器端安装：（服务器ip地址：192.168.1.200）#yum install curl-"
keywords: "cestos git服务器支持 支持网页"
categories: ['Linux']
tags: ['Gitweb', 'Github', 'Git']
artid: "37724377"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=37724377
    alt: "CentOS-6.5下GIT服务器gitweb搭建"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     CentOS 6.5下GIT服务器、gitweb搭建
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     <span style="font-size:18px; background-color:orange">
     </span>
    </p>
    <div style="color:rgb(51,51,51); font-size:14px; font-family:微软雅黑; line-height:21px">
     <p style="margin-top:5px; margin-bottom:5px; font-family:Arial; background-color:inherit">
      <span style="font-family:KaiTi_GB2312; background-color:inherit">
       <span style="background-color:rgb(146,208,80)">
        <span style="font-size:18px; background-color:inherit">
         <span style="background-color:inherit">
          感谢朋友支持本博客，欢迎共同探讨交流，由于能力和时间有限，错误之处在所难免，欢迎指正！
         </span>
        </span>
       </span>
      </span>
     </p>
     <p style="margin-top:5px; margin-bottom:5px; font-family:Arial; background-color:inherit">
      <span style="font-family:KaiTi_GB2312; background-color:inherit">
       <span style="font-size:18px; background-color:inherit">
        <span style="background-color:rgb(146,208,80)">
         <span style="background-color:inherit">
          如有转载，请保留源作者博客信息。
         </span>
        </span>
        <br style="color:rgb(51,102,255); background-color:inherit"/>
        <span style="background-color:inherit">
         <span style="color:rgb(51,102,255)">
         </span>
        </span>
       </span>
      </span>
     </p>
    </div>
    <span style="line-height:28.7999973297119px; font-size:18px; color:rgb(0,112,192); font-family:微软雅黑; background-color:rgb(255,0,0)">
     <a href="http://blog.csdn.net/tantexian" rel="noopener noreferrer" style="color:rgb(51,102,153); text-decoration:none; background-color:inherit" target="_blank">
      <span style="background-color:inherit">
       Better Me的博客
      </span>
     </a>
     <span style="font-family:Arial; line-height:1.5; background-color:inherit">
      <span style="font-family:KaiTi_GB2312; background-color:inherit">
       ：
       <a href="http://blog.csdn.net/tantexian" rel="noopener noreferrer" style="color:rgb(51,102,153); text-decoration:none; background-color:inherit" target="_blank">
        blog.csdn.net/tantexian
       </a>
      </span>
     </span>
    </span>
    <span style="color:rgb(51,51,51); font-family:'Microsoft YaHei',微软雅黑,'Microsoft JhengHei',华文黑体,arial,sans-serif,STHeiti,sans-serif; font-size:14px; line-height:28.7999973297119px">
    </span>
    <div style="color:rgb(51,51,51); font-size:14px; font-family:微软雅黑; line-height:21px">
     <p style="margin-top:5px; margin-bottom:5px; background-color:inherit">
      <span style="font-family:KaiTi_GB2312; font-size:18px; background-color:inherit">
       <span style="line-height:27px; background-color:rgb(146,208,80)">
        <span style="background-color:inherit">
         如需交流，欢迎大家博客留言。
        </span>
       </span>
      </span>
     </p>
    </div>
    <br/>
    <p>
    </p>
    <p>
     <span style="font-size:18px; background-color:orange">
      1、服务器端安装：（服务器ip地址：192.168.1.200）
     </span>
    </p>
    <p>
     <span style="background-color:rgb(89,159,254)">
      #yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel perl-devel gcc gcc-c++ -y
     </span>
    </p>
    <p>
     <span style="background-color:rgb(89,159,254)">
      #wget https://www.kernel.org/pub/software/scm/git/git-2.0.0.tar.gz
     </span>
    </p>
    <div>
     <p>
      <span style="background-color:rgb(89,159,254)">
       #tar zxvf git-2.0.0.tar.gz
      </span>
     </p>
     <p>
      <span style="background-color:rgb(89,159,254)">
       #cd git-2.0.0
      </span>
     </p>
     <p>
      <span style="background-color:rgb(89,159,254)">
       #make prefix=/usr/local all
      </span>
     </p>
     <p>
      <span style="background-color:rgb(89,159,254)">
       #make prefix=/usr/local install  #root用户运行
      </span>
     </p>
     <p>
      <span style="background-color:rgb(89,159,254)">
      </span>
     </p>
     <p>
      <span style="background-color:rgb(89,159,254)">
       查看版本号：git --version
      </span>
     </p>
     <p>
      <span style="background-color:rgb(89,159,254)">
       git version 2.0.0
      </span>
     </p>
    </div>
    <p>
     <br/>
    </p>
    <span style="font-size:22px; background-color:rgb(243,152,0)">
     <span style="color:#262626">
      2、安装gitosis：gitosis为Git用户权限管理系统,通过管理服务端的/home/git/.ssh/authorized_key文件来执行对用户权限的管理，是一个python模块包
     </span>
    </span>
    <p>
     <span style="font-size:14px; background-color:rgb(89,159,254)">
      #yum install python python-setuptools
     </span>
    </p>
    <p>
     <span style="font-size:14px; background-color:rgb(89,159,254)">
      #git clone git://github.com/res0nat0r/gitosis.git
     </span>
    </p>
    <p>
     <span style="font-size:14px; background-color:rgb(89,159,254)">
      #cd gitosis/
     </span>
    </p>
    <p>
     <span style="font-size:14px; background-color:rgb(89,159,254)">
      #python setup.py install
     </span>
    </p>
    <p>
     <span style="font-size:14px; background-color:rgb(89,159,254)">
      显示Finished processing dependencies for gitosis==0.2即表示成功
     </span>
    </p>
    <div style="color:rgb(51,51,51); font-family:Verdana,Arial,Tahoma">
     <p style="background-color:rgb(255,255,255); color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
     </p>
     <p style="background-color:rgb(255,255,255); color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <br/>
     </p>
     <p style="background-color:rgb(255,255,255); color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <br/>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="font-size:22px; background-color:rgb(243,152,0)">
      </span>
     </p>
    </div>
    <span style="font-size:18px; background-color:rgb(243,152,0)">
     <strong>
      3、客户端安装：（客户端ip地址：192.168.1.120）
     </strong>
    </span>
    <p>
     <span style="font-size:14px; background-color:rgb(89,159,254)">
      #yum install git
     </span>
    </p>
    <p>
     <span style="font-size:14px; background-color:rgb(89,159,254)">
      #git --version
     </span>
    </p>
    <p>
     <span style="font-size:14px; background-color:rgb(89,159,254)">
      git version 1.7.1
     </span>
    </p>
    <div>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p>
      <span style="font-size:22px; background-color:rgb(243,152,0)">
       <strong>
        <span style="font-family:Microsoft Yahei; color:#262626">
         4. ssh设置
        </span>
       </strong>
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      客户端生产密钥并上传到服务器端：
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       <span style="font-size:14px">
        #ssh-keygen -t rsa
       </span>
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       <span style="font-size:14px">
        #scp ~/.ssh/id_rsa.pub root@192.168.56.1:~/
       </span>
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      服务端查看已经上传的密钥：ls ～/id_rsa.pub
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p>
      <span style="background-color:rgb(243,152,0); font-size:22px">
       <strong>
        <span style="font-family:Microsoft Yahei; color:#262626">
         5. 服务器上生成git用户，使用git用户并初始化gitosis
        </span>
       </strong>
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       添加用户git：
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       #useradd -r -s /bin/sh -c 'git version control' -d /home/git git
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       设置新密码：
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       #passwd git
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       设置权限：
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       #mkdir -p /home/git
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       #chown git:git /home/git
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p>
      <span style="font-family:Microsoft Yahei; font-size:18px; color:#262626">
       <span style="background-color:rgb(243,152,0)">
        6、在服务器端生成管理库：
       </span>
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       <span style="font-size:18px">
        # sudo -H -u git gitosis-init &lt; ~/.ssh/id_rsa.pub
       </span>
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      Initialized empty Git repository in /home/git//repositories/gitosis-admin.git/ Reinitialized existing Git repository in /home/git/repositories/gitosis-admin.git/
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      注解：
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      1. 生成的gitosis-admin为Git的用户访问权限管理库，gitosis通过这个git库来管理所有git库的访问权限。
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      2. 通过执行初始化，该公钥的拥有者就能修改用于配置gitosis的那个特殊Git仓库了
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      修改上传权限：
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       <span style="font-size:18px">
        #chmod 755 /home/git/repositories/gitosis-admin.git/hooks/post-update
       </span>
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p>
      <br/>
      <span style="font-family:Microsoft Yahei; font-size:18px; color:#262626">
       <span style="background-color:rgb(243,152,0)">
        7、客户端导出管理
       </span>
      </span>
     </p>
    </div>
    <div>
     <p>
      <span style="background-color:rgb(89,159,254)">
       #mkdir -p /git-repo/
      </span>
     </p>
     <p>
      <span style="background-color:rgb(89,159,254)">
       #cd /git-repo/
      </span>
     </p>
    </div>
    <span style="background-color:rgb(89,159,254)">
     #git clone git@192.168.1.200:/home/git/repositories/gitosis-admin.git
    </span>
    <div>
     <span style="background-color:rgb(89,159,254)">
      或者相对路径：git clone git@192.168.1.200:repositories/gitosis-admin.git
      <br/>
     </span>
     <div>
      <p>
       <span style="background-color:rgb(89,159,254)">
        #cd gitosis-admin
       </span>
      </p>
     </div>
    </div>
    <div>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      #find .
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      <code>
       <span style="font-family:arial,helvetica,sans-serif">
        ./gitosis.conf
       </span>
      </code>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      <code>
       <span style="font-family:arial,helvetica,sans-serif">
        ./keydir
       </span>
      </code>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      <code>
       <span style="font-family:arial,helvetica,sans-serif">
        ./keydir/oot@vm1.pub
       </span>
      </code>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      注解：
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      <code>
       <span style="font-family:arial,helvetica,sans-serif">
        gitosis.conf
       </span>
      </code>
      文件用来设置用户、仓库和权限的控制文件
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      keydir目录则是保存所有具有访问权限用户公钥的地方
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      <code>
       <span style="font-family:arial,helvetica,sans-serif">
        ./keydir/root@node200.pub:如前所述，该用户具有访问权限
       </span>
      </code>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      <br/>
     </p>
     <table border="1" cellpadding="2" cellspacing="0" style="color:rgb(51,51,51); font-family:Verdana,Arial,Tahoma; background-color:rgb(255,255,255); width:auto">
      <tbody>
       <tr>
        <td style="width:579px">
         <div>
          <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
           <span style="background-color:rgb(255,244,92)">
            注：上述步骤报错的话则：
           </span>
          </p>
          <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
           <span style="background-color:rgb(255,244,92)">
            CenOS6.5 ssh 公钥认证报错：Permission denied (publickey,gssapi-keyex,gssapi-with-mic).解决
           </span>
          </p>
          <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
           <span style="background-color:rgb(255,244,92)">
            1.说明：
           </span>
          </p>
          <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
           <span style="background-color:rgb(255,244,92)">
            ssh无密码用户远程登录，一直以来使用是debian操作系统，对用户目录权限要求没有关注过，生成了密钥，放对位置直接就可以使用，今天测试ansible工具，用到了CentOS6.3发现它对目录权限要求比较严格，本博文仅仅记录一下本次权限修改操作。
           </span>
          </p>
          <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
           <span style="background-color:rgb(255,244,92)">
            2、操作记录
           </span>
          </p>
          <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
           <span style="background-color:rgb(255,244,92)">
            (1)创建用户: ansible
           </span>
          </p>
          <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
           <span style="background-color:rgb(255,244,92)">
            (2)修改sshd_config文件
           </span>
          </p>
          <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
           <span style="background-color:rgb(255,244,92)">
            # vi /etc/ssh/sshd_config    //开启以下内容
           </span>
          </p>
          <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
           <span style="background-color:rgb(255,244,92)">
            HostKey /etc/ssh/ssh_host_rsa_key
           </span>
          </p>
          <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
           <span style="background-color:rgb(255,244,92)">
            RSAAuthentication yes
           </span>
          </p>
          <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
           <span style="background-color:rgb(255,244,92)">
            PubkeyAuthentication yes
           </span>
          </p>
          <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
           <span style="background-color:rgb(255,244,92)">
            AuthorizedKeysFile      .ssh/authorized_keys
           </span>
          </p>
          <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
           <span style="background-color:rgb(255,244,92)">
            # /etc/init.d/sshd restart
           </span>
          </p>
          <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
           <span style="background-color:rgb(255,244,92)">
            （3）权限设置
           </span>
          </p>
          <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
           <span style="background-color:rgb(255,244,92)">
            # mkdir /home/ansible/.ssh
           </span>
          </p>
          <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
           <span style="background-color:rgb(255,244,92)">
            # chown -R ansible:ansible /home/ansible
           </span>
          </p>
          <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
           <span style="background-color:rgb(255,244,92)">
            # chmod 700 /home/ansible
           </span>
          </p>
          <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
           <span style="background-color:rgb(255,244,92)">
            # chmod 700 /home/ansible/.ssh
           </span>
          </p>
          <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
           <span style="background-color:rgb(255,244,92)">
            # chmod 644 /home/ansible/.ssh/authorized_keys  //公钥文件的所有权限
           </span>
          </p>
          <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
           <span style="background-color:rgb(255,244,92)">
            # chmod 600 /home/ansible/.ssh/id_rsa        //私钥文件的所有权限
           </span>
          </p>
          <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
           <span style="background-color:rgb(255,244,92)">
            ### 可以测试远程连接了……
           </span>
          </p>
         </div>
        </td>
       </tr>
      </tbody>
     </table>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      <br/>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      <br/>
     </p>
     <p>
      <span style="font-family:Microsoft Yahei; font-size:18px; color:#262626; background-color:rgb(243,152,0)">
       8、客户端创建及设置管理项目
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       <span style="font-size:14px">
        #cd /git-repo/gitosis-admin
       </span>
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      查看已经上传密钥
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       <span style="font-size:14px">
        #ls keydir/
       </span>
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <a href="mailto:root@node200.pub" rel="nofollow noopener noreferrer" style="background-color:rgb(89,159,254)" target="_blank">
       <span style="font-size:14px">
        root@node200.pub
       </span>
      </a>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      <img alt="" src="https://img-blog.csdn.net/tantexianBB5D36802B854C45B64A85DEEA849CD5" style="height:auto"/>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(243,152,0)">
       授权和权限控制
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       <span style="font-size:14px">
        #vim gitosis.conf
       </span>
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       <span style="font-size:14px">
        [gitosis]
        <br/>
        <br/>
        [group gitosis-admin]
        <br/>
        writable = gitosis-admin
        <br/>
        members = root@vm1        #显示用户root@vm1.pub是初始化gitosis公钥的拥有者，是唯一能管理gitosis-admin项目的人
        <br/>
        <br/>
        [group openstack]            #组名称
        <br/>
        members = root@node200       #密钥用户名
        <br/>
        writable = git-test          #项目名称
       </span>
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="font-family:宋体,'Arial Narrow',arial,serif">
      <span style="font-size:18px; color:#262626; background-color:rgb(243,152,0)">
       9、初始、增加及使用项目git-test
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       <span style="font-size:14px">
        #cd /git-repo
       </span>
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       <span style="font-size:14px">
        #mkdir git-test
       </span>
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       <span style="font-size:14px">
        #cd git-test
       </span>
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       <span style="font-size:14px">
        #git init
       </span>
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       <span style="font-size:14px">
        #touch README
       </span>
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       <span style="font-size:14px">
        #git add .
       </span>
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       <span style="font-size:14px">
        #git commit -a -m "init git-test"
       </span>
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       <span style="font-size:14px">
        #git remote add origin git@192.168.1.200:git-test.git
       </span>
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(89,159,254)">
       <span style="font-size:14px">
        #git push origin master
       </span>
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(243,152,0)">
       注解：在新项目git-test里首次推送数据到服务器前，需先设定该服务器地址为远程仓库，但你不用事先到服务器上手工创建该项目的裸仓库— Gitosis 会在第一次遇到推送时自动创建。假若提示找不到仓库，则在服务器端创建一个仓库即可。
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif">
      <span style="background-color:rgb(243,152,0)">
       10. 客户端增加其他成员公钥到系统中：通过添加用户的公钥到keydir目录即可
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #cd /git-repo/gitosis-admin
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #cp /path/to/member/public/key keydir/
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #git add keydir/member.pub
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      修改gitosis.conf
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      [group openstack-dev]            #组名称
      <br/>
      members = ttx        #  新的密钥用户名
      <br/>
      writable = git-test
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      提交修改：
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #git commit -a -m "granted jay commit rights to git-test"
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #git push
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      注解：gitosis实际上是从服务器端的/home/git/.gitosis.conf文件读取信息的，通过以上操作，会将新的权限信息写入到该文件中，如果搞错了配置，导致失去了推送权限，可以通过修改该文件来重新设定，如果你手工编辑该文件的话，它会一直保持到下次向
      <code>
       gitosis-admin
      </code>
      推送新版本的配置内容为止。
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      成员ttx通过以下命令获取代码：
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #git clone git@192.168.1.200:git-test.git
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      <span style="font-size:20px">
       4 Github的使用
      </span>
     </p>
     <hr style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)"/>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      GitHub是一个托管Git项目的网站，对于闭源项目收费，开源项目则免费。使用Github进行代码发布和托管的步骤如下：
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      1. 登录Github官网https://github.com/ ,申请Github账户，并创建名为github-test的Repository
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      2. 安装Git客户端（Linux）
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #yum install git git-gui
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      3. 生成密钥对，并拷贝到Github网站
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #ssh-keygen -t rsa -C “xxx@gmail.com”
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      xxx@gmail.com为你注册Github时的邮箱账户
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      登录Github点击Edit your profile-&gt;SSH keys,添加./.ssh/id_rsa.pub中的内容
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      4. 设置ssh不输入口令
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #eval `ssh-agent`
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #ssh-add
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      5. 测试是否能连接上GIthub
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #ssh git@github.com
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      PTY allocation request failed on channel 0
      <br/>
      Hi rangochan! You've successfully authenticated, but GitHub does not provide shell access.
      <br/>
      Connection to github.com closed.
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      连接成功
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      6. 配置Git全局用户配置
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      # git config --global user.name xxx
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      # git config --global user.email xxx@gmail.com
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      xxx及xxx@gmail.com分别为Github账户名和邮箱
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      7. 创建本地新项目
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #mkdir github-test
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #cd github-test/
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #git init
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #touch README
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #git add README
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #git commit -m 'my first commit'
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      定义远程服务器别名origin
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #git remote add origin git@github.com:xxx/github-test.git
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      本地和远程实行合并，本地默认为master
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #git push origin master
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      当通过Github以xxx对github-test作出修改时，由于本地快照与Github远程服务器上的不一致，会引起以下错误：
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      ! [rejected]        master -&gt; master (fetch first)
      <br/>
      error: failed to push some refs to 'git@github.com:xxx/puppet'
      <br/>
      hint: Updates were rejected because the remote contains work that you do
      <br/>
      hint: not have locally. This is usually caused by another repository pushing
      <br/>
      hint: to the same ref. You may want to first integrate the remote changes
      <br/>
      hint: (e.g., 'git pull ...') before pushing again.
      <br/>
      hint: See the 'Note about fast-forwards' in 'git push --help' for details.
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      解决：
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      通过pull子命令更新Github项目中作出的更改
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #git pull origin master
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      之后再执行git push origin master
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      Counting objects: 8, done.
      <br/>
      Delta compression using up to 4 threads.
      <br/>
      Compressing objects: 100% (5/5), done.
      <br/>
      Writing objects: 100% (7/7), 714 bytes | 0 bytes/s, done.
      <br/>
      Total 7 (delta 0), reused 0 (delta 0)
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      登录https://github.com/xxx/github-test ,可查看到github-test项目
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      8. 更新文件
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #vim README
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      just for test
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      自动commit更改文件
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #git commit -a
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      更新到远程
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #git push origin master
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      9. 创建和合并分支
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #git branch
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      * master
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      显示当前分支是master
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      <br/>
      #git branch new-branch
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      创建分支
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      <br/>
      # git checkout new-branch
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      切换到新分支
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      <br/>
      # vi check.py
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      创建新文件
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      # git add check.py
      <br/>
      # git commit -a -m "added a python script"
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      Commit 到本地Git
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      <br/>
      # git push origin new-feature
      <br/>
      合并到远程服务器
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      如果new-branch分支成熟了，则可以合并进master
      <br/>
      #git checkout master
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      <br/>
      #git merge new-branch
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      <br/>
      #git branch
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      * master
      <br/>
      new-banch
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      #git push
      <br/>
      执行合并，master中也合并了new-branch中的更新
      <br/>
      <br/>
      登录到GitHub，点击"Switch Branches"可以更改分支来查看不同分支下代码情况。
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      <br/>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      <br/>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      <br/>
     </p>
     <h2 style="background-color:rgb(255,255,255); color:rgb(51,51,51); font-family:Arial">
      <span style="font-family:宋体">
       gitweb安装：
      </span>
     </h2>
     <h2 style="background-color:rgb(255,255,255); color:rgb(51,51,51); font-family:Arial">
      <span style="font-family:宋体">
       1. 简介
      </span>
     </h2>
     <p style="background-color:rgb(255,255,255); color:rgb(51,51,51); font-family:Arial">
      <span style="font-family:宋体">
       Gitweb提供了git版本库的图形化web浏览功能。可以到网站
       <a href="http://git.kernel.org/" rel="nofollow noopener noreferrer" style="color:rgb(51,102,153)" target="_blank">
        http://git.kernel.org/
       </a>
       体验下效果，如下图所示。
      </span>
     </p>
     <p style="background-color:rgb(255,255,255); color:rgb(51,51,51); font-family:Arial">
      <img alt="" src="https://img-blog.csdn.net/tantexianF23B10FE36B84D228B22C44F22DA43FC" style="height:auto"/>
     </p>
     <p style="background-color:rgb(255,255,255); color:rgb(51,51,51); font-family:Arial">
      <span style="font-family:宋体">
       Gitweb界面
      </span>
     </p>
     <p style="background-color:rgb(255,255,255); color:rgb(51,51,51); font-family:Arial">
      <span style="font-family:宋体">
       它既可以通过配置架设于web服务器上，也可以无须任何配置针对单独git版本库即时启动。Gitweb支持多个版本库，可以对版本库进行目录浏览（包括历史版本），可以查看文件内容，查看提交历史，提供搜索及RSS feed支持，也可以提供目录文件的打包下载等。
      </span>
     </p>
     <h2 style="background-color:rgb(255,255,255); color:rgb(51,51,51); font-family:Arial">
      <span style="font-family:宋体">
       2. 架设于本地版本库的Gitweb
      </span>
     </h2>
     <div>
      <span style="font-family:宋体">
       centos6.5首先请安装：
      </span>
     </div>
     <div>
      <span style="background-color:rgb(243,152,0)">
       <span style="font-family:tahoma,helvetica,arial; color:#454545">
        yum install -y perl-BerkeleyDB perl-Class-Singleton perl-Convert-BER perl-DateTime perl-DateTime-Format-DateParse perl-DateTime-Locale perl-DateTime-TimeZone perl-DBIx-TableHash perl-List-MoreUtils perl-Net-MAC-Vendor perl-Params-Validate  perl-rrdtool perl-SNMP-Multi  perl-SNMP-Simple perl-String-CRC32 perl-Unicode-Map perl-XML-DOM perl-XML-RegExp  rrdtool perl-XML-Parser  perl-Compress-Zlib perl-Time-HiRes
       </span>
       <span style="font-family:simsun; color:#464646">
        perl-CGI
       </span>
      </span>
     </div>
     <div>
      <span style="font-family:宋体">
       <br/>
      </span>
     </div>
     <p style="background-color:rgb(255,255,255); color:rgb(51,51,51); font-family:Arial">
      如果想在本地版本库看看自己项目的效果，不妨用
      <span style="font-family:宋体">
       Git 自带的一个命令，可以使用类似lighttpd这样轻量级的web服务器启动一个临时进程。如果是在Linux 主机上，通常都预装了lighttpd （可到
       <a href="http://www.lighttpd.net/" rel="nofollow noopener noreferrer" style="color:rgb(51,102,153)" target="_blank">
        <span style="color:#80080">
         http://www.lighttpd.net
        </span>
       </a>
       下载源码进行安装），无须任何配置，可以git工作区中键入以下命令来启动。
      </span>
     </p>
     <table border="1" cellpadding="2" cellspacing="0" style="background-color:rgb(230,230,230); color:rgb(51,51,51); font-family:Arial; font-size:14px; width:auto" width="100%">
      <tbody>
       <tr>
        <td>
         <p>
          <span style="font-family:宋体">
           $ git instaweb
          </span>
         </p>
        </td>
       </tr>
      </tbody>
     </table>
     <p style="background-color:rgb(255,255,255); color:rgb(51,51,51); font-family:Arial">
      这会在
      <span style="font-family:宋体">
       1234端口开启一个HTTPD 服务，随之在浏览器中显示该页，十分简单。关闭服务时，只需在原来的命令后面加上--stop 选项就可以了：
      </span>
     </p>
     <table border="1" cellpadding="2" cellspacing="0" style="background-color:rgb(230,230,230); color:rgb(51,51,51); font-family:Arial; font-size:14px; width:auto" width="100%">
      <tbody>
       <tr>
        <td>
         <p>
          <span style="font-family:宋体">
           $ git instaweb –stop
          </span>
         </p>
        </td>
       </tr>
      </tbody>
     </table>
     <h2 style="background-color:rgb(255,255,255); color:rgb(51,51,51); font-family:Arial">
      <span style="font-family:宋体">
       3. 架设于服务器上的Gitweb
      </span>
     </h2>
     <h3 style="background-color:rgb(255,255,255); color:rgb(51,51,51); font-family:Arial">
      <span style="font-family:黑体">
       3.1. 使用git源码安装
      </span>
     </h3>
     <p style="background-color:rgb(255,255,255); color:rgb(51,51,51); font-family:Arial">
      <span style="font-family:宋体">
       Gitweb的代码位于git的源码库中，如果是从源码进行安装的，那么gitweb应该已经安装好了。通过下面的命令可以查看Gitweb的安装位置：
      </span>
     </p>
     <table border="1" cellpadding="2" cellspacing="0" style="background-color:rgb(230,230,230); color:rgb(51,51,51); font-family:Arial; font-size:14px; width:auto" width="100%">
      <tbody>
       <tr>
        <td>
         <p>
          <span style="font-family:宋体">
           $ [root@bogon /]# ls -F $(dirname $(dirname $(git --html-path)))/gitweb
          </span>
         </p>
         <p>
          <span style="font-family:宋体">
           $ gitweb.cgi*  static/
          </span>
         </p>
         <p>
          <span style="font-family:宋体">
           $ [root@bogon /]# echo $(dirname $(dirname $(git --html-path)))/gitweb
          </span>
         </p>
         <p>
          <span style="font-family:宋体">
           $
           <span style="color:red">
            /usr/local/share/gitweb
           </span>
          </span>
         </p>
        </td>
       </tr>
      </tbody>
     </table>
     <p style="background-color:rgb(255,255,255); color:rgb(51,51,51); font-family:Arial">
      在
      <span style="font-family:宋体">
       Apache的配置文件中添加如下配置，重启Apache后，即可用地址
       <a href="http://server/gitweb" rel="nofollow noopener noreferrer" style="color:rgb(51,102,153)" target="_blank">
        http://server/gitweb
       </a>
       来访问git服务。（注意：你的linux系统gitweb的安装路径可能与我不同）
      </span>
     </p>
     <table border="1" cellpadding="2" cellspacing="0" style="background-color:rgb(230,230,230); color:rgb(51,51,51); font-family:Arial; font-size:14px; width:auto" width="100%">
      <tbody>
       <tr>
        <td>
         <p>
          <span style="font-family:宋体">
           Alias /gitweb "
           <span style="color:red">
            /usr/local/share/gitweb/
           </span>
           "
          </span>
         </p>
         <p>
          <span style="font-family:宋体">
          </span>
         </p>
         <p>
          <span style="font-family:宋体">
           &lt;Directory "
           <span style="color:red">
            /usr/local/share/gitweb
           </span>
           "&gt;
          </span>
         </p>
         <p>
          <span style="font-family:宋体">
           Options FollowSymLinks +ExecCGI
          </span>
         </p>
         <p>
          <span style="font-family:宋体">
           AddHandler cgi-script .cgi
          </span>
         </p>
         <p>
          <span style="font-family:宋体">
           DirectoryIndex index.cgi gitweb.cgi
          </span>
         </p>
         <p>
          <span style="font-family:宋体">
           Order allow,deny
          </span>
         </p>
         <p>
          <span style="font-family:宋体">
           Allow from all
          </span>
         </p>
         <p>
          <span style="font-family:宋体">
           &lt;/Directory&gt;
          </span>
         </p>
        </td>
       </tr>
      </tbody>
     </table>
     <h3 style="background-color:rgb(255,255,255); color:rgb(51,51,51); font-family:Arial">
      <span style="font-family:黑体">
       3.2. Gitweb的配置
      </span>
     </h3>
     <p style="background-color:rgb(255,255,255); color:rgb(51,51,51); font-family:Arial">
      编辑
      <span style="font-family:宋体">
       /etc/gitweb.conf（如果没有就新建），按如下配置即可：
      </span>
     </p>
     <table border="1" cellpadding="2" cellspacing="0" style="background-color:rgb(230,230,230); color:rgb(51,51,51); font-family:Arial; font-size:14px; width:auto" width="100%">
      <tbody>
       <tr>
        <td>
         <p>
          <span style="font-family:宋体">
           # 版本库的根目录
          </span>
         </p>
         <p>
          <span style="font-family:宋体">
           $projectroot = "/path/to/repos";
          </span>
         </p>
         <p>
          <span style="font-family:宋体">
          </span>
         </p>
         <p>
          <span style="font-family:宋体">
           # 设置克隆每个版本库的URL地址，一个版本库可以设置多个地址
          </span>
         </p>
         <p>
          <span style="font-family:宋体">
           @git_base_url_list= ("git://192.168.1.101/git", "http://192.168.1.101/git");
          </span>
         </p>
         <p>
          <span style="font-family:宋体">
          </span>
         </p>
         <p>
          <span style="font-family:宋体">
           # 菜单定制：tree view文件旁显示追溯(blame)链接
          </span>
         </p>
         <p>
          <span style="font-family:宋体">
           $feature{'blame'}{'default'} = [1];
          </span>
         </p>
         <p>
          <span style="font-family:宋体">
           $feature{'blame'}{'override'} = 1;
          </span>
         </p>
         <p>
          <span style="font-family:宋体">
          </span>
         </p>
         <p>
          <span style="font-family:宋体">
           # 菜单定制：tree添加快照(snapshot)下载链接
          </span>
         </p>
         <p>
          <span style="font-family:宋体">
           $feature{'snapshot'}{'default'} = ['zip', 'tgz'];
          </span>
         </p>
         <p>
          <span style="font-family:宋体">
           $feature{'snapshot'}{'override'} = 1;
          </span>
         </p>
        </td>
       </tr>
      </tbody>
     </table>
     <p style="background-color:rgb(255,255,255); color:rgb(51,51,51); font-family:Arial">
      <span style="font-family:宋体">
       gitweb博大精深，也可以定制首页模板，有兴趣再研究，可查看git gitweb --help帮助手册。
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      <span style="font-family:simsun; color:#464646; background-color:rgb(220,220,220); font-size:14.285714149475098px">
       <br/>
      </span>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      <br/>
     </p>
     <p style="color:rgb(85,85,85); font-family:宋体,'Arial Narrow',arial,serif; background-color:rgb(255,255,255)">
      <span style="font-family:simsun; color:#464646; background-color:rgb(220,220,220); font-size:14.285714149475098px">
       <br/>
      </span>
     </p>
    </div>
   </div>
  </div>
 </article>
 <p alt="68747470733a:2f2f626c6f672e6373646e2e6e65742f74616e74657869616e:2f61727469636c652f64657461696c732f3337373234333737" class_="artid" style="display:none">
 </p>
</div>


