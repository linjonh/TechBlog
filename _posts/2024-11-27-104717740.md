---
layout: post
title: "python-不显示图片-直接保存图片-matplotlib-后端执行指令"
date: 2024-11-27 21:00:00 +0800
description: "在服务器上画图的时候没有 matplotlib的绘图的环境提示“没有显示的环境变量”no displ"
keywords: "python不显示图片直接存储图片"
categories: ['Python']
tags: ['无标签']
artid: "104717740"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=104717740
    alt: "python-不显示图片-直接保存图片-matplotlib-后端执行指令"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     python 不显示图片 直接保存图片 matplotlib 后端执行指令
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="htmledit_views" id="content_views">
    <p>
     在服务器上画图的时候没有 matplotlib的绘图的环境提示“没有显示的环境变量”
    </p>
    <pre><code>no display name and no $DISPLAY environment variable</code></pre>
    <p>
     之后去matplotlib找解决方案，终于知道原因了。matplotlib用pyplot画图的时候用的是一种交互的模式，matplotlib库里本身就包含一些后端，这些后端能够适应不同的编辑器，尽管有点时候画完了不进行show()后者draw()会不显示，但依旧是在交互的默认后端里进行操作的。
    </p>
    <p>
     然鹅，用服务器想画图的时候，发现居然不支持matplotlib画图，最终在帮助文档中找到的解决方案。用户开可以通过指定“非交互式后端”来实现。
    </p>
    <pre><code>import matplotlib
matplotlib.use('Agg')    #指定后端渲染器</code></pre>
    <p>
     除了‘Agg’以外，matplotlibh还支持其他的后端渲染器的指令
    </p>
    <table border="1" cellpadding="1" cellspacing="1" style="width:500px;">
     <caption>
      matplotlib渲染器
     </caption>
     <tbody>
      <tr>
       <td>
        渲染器
       </td>
       <td>
        支持类型
       </td>
       <td>
        描述
       </td>
      </tr>
      <tr>
       <td>
        AGG
       </td>
       <td>
        png
       </td>
       <td>
        栅格图像——agg库
       </td>
      </tr>
      <tr>
       <td>
        PS
       </td>
       <td>
        ps,eps
       </td>
       <td>
        向量图——ps格式
       </td>
      </tr>
      <tr>
       <td>
        PDF
       </td>
       <td>
        pdf
       </td>
       <td>
        向量图——pdf
       </td>
      </tr>
      <tr>
       <td>
        SVG
       </td>
       <td>
        svg
       </td>
       <td>
        向量图——svg
       </td>
      </tr>
      <tr>
       <td>
        Cairo
       </td>
       <td>
        png, ps, pdf, svg
       </td>
       <td>
        <p>
         栅格图像、矢量图——Cairo库
        </p>
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     在用的时候发现，各种渲染器支持的类型很宽泛, 常用的格式(jpg,png,tiff...)各种渲染器保存的类型都支持。
    </p>
    <p>
     此外，matplotlib还支持其他QT5,QT4,GTK,macosx操作，具体可以看帮助文档
     <a href="https://matplotlib.org/Matplotlib.pdf" rel="nofollow">
      https://matplotlib.org/Matplotlib.pdf
     </a>
     ，网页版
     <a href="https://www.matplotlib.org.cn/tutorials/introductory/usage.html#what-is-a-backend" rel="nofollow">
      https://www.matplotlib.org.cn/tutorials/introductory/usage.html#what-is-a-backend
     </a>
    </p>
   </div>
  </div>
 </article>
 <p alt="68747470733a2f2f626c6f67:2e6373646e2e6e65742f74696d655f666f72676f7474656e2f:61727469636c652f64657461696c732f313034373137373430" class_="artid" style="display:none">
 </p>
</div>


