---
layout: post
title: "Docker搭建RPG小游戏"
date: 2025-01-01 00:02:13 +0800
description: "Docker镜像Docker 镜像类似于虚拟机镜像，可以将它理解为⼀个只读的模板。例如，⼀个镜像可以"
keywords: "docker rpg"
categories: ['云计算']
tags: ['无标签']
artid: "107634811"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=107634811
    alt: "Docker搭建RPG小游戏"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     Docker搭建RPG小游戏
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h2>
     <a id="Docker_0">
     </a>
     Docker镜像
    </h2>
    <p>
     Docker 镜像类似于虚拟机镜像，可以将它理解为⼀个只读的模板。
     <br/>
     例如，⼀个镜像可以包含⼀个基本的操作系统环境，⾥⾯仅安装了Apache 应⽤程序（或
     <br/>
     ⽤⼾需要的其他软件） 。可以把它称为⼀个Apache 镜像。
    </p>
    <h2>
     <a id="Docker_5">
     </a>
     Docker容器
    </h2>
    <p>
     Docker 容器类似于⼀个轻量级的沙箱， Docker 利⽤容器来运⾏和隔离应⽤。
     <br/>
     容器是从镜像创建的应⽤运⾏实例。它可以启动、开始、停⽌、删除，⽽这些容器都是
     <br/>
     彼此相互隔离、互不可⻅的。
     <br/>
     可以把容器看作⼀个简易版的Linux 系统环境（包括root ⽤⼾权限、进程空间、⽤⼾空
     <br/>
     间和⽹络空间等）以及运⾏在其中的应⽤程序打包⽽成的盒⼦。
     <br/>
     镜像⾃⾝是只读的。容器从镜像启动的时候，会在镜像的最上层创建⼀个可写层。
    </p>
    <h2>
     <a id="Docker_13">
     </a>
     Docker仓库
    </h2>
    <p>
     Docker 仓库类似于代码仓库，是Docker 集中存放镜像⽂件的场所
    </p>
    <h2>
     <a id="1Docker_16">
     </a>
     1.Docker引擎的安装
    </h2>
    <p>
     Linux输入如下命令：
    </p>
    <pre><code>curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun
systemctl start docker
systemctl enable docker
</code></pre>
    <p>
     输入 docker version 查看是否安装成功
    </p>
    <h2>
     <a id="2RPG_27">
     </a>
     2.RPG小游戏的搭建
    </h2>
    <p>
     RPG小游戏的搭建原理就是自己创建一个RPG小游戏的Docker镜像，使用该镜像运行容器
    </p>
    <h3>
     <a id="Dockerfile_29">
     </a>
     创建Dockerfile文件并编辑
    </h3>
    <pre><code>vi Dockerfile
</code></pre>
    <img src="https://raw.githubusercontent.com/Crtd-Code/image/master/Dockerfile%E7%BC%96%E8%BE%91.png" width="600">
     <p>
      按i进入插入模式，复制粘贴如下代码(进入插入模式，左下角会有一个INSERT标志，若没有进入插入模式粘贴会缺失代码，按ESC键，输入:wq,回车退出编辑)
     </p>
     <pre><code>FROM centos:7
ADD http://23126342.s21d-23.faiusrd.com/0/ABUIABAAGAAg1M3F9wUoxOzFiwY?f=BrowserQuest.tar.gz&amp;v=1592878804 /
RUN yum install php-cli php-process php-devel php-pear libevent-devel -y &amp;&amp; yum clean all
RUN tar xzvf /ABUIABAAGAAg1M3F9wUoxOzFiwY \
&amp;&amp; echo -e 'sed -i "s/hostip/$HOST_IP/g" /BrowserQuest/Web/config/config_local.json &amp;&amp; php start.php start' &gt; /BrowserQuest/run.sh 
WORKDIR /BrowserQuest
EXPOSE 8000
EXPOSE 8787
CMD ["bash","run.sh"]
</code></pre>
     <h3>
      <a id="_48">
      </a>
      创建镜像
     </h3>
     <pre><code>docker build -t rpggame .
</code></pre>
     <img src="https://raw.githubusercontent.com/Crtd-Code/image/master/%E6%9F%A5%E7%9C%8B%E9%95%9C%E5%83%8F.png" width="600">
      镜像中包含rpggame即成功创建
      <h3>
       <a id="_55">
       </a>
       运行镜像
      </h3>
      <pre><code>docker run -d  -p 8000:8000 -p 8787:8787 -e HOST_IP=192.168.90.132 rpggame
</code></pre>
      <p>
       此命令行将小游戏部署在8787端口上（关于端口放行请参考
       <a href="" rel="nofollow">
        静态网页呈现小游戏
       </a>
       ）
       <br/>
       <img src="https://raw.githubusercontent.com/Crtd-Code/image/master/%E6%9F%A5%E7%9C%8B%E5%AE%B9%E5%99%A8%E8%BF%90%E8%A1%8C%E6%83%85%E5%86%B5.png" width="600"/>
      </p>
      <h3>
       <a id="_62">
       </a>
       测试
      </h3>
      <p>
       网页输入：&lt;服务器ip&gt;:8787
       <br/>
       <img src="https://raw.githubusercontent.com/Crtd-Code/image/master/RPG%E5%B0%8F%E6%B8%B8%E6%88%8F.png" width="600"/>
      </p>
      <h3>
       <a id="RPG_66">
       </a>
       RPG小游戏一键神装
      </h3>
      <p>
       1.进入
       <a href="http://23126342.s21d-23.faiusrd.com/0/ABUIABAAGAAg1M3F9wUoxOzFiwY?f=BrowserQuest.tar.gz&amp;v=1592878804/" rel="nofollow">
        下载地址
       </a>
       <br/>
       下载压缩包，解压
       <br/>
       2.CBrowserQuest\BrowserQuest\Web\js\items.js 文件中含有装备代码
       <br/>
       3.网页crtl + shift + i打开网页详情
      </p>
      <img src="https://github.com/Crtd-Code/aa/blob/master/QQ%E5%9B%BE%E7%89%8720200712171329.png?raw=true" width="600">
       <p>
        4.修改网页cookie
       </p>
      </img>
     </img>
    </img>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f2f62:6c6f672e6373646e2e6e65742f7a313336303430383735322f:61727469636c652f64657461696c732f313037363334383131" class_="artid" style="display:none">
 </p>
</div>


