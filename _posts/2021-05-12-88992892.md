---
layout: post
title: "传统安防互联网化无插件直播分析及解决方案"
date: 2021-05-12 12:15:52 +0800
description: "写在前面如何应对各种千变万化的音视频应用的需求场景？从取流、封装、推流、分发，各个环节经过长时间夯实"
keywords: "安防视频互联网化"
categories: ['青柿流媒体解决方案']
tags: ['无插件直播', '传统安防', 'Rtsp', 'Ps', 'Hls']
artid: "88992892"
image:
    path: https://api.vvhan.com/api/bing?rand=sj&artid=88992892
    alt: "传统安防互联网化无插件直播分析及解决方案"
render_with_liquid: false
---

<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     传统安防互联网化无插件直播分析及解决方案
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-dark" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <h3>
     <a id="_1">
     </a>
     写在前面
    </h3>
    <p>
     如何应对各种千变万化的音视频应用的需求场景？从取流、封装、推流、分发，各个环节经过长时间夯实，
     <a href="http://www.liveqing.com:8080" rel="nofollow">
      <strong>
       LiveQing.com
      </strong>
     </a>
     已经形成了，一条完整的音视频数据传输链路。
    </p>
    <p>
     在安防领域，其主要特点是设备多、用户少、智能化要求高，我们需要接入多种网络环境下的多种不同协议的设备，例如摄像机IPC、网络硬盘录像机NVR、硬盘录像机DVR、GB/T28181国标设备、单兵设备、SIP协议设备等，这就会涉及到比较多的数据传输和控制协议，例如：RTSP、RTP、Onvif、GB/T28181、SIP、国网A/B接口等，而这些传输协议的数据封装格式又会各种各样：ES、TS、PS，PES，我们需要做的是将所有的这些协议进行兼容，对上层应用系统、用户侧提供统一的接口和兼容性强的音视频输出协议，构建一套高内聚、低耦合、易扩展、接口友好的视频能力平台，让应用系统的研发人员基于视频能力平台就可以研发出各种以视频为增值服务的应用平台。
    </p>
    <h3>
     <a id="_6">
     </a>
     传统安防需求分析
    </h3>
    <p>
     在传统安防结合互联网的音视频应用领域，基本上可以拆分为以下几点：
    </p>
    <h4>
     <a id="___10">
     </a>
     第一步 协议兼容
    </h4>
    <p>
     从设备取流与数据转发协议上，我们需要涉及到：
    </p>
    <ul>
     <li>
      RTSP取流；
     </li>
     <li>
      Onvif协议控制；
     </li>
     <li>
      GB/T28181协议控制；
     </li>
     <li>
      国网A/B接口控制；
     </li>
     <li>
      RTMP推流；
     </li>
    </ul>
    <h4>
     <a id="___20">
     </a>
     第二步 流封装的处理
    </h4>
    <p>
     通过取流协议获取到音视频数据后，我们需要对各种音视频数据的封装格式和编码格式进行二次处理，统一输出：
    </p>
    <ul>
     <li>
      RTP数据解析；
     </li>
     <li>
      PS数据解析；
     </li>
     <li>
      RTMP/FLV数据封装；
     </li>
    </ul>
    <h4>
     <a id="____28">
     </a>
     第三步 流数据的分发与存储
    </h4>
    <p>
     流媒体服务是所有视频应用最核心的部分，主要要求能够稳定、高性能、全平台分发，并且能够提供一系列的外围管理服务，包括录像、检索、回放、鉴权等：
    </p>
    <ul>
     <li>
      高性能分发；
     </li>
     <li>
      RTMP/HLS/HTTP-FLV同步输出；
     </li>
     <li>
      录像、检索与回放；
     </li>
    </ul>
    <h4>
     <a id="___37">
     </a>
     第四步 音视频编解码
    </h4>
    <ul>
     <li>
      视频快照；
     </li>
     <li>
      G.711/G.726/PCM转码AAC；
     </li>
     <li>
      音视频的解码与播放
     </li>
    </ul>
    <h3>
     <a id="_42">
     </a>
     传统安防互联网化解决方案
    </h3>
    <p>
     <strong>
      LiveNVR
     </strong>
     技术实现我们采用技术流程是：
    </p>
    <ul>
     <li>
      <strong>
       OnvifClient
      </strong>
      进行设备的发现和设备直播流取址；
     </li>
     <li>
      <strong>
       RTSPClient
      </strong>
      进行RTSP取流；
     </li>
     <li>
      将安防类的G.711/G.726等音频格式通过
      <strong>
       AACEncoder
      </strong>
      转码为AAC格式；
     </li>
     <li>
      <strong>
       PUSH
      </strong>
      对音视频流进行校正和推流到
      <strong>
       LiveQing
      </strong>
      流媒体服务器；
     </li>
     <li>
      <strong>
       LiveQing
      </strong>
      流媒体服务器进行RTMP/HTTP-FLV/HLS同步输出，兼容所有终端；
     </li>
     <li>
      外围根据用户的接口请求控制拉流-&gt;推流-&gt;转发的节奏；
     </li>
     <li>
      各个流转节点同步会做一些快照、错误码的记录和对外输出；
     </li>
    </ul>
    <h2>
     <a id="_54">
     </a>
     获取更多信息
    </h2>
    <p>
     安防流媒体互联直播-QQ交流群：
     <a href="https://jq.qq.com/?_wv=1027&amp;k=5pdZ4ab" rel="nofollow">
      615081503
     </a>
    </p>
    <p>
     国标GB28181无插件LiveGBS-QQ交流群：
     <a href="https://jq.qq.com/?_wv=1027&amp;k=5UDV5Pt" rel="nofollow">
      947137753
     </a>
    </p>
    <p>
     WEB：
     <a href="https://www.liveqing.com" rel="nofollow">
      https://www.liveqing.com
     </a>
    </p>
    <p>
     Tel：189-5515-0114 (同微信）
    </p>
    <p>
     Copyright ©
     <a href="http://LiveQing.com" rel="nofollow">
      LiveQing.com
     </a>
     2016-2019
    </p>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
 </article>
 <p alt="68747470733a2f:2f626c6f672e6373646e2e6e65742f4d617276696e31333131:2f61727469636c652f64657461696c732f3838393932383932" class_="artid" style="display:none">
 </p>
</div>


