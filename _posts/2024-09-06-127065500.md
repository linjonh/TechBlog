---
layout: post
title: 毕业设计-大数据全国疫情数据分析与3D可视化-python-大数据
date: 2024-09-06 16:26:01 +0800
categories: [计算机专业,毕设选题,毕业设计系列]
tags: [毕业设计,数据分析,大数据毕设,大数据,python]
image:
    path: https://img-blog.csdnimg.cn/19b15e17a3834f899a20ef0fd06784f1.png?x-oss-process=image/resize,m_fixed,h_150
    alt: 毕业设计-大数据全国疫情数据分析与3D可视化-python-大数据
artid: 127065500
render_with_liquid: false
---
<div class="blog-content-box">
 <div class="article-header-box">
  <div class="article-header">
   <div class="article-title-box">
    <h1 class="title-article" id="articleContentId">
     毕业设计 大数据全国疫情数据分析与3D可视化 - python 大数据
    </h1>
   </div>
  </div>
 </div>
 <article class="baidu_pl">
  <div class="article_content clearfix" id="article_content">
   <link href="../../assets/css/kdoc_html_views-1a98987dfd.css" rel="stylesheet"/>
   <link href="../../assets/css/ck_htmledit_views-704d5b9767.css" rel="stylesheet"/>
   <div class="markdown_views prism-atom-one-light" id="content_views">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
     <path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
     </path>
    </svg>
    <p>
    </p>
    <div class="toc">
     <h4>
      文章目录
     </h4>
     <ul>
      <li>
       <a href="#0__3" rel="nofollow">
        0 前言
       </a>
      </li>
      <li>
       <a href="#1__21" rel="nofollow">
        1 课题背景
       </a>
      </li>
      <li>
       <a href="#2__25" rel="nofollow">
        2 实现效果
       </a>
      </li>
      <li>
       <a href="#3__48" rel="nofollow">
        3 设计原理
       </a>
      </li>
      <li>
       <a href="#4__181" rel="nofollow">
        4 部分代码
       </a>
      </li>
      <li>
       <a href="#5__321" rel="nofollow">
        5 最后
       </a>
      </li>
     </ul>
    </div>
    <p>
    </p>
    <hr color="#000000" size='1"'/>
    <h2>
     <a id="0__3">
     </a>
     0 前言
    </h2>
    <p>
     🔥 这两年开始毕业设计和毕业答辩的要求和难度不断提升，传统的毕设题目缺少创新和亮点，往往达不到毕业答辩的要求，这两年不断有学弟学妹告诉学长自己做的项目系统达不到老师的要求。
    </p>
    <p>
     为了大家能够顺利以及最少的精力通过毕设，学长分享优质毕业设计项目，今天要分享的是
    </p>
    <p>
     🚩
     <strong>
      大数据全国疫情数据分析与3D可视化
     </strong>
    </p>
    <p>
     🥇学长这里给一个题目综合评分(每项满分5分)
    </p>
    <ul>
     <li>
      难度系数：2分
     </li>
     <li>
      工作量：3分
     </li>
     <li>
      创新点：4分
     </li>
    </ul>
    <p>
     🧿
     <strong>
      选题指导, 项目分享：
     </strong>
    </p>
    <p>
     <a href="https://gitee.com/dancheng-senior/project-sharing-1/blob/master/%E6%AF%95%E8%AE%BE%E6%8C%87%E5%AF%BC/README.md" rel="nofollow">
      https://gitee.com/dancheng-senior/project-sharing-1/blob/master/%E6%AF%95%E8%AE%BE%E6%8C%87%E5%AF%BC/README.md
     </a>
    </p>
    <h2>
     <a id="1__21">
     </a>
     1 课题背景
    </h2>
    <p>
     基于大数据的新型冠状病毒疫情三维可视化，借助3D工具实现新冠病毒的可视化分析。
    </p>
    <h2>
     <a id="2__25">
     </a>
     2 实现效果
    </h2>
    <p>
     <strong>
      全球柱状图
     </strong>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/6e9dff86708fbfe49968a5c543f1c970.png"/>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/81713af6d34c4da086af572f59472983.gif"/>
    </p>
    <p>
     <strong>
      全国和分省的面着色
     </strong>
     <br/>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/afd8f84bc48950657f2914582fc08e0e.png">
      <br/>
      <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/bf0d89a27b464715901f92187a4b1169.gif"/>
     </img>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/8ca636ab159d8aeeadd828422b17ab12.gif"/>
    </p>
    <p>
     <strong>
      全国城市热力图
     </strong>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/6672ce7c597ed9cf420f6818180ff604.png"/>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/4db7ccf7bc4163cbd4cf93459c5abe21.gif"/>
    </p>
    <p>
     <img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/blog_migrate/4f42256ef6d870fd12a83477a3a90042.png"/>
    </p>
    <h2>
     <a id="3__48">
     </a>
     3 设计原理
    </h2>
    <p>
     <strong>
      如何用EarthSDK构建一个简单的三维App
     </strong>
    </p>
    <p>
     构建步骤
     <br/>
     1下载EarthSDK
     <br/>
     地址：https://earthsdk.com/v/v1.1.0.zip
    </p>
    <p>
     2.在本地创建一个文件夹，将EarthSDK放入文件夹内，并新建一个index.html文件。
     <br/>
     3.index.html文件写入以下代码：
    </p>
    <pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>zh-CN<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ie=edge<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>xbsj-labels<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Earth起步<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>meta</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>创建地球<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 0 引入js文件 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./v1.1.0/XbsjEarth/XbsjEarth.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
        <span class="token selector">html,
        body</span> <span class="token punctuation">{<!-- --></span>
            <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
            <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
            <span class="token property">margin</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
            <span class="token property">padding</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>earthContainer<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">background</span><span class="token punctuation">:</span> grey</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">var</span> earth<span class="token punctuation">;</span>

        <span class="token keyword">function</span> <span class="token function">startup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            earth <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XE<span class="token punctuation">.</span>Earth</span><span class="token punctuation">(</span><span class="token string">'earthContainer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            earth<span class="token punctuation">.</span>sceneTree<span class="token punctuation">.</span>root <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string-property property">"children"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{<!-- --></span>
                        <span class="token string-property property">"czmObject"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                            <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"默认离线影像"</span><span class="token punctuation">,</span>
                            <span class="token string-property property">"xbsjType"</span><span class="token operator">:</span> <span class="token string">"Imagery"</span><span class="token punctuation">,</span>
                            <span class="token string-property property">"xbsjImageryProvider"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                                <span class="token string-property property">"createTileMapServiceImageryProvider"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                                    <span class="token string-property property">"url"</span><span class="token operator">:</span> <span class="token constant">XE</span><span class="token punctuation">.</span><span class="token constant">HTML</span><span class="token punctuation">.</span>cesiumDir <span class="token operator">+</span> <span class="token string">'Assets/Textures/NaturalEarthII'</span><span class="token punctuation">,</span>
                                    <span class="token string-property property">"fileExtension"</span><span class="token operator">:</span> <span class="token string">'jpg'</span><span class="token punctuation">,</span>
                                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                                <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"createTileMapServiceImageryProvider"</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 1 XE.ready()会加载Cesium.js等其他资源，注意ready()返回一个Promise对象。</span>
        <span class="token constant">XE</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>startup<span class="token punctuation">)</span><span class="token punctuation">;</span>            
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <p>
     4.在myApp目录下执行命令hs -p 81，从而建议一个本地的http服务。
    </p>
    <p>
     5.打开chrome浏览器，输入http://127.0.0.1:81，即可访问刚才创建的三维App。
    </p>
    <p>
     <strong>
      index.html文件代码讲解
     </strong>
    </p>
    <p>
     1.head节点下需要引入XbsjEarth.js文件。
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./v1.1.0/XbsjEarth/XbsjEarth.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <p>
     XbsjEarth.js内部会自动调用Cesium相关的js和css文件，因此不需要再引入其他Cesium相关的js和css文件。
    </p>
    <p>
     2.body节点下需要增加一个div
    </p>
    <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>earthContainer<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">background</span><span class="token punctuation">:</span> grey</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>
</code></pre>
    <p>
     这个div用来承载三维App。
    </p>
    <p>
     3.创建App
    </p>
    <pre><code class="prism language-python">earth <span class="token operator">=</span> new XE<span class="token punctuation">.</span>Earth<span class="token punctuation">(</span><span class="token string">'earthContainer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     XE.Earth是EarthSDK提供的用来创建三维App的基础类，其参数’earthContainer’实际上是上一个步骤创建的div的id。这样就相当于基于这个div创建了一个三维App。
     <br/>
     4 三维场景的基本配置
    </p>
    <pre><code class="prism language-json">earth<span class="token punctuation">.</span>sceneTree<span class="token punctuation">.</span>root <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">"children"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string-property property">"czmObject"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"默认离线影像"</span><span class="token punctuation">,</span>
                <span class="token string-property property">"xbsjType"</span><span class="token operator">:</span> <span class="token string">"Imagery"</span><span class="token punctuation">,</span>
                <span class="token string-property property">"xbsjImageryProvider"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token string-property property">"createTileMapServiceImageryProvider"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token string-property property">"url"</span><span class="token operator">:</span> <span class="token constant">XE</span><span class="token punctuation">.</span><span class="token constant">HTML</span><span class="token punctuation">.</span>cesiumDir <span class="token operator">+</span> <span class="token string">'Assets/Textures/NaturalEarthII'</span><span class="token punctuation">,</span>
                        <span class="token string-property property">"fileExtension"</span><span class="token operator">:</span> <span class="token string">'jpg'</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"createTileMapServiceImageryProvider"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
    <p>
     通过配置earth.sceneTree.root，来给地球表面贴上一层离线影像。
    </p>
    <p>
     earth.sceneTree代表整个三维App的场景树，这里可以通过简单的JSON配置来达成。这里面只增加了一个CzmObject类型的对象，它的类型xbsjType是Imagery，即影像。
    </p>
    <p>
     前两不创建App和三维场景配置的代码是写在startup这个函数里面的。我们可以通过：
     <br/>
     XE.ready().then(startup);
     <br/>
     来调用startup执行相应地创建操作。
     <br/>
     那么为何需要通过XE.ready()来操作呢。因为XE.ready()函数会自动加载Cesium.js和相关的css文件，当加载完成以后才能进行Cesium的相关操作。
    </p>
    <p>
     XE.ready()的返回值是一个Promise，我们可以通过then回调，等到Promise执行完成以后再执行startup操作。
    </p>
    <h2>
     <a id="4__181">
     </a>
     4 部分代码
    </h2>
    <pre><code class="prism language-json"><span class="token comment">// The Vue build version to load with the `import` command</span>
<span class="token comment">// (runtime-only or standalone) has been set in webpack.base.conf with an alias.</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span>
<span class="token comment">//import ViewUI from 'view-design';</span>
<span class="token comment">//import 'view-design/dist/styles/iview.css';</span>

Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token comment">/* eslint-disable no-new */</span>
<span class="token comment">// XE.ready()用来加载Cesium.js等相关资源</span>

<span class="token constant">XE</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 加载标绘插件</span>
    <span class="token keyword">return</span> <span class="token constant">XE</span><span class="token punctuation">.</span><span class="token constant">HTML</span><span class="token punctuation">.</span><span class="token function">loadJS</span><span class="token punctuation">(</span><span class="token string">'../static/XbsjEarth-Plugins/plottingSymbol/plottingSymbol.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 加载标绘插件</span>
    <span class="token keyword">return</span> <span class="token constant">XE</span><span class="token punctuation">.</span><span class="token constant">HTML</span><span class="token punctuation">.</span><span class="token function">loadJS</span><span class="token punctuation">(</span><span class="token string">'../static/XbsjEarth-Plugins/customPrimitive/customPrimitive.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// vtxf g_app赋值，方便调试</span>
    window<span class="token punctuation">.</span>g_app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        router<span class="token punctuation">,</span>
        <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">currentArea</span><span class="token operator">:</span> <span class="token string">'china'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">mousemoveArea</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
                <span class="token comment">//修改 currentDay 为 currentTime 表示整形，DataServer的所有数据查询接口 具有 ut 参数，表示查询的截至时间, 为0 表示取最新值</span>
                <span class="token literal-property property">currentTime</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token literal-property property">intervalID</span><span class="token operator">:</span> <span class="token keyword">undefined</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            App
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'&lt;App/&gt;'</span><span class="token punctuation">,</span>
        <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">startGlobeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">startGlobeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>currentTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>intervalID<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">var</span> self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>intervalID <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                        self<span class="token punctuation">.</span>currentTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'globe update'</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>currentTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">60000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function">stopGlobeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>intervalID<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>intervalID<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>intervalID <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
    <pre><code class="prism language-python"><span class="token operator">&lt;</span>!DOCTYPE html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"zh-CN"</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">"viewport"</span> content<span class="token operator">=</span><span class="token string">"width=device-width, initial-scale=1.0"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">"X-UA-Compatible"</span> content<span class="token operator">=</span><span class="token string">"ie=edge"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">"xbsj-labels"</span> content<span class="token operator">=</span><span class="token string">"Earth起步"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>meta<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>创建地球<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>!<span class="token operator">-</span><span class="token operator">-</span> 强制提前加载Cesium<span class="token punctuation">.</span>js，其中Cesium相关路径可以换成自定义的 <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>!<span class="token operator">-</span><span class="token operator">-</span> <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"../../XbsjCesium/Cesium.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>!<span class="token operator">-</span><span class="token operator">-</span> <span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string">"stylesheet"</span> href<span class="token operator">=</span><span class="token string">"../../XbsjCesium/Widgets/Widgets.css"</span><span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>!<span class="token operator">-</span><span class="token operator">-</span> <span class="token number">0</span> 引入js文件 <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"../../XbsjCesium/Cesium.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string">"stylesheet"</span> href<span class="token operator">=</span><span class="token string">"../../XbsjCesium/Widgets/widgets.css"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"../../XbsjEarth/XbsjEarth.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
        html<span class="token punctuation">,</span>
        body <span class="token punctuation">{<!-- --></span>
            width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
            height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
            margin<span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
            padding<span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token builtin">id</span><span class="token operator">=</span><span class="token string">"earthContainer"</span> style<span class="token operator">=</span><span class="token string">"width: 100%; height: 100%; background: grey"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
        var earth<span class="token punctuation">;</span>
        var bgImagery<span class="token punctuation">;</span>

        function startup<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token operator">//</span> earth <span class="token operator">=</span> new XE<span class="token punctuation">.</span>Earth<span class="token punctuation">(</span><span class="token string">'earthContainer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            earth <span class="token operator">=</span> new XE<span class="token punctuation">.</span>Earth<span class="token punctuation">(</span><span class="token string">'earthContainer'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
                <span class="token operator">//</span> 这里设置Viewer的配置，和new Viewer<span class="token punctuation">(</span>container<span class="token punctuation">,</span> options<span class="token punctuation">)</span>中的options一致
                homeButton<span class="token punctuation">:</span> true<span class="token punctuation">,</span>
                timeline<span class="token punctuation">:</span> true<span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            earth<span class="token punctuation">.</span>sceneTree<span class="token punctuation">.</span>root <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string">"children"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{<!-- --></span>
                        <span class="token string">"czmObject"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
                            <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"默认离线影像"</span><span class="token punctuation">,</span>
                            <span class="token string">"xbsjType"</span><span class="token punctuation">:</span> <span class="token string">"Imagery"</span><span class="token punctuation">,</span>
                            <span class="token string">"xbsjImageryProvider"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
                                <span class="token string">"createTileMapServiceImageryProvider"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
                                    <span class="token string">"url"</span><span class="token punctuation">:</span> XE<span class="token punctuation">.</span>HTML<span class="token punctuation">.</span>cesiumDir <span class="token operator">+</span> <span class="token string">'Assets/Textures/NaturalEarthII'</span><span class="token punctuation">,</span>
                                    <span class="token string">"fileExtension"</span><span class="token punctuation">:</span> <span class="token string">'jpg'</span><span class="token punctuation">,</span>
                                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                                <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"createTileMapServiceImageryProvider"</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token operator">//</span> <span class="token number">1</span> XE<span class="token punctuation">.</span>ready<span class="token punctuation">(</span><span class="token punctuation">)</span>会加载Cesium<span class="token punctuation">.</span>js等其他资源，注意ready<span class="token punctuation">(</span><span class="token punctuation">)</span>返回一个Promise对象。
        XE<span class="token punctuation">.</span>ready<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>then<span class="token punctuation">(</span>startup<span class="token punctuation">)</span><span class="token punctuation">;</span>            
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre>
    <h2>
     <a id="5__321">
     </a>
     5 最后
    </h2>
   </div>
   <link href="../../assets/css/markdown_views-a5d25dd831.css" rel="stylesheet"/>
   <link href="../../assets/css/style-e504d6a974.css" rel="stylesheet"/>
  </div>
  <div class="blog-extension-box" id="blogExtensionBox" style="width:400px;margin:auto;margin-top:12px">
  </div>
 </article>
</div>


